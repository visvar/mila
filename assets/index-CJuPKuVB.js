var Aj=Object.defineProperty;var Y_=e=>{throw TypeError(e)};var yj=(e,t,i)=>t in e?Aj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var In=(e,t,i)=>yj(e,typeof t!="symbol"?t+"":t,i),Z_=(e,t,i)=>t.has(e)||Y_("Cannot "+i);var je=(e,t,i)=>(Z_(e,t,"read from private field"),i?i.call(e):t.get(e)),Ln=(e,t,i)=>t.has(e)?Y_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),En=(e,t,i,n)=>(Z_(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i);var tE=(e,t,i,n)=>({set _(a){En(e,t,a,i)},get _(){return je(e,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=i(a);fetch(a.href,s)}})();function Fe(){}const WI=e=>e;function vj(e,t){for(const i in t)e[i]=t[i];return e}function qI(e){return e()}function eE(){return Object.create(null)}function ar(e){e.forEach(qI)}function V0(e){return typeof e=="function"}function Ji(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function bj(e){return Object.keys(e).length===0}function G2(e,t,i,n){if(e){const a=KI(e,t,i,n);return e[0](a)}}function KI(e,t,i,n){return e[1]&&n?vj(i.ctx.slice(),e[1](n(t))):i.ctx}function V2(e,t,i,n){if(e[2]&&n){const a=e[2](n(i));if(t.dirty===void 0)return a;if(typeof a=="object"){const s=[],l=Math.max(t.dirty.length,a.length);for(let c=0;c<l;c+=1)s[c]=t.dirty[c]|a[c];return s}return t.dirty|a}return t.dirty}function H2(e,t,i,n,a,s){if(a){const l=KI(t,i,n,s);e.p(l,a)}}function Q2(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let n=0;n<i;n++)t[n]=-1;return t}return-1}const XI=typeof window<"u";let Cj=XI?()=>window.performance.now():()=>Date.now(),PA=XI?e=>requestAnimationFrame(e):Fe;const Mh=new Set;function YI(e){Mh.forEach(t=>{t.c(e)||(Mh.delete(t),t.f())}),Mh.size!==0&&PA(YI)}function _j(e){let t;return Mh.size===0&&PA(YI),{promise:new Promise(i=>{Mh.add(t={c:e,f:i})}),abort(){Mh.delete(t)}}}const Ej=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function R(e,t){e.appendChild(t)}function ZI(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function wj(e){const t=K("style");return t.textContent="/* empty */",Oj(ZI(e),t),t.sheet}function Oj(e,t){return R(e.head||e,t),t.sheet}function _t(e,t,i){e.insertBefore(t,i||null)}function Ct(e){e.parentNode&&e.parentNode.removeChild(e)}function Oi(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function K(e){return document.createElement(e)}function vo(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function se(e){return document.createTextNode(e)}function Y(){return se(" ")}function kr(){return se("")}function Qe(e,t,i,n){return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)}function ut(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function tn(e,t,i){const n=t.toLowerCase();n in e?e[n]=typeof e[n]=="boolean"&&i===""?!0:i:t in e?e[t]=typeof e[t]=="boolean"&&i===""?!0:i:ut(e,t,i)}function S9(e){return e===""?null:+e}function xj(e){return Array.from(e.childNodes)}function Ue(e,t){t=""+t,e.data!==t&&(e.data=t)}function Vi(e,t){e.value=t??""}function un(e,t,i,n){i==null?e.style.removeProperty(t):e.style.setProperty(t,i,"")}function E9(e,t,i){for(let n=0;n<e.options.length;n+=1){const a=e.options[n];if(a.__value===t){a.selected=!0;return}}(!i||t!==void 0)&&(e.selectedIndex=-1)}function xl(e){const t=e.querySelector(":checked");return t&&t.__value}function Sj(e,t,{bubbles:i=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:i,cancelable:n})}function fp(e,t){return new e(t)}const mp=new Map;let pp=0;function Tj(e){let t=5381,i=e.length;for(;i--;)t=(t<<5)-t^e.charCodeAt(i);return t>>>0}function Ij(e,t){const i={stylesheet:wj(t),rules:{}};return mp.set(e,i),i}function iE(e,t,i,n,a,s,l,c=0){const d=16.666/n;let u=`{
`;for(let b=0;b<=1;b+=d){const v=t+(i-t)*s(b);u+=b*100+`%{${l(v,1-v)}}
`}const h=u+`100% {${l(i,1-i)}}
}`,g=`__svelte_${Tj(h)}_${c}`,m=ZI(e),{stylesheet:M,rules:p}=mp.get(m)||Ij(m,e);p[g]||(p[g]=!0,M.insertRule(`@keyframes ${g} ${h}`,M.cssRules.length));const A=e.style.animation||"";return e.style.animation=`${A?`${A}, `:""}${g} ${n}ms linear ${a}ms 1 both`,pp+=1,g}function Bj(e,t){const i=(e.style.animation||"").split(", "),n=i.filter(t?s=>s.indexOf(t)<0:s=>s.indexOf("__svelte")===-1),a=i.length-n.length;a&&(e.style.animation=n.join(", "),pp-=a,pp||Rj())}function Rj(){PA(()=>{pp||(mp.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&Ct(t)}),mp.clear())})}let n2;function H1(e){n2=e}function tB(){if(!n2)throw new Error("Function called outside component initialization");return n2}function sr(e){tB().$$.on_mount.push(e)}function or(e){tB().$$.on_destroy.push(e)}const sh=[],me=[];let Ah=[];const nM=[],Dj=Promise.resolve();let rM=!1;function Pj(){rM||(rM=!0,Dj.then(eB))}function xs(e){Ah.push(e)}function Se(e){nM.push(e)}const q7=new Set;let eh=0;function eB(){if(eh!==0)return;const e=n2;do{try{for(;eh<sh.length;){const t=sh[eh];eh++,H1(t),Lj(t.$$)}}catch(t){throw sh.length=0,eh=0,t}for(H1(null),sh.length=0,eh=0;me.length;)me.pop()();for(let t=0;t<Ah.length;t+=1){const i=Ah[t];q7.has(i)||(q7.add(i),i())}Ah.length=0}while(sh.length);for(;nM.length;)nM.pop()();rM=!1,q7.clear(),H1(e)}function Lj(e){if(e.fragment!==null){e.update(),ar(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(xs)}}function kj(e){const t=[],i=[];Ah.forEach(n=>e.indexOf(n)===-1?t.push(n):i.push(n)),i.forEach(n=>n()),Ah=t}let p1;function Nj(){return p1||(p1=Promise.resolve(),p1.then(()=>{p1=null})),p1}function K7(e,t,i){e.dispatchEvent(Sj(`${t?"intro":"outro"}${i}`))}const X4=new Set;let Ml;function W0(){Ml={r:0,c:[],p:Ml}}function q0(){Ml.r||ar(Ml.c),Ml=Ml.p}function Bt(e,t){e&&e.i&&(X4.delete(e),e.i(t))}function Rt(e,t,i,n){if(e&&e.o){if(X4.has(e))return;X4.add(e),Ml.c.push(()=>{X4.delete(e),n&&(i&&e.d(1),n())}),e.o(t)}else n&&n()}const Fj={duration:0};function nE(e,t,i,n){let s=t(e,i,{direction:"both"}),l=n?0:1,c=null,d=null,u=null,h;function g(){u&&Bj(e,u)}function m(p,A){const b=p.b-l;return A*=Math.abs(b),{a:l,b:p.b,d:b,duration:A,start:p.start,end:p.start+A,group:p.group}}function M(p){const{delay:A=0,duration:b=300,easing:v=WI,tick:E=Fe,css:x}=s||Fj,_={start:Cj()+A,b:p};p||(_.group=Ml,Ml.r+=1),"inert"in e&&(p?h!==void 0&&(e.inert=h):(h=e.inert,e.inert=!0)),c||d?d=_:(x&&(g(),u=iE(e,l,p,b,A,v,x)),p&&E(0,1),c=m(_,b),xs(()=>K7(e,p,"start")),_j(C=>{if(d&&C>d.start&&(c=m(d,b),d=null,K7(e,c.b,"start"),x&&(g(),u=iE(e,l,c.b,c.duration,0,v,s.css))),c){if(C>=c.end)E(l=c.b,1-l),K7(e,c.b,"end"),d||(c.b?g():--c.group.r||ar(c.group.c)),c=null;else if(C>=c.start){const O=C-c.start;l=c.a+c.d*v(O/c.duration),E(l,1-l)}}return!!(c||d)}))}return{run(p){V0(s)?Nj().then(()=>{s=s({direction:p?"in":"out"}),M(p)}):M(p)},end(){g(),c=d=null}}}function Ge(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function iB(e,t){Rt(e,1,1,()=>{t.delete(e.key)})}function nB(e,t,i,n,a,s,l,c,d,u,h,g){let m=e.length,M=s.length,p=m;const A={};for(;p--;)A[e[p].key]=p;const b=[],v=new Map,E=new Map,x=[];for(p=M;p--;){const I=g(a,s,p),T=i(I);let D=l.get(T);D?x.push(()=>D.p(I,t)):(D=u(T,I),D.c()),v.set(T,b[p]=D),T in A&&E.set(T,Math.abs(p-A[T]))}const _=new Set,C=new Set;function O(I){Bt(I,1),I.m(c,h),l.set(I.key,I),h=I.first,M--}for(;m&&M;){const I=b[M-1],T=e[m-1],D=I.key,P=T.key;I===T?(h=I.first,m--,M--):v.has(P)?!l.has(D)||_.has(D)?O(I):C.has(P)?m--:E.get(D)>E.get(P)?(C.add(D),O(I)):(_.add(P),m--):(d(T,l),m--)}for(;m--;){const I=e[m];v.has(I.key)||d(I,l)}for(;M;)O(b[M-1]);return ar(x),b}function Te(e,t,i){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=i,i(e.$$.ctx[n]))}function Ut(e){e&&e.c()}function Nt(e,t,i){const{fragment:n,after_update:a}=e.$$;n&&n.m(t,i),xs(()=>{const s=e.$$.on_mount.map(qI).filter(V0);e.$$.on_destroy?e.$$.on_destroy.push(...s):ar(s),e.$$.on_mount=[]}),a.forEach(xs)}function Ft(e,t){const i=e.$$;i.fragment!==null&&(kj(i.after_update),ar(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function Uj(e,t){e.$$.dirty[0]===-1&&(sh.push(e),Pj(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Wi(e,t,i,n,a,s,l=null,c=[-1]){const d=n2;H1(e);const u=e.$$={fragment:null,ctx:[],props:s,update:Fe,not_equal:a,bound:eE(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:eE(),dirty:c,skip_bound:!1,root:t.target||d.$$.root};l&&l(u.root);let h=!1;if(u.ctx=i?i(e,t.props||{},(g,m,...M)=>{const p=M.length?M[0]:m;return u.ctx&&a(u.ctx[g],u.ctx[g]=p)&&(!u.skip_bound&&u.bound[g]&&u.bound[g](p),h&&Uj(e,g)),m}):[],u.update(),h=!0,ar(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const g=xj(t.target);u.fragment&&u.fragment.l(g),g.forEach(Ct)}else u.fragment&&u.fragment.c();t.intro&&Bt(e.$$.fragment),Nt(e,t.target,t.anchor),eB()}H1(d)}class qi{constructor(){In(this,"$$");In(this,"$$set")}$destroy(){Ft(this,1),this.$destroy=Fe}$on(t,i){if(!V0(i))return Fe;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(i),()=>{const a=n.indexOf(i);a!==-1&&n.splice(a,1)}}$set(t){this.$$set&&!bj(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const $j="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add($j);const E8="0.20.0";function Ru(e,t,i){const n=new URLSearchParams(e.location.search);n.set(t,i);const a=`${e.location.protocol}//${e.location.host}${e.location.pathname}?${n.toString()}`;e.history.pushState({path:a},"",a)}function rB(e,t){return new URLSearchParams(e.location.search).get(t)}function N9(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function z2(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function w8(e){let t,i,n;e.length!==2?(t=N9,i=(c,d)=>N9(e(c),d),n=(c,d)=>e(c)-d):(t=e===N9||e===z2?e:Gj,i=e,n=e);function a(c,d,u=0,h=c.length){if(u<h){if(t(d,d)!==0)return h;do{const g=u+h>>>1;i(c[g],d)<0?u=g+1:h=g}while(u<h)}return u}function s(c,d,u=0,h=c.length){if(u<h){if(t(d,d)!==0)return h;do{const g=u+h>>>1;i(c[g],d)<=0?u=g+1:h=g}while(u<h)}return u}function l(c,d,u=0,h=c.length){const g=a(c,d,u,h-1);return g>u&&n(c[g-1],d)>-n(c[g],d)?g-1:g}return{left:a,center:l,right:s}}function Gj(){return 0}function aB(e){return e===null?NaN:+e}function*Vj(e,t){if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(n=+n)>=n&&(yield n)}}const Hj=w8(N9),j2=Hj.right;w8(aB).center;function O8(e,t){let i=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++i;else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(a=+a)>=a&&++i}return i}function Qj(e){return e.length|0}function zj(e){return!(e>0)}function jj(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Jj(e){return t=>e(...t)}function Wj(...e){const t=typeof e[e.length-1]=="function"&&Jj(e.pop());e=e.map(jj);const i=e.map(Qj),n=e.length-1,a=new Array(n+1).fill(0),s=[];if(n<0||i.some(zj))return s;for(;;){s.push(a.map((c,d)=>e[d][c]));let l=n;for(;++a[l]===i[l];){if(l===0)return t?s.map(t):s;a[l--]=0}}}function qj(e,t){var i=0;return Float64Array.from(e,n=>i+=+n||0)}function LA(e,t){let i=0,n,a=0,s=0;if(t===void 0)for(let l of e)l!=null&&(l=+l)>=l&&(n=l-a,a+=n/++i,s+=n*(l-a));else{let l=-1;for(let c of e)(c=t(c,++l,e))!=null&&(c=+c)>=c&&(n=c-a,a+=n/++i,s+=n*(c-a))}if(i>1)return s/(i-1)}function kA(e,t){const i=LA(e,t);return i&&Math.sqrt(i)}function Ua(e,t){let i,n;if(t===void 0)for(const a of e)a!=null&&(i===void 0?a>=a&&(i=n=a):(i>a&&(i=a),n<a&&(n=a)));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(i===void 0?s>=s&&(i=n=s):(i>s&&(i=s),n<s&&(n=s)))}return[i,n]}class Zu{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let n=0;for(let a=0;a<this._n&&a<32;a++){const s=i[a],l=t+s,c=Math.abs(t)<Math.abs(s)?t-(l-s):s-(l-t);c&&(i[n++]=c),t=l}return i[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let i=this._n,n,a,s,l=0;if(i>0){for(l=t[--i];i>0&&(n=l,a=t[--i],l=n+a,s=a-(l-n),!s););i>0&&(s<0&&t[i-1]<0||s>0&&t[i-1]>0)&&(a=s*2,n=l+a,a==n-l&&(l=n))}return l}}class td extends Map{constructor(t,i=lB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(aM(this,t))}has(t){return super.has(aM(this,t))}set(t,i){return super.set(sB(this,t),i)}delete(t){return super.delete(oB(this,t))}}class J2 extends Set{constructor(t,i=lB){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(aM(this,t))}add(t){return super.add(sB(this,t))}delete(t){return super.delete(oB(this,t))}}function aM({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):i}function sB({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):(e.set(n,i),i)}function oB({_intern:e,_key:t},i){const n=t(i);return e.has(n)&&(i=e.get(n),e.delete(n)),i}function lB(e){return e!==null&&typeof e=="object"?e.valueOf():e}function r2(e){return e}function W2(e,...t){return x8(e,r2,r2,t)}function Sl(e,...t){return x8(e,Array.from,r2,t)}function yh(e,t,...i){return x8(e,r2,t,i)}function Kj(e,t,...i){return x8(e,Array.from,t,i)}function x8(e,t,i,n){return function a(s,l){if(l>=n.length)return i(s);const c=new td,d=n[l++];let u=-1;for(const h of s){const g=d(h,++u,s),m=c.get(g);m?m.push(h):c.set(g,[h])}for(const[h,g]of c)c.set(h,a(g,l));return t(c)}(e,0)}function Xj(e,t){return Array.from(t,i=>e[i])}function gp(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[i]=t;if(i&&i.length!==2||t.length>1){const n=Uint32Array.from(e,(a,s)=>s);return t.length>1?(t=t.map(a=>e.map(a)),n.sort((a,s)=>{for(const l of t){const c=a2(l[a],l[s]);if(c)return c}})):(i=e.map(i),n.sort((a,s)=>a2(i[a],i[s]))),Xj(e,n)}return e.sort(NA(i))}function NA(e=N9){if(e===N9)return a2;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,i)=>{const n=e(t,i);return n||n===0?n:(e(i,i)===0)-(e(t,t)===0)}}function a2(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function FA(e,t,i){return(t.length!==2?gp(yh(e,t,i),([n,a],[s,l])=>N9(a,l)||N9(n,s)):gp(W2(e,i),([n,a],[s,l])=>t(a,l)||N9(n,s))).map(([n])=>n)}var Yj=Array.prototype,Zj=Yj.slice;function X7(e){return()=>e}const tJ=Math.sqrt(50),eJ=Math.sqrt(10),iJ=Math.sqrt(2);function Mp(e,t,i){const n=(t-e)/Math.max(0,i),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),l=s>=tJ?10:s>=eJ?5:s>=iJ?2:1;let c,d,u;return a<0?(u=Math.pow(10,-a)/l,c=Math.round(e*u),d=Math.round(t*u),c/u<e&&++c,d/u>t&&--d,u=-u):(u=Math.pow(10,a)*l,c=Math.round(e/u),d=Math.round(t/u),c*u<e&&++c,d*u>t&&--d),d<c&&.5<=i&&i<2?Mp(e,t,i*2):[c,d,u]}function Nh(e,t,i){if(t=+t,e=+e,i=+i,!(i>0))return[];if(e===t)return[e];const n=t<e,[a,s,l]=n?Mp(t,e,i):Mp(e,t,i);if(!(s>=a))return[];const c=s-a+1,d=new Array(c);if(n)if(l<0)for(let u=0;u<c;++u)d[u]=(s-u)/-l;else for(let u=0;u<c;++u)d[u]=(s-u)*l;else if(l<0)for(let u=0;u<c;++u)d[u]=(a+u)/-l;else for(let u=0;u<c;++u)d[u]=(a+u)*l;return d}function ed(e,t,i){return t=+t,e=+e,i=+i,Mp(e,t,i)[2]}function sM(e,t,i){t=+t,e=+e,i=+i;const n=t<e,a=n?ed(t,e,i):ed(e,t,i);return(n?-1:1)*(a<0?1/-a:a)}function nJ(e,t,i){let n;for(;;){const a=ed(e,t,i);if(a===n||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),n=a}}function cB(e){return Math.max(1,Math.ceil(Math.log(O8(e))/Math.LN2)+1)}function Ap(){var e=r2,t=Ua,i=cB;function n(a){Array.isArray(a)||(a=Array.from(a));var s,l=a.length,c,d,u=new Array(l);for(s=0;s<l;++s)u[s]=e(a[s],s,a);var h=t(u),g=h[0],m=h[1],M=i(u,g,m);if(!Array.isArray(M)){const x=m,_=+M;if(t===Ua&&([g,m]=nJ(g,m,_)),M=Nh(g,m,_),M[0]<=g&&(d=ed(g,m,_)),M[M.length-1]>=m)if(x>=m&&t===Ua){const C=ed(g,m,_);isFinite(C)&&(C>0?m=(Math.floor(m/C)+1)*C:C<0&&(m=(Math.ceil(m*-C)+1)/-C))}else M.pop()}for(var p=M.length,A=0,b=p;M[A]<=g;)++A;for(;M[b-1]>m;)--b;(A||b<p)&&(M=M.slice(A,b),p=b-A);var v=new Array(p+1),E;for(s=0;s<=p;++s)E=v[s]=[],E.x0=s>0?M[s-1]:g,E.x1=s<p?M[s]:m;if(isFinite(d)){if(d>0)for(s=0;s<l;++s)(c=u[s])!=null&&g<=c&&c<=m&&v[Math.min(p,Math.floor((c-g)/d))].push(a[s]);else if(d<0){for(s=0;s<l;++s)if((c=u[s])!=null&&g<=c&&c<=m){const x=Math.floor((g-c)*d);v[Math.min(p,x+(M[x]<=c))].push(a[s])}}}else for(s=0;s<l;++s)(c=u[s])!=null&&g<=c&&c<=m&&v[j2(M,c,0,p)].push(a[s]);return v}return n.value=function(a){return arguments.length?(e=typeof a=="function"?a:X7(a),n):e},n.domain=function(a){return arguments.length?(t=typeof a=="function"?a:X7([a[0],a[1]]),n):t},n.thresholds=function(a){return arguments.length?(i=typeof a=="function"?a:X7(Array.isArray(a)?Zj.call(a):a),n):i},n}function Ca(e,t){let i;if(t===void 0)for(const n of e)n!=null&&(i<n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(i<a||i===void 0&&a>=a)&&(i=a)}return i}function UA(e,t){let i,n=-1,a=-1;if(t===void 0)for(const s of e)++a,s!=null&&(i<s||i===void 0&&s>=s)&&(i=s,n=a);else for(let s of e)(s=t(s,++a,e))!=null&&(i<s||i===void 0&&s>=s)&&(i=s,n=a);return n}function Y9(e,t){let i;if(t===void 0)for(const n of e)n!=null&&(i>n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(i>a||i===void 0&&a>=a)&&(i=a)}return i}function xc(e,t){let i,n=-1,a=-1;if(t===void 0)for(const s of e)++a,s!=null&&(i>s||i===void 0&&s>=s)&&(i=s,n=a);else for(let s of e)(s=t(s,++a,e))!=null&&(i>s||i===void 0&&s>=s)&&(i=s,n=a);return n}function uB(e,t,i=0,n=1/0,a){if(t=Math.floor(t),i=Math.floor(Math.max(0,i)),n=Math.floor(Math.min(e.length-1,n)),!(i<=t&&t<=n))return e;for(a=a===void 0?a2:NA(a);n>i;){if(n-i>600){const d=n-i+1,u=t-i+1,h=Math.log(d),g=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*g*(d-g)/d)*(u-d/2<0?-1:1),M=Math.max(i,Math.floor(t-u*g/d+m)),p=Math.min(n,Math.floor(t+(d-u)*g/d+m));uB(e,t,M,p,a)}const s=e[t];let l=i,c=n;for(g1(e,i,t),a(e[n],s)>0&&g1(e,i,n);l<c;){for(g1(e,l,c),++l,--c;a(e[l],s)<0;)++l;for(;a(e[c],s)>0;)--c}a(e[i],s)===0?g1(e,i,c):(++c,g1(e,c,n)),c<=t&&(i=c+1),t<=c&&(n=c-1)}return e}function g1(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}function dB(e,t=N9){let i,n=!1;if(t.length===1){let a;for(const s of e){const l=t(s);(n?N9(l,a)>0:N9(l,l)===0)&&(i=s,a=l,n=!0)}}else for(const a of e)(n?t(a,i)>0:t(a,a)===0)&&(i=a,n=!0);return i}function Fh(e,t,i){if(e=Float64Array.from(Vj(e,i)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Y9(e);if(t>=1)return Ca(e);var n,a=(n-1)*t,s=Math.floor(a),l=Ca(uB(e,s).subarray(0,s+1)),c=Y9(e.subarray(s+1));return l+(c-l)*(a-s)}}function rJ(e,t,i=aB){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+i(e[0],0,e);if(t>=1)return+i(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),l=+i(e[s],s,e),c=+i(e[s+1],s+1,e);return l+(c-l)*(a-s)}}function aJ(e,t,i){const n=O8(e),a=Fh(e,.75)-Fh(e,.25);return n&&a?Math.ceil((i-t)/(2*a*Math.pow(n,-1/3))):1}function hB(e,t,i){const n=O8(e),a=kA(e);return n&&a?Math.ceil((i-t)*Math.cbrt(n)/(3.49*a)):1}function Bc(e,t){let i=0,n=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++i,n+=a);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(++i,n+=s)}if(i)return n/i}function Uh(e,t){return Fh(e,.5,t)}function*sJ(e){for(const t of e)yield*t}function fB(e){return Array.from(sJ(e))}function S8(e,t){const i=new td;if(t===void 0)for(let s of e)s!=null&&s>=s&&i.set(s,(i.get(s)||0)+1);else{let s=-1;for(let l of e)(l=t(l,++s,e))!=null&&l>=l&&i.set(l,(i.get(l)||0)+1)}let n,a=0;for(const[s,l]of i)l>a&&(a=l,n=s);return n}function oJ(e,t=lJ){const i=[];let n,a=!1;for(const s of e)a&&i.push(t(n,s)),n=s,a=!0;return i}function lJ(e,t){return[e,t]}function Ci(e,t,i){e=+e,t=+t,i=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+i;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/i))|0,s=new Array(a);++n<a;)s[n]=e+n*i;return s}function mB(e,t=N9){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let i=Array.from(e);const n=new Float64Array(i.length);t.length!==2&&(i=i.map(t),t=N9);const a=(c,d)=>t(i[c],i[d]);let s,l;return e=Uint32Array.from(i,(c,d)=>d),e.sort(t===N9?(c,d)=>a2(i[c],i[d]):NA(a)),e.forEach((c,d)=>{const u=a(c,s===void 0?c:s);u>=0?((s===void 0||u>0)&&(s=c,l=d),n[c]=l):n[c]=NaN}),n}function Rc(e,t){let i=0;if(t===void 0)for(let n of e)(n=+n)&&(i+=n);else{let n=-1;for(let a of e)(a=+t(a,++n,e))&&(i+=a)}return i}function yp(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function u0(e,...t){e=new J2(e);for(const i of t)for(const n of i)e.delete(n);return e}function cJ(e){return e}var uJ=3,rE=1e-6;function dJ(e){return"translate("+e+",0)"}function hJ(e){return t=>+e(t)}function fJ(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),i=>+e(i)+t}function mJ(){return!this.__axis}function pJ(e,t){var i=[],n=null,a=null,s=6,l=6,c=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1,h="y",g=dJ;function m(M){var p=n??(t.ticks?t.ticks.apply(t,i):t.domain()),A=a??(t.tickFormat?t.tickFormat.apply(t,i):cJ),b=Math.max(s,0)+c,v=t.range(),E=+v[0]+d,x=+v[v.length-1]+d,_=(t.bandwidth?fJ:hJ)(t.copy(),d),C=M.selection?M.selection():M,O=C.selectAll(".domain").data([null]),I=C.selectAll(".tick").data(p,t).order(),T=I.exit(),D=I.enter().append("g").attr("class","tick"),P=I.select("line"),L=I.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(D),P=P.merge(D.append("line").attr("stroke","currentColor").attr(h+"2",u*s)),L=L.merge(D.append("text").attr("fill","currentColor").attr(h,u*b).attr("dy","0.71em")),M!==C&&(O=O.transition(M),I=I.transition(M),P=P.transition(M),L=L.transition(M),T=T.transition(M).attr("opacity",rE).attr("transform",function(N){return isFinite(N=_(N))?g(N+d):this.getAttribute("transform")}),D.attr("opacity",rE).attr("transform",function(N){var U=this.parentNode.__axis;return g((U&&isFinite(U=U(N))?U:_(N))+d)})),T.remove(),O.attr("d",l?"M"+E+","+u*l+"V"+d+"H"+x+"V"+u*l:"M"+E+","+d+"H"+x),I.attr("opacity",1).attr("transform",function(N){return g(_(N)+d)}),P.attr(h+"2",u*s),L.attr(h,u*b).text(A),C.filter(mJ).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),C.each(function(){this.__axis=_})}return m.scale=function(M){return arguments.length?(t=M,m):t},m.ticks=function(){return i=Array.from(arguments),m},m.tickArguments=function(M){return arguments.length?(i=M==null?[]:Array.from(M),m):i.slice()},m.tickValues=function(M){return arguments.length?(n=M==null?null:Array.from(M),m):n&&n.slice()},m.tickFormat=function(M){return arguments.length?(a=M,m):a},m.tickSize=function(M){return arguments.length?(s=l=+M,m):s},m.tickSizeInner=function(M){return arguments.length?(s=+M,m):s},m.tickSizeOuter=function(M){return arguments.length?(l=+M,m):l},m.tickPadding=function(M){return arguments.length?(c=+M,m):c},m.offset=function(M){return arguments.length?(d=+M,m):d},m}function gJ(e){return pJ(uJ,e)}var MJ={value:()=>{}};function pB(){for(var e=0,t=arguments.length,i={},n;e<t;++e){if(!(n=arguments[e]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new Y4(i)}function Y4(e){this._=e}function AJ(e,t){return e.trim().split(/^|\s+/).map(function(i){var n="",a=i.indexOf(".");if(a>=0&&(n=i.slice(a+1),i=i.slice(0,a)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}Y4.prototype=pB.prototype={constructor:Y4,on:function(e,t){var i=this._,n=AJ(e+"",i),a,s=-1,l=n.length;if(arguments.length<2){for(;++s<l;)if((a=(e=n[s]).type)&&(a=yJ(i[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(a=(e=n[s]).type)i[a]=aE(i[a],e.name,t);else if(t==null)for(a in i)i[a]=aE(i[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new Y4(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var i=new Array(a),n=0,a,s;n<a;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,i)}};function yJ(e,t){for(var i=0,n=e.length,a;i<n;++i)if((a=e[i]).name===t)return a.value}function aE(e,t,i){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=MJ,e=e.slice(0,n).concat(e.slice(n+1));break}return i!=null&&e.push({name:t,value:i}),e}var oM="http://www.w3.org/1999/xhtml";const Dc={svg:"http://www.w3.org/2000/svg",xhtml:oM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function T8(e){var t=e+="",i=t.indexOf(":");return i>=0&&(t=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),Dc.hasOwnProperty(t)?{space:Dc[t],local:e}:e}function vJ(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===oM&&t.documentElement.namespaceURI===oM?t.createElement(e):t.createElementNS(i,e)}}function bJ(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function I8(e){var t=T8(e);return(t.local?bJ:vJ)(t)}function CJ(){}function $A(e){return e==null?CJ:function(){return this.querySelector(e)}}function _J(e){typeof e!="function"&&(e=$A(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var s=t[a],l=s.length,c=n[a]=new Array(l),d,u,h=0;h<l;++h)(d=s[h])&&(u=e.call(d,d.__data__,h,s))&&("__data__"in d&&(u.__data__=d.__data__),c[h]=u);return new Ks(n,this._parents)}function EJ(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function wJ(){return[]}function gB(e){return e==null?wJ:function(){return this.querySelectorAll(e)}}function OJ(e){return function(){return EJ(e.apply(this,arguments))}}function xJ(e){typeof e=="function"?e=OJ(e):e=gB(e);for(var t=this._groups,i=t.length,n=[],a=[],s=0;s<i;++s)for(var l=t[s],c=l.length,d,u=0;u<c;++u)(d=l[u])&&(n.push(e.call(d,d.__data__,u,l)),a.push(d));return new Ks(n,a)}function MB(e){return function(){return this.matches(e)}}function AB(e){return function(t){return t.matches(e)}}var SJ=Array.prototype.find;function TJ(e){return function(){return SJ.call(this.children,e)}}function IJ(){return this.firstElementChild}function BJ(e){return this.select(e==null?IJ:TJ(typeof e=="function"?e:AB(e)))}var RJ=Array.prototype.filter;function DJ(){return Array.from(this.children)}function PJ(e){return function(){return RJ.call(this.children,e)}}function LJ(e){return this.selectAll(e==null?DJ:PJ(typeof e=="function"?e:AB(e)))}function kJ(e){typeof e!="function"&&(e=MB(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var s=t[a],l=s.length,c=n[a]=[],d,u=0;u<l;++u)(d=s[u])&&e.call(d,d.__data__,u,s)&&c.push(d);return new Ks(n,this._parents)}function yB(e){return new Array(e.length)}function NJ(){return new Ks(this._enter||this._groups.map(yB),this._parents)}function vp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}vp.prototype={constructor:vp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function FJ(e){return function(){return e}}function UJ(e,t,i,n,a,s){for(var l=0,c,d=t.length,u=s.length;l<u;++l)(c=t[l])?(c.__data__=s[l],n[l]=c):i[l]=new vp(e,s[l]);for(;l<d;++l)(c=t[l])&&(a[l]=c)}function $J(e,t,i,n,a,s,l){var c,d,u=new Map,h=t.length,g=s.length,m=new Array(h),M;for(c=0;c<h;++c)(d=t[c])&&(m[c]=M=l.call(d,d.__data__,c,t)+"",u.has(M)?a[c]=d:u.set(M,d));for(c=0;c<g;++c)M=l.call(e,s[c],c,s)+"",(d=u.get(M))?(n[c]=d,d.__data__=s[c],u.delete(M)):i[c]=new vp(e,s[c]);for(c=0;c<h;++c)(d=t[c])&&u.get(m[c])===d&&(a[c]=d)}function GJ(e){return e.__data__}function VJ(e,t){if(!arguments.length)return Array.from(this,GJ);var i=t?$J:UJ,n=this._parents,a=this._groups;typeof e!="function"&&(e=FJ(e));for(var s=a.length,l=new Array(s),c=new Array(s),d=new Array(s),u=0;u<s;++u){var h=n[u],g=a[u],m=g.length,M=HJ(e.call(h,h&&h.__data__,u,n)),p=M.length,A=c[u]=new Array(p),b=l[u]=new Array(p),v=d[u]=new Array(m);i(h,g,A,b,v,M,t);for(var E=0,x=0,_,C;E<p;++E)if(_=A[E]){for(E>=x&&(x=E+1);!(C=b[x])&&++x<p;);_._next=C||null}}return l=new Ks(l,n),l._enter=c,l._exit=d,l}function HJ(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QJ(){return new Ks(this._exit||this._groups.map(yB),this._parents)}function zJ(e,t,i){var n=this.enter(),a=this,s=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),i==null?s.remove():i(s),n&&a?n.merge(a).order():a}function jJ(e){for(var t=e.selection?e.selection():e,i=this._groups,n=t._groups,a=i.length,s=n.length,l=Math.min(a,s),c=new Array(a),d=0;d<l;++d)for(var u=i[d],h=n[d],g=u.length,m=c[d]=new Array(g),M,p=0;p<g;++p)(M=u[p]||h[p])&&(m[p]=M);for(;d<a;++d)c[d]=i[d];return new Ks(c,this._parents)}function JJ(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n=e[t],a=n.length-1,s=n[a],l;--a>=0;)(l=n[a])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function WJ(e){e||(e=qJ);function t(g,m){return g&&m?e(g.__data__,m.__data__):!g-!m}for(var i=this._groups,n=i.length,a=new Array(n),s=0;s<n;++s){for(var l=i[s],c=l.length,d=a[s]=new Array(c),u,h=0;h<c;++h)(u=l[h])&&(d[h]=u);d.sort(t)}return new Ks(a,this._parents).order()}function qJ(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function KJ(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function XJ(){return Array.from(this)}function YJ(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var l=n[a];if(l)return l}return null}function ZJ(){let e=0;for(const t of this)++e;return e}function tW(){return!this.node()}function eW(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var a=t[i],s=0,l=a.length,c;s<l;++s)(c=a[s])&&e.call(c,c.__data__,s,a);return this}function iW(e){return function(){this.removeAttribute(e)}}function nW(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rW(e,t){return function(){this.setAttribute(e,t)}}function aW(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function sW(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function oW(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function lW(e,t){var i=T8(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((t==null?i.local?nW:iW:typeof t=="function"?i.local?oW:sW:i.local?aW:rW)(i,t))}function vB(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function cW(e){return function(){this.style.removeProperty(e)}}function uW(e,t,i){return function(){this.style.setProperty(e,t,i)}}function dW(e,t,i){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function hW(e,t,i){return arguments.length>1?this.each((t==null?cW:typeof t=="function"?dW:uW)(e,t,i??"")):$h(this.node(),e)}function $h(e,t){return e.style.getPropertyValue(t)||vB(e).getComputedStyle(e,null).getPropertyValue(t)}function fW(e){return function(){delete this[e]}}function mW(e,t){return function(){this[e]=t}}function pW(e,t){return function(){var i=t.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function gW(e,t){return arguments.length>1?this.each((t==null?fW:typeof t=="function"?pW:mW)(e,t)):this.node()[e]}function bB(e){return e.trim().split(/^|\s+/)}function GA(e){return e.classList||new CB(e)}function CB(e){this._node=e,this._names=bB(e.getAttribute("class")||"")}CB.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function _B(e,t){for(var i=GA(e),n=-1,a=t.length;++n<a;)i.add(t[n])}function EB(e,t){for(var i=GA(e),n=-1,a=t.length;++n<a;)i.remove(t[n])}function MW(e){return function(){_B(this,e)}}function AW(e){return function(){EB(this,e)}}function yW(e,t){return function(){(t.apply(this,arguments)?_B:EB)(this,e)}}function vW(e,t){var i=bB(e+"");if(arguments.length<2){for(var n=GA(this.node()),a=-1,s=i.length;++a<s;)if(!n.contains(i[a]))return!1;return!0}return this.each((typeof t=="function"?yW:t?MW:AW)(i,t))}function bW(){this.textContent=""}function CW(e){return function(){this.textContent=e}}function _W(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function EW(e){return arguments.length?this.each(e==null?bW:(typeof e=="function"?_W:CW)(e)):this.node().textContent}function wW(){this.innerHTML=""}function OW(e){return function(){this.innerHTML=e}}function xW(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function SW(e){return arguments.length?this.each(e==null?wW:(typeof e=="function"?xW:OW)(e)):this.node().innerHTML}function TW(){this.nextSibling&&this.parentNode.appendChild(this)}function IW(){return this.each(TW)}function BW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function RW(){return this.each(BW)}function DW(e){var t=typeof e=="function"?e:I8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function PW(){return null}function LW(e,t){var i=typeof e=="function"?e:I8(e),n=t==null?PW:typeof t=="function"?t:$A(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function kW(){var e=this.parentNode;e&&e.removeChild(this)}function NW(){return this.each(kW)}function FW(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function UW(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $W(e){return this.select(e?UW:FW)}function GW(e){return arguments.length?this.property("__data__",e):this.node().__data__}function VW(e){return function(t){e.call(this,t,this.__data__)}}function HW(e){return e.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");return n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),{type:t,name:i}})}function QW(e){return function(){var t=this.__on;if(t){for(var i=0,n=-1,a=t.length,s;i<a;++i)s=t[i],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function zW(e,t,i){return function(){var n=this.__on,a,s=VW(t);if(n){for(var l=0,c=n.length;l<c;++l)if((a=n[l]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=i),a.value=t;return}}this.addEventListener(e.type,s,i),a={type:e.type,name:e.name,value:t,listener:s,options:i},n?n.push(a):this.__on=[a]}}function jW(e,t,i){var n=HW(e+""),a,s=n.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,u=c.length,h;d<u;++d)for(a=0,h=c[d];a<s;++a)if((l=n[a]).type===h.type&&l.name===h.name)return h.value}return}for(c=t?zW:QW,a=0;a<s;++a)this.each(c(n[a],t,i));return this}function wB(e,t,i){var n=vB(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,i):(a=n.document.createEvent("Event"),i?(a.initEvent(t,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function JW(e,t){return function(){return wB(this,e,t)}}function WW(e,t){return function(){return wB(this,e,t.apply(this,arguments))}}function qW(e,t){return this.each((typeof t=="function"?WW:JW)(e,t))}function*KW(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,s=n.length,l;a<s;++a)(l=n[a])&&(yield l)}var OB=[null];function Ks(e,t){this._groups=e,this._parents=t}function q2(){return new Ks([[document.documentElement]],OB)}function XW(){return this}Ks.prototype=q2.prototype={constructor:Ks,select:_J,selectAll:xJ,selectChild:BJ,selectChildren:LJ,filter:kJ,data:VJ,enter:NJ,exit:QJ,join:zJ,merge:jJ,selection:XW,order:JJ,sort:WJ,call:KJ,nodes:XJ,node:YJ,size:ZJ,empty:tW,each:eW,attr:lW,style:hW,property:gW,classed:vW,text:EW,html:SW,raise:IW,lower:RW,append:DW,insert:LW,remove:NW,clone:$W,datum:GW,on:jW,dispatch:qW,[Symbol.iterator]:KW};function vh(e){return typeof e=="string"?new Ks([[document.querySelector(e)]],[document.documentElement]):new Ks([[e]],OB)}function YW(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ZW(e,t){if(e=YW(e),t===void 0&&(t=e.currentTarget),t){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}function mf(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function K2(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function Qc(){}var id=.7,Gh=1/id,bh="\\s*([+-]?\\d+)\\s*",s2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tq=/^#([0-9a-f]{3,8})$/,eq=new RegExp(`^rgb\\(${bh},${bh},${bh}\\)$`),iq=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),nq=new RegExp(`^rgba\\(${bh},${bh},${bh},${s2}\\)$`),rq=new RegExp(`^rgba\\(${_o},${_o},${_o},${s2}\\)$`),aq=new RegExp(`^hsl\\(${s2},${_o},${_o}\\)$`),sq=new RegExp(`^hsla\\(${s2},${_o},${_o},${s2}\\)$`),sE={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mf(Qc,Pc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oE,formatHex:oE,formatHex8:oq,formatHsl:lq,formatRgb:lE,toString:lE});function oE(){return this.rgb().formatHex()}function oq(){return this.rgb().formatHex8()}function lq(){return xB(this).formatHsl()}function lE(){return this.rgb().formatRgb()}function Pc(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=tq.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?cE(t):i===3?new w9(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?M4(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?M4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eq.exec(e))?new w9(t[1],t[2],t[3],1):(t=iq.exec(e))?new w9(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nq.exec(e))?M4(t[1],t[2],t[3],t[4]):(t=rq.exec(e))?M4(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aq.exec(e))?hE(t[1],t[2]/100,t[3]/100,1):(t=sq.exec(e))?hE(t[1],t[2]/100,t[3]/100,t[4]):sE.hasOwnProperty(e)?cE(sE[e]):e==="transparent"?new w9(NaN,NaN,NaN,0):null}function cE(e){return new w9(e>>16&255,e>>8&255,e&255,1)}function M4(e,t,i,n){return n<=0&&(e=t=i=NaN),new w9(e,t,i,n)}function VA(e){return e instanceof Qc||(e=Pc(e)),e?(e=e.rgb(),new w9(e.r,e.g,e.b,e.opacity)):new w9}function Lc(e,t,i,n){return arguments.length===1?VA(e):new w9(e,t,i,n??1)}function w9(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}mf(w9,Lc,K2(Qc,{brighter(e){return e=e==null?Gh:Math.pow(Gh,e),new w9(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?id:Math.pow(id,e),new w9(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new w9(zu(this.r),zu(this.g),zu(this.b),bp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uE,formatHex:uE,formatHex8:cq,formatRgb:dE,toString:dE}));function uE(){return`#${Lu(this.r)}${Lu(this.g)}${Lu(this.b)}`}function cq(){return`#${Lu(this.r)}${Lu(this.g)}${Lu(this.b)}${Lu((isNaN(this.opacity)?1:this.opacity)*255)}`}function dE(){const e=bp(this.opacity);return`${e===1?"rgb(":"rgba("}${zu(this.r)}, ${zu(this.g)}, ${zu(this.b)}${e===1?")":`, ${e})`}`}function bp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lu(e){return e=zu(e),(e<16?"0":"")+e.toString(16)}function hE(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new N0(e,t,i,n)}function xB(e){if(e instanceof N0)return new N0(e.h,e.s,e.l,e.opacity);if(e instanceof Qc||(e=Pc(e)),!e)return new N0;if(e instanceof N0)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,a=Math.min(t,i,n),s=Math.max(t,i,n),l=NaN,c=s-a,d=(s+a)/2;return c?(t===s?l=(i-n)/c+(i<n)*6:i===s?l=(n-t)/c+2:l=(t-i)/c+4,c/=d<.5?s+a:2-s-a,l*=60):c=d>0&&d<1?0:l,new N0(l,c,d,e.opacity)}function lM(e,t,i,n){return arguments.length===1?xB(e):new N0(e,t,i,n??1)}function N0(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}mf(N0,lM,K2(Qc,{brighter(e){return e=e==null?Gh:Math.pow(Gh,e),new N0(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?id:Math.pow(id,e),new N0(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,a=2*i-n;return new w9(Y7(e>=240?e-240:e+120,a,n),Y7(e,a,n),Y7(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new N0(fE(this.h),A4(this.s),A4(this.l),bp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bp(this.opacity);return`${e===1?"hsl(":"hsla("}${fE(this.h)}, ${A4(this.s)*100}%, ${A4(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fE(e){return e=(e||0)%360,e<0?e+360:e}function A4(e){return Math.max(0,Math.min(1,e||0))}function Y7(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const SB=Math.PI/180,TB=180/Math.PI,Cp=18,IB=.96422,BB=1,RB=.82521,DB=4/29,Ch=6/29,PB=3*Ch*Ch,uq=Ch*Ch*Ch;function LB(e){if(e instanceof Eo)return new Eo(e.l,e.a,e.b,e.opacity);if(e instanceof Al)return kB(e);e instanceof w9||(e=VA(e));var t=ig(e.r),i=ig(e.g),n=ig(e.b),a=Z7((.2225045*t+.7168786*i+.0606169*n)/BB),s,l;return t===i&&i===n?s=l=a:(s=Z7((.4360747*t+.3850649*i+.1430804*n)/IB),l=Z7((.0139322*t+.0971045*i+.7141733*n)/RB)),new Eo(116*a-16,500*(s-a),200*(a-l),e.opacity)}function cM(e,t,i,n){return arguments.length===1?LB(e):new Eo(e,t,i,n??1)}function Eo(e,t,i,n){this.l=+e,this.a=+t,this.b=+i,this.opacity=+n}mf(Eo,cM,K2(Qc,{brighter(e){return new Eo(this.l+Cp*(e??1),this.a,this.b,this.opacity)},darker(e){return new Eo(this.l-Cp*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,i=isNaN(this.b)?e:e-this.b/200;return t=IB*tg(t),e=BB*tg(e),i=RB*tg(i),new w9(eg(3.1338561*t-1.6168667*e-.4906146*i),eg(-.9787684*t+1.9161415*e+.033454*i),eg(.0719453*t-.2289914*e+1.4052427*i),this.opacity)}}));function Z7(e){return e>uq?Math.pow(e,1/3):e/PB+DB}function tg(e){return e>Ch?e*e*e:PB*(e-DB)}function eg(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ig(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function dq(e){if(e instanceof Al)return new Al(e.h,e.c,e.l,e.opacity);if(e instanceof Eo||(e=LB(e)),e.a===0&&e.b===0)return new Al(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*TB;return new Al(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function uM(e,t,i,n){return arguments.length===1?dq(e):new Al(e,t,i,n??1)}function Al(e,t,i,n){this.h=+e,this.c=+t,this.l=+i,this.opacity=+n}function kB(e){if(isNaN(e.h))return new Eo(e.l,0,0,e.opacity);var t=e.h*SB;return new Eo(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}mf(Al,uM,K2(Qc,{brighter(e){return new Al(this.h,this.c,this.l+Cp*(e??1),this.opacity)},darker(e){return new Al(this.h,this.c,this.l-Cp*(e??1),this.opacity)},rgb(){return kB(this).rgb()}}));var NB=-.14861,HA=1.78277,QA=-.29227,B8=-.90649,o2=1.97294,mE=o2*B8,pE=o2*HA,gE=HA*QA-B8*NB;function hq(e){if(e instanceof ju)return new ju(e.h,e.s,e.l,e.opacity);e instanceof w9||(e=VA(e));var t=e.r/255,i=e.g/255,n=e.b/255,a=(gE*n+mE*t-pE*i)/(gE+mE-pE),s=n-a,l=(o2*(i-a)-QA*s)/B8,c=Math.sqrt(l*l+s*s)/(o2*a*(1-a)),d=c?Math.atan2(l,s)*TB-120:NaN;return new ju(d<0?d+360:d,c,a,e.opacity)}function Oo(e,t,i,n){return arguments.length===1?hq(e):new ju(e,t,i,n??1)}function ju(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}mf(ju,Oo,K2(Qc,{brighter(e){return e=e==null?Gh:Math.pow(Gh,e),new ju(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?id:Math.pow(id,e),new ju(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*SB,t=+this.l,i=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new w9(255*(t+i*(NB*n+HA*a)),255*(t+i*(QA*n+B8*a)),255*(t+i*(o2*n)),this.opacity)}}));function fq(e,t,i,n,a){var s=e*e,l=s*e;return((1-3*e+3*s-l)*t+(4-6*s+3*l)*i+(1+3*e+3*s-3*l)*n+l*a)/6}function mq(e){var t=e.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),a=e[n],s=e[n+1],l=n>0?e[n-1]:2*a-s,c=n<t-1?e[n+2]:2*s-a;return fq((i-n/t)*t,l,a,s,c)}}const R8=e=>()=>e;function FB(e,t){return function(i){return e+i*t}}function pq(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function zA(e,t){var i=t-e;return i?FB(e,i>180||i<-180?i-360*Math.round(i/360):i):R8(isNaN(e)?t:e)}function gq(e){return(e=+e)==1?W9:function(t,i){return i-t?pq(t,i,e):R8(isNaN(t)?i:t)}}function W9(e,t){var i=t-e;return i?FB(e,i):R8(isNaN(e)?t:e)}const nd=function e(t){var i=gq(t);function n(a,s){var l=i((a=Lc(a)).r,(s=Lc(s)).r),c=i(a.g,s.g),d=i(a.b,s.b),u=W9(a.opacity,s.opacity);return function(h){return a.r=l(h),a.g=c(h),a.b=d(h),a.opacity=u(h),a+""}}return n.gamma=e,n}(1);function Mq(e){return function(t){var i=t.length,n=new Array(i),a=new Array(i),s=new Array(i),l,c;for(l=0;l<i;++l)c=Lc(t[l]),n[l]=c.r||0,a[l]=c.g||0,s[l]=c.b||0;return n=e(n),a=e(a),s=e(s),c.opacity=1,function(d){return c.r=n(d),c.g=a(d),c.b=s(d),c+""}}}var Aq=Mq(mq);function yq(e,t){t||(t=[]);var i=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<i;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function vq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bq(e,t){var i=t?t.length:0,n=e?Math.min(i,e.length):0,a=new Array(n),s=new Array(i),l;for(l=0;l<n;++l)a[l]=X2(e[l],t[l]);for(;l<i;++l)s[l]=t[l];return function(c){for(l=0;l<n;++l)s[l]=a[l](c);return s}}function Cq(e,t){var i=new Date;return e=+e,t=+t,function(n){return i.setTime(e*(1-n)+t*n),i}}function j9(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function _q(e,t){var i={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?i[a]=X2(e[a],t[a]):n[a]=t[a];return function(s){for(a in i)n[a]=i[a](s);return n}}var dM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ng=new RegExp(dM.source,"g");function Eq(e){return function(){return e}}function wq(e){return function(t){return e(t)+""}}function UB(e,t){var i=dM.lastIndex=ng.lastIndex=0,n,a,s,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=dM.exec(e))&&(a=ng.exec(t));)(s=a.index)>i&&(s=t.slice(i,s),c[l]?c[l]+=s:c[++l]=s),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:j9(n,a)})),i=ng.lastIndex;return i<t.length&&(s=t.slice(i),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?wq(d[0].x):Eq(t):(t=d.length,function(u){for(var h=0,g;h<t;++h)c[(g=d[h]).i]=g.x(u);return c.join("")})}function X2(e,t){var i=typeof t,n;return t==null||i==="boolean"?R8(t):(i==="number"?j9:i==="string"?(n=Pc(t))?(t=n,nd):UB:t instanceof Pc?nd:t instanceof Date?Cq:vq(t)?yq:Array.isArray(t)?bq:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_q:j9)(e,t)}function jA(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}var ME=180/Math.PI,hM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $B(e,t,i,n,a,s){var l,c,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*i+t*n)&&(i-=e*d,n-=t*d),(c=Math.sqrt(i*i+n*n))&&(i/=c,n/=c,d/=c),e*n<t*i&&(e=-e,t=-t,d=-d,l=-l),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*ME,skewX:Math.atan(d)*ME,scaleX:l,scaleY:c}}var y4;function Oq(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hM:$B(t.a,t.b,t.c,t.d,t.e,t.f)}function xq(e){return e==null||(y4||(y4=document.createElementNS("http://www.w3.org/2000/svg","g")),y4.setAttribute("transform",e),!(e=y4.transform.baseVal.consolidate()))?hM:(e=e.matrix,$B(e.a,e.b,e.c,e.d,e.e,e.f))}function GB(e,t,i,n){function a(u){return u.length?u.pop()+" ":""}function s(u,h,g,m,M,p){if(u!==g||h!==m){var A=M.push("translate(",null,t,null,i);p.push({i:A-4,x:j9(u,g)},{i:A-2,x:j9(h,m)})}else(g||m)&&M.push("translate("+g+t+m+i)}function l(u,h,g,m){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),m.push({i:g.push(a(g)+"rotate(",null,n)-2,x:j9(u,h)})):h&&g.push(a(g)+"rotate("+h+n)}function c(u,h,g,m){u!==h?m.push({i:g.push(a(g)+"skewX(",null,n)-2,x:j9(u,h)}):h&&g.push(a(g)+"skewX("+h+n)}function d(u,h,g,m,M,p){if(u!==g||h!==m){var A=M.push(a(M)+"scale(",null,",",null,")");p.push({i:A-4,x:j9(u,g)},{i:A-2,x:j9(h,m)})}else(g!==1||m!==1)&&M.push(a(M)+"scale("+g+","+m+")")}return function(u,h){var g=[],m=[];return u=e(u),h=e(h),s(u.translateX,u.translateY,h.translateX,h.translateY,g,m),l(u.rotate,h.rotate,g,m),c(u.skewX,h.skewX,g,m),d(u.scaleX,u.scaleY,h.scaleX,h.scaleY,g,m),u=h=null,function(M){for(var p=-1,A=m.length,b;++p<A;)g[(b=m[p]).i]=b.x(M);return g.join("")}}}var Sq=GB(Oq,"px, ","px)","deg)"),Tq=GB(xq,", ",")",")");function Iq(e){return function(t,i){var n=e((t=lM(t)).h,(i=lM(i)).h),a=W9(t.s,i.s),s=W9(t.l,i.l),l=W9(t.opacity,i.opacity);return function(c){return t.h=n(c),t.s=a(c),t.l=s(c),t.opacity=l(c),t+""}}}const Bq=Iq(zA);function Rq(e,t){var i=W9((e=cM(e)).l,(t=cM(t)).l),n=W9(e.a,t.a),a=W9(e.b,t.b),s=W9(e.opacity,t.opacity);return function(l){return e.l=i(l),e.a=n(l),e.b=a(l),e.opacity=s(l),e+""}}function Dq(e){return function(t,i){var n=e((t=uM(t)).h,(i=uM(i)).h),a=W9(t.c,i.c),s=W9(t.l,i.l),l=W9(t.opacity,i.opacity);return function(c){return t.h=n(c),t.c=a(c),t.l=s(c),t.opacity=l(c),t+""}}}const Pq=Dq(zA);function VB(e){return function t(i){i=+i;function n(a,s){var l=e((a=Oo(a)).h,(s=Oo(s)).h),c=W9(a.s,s.s),d=W9(a.l,s.l),u=W9(a.opacity,s.opacity);return function(h){return a.h=l(h),a.s=c(h),a.l=d(Math.pow(h,i)),a.opacity=u(h),a+""}}return n.gamma=t,n}(1)}VB(zA);var JA=VB(W9);function D8(e,t){t===void 0&&(t=e,e=X2);for(var i=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);i<n;)s[i]=e(a,a=t[++i]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return s[c](l-c)}}function H0(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e(n/(t-1));return i}var Vh=0,x1=0,M1=0,HB=1e3,_p,S1,Ep=0,rd=0,P8=0,l2=typeof performance=="object"&&performance.now?performance:Date,QB=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function WA(){return rd||(QB(Lq),rd=l2.now()+P8)}function Lq(){rd=0}function wp(){this._call=this._time=this._next=null}wp.prototype=zB.prototype={constructor:wp,restart:function(e,t,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?WA():+i)+(t==null?0:+t),!this._next&&S1!==this&&(S1?S1._next=this:_p=this,S1=this),this._call=e,this._time=i,fM()},stop:function(){this._call&&(this._call=null,this._time=1/0,fM())}};function zB(e,t,i){var n=new wp;return n.restart(e,t,i),n}function kq(){WA(),++Vh;for(var e=_p,t;e;)(t=rd-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vh}function AE(){rd=(Ep=l2.now())+P8,Vh=x1=0;try{kq()}finally{Vh=0,Fq(),rd=0}}function Nq(){var e=l2.now(),t=e-Ep;t>HB&&(P8-=t,Ep=e)}function Fq(){for(var e,t=_p,i,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:_p=i);S1=e,fM(n)}function fM(e){if(!Vh){x1&&(x1=clearTimeout(x1));var t=e-rd;t>24?(e<1/0&&(x1=setTimeout(AE,e-l2.now()-P8)),M1&&(M1=clearInterval(M1))):(M1||(Ep=l2.now(),M1=setInterval(Nq,HB)),Vh=1,QB(AE))}}function yE(e,t,i){var n=new wp;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,i),n}var Uq=pB("start","end","cancel","interrupt"),$q=[],jB=0,vE=1,mM=2,Z4=3,bE=4,pM=5,tp=6;function L8(e,t,i,n,a,s){var l=e.__transition;if(!l)e.__transition={};else if(i in l)return;Gq(e,i,{name:t,index:n,group:a,on:Uq,tween:$q,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:jB})}function qA(e,t){var i=K0(e,t);if(i.state>jB)throw new Error("too late; already scheduled");return i}function Po(e,t){var i=K0(e,t);if(i.state>Z4)throw new Error("too late; already running");return i}function K0(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function Gq(e,t,i){var n=e.__transition,a;n[t]=i,i.timer=zB(s,0,i.time);function s(u){i.state=vE,i.timer.restart(l,i.delay,i.time),i.delay<=u&&l(u-i.delay)}function l(u){var h,g,m,M;if(i.state!==vE)return d();for(h in n)if(M=n[h],M.name===i.name){if(M.state===Z4)return yE(l);M.state===bE?(M.state=tp,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete n[h]):+h<t&&(M.state=tp,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete n[h])}if(yE(function(){i.state===Z4&&(i.state=bE,i.timer.restart(c,i.delay,i.time),c(u))}),i.state=mM,i.on.call("start",e,e.__data__,i.index,i.group),i.state===mM){for(i.state=Z4,a=new Array(m=i.tween.length),h=0,g=-1;h<m;++h)(M=i.tween[h].value.call(e,e.__data__,i.index,i.group))&&(a[++g]=M);a.length=g+1}}function c(u){for(var h=u<i.duration?i.ease.call(null,u/i.duration):(i.timer.restart(d),i.state=pM,1),g=-1,m=a.length;++g<m;)a[g].call(e,h);i.state===pM&&(i.on.call("end",e,e.__data__,i.index,i.group),d())}function d(){i.state=tp,i.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Vq(e,t){var i=e.__transition,n,a,s=!0,l;if(i){t=t==null?null:t+"";for(l in i){if((n=i[l]).name!==t){s=!1;continue}a=n.state>mM&&n.state<pM,n.state=tp,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[l]}s&&delete e.__transition}}function Hq(e){return this.each(function(){Vq(this,e)})}function Qq(e,t){var i,n;return function(){var a=Po(this,e),s=a.tween;if(s!==i){n=i=s;for(var l=0,c=n.length;l<c;++l)if(n[l].name===t){n=n.slice(),n.splice(l,1);break}}a.tween=n}}function zq(e,t,i){var n,a;if(typeof i!="function")throw new Error;return function(){var s=Po(this,e),l=s.tween;if(l!==n){a=(n=l).slice();for(var c={name:t,value:i},d=0,u=a.length;d<u;++d)if(a[d].name===t){a[d]=c;break}d===u&&a.push(c)}s.tween=a}}function jq(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n=K0(this.node(),i).tween,a=0,s=n.length,l;a<s;++a)if((l=n[a]).name===e)return l.value;return null}return this.each((t==null?Qq:zq)(i,e,t))}function KA(e,t,i){var n=e._id;return e.each(function(){var a=Po(this,n);(a.value||(a.value={}))[t]=i.apply(this,arguments)}),function(a){return K0(a,n).value[t]}}function JB(e,t){var i;return(typeof t=="number"?j9:t instanceof Pc?nd:(i=Pc(t))?(t=i,nd):UB)(e,t)}function Jq(e){return function(){this.removeAttribute(e)}}function Wq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qq(e,t,i){var n,a=i+"",s;return function(){var l=this.getAttribute(e);return l===a?null:l===n?s:s=t(n=l,i)}}function Kq(e,t,i){var n,a=i+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===n?s:s=t(n=l,i)}}function Xq(e,t,i){var n,a,s;return function(){var l,c=i(this),d;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=c+"",l===d?null:l===n&&d===a?s:(a=d,s=t(n=l,c)))}}function Yq(e,t,i){var n,a,s;return function(){var l,c=i(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=c+"",l===d?null:l===n&&d===a?s:(a=d,s=t(n=l,c)))}}function Zq(e,t){var i=T8(e),n=i==="transform"?Tq:JB;return this.attrTween(e,typeof t=="function"?(i.local?Yq:Xq)(i,n,KA(this,"attr."+e,t)):t==null?(i.local?Wq:Jq)(i):(i.local?Kq:qq)(i,n,t))}function tK(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function eK(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function iK(e,t){var i,n;function a(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&eK(e,s)),i}return a._value=t,a}function nK(e,t){var i,n;function a(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&tK(e,s)),i}return a._value=t,a}function rK(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;var n=T8(e);return this.tween(i,(n.local?iK:nK)(n,t))}function aK(e,t){return function(){qA(this,e).delay=+t.apply(this,arguments)}}function sK(e,t){return t=+t,function(){qA(this,e).delay=t}}function oK(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aK:sK)(t,e)):K0(this.node(),t).delay}function lK(e,t){return function(){Po(this,e).duration=+t.apply(this,arguments)}}function cK(e,t){return t=+t,function(){Po(this,e).duration=t}}function uK(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lK:cK)(t,e)):K0(this.node(),t).duration}function dK(e,t){if(typeof t!="function")throw new Error;return function(){Po(this,e).ease=t}}function hK(e){var t=this._id;return arguments.length?this.each(dK(t,e)):K0(this.node(),t).ease}function fK(e,t){return function(){var i=t.apply(this,arguments);if(typeof i!="function")throw new Error;Po(this,e).ease=i}}function mK(e){if(typeof e!="function")throw new Error;return this.each(fK(this._id,e))}function pK(e){typeof e!="function"&&(e=MB(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var s=t[a],l=s.length,c=n[a]=[],d,u=0;u<l;++u)(d=s[u])&&e.call(d,d.__data__,u,s)&&c.push(d);return new Tl(n,this._parents,this._name,this._id)}function gK(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,a=i.length,s=Math.min(n,a),l=new Array(n),c=0;c<s;++c)for(var d=t[c],u=i[c],h=d.length,g=l[c]=new Array(h),m,M=0;M<h;++M)(m=d[M]||u[M])&&(g[M]=m);for(;c<n;++c)l[c]=t[c];return new Tl(l,this._parents,this._name,this._id)}function MK(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||t==="start"})}function AK(e,t,i){var n,a,s=MK(t)?qA:Po;return function(){var l=s(this,e),c=l.on;c!==n&&(a=(n=c).copy()).on(t,i),l.on=a}}function yK(e,t){var i=this._id;return arguments.length<2?K0(this.node(),i).on.on(e):this.each(AK(i,e,t))}function vK(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}function bK(){return this.on("end.remove",vK(this._id))}function CK(e){var t=this._name,i=this._id;typeof e!="function"&&(e=$A(e));for(var n=this._groups,a=n.length,s=new Array(a),l=0;l<a;++l)for(var c=n[l],d=c.length,u=s[l]=new Array(d),h,g,m=0;m<d;++m)(h=c[m])&&(g=e.call(h,h.__data__,m,c))&&("__data__"in h&&(g.__data__=h.__data__),u[m]=g,L8(u[m],t,i,m,u,K0(h,i)));return new Tl(s,this._parents,t,i)}function _K(e){var t=this._name,i=this._id;typeof e!="function"&&(e=gB(e));for(var n=this._groups,a=n.length,s=[],l=[],c=0;c<a;++c)for(var d=n[c],u=d.length,h,g=0;g<u;++g)if(h=d[g]){for(var m=e.call(h,h.__data__,g,d),M,p=K0(h,i),A=0,b=m.length;A<b;++A)(M=m[A])&&L8(M,t,i,A,m,p);s.push(m),l.push(h)}return new Tl(s,l,t,i)}var EK=q2.prototype.constructor;function wK(){return new EK(this._groups,this._parents)}function OK(e,t){var i,n,a;return function(){var s=$h(this,e),l=(this.style.removeProperty(e),$h(this,e));return s===l?null:s===i&&l===n?a:a=t(i=s,n=l)}}function WB(e){return function(){this.style.removeProperty(e)}}function xK(e,t,i){var n,a=i+"",s;return function(){var l=$h(this,e);return l===a?null:l===n?s:s=t(n=l,i)}}function SK(e,t,i){var n,a,s;return function(){var l=$h(this,e),c=i(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),$h(this,e))),l===d?null:l===n&&d===a?s:(a=d,s=t(n=l,c))}}function TK(e,t){var i,n,a,s="style."+t,l="end."+s,c;return function(){var d=Po(this,e),u=d.on,h=d.value[s]==null?c||(c=WB(t)):void 0;(u!==i||a!==h)&&(n=(i=u).copy()).on(l,a=h),d.on=n}}function IK(e,t,i){var n=(e+="")=="transform"?Sq:JB;return t==null?this.styleTween(e,OK(e,n)).on("end.style."+e,WB(e)):typeof t=="function"?this.styleTween(e,SK(e,n,KA(this,"style."+e,t))).each(TK(this._id,e)):this.styleTween(e,xK(e,n,t),i).on("end.style."+e,null)}function BK(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}function RK(e,t,i){var n,a;function s(){var l=t.apply(this,arguments);return l!==a&&(n=(a=l)&&BK(e,l,i)),n}return s._value=t,s}function DK(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,RK(e,t,i??""))}function PK(e){return function(){this.textContent=e}}function LK(e){return function(){var t=e(this);this.textContent=t??""}}function kK(e){return this.tween("text",typeof e=="function"?LK(KA(this,"text",e)):PK(e==null?"":e+""))}function NK(e){return function(t){this.textContent=e.call(this,t)}}function FK(e){var t,i;function n(){var a=e.apply(this,arguments);return a!==i&&(t=(i=a)&&NK(a)),t}return n._value=e,n}function UK(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,FK(e))}function $K(){for(var e=this._name,t=this._id,i=qB(),n=this._groups,a=n.length,s=0;s<a;++s)for(var l=n[s],c=l.length,d,u=0;u<c;++u)if(d=l[u]){var h=K0(d,t);L8(d,e,i,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Tl(n,this._parents,e,i)}function GK(){var e,t,i=this,n=i._id,a=i.size();return new Promise(function(s,l){var c={value:l},d={value:function(){--a===0&&s()}};i.each(function(){var u=Po(this,n),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(d)),u.on=t}),a===0&&s()})}var VK=0;function Tl(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function qB(){return++VK}var nl=q2.prototype;Tl.prototype={constructor:Tl,select:CK,selectAll:_K,selectChild:nl.selectChild,selectChildren:nl.selectChildren,filter:pK,merge:gK,selection:wK,transition:$K,call:nl.call,nodes:nl.nodes,node:nl.node,size:nl.size,empty:nl.empty,each:nl.each,on:yK,attr:Zq,attrTween:rK,style:IK,styleTween:DK,text:kK,textTween:UK,remove:bK,tween:jq,delay:oK,duration:uK,ease:hK,easeVarying:mK,end:GK,[Symbol.iterator]:nl[Symbol.iterator]};function HK(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var QK={time:null,delay:0,duration:250,ease:HK};function zK(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function jK(e){var t,i;e instanceof Tl?(t=e._id,e=e._name):(t=qB(),(i=QK).time=WA(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var l=n[s],c=l.length,d,u=0;u<c;++u)(d=l[u])&&L8(d,e,t,u,l,i||zK(d,t));return new Tl(n,this._parents,e,t)}q2.prototype.interrupt=Hq;q2.prototype.transition=jK;const gM=Math.PI,MM=2*gM,Du=1e-6,JK=MM-Du;function KB(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function WK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KB;const i=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*i)/i+n[a]}}class XB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KB:WK(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,n,a){this._append`Q${+t},${+i},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,i,n,a,s,l){this._append`C${+t},${+i},${+n},${+a},${this._x1=+s},${this._y1=+l}`}arcTo(t,i,n,a,s){if(t=+t,i=+i,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,d=n-t,u=a-i,h=l-t,g=c-i,m=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(m>Du)if(!(Math.abs(g*d-u*h)>Du)||!s)this._append`L${this._x1=t},${this._y1=i}`;else{let M=n-l,p=a-c,A=d*d+u*u,b=M*M+p*p,v=Math.sqrt(A),E=Math.sqrt(m),x=s*Math.tan((gM-Math.acos((A+m-b)/(2*v*E)))/2),_=x/E,C=x/v;Math.abs(_-1)>Du&&this._append`L${t+_*h},${i+_*g}`,this._append`A${s},${s},0,0,${+(g*M>h*p)},${this._x1=t+C*d},${this._y1=i+C*u}`}}arc(t,i,n,a,s,l){if(t=+t,i=+i,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),u=t+c,h=i+d,g=1^l,m=l?a-s:s-a;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Du||Math.abs(this._y1-h)>Du)&&this._append`L${u},${h}`,n&&(m<0&&(m=m%MM+MM),m>JK?this._append`A${n},${n},0,1,${g},${t-c},${i-d}A${n},${n},0,1,${g},${this._x1=u},${this._y1=h}`:m>Du&&this._append`A${n},${n},0,${+(m>=gM)},${g},${this._x1=t+n*Math.cos(s)},${this._y1=i+n*Math.sin(s)}`)}rect(t,i,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ec(e=3){return new XB(+e)}function qK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Op(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}function Hh(e){return e=Op(Math.abs(e)),e?e[1]:NaN}function KK(e,t){return function(i,n){for(var a=i.length,s=[],l=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),s.push(i.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[l=(l+1)%e.length];return s.reverse().join(t)}}function XK(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}var YK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function c2(e){if(!(t=YK.exec(e)))throw new Error("invalid format: "+e);var t;return new XA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}c2.prototype=XA.prototype;function XA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}XA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZK(e){t:for(var t=e.length,i=1,n=-1,a;i<t;++i)switch(e[i]){case".":n=a=i;break;case"0":n===0&&(n=i),a=i;break;default:if(!+e[i])break t;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var YB;function tX(e,t){var i=Op(e,t);if(!i)return e+"";var n=i[0],a=i[1],s=a-(YB=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return s===l?n:s>l?n+new Array(s-l+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Op(e,Math.max(0,t+s-1))[0]}function CE(e,t){var i=Op(e,t);if(!i)return e+"";var n=i[0],a=i[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const _E={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>CE(e*100,t),r:CE,s:tX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function EE(e){return e}var wE=Array.prototype.map,OE=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eX(e){var t=e.grouping===void 0||e.thousands===void 0?EE:KK(wE.call(e.grouping,Number),e.thousands+""),i=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?EE:XK(wE.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(g){g=c2(g);var m=g.fill,M=g.align,p=g.sign,A=g.symbol,b=g.zero,v=g.width,E=g.comma,x=g.precision,_=g.trim,C=g.type;C==="n"?(E=!0,C="g"):_E[C]||(x===void 0&&(x=12),_=!0,C="g"),(b||m==="0"&&M==="=")&&(b=!0,m="0",M="=");var O=A==="$"?i:A==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",I=A==="$"?n:/[%p]/.test(C)?l:"",T=_E[C],D=/[defgprs%]/.test(C);x=x===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function P(L){var N=O,U=I,$,F,j;if(C==="c")U=T(L)+U,L="";else{L=+L;var z=L<0||1/L<0;if(L=isNaN(L)?d:T(Math.abs(L),x),_&&(L=ZK(L)),z&&+L==0&&p!=="+"&&(z=!1),N=(z?p==="("?p:c:p==="-"||p==="("?"":p)+N,U=(C==="s"?OE[8+YB/3]:"")+U+(z&&p==="("?")":""),D){for($=-1,F=L.length;++$<F;)if(j=L.charCodeAt($),48>j||j>57){U=(j===46?a+L.slice($+1):L.slice($))+U,L=L.slice(0,$);break}}}E&&!b&&(L=t(L,1/0));var Q=N.length+L.length+U.length,V=Q<v?new Array(v-Q+1).join(m):"";switch(E&&b&&(L=t(V+L,V.length?v-U.length:1/0),V=""),M){case"<":L=N+L+U+V;break;case"=":L=N+V+L+U;break;case"^":L=V.slice(0,Q=V.length>>1)+N+L+U+V.slice(Q);break;default:L=V+N+L+U;break}return s(L)}return P.toString=function(){return g+""},P}function h(g,m){var M=u((g=c2(g),g.type="f",g)),p=Math.max(-8,Math.min(8,Math.floor(Hh(m)/3)))*3,A=Math.pow(10,-p),b=OE[8+p/3];return function(v){return M(A*v)+b}}return{format:u,formatPrefix:h}}var v4,pf,ZB;iX({thousands:",",grouping:[3],currency:["$",""]});function iX(e){return v4=eX(e),pf=v4.format,ZB=v4.formatPrefix,v4}function nX(e){return Math.max(0,-Hh(Math.abs(e)))}function rX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hh(t)/3)))*3-Hh(Math.abs(e)))}function aX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hh(t)-Hh(e))+1}var rr=1e-6,tR=1e-12,Mr=Math.PI,Fa=Mr/2,xE=Mr/4,Xs=Mr*2,cs=180/Mr,ka=Mr/180,Wr=Math.abs,gf=Math.atan,Il=Math.atan2,mr=Math.cos,eR=Math.exp,xp=Math.log,rg=Math.pow,Kn=Math.sin,h0=Math.sign||function(e){return e>0?1:e<0?-1:0},Ss=Math.sqrt,YA=Math.tan;function iR(e){return e>1?0:e<-1?Mr:Math.acos(e)}function b0(e){return e>1?Fa:e<-1?-Fa:Math.asin(e)}function f0(){}function Sp(e,t){e&&TE.hasOwnProperty(e.type)&&TE[e.type](e,t)}var SE={Feature:function(e,t){Sp(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,n=-1,a=i.length;++n<a;)Sp(i[n].geometry,t)}},TE={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,n=-1,a=i.length;++n<a;)e=i[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){AM(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,n=-1,a=i.length;++n<a;)AM(i[n],t,0)},Polygon:function(e,t){IE(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,n=-1,a=i.length;++n<a;)IE(i[n],t)},GeometryCollection:function(e,t){for(var i=e.geometries,n=-1,a=i.length;++n<a;)Sp(i[n],t)}};function AM(e,t,i){var n=-1,a=e.length-i,s;for(t.lineStart();++n<a;)s=e[n],t.point(s[0],s[1],s[2]);t.lineEnd()}function IE(e,t){var i=-1,n=e.length;for(t.polygonStart();++i<n;)AM(e[i],t,1);t.polygonEnd()}function Pu(e,t){e&&SE.hasOwnProperty(e.type)?SE[e.type](e,t):Sp(e,t)}function yM(e){return[Il(e[1],e[0]),b0(e[2])]}function Qh(e){var t=e[0],i=e[1],n=mr(i);return[n*mr(t),n*Kn(t),Kn(i)]}function b4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Tp(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ag(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function C4(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function vM(e){var t=Ss(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function bM(e,t){function i(n,a){return n=e(n,a),t(n[0],n[1])}return e.invert&&t.invert&&(i.invert=function(n,a){return n=t.invert(n,a),n&&e.invert(n[0],n[1])}),i}function CM(e,t){return Wr(e)>Mr&&(e-=Math.round(e/Xs)*Xs),[e,t]}CM.invert=CM;function nR(e,t,i){return(e%=Xs)?t||i?bM(RE(e),DE(t,i)):RE(e):t||i?DE(t,i):CM}function BE(e){return function(t,i){return t+=e,Wr(t)>Mr&&(t-=Math.round(t/Xs)*Xs),[t,i]}}function RE(e){var t=BE(e);return t.invert=BE(-e),t}function DE(e,t){var i=mr(e),n=Kn(e),a=mr(t),s=Kn(t);function l(c,d){var u=mr(d),h=mr(c)*u,g=Kn(c)*u,m=Kn(d),M=m*i+h*n;return[Il(g*a-M*s,h*i-m*n),b0(M*a+g*s)]}return l.invert=function(c,d){var u=mr(d),h=mr(c)*u,g=Kn(c)*u,m=Kn(d),M=m*a-g*s;return[Il(g*a+m*s,h*i+M*n),b0(M*i-h*n)]},l}function sX(e){e=nR(e[0]*ka,e[1]*ka,e.length>2?e[2]*ka:0);function t(i){return i=e(i[0]*ka,i[1]*ka),i[0]*=cs,i[1]*=cs,i}return t.invert=function(i){return i=e.invert(i[0]*ka,i[1]*ka),i[0]*=cs,i[1]*=cs,i},t}function oX(e,t,i,n,a,s){if(i){var l=mr(t),c=Kn(t),d=n*i;a==null?(a=t+n*Xs,s=t-d/2):(a=PE(l,a),s=PE(l,s),(n>0?a<s:a>s)&&(a+=n*Xs));for(var u,h=a;n>0?h>s:h<s;h-=d)u=yM([l,-c*mr(h),-c*Kn(h)]),e.point(u[0],u[1])}}function PE(e,t){t=Qh(t),t[0]-=e,vM(t);var i=iR(-t[1]);return((-t[2]<0?-i:i)+Xs-rr)%Xs}function rR(){var e=[],t;return{point:function(i,n,a){t.push([i,n,a])},lineStart:function(){e.push(t=[])},lineEnd:f0,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function ep(e,t){return Wr(e[0]-t[0])<rr&&Wr(e[1]-t[1])<rr}function _4(e,t,i,n){this.x=e,this.z=t,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function aR(e,t,i,n,a){var s=[],l=[],c,d;if(e.forEach(function(p){if(!((A=p.length-1)<=0)){var A,b=p[0],v=p[A],E;if(ep(b,v)){if(!b[2]&&!v[2]){for(a.lineStart(),c=0;c<A;++c)a.point((b=p[c])[0],b[1]);a.lineEnd();return}v[0]+=2*rr}s.push(E=new _4(b,p,null,!0)),l.push(E.o=new _4(b,null,E,!1)),s.push(E=new _4(v,p,null,!1)),l.push(E.o=new _4(v,null,E,!0))}}),!!s.length){for(l.sort(t),LE(s),LE(l),c=0,d=l.length;c<d;++c)l[c].e=i=!i;for(var u=s[0],h,g;;){for(var m=u,M=!0;m.v;)if((m=m.n)===u)return;h=m.z,a.lineStart();do{if(m.v=m.o.v=!0,m.e){if(M)for(c=0,d=h.length;c<d;++c)a.point((g=h[c])[0],g[1]);else n(m.x,m.n.x,1,a);m=m.n}else{if(M)for(h=m.p.z,c=h.length-1;c>=0;--c)a.point((g=h[c])[0],g[1]);else n(m.x,m.p.x,-1,a);m=m.p}m=m.o,h=m.z,M=!M}while(!m.v);a.lineEnd()}}}function LE(e){if(t=e.length){for(var t,i=0,n=e[0],a;++i<t;)n.n=a=e[i],a.p=n,n=a;n.n=a=e[0],a.p=n}}function sg(e){return Wr(e[0])<=Mr?e[0]:h0(e[0])*((Wr(e[0])+Mr)%Xs-Mr)}function lX(e,t){var i=sg(t),n=t[1],a=Kn(n),s=[Kn(i),-mr(i),0],l=0,c=0,d=new Zu;a===1?n=Fa+rr:a===-1&&(n=-Fa-rr);for(var u=0,h=e.length;u<h;++u)if(m=(g=e[u]).length)for(var g,m,M=g[m-1],p=sg(M),A=M[1]/2+xE,b=Kn(A),v=mr(A),E=0;E<m;++E,p=_,b=O,v=I,M=x){var x=g[E],_=sg(x),C=x[1]/2+xE,O=Kn(C),I=mr(C),T=_-p,D=T>=0?1:-1,P=D*T,L=P>Mr,N=b*O;if(d.add(Il(N*D*Kn(P),v*I+N*mr(P))),l+=L?T+D*Xs:T,L^p>=i^_>=i){var U=Tp(Qh(M),Qh(x));vM(U);var $=Tp(s,U);vM($);var F=(L^T>=0?-1:1)*b0($[2]);(n>F||n===F&&(U[0]||U[1]))&&(c+=L^T>=0?1:-1)}}return(l<-rr||l<rr&&d<-tR)^c&1}function sR(e,t,i,n){return function(a){var s=t(a),l=rR(),c=t(l),d=!1,u,h,g,m={point:M,lineStart:A,lineEnd:b,polygonStart:function(){m.point=v,m.lineStart=E,m.lineEnd=x,h=[],u=[]},polygonEnd:function(){m.point=M,m.lineStart=A,m.lineEnd=b,h=fB(h);var _=lX(u,n);h.length?(d||(a.polygonStart(),d=!0),aR(h,uX,_,i,a)):_&&(d||(a.polygonStart(),d=!0),a.lineStart(),i(null,null,1,a),a.lineEnd()),d&&(a.polygonEnd(),d=!1),h=u=null},sphere:function(){a.polygonStart(),a.lineStart(),i(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function M(_,C){e(_,C)&&a.point(_,C)}function p(_,C){s.point(_,C)}function A(){m.point=p,s.lineStart()}function b(){m.point=M,s.lineEnd()}function v(_,C){g.push([_,C]),c.point(_,C)}function E(){c.lineStart(),g=[]}function x(){v(g[0][0],g[0][1]),c.lineEnd();var _=c.clean(),C=l.result(),O,I=C.length,T,D,P;if(g.pop(),u.push(g),g=null,!!I){if(_&1){if(D=C[0],(T=D.length-1)>0){for(d||(a.polygonStart(),d=!0),a.lineStart(),O=0;O<T;++O)a.point((P=D[O])[0],P[1]);a.lineEnd()}return}I>1&&_&2&&C.push(C.pop().concat(C.shift())),h.push(C.filter(cX))}}return m}}function cX(e){return e.length>1}function uX(e,t){return((e=e.x)[0]<0?e[1]-Fa-rr:Fa-e[1])-((t=t.x)[0]<0?t[1]-Fa-rr:Fa-t[1])}const kE=sR(function(){return!0},dX,fX,[-Mr,-Fa]);function dX(e){var t=NaN,i=NaN,n=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(s,l){var c=s>0?Mr:-Mr,d=Wr(s-t);Wr(d-Mr)<rr?(e.point(t,i=(i+l)/2>0?Fa:-Fa),e.point(n,i),e.lineEnd(),e.lineStart(),e.point(c,i),e.point(s,i),a=0):n!==c&&d>=Mr&&(Wr(t-n)<rr&&(t-=n*rr),Wr(s-c)<rr&&(s-=c*rr),i=hX(t,i,s,l),e.point(n,i),e.lineEnd(),e.lineStart(),e.point(c,i),a=0),e.point(t=s,i=l),n=c},lineEnd:function(){e.lineEnd(),t=i=NaN},clean:function(){return 2-a}}}function hX(e,t,i,n){var a,s,l=Kn(e-i);return Wr(l)>rr?gf((Kn(t)*(s=mr(n))*Kn(i)-Kn(n)*(a=mr(t))*Kn(e))/(a*s*l)):(t+n)/2}function fX(e,t,i,n){var a;if(e==null)a=i*Fa,n.point(-Mr,a),n.point(0,a),n.point(Mr,a),n.point(Mr,0),n.point(Mr,-a),n.point(0,-a),n.point(-Mr,-a),n.point(-Mr,0),n.point(-Mr,a);else if(Wr(e[0]-t[0])>rr){var s=e[0]<t[0]?Mr:-Mr;a=i*s/2,n.point(-s,a),n.point(0,a),n.point(s,a)}else n.point(t[0],t[1])}function mX(e){var t=mr(e),i=2*ka,n=t>0,a=Wr(t)>rr;function s(h,g,m,M){oX(M,e,i,m,h,g)}function l(h,g){return mr(h)*mr(g)>t}function c(h){var g,m,M,p,A;return{lineStart:function(){p=M=!1,A=1},point:function(b,v){var E=[b,v],x,_=l(b,v),C=n?_?0:u(b,v):_?u(b+(b<0?Mr:-Mr),v):0;if(!g&&(p=M=_)&&h.lineStart(),_!==M&&(x=d(g,E),(!x||ep(g,x)||ep(E,x))&&(E[2]=1)),_!==M)A=0,_?(h.lineStart(),x=d(E,g),h.point(x[0],x[1])):(x=d(g,E),h.point(x[0],x[1],2),h.lineEnd()),g=x;else if(a&&g&&n^_){var O;!(C&m)&&(O=d(E,g,!0))&&(A=0,n?(h.lineStart(),h.point(O[0][0],O[0][1]),h.point(O[1][0],O[1][1]),h.lineEnd()):(h.point(O[1][0],O[1][1]),h.lineEnd(),h.lineStart(),h.point(O[0][0],O[0][1],3)))}_&&(!g||!ep(g,E))&&h.point(E[0],E[1]),g=E,M=_,m=C},lineEnd:function(){M&&h.lineEnd(),g=null},clean:function(){return A|(p&&M)<<1}}}function d(h,g,m){var M=Qh(h),p=Qh(g),A=[1,0,0],b=Tp(M,p),v=b4(b,b),E=b[0],x=v-E*E;if(!x)return!m&&h;var _=t*v/x,C=-t*E/x,O=Tp(A,b),I=C4(A,_),T=C4(b,C);ag(I,T);var D=O,P=b4(I,D),L=b4(D,D),N=P*P-L*(b4(I,I)-1);if(!(N<0)){var U=Ss(N),$=C4(D,(-P-U)/L);if(ag($,I),$=yM($),!m)return $;var F=h[0],j=g[0],z=h[1],Q=g[1],V;j<F&&(V=F,F=j,j=V);var q=j-F,J=Wr(q-Mr)<rr,W=J||q<rr;if(!J&&Q<z&&(V=z,z=Q,Q=V),W?J?z+Q>0^$[1]<(Wr($[0]-F)<rr?z:Q):z<=$[1]&&$[1]<=Q:q>Mr^(F<=$[0]&&$[0]<=j)){var et=C4(D,(-P+U)/L);return ag(et,I),[$,yM(et)]}}}function u(h,g){var m=n?e:Mr-e,M=0;return h<-m?M|=1:h>m&&(M|=2),g<-m?M|=4:g>m&&(M|=8),M}return sR(l,c,s,n?[0,-e]:[-Mr,e-Mr])}function pX(e,t,i,n,a,s){var l=e[0],c=e[1],d=t[0],u=t[1],h=0,g=1,m=d-l,M=u-c,p;if(p=i-l,!(!m&&p>0)){if(p/=m,m<0){if(p<h)return;p<g&&(g=p)}else if(m>0){if(p>g)return;p>h&&(h=p)}if(p=a-l,!(!m&&p<0)){if(p/=m,m<0){if(p>g)return;p>h&&(h=p)}else if(m>0){if(p<h)return;p<g&&(g=p)}if(p=n-c,!(!M&&p>0)){if(p/=M,M<0){if(p<h)return;p<g&&(g=p)}else if(M>0){if(p>g)return;p>h&&(h=p)}if(p=s-c,!(!M&&p<0)){if(p/=M,M<0){if(p>g)return;p>h&&(h=p)}else if(M>0){if(p<h)return;p<g&&(g=p)}return h>0&&(e[0]=l+h*m,e[1]=c+h*M),g<1&&(t[0]=l+g*m,t[1]=c+g*M),!0}}}}}var T1=1e9,E4=-T1;function oR(e,t,i,n){function a(u,h){return e<=u&&u<=i&&t<=h&&h<=n}function s(u,h,g,m){var M=0,p=0;if(u==null||(M=l(u,g))!==(p=l(h,g))||d(u,h)<0^g>0)do m.point(M===0||M===3?e:i,M>1?n:t);while((M=(M+g+4)%4)!==p);else m.point(h[0],h[1])}function l(u,h){return Wr(u[0]-e)<rr?h>0?0:3:Wr(u[0]-i)<rr?h>0?2:1:Wr(u[1]-t)<rr?h>0?1:0:h>0?3:2}function c(u,h){return d(u.x,h.x)}function d(u,h){var g=l(u,1),m=l(h,1);return g!==m?g-m:g===0?h[1]-u[1]:g===1?u[0]-h[0]:g===2?u[1]-h[1]:h[0]-u[0]}return function(u){var h=u,g=rR(),m,M,p,A,b,v,E,x,_,C,O,I={point:T,lineStart:N,lineEnd:U,polygonStart:P,polygonEnd:L};function T(F,j){a(F,j)&&h.point(F,j)}function D(){for(var F=0,j=0,z=M.length;j<z;++j)for(var Q=M[j],V=1,q=Q.length,J=Q[0],W,et,mt=J[0],ot=J[1];V<q;++V)W=mt,et=ot,J=Q[V],mt=J[0],ot=J[1],et<=n?ot>n&&(mt-W)*(n-et)>(ot-et)*(e-W)&&++F:ot<=n&&(mt-W)*(n-et)<(ot-et)*(e-W)&&--F;return F}function P(){h=g,m=[],M=[],O=!0}function L(){var F=D(),j=O&&F,z=(m=fB(m)).length;(j||z)&&(u.polygonStart(),j&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),z&&aR(m,c,F,s,u),u.polygonEnd()),h=u,m=M=p=null}function N(){I.point=$,M&&M.push(p=[]),C=!0,_=!1,E=x=NaN}function U(){m&&($(A,b),v&&_&&g.rejoin(),m.push(g.result())),I.point=T,_&&h.lineEnd()}function $(F,j){var z=a(F,j);if(M&&p.push([F,j]),C)A=F,b=j,v=z,C=!1,z&&(h.lineStart(),h.point(F,j));else if(z&&_)h.point(F,j);else{var Q=[E=Math.max(E4,Math.min(T1,E)),x=Math.max(E4,Math.min(T1,x))],V=[F=Math.max(E4,Math.min(T1,F)),j=Math.max(E4,Math.min(T1,j))];pX(Q,V,e,t,i,n)?(_||(h.lineStart(),h.point(Q[0],Q[1])),h.point(V[0],V[1]),z||h.lineEnd(),O=!1):z&&(h.lineStart(),h.point(F,j),O=!1)}E=F,x=j,_=z}return I}}const _M=e=>e;var og=new Zu,EM=new Zu,lR,cR,wM,OM,gl={point:f0,lineStart:f0,lineEnd:f0,polygonStart:function(){gl.lineStart=gX,gl.lineEnd=AX},polygonEnd:function(){gl.lineStart=gl.lineEnd=gl.point=f0,og.add(Wr(EM)),EM=new Zu},result:function(){var e=og/2;return og=new Zu,e}};function gX(){gl.point=MX}function MX(e,t){gl.point=uR,lR=wM=e,cR=OM=t}function uR(e,t){EM.add(OM*e-wM*t),wM=e,OM=t}function AX(){uR(lR,cR)}var zh=1/0,Ip=zh,u2=-zh,Bp=u2,Rp={point:yX,lineStart:f0,lineEnd:f0,polygonStart:f0,polygonEnd:f0,result:function(){var e=[[zh,Ip],[u2,Bp]];return u2=Bp=-(Ip=zh=1/0),e}};function yX(e,t){e<zh&&(zh=e),e>u2&&(u2=e),t<Ip&&(Ip=t),t>Bp&&(Bp=t)}var xM=0,SM=0,I1=0,Dp=0,Pp=0,lh=0,TM=0,IM=0,B1=0,dR,hR,Mo,Ao,d0={point:ad,lineStart:NE,lineEnd:FE,polygonStart:function(){d0.lineStart=CX,d0.lineEnd=_X},polygonEnd:function(){d0.point=ad,d0.lineStart=NE,d0.lineEnd=FE},result:function(){var e=B1?[TM/B1,IM/B1]:lh?[Dp/lh,Pp/lh]:I1?[xM/I1,SM/I1]:[NaN,NaN];return xM=SM=I1=Dp=Pp=lh=TM=IM=B1=0,e}};function ad(e,t){xM+=e,SM+=t,++I1}function NE(){d0.point=vX}function vX(e,t){d0.point=bX,ad(Mo=e,Ao=t)}function bX(e,t){var i=e-Mo,n=t-Ao,a=Ss(i*i+n*n);Dp+=a*(Mo+e)/2,Pp+=a*(Ao+t)/2,lh+=a,ad(Mo=e,Ao=t)}function FE(){d0.point=ad}function CX(){d0.point=EX}function _X(){fR(dR,hR)}function EX(e,t){d0.point=fR,ad(dR=Mo=e,hR=Ao=t)}function fR(e,t){var i=e-Mo,n=t-Ao,a=Ss(i*i+n*n);Dp+=a*(Mo+e)/2,Pp+=a*(Ao+t)/2,lh+=a,a=Ao*e-Mo*t,TM+=a*(Mo+e),IM+=a*(Ao+t),B1+=a*3,ad(Mo=e,Ao=t)}function mR(e){this._context=e}mR.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Xs);break}}},result:f0};var BM=new Zu,lg,pR,gR,R1,D1,d2={point:f0,lineStart:function(){d2.point=wX},lineEnd:function(){lg&&MR(pR,gR),d2.point=f0},polygonStart:function(){lg=!0},polygonEnd:function(){lg=null},result:function(){var e=+BM;return BM=new Zu,e}};function wX(e,t){d2.point=MR,pR=R1=e,gR=D1=t}function MR(e,t){R1-=e,D1-=t,BM.add(Ss(R1*R1+D1*D1)),R1=e,D1=t}let UE,Lp,$E,GE;class VE{constructor(t){this._append=t==null?AR:OX(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,i){switch(this._point){case 0:{this._append`M${t},${i}`,this._point=1;break}case 1:{this._append`L${t},${i}`;break}default:{if(this._append`M${t},${i}`,this._radius!==$E||this._append!==Lp){const n=this._radius,a=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,$E=n,Lp=this._append,GE=this._,this._=a}this._+=GE;break}}}result(){const t=this._;return this._="",t.length?t:null}}function AR(e){let t=1;this._+=e[0];for(const i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function OX(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return AR;if(t!==UE){const i=10**t;UE=t,Lp=function(a){let s=1;this._+=a[0];for(const l=a.length;s<l;++s)this._+=Math.round(arguments[s]*i)/i+a[s]}}return Lp}function Y2(e,t){let i=3,n=4.5,a,s;function l(c){return c&&(typeof n=="function"&&s.pointRadius(+n.apply(this,arguments)),Pu(c,a(s))),s.result()}return l.area=function(c){return Pu(c,a(gl)),gl.result()},l.measure=function(c){return Pu(c,a(d2)),d2.result()},l.bounds=function(c){return Pu(c,a(Rp)),Rp.result()},l.centroid=function(c){return Pu(c,a(d0)),d0.result()},l.projection=function(c){return arguments.length?(a=c==null?(e=null,_M):(e=c).stream,l):e},l.context=function(c){return arguments.length?(s=c==null?(t=null,new VE(i)):new mR(t=c),typeof n!="function"&&s.pointRadius(n),l):t},l.pointRadius=function(c){return arguments.length?(n=typeof c=="function"?c:(s.pointRadius(+c),+c),l):n},l.digits=function(c){if(!arguments.length)return i;if(c==null)i=null;else{const d=Math.floor(c);if(!(d>=0))throw new RangeError(`invalid digits: ${c}`);i=d}return t===null&&(s=new VE(i)),l},l.projection(e).digits(i).context(t)}function RM(e){return{stream:k8(e)}}function k8(e){return function(t){var i=new DM;for(var n in e)i[n]=e[n];return i.stream=t,i}}function DM(){}DM.prototype={constructor:DM,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ZA(e,t,i){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),Pu(i,e.stream(Rp)),t(Rp.result()),n!=null&&e.clipExtent(n),e}function ty(e,t,i){return ZA(e,function(n){var a=t[1][0]-t[0][0],s=t[1][1]-t[0][1],l=Math.min(a/(n[1][0]-n[0][0]),s/(n[1][1]-n[0][1])),c=+t[0][0]+(a-l*(n[1][0]+n[0][0]))/2,d=+t[0][1]+(s-l*(n[1][1]+n[0][1]))/2;e.scale(150*l).translate([c,d])},i)}function yR(e,t,i){return ty(e,[[0,0],t],i)}function vR(e,t,i){return ZA(e,function(n){var a=+t,s=a/(n[1][0]-n[0][0]),l=(a-s*(n[1][0]+n[0][0]))/2,c=-s*n[0][1];e.scale(150*s).translate([l,c])},i)}function bR(e,t,i){return ZA(e,function(n){var a=+t,s=a/(n[1][1]-n[0][1]),l=-s*n[0][0],c=(a-s*(n[1][1]+n[0][1]))/2;e.scale(150*s).translate([l,c])},i)}var HE=16,xX=mr(30*ka);function QE(e,t){return+t?TX(e,t):SX(e)}function SX(e){return k8({point:function(t,i){t=e(t,i),this.stream.point(t[0],t[1])}})}function TX(e,t){function i(n,a,s,l,c,d,u,h,g,m,M,p,A,b){var v=u-n,E=h-a,x=v*v+E*E;if(x>4*t&&A--){var _=l+m,C=c+M,O=d+p,I=Ss(_*_+C*C+O*O),T=b0(O/=I),D=Wr(Wr(O)-1)<rr||Wr(s-g)<rr?(s+g)/2:Il(C,_),P=e(D,T),L=P[0],N=P[1],U=L-n,$=N-a,F=E*U-v*$;(F*F/x>t||Wr((v*U+E*$)/x-.5)>.3||l*m+c*M+d*p<xX)&&(i(n,a,s,l,c,d,L,N,D,_/=I,C/=I,O,A,b),b.point(L,N),i(L,N,D,_,C,O,u,h,g,m,M,p,A,b))}}return function(n){var a,s,l,c,d,u,h,g,m,M,p,A,b={point:v,lineStart:E,lineEnd:_,polygonStart:function(){n.polygonStart(),b.lineStart=C},polygonEnd:function(){n.polygonEnd(),b.lineStart=E}};function v(T,D){T=e(T,D),n.point(T[0],T[1])}function E(){g=NaN,b.point=x,n.lineStart()}function x(T,D){var P=Qh([T,D]),L=e(T,D);i(g,m,h,M,p,A,g=L[0],m=L[1],h=T,M=P[0],p=P[1],A=P[2],HE,n),n.point(g,m)}function _(){b.point=v,n.lineEnd()}function C(){E(),b.point=O,b.lineEnd=I}function O(T,D){x(a=T,D),s=g,l=m,c=M,d=p,u=A,b.point=x}function I(){i(g,m,h,M,p,A,s,l,a,c,d,u,HE,n),b.lineEnd=_,_()}return b}}var IX=k8({point:function(e,t){this.stream.point(e*ka,t*ka)}});function BX(e){return k8({point:function(t,i){var n=e(t,i);return this.stream.point(n[0],n[1])}})}function RX(e,t,i,n,a){function s(l,c){return l*=n,c*=a,[t+e*l,i-e*c]}return s.invert=function(l,c){return[(l-t)/e*n,(i-c)/e*a]},s}function zE(e,t,i,n,a,s){if(!s)return RX(e,t,i,n,a);var l=mr(s),c=Kn(s),d=l*e,u=c*e,h=l/e,g=c/e,m=(c*i-l*t)/e,M=(c*t+l*i)/e;function p(A,b){return A*=n,b*=a,[d*A-u*b+t,i-u*A-d*b]}return p.invert=function(A,b){return[n*(h*A-g*b+m),a*(M-g*A-h*b)]},p}function zc(e){return CR(function(){return e})()}function CR(e){var t,i=150,n=480,a=250,s=0,l=0,c=0,d=0,u=0,h,g=0,m=1,M=1,p=null,A=kE,b=null,v,E,x,_=_M,C=.5,O,I,T,D,P;function L(F){return T(F[0]*ka,F[1]*ka)}function N(F){return F=T.invert(F[0],F[1]),F&&[F[0]*cs,F[1]*cs]}L.stream=function(F){return D&&P===F?D:D=IX(BX(h)(A(O(_(P=F)))))},L.preclip=function(F){return arguments.length?(A=F,p=void 0,$()):A},L.postclip=function(F){return arguments.length?(_=F,b=v=E=x=null,$()):_},L.clipAngle=function(F){return arguments.length?(A=+F?mX(p=F*ka):(p=null,kE),$()):p*cs},L.clipExtent=function(F){return arguments.length?(_=F==null?(b=v=E=x=null,_M):oR(b=+F[0][0],v=+F[0][1],E=+F[1][0],x=+F[1][1]),$()):b==null?null:[[b,v],[E,x]]},L.scale=function(F){return arguments.length?(i=+F,U()):i},L.translate=function(F){return arguments.length?(n=+F[0],a=+F[1],U()):[n,a]},L.center=function(F){return arguments.length?(s=F[0]%360*ka,l=F[1]%360*ka,U()):[s*cs,l*cs]},L.rotate=function(F){return arguments.length?(c=F[0]%360*ka,d=F[1]%360*ka,u=F.length>2?F[2]%360*ka:0,U()):[c*cs,d*cs,u*cs]},L.angle=function(F){return arguments.length?(g=F%360*ka,U()):g*cs},L.reflectX=function(F){return arguments.length?(m=F?-1:1,U()):m<0},L.reflectY=function(F){return arguments.length?(M=F?-1:1,U()):M<0},L.precision=function(F){return arguments.length?(O=QE(I,C=F*F),$()):Ss(C)},L.fitExtent=function(F,j){return ty(L,F,j)},L.fitSize=function(F,j){return yR(L,F,j)},L.fitWidth=function(F,j){return vR(L,F,j)},L.fitHeight=function(F,j){return bR(L,F,j)};function U(){var F=zE(i,0,0,m,M,g).apply(null,t(s,l)),j=zE(i,n-F[0],a-F[1],m,M,g);return h=nR(c,d,u),I=bM(t,j),T=bM(h,I),O=QE(I,C),$()}function $(){return D=P=null,L}return function(){return t=e.apply(this,arguments),L.invert=t.invert&&N,U()}}function ey(e){var t=0,i=Mr/3,n=CR(e),a=n(t,i);return a.parallels=function(s){return arguments.length?n(t=s[0]*ka,i=s[1]*ka):[t*cs,i*cs]},a}function DX(e){var t=mr(e);function i(n,a){return[n*t,Kn(a)/t]}return i.invert=function(n,a){return[n/t,b0(a*t)]},i}function PX(e,t){var i=Kn(e),n=(i+Kn(t))/2;if(Wr(n)<rr)return DX(e);var a=1+i*(2*n-i),s=Ss(a)/n;function l(c,d){var u=Ss(a-2*n*Kn(d))/n;return[u*Kn(c*=n),s-u*mr(c)]}return l.invert=function(c,d){var u=s-d,h=Il(c,Wr(u))*h0(u);return u*n<0&&(h-=Mr*h0(c)*h0(u)),[h/n,b0((a-(c*c+u*u)*n*n)/(2*n))]},l}function kp(){return ey(PX).scale(155.424).center([0,33.6442])}function _R(){return kp().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function LX(e){var t=e.length;return{point:function(i,n){for(var a=-1;++a<t;)e[a].point(i,n)},sphere:function(){for(var i=-1;++i<t;)e[i].sphere()},lineStart:function(){for(var i=-1;++i<t;)e[i].lineStart()},lineEnd:function(){for(var i=-1;++i<t;)e[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<t;)e[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<t;)e[i].polygonEnd()}}}function kX(){var e,t,i=_R(),n,a=kp().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,l=kp().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,d,u={point:function(m,M){d=[m,M]}};function h(m){var M=m[0],p=m[1];return d=null,n.point(M,p),d||(s.point(M,p),d)||(c.point(M,p),d)}h.invert=function(m){var M=i.scale(),p=i.translate(),A=(m[0]-p[0])/M,b=(m[1]-p[1])/M;return(b>=.12&&b<.234&&A>=-.425&&A<-.214?a:b>=.166&&b<.234&&A>=-.214&&A<-.115?l:i).invert(m)},h.stream=function(m){return e&&t===m?e:e=LX([i.stream(t=m),a.stream(m),l.stream(m)])},h.precision=function(m){return arguments.length?(i.precision(m),a.precision(m),l.precision(m),g()):i.precision()},h.scale=function(m){return arguments.length?(i.scale(m),a.scale(m*.35),l.scale(m),h.translate(i.translate())):i.scale()},h.translate=function(m){if(!arguments.length)return i.translate();var M=i.scale(),p=+m[0],A=+m[1];return n=i.translate(m).clipExtent([[p-.455*M,A-.238*M],[p+.455*M,A+.238*M]]).stream(u),s=a.translate([p-.307*M,A+.201*M]).clipExtent([[p-.425*M+rr,A+.12*M+rr],[p-.214*M-rr,A+.234*M-rr]]).stream(u),c=l.translate([p-.205*M,A+.212*M]).clipExtent([[p-.214*M+rr,A+.166*M+rr],[p-.115*M-rr,A+.234*M-rr]]).stream(u),g()},h.fitExtent=function(m,M){return ty(h,m,M)},h.fitSize=function(m,M){return yR(h,m,M)},h.fitWidth=function(m,M){return vR(h,m,M)},h.fitHeight=function(m,M){return bR(h,m,M)};function g(){return e=t=null,h}return h.scale(1070)}function ER(e){return function(t,i){var n=mr(t),a=mr(i),s=e(n*a);return s===1/0?[2,0]:[s*a*Kn(t),s*Kn(i)]}}function Z2(e){return function(t,i){var n=Ss(t*t+i*i),a=e(n),s=Kn(a),l=mr(a);return[Il(t*s,n*l),b0(n&&i*s/n)]}}var wR=ER(function(e){return Ss(2/(1+e))});wR.invert=Z2(function(e){return 2*b0(e/2)});function NX(){return zc(wR).scale(124.75).clipAngle(180-.001)}var OR=ER(function(e){return(e=iR(e))&&e/Kn(e)});OR.invert=Z2(function(e){return e});function FX(){return zc(OR).scale(79.4188).clipAngle(180-.001)}function N8(e,t){return[e,xp(YA((Fa+t)/2))]}N8.invert=function(e,t){return[e,2*gf(eR(t))-Fa]};function UX(){return xR(N8).scale(961/Xs)}function xR(e){var t=zc(e),i=t.center,n=t.scale,a=t.translate,s=t.clipExtent,l=null,c,d,u;t.scale=function(g){return arguments.length?(n(g),h()):n()},t.translate=function(g){return arguments.length?(a(g),h()):a()},t.center=function(g){return arguments.length?(i(g),h()):i()},t.clipExtent=function(g){return arguments.length?(g==null?l=c=d=u=null:(l=+g[0][0],c=+g[0][1],d=+g[1][0],u=+g[1][1]),h()):l==null?null:[[l,c],[d,u]]};function h(){var g=Mr*n(),m=t(sX(t.rotate()).invert([0,0]));return s(l==null?[[m[0]-g,m[1]-g],[m[0]+g,m[1]+g]]:e===N8?[[Math.max(m[0]-g,l),c],[Math.min(m[0]+g,d),u]]:[[l,Math.max(m[1]-g,c)],[d,Math.min(m[1]+g,u)]])}return h()}function w4(e){return YA((Fa+e)/2)}function $X(e,t){var i=mr(e),n=e===t?Kn(e):xp(i/mr(t))/xp(w4(t)/w4(e)),a=i*rg(w4(e),n)/n;if(!n)return N8;function s(l,c){a>0?c<-Fa+rr&&(c=-Fa+rr):c>Fa-rr&&(c=Fa-rr);var d=a/rg(w4(c),n);return[d*Kn(n*l),a-d*mr(n*l)]}return s.invert=function(l,c){var d=a-c,u=h0(n)*Ss(l*l+d*d),h=Il(l,Wr(d))*h0(d);return d*n<0&&(h-=Mr*h0(l)*h0(d)),[h/n,2*gf(rg(a/u,1/n))-Fa]},s}function GX(){return ey($X).scale(109.5).parallels([30,30])}function Np(e,t){return[e,t]}Np.invert=Np;function VX(){return zc(Np).scale(152.63)}function HX(e,t){var i=mr(e),n=e===t?Kn(e):(i-mr(t))/(t-e),a=i/n+e;if(Wr(n)<rr)return Np;function s(l,c){var d=a-c,u=n*l;return[d*Kn(u),a-d*mr(u)]}return s.invert=function(l,c){var d=a-c,u=Il(l,Wr(d))*h0(d);return d*n<0&&(u-=Mr*h0(l)*h0(d)),[u/n,a-h0(n)*Ss(l*l+d*d)]},s}function QX(){return ey(HX).scale(131.154).center([0,13.9389])}var Q1=1.340264,z1=-.081106,j1=893e-6,J1=.003796,Fp=Ss(3)/2,zX=12;function SR(e,t){var i=b0(Fp*Kn(t)),n=i*i,a=n*n*n;return[e*mr(i)/(Fp*(Q1+3*z1*n+a*(7*j1+9*J1*n))),i*(Q1+z1*n+a*(j1+J1*n))]}SR.invert=function(e,t){for(var i=t,n=i*i,a=n*n*n,s=0,l,c,d;s<zX&&(c=i*(Q1+z1*n+a*(j1+J1*n))-t,d=Q1+3*z1*n+a*(7*j1+9*J1*n),i-=l=c/d,n=i*i,a=n*n*n,!(Wr(l)<tR));++s);return[Fp*e*(Q1+3*z1*n+a*(7*j1+9*J1*n))/mr(i),b0(Kn(i)/Fp)]};function jX(){return zc(SR).scale(177.158)}function TR(e,t){var i=mr(t),n=mr(e)*i;return[i*Kn(e)/n,Kn(t)/n]}TR.invert=Z2(gf);function JX(){return zc(TR).scale(144.049).clipAngle(60)}function IR(e,t){return[mr(t)*Kn(e),Kn(t)]}IR.invert=Z2(b0);function WX(){return zc(IR).scale(249.5).clipAngle(90+rr)}function BR(e,t){var i=mr(t),n=1+mr(e)*i;return[i*Kn(e)/n,Kn(t)/n]}BR.invert=Z2(function(e){return 2*gf(e)});function qX(){return zc(BR).scale(250).clipAngle(142)}function RR(e,t){return[xp(YA((Fa+t)/2)),-e]}RR.invert=function(e,t){return[-t,2*gf(eR(e))-Fa]};function KX(){var e=xR(RR),t=e.center,i=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?i([n[0],n[1],n.length>2?n[2]+90:90]):(n=i(),[n[0],n[1],n[2]-90])},i([0,0,90]).scale(159.155)}function Lo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function F8(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const PM=Symbol("implicit");function iy(){var e=new td,t=[],i=[],n=PM;function a(s){let l=e.get(s);if(l===void 0){if(n!==PM)return n;e.set(s,l=t.push(s)-1)}return i[l%i.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new td;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(s){return arguments.length?(i=Array.from(s),a):i.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return iy(t,i).unknown(n)},Lo.apply(a,arguments),a}function U8(){var e=iy().unknown(void 0),t=e.domain,i=e.range,n=0,a=1,s,l,c=!1,d=0,u=0,h=.5;delete e.unknown;function g(){var m=t().length,M=a<n,p=M?a:n,A=M?n:a;s=(A-p)/Math.max(1,m-d+u*2),c&&(s=Math.floor(s)),p+=(A-p-s*(m-d))*h,l=s*(1-d),c&&(p=Math.round(p),l=Math.round(l));var b=Ci(m).map(function(v){return p+s*v});return i(M?b.reverse():b)}return e.domain=function(m){return arguments.length?(t(m),g()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,g()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,c=!0,g()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(m){return arguments.length?(c=!!m,g()):c},e.padding=function(m){return arguments.length?(d=Math.min(1,u=+m),g()):d},e.paddingInner=function(m){return arguments.length?(d=Math.min(1,m),g()):d},e.paddingOuter=function(m){return arguments.length?(u=+m,g()):u},e.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),g()):h},e.copy=function(){return U8(t(),[n,a]).round(c).paddingInner(d).paddingOuter(u).align(h)},Lo.apply(g(),arguments)}function DR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DR(t())},e}function XX(){return DR(U8.apply(null,arguments).paddingInner(1))}function YX(e){return function(){return e}}function LM(e){return+e}var jE=[0,1];function m0(e){return e}function kM(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:YX(isNaN(t)?NaN:.5)}function ZX(e,t){var i;return e>t&&(i=e,e=t,t=i),function(n){return Math.max(e,Math.min(t,n))}}function tY(e,t,i){var n=e[0],a=e[1],s=t[0],l=t[1];return a<n?(n=kM(a,n),s=i(l,s)):(n=kM(n,a),s=i(s,l)),function(c){return s(n(c))}}function eY(e,t,i){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=kM(e[l],e[l+1]),s[l]=i(t[l],t[l+1]);return function(c){var d=j2(e,c,1,n)-1;return s[d](a[d](c))}}function tm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $8(){var e=jE,t=jE,i=X2,n,a,s,l=m0,c,d,u;function h(){var m=Math.min(e.length,t.length);return l!==m0&&(l=ZX(e[0],e[m-1])),c=m>2?eY:tY,d=u=null,g}function g(m){return m==null||isNaN(m=+m)?s:(d||(d=c(e.map(n),t,i)))(n(l(m)))}return g.invert=function(m){return l(a((u||(u=c(t,e.map(n),j9)))(m)))},g.domain=function(m){return arguments.length?(e=Array.from(m,LM),h()):e.slice()},g.range=function(m){return arguments.length?(t=Array.from(m),h()):t.slice()},g.rangeRound=function(m){return t=Array.from(m),i=jA,h()},g.clamp=function(m){return arguments.length?(l=m?!0:m0,h()):l!==m0},g.interpolate=function(m){return arguments.length?(i=m,h()):i},g.unknown=function(m){return arguments.length?(s=m,g):s},function(m,M){return n=m,a=M,h()}}function PR(){return $8()(m0,m0)}function iY(e,t,i,n){var a=sM(e,t,i),s;switch(n=c2(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=rX(a,l))&&(n.precision=s),ZB(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=aX(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=nX(a))&&(n.precision=s-(n.type==="%")*2);break}}return pf(n)}function em(e){var t=e.domain;return e.ticks=function(i){var n=t();return Nh(n[0],n[n.length-1],i??10)},e.tickFormat=function(i,n){var a=t();return iY(a[0],a[a.length-1],i??10,n)},e.nice=function(i){i==null&&(i=10);var n=t(),a=0,s=n.length-1,l=n[a],c=n[s],d,u,h=10;for(c<l&&(u=l,l=c,c=u,u=a,a=s,s=u);h-- >0;){if(u=ed(l,c,i),u===d)return n[a]=l,n[s]=c,t(n);if(u>0)l=Math.floor(l/u)*u,c=Math.ceil(c/u)*u;else if(u<0)l=Math.ceil(l*u)/u,c=Math.floor(c*u)/u;else break;d=u}return e},e}function im(){var e=PR();return e.copy=function(){return tm(e,im())},Lo.apply(e,arguments),em(e)}function LR(e){var t;function i(n){return n==null||isNaN(n=+n)?t:n}return i.invert=i,i.domain=i.range=function(n){return arguments.length?(e=Array.from(n,LM),i):e.slice()},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return LR(e).unknown(t)},e=arguments.length?Array.from(e,LM):[0,1],em(i)}function kR(e,t){e=e.slice();var i=0,n=e.length-1,a=e[i],s=e[n],l;return s<a&&(l=i,i=n,n=l,l=a,a=s,s=l),e[i]=t.floor(a),e[n]=t.ceil(s),e}function JE(e){return Math.log(e)}function WE(e){return Math.exp(e)}function nY(e){return-Math.log(-e)}function rY(e){return-Math.exp(-e)}function aY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sY(e){return e===10?aY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function oY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function qE(e){return(t,i)=>-e(-t,i)}function NR(e){const t=e(JE,WE),i=t.domain;let n=10,a,s;function l(){return a=oY(n),s=sY(n),i()[0]<0?(a=qE(a),s=qE(s),e(nY,rY)):e(JE,WE),t}return t.base=function(c){return arguments.length?(n=+c,l()):n},t.domain=function(c){return arguments.length?(i(c),l()):i()},t.ticks=c=>{const d=i();let u=d[0],h=d[d.length-1];const g=h<u;g&&([u,h]=[h,u]);let m=a(u),M=a(h),p,A;const b=c==null?10:+c;let v=[];if(!(n%1)&&M-m<b){if(m=Math.floor(m),M=Math.ceil(M),u>0){for(;m<=M;++m)for(p=1;p<n;++p)if(A=m<0?p/s(-m):p*s(m),!(A<u)){if(A>h)break;v.push(A)}}else for(;m<=M;++m)for(p=n-1;p>=1;--p)if(A=m>0?p/s(-m):p*s(m),!(A<u)){if(A>h)break;v.push(A)}v.length*2<b&&(v=Nh(u,h,b))}else v=Nh(m,M,Math.min(M-m,b)).map(s);return g?v.reverse():v},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=c2(d)).precision==null&&(d.trim=!0),d=pf(d)),c===1/0)return d;const u=Math.max(1,n*c/t.ticks().length);return h=>{let g=h/s(Math.round(a(h)));return g*n<n-.5&&(g*=n),g<=u?d(h):""}},t.nice=()=>i(kR(i(),{floor:c=>s(Math.floor(a(c))),ceil:c=>s(Math.ceil(a(c)))})),t}function FR(){const e=NR($8()).domain([1,10]);return e.copy=()=>tm(e,FR()).base(e.base()),Lo.apply(e,arguments),e}function KE(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function XE(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function UR(e){var t=1,i=e(KE(t),XE(t));return i.constant=function(n){return arguments.length?e(KE(t=+n),XE(t)):t},em(i)}function $R(){var e=UR($8());return e.copy=function(){return tm(e,$R()).constant(e.constant())},Lo.apply(e,arguments)}function YE(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function cY(e){return e<0?-e*e:e*e}function GR(e){var t=e(m0,m0),i=1;function n(){return i===1?e(m0,m0):i===.5?e(lY,cY):e(YE(i),YE(1/i))}return t.exponent=function(a){return arguments.length?(i=+a,n()):i},em(t)}function VR(){var e=GR($8());return e.copy=function(){return tm(e,VR()).exponent(e.exponent())},Lo.apply(e,arguments),e}function HR(){var e=[],t=[],i=[],n;function a(){var l=0,c=Math.max(1,t.length);for(i=new Array(c-1);++l<c;)i[l-1]=rJ(e,l/c);return s}function s(l){return l==null||isNaN(l=+l)?n:t[j2(i,l)]}return s.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?i[c-1]:e[0],c<i.length?i[c]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(N9),a()},s.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},s.unknown=function(l){return arguments.length?(n=l,s):n},s.quantiles=function(){return i.slice()},s.copy=function(){return HR().domain(e).range(t).unknown(n)},Lo.apply(s,arguments)}function QR(){var e=[.5],t=[0,1],i,n=1;function a(s){return s!=null&&s<=s?t[j2(e,s,0,n)]:i}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},a.unknown=function(s){return arguments.length?(i=s,a):i},a.copy=function(){return QR().domain(e).range(t).unknown(i)},Lo.apply(a,arguments)}const cg=new Date,ug=new Date;function m9(e,t,i,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const l=a(s),c=a.ceil(s);return s-l<c-s?l:c},a.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),a.range=(s,l,c)=>{const d=[];if(s=a.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return d;let u;do d.push(u=new Date(+s)),t(s,c),e(s);while(u<s&&s<l);return d},a.filter=s=>m9(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!s(l););else for(;--c>=0;)for(;t(l,1),!s(l););}),i&&(a.count=(s,l)=>(cg.setTime(+s),ug.setTime(+l),e(cg),e(ug),Math.floor(i(cg,ug))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?l=>n(l)%s===0:l=>a.count(0,l)%s===0):a)),a}const Up=m9(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Up.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?m9(t=>{t.setTime(Math.floor(t/e)*e)},(t,i)=>{t.setTime(+t+i*e)},(t,i)=>(i-t)/e):Up);Up.range;const yl=1e3,p0=yl*60,vl=p0*60,Bl=vl*24,ny=Bl*7,ZE=Bl*30,dg=Bl*365,F0=m9(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yl)},(e,t)=>(t-e)/yl,e=>e.getUTCSeconds());F0.range;const nm=m9(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yl)},(e,t)=>{e.setTime(+e+t*p0)},(e,t)=>(t-e)/p0,e=>e.getMinutes());nm.range;const rm=m9(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*p0)},(e,t)=>(t-e)/p0,e=>e.getUTCMinutes());rm.range;const am=m9(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yl-e.getMinutes()*p0)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getHours());am.range;const sm=m9(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vl)},(e,t)=>(t-e)/vl,e=>e.getUTCHours());sm.range;const hd=m9(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*p0)/Bl,e=>e.getDate()-1);hd.range;const G8=m9(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bl,e=>e.getUTCDate()-1);G8.range;const V8=m9(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bl,e=>Math.floor(e/Bl));V8.range;function fd(e){return m9(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,i)=>{t.setDate(t.getDate()+i*7)},(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*p0)/ny)}const jh=fd(0),h2=fd(1),zR=fd(2),jR=fd(3),sd=fd(4),JR=fd(5),WR=fd(6);jh.range;h2.range;zR.range;jR.range;sd.range;JR.range;WR.range;function md(e){return m9(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+i*7)},(t,i)=>(i-t)/ny)}const Jh=md(0),f2=md(1),qR=md(2),KR=md(3),od=md(4),XR=md(5),YR=md(6);Jh.range;f2.range;qR.range;KR.range;od.range;XR.range;YR.range;const om=m9(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());om.range;const lm=m9(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lm.range;const Q0=m9(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Q0.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:m9(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i*e)});Q0.range;const z0=m9(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());z0.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:m9(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i*e)});z0.range;function ZR(e,t,i,n,a,s){const l=[[F0,1,yl],[F0,5,5*yl],[F0,15,15*yl],[F0,30,30*yl],[s,1,p0],[s,5,5*p0],[s,15,15*p0],[s,30,30*p0],[a,1,vl],[a,3,3*vl],[a,6,6*vl],[a,12,12*vl],[n,1,Bl],[n,2,2*Bl],[i,1,ny],[t,1,ZE],[t,3,3*ZE],[e,1,dg]];function c(u,h,g){const m=h<u;m&&([u,h]=[h,u]);const M=g&&typeof g.range=="function"?g:d(u,h,g),p=M?M.range(u,+h+1):[];return m?p.reverse():p}function d(u,h,g){const m=Math.abs(h-u)/g,M=w8(([,,b])=>b).right(l,m);if(M===l.length)return e.every(sM(u/dg,h/dg,g));if(M===0)return Up.every(Math.max(sM(u,h,g),1));const[p,A]=l[m/l[M-1][2]<l[M][2]/m?M-1:M];return p.every(A)}return[c,d]}const[uY,tD]=ZR(z0,lm,Jh,V8,sm,rm),[dY,hY]=ZR(Q0,om,jh,hd,am,nm);function hg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function A1(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}function fY(e){var t=e.dateTime,i=e.date,n=e.time,a=e.periods,s=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,u=y1(a),h=v1(a),g=y1(s),m=v1(s),M=y1(l),p=v1(l),A=y1(c),b=v1(c),v=y1(d),E=v1(d),x={a:z,A:Q,b:V,B:q,c:null,d:aw,e:aw,f:kY,g:jY,G:WY,H:DY,I:PY,j:LY,L:eD,m:NY,M:FY,p:J,q:W,Q:lw,s:cw,S:UY,u:$Y,U:GY,V:VY,w:HY,W:QY,x:null,X:null,y:zY,Y:JY,Z:qY,"%":ow},_={a:et,A:mt,b:ot,B:pt,c:null,d:sw,e:sw,f:ZY,g:cZ,G:dZ,H:KY,I:XY,j:YY,L:nD,m:tZ,M:eZ,p:wt,q:Mt,Q:lw,s:cw,S:iZ,u:nZ,U:rZ,V:aZ,w:sZ,W:oZ,x:null,X:null,y:lZ,Y:uZ,Z:hZ,"%":ow},C={a:P,A:L,b:N,B:U,c:$,d:nw,e:nw,f:TY,g:iw,G:ew,H:rw,I:rw,j:wY,L:SY,m:EY,M:OY,p:D,q:_Y,Q:BY,s:RY,S:xY,u:AY,U:yY,V:vY,w:MY,W:bY,x:F,X:j,y:iw,Y:ew,Z:CY,"%":IY};x.x=O(i,x),x.X=O(n,x),x.c=O(t,x),_.x=O(i,_),_.X=O(n,_),_.c=O(t,_);function O(xt,dt){return function(Ot){var At=[],jt=-1,bt=0,kt=xt.length,Dt,Xt,ae;for(Ot instanceof Date||(Ot=new Date(+Ot));++jt<kt;)xt.charCodeAt(jt)===37&&(At.push(xt.slice(bt,jt)),(Xt=tw[Dt=xt.charAt(++jt)])!=null?Dt=xt.charAt(++jt):Xt=Dt==="e"?" ":"0",(ae=dt[Dt])&&(Dt=ae(Ot,Xt)),At.push(Dt),bt=jt+1);return At.push(xt.slice(bt,jt)),At.join("")}}function I(xt,dt){return function(Ot){var At=A1(1900,void 0,1),jt=T(At,xt,Ot+="",0),bt,kt;if(jt!=Ot.length)return null;if("Q"in At)return new Date(At.Q);if("s"in At)return new Date(At.s*1e3+("L"in At?At.L:0));if(dt&&!("Z"in At)&&(At.Z=0),"p"in At&&(At.H=At.H%12+At.p*12),At.m===void 0&&(At.m="q"in At?At.q:0),"V"in At){if(At.V<1||At.V>53)return null;"w"in At||(At.w=1),"Z"in At?(bt=fg(A1(At.y,0,1)),kt=bt.getUTCDay(),bt=kt>4||kt===0?f2.ceil(bt):f2(bt),bt=G8.offset(bt,(At.V-1)*7),At.y=bt.getUTCFullYear(),At.m=bt.getUTCMonth(),At.d=bt.getUTCDate()+(At.w+6)%7):(bt=hg(A1(At.y,0,1)),kt=bt.getDay(),bt=kt>4||kt===0?h2.ceil(bt):h2(bt),bt=hd.offset(bt,(At.V-1)*7),At.y=bt.getFullYear(),At.m=bt.getMonth(),At.d=bt.getDate()+(At.w+6)%7)}else("W"in At||"U"in At)&&("w"in At||(At.w="u"in At?At.u%7:"W"in At?1:0),kt="Z"in At?fg(A1(At.y,0,1)).getUTCDay():hg(A1(At.y,0,1)).getDay(),At.m=0,At.d="W"in At?(At.w+6)%7+At.W*7-(kt+5)%7:At.w+At.U*7-(kt+6)%7);return"Z"in At?(At.H+=At.Z/100|0,At.M+=At.Z%100,fg(At)):hg(At)}}function T(xt,dt,Ot,At){for(var jt=0,bt=dt.length,kt=Ot.length,Dt,Xt;jt<bt;){if(At>=kt)return-1;if(Dt=dt.charCodeAt(jt++),Dt===37){if(Dt=dt.charAt(jt++),Xt=C[Dt in tw?dt.charAt(jt++):Dt],!Xt||(At=Xt(xt,Ot,At))<0)return-1}else if(Dt!=Ot.charCodeAt(At++))return-1}return At}function D(xt,dt,Ot){var At=u.exec(dt.slice(Ot));return At?(xt.p=h.get(At[0].toLowerCase()),Ot+At[0].length):-1}function P(xt,dt,Ot){var At=M.exec(dt.slice(Ot));return At?(xt.w=p.get(At[0].toLowerCase()),Ot+At[0].length):-1}function L(xt,dt,Ot){var At=g.exec(dt.slice(Ot));return At?(xt.w=m.get(At[0].toLowerCase()),Ot+At[0].length):-1}function N(xt,dt,Ot){var At=v.exec(dt.slice(Ot));return At?(xt.m=E.get(At[0].toLowerCase()),Ot+At[0].length):-1}function U(xt,dt,Ot){var At=A.exec(dt.slice(Ot));return At?(xt.m=b.get(At[0].toLowerCase()),Ot+At[0].length):-1}function $(xt,dt,Ot){return T(xt,t,dt,Ot)}function F(xt,dt,Ot){return T(xt,i,dt,Ot)}function j(xt,dt,Ot){return T(xt,n,dt,Ot)}function z(xt){return l[xt.getDay()]}function Q(xt){return s[xt.getDay()]}function V(xt){return d[xt.getMonth()]}function q(xt){return c[xt.getMonth()]}function J(xt){return a[+(xt.getHours()>=12)]}function W(xt){return 1+~~(xt.getMonth()/3)}function et(xt){return l[xt.getUTCDay()]}function mt(xt){return s[xt.getUTCDay()]}function ot(xt){return d[xt.getUTCMonth()]}function pt(xt){return c[xt.getUTCMonth()]}function wt(xt){return a[+(xt.getUTCHours()>=12)]}function Mt(xt){return 1+~~(xt.getUTCMonth()/3)}return{format:function(xt){var dt=O(xt+="",x);return dt.toString=function(){return xt},dt},parse:function(xt){var dt=I(xt+="",!1);return dt.toString=function(){return xt},dt},utcFormat:function(xt){var dt=O(xt+="",_);return dt.toString=function(){return xt},dt},utcParse:function(xt){var dt=I(xt+="",!0);return dt.toString=function(){return xt},dt}}}var tw={"-":"",_:" ",0:"0"},I9=/^\s*\d+/,mY=/^%/,pY=/[\\^$*+?|[\]().{}]/g;function Lr(e,t,i){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<i?new Array(i-s+1).join(t)+a:a)}function gY(e){return e.replace(pY,"\\$&")}function y1(e){return new RegExp("^(?:"+e.map(gY).join("|")+")","i")}function v1(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function MY(e,t,i){var n=I9.exec(t.slice(i,i+1));return n?(e.w=+n[0],i+n[0].length):-1}function AY(e,t,i){var n=I9.exec(t.slice(i,i+1));return n?(e.u=+n[0],i+n[0].length):-1}function yY(e,t,i){var n=I9.exec(t.slice(i,i+2));return n?(e.U=+n[0],i+n[0].length):-1}function vY(e,t,i){var n=I9.exec(t.slice(i,i+2));return n?(e.V=+n[0],i+n[0].length):-1}function bY(e,t,i){var n=I9.exec(t.slice(i,i+2));return n?(e.W=+n[0],i+n[0].length):-1}function ew(e,t,i){var n=I9.exec(t.slice(i,i+4));return n?(e.y=+n[0],i+n[0].length):-1}function iw(e,t,i){var n=I9.exec(t.slice(i,i+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function CY(e,t,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function _Y(e,t,i){var n=I9.exec(t.slice(i,i+1));return n?(e.q=n[0]*3-3,i+n[0].length):-1}function EY(e,t,i){var n=I9.exec(t.slice(i,i+2));return n?(e.m=n[0]-1,i+n[0].length):-1}function nw(e,t,i){var n=I9.exec(t.slice(i,i+2));return n?(e.d=+n[0],i+n[0].length):-1}function wY(e,t,i){var n=I9.exec(t.slice(i,i+3));return n?(e.m=0,e.d=+n[0],i+n[0].length):-1}function rw(e,t,i){var n=I9.exec(t.slice(i,i+2));return n?(e.H=+n[0],i+n[0].length):-1}function OY(e,t,i){var n=I9.exec(t.slice(i,i+2));return n?(e.M=+n[0],i+n[0].length):-1}function xY(e,t,i){var n=I9.exec(t.slice(i,i+2));return n?(e.S=+n[0],i+n[0].length):-1}function SY(e,t,i){var n=I9.exec(t.slice(i,i+3));return n?(e.L=+n[0],i+n[0].length):-1}function TY(e,t,i){var n=I9.exec(t.slice(i,i+6));return n?(e.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function IY(e,t,i){var n=mY.exec(t.slice(i,i+1));return n?i+n[0].length:-1}function BY(e,t,i){var n=I9.exec(t.slice(i));return n?(e.Q=+n[0],i+n[0].length):-1}function RY(e,t,i){var n=I9.exec(t.slice(i));return n?(e.s=+n[0],i+n[0].length):-1}function aw(e,t){return Lr(e.getDate(),t,2)}function DY(e,t){return Lr(e.getHours(),t,2)}function PY(e,t){return Lr(e.getHours()%12||12,t,2)}function LY(e,t){return Lr(1+hd.count(Q0(e),e),t,3)}function eD(e,t){return Lr(e.getMilliseconds(),t,3)}function kY(e,t){return eD(e,t)+"000"}function NY(e,t){return Lr(e.getMonth()+1,t,2)}function FY(e,t){return Lr(e.getMinutes(),t,2)}function UY(e,t){return Lr(e.getSeconds(),t,2)}function $Y(e){var t=e.getDay();return t===0?7:t}function GY(e,t){return Lr(jh.count(Q0(e)-1,e),t,2)}function iD(e){var t=e.getDay();return t>=4||t===0?sd(e):sd.ceil(e)}function VY(e,t){return e=iD(e),Lr(sd.count(Q0(e),e)+(Q0(e).getDay()===4),t,2)}function HY(e){return e.getDay()}function QY(e,t){return Lr(h2.count(Q0(e)-1,e),t,2)}function zY(e,t){return Lr(e.getFullYear()%100,t,2)}function jY(e,t){return e=iD(e),Lr(e.getFullYear()%100,t,2)}function JY(e,t){return Lr(e.getFullYear()%1e4,t,4)}function WY(e,t){var i=e.getDay();return e=i>=4||i===0?sd(e):sd.ceil(e),Lr(e.getFullYear()%1e4,t,4)}function qY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Lr(t/60|0,"0",2)+Lr(t%60,"0",2)}function sw(e,t){return Lr(e.getUTCDate(),t,2)}function KY(e,t){return Lr(e.getUTCHours(),t,2)}function XY(e,t){return Lr(e.getUTCHours()%12||12,t,2)}function YY(e,t){return Lr(1+G8.count(z0(e),e),t,3)}function nD(e,t){return Lr(e.getUTCMilliseconds(),t,3)}function ZY(e,t){return nD(e,t)+"000"}function tZ(e,t){return Lr(e.getUTCMonth()+1,t,2)}function eZ(e,t){return Lr(e.getUTCMinutes(),t,2)}function iZ(e,t){return Lr(e.getUTCSeconds(),t,2)}function nZ(e){var t=e.getUTCDay();return t===0?7:t}function rZ(e,t){return Lr(Jh.count(z0(e)-1,e),t,2)}function rD(e){var t=e.getUTCDay();return t>=4||t===0?od(e):od.ceil(e)}function aZ(e,t){return e=rD(e),Lr(od.count(z0(e),e)+(z0(e).getUTCDay()===4),t,2)}function sZ(e){return e.getUTCDay()}function oZ(e,t){return Lr(f2.count(z0(e)-1,e),t,2)}function lZ(e,t){return Lr(e.getUTCFullYear()%100,t,2)}function cZ(e,t){return e=rD(e),Lr(e.getUTCFullYear()%100,t,2)}function uZ(e,t){return Lr(e.getUTCFullYear()%1e4,t,4)}function dZ(e,t){var i=e.getUTCDay();return e=i>=4||i===0?od(e):od.ceil(e),Lr(e.getUTCFullYear()%1e4,t,4)}function hZ(){return"+0000"}function ow(){return"%"}function lw(e){return+e}function cw(e){return Math.floor(+e/1e3)}var ih,ry,cm;fZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fZ(e){return ih=fY(e),ry=ih.format,ih.parse,cm=ih.utcFormat,ih.utcParse,ih}function mZ(e){return new Date(e)}function pZ(e){return e instanceof Date?+e:+new Date(+e)}function ay(e,t,i,n,a,s,l,c,d,u){var h=PR(),g=h.invert,m=h.domain,M=u(".%L"),p=u(":%S"),A=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),E=u("%b %d"),x=u("%B"),_=u("%Y");function C(O){return(d(O)<O?M:c(O)<O?p:l(O)<O?A:s(O)<O?b:n(O)<O?a(O)<O?v:E:i(O)<O?x:_)(O)}return h.invert=function(O){return new Date(g(O))},h.domain=function(O){return arguments.length?m(Array.from(O,pZ)):m().map(mZ)},h.ticks=function(O){var I=m();return e(I[0],I[I.length-1],O??10)},h.tickFormat=function(O,I){return I==null?C:u(I)},h.nice=function(O){var I=m();return(!O||typeof O.range!="function")&&(O=t(I[0],I[I.length-1],O??10)),O?m(kR(I,O)):h},h.copy=function(){return tm(h,ay(e,t,i,n,a,s,l,c,d,u))},h}function gZ(){return Lo.apply(ay(dY,hY,Q0,om,jh,hd,am,nm,F0,ry).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function MZ(){return Lo.apply(ay(uY,tD,z0,lm,Jh,G8,sm,rm,F0,cm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function H8(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Q8(){var e=0,t=.5,i=1,n=1,a,s,l,c,d,u=m0,h,g=!1,m;function M(A){return isNaN(A=+A)?m:(A=.5+((A=+h(A))-s)*(n*A<n*s?c:d),u(g?Math.max(0,Math.min(1,A)):A))}M.domain=function(A){return arguments.length?([e,t,i]=A,a=h(e=+e),s=h(t=+t),l=h(i=+i),c=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,M):[e,t,i]},M.clamp=function(A){return arguments.length?(g=!!A,M):g},M.interpolator=function(A){return arguments.length?(u=A,M):u};function p(A){return function(b){var v,E,x;return arguments.length?([v,E,x]=b,u=D8(A,[v,E,x]),M):[u(0),u(.5),u(1)]}}return M.range=p(X2),M.rangeRound=p(jA),M.unknown=function(A){return arguments.length?(m=A,M):m},function(A){return h=A,a=A(e),s=A(t),l=A(i),c=a===s?0:.5/(s-a),d=s===l?0:.5/(l-s),n=s<a?-1:1,M}}function aD(){var e=em(Q8()(m0));return e.copy=function(){return H8(e,aD())},F8.apply(e,arguments)}function sD(){var e=NR(Q8()).domain([.1,1,10]);return e.copy=function(){return H8(e,sD()).base(e.base())},F8.apply(e,arguments)}function oD(){var e=UR(Q8());return e.copy=function(){return H8(e,oD()).constant(e.constant())},F8.apply(e,arguments)}function lD(){var e=GR(Q8());return e.copy=function(){return H8(e,lD()).exponent(e.exponent())},F8.apply(e,arguments)}function Xn(e){for(var t=e.length/6|0,i=new Array(t),n=0;n<t;)i[n]="#"+e.slice(n*6,++n*6);return i}const AZ=Xn("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),yZ=Xn("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),vZ=Xn("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),U0=Xn("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),bZ=Xn("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),CZ=Xn("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),_Z=Xn("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),EZ=Xn("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),wZ=Xn("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),OZ=Xn("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Hs=Xn("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ca=e=>Aq(e[e.length-1]);var cD=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Xn);const uD=ca(cD);var dD=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Xn);const hD=ca(dD);var fD=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Xn);const mD=ca(fD);var pD=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Xn);const gD=ca(pD);var NM=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Xn);const $p=ca(NM);var MD=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Xn);const AD=ca(MD);var FM=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Xn);const Gp=ca(FM);var yD=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Xn);const vD=ca(yD);var bD=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Xn);const CD=ca(bD);var _D=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Xn);const ED=ca(_D);var wD=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Xn);const OD=ca(wD);var xD=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Xn);const SD=ca(xD);var TD=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Xn);const ID=ca(TD);var BD=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Xn);const RD=ca(BD);var DD=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Xn);const PD=ca(DD);var LD=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Xn);const kD=ca(LD);var ND=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Xn);const FD=ca(ND);var UD=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Xn);const $D=ca(UD);var GD=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Xn);const VD=ca(GD);var HD=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Xn);const QD=ca(HD);var zD=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Xn);const jD=ca(zD);var JD=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Xn);const WD=ca(JD);var qD=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Xn);const KD=ca(qD);var XD=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Xn);const YD=ca(XD);var ZD=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Xn);const tP=ca(ZD);var eP=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Xn);const iP=ca(eP);var nP=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Xn);const rP=ca(nP);function aP(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const sP=JA(Oo(300,.5,0),Oo(-240,.5,1));var oP=JA(Oo(-100,.75,.35),Oo(80,1.5,.8)),lP=JA(Oo(260,.75,.35),Oo(80,1.5,.8)),O4=Oo();function cP(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return O4.h=360*e-100,O4.s=1.5-1.5*t,O4.l=.8-.9*t,O4+""}var x4=Lc(),xZ=Math.PI/3,SZ=Math.PI*2/3;function uP(e){var t;return e=(.5-e)*Math.PI,x4.r=255*(t=Math.sin(e))*t,x4.g=255*(t=Math.sin(e+xZ))*t,x4.b=255*(t=Math.sin(e+SZ))*t,x4+""}function dP(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function z8(e){var t=e.length;return function(i){return e[Math.max(0,Math.min(t-1,Math.floor(i*t)))]}}const hP=z8(Xn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var fP=z8(Xn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),mP=z8(Xn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),pP=z8(Xn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function _9(e){return function(){return e}}const gP=Math.cos,sy=Math.min,Vp=Math.sin,p9=Math.sqrt,uw=1e-12,Hp=Math.PI,j8=2*Hp;function MP(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{const n=Math.floor(i);if(!(n>=0))throw new RangeError(`invalid digits: ${i}`);t=n}return e},()=>new XB(t)}function AP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function yP(e){this._context=e}yP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function um(e){return new yP(e)}function vP(e){return e[0]}function bP(e){return e[1]}function CP(e,t){var i=_9(!0),n=null,a=um,s=null,l=MP(c);e=typeof e=="function"?e:e===void 0?vP:_9(e),t=typeof t=="function"?t:t===void 0?bP:_9(t);function c(d){var u,h=(d=AP(d)).length,g,m=!1,M;for(n==null&&(s=a(M=l())),u=0;u<=h;++u)!(u<h&&i(g=d[u],u,d))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+e(g,u,d),+t(g,u,d));if(M)return s=null,M+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:_9(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:_9(+d),c):t},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:_9(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,n!=null&&(s=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=s=null:s=a(n=d),c):n},c}function TZ(e,t,i){var n=null,a=_9(!0),s=null,l=um,c=null,d=MP(u);e=typeof e=="function"?e:e===void 0?vP:_9(+e),t=typeof t=="function"?t:_9(t===void 0?0:+t),i=typeof i=="function"?i:i===void 0?bP:_9(+i);function u(g){var m,M,p,A=(g=AP(g)).length,b,v=!1,E,x=new Array(A),_=new Array(A);for(s==null&&(c=l(E=d())),m=0;m<=A;++m){if(!(m<A&&a(b=g[m],m,g))===v)if(v=!v)M=m,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),p=m-1;p>=M;--p)c.point(x[p],_[p]);c.lineEnd(),c.areaEnd()}v&&(x[m]=+e(b,m,g),_[m]=+t(b,m,g),c.point(n?+n(b,m,g):x[m],i?+i(b,m,g):_[m]))}if(E)return c=null,E+""||null}function h(){return CP().defined(a).curve(l).context(s)}return u.x=function(g){return arguments.length?(e=typeof g=="function"?g:_9(+g),n=null,u):e},u.x0=function(g){return arguments.length?(e=typeof g=="function"?g:_9(+g),u):e},u.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:_9(+g),u):n},u.y=function(g){return arguments.length?(t=typeof g=="function"?g:_9(+g),i=null,u):t},u.y0=function(g){return arguments.length?(t=typeof g=="function"?g:_9(+g),u):t},u.y1=function(g){return arguments.length?(i=g==null?null:typeof g=="function"?g:_9(+g),u):i},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(i)},u.lineX1=function(){return h().x(n).y(t)},u.defined=function(g){return arguments.length?(a=typeof g=="function"?g:_9(!!g),u):a},u.curve=function(g){return arguments.length?(l=g,s!=null&&(c=l(s)),u):l},u.context=function(g){return arguments.length?(g==null?s=c=null:c=l(s=g),u):s},u}class _P{constructor(t,i){this._context=t,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,i){switch(t=+t,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,i,t,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,t,this._y0,t,i);break}}this._x0=t,this._y0=i}}function IZ(e){return new _P(e,!0)}function BZ(e){return new _P(e,!1)}const RZ=p9(3),EP={draw(e,t){const i=p9(t+sy(t/28,.75))*.59436,n=i/2,a=n*RZ;e.moveTo(0,i),e.lineTo(0,-i),e.moveTo(-a,-n),e.lineTo(a,n),e.moveTo(-a,n),e.lineTo(a,-n)}},m2={draw(e,t){const i=p9(t/Hp);e.moveTo(i,0),e.arc(0,0,i,0,j8)}},wP={draw(e,t){const i=p9(t/5)/2;e.moveTo(-3*i,-i),e.lineTo(-i,-i),e.lineTo(-i,-3*i),e.lineTo(i,-3*i),e.lineTo(i,-i),e.lineTo(3*i,-i),e.lineTo(3*i,i),e.lineTo(i,i),e.lineTo(i,3*i),e.lineTo(-i,3*i),e.lineTo(-i,i),e.lineTo(-3*i,i),e.closePath()}},OP=p9(1/3),DZ=OP*2,xP={draw(e,t){const i=p9(t/DZ),n=i*OP;e.moveTo(0,-i),e.lineTo(n,0),e.lineTo(0,i),e.lineTo(-n,0),e.closePath()}},SP={draw(e,t){const i=p9(t)*.62625;e.moveTo(0,-i),e.lineTo(i,0),e.lineTo(0,i),e.lineTo(-i,0),e.closePath()}},TP={draw(e,t){const i=p9(t-sy(t/7,2))*.87559;e.moveTo(-i,0),e.lineTo(i,0),e.moveTo(0,i),e.lineTo(0,-i)}},IP={draw(e,t){const i=p9(t),n=-i/2;e.rect(n,n,i,i)}},BP={draw(e,t){const i=p9(t)*.4431;e.moveTo(i,i),e.lineTo(i,-i),e.lineTo(-i,-i),e.lineTo(-i,i),e.closePath()}},PZ=.8908130915292852,RP=Vp(Hp/10)/Vp(7*Hp/10),LZ=Vp(j8/10)*RP,kZ=-gP(j8/10)*RP,DP={draw(e,t){const i=p9(t*PZ),n=LZ*i,a=kZ*i;e.moveTo(0,-i),e.lineTo(n,a);for(let s=1;s<5;++s){const l=j8*s/5,c=gP(l),d=Vp(l);e.lineTo(d*i,-c*i),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},mg=p9(3),PP={draw(e,t){const i=-p9(t/(mg*3));e.moveTo(0,i*2),e.lineTo(-mg*i,-i),e.lineTo(mg*i,-i),e.closePath()}},NZ=p9(3),LP={draw(e,t){const i=p9(t)*.6824,n=i/2,a=i*NZ/2;e.moveTo(0,-i),e.lineTo(a,n),e.lineTo(-a,n),e.closePath()}},s0=-.5,o0=p9(3)/2,UM=1/p9(12),FZ=(UM/2+1)*3,kP={draw(e,t){const i=p9(t/FZ),n=i/2,a=i*UM,s=n,l=i*UM+i,c=-s,d=l;e.moveTo(n,a),e.lineTo(s,l),e.lineTo(c,d),e.lineTo(s0*n-o0*a,o0*n+s0*a),e.lineTo(s0*s-o0*l,o0*s+s0*l),e.lineTo(s0*c-o0*d,o0*c+s0*d),e.lineTo(s0*n+o0*a,s0*a-o0*n),e.lineTo(s0*s+o0*l,s0*l-o0*s),e.lineTo(s0*c+o0*d,s0*d-o0*c),e.closePath()}},NP={draw(e,t){const i=p9(t-sy(t/6,1.7))*.6189;e.moveTo(-i,-i),e.lineTo(i,i),e.moveTo(-i,i),e.lineTo(i,-i)}},UZ=[m2,wP,xP,IP,DP,PP,kP],$Z=[m2,TP,NP,LP,EP,BP,SP];function kc(){}function Qp(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function J8(e){this._context=e}J8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GZ(e){return new J8(e)}function FP(e){this._context=e}FP.prototype={areaStart:kc,areaEnd:kc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VZ(e){return new FP(e)}function UP(e){this._context=e}UP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:Qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HZ(e){return new UP(e)}function $P(e,t){this._basis=new J8(e),this._beta=t}$P.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,i=e.length-1;if(i>0)for(var n=e[0],a=t[0],s=e[i]-n,l=t[i]-a,c=-1,d;++c<=i;)d=c/i,this._basis.point(this._beta*e[c]+(1-this._beta)*(n+d*s),this._beta*t[c]+(1-this._beta)*(a+d*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const QZ=function e(t){function i(n){return t===1?new J8(n):new $P(n,t)}return i.beta=function(n){return e(+n)},i}(.85);function zp(e,t,i){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-i),e._x2,e._y2)}function oy(e,t){this._context=e,this._k=(1-t)/6}oy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:zp(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:zp(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const zZ=function e(t){function i(n){return new oy(n,t)}return i.tension=function(n){return e(+n)},i}(0);function ly(e,t){this._context=e,this._k=(1-t)/6}ly.prototype={areaStart:kc,areaEnd:kc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zp(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const jZ=function e(t){function i(n){return new ly(n,t)}return i.tension=function(n){return e(+n)},i}(0);function cy(e,t){this._context=e,this._k=(1-t)/6}cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zp(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const JZ=function e(t){function i(n){return new cy(n,t)}return i.tension=function(n){return e(+n)},i}(0);function uy(e,t,i){var n=e._x1,a=e._y1,s=e._x2,l=e._y2;if(e._l01_a>uw){var c=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,d=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*c-e._x0*e._l12_2a+e._x2*e._l01_2a)/d,a=(a*c-e._y0*e._l12_2a+e._y2*e._l01_2a)/d}if(e._l23_a>uw){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*u+e._x1*e._l23_2a-t*e._l12_2a)/h,l=(l*u+e._y1*e._l23_2a-i*e._l12_2a)/h}e._context.bezierCurveTo(n,a,s,l,e._x2,e._y2)}function GP(e,t){this._context=e,this._alpha=t}GP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:uy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const WZ=function e(t){function i(n){return t?new GP(n,t):new oy(n,0)}return i.alpha=function(n){return e(+n)},i}(.5);function VP(e,t){this._context=e,this._alpha=t}VP.prototype={areaStart:kc,areaEnd:kc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:uy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qZ=function e(t){function i(n){return t?new VP(n,t):new ly(n,0)}return i.alpha=function(n){return e(+n)},i}(.5);function HP(e,t){this._context=e,this._alpha=t}HP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:uy(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const KZ=function e(t){function i(n){return t?new HP(n,t):new cy(n,0)}return i.alpha=function(n){return e(+n)},i}(.5);function QP(e){this._context=e}QP.prototype={areaStart:kc,areaEnd:kc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function XZ(e){return new QP(e)}function dw(e){return e<0?-1:1}function hw(e,t,i){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),l=(i-e._y1)/(a||n<0&&-0),c=(s*a+l*n)/(n+a);return(dw(s)+dw(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function fw(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function pg(e,t,i){var n=e._x0,a=e._y0,s=e._x1,l=e._y1,c=(s-n)/3;e._context.bezierCurveTo(n+c,a+c*t,s-c,l-c*i,s,l)}function jp(e){this._context=e}jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pg(this,this._t0,fw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,pg(this,fw(this,i=hw(this,e,t)),i);break;default:pg(this,this._t0,i=hw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}};function zP(e){this._context=new jP(e)}(zP.prototype=Object.create(jp.prototype)).point=function(e,t){jp.prototype.point.call(this,t,e)};function jP(e){this._context=e}jP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,n,a,s){this._context.bezierCurveTo(t,e,n,i,s,a)}};function YZ(e){return new jp(e)}function ZZ(e){return new zP(e)}function JP(e){this._context=e}JP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),i===2)this._context.lineTo(e[1],t[1]);else for(var n=mw(e),a=mw(t),s=0,l=1;l<i;++s,++l)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[l],t[l]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mw(e){var t,i=e.length-1,n,a=new Array(i),s=new Array(i),l=new Array(i);for(a[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<i-1;++t)a[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[i-1]=2,s[i-1]=7,l[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=a[t]/s[t-1],s[t]-=n,l[t]-=n*l[t-1];for(a[i-1]=l[i-1]/s[i-1],t=i-2;t>=0;--t)a[t]=(l[t]-a[t+1])/s[t];for(s[i-1]=(e[i]+a[i-1])/2,t=0;t<i-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function ttt(e){return new JP(e)}function W8(e,t){this._context=e,this._t=t}W8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}break}}this._x=e,this._y=t}};function ett(e){return new W8(e,.5)}function itt(e){return new W8(e,0)}function ntt(e){return new W8(e,1)}function P1(e,t,i){this.k=e,this.x=t,this.y=i}P1.prototype={constructor:P1,scale:function(e){return e===1?this:new P1(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new P1(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};P1.prototype;const WP=new Map,qP=new Map,rtt=new Map,att=new Map;function ip(e){return WP.get(e)}function q8(e){return qP.get(e)}function hc(e){const t=e%12;return t===1||t===3||t===6||t===8||t===10}const pw=new Map([["Cb","B"],["Db","C#"],["Eb","D#"],["Fb","E"],["Gb","F#"],["Ab","G#"],["Bb","A#"]]),F9=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],dy=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],xo=[{pitch:0,name:"C",octave:-1,label:"C-1",frequency:8.176},{pitch:1,name:"C#",octave:-1,label:"C#-1",frequency:8.662},{pitch:2,name:"D",octave:-1,label:"D-1",frequency:9.177},{pitch:3,name:"D#",octave:-1,label:"D#-1",frequency:9.723},{pitch:4,name:"E",octave:-1,label:"E-1",frequency:10.301},{pitch:5,name:"F",octave:-1,label:"F-1",frequency:10.913},{pitch:6,name:"F#",octave:-1,label:"F#-1",frequency:11.562},{pitch:7,name:"G",octave:-1,label:"G-1",frequency:12.25},{pitch:8,name:"G#",octave:-1,label:"G#-1",frequency:12.978},{pitch:9,name:"A",octave:-1,label:"A-1",frequency:13.75},{pitch:10,name:"A#",octave:-1,label:"A#-1",frequency:14.568},{pitch:11,name:"B",octave:-1,label:"B-1",frequency:15.434},{pitch:12,name:"C",octave:0,label:"C0",frequency:16.352},{pitch:13,name:"C#",octave:0,label:"C#0",frequency:17.324},{pitch:14,name:"D",octave:0,label:"D0",frequency:18.354},{pitch:15,name:"D#",octave:0,label:"D#0",frequency:19.445},{pitch:16,name:"E",octave:0,label:"E0",frequency:20.602},{pitch:17,name:"F",octave:0,label:"F0",frequency:21.827},{pitch:18,name:"F#",octave:0,label:"F#0",frequency:23.125},{pitch:19,name:"G",octave:0,label:"G0",frequency:24.5},{pitch:20,name:"G#",octave:0,label:"G#0",frequency:25.957},{pitch:21,name:"A",octave:0,label:"A0",frequency:27.5},{pitch:22,name:"A#",octave:0,label:"A#0",frequency:29.135},{pitch:23,name:"B",octave:0,label:"B0",frequency:30.868},{pitch:24,name:"C",octave:1,label:"C1",frequency:32.703},{pitch:25,name:"C#",octave:1,label:"C#1",frequency:34.648},{pitch:26,name:"D",octave:1,label:"D1",frequency:36.708},{pitch:27,name:"D#",octave:1,label:"D#1",frequency:38.891},{pitch:28,name:"E",octave:1,label:"E1",frequency:41.203},{pitch:29,name:"F",octave:1,label:"F1",frequency:43.654},{pitch:30,name:"F#",octave:1,label:"F#1",frequency:46.249},{pitch:31,name:"G",octave:1,label:"G1",frequency:48.999},{pitch:32,name:"G#",octave:1,label:"G#1",frequency:51.913},{pitch:33,name:"A",octave:1,label:"A1",frequency:55},{pitch:34,name:"A#",octave:1,label:"A#1",frequency:58.27},{pitch:35,name:"B",octave:1,label:"B1",frequency:61.735},{pitch:36,name:"C",octave:2,label:"C2",frequency:65.406},{pitch:37,name:"C#",octave:2,label:"C#2",frequency:69.296},{pitch:38,name:"D",octave:2,label:"D2",frequency:73.416},{pitch:39,name:"D#",octave:2,label:"D#2",frequency:77.782},{pitch:40,name:"E",octave:2,label:"E2",frequency:82.407},{pitch:41,name:"F",octave:2,label:"F2",frequency:87.307},{pitch:42,name:"F#",octave:2,label:"F#2",frequency:92.499},{pitch:43,name:"G",octave:2,label:"G2",frequency:97.999},{pitch:44,name:"G#",octave:2,label:"G#2",frequency:103.826},{pitch:45,name:"A",octave:2,label:"A2",frequency:110},{pitch:46,name:"A#",octave:2,label:"A#2",frequency:116.541},{pitch:47,name:"B",octave:2,label:"B2",frequency:123.471},{pitch:48,name:"C",octave:3,label:"C3",frequency:130.813},{pitch:49,name:"C#",octave:3,label:"C#3",frequency:138.591},{pitch:50,name:"D",octave:3,label:"D3",frequency:146.832},{pitch:51,name:"D#",octave:3,label:"D#3",frequency:155.563},{pitch:52,name:"E",octave:3,label:"E3",frequency:164.814},{pitch:53,name:"F",octave:3,label:"F3",frequency:174.614},{pitch:54,name:"F#",octave:3,label:"F#3",frequency:184.997},{pitch:55,name:"G",octave:3,label:"G3",frequency:195.998},{pitch:56,name:"G#",octave:3,label:"G#3",frequency:207.652},{pitch:57,name:"A",octave:3,label:"A3",frequency:220},{pitch:58,name:"A#",octave:3,label:"A#3",frequency:233.082},{pitch:59,name:"B",octave:3,label:"B3",frequency:246.942},{pitch:60,name:"C",octave:4,label:"C4",frequency:261.626},{pitch:61,name:"C#",octave:4,label:"C#4",frequency:277.183},{pitch:62,name:"D",octave:4,label:"D4",frequency:293.665},{pitch:63,name:"D#",octave:4,label:"D#4",frequency:311.127},{pitch:64,name:"E",octave:4,label:"E4",frequency:329.628},{pitch:65,name:"F",octave:4,label:"F4",frequency:349.228},{pitch:66,name:"F#",octave:4,label:"F#4",frequency:369.994},{pitch:67,name:"G",octave:4,label:"G4",frequency:391.995},{pitch:68,name:"G#",octave:4,label:"G#4",frequency:415.305},{pitch:69,name:"A",octave:4,label:"A4",frequency:440},{pitch:70,name:"A#",octave:4,label:"A#4",frequency:466.164},{pitch:71,name:"B",octave:4,label:"B4",frequency:493.883},{pitch:72,name:"C",octave:5,label:"C5",frequency:523.251},{pitch:73,name:"C#",octave:5,label:"C#5",frequency:554.365},{pitch:74,name:"D",octave:5,label:"D5",frequency:587.33},{pitch:75,name:"D#",octave:5,label:"D#5",frequency:622.254},{pitch:76,name:"E",octave:5,label:"E5",frequency:659.255},{pitch:77,name:"F",octave:5,label:"F5",frequency:698.456},{pitch:78,name:"F#",octave:5,label:"F#5",frequency:739.989},{pitch:79,name:"G",octave:5,label:"G5",frequency:783.991},{pitch:80,name:"G#",octave:5,label:"G#5",frequency:830.609},{pitch:81,name:"A",octave:5,label:"A5",frequency:880},{pitch:82,name:"A#",octave:5,label:"A#5",frequency:932.328},{pitch:83,name:"B",octave:5,label:"B5",frequency:987.767},{pitch:84,name:"C",octave:6,label:"C6",frequency:1046.502},{pitch:85,name:"C#",octave:6,label:"C#6",frequency:1108.731},{pitch:86,name:"D",octave:6,label:"D6",frequency:1174.659},{pitch:87,name:"D#",octave:6,label:"D#6",frequency:1244.508},{pitch:88,name:"E",octave:6,label:"E6",frequency:1318.51},{pitch:89,name:"F",octave:6,label:"F6",frequency:1396.913},{pitch:90,name:"F#",octave:6,label:"F#6",frequency:1479.978},{pitch:91,name:"G",octave:6,label:"G6",frequency:1567.982},{pitch:92,name:"G#",octave:6,label:"G#6",frequency:1661.219},{pitch:93,name:"A",octave:6,label:"A6",frequency:1760},{pitch:94,name:"A#",octave:6,label:"A#6",frequency:1864.655},{pitch:95,name:"B",octave:6,label:"B6",frequency:1975.533},{pitch:96,name:"C",octave:7,label:"C7",frequency:2093.005},{pitch:97,name:"C#",octave:7,label:"C#7",frequency:2217.461},{pitch:98,name:"D",octave:7,label:"D7",frequency:2349.318},{pitch:99,name:"D#",octave:7,label:"D#7",frequency:2489.016},{pitch:100,name:"E",octave:7,label:"E7",frequency:2637.02},{pitch:101,name:"F",octave:7,label:"F7",frequency:2793.826},{pitch:102,name:"F#",octave:7,label:"F#7",frequency:2959.955},{pitch:103,name:"G",octave:7,label:"G7",frequency:3135.963},{pitch:104,name:"G#",octave:7,label:"G#7",frequency:3322.438},{pitch:105,name:"A",octave:7,label:"A7",frequency:3520},{pitch:106,name:"A#",octave:7,label:"A#7",frequency:3729.31},{pitch:107,name:"B",octave:7,label:"B7",frequency:3951.066},{pitch:108,name:"C",octave:8,label:"C8",frequency:4186.009},{pitch:109,name:"C#",octave:8,label:"C#8",frequency:4434.922},{pitch:110,name:"D",octave:8,label:"D8",frequency:4698.636},{pitch:111,name:"D#",octave:8,label:"D#8",frequency:4978.032},{pitch:112,name:"E",octave:8,label:"E8",frequency:5274.041},{pitch:113,name:"F",octave:8,label:"F8",frequency:5587.652},{pitch:114,name:"F#",octave:8,label:"F#8",frequency:5919.911},{pitch:115,name:"G",octave:8,label:"G8",frequency:6271.927},{pitch:116,name:"G#",octave:8,label:"G#8",frequency:6644.875},{pitch:117,name:"A",octave:8,label:"A8",frequency:7040},{pitch:118,name:"A#",octave:8,label:"A#8",frequency:7458.62},{pitch:119,name:"B",octave:8,label:"B8",frequency:7902.133},{pitch:120,name:"C",octave:9,label:"C9",frequency:8372.018},{pitch:121,name:"C#",octave:9,label:"C#9",frequency:8869.844},{pitch:122,name:"D",octave:9,label:"D9",frequency:9397.273},{pitch:123,name:"D#",octave:9,label:"D#9",frequency:9956.063},{pitch:124,name:"E",octave:9,label:"E9",frequency:10548.08},{pitch:125,name:"F",octave:9,label:"F9",frequency:11175.3},{pitch:126,name:"F#",octave:9,label:"F#9",frequency:11839.82},{pitch:127,name:"G",octave:9,label:"G9",frequency:12543.85}],stt=[{number:0,group:"Piano",label:"Acoustic Grand Piano"},{number:1,group:"Piano",label:"Bright Acoustic Piano"},{number:2,group:"Piano",label:"Electric Grand Piano"},{number:3,group:"Piano",label:"Honky-tonk Piano"},{number:4,group:"Piano",label:"Electric Piano 1"},{number:5,group:"Piano",label:"Electric Piano 2"},{number:6,group:"Piano",label:"Harpsichord"},{number:7,group:"Piano",label:"Clavinet"},{number:8,group:"Chromatic Percussion",label:"Celesta"},{number:9,group:"Chromatic Percussion",label:"Glockenspiel"},{number:10,group:"Chromatic Percussion",label:"Music Box"},{number:11,group:"Chromatic Percussion",label:"Vibraphone"},{number:12,group:"Chromatic Percussion",label:"Marimba"},{number:13,group:"Chromatic Percussion",label:"Xylophone"},{number:14,group:"Chromatic Percussion",label:"Tubular Bells"},{number:15,group:"Chromatic Percussion",label:"Dulcimer"},{number:16,group:"Organ",label:"Drawbar Organ"},{number:17,group:"Organ",label:"Percussive Organ"},{number:18,group:"Organ",label:"Rock Organ"},{number:19,group:"Organ",label:"Church Organ"},{number:20,group:"Organ",label:"Reed Organ"},{number:21,group:"Organ",label:"Accordion"},{number:22,group:"Organ",label:"Harmonica"},{number:23,group:"Organ",label:"Tango Accordion"},{number:24,group:"Guitar",label:"Acoustic Guitar(nylon)"},{number:25,group:"Guitar",label:"Acoustic Guitar(steel)"},{number:26,group:"Guitar",label:"Electric Guitar(jazz)"},{number:27,group:"Guitar",label:"Electric Guitar(clean)"},{number:28,group:"Guitar",label:"Electric Guitar(muted)"},{number:29,group:"Guitar",label:"Overdriven Guitar"},{number:30,group:"Guitar",label:"Distortion Guitar"},{number:31,group:"Guitar",label:"Guitar harmonics"},{number:32,group:"Bass",label:"Acoustic Bass"},{number:33,group:"Bass",label:"Electric Bass(finger)"},{number:34,group:"Bass",label:"Electric Bass(pick)"},{number:35,group:"Bass",label:"Fretless Bass"},{number:36,group:"Bass",label:"Slap Bass 1"},{number:37,group:"Bass",label:"Slap Bass 2"},{number:38,group:"Bass",label:"Synth Bass 1"},{number:39,group:"Bass",label:"Synth Bass 2"},{number:40,group:"Strings",label:"Violin"},{number:41,group:"Strings",label:"Viola"},{number:42,group:"Strings",label:"Cello"},{number:43,group:"Strings",label:"Contrabass"},{number:44,group:"Strings",label:"Tremolo Strings"},{number:45,group:"Strings",label:"Pizzicato Strings"},{number:46,group:"Strings",label:"Orchestral Harp"},{number:47,group:"Strings",label:"Timpani"},{number:48,group:"Strings (continued)",label:"String Ensemble 1"},{number:49,group:"Strings (continued)",label:"String Ensemble 2"},{number:50,group:"Strings (continued)",label:"Synth Strings 1"},{number:51,group:"Strings (continued)",label:"Synth Strings 2"},{number:52,group:"Strings (continued)",label:"Choir Aahs"},{number:53,group:"Strings (continued)",label:"Voice Oohs"},{number:54,group:"Strings (continued)",label:"Synth Voice"},{number:55,group:"Strings (continued)",label:"Orchestra Hit"},{number:56,group:"Brass",label:"Trumpet"},{number:57,group:"Brass",label:"Trombone"},{number:58,group:"Brass",label:"Tuba"},{number:59,group:"Brass",label:"Muted Trumpet"},{number:60,group:"Brass",label:"French Horn"},{number:61,group:"Brass",label:"Brass Section"},{number:62,group:"Brass",label:"Synth Brass 1"},{number:63,group:"Brass",label:"Synth Brass 2"},{number:64,group:"Reed",label:"Soprano Sax"},{number:65,group:"Reed",label:"Alto Sax"},{number:66,group:"Reed",label:"Tenor Sax"},{number:67,group:"Reed",label:"Baritone Sax"},{number:68,group:"Reed",label:"Oboe"},{number:69,group:"Reed",label:"English Horn"},{number:70,group:"Reed",label:"Bassoon"},{number:71,group:"Reed",label:"Clarinet"},{number:72,group:"Pipe",label:"Piccolo"},{number:73,group:"Pipe",label:"Flute"},{number:74,group:"Pipe",label:"Recorder"},{number:75,group:"Pipe",label:"Pan Flute"},{number:76,group:"Pipe",label:"Blown Bottle"},{number:77,group:"Pipe",label:"Shakuhachi"},{number:78,group:"Pipe",label:"Whistle"},{number:79,group:"Pipe",label:"Ocarina"},{number:80,group:"Synth Lead",label:"Lead 1(square)"},{number:81,group:"Synth Lead",label:"Lead 2(sawtooth)"},{number:82,group:"Synth Lead",label:"Lead 3(calliope)"},{number:83,group:"Synth Lead",label:"Lead 4(chiff)"},{number:84,group:"Synth Lead",label:"Lead 5(charang)"},{number:85,group:"Synth Lead",label:"Lead 6(voice)"},{number:86,group:"Synth Lead",label:"Lead 7(fifths)"},{number:87,group:"Synth Lead",label:"Lead 8(bass + lead)"},{number:88,group:"Synth Pad",label:"Pad 1(new age)"},{number:89,group:"Synth Pad",label:"Pad 2(warm)"},{number:90,group:"Synth Pad",label:"Pad 3(polysynth)"},{number:91,group:"Synth Pad",label:"Pad 4(choir)"},{number:92,group:"Synth Pad",label:"Pad 5(bowed)"},{number:93,group:"Synth Pad",label:"Pad 6(metallic)"},{number:94,group:"Synth Pad",label:"Pad 7(halo)"},{number:95,group:"Synth Pad",label:"Pad 8(sweep)"},{number:96,group:"Synth Effects",label:"FX 1(rain)"},{number:97,group:"Synth Effects",label:"FX 2(soundtrack)"},{number:98,group:"Synth Effects",label:"FX 3(crystal)"},{number:99,group:"Synth Effects",label:"FX 4(atmosphere)"},{number:100,group:"Synth Effects",label:"FX 5(brightness)"},{number:101,group:"Synth Effects",label:"FX 6(goblins)"},{number:102,group:"Synth Effects",label:"FX 7(echoes)"},{number:103,group:"Synth Effects",label:"FX 8(sci-fi)"},{number:104,group:"Ethnic",label:"Sitar"},{number:105,group:"Ethnic",label:"Banjo"},{number:106,group:"Ethnic",label:"Shamisen"},{number:107,group:"Ethnic",label:"Koto"},{number:108,group:"Ethnic",label:"Kalimba"},{number:109,group:"Ethnic",label:"Bag pipe"},{number:110,group:"Ethnic",label:"Fiddle"},{number:111,group:"Ethnic",label:"Shanai"},{number:112,group:"Percussive",label:"Tinkle Bell"},{number:113,group:"Percussive",label:"Agogo"},{number:114,group:"Percussive",label:"Steel Drums"},{number:115,group:"Percussive",label:"Woodblock"},{number:116,group:"Percussive",label:"Taiko Drum"},{number:117,group:"Percussive",label:"Melodic Tom"},{number:118,group:"Percussive",label:"Synth Drum"},{number:119,group:"Sound Effects",label:"Reverse Cymbal"},{number:120,group:"Sound Effects",label:"Guitar Fret Noise"},{number:121,group:"Sound Effects",label:"Breath Noise"},{number:122,group:"Sound Effects",label:"Seashore"},{number:123,group:"Sound Effects",label:"Bird Tweet"},{number:124,group:"Sound Effects",label:"Telephone Ring"},{number:125,group:"Sound Effects",label:"Helicopter"},{number:126,group:"Sound Effects",label:"Applause"},{number:127,group:"Sound Effects",label:"Gunshot"}],ott=[{number:1,subnumber:0,group:"Piano",label:"Acoustic Grand Piano"},{number:1,subnumber:1,group:"Piano",label:"Wide Acoustic Grand"},{number:1,subnumber:2,group:"Piano",label:"Dark Acoustic Grand"},{number:2,subnumber:0,group:"Piano",label:"Bright Acoustic Piano"},{number:2,subnumber:1,group:"Piano",label:"Wide Bright Acoustic"},{number:3,subnumber:0,group:"Piano",label:"Electric Grand Piano"},{number:3,subnumber:1,group:"Piano",label:"Wide Electric Grand"},{number:4,subnumber:0,group:"Piano",label:"Honky-tonk Piano"},{number:4,subnumber:1,group:"Piano",label:"Wide Honky-tonk"},{number:5,subnumber:0,group:"Piano",label:"Rhodes Piano"},{number:5,subnumber:1,group:"Piano",label:"Detuned Electric Piano 1"},{number:5,subnumber:2,group:"Piano",label:"Electric Piano 1 Variation"},{number:5,subnumber:3,group:"Piano",label:"60's Electric Piano"},{number:6,subnumber:0,group:"Piano",label:"Chorused Electric Piano"},{number:6,subnumber:1,group:"Piano",label:"Detuned Electric Piano 2"},{number:6,subnumber:2,group:"Piano",label:"Electric Piano 2 Variation"},{number:6,subnumber:3,group:"Piano",label:"Electric Piano Legend"},{number:6,subnumber:4,group:"Piano",label:"Electric Piano Phase"},{number:7,subnumber:0,group:"Piano",label:"Harpsichord"},{number:7,subnumber:1,group:"Piano",label:"Coupled Harpsichord"},{number:7,subnumber:2,group:"Piano",label:"Wide Harpsichord"},{number:7,subnumber:3,group:"Piano",label:"Open Harpsichord"},{number:8,subnumber:0,group:"Piano",label:"Clavinet"},{number:8,subnumber:1,group:"Piano",label:"Pulse Clavinet"},{number:9,subnumber:0,group:"Chromatic Percussion",label:"Celesta"},{number:10,subnumber:0,group:"Chromatic Percussion",label:"Glockenspiel"},{number:11,subnumber:0,group:"Chromatic Percussion",label:"Music Box"},{number:12,subnumber:0,group:"Chromatic Percussion",label:"Vibraphone"},{number:12,subnumber:1,group:"Chromatic Percussion",label:"Wet Vibraphone"},{number:13,subnumber:0,group:"Chromatic Percussion",label:"Marimba"},{number:13,subnumber:1,group:"Chromatic Percussion",label:"Wide Marimba"},{number:14,subnumber:0,group:"Chromatic Percussion",label:"Xylophone"},{number:15,subnumber:0,group:"Chromatic Percussion",label:"Tubular Bells"},{number:15,subnumber:1,group:"Chromatic Percussion",label:"Church Bells"},{number:15,subnumber:2,group:"Chromatic Percussion",label:"Carillon"},{number:16,subnumber:0,group:"Chromatic Percussion",label:"Dulcimer / Santur"},{number:17,subnumber:0,group:"Organ",label:"Hammond Organ"},{number:17,subnumber:1,group:"Organ",label:"Detuned Organ 1"},{number:17,subnumber:2,group:"Organ",label:"60's Organ 1"},{number:17,subnumber:3,group:"Organ",label:"Organ 4"},{number:18,subnumber:0,group:"Organ",label:"Percussive Organ"},{number:18,subnumber:1,group:"Organ",label:"Detuned Organ 2"},{number:18,subnumber:2,group:"Organ",label:"Organ 5"},{number:19,subnumber:0,group:"Organ",label:"Rock Organ"},{number:20,subnumber:0,group:"Organ",label:"Church Organ 1"},{number:20,subnumber:1,group:"Organ",label:"Church Organ 2"},{number:20,subnumber:2,group:"Organ",label:"Church Organ 3"},{number:21,subnumber:0,group:"Organ",label:"Reed Organ"},{number:21,subnumber:1,group:"Organ",label:"Puff Organ"},{number:22,subnumber:0,group:"Organ",label:"French Accordion"},{number:22,subnumber:1,group:"Organ",label:"Italian Accordion"},{number:23,subnumber:0,group:"Organ",label:"Harmonica"},{number:24,subnumber:0,group:"Organ",label:"Bandoneon"},{number:25,subnumber:0,group:"Guitar",label:"Nylon-String Guitar"},{number:25,subnumber:1,group:"Guitar",label:"Ukelele"},{number:25,subnumber:2,group:"Guitar",label:"Open Nylon Guitar"},{number:25,subnumber:3,group:"Guitar",label:"Nylon Guitar 2"},{number:26,subnumber:0,group:"Guitar",label:"Steel-String Guitar"},{number:26,subnumber:1,group:"Guitar",label:"12-String Guitar"},{number:26,subnumber:2,group:"Guitar",label:"Mandolin"},{number:26,subnumber:3,group:"Guitar",label:"Steel + Body"},{number:27,subnumber:0,group:"Guitar",label:"Jazz Guitar"},{number:27,subnumber:1,group:"Guitar",label:"Hawaiian Guitar"},{number:28,subnumber:0,group:"Guitar",label:"Clean Electric Guitar"},{number:28,subnumber:1,group:"Guitar",label:"Chorus Guitar"},{number:28,subnumber:2,group:"Guitar",label:"Mid Tone Guitar"},{number:29,subnumber:0,group:"Guitar",label:"Muted Electric Guitar"},{number:29,subnumber:1,group:"Guitar",label:"Funk Guitar"},{number:29,subnumber:2,group:"Guitar",label:"Funk Guitar 2"},{number:29,subnumber:3,group:"Guitar",label:"Jazz Man"},{number:30,subnumber:0,group:"Guitar",label:"Overdriven Guitar"},{number:30,subnumber:1,group:"Guitar",label:"Guitar Pinch"},{number:31,subnumber:0,group:"Guitar",label:"Distortion Guitar"},{number:31,subnumber:1,group:"Guitar",label:"Feedback Guitar"},{number:31,subnumber:2,group:"Guitar",label:"Distortion Rtm Guitar"},{number:32,subnumber:0,group:"Guitar",label:"Guitar Harmonics"},{number:32,subnumber:1,group:"Guitar",label:"Guitar Feedback"},{number:33,subnumber:0,group:"Bass",label:"Acoustic Bass"},{number:34,subnumber:0,group:"Bass",label:"Fingered Bass"},{number:34,subnumber:1,group:"Bass",label:"Finger Slap"},{number:35,subnumber:0,group:"Bass",label:"Picked Bass"},{number:36,subnumber:0,group:"Bass",label:"Fretless Bass"},{number:37,subnumber:0,group:"Bass",label:"Slap Bass 1"},{number:38,subnumber:0,group:"Bass",label:"Slap Bass 2"},{number:39,subnumber:0,group:"Bass",label:"Synth Bass 1"},{number:39,subnumber:1,group:"Bass",label:"Synth Bass 101"},{number:39,subnumber:2,group:"Bass",label:"Synth Bass 3"},{number:39,subnumber:3,group:"Bass",label:"Clavi Bass"},{number:39,subnumber:4,group:"Bass",label:"Hammer"},{number:40,subnumber:0,group:"Bass",label:"Synth Bass 2"},{number:40,subnumber:1,group:"Bass",label:"Synth Bass 4"},{number:40,subnumber:2,group:"Bass",label:"Rubber Bass"},{number:40,subnumber:3,group:"Bass",label:"Attack Pulse"},{number:41,subnumber:0,group:"Strings",label:"Violin"},{number:41,subnumber:1,group:"Strings",label:"Slow Violin"},{number:42,subnumber:0,group:"Strings",label:"Viola"},{number:43,subnumber:0,group:"Strings",label:"Cello"},{number:44,subnumber:0,group:"Strings",label:"Contrabass"},{number:45,subnumber:0,group:"Strings",label:"Tremolo Strings"},{number:46,subnumber:0,group:"Strings",label:"Pizzicato Strings"},{number:47,subnumber:0,group:"Strings",label:"Harp"},{number:47,subnumber:1,group:"Strings",label:"Yang Qin"},{number:48,subnumber:0,group:"Strings",label:"Timpani"},{number:49,subnumber:0,group:"Orchestral Ensemble",label:"String Ensemble"},{number:49,subnumber:1,group:"Orchestral Ensemble",label:"Orchestra Strings"},{number:49,subnumber:2,group:"Orchestral Ensemble",label:"60's Strings"},{number:50,subnumber:0,group:"Orchestral Ensemble",label:"Slow String Ensemble"},{number:51,subnumber:0,group:"Orchestral Ensemble",label:"Synth Strings 1"},{number:51,subnumber:1,group:"Orchestral Ensemble",label:"Synth Strings 3"},{number:52,subnumber:0,group:"Orchestral Ensemble",label:"Synth Strings 2"},{number:53,subnumber:0,group:"Orchestral Ensemble",label:"Choir Aahs"},{number:53,subnumber:1,group:"Orchestral Ensemble",label:"Choir Aahs 2"},{number:54,subnumber:0,group:"Orchestral Ensemble",label:"Voice Oohs"},{number:54,subnumber:1,group:"Orchestral Ensemble",label:"Humming"},{number:55,subnumber:0,group:"Orchestral Ensemble",label:"Synth Voice"},{number:55,subnumber:1,group:"Orchestral Ensemble",label:"Analog Voice"},{number:56,subnumber:0,group:"Orchestral Ensemble",label:"Orchestra Hit"},{number:56,subnumber:1,group:"Orchestral Ensemble",label:"Bass Hit"},{number:56,subnumber:2,group:"Orchestral Ensemble",label:"6th Hit"},{number:56,subnumber:3,group:"Orchestral Ensemble",label:"Euro Hit"},{number:57,subnumber:0,group:"Brass",label:"Trumpet"},{number:57,subnumber:1,group:"Brass",label:"Dark Trumpet"},{number:58,subnumber:0,group:"Brass",label:"Trombone"},{number:58,subnumber:1,group:"Brass",label:"Trombone 2"},{number:58,subnumber:2,group:"Brass",label:"Bright Trombone"},{number:59,subnumber:0,group:"Brass",label:"Tuba"},{number:60,subnumber:0,group:"Brass",label:"Muted Trumpet"},{number:60,subnumber:1,group:"Brass",label:"Muted Trumpet 2"},{number:61,subnumber:0,group:"Brass",label:"French Horn"},{number:61,subnumber:1,group:"Brass",label:"French Horn 2"},{number:62,subnumber:0,group:"Brass",label:"Brass Section"},{number:62,subnumber:1,group:"Brass",label:"Brass Section"},{number:63,subnumber:0,group:"Brass",label:"Synth Brass 1"},{number:63,subnumber:1,group:"Brass",label:"Synth Brass 3"},{number:63,subnumber:2,group:"Brass",label:"Analog Brass 1"},{number:63,subnumber:3,group:"Brass",label:"Jump Brass"},{number:64,subnumber:0,group:"Brass",label:"Synth Brass 2"},{number:64,subnumber:1,group:"Brass",label:"Synth Brass 4"},{number:64,subnumber:2,group:"Brass",label:"Analog Brass 2"},{number:65,subnumber:0,group:"Reed",label:"Soprano Sax"},{number:66,subnumber:0,group:"Reed",label:"Alto Sax"},{number:67,subnumber:0,group:"Reed",label:"Tenor Sax"},{number:68,subnumber:0,group:"Reed",label:"Baritone Sax"},{number:69,subnumber:0,group:"Reed",label:"Oboe"},{number:70,subnumber:0,group:"Reed",label:"English Horn"},{number:71,subnumber:0,group:"Reed",label:"Bassoon"},{number:72,subnumber:0,group:"Reed",label:"Clarinet"},{number:73,subnumber:0,group:"Wind",label:"Piccolo"},{number:74,subnumber:0,group:"Wind",label:"Flute"},{number:75,subnumber:0,group:"Wind",label:"Recorder"},{number:76,subnumber:0,group:"Wind",label:"Pan Flute"},{number:77,subnumber:0,group:"Wind",label:"Blown Bottle"},{number:78,subnumber:0,group:"Wind",label:"Shakuhachi"},{number:79,subnumber:0,group:"Wind",label:"Whistle"},{number:80,subnumber:0,group:"Wind",label:"Ocarina"},{number:81,subnumber:0,group:"Lead",label:"Square Lead"},{number:81,subnumber:1,group:"Lead",label:"Square Wave"},{number:81,subnumber:2,group:"Lead",label:"Sine Wave"},{number:82,subnumber:0,group:"Lead",label:"Saw Lead"},{number:82,subnumber:1,group:"Lead",label:"Saw Wave"},{number:82,subnumber:2,group:"Lead",label:"Doctor Solo"},{number:82,subnumber:3,group:"Lead",label:"Natural Lead"},{number:82,subnumber:4,group:"Lead",label:"Sequenced Saw"},{number:83,subnumber:0,group:"Lead",label:"Synth Calliope"},{number:84,subnumber:0,group:"Lead",label:"Chiffer Lead"},{number:85,subnumber:0,group:"Lead",label:"Charang"},{number:85,subnumber:1,group:"Lead",label:"Wire Lead"},{number:86,subnumber:0,group:"Lead",label:"Solo Synth Vox"},{number:87,subnumber:0,group:"Lead",label:"5th Saw Wave"},{number:88,subnumber:0,group:"Lead",label:"Bass & Lead"},{number:88,subnumber:1,group:"Lead",label:"Delayed Lead"},{number:89,subnumber:0,group:"Synth Pad",label:"Fantasia Pad"},{number:90,subnumber:0,group:"Synth Pad",label:"Warm Pad"},{number:90,subnumber:1,group:"Synth Pad",label:"Sine Pad"},{number:91,subnumber:0,group:"Synth Pad",label:"Polysynth Pad"},{number:92,subnumber:0,group:"Synth Pad",label:"Space Voice Pad"},{number:92,subnumber:1,group:"Synth Pad",label:"Itopia"},{number:93,subnumber:0,group:"Synth Pad",label:"Bowed Glass Pad"},{number:94,subnumber:0,group:"Synth Pad",label:"Metal Pad"},{number:95,subnumber:0,group:"Synth Pad",label:"Halo Pad"},{number:96,subnumber:0,group:"Synth Pad",label:"Sweep Pad"},{number:97,subnumber:0,group:"Synth Effects",label:"Ice Rain"},{number:98,subnumber:0,group:"Synth Effects",label:"Soundtrack"},{number:99,subnumber:0,group:"Synth Effects",label:"Crystal"},{number:99,subnumber:1,group:"Synth Effects",label:"Synth Mallet"},{number:100,subnumber:0,group:"Synth Effects",label:"Atmosphere"},{number:101,subnumber:0,group:"Synth Effects",label:"Brightness"},{number:102,subnumber:0,group:"Synth Effects",label:"Goblin"},{number:103,subnumber:0,group:"Synth Effects",label:"Echo Drops"},{number:103,subnumber:1,group:"Synth Effects",label:"Echo Bell"},{number:103,subnumber:2,group:"Synth Effects",label:"Echo Pan"},{number:104,subnumber:0,group:"Synth Effects",label:"Star Theme"},{number:105,subnumber:0,group:"Ethnic",label:"Sitar"},{number:105,subnumber:1,group:"Ethnic",label:"Sitar 2"},{number:106,subnumber:0,group:"Ethnic",label:"Banjo"},{number:107,subnumber:0,group:"Ethnic",label:"Shamisen"},{number:108,subnumber:0,group:"Ethnic",label:"Koto"},{number:108,subnumber:1,group:"Ethnic",label:"Taisho Koto"},{number:109,subnumber:0,group:"Ethnic",label:"Kalimba"},{number:110,subnumber:0,group:"Ethnic",label:"Bagpipe"},{number:111,subnumber:0,group:"Ethnic",label:"Fiddle"},{number:112,subnumber:0,group:"Ethnic",label:"Shanai"},{number:113,subnumber:0,group:"Percussive",label:"Tinkle Bell"},{number:114,subnumber:0,group:"Percussive",label:"Agogo"},{number:115,subnumber:0,group:"Percussive",label:"Steel Drums"},{number:116,subnumber:0,group:"Percussive",label:"Woodblock"},{number:116,subnumber:1,group:"Percussive",label:"Castanets"},{number:117,subnumber:0,group:"Percussive",label:"Taiko Drum"},{number:117,subnumber:1,group:"Percussive",label:"Concert Bass Drum"},{number:118,subnumber:0,group:"Percussive",label:"Melodic Tom 1"},{number:118,subnumber:1,group:"Percussive",label:"Melodic Tom 2"},{number:119,subnumber:0,group:"Percussive",label:"Synth Drum"},{number:119,subnumber:1,group:"Percussive",label:"808 Tom"},{number:119,subnumber:2,group:"Percussive",label:"Electric Percussion"},{number:120,subnumber:0,group:"Percussive",label:"Reverse Cymbal"},{number:121,subnumber:0,group:"Sound Effects",label:"Guitar Fret Noise"},{number:121,subnumber:1,group:"Sound Effects",label:"Guitar Cut Noise"},{number:121,subnumber:2,group:"Sound Effects",label:"String Slap"},{number:122,subnumber:0,group:"Sound Effects",label:"Breath Noise"},{number:122,subnumber:1,group:"Sound Effects",label:"Flute Key Click"},{number:123,subnumber:0,group:"Sound Effects",label:"Seashore"},{number:123,subnumber:1,group:"Sound Effects",label:"Rain"},{number:123,subnumber:2,group:"Sound Effects",label:"Thunder"},{number:123,subnumber:3,group:"Sound Effects",label:"Wind"},{number:123,subnumber:4,group:"Sound Effects",label:"Stream"},{number:123,subnumber:5,group:"Sound Effects",label:"Bubble"},{number:124,subnumber:0,group:"Sound Effects",label:"Bird Tweet"},{number:124,subnumber:1,group:"Sound Effects",label:"Dog"},{number:124,subnumber:2,group:"Sound Effects",label:"Horse Gallop"},{number:124,subnumber:3,group:"Sound Effects",label:"Bird 2"},{number:125,subnumber:0,group:"Sound Effects",label:"Telephone 1"},{number:125,subnumber:1,group:"Sound Effects",label:"Telephone 2"},{number:125,subnumber:2,group:"Sound Effects",label:"Door Creaking"},{number:125,subnumber:3,group:"Sound Effects",label:"Door Closing"},{number:125,subnumber:4,group:"Sound Effects",label:"Scratch"},{number:125,subnumber:5,group:"Sound Effects",label:"Wind Chimes"},{number:126,subnumber:0,group:"Sound Effects",label:"Helicopter"},{number:126,subnumber:1,group:"Sound Effects",label:"Car Engine"},{number:126,subnumber:2,group:"Sound Effects",label:"Car Stop"},{number:126,subnumber:3,group:"Sound Effects",label:"Car Pass"},{number:126,subnumber:4,group:"Sound Effects",label:"Car Crash"},{number:126,subnumber:5,group:"Sound Effects",label:"Siren"},{number:126,subnumber:6,group:"Sound Effects",label:"Train"},{number:126,subnumber:7,group:"Sound Effects",label:"Jetplane"},{number:126,subnumber:8,group:"Sound Effects",label:"Starship"},{number:126,subnumber:9,group:"Sound Effects",label:"Burst Noise"},{number:127,subnumber:0,group:"Sound Effects",label:"Applause"},{number:127,subnumber:1,group:"Sound Effects",label:"Laughing"},{number:127,subnumber:2,group:"Sound Effects",label:"Screaming"},{number:127,subnumber:3,group:"Sound Effects",label:"Punch"},{number:127,subnumber:4,group:"Sound Effects",label:"Heart Beat"},{number:127,subnumber:5,group:"Sound Effects",label:"Footsteps"},{number:128,subnumber:0,group:"Sound Effects",label:"Gun Shot"},{number:128,subnumber:1,group:"Sound Effects",label:"Machine Gun"},{number:128,subnumber:2,group:"Sound Effects",label:"Lasergun"},{number:128,subnumber:3,group:"Sound Effects",label:"Explosion"}];for(const e of xo)WP.set(e.pitch,e),qP.set(e.label,e);for(const e of stt)rtt.set(e.number,e);for(const e of ott){const t=`${e.number}-${e.subnumber}`;att.set(t,e)}let Ju=class np{constructor(t=0,i=0,n=127,a=0,s=null){if(t<0||t>127)throw new Error(`Invalid pitch ${t}`);try{this.name=ip(t).label}catch{throw new Error(`Invalid pitch ${t}`)}this.pitch=t,this.start=i,this.velocity=n,this.channel=a,this.end=s}static from(t){let{pitch:i=0,start:n=0,velocity:a=127,channel:s=0,end:l=null,duration:c=null}=t;if(typeof i=="string"&&Number.isNaN(+i)){const d=q8(i);if(d==null)throw new Error("Invalid pitch for Note.from()");i=d.pitch}return l==null&&c!==null&&!Number.isNaN(c)&&(l=n+c),new np(i,n,a,s,l)}static startPitchComparator(t,i){return t.start!==i.start?t.start-i.start:t.pitch-i.pitch}clone(){return new np(this.pitch,this.start,this.velocity,this.channel,this.end)}getDuration(){return this.end===null?0:this.end-this.start}getName(){return this.name}getLetter(){return ip(this.pitch).name}getOctave(){return ip(this.pitch).octave}shiftTime(t){const i=this.clone();return i.start+=t,i.end=i.end===null?null:i.end+t,i}scaleTime(t){const i=this.clone();return i.start*=t,i.end=i.end===null?null:i.end*t,i}overlapsInTime(t){return this.start>=t.start&&this.start<=t.end||this.end>=t.start&&this.end<=t.end}overlapInSeconds(t){if(!this.overlapsInTime(t))return 0;const i=Math.max(this.start,t.start);return Math.min(this.end,t.end)-i}equals(t){return t instanceof np?this.pitch===t.pitch&&this.start===t.start&&this.velocity===t.velocity&&this.channel===t.channel&&this.end===t.end:!1}toString(t=!1){return t?`Note(n: ${this.name}, p: ${this.pitch}, s: ${this.start}, e: ${this.end}, v: ${this.velocity}, c: ${this.channel})`:`Note(name: ${this.name}, pitch: ${this.pitch}, start: ${this.start}, end: ${this.end}, velocity: ${this.velocity}, channel: ${this.channel})`}};class ch extends Ju{constructor(t=0,i=0,n=127,a=0,s=null,l=null,c=null){super(t,i,n,a,s),this.string=l,this.fret=c}static from(t){let{pitch:i=0,start:n=0,velocity:a=127,channel:s=0,end:l=null,string:c=null,fret:d=null}=t;if(typeof i=="string"&&Number.isNaN(+i)){const u=q8(i);if(u==null)throw new Error("Invalid pitch for GuitarNote.from()");i=u.pitch}return new ch(i,n,a,s,l,c,d)}static fromNote(t,i,n){return new ch(t.pitch,t.start,t.velocity,t.channel,t.end,i,n)}toNote(){return new Ju(this.pitch,this.start,this.velocity,this.channel,this.end)}clone(){return new ch(this.pitch,this.start,this.velocity,this.channel,this.end,this.string,this.fret)}equals(t){return t instanceof ch?this.pitch===t.pitch&&this.start===t.start&&this.velocity===t.velocity&&this.channel===t.channel&&this.end===t.end&&this.string===t.string&&this.fret===t.fret:!1}toString(t=!1){return t?`GuitarNote(n: ${this.name}, p: ${this.pitch}, s: ${this.start}, e: ${this.end}, v: ${this.velocity}, c: ${this.channel}, s: ${this.string}, f: ${this.fret})`:`GuitarNote(name: ${this.name}, pitch: ${this.pitch}, start: ${this.start}, end: ${this.end}, velocity: ${this.velocity}, channel: ${this.channel}, string: ${this.string}, fret: ${this.fret})`}}function ltt(e,t){let i;if(t===void 0)for(const n of e)n!=null&&(i>n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(i>a||i===void 0&&a>=a)&&(i=a)}return i}var ctt={value:()=>{}};function KP(){for(var e=0,t=arguments.length,i={},n;e<t;++e){if(!(n=arguments[e]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new rp(i)}function rp(e){this._=e}function utt(e,t){return e.trim().split(/^|\s+/).map(function(i){var n="",a=i.indexOf(".");if(a>=0&&(n=i.slice(a+1),i=i.slice(0,a)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}rp.prototype=KP.prototype={constructor:rp,on:function(e,t){var i=this._,n=utt(e+"",i),a,s=-1,l=n.length;if(arguments.length<2){for(;++s<l;)if((a=(e=n[s]).type)&&(a=dtt(i[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<l;)if(a=(e=n[s]).type)i[a]=gw(i[a],e.name,t);else if(t==null)for(a in i)i[a]=gw(i[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new rp(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var i=new Array(a),n=0,a,s;n<a;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],n=0,a=s.length;n<a;++n)s[n].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,s=n.length;a<s;++a)n[a].value.apply(t,i)}};function dtt(e,t){for(var i=0,n=e.length,a;i<n;++i)if((a=e[i]).name===t)return a.value}function gw(e,t,i){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=ctt,e=e.slice(0,n).concat(e.slice(n+1));break}return i!=null&&e.push({name:t,value:i}),e}var $M="http://www.w3.org/1999/xhtml";const Mw={svg:"http://www.w3.org/2000/svg",xhtml:$M,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K8(e){var t=e+="",i=t.indexOf(":");return i>=0&&(t=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),Mw.hasOwnProperty(t)?{space:Mw[t],local:e}:e}function htt(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===$M&&t.documentElement.namespaceURI===$M?t.createElement(e):t.createElementNS(i,e)}}function ftt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function XP(e){var t=K8(e);return(t.local?ftt:htt)(t)}function mtt(){}function hy(e){return e==null?mtt:function(){return this.querySelector(e)}}function ptt(e){typeof e!="function"&&(e=hy(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var s=t[a],l=s.length,c=n[a]=new Array(l),d,u,h=0;h<l;++h)(d=s[h])&&(u=e.call(d,d.__data__,h,s))&&("__data__"in d&&(u.__data__=d.__data__),c[h]=u);return new C0(n,this._parents)}function YP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gtt(){return[]}function ZP(e){return e==null?gtt:function(){return this.querySelectorAll(e)}}function Mtt(e){return function(){var t=e.apply(this,arguments);return t==null?[]:YP(t)}}function Att(e){typeof e=="function"?e=Mtt(e):e=ZP(e);for(var t=this._groups,i=t.length,n=[],a=[],s=0;s<i;++s)for(var l=t[s],c=l.length,d,u=0;u<c;++u)(d=l[u])&&(n.push(e.call(d,d.__data__,u,l)),a.push(d));return new C0(n,a)}function tL(e){return function(){return this.matches(e)}}function eL(e){return function(t){return t.matches(e)}}var ytt=Array.prototype.find;function vtt(e){return function(){return ytt.call(this.children,e)}}function btt(){return this.firstElementChild}function Ctt(e){return this.select(e==null?btt:vtt(typeof e=="function"?e:eL(e)))}var _tt=Array.prototype.filter;function Ett(){return this.children}function wtt(e){return function(){return _tt.call(this.children,e)}}function Ott(e){return this.selectAll(e==null?Ett:wtt(typeof e=="function"?e:eL(e)))}function xtt(e){typeof e!="function"&&(e=tL(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var s=t[a],l=s.length,c=n[a]=[],d,u=0;u<l;++u)(d=s[u])&&e.call(d,d.__data__,u,s)&&c.push(d);return new C0(n,this._parents)}function iL(e){return new Array(e.length)}function Stt(){return new C0(this._enter||this._groups.map(iL),this._parents)}function Jp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Jp.prototype={constructor:Jp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ttt(e){return function(){return e}}function Itt(e,t,i,n,a,s){for(var l=0,c,d=t.length,u=s.length;l<u;++l)(c=t[l])?(c.__data__=s[l],n[l]=c):i[l]=new Jp(e,s[l]);for(;l<d;++l)(c=t[l])&&(a[l]=c)}function Btt(e,t,i,n,a,s,l){var c,d,u=new Map,h=t.length,g=s.length,m=new Array(h),M;for(c=0;c<h;++c)(d=t[c])&&(m[c]=M=l.call(d,d.__data__,c,t)+"",u.has(M)?a[c]=d:u.set(M,d));for(c=0;c<g;++c)M=l.call(e,s[c],c,s)+"",(d=u.get(M))?(n[c]=d,d.__data__=s[c],u.delete(M)):i[c]=new Jp(e,s[c]);for(c=0;c<h;++c)(d=t[c])&&u.get(m[c])===d&&(a[c]=d)}function Rtt(e){return e.__data__}function Dtt(e,t){if(!arguments.length)return Array.from(this,Rtt);var i=t?Btt:Itt,n=this._parents,a=this._groups;typeof e!="function"&&(e=Ttt(e));for(var s=a.length,l=new Array(s),c=new Array(s),d=new Array(s),u=0;u<s;++u){var h=n[u],g=a[u],m=g.length,M=YP(e.call(h,h&&h.__data__,u,n)),p=M.length,A=c[u]=new Array(p),b=l[u]=new Array(p),v=d[u]=new Array(m);i(h,g,A,b,v,M,t);for(var E=0,x=0,_,C;E<p;++E)if(_=A[E]){for(E>=x&&(x=E+1);!(C=b[x])&&++x<p;);_._next=C||null}}return l=new C0(l,n),l._enter=c,l._exit=d,l}function Ptt(){return new C0(this._exit||this._groups.map(iL),this._parents)}function Ltt(e,t,i){var n=this.enter(),a=this,s=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(a=t(a)),i==null?s.remove():i(s),n&&a?n.merge(a).order():a}function ktt(e){if(!(e instanceof C0))throw new Error("invalid merge");for(var t=this._groups,i=e._groups,n=t.length,a=i.length,s=Math.min(n,a),l=new Array(n),c=0;c<s;++c)for(var d=t[c],u=i[c],h=d.length,g=l[c]=new Array(h),m,M=0;M<h;++M)(m=d[M]||u[M])&&(g[M]=m);for(;c<n;++c)l[c]=t[c];return new C0(l,this._parents)}function Ntt(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n=e[t],a=n.length-1,s=n[a],l;--a>=0;)(l=n[a])&&(s&&l.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(l,s),s=l);return this}function Ftt(e){e||(e=Utt);function t(g,m){return g&&m?e(g.__data__,m.__data__):!g-!m}for(var i=this._groups,n=i.length,a=new Array(n),s=0;s<n;++s){for(var l=i[s],c=l.length,d=a[s]=new Array(c),u,h=0;h<c;++h)(u=l[h])&&(d[h]=u);d.sort(t)}return new C0(a,this._parents).order()}function Utt(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $tt(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Gtt(){return Array.from(this)}function Vtt(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,s=n.length;a<s;++a){var l=n[a];if(l)return l}return null}function Htt(){let e=0;for(const t of this)++e;return e}function Qtt(){return!this.node()}function ztt(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var a=t[i],s=0,l=a.length,c;s<l;++s)(c=a[s])&&e.call(c,c.__data__,s,a);return this}function jtt(e){return function(){this.removeAttribute(e)}}function Jtt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wtt(e,t){return function(){this.setAttribute(e,t)}}function qtt(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ktt(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function Xtt(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function Ytt(e,t){var i=K8(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((t==null?i.local?Jtt:jtt:typeof t=="function"?i.local?Xtt:Ktt:i.local?qtt:Wtt)(i,t))}function nL(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Ztt(e){return function(){this.style.removeProperty(e)}}function tet(e,t,i){return function(){this.style.setProperty(e,t,i)}}function eet(e,t,i){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function iet(e,t,i){return arguments.length>1?this.each((t==null?Ztt:typeof t=="function"?eet:tet)(e,t,i??"")):Wh(this.node(),e)}function Wh(e,t){return e.style.getPropertyValue(t)||nL(e).getComputedStyle(e,null).getPropertyValue(t)}function net(e){return function(){delete this[e]}}function ret(e,t){return function(){this[e]=t}}function aet(e,t){return function(){var i=t.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function set(e,t){return arguments.length>1?this.each((t==null?net:typeof t=="function"?aet:ret)(e,t)):this.node()[e]}function rL(e){return e.trim().split(/^|\s+/)}function fy(e){return e.classList||new aL(e)}function aL(e){this._node=e,this._names=rL(e.getAttribute("class")||"")}aL.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function sL(e,t){for(var i=fy(e),n=-1,a=t.length;++n<a;)i.add(t[n])}function oL(e,t){for(var i=fy(e),n=-1,a=t.length;++n<a;)i.remove(t[n])}function oet(e){return function(){sL(this,e)}}function cet(e){return function(){oL(this,e)}}function uet(e,t){return function(){(t.apply(this,arguments)?sL:oL)(this,e)}}function det(e,t){var i=rL(e+"");if(arguments.length<2){for(var n=fy(this.node()),a=-1,s=i.length;++a<s;)if(!n.contains(i[a]))return!1;return!0}return this.each((typeof t=="function"?uet:t?oet:cet)(i,t))}function het(){this.textContent=""}function fet(e){return function(){this.textContent=e}}function met(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function pet(e){return arguments.length?this.each(e==null?het:(typeof e=="function"?met:fet)(e)):this.node().textContent}function get(){this.innerHTML=""}function Met(e){return function(){this.innerHTML=e}}function Aet(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function yet(e){return arguments.length?this.each(e==null?get:(typeof e=="function"?Aet:Met)(e)):this.node().innerHTML}function vet(){this.nextSibling&&this.parentNode.appendChild(this)}function bet(){return this.each(vet)}function Cet(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function _et(){return this.each(Cet)}function Eet(e){var t=typeof e=="function"?e:XP(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function wet(){return null}function Oet(e,t){var i=typeof e=="function"?e:XP(e),n=t==null?wet:typeof t=="function"?t:hy(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function xet(){var e=this.parentNode;e&&e.removeChild(this)}function Tet(){return this.each(xet)}function Iet(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bet(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ret(e){return this.select(e?Bet:Iet)}function Det(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Pet(e){return function(t){e.call(this,t,this.__data__)}}function Let(e){return e.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");return n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),{type:t,name:i}})}function ket(e){return function(){var t=this.__on;if(t){for(var i=0,n=-1,a=t.length,s;i<a;++i)s=t[i],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++n]=s;++n?t.length=n:delete this.__on}}}function Net(e,t,i){return function(){var n=this.__on,a,s=Pet(t);if(n){for(var l=0,c=n.length;l<c;++l)if((a=n[l]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=i),a.value=t;return}}this.addEventListener(e.type,s,i),a={type:e.type,name:e.name,value:t,listener:s,options:i},n?n.push(a):this.__on=[a]}}function Fet(e,t,i){var n=Let(e+""),a,s=n.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,u=c.length,h;d<u;++d)for(a=0,h=c[d];a<s;++a)if((l=n[a]).type===h.type&&l.name===h.name)return h.value}return}for(c=t?Net:ket,a=0;a<s;++a)this.each(c(n[a],t,i));return this}function lL(e,t,i){var n=nL(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,i):(a=n.document.createEvent("Event"),i?(a.initEvent(t,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function Uet(e,t){return function(){return lL(this,e,t)}}function $et(e,t){return function(){return lL(this,e,t.apply(this,arguments))}}function Get(e,t){return this.each((typeof t=="function"?$et:Uet)(e,t))}function*Vet(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,s=n.length,l;a<s;++a)(l=n[a])&&(yield l)}var Het=[null];function C0(e,t){this._groups=e,this._parents=t}function dm(){return new C0([[document.documentElement]],Het)}function Qet(){return this}C0.prototype=dm.prototype={constructor:C0,select:ptt,selectAll:Att,selectChild:Ctt,selectChildren:Ott,filter:xtt,data:Dtt,enter:Stt,exit:Ptt,join:Ltt,merge:ktt,selection:Qet,order:Ntt,sort:Ftt,call:$tt,nodes:Gtt,node:Vtt,size:Htt,empty:Qtt,each:ztt,attr:Ytt,style:iet,property:set,classed:det,text:pet,html:yet,raise:bet,lower:_et,append:Eet,insert:Oet,remove:Tet,clone:Ret,datum:Det,on:Fet,dispatch:Get,[Symbol.iterator]:Vet};function my(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function cL(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function hm(){}var p2=.7,Wp=1/p2,_h="\\s*([+-]?\\d+)\\s*",g2="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",wo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zet=/^#([0-9a-f]{3,8})$/,jet=new RegExp("^rgb\\("+[_h,_h,_h]+"\\)$"),Jet=new RegExp("^rgb\\("+[wo,wo,wo]+"\\)$"),Wet=new RegExp("^rgba\\("+[_h,_h,_h,g2]+"\\)$"),qet=new RegExp("^rgba\\("+[wo,wo,wo,g2]+"\\)$"),Ket=new RegExp("^hsl\\("+[g2,wo,wo]+"\\)$"),Xet=new RegExp("^hsla\\("+[g2,wo,wo,g2]+"\\)$"),Aw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};my(hm,qh,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:yw,formatHex:yw,formatHsl:Yet,formatRgb:vw,toString:vw});function yw(){return this.rgb().formatHex()}function Yet(){return uL(this).formatHsl()}function vw(){return this.rgb().formatRgb()}function qh(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=zet.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?bw(t):i===3?new zs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?S4(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?S4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=jet.exec(e))?new zs(t[1],t[2],t[3],1):(t=Jet.exec(e))?new zs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wet.exec(e))?S4(t[1],t[2],t[3],t[4]):(t=qet.exec(e))?S4(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ket.exec(e))?Ew(t[1],t[2]/100,t[3]/100,1):(t=Xet.exec(e))?Ew(t[1],t[2]/100,t[3]/100,t[4]):Aw.hasOwnProperty(e)?bw(Aw[e]):e==="transparent"?new zs(NaN,NaN,NaN,0):null}function bw(e){return new zs(e>>16&255,e>>8&255,e&255,1)}function S4(e,t,i,n){return n<=0&&(e=t=i=NaN),new zs(e,t,i,n)}function Zet(e){return e instanceof hm||(e=qh(e)),e?(e=e.rgb(),new zs(e.r,e.g,e.b,e.opacity)):new zs}function GM(e,t,i,n){return arguments.length===1?Zet(e):new zs(e,t,i,n??1)}function zs(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}my(zs,GM,cL(hm,{brighter:function(e){return e=e==null?Wp:Math.pow(Wp,e),new zs(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?p2:Math.pow(p2,e),new zs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cw,formatHex:Cw,formatRgb:_w,toString:_w}));function Cw(){return"#"+gg(this.r)+gg(this.g)+gg(this.b)}function _w(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function gg(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Ew(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new yo(e,t,i,n)}function uL(e){if(e instanceof yo)return new yo(e.h,e.s,e.l,e.opacity);if(e instanceof hm||(e=qh(e)),!e)return new yo;if(e instanceof yo)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,a=Math.min(t,i,n),s=Math.max(t,i,n),l=NaN,c=s-a,d=(s+a)/2;return c?(t===s?l=(i-n)/c+(i<n)*6:i===s?l=(n-t)/c+2:l=(t-i)/c+4,c/=d<.5?s+a:2-s-a,l*=60):c=d>0&&d<1?0:l,new yo(l,c,d,e.opacity)}function dL(e,t,i,n){return arguments.length===1?uL(e):new yo(e,t,i,n??1)}function yo(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}my(yo,dL,cL(hm,{brighter:function(e){return e=e==null?Wp:Math.pow(Wp,e),new yo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?p2:Math.pow(p2,e),new yo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,a=2*i-n;return new zs(Mg(e>=240?e-240:e+120,a,n),Mg(e,a,n),Mg(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Mg(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const hL=e=>()=>e;function tit(e,t){return function(i){return e+i*t}}function eit(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function iit(e){return(e=+e)==1?fL:function(t,i){return i-t?eit(t,i,e):hL(isNaN(t)?i:t)}}function fL(e,t){var i=t-e;return i?tit(e,i):hL(isNaN(e)?t:e)}const VM=function e(t){var i=iit(t);function n(a,s){var l=i((a=GM(a)).r,(s=GM(s)).r),c=i(a.g,s.g),d=i(a.b,s.b),u=fL(a.opacity,s.opacity);return function(h){return a.r=l(h),a.g=c(h),a.b=d(h),a.opacity=u(h),a+""}}return n.gamma=e,n}(1);function fc(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}var HM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ag=new RegExp(HM.source,"g");function nit(e){return function(){return e}}function rit(e){return function(t){return e(t)+""}}function ait(e,t){var i=HM.lastIndex=Ag.lastIndex=0,n,a,s,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=HM.exec(e))&&(a=Ag.exec(t));)(s=a.index)>i&&(s=t.slice(i,s),c[l]?c[l]+=s:c[++l]=s),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:fc(n,a)})),i=Ag.lastIndex;return i<t.length&&(s=t.slice(i),c[l]?c[l]+=s:c[++l]=s),c.length<2?d[0]?rit(d[0].x):nit(t):(t=d.length,function(u){for(var h=0,g;h<t;++h)c[(g=d[h]).i]=g.x(u);return c.join("")})}var ww=180/Math.PI,QM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function mL(e,t,i,n,a,s){var l,c,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*i+t*n)&&(i-=e*d,n-=t*d),(c=Math.sqrt(i*i+n*n))&&(i/=c,n/=c,d/=c),e*n<t*i&&(e=-e,t=-t,d=-d,l=-l),{translateX:a,translateY:s,rotate:Math.atan2(t,e)*ww,skewX:Math.atan(d)*ww,scaleX:l,scaleY:c}}var T4;function sit(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?QM:mL(t.a,t.b,t.c,t.d,t.e,t.f)}function oit(e){return e==null||(T4||(T4=document.createElementNS("http://www.w3.org/2000/svg","g")),T4.setAttribute("transform",e),!(e=T4.transform.baseVal.consolidate()))?QM:(e=e.matrix,mL(e.a,e.b,e.c,e.d,e.e,e.f))}function pL(e,t,i,n){function a(u){return u.length?u.pop()+" ":""}function s(u,h,g,m,M,p){if(u!==g||h!==m){var A=M.push("translate(",null,t,null,i);p.push({i:A-4,x:fc(u,g)},{i:A-2,x:fc(h,m)})}else(g||m)&&M.push("translate("+g+t+m+i)}function l(u,h,g,m){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),m.push({i:g.push(a(g)+"rotate(",null,n)-2,x:fc(u,h)})):h&&g.push(a(g)+"rotate("+h+n)}function c(u,h,g,m){u!==h?m.push({i:g.push(a(g)+"skewX(",null,n)-2,x:fc(u,h)}):h&&g.push(a(g)+"skewX("+h+n)}function d(u,h,g,m,M,p){if(u!==g||h!==m){var A=M.push(a(M)+"scale(",null,",",null,")");p.push({i:A-4,x:fc(u,g)},{i:A-2,x:fc(h,m)})}else(g!==1||m!==1)&&M.push(a(M)+"scale("+g+","+m+")")}return function(u,h){var g=[],m=[];return u=e(u),h=e(h),s(u.translateX,u.translateY,h.translateX,h.translateY,g,m),l(u.rotate,h.rotate,g,m),c(u.skewX,h.skewX,g,m),d(u.scaleX,u.scaleY,h.scaleX,h.scaleY,g,m),u=h=null,function(M){for(var p=-1,A=m.length,b;++p<A;)g[(b=m[p]).i]=b.x(M);return g.join("")}}}var lit=pL(sit,"px, ","px)","deg)"),cit=pL(oit,", ",")",")"),Kh=0,L1=0,b1=0,gL=1e3,qp,k1,Kp=0,ld=0,X8=0,M2=typeof performance=="object"&&performance.now?performance:Date,ML=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function py(){return ld||(ML(uit),ld=M2.now()+X8)}function uit(){ld=0}function Xp(){this._call=this._time=this._next=null}Xp.prototype=AL.prototype={constructor:Xp,restart:function(e,t,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?py():+i)+(t==null?0:+t),!this._next&&k1!==this&&(k1?k1._next=this:qp=this,k1=this),this._call=e,this._time=i,zM()},stop:function(){this._call&&(this._call=null,this._time=1/0,zM())}};function AL(e,t,i){var n=new Xp;return n.restart(e,t,i),n}function dit(){py(),++Kh;for(var e=qp,t;e;)(t=ld-e._time)>=0&&e._call.call(null,t),e=e._next;--Kh}function Ow(){ld=(Kp=M2.now())+X8,Kh=L1=0;try{dit()}finally{Kh=0,fit(),ld=0}}function hit(){var e=M2.now(),t=e-Kp;t>gL&&(X8-=t,Kp=e)}function fit(){for(var e,t=qp,i,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:qp=i);k1=e,zM(n)}function zM(e){if(!Kh){L1&&(L1=clearTimeout(L1));var t=e-ld;t>24?(e<1/0&&(L1=setTimeout(Ow,e-M2.now()-X8)),b1&&(b1=clearInterval(b1))):(b1||(Kp=M2.now(),b1=setInterval(hit,gL)),Kh=1,ML(Ow))}}function xw(e,t,i){var n=new Xp;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,i),n}var mit=KP("start","end","cancel","interrupt"),pit=[],yL=0,Sw=1,jM=2,ap=3,Tw=4,JM=5,sp=6;function Y8(e,t,i,n,a,s){var l=e.__transition;if(!l)e.__transition={};else if(i in l)return;git(e,i,{name:t,index:n,group:a,on:mit,tween:pit,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:yL})}function gy(e,t){var i=X0(e,t);if(i.state>yL)throw new Error("too late; already scheduled");return i}function ko(e,t){var i=X0(e,t);if(i.state>ap)throw new Error("too late; already running");return i}function X0(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function git(e,t,i){var n=e.__transition,a;n[t]=i,i.timer=AL(s,0,i.time);function s(u){i.state=Sw,i.timer.restart(l,i.delay,i.time),i.delay<=u&&l(u-i.delay)}function l(u){var h,g,m,M;if(i.state!==Sw)return d();for(h in n)if(M=n[h],M.name===i.name){if(M.state===ap)return xw(l);M.state===Tw?(M.state=sp,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete n[h]):+h<t&&(M.state=sp,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete n[h])}if(xw(function(){i.state===ap&&(i.state=Tw,i.timer.restart(c,i.delay,i.time),c(u))}),i.state=jM,i.on.call("start",e,e.__data__,i.index,i.group),i.state===jM){for(i.state=ap,a=new Array(m=i.tween.length),h=0,g=-1;h<m;++h)(M=i.tween[h].value.call(e,e.__data__,i.index,i.group))&&(a[++g]=M);a.length=g+1}}function c(u){for(var h=u<i.duration?i.ease.call(null,u/i.duration):(i.timer.restart(d),i.state=JM,1),g=-1,m=a.length;++g<m;)a[g].call(e,h);i.state===JM&&(i.on.call("end",e,e.__data__,i.index,i.group),d())}function d(){i.state=sp,i.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Mit(e,t){var i=e.__transition,n,a,s=!0,l;if(i){t=t==null?null:t+"";for(l in i){if((n=i[l]).name!==t){s=!1;continue}a=n.state>jM&&n.state<JM,n.state=sp,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[l]}s&&delete e.__transition}}function Ait(e){return this.each(function(){Mit(this,e)})}function yit(e,t){var i,n;return function(){var a=ko(this,e),s=a.tween;if(s!==i){n=i=s;for(var l=0,c=n.length;l<c;++l)if(n[l].name===t){n=n.slice(),n.splice(l,1);break}}a.tween=n}}function vit(e,t,i){var n,a;if(typeof i!="function")throw new Error;return function(){var s=ko(this,e),l=s.tween;if(l!==n){a=(n=l).slice();for(var c={name:t,value:i},d=0,u=a.length;d<u;++d)if(a[d].name===t){a[d]=c;break}d===u&&a.push(c)}s.tween=a}}function bit(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n=X0(this.node(),i).tween,a=0,s=n.length,l;a<s;++a)if((l=n[a]).name===e)return l.value;return null}return this.each((t==null?yit:vit)(i,e,t))}function My(e,t,i){var n=e._id;return e.each(function(){var a=ko(this,n);(a.value||(a.value={}))[t]=i.apply(this,arguments)}),function(a){return X0(a,n).value[t]}}function vL(e,t){var i;return(typeof t=="number"?fc:t instanceof qh?VM:(i=qh(t))?(t=i,VM):ait)(e,t)}function Cit(e){return function(){this.removeAttribute(e)}}function _it(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Eit(e,t,i){var n,a=i+"",s;return function(){var l=this.getAttribute(e);return l===a?null:l===n?s:s=t(n=l,i)}}function wit(e,t,i){var n,a=i+"",s;return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===n?s:s=t(n=l,i)}}function Oit(e,t,i){var n,a,s;return function(){var l,c=i(this),d;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=c+"",l===d?null:l===n&&d===a?s:(a=d,s=t(n=l,c)))}}function xit(e,t,i){var n,a,s;return function(){var l,c=i(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=c+"",l===d?null:l===n&&d===a?s:(a=d,s=t(n=l,c)))}}function Sit(e,t){var i=K8(e),n=i==="transform"?cit:vL;return this.attrTween(e,typeof t=="function"?(i.local?xit:Oit)(i,n,My(this,"attr."+e,t)):t==null?(i.local?_it:Cit)(i):(i.local?wit:Eit)(i,n,t))}function Tit(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function Iit(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function Bit(e,t){var i,n;function a(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&Iit(e,s)),i}return a._value=t,a}function Rit(e,t){var i,n;function a(){var s=t.apply(this,arguments);return s!==n&&(i=(n=s)&&Tit(e,s)),i}return a._value=t,a}function Dit(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;var n=K8(e);return this.tween(i,(n.local?Bit:Rit)(n,t))}function Pit(e,t){return function(){gy(this,e).delay=+t.apply(this,arguments)}}function Lit(e,t){return t=+t,function(){gy(this,e).delay=t}}function kit(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Pit:Lit)(t,e)):X0(this.node(),t).delay}function Nit(e,t){return function(){ko(this,e).duration=+t.apply(this,arguments)}}function Fit(e,t){return t=+t,function(){ko(this,e).duration=t}}function Uit(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Nit:Fit)(t,e)):X0(this.node(),t).duration}function $it(e,t){if(typeof t!="function")throw new Error;return function(){ko(this,e).ease=t}}function Git(e){var t=this._id;return arguments.length?this.each($it(t,e)):X0(this.node(),t).ease}function Vit(e,t){return function(){var i=t.apply(this,arguments);if(typeof i!="function")throw new Error;ko(this,e).ease=i}}function Hit(e){if(typeof e!="function")throw new Error;return this.each(Vit(this._id,e))}function Qit(e){typeof e!="function"&&(e=tL(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var s=t[a],l=s.length,c=n[a]=[],d,u=0;u<l;++u)(d=s[u])&&e.call(d,d.__data__,u,s)&&c.push(d);return new Rl(n,this._parents,this._name,this._id)}function zit(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,a=i.length,s=Math.min(n,a),l=new Array(n),c=0;c<s;++c)for(var d=t[c],u=i[c],h=d.length,g=l[c]=new Array(h),m,M=0;M<h;++M)(m=d[M]||u[M])&&(g[M]=m);for(;c<n;++c)l[c]=t[c];return new Rl(l,this._parents,this._name,this._id)}function jit(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||t==="start"})}function Jit(e,t,i){var n,a,s=jit(t)?gy:ko;return function(){var l=s(this,e),c=l.on;c!==n&&(a=(n=c).copy()).on(t,i),l.on=a}}function Wit(e,t){var i=this._id;return arguments.length<2?X0(this.node(),i).on.on(e):this.each(Jit(i,e,t))}function qit(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}function Kit(){return this.on("end.remove",qit(this._id))}function Xit(e){var t=this._name,i=this._id;typeof e!="function"&&(e=hy(e));for(var n=this._groups,a=n.length,s=new Array(a),l=0;l<a;++l)for(var c=n[l],d=c.length,u=s[l]=new Array(d),h,g,m=0;m<d;++m)(h=c[m])&&(g=e.call(h,h.__data__,m,c))&&("__data__"in h&&(g.__data__=h.__data__),u[m]=g,Y8(u[m],t,i,m,u,X0(h,i)));return new Rl(s,this._parents,t,i)}function Yit(e){var t=this._name,i=this._id;typeof e!="function"&&(e=ZP(e));for(var n=this._groups,a=n.length,s=[],l=[],c=0;c<a;++c)for(var d=n[c],u=d.length,h,g=0;g<u;++g)if(h=d[g]){for(var m=e.call(h,h.__data__,g,d),M,p=X0(h,i),A=0,b=m.length;A<b;++A)(M=m[A])&&Y8(M,t,i,A,m,p);s.push(m),l.push(h)}return new Rl(s,l,t,i)}var Zit=dm.prototype.constructor;function tnt(){return new Zit(this._groups,this._parents)}function ent(e,t){var i,n,a;return function(){var s=Wh(this,e),l=(this.style.removeProperty(e),Wh(this,e));return s===l?null:s===i&&l===n?a:a=t(i=s,n=l)}}function bL(e){return function(){this.style.removeProperty(e)}}function int(e,t,i){var n,a=i+"",s;return function(){var l=Wh(this,e);return l===a?null:l===n?s:s=t(n=l,i)}}function nnt(e,t,i){var n,a,s;return function(){var l=Wh(this,e),c=i(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),Wh(this,e))),l===d?null:l===n&&d===a?s:(a=d,s=t(n=l,c))}}function rnt(e,t){var i,n,a,s="style."+t,l="end."+s,c;return function(){var d=ko(this,e),u=d.on,h=d.value[s]==null?c||(c=bL(t)):void 0;(u!==i||a!==h)&&(n=(i=u).copy()).on(l,a=h),d.on=n}}function ant(e,t,i){var n=(e+="")=="transform"?lit:vL;return t==null?this.styleTween(e,ent(e,n)).on("end.style."+e,bL(e)):typeof t=="function"?this.styleTween(e,nnt(e,n,My(this,"style."+e,t))).each(rnt(this._id,e)):this.styleTween(e,int(e,n,t),i).on("end.style."+e,null)}function snt(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}function ont(e,t,i){var n,a;function s(){var l=t.apply(this,arguments);return l!==a&&(n=(a=l)&&snt(e,l,i)),n}return s._value=t,s}function lnt(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,ont(e,t,i??""))}function cnt(e){return function(){this.textContent=e}}function unt(e){return function(){var t=e(this);this.textContent=t??""}}function dnt(e){return this.tween("text",typeof e=="function"?unt(My(this,"text",e)):cnt(e==null?"":e+""))}function hnt(e){return function(t){this.textContent=e.call(this,t)}}function fnt(e){var t,i;function n(){var a=e.apply(this,arguments);return a!==i&&(t=(i=a)&&hnt(a)),t}return n._value=e,n}function mnt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,fnt(e))}function pnt(){for(var e=this._name,t=this._id,i=CL(),n=this._groups,a=n.length,s=0;s<a;++s)for(var l=n[s],c=l.length,d,u=0;u<c;++u)if(d=l[u]){var h=X0(d,t);Y8(d,e,i,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Rl(n,this._parents,e,i)}function gnt(){var e,t,i=this,n=i._id,a=i.size();return new Promise(function(s,l){var c={value:l},d={value:function(){--a===0&&s()}};i.each(function(){var u=ko(this,n),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(d)),u.on=t}),a===0&&s()})}var Mnt=0;function Rl(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function CL(){return++Mnt}var Iu=dm.prototype;Rl.prototype={constructor:Rl,select:Xit,selectAll:Yit,filter:Qit,merge:zit,selection:tnt,transition:pnt,call:Iu.call,nodes:Iu.nodes,node:Iu.node,size:Iu.size,empty:Iu.empty,each:Iu.each,on:Wit,attr:Sit,attrTween:Dit,style:ant,styleTween:lnt,text:dnt,textTween:mnt,remove:Kit,tween:bit,delay:kit,duration:Uit,ease:Git,easeVarying:Hit,end:gnt,[Symbol.iterator]:Iu[Symbol.iterator]};function Ant(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var ynt={time:null,delay:0,duration:250,ease:Ant};function vnt(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function bnt(e){var t,i;e instanceof Rl?(t=e._id,e=e._name):(t=CL(),(i=ynt).time=py(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var l=n[s],c=l.length,d,u=0;u<c;++u)(d=l[u])&&Y8(d,e,t,u,l,i||vnt(d,t));return new Rl(n,this._parents,e,t)}dm.prototype.interrupt=Ait;dm.prototype.transition=bnt;function N1(e,t,i){this.k=e,this.x=t,this.y=i}N1.prototype={constructor:N1,scale:function(e){return e===1?this:new N1(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new N1(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};N1.prototype;function Cnt(e,t,i){return Math.max(t,Math.min(i,e))}class ku{constructor(t=[],i=!1){i?this._notes=t:this._notes=t.map(n=>n.string!==void 0&&n.fret!==void 0?ch.from(n):Ju.from(n))}getNotes(){return this._notes}setNotes(t){return this._notes=t,this}*[Symbol.iterator](){for(const t of this._notes)yield t}addNotes(t,i=!0){return this._notes=[...this._notes,...t],i&&this.sortByTime(),this}concat(t){return this._notes=[...this._notes,...t._notes],this}append(t,i=0){const n=this.getDuration(),a=t.clone();return a.shiftTime(n+i),this._notes=[...this._notes,...a._notes],this.sortByTime(),this}repeat(t){const i=this.clone();if(t<1)return new ku;if(t===1)return i;const n=this.clone(),a=this.getDuration();for(let s=1;s<t;s++)n.shiftTime(a),i.concat(n);return i}length(){return this._notes.length}getStartTime(){return ltt(this._notes,t=>t.start)}getDuration(){let t=0;for(const i of this._notes){const n=i.end===null?i.start:i.end;n>t&&(t=n)}return t}scaleTime(t){return this._notes=this._notes.map(i=>i.scaleTime(t)),this}shiftTime(t){return this._notes=this._notes.map(i=>i.shiftTime(t)),this}shiftToStartAt(t){this.sortByTime();const n=this._notes[0].start-t;return this._notes.forEach(a=>{a.start-=n,a.end!==null&&(a.end-=n)}),this}forEach(t){return this._notes.forEach((i,n,a)=>t(i,n,a)),this}sort(t){return this._notes=this._notes.sort(t),this}sortByTime(){return this._notes=this._notes.sort((t,i)=>t.start-i.start),this}map(t){return this._notes=this._notes.map((i,n,a)=>t(i,n,a)),this}slice(t,i){return this._notes=this._notes.slice(t,i),this}sliceTime(t,i,n="contained"){const a=t,s=i;let l;if(n==="start")l=c=>c.start>=a&&c.start<s;else if(n==="end")l=c=>c.end!==null&&c.end>=a&&c.end<s;else if(n==="contained")l=c=>c.end!==null&&c.start>=a&&c.end<s;else if(n==="touched")l=c=>c.start>=a&&c.start<=s||c.end!==null&&c.end>=a&&c.end<=s;else if(n==="touched-included")l=c=>c.start>=a&&c.start<=s||c.end!==null&&c.end>=a&&c.end<=s||c.end!==null&&c.start<=a&&c.end>=s;else throw new Error("Invalid slicing mode");return this._notes=this._notes.filter(l),this}sliceAtTimes(t,i,n=!1){if(t.length===0)return[this._notes];const a=this.getDuration();Math.max(...t)<=a&&t.push(a+1);const s=[];let l=0;for(const c of t)s.push(new ku(this._notes,n).sliceTime(l,c,i).getNotes()),l=c;return s}segmentAtGaps(t,i){if(this._notes.length<2)return[this._notes];if(i==="start-start"){const n=this.clone().sortByTime().getNotes(),a=[];for(let s=1;s<n.length;s++)n[s].start-n[s-1].start>=t&&a.push(n[s].start);return this.sliceAtTimes(a,"start")}else{const n=[];for(const s of this._notes){const{start:l,end:c}=s,d=[];for(let u=0;u<n.length;u++){const[h,g]=n[u];(h>=l&&h<=c||g>=l&&g<=c)&&(n.splice(u,1),d.push([h,g]))}if(d.length===0)n.push([l,c]);else{const u=Math.min(l,...d.map(g=>g[0])),h=Math.max(c,...d.map(g=>g[1]));n.push([u,h])}}if(n.length===1)return[this._notes];const a=[];for(let s=1;s<n.length;s++){const l=n[s][0],c=n[s-1][1];l-c>=t&&a.push(l)}return this.sliceAtTimes(a,"start")}}segmentAtIndices(t){const i=[];let n=0;for(const a of t)i.push(this._notes.slice(n,a)),n=a;return i}filter(t){return this._notes=this._notes.filter((i,n,a)=>t(i,n,a)),this}filterPitches(t){return t instanceof Set||(t=new Set(t)),this._notes=this._notes.filter(i=>t.has(i.pitch)),this}transpose(t){return this._notes=this._notes.map(i=>Ju.from({...i,pitch:Cnt(i.pitch+t,0,127)})),this}removeOctaves(){return this._notes=this._notes.map(t=>Ju.from({...t,pitch:t.pitch%12})),this}reverse(){const t=this.getDuration();return this._notes=this._notes.map(i=>{const n=i.clone();return n.start=t-i.end,n.end=n.start+i.getDuration(),n}),this.sortByTime(),this}equals(t){if(!(t instanceof ku))return!1;const i=t.getNotes();if(this._notes.length!==i.length)return!1;for(const[n,a]of i.entries())if(!this._notes[n].equals(a))return!1;return!0}clone(){return new ku(this._notes)}}var C1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ay(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _nt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),i}var Ent={exports:{}};(function(e){(function(){const t=function(n){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;if(n=n.replace(/^.*?base64,/,""),n=String(n).replace(/[\t\n\f\r ]+/g,""),!s.test(n))throw new TypeError("Failed to execute _atob() : The string to be decoded is not correctly encoded.");n+="==".slice(2-(n.length&3));let l,c="",d,u,h=0;for(;h<n.length;)l=a.indexOf(n.charAt(h++))<<18|a.indexOf(n.charAt(h++))<<12|(d=a.indexOf(n.charAt(h++)))<<6|(u=a.indexOf(n.charAt(h++))),c+=d===64?String.fromCharCode(l>>16&255):u===64?String.fromCharCode(l>>16&255,l>>8&255):String.fromCharCode(l>>16&255,l>>8&255,l&255);return c},i={debug:!1,parse:function(n,a){if(n instanceof Uint8Array)return i.Uint8(n);if(typeof n=="string")return i.Base64(n);if(n instanceof HTMLElement&&n.type==="file")return i.addListener(n,a);throw new Error("MidiParser.parse() : Invalid input provided")},addListener:function(n,a){if(!File||!FileReader)throw new Error("The File|FileReader APIs are not supported in this browser. Use instead MidiParser.Base64() or MidiParser.Uint8()");if(n===void 0||!(n instanceof HTMLElement)||n.tagName!=="INPUT"||n.type.toLowerCase()!=="file")return console.warn("MidiParser.addListener() : Provided element is not a valid FILE INPUT element"),!1;a=a||function(){},n.addEventListener("change",function(s){if(!s.target.files.length)return!1;console.log("MidiParser.addListener() : File detected in INPUT ELEMENT processing data..");let l=new FileReader;l.readAsArrayBuffer(s.target.files[0]),l.onload=function(c){a(i.Uint8(new Uint8Array(c.target.result)))}})},Base64:function(n){n=String(n);let a=t(n),s=a.length,l=new Uint8Array(new ArrayBuffer(s));for(let c=0;c<s;c++)l[c]=a.charCodeAt(c);return i.Uint8(l)},Uint8:function(n){let a={data:null,pointer:0,movePointer:function(d){return this.pointer+=d,this.pointer},readInt:function(d){if(d=Math.min(d,this.data.byteLength-this.pointer),d<1)return-1;let u=0;if(d>1)for(let h=1;h<=d-1;h++)u+=this.data.getUint8(this.pointer)*Math.pow(256,d-h),this.pointer++;return u+=this.data.getUint8(this.pointer),this.pointer++,u},readStr:function(d){let u="";for(let h=1;h<=d;h++)u+=String.fromCharCode(this.readInt(1));return u},readIntVLV:function(){let d=0;if(this.pointer>=this.data.byteLength)return-1;if(this.data.getUint8(this.pointer)<128)d=this.readInt(1);else{let u=[];for(;this.data.getUint8(this.pointer)>=128;)u.push(this.readInt(1)-128);let h=this.readInt(1);for(let g=1;g<=u.length;g++)d+=u[u.length-g]*Math.pow(128,g);d+=h}return d}};if(a.data=new DataView(n.buffer,n.byteOffset,n.byteLength),a.readInt(4)!==1297377380)return console.warn("Header validation failed (not MIDI standard or file corrupt.)"),!1;a.readInt(4);let s={};s.formatType=a.readInt(2),s.tracks=a.readInt(2),s.track=[];let l=a.readInt(1),c=a.readInt(1);l>=128?(s.timeDivision=[],s.timeDivision[0]=l-128,s.timeDivision[1]=c):s.timeDivision=l*256+c;for(let d=1;d<=s.tracks;d++){s.track[d-1]={event:[]};let u=a.readInt(4);if(u===-1)break;if(u!==1297379947)return!1;a.readInt(4);let h=0,g=!1,m,M;for(;!g&&(h++,s.track[d-1].event[h-1]={},s.track[d-1].event[h-1].deltaTime=a.readIntVLV(),m=a.readInt(1),m!==-1);)if(m>=128?M=m:(m=M,a.movePointer(-1)),m===255){s.track[d-1].event[h-1].type=255,s.track[d-1].event[h-1].metaType=a.readInt(1);let p=a.readIntVLV();switch(s.track[d-1].event[h-1].metaType){case 47:case-1:g=!0;break;case 1:case 2:case 3:case 4:case 5:case 7:case 6:s.track[d-1].event[h-1].data=a.readStr(p);break;case 33:case 89:case 81:s.track[d-1].event[h-1].data=a.readInt(p);break;case 84:s.track[d-1].event[h-1].data=[],s.track[d-1].event[h-1].data[0]=a.readInt(1),s.track[d-1].event[h-1].data[1]=a.readInt(1),s.track[d-1].event[h-1].data[2]=a.readInt(1),s.track[d-1].event[h-1].data[3]=a.readInt(1),s.track[d-1].event[h-1].data[4]=a.readInt(1);break;case 88:s.track[d-1].event[h-1].data=[],s.track[d-1].event[h-1].data[0]=a.readInt(1),s.track[d-1].event[h-1].data[1]=a.readInt(1),s.track[d-1].event[h-1].data[2]=a.readInt(1),s.track[d-1].event[h-1].data[3]=a.readInt(1);break;default:this.customInterpreter!==null&&(s.track[d-1].event[h-1].data=this.customInterpreter(s.track[d-1].event[h-1].metaType,a,p)),(this.customInterpreter===null||s.track[d-1].event[h-1].data===!1)&&(a.readInt(p),s.track[d-1].event[h-1].data=a.readInt(p),this.debug&&console.info("Unimplemented 0xFF meta event! data block readed as Integer"))}}else switch(m=m.toString(16).split(""),m[1]||m.unshift("0"),s.track[d-1].event[h-1].type=parseInt(m[0],16),s.track[d-1].event[h-1].channel=parseInt(m[1],16),s.track[d-1].event[h-1].type){case 15:{if(this.customInterpreter!==null&&(s.track[d-1].event[h-1].data=this.customInterpreter(s.track[d-1].event[h-1].type,a,!1)),this.customInterpreter===null||s.track[d-1].event[h-1].data===!1){let p=a.readIntVLV();s.track[d-1].event[h-1].data=a.readInt(p),this.debug&&console.info("Unimplemented 0xF exclusive events! data block readed as Integer")}break}case 10:case 11:case 14:case 8:case 9:s.track[d-1].event[h-1].data=[],s.track[d-1].event[h-1].data[0]=a.readInt(1),s.track[d-1].event[h-1].data[1]=a.readInt(1);break;case 12:case 13:s.track[d-1].event[h-1].data=a.readInt(1);break;case-1:g=!0;break;default:if(this.customInterpreter!==null&&(s.track[d-1].event[h-1].data=this.customInterpreter(s.track[d-1].event[h-1].metaType,a,!1)),this.customInterpreter===null||s.track[d-1].event[h-1].data===!1)return console.log("Unknown EVENT detected... reading cancelled!"),!1}}return s},customInterpreter:null};e.exports=i})()})(Ent);function ta(e){return 1/(e/60)}const _L=[],wnt=[2,1,1/2,1/4,1/8,1/16,1/32,1/64];for(const e of wnt)for(let t=0;t<4;t++){let i=e,n=e;for(let a=0;a<t;a++)n/=2,i+=n;_L.push({type:e,dots:t,duration:i})}_L.sort((e,t)=>e.duration-t.duration);function Z8(e,t,i,n){e.beginPath(),e.arc(t,i,n,0,2*Math.PI),e.stroke()}class zn{constructor(t,i){this.name=t,this.notes=i,this.short=i.join(" "),this.pitches=i.map(n=>q8(n).pitch),this.stringCount=i.length}}const Ont=new Map([["Guitar",new Map([[6,[new zn("E stand.",["E2","A2","D3","G3","B3","E4"]),new zn("Drop D",["D2","A2","D3","G3","B3","E4"]),new zn("Drop C",["C2","G2","C3","F3","A3","D4"]),new zn("1/2 down",["D#2","G#2","C#3","F#3","A#3","D#4"]),new zn("1 down",["D2","G2","C3","F3","A3","D4"]),new zn("1 1/2 down",["C#2","F#2","B2","E3","G#3","C#4"]),new zn("2 down",["C2","F2","A#2","D#3","G3","C4"]),new zn("DADGAG",["D2","A2","D3","G3","A3","D4"])]],[7,[new zn("B stand.",["B1","E2","A2","D3","G3","B3","E4"]),new zn("Drop A",["A1","E2","A2","D3","G3","B3","E4"]),new zn("1/2 down",["A#1","D#2","G#2","C#3","F#3","A#3","D#4"]),new zn("1 down",["A1","D2","G2","C3","F3","A3","D4"]),new zn("1 1/2 down",["G#1","C#2","F#2","B2","E3","G#3","C#4"]),new zn("2 down",["G1","C2","F2","A#2","D#3","G3","C4"])]],[8,[new zn("F# stand.",["F#1","B1","E2","A2","D3","G3","B3","E4"]),new zn("Drop E",["E1","B1","E2","A2","D3","G3","B3","E4"]),new zn("1/2 down",["F1","A#1","D#2","G#2","C#3","F#3","A#3","D#4"]),new zn("1 down",["E1","A1","D2","G2","C3","F3","A3","D4"]),new zn("1 1/2 down",["D#1","G#1","C#2","F#2","B2","E3","G#3","C#4"]),new zn("2 down",["D1","G1","C2","F2","A#2","D#3","G3","C4"])]]])],["Bass",new Map([[4,[new zn("E stand.",["E1","A1","D2","G2"]),new zn("Drop D",["D1","A1","D2","G2"]),new zn("1/2 down",["D#1","G#1","C#2","F#2"]),new zn("1 down",["D1","G1","C2","F2"]),new zn("1 1/2 down",["C#1","F#1","B1","E2"]),new zn("2 down",["C1","F1","A#1","D#2"])]],[5,[new zn("B stand.",["B0","E1","A1","D2","G2"]),new zn("Drop A",["A0","D1","A1","D2","G2"]),new zn("1/2 down",["A#0","D#1","G#1","C#2","F#2"]),new zn("1 down",["A0","D1","G1","C2","F2"]),new zn("1 1/2 down",["G#0","C#1","F#1","B1","E2"]),new zn("2 down",["G0","C1","F1","A#1","D#2"])]],[6,[new zn("F# stand.",["F#0","B0","E1","A1","D2","G2"]),new zn("Drop E",["E0","A0","D1","A1","D2","G2"]),new zn("1/2 down",["F0","A#0","D#1","G#1","C#2","F#2"]),new zn("1 down",["E1","A0","D1","G1","C2","F2"]),new zn("1 1/2 down",["D#0","G#0","C#1","F#1","B1","E2"]),new zn("2 down",["D0","G0","C1","F1","A#1","D#2"])]]])],["Ukulele",new Map([[4,[new zn("Hawaii",["G4","C4","E4","A4"]),new zn("Low G",["G3","C4","E4","A4"]),new zn("D-tuning",["A4","D4","F#4","B4"]),new zn("Canadian",["A3","D4","F#4","B4"]),new zn("Bariton",["D3","G3","B3","E4"])]]])]]);function yy(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function vy(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var EL=[0,2,4,-1,1,3,5],wL=EL.map(e=>Math.floor(e*7/12));function OL(e){const{step:t,alt:i,oct:n,dir:a=1}=e,s=EL[t]+7*i;if(n===void 0)return[a*s];const l=n-wL[t]-4*i;return[a*s,a*l]}var xnt=[3,0,4,1,5,2,6];function xL(e){const[t,i,n]=e,a=xnt[Snt(t)],s=Math.floor((t+1)/7);if(i===void 0)return{step:a,alt:s,dir:n};const l=i+4*s+wL[a];return{step:a,alt:s,oct:l,dir:n}}function Snt(e){const t=(e+1)%7;return t<0?7+t:t}var Iw=(e,t)=>Array(Math.abs(t)+1).join(e),WM=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),Tnt="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",Int="(AA|A|P|M|m|d|dd)([-+]?\\d+)",Bnt=new RegExp("^"+Tnt+"|"+Int+"$");function Rnt(e){const t=Bnt.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var Bw={};function Dl(e){return typeof e=="string"?Bw[e]||(Bw[e]=Dnt(e)):vy(e)?Dl(Lnt(e)):yy(e)?Dl(e.name):WM}var Rw=[0,2,4,5,7,9,11],SL="PMMPPMM";function Dnt(e){const t=Rnt(e);if(t[0]==="")return WM;const i=+t[0],n=t[1],a=(Math.abs(i)-1)%7,s=SL[a];if(s==="M"&&n==="P")return WM;const l=s==="M"?"majorable":"perfectable",c=""+i+n,d=i<0?-1:1,u=i===8||i===-8?i:d*(a+1),h=Pnt(l,n),g=Math.floor((Math.abs(i)-1)/7),m=d*(Rw[a]+h+12*g),M=(d*(Rw[a]+h)%12+12)%12,p=OL({step:a,alt:h,oct:g,dir:d});return{empty:!1,name:c,num:i,q:n,step:a,alt:h,dir:d,type:l,simple:u,semitones:m,chroma:M,coord:p,oct:g}}function TL(e,t){const[i,n=0]=e,a=i*7+n*12<0,s=t||a?[-i,-n,-1]:[i,n,1];return Dl(xL(s))}function Pnt(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function Lnt(e){const{step:t,alt:i,oct:n=0,dir:a}=e;if(!a)return"";const s=t+1+7*n,l=s===0?t+1:s,c=a<0?"-":"",d=SL[t]==="M"?"majorable":"perfectable";return c+l+knt(d,i)}function knt(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?Iw("A",t):Iw("d",e==="perfectable"?t:t+1)}var Dw=(e,t)=>Array(Math.abs(t)+1).join(e),IL=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),Pw=new Map,Nnt=e=>"CDEFGAB".charAt(e),BL=e=>e<0?Dw("b",-e):Dw("#",e),RL=e=>e[0]==="b"?-e.length:e.length;function h9(e){const t=JSON.stringify(e),i=Pw.get(t);if(i)return i;const n=typeof e=="string"?Gnt(e):vy(e)?h9(Vnt(e)):yy(e)?h9(e.name):IL;return Pw.set(t,n),n}var Fnt=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function by(e){const t=Fnt.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function Unt(e){return h9(xL(e))}var $nt=(e,t)=>(e%t+t)%t,yg=[0,2,4,5,7,9,11];function Gnt(e){const t=by(e);if(t[0]===""||t[3]!=="")return IL;const i=t[0],n=t[1],a=t[2],s=(i.charCodeAt(0)+3)%7,l=RL(n),c=a.length?+a:void 0,d=OL({step:s,alt:l,oct:c}),u=i+n+a,h=i+n,g=(yg[s]+l+120)%12,m=c===void 0?$nt(yg[s]+l,12)-12*99:yg[s]+l+12*(c+1),M=m>=0&&m<=127?m:null,p=c===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:n,alt:l,chroma:g,coord:d,freq:p,height:m,letter:i,midi:M,name:u,oct:c,pc:h,step:s}}function Vnt(e){const{step:t,alt:i,oct:n}=e,a=Nnt(t);if(!a)return"";const s=a+BL(i);return n||n===0?s+n:s}function t5(e,t){const i=h9(e),n=Array.isArray(t)?t:Dl(t).coord;if(i.empty||!n||n.length<2)return"";const a=i.coord,s=a.length===1?[a[0]+n[0]]:[a[0]+n[0],a[1]+n[1]];return Unt(s).name}function Lw(e,t){const i=h9(e),n=h9(t);if(i.empty||n.empty)return"";const a=i.coord,s=n.coord,l=s[0]-a[0],c=a.length===2&&s.length===2?s[1]-a[1]:-Math.floor(l*7/12),d=n.height===i.height&&n.midi!==null&&i.oct===n.oct&&i.step>n.step;return TL([l,c],d).name}function Cy(e,t){const i=t.length,n=(e%i+i)%i;return t.slice(n,i).concat(t.slice(0,n))}function Hnt(e){return e.filter(t=>t===0||t)}var Nc={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},DL=e=>Number(e).toString(2).padStart(12,"0"),kw=e=>parseInt(e,2),Qnt=/^[01]{12}$/;function _y(e){return Qnt.test(e)}var znt=e=>typeof e=="number"&&e>=0&&e<=4095,jnt=e=>e&&_y(e.chroma),Nw={[Nc.chroma]:Nc};function Fc(e){const t=_y(e)?e:znt(e)?DL(e):Array.isArray(e)?Znt(e):jnt(e)?e.chroma:Nc.chroma;return Nw[t]=Nw[t]||Ynt(t)}var Jnt=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function Wnt(e){const t=[];for(let i=0;i<12;i++)e.charAt(i)==="1"&&t.push(Jnt[i]);return t}function qnt(e,t=!0){const n=Fc(e).chroma.split("");return Hnt(n.map((a,s)=>{const l=Cy(s,n);return t&&l[0]==="0"?null:l.join("")}))}function PL(e){const t=Fc(e).setNum;return i=>{const n=Fc(i).setNum;return t&&t!==n&&(n&t)===n}}function Knt(e){const t=Fc(e).setNum;return i=>{const n=Fc(i).setNum;return t&&t!==n&&(n|t)===n}}function Xnt(e){const t=e.split("");return t.map((i,n)=>Cy(n,t).join(""))}function Ynt(e){const t=kw(e),i=Xnt(e).map(kw).filter(s=>s>=2048).sort()[0],n=DL(i),a=Wnt(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:n,intervals:a}}function Znt(e){if(e.length===0)return Nc.chroma;let t;const i=[0,0,0,0,0,0,0,0,0,0,0,0];for(let n=0;n<e.length;n++)t=h9(e[n]),t.empty&&(t=Dl(e[n])),t.empty||(i[t.chroma]=1);return i.join("")}var trt=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],ert=trt,irt={...Nc,name:"",quality:"Unknown",intervals:[],aliases:[]},Ey=[],W1={};function nrt(e){return W1[e]||irt}function LL(){return Ey.slice()}function rrt(e,t,i){const n=srt(e),a={...Fc(e),name:i||"",quality:n,intervals:e,aliases:t};Ey.push(a),a.name&&(W1[a.name]=a),W1[a.setNum]=a,W1[a.chroma]=a,a.aliases.forEach(s=>art(a,s))}function art(e,t){W1[t]=e}function srt(e){const t=i=>e.indexOf(i)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}ert.forEach(([e,t,i])=>rrt(e.split(" "),i.split(" "),t));Ey.sort((e,t)=>e.setNum-t.setNum);var ort=e=>{const t=e.reduce((i,n)=>{const a=h9(n).chroma;return a!==void 0&&(i[a]=i[a]||h9(n).name),i},{});return i=>t[i]};function fm(e,t={}){const i=e.map(a=>h9(a).pc).filter(a=>a);return h9.length===0?[]:mrt(i,1,t).filter(a=>a.weight).sort((a,s)=>s.weight-a.weight).map(a=>a.name)}var e5={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},i5=e=>t=>!!(t&e),lrt=i5(e5.anyThirds),crt=i5(e5.perfectFifth),urt=i5(e5.anySeventh),drt=i5(e5.nonPerfectFifths);function hrt(e){const t=parseInt(e.chroma,2);return lrt(t)&&crt(t)&&urt(t)}function frt(e){const t=parseInt(e,2);return drt(t)?e:(t|16).toString(2)}function mrt(e,t,i){const n=e[0],a=h9(n).chroma,s=ort(e),l=qnt(e,!1),c=[];return l.forEach((d,u)=>{const h=i.assumePerfectFifth&&frt(d);LL().filter(m=>i.assumePerfectFifth&&hrt(m)?m.chroma===h:m.chroma===d).forEach(m=>{const M=m.aliases[0],p=s(u);u!==a?c.push({weight:.5*t,name:`${p}${M}/${n}`}):c.push({weight:1*t,name:`${p}${M}`})})}),c}var prt=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Δ ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Δ9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Δ#4 Δ#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Δ7 mΔ -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim ° o"],["1P 3m 5d 7d","diminished seventh","dim7 °7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 ø -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Δ9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],grt=prt;({...Nc});var kL=[],op={};function Mrt(e,t,i){const n=yrt(e),a={...Fc(e),name:i||"",quality:n,intervals:e,aliases:t};kL.push(a),a.name&&(op[a.name]=a),op[a.setNum]=a,op[a.chroma]=a,a.aliases.forEach(s=>Art(a,s))}function Art(e,t){op[t]=e}function yrt(e){const t=i=>e.indexOf(i)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}grt.forEach(([e,t,i])=>Mrt(e.split(" "),i.split(" "),t));kL.sort((e,t)=>e.setNum-t.setNum);var vrt=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],brt=vrt,Crt={...Nc,intervals:[],aliases:[]},wy=[],q1={};function _rt(){return wy.map(e=>e.name)}function NL(e){return q1[e]||Crt}function FL(){return wy.slice()}function Ert(e,t,i=[]){const n={...Fc(e),name:t,intervals:e,aliases:i};return wy.push(n),q1[n.name]=n,q1[n.setNum]=n,q1[n.chroma]=n,n.aliases.forEach(a=>wrt(n,a)),n}function wrt(e,t){q1[t]=e}brt.forEach(([e,t,...i])=>Ert(e.split(" "),t,i));var Ort=Math.log(2),xrt=Math.log(440);function mm(e){const t=12*(Math.log(e)-xrt)/Ort+69;return Math.round(t*100)/100}var Srt="C C# D D# E F F# G G# A A# B".split(" "),Trt="C Db D Eb E F Gb G Ab A Bb B".split(" ");function Oy(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const n=(t.sharps===!0?Srt:Trt)[e%12];if(t.pitchClass)return n;const a=Math.floor(e/12)-1;return n+a}var Irt=h9,xy=e=>Irt(e).midi;function Sy(e){return Oy(mm(e))}function Ts(e){return Oy(e,{sharps:!0})}var UL={empty:!0,name:"",chordType:""},Fw={};function Yp(e){return typeof e=="string"?Fw[e]||(Fw[e]=Lrt(e)):typeof e=="number"?Yp(Ty[e]||""):vy(e)?Brt(e):yy(e)?Yp(e.name):UL}function Brt(e){return Yp(BL(e.alt)+Ty[e.step])}var Rrt=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function Drt(e){return Rrt.exec(e)||["","","",""]}var Prt="I II III IV V VI VII",Ty=Prt.split(" ");function Lrt(e){const[t,i,n,a]=Drt(e);if(!n)return UL;const s=n.toUpperCase(),l=Ty.indexOf(s),c=RL(i),d=1;return{empty:!1,name:t,roman:n,interval:Dl({step:l,alt:c,dir:d}).name,acc:i,chordType:a,alt:c,step:l,major:n===s,oct:0,dir:d}}var krt=Nrt((e,t)=>[e[0]-t[0],e[1]-t[1]]);function Nrt(e){return(t,i)=>{const n=Dl(t).coord,a=Dl(i).coord;if(n&&a){const s=e(n,a);return TL(s).name}}}var Iy=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Uw={...Nc,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},Frt=Iy.map(Urt),qM={};Frt.forEach(e=>{qM[e.name]=e,e.aliases.forEach(t=>{qM[t]=e})});function $L(e){return typeof e=="string"?qM[e.toLowerCase()]||Uw:e&&e.name?$L(e.name):Uw}function Urt(e){const[t,i,n,a,s,l,c]=e,d=c?[c]:[],u=Number(i).toString(2);return{empty:!1,intervals:NL(a).intervals,modeNum:t,chroma:u,normalized:u,name:a,setNum:i,alt:n,triad:s,seventh:l,aliases:d}}function GL(e){return(t,i)=>{const n=$L(t);if(n.empty)return[];const a=Cy(n.modeNum,e),s=n.intervals.map(l=>t5(i,l));return a.map((l,c)=>s[c]+l)}}GL(Iy.map(e=>e[4]));GL(Iy.map(e=>e[5]));var VL={empty:!0,name:"",symbol:"",root:"",bass:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function $rt(e){const[t,i,n,a]=by(e);return t===""?vg("",e):t==="A"&&a==="ug"?vg("","aug"):vg(t+i,n+a)}function vg(e,t){const i=t.split("/");if(i.length===1)return[e,i[0],""];const[n,a,s,l]=by(i[1]);return n!==""&&s===""&&l===""?[e,i[0],n+a]:[e,t,""]}function KM(e){if(Array.isArray(e))return bg(e[1]||"",e[0],e[2]);if(e==="")return VL;{const[t,i,n]=$rt(e),a=bg(i,t,n);return a.empty?bg(e):a}}function bg(e,t,i){const n=nrt(e),a=h9(t||""),s=h9(i||"");if(n.empty||t&&a.empty||i&&s.empty)return VL;const l=Lw(a.pc,s.pc),c=n.intervals.indexOf(l),d=c>=0,u=d?s:h9(""),h=c===-1?NaN:c+1,g=s.pc&&s.pc!==a.pc,m=Array.from(n.intervals);if(d)for(let b=1;b<h;b++){const v=m[0][0],E=m[0][1],x=parseInt(v,10)+7;m.push(`${x}${E}`),m.shift()}else if(g){const b=krt(Lw(a.pc,s.pc),"8P");b&&m.unshift(b)}const M=a.empty?[]:m.map(b=>t5(a.pc,b));e=n.aliases.indexOf(e)!==-1?e:n.aliases[0];const p=`${a.empty?"":a.pc}${e}${d&&h>1?"/"+u.pc:g?"/"+s.pc:""}`,A=`${t?a.pc+" ":""}${n.name}${d&&h>1?" over "+u.pc:g?" over "+s.pc:""}`;return{...n,name:A,symbol:p,tonic:a.pc,type:n.name,root:u.pc,bass:g?s.pc:"",intervals:m,rootDegree:h,notes:M}}function Grt(e,t){return t.map(Yp).map(n=>t5(e,Dl(n))+n.chordType)}var Vrt={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function Hrt(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),i=h9(e.substring(0,t));if(i.empty){const a=h9(e);return a.empty?["",e]:[a.name,""]}const n=e.substring(i.name.length+1).toLowerCase();return[i.name,n.length?n:""]}var By=_rt;function q9(e){const t=Array.isArray(e)?e:Hrt(e),i=h9(t[0]).name,n=NL(t[1]);if(n.empty)return Vrt;const a=n.name,s=i?n.intervals.map(c=>t5(i,c)):[],l=i?i+" "+a:a;return{...n,name:l,type:a,tonic:i,notes:s}}function Qrt(e){const t=q9(e),i=PL(t.chroma);return LL().filter(n=>i(n.chroma)).map(n=>n.aliases[0])}function zrt(e){const t=_y(e)?e:q9(e).chroma,i=Knt(t);return FL().filter(n=>i(n.chroma)).map(n=>n.name)}function jrt(e){const t=PL(q9(e).chroma);return FL().filter(i=>t(i.chroma)).map(i=>i.name)}class oc{constructor(t,i){this.name=t,this.notes=i,this.short=i.join(" "),this.pitches=i.map(n=>q8(n).pitch),this.pitchesSorted=[...this.pitches].sort((n,a)=>n-a),this.keyCount=i.length}getNumbers(){const t=this.pitchesSorted,i=new Map;for(const[n,a]of t.entries()){let s=n+1,l="",c=a-12;for(;c>0&&i.has(c);)s=i.get(c).number,l+="°",c-=12;i.set(a,{number:s,numberString:`${s}${l}`})}return[...i.values()].map(n=>n.numberString)}getLetters(){const t=this.pitchesSorted,i=new Map;for(const[n,a]of t.entries()){let s=n+1,l="",c=a-12;for(;c>0&&i.has(c);)s=i.get(c).number,l+="°",c-=12;const d=ip(a).name;i.set(a,{number:s,letterString:`${d}${l}`})}return[...i.values()].map(n=>n.letterString)}}new oc("9 A Major",["A5","C#6","C#5","A5","A4","F#5","E5","E6","B5"]),new oc("9 A Minor",["A5","C6","C5","A5","A4","F5","E5","E6","B5"]),new oc("9 A Minor 7",["A5","C6","C5","A5","A4","F#5","E5","E6","B5"]),new oc("9 A Ake Bono",["A5","D6","D5","A5","A4","F5","E5","E6","A#5"]),new oc("9 A Hijaz",["G5","D6","D5","A5","A4","F#5","D#5","D#6","A#5"]),new oc("9 A Pygmy",["G5","C6","C5","G5","G4","D#5","D5","D#6","A#5"]),new oc("17 C Major",["D6","B5","G5","E5","C5","A4","F4","D4","C4","E4","G4","B4","D5","F5","A5","C6","E6"]),new oc("21 C Major",["D6","B5","G5","E5","C5","A4","F4","D4","B3","G3","F3","A3","C4","E4","G4","B4","D5","F5","A5","C6","E6"]);function Jrt(e){const{r:t,g:i,b:n}=qh(e).rgb();return(t+t+t+n+i+i+i+i>>3)/2.55}function Wrt(e,t=1){const i=dL(e);return i.s=t,i.toString()}const qrt=["#ff0000","#ff4e00","#db7b00","#ffcc00","#e4ed00","#81d700","#00ffb4","#00ffea","#00baff","#3c00ff","#a800ff","#ff00fd"].map(e=>Wrt(e,.5)),Krt=["#6699ff","#66ffff","#000000","#647878","#993366","#ff0000","#ffcc99","#ffff01","#ff9900","#009900","#66ff99","#0000cc"],Xrt=["#9aebff","#add5ff","#d6d6ff","#ebd5ff","#ffc2eb","#ffcbcc","#ffd5c2","#ffebc2","#ebffc2","#c2d599","#99ebbe","#adebeb"],Yrt=["#FA0B0C","#FA0B0C","#F88010","#F88010","#F5F43C","#149033","#149033","#FA0B0C","#FA0B0C","#7F087C","#7F087C","#908791"],Zrt=["#1C0D82","#F5F5F5","#149033","#709226","#F5F43C","#F5D23B","#F88010","#FA0B0C","#A00C09","#D71386","#4B0E7D","#7F087C"],tat=["#1C0D82","#1C0D82","#7F087C","#7F087C","#FA0B0C","#F88010","#F88010","#F5F43C","#F5F43C","#709226","#709226","#149033"],eat=["#FA0B0C","#F44712","#F88010","#F5D23B","#F5F43C","#149033","#1B9081","#1C0D82","#4B0E7D","#7F087C","#A61586","#D71386"],iat=["#6A1C1C","#FA0B0C","#F88010","#F5D23B","#F5F43C","#709226","#1B9081","#1C0D82","#7F087C","#D71386","#6A1C1C","#070707"],nat=["#FA0B0C","#A00C09","#F44712","#F88010","#F5F43C","#709226","#149033","#27A481","#1B9081","#7F087C","#1C0D82","#D71386"],rat=["#FA0B0C","#A00C09","#F88010","#F6D111","#F5F43C","#BCE039","#149033","#27A481","#7F087C","#D71386","#D91951","#FA0B0C"],aat=["#F5F43C","#149033","#1B9081","#1C5BA0","#7F087C","#D71386","#9D0E55","#FA0B0C","#D32C0A","#D32C0A","#F62E0D","#F17A0F"],sat=["#FA0B0C","#D71386","#F5F43C","#5A5685","#1C5BA0","#A00C09","#1C0D82","#F88010","#7F087C","#149033","#5A5685","#1C5BA0"],oat=["#C40A09","#FA0B0C","#F44712","#F88010","#F5F43C","#BCE039","#149033","#1B9081","#1C0D82","#781887","#D71386","#9D0E55"],lat=["#FA0B0C","#FA0B0C","#F88010","#F88010","#F5F43C","#F5F43C","#149033","#1B9081","#1B9081","#1C5BA0","#4B0E7D","#7F087C"],cat=["#FA0B0C","#F44712","#F88010","#F6D111","#F5F43C","#BCE039","#149033","#1B9081","#1C0D82","#A61586","#D71386","#AD0E48"],uat=["#BCE039","#149033","#1B9081","#1C0D82","#7F087C","#D71386","#6F0D45","#A00C09","#FA0B0C","#F88010","#EDF087","#F5F43C"],dat=VM("black","steelblue");Array.from({length:12}).map((e,t)=>dat(t/11));function hat(e){return 60*1/e}function fat(e,t){return Ci(Math.ceil(e/12)*12,t+1,12)}function qa(e,t,i){return e<t?t:e>i?i:e}function XM(e){return new Promise(t=>{setTimeout(t,e*1e3)})}function K1(e,t){return e.has(t)?e.delete(t):e.add(t),new Set(e)}function Cg(e,t){for(const i of t)if(e.has(i))return!0;return!1}function $w(e,t){return Math.round(e/t)*t}function Gw(e){const t=new Date,i=1e3*60*60*24,n=t.getTime()-e.getTime(),a=Math.round(n/i);return a===0?"today":a===1?"yesterday":a+" days ago"}function A2(e,t,i,n,a){if(!e||e.length===0)return null;let s=0;const[l,c]=t.split(":").map(m=>+m),d=ta(i)*l,u=d/(l*c),h=Ci(0,d+u,u),g=d/n;for(const m of e){const M=(m+a)%d;let p=1/0;for(const A of h){const b=Math.abs(A-M);b<p&&(p=b)}p<=g&&s++}return s}const Vw="∧",Hw="∨",mat="🎤",_g="⇅",Xh="⭐",Qw="✎",zw="💾",HL="🎹",QL="🥁",zL="🎸",pat="⌨️",gat="👇",Mat="🔇",jw="𝅝",I4="𝅗𝅥",Jw="𝅘𝅥",jL="𝅘𝅥𝅮",g0=[{title:"timing",description:"Performing actions at the itended time",children:[{id:"duration",title:"duration",description:"Notes should be played according to the intended duration"},{id:"sub-division",title:"sub-division",description:"Note onsets should follow a sub-division of beats consistently, for example, playing straight eighths or triplets"},{id:"tempo-keeping",title:"tempo keeping",description:"The tempo should be kept constant over a longer stretch of time without the help of a metronome"},{id:"swing-feel",title:"swing feel",description:"Playing a swing feel, meaning that every even (sub)beat is shifted in time consistently by the intended amount"},{id:"timing-consistency",title:"timing consistency",description:"When playing the same musical pattern multiple times, the timing should be similar"},{id:"syncopation",title:"syncopation",description:"When playing different rhythms together, the timing should be on grid"},{id:"synchronized-body-parts",title:"synchronized body parts",description:"Notes played with different body parts (e.g., hands) should be played synchronized"}]},{title:"pitch",description:"Playing or modulating notes at the intended pitch (frequency in Hertz)",children:[{id:"on-pitch",title:"on pitch",description:"When playing a melody, the notes' pitches should be hit correctly"},{id:"pitch-keeping",title:"pitch keeping",description:"The pitch should start and stay at the intended note"},{id:"bending",title:"bending",description:"Bends should reach and stay at the intended semitone; the bend should start and end as quickly as intended"},{id:"vibrato",title:"vibrato",description:"Vibratos should have the intended shift in pitch and the intended frequency of modulation"}]},{title:"dynamics",description:"Playing notes at the intended loudness and changing or varying this loudness as intended",children:[{id:"constant-dynamics",title:"constant dynamics",description:"Notes should have the same loudness"},{id:"accents",title:"accents",description:"Important notes should be louder than others, for example, to highlight the first of a group of 3 or 4 notes"},{id:"(de)crescendo",title:"(de)crescendo",description:"When getting louder/quieter, the loudness should in- or decrease smoothly"}]},{title:"chords",description:"Playing chord or arpeggios",children:[{id:"chord-timing",title:"chord timing",description:"Notes in a chord should start at the same time and the time between chords should be consistent"},{id:"arpeggio-timing",title:"arpeggio timing",description:"Notes in an arpeggio should be spaced out evenly and the time between arpeggios should be consistent"},{id:"chord-notes",title:"chord notes",description:"The notes in a chord should be played as planned or chosen to match the intended harmony or dissonance"}]},{title:"improvisation",description:"Improvisation",children:[{id:"pitch-intervals",title:"intervals",description:"In improvisation, the intervals between consecutive notes should match the intended harmony or dissonance"},{id:"scale-notes",title:"scale notes",description:"The musicians should know which notes belong to a scale"},{id:"scale-degrees",title:"scale degrees",description:"In improvisation, scale degrees should be used to appropriate amounts"},{id:"chord-progression",title:"chord progression",description:"When improvising over a chord progression, notes should be picked appropriately"}]},{title:"instrument",description:"Knowing and correctly using the instrument and all its part",children:[{id:"instrument-layout",title:"instrument layout",description:"The musician should know where notes are played on the instrument and use different parts of it appropriately"},{id:"strumming-direction",title:"strumming direction",description:"Chords should be strummed in the intended direction"},{id:"strumming-strings",title:"strumming strings",description:"Only the intended strings should be strummed"}]}];for(const e of g0)for(const[t,i]of e.children.entries())i.label=`${e.title.at(0).toUpperCase()}${t+1}`;function JL(e){let t=[];for(const i of e)i.id?t.push(i):t=[...t,...JL(i.children)];return t}const Aat=JL(g0);function Ww(e,t,i){const n=e.slice();return n[5]=t[i],n}function qw(e,t,i){const n=e.slice();return n[8]=t[i],n}function Kw(e){let t,i=Ge(e[5].children),n=[];for(let a=0;a<i.length;a+=1)n[a]=Xw(qw(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p(a,s){if(s&3){i=Ge(a[5].children);let l;for(l=0;l<i.length;l+=1){const c=qw(a,i,l);n[l]?n[l].p(c,s):(n[l]=Xw(c),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=i.length}},d(a){a&&Ct(t),Oi(n,a)}}}function Xw(e){let t,i=e[8].title+"",n,a,s,l;function c(){return e[4](e[8])}return{c(){t=K("button"),n=se(i),a=Y(),ut(t,"class","skill svelte-ard5v")},m(d,u){_t(d,t,u),R(t,n),R(t,a),s||(l=Qe(t,"click",c),s=!0)},p(d,u){e=d,u&2&&i!==(i=e[8].title+"")&&Ue(n,i)},d(d){d&&Ct(t),s=!1,l()}}}function Yw(e){let t,i,n=(e[5].shown?Vw:Hw)+"",a,s,l=e[5].title+"",c,d,u,h,g;function m(){return e[3](e[5])}let M=e[5].shown&&Kw(e);return{c(){t=K("button"),i=se(`📁
            `),a=se(n),s=Y(),c=se(l),d=Y(),M&&M.c(),u=kr(),ut(t,"class","node svelte-ard5v")},m(p,A){_t(p,t,A),R(t,i),R(t,a),R(t,s),R(t,c),_t(p,d,A),M&&M.m(p,A),_t(p,u,A),h||(g=Qe(t,"click",m),h=!0)},p(p,A){e=p,A&2&&n!==(n=(e[5].shown?Vw:Hw)+"")&&Ue(a,n),A&2&&l!==(l=e[5].title+"")&&Ue(c,l),e[5].shown?M?M.p(e,A):(M=Kw(e),M.c(),M.m(u.parentNode,u)):M&&(M.d(1),M=null)},d(p){p&&(Ct(t),Ct(d),Ct(u)),M&&M.d(p),h=!1,g()}}}function yat(e){let t,i,n,a=Ge(e[1]),s=[];for(let l=0;l<a.length;l+=1)s[l]=Yw(Ww(e,a,l));return{c(){t=K("main"),i=K("h2"),i.textContent="skills",n=Y();for(let l=0;l<s.length;l+=1)s[l].c();ut(t,"class","svelte-ard5v")},m(l,c){_t(l,t,c),R(t,i),R(t,n);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null)},p(l,[c]){if(c&7){a=Ge(l[1]);let d;for(d=0;d<a.length;d+=1){const u=Ww(l,a,d);s[d]?s[d].p(u,c):(s[d]=Yw(u),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=a.length}},i:Fe,o:Fe,d(l){l&&Ct(t),Oi(s,l)}}}function vat(e,t,i){let{currentSkills:n=new Set}=t,a=g0;const s=d=>{const u=!d.shown;u&&a.flat(1/0).forEach(h=>h.shown=!1),d.shown=u,i(1,a=[...a])},l=d=>s(d),c=d=>i(0,n=new Set([d.id]));return e.$$set=d=>{"currentSkills"in d&&i(0,n=d.currentSkills)},[n,a,s,l,c]}class bat extends qi{constructor(t){super(),Wi(this,t,vat,yat,Ji,{currentSkills:0})}}class $0{constructor(t=!1){this.eventMap={},this.eventsSuspended=t==!0}addListener(t,i,n={}){if(typeof t=="string"&&t.length<1||t instanceof String&&t.length<1||typeof t!="string"&&!(t instanceof String)&&t!==$0.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof i!="function")throw new TypeError("The callback must be a function.");const a=new Zw(t,this,i,n);return this.eventMap[t]||(this.eventMap[t]=[]),n.prepend?this.eventMap[t].unshift(a):this.eventMap[t].push(a),a}addOneTimeListener(t,i,n={}){n.remaining=1,this.addListener(t,i,n)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(t,i){return t===void 0?this.eventMap[$0.ANY_EVENT]&&this.eventMap[$0.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,n])=>n.length>0):this.eventMap[t]&&this.eventMap[t].length>0?i instanceof Zw?this.eventMap[t].filter(a=>a===i).length>0:typeof i=="function"?this.eventMap[t].filter(a=>a.callback===i).length>0:i==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(t){return this.eventMap[t]||[]}suspendEvent(t){this.getListeners(t).forEach(i=>{i.suspended=!0})}unsuspendEvent(t){this.getListeners(t).forEach(i=>{i.suspended=!1})}getListenerCount(t){return this.getListeners(t).length}emit(t,...i){if(typeof t!="string"&&!(t instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let n=[],a=this.eventMap[$0.ANY_EVENT]||[];return this.eventMap[t]&&(a=a.concat(this.eventMap[t])),a.forEach(s=>{if(s.suspended)return;let l=[...i];Array.isArray(s.arguments)&&(l=l.concat(s.arguments)),s.remaining>0&&(n.push(s.callback.apply(s.context,l)),s.count++),--s.remaining<1&&s.remove()}),n}removeListener(t,i,n={}){if(t===void 0){this.eventMap={};return}else if(!this.eventMap[t])return;let a=this.eventMap[t].filter(s=>i&&s.callback!==i||n.remaining&&n.remaining!==s.remaining||n.context&&n.context!==s.context);a.length?this.eventMap[t]=a:delete this.eventMap[t]}async waitFor(t,i={}){return i.duration=parseInt(i.duration),(isNaN(i.duration)||i.duration<=0)&&(i.duration=1/0),new Promise((n,a)=>{let s,l=this.addListener(t,()=>{clearTimeout(s),n()},{remaining:1});i.duration!==1/0&&(s=setTimeout(()=>{l.remove(),a("The duration expired before the event was emitted.")},i.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class Zw{constructor(t,i,n,a={}){if(typeof t!="string"&&!(t instanceof String)&&t!==$0.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!i)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof n!="function")throw new TypeError("The 'callback' must be a function.");a.arguments!==void 0&&!Array.isArray(a.arguments)&&(a.arguments=[a.arguments]),a=Object.assign({context:i,remaining:1/0,arguments:void 0,duration:1/0},a),a.duration!==1/0&&setTimeout(()=>this.remove(),a.duration),this.arguments=a.arguments,this.callback=n,this.context=a.context,this.count=0,this.event=t,this.remaining=parseInt(a.remaining)>=1?parseInt(a.remaining):1/0,this.suspended=!1,this.target=i}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class ui{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),ui.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),ui.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),ui.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),ui.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class uh{constructor(t,i={}){this.duration=Di.defaults.note.duration,this.attack=Di.defaults.note.attack,this.release=Di.defaults.note.release,i.duration!=null&&(this.duration=i.duration),i.attack!=null&&(this.attack=i.attack),i.rawAttack!=null&&(this.attack=Fi.from7bitToFloat(i.rawAttack)),i.release!=null&&(this.release=i.release),i.rawRelease!=null&&(this.release=Fi.from7bitToFloat(i.rawRelease)),Number.isInteger(t)?this.identifier=Fi.toNoteIdentifier(t):this.identifier=t}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(t){const i=Fi.getNoteDetails(t);if(Di.validation&&!t)throw new Error("Invalid note identifier");this._name=i.name,this._accidental=i.accidental,this._octave=i.octave}get name(){return this._name}set name(t){if(Di.validation&&(t=t.toUpperCase(),!["C","D","E","F","G","A","B"].includes(t)))throw new Error("Invalid name value");this._name=t}get accidental(){return this._accidental}set accidental(t){if(Di.validation&&(t=t.toLowerCase(),!["#","##","b","bb"].includes(t)))throw new Error("Invalid accidental value");this._accidental=t}get octave(){return this._octave}set octave(t){if(Di.validation&&(t=parseInt(t),isNaN(t)))throw new Error("Invalid octave value");this._octave=t}get duration(){return this._duration}set duration(t){if(Di.validation&&(t=parseFloat(t),isNaN(t)||t===null||t<0))throw new RangeError("Invalid duration value.");this._duration=t}get attack(){return this._attack}set attack(t){if(Di.validation&&(t=parseFloat(t),isNaN(t)||!(t>=0&&t<=1)))throw new RangeError("Invalid attack value.");this._attack=t}get release(){return this._release}set release(t){if(Di.validation&&(t=parseFloat(t),isNaN(t)||!(t>=0&&t<=1)))throw new RangeError("Invalid release value.");this._release=t}get rawAttack(){return Fi.fromFloatTo7Bit(this._attack)}set rawAttack(t){this._attack=Fi.from7bitToFloat(t)}get rawRelease(){return Fi.fromFloatTo7Bit(this._release)}set rawRelease(t){this._release=Fi.from7bitToFloat(t)}get number(){return Fi.toNoteNumber(this.identifier)}getOffsetNumber(t=0,i=0){return Di.validation&&(t=parseInt(t)||0,i=parseInt(i)||0),Math.min(Math.max(this.number+t*12+i,0),127)}}/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Fi{static toNoteNumber(t,i=0){if(i=i==null?0:parseInt(i),isNaN(i))throw new RangeError("Invalid 'octaveOffset' value");typeof t!="string"&&(t="");const n=this.getNoteDetails(t);if(!n)throw new TypeError("Invalid note identifier");const a={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let s=(n.octave+1+i)*12;if(s+=a[n.name],n.accidental&&(n.accidental.startsWith("b")?s-=n.accidental.length:s+=n.accidental.length),s<0||s>127)throw new RangeError("Invalid octaveOffset value");return s}static getNoteDetails(t){Number.isInteger(t)&&(t=this.toNoteIdentifier(t));const i=t.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!i)throw new TypeError("Invalid note identifier");const n=i[1].toUpperCase(),a=parseInt(i[3]);let s=i[2].toLowerCase();return s=s===""?void 0:s,{accidental:s,identifier:n+(s||"")+a,name:n,octave:a}}static sanitizeChannels(t){let i;if(Di.validation){if(t==="all")i=["all"];else if(t==="none")return[]}return Array.isArray(t)?i=t:i=[t],i.indexOf("all")>-1&&(i=ui.MIDI_CHANNEL_NUMBERS),i.map(function(n){return parseInt(n)}).filter(function(n){return n>=1&&n<=16})}static toTimestamp(t){let i=!1;const n=parseFloat(t);return isNaN(n)?!1:(typeof t=="string"&&t.substring(0,1)==="+"?n>=0&&(i=Di.time+n):n>=0&&(i=n),i)}static guessNoteNumber(t,i){i=parseInt(i)||0;let n=!1;if(Number.isInteger(t)&&t>=0&&t<=127)n=parseInt(t);else if(parseInt(t)>=0&&parseInt(t)<=127)n=parseInt(t);else if(typeof t=="string"||t instanceof String)try{n=this.toNoteNumber(t.trim(),i)}catch{return!1}return n}static toNoteIdentifier(t,i){if(t=parseInt(t),isNaN(t)||t<0||t>127)throw new RangeError("Invalid note number");if(i=i==null?0:parseInt(i),isNaN(i))throw new RangeError("Invalid octaveOffset value");const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],a=Math.floor(t/12-1)+i;return n[t%12]+a.toString()}static buildNote(t,i={}){if(i.octaveOffset=parseInt(i.octaveOffset)||0,t instanceof uh)return t;let n=this.guessNoteNumber(t,i.octaveOffset);if(n===!1)throw new TypeError(`The input could not be parsed as a note (${t})`);return i.octaveOffset=void 0,new uh(n,i)}static buildNoteArray(t,i={}){let n=[];return Array.isArray(t)||(t=[t]),t.forEach(a=>{n.push(this.buildNote(a,i))}),n}static from7bitToFloat(t){return t===1/0&&(t=127),t=parseInt(t)||0,Math.min(Math.max(t/127,0),1)}static fromFloatTo7Bit(t){return t===1/0&&(t=1),t=parseFloat(t)||0,Math.min(Math.max(Math.round(t*127),0),127)}static fromMsbLsbToFloat(t,i=0){Di.validation&&(t=Math.min(Math.max(parseInt(t)||0,0),127),i=Math.min(Math.max(parseInt(i)||0,0),127));const n=((t<<7)+i)/16383;return Math.min(Math.max(n,0),1)}static fromFloatToMsbLsb(t){Di.validation&&(t=Math.min(Math.max(parseFloat(t)||0,0),1));const i=Math.round(t*16383);return{msb:i>>7,lsb:i&127}}static offsetNumber(t,i=0,n=0){if(Di.validation){if(t=parseInt(t),isNaN(t))throw new Error("Invalid note number");i=parseInt(i)||0,n=parseInt(n)||0}return Math.min(Math.max(t+i*12+n,0),127)}static getPropertyByValue(t,i){return Object.keys(t).find(n=>t[n]===i)}static getCcNameByNumber(t){if(!(Di.validation&&(t=parseInt(t),!(t>=0&&t<=127))))return ui.CONTROL_CHANGE_MESSAGES[t].name}static getCcNumberByName(t){let i=ui.CONTROL_CHANGE_MESSAGES.find(n=>n.name===t);return i?i.number:ui.MIDI_CONTROL_CHANGE_MESSAGES[t]}static getChannelModeByNumber(t){if(!(t>=120&&t<=127))return!1;for(let i in ui.CHANNEL_MODE_MESSAGES)if(ui.CHANNEL_MODE_MESSAGES.hasOwnProperty(i)&&t===ui.CHANNEL_MODE_MESSAGES[i])return i;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class Cat extends $0{constructor(t,i){super(),this._output=t,this._number=i,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(t,i={time:0}){return this.output.send(t,i),this}sendKeyAftertouch(t,i,n={}){if(Di.validation){if(n.useRawValue&&(n.rawValue=n.useRawValue),isNaN(parseFloat(i)))throw new RangeError("Invalid key aftertouch value.");if(n.rawValue){if(!(i>=0&&i<=127&&Number.isInteger(i)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(i>=0&&i<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}n.rawValue||(i=Fi.fromFloatTo7Bit(i));const a=Di.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(t)||(t=[t]),Fi.buildNoteArray(t).forEach(s=>{this.send([(ui.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),s.getOffsetNumber(a),i],{time:Fi.toTimestamp(n.time)})}),this}sendControlChange(t,i,n={}){if(typeof t=="string"&&(t=Fi.getCcNumberByName(t)),Array.isArray(i)||(i=[i]),Di.validation){if(t===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(i=i.map(a=>{const s=Math.min(Math.max(parseInt(a),0),127);if(isNaN(s))throw new TypeError("Values must be integers between 0 and 127");return s}),i.length===2&&t>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return i.forEach((a,s)=>{this.send([(ui.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),t+s*32,i[s]],{time:Fi.toTimestamp(n.time)})}),this}_selectNonRegisteredParameter(t,i={}){return this.sendControlChange(99,t[0],i),this.sendControlChange(98,t[1],i),this}_deselectRegisteredParameter(t={}){return this.sendControlChange(101,127,t),this.sendControlChange(100,127,t),this}_deselectNonRegisteredParameter(t={}){return this.sendControlChange(101,127,t),this.sendControlChange(100,127,t),this}_selectRegisteredParameter(t,i={}){return this.sendControlChange(101,t[0],i),this.sendControlChange(100,t[1],i),this}_setCurrentParameter(t,i={}){return t=[].concat(t),this.sendControlChange(6,t[0],i),t.length<2?this:(this.sendControlChange(38,t[1],i),this)}sendRpnDecrement(t,i={}){if(Array.isArray(t)||(t=ui.REGISTERED_PARAMETERS[t]),Di.validation){if(t===void 0)throw new TypeError("The specified registered parameter is invalid.");let n=!1;if(Object.getOwnPropertyNames(ui.REGISTERED_PARAMETERS).forEach(a=>{ui.REGISTERED_PARAMETERS[a][0]===t[0]&&ui.REGISTERED_PARAMETERS[a][1]===t[1]&&(n=!0)}),!n)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(t,i),this.sendControlChange(97,0,i),this._deselectRegisteredParameter(i),this}sendRpnIncrement(t,i={}){if(Array.isArray(t)||(t=ui.REGISTERED_PARAMETERS[t]),Di.validation){if(t===void 0)throw new TypeError("The specified registered parameter is invalid.");let n=!1;if(Object.getOwnPropertyNames(ui.REGISTERED_PARAMETERS).forEach(a=>{ui.REGISTERED_PARAMETERS[a][0]===t[0]&&ui.REGISTERED_PARAMETERS[a][1]===t[1]&&(n=!0)}),!n)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(t,i),this.sendControlChange(96,0,i),this._deselectRegisteredParameter(i),this}playNote(t,i={}){this.sendNoteOn(t,i);const n=Array.isArray(t)?t:[t];for(let a of n)if(parseInt(a.duration)>0){const s={time:(Fi.toTimestamp(i.time)||Di.time)+parseInt(a.duration),release:a.release,rawRelease:a.rawRelease};this.sendNoteOff(a,s)}else if(parseInt(i.duration)>0){const s={time:(Fi.toTimestamp(i.time)||Di.time)+parseInt(i.duration),release:i.release,rawRelease:i.rawRelease};this.sendNoteOff(a,s)}return this}sendNoteOff(t,i={}){if(Di.validation){if(i.rawRelease!=null&&!(i.rawRelease>=0&&i.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(i.release!=null&&!(i.release>=0&&i.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");i.rawVelocity&&(i.rawRelease=i.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),i.velocity&&(i.release=i.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let n=64;i.rawRelease!=null?n=i.rawRelease:isNaN(i.release)||(n=Math.round(i.release*127));const a=Di.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Fi.buildNoteArray(t,{rawRelease:parseInt(n)}).forEach(s=>{this.send([(ui.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),s.getOffsetNumber(a),s.rawRelease],{time:Fi.toTimestamp(i.time)})}),this}stopNote(t,i={}){return this.sendNoteOff(t,i)}sendNoteOn(t,i={}){if(Di.validation){if(i.rawAttack!=null&&!(i.rawAttack>=0&&i.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(i.attack!=null&&!(i.attack>=0&&i.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");i.rawVelocity&&(i.rawAttack=i.velocity,i.rawRelease=i.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),i.velocity&&(i.attack=i.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let n=64;i.rawAttack!=null?n=i.rawAttack:isNaN(i.attack)||(n=Math.round(i.attack*127));const a=Di.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Fi.buildNoteArray(t,{rawAttack:n}).forEach(s=>{this.send([(ui.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),s.getOffsetNumber(a),s.rawAttack],{time:Fi.toTimestamp(i.time)})}),this}sendChannelMode(t,i=0,n={}){if(typeof t=="string"&&(t=ui.CHANNEL_MODE_MESSAGES[t]),Di.validation){if(t===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(t)||!(t>=120&&t<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(i))||i<0||i>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(ui.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),t,i],{time:Fi.toTimestamp(n.time)}),this}sendOmniMode(t,i={}){return t===void 0||t?this.sendChannelMode("omnimodeon",0,i):this.sendChannelMode("omnimodeoff",0,i),this}sendChannelAftertouch(t,i={}){if(Di.validation){if(isNaN(parseFloat(t)))throw new RangeError("Invalid channel aftertouch value.");if(i.rawValue){if(!(t>=0&&t<=127&&Number.isInteger(t)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(t>=0&&t<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return i.rawValue||(t=Fi.fromFloatTo7Bit(t)),this.send([(ui.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(t)],{time:Fi.toTimestamp(i.time)}),this}sendMasterTuning(t,i={}){if(t=parseFloat(t)||0,Di.validation&&!(t>-65&&t<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let n=Math.floor(t)+64,a=t-Math.floor(t);a=Math.round((a+1)/2*16383);let s=a>>7&127,l=a&127;return this.sendRpnValue("channelcoarsetuning",n,i),this.sendRpnValue("channelfinetuning",[s,l],i),this}sendModulationRange(t,i,n={}){if(Di.validation){if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(i!=null&&(!Number.isInteger(i)||!(i>=0&&i<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return i>=0&&i<=127||(i=0),this.sendRpnValue("modulationrange",[t,i],n),this}sendNrpnValue(t,i,n={}){if(i=[].concat(i),Di.validation){if(!Array.isArray(t)||!Number.isInteger(t[0])||!Number.isInteger(t[1]))throw new TypeError("The specified NRPN is invalid.");if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");i.forEach(a=>{if(!(a>=0&&a<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(t,n),this._setCurrentParameter(i,n),this._deselectNonRegisteredParameter(n),this}sendPitchBend(t,i={}){if(Di.validation)if(i.rawValue&&Array.isArray(t)){if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(i.rawValue&&!Array.isArray(t)){if(!(t>=0&&t<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(t)||t===null)throw new RangeError("Invalid pitch bend value.");if(!(t>=-1&&t<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let n=0,a=0;if(i.rawValue&&Array.isArray(t))n=t[0],a=t[1];else if(i.rawValue&&!Array.isArray(t))n=t;else{const s=Fi.fromFloatToMsbLsb((t+1)/2);n=s.msb,a=s.lsb}return this.send([(ui.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),a,n],{time:Fi.toTimestamp(i.time)}),this}sendPitchBendRange(t,i,n={}){if(Di.validation){if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(i)||!(i>=0&&i<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[t,i],n),this}sendProgramChange(t,i={}){if(t=parseInt(t)||0,Di.validation&&!(t>=0&&t<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(ui.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),t],{time:Fi.toTimestamp(i.time)}),this}sendRpnValue(t,i,n={}){if(Array.isArray(t)||(t=ui.REGISTERED_PARAMETERS[t]),Di.validation){if(!Number.isInteger(t[0])||!Number.isInteger(t[1]))throw new TypeError("The specified NRPN is invalid.");if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(i).forEach(a=>{if(!(a>=0&&a<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(t,n),this._setCurrentParameter(i,n),this._deselectRegisteredParameter(n),this}sendTuningBank(t,i={}){if(Di.validation&&(!Number.isInteger(t)||!(t>=0&&t<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",t,i),this}sendTuningProgram(t,i={}){if(Di.validation&&(!Number.isInteger(t)||!(t>=0&&t<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",t,i),this}sendLocalControl(t,i={}){return t?this.sendChannelMode("localcontrol",127,i):this.sendChannelMode("localcontrol",0,i)}sendAllNotesOff(t={}){return this.sendChannelMode("allnotesoff",0,t)}sendAllSoundOff(t={}){return this.sendChannelMode("allsoundoff",0,t)}sendResetAllControllers(t={}){return this.sendChannelMode("resetallcontrollers",0,t)}sendPolyphonicMode(t,i={}){return t==="mono"?this.sendChannelMode("monomodeon",0,i):this.sendChannelMode("polymodeon",0,i)}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class YM extends $0{constructor(t){super(),this._midiOutput=t,this._octaveOffset=0,this.channels=[];for(let i=1;i<=16;i++)this.channels[i]=new Cat(this,i);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(t=>t.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(t){let i={timestamp:Di.time};t.port.connection==="open"?(i.type="opened",i.target=this,i.port=i.target,this.emit("opened",i)):t.port.connection==="closed"&&t.port.state==="connected"?(i.type="closed",i.target=this,i.port=i.target,this.emit("closed",i)):t.port.connection==="closed"&&t.port.state==="disconnected"?(i.type="disconnected",i.port={connection:t.port.connection,id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this.emit("disconnected",i)):t.port.connection==="pending"&&t.port.state==="disconnected"||console.warn("This statechange event was not caught:",t.port.connection,t.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(t){return Promise.reject(t)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(t,i={time:0},n=0){if(t instanceof WL&&(t=Fi.isNode?t.data:t.rawData),t instanceof Uint8Array&&Fi.isNode&&(t=Array.from(t)),Di.validation){if(!Array.isArray(t)&&!(t instanceof Uint8Array)&&(t=[t],Array.isArray(i)&&(t=t.concat(i)),i=isNaN(n)?{time:0}:{time:n}),!(parseInt(t[0])>=128&&parseInt(t[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");t.slice(1).forEach(a=>{if(a=parseInt(a),!(a>=0&&a<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),i||(i={time:0})}return this._midiOutput.send(t,Fi.toTimestamp(i.time)),this}sendSysex(t,i=[],n={}){if(t=[].concat(t),i instanceof Uint8Array){const a=new Uint8Array(1+t.length+i.length+1);a[0]=ui.SYSTEM_MESSAGES.sysex,a.set(Uint8Array.from(t),1),a.set(i,1+t.length),a[a.length-1]=ui.SYSTEM_MESSAGES.sysexend,this.send(a,{time:n.time})}else{const a=t.concat(i,ui.SYSTEM_MESSAGES.sysexend);this.send([ui.SYSTEM_MESSAGES.sysex].concat(a),{time:n.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():Di.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(t,i={}){if(Di.validation&&(t=parseInt(t),isNaN(t)||!(t>=0&&t<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([ui.SYSTEM_MESSAGES.timecode,t],{time:i.time}),this}sendSongPosition(t=0,i={}){t=Math.floor(t)||0;var n=t>>7&127,a=t&127;return this.send([ui.SYSTEM_MESSAGES.songposition,n,a],{time:i.time}),this}sendSongSelect(t=0,i={}){if(Di.validation&&(t=parseInt(t),isNaN(t)||!(t>=0&&t<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([ui.SYSTEM_MESSAGES.songselect,t],{time:i.time}),this}sendTuneRequest(t={}){return this.send([ui.SYSTEM_MESSAGES.tunerequest],{time:t.time}),this}sendClock(t={}){return this.send([ui.SYSTEM_MESSAGES.clock],{time:t.time}),this}sendStart(t={}){return this.send([ui.SYSTEM_MESSAGES.start],{time:t.time}),this}sendContinue(t={}){return this.send([ui.SYSTEM_MESSAGES.continue],{time:t.time}),this}sendStop(t={}){return this.send([ui.SYSTEM_MESSAGES.stop],{time:t.time}),this}sendActiveSensing(t={}){return this.send([ui.SYSTEM_MESSAGES.activesensing],{time:t.time}),this}sendReset(t={}){return this.send([ui.SYSTEM_MESSAGES.reset],{time:t.time}),this}sendTuningRequest(t={}){return Di.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(t)}sendKeyAftertouch(t,i,n={}){return n.channels==null&&(n.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendKeyAftertouch(t,i,n)}),this}sendControlChange(t,i,n={},a={}){if(Di.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=a,n.channels=s,n.channels==="all"&&(n.channels=ui.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendControlChange(t,i,n)}),this}sendPitchBendRange(t=0,i=0,n={}){return n.channels==null&&(n.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendPitchBendRange(t,i,n)}),this}setPitchBendRange(t=0,i=0,n="all",a={}){return Di.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),a.channels=n,a.channels==="all"&&(a.channels=ui.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(t,i,a)}sendRpnValue(t,i,n={}){return n.channels==null&&(n.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendRpnValue(t,i,n)}),this}setRegisteredParameter(t,i=[],n="all",a={}){return Di.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),a.channels=n,a.channels==="all"&&(a.channels=ui.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(t,i,a)}sendChannelAftertouch(t,i={},n={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=ui.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendChannelAftertouch(t,i)}),this}sendPitchBend(t,i={},n={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=ui.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendPitchBend(t,i)}),this}sendProgramChange(t=0,i={},n={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=ui.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendProgramChange(t,i)}),this}sendModulationRange(t,i,n={}){return n.channels==null&&(n.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendModulationRange(t,i,n)}),this}setModulationRange(t=0,i=0,n="all",a={}){return Di.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),a.channels=n,a.channels==="all"&&(a.channels=ui.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(t,i,a)}sendMasterTuning(t,i={}){return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(n=>{this.channels[n].sendMasterTuning(t,i)}),this}setMasterTuning(t,i={},n={}){return Di.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),n.channels=i,n.channels==="all"&&(n.channels=ui.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(t,n)}sendTuningProgram(t,i={}){return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(n=>{this.channels[n].sendTuningProgram(t,i)}),this}setTuningProgram(t,i="all",n={}){return Di.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),n.channels=i,n.channels==="all"&&(n.channels=ui.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(t,n)}sendTuningBank(t=0,i={}){return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(n=>{this.channels[n].sendTuningBank(t,i)}),this}setTuningBank(t,i="all",n={}){return Di.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),n.channels=i,n.channels==="all"&&(n.channels=ui.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(t,n)}sendChannelMode(t,i=0,n={},a={}){if(Di.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const s=n;n=a,n.channels=s,n.channels==="all"&&(n.channels=ui.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(n.channels).forEach(s=>{this.channels[s].sendChannelMode(t,i,n)}),this}sendAllSoundOff(t={}){return t.channels==null&&(t.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(t.channels).forEach(i=>{this.channels[i].sendAllSoundOff(t)}),this}sendAllNotesOff(t={}){return t.channels==null&&(t.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(t.channels).forEach(i=>{this.channels[i].sendAllNotesOff(t)}),this}sendResetAllControllers(t={},i={}){if(Di.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const n=t;t=i,t.channels=n,t.channels==="all"&&(t.channels=ui.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(t.channels).forEach(n=>{this.channels[n].sendResetAllControllers(t)}),this}sendPolyphonicMode(t,i={},n={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=ui.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendPolyphonicMode(t,i)}),this}sendLocalControl(t,i={},n={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=ui.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendLocalControl(t,i)}),this}sendOmniMode(t,i={},n={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=ui.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendOmniMode(t,i)}),this}sendNrpnValue(t,i,n={}){return n.channels==null&&(n.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendNrpnValue(t,i,n)}),this}setNonRegisteredParameter(t,i=[],n="all",a={}){return Di.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),a.channels=n,a.channels==="all"&&(a.channels=ui.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(t,i,a)}sendRpnIncrement(t,i={}){return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(n=>{this.channels[n].sendRpnIncrement(t,i)}),this}incrementRegisteredParameter(t,i="all",n={}){return Di.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),n.channels=i,n.channels==="all"&&(n.channels=ui.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(t,n)}sendRpnDecrement(t,i={}){return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(n=>{this.channels[n].sendRpnDecrement(t,i)}),this}decrementRegisteredParameter(t,i="all",n={}){return Di.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),n.channels=i,n.channels==="all"&&(n.channels=ui.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(t,n)}sendNoteOff(t,i={},n={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=ui.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendNoteOff(t,i)}),this}stopNote(t,i){return this.sendNoteOff(t,i)}playNote(t,i={},n={}){if(Di.validation&&(i.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),i.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=ui.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].playNote(t,i)}),this}sendNoteOn(t,i={},n={}){if(Di.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=ui.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendNoteOn(t,i)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class tO{constructor(t=[],i={}){this.destinations=[],this.types=[...Object.keys(ui.SYSTEM_MESSAGES),...Object.keys(ui.CHANNEL_MESSAGES)],this.channels=ui.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(t)||(t=[t]),i.types&&!Array.isArray(i.types)&&(i.types=[i.types]),i.channels&&!Array.isArray(i.channels)&&(i.channels=[i.channels]),Di.validation&&(t.forEach(n=>{if(!(n instanceof YM))throw new TypeError("Destinations must be of type 'Output'.")}),i.types!==void 0&&i.types.forEach(n=>{if(!ui.SYSTEM_MESSAGES.hasOwnProperty(n)&&!ui.CHANNEL_MESSAGES.hasOwnProperty(n))throw new TypeError("Type must be a valid message type.")}),i.channels!==void 0&&i.channels.forEach(n=>{if(!ui.MIDI_CHANNEL_NUMBERS.includes(n))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=t,i.types&&(this.types=i.types),i.channels&&(this.channels=i.channels)}forward(t){this.suspended||this.types.includes(t.type)&&(t.channel&&!this.channels.includes(t.channel)||this.destinations.forEach(i=>{Di.validation&&!(i instanceof YM)||i.send(t)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class _at extends $0{constructor(t,i){super(),this._input=t,this._number=i,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(t){const i=Object.assign({},t);i.port=this.input,i.target=this,i.type="midimessage",this.emit(i.type,i),this._parseEventForStandardMessages(i)}_parseEventForStandardMessages(t){const i=Object.assign({},t);i.type=i.message.type||"unknownmessage";const n=t.message.dataBytes[0],a=t.message.dataBytes[1];if(i.type==="noteoff"||i.type==="noteon"&&a===0)this.notesState[n]=!1,i.type="noteoff",i.note=new uh(Fi.offsetNumber(n,this.octaveOffset+this.input.octaveOffset+Di.octaveOffset),{rawAttack:0,rawRelease:a}),i.value=Fi.from7bitToFloat(a),i.rawValue=a,i.velocity=i.note.release,i.rawVelocity=i.note.rawRelease;else if(i.type==="noteon")this.notesState[n]=!0,i.note=new uh(Fi.offsetNumber(n,this.octaveOffset+this.input.octaveOffset+Di.octaveOffset),{rawAttack:a}),i.value=Fi.from7bitToFloat(a),i.rawValue=a,i.velocity=i.note.attack,i.rawVelocity=i.note.rawAttack;else if(i.type==="keyaftertouch")i.note=new uh(Fi.offsetNumber(n,this.octaveOffset+this.input.octaveOffset+Di.octaveOffset)),i.value=Fi.from7bitToFloat(a),i.rawValue=a,i.identifier=i.note.identifier,i.key=i.note.number,i.rawKey=n;else if(i.type==="controlchange"){i.controller={number:n,name:ui.CONTROL_CHANGE_MESSAGES[n].name,description:ui.CONTROL_CHANGE_MESSAGES[n].description,position:ui.CONTROL_CHANGE_MESSAGES[n].position},i.subtype=i.controller.name||"controller"+n,i.value=Fi.from7bitToFloat(a),i.rawValue=a;const s=Object.assign({},i);s.type=`${i.type}-controller${n}`,delete s.subtype,this.emit(s.type,s);const l=Object.assign({},i);l.type=`${i.type}-`+ui.CONTROL_CHANGE_MESSAGES[n].name,delete l.subtype,l.type.indexOf("controller")!==0&&this.emit(l.type,l),i.message.dataBytes[0]>=120&&this._parseChannelModeMessage(i),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(i.message.dataBytes[0])&&this._parseEventForParameterNumber(i)}else i.type==="programchange"?(i.value=n,i.rawValue=i.value):i.type==="channelaftertouch"?(i.value=Fi.from7bitToFloat(n),i.rawValue=n):i.type==="pitchbend"?(i.value=((a<<7)+n-8192)/8192,i.rawValue=(a<<7)+n):i.type="unknownmessage";this.emit(i.type,i)}_parseChannelModeMessage(t){const i=Object.assign({},t);i.type=i.controller.name,i.type==="localcontrol"&&(i.value=i.message.data[2]===127,i.rawValue=i.message.data[2]),i.type==="omnimodeon"?(i.type="omnimode",i.value=!0,i.rawValue=i.message.data[2]):i.type==="omnimodeoff"&&(i.type="omnimode",i.value=!1,i.rawValue=i.message.data[2]),i.type==="monomodeon"?(i.type="monomode",i.value=!0,i.rawValue=i.message.data[2]):i.type==="polymodeon"&&(i.type="monomode",i.value=!1,i.rawValue=i.message.data[2]),this.emit(i.type,i)}_parseEventForParameterNumber(t){const i=t.message.dataBytes[0],n=t.message.dataBytes[1];i===99||i===101?(this._nrpnBuffer=[],this._rpnBuffer=[],i===99?this._nrpnBuffer=[t.message]:n!==127&&(this._rpnBuffer=[t.message])):i===98||i===100?i===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(t.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&n!==127?this._rpnBuffer.push(t.message):this._rpnBuffer=[]):(i===6||i===38||i===96||i===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],t):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],t):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(t){return t===6||t===38||t===96||t===97||t===98||t===99||t===100||t===101}_dispatchParameterNumberEvent(t,i,n,a){t=t==="nrpn"?"nrpn":"rpn";const s={target:a.target,timestamp:a.timestamp,message:a.message,parameterMsb:i,parameterLsb:n,value:Fi.from7bitToFloat(a.message.dataBytes[1]),rawValue:a.message.dataBytes[1]};t==="rpn"?s.parameter=Object.keys(ui.REGISTERED_PARAMETERS).find(d=>ui.REGISTERED_PARAMETERS[d][0]===i&&ui.REGISTERED_PARAMETERS[d][1]===n):s.parameter=(i<<7)+n;const l=ui.CONTROL_CHANGE_MESSAGES[a.message.dataBytes[0]].name;s.type=`${t}-${l}`,this.emit(s.type,s);const c=Object.assign({},s);c.type==="nrpn-dataincrement"?c.type="nrpn-databuttonincrement":c.type==="nrpn-datadecrement"?c.type="nrpn-databuttondecrement":c.type==="rpn-dataincrement"?c.type="rpn-databuttonincrement":c.type==="rpn-datadecrement"&&(c.type="rpn-databuttondecrement"),this.emit(c.type,c),s.type=t,s.subtype=l,this.emit(s.type,s)}getChannelModeByNumber(t){return Di.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),t=Math.floor(t)),Fi.getChannelModeByNumber(t)}getCcNameByNumber(t){if(Di.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),t=parseInt(t),!(t>=0&&t<=127)))throw new RangeError("Invalid control change number.");return Fi.getCcNameByNumber(t)}getNoteState(t){t instanceof uh&&(t=t.identifier);const i=Fi.guessNoteNumber(t,Di.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[i]}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(t){this.validation&&(t=!!t),this.parameterNumberEventsEnabled=t}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class WL{constructor(t){this.rawData=t,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=Fi.getPropertyByValue(ui.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=Fi.getPropertyByValue(ui.SYSTEM_MESSAGES,this.command)),this.statusByte===ui.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class Eat extends $0{constructor(t){super(),this._midiInput=t,this._octaveOffset=0,this.channels=[];for(let i=1;i<=16;i++)this.channels[i]=new _at(this,i);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(t=>t.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(t){let i={timestamp:Di.time,target:this,port:this};t.port.connection==="open"?(i.type="opened",this.emit("opened",i)):t.port.connection==="closed"&&t.port.state==="connected"?(i.type="closed",this.emit("closed",i)):t.port.connection==="closed"&&t.port.state==="disconnected"?(i.type="disconnected",i.port={connection:t.port.connection,id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this.emit("disconnected",i)):t.port.connection==="pending"&&t.port.state==="disconnected"||console.warn("This statechange event was not caught: ",t.port.connection,t.port.state)}_onMidiMessage(t){const i=new WL(t.data),n={port:this,target:this,message:i,timestamp:t.timeStamp,type:"midimessage",data:i.data,rawData:i.data,statusByte:i.data[0],dataBytes:i.dataBytes};this.emit("midimessage",n),i.isSystemMessage?this._parseEvent(n):i.isChannelMessage&&this.channels[i.channel]._processMidiMessageEvent(n),this._forwarders.forEach(a=>a.forward(i))}_parseEvent(t){const i=Object.assign({},t);i.type=i.message.type||"unknownmidimessage",i.type==="songselect"&&(i.song=t.data[1]+1,i.value=t.data[1],i.rawValue=i.value),this.emit(i.type,i)}async open(){try{await this._midiInput.open()}catch(t){return Promise.reject(t)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(t){return Promise.reject(t)}return Promise.resolve(this)}getChannelModeByNumber(){Di.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(t,i,n={}){if(Di.validation&&typeof n=="function"){let a=i!=null?[].concat(i):void 0;i=n,n={channels:a}}if(ui.CHANNEL_EVENTS.includes(t)){n.channels===void 0&&(n.channels=ui.MIDI_CHANNEL_NUMBERS);let a=[];return Fi.sanitizeChannels(n.channels).forEach(s=>{a.push(this.channels[s].addListener(t,i,n))}),a}else return super.addListener(t,i,n)}addOneTimeListener(t,i,n={}){return n.remaining=1,this.addListener(t,i,n)}on(t,i,n,a){return this.addListener(t,i,n,a)}hasListener(t,i,n={}){if(Di.validation&&typeof n=="function"){let a=[].concat(i);i=n,n={channels:a}}return ui.CHANNEL_EVENTS.includes(t)?(n.channels===void 0&&(n.channels=ui.MIDI_CHANNEL_NUMBERS),Fi.sanitizeChannels(n.channels).every(a=>this.channels[a].hasListener(t,i))):super.hasListener(t,i)}removeListener(t,i,n={}){if(Di.validation&&typeof n=="function"){let a=[].concat(i);i=n,n={channels:a}}if(n.channels===void 0&&(n.channels=ui.MIDI_CHANNEL_NUMBERS),t==null)return Fi.sanitizeChannels(n.channels).forEach(a=>{this.channels[a]&&this.channels[a].removeListener()}),super.removeListener();ui.CHANNEL_EVENTS.includes(t)?Fi.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].removeListener(t,i,n)}):super.removeListener(t,i,n)}addForwarder(t,i={}){let n;return t instanceof tO?n=t:n=new tO(t,i),this._forwarders.push(n),n}removeForwarder(t){this._forwarders=this._forwarders.filter(i=>i!==t)}hasForwarder(t){return this._forwarders.includes(t)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return Di.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class wat extends $0{constructor(){super(),this.defaults={note:{attack:Fi.from7bitToFloat(64),release:Fi.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(t={},i=!1){if(Fi.isNode){try{window.navigator}catch{let c=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)();global.navigator||(global.navigator={}),Object.assign(global.navigator,c)}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=t.validation!==!1,this.validation&&(typeof t=="function"&&(t={callback:t,sysex:i}),i&&(t.sysex=!0)),this.enabled)return typeof t.callback=="function"&&t.callback(),Promise.resolve();const n={timestamp:this.time,target:this,type:"error",error:void 0},a={timestamp:this.time,target:this,type:"midiaccessgranted"},s={timestamp:this.time,target:this,type:"enabled"};try{typeof t.requestMIDIAccessFunction=="function"?this.interface=await t.requestMIDIAccessFunction({sysex:t.sysex,software:t.software}):this.interface=await navigator.requestMIDIAccess({sysex:t.sysex,software:t.software})}catch(l){return n.error=l,this.emit("error",n),typeof t.callback=="function"&&t.callback(l),Promise.reject(l)}this.emit("midiaccessgranted",a),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(l){return n.error=l,this.emit("error",n),typeof t.callback=="function"&&t.callback(l),Promise.reject(l)}return this.emit("enabled",s),typeof t.callback=="function"&&t.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let t={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",t),this.removeListener()})}getInputById(t,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return}if(i.disconnected){for(let n=0;n<this._disconnectedInputs.length;n++)if(this._disconnectedInputs[n].id===t.toString())return this._disconnectedInputs[n]}else for(let n=0;n<this.inputs.length;n++)if(this.inputs[n].id===t.toString())return this.inputs[n]}getInputByName(t,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return;t=t.toString()}if(i.disconnected){for(let n=0;n<this._disconnectedInputs.length;n++)if(~this._disconnectedInputs[n].name.indexOf(t))return this._disconnectedInputs[n]}else for(let n=0;n<this.inputs.length;n++)if(~this.inputs[n].name.indexOf(t))return this.inputs[n]}getOutputByName(t,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return;t=t.toString()}if(i.disconnected){for(let n=0;n<this._disconnectedOutputs.length;n++)if(~this._disconnectedOutputs[n].name.indexOf(t))return this._disconnectedOutputs[n]}else for(let n=0;n<this.outputs.length;n++)if(~this.outputs[n].name.indexOf(t))return this.outputs[n]}getOutputById(t,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return}if(i.disconnected){for(let n=0;n<this._disconnectedOutputs.length;n++)if(this._disconnectedOutputs[n].id===t.toString())return this._disconnectedOutputs[n]}else for(let n=0;n<this.outputs.length;n++)if(this.outputs[n].id===t.toString())return this.outputs[n]}noteNameToNumber(t){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),Fi.toNoteNumber(t,this.octaveOffset)}getOctave(t){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),t=parseInt(t)),!isNaN(t)&&t>=0&&t<=127?Fi.getNoteDetails(Fi.offsetNumber(t,this.octaveOffset)).octave:!1}sanitizeChannels(t){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),Fi.sanitizeChannels(t)}toMIDIChannels(t){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),Fi.sanitizeChannels(t)}guessNoteNumber(t){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),Fi.guessNoteNumber(t,this.octaveOffset)}getValidNoteArray(t,i={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),Fi.buildNoteArray(t,i)}convertToTimestamp(t){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),Fi.toTimestamp(t)}async _destroyInputsAndOutputs(){let t=[];return this.inputs.forEach(i=>t.push(i.destroy())),this.outputs.forEach(i=>t.push(i.destroy())),Promise.all(t).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(t){this._updateInputsAndOutputs();let i={timestamp:t.timeStamp,type:t.port.state,target:this};if(t.port.state==="connected"&&t.port.connection==="open"){t.port.type==="output"?i.port=this.getOutputById(t.port.id):t.port.type==="input"&&(i.port=this.getInputById(t.port.id)),this.emit(t.port.state,i);const n=Object.assign({},i);n.type="portschanged",this.emit(n.type,n)}else if(t.port.state==="disconnected"&&t.port.connection==="pending"){t.port.type==="input"?i.port=this.getInputById(t.port.id,{disconnected:!0}):t.port.type==="output"&&(i.port=this.getOutputById(t.port.id,{disconnected:!0})),this.emit(t.port.state,i);const n=Object.assign({},i);n.type="portschanged",this.emit(n.type,n)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let i=this._inputs.length-1;i>=0;i--){const n=this._inputs[i];Array.from(this.interface.inputs.values()).find(s=>s===n._midiInput)||(this._disconnectedInputs.push(n),this._inputs.splice(i,1))}let t=[];return this.interface.inputs.forEach(i=>{if(!this._inputs.find(n=>n._midiInput===i)){let n=this._disconnectedInputs.find(a=>a._midiInput===i);n||(n=new Eat(i)),this._inputs.push(n),t.push(n.open())}}),Promise.all(t)}async _updateOutputs(){if(!this.interface)return;for(let i=this._outputs.length-1;i>=0;i--){const n=this._outputs[i];Array.from(this.interface.outputs.values()).find(s=>s===n._midiOutput)||(this._disconnectedOutputs.push(n),this._outputs.splice(i,1))}let t=[];return this.interface.outputs.forEach(i=>{if(!this._outputs.find(n=>n._midiOutput===i)){let n=this._disconnectedOutputs.find(a=>a._midiOutput===i);n||(n=new YM(i)),this._outputs.push(n),t.push(n.open())}}),Promise.all(t)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),Fi.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),Fi.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&!!navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.11"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),ui.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),ui.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),ui.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),ui.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),ui.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const Di=new wat;Di.constructor=null;function Oat(e){let t,i,n,a,s,l,c,d,u,h,g;return{c(){t=K("button"),i=K("div"),n=se(e[2]),a=Y(),s=vo("svg"),l=vo("rect"),d=vo("circle"),ut(l,"x",lc),ut(l,"y",lc),ut(l,"width",B4-2*lc),ut(l,"height",Eg-2*lc),ut(l,"rx",8),ut(l,"fill",c=e[0]?"var(--accentDark)":"#aaa"),ut(l,"class","svelte-1ijr3d"),ut(d,"cx",u=e[0]?B4-lc-_1-2:lc+_1+2),ut(d,"cy",Eg/2),ut(d,"r",_1),ut(d,"fill","white"),ut(d,"class","svelte-1ijr3d"),ut(s,"class","indicator"),ut(s,"width",B4),ut(s,"height",Eg),ut(t,"title",e[3]),ut(t,"class","svelte-1ijr3d")},m(m,M){_t(m,t,M),R(t,i),R(i,n),R(t,a),R(t,s),R(s,l),R(s,d),h||(g=Qe(t,"click",e[4]),h=!0)},p(m,[M]){M&4&&Ue(n,m[2]),M&1&&c!==(c=m[0]?"var(--accentDark)":"#aaa")&&ut(l,"fill",c),M&1&&u!==(u=m[0]?B4-lc-_1-2:lc+_1+2)&&ut(d,"cx",u),M&8&&ut(t,"title",m[3])},i:Fe,o:Fe,d(m){m&&Ct(t),h=!1,g()}}}const B4=30,Eg=20,lc=2,_1=5;function xat(e,t,i){let{checked:n=!0}=t,{callback:a=()=>{}}=t,{label:s=""}=t,{title:l=""}=t;const c=()=>{i(0,n=!n),a()};return e.$$set=d=>{"checked"in d&&i(0,n=d.checked),"callback"in d&&i(1,a=d.callback),"label"in d&&i(2,s=d.label),"title"in d&&i(3,l=d.title)},[n,a,s,l,c]}class Tr extends qi{constructor(t){super(),Wi(this,t,xat,Oat,Ji,{checked:0,callback:1,label:2,title:3})}}function eO(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b,v;function E(_){e[12](_)}let x={label:"use keyboard"};return e[1]!==void 0&&(x.checked=e[1]),s=new Tr({props:x}),me.push(()=>Te(s,"checked",E)),{c(){t=K("main"),i=K("div"),i.textContent="If you have no MIDI device, you can use a PC keyboard as a MIDI keyboard:",n=Y(),a=K("div"),Ut(s.$$.fragment),c=se(`
      octave `),d=se(e[2]),u=Y(),h=K("button"),h.textContent="+",g=Y(),m=K("button"),m.textContent="-",M=Y(),p=K("div"),p.innerHTML="Notes: <code>a</code> = C, <code>w</code> = C#, <code>s</code> = B, ...",ut(h,"class","left svelte-1szjwcz"),ut(m,"class","right svelte-1szjwcz"),ut(t,"class","svelte-1szjwcz")},m(_,C){_t(_,t,C),R(t,i),R(t,n),R(t,a),Nt(s,a,null),R(a,c),R(a,d),R(a,u),R(a,h),R(a,g),R(a,m),R(t,M),R(t,p),A=!0,b||(v=[Qe(h,"click",e[13]),Qe(m,"click",e[14])],b=!0)},p(_,C){const O={};!l&&C&2&&(l=!0,O.checked=_[1],Se(()=>l=!1)),s.$set(O),(!A||C&4)&&Ue(d,_[2])},i(_){A||(Bt(s.$$.fragment,_),A=!0)},o(_){Rt(s.$$.fragment,_),A=!1},d(_){_&&Ct(t),Ft(s),b=!1,ar(v)}}}function Sat(e){let t,i,n,a,s=e[0]&&eO(e);return{c(){s&&s.c(),t=kr()},m(l,c){s&&s.m(l,c),_t(l,t,c),i=!0,n||(a=[Qe(window,"keydown",e[3]),Qe(window,"keyup",e[4])],n=!0)},p(l,[c]){l[0]?s?(s.p(l,c),c&1&&Bt(s,1)):(s=eO(l),s.c(),Bt(s,1),s.m(t.parentNode,t)):s&&(W0(),Rt(s,1,1,()=>{s=null}),q0())},i(l){i||(Bt(s),i=!0)},o(l){Rt(s),i=!1},d(l){l&&Ct(t),s&&s.d(l),n=!1,ar(a)}}}function Tat(e,t,i){let{midiMessage:n=C=>{}}=t,{noteOn:a=C=>{}}=t,{noteOff:s=C=>{}}=t,{controlChange:l=C=>{}}=t,{pitchBend:c=C=>{}}=t,{errorCallback:d=C=>console.error(C)}=t,{pcKeyAllowed:u=!1}=t,{midiDevices:h=[]}=t;const g=()=>{i(5,h=[]),Di.inputs.length<1?console.warn("No MIDI device detected"):(Di.inputs.forEach((C,O)=>{console.log(`MIDI device ${O}: ${C.name}`),C.addListener("midimessage",n),C.addListener("noteon",a),C.addListener("noteoff",s),C.addListener("controlchange",l),C.addListener("pitchbend",c)}),i(5,h=[...Di.inputs]))};sr(()=>{Di.enable().then(g).catch(()=>{d()})}),or(()=>{for(const C of Di.inputs)C.removeListener()});let m=!1;const M=new Map;let p=4;const A=new Map([["a",0],["w",1],["s",2],["e",3],["d",4],["f",5],["t",6],["g",7],["y",8],["z",8],["h",9],["u",10],["j",11],["k",12],["o",13],["l",14],["p",15]]),b=C=>{const O=C.key.toLowerCase();if(!m||!A.has(O)||C.repeat)return;C.preventDefault();const I=A.get(O)+p*12,T=xo[I],P={note:{number:I,name:T.name.replace("#",""),accidental:T.name.endsWith("#")?"#":null},message:{channel:0},timestamp:performance.now(),velocity:1,rawVelocity:127};M.set(O,P),a(P)},v=C=>{const O=C.key.toLowerCase();if(!m||!A.has(O))return;C.preventDefault();const I=M.get(O);I.timestamp=performance.now(),s(I)};function E(C){m=C,i(1,m)}const x=()=>i(2,p=Math.min(p+1,8)),_=()=>i(2,p=Math.max(p-1,1));return e.$$set=C=>{"midiMessage"in C&&i(6,n=C.midiMessage),"noteOn"in C&&i(7,a=C.noteOn),"noteOff"in C&&i(8,s=C.noteOff),"controlChange"in C&&i(9,l=C.controlChange),"pitchBend"in C&&i(10,c=C.pitchBend),"errorCallback"in C&&i(11,d=C.errorCallback),"pcKeyAllowed"in C&&i(0,u=C.pcKeyAllowed),"midiDevices"in C&&i(5,h=C.midiDevices)},[u,m,p,b,v,h,n,a,s,l,c,d,E,x,_]}class $r extends qi{constructor(t){super(),Wi(this,t,Tat,Sat,Ji,{midiMessage:6,noteOn:7,noteOff:8,controlChange:9,pitchBend:10,errorCallback:11,pcKeyAllowed:0,midiDevices:5})}}function Iat(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g=e[1].join(", ")+"",m,M,p,A,b=e[2].join(" or ")+"",v,E,x,_;return x=new $r({props:{noteOn:e[3]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`Play a chord on a MIDI instrument. The notes you played and the detected
        chord will be shown below.`,c=Y(),d=K("div"),u=se("Notes: "),h=K("b"),m=se(g),M=K("br"),p=se(`
        Detected chord: `),A=K("b"),v=se(b),E=Y(),Ut(x.$$.fragment),ut(l,"class","explanation"),ut(d,"class","visualization"),ut(t,"class","app")},m(C,O){_t(C,t,O),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),R(d,u),R(d,h),R(h,m),R(d,M),R(d,p),R(d,A),R(A,v),R(t,E),Nt(x,t,null),_=!0},p(C,[O]){(!_||O&1)&&n!==(n=C[0].title+"")&&Ue(a,n),(!_||O&2)&&g!==(g=C[1].join(", ")+"")&&Ue(m,g),(!_||O&4)&&b!==(b=C[2].join(" or ")+"")&&Ue(v,b)},i(C){_||(Bt(x.$$.fragment,C),_=!0)},o(C){Rt(x.$$.fragment,C),_=!1},d(C){C&&Ct(t),Ft(x)}}}function Bat(e,t,i){let{toolInfo:n}=t,a=0,s=[],l=[],c=[];const d=h=>{s.length===0&&(a=h.timestamp);const g=(h.timestamp-a)/1e3,m={number:h.note.number,velocity:h.rawVelocity,time:g,channel:h.message.channel};s.push(m),u()},u=()=>{const h=Ca(s,g=>g.time);i(1,l=s.filter(g=>g.time>h-1).sort((g,m)=>g.number-m.number).map(g=>Ts(g.number))),i(1,l=[...new Set(l)]),i(2,c=fm(l))};return sr(u),e.$$set=h=>{"toolInfo"in h&&i(0,n=h.toolInfo)},[n,l,c,d]}class Rat extends qi{constructor(t){super(),Wi(this,t,Bat,Iat,Ji,{toolInfo:0})}}function Ws(e){return e!=null&&!Number.isNaN(e)}function j0(e,t){return+Ws(t)-+Ws(e)||N9(e,t)}function Zp(e,t){return+Ws(t)-+Ws(e)||z2(e,t)}function Ry(e){return e!=null&&`${e}`!=""}function qL(e){return isFinite(e)?e:NaN}function n5(e){return e>0&&isFinite(e)?e:NaN}function Dy(e){return e<0&&isFinite(e)?e:NaN}function Dat(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const i=e.getUTCHours(),n=e.getUTCMinutes(),a=e.getUTCSeconds(),s=e.getUTCMilliseconds();return`${Pat(e.getUTCFullYear())}-${cl(e.getUTCMonth()+1,2)}-${cl(e.getUTCDate(),2)}${i||n||a||s?`T${cl(i,2)}:${cl(n,2)}${a||s?`:${cl(a,2)}${s?`.${cl(s,3)}`:""}`:""}Z`:""}`}function Pat(e){return e<0?`-${cl(-e,6)}`:e>9999?`+${cl(e,6)}`:cl(e,4)}function cl(e,t){return`${e}`.padStart(t,"0")}const Lat=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function KL(e,t){return Lat.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function Yh(e){if(e==null)return;const t=e[0],i=e[e.length-1];return z2(t,i)}const dh=1e3,wc=dh*60,Oc=wc*60,So=Oc*24,ho=So*7,Wu=So*30,uc=So*365,wg=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",dh],["5 seconds",5*dh],["15 seconds",15*dh],["30 seconds",30*dh],["minute",wc],["5 minutes",5*wc],["15 minutes",15*wc],["30 minutes",30*wc],["hour",Oc],["3 hours",3*Oc],["6 hours",6*Oc],["12 hours",12*Oc],["day",So],["2 days",2*So],["week",ho],["2 weeks",2*ho],["month",Wu],["3 months",3*Wu],["6 months",6*Wu],["year",uc],["2 years",2*uc],["5 years",5*uc],["10 years",10*uc],["20 years",20*uc],["50 years",50*uc],["100 years",100*uc]],Py=new Map([["second",dh],["minute",wc],["hour",Oc],["day",So],["monday",ho],["tuesday",ho],["wednesday",ho],["thursday",ho],["friday",ho],["saturday",ho],["sunday",ho],["week",ho],["month",Wu],["year",uc]]),XL=new Map([["second",F0],["minute",nm],["hour",am],["day",hd],["monday",h2],["tuesday",zR],["wednesday",jR],["thursday",sd],["friday",JR],["saturday",WR],["sunday",jh],["week",jh],["month",om],["year",Q0]]),Ly=new Map([["second",F0],["minute",rm],["hour",sm],["day",V8],["monday",f2],["tuesday",qR],["wednesday",KR],["thursday",od],["friday",XR],["saturday",YR],["sunday",Jh],["week",Jh],["month",lm],["year",z0]]),pm=Symbol("intervalDuration"),r5=Symbol("intervalType");for(const[e,t]of XL)t[pm]=Py.get(e),t[r5]="time";for(const[e,t]of Ly)t[pm]=Py.get(e),t[r5]="utc";const F1=[["year",z0,"utc"],["month",lm,"utc"],["day",V8,"utc",6*Wu],["hour",sm,"utc",3*So],["minute",rm,"utc",6*Oc],["second",F0,"utc",30*wc]],lp=[["year",Q0,"time"],["month",om,"time"],["day",hd,"time",6*Wu],["hour",am,"time",3*So],["minute",nm,"time",6*Oc],["second",F0,"time",30*wc]],kat=[F1[0],lp[0],F1[1],lp[1],F1[2],lp[2],...F1.slice(3)];function YL(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let i=1;const n=/^(?:(\d+)\s+)/.exec(t);switch(n&&(t=t.slice(n[0].length),i=+n[1]),t){case"quarter":t="month",i*=3;break;case"half":t="month",i*=6;break}let a=Ly.get(t);if(!a)throw new Error(`unknown interval: ${e}`);if(i>1&&!a.every)throw new Error(`non-periodic interval: ${t}`);return[t,i]}function ZL(e){return tk(YL(e),"time")}function ky(e){return tk(YL(e),"utc")}function tk([e,t],i){let n=(i==="time"?XL:Ly).get(e);return t>1&&(n=n.every(t),n[pm]=Py.get(e)*t,n[r5]=i),n}function iO(e,t){if(!(t>1))return;const i=e[pm];if(!wg.some(([,a])=>a===i)||i%So===0&&So<i&&i<Wu)return;const[n]=wg[w8(([,a])=>Math.log(a)).center(wg,Math.log(i*t))];return(e[r5]==="time"?ZL:ky)(n)}function nO(e,t,i){const n=t==="time"?ry:cm;if(i==null)return n(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const a=Nat(i);switch(e){case"millisecond":return nh(n(".%L"),n(":%M:%S"),a);case"second":return nh(n(":%S"),n("%-I:%M"),a);case"minute":return nh(n("%-I:%M"),n("%p"),a);case"hour":return nh(n("%-I %p"),n("%b %-d"),a);case"day":return nh(n("%-d"),n("%b"),a);case"month":return nh(n("%b"),n("%Y"),a);case"year":return n("%Y")}throw new Error("unable to format time ticks")}function Nat(e){return e==="left"||e==="right"?(t,i)=>`
${t}
${i}`:e==="top"?(t,i)=>`${i}
${t}`:(t,i)=>`${t}
${i}`}function Fat(e){return e==="time"?lp:e==="utc"?F1:kat}function Uat(e,t,i){const n=Ca(oJ(t,(a,s)=>Math.abs(s-a)));if(n<1e3)return nO("millisecond","utc",i);for(const[a,s,l,c]of Fat(e)){if(n>c||a==="hour"&&!n)break;if(t.every(d=>s.floor(d)>=d))return nO(a,l,i)}}function nh(e,t,i){return(n,a,s)=>{const l=e(n,a),c=t(n,a),d=a-Yh(s);return a!==d&&s[d]!==void 0&&c===t(s[d],d)?l:i(l,c)}}const Ny=Object.getPrototypeOf(Uint8Array),$at=Object.prototype.toString;function pd(e){return e instanceof Array||e instanceof Ny}function ek(e){return e instanceof Ny&&!Gat(e)}function ik(e){return(e==null?void 0:e.prototype)instanceof Ny&&!Vat(e)}function Gat(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function Vat(e){return e===BigInt64Array||e===BigUint64Array}const nk=Symbol("reindex");function ma(e,t,i){const n=typeof t;return n==="string"?Ak(e)?Fy(e.getChild(t),i):rO(e,rk(t),i):n==="function"?rO(e,t,i):n==="number"||t instanceof Date||n==="boolean"?r9(e,bl(t),i):typeof(t==null?void 0:t.transform)=="function"?ZM(t.transform(e),i):Hat(ZM(t,i),e==null?void 0:e[nk])}function Hat(e,t){return e!=null&&t?o5(e,t):e}function rO(e,t,i){return r9(e,ik(i)?(n,a)=>$y(t(n,a)):t,i)}function ZM(e,t){return t===void 0?Uc(e):yk(e)?Fy(e,t):e instanceof t?e:t.from(e,ik(t)&&!ek(e)?$y:void 0)}function Fy(e,t){return e==null?e:(t===void 0||t===Array)&&r9t(e.type)?sk(e.toArray()):ZM(e.toArray(),t)}const cp=[null],rk=e=>t=>{var n;const i=t[e];return i===void 0&&t.type==="Feature"?(n=t.properties)==null?void 0:n[e]:i},Ll={transform:Nl},ra={transform:e=>e},Qat=()=>1,zat=()=>!0,ds=e=>e==null?e:`${e}`,O9=e=>e==null?e:+e,Uy=e=>e?e[0]:void 0,t8=e=>e?e[1]:void 0,bl=e=>()=>e;function ak(e){const t=+`${e}`.slice(1)/100;return(i,n)=>Fh(i,t,n)}function bo(e){return ek(e)?e:r9(e,$y,Float64Array)}function $y(e){return e==null?NaN:Number(e)}function sk(e){return r9(e,ok)}function ok(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?KL(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function _0(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:l5(e)?[void 0,e]:[e,void 0]}function hs(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function lk(e,t,i){if(e!=null)return Y0(e,t,i)}function Y0(e,t,i){const n=`${e}`.toLowerCase();if(!i.includes(n))throw new Error(`invalid ${t}: ${e}`);return n}function Zh(e){return Ak(e)?e:Uc(e)}function Uc(e){if(e==null||pd(e))return e;if(yk(e))return Fy(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function r9(e,t,i=Array){return e==null?e:e instanceof i?e.map(t):i.from(e,t)}function y2(e,t=Array){return e instanceof t?e.slice():t.from(e)}function ck({x:e,x1:t,x2:i}){return e!==void 0||t!==void 0||i!==void 0}function uk({y:e,y1:t,y2:i}){return e!==void 0||t!==void 0||i!==void 0}function gm(e){return ck(e)||uk(e)||e.interval!==void 0}function kl(e){return(e==null?void 0:e.toString)===$at}function tA(e){return kl(e)&&(e.type!==void 0||e.domain!==void 0)}function a5(e){return kl(e)&&typeof e.transform!="function"}function tf(e){return a5(e)&&e.value===void 0&&e.channel===void 0}function dk(e,t,i,n=ra){return t===void 0&&i===void 0?(t=0,i=e===void 0?n:e):t===void 0?t=e===void 0?0:e:i===void 0&&(i=e===void 0?0:e),[t,i]}function Mm(e,t){return e===void 0&&t===void 0?[Uy,t8]:[e,t]}function s5({z:e,fill:t,stroke:i}={}){return e===void 0&&([e]=_0(t)),e===void 0&&([e]=_0(i)),e}function v2(e){return pd(e)?e.length:e==null?void 0:e.numRows}function Nl(e){const t=v2(e),i=new Uint32Array(t);for(let n=0;n<t;++n)i[n]=n;return i}function o5(e,t){return pd(e)?r9(t,i=>e[i],e.constructor):r9(t,i=>e.at(i))}function hk(e){return e.length===1?(t,i)=>e(o5(i,t)):e}function qu(e,t,i){return e.subarray?e.subarray(t,i):e.slice(t,i)}function Cl(e){return e!==null&&typeof e=="object"?e.valueOf():e}function fk(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function b2(e){let t;return[{transform:()=>t,label:jc(e)},i=>t=i]}function Cs(e){return e==null?[e]:b2(e)}function jc(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function e8(e,t){return{transform(i){const n=e.transform(i),a=t.transform(i);return Is(n)||Is(a)?r9(n,(s,l)=>new Date((+n[l]+ +a[l])/2)):r9(n,(s,l)=>(+n[l]+ +a[l])/2,Float64Array)},label:e.label}}function i8(e,t){const i=mk(t==null?void 0:t.interval,t==null?void 0:t.type);return i?r9(e,i):e}function mk(e,t){const i=Gy(e,t);return i&&(n=>Ws(n)?i.floor(n):n)}function Gy(e,t){if(e!=null){if(typeof e=="number")return jat(e);if(typeof e=="string")return(t==="time"?ZL:ky)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function jat(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:i=>Math.floor(i*t)/t,offset:(i,n=1)=>(i*t+Math.floor(n))/t,range:(i,n)=>Ci(Math.ceil(i*t),n*t).map(a=>a/t)}:{floor:i=>Math.floor(i/t)*t,offset:(i,n=1)=>i+t*Math.floor(n),range:(i,n)=>Ci(Math.ceil(i/t),n/t).map(a=>a*t)}}function Mf(e,t){if(e=Gy(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function Jat(e,t){if(e=Mf(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function Wat(e){return hh(e)&&typeof(e==null?void 0:e.floor)=="function"&&e.floor()instanceof Date}function hh(e){return typeof(e==null?void 0:e.range)=="function"}function Af(e){return e===void 0||a5(e)?e:{value:e}}function qat(e){return e==null?null:{transform:t=>ma(t,e,Float64Array),label:jc(e)}}function Jc(e){return e&&typeof e[Symbol.iterator]=="function"}function pk(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function aO(e){for(const t of e){if(t==null)continue;const i=typeof t;return i==="string"||i==="boolean"}}function Is(e){for(const t of e)if(t!=null)return t instanceof Date}function Kat(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&KL(t)}function Xat(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Yat(e){for(const t of e)if(t!=null)return typeof t=="number"}function Og(e,t){let i;for(const n of e)if(n!=null){if(!t(n))return!1;i=!0}return i}const Zat=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function l5(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||Zat.has(e))}function t9t(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function J9(e){return e==null||C2(e)}function C2(e){return/^\s*none\s*$/i.test(e)}function e9t(e){return/^\s*round\s*$/i.test(e)}function eA(e,t){return lk(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function c5(e="middle"){return eA(e,"frameAnchor")}function i9t(e={},...t){let i=e;for(const n of t)for(const a in n)if(i[a]===void 0){const s=n[a];i===e?i={...i,[a]:s}:i[a]=s}return i}function n9t(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,i=>{const{name:n}=i;if(n==null)throw new Error("missing name");const a=`${n}`;if(a==="__proto__")throw new Error(`illegal name: ${a}`);if(t.has(a))throw new Error(`duplicate name: ${a}`);return t.add(a),[n,i]}))}function gk(e){return Jc(e)?n9t(e):e}function Mk(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=Y0(e,"clip",["frame","sphere"])),e}function Ak(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function yk(e){return e&&typeof e.toArray=="function"&&e.type}function r9t(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const Co=Symbol("position"),Fl=Symbol("color"),Am=Symbol("radius"),ym=Symbol("length"),vm=Symbol("opacity"),u5=Symbol("symbol"),vk=Symbol("projection"),$a=new Map([["x",Co],["y",Co],["fx",Co],["fy",Co],["r",Am],["color",Fl],["opacity",vm],["symbol",u5],["length",ym],["projection",vk]]);function a9t(e){return e===Co||e===vk}function s9t(e){return e===Co||e===Am||e===ym||e===vm}const o9t=Math.sqrt(3),l9t=2/o9t,c9t={draw(e,t){const i=Math.sqrt(t/Math.PI),n=i*l9t,a=n/2;e.moveTo(0,n),e.lineTo(i,a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-i,a),e.closePath()}},Vy=new Map([["asterisk",EP],["circle",m2],["cross",wP],["diamond",xP],["diamond2",SP],["hexagon",c9t],["plus",TP],["square",IP],["square2",BP],["star",DP],["times",NP],["triangle",PP],["triangle2",LP],["wye",kP]]);function Hy(e){return e&&typeof e.draw=="function"}function u9t(e){return Hy(e)?!0:typeof e!="string"?!1:Vy.has(e.toLowerCase())}function Qy(e){if(e==null||Hy(e))return e;const t=Vy.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function d9t(e){if(e==null||Hy(e))return[void 0,e];if(typeof e=="string"){const t=Vy.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function yf({filter:e,sort:t,reverse:i,transform:n,initializer:a,...s}={},l){if(n===void 0&&(e!=null&&(n=bk(e)),t!=null&&!tf(t)&&(n=xg(n,zy(t))),i&&(n=xg(n,Ck))),l!=null&&a!=null)throw new Error("transforms cannot be applied after initializers");return{...s,...(t===null||tf(t))&&{sort:t},transform:xg(n,l)}}function ef({filter:e,sort:t,reverse:i,initializer:n,...a}={},s){return n===void 0&&(e!=null&&(n=bk(e)),t!=null&&!tf(t)&&(n=Sg(n,zy(t))),i&&(n=Sg(n,Ck))),{...a,...(t===null||tf(t))&&{sort:t},initializer:Sg(n,s)}}function xg(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(i,n,a){return{data:i,facets:n}=e.call(this,i,n,a),t.call(this,Zh(i),n,a)}}function Sg(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(i,n,a,...s){let l,c,d,u,h,g;return{data:c=i,facets:d=n,channels:l}=e.call(this,i,n,a,...s),{data:h=c,facets:g=d,channels:u}=t.call(this,c,d,{...a,...l},...s),{data:h,facets:g,channels:{...l,...u}}}}function h9t(e,t){return(e.initializer!=null?ef:yf)(e,t)}function bk(e){return(t,i)=>{const n=ma(t,e);return{data:t,facets:i.map(a=>a.filter(s=>n[s]))}}}function Ck(e,t){return{data:e,facets:t.map(i=>i.slice().reverse())}}function f9t(e,{sort:t,...i}={}){return{...(a5(e)&&e.channel!==void 0?ef:h9t)(i,zy(e)),sort:tf(t)?t:null}}function zy(e){return(typeof e=="function"&&e.length!==1?m9t:p9t)(e)}function m9t(e){return(t,i)=>{const n=pd(t)?(a,s)=>e(t[a],t[s]):(a,s)=>e(t.get(a),t.get(s));return{data:t,facets:i.map(a=>a.slice().sort(n))}}}function p9t(e){let t,i;({channel:t,value:e,order:i}={...Af(e)});const n=t==null?void 0:t.startsWith("-");if(n&&(t=t.slice(1)),i===void 0&&(i=n?Zp:j0),typeof i!="function")switch(`${i}`.toLowerCase()){case"ascending":i=j0;break;case"descending":i=Zp;break;default:throw new Error(`invalid order: ${i}`)}return(a,s,l)=>{let c;if(t===void 0)c=ma(a,e);else{if(l===void 0)throw new Error("channel sort requires an initializer");if(c=l[t],!c)return{};c=c.value}const d=(u,h)=>i(c[u],c[h]);return{data:a,facets:s.map(u=>u.slice().sort(d))}}}function g9t(e={y:"count"},t={}){const{x:i=ra}=t;if(i==null)throw new Error("missing channel: x");return M9t(i,null,e,t)}function M9t(e,t,{data:i=Wy,filter:n,sort:a,reverse:s,...l}={},c={}){l=v9t(l,c),i=Ok(i,ra),a=a==null?void 0:Ek("sort",a,c),n=n==null?void 0:wk("filter",n,c);const[d,u]=Cs(e),[h,g]=Cs(t),{z:m,fill:M,stroke:p,x1:A,x2:b,y1:v,y2:E,...x}=c,[_,C]=Cs(m),[O]=_0(M),[I]=_0(p),[T,D]=Cs(O),[P,L]=Cs(I);return{..."z"in c&&{z:_||m},..."fill"in c&&{fill:T||M},..."stroke"in c&&{stroke:P||p},...yf(x,(N,U,$)=>{const F=i8(ma(N,e),$==null?void 0:$.x),j=i8(ma(N,t),$==null?void 0:$.y),z=ma(N,m),Q=ma(N,O),V=ma(N,I),q=xk(l,{z,fill:Q,stroke:V}),J=[],W=[],et=F&&u([]),mt=j&&g([]),ot=z&&C([]),pt=Q&&D([]),wt=V&&L([]);let Mt=0;for(const xt of l)xt.initialize(N);a&&a.initialize(N),n&&n.initialize(N);for(const xt of U){const dt=[];for(const Ot of l)Ot.scope("facet",xt);a&&a.scope("facet",xt),n&&n.scope("facet",xt);for(const[Ot,At]of Y1(xt,q))for(const[jt,bt]of Y1(At,j))for(const[kt,Dt]of Y1(bt,F)){const Xt={data:N};if(F&&(Xt.x=kt),j&&(Xt.y=jt),q&&(Xt.z=Ot),!(n&&!n.reduce(Dt,Xt))){dt.push(Mt++),W.push(i.reduceIndex(Dt,N,Xt)),F&&et.push(kt),j&&mt.push(jt),z&&ot.push(q===z?Ot:z[Dt[0]]),Q&&pt.push(q===Q?Ot:Q[Dt[0]]),V&&wt.push(q===V?Ot:V[Dt[0]]);for(const ae of l)ae.reduce(Dt,Xt);a&&a.reduce(Dt,Xt)}}J.push(dt)}return Sk(J,a,s),{data:W,facets:J}}),...!X1(l,"x")&&(d?{x:d}:{x1:A,x2:b}),...!X1(l,"y")&&(h?{y:h}:{y1:v,y2:E}),...Object.fromEntries(l.map(({name:N,output:U})=>[N,U]))}}function X1(e,...t){for(const{name:i}of e)if(t.includes(i))return!0;return!1}function _k(e,t,i=jy){const n=Object.entries(e);return t.title!=null&&e.title===void 0&&n.push(["title",E9t]),t.href!=null&&e.href===void 0&&n.push(["href",qy]),n.filter(([,a])=>a!==void 0).map(([a,s])=>s===null?A9t(a):i(a,s,t))}function jy(e,t,i,n=Jy){let a;kl(t)&&"reduce"in t&&(a=t.scale,t=t.reduce);const s=n(e,t,i),[l,c]=b2(s.label);let d;return{name:e,output:a===void 0?l:{value:l,scale:a},initialize(u){s.initialize(u),d=c([])},scope(u,h){s.scope(u,h)},reduce(u,h){d.push(s.reduce(u,h))}}}function A9t(e){return{name:e,initialize(){},scope(){},reduce(){}}}function Jy(e,t,i,n=d5){const a=fk(e,i),s=n(t,a);let l,c;return{label:jc(s===n8?null:a,s.label),initialize(d){l=a===void 0?d:ma(d,a),s.scope==="data"&&(c=s.reduceIndex(Nl(d),l))},scope(d,u){s.scope===d&&(c=s.reduceIndex(u,l))},reduce(d,u){return s.scope==null?s.reduceIndex(d,l,u):s.reduceIndex(d,l,c,u)}}}function Y1(e,t){return t?W2(e,i=>t[i]):[[,e]]}function d5(e,t,i=y9t){if(e==null)return i(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&kl(e))return C9t(e);if(typeof e=="function")return _9t(e);if(/^p\d{2}$/i.test(e))return ol(ak(e));switch(`${e}`.toLowerCase()){case"first":return qy;case"last":return w9t;case"identity":return Wy;case"count":return n8;case"distinct":return O9t;case"sum":return t==null?n8:x9t;case"proportion":return oO(t,"data");case"proportion-facet":return oO(t,"facet");case"deviation":return ol(kA);case"min":return ol(Y9);case"min-index":return ol(xc);case"max":return ol(Ca);case"max-index":return ol(UA);case"mean":return sO(Bc);case"median":return sO(Uh);case"variance":return ol(LA);case"mode":return ol(S8)}return i(e)}function y9t(e){throw new Error(`invalid reduce: ${e}`)}function v9t(e,t){return _k(e,t,Ek)}function Ek(e,t,i){return jy(e,t,i,wk)}function wk(e,t,i){return Jy(e,t,i,Ok)}function Ok(e,t){return d5(e,t,b9t)}function b9t(e){switch(`${e}`.toLowerCase()){case"x":return S9t;case"y":return T9t;case"z":return Tk}throw new Error(`invalid group reduce: ${e}`)}function xk(e,t){for(const i in t){const n=t[i];if(n!==void 0&&!e.some(a=>a.name===i))return n}}function Sk(e,t,i){if(t){const n=t.output.transform(),a=(s,l)=>j0(n[s],n[l]);e.forEach(s=>s.sort(a))}i&&e.forEach(n=>n.reverse())}function C9t(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function _9t(e){return{reduceIndex(t,i,n){return e(o5(i,t),n)}}}function ol(e){return{reduceIndex(t,i){return e(t,n=>i[n])}}}function sO(e){return{reduceIndex(t,i){const n=e(t,a=>i[a]);return Is(i)?new Date(n):n}}}const Wy={reduceIndex(e,t){return o5(t,e)}},qy={reduceIndex(e,t){return t[e[0]]}},E9t={reduceIndex(e,t){const n=gp(yh(e,s=>s.length,s=>t[s]),t8),a=n.slice(-5).reverse();if(a.length<n.length){const s=n.slice(0,-4);a[4]=[`… ${s.length.toLocaleString("en-US")} more`,Rc(s,t8)]}return a.map(([s,l])=>`${s} (${l.toLocaleString("en-US")})`).join(`
`)}},w9t={reduceIndex(e,t){return t[e[e.length-1]]}},n8={label:"Frequency",reduceIndex(e){return e.length}},O9t={label:"Distinct",reduceIndex(e,t){const i=new J2;for(const n of e)i.add(t[n]);return i.size}},x9t=ol(Rc);function oO(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(i,n,a=1)=>i.length/a}:{scope:t,reduceIndex:(i,n,a=1)=>Rc(i,s=>n[s])/a}}const S9t={reduceIndex(e,t,{x:i}){return i}},T9t={reduceIndex(e,t,{y:i}){return i}},Tk={reduceIndex(e,t,{z:i}){return i}};function _2(e,{scale:t,type:i,value:n,filter:a,hint:s,label:l=jc(n)},c){return s===void 0&&typeof(n==null?void 0:n.transform)=="function"&&(s=n.hint),Ik(c,{scale:t,type:i,value:ma(e,n),label:l,filter:a,hint:s})}function I9t(e,t){return Object.fromEntries(Object.entries(e).map(([i,n])=>[i,_2(t,n,i)]))}function B9t(e,t){const i=Object.fromEntries(Object.entries(e).map(([n,{scale:a,value:s}])=>{const l=a==null?null:t[a];return[n,l==null?s:r9(s,l)]}));return i.channels=e,i}function Ik(e,t){const{scale:i,value:n}=t;if(i===!0||i==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=i!==!0&&Og(n,l5)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=i!==!0&&Og(n,t9t)?null:"opacity",t.defaultScale="opacity";break;case"symbol":i!==!0&&Og(n,u9t)?(t.scale=null,t.value=r9(n,Qy)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=$a.has(e)?e:null;break}else if(i===!1)t.scale=null;else if(i!=null&&!$a.has(i))throw new Error(`unknown scale: ${i}`);return t}function R9t(e,t,i,n,a){const{order:s,reverse:l,reduce:c=!0,limit:d}=a;for(const u in a){if(!$a.has(u))continue;let{value:h,order:g=s,reverse:m=l,reduce:M=c,limit:p=d}=Af(a[u]);const A=h==null?void 0:h.startsWith("-");if(A&&(h=h.slice(1)),g=g===void 0?A!==(h==="width"||h==="height")?Rk:Bk:L9t(g),M==null||M===!1)continue;const b=u==="fx"||u==="fy"?P9t(t,n[u]):D9t(i,u);if(!b)throw new Error(`missing channel for scale: ${u}`);const v=b.value,[E=0,x=1/0]=Jc(p)?p:p<0?[p]:[0,p];if(h==null)b.domain=()=>{let _=Array.from(new J2(v));return m&&(_=_.reverse()),(E!==0||x!==1/0)&&(_=_.slice(E,x)),_};else{const _=h==="data"?e:h==="height"?lO(i,"y1","y2"):h==="width"?lO(i,"x1","x2"):iA(i,h,h==="y"?"y2":h==="x"?"x2":void 0),C=d5(M===!0?"max":M,_);b.domain=()=>{let O=Kj(Nl(v),I=>C.reduceIndex(I,_),I=>v[I]);return g&&O.sort(g),m&&O.reverse(),(E!==0||x!==1/0)&&(O=O.slice(E,x)),O.map(Uy)}}}}function D9t(e,t){for(const i in e){const n=e[i];if(n.scale===t)return n}}function P9t(e,t){const i=e.original;if(i===e)return t;const n=t.value,a=t.value=[];for(let s=0;s<i.length;++s){const l=n[i[s][0]];for(const c of e[s])a[c]=l}return t}function lO(e,t,i){const n=iA(e,t),a=iA(e,i);return r9(a,(s,l)=>Math.abs(s-n[l]),Float64Array)}function iA(e,t,i){let n=e[t];if(!n&&i!==void 0&&(n=e[i]),n)return n.value;throw new Error(`missing channel: ${t}`)}function L9t(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return Bk;case"descending":return Rk}throw new Error(`invalid order: ${e}`)}function Bk([e,t],[i,n]){return j0(t,n)||j0(e,i)}function Rk([e,t],[i,n]){return Zp(t,n)||j0(e,i)}function cO(e,t){let i=e[t];if(i){for(;i.source;)i=i.source;return i.source===null?null:i}}const Dk=new Map([["accent",yZ],["category10",AZ],["dark2",vZ],["observable10",U0],["paired",bZ],["pastel1",CZ],["pastel2",_Z],["set1",EZ],["set2",wZ],["set3",OZ],["tableau10",Hs]]);function k9t(e){return e!=null&&Dk.has(`${e}`.toLowerCase())}const uO=new Map([...Dk,["brbg",rl(cD,uD)],["prgn",rl(dD,hD)],["piyg",rl(fD,mD)],["puor",rl(pD,gD)],["rdbu",rl(NM,$p)],["rdgy",rl(MD,AD)],["rdylbu",rl(FM,Gp)],["rdylgn",rl(yD,vD)],["spectral",rl(bD,CD)],["burd",dO(NM,$p)],["buylrd",dO(FM,Gp)],["blues",b9(JD,WD)],["greens",b9(qD,KD)],["greys",b9(XD,YD)],["oranges",b9(nP,rP)],["purples",b9(ZD,tP)],["reds",b9(eP,iP)],["turbo",al(dP)],["viridis",al(hP)],["magma",al(fP)],["inferno",al(mP)],["plasma",al(pP)],["cividis",al(aP)],["cubehelix",al(sP)],["warm",al(oP)],["cool",al(lP)],["bugn",b9(_D,ED)],["bupu",b9(wD,OD)],["gnbu",b9(xD,SD)],["orrd",b9(TD,ID)],["pubu",b9(DD,PD)],["pubugn",b9(BD,RD)],["purd",b9(LD,kD)],["rdpu",b9(ND,FD)],["ylgn",b9(GD,VD)],["ylgnbu",b9(UD,$D)],["ylorbr",b9(HD,QD)],["ylorrd",b9(zD,jD)],["rainbow",hO(cP)],["sinebow",hO(uP)]]);function b9(e,t){return({length:i})=>i===1?[e[3][1]]:i===2?[e[3][1],e[3][2]]:(i=Math.max(3,Math.floor(i)),i>9?H0(t,i):e[i])}function rl(e,t){return({length:i})=>i===2?[e[3][0],e[3][2]]:(i=Math.max(3,Math.floor(i)),i>11?H0(t,i):e[i])}function dO(e,t){return({length:i})=>i===2?[e[3][2],e[3][0]]:(i=Math.max(3,Math.floor(i)),i>11?H0(n=>t(1-n),i):e[i].slice().reverse())}function al(e){return({length:t})=>H0(e,Math.max(2,Math.floor(t)))}function hO(e){return({length:t})=>H0(e,Math.floor(t)+1).slice(0,-1)}function Pk(e){const t=`${e}`.toLowerCase();if(!uO.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return uO.get(t)}function h5(e,t){const i=Pk(e),n=typeof i=="function"?i({length:t}):i;return n.length!==t?n.slice(0,t):n}function N9t(e,t="greys"){const i=new Set,[n,a]=h5(t,2);for(const s of e)if(s!=null)if(s===!0)i.add(a);else if(s===!1)i.add(n);else return;return[...i]}const fO=new Map([["brbg",uD],["prgn",hD],["piyg",mD],["puor",gD],["rdbu",$p],["rdgy",AD],["rdylbu",Gp],["rdylgn",vD],["spectral",CD],["burd",e=>$p(1-e)],["buylrd",e=>Gp(1-e)],["blues",WD],["greens",KD],["greys",YD],["purples",tP],["reds",iP],["oranges",rP],["turbo",dP],["viridis",hP],["magma",fP],["inferno",mP],["plasma",pP],["cividis",aP],["cubehelix",sP],["warm",oP],["cool",lP],["bugn",ED],["bupu",OD],["gnbu",SD],["orrd",ID],["pubugn",RD],["pubu",PD],["purd",kD],["rdpu",FD],["ylgnbu",$D],["ylgn",VD],["ylorbr",QD],["ylorrd",jD],["rainbow",cP],["sinebow",uP]]);function Ky(e){const t=`${e}`.toLowerCase();if(!fO.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return fO.get(t)}const F9t=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function U9t(e){return e!=null&&F9t.has(`${e}`.toLowerCase())}const Lk=e=>t=>e(1-t),Tg=[0,1],mO=new Map([["number",j9],["rgb",nd],["hsl",Bq],["hcl",Pq],["lab",Rq]]);function kk(e){const t=`${e}`.toLowerCase();if(!mO.has(t))throw new Error(`unknown interpolator: ${t}`);return mO.get(t)}function bm(e,t,i,{type:n,nice:a,clamp:s,zero:l,domain:c=Fk(e,i),unknown:d,round:u,scheme:h,interval:g,range:m=$a.get(e)===Am?K9t(i,c):$a.get(e)===ym?X9t(i,c):$a.get(e)===vm?Tg:void 0,interpolate:M=$a.get(e)===Fl?h==null&&m!==void 0?nd:Ky(h!==void 0?h:n==="cyclical"?"rainbow":"turbo"):u?jA:j9,reverse:p}){if(g=Mf(g,n),(n==="cyclical"||n==="sequential")&&(n="linear"),typeof M!="function"&&(M=kk(M)),p=!!p,m!==void 0){const A=(c=Uc(c)).length,b=(m=Uc(m)).length;if(A!==b){if(M.length===1)throw new Error("invalid piecewise interpolator");M=D8(M,m),m=void 0}}if(M.length===1?(p&&(M=Lk(M),p=!1),m===void 0&&(m=Float64Array.from(c,(A,b)=>b/(c.length-1)),m.length===2&&(m=Tg)),t.interpolate((m===Tg?bl:Yy)(M))):t.interpolate(M),l){const[A,b]=Ua(c);(A>0||b<0)&&(c=y2(c),(Yh(c)||1)===Math.sign(A)?c[0]=0:c[c.length-1]=0)}return p&&(c=yp(c)),t.domain(c).unknown(d),a&&(t.nice($9t(a,n)),c=t.domain()),m!==void 0&&t.range(m),s&&t.clamp(s),{type:n,domain:c,range:m,scale:t,interpolate:M,interval:g}}function $9t(e,t){return e===!0?void 0:typeof e=="number"?e:Jat(e,t)}function G9t(e,t,i){return bm(e,im(),t,i)}function V9t(e,t,i){return Nk(e,t,{...i,exponent:.5})}function Nk(e,t,{exponent:i=1,...n}){return bm(e,VR().exponent(i),t,{...n,type:"pow"})}function H9t(e,t,{base:i=10,domain:n=Y9t(t),...a}){return bm(e,FR().base(i),t,{...a,domain:n})}function Q9t(e,t,{constant:i=1,...n}){return bm(e,$R().constant(i),t,n)}function z9t(e,t,{range:i,quantiles:n=i===void 0?5:(i=[...i]).length,n:a=n,scheme:s="rdylbu",domain:l=Z9t(t),unknown:c,interpolate:d,reverse:u}){return i===void 0&&(i=d!==void 0?H0(d,a):$a.get(e)===Fl?h5(s,a):void 0),l.length>0&&(l=HR(l,i===void 0?{length:a}:i).quantiles()),Xy(e,t,{domain:l,range:i,reverse:u,unknown:c})}function j9t(e,t,{range:i,n=i===void 0?5:(i=[...i]).length,scheme:a="rdylbu",domain:s=Fk(e,t),unknown:l,interpolate:c,reverse:d}){const[u,h]=Ua(s);let g;return i===void 0?(g=Nh(u,h,n),g[0]<=u&&g.splice(0,1),g[g.length-1]>=h&&g.pop(),n=g.length+1,i=c!==void 0?H0(c,n):$a.get(e)===Fl?h5(a,n):void 0):(g=H0(j9(u,h),n+1).slice(1,-1),u instanceof Date&&(g=g.map(m=>new Date(m)))),Yh(Uc(s))<0&&g.reverse(),Xy(e,t,{domain:g,range:i,reverse:d,unknown:l})}function Xy(e,t,{domain:i=[0],unknown:n,scheme:a="rdylbu",interpolate:s,range:l=s!==void 0?H0(s,i.length+1):$a.get(e)===Fl?h5(a,i.length+1):void 0,reverse:c}){i=Uc(i);const d=Yh(i);if(!isNaN(d)&&!J9t(i,d))throw new Error(`the ${e} scale has a non-monotonic domain`);return c&&(l=yp(l)),{type:"threshold",scale:QR(d<0?yp(i):i,l===void 0?[]:l).unknown(n),domain:i,range:l}}function J9t(e,t){for(let i=1,n=e.length,a=e[0];i<n;++i){const s=z2(a,a=e[i]);if(s!==0&&s!==t)return!1}return!0}function W9t(e){return{type:"identity",scale:s9t($a.get(e))?LR():t=>t}}function E2(e,t=qL){return e.length?[Y9(e,({value:i})=>i===void 0?i:Y9(i,t)),Ca(e,({value:i})=>i===void 0?i:Ca(i,t))]:[0,1]}function Fk(e,t){const i=$a.get(e);return(i===Am||i===vm||i===ym?q9t:E2)(t)}function q9t(e){return[0,e.length?Ca(e,({value:t})=>t===void 0?t:Ca(t,qL)):1]}function K9t(e,t){const i=e.find(({radius:l})=>l!==void 0);if(i!==void 0)return[0,i.radius];const n=Fh(e,.5,({value:l})=>l===void 0?NaN:Fh(l,.25,n5)),a=t.map(l=>3*Math.sqrt(l/n)),s=30/Ca(a);return s<1?a.map(l=>l*s):a}function X9t(e,t){const i=Uh(e,({value:s})=>s===void 0?NaN:Uh(s,Math.abs)),n=t.map(s=>12*s/i),a=60/Ca(n);return a<1?n.map(s=>s*a):n}function Y9t(e){for(const{value:t}of e)if(t!==void 0)for(let i of t){if(i>0)return E2(e,n5);if(i<0)return E2(e,Dy)}return[1,10]}function Z9t(e){const t=[];for(const{value:i}of e)if(i!==void 0)for(const n of i)t.push(n);return t}function Yy(e){return(t,i)=>n=>e(t+n*(i-t))}let nA=0,rA;function tst(){const e=nA;return nA=0,rA=void 0,e}function El(e){e!==rA&&(rA=e,console.warn(e),++nA)}function f5(e,t,i,n,{type:a,nice:s,clamp:l,domain:c=E2(n),unknown:d,pivot:u=0,scheme:h,range:g,symmetric:m=!0,interpolate:M=$a.get(e)===Fl?h==null&&g!==void 0?nd:Ky(h!==void 0?h:"rdbu"):j9,reverse:p}){u=+u,c=Uc(c);let[A,b]=c;if(c.length>2&&El(`Warning: the diverging ${e} scale domain contains extra elements.`),z2(A,b)<0&&([A,b]=[b,A],p=!p),A=Math.min(A,u),b=Math.max(b,u),typeof M!="function"&&(M=kk(M)),g!==void 0&&(M=M.length===1?Yy(M)(...g):D8(M,g)),p&&(M=Lk(M)),m){const v=i.apply(u),E=v-i.apply(A),x=i.apply(b)-v;E<x?A=i.invert(v-x):E>x&&(b=i.invert(v+E))}return t.domain([A,u,b]).unknown(d).interpolator(M),l&&t.clamp(l),s&&t.nice(s),{type:a,domain:[A,b],pivot:u,interpolate:M,scale:t}}function est(e,t,i){return f5(e,aD(),ast,t,i)}function ist(e,t,i){return Uk(e,t,{...i,exponent:.5})}function Uk(e,t,{exponent:i=1,...n}){return f5(e,lD().exponent(i=+i),lst(i),t,{...n,type:"diverging-pow"})}function nst(e,t,{base:i=10,pivot:n=1,domain:a=E2(t,n<0?Dy:n5),...s}){return f5(e,sD().base(i=+i),sst,t,{domain:a,pivot:n,...s})}function rst(e,t,{constant:i=1,...n}){return f5(e,oD().constant(i=+i),cst(i),t,n)}const ast={apply(e){return e},invert(e){return e}},sst={apply:Math.log,invert:Math.exp},ost={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function lst(e){return e===.5?ost:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function cst(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function $k(e,t,i,n){return bm(e,t,i,n)}function ust(e,t,i){return $k(e,gZ(),t,i)}function dst(e,t,i){return $k(e,MZ(),t,i)}const Cm=Symbol("ordinal");function Gk(e,t,i,{type:n,interval:a,domain:s,range:l,reverse:c,hint:d}){return a=Mf(a,n),s===void 0&&(s=Hk(i,a,e)),(n==="categorical"||n===Cm)&&(n="ordinal"),c&&(s=yp(s)),s=t.domain(s).domain(),l!==void 0&&(typeof l=="function"&&(l=l(s)),t.range(l)),{type:n,domain:s,range:l,scale:t,hint:d,interval:a}}function hst(e,t,{type:i,interval:n,domain:a,range:s,scheme:l,unknown:c,...d}){n=Mf(n,i),a===void 0&&(a=Hk(t,n,e));let u;if($a.get(e)===u5)u=pst(t),s=s===void 0?gst(u):r9(s,Qy);else if($a.get(e)===Fl&&(s===void 0&&(i==="ordinal"||i===Cm)&&(s=N9t(a,l),s!==void 0&&(l=void 0)),l===void 0&&s===void 0&&(l=i==="ordinal"?"turbo":"observable10"),l!==void 0))if(s!==void 0){const h=Ky(l),g=s[0],m=s[1]-s[0];s=({length:M})=>H0(p=>h(g+m*p),M)}else s=Pk(l);if(c===PM)throw new Error(`implicit unknown on ${e} scale is not supported`);return Gk(e,iy().unknown(c),t,{...d,type:i,domain:a,range:s,hint:u})}function fst(e,t,{align:i=.5,padding:n=.5,...a}){return Vk(XX().align(i).padding(n),t,a,e)}function mst(e,t,{align:i=.5,padding:n=.1,paddingInner:a=n,paddingOuter:s=e==="fx"||e==="fy"?0:n,...l}){return Vk(U8().align(i).paddingInner(a).paddingOuter(s),t,l,e)}function Vk(e,t,i,n){let{round:a}=i;return a!==void 0&&e.round(a=!!a),e=Gk(n,e,t,i),e.round=a,e}function Hk(e,t,i){const n=new J2;for(const{value:a,domain:s}of e){if(s!==void 0)return s();if(a!==void 0)for(const l of a)n.add(l)}if(t!==void 0){const[a,s]=Ua(n).map(t.floor,t);return t.range(a,t.offset(s))}if(n.size>1e4&&$a.get(i)===Co)throw new Error(`implicit ordinal domain of ${i} scale has more than 10,000 values`);return gp(n,j0)}function pO(e,t){let i;for(const{hint:n}of e){const a=n==null?void 0:n[t];if(a!==void 0){if(i===void 0)i=a;else if(i!==a)return}}return i}function pst(e){return{fill:pO(e,"fill"),stroke:pO(e,"stroke")}}function gst(e){return J9(e.fill)?$Z:UZ}function aA(e,{label:t,inset:i=0,insetTop:n=i,insetRight:a=i,insetBottom:s=i,insetLeft:l=i,round:c,nice:d,clamp:u,zero:h,align:g,padding:m,projection:M,facet:{label:p=t}={},...A}={}){const b={};for(const[v,E]of e){const x=A[v],_=vst(v,E,{round:$a.get(v)===Co?c:void 0,nice:d,clamp:u,zero:h,align:g,padding:m,projection:M,...x});if(_){let{label:C=v==="fx"||v==="fy"?p:t,percent:O,transform:I,inset:T,insetTop:D=T!==void 0?T:v==="y"?n:0,insetRight:P=T!==void 0?T:v==="x"?a:0,insetBottom:L=T!==void 0?T:v==="y"?s:0,insetLeft:N=T!==void 0?T:v==="x"?l:0}=x||{};if(I==null)I=void 0;else if(typeof I!="function")throw new Error("invalid scale transform; not a function");_.percent=!!O,_.label=C===void 0?Ast(E,_):C,_.transform=I,v==="x"||v==="fx"?(_.insetLeft=+N,_.insetRight=+P):(v==="y"||v==="fy")&&(_.insetTop=+D,_.insetBottom=+L),b[v]=_}}return b}function gO(e){const t={},i={scales:t};for(const[n,a]of Object.entries(e)){const{scale:s,type:l,interval:c,label:d}=a;t[n]=wst(a),i[n]=s,s.type=l,c!=null&&(s.interval=c),d!=null&&(s.label=d)}return i}function Mst(e,t){const{x:i,y:n,fx:a,fy:s}=e,l=a||s?Zy(t):t;a&&MO(a,l),s&&AO(s,l);const c=a||s?zk(e,t):t;i&&MO(i,c),n&&AO(n,c)}function Ast(e=[],t){let i;for(const{label:n}of e)if(n!==void 0){if(i===void 0)i=n;else if(i!==n)return}if(i!==void 0)return!gd(t)&&t.percent&&(i=`${i} (%)`),{inferred:!0,toString:()=>i}}function Qk(e){return Math.sign(Yh(e.domain()))*Math.sign(Yh(e.range()))}function Zy(e){const{marginTop:t,marginRight:i,marginBottom:n,marginLeft:a,width:s,height:l,facet:{marginTop:c,marginRight:d,marginBottom:u,marginLeft:h}}=e;return{marginTop:Math.max(t,c),marginRight:Math.max(i,d),marginBottom:Math.max(n,u),marginLeft:Math.max(a,h),width:s,height:l}}function zk({fx:e,fy:t},i){const{marginTop:n,marginRight:a,marginBottom:s,marginLeft:l,width:c,height:d}=Zy(i);return{marginTop:n,marginRight:a,marginBottom:s,marginLeft:l,width:e?e.scale.bandwidth()+l+a:c,height:t?t.scale.bandwidth()+n+s:d,facet:{width:c,height:d}}}function MO(e,t){if(e.range===void 0){const{insetLeft:i,insetRight:n}=e,{width:a,marginLeft:s=0,marginRight:l=0}=t,c=s+i,d=a-l-n;e.range=[c,Math.max(c,d)],gd(e)||(e.range=Jk(e)),e.scale.range(e.range)}jk(e)}function AO(e,t){if(e.range===void 0){const{insetTop:i,insetBottom:n}=e,{height:a,marginTop:s=0,marginBottom:l=0}=t,c=s+i,d=a-l-n;e.range=[Math.max(c,d),c],gd(e)?e.range.reverse():e.range=Jk(e),e.scale.range(e.range)}jk(e)}function jk(e){e.round===void 0&&Cst(e)&&yst(e)<=30&&e.scale.round(!0)}function yst({scale:e}){const t=e.domain().length,[i,n]=e.range(),a=e.paddingInner?e.paddingInner():1,s=e.paddingOuter?e.paddingOuter():e.padding(),l=t-a,c=Math.abs(n-i)/Math.max(1,l+s*2);return(c-Math.floor(c))*l}function Jk(e){const t=e.scale.domain().length+Wk(e);if(!(t>2))return e.range;const[i,n]=e.range;return Array.from({length:t},(a,s)=>i+s/(t-1)*(n-i))}function vst(e,t=[],i={}){const n=bst(e,t,i);if(i.type===void 0&&i.domain===void 0&&i.range===void 0&&i.interval==null&&e!=="fx"&&e!=="fy"&&gd({type:n})){const a=t.map(({value:s})=>s).filter(s=>s!==void 0);a.some(Is)?El(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${rh(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${rh(n)}".`):a.some(Kat)?El(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${rh(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${rh(n)}".`):a.some(Xat)&&El(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${rh(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${rh(n)}".`)}switch(i.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":i=R4(t,i,bo);break;case"identity":switch($a.get(e)){case Co:i=R4(t,i,bo);break;case u5:i=R4(t,i,_st);break}break;case"utc":case"time":i=R4(t,i,sk);break}switch(n){case"diverging":return est(e,t,i);case"diverging-sqrt":return ist(e,t,i);case"diverging-pow":return Uk(e,t,i);case"diverging-log":return nst(e,t,i);case"diverging-symlog":return rst(e,t,i);case"categorical":case"ordinal":case Cm:return hst(e,t,i);case"cyclical":case"sequential":case"linear":return G9t(e,t,i);case"sqrt":return V9t(e,t,i);case"threshold":return Xy(e,t,i);case"quantile":return z9t(e,t,i);case"quantize":return j9t(e,t,i);case"pow":return Nk(e,t,i);case"log":return H9t(e,t,i);case"symlog":return Q9t(e,t,i);case"utc":return dst(e,t,i);case"time":return ust(e,t,i);case"point":return fst(e,t,i);case"band":return mst(e,t,i);case"identity":return W9t(e);case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function rh(e){return typeof e=="symbol"?e.description:e}function yO(e){return typeof e=="string"?`${e}`.toLowerCase():e}const vO={toString:()=>"projection"};function bst(e,t,{type:i,domain:n,range:a,scheme:s,pivot:l,projection:c}){if(i=yO(i),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&c!=null&&(i=vO);for(const u of t){const h=yO(u.type);if(h!==void 0){if(i===void 0)i=h;else if(i!==h)throw new Error(`scale incompatible with channel: ${i} !== ${h}`)}}if(i===vO)return;if(i!==void 0)return i;if(n===void 0&&!t.some(({value:u})=>u!==void 0))return;const d=$a.get(e);if(d===Am)return"sqrt";if(d===vm||d===ym)return"linear";if(d===u5)return"ordinal";if((n||a||[]).length>2)return Ig(d);if(n!==void 0){if(aO(n))return Ig(d);if(Is(n))return"utc"}else{const u=t.map(({value:h})=>h).filter(h=>h!==void 0);if(u.some(aO))return Ig(d);if(u.some(Is))return"utc"}if(d===Fl){if(l!=null||U9t(s))return"diverging";if(k9t(s))return"categorical"}return"linear"}function Ig(e){switch(e){case Co:return"point";case Fl:return Cm;default:return"ordinal"}}function gd({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Cm}function Wk({type:e}){return e==="threshold"}function Cst({type:e}){return e==="point"||e==="band"}function To(e){if(e===void 0)return!0;const t=e.domain(),i=e(t[0]);for(let n=1,a=t.length;n<a;++n)if(e(t[n])-i)return!1;return!0}function R4(e,{domain:t,...i},n){var a;for(const s of e)s.value!==void 0&&(t===void 0&&(t=(a=s.value)==null?void 0:a.domain),s.value=n(s.value));return{domain:t===void 0?t:n(t),...i}}function _st(e){return r9(e,Qy)}function Est(e){return t=>{if(!$a.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function wst({scale:e,type:t,domain:i,range:n,interpolate:a,interval:s,transform:l,percent:c,pivot:d}){if(t==="identity")return{type:"identity",apply:h=>h,invert:h=>h};const u=e.unknown?e.unknown():void 0;return{type:t,domain:y2(i),...n!==void 0&&{range:y2(n)},...l!==void 0&&{transform:l},...c&&{percent:c},...u!==void 0&&{unknown:u},...s!==void 0&&{interval:s},...a!==void 0&&{interpolate:a},...e.clamp&&{clamp:e.clamp()},...d!==void 0&&{pivot:d,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:h=>e(h),...e.invert&&{invert:h=>e.invert(h)}}}function Ost(e,t){const{fx:i,fy:n}=aA(e,t),a=i==null?void 0:i.scale.domain(),s=n==null?void 0:n.scale.domain();return a&&s?Wj(a,s).map(([l,c],d)=>({x:l,y:c,i:d})):a?a.map((l,c)=>({x:l,i:c})):s?s.map((l,c)=>({y:l,i:c})):void 0}function xst(e,{x:t,y:i}){return t&&(t=sA(t)),i&&(i=sA(i)),e.filter(t&&i?n=>t.has(n.x)&&i.has(n.y):t?n=>t.has(n.x):n=>i.has(n.y)).sort(t&&i?(n,a)=>t.get(n.x)-t.get(a.x)||i.get(n.y)-i.get(a.y):t?(n,a)=>t.get(n.x)-t.get(a.x):(n,a)=>i.get(n.y)-i.get(a.y))}function tv(e,{fx:t,fy:i}){const n=Nl(e),a=t==null?void 0:t.value,s=i==null?void 0:i.value;return t&&i?yh(n,l=>(l.fx=a[l[0]],l.fy=s[l[0]],l),l=>a[l],l=>s[l]):t?yh(n,l=>(l.fx=a[l[0]],l),l=>a[l]):yh(n,l=>(l.fy=s[l[0]],l),l=>s[l])}function Sst(e,t,{marginTop:i,marginLeft:n}){return e&&t?({x:a,y:s})=>`translate(${e(a)-n},${t(s)-i})`:e?({x:a})=>`translate(${e(a)-n},0)`:({y:a})=>`translate(0,${t(a)-i})`}function Tst(e){const t=[],i=new Uint32Array(Rc(e,n=>n.length));for(const n of e){let a=0;for(const s of e)n!==s&&(i.set(s,a),a+=s.length);t.push(i.slice(0,a))}return t}const Ist=new Map([["top",Bg],["right",Pg],["bottom",Rg],["left",Dg],["top-left",D4(Bg,Dg)],["top-right",D4(Bg,Pg)],["bottom-left",D4(Rg,Dg)],["bottom-right",D4(Rg,Pg)],["top-empty",Dst],["right-empty",kst],["bottom-empty",Pst],["left-empty",Lst],["empty",Nst]]);function Bst(e){if(e==null)return null;const t=Ist.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const bO=new WeakMap;function sA(e){let t=bO.get(e);return t||bO.set(e,t=new td(r9(e,(i,n)=>[i,n]))),t}function Wc(e,t){return sA(e).get(t)}function Rst(e,t,i){return t=Cl(t),i=Cl(i),e.find(n=>Object.is(Cl(n.x),t)&&Object.is(Cl(n.y),i))}function m5(e,t,i){var n;return(n=Rst(e,t,i))==null?void 0:n.empty}function Bg(e,{y:t},{y:i}){return t?Wc(t,i)===0:!0}function Rg(e,{y:t},{y:i}){return t?Wc(t,i)===t.length-1:!0}function Dg(e,{x:t},{x:i}){return t?Wc(t,i)===0:!0}function Pg(e,{x:t},{x:i}){return t?Wc(t,i)===t.length-1:!0}function Dst(e,{y:t},{x:i,y:n,empty:a}){if(a)return!1;if(!t)return;const s=Wc(t,n);if(s>0)return m5(e,i,t[s-1])}function Pst(e,{y:t},{x:i,y:n,empty:a}){if(a)return!1;if(!t)return;const s=Wc(t,n);if(s<t.length-1)return m5(e,i,t[s+1])}function Lst(e,{x:t},{x:i,y:n,empty:a}){if(a)return!1;if(!t)return;const s=Wc(t,i);if(s>0)return m5(e,t[s-1],n)}function kst(e,{x:t},{x:i,y:n,empty:a}){if(a)return!1;if(!t)return;const s=Wc(t,i);if(s<t.length-1)return m5(e,t[s+1],n)}function Nst(e,t,{empty:i}){return i}function D4(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function Lg(e,{channels:{fx:t,fy:i},groups:n}){return t&&i?e.map(({x:a,y:s})=>{var l;return((l=n.get(a))==null?void 0:l.get(s))??[]}):t?e.map(({x:a})=>n.get(a)??[]):e.map(({y:a})=>n.get(a)??[])}const qk=Math.PI,sl=2*qk,kg=.618;function Fst({projection:e,inset:t=0,insetTop:i=t,insetRight:n=t,insetBottom:a=t,insetLeft:s=t}={},l){if(e==null)return;if(typeof e.stream=="function")return e;let c,d,u="frame";if(kl(e)){let C;if({type:e,domain:d,inset:C,insetTop:i=C!==void 0?C:i,insetRight:n=C!==void 0?C:n,insetBottom:a=C!==void 0?C:a,insetLeft:s=C!==void 0?C:s,clip:u=u,...c}=e,e==null)return}typeof e!="function"&&({type:e}=oA(e));const{width:h,height:g,marginLeft:m,marginRight:M,marginTop:p,marginBottom:A}=l,b=h-m-M-s-n,v=g-p-A-i-a;if(e=e==null?void 0:e({width:b,height:v,clip:u,...c}),e==null)return;u=Ust(u,m,p,h-M,g-A);let E=m+s,x=p+i,_;if(d!=null){const[[C,O],[I,T]]=Y2(e).bounds(d),D=Math.min(b/(I-C),v/(T-O));D>0?(E-=(D*(C+I)-b)/2,x-=(D*(O+T)-v)/2,_=RM({point(P,L){this.stream.point(P*D+E,L*D+x)}})):El("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=E===0&&x===0?Kk():RM({point(C,O){this.stream.point(C+E,O+x)}})),{stream:C=>e.stream(_.stream(u(C)))}}function oA(e){switch(`${e}`.toLowerCase()){case"albers-usa":return B0(kX,.7463,.4673);case"albers":return P4(_R,.7463,.4673);case"azimuthal-equal-area":return B0(NX,4,4);case"azimuthal-equidistant":return B0(FX,sl,sl);case"conic-conformal":return P4(GX,sl,sl);case"conic-equal-area":return P4(kp,6.1702,2.9781);case"conic-equidistant":return P4(QX,7.312,3.6282);case"equal-earth":return B0(jX,5.4133,2.6347);case"equirectangular":return B0(VX,sl,qk);case"gnomonic":return B0(JX,3.4641,3.4641);case"identity":return{type:Kk};case"reflect-y":return{type:$st};case"mercator":return B0(UX,sl,sl);case"orthographic":return B0(WX,2,2);case"stereographic":return B0(qX,2,2);case"transverse-mercator":return B0(KX,sl,sl);default:throw new Error(`unknown projection type: ${e}`)}}function Ust(e,t,i,n,a){if(e===!1||e==null||typeof e=="number")return s=>s;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return oR(t,i,n,a);default:throw new Error(`unknown projection clip type: ${e}`)}}function B0(e,t,i){return{type:({width:n,height:a,rotate:s,precision:l=.15,clip:c})=>{var u,h,g;const d=e();return l!=null&&((u=d.precision)==null||u.call(d,l)),s!=null&&((h=d.rotate)==null||h.call(d,s)),typeof c=="number"&&((g=d.clipAngle)==null||g.call(d,c)),n!=null&&(d.scale(Math.min(n/t,a/i)),d.translate([n/2,a/2])),d},aspectRatio:i/t}}function P4(e,t,i){const{type:n,aspectRatio:a}=B0(e,t,i);return{type:s=>{const{parallels:l,domain:c,width:d,height:u}=s,h=n(s);return l!=null&&(h.parallels(l),c===void 0&&d!=null&&h.fitSize([d,u],{type:"Sphere"})),h},aspectRatio:a}}const Kk=bl({stream:e=>e}),$st=bl(RM({point(e,t){this.stream.point(e,-t)}}));function Gst(e,t,i,n){const a=i[e],s=i[t],l=a.length,c=i[e]=new Float64Array(l).fill(NaN),d=i[t]=new Float64Array(l).fill(NaN);let u;const h=n.stream({point(g,m){c[u]=g,d[u]=m}});for(u=0;u<l;++u)h.point(a[u],s[u])}function Vst({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(kl(e)&&(e=e.type),e!=null)}function Hst(e){if(typeof(e==null?void 0:e.stream)=="function")return kg;if(kl(e)){let t,i;if({domain:t,type:e,...i}=e,t!=null&&e!=null){const n=typeof e=="string"?oA(e).type:e,[[a,s],[l,c]]=Y2(n({...i,width:100,height:100})).bounds(t),d=(c-s)/(l-a);return d&&isFinite(d)?d<.2?.2:d>5?5:d:kg}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=oA(e);if(t)return t}return kg}}function Qst(e){const t=[],i=[],n={scale:"x",value:t},a={scale:"y",value:i},s={point(l,c){t.push(l),i.push(c)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const l of e.value)Pu(l,s);return[n,a]}function ev(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:i}=e;return{document:t,clip:Mk(i)}}function Da(e,{document:t}){return vh(I8(e).call(t.documentElement))}const lA=Symbol("unset");function iv(e){return(e.length===1?zst:jst)(e)}function zst(e){let t,i=lA;return n=>(Object.is(i,n)||(i=n,t=e(n)),t)}function jst(e){let t,i;return(...n)=>(((i==null?void 0:i.length)!==n.length||i.some((a,s)=>!Object.is(a,n[s])))&&(i=n,t=e(...n)),t)}const Jst=iv(e=>new Intl.NumberFormat(e));iv((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));iv((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function Wst(e="en-US"){const t=Jst(e);return i=>i!=null&&!isNaN(i)?t.format(i):void 0}function qst(e){return Dat(e,"Invalid Date")}function Kst(e="en-US"){const t=Wst(e);return i=>(i instanceof Date?qst:typeof i=="number"?t:ds)(i)}const nf=Kst(),ws=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Xst=0,Yst=0;function Xk(){return`plot-clip-${++Xst}`}function Zst(){return`plot-pattern-${++Yst}`}function t0t(e,{title:t,href:i,ariaLabel:n,ariaDescription:a,ariaHidden:s,target:l,fill:c,fillOpacity:d,stroke:u,strokeWidth:h,strokeOpacity:g,strokeLinejoin:m,strokeLinecap:M,strokeMiterlimit:p,strokeDasharray:A,strokeDashoffset:b,opacity:v,mixBlendMode:E,imageFilter:x,paintOrder:_,pointerEvents:C,shapeRendering:O,channels:I},{ariaLabel:T,fill:D="currentColor",fillOpacity:P,stroke:L="none",strokeOpacity:N,strokeWidth:U,strokeLinecap:$,strokeLinejoin:F,strokeMiterlimit:j,paintOrder:z}){D===null&&(c=null,d=null),L===null&&(u=null,g=null),J9(D)?!J9(L)&&(!J9(c)||I!=null&&I.fill)&&(L="none"):J9(L)&&(!J9(u)||I!=null&&I.stroke)&&(D="none");const[Q,V]=_0(c,D),[q,J]=hs(d,P),[W,et]=_0(u,L),[mt,ot]=hs(g,N),[pt,wt]=hs(v);C2(et)||(h===void 0&&(h=U),M===void 0&&(M=$),m===void 0&&(m=F),p===void 0&&!e9t(m)&&(p=j),!C2(V)&&_===void 0&&(_=z));const[Mt,xt]=hs(h);return D!==null&&(e.fill=P9(V,"currentColor"),e.fillOpacity=E1(J,1)),L!==null&&(e.stroke=P9(et,"none"),e.strokeWidth=E1(xt,1),e.strokeOpacity=E1(ot,1),e.strokeLinejoin=P9(m,"miter"),e.strokeLinecap=P9(M,"butt"),e.strokeMiterlimit=E1(p,4),e.strokeDasharray=P9(A,"none"),e.strokeDashoffset=P9(b,"0")),e.target=ds(l),e.ariaLabel=ds(T),e.ariaDescription=ds(a),e.ariaHidden=ds(s),e.opacity=E1(wt,1),e.mixBlendMode=P9(E,"normal"),e.imageFilter=P9(x,"none"),e.paintOrder=P9(_,"normal"),e.pointerEvents=P9(C,"auto"),e.shapeRendering=P9(O,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:i,optional:!0,filter:null},ariaLabel:{value:n,optional:!0,filter:null},fill:{value:Q,scale:"auto",optional:!0},fillOpacity:{value:q,scale:"auto",optional:!0},stroke:{value:W,scale:"auto",optional:!0},strokeOpacity:{value:mt,scale:"auto",optional:!0},strokeWidth:{value:Mt,optional:!0},opacity:{value:pt,scale:"auto",optional:!0}}}function e0t(e,t){t&&e.filter(i=>Ry(t[i])).append("title").call(n0t,t)}function i0t(e,t){t&&e.filter(([i])=>Ry(t[i])).append("title").call(r0t,t)}function n0t(e,t){t&&e.text(i=>nf(t[i]))}function r0t(e,t){t&&e.text(([i])=>nf(t[i]))}function Ys(e,{target:t,tip:i},{ariaLabel:n,title:a,fill:s,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:u,opacity:h,href:g}){n&&Gn(e,"aria-label",m=>n[m]),s&&Gn(e,"fill",m=>s[m]),l&&Gn(e,"fill-opacity",m=>l[m]),c&&Gn(e,"stroke",m=>c[m]),d&&Gn(e,"stroke-opacity",m=>d[m]),u&&Gn(e,"stroke-width",m=>u[m]),h&&Gn(e,"opacity",m=>h[m]),g&&eN(e,m=>g[m],t),i||e0t(e,a)}function Yk(e,{target:t,tip:i},{ariaLabel:n,title:a,fill:s,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:u,opacity:h,href:g}){n&&Gn(e,"aria-label",([m])=>n[m]),s&&Gn(e,"fill",([m])=>s[m]),l&&Gn(e,"fill-opacity",([m])=>l[m]),c&&Gn(e,"stroke",([m])=>c[m]),d&&Gn(e,"stroke-opacity",([m])=>d[m]),u&&Gn(e,"stroke-width",([m])=>u[m]),h&&Gn(e,"opacity",([m])=>h[m]),g&&eN(e,([m])=>g[m],t),i||i0t(e,a)}function a0t({ariaLabel:e,title:t,fill:i,fillOpacity:n,stroke:a,strokeOpacity:s,strokeWidth:l,opacity:c,href:d},{tip:u}){return[e,u?void 0:t,i,n,a,s,l,c,d].filter(h=>h!==void 0)}function s0t(e,t,i){const n=W2(e,a=>t[a]);return i===void 0&&n.size>1+e.length>>1&&El("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),n.values()}function*Zk(e,t,i,n){const{z:a}=i,{z:s}=n,l=a0t(n,i),c=[...t,...l];for(const d of s?s0t(e,s,a):[e]){let u,h;t:for(const g of d){for(const m of c)if(!Ws(m[g])){h&&h.push(-1);continue t}if(u===void 0){h&&(yield h),u=l.map(m=>Cl(m[g])),h=[g];continue}h.push(g);for(let m=0;m<l.length;++m)if(Cl(l[m][g])!==u[m]){yield h,u=l.map(p=>Cl(p[g])),h=[g];continue t}}h&&(yield h)}}function o0t(e,t,i,n){let a;const{clip:s=n.clip}=t;switch(s){case"frame":{e=Da("svg:g",n).each(function(){this.appendChild(e.node()),e.node=()=>this}),a=l0t(n,i);break}case"sphere":{a=c0t(n);break}}Gn(e,"aria-label",t.ariaLabel),Gn(e,"aria-description",t.ariaDescription),Gn(e,"aria-hidden",t.ariaHidden),Gn(e,"clip-path",a)}function tN(e){const t=new WeakMap;return(i,n)=>{let a=t.get(i);if(!a){const s=Xk();vh(i.ownerSVGElement).append("clipPath").attr("id",s).call(e,i,n),t.set(i,a=`url(#${s})`)}return a}}const l0t=tN((e,t,i)=>{const{width:n,height:a,marginLeft:s,marginRight:l,marginTop:c,marginBottom:d}=i;e.append("rect").attr("x",s).attr("y",c).attr("width",n-l-s).attr("height",a-c-d)}),c0t=tN((e,t)=>{const{projection:i}=t;if(!i)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",Y2(i)({type:"Sphere"}))});function Rs(e,t,i,n){o0t(e,t,i,n),Gn(e,"class",t.className),Gn(e,"fill",t.fill),Gn(e,"fill-opacity",t.fillOpacity),Gn(e,"stroke",t.stroke),Gn(e,"stroke-width",t.strokeWidth),Gn(e,"stroke-opacity",t.strokeOpacity),Gn(e,"stroke-linejoin",t.strokeLinejoin),Gn(e,"stroke-linecap",t.strokeLinecap),Gn(e,"stroke-miterlimit",t.strokeMiterlimit),Gn(e,"stroke-dasharray",t.strokeDasharray),Gn(e,"stroke-dashoffset",t.strokeDashoffset),Gn(e,"shape-rendering",t.shapeRendering),Gn(e,"filter",t.imageFilter),Gn(e,"paint-order",t.paintOrder);const{pointerEvents:a=n.pointerSticky===!1?"none":void 0}=t;Gn(e,"pointer-events",a)}function Z9(e,t){u0t(e,"mix-blend-mode",t.mixBlendMode),Gn(e,"opacity",t.opacity)}function eN(e,t,i){e.each(function(n){const a=t(n);if(a!=null){const s=this.ownerDocument.createElementNS(Dc.svg,"a");s.setAttribute("fill","inherit"),s.setAttributeNS(Dc.xlink,"href",a),i!=null&&s.setAttribute("target",i),this.parentNode.insertBefore(s,this).appendChild(this)}})}function Gn(e,t,i){i!=null&&e.attr(t,i)}function u0t(e,t,i){i!=null&&e.style(t,i)}function ps(e,t,{x:i,y:n},a=ws,s=ws){a+=t.dx,s+=t.dy,i!=null&&i.bandwidth&&(a+=i.bandwidth()/2),n!=null&&n.bandwidth&&(s+=n.bandwidth()/2),(a||s)&&e.attr("transform",`translate(${a},${s})`)}function P9(e,t){if((e=ds(e))!==t)return e}function E1(e,t){if((e=O9(e))!==t)return e}const d0t=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function p5(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!d0t.test(e))throw new Error(`invalid class name: ${e}`);return e}function nv(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const i of e)Object.assign(i.style,t)}function _m({frameAnchor:e},{width:t,height:i,marginTop:n,marginRight:a,marginBottom:s,marginLeft:l}){return[/left$/.test(e)?l:/right$/.test(e)?t-a:(l+t-a)/2,/^top/.test(e)?n:/^bottom/.test(e)?i-s:(n+i-s)/2]}class es{constructor(t,i={},n={},a){const{facet:s="auto",facetAnchor:l,fx:c,fy:d,sort:u,dx:h=0,dy:g=0,margin:m=0,marginTop:M=m,marginRight:p=m,marginBottom:A=m,marginLeft:b=m,className:v,clip:E=a==null?void 0:a.clip,channels:x,tip:_,render:C}=n;if(this.data=t,this.sort=tf(u)?u:null,this.initializer=ef(n).initializer,this.transform=this.initializer?n.transform:yf(n).transform,s===null||s===!1?this.facet=null:(this.facet=Y0(s===!0?"include":s,"facet",["auto","include","exclude","super"]),this.fx=t===cp&&typeof c=="string"?[c]:c,this.fy=t===cp&&typeof d=="string"?[d]:d),this.facetAnchor=Bst(l),i=gk(i),x!==void 0&&(i={...h0t(x),...i}),a!==void 0&&(i={...t0t(this,n,a),...i}),this.channels=Object.fromEntries(Object.entries(i).map(([O,I])=>{if(a5(I.value)){const{value:T,label:D=I.label,scale:P=I.scale}=I.value;I={...I,label:D,scale:P,value:T}}if(t===cp&&typeof I.value=="string"){const{value:T}=I;I={...I,value:[T]}}return[O,I]}).filter(([O,{value:I,optional:T}])=>{if(I!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${O}`)})),this.dx=+h,this.dy=+g,this.marginTop=+M,this.marginRight=+p,this.marginBottom=+A,this.marginLeft=+b,this.clip=Mk(E),this.tip=f0t(_),this.className=v?p5(v):null,this.facet==="super"){if(c||d)throw new Error("super-faceting cannot use fx or fy");for(const O in this.channels){const{scale:I}=i[O];if(!(I!=="x"&&I!=="y"))throw new Error("super-faceting cannot use x or y")}}C!=null&&(this.render=rf(C,this.render))}initialize(t,i,n){let a=Zh(this.data);t===void 0&&a!=null&&(t=[Nl(a)]);const s=t;this.transform!=null&&({facets:t,data:a}=this.transform(a,t,n),a=Zh(a)),t!==void 0&&(t.original=s);const l=I9t(this.channels,a);return this.sort!=null&&R9t(a,t,l,i,this.sort),{data:a,facets:t,channels:l}}filter(t,i,n){for(const a in i){const{filter:s=Ws}=i[a];if(s!==null){const l=n[a];t=t.filter(c=>s(l[c]))}}return t}project(t,i,n){for(const a in t)if(t[a].scale==="x"&&/^x|x$/.test(a)){const s=a.replace(/^x|x$/,"y");s in t&&t[s].scale==="y"&&Gst(a,s,i,n.projection)}}scale(t,i,n){const a=B9t(t,i);return n.projection&&this.project(t,a,n),a}}function rv(...e){return e.plot=es.prototype.plot,e}function rf(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(i,n,a,s,l,c){return e.call(this,i,n,a,s,l,(d,u,h,g,m)=>t.call(this,d,u,h,g,m,c))}}function h0t(e){return Object.fromEntries(Object.entries(gk(e)).map(([t,i])=>(i=typeof i=="string"?{value:i,label:t}:Af(i),i.filter===void 0&&i.scale==null&&(i={...i,filter:null}),[t,i])))}function f0t(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?Y0(e,"tip",["x","y","xy"]):e}function vf(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:kl(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function m0t(e,t,i={}){let n=.5-ws,a=.5+ws,s=.5+ws,l=.5-ws;for(const{marginTop:A,marginRight:b,marginBottom:v,marginLeft:E}of t)A>n&&(n=A),b>a&&(a=b),v>s&&(s=v),E>l&&(l=E);let{margin:c,marginTop:d=c!==void 0?c:n,marginRight:u=c!==void 0?c:a,marginBottom:h=c!==void 0?c:s,marginLeft:g=c!==void 0?c:l}=i;d=+d,u=+u,h=+h,g=+g;let{width:m=640,height:M=p0t(e,i,{width:m,marginTopDefault:n,marginRightDefault:a,marginBottomDefault:s,marginLeftDefault:l})+Math.max(0,d-n+h-s)}=i;m=+m,M=+M;const p={width:m,height:M,marginTop:d,marginRight:u,marginBottom:h,marginLeft:g};if(e.fx||e.fy){let{margin:A,marginTop:b=A!==void 0?A:d,marginRight:v=A!==void 0?A:u,marginBottom:E=A!==void 0?A:h,marginLeft:x=A!==void 0?A:g}=i.facet??{};b=+b,v=+v,E=+E,x=+x,p.facet={marginTop:b,marginRight:v,marginBottom:E,marginLeft:x}}return p}function p0t({x:e,y:t,fy:i,fx:n},{projection:a,aspectRatio:s},{width:l,marginTopDefault:c,marginRightDefault:d,marginBottomDefault:u,marginLeftDefault:h}){const g=i&&i.scale.domain().length||1,m=Hst(a);if(m){const p=n?n.scale.domain().length:1,A=(1.1*g-.1)/(1.1*p-.1)*m,b=Math.max(.1,Math.min(10,A));return Math.round((l-h-d)*b+c+u)}const M=t?gd(t)?t.scale.domain().length||1:Math.max(7,17/g):1;if(s!=null){if(s=+s,!(isFinite(s)&&s>0))throw new Error(`invalid aspectRatio: ${s}`);const p=CO("y",t)/(CO("x",e)*s),A=n?n.scale.bandwidth():1,b=i?i.scale.bandwidth():1,v=A*(l-h-d)-e.insetLeft-e.insetRight;return(p*v+t.insetTop+t.insetBottom)/b+c+u}return!!(t||i)*Math.max(1,Math.min(60,M*g))*20+!!n*30+60}function CO(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:i,domain:n}=t;let a;switch(i){case"linear":case"utc":case"time":a=Number;break;case"pow":{const c=t.scale.exponent();a=d=>Math.pow(d,c);break}case"log":a=Math.log;break;case"point":case"band":return n.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${i}`)}const[s,l]=Ua(n);return Math.abs(a(l)-a(s))}const _O=new WeakMap;function av(e,t,{x:i,y:n,px:a,py:s,maxRadius:l=40,channels:c,render:d,...u}={}){return l=+l,a!=null&&(i??(i=null),c={...c,px:{value:a,scale:"x"}}),s!=null&&(n??(n=null),c={...c,py:{value:s,scale:"y"}}),{x:i,y:n,channels:c,...u,render:rf(function(h,g,m,M,p,A){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:v}=p.getMarkState(this);let E=_O.get(b);E||_O.set(b,E={sticky:!1,roots:[],renders:[]});let x=E.renders.push(et)-1;const{x:_,y:C,fx:O,fy:I}=g;let T=O?O(h.fx)-M.marginLeft:0,D=I?I(h.fy)-M.marginTop:0;_!=null&&_.bandwidth&&(T+=_.bandwidth()/2),C!=null&&C.bandwidth&&(D+=C.bandwidth()/2);const P=h.fi!=null;let L;if(P){let wt=E.facetStates;wt||(E.facetStates=wt=new Map),L=wt.get(this),L||wt.set(this,L=new Map)}const[N,U]=_m(this,M),{px:$,py:F}=m,j=$?wt=>$[wt]:iN(m,N),z=F?wt=>F[wt]:nN(m,U);let Q,V,q,J;function W(wt,Mt){if(P)if(J&&(J=cancelAnimationFrame(J)),wt==null)L.delete(h.fi);else{L.set(h.fi,Mt),J=requestAnimationFrame(()=>{J=null;for(const[xt,dt]of L)if(dt<Mt||dt===Mt&&xt<h.fi){wt=null;break}et(wt)});return}et(wt)}function et(wt){if(Q===wt&&q===E.sticky)return;Q=wt,q=p.pointerSticky=E.sticky;const Mt=Q==null?[]:[Q];P&&(Mt.fx=h.fx,Mt.fy=h.fy,Mt.fi=h.fi);const xt=A(Mt,g,m,M,p);if(V){if(P){const dt=V.parentNode,Ot=V.getAttribute("transform"),At=xt.getAttribute("transform");Ot?xt.setAttribute("transform",Ot):xt.removeAttribute("transform"),At?dt.setAttribute("transform",At):dt.removeAttribute("transform"),xt.removeAttribute("aria-label"),xt.removeAttribute("aria-description"),xt.removeAttribute("aria-hidden")}V.replaceWith(xt)}if(E.roots[x]=V=xt,!(Q==null&&(L==null?void 0:L.size)>1)){const dt=Q==null?null:pd(v)?v[Q]:v.get(Q);p.dispatchValue(dt)}return xt}function mt(wt){if(E.sticky||wt.pointerType==="mouse"&&wt.buttons===1)return;let[Mt,xt]=ZW(wt);Mt-=T,xt-=D;const dt=Mt<M.marginLeft||Mt>M.width-M.marginRight?1:e,Ot=xt<M.marginTop||xt>M.height-M.marginBottom?1:t;let At=null,jt=l*l;for(const bt of h){const kt=dt*(j(bt)-Mt),Dt=Ot*(z(bt)-xt),Xt=kt*kt+Dt*Dt;Xt<=jt&&(At=bt,jt=Xt)}if(At!=null&&(e!==1||t!==1)){const bt=j(At)-Mt,kt=z(At)-xt;jt=bt*bt+kt*kt}W(At,jt)}function ot(wt){wt.pointerType==="mouse"&&Q!=null&&(E.sticky&&E.roots.some(Mt=>Mt==null?void 0:Mt.contains(wt.target))||(E.sticky?(E.sticky=!1,E.renders.forEach(Mt=>Mt(null))):(E.sticky=!0,et(Q)),wt.stopImmediatePropagation()))}function pt(wt){wt.pointerType==="mouse"&&(E.sticky||W(null))}return b.addEventListener("pointerenter",mt),b.addEventListener("pointermove",mt),b.addEventListener("pointerdown",ot),b.addEventListener("pointerleave",pt),et(null)},d)}}function g0t(e){return av(1,1,e)}function M0t(e){return av(1,.01,e)}function EO(e){return av(.01,1,e)}function iN({x1:e,x2:t,x:i=e},n){return e&&t?a=>(e[a]+t[a])/2:i?a=>i[a]:()=>n}function nN({y1:e,y2:t,y:i=e},n){return e&&t?a=>(e[a]+t[a])/2:i?a=>i[a]:()=>n}function rN(e){return gd(e)&&e.interval===void 0?void 0:"tabular-nums"}function A0t(e,t){let{label:i=e.label,tickSize:n=6,width:a=240,height:s=44+n,marginTop:l=18,marginRight:c=0,marginBottom:d=16+n,marginLeft:u=0,style:h,ticks:g=(a-u-c)/64,tickFormat:m,fontVariant:M=rN(e),round:p=!0,opacity:A,className:b}=t;const v=ev(t);b=p5(b),A=hs(A)[1],m===null&&(m=()=>null);const E=Da("svg",v).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",a).attr("height",s).attr("viewBox",`0 0 ${a} ${s}`).call(N=>N.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(nv,h);let x=N=>N.selectAll(".tick line").attr("y1",l+d-s),_;const C=p?(N,U)=>N.rangeRound(U):(N,U)=>N.range(U),{type:O,domain:I,range:T,interpolate:D,scale:P,pivot:L}=e;if(D){const N=T===void 0?D:D8(D.length===1?Yy(D):D,T);_=C(P.copy(),H0(j9(u,a-c),Math.min(I.length+(L!==void 0),T===void 0?1/0:T.length)));const U=256,$=v.document.createElement("canvas");$.width=U,$.height=1;const F=$.getContext("2d");for(let j=0,z=U-1;j<U;++j)F.fillStyle=N(j/z),F.fillRect(j,0,1,1);E.append("image").attr("opacity",A).attr("x",u).attr("y",l).attr("width",a-u-c).attr("height",s-l-d).attr("preserveAspectRatio","none").attr("xlink:href",$.toDataURL())}else if(O==="threshold"){const N=I,U=m===void 0?$=>$:typeof m=="string"?pf(m):m;_=C(im().domain([-1,T.length-1]),[u,a-c]),E.append("g").attr("fill-opacity",A).selectAll().data(T).enter().append("rect").attr("x",($,F)=>_(F-1)).attr("y",l).attr("width",($,F)=>_(F)-_(F-1)).attr("height",s-l-d).attr("fill",$=>$),g=r9(N,($,F)=>F),m=$=>U(N[$],$)}else _=C(U8().domain(I),[u,a-c]),E.append("g").attr("fill-opacity",A).selectAll().data(I).enter().append("rect").attr("x",_).attr("y",l).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",s-l-d).attr("fill",P),x=()=>{};return E.append("g").attr("transform",`translate(0,${s-d})`).call(gJ(_).ticks(Array.isArray(g)?null:g,typeof m=="string"?m:void 0).tickFormat(typeof m=="function"?m:void 0).tickSize(n).tickValues(Array.isArray(g)?g:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",P9(M,"normal")).call(x).call(N=>N.select(".domain").remove()),i!==void 0&&E.append("text").attr("x",u).attr("y",l-6).attr("fill","currentColor").attr("font-weight","bold").text(i),E.node()}const aN=Math.PI/180;function Em(e,{marker:t,markerStart:i=t,markerMid:n=t,markerEnd:a=t}={}){e.markerStart=Ng(i),e.markerMid=Ng(n),e.markerEnd=Ng(a)}function Ng(e){if(e==null||e===!1)return null;if(e===!0)return OO;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return wO("auto");case"arrow-reverse":return wO("auto-start-reverse");case"dot":return y0t;case"circle":case"circle-fill":return OO;case"circle-stroke":return v0t;case"tick":return Fg("auto");case"tick-x":return Fg(90);case"tick-y":return Fg(0)}throw new Error(`invalid marker: ${e}`)}function wO(e){return(t,i)=>Da("svg:marker",i).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function y0t(e,t){return Da("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(i=>i.append("circle").attr("r",2.5)).node()}function OO(e,t){return Da("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(i=>i.append("circle").attr("r",3)).node()}function v0t(e,t){return Da("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(i=>i.append("circle").attr("r",3)).node()}function Fg(e){return(t,i)=>Da("svg:marker",i).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(n=>n.append("path").attr("d","M0,-3v6")).node()}let b0t=0;function g5(e,t,{stroke:i},n){return oN(e,t,i&&(a=>i[a]),null,n)}function C0t(e,t,{stroke:i,z:n},a){return oN(e,t,i&&(([s])=>i[s]),n,a)}const cA=1,sN=2;function _0t(e,t){const i=new Uint8Array(t.length),n=e.data().filter(s=>s.length>1),a=n.length;for(let s=0,l=lA;s<a;++s){const c=n[s];if(c.length>1){const d=c[0];l!==(l=Cl(t[d]))&&(i[d]|=cA)}}for(let s=a-1,l=lA;s>=0;--s){const c=n[s];if(c.length>1){const d=c[0];l!==(l=Cl(t[d]))&&(i[d]|=sN)}}return([s])=>i[s]}function oN(e,{markerStart:t,markerMid:i,markerEnd:n,stroke:a},s=()=>a,l,c){if(!t&&!i&&!n)return;const d=new Map,u=l&&_0t(e,l);function h(g,m,M){return function(p){if(M&&!M(p))return;const A=s(p);let b=d.get(m);b||d.set(m,b=new Map);let v=b.get(A);if(!v){const E=this.parentNode.insertBefore(m(A,c),this),x=`plot-marker-${++b0t}`;E.setAttribute("id",x),b.set(A,v=`url(#${x})`)}this.setAttribute(g,v)}}t&&e.each(h("marker-start",t,u&&(g=>u(g)&cA))),i&&u&&e.each(h("marker-start",i,g=>!(u(g)&cA))),i&&e.each(h("marker-mid",i)),n&&e.each(h("marker-end",n,u&&(g=>u(g)&sN)))}function M5({inset:e,insetLeft:t,insetRight:i,...n}={}){return[t,i]=lN(e,t,i),{inset:e,insetLeft:t,insetRight:i,...n}}function sv({inset:e,insetTop:t,insetBottom:i,...n}={}){return[t,i]=lN(e,t,i),{inset:e,insetTop:t,insetBottom:i,...n}}function lN(e,t,i){return e===void 0&&t===void 0&&i===void 0?ws?[1,0]:[.5,.5]:[t,i]}function cN(e,{interval:t}){return e={...Af(e)},e.interval=Gy(e.interval===void 0?t:e.interval),e}function A5(e,t,i,n){const{[e]:a,[`${e}1`]:s,[`${e}2`]:l}=i,{value:c,interval:d}=cN(a,i);if(c==null||d==null&&!n)return i;const u=jc(a);if(d==null){let M;const p={transform:A=>M||(M=ma(A,c)),label:u};return{...i,[e]:void 0,[`${e}1`]:s===void 0?p:s,[`${e}2`]:l===void 0&&!(s===l&&n)?p:l}}let h,g;function m(M){return g!==void 0&&M===h?g:g=r9(ma(h=M,c),p=>d.floor(p))}return t({...i,[e]:void 0,[`${e}1`]:s===void 0?{transform:m,label:u}:s,[`${e}2`]:l===void 0?{transform:M=>m(M).map(p=>d.offset(p)),label:u}:l})}function uN(e,t,i){const{[e]:n}=i,{value:a,interval:s}=cN(n,i);return a==null||s==null?i:t({...i,[e]:{label:jc(n),transform:l=>{const c=r9(ma(l,a),u=>s.floor(u)),d=c.map(u=>s.offset(u));return c.map(Is(c)?(u,h)=>u==null||isNaN(u=+u)||(h=d[h],h==null)||isNaN(h=+h)?void 0:new Date((u+h)/2):(u,h)=>u==null||(h=d[h],h==null)?NaN:(+u+ +h)/2)}}})}function dN(e={}){return A5("x",M5,e,!0)}function E0t(e={}){return A5("y",sv,e,!0)}function ov(e={}){return A5("x",M5,e)}function lv(e={}){return A5("y",sv,e)}function w0t(e={}){return uN("x",M5,e)}function hN(e={}){return uN("y",sv,e)}const fN={ariaLabel:"rule",fill:null,stroke:"currentColor"};class O0t extends es{constructor(t,i={}){const{x:n,y1:a,y2:s,inset:l=0,insetTop:c=l,insetBottom:d=l}=i;super(t,{x:{value:n,scale:"x",optional:!0},y1:{value:a,scale:"y",optional:!0},y2:{value:s,scale:"y",optional:!0}},vf(i,"x"),fN),this.insetTop=O9(c),this.insetBottom=O9(d),Em(this,i)}render(t,i,n,a,s){const{x:l,y:c}=i,{x:d,y1:u,y2:h}=n,{width:g,height:m,marginTop:M,marginRight:p,marginLeft:A,marginBottom:b}=a,{insetTop:v,insetBottom:E}=this;return Da("svg:g",s).call(Rs,this,a,s).call(ps,this,{x:d&&l},ws,0).call(x=>x.selectAll().data(t).enter().append("line").call(Z9,this).attr("x1",d?_=>d[_]:(A+g-p)/2).attr("x2",d?_=>d[_]:(A+g-p)/2).attr("y1",u&&!To(c)?_=>u[_]+v:M+v).attr("y2",h&&!To(c)?c.bandwidth?_=>h[_]+c.bandwidth()-E:_=>h[_]-E:m-b-E).call(Ys,this,n).call(g5,this,n,s)).node()}}class x0t extends es{constructor(t,i={}){const{x1:n,x2:a,y:s,inset:l=0,insetRight:c=l,insetLeft:d=l}=i;super(t,{y:{value:s,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:!0},x2:{value:a,scale:"x",optional:!0}},vf(i,"y"),fN),this.insetRight=O9(c),this.insetLeft=O9(d),Em(this,i)}render(t,i,n,a,s){const{x:l,y:c}=i,{y:d,x1:u,x2:h}=n,{width:g,height:m,marginTop:M,marginRight:p,marginLeft:A,marginBottom:b}=a,{insetLeft:v,insetRight:E}=this;return Da("svg:g",s).call(Rs,this,a,s).call(ps,this,{y:d&&c},0,ws).call(x=>x.selectAll().data(t).enter().append("line").call(Z9,this).attr("x1",u&&!To(l)?_=>u[_]+v:A+v).attr("x2",h&&!To(l)?l.bandwidth?_=>h[_]+l.bandwidth()-E:_=>h[_]-E:g-p-E).attr("y1",d?_=>d[_]:(M+m-b)/2).attr("y2",d?_=>d[_]:(M+m-b)/2).call(Ys,this,n).call(g5,this,n,s)).node()}}function k9(e,t){let{x:i=ra,y:n,y1:a,y2:s,...l}=lv(t);return[a,s]=mN(n,a,s),new O0t(e,{...l,x:i,y1:a,y2:s})}function zr(e,t){let{y:i=ra,x:n,x1:a,x2:s,...l}=ov(t);return[a,s]=mN(n,a,s),new x0t(e,{...l,y:i,x1:a,x2:s})}function mN(e,t,i){if(e==null){if(t===void 0){if(i!==void 0)return[0,i]}else if(i===void 0)return[0,t]}else{if(t===void 0)return i===void 0?[0,e]:[e,i];if(i===void 0)return[e,t]}return[t,i]}function w2(e,...t){let i=t.length;for(let n=0,a=!0;n<i;++n)typeof t[n]!="function"&&(a&&(e=e.slice(),a=!1),e.splice(n,2,e[n]+t[n]+e[n+1]),t.splice(n,1),--n,--i);return n=>{let a=e[0];for(let s=0;s<i;++s)a+=t[s](n)+e[s+1];return a}}const S0t={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},pN="­";class cv extends es{constructor(t,i={}){const{x:n,y:a,text:s=Jc(t)&&pk(t)?ra:Ll,frameAnchor:l,textAnchor:c=/right$/i.test(l)?"end":/left$/i.test(l)?"start":"middle",lineAnchor:d=/^top/i.test(l)?"top":/^bottom/i.test(l)?"bottom":"middle",lineHeight:u=1,lineWidth:h=1/0,textOverflow:g,monospace:m,fontFamily:M=m?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:A,fontVariant:b,fontWeight:v,rotate:E}=i,[x,_]=hs(E,0),[C,O]=D0t(p);if(super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},fontSize:{value:C,optional:!0},rotate:{value:qat(x),optional:!0},text:{value:s,filter:Ry,optional:!0}},i,S0t),this.rotate=_,this.textAnchor=P9(c,"middle"),this.lineAnchor=Y0(d,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+h,this.textOverflow=gN(g),this.monospace=!!m,this.fontFamily=ds(M),this.fontSize=O,this.fontStyle=ds(A),this.fontVariant=ds(b),this.fontWeight=ds(v),this.frameAnchor=c5(l),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${h}`);this.splitLines=AN(this),this.clipLine=yN(this)}render(t,i,n,a,s){const{x:l,y:c}=i,{x:d,y:u,rotate:h,text:g,title:m,fontSize:M}=n,{rotate:p}=this,[A,b]=_m(this,a);return Da("svg:g",s).call(Rs,this,a,s).call(MN,this,g,a).call(ps,this,{x:d&&l,y:u&&c}).call(v=>v.selectAll().data(t).enter().append("text").call(Z9,this).call(T0t,this,g,m).attr("transform",w2`translate(${d?E=>d[E]:A},${u?E=>u[E]:b})${h?E=>` rotate(${h[E]})`:p?` rotate(${p})`:""}`).call(Gn,"font-size",M&&(E=>M[E])).call(Ys,this,n)).node()}}function gN(e){return e==null?null:Y0(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function T0t(e,t,i,n){if(!i)return;const{lineAnchor:a,lineHeight:s,textOverflow:l,splitLines:c,clipLine:d}=t;e.each(function(u){const h=c(nf(i[u])??"").map(d),g=h.length,m=a==="top"?.71:a==="bottom"?1-g:(164-g*100)/200;if(g>1){let M=0;for(let p=0;p<g;++p){if(++M,!h[p])continue;const A=this.ownerDocument.createElementNS(Dc.svg,"tspan");A.setAttribute("x",0),p===M-1?A.setAttribute("y",`${(m+p)*s}em`):A.setAttribute("dy",`${M*s}em`),A.textContent=h[p],this.appendChild(A),M=0}}else m&&this.setAttribute("y",`${m*s}em`),this.textContent=h[0];if(l&&!n&&h[0]!==i[u]){const M=this.ownerDocument.createElementNS(Dc.svg,"title");M.textContent=i[u],this.appendChild(M)}})}function Qr(e,{x:t,y:i,...n}={}){return n.frameAnchor===void 0&&([t,i]=Mm(t,i)),new cv(e,{...n,x:t,y:i})}function I0t(e,{x:t=ra,...i}={}){return new cv(e,hN({...i,x:t}))}function uv(e,{y:t=ra,...i}={}){return new cv(e,w0t({...i,y:t}))}function MN(e,t,i){Gn(e,"text-anchor",t.textAnchor),Gn(e,"font-family",t.fontFamily),Gn(e,"font-size",t.fontSize),Gn(e,"font-style",t.fontStyle),Gn(e,"font-variant",t.fontVariant===void 0?B0t(i):t.fontVariant),Gn(e,"font-weight",t.fontWeight)}function B0t(e){return e&&(Yat(e)||Is(e))?"tabular-nums":void 0}const R0t=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function D0t(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),R0t.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function P0t(e,t,i){const n=[];let a,s=0;for(const[l,c,d]of L0t(e)){if(a===void 0&&(a=l),s>a&&i(e,a,c)>t&&(n.push(e.slice(a,s)+(e[s-1]===pN?"-":"")),a=l),d){n.push(e.slice(a,c)),a=void 0;continue}s=c}return n}function*L0t(e){let t=0,i=0;const n=e.length;for(;i<n;){let a=1;switch(e[i]){case pN:case"-":++i,yield[t,i,!1],t=i;break;case" ":for(yield[t,i,!1];e[++i]===" ";);t=i;break;case"\r":e[i+1]===`
`&&++a;case`
`:yield[t,i,!0],i+=a,t=i;break;default:++i;break}}yield[t,i,!0]}const xO={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function dv(e,t=0,i=e.length){let n=0;for(let a=t;a<i;a=bf(e,a))n+=xO[e[a]]??(bN(e,a)?120:xO.e);return n}function hv(e,t=0,i=e.length){let n=0;for(let a=t;a<i;a=bf(e,a))n+=bN(e,a)?126:63;return n}function AN({monospace:e,lineWidth:t,textOverflow:i}){if(i!=null||t==1/0)return s=>s.split(/\r\n?|\n/g);const n=e?hv:dv,a=t*100;return s=>P0t(s,a,n)}function yN({monospace:e,lineWidth:t,textOverflow:i}){if(i==null||t==1/0)return s=>s;const n=e?hv:dv,a=t*100;switch(i){case"clip-start":return s=>TO(s,a,n,"");case"clip-end":return s=>SO(s,a,n,"");case"ellipsis-start":return s=>TO(s,a,n,Eh);case"ellipsis-middle":return s=>k0t(s,a,n,Eh);case"ellipsis-end":return s=>SO(s,a,n,Eh)}}const Eh="…";function af(e,t,i,n){const a=[];let s=0;for(let l=0,c=0,d=e.length;l<d;l=c){c=bf(e,l);const u=i(e,l,c);if(s+u>t){for(s+=n;s>t&&l>0;)c=l,l=a.pop(),s-=i(e,l,c);return[l,t-s]}s+=u,a.push(l)}return[-1,0]}function SO(e,t,i,n){e=e.trim();const a=i(n),[s]=af(e,t,i,a);return s<0?e:e.slice(0,s).trimEnd()+n}function k0t(e,t,i,n){e=e.trim();const a=i(e);if(a<=t)return e;const s=i(n)/2,[l,c]=af(e,t/2,i,s),[d]=af(e,a-t/2-c+s,i,-s);return d<0?n:e.slice(0,l).trimEnd()+n+e.slice(bf(e,d)).trimStart()}function TO(e,t,i,n){e=e.trim();const a=i(e);if(a<=t)return e;const s=i(n),[l]=af(e,a-t+s,i,-s);return l<0?n:n+e.slice(bf(e,l)).trimStart()}const uA=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,IO=new RegExp("\\p{Extended_Pictographic}","uy");function bf(e,t){return t+=N0t(e,t)?2:1,U0t(e,t)&&(t=uA.lastIndex),F0t(e,t)?bf(e,t+1):t}function vN(e,t){return e.charCodeAt(t)<128}function N0t(e,t){const i=e.charCodeAt(t);if(i>=55296&&i<56320){const n=e.charCodeAt(t+1);return n>=56320&&n<57344}return!1}function F0t(e,t){return e.charCodeAt(t)===8205}function U0t(e,t){return vN(e,t)?!1:(uA.lastIndex=t,uA.test(e))}function bN(e,t){return vN(e,t)?!1:(IO.lastIndex=t,IO.test(e))}const $0t={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},CN=3.5,G0t=CN*5,_N={draw(e,t,i){const n=t*i/G0t;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-n,n-t),e.lineTo(0,-t),e.lineTo(n,n-t)}},V0t={draw(e,t,i){e.moveTo(-i,0),e.lineTo(0,-t),e.lineTo(i,0)}},H0t=new Map([["arrow",_N],["spike",V0t]]);function Q0t(e){return e&&typeof e.draw=="function"}function z0t(e){if(Q0t(e))return e;const t=H0t.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class EN extends es{constructor(t,i={}){const{x:n,y:a,r:s=CN,length:l,rotate:c,shape:d=_N,anchor:u="middle",frameAnchor:h}=i,[g,m]=hs(l,12),[M,p]=hs(c,0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},length:{value:g,scale:"length",optional:!0},rotate:{value:M,optional:!0}},i,$0t),this.r=+s,this.length=m,this.rotate=p,this.shape=z0t(d),this.anchor=Y0(u,"anchor",["start","middle","end"]),this.frameAnchor=c5(h)}render(t,i,n,a,s){const{x:l,y:c}=i,{x:d,y:u,length:h,rotate:g}=n,{length:m,rotate:M,anchor:p,shape:A,r:b}=this,[v,E]=_m(this,a);return Da("svg:g",s).call(Rs,this,a,s).call(ps,this,{x:d&&l,y:u&&c}).call(x=>x.selectAll().data(t).enter().append("path").call(Z9,this).attr("transform",w2`translate(${d?_=>d[_]:v},${u?_=>u[_]:E})${g?_=>` rotate(${g[_]})`:M?` rotate(${M})`:""}${p==="start"?"":p==="end"?h?_=>` translate(0,${h[_]})`:` translate(0,${m})`:h?_=>` translate(0,${h[_]/2})`:` translate(0,${m/2})`}`).attr("d",h?_=>{const C=Ec();return A.draw(C,h[_],b),C}:(()=>{const _=Ec();return A.draw(_,m,b),_})()).call(Ys,this,n)).node()}}function j0t(e,t={}){const{x:i=ra,...n}=t;return new EN(e,{...n,x:i})}function J0t(e,t={}){const{y:i=ra,...n}=t;return new EN(e,{...n,y:i})}function qc(e,t){return arguments.length<2&&!Jc(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function y5({anchor:e}={},t){return e===void 0?t[0]:Y0(e,"anchor",t)}function wN(e){return y5(e,["left","right"])}function ON(e){return y5(e,["right","left"])}function xN(e){return y5(e,["bottom","top"])}function SN(e){return y5(e,["top","bottom"])}function Io(){const[e,t]=qc(...arguments);return IN("y",wN(t),e,t)}function W0t(){const[e,t]=qc(...arguments);return IN("fy",ON(t),e,t)}function TN(){const[e,t]=qc(...arguments);return BN("x",xN(t),e,t)}function q0t(){const[e,t]=qc(...arguments);return BN("fx",SN(t),e,t)}function IN(e,t,i,{color:n="currentColor",opacity:a=1,stroke:s=n,strokeOpacity:l=a,strokeWidth:c=1,fill:d=n,fillOpacity:u=a,textAnchor:h,textStroke:g,textStrokeOpacity:m,textStrokeWidth:M,tickSize:p=e==="y"?6:0,tickPadding:A,tickRotate:b,x:v,margin:E,marginTop:x=E===void 0?20:E,marginRight:_=E===void 0?t==="right"?40:0:E,marginBottom:C=E===void 0?20:E,marginLeft:O=E===void 0?t==="left"?40:0:E,label:I,labelAnchor:T,labelArrow:D,labelOffset:P,...L}){return p=O9(p),A=O9(A),b=O9(b),T!==void 0&&(T=Y0(T,"labelAnchor",["center","top","bottom"])),D=UN(D),rv(p&&!J9(s)?K0t(e,t,i,{stroke:s,strokeOpacity:l,strokeWidth:c,tickSize:p,tickPadding:A,tickRotate:b,x:v,...L}):null,J9(d)?null:Y0t(e,t,i,{fill:d,fillOpacity:u,stroke:g,strokeOpacity:m,strokeWidth:M,textAnchor:h,tickSize:p,tickPadding:A,tickRotate:b,x:v,marginTop:x,marginRight:_,marginBottom:C,marginLeft:O,...L}),!J9(d)&&I!==null?Qr([],LN({fill:d,fillOpacity:u,...L},function(N,U,$,F,j){const z=F[e],{marginTop:Q,marginRight:V,marginBottom:q,marginLeft:J}=e==="y"&&j.inset||j,W=T??(z.bandwidth?"center":"top"),et=P??(t==="right"?V:J)-3;return W==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=W,this.frameAnchor=`${W}-${t}`,this.rotate=0),this.dy=W==="top"?3-Q:W==="bottom"?q-3:0,this.dx=t==="right"?et:-et,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[FN(e,z,{anchor:t,label:I,labelAnchor:W,labelArrow:D})]}}}})):null)}function BN(e,t,i,{color:n="currentColor",opacity:a=1,stroke:s=n,strokeOpacity:l=a,strokeWidth:c=1,fill:d=n,fillOpacity:u=a,textAnchor:h,textStroke:g,textStrokeOpacity:m,textStrokeWidth:M,tickSize:p=e==="x"?6:0,tickPadding:A,tickRotate:b,y:v,margin:E,marginTop:x=E===void 0?t==="top"?30:0:E,marginRight:_=E===void 0?20:E,marginBottom:C=E===void 0?t==="bottom"?30:0:E,marginLeft:O=E===void 0?20:E,label:I,labelAnchor:T,labelArrow:D,labelOffset:P,...L}){return p=O9(p),A=O9(A),b=O9(b),T!==void 0&&(T=Y0(T,"labelAnchor",["center","left","right"])),D=UN(D),rv(p&&!J9(s)?X0t(e,t,i,{stroke:s,strokeOpacity:l,strokeWidth:c,tickSize:p,tickPadding:A,tickRotate:b,y:v,...L}):null,J9(d)?null:Z0t(e,t,i,{fill:d,fillOpacity:u,stroke:g,strokeOpacity:m,strokeWidth:M,textAnchor:h,tickSize:p,tickPadding:A,tickRotate:b,y:v,marginTop:x,marginRight:_,marginBottom:C,marginLeft:O,...L}),!J9(d)&&I!==null?Qr([],LN({fill:d,fillOpacity:u,...L},function(N,U,$,F,j){const z=F[e],{marginTop:Q,marginRight:V,marginBottom:q,marginLeft:J}=e==="x"&&j.inset||j,W=T??(z.bandwidth?"center":"right"),et=P??(t==="top"?Q:q)-3;return W==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${W}`,this.textAnchor=W==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-et:et,this.dx=W==="right"?V-3:W==="left"?3-J:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[FN(e,z,{anchor:t,label:I,labelAnchor:W,labelArrow:D})]}}}})):null)}function K0t(e,t,i,{strokeWidth:n=1,strokeLinecap:a=null,strokeLinejoin:s=null,facetAnchor:l=t+(e==="y"?"-empty":""),frameAnchor:c=t,tickSize:d,inset:u=0,insetLeft:h=u,insetRight:g=u,dx:m=0,y:M=e==="y"?void 0:null,...p}){return Cf(J0t,e,i,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:n,strokeLinecap:a,strokeLinejoin:s,facetAnchor:l,frameAnchor:c,y:M,...p,dx:t==="left"?+m-ws+ +h:+m+ws-g,anchor:"start",length:d,shape:t==="left"?oot:lot})}function X0t(e,t,i,{strokeWidth:n=1,strokeLinecap:a=null,strokeLinejoin:s=null,facetAnchor:l=t+(e==="x"?"-empty":""),frameAnchor:c=t,tickSize:d,inset:u=0,insetTop:h=u,insetBottom:g=u,dy:m=0,x:M=e==="x"?void 0:null,...p}){return Cf(j0t,e,i,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:n,strokeLinejoin:s,strokeLinecap:a,facetAnchor:l,frameAnchor:c,x:M,...p,dy:t==="bottom"?+m-ws-g:+m+ws+ +h,anchor:"start",length:d,shape:t==="bottom"?aot:sot})}function Y0t(e,t,i,{facetAnchor:n=t+(e==="y"?"-empty":""),frameAnchor:a=t,tickSize:s,tickRotate:l=0,tickPadding:c=Math.max(3,9-s)+(Math.abs(l)>60?4*Math.cos(l*aN):0),text:d,textAnchor:u=Math.abs(l)>60?"middle":t==="left"?"end":"start",lineAnchor:h=l>60?"top":l<-60?"bottom":"middle",fontVariant:g,inset:m=0,insetLeft:M=m,insetRight:p=m,dx:A=0,y:b=e==="y"?void 0:null,...v}){return Cf(uv,e,i,{ariaLabel:`${e}-axis tick label`},{facetAnchor:n,frameAnchor:a,text:d,textAnchor:u,lineAnchor:h,fontVariant:g,rotate:l,y:b,...v,dx:t==="left"?+A-s-c+ +M:+A+ +s+ +c-p},function(E,x,_,C,O){g===void 0&&(this.fontVariant=NN(E)),d===void 0&&(O.text=kN(E,x,_,C,t))})}function Z0t(e,t,i,{facetAnchor:n=t+(e==="x"?"-empty":""),frameAnchor:a=t,tickSize:s,tickRotate:l=0,tickPadding:c=Math.max(3,9-s)+(Math.abs(l)>=10?4*Math.cos(l*aN):0),text:d,textAnchor:u=Math.abs(l)>=10?l<0^t==="bottom"?"start":"end":"middle",lineAnchor:h=Math.abs(l)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:g,inset:m=0,insetTop:M=m,insetBottom:p=m,dy:A=0,x:b=e==="x"?void 0:null,...v}){return Cf(I0t,e,i,{ariaLabel:`${e}-axis tick label`},{facetAnchor:n,frameAnchor:a,text:d===void 0?null:d,textAnchor:u,lineAnchor:h,fontVariant:g,rotate:l,x:b,...v,dy:t==="bottom"?+A+ +s+ +c-p:+A-s-c+ +M},function(E,x,_,C,O){g===void 0&&(this.fontVariant=NN(E)),d===void 0&&(O.text=kN(E,x,_,C,t))})}function tot(){const[e,t]=qc(...arguments);return RN("y",wN(t),e,t)}function eot(){const[e,t]=qc(...arguments);return RN("fy",ON(t),e,t)}function iot(){const[e,t]=qc(...arguments);return DN("x",xN(t),e,t)}function not(){const[e,t]=qc(...arguments);return DN("fx",SN(t),e,t)}function RN(e,t,i,{y:n=e==="y"?void 0:null,x:a=null,x1:s=t==="left"?a:null,x2:l=t==="right"?a:null,...c}){return Cf(zr,e,i,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:n,x1:s,x2:l,...PN(c)})}function DN(e,t,i,{x:n=e==="x"?void 0:null,y:a=null,y1:s=t==="top"?a:null,y2:l=t==="bottom"?a:null,...c}){return Cf(k9,e,i,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:n,y1:s,y2:l,...PN(c)})}function PN({color:e="currentColor",opacity:t=.1,stroke:i=e,strokeOpacity:n=t,strokeWidth:a=1,...s}){return{stroke:i,strokeOpacity:n,strokeWidth:a,...s}}function LN({fill:e,fillOpacity:t,fontFamily:i,fontSize:n,fontStyle:a,fontVariant:s,fontWeight:l,monospace:c,pointerEvents:d,shapeRendering:u,clip:h=!1},g){return[,e]=_0(e),[,t]=hs(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:i,fontSize:n,fontStyle:a,fontVariant:s,fontWeight:l,monospace:c,pointerEvents:d,shapeRendering:u,clip:h,initializer:g}}function Cf(e,t,i,n,a,s){let l;function c(h,g,m,M,p,A){const b=h==null&&(t==="fx"||t==="fy"),{[t]:v}=M;if(!v)throw new Error(`missing scale: ${t}`);const E=v.domain();let{interval:x,ticks:_,tickFormat:C,tickSpacing:O=t==="x"?80:35}=a;if(typeof _=="string"&&$N(v)&&(x=_,_=void 0),_===void 0&&(_=Mf(x,v.type)??rot(v,O)),h==null){if(Jc(_))h=Uc(_);else if(hh(_))h=Ug(_,...Ua(E));else if(v.interval){let T=v.interval;if(v.ticks){const[D,P]=Ua(E),L=(P-D)/T[pm];T=iO(T,L/_)??T,h=Ug(T,D,P)}else{h=E;const D=h.length;T=iO(T,D/_)??T,T!==v.interval&&(h=Ug(T,...Ua(h)))}if(T===v.interval){const D=Math.round(h.length/_);D>1&&(h=h.filter((P,L)=>L%D===0))}}else v.ticks?h=v.ticks(_):h=E;if(!v.ticks&&h.length&&h!==E){const T=new J2(E);h=h.filter(D=>T.has(D)),h.length||El(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?g=[Nl(h)]:l[t]={scale:t,value:ra}}s==null||s.call(this,v,h,_,C,l);const I=Object.fromEntries(Object.entries(l).map(([T,D])=>[T,{...D,value:ma(h,D.value)}]));return b&&(g=A.filterFacets(h,I)),{data:h,facets:g,channels:I}}const d=ef(a).initializer,u=e(i,ef({...a,initializer:c},d));return i==null?(l=u.channels,u.channels={}):l={},n!==void 0&&Object.assign(u,n),u.clip===void 0&&(u.clip=!1),u}function rot(e,t){const[i,n]=Ua(e.range());return(n-i)/t}function kN(e,t,i,n,a){return{value:fv(e,t,i,n,a)}}function fv(e,t,i,n,a){return typeof n=="function"&&!(e.type==="log"&&e.tickFormat)?n:n===void 0&&t&&Is(t)?Uat(e.type,t,a)??nf:e.tickFormat?e.tickFormat(typeof i=="number"?i:null,n):n===void 0?nf:typeof n=="string"?(Is(e.domain())?cm:pf)(n):bl(n)}function Ug(e,t,i){return e.range(t,e.offset(e.floor(i)))}const aot={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},sot={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},oot={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},lot={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function NN(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function FN(e,t,{anchor:i,label:n=t.label,labelAnchor:a,labelArrow:s}={}){if(!(n==null||n.inferred&&$N(t)&&/^(date|time|year)$/i.test(n))){if(n=String(n),s==="auto"&&(s=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(n)),!s)return n;if(s===!0){const l=Qk(t);l&&(s=/x$/.test(e)||a==="center"?/x$/.test(e)===l<0?"left":"right":l<0?"up":"down")}switch(s){case"left":return`← ${n}`;case"right":return`${n} →`;case"up":return i==="right"?`${n} ↑`:`↑ ${n}`;case"down":return i==="right"?`${n} ↓`:`↓ ${n}`}return n}}function UN(e="auto"){return J9(e)?!1:typeof e=="boolean"?e:Y0(e,"labelArrow",["auto","up","right","down","left"])}function $N(e){return Is(e.domain())}function BO(e,t){if(t==null)return t;const i=e(t);if(!i)throw new Error(`scale not found: ${t}`);return i}function cot(e,{opacity:t,...i}={}){if(!gd(e)&&!Wk(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return GN(e,i,(n,a,s,l)=>n.append("svg").attr("width",s).attr("height",l).attr("fill",a.scale).attr("fill-opacity",hs(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function uot(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:i=1,stroke:n=(h=>(h=e.hint)==null?void 0:h.stroke)()!==void 0?e.hint.stroke:J9(t)?"currentColor":"none",strokeOpacity:a=1,strokeWidth:s=1.5,r:l=4.5,...c}={},d){const[g,m]=_0(t),[M,p]=_0(n),A=BO(d,g),b=BO(d,M),v=l*l*Math.PI;return i=hs(i)[1],a=hs(a)[1],s=hs(s)[1],GN(e,c,(E,x,_,C)=>E.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",C).attr("fill",g==="color"?O=>A.scale(O):m).attr("fill-opacity",i).attr("stroke",M==="color"?O=>b.scale(O):p).attr("stroke-opacity",a).attr("stroke-width",s).append("path").attr("d",O=>{const I=Ec();return e.scale(O).draw(I,v),I}))}function GN(e,t={},i){let{columns:n,tickFormat:a,fontVariant:s=rN(e),swatchSize:l=15,swatchWidth:c=l,swatchHeight:d=l,marginLeft:u=0,className:h,style:g,width:m}=t;const M=ev(t);h=p5(h),a=fv(e.scale,e.domain,void 0,a);const p=Da("div",M).attr("class",`${h}-swatches ${h}-swatches-${n!=null?"columns":"wrap"}`);let A;return n!=null?(A=`:where(.${h}-swatches-columns .${h}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${h}-swatches-columns .${h}-swatch::before) {
  flex-shrink: 0;
}
:where(.${h}-swatches-columns .${h}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",n).selectAll().data(e.domain).enter().append("div").attr("class",`${h}-swatch`).call(i,e,c,d).call(b=>b.append("div").attr("class",`${h}-swatch-label`).attr("title",a).text(a))):(A=`:where(.${h}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${h}-swatches-wrap .${h}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${h}-swatch`).call(i,e,c,d).append(function(){return this.ownerDocument.createTextNode(a.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${h}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${h}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${A}`)).style("margin-left",u?`${+u}px`:null).style("width",m===void 0?null:`${+m}px`).style("font-variant",P9(s,"normal")).call(nv,g).node()}const dA=new Map([["symbol",uot],["color",HN],["opacity",hot]]);function dot(e,t,i={}){return(n,a)=>{if(!dA.has(n))throw new Error(`unknown legend type: ${n}`);if(n in e)return dA.get(n)(e[n],VN(t,i[n],a),s=>e[s])}}function VN({className:e,...t},{label:i,ticks:n,tickFormat:a}={},s){return i9t(s,{className:e,...t},{label:i,ticks:n,tickFormat:a})}function HN(e,{legend:t=!0,...i}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return cot(e,i);case"ramp":return A0t(e,i);default:throw new Error(`unknown legend type: ${t}`)}}function hot({type:e,interpolate:t,...i},{legend:n=!0,color:a=Lc(0,0,0),...s}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(n===!0&&(n="ramp"),`${n}`.toLowerCase()!=="ramp")throw new Error(`${n} opacity legends are not supported`);return HN({type:e,...i,interpolate:fot(a)},{legend:n,...s})}function fot(e){const{r:t,g:i,b:n}=Lc(e)||Lc(0,0,0);return a=>`rgba(${t},${i},${n},${a})`}function mot(e,t,i){const n=[];for(const[a,s]of dA){const l=i[a];if(l!=null&&l.legend&&a in e){const c=s(e[a],VN(t,e[a],l),d=>e[d]);c!=null&&n.push(c)}}return n}function QN(e={}){return ck(e)?e:{...e,x:ra}}function v5(e={}){return uk(e)?e:{...e,y:ra}}function pot(e,t){if(t.length===1)return{data:e,facets:t};const i=v2(e),n=new Uint8Array(i);let a=0;for(const c of t)for(const d of c)n[d]&&++a,n[d]=1;if(a===0)return{data:e,facets:t};e=y2(e);const s=e[nk]=new Uint32Array(i+a);t=t.map(c=>y2(c,Uint32Array));let l=i;n.fill(0);for(const c of t)for(let d=0,u=c.length;d<u;++d){const h=c[d];n[h]?(c[d]=l,e[l]=e[h],s[l]=h,++l):s[h]=h,n[h]=1}return{data:e,facets:t}}function got(e={},t={}){arguments.length===1&&([e,t]=jN(e));const{y1:i,y:n=i,x:a,...s}=t,[l,c,d,u]=JN(n,a,"y","x",e,s);return{...l,y1:i,y:c,x1:d,x2:u,x:e8(d,u)}}function Mot(e={},t={}){arguments.length===1&&([e,t]=jN(e));const{x1:i,x:n=i,y:a,...s}=t,[l,c,d,u]=JN(n,a,"x","y",e,s);return{...l,x1:i,x:c,y1:d,y2:u,y:e8(d,u)}}function zN({x:e,x1:t,x2:i,...n}={}){return n=vf(n,"y"),t===void 0&&i===void 0?got({x:e,...n}):([t,i]=dk(e,t,i),{...n,x1:t,x2:i})}function b5({y:e,y1:t,y2:i,...n}={}){return n=vf(n,"x"),t===void 0&&i===void 0?Mot({y:e,...n}):([t,i]=dk(e,t,i),{...n,y1:t,y2:i})}function jN(e){const{offset:t,order:i,reverse:n,...a}=e;return[{offset:t,order:i,reverse:n},a]}const Aot={length:!0};function JN(e,t=Qat,i,n,{offset:a,order:s,reverse:l},c){if(t===null)throw new Error(`stack requires ${n}`);const d=s5(c),[u,h]=Cs(e),[g,m]=b2(t),[M,p]=b2(t);return g.hint=M.hint=Aot,a=yot(a),s=Cot(s,a,n),[yf(c,(A,b,v)=>{({data:A,facets:b}=pot(A,b));const E=e==null?void 0:h(i8(ma(A,e),v==null?void 0:v[i])),x=ma(A,t,Float64Array),_=ma(A,d),C=s&&s(A,E,x,_),O=v2(A),I=m(new Float64Array(O)),T=p(new Float64Array(O)),D=[];for(const P of b){const L=E?Array.from(W2(P,N=>E[N]).values()):[P];if(C)for(const N of L)N.sort(C);for(const N of L){let U=0,$=0;l&&N.reverse();for(const F of N){const j=x[F];j<0?U=T[F]=(I[F]=U)+j:j>0?$=T[F]=(I[F]=$)+j:T[F]=I[F]=$}}D.push(L)}return a&&a(D,I,T,_),{data:A,facets:b}}),u,g,M]}function yot(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return vot;case"center":case"silhouette":return bot;case"wiggle":return qN}throw new Error(`unknown offset: ${e}`)}}function WN(e,t){let i=0,n=0;for(const a of e){const s=t[a];s<i&&(i=s),s>n&&(n=s)}return[i,n]}function vot(e,t,i){for(const n of e)for(const a of n){const[s,l]=WN(a,i);for(const c of a){const d=1/(l-s||1);t[c]=d*(t[c]-s),i[c]=d*(i[c]-s)}}}function bot(e,t,i){for(const n of e){for(const a of n){const[s,l]=WN(a,i);for(const c of a){const d=(l+s)/2;t[c]-=d,i[c]-=d}}KN(n,t,i)}XN(e,t,i)}function qN(e,t,i,n){for(const a of e){const s=new td;let l=0;for(const c of a){let d=-1;const u=c.map(M=>Math.abs(i[M]-t[M])),h=c.map(M=>{d=n?n[M]:++d;const p=i[M]-t[M],A=s.has(d)?p-s.get(d):0;return s.set(d,p),A}),g=[0,...qj(h)];for(const M of c)t[M]+=l,i[M]+=l;const m=Rc(u);m&&(l-=Rc(u,(M,p)=>(h[p]/2+g[p])*M)/m)}KN(a,t,i)}XN(e,t,i)}function KN(e,t,i){const n=Y9(e,a=>Y9(a,s=>t[s]));for(const a of e)for(const s of a)t[s]-=n,i[s]-=n}function XN(e,t,i){const n=e.length;if(n===1)return;const a=e.map(c=>c.flat()),s=a.map(c=>(Y9(c,d=>t[d])+Ca(c,d=>i[d]))/2),l=Y9(s);for(let c=0;c<n;c++){const d=l-s[c];for(const u of a[c])t[u]+=d,i[u]+=d}}function Cot(e,t,i){if(e===void 0&&t===qN)return RO(j0);if(e!=null){if(typeof e=="string"){const n=e.startsWith("-"),a=n?Zp:j0;switch((n?e.slice(1):e).toLowerCase()){case"value":case i:return _ot(a);case"z":return Eot(a);case"sum":return wot(a);case"appearance":return Oot(a);case"inside-out":return RO(a)}return DO(rk(e))}if(typeof e=="function")return(e.length===1?DO:xot)(e);if(pd(e))return Sot(e);throw new Error(`invalid order: ${e}`)}}function _ot(e){return(t,i,n)=>(a,s)=>e(n[a],n[s])}function Eot(e){return(t,i,n,a)=>(s,l)=>e(a[s],a[l])}function wot(e){return C5(e,(t,i,n,a)=>FA(Nl(t),s=>Rc(s,l=>n[l]),s=>a[s]))}function Oot(e){return C5(e,(t,i,n,a)=>FA(Nl(t),s=>i[dB(s,l=>n[l])],s=>a[s]))}function RO(e){return C5(e,(t,i,n,a)=>{const s=Nl(t),l=FA(s,g=>i[dB(g,m=>n[m])],g=>a[g]),c=yh(s,g=>Rc(g,m=>n[m]),g=>a[g]),d=[],u=[];let h=0;for(const g of l)h<0?(h+=c.get(g),d.push(g)):(h-=c.get(g),u.push(g));return u.reverse().concat(d)})}function DO(e){return t=>{const i=ma(t,e);return(n,a)=>j0(i[n],i[a])}}function xot(e){return t=>pd(t)?(i,n)=>e(t[i],t[n]):(i,n)=>e(t.get(i),t.get(n))}function Sot(e){return C5(j0,()=>e)}function C5(e,t){return(i,n,a,s)=>{if(!s)throw new Error("missing channel: z");const l=new td(t(i,n,a,s).map((c,d)=>[c,d]));return(c,d)=>e(l.get(s[c]),l.get(s[d]))}}const Tot={ariaLabel:"rect"};class YN extends es{constructor(t,i={}){const{x1:n,y1:a,x2:s,y2:l}=i;super(t,{x1:{value:n,scale:"x",type:n!=null&&s==null?"band":void 0,optional:!0},y1:{value:a,scale:"y",type:a!=null&&l==null?"band":void 0,optional:!0},x2:{value:s,scale:"x",optional:!0},y2:{value:l,scale:"y",optional:!0}},i,Tot),mv(this,i),pv(this,i)}render(t,i,n,a,s){const{x:l,y:c}=i;let{x1:d,y1:u,x2:h,y2:g}=n;const{marginTop:m,marginRight:M,marginBottom:p,marginLeft:A,width:b,height:v}=a,{projection:E}=s,{insetTop:x,insetRight:_,insetBottom:C,insetLeft:O}=this,{rx:I,ry:T,rx1y1:D,rx1y2:P,rx2y1:L,rx2y2:N}=this;(d||h)&&!E&&To(l)&&(d=h=null),(u||g)&&!E&&To(c)&&(u=g=null);const U=l!=null&&l.bandwidth?l.bandwidth():0,$=c!=null&&c.bandwidth?c.bandwidth():0;return Da("svg:g",s).call(Rs,this,a,s).call(ps,this,{},0,0).call(F=>F.selectAll().data(t).enter().call(D||P||L||N?j=>j.append("path").call(Z9,this).call(gv,d&&h?z=>d[z]+(h[z]<d[z]?-_:O):d?z=>d[z]+O:A+O,u&&g?z=>u[z]+(g[z]<u[z]?-C:x):u?z=>u[z]+x:m+x,d&&h?z=>h[z]-(h[z]<d[z]?-O:_):d?z=>d[z]+U-_:b-M-_,u&&g?z=>g[z]-(g[z]<u[z]?-x:C):u?z=>u[z]+$-C:v-p-C,this).call(Ys,this,n):j=>j.append("rect").call(Z9,this).attr("x",d?h?z=>Math.min(d[z],h[z])+O:z=>d[z]+O:A+O).attr("y",u?g?z=>Math.min(u[z],g[z])+x:z=>u[z]+x:m+x).attr("width",d?h?z=>Math.max(0,Math.abs(h[z]-d[z])+U-O-_):U-O-_:b-M-A-_-O).attr("height",u?g?z=>Math.max(0,Math.abs(u[z]-g[z])+$-x-C):$-x-C:v-m-p-x-C).call(Gn,"rx",I).call(Gn,"ry",T).call(Ys,this,n))).node()}}function mv(e,{inset:t=0,insetTop:i=t,insetRight:n=t,insetBottom:a=t,insetLeft:s=t}={}){e.insetTop=O9(i),e.insetRight=O9(n),e.insetBottom=O9(a),e.insetLeft=O9(s)}function pv(e,{r:t,rx:i,ry:n,rx1:a=t,ry1:s=t,rx2:l=t,ry2:c=t,rx1y1:d=a!==void 0?+a:s!==void 0?+s:0,rx1y2:u=a!==void 0?+a:c!==void 0?+c:0,rx2y1:h=l!==void 0?+l:s!==void 0?+s:0,rx2y2:g=l!==void 0?+l:c!==void 0?+c:0}={}){d||u||h||g?(e.rx1y1=d,e.rx1y2=u,e.rx2y1=h,e.rx2y2=g):(e.rx=P9(i,"auto"),e.ry=P9(n,"auto"))}function gv(e,t,i,n,a,s){const{rx1y1:l,rx1y2:c,rx2y1:d,rx2y2:u}=s;typeof t!="function"&&(t=bl(t)),typeof i!="function"&&(i=bl(i)),typeof n!="function"&&(n=bl(n)),typeof a!="function"&&(a=bl(a));const h=Math.max(Math.abs(l+d),Math.abs(c+u)),g=Math.max(Math.abs(l+c),Math.abs(d+u));e.attr("d",m=>{const M=t(m),p=i(m),A=n(m),b=a(m),v=M>A,E=p>b,x=v?A:M,_=v?M:A,C=E?b:p,O=E?p:b,I=Math.min(1,(_-x)/h,(O-C)/g),T=I*(v?E?u:d:E?c:l),D=I*(v?E?c:l:E?u:d),P=I*(v?E?l:c:E?d:u),L=I*(v?E?d:u:E?l:c);return`M${x},${C+k4(T,L)}A${T},${T} 0 0 ${T<0?0:1} ${x+L4(T,L)},${C}H${_-L4(D,P)}A${D},${D} 0 0 ${D<0?0:1} ${_},${C+k4(D,P)}V${O-k4(P,D)}A${P},${P} 0 0 ${P<0?0:1} ${_-L4(P,D)},${O}H${x+L4(L,T)}A${L},${L} 0 0 ${L<0?0:1} ${x},${O-k4(L,T)}Z`})}function L4(e,t){return t<0?e:Math.abs(e)}function k4(e,t){return t<0?Math.abs(e):e}function ZN(e,t){return new YN(e,dN(E0t(t)))}function Bo(e,t={}){return gm(t)||(t={...t,x:Ll,y2:ra,interval:1}),new YN(e,b5(dN(v5(t))))}const Iot={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Bot={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Rot extends es{constructor(t={}){const{anchor:i=null}=t;super(cp,void 0,t,i==null?Iot:Bot),this.anchor=lk(i,"anchor",["top","right","bottom","left"]),mv(this,t),i||pv(this,t)}render(t,i,n,a,s){const{marginTop:l,marginRight:c,marginBottom:d,marginLeft:u,width:h,height:g}=a,{anchor:m,insetTop:M,insetRight:p,insetBottom:A,insetLeft:b}=this,{rx:v,ry:E,rx1y1:x,rx1y2:_,rx2y1:C,rx2y2:O}=this,I=u+b,T=h-c-p,D=l+M,P=g-d-A;return Da(m?"svg:line":x||_||C||O?"svg:path":"svg:rect",s).datum(0).call(Rs,this,a,s).call(Z9,this).call(Ys,this,n).call(ps,this,{}).call(m==="left"?L=>L.attr("x1",I).attr("x2",I).attr("y1",D).attr("y2",P):m==="right"?L=>L.attr("x1",T).attr("x2",T).attr("y1",D).attr("y2",P):m==="top"?L=>L.attr("x1",I).attr("x2",T).attr("y1",D).attr("y2",D):m==="bottom"?L=>L.attr("x1",I).attr("x2",T).attr("y1",P).attr("y2",P):x||_||C||O?L=>L.call(gv,I,D,T,P,this):L=>L.attr("x",I).attr("y",D).attr("width",T-I).attr("height",P-D).attr("rx",v).attr("ry",E)).node()}}function Dot(e){return new Rot(e)}const $g={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Pot=new Set(["geometry","href","src","ariaLabel","scales"]);class Lot extends es{constructor(t,i={}){i.tip&&(i={...i,tip:!1}),i.title===void 0&&Jc(t)&&pk(t)&&(i={...i,title:ra});const{x:n,y:a,x1:s,x2:l,y1:c,y2:d,anchor:u,preferredAnchor:h="bottom",monospace:g,fontFamily:m=g?"ui-monospace, monospace":void 0,fontSize:M,fontStyle:p,fontVariant:A,fontWeight:b,lineHeight:v=1,lineWidth:E=20,frameAnchor:x,format:_,textAnchor:C="start",textOverflow:O,textPadding:I=8,title:T,pointerSize:D=12,pathFilter:P="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=i;super(t,{x:{value:s!=null&&l!=null?null:n,scale:"x",optional:!0},y:{value:c!=null&&d!=null?null:a,scale:"y",optional:!0},x1:{value:s,scale:"x",optional:l==null},y1:{value:c,scale:"y",optional:d==null},x2:{value:l,scale:"x",optional:s==null},y2:{value:d,scale:"y",optional:c==null},title:{value:T,optional:!0}},i,$g),this.anchor=eA(u,"anchor"),this.preferredAnchor=eA(h,"preferredAnchor"),this.frameAnchor=c5(x),this.textAnchor=P9(C,"middle"),this.textPadding=+I,this.pointerSize=+D,this.pathFilter=ds(P),this.lineHeight=+v,this.lineWidth=+E,this.textOverflow=gN(O),this.monospace=!!g,this.fontFamily=ds(m),this.fontSize=O9(M),this.fontStyle=ds(p),this.fontVariant=ds(A),this.fontWeight=ds(b);for(const L in $g)L in this.channels&&(this[L]=$g[L]);this.splitLines=AN(this),this.clipLine=yN(this),this.format=typeof _=="string"||typeof _=="function"?{title:_}:{..._}}render(t,i,n,a,s){const l=this,{x:c,y:d,fx:u,fy:h}=i,{ownerSVGElement:g,document:m}=s,{anchor:M,monospace:p,lineHeight:A,lineWidth:b}=this,{textPadding:v,pointerSize:E,pathFilter:x}=this,{marginTop:_,marginLeft:C}=a,{x1:O,y1:I,x2:T,y2:D,x:P=O??T,y:L=I??D}=n,N=u?u(t.fx)-C:0,U=h?h(t.fy)-_:0,[$,F]=_m(this,a),j=iN(n,$),z=nN(n,F),Q=p?hv:dv,V=Q(Eh);let q,J;"title"in n?(q=PO.call(this,{title:n.channels.title},i),J=$ot):(q=PO.call(this,n.channels,i),J=Got);const W=Da("svg:g",s).call(Rs,this,a,s).call(MN,this).call(ps,this,{x:P&&c,y:L&&d}).call(ot=>ot.selectAll().data(t).enter().append("g").attr("transform",pt=>`translate(${Math.round(j(pt))},${Math.round(z(pt))})`).call(Z9,this).call(pt=>pt.append("path").attr("filter",x)).call(pt=>pt.append("text").each(function(wt){const Mt=vh(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const xt=J.call(l,wt,t,q,i,n);if(typeof xt=="string")for(const dt of l.splitLines(xt))et(Mt,{value:l.clipLine(dt)});else{const dt=new Set;for(const Ot of xt){const{label:At=""}=Ot;At&&dt.has(At)||(dt.add(At),et(Mt,Ot))}}})));function et(ot,{label:pt,value:wt,color:Mt,opacity:xt}){pt??(pt=""),wt??(wt="");const dt=Mt!=null||xt!=null;let Ot,At=b*100;const[jt]=af(pt,At,Q,V);if(jt>=0)pt=pt.slice(0,jt).trimEnd()+Eh,Ot=wt.trim(),wt="";else{(pt||!wt&&!dt)&&(wt=" "+wt);const[kt]=af(wt,At-Q(pt),Q,V);kt>=0&&(Ot=wt.trim(),wt=wt.slice(0,kt).trimEnd()+Eh)}const bt=ot.append("tspan").attr("x",0).attr("dy",`${A}em`).text("​");pt&&bt.append("tspan").attr("font-weight","bold").text(pt),wt&&bt.append(()=>m.createTextNode(wt)),dt&&bt.append("tspan").text(" ■").attr("fill",Mt).attr("fill-opacity",xt).style("user-select","none"),Ot&&bt.append("title").text(Ot)}function mt(){const{width:ot,height:pt}=a.facet??a;W.selectChildren().each(function(wt){let{x:Mt,width:xt,height:dt}=this.getBBox();xt=Math.round(xt),dt=Math.round(dt);let Ot=M;if(Ot===void 0){const bt=j(wt)+N,kt=z(wt)+U,Dt=bt+xt+E+v*2<ot,Xt=bt-xt-E-v*2>0,ae=kt+dt+E+v*2<pt,Jt=kt-dt-E-v*2>0;Ot=Dt&&Xt?ae&&Jt?l.preferredAnchor:Jt?"bottom":"top":ae&&Jt?Dt?"left":"right":(Dt||Xt)&&(ae||Jt)?`${Jt?"bottom":"top"}-${Dt?"left":"right"}`:l.preferredAnchor}const At=this.firstChild,jt=this.lastChild;if(At.setAttribute("d",Uot(Ot,E,v,xt,dt)),Mt)for(const bt of jt.childNodes)bt.setAttribute("x",-Mt);jt.setAttribute("y",`${+Not(Ot,jt.childNodes.length,A).toFixed(6)}em`),jt.setAttribute("transform",`translate(${Fot(Ot,E,v,xt,dt)})`)}),W.attr("visibility",null)}return t.length&&(W.attr("visibility","hidden"),g.isConnected?Promise.resolve().then(mt):typeof requestAnimationFrame<"u"&&requestAnimationFrame(mt)),W.node()}}function kot(e,{x:t,y:i,...n}={}){return n.frameAnchor===void 0&&([t,i]=Mm(t,i)),new Lot(e,{...n,x:t,y:i})}function Not(e,t,i){return/^top(?:-|$)/.test(e)?.94-i:-.29-t*i}function Fot(e,t,i,n,a){switch(e){case"middle":return[-n/2,a/2];case"top-left":return[i,t+i];case"top":return[-n/2,t/2+i];case"top-right":return[-n-i,t+i];case"right":return[-t/2-n-i,a/2];case"bottom-left":return[i,-t-i];case"bottom":return[-n/2,-t/2-i];case"bottom-right":return[-n-i,-t-i];case"left":return[i+t/2,a/2]}}function Uot(e,t,i,n,a){const s=n+i*2,l=a+i*2;switch(e){case"middle":return`M${-s/2},${-l/2}h${s}v${l}h${-s}z`;case"top-left":return`M0,0l${t},${t}h${s-t}v${l}h${-s}z`;case"top":return`M0,0l${t/2},${t/2}h${(s-t)/2}v${l}h${-s}v${-l}h${(s-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-s}v${l}h${s}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-l/2}h${-s}v${l}h${s}v${t/2-l/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${s-t}v${-l}h${-s}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(s-t)/2}v${-l}h${-s}v${l}h${(s-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-s}v${-l}h${s}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-l/2}h${s}v${l}h${-s}v${t/2-l/2}z`}}function PO(e,t){var a,s;const i={};let n=this.format;n=LO(n,e,"x"),n=LO(n,e,"y"),this.format=n;for(const l in n){const c=n[l];if(!(c===null||c===!1))if(l==="fx"||l==="fy")i[l]=!0;else{const d=cO(e,l);d&&(i[l]=d)}}for(const l in e){if(l in i||l in n||Pot.has(l)||(l==="x"||l==="y")&&e.geometry)continue;const c=cO(e,l);if(c){if(c.scale==null&&c.defaultScale==="color")continue;i[l]=c}}this.facet&&(t.fx&&!("fx"in n)&&(i.fx=!0),t.fy&&!("fy"in n)&&(i.fy=!0));for(const l in i){const c=this.format[l];if(typeof c=="string"){const d=((a=i[l])==null?void 0:a.value)??((s=t[l])==null?void 0:s.domain())??[];this.format[l]=(Is(d)?cm:pf)(c)}else if(c===void 0||c===!0){const d=t[l];this.format[l]=d!=null&&d.bandwidth?fv(d,d.domain()):nf}}return i}function LO(e,t,i){if(!(i in e))return e;const n=`${i}1`,a=`${i}2`;if((n in e||!(n in t))&&(a in e||!(a in t)))return e;const s=Object.entries(e),l=e[i];return s.splice(s.findIndex(([c])=>c===i)+1,0,[n,l],[a,l]),Object.fromEntries(s)}function $ot(e,t,{title:i}){return this.format.title(i.value[e],e)}function*Got(e,t,i,n,a){for(const s in i){if(s==="fx"||s==="fy"){yield{label:r8(n,i,s),value:this.format[s](t[s],e)};continue}if(s==="x1"&&"x2"in i||s==="y1"&&"y2"in i)continue;const l=i[s];if(s==="x2"&&"x1"in i)yield{label:NO(n,i,"x"),value:kO(this.format.x2,i.x1,l,e)};else if(s==="y2"&&"y1"in i)yield{label:NO(n,i,"y"),value:kO(this.format.y2,i.y1,l,e)};else{const c=l.value[e],d=l.scale;if(!Ws(c)&&d==null)continue;yield{label:r8(n,i,s),value:this.format[s](c,e),color:d==="color"?a[s][e]:null,opacity:d==="opacity"?a[s][e]:null}}}}function kO(e,t,i,n){var a;return(a=i.hint)!=null&&a.length?`${e(i.value[n]-t.value[n],n)}`:`${e(t.value[n],n)}–${e(i.value[n],n)}`}function NO(e,t,i){const n=r8(e,t,`${i}1`,i),a=r8(e,t,`${i}2`,i);return n===a?n:`${n}–${a}`}function r8(e,t,i,n=i){const a=t[i],s=e[(a==null?void 0:a.scale)??i];return String((s==null?void 0:s.label)??(a==null?void 0:a.label)??n)}function Sn(e={}){var V;const{facet:t,style:i,title:n,subtitle:a,caption:s,ariaLabel:l,ariaDescription:c}=e,d=p5(e.className),u=e.marks===void 0?[]:UO(e.marks);u.push(...Wot(u));const h=jot(t,e),g=new Map;for(const q of u){const J=$O(q,h,e);J&&g.set(q,J)}const m=new Map;h&&w1(m,[h],e),w1(m,g,e);const M=UO(qot(u,m,e));for(const q of M){const J=$O(q,h,e);J&&g.set(q,J)}u.unshift(...M);let p=Ost(m,e);if(p!==void 0){const q=h?Lg(p,h):void 0;for(const W of u){if(W.facet===null||W.facet==="super")continue;const et=g.get(W);et!==void 0&&(et.facetsIndex=W.fx!=null||W.fy!=null?Lg(p,et):q)}const J=new Set;for(const{facetsIndex:W}of g.values())W==null||W.forEach((et,mt)=>{(et==null?void 0:et.length)>0&&J.add(mt)});p.forEach(0<J.size&&J.size<p.length?(W,et)=>W.empty=!J.has(et):W=>W.empty=!1);for(const W of u)if(W.facet==="exclude"){const et=g.get(W);et!==void 0&&(et.facetsIndex=Tst(et.facetsIndex))}}for(const q of $a.keys())tA(e[q])&&q!=="fx"&&q!=="fy"&&m.set(q,[]);const A=new Map;for(const q of u){if(A.has(q))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:J,channels:W}=g.get(q)??{},{data:et,facets:mt,channels:ot}=q.initialize(J,W,e);Mv(ot,e),A.set(q,{data:et,facets:mt,channels:ot})}const b=aA(w1(m,A,e),e),v=m0t(b,u,e);Mst(b,v);const E=gO(b),{fx:x,fy:_}=E,C=x||_?zk(b,v):v,O=x||_?ilt(E,v):v,I=ev(e),T=I.document,D=I8("svg").call(T.documentElement);let P=D;I.ownerSVGElement=D,I.className=d,I.projection=Fst(e,C),I.filterFacets=(q,J)=>Lg(p,{channels:J,groups:tv(q,J)}),I.getMarkState=q=>{const J=A.get(q),W=g.get(q);return{...J,channels:{...J.channels,...W==null?void 0:W.channels}}},I.dispatchValue=q=>{P.value!==q&&(P.value=q,P.dispatchEvent(new Event("input",{bubbles:!0})))};const L=new Set;for(const[q,J]of A)if(q.initializer!=null){const W=q.facet==="super"?O:C,et=q.initializer(J.data,J.facets,J.channels,E,W,I);if(et.data!==void 0&&(J.data=et.data),et.facets!==void 0&&(J.facets=et.facets),et.channels!==void 0){const{fx:mt,fy:ot,...pt}=et.channels;zot(pt),Object.assign(J.channels,pt);for(const wt of Object.values(pt)){const{scale:Mt}=wt;Mt!=null&&!a9t($a.get(Mt))&&(tF(wt,e),L.add(Mt))}(mt!=null||ot!=null)&&g.set(q,!0)}}if(L.size){const q=new Map;w1(q,A,e,mt=>L.has(mt)),w1(m,A,e,mt=>L.has(mt));const J=elt(aA(q,e),b),{scales:W,...et}=gO(J);Object.assign(b,J),Object.assign(E,et),Object.assign(E.scales,W)}let N,U;p!==void 0&&(N={x:x==null?void 0:x.domain(),y:_==null?void 0:_.domain()},p=xst(p,N),U=Sst(x,_,v));for(const[q,J]of A)J.values=q.scale(J.channels,E,I);const{width:$,height:F}=v;vh(D).attr("class",d).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",$).attr("height",F).attr("viewBox",`0 0 ${$} ${F}`).attr("aria-label",l).attr("aria-description",c).call(q=>q.append("style").text(`:where(.${d}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${d} text),
:where(.${d} tspan) {
  white-space: pre;
}`)).call(nv,i);for(const q of u){const{channels:J,values:W,facets:et}=A.get(q);if(p===void 0||q.facet==="super"){let mt=null;if(et&&(mt=et[0],mt=q.filter(mt,J,W),mt.length===0))continue;const ot=q.render(mt,E,W,O,I);if(ot==null)continue;D.appendChild(ot)}else{let mt;for(const ot of p){if(!(((V=q.facetAnchor)==null?void 0:V.call(q,p,N,ot))??!ot.empty))continue;let pt=null;if(et){const Mt=g.has(q);if(pt=et[Mt?ot.i:0],pt=q.filter(pt,J,W),pt.length===0)continue;!Mt&&pt===et[0]&&(pt=qu(pt)),pt.fx=ot.x,pt.fy=ot.y,pt.fi=ot.i}const wt=q.render(pt,E,W,C,I);if(wt!=null){(mt??(mt=vh(D).append("g"))).append(()=>wt).datum(ot);for(const Mt of["aria-label","aria-description","aria-hidden","transform"])wt.hasAttribute(Mt)&&(mt.attr(Mt,wt.getAttribute(Mt)),wt.removeAttribute(Mt))}}mt==null||mt.selectChildren().attr("transform",U)}}const j=mot(b,I,e),{figure:z=n!=null||a!=null||s!=null||j.length>0}=e;z&&(P=T.createElement("figure"),P.className=`${d}-figure`,P.style.maxWidth="initial",n!=null&&P.append(FO(T,n,"h2")),a!=null&&P.append(FO(T,a,"h3")),P.append(...j,D),s!=null&&P.append(Vot(T,s)),"value"in D&&(P.value=D.value,delete D.value)),P.scale=Est(E.scales),P.legend=dot(b,I,e);const Q=tst();return Q>0&&vh(D).append("text").attr("x",$).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${Q.toLocaleString("en-US")} warning${Q===1?"":"s"}. Please check the console.`),P}function FO(e,t,i){if(t.ownerDocument)return t;const n=e.createElement(i);return n.append(t),n}function Vot(e,t){const i=e.createElement("figcaption");return i.append(t),i}function UO(e){return e.flat(1/0).filter(t=>t!=null).map(Hot)}function Hot(e){return typeof e.render=="function"?e:new Qot(e)}class Qot extends es{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Mv(e,t){for(const i in e)tF(e[i],t);return e}function tF(e,t){const{scale:i,transform:n=!0}=e;if(i==null||!n)return;const{type:a,percent:s,interval:l,transform:c=s?d=>d==null?NaN:d*100:mk(l,a)}=t[i]??{};c!=null&&(e.value=r9(e.value,c),e.transform=!1)}function zot(e){for(const t in e)Ik(t,e[t])}function w1(e,t,i,n=zat){var a,s;for(const{channels:l}of t.values())for(const c in l){const d=l[c],{scale:u}=d;if(u!=null&&n(u))if(u==="projection"){if(!Vst(i)){const h=((a=i.x)==null?void 0:a.domain)===void 0,g=((s=i.y)==null?void 0:s.domain)===void 0;if(h||g){const[m,M]=Qst(d);h&&Gg(e,"x",m),g&&Gg(e,"y",M)}}}else Gg(e,u,d)}return e}function Gg(e,t,i){const n=e.get(t);n!==void 0?n.push(i):e.set(t,[i])}function jot(e,t){if(e==null)return;const{x:i,y:n}=e;if(i==null&&n==null)return;const a=Zh(e.data);if(a==null)throw new Error("missing facet data");const s={};i!=null&&(s.fx=_2(a,{value:i,scale:"fx"})),n!=null&&(s.fy=_2(a,{value:n,scale:"fy"})),Mv(s,t);const l=tv(a,s);return{channels:s,groups:l,data:e.data}}function $O(e,t,i){if(e.facet===null||e.facet==="super")return;const{fx:n,fy:a}=e;if(n!=null||a!=null){const d=Zh(e.data??n??a);if(d===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(d===null)return;const u={};return n!=null&&(u.fx=_2(d,{value:n,scale:"fx"})),a!=null&&(u.fy=_2(d,{value:a,scale:"fy"})),Mv(u,i),{channels:u,groups:tv(d,u)}}if(t===void 0)return;const{channels:s,groups:l,data:c}=t;if(e.facet!=="auto"||e.data===c)return{channels:s,groups:l};c.length>0&&(l.size>1||l.size===1&&s.fx&&s.fy&&[...l][0][1].size>1)&&v2(Zh(e.data))===v2(c)&&El(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Jot(e,t={}){return ef({...t,x:null,y:null},(i,n,a,s,l,c)=>c.getMarkState(e))}function Wot(e){const t=[];for(const i of e){let n=i.tip;if(n){n===!0?n={}:typeof n=="string"&&(n={pointer:n});let{pointer:a,preferredAnchor:s}=n;a=/^x$/i.test(a)?M0t:/^y$/i.test(a)?EO:g0t,n=a(Jot(i,n)),n.title=null,s===void 0&&(n.preferredAnchor=a===EO?"left":"bottom");const l=kot(i.data,n);l.facet=i.facet,l.facetAnchor=i.facetAnchor,t.push(l)}}return t}function qot(e,t,i){let{projection:n,x:a={},y:s={},fx:l={},fy:c={},axis:d,grid:u,facet:h={},facet:{axis:g=d,grid:m}=h,x:{axis:M=d,grid:p=M===null?null:u}=a,y:{axis:A=d,grid:b=A===null?null:u}=s,fx:{axis:v=g,grid:E=v===null?null:m}=l,fy:{axis:x=g,grid:_=x===null?null:m}=c}=i;(n||!tA(a)&&!GO("x",e))&&(M=p=null),(n||!tA(s)&&!GO("y",e))&&(A=b=null),t.has("fx")||(v=E=null),t.has("fy")||(x=_=null),M===void 0&&(M=!U4(e,"x")),A===void 0&&(A=!U4(e,"y")),v===void 0&&(v=!U4(e,"fx")),x===void 0&&(x=!U4(e,"fy")),M===!0&&(M="bottom"),A===!0&&(A="left"),v===!0&&(v=M==="top"||M===null?"bottom":"top"),x===!0&&(x=A==="right"||A===null?"left":"right");const C=[];return F4(C,_,eot,c),N4(C,x,W0t,"right","left",h,c),F4(C,E,not,l),N4(C,v,q0t,"top","bottom",h,l),F4(C,b,tot,s),N4(C,A,Io,"left","right",i,s),F4(C,p,iot,a),N4(C,M,TN,"bottom","top",i,a),C}function N4(e,t,i,n,a,s,l){if(!t)return;const c=Kot(t);l=Xot(c?n:t,s,l);const{line:d}=l;(i===Io||i===TN)&&d&&!C2(d)&&e.push(Dot(Yot(l))),e.push(i(l)),c&&e.push(i({...l,anchor:a,label:null}))}function F4(e,t,i,n){!t||C2(t)||e.push(i(Zot(t,n)))}function Kot(e){return/^\s*both\s*$/i.test(e)}function Xot(e,t,{line:i=t.line,ticks:n,tickSize:a,tickSpacing:s,tickPadding:l,tickFormat:c,tickRotate:d,fontVariant:u,ariaLabel:h,ariaDescription:g,label:m=t.label,labelAnchor:M,labelArrow:p=t.labelArrow,labelOffset:A}){return{anchor:e,line:i,ticks:n,tickSize:a,tickSpacing:s,tickPadding:l,tickFormat:c,tickRotate:d,fontVariant:u,ariaLabel:h,ariaDescription:g,label:m,labelAnchor:M,labelArrow:p,labelOffset:A}}function Yot(e){const{anchor:t,line:i}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:i===!0?void 0:i}}function Zot(e,{stroke:t=l5(e)?e:void 0,ticks:i=tlt(e)?e:void 0,tickSpacing:n,ariaLabel:a,ariaDescription:s}){return{stroke:t,ticks:i,tickSpacing:n,ariaLabel:a,ariaDescription:s}}function tlt(e){switch(typeof e){case"number":return!0;case"string":return!l5(e)}return Jc(e)||typeof(e==null?void 0:e.range)=="function"}function U4(e,t){const i=`${t}-axis `;return e.some(n=>{var a;return(a=n.ariaLabel)==null?void 0:a.startsWith(i)})}function GO(e,t){for(const i of t)for(const n in i.channels){const{scale:a}=i.channels[n];if(a===e||a==="projection")return!0}return!1}function elt(e,t){for(const i in e){const n=e[i],a=t[i];n.label===void 0&&a&&(n.label=a.label)}return e}function ilt({fx:e,fy:t},i){const{marginTop:n,marginRight:a,marginBottom:s,marginLeft:l,width:c,height:d}=Zy(i),u=e&&VO(e),h=t&&VO(t);return{marginTop:t?h[0]:n,marginRight:e?c-u[1]:a,marginBottom:t?d-h[1]:s,marginLeft:e?u[0]:l,inset:{marginTop:i.marginTop,marginRight:i.marginRight,marginBottom:i.marginBottom,marginLeft:i.marginLeft},width:c,height:d}}function VO(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let i=e(t[0]),n=e(t[t.length-1]);return n<i&&([i,n]=[n,i]),[i,n+e.bandwidth()]}const nlt=new Map([["basis",GZ],["basis-closed",VZ],["basis-open",HZ],["bundle",QZ],["bump-x",IZ],["bump-y",BZ],["cardinal",zZ],["cardinal-closed",jZ],["cardinal-open",JZ],["catmull-rom",WZ],["catmull-rom-closed",qZ],["catmull-rom-open",KZ],["linear",um],["linear-closed",XZ],["monotone-x",YZ],["monotone-y",ZZ],["natural",ttt],["step",ett],["step-after",ntt],["step-before",itt]]);function eF(e=um,t){if(typeof e=="function")return e;const i=nlt.get(`${e}`.toLowerCase());if(!i)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in i)return i.beta(t);if("tension"in i)return i.tension(t);if("alpha"in i)return i.alpha(t)}return i}function iF(e=sf,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?sf:eF(e,t)}function sf(e){return um(e)}function _5(e={y:"count"},t={}){[e,t]=slt(e,t);const{x:i,y:n}=t;return alt(olt(i,t,ra),null,null,n,e,M5(t))}function rlt(e,t,i={}){if((i==null?void 0:i.interval)==null)return i;const{reduce:n=qy}=i,a={filter:null};return i[t]!=null&&(a[t]=n),i[`${t}1`]!=null&&(a[`${t}1`]=n),i[`${t}2`]!=null&&(a[`${t}2`]=n),e(a,i)}function nF(e={}){return rlt(_5,"y",vf(e,"x"))}function alt(e,t,i,n,{data:a=Wy,filter:s=n8,sort:l,reverse:c,...d}={},u={}){e=HO(e),t=HO(t),d=clt(d,u),a=sF(a,ra),l=l==null?void 0:rF("sort",l,u),s=s==null?void 0:aF("filter",s,u),n!=null&&X1(d,"y","y1","y2")&&(n=null);const[h,g]=Cs(e),[m,M]=Cs(e),[p,A]=Cs(t),[b,v]=Cs(t),[E,x]=n!=null?[n,"y"]:[],[_,C]=Cs(E),{x:O,y:I,z:T,fill:D,stroke:P,x1:L,x2:N,y1:U,y2:$,domain:F,cumulative:j,thresholds:z,interval:Q,...V}=u,[q,J]=Cs(T),[W]=_0(D),[et]=_0(P),[mt,ot]=Cs(W),[pt,wt]=Cs(et);return{..."z"in u&&{z:q||T},..."fill"in u&&{fill:mt||D},..."stroke"in u&&{stroke:pt||P},...yf(V,(Mt,xt,dt)=>{const Ot=i8(ma(Mt,E),dt==null?void 0:dt[x]),At=ma(Mt,T),jt=ma(Mt,W),bt=ma(Mt,et),kt=xk(d,{z:At,fill:jt,stroke:bt}),Dt=[],Xt=[],ae=Ot&&C([]),Jt=At&&J([]),le=jt&&ot([]),Ve=bt&&wt([]),ai=e&&g([]),Ye=e&&M([]),ci=t&&A([]),ei=t&&v([]),Ze=hlt(e,t,Mt);let be=0;for(const ve of d)ve.initialize(Mt);l&&l.initialize(Mt),s&&s.initialize(Mt);for(const ve of xt){const re=[];for(const Et of d)Et.scope("facet",ve);l&&l.scope("facet",ve),s&&s.scope("facet",ve);for(const[Et,vt]of Y1(ve,kt))for(const[Ht,St]of Y1(vt,Ot))for(const[It,zt]of Ze(St))if(kt&&(zt.z=Et),!(s&&!s.reduce(It,zt))){re.push(be++),Xt.push(a.reduceIndex(It,Mt,zt)),Ot&&ae.push(Ht),At&&Jt.push(kt===At?Et:At[(It.length>0?It:St)[0]]),jt&&le.push(kt===jt?Et:jt[(It.length>0?It:St)[0]]),bt&&Ve.push(kt===bt?Et:bt[(It.length>0?It:St)[0]]),ai&&(ai.push(zt.x1),Ye.push(zt.x2)),ci&&(ci.push(zt.y1),ei.push(zt.y2));for(const ht of d)ht.reduce(It,zt);l&&l.reduce(It,zt)}Dt.push(re)}return Sk(Dt,l,c),{data:Xt,facets:Dt}}),...!X1(d,"x")&&(h?{x1:h,x2:m,x:e8(h,m)}:{x:O,x1:L,x2:N}),...!X1(d,"y")&&(p?{y1:p,y2:b,y:e8(p,b)}:{y:I,y1:U,y2:$}),..._&&{[x]:_},...Object.fromEntries(d.map(({name:Mt,output:xt})=>[Mt,xt]))}}function slt({cumulative:e,domain:t,thresholds:i,interval:n,...a},s){return[a,{cumulative:e,domain:t,thresholds:i,interval:n,...s}]}function olt(e,{cumulative:t,domain:i,thresholds:n,interval:a},s){return e={...Af(e)},e.domain===void 0&&(e.domain=i),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=n),e.interval===void 0&&(e.interval=a),e.value===void 0&&(e.value=s),e.thresholds=llt(e.thresholds,e.interval),e}function HO(e){if(e==null)return;const{value:t,cumulative:i,domain:n=Ua,thresholds:a}=e,s=l=>{let c=ma(l,t),d;if(Is(c)||dlt(a)){c=r9(c,ok,Float64Array);let[h,g]=typeof n=="function"?n(c):n,m=typeof a=="function"&&!hh(a)?a(c,h,g):a;typeof m=="number"&&(m=tD(h,g,m)),hh(m)&&(n===Ua&&(h=m.floor(h),g=m.offset(m.floor(g))),m=m.range(h,m.offset(g))),d=m}else{c=bo(c);let[h,g]=typeof n=="function"?n(c):n,m=typeof a=="function"&&!hh(a)?a(c,h,g):a;if(typeof m=="number")if(n===Ua){let M=ed(h,g,m);if(isFinite(M))if(M>0){let p=Math.round(h/M),A=Math.round(g/M);p*M<=h||--p,A*M>g||++A;let b=A-p+1;m=new Float64Array(b);for(let v=0;v<b;++v)m[v]=(p+v)*M}else if(M<0){M=-M;let p=Math.round(h*M),A=Math.round(g*M);p/M<=h||--p,A/M>g||++A;let b=A-p+1;m=new Float64Array(b);for(let v=0;v<b;++v)m[v]=(p+v)/M}else m=[h];else m=[h]}else m=Nh(h,g,m);else hh(m)&&(n===Ua&&(h=m.floor(h),g=m.offset(m.floor(g))),m=m.range(h,m.offset(g)));d=m}const u=[];if(d.length===1)u.push([d[0],d[0]]);else for(let h=1;h<d.length;++h)u.push([d[h-1],d[h]]);return u.bin=(i<0?mlt:i>0?flt:Av)(u,d,c),u};return s.label=jc(t),s}function llt(e,t,i=QO){if(e===void 0)return t===void 0?i:Mf(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return aJ;case"scott":return hB;case"sturges":return cB;case"auto":return QO}return ky(e)}return e}function clt(e,t){return _k(e,t,rF)}function rF(e,t,i){return jy(e,t,i,aF)}function aF(e,t,i){return Jy(e,t,i,sF)}function sF(e,t){return d5(e,t,ult)}function ult(e){switch(`${e}`.toLowerCase()){case"x":return plt;case"x1":return Mlt;case"x2":return Alt;case"y":return glt;case"y1":return ylt;case"y2":return vlt;case"z":return Tk}throw new Error(`invalid bin reduce: ${e}`)}function QO(e,t,i){return Math.min(200,hB(e,t,i))}function dlt(e){return Wat(e)||Jc(e)&&Is(e)}function hlt(e,t,i){const n=e==null?void 0:e(i),a=t==null?void 0:t(i);return n&&a?function*(s){const l=n.bin(s);for(const[c,[d,u]]of n.entries()){const h=a.bin(l[c]);for(const[g,[m,M]]of a.entries())yield[h[g],{data:i,x1:d,y1:m,x2:u,y2:M}]}}:n?function*(s){const l=n.bin(s);for(const[c,[d,u]]of n.entries())yield[l[c],{data:i,x1:d,x2:u}]}:function*(s){const l=a.bin(s);for(const[c,[d,u]]of a.entries())yield[l[c],{data:i,y1:d,y2:u}]}}function Av(e,t,i){return t=bo(t),n=>{var s;const a=e.map(()=>[]);for(const l of n)(s=a[j2(t,i[l])-1])==null||s.push(l);return a}}function flt(e,t,i){const n=Av(e,t,i);return a=>{const s=n(a);for(let l=1,c=s.length;l<c;++l){const d=s[l-1],u=s[l];for(const h of d)u.push(h)}return s}}function mlt(e,t,i){const n=Av(e,t,i);return a=>{const s=n(a);for(let l=s.length-2;l>=0;--l){const c=s[l+1],d=s[l];for(const u of c)d.push(u)}return s}}function oF(e,t){const i=(+e+ +t)/2;return e instanceof Date?new Date(i):i}const plt={reduceIndex(e,t,{x1:i,x2:n}){return oF(i,n)}},glt={reduceIndex(e,t,{y1:i,y2:n}){return oF(i,n)}},Mlt={reduceIndex(e,t,{x1:i}){return i}},Alt={reduceIndex(e,t,{x2:i}){return i}},ylt={reduceIndex(e,t,{y1:i}){return i}},vlt={reduceIndex(e,t,{y2:i}){return i}},blt={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class lF extends es{constructor(t,i={}){const{x1:n,y1:a,x2:s,y2:l,z:c,curve:d,tension:u}=i;super(t,{x1:{value:n,scale:"x"},y1:{value:a,scale:"y"},x2:{value:s,scale:"x",optional:!0},y2:{value:l,scale:"y",optional:!0},z:{value:s5(i),optional:!0}},i,blt),this.z=c,this.curve=eF(d,u)}filter(t){return t}render(t,i,n,a,s){const{x1:l,y1:c,x2:d=l,y2:u=c}=n;return Da("svg:g",s).call(Rs,this,a,s).call(ps,this,i,0,0).call(h=>h.selectAll().data(Zk(t,[l,c,d,u],this,n)).enter().append("path").call(Z9,this).call(Yk,this,n).attr("d",TZ().curve(this.curve).defined(g=>g>=0).x0(g=>l[g]).y0(g=>c[g]).x1(g=>d[g]).y1(g=>u[g]))).node()}}function zO(e,t){return t===void 0?E5(e,{x:Uy,y:t8}):new lF(e,t)}function E5(e,t){const{x:i=Ll,...n}=nF(t);return new lF(e,b5(v5({...n,x1:i,x2:void 0})))}const Clt={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class _lt extends es{constructor(t,i={}){const{x1:n,y1:a,x2:s,y2:l,curve:c,tension:d}=i;super(t,{x1:{value:n,scale:"x"},y1:{value:a,scale:"y"},x2:{value:s,scale:"x",optional:!0},y2:{value:l,scale:"y",optional:!0}},i,Clt),this.curve=iF(c,d),Em(this,i)}project(t,i,n){this.curve!==sf&&super.project(t,i,n)}render(t,i,n,a,s){const{x1:l,y1:c,x2:d=l,y2:u=c}=n,{curve:h}=this;return Da("svg:g",s).call(Rs,this,a,s).call(ps,this,i).call(g=>g.selectAll().data(t).enter().append("path").call(Z9,this).attr("d",h===sf&&s.projection?Elt(s.projection,l,c,d,u):m=>{const M=Ec(),p=h(M);return p.lineStart(),p.point(l[m],c[m]),p.point(d[m],u[m]),p.lineEnd(),M}).call(Ys,this,n).call(g5,this,n,s)).node()}}function Elt(e,t,i,n,a){const s=Y2(e);return t=bo(t),i=bo(i),n=bo(n),a=bo(a),l=>s({type:"LineString",coordinates:[[t[l],i[l]],[n[l],a[l]]]})}function jO(e,{x:t,x1:i,x2:n,y:a,y1:s,y2:l,...c}={}){return[i,n]=JO(t,i,n),[s,l]=JO(a,s,l),new _lt(e,{...c,x1:i,x2:n,y1:s,y2:l})}function JO(e,t,i){if(e===void 0){if(t===void 0){if(i!==void 0)return[i]}else if(i===void 0)return[t]}else{if(t===void 0)return i===void 0?[e]:[e,i];if(i===void 0)return[e,t]}return[t,i]}const wlt={ariaLabel:"bar"};class yv extends es{constructor(t,i,n={},a=wlt){super(t,i,n,a),mv(this,n),pv(this,n)}render(t,i,n,a,s){const{rx:l,ry:c,rx1y1:d,rx1y2:u,rx2y1:h,rx2y2:g}=this,m=this._x(i,n,a),M=this._y(i,n,a),p=this._width(i,n,a),A=this._height(i,n,a);return Da("svg:g",s).call(Rs,this,a,s).call(this._transform,this,i).call(b=>b.selectAll().data(t).enter().call(d||u||h||g?v=>v.append("path").call(Z9,this).call(gv,m,M,WO(m,p),WO(M,A),this).call(Ys,this,n):v=>v.append("rect").call(Z9,this).attr("x",m).attr("width",p).attr("y",M).attr("height",A).call(Gn,"rx",l).call(Gn,"ry",c).call(Ys,this,n))).node()}_x(t,{x:i},{marginLeft:n}){const{insetLeft:a}=this;return i?s=>i[s]+a:n+a}_y(t,{y:i},{marginTop:n}){const{insetTop:a}=this;return i?s=>i[s]+a:n+a}_width({x:t},{x:i},{marginRight:n,marginLeft:a,width:s}){const{insetLeft:l,insetRight:c}=this,d=i&&t?t.bandwidth():s-n-a;return Math.max(0,d-l-c)}_height({y:t},{y:i},{marginTop:n,marginBottom:a,height:s}){const{insetTop:l,insetBottom:c}=this,d=i&&t?t.bandwidth():s-n-a;return Math.max(0,d-l-c)}}function WO(e,t){return typeof e=="function"&&typeof t=="function"?i=>e(i)+t(i):typeof e=="function"?i=>e(i)+t:typeof t=="function"?i=>e+t(i):e+t}class cF extends yv{constructor(t,i={},n){const{x1:a,x2:s,y:l}=i;super(t,{x1:{value:a,scale:"x"},x2:{value:s,scale:"x"},y:{value:l,scale:"y",type:"band",optional:!0}},i,n)}_transform(t,i,{x:n}){t.call(ps,i,{x:n},0,0)}_x({x:t},{x1:i,x2:n},{marginLeft:a}){const{insetLeft:s}=this;return To(t)?a+s:l=>Math.min(i[l],n[l])+s}_width({x:t},{x1:i,x2:n},{marginRight:a,marginLeft:s,width:l}){const{insetLeft:c,insetRight:d}=this;return To(t)?l-a-s-c-d:u=>Math.max(0,Math.abs(n[u]-i[u])-c-d)}}class uF extends yv{constructor(t,i={},n){const{x:a,y1:s,y2:l}=i;super(t,{y1:{value:s,scale:"y"},y2:{value:l,scale:"y"},x:{value:a,scale:"x",type:"band",optional:!0}},i,n)}_transform(t,i,{y:n}){t.call(ps,i,{y:n},0,0)}_y({y:t},{y1:i,y2:n},{marginTop:a}){const{insetTop:s}=this;return To(t)?a+s:l=>Math.min(i[l],n[l])+s}_height({y:t},{y1:i,y2:n},{marginTop:a,marginBottom:s,height:l}){const{insetTop:c,insetBottom:d}=this;return To(t)?l-a-s-c-d:u=>Math.max(0,Math.abs(n[u]-i[u])-c-d)}}function dF(e,t={}){return gm(t)||(t={...t,y:Ll,x2:ra}),new cF(e,zN(ov(QN(t))))}function Md(e,t={}){return gm(t)||(t={...t,x:Ll,y2:ra}),new uF(e,b5(lv(v5(t))))}const Olt={ariaLabel:"cell"};class xlt extends yv{constructor(t,{x:i,y:n,...a}={}){super(t,{x:{value:i,scale:"x",type:"band",optional:!0},y:{value:n,scale:"y",type:"band",optional:!0}},a,Olt)}_transform(t,i){t.call(ps,i,{},0,0)}}function a8(e,{x:t,y:i,...n}={}){return[t,i]=Mm(t,i),new xlt(e,{...n,x:t,y:i})}const Slt={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Tlt(e){return e.sort===void 0&&e.reverse===void 0?f9t({channel:"-r"},e):e}class hF extends es{constructor(t,i={}){const{x:n,y:a,r:s,rotate:l,symbol:c=m2,frameAnchor:d}=i,[u,h]=hs(l,0),[g,m]=d9t(c),[M,p]=hs(s,g==null?3:4.5);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},r:{value:M,scale:"r",filter:n5,optional:!0},rotate:{value:u,optional:!0},symbol:{value:g,scale:"auto",optional:!0}},Tlt(i),Slt),this.r=p,this.rotate=h,this.symbol=m,this.frameAnchor=c5(d);const{channels:A}=this,{symbol:b}=A;if(b){const{fill:v,stroke:E}=A;b.hint={fill:v?v.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:E?E.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(t,i,n,a,s){const{x:l,y:c}=i,{x:d,y:u,r:h,rotate:g,symbol:m}=n,{r:M,rotate:p,symbol:A}=this,[b,v]=_m(this,a),E=A===m2,x=h?void 0:M*M*Math.PI;return Dy(M)&&(t=[]),Da("svg:g",s).call(Rs,this,a,s).call(ps,this,{x:d&&l,y:u&&c}).call(_=>_.selectAll().data(t).enter().append(E?"circle":"path").call(Z9,this).call(E?C=>{C.attr("cx",d?O=>d[O]:b).attr("cy",u?O=>u[O]:v).attr("r",h?O=>h[O]:M)}:C=>{C.attr("transform",w2`translate(${d?O=>d[O]:b},${u?O=>u[O]:v})${g?O=>` rotate(${g[O]})`:p?` rotate(${p})`:""}`).attr("d",h&&m?O=>{const I=Ec();return m[O].draw(I,h[O]*h[O]*Math.PI),I}:h?O=>{const I=Ec();return A.draw(I,h[O]*h[O]*Math.PI),I}:m?O=>{const I=Ec();return m[O].draw(I,x),I}:(()=>{const O=Ec();return A.draw(O,x),O})())}).call(Ys,this,n)).node()}}function js(e,{x:t,y:i,...n}={}){return n.frameAnchor===void 0&&([t,i]=Mm(t,i)),new hF(e,{...n,x:t,y:i})}function Ilt(e,{x:t=ra,...i}={}){return new hF(e,hN({...i,x:t}))}const Blt={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class fF extends es{constructor(t,i={}){const{x:n,y:a,z:s,curve:l,tension:c}=i;super(t,{x:{value:n,scale:"x"},y:{value:a,scale:"y"},z:{value:s5(i),optional:!0}},i,Blt),this.z=s,this.curve=iF(l,c),Em(this,i)}filter(t){return t}project(t,i,n){this.curve!==sf&&super.project(t,i,n)}render(t,i,n,a,s){const{x:l,y:c}=n,{curve:d}=this;return Da("svg:g",s).call(Rs,this,a,s).call(ps,this,i).call(u=>u.selectAll().data(Zk(t,[l,c],this,n)).enter().append("path").call(Z9,this).call(Yk,this,n).call(C0t,this,n,s).attr("d",d===sf&&s.projection?Rlt(s.projection,l,c):CP().curve(d).defined(h=>h>=0).x(h=>l[h]).y(h=>c[h]))).node()}}function Rlt(e,t,i){const n=Y2(e);return t=bo(t),i=bo(i),a=>{let s=[];const l=[s];for(const c of a)c===-1?(s=[],l.push(s)):s.push([t[c],i[c]]);return n({type:"MultiLineString",coordinates:l})}}function vv(e,{x:t,y:i,...n}={}){return[t,i]=Mm(t,i),new fF(e,{...n,x:t,y:i})}function Dlt(e,{x:t=Ll,y:i=ra,...n}={}){return new fF(e,nF({...n,x:t,y:i}))}function Plt(e,t={}){let{y:i,y1:n,y2:a}=t;i===void 0&&n===void 0&&a===void 0&&(t={...t,y:i=ra});const s={};return i!=null&&(s.y=e),n!=null&&(s.y1=e),a!=null&&(s.y2=e),Llt(s,t)}function Llt(e={},t={}){const i=s5(t),n=Object.entries(e).map(([a,s])=>{const l=fk(a,t);if(l==null)throw new Error(`missing channel: ${a}`);const[c,d]=b2(l);return{key:a,input:l,output:c,setOutput:d,map:klt(s)}});return{...yf(t,(a,s)=>{const l=ma(a,i),c=n.map(({input:u})=>ma(a,u)),d=n.map(({setOutput:u})=>u(new Array(a.length)));for(const u of s)for(const h of l?W2(u,g=>l[g]).values():[u])n.forEach(({map:g},m)=>g.mapIndex(h,c[m],d[m]));return{data:a,facets:s}}),...Object.fromEntries(n.map(({key:a,output:s})=>[a,s]))}}function klt(e){if(e==null)throw new Error("missing map");if(typeof e.mapIndex=="function")return e;if(typeof e.map=="function"&&kl(e))return Nlt(e);if(typeof e=="function")return Vg(hk(e));switch(`${e}`.toLowerCase()){case"cumsum":return Ult;case"rank":return Vg((t,i)=>mB(t,n=>i[n]));case"quantile":return Vg((t,i)=>Flt(t,n=>i[n]))}throw new Error(`invalid map: ${e}`)}function Nlt(e){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:e.map.bind(e)}}function Flt(e,t){const i=O8(e,t)-1;return mB(e,t).map(n=>n/i)}function Vg(e){return{mapIndex(t,i,n){const a=e(t,i);if(a.length!==t.length)throw new Error("map function returned a mismatched length");for(let s=0,l=t.length;s<l;++s)n[t[s]]=a[s]}}}const Ult={mapIndex(e,t,i){let n=0;for(const a of e)i[a]=n+=t[a]}};function $lt(e={},t){return arguments.length===1&&(t=e),Plt(Glt(e),t)}function Glt(e={}){typeof e=="number"&&(e={k:e});let{k:t,reduce:i,shift:n,anchor:a,strict:s}=e;if(a===void 0&&n!==void 0&&(a=Hlt(n),El(`Warning: the shift option is deprecated; please use anchor "${a}" instead.`)),!((t=Math.floor(t))>0))throw new Error(`invalid k: ${t}`);return Qlt(i)(t,Vlt(a,t),s)}function Vlt(e="middle",t){switch(`${e}`.toLowerCase()){case"middle":return t-1>>1;case"start":return 0;case"end":return t-1}throw new Error(`invalid anchor: ${e}`)}function Hlt(e){switch(`${e}`.toLowerCase()){case"centered":return"middle";case"leading":return"start";case"trailing":return"end"}throw new Error(`invalid shift: ${e}`)}function Qlt(e="mean"){if(typeof e=="string"){if(/^p\d{2}$/i.test(e))return $4(ak(e));switch(e.toLowerCase()){case"deviation":return $4(kA);case"max":return G4((t,i)=>Ca(t,n=>i[n]));case"mean":return zlt;case"median":return $4(Uh);case"min":return G4((t,i)=>Y9(t,n=>i[n]));case"mode":return G4((t,i)=>S8(t,n=>i[n]));case"sum":return mF;case"variance":return $4(LA);case"difference":return Wlt;case"ratio":return qlt;case"first":return Klt;case"last":return Xlt}}if(typeof e!="function")throw new Error(`invalid reduce: ${e}`);return G4(hk(e))}function $4(e){return(t,i,n)=>n?{mapIndex(a,s,l){const c=u=>s[u]==null?NaN:+s[u];let d=0;for(let u=0;u<t-1;++u)isNaN(c(u))&&++d;for(let u=0,h=a.length-t+1;u<h;++u)isNaN(c(u+t-1))&&++d,l[a[u+i]]=d===0?e(qu(a,u,u+t),c):NaN,isNaN(c(u))&&--d}}:{mapIndex(a,s,l){const c=d=>s[d]==null?NaN:+s[d];for(let d=-i;d<0;++d)l[a[d+i]]=e(qu(a,0,d+t),c);for(let d=0,u=a.length-i;d<u;++d)l[a[d+i]]=e(qu(a,d,d+t),c)}}}function G4(e){return(t,i,n)=>n?{mapIndex(a,s,l){let c=0;for(let d=0;d<t-1;++d)c+=Ws(s[a[d]]);for(let d=0,u=a.length-t+1;d<u;++d)c+=Ws(s[a[d+t-1]]),c===t&&(l[a[d+i]]=e(qu(a,d,d+t),s)),c-=Ws(s[a[d]])}}:{mapIndex(a,s,l){for(let c=-i;c<0;++c)l[a[c+i]]=e(qu(a,0,c+t),s);for(let c=0,d=a.length-i;c<d;++c)l[a[c+i]]=e(qu(a,c,c+t),s)}}}function mF(e,t,i){return i?{mapIndex(n,a,s){let l=0,c=0;for(let d=0;d<e-1;++d){const u=a[n[d]];u===null||isNaN(u)?++l:c+=+u}for(let d=0,u=n.length-e+1;d<u;++d){const h=a[n[d]],g=a[n[d+e-1]];g===null||isNaN(g)?++l:c+=+g,s[n[d+t]]=l===0?c:NaN,h===null||isNaN(h)?--l:c-=+h}}}:{mapIndex(n,a,s){let l=0;const c=n.length;for(let d=0,u=Math.min(c,e-t-1);d<u;++d)l+=+a[n[d]]||0;for(let d=-t,u=c-t;d<u;++d)l+=+a[n[d+e-1]]||0,s[n[d+t]]=l,l-=+a[n[d]]||0}}}function zlt(e,t,i){if(i){const n=mF(e,t,i);return{mapIndex(a,s,l){n.mapIndex(a,s,l);for(let c=0,d=a.length-e+1;c<d;++c)l[a[c+t]]/=e}}}else return{mapIndex(n,a,s){let l=0,c=0;const d=n.length;for(let u=0,h=Math.min(d,e-t-1);u<h;++u){let g=a[n[u]];g!==null&&!isNaN(g=+g)&&(l+=g,++c)}for(let u=-t,h=d-t;u<h;++u){let g=a[n[u+e-1]],m=a[n[u]];g!==null&&!isNaN(g=+g)&&(l+=g,++c),s[n[u+t]]=l/c,m!==null&&!isNaN(m=+m)&&(l-=m,--c)}}}}function jlt(e,t,i,n){for(let a=i+n;i<a;++i){const s=e[t[i]];if(Ws(s))return s}}function Jlt(e,t,i,n){for(let a=i+n-1;a>=i;--a){const s=e[t[a]];if(Ws(s))return s}}function pF(e,t,i,n){for(let a=i+n;i<a;++i){let s=e[t[i]];if(s!==null&&!isNaN(s=+s))return s}}function gF(e,t,i,n){for(let a=i+n-1;a>=i;--a){let s=e[t[a]];if(s!==null&&!isNaN(s=+s))return s}}function Wlt(e,t,i){return i?{mapIndex(n,a,s){for(let l=0,c=n.length-e;l<c;++l){const d=a[n[l]],u=a[n[l+e-1]];s[n[l+t]]=d===null||u===null?NaN:u-d}}}:{mapIndex(n,a,s){for(let l=-t,c=n.length-e+t+1;l<c;++l)s[n[l+t]]=gF(a,n,l,e)-pF(a,n,l,e)}}}function qlt(e,t,i){return i?{mapIndex(n,a,s){for(let l=0,c=n.length-e;l<c;++l){const d=a[n[l]],u=a[n[l+e-1]];s[n[l+t]]=d===null||u===null?NaN:u/d}}}:{mapIndex(n,a,s){for(let l=-t,c=n.length-e+t+1;l<c;++l)s[n[l+t]]=gF(a,n,l,e)/pF(a,n,l,e)}}}function Klt(e,t,i){return i?{mapIndex(n,a,s){for(let l=0,c=n.length-e;l<c;++l)s[n[l+t]]=a[n[l]]}}:{mapIndex(n,a,s){for(let l=-t,c=n.length-e+t+1;l<c;++l)s[n[l+t]]=jlt(a,n,l,e)}}}function Xlt(e,t,i){return i?{mapIndex(n,a,s){for(let l=0,c=n.length-e;l<c;++l)s[n[l+t]]=a[n[l+e-1]]}}:{mapIndex(n,a,s){for(let l=-t,c=n.length-e+t+1;l<c;++l)s[n[l+t]]=Jlt(a,n,l,e)}}}const Ylt={ariaLabel:"tick",fill:null,stroke:"currentColor"};class Zlt extends es{constructor(t,i,n){super(t,i,n,Ylt),Em(this,n)}render(t,i,n,a,s){return Da("svg:g",s).call(Rs,this,a,s).call(this._transform,this,i).call(l=>l.selectAll().data(t).enter().append("line").call(Z9,this).attr("x1",this._x1(i,n,a)).attr("x2",this._x2(i,n,a)).attr("y1",this._y1(i,n,a)).attr("y2",this._y2(i,n,a)).call(Ys,this,n).call(g5,this,n,s)).node()}}class tct extends Zlt{constructor(t,i={}){const{x:n,y:a,inset:s=0,insetTop:l=s,insetBottom:c=s}=i;super(t,{x:{value:n,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},i),this.insetTop=O9(l),this.insetBottom=O9(c)}_transform(t,i,{x:n}){t.call(ps,i,{x:n},ws,0)}_x1(t,{x:i}){return n=>i[n]}_x2(t,{x:i}){return n=>i[n]}_y1({y:t},{y:i},{marginTop:n}){const{insetTop:a}=this;return i&&t?s=>i[s]+a:n+a}_y2({y:t},{y:i},{height:n,marginBottom:a}){const{insetBottom:s}=this;return i&&t?l=>i[l]+t.bandwidth()-s:n-a-s}}function L9(e,{x:t=ra,...i}={}){return new tct(e,{...i,x:t})}function ect(e,t){return ict("y",e,t)}function ict(e,t,{x1:i,x2:n,y1:a,y2:s,x:l=i===void 0&&n===void 0?Ll:void 0,y:c=a===void 0&&s===void 0?ra:void 0,fill:d,positiveFill:u="#3ca951",negativeFill:h="#4269d0",fillOpacity:g=1,positiveFillOpacity:m=g,negativeFillOpacity:M=g,stroke:p,strokeOpacity:A,z:b=_0(p)[0],clip:v,tip:E,render:x,..._}={}){return[i,n]=qO(l,i,n),[a,s]=qO(c,a,s),i===n&&a===s&&(a=dc(0)),{tip:E}=vf({tip:E},"x"),rv(J9(u)?null:Object.assign(zO(t,{x1:i,x2:n,y1:a,y2:s,z:b,fill:u,fillOpacity:m,render:rf(x,KO(e,!0)),clip:v,..._}),{ariaLabel:"positive difference"}),J9(h)?null:Object.assign(zO(t,{x1:i,x2:n,y1:a,y2:s,z:b,fill:h,fillOpacity:M,render:rf(x,KO(e,!1)),clip:v,..._}),{ariaLabel:"negative difference"}),vv(t,{x:n,y:s,z:b,stroke:p,strokeOpacity:A,tip:E,clip:!0,..._}))}function qO(e,t,i){return t===void 0&&i===void 0?t=i=dc(e):t===void 0?(i=dc(i),t=e===void 0?i:dc(e)):i===void 0?(t=dc(t),i=e===void 0?t:dc(e)):(t=dc(t),i=dc(i)),[t,i]}function dc(e){let t;const{value:i,label:n=jc(i)}=Af(e);return{transform:a=>t||(t=ma(a,i)),label:n}}function KO(e,t){const i="x",n=`${i}1`,a=`${i}2`,s=`${e}1`,l=`${e}2`;return(c,d,u,h,g,m)=>{const{[n]:M,[a]:p}=u,A=new Float32Array(M.length),b=new Float32Array(p.length),v=h.height;(t===Qk(d[e])<0?A:b).fill(v);const E=m(c,d,{...u,[a]:M,[l]:b},h,g),x=m(c,d,{...u,[n]:p,[s]:A},h,g),_=E.querySelector("g")??E,C=x.querySelector("g")??x;for(let O=0;_.firstChild;O+=2){const I=Xk(),T=Da("svg:clipPath",g).attr("id",I).node();T.appendChild(_.firstChild),C.childNodes[O].setAttribute("clip-path",`url(#${I})`),C.insertBefore(T,C.childNodes[O])}return x}}const MF={ariaLabel:"waffle"};class nct extends cF{constructor(t,{unit:i=1,gap:n=1,round:a,render:s,multiple:l,...c}={}){super(t,{...c,render:rf(s,AF("x"))},MF),this.unit=Math.max(0,i),this.gap=+n,this.round=yF(a),this.multiple=vF(l)}}class rct extends uF{constructor(t,{unit:i=1,gap:n=1,round:a,render:s,multiple:l,...c}={}){super(t,{...c,render:rf(s,AF("y"))},MF),this.unit=Math.max(0,i),this.gap=+n,this.round=yF(a),this.multiple=vF(l)}}function AF(e){return function(t,i,n,a,s){const{unit:l,gap:c,rx:d,ry:u,round:h}=this,{document:g}=s,m=n.channels[`${e}1`].value,M=n.channels[`${e}2`].value,p=this[e==="y"?"_width":"_height"](i,n,a),A=this[e==="y"?"_x":"_y"](i,n,a),b=l*act(i.scales[e]),{multiple:v=Math.max(1,Math.floor(Math.sqrt(p/b)))}=this,E=Math.min(p/v,b*v),x=b*v,_=e==="y"?([L,N])=>[L*E,-N*x]:([L,N])=>[N*x,L*E],C=(p-v*E)/2,O=typeof A=="function"?L=>A(L)+C:A+C,I=i[e](0),T=Zst(),D=g.createElementNS(Dc.svg,"pattern");D.setAttribute("width",e==="y"?E:x),D.setAttribute("height",e==="y"?x:E),D.setAttribute("patternUnits","userSpaceOnUse");const P=D.appendChild(g.createElementNS(Dc.svg,"rect"));return P.setAttribute("x",c/2),P.setAttribute("y",c/2),P.setAttribute("width",(e==="y"?E:x)-c),P.setAttribute("height",(e==="y"?x:E)-c),d!=null&&P.setAttribute("rx",d),u!=null&&P.setAttribute("ry",u),Da("svg:g",s).call(Rs,this,a,s).call(this._transform,this,i).call(L=>L.selectAll().data(t).enter().append(()=>D.cloneNode(!0)).attr("id",N=>`${T}-${N}`).select("rect").call(Z9,this).call(Ys,this,n)).call(L=>L.selectAll().data(t).enter().append("path").attr("transform",e==="y"?w2`translate(${O},${I})`:w2`translate(${I},${O})`).attr("d",N=>`M${hA(h(m[N]/l),h(M[N]/l),v).map(_).join("L")}Z`).attr("fill",N=>`url(#${T}-${N})`).attr("stroke",this.stroke==null?null:N=>`url(#${T}-${N})`)).node()}}function hA(e,t,i){if(e<0||t<0){const n=Math.ceil(-Math.min(e,t)/i);return hA(e+n*i,t+n*i,i).map(([a,s])=>[a,s-n])}return t<e?hA(t,e,i):[[0,Math.ceil(e/i)],[Math.floor(e%i),Math.ceil(e/i)],[Math.floor(e%i),Math.floor(e/i)+e%1],[Math.ceil(e%i),Math.floor(e/i)+e%1],...e%i>i-1?[]:[[Math.ceil(e%i),Math.floor(e/i)],[i,Math.floor(e/i)]],[i,Math.floor(t/i)],[Math.ceil(t%i),Math.floor(t/i)],[Math.ceil(t%i),Math.floor(t/i)+t%1],[Math.floor(t%i),Math.floor(t/i)+t%1],...t%i<1?[]:[[Math.floor(t%i),Math.ceil(t/i)],[0,Math.ceil(t/i)]]]}function yF(e){if(e===void 0||e===!1)return Number;if(e===!0)return Math.round;if(typeof e!="function")throw new Error(`invalid round: ${e}`);return e}function vF(e){return e===void 0?void 0:Math.max(1,Math.floor(e))}function act({domain:e,range:t}){return XO(t)/XO(e)}function XO(e){const[t,i]=Ua(e);return i-t}function Nu(e,t={}){return gm(t)||(t={...t,y:Ll,x2:ra}),new nct(e,zN(ov(QN(t))))}function sct(e,t={}){return gm(t)||(t={...t,x:Ll,y2:ra}),new rct(e,b5(lv(v5(t))))}es.prototype.plot=function({marks:e=[],...t}={}){return Sn({...t,marks:[...e,this]})};function oct(e,t,i){const n=e.slice();return n[16]=t[i],n}function lct(e){let t;return{c(){t=K("option"),t.textContent=`${e[16]}`,t.__value=e[16],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function cct(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P=Ge(["velocity","piano","channel","none"]),L=[];for(let N=0;N<4;N+=1)L[N]=lct(oct(e,P,N));return O=new $r({props:{noteOn:e[7],noteOff:e[8]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`The guitar tab below shows incoming MIDI notes as rectangles with their
        string (y position) and start and end times (x left and right side of
        the rectangle). The color encodes the MIDI velocity, which tells how
        hard/loud a note was played.`,c=Y(),d=K("div"),u=K("label"),h=se(`color
            `),g=K("select");for(let N=0;N<4;N+=1)L[N].c();m=Y(),M=K("label"),p=se(`time
            `),A=K("input"),b=Y(),v=K("div"),E=Y(),x=K("div"),_=K("button"),_.textContent="reset",C=Y(),Ut(O.$$.fragment),ut(l,"class","explanation"),e[3]===void 0&&xs(()=>e[9].call(g)),ut(A,"type","number"),ut(A,"min","10"),ut(A,"max","300"),ut(A,"step","10"),ut(M,"title","time in seconds for past notes to be shown"),ut(d,"class","control"),ut(v,"class","visualization"),ut(_,"title","Clear all played notes"),ut(x,"class","control"),ut(t,"class","app")},m(N,U){_t(N,t,U),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),R(d,u),R(u,h),R(u,g);for(let $=0;$<4;$+=1)L[$]&&L[$].m(g,null);E9(g,e[3],!0),R(d,m),R(d,M),R(M,p),R(M,A),Vi(A,e[2]),R(t,b),R(t,v),e[11](v),R(t,E),R(t,x),R(x,_),R(t,C),Nt(O,t,null),I=!0,T||(D=[Qe(g,"change",e[9]),Qe(A,"input",e[10]),Qe(_,"click",e[12])],T=!0)},p(N,[U]){(!I||U&1)&&n!==(n=N[0].title+"")&&Ue(a,n),U&8&&E9(g,N[3]),U&4&&S9(A.value)!==N[2]&&Vi(A,N[2])},i(N){I||(Bt(O.$$.fragment,N),I=!0)},o(N){Rt(O.$$.fragment,N),I=!1},d(N){N&&Ct(t),Oi(L,N),e[11](null),Ft(O),T=!1,ar(D)}}}let uct=900,dct=500,hct=6;function fct(e,t,i){let{toolInfo:n}=t,a=[64,59,55,50,45,40],s,l=30,c="velocity",d=0,u=[],h=new Map,g=null;const m=x=>{const _=(x.timestamp-d)/1e3,C=x.message.channel-1,O={number:x.note.number,velocity:x.rawVelocity,time:_,channel:x.message.channel,string:C,fret:x.note.number-a[C]};if(h.has(x.note.number)){const I=h.get(x.note.number);I.end===void 0&&(I.end=_)}u.push(O),h.set(x.note.number,O)},M=x=>{if(h.has(x.note.number)){const _=h.get(x.note.number),C=(x.timestamp-d)/1e3;_.end=C}},p=()=>{const x=(performance.now()-d)/1e3,_=x-l,C=u.filter(L=>L.end>_||L.end===void 0),O=Ua(C,L=>L.number),I=a.map(Ts);let T,D;c==="velocity"?(T={label:"Note velocity",scheme:"blues",domain:[0,127]},D="velocity"):c==="piano"?(T={label:"Piano key color",domain:["black","white"],range:["black","white"]},D=L=>hc(L.number)?"black":"white"):c==="channel"?(T={type:"categorical",label:"MIDI channel",scheme:"tableau10"},D=L=>L.channel):c==="none"&&(D="#ddd");const P=Sn({insetRight:10,width:uct,height:dct,marginLeft:60,marginBottom:40,padding:0,x:{label:"Time in seconds",domain:[_,x]},y:{label:"String",grid:!0,domain:Ci(0,hct),tickFormat:L=>I[L]},color:{...T,legend:c!=="none",marginLeft:100,width:300},marks:[zr(Ci(Math.ceil((O[0]-1)/12)*12,O[1]+2,12)),k9([x],{stroke:"#888"}),dF(C,{clip:!0,x1:"time",x2:L=>L.end===void 0?x:Math.max(L.end,L.time+.025),y:"string",fill:D,stroke:"#ccc",rx:5}),Qr(C,{clip:!0,x:"time",y:"string",fill:"black",stroke:"white",text:"fret",textAnchor:"start",dx:2})]});i(1,s.textContent="",s),s.appendChild(P),g=requestAnimationFrame(p)};sr(()=>{i(4,d=performance.now()),g=requestAnimationFrame(p)}),or(()=>{cancelAnimationFrame(g)});function A(){c=xl(this),i(3,c)}function b(){l=S9(this.value),i(2,l)}function v(x){me[x?"unshift":"push"](()=>{s=x,i(1,s)})}const E=()=>{confirm("Reset played notes?")&&(i(5,u=[]),i(6,h=new Map),i(4,d=performance.now()))};return e.$$set=x=>{"toolInfo"in x&&i(0,n=x.toolInfo)},[n,s,l,c,d,u,h,m,M,A,b,v,E]}class mct extends qi{constructor(t){super(),Wi(this,t,fct,cct,Ji,{toolInfo:0})}}function pct(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D=e[1]>=6?"guitar":"bass guitar",P,L,N=e[2]===0?"in standard tuning":`${Math.abs(e[2])} ${e[2]<0?"steps down":"steps up"}`,U,$,F=e[3]?"and dropped":"",j,z,Q,V,q,J,W,et,mt,ot,pt;function wt(Ot){e[8](Ot)}let Mt={label:"dropped"};e[3]!==void 0&&(Mt.checked=e[3]),p=new Tr({props:Mt}),me.push(()=>Te(p,"checked",wt));function xt(Ot){e[9](Ot)}let dt={label:"octave"};return e[4]!==void 0&&(dt.checked=e[4]),v=new Tr({props:dt}),me.push(()=>Te(v,"checked",xt)),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("label"),c=se(`strings
        `),d=K("input"),u=Y(),h=K("label"),g=se(`tune up/down (semitones)
        `),m=K("input"),M=Y(),Ut(p.$$.fragment),b=Y(),Ut(v.$$.fragment),x=Y(),_=K("div"),C=K("p"),O=se("You selected a "),I=se(e[1]),T=se(" string "),P=se(D),L=se(", tuned "),U=se(N),$=Y(),j=se(F),z=Y(),Q=K("p"),V=se("Resulting tuning, low to high:"),q=K("br"),J=Y(),W=K("b"),et=se(e[5]),ut(d,"type","number"),ut(d,"min","4"),ut(d,"max","8"),ut(d,"step","1"),ut(m,"type","number"),ut(m,"min","-12"),ut(m,"max","12"),ut(m,"step","1")},m(Ot,At){_t(Ot,t,At),R(t,i),R(i,a),R(t,s),R(t,l),R(l,c),R(l,d),Vi(d,e[1]),R(t,u),R(t,h),R(h,g),R(h,m),Vi(m,e[2]),R(t,M),Nt(p,t,null),R(t,b),Nt(v,t,null),R(t,x),R(t,_),R(_,C),R(C,O),R(C,I),R(C,T),R(C,P),R(C,L),R(C,U),R(C,$),R(C,j),R(_,z),R(_,Q),R(Q,V),R(Q,q),R(Q,J),R(Q,W),R(W,et),mt=!0,ot||(pt=[Qe(d,"input",e[6]),Qe(m,"input",e[7])],ot=!0)},p(Ot,[At]){(!mt||At&1)&&n!==(n=Ot[0].title+"")&&Ue(a,n),At&2&&S9(d.value)!==Ot[1]&&Vi(d,Ot[1]),At&4&&S9(m.value)!==Ot[2]&&Vi(m,Ot[2]);const jt={};!A&&At&8&&(A=!0,jt.checked=Ot[3],Se(()=>A=!1)),p.$set(jt);const bt={};!E&&At&16&&(E=!0,bt.checked=Ot[4],Se(()=>E=!1)),v.$set(bt),(!mt||At&2)&&Ue(I,Ot[1]),(!mt||At&2)&&D!==(D=Ot[1]>=6?"guitar":"bass guitar")&&Ue(P,D),(!mt||At&4)&&N!==(N=Ot[2]===0?"in standard tuning":`${Math.abs(Ot[2])} ${Ot[2]<0?"steps down":"steps up"}`)&&Ue(U,N),(!mt||At&8)&&F!==(F=Ot[3]?"and dropped":"")&&Ue(j,F),(!mt||At&32)&&Ue(et,Ot[5])},i(Ot){mt||(Bt(p.$$.fragment,Ot),Bt(v.$$.fragment,Ot),mt=!0)},o(Ot){Rt(p.$$.fragment,Ot),Rt(v.$$.fragment,Ot),mt=!1},d(Ot){Ot&&Ct(t),Ft(p),Ft(v),ot=!1,ar(pt)}}}function gct(e,t,i){let n,{toolInfo:a}=t,s=6,l=0,c=!1,d=!0;const u=(p,A,b,v)=>{let x=Ont.get(p>5?"Guitar":"Bass").get(p)[0].pitches.map(_=>_+A);return b&&(x[0]-=2),v?x=x.map(_=>xo[_].label):x=x.map(_=>xo[_].name),x.join(" ")};function h(){s=S9(this.value),i(1,s)}function g(){l=S9(this.value),i(2,l)}function m(p){c=p,i(3,c)}function M(p){d=p,i(4,d)}return e.$$set=p=>{"toolInfo"in p&&i(0,a=p.toolInfo)},e.$$.update=()=>{e.$$.dirty&30&&i(5,n=u(s,l,c,d))},[a,s,l,c,d,n,h,g,m,M]}class Mct extends qi{constructor(t){super(),Wi(this,t,gct,pct,Ji,{toolInfo:0})}}function YO(e,t,i){const n=e.slice();return n[5]=t[i],n}function ZO(e){let t,i,n=e[5].timestamp.toFixed(1)+"",a,s,l,c=e[5].port.manufacturer+"",d,u,h,g=e[5].port.name+"",m,M,p,A=e[5].message.channel+"",b,v,E,x=e[5].message.command+"",_,C,O=e[5].message.type+"",I,T,D,P=e[5].message.dataBytes+"",L,N,U,$=(["noteon","noteoff"].includes(e[5].message.type)?Ts(e[5].message.dataBytes[0]):"")+"",F,j,z,Q=(["noteon","noteoff"].includes(e[5].message.type)?e[5].message.dataBytes[1]:"")+"",V,q;return{c(){t=K("tr"),i=K("td"),a=se(n),s=Y(),l=K("td"),d=se(c),u=Y(),h=K("td"),m=se(g),M=Y(),p=K("td"),b=se(A),v=Y(),E=K("td"),_=se(x),C=Y(),I=se(O),T=Y(),D=K("td"),L=se(P),N=Y(),U=K("td"),F=se($),j=Y(),z=K("td"),V=se(Q),q=Y(),ut(i,"class","svelte-1x83ix2"),ut(l,"class","svelte-1x83ix2"),ut(h,"class","svelte-1x83ix2"),ut(p,"class","svelte-1x83ix2"),ut(E,"class","svelte-1x83ix2"),ut(D,"class","svelte-1x83ix2"),ut(U,"class","svelte-1x83ix2"),ut(z,"class","svelte-1x83ix2"),ut(t,"class","svelte-1x83ix2")},m(J,W){_t(J,t,W),R(t,i),R(i,a),R(t,s),R(t,l),R(l,d),R(t,u),R(t,h),R(h,m),R(t,M),R(t,p),R(p,b),R(t,v),R(t,E),R(E,_),R(E,C),R(E,I),R(t,T),R(t,D),R(D,L),R(t,N),R(t,U),R(U,F),R(t,j),R(t,z),R(z,V),R(t,q)},p(J,W){W&2&&n!==(n=J[5].timestamp.toFixed(1)+"")&&Ue(a,n),W&2&&c!==(c=J[5].port.manufacturer+"")&&Ue(d,c),W&2&&g!==(g=J[5].port.name+"")&&Ue(m,g),W&2&&A!==(A=J[5].message.channel+"")&&Ue(b,A),W&2&&x!==(x=J[5].message.command+"")&&Ue(_,x),W&2&&O!==(O=J[5].message.type+"")&&Ue(I,O),W&2&&P!==(P=J[5].message.dataBytes+"")&&Ue(L,P),W&2&&$!==($=(["noteon","noteoff"].includes(J[5].message.type)?Ts(J[5].message.dataBytes[0]):"")+"")&&Ue(F,$),W&2&&Q!==(Q=(["noteon","noteoff"].includes(J[5].message.type)?J[5].message.dataBytes[1]:"")+"")&&Ue(V,Q)},d(J){J&&Ct(t)}}}function Act(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M=e[1].length+"",p,A,b,v,E,x,_,C,O,I,T,D,P=Ge(e[1].slice(0,100)),L=[];for(let N=0;N<P.length;N+=1)L[N]=ZO(YO(e,P,N));return O=new $r({props:{midiMessage:e[2]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent="Input anything on a MIDI device to see the incoming messages below.",c=Y(),d=K("div"),u=K("button"),u.textContent="reset",h=Y(),g=K("div"),m=K("p"),p=se(M),A=se(" messages received"),b=Y(),v=K("table"),E=K("thead"),E.innerHTML='<tr class="svelte-1x83ix2"><th>timestamp</th> <th>manufacturer</th> <th>name</th> <th>channel</th> <th>command</th> <th>data</th> <th>note</th> <th>velocity</th></tr>',x=Y(),_=K("tbody");for(let N=0;N<L.length;N+=1)L[N].c();C=Y(),Ut(O.$$.fragment),ut(l,"class","explanation"),ut(u,"title","Clear all messages"),ut(d,"class","control"),ut(v,"class","svelte-1x83ix2"),ut(g,"class","visualization"),ut(t,"class","app")},m(N,U){_t(N,t,U),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),R(d,u),R(t,h),R(t,g),R(g,m),R(m,p),R(m,A),R(g,b),R(g,v),R(v,E),R(v,x),R(v,_);for(let $=0;$<L.length;$+=1)L[$]&&L[$].m(_,null);R(t,C),Nt(O,t,null),I=!0,T||(D=Qe(u,"click",e[3]),T=!0)},p(N,[U]){if((!I||U&1)&&n!==(n=N[0].title+"")&&Ue(a,n),(!I||U&2)&&M!==(M=N[1].length+"")&&Ue(p,M),U&2){P=Ge(N[1].slice(0,100));let $;for($=0;$<P.length;$+=1){const F=YO(N,P,$);L[$]?L[$].p(F,U):(L[$]=ZO(F),L[$].c(),L[$].m(_,null))}for(;$<L.length;$+=1)L[$].d(1);L.length=P.length}},i(N){I||(Bt(O.$$.fragment,N),I=!0)},o(N){Rt(O.$$.fragment,N),I=!1},d(N){N&&Ct(t),Oi(L,N),Ft(O),T=!1,D()}}}function yct(e,t,i){let{toolInfo:n}=t,a=[];const s=c=>{i(1,a=[c,...a])};sr(()=>{performance.now()});const l=()=>{i(1,a=[])};return e.$$set=c=>{"toolInfo"in c&&i(0,n=c.toolInfo)},[n,a,s,l]}class vct extends qi{constructor(t){super(),Wi(this,t,yct,Act,Ji,{toolInfo:0})}}const L0={accent:"#daecfb",accentDark:"#cadae8",wrong:"crimson"},wh={noteColormap:qrt,noteColormapAccessible:Krt,noteColormapAccessible2:Xrt,newton:Yrt,castel:Zrt,field:tat,jameson:eat,seemann:iat,rimington:nat,bishop:rat,helmholtz:aat,scriabin:sat,klein:oat,aeppli:lat,belmont:cat,zieverink:uat};function tx(e,t,i){const n=e.slice();return n[2]=t[i],n}function ex(e,t,i){const n=e.slice();return n[5]=t[i],n[7]=i,n}function bct(e,t,i){const n=e.slice();return n[8]=t[i],n}function Cct(e){let t;return{c(){t=K("th"),t.textContent=`${e[8]}`},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function ix(e){let t,i=e[5]+"",n;return{c(){t=K("td"),n=se(i),ut(t,"title",F9[e[7]]),un(t,"background-color",e[5]),un(t,"color",Jrt(e[5])>50?"black":"white"),un(t,"font-size","12px"),ut(t,"class","svelte-1xnq8ek")},m(a,s){_t(a,t,s),R(t,n)},p:Fe,d(a){a&&Ct(t)}}}function nx(e){let t,i,n,a,s=Ge(e[2].colors),l=[];for(let c=0;c<s.length;c+=1)l[c]=ix(ex(e,s,c));return{c(){t=K("tr"),i=K("td"),i.textContent=`${e[2].name}`,n=Y();for(let c=0;c<l.length;c+=1)l[c].c();a=Y(),ut(i,"class","svelte-1xnq8ek"),ut(t,"class","svelte-1xnq8ek")},m(c,d){_t(c,t,d),R(t,i),R(t,n);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(t,null);R(t,a)},p(c,d){if(d&2){s=Ge(c[2].colors);let u;for(u=0;u<s.length;u+=1){const h=ex(c,s,u);l[u]?l[u].p(h,d):(l[u]=ix(h),l[u].c(),l[u].m(t,a))}for(;u<l.length;u+=1)l[u].d(1);l.length=s.length}},d(c){c&&Ct(t),Oi(l,c)}}}function _ct(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b=Ge(F9),v=[];for(let _=0;_<b.length;_+=1)v[_]=Cct(bct(e,b,_));let E=Ge(e[1]),x=[];for(let _=0;_<E.length;_+=1)x[_]=nx(tx(e,E,_));return{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`See <a href="https://github.com/fheyen/musicvis-lib/blob/905edbdc8280e8ca76a329ffc83a160f3cda674a/src/utils/NoteColorUtils.js" target="_blank">here</a>
        for literature references and color string arrays. Most schemes are found
        in:
        <i>Schmidt, Kathryn L. (2019) Meaningful Music Visualizations. Purdue
            University Graduate School. <a href="https://doi.org/10.25394/PGS.7498700.v1" target="_blank">DOI</a>
            (page 13)</i>`,c=Y(),d=K("div"),u=K("table"),h=K("thead"),g=K("tr"),m=K("th"),m.textContent="name",M=Y();for(let _=0;_<v.length;_+=1)v[_].c();p=Y(),A=K("tbody");for(let _=0;_<x.length;_+=1)x[_].c();ut(l,"class","explanation"),ut(g,"class","svelte-1xnq8ek"),ut(u,"class","svelte-1xnq8ek"),ut(d,"class","visualization"),ut(t,"class","app")},m(_,C){_t(_,t,C),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),R(d,u),R(u,h),R(h,g),R(g,m),R(g,M);for(let O=0;O<v.length;O+=1)v[O]&&v[O].m(g,null);R(u,p),R(u,A);for(let O=0;O<x.length;O+=1)x[O]&&x[O].m(A,null)},p(_,[C]){if(C&1&&n!==(n=_[0].title+"")&&Ue(a,n),C&2){E=Ge(_[1]);let O;for(O=0;O<E.length;O+=1){const I=tx(_,E,O);x[O]?x[O].p(I,C):(x[O]=nx(I),x[O].c(),x[O].m(A,null))}for(;O<x.length;O+=1)x[O].d(1);x.length=E.length}},i:Fe,o:Fe,d(_){_&&Ct(t),Oi(v,_),Oi(x,_)}}}function Ect(e,t,i){let{toolInfo:n}=t;const a=[];for(const s in wh)wh.hasOwnProperty(s)&&a.push({name:s,colors:wh[s].map(l=>Pc(l).formatHex())});return e.$$set=s=>{"toolInfo"in s&&i(0,n=s.toolInfo)},[n,a]}class wct extends qi{constructor(t){super(),Wi(this,t,Ect,_ct,Ji,{toolInfo:0})}}function Oct(e,t,i){const n=e.slice();return n[18]=t[i],n}function xct(e){let t;return{c(){t=K("option"),t.textContent=`${e[18]}`,t.__value=e[18],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Sct(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N;function U(z){e[10](z)}let $={label:"ignore octave",title:"If active, only the note's chroma will be considered which reduces the y axis to the twelve notes"};e[4]!==void 0&&($.checked=e[4]),u=new Tr({props:$}),me.push(()=>Te(u,"checked",U));let F=Ge(["velocity","piano","channel","none"]),j=[];for(let z=0;z<4;z+=1)j[z]=xct(Oct(e,F,z));return D=new $r({props:{noteOn:e[7],noteOff:e[8],controlChange:e[9]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`The piano roll below shows incoming MIDI notes as rectangles with their
        pitch (y position) and start and end times (x left and right side of the
        rectangle). The color encodes the MIDI velocity, which tells how
        hard/loud a note was played.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),m=K("label"),M=se(`color
            `),p=K("select");for(let z=0;z<4;z+=1)j[z].c();A=Y(),b=K("label"),v=se(`time
            `),E=K("input"),x=Y(),_=K("div"),C=Y(),O=K("div"),I=K("button"),I.textContent="reset",T=Y(),Ut(D.$$.fragment),ut(l,"class","explanation"),e[3]===void 0&&xs(()=>e[11].call(p)),ut(E,"type","number"),ut(E,"min","10"),ut(E,"max","300"),ut(E,"step","10"),ut(b,"title","time in seconds for past notes to be shown"),ut(d,"class","control"),ut(_,"class","visualization"),ut(I,"title","Clear all played notes"),ut(O,"class","control"),ut(t,"class","app")},m(z,Q){_t(z,t,Q),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),R(d,m),R(m,M),R(m,p);for(let V=0;V<4;V+=1)j[V]&&j[V].m(p,null);E9(p,e[3],!0),R(d,A),R(d,b),R(b,v),R(b,E),Vi(E,e[2]),R(t,x),R(t,_),e[13](_),R(t,C),R(t,O),R(O,I),R(t,T),Nt(D,t,null),P=!0,L||(N=[Qe(p,"change",e[11]),Qe(E,"input",e[12]),Qe(I,"click",e[14])],L=!0)},p(z,[Q]){(!P||Q&1)&&n!==(n=z[0].title+"")&&Ue(a,n);const V={};!h&&Q&16&&(h=!0,V.checked=z[4],Se(()=>h=!1)),u.$set(V),Q&8&&E9(p,z[3]),Q&4&&S9(E.value)!==z[2]&&Vi(E,z[2])},i(z){P||(Bt(u.$$.fragment,z),Bt(D.$$.fragment,z),P=!0)},o(z){Rt(u.$$.fragment,z),Rt(D.$$.fragment,z),P=!1},d(z){z&&Ct(t),Ft(u),Oi(j,z),e[13](null),Ft(D),L=!1,ar(N)}}}let Tct=900,Ict=500;function Bct(e,t,i){let{toolInfo:n}=t,a,s=30,l="velocity",c=!0,d=0,u=[];const h=new Map;let g=null;const m=C=>{const O=(C.timestamp-d)/1e3,I={number:C.note.number,velocity:C.rawVelocity,time:O,channel:C.message.channel};if(h.has(C.note.number)){const T=h.get(C.note.number);T.end===void 0&&(T.end=O)}u.push(I),h.set(C.note.number,I)},M=C=>{if(h.has(C.note.number)){const O=h.get(C.note.number),I=(C.timestamp-d)/1e3;O.end=I}},p=C=>{i(2,s=C.value*55+5)},A=()=>{const C=(performance.now()-d)/1e3,O=C-s,I=u.filter(N=>N.end>O||N.end===void 0),T=c?[0,11]:Ua(I,N=>N.number);let D,P;l==="velocity"?(D={label:"Note velocity",scheme:"blues",domain:[0,127]},P="velocity"):l==="piano"?(D={label:"Piano key color",domain:["black","white"],range:["black","#f8f8f8"]},P=N=>hc(N.number)?"black":"white"):l==="channel"?(D={type:"categorical",label:"MIDI channel",scheme:"tableau10"},P=N=>N.channel):l==="none"&&(P="#ddd");const L=Sn({insetRight:10,width:Tct,height:Ict,marginBottom:40,padding:0,x:{label:"Time in seconds",domain:[O,C]},y:{label:"MIDI Pitch",grid:!0,reverse:!0,domain:Ci(T[0]-1,T[1]+2),tickFormat:c?N=>{var U;return((U=xo[N])==null?void 0:U.name)??""}:N=>{var U;return((U=xo[N])==null?void 0:U.label)??""}},color:{...D,legend:l!=="none",marginLeft:100,width:300},marks:[zr(fat(T[0]-1,T[1]+2)),k9([C],{stroke:"#888"}),dF(I,{clip:!0,x1:"time",x2:N=>N.end===void 0?C:Math.max(N.end,N.time+.025),y:c?N=>N.number%12:N=>N.number,fill:P,stroke:"#ccc",rx:5})]});i(1,a.textContent="",a),a.appendChild(L),g=requestAnimationFrame(A)};sr(()=>{i(5,d=performance.now()),g=requestAnimationFrame(A)}),or(()=>{cancelAnimationFrame(g)});function b(C){c=C,i(4,c)}function v(){l=xl(this),i(3,l)}function E(){s=S9(this.value),i(2,s)}function x(C){me[C?"unshift":"push"](()=>{a=C,i(1,a)})}const _=()=>{confirm("Reset played notes?")&&(i(6,u=[]),i(5,d=performance.now()))};return e.$$set=C=>{"toolInfo"in C&&i(0,n=C.toolInfo)},[n,a,s,l,c,d,u,m,M,p,b,v,E,x,_]}class Rct extends qi{constructor(t){super(),Wi(this,t,Bct,Sct,Ji,{toolInfo:0})}}function Ds(e){if(this.size=e|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=e<<1;for(var t=new Array(this.size*2),i=0;i<t.length;i+=2){const d=Math.PI*i/this.size;t[i]=Math.cos(d),t[i+1]=-Math.sin(d)}this.table=t;for(var n=0,a=1;this.size>a;a<<=1)n++;this._width=n%2===0?n-1:n,this._bitrev=new Array(1<<this._width);for(var s=0;s<this._bitrev.length;s++){this._bitrev[s]=0;for(var l=0;l<this._width;l+=2){var c=this._width-l-2;this._bitrev[s]|=(s>>>l&3)<<c}}this._out=null,this._data=null,this._inv=0}var Dct=Ds;Ds.prototype.fromComplexArray=function(t,i){for(var n=i||new Array(t.length>>>1),a=0;a<t.length;a+=2)n[a>>>1]=t[a];return n};Ds.prototype.createComplexArray=function(){const t=new Array(this._csize);for(var i=0;i<t.length;i++)t[i]=0;return t};Ds.prototype.toComplexArray=function(t,i){for(var n=i||this.createComplexArray(),a=0;a<n.length;a+=2)n[a]=t[a>>>1],n[a+1]=0;return n};Ds.prototype.completeSpectrum=function(t){for(var i=this._csize,n=i>>>1,a=2;a<n;a+=2)t[i-a]=t[a],t[i-a+1]=-t[a+1]};Ds.prototype.transform=function(t,i){if(t===i)throw new Error("Input and output buffers must be different");this._out=t,this._data=i,this._inv=0,this._transform4(),this._out=null,this._data=null};Ds.prototype.realTransform=function(t,i){if(t===i)throw new Error("Input and output buffers must be different");this._out=t,this._data=i,this._inv=0,this._realTransform4(),this._out=null,this._data=null};Ds.prototype.inverseTransform=function(t,i){if(t===i)throw new Error("Input and output buffers must be different");this._out=t,this._data=i,this._inv=1,this._transform4();for(var n=0;n<t.length;n++)t[n]/=this.size;this._out=null,this._data=null};Ds.prototype._transform4=function(){var t=this._out,i=this._csize,n=this._width,a=1<<n,s=i/a<<1,l,c,d=this._bitrev;if(s===4)for(l=0,c=0;l<i;l+=s,c++){const A=d[c];this._singleTransform2(l,A,a)}else for(l=0,c=0;l<i;l+=s,c++){const A=d[c];this._singleTransform4(l,A,a)}var u=this._inv?-1:1,h=this.table;for(a>>=2;a>=2;a>>=2){s=i/a<<1;var g=s>>>2;for(l=0;l<i;l+=s)for(var m=l+g,M=l,p=0;M<m;M+=2,p+=a){const A=M,b=A+g,v=b+g,E=v+g,x=t[A],_=t[A+1],C=t[b],O=t[b+1],I=t[v],T=t[v+1],D=t[E],P=t[E+1],L=x,N=_,U=h[p],$=u*h[p+1],F=C*U-O*$,j=C*$+O*U,z=h[2*p],Q=u*h[2*p+1],V=I*z-T*Q,q=I*Q+T*z,J=h[3*p],W=u*h[3*p+1],et=D*J-P*W,mt=D*W+P*J,ot=L+V,pt=N+q,wt=L-V,Mt=N-q,xt=F+et,dt=j+mt,Ot=u*(F-et),At=u*(j-mt),jt=ot+xt,bt=pt+dt,kt=ot-xt,Dt=pt-dt,Xt=wt+At,ae=Mt-Ot,Jt=wt-At,le=Mt+Ot;t[A]=jt,t[A+1]=bt,t[b]=Xt,t[b+1]=ae,t[v]=kt,t[v+1]=Dt,t[E]=Jt,t[E+1]=le}}};Ds.prototype._singleTransform2=function(t,i,n){const a=this._out,s=this._data,l=s[i],c=s[i+1],d=s[i+n],u=s[i+n+1],h=l+d,g=c+u,m=l-d,M=c-u;a[t]=h,a[t+1]=g,a[t+2]=m,a[t+3]=M};Ds.prototype._singleTransform4=function(t,i,n){const a=this._out,s=this._data,l=this._inv?-1:1,c=n*2,d=n*3,u=s[i],h=s[i+1],g=s[i+n],m=s[i+n+1],M=s[i+c],p=s[i+c+1],A=s[i+d],b=s[i+d+1],v=u+M,E=h+p,x=u-M,_=h-p,C=g+A,O=m+b,I=l*(g-A),T=l*(m-b),D=v+C,P=E+O,L=x+T,N=_-I,U=v-C,$=E-O,F=x-T,j=_+I;a[t]=D,a[t+1]=P,a[t+2]=L,a[t+3]=N,a[t+4]=U,a[t+5]=$,a[t+6]=F,a[t+7]=j};Ds.prototype._realTransform4=function(){var t=this._out,i=this._csize,n=this._width,a=1<<n,s=i/a<<1,l,c,d=this._bitrev;if(s===4)for(l=0,c=0;l<i;l+=s,c++){const It=d[c];this._singleRealTransform2(l,It>>>1,a>>>1)}else for(l=0,c=0;l<i;l+=s,c++){const It=d[c];this._singleRealTransform4(l,It>>>1,a>>>1)}var u=this._inv?-1:1,h=this.table;for(a>>=2;a>=2;a>>=2){s=i/a<<1;var g=s>>>1,m=g>>>1,M=m>>>1;for(l=0;l<i;l+=s)for(var p=0,A=0;p<=M;p+=2,A+=a){var b=l+p,v=b+m,E=v+m,x=E+m,_=t[b],C=t[b+1],O=t[v],I=t[v+1],T=t[E],D=t[E+1],P=t[x],L=t[x+1],N=_,U=C,$=h[A],F=u*h[A+1],j=O*$-I*F,z=O*F+I*$,Q=h[2*A],V=u*h[2*A+1],q=T*Q-D*V,J=T*V+D*Q,W=h[3*A],et=u*h[3*A+1],mt=P*W-L*et,ot=P*et+L*W,pt=N+q,wt=U+J,Mt=N-q,xt=U-J,dt=j+mt,Ot=z+ot,At=u*(j-mt),jt=u*(z-ot),bt=pt+dt,kt=wt+Ot,Dt=Mt+jt,Xt=xt-At;if(t[b]=bt,t[b+1]=kt,t[v]=Dt,t[v+1]=Xt,p===0){var ae=pt-dt,Jt=wt-Ot;t[E]=ae,t[E+1]=Jt;continue}if(p!==M){var le=Mt,Ve=-xt,ai=pt,Ye=-wt,ci=-u*jt,ei=-u*At,Ze=-u*Ot,be=-u*dt,ve=le+ci,re=Ve+ei,Et=ai+be,vt=Ye-Ze,Ht=l+m-p,St=l+g-p;t[Ht]=ve,t[Ht+1]=re,t[St]=Et,t[St+1]=vt}}}};Ds.prototype._singleRealTransform2=function(t,i,n){const a=this._out,s=this._data,l=s[i],c=s[i+n],d=l+c,u=l-c;a[t]=d,a[t+1]=0,a[t+2]=u,a[t+3]=0};Ds.prototype._singleRealTransform4=function(t,i,n){const a=this._out,s=this._data,l=this._inv?-1:1,c=n*2,d=n*3,u=s[i],h=s[i+n],g=s[i+c],m=s[i+d],M=u+g,p=u-g,A=h+m,b=l*(h-m),v=M+A,E=p,x=-b,_=M-A,C=p,O=b;a[t]=v,a[t+1]=0,a[t+2]=E,a[t+3]=x,a[t+4]=_,a[t+5]=0,a[t+6]=C,a[t+7]=O};const Pct=Ay(Dct);class Z1{constructor(t,i){In(this,"_inputLength");In(this,"_fft");In(this,"_bufferSupplier");In(this,"_paddedInputBuffer");In(this,"_transformBuffer");In(this,"_inverseBuffer");if(t<1)throw new Error("Input length must be at least one");this._inputLength=t,this._fft=new Pct(Nct(2*t)),this._bufferSupplier=i,this._paddedInputBuffer=this._bufferSupplier(this._fft.size),this._transformBuffer=this._bufferSupplier(2*this._fft.size),this._inverseBuffer=this._bufferSupplier(2*this._fft.size)}static forFloat32Array(t){return new Z1(t,i=>new Float32Array(i))}static forFloat64Array(t){return new Z1(t,i=>new Float64Array(i))}static forNumberArray(t){return new Z1(t,i=>Array(i))}get inputLength(){return this._inputLength}autocorrelate(t,i=this._bufferSupplier(t.length)){if(t.length!==this._inputLength)throw new Error(`Input must have length ${this._inputLength} but had length ${t.length}`);for(let a=0;a<t.length;a++)this._paddedInputBuffer[a]=t[a];for(let a=t.length;a<this._paddedInputBuffer.length;a++)this._paddedInputBuffer[a]=0;this._fft.realTransform(this._transformBuffer,this._paddedInputBuffer),this._fft.completeSpectrum(this._transformBuffer);const n=this._transformBuffer;for(let a=0;a<n.length;a+=2)n[a]=n[a]*n[a]+n[a+1]*n[a+1],n[a+1]=0;this._fft.inverseTransform(this._inverseBuffer,this._transformBuffer);for(let a=0;a<t.length;a++)i[a]=this._inverseBuffer[2*a];return i}}function Lct(e){const t=[];let i=!1,n=-1/0,a=-1;for(let s=1;s<e.length-1;s++)e[s-1]<=0&&e[s]>0?(i=!0,a=s,n=e[s]):e[s-1]>0&&e[s]<=0?(i=!1,a!==-1&&t.push(a)):i&&e[s]>n&&(n=e[s],a=s);return t}function kct(e,t){const[i,n,a]=[e-1,e,e+1],[s,l,c]=[t[i],t[n],t[a]],d=s/2-l+c/2,u=-(s/2)*(n+a)+l*(i+a)-c/2*(i+n),h=s*n*a/2-l*i*a+c*i*n/2,g=-u/(2*d),m=d*g*g+u*g+h;return[g,m]}class Sc{constructor(t,i){In(this,"_autocorrelator");In(this,"_nsdfBuffer");In(this,"_clarityThreshold",.9);In(this,"_minVolumeAbsolute",0);In(this,"_maxInputAmplitude",1);this._autocorrelator=new Z1(t,i),this._nsdfBuffer=i(t)}static forFloat32Array(t){return new Sc(t,i=>new Float32Array(i))}static forFloat64Array(t){return new Sc(t,i=>new Float64Array(i))}static forNumberArray(t){return new Sc(t,i=>Array(i))}get inputLength(){return this._autocorrelator.inputLength}set clarityThreshold(t){if(!Number.isFinite(t)||t<=0||t>1)throw new Error("clarityThreshold must be a number in the range (0, 1]");this._clarityThreshold=t}set minVolumeAbsolute(t){if(!Number.isFinite(t)||t<0||t>this._maxInputAmplitude)throw new Error(`minVolumeAbsolute must be a number in the range [0, ${this._maxInputAmplitude}]`);this._minVolumeAbsolute=t}set minVolumeDecibels(t){if(!Number.isFinite(t)||t>0)throw new Error("minVolumeDecibels must be a number <= 0");this._minVolumeAbsolute=this._maxInputAmplitude*10**(t/10)}set maxInputAmplitude(t){if(!Number.isFinite(t)||t<=0)throw new Error("maxInputAmplitude must be a number > 0");this._maxInputAmplitude=t}findPitch(t,i){if(this._belowMinimumVolume(t))return[0,0];this._nsdf(t);const n=Lct(this._nsdfBuffer);if(n.length===0)return[0,0];const a=Math.max(...n.map(d=>this._nsdfBuffer[d])),s=n.find(d=>this._nsdfBuffer[d]>=this._clarityThreshold*a),[l,c]=kct(s,this._nsdfBuffer);return[i/l,Math.min(c,1)]}_belowMinimumVolume(t){if(this._minVolumeAbsolute===0)return!1;let i=0;for(let n=0;n<t.length;n++)i+=t[n]**2;return Math.sqrt(i/t.length)<this._minVolumeAbsolute}_nsdf(t){this._autocorrelator.autocorrelate(t,this._nsdfBuffer);let i=2*this._nsdfBuffer[0],n;for(n=0;n<this._nsdfBuffer.length&&i>0;n++)this._nsdfBuffer[n]=2*this._nsdfBuffer[n]/i,i-=t[n]**2+t[t.length-n-1]**2;for(;n<this._nsdfBuffer.length;n++)this._nsdfBuffer[n]=0}}function Nct(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}function Fct(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M=e[2].toFixed(1)+"",p,A,b,v,E,x=(e[3]*100).toFixed()+"",_,C,O,I,T,D,P,L,N;return{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`Allow microphone access and make a sound, the detected pitch will be
        displayed below together with the closest note and the offset from this
        notes in cents.`,c=Y(),d=K("div"),u=Y(),h=K("div"),g=K("div"),m=se("frequency: "),p=se(M),A=se(" Hz"),b=Y(),v=K("div"),E=se("clarity: "),_=se(x),C=se(" %"),O=Y(),I=K("div"),T=se("note: "),D=K("b"),P=se(e[4]),L=Y(),N=K("div"),ut(l,"class","explanation"),ut(d,"class","control"),ut(N,"class","visualization"),ut(t,"class","app")},m(U,$){_t(U,t,$),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),R(t,u),R(t,h),R(h,g),R(g,m),R(g,p),R(g,A),R(h,b),R(h,v),R(v,E),R(v,_),R(v,C),R(h,O),R(h,I),R(I,T),R(I,D),R(D,P),R(t,L),R(t,N),e[5](N)},p(U,[$]){$&1&&n!==(n=U[0].title+"")&&Ue(a,n),$&4&&M!==(M=U[2].toFixed(1)+"")&&Ue(p,M),$&8&&x!==(x=(U[3]*100).toFixed()+"")&&Ue(_,x),$&16&&Ue(P,U[4])},i:Fe,o:Fe,d(U){U&&Ct(t),e[5](null)}}}let Uct=900,$ct=300;function Gct(e,t,i){let{toolInfo:n}=t,a,s,l,c,d=-20,u=0,h=0,g="",m=0,M=0,p=[];function A(E,x,_,C){E.getFloatTimeDomainData(_);const O=x.findPitch(_,C);i(2,u=O[0]),i(3,h=O[1]),i(4,g=Sy(u)),m=xy(g),M=(mm(u)-m)*100,p=[...p.slice(-50),M],b(),c=requestAnimationFrame(()=>A(E,x,_,C))}const b=()=>{i(1,a.textContent="",a);const E=Sn({width:Uct,height:$ct,marginLeft:40,x:{label:"offset in cents",domain:[-50,50]},y:{reverse:!0,ticks:[]},marks:[k9([-50,0,50],{stroke:"#ddd"}),L9(p,{stroke:"#333",x:x=>x,y:(x,_)=>_})]});a.appendChild(E)};sr(()=>{s=new window.AudioContext,l=s.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(E=>{s.createMediaStreamSource(E).connect(l);const x=Sc.forFloat32Array(l.fftSize);x.minVolumeDecibels=d;const _=new Float32Array(x.inputLength);A(l,x,_,s.sampleRate)})}),or(()=>{cancelAnimationFrame(c)});function v(E){me[E?"unshift":"push"](()=>{a=E,i(1,a)})}return e.$$set=E=>{"toolInfo"in E&&i(0,n=E.toolInfo)},[n,a,u,h,g,v]}class Vct extends qi{constructor(t){super(),Wi(this,t,Gct,Fct,Ji,{toolInfo:0})}}function rx(e,t,i){const n=e.slice();return n[15]=t[i],n}function ax(e,t,i){const n=e.slice();return n[18]=t[i],n}function sx(e,t,i){const n=e.slice();return n[21]=t[i],n}function ox(e,t,i){const n=e.slice();return n[24]=t[i],n}function lx(e,t,i){const n=e.slice();return n[27]=t[i],n}function cx(e){let t,i=e[27]+"",n;return{c(){t=K("option"),n=se(i),t.__value=e[27],Vi(t,t.__value)},m(a,s){_t(a,t,s),R(t,n)},p:Fe,d(a){a&&Ct(t)}}}function ux(e){let t,i=e[24]+"",n;return{c(){t=K("option"),n=se(i),t.__value=e[24],Vi(t,t.__value)},m(a,s){_t(a,t,s),R(t,n)},p:Fe,d(a){a&&Ct(t)}}}function dx(e){let t,i,n,a=e[21].name+"",s,l,c=e[21].notes.join(" ")+"",d,u,h=[...u0(e[3].notes,e[21].notes)].join(" ")+"",g,m,M,p;function A(){return e[12](e[21])}return{c(){t=K("div"),i=K("button"),i.textContent="show",n=Y(),s=se(a),l=se(`:
                `),d=se(c),u=se(`
                (no `),g=se(h),m=se(")")},m(b,v){_t(b,t,v),R(t,i),R(t,n),R(t,s),R(t,l),R(t,d),R(t,u),R(t,g),R(t,m),M||(p=Qe(i,"click",A),M=!0)},p(b,v){e=b,v&128&&a!==(a=e[21].name+"")&&Ue(s,a),v&128&&c!==(c=e[21].notes.join(" ")+"")&&Ue(d,c),v&136&&h!==(h=[...u0(e[3].notes,e[21].notes)].join(" ")+"")&&Ue(g,h)},d(b){b&&Ct(t),M=!1,p()}}}function hx(e){let t,i,n,a=e[18].name+"",s,l,c=e[18].notes.join(" ")+"",d,u,h=[...u0(e[18].notes,e[3].notes)].join(" ")+"",g,m,M,p;function A(){return e[13](e[18])}return{c(){t=K("div"),i=K("button"),i.textContent="show",n=Y(),s=se(a),l=se(`:
                `),d=se(c),u=se(`
                (adds `),g=se(h),m=se(")")},m(b,v){_t(b,t,v),R(t,i),R(t,n),R(t,s),R(t,l),R(t,d),R(t,u),R(t,g),R(t,m),M||(p=Qe(i,"click",A),M=!0)},p(b,v){e=b,v&64&&a!==(a=e[18].name+"")&&Ue(s,a),v&64&&c!==(c=e[18].notes.join(" ")+"")&&Ue(d,c),v&72&&h!==(h=[...u0(e[18].notes,e[3].notes)].join(" ")+"")&&Ue(g,h)},d(b){b&&Ct(t),M=!1,p()}}}function fx(e){let t,i,n,a=e[15]+"",s,l,c=KM(`${e[1]} ${e[15]}`).notes.join(" ")+"",d,u;return{c(){t=K("div"),i=se(e[1]),n=Y(),s=se(a),l=se(`:
                `),d=se(c),u=Y()},m(h,g){_t(h,t,g),R(t,i),R(t,n),R(t,s),R(t,l),R(t,d),R(t,u)},p(h,g){g&2&&Ue(i,h[1]),g&32&&a!==(a=h[15]+"")&&Ue(s,a),g&34&&c!==(c=KM(`${h[1]} ${h[15]}`).notes.join(" ")+"")&&Ue(d,c)},d(h){h&&Ct(t)}}}function Hct(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E=e[3].name+"",x,_,C,O,I=e[3].notes.join(" ")+"",T,D,P,L,N,U,$,F,j,z,Q,V,q=Ge(e[8]),J=[];for(let dt=0;dt<q.length;dt+=1)J[dt]=cx(lx(e,q,dt));let W=Ge(e[9]),et=[];for(let dt=0;dt<W.length;dt+=1)et[dt]=ux(ox(e,W,dt));let mt=Ge(e[7]),ot=[];for(let dt=0;dt<mt.length;dt+=1)ot[dt]=dx(sx(e,mt,dt));let pt=Ge(e[6]),wt=[];for(let dt=0;dt<pt.length;dt+=1)wt[dt]=hx(ax(e,pt,dt));let Mt=Ge(e[5]),xt=[];for(let dt=0;dt<Mt.length;dt+=1)xt[dt]=fx(rx(e,Mt,dt));return{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`Select a root note and scale and see how this scale relates to others.
        This tool is mainly a graphical interface for <a href="https://github.com/tonaljs/tonal/tree/main/packages/scale" target="_blank">tonaljs.</a>`,c=Y(),d=K("div"),u=K("label"),h=se(`scale
            `),g=K("select");for(let dt=0;dt<J.length;dt+=1)J[dt].c();m=Y(),M=K("select");for(let dt=0;dt<et.length;dt+=1)et[dt].c();p=Y(),A=K("div"),b=K("h2"),v=se("current scale: "),x=se(E),_=Y(),C=K("h3"),C.textContent="notes",O=Y(),T=se(I),D=Y(),P=K("h3"),P.textContent="scales that are subsets",L=Y();for(let dt=0;dt<ot.length;dt+=1)ot[dt].c();N=Y(),U=K("h3"),U.textContent="scales that are supersets",$=Y();for(let dt=0;dt<wt.length;dt+=1)wt[dt].c();F=Y(),j=K("h3"),j.textContent="chords",z=Y();for(let dt=0;dt<xt.length;dt+=1)xt[dt].c();ut(l,"class","explanation"),e[1]===void 0&&xs(()=>e[10].call(g)),e[2]===void 0&&xs(()=>e[11].call(M)),ut(d,"class","control"),ut(A,"class","visualization"),ut(t,"class","app")},m(dt,Ot){_t(dt,t,Ot),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),R(d,u),R(u,h),R(u,g);for(let At=0;At<J.length;At+=1)J[At]&&J[At].m(g,null);E9(g,e[1],!0),R(u,m),R(u,M);for(let At=0;At<et.length;At+=1)et[At]&&et[At].m(M,null);E9(M,e[2],!0),R(t,p),R(t,A),R(A,b),R(b,v),R(b,x),R(A,_),R(A,C),R(A,O),R(A,T),R(A,D),R(A,P),R(A,L);for(let At=0;At<ot.length;At+=1)ot[At]&&ot[At].m(A,null);R(A,N),R(A,U),R(A,$);for(let At=0;At<wt.length;At+=1)wt[At]&&wt[At].m(A,null);R(A,F),R(A,j),R(A,z);for(let At=0;At<xt.length;At+=1)xt[At]&&xt[At].m(A,null);e[14](A),Q||(V=[Qe(g,"change",e[10]),Qe(M,"change",e[11])],Q=!0)},p(dt,[Ot]){if(Ot&1&&n!==(n=dt[0].title+"")&&Ue(a,n),Ot&256){q=Ge(dt[8]);let At;for(At=0;At<q.length;At+=1){const jt=lx(dt,q,At);J[At]?J[At].p(jt,Ot):(J[At]=cx(jt),J[At].c(),J[At].m(g,null))}for(;At<J.length;At+=1)J[At].d(1);J.length=q.length}if(Ot&258&&E9(g,dt[1]),Ot&512){W=Ge(dt[9]);let At;for(At=0;At<W.length;At+=1){const jt=ox(dt,W,At);et[At]?et[At].p(jt,Ot):(et[At]=ux(jt),et[At].c(),et[At].m(M,null))}for(;At<et.length;At+=1)et[At].d(1);et.length=W.length}if(Ot&516&&E9(M,dt[2]),Ot&8&&E!==(E=dt[3].name+"")&&Ue(x,E),Ot&8&&I!==(I=dt[3].notes.join(" ")+"")&&Ue(T,I),Ot&140){mt=Ge(dt[7]);let At;for(At=0;At<mt.length;At+=1){const jt=sx(dt,mt,At);ot[At]?ot[At].p(jt,Ot):(ot[At]=dx(jt),ot[At].c(),ot[At].m(A,N))}for(;At<ot.length;At+=1)ot[At].d(1);ot.length=mt.length}if(Ot&76){pt=Ge(dt[6]);let At;for(At=0;At<pt.length;At+=1){const jt=ax(dt,pt,At);wt[At]?wt[At].p(jt,Ot):(wt[At]=hx(jt),wt[At].c(),wt[At].m(A,F))}for(;At<wt.length;At+=1)wt[At].d(1);wt.length=pt.length}if(Ot&34){Mt=Ge(dt[5]);let At;for(At=0;At<Mt.length;At+=1){const jt=rx(dt,Mt,At);xt[At]?xt[At].p(jt,Ot):(xt[At]=fx(jt),xt[At].c(),xt[At].m(A,null))}for(;At<xt.length;At+=1)xt[At].d(1);xt.length=Mt.length}},i:Fe,o:Fe,d(dt){dt&&Ct(t),Oi(J,dt),Oi(et,dt),Oi(ot,dt),Oi(wt,dt),Oi(xt,dt),e[14](null),Q=!1,ar(V)}}}function Qct(e,t,i){let n,a,s,l,{toolInfo:c}=t,d,u="A",h="minor";const g=dy,m=By().sort();function M(){u=xl(this),i(1,u),i(8,g)}function p(){h=xl(this),i(2,h),i(9,m)}const A=E=>i(2,h=E.type),b=E=>i(2,h=E.type);function v(E){me[E?"unshift":"push"](()=>{d=E,i(4,d)})}return e.$$set=E=>{"toolInfo"in E&&i(0,c=E.toolInfo)},e.$$.update=()=>{e.$$.dirty&6&&i(3,n=q9(`${u} ${h}`)),e.$$.dirty&10&&i(7,a=jrt(n.name).map(E=>q9(`${u} ${E}`))),e.$$.dirty&10&&i(6,s=zrt(n.name).map(E=>q9(`${u} ${E}`))),e.$$.dirty&6&&i(5,l=Qrt(`${u} ${h}`))},[c,u,h,n,d,l,s,a,g,m,M,p,A,b,v]}class zct extends qi{constructor(t){super(),Wi(this,t,Qct,Hct,Ji,{toolInfo:0})}}var bF={exports:{}};(function(e,t){(function(i,n){n()})(C1,function(){function i(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,h,g){var m=new XMLHttpRequest;m.open("GET",u),m.responseType="blob",m.onload=function(){d(m.response,h,g)},m.onerror=function(){console.error("could not download file")},m.send()}function a(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof C1=="object"&&C1.global===C1?C1:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(u,h,g){var m=l.URL||l.webkitURL,M=document.createElement("a");h=h||u.name||"download",M.download=h,M.rel="noopener",typeof u=="string"?(M.href=u,M.origin===location.origin?s(M):a(M.href)?n(u,h,g):s(M,M.target="_blank")):(M.href=m.createObjectURL(u),setTimeout(function(){m.revokeObjectURL(M.href)},4e4),setTimeout(function(){s(M)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,g){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(i(u,g),h);else if(a(u))n(u,h,g);else{var m=document.createElement("a");m.href=u,m.target="_blank",setTimeout(function(){s(m)})}}:function(u,h,g,m){if(m=m||open("","_blank"),m&&(m.document.title=m.document.body.innerText="downloading..."),typeof u=="string")return n(u,h,g);var M=u.type==="application/octet-stream",p=/constructor/i.test(l.HTMLElement)||l.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||M&&p||c)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var x=b.result;x=A?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),m?m.location.href=x:location=x,m=null},b.readAsDataURL(u)}else{var v=l.URL||l.webkitURL,E=v.createObjectURL(u);m?m.location=E:location.href=E,m=null,setTimeout(function(){v.revokeObjectURL(E)},4e4)}});l.saveAs=d.saveAs=d,e.exports=d})})(bF);var jct=bF.exports;const CF=Ay(jct);function t2(e,t){return t instanceof Map?{dataType:"Map",value:Array.from(t.entries())}:t}function Jct(e,t){return typeof t=="object"&&t!==null&&t.dataType==="Map"?new Map(t.value):t}async function _F(e){const t=await e.text();return JSON.parse(t,Jct)}function EF(e,t){t._appId=e,t._softwareVersion=E8,t._date=new Date().toISOString();const i=JSON.stringify(t,t2,2),n=new Blob([i],{type:"text/plain;charset=utf-8"});CF(n,`${e}.json`)}function Wct(e,t,i){const n=e.slice();return n[18]=t[i],n}function mx(e,t,i){const n=e.slice();return n[21]=t[i],n}function px(e){let t,i=e[21]+"",n;return{c(){t=K("option"),n=se(i),t.__value=e[21],Vi(t,t.__value)},m(a,s){_t(a,t,s),R(t,n)},p:Fe,d(a){a&&Ct(t)}}}function qct(e){let t;return{c(){t=K("option"),t.textContent=`${e[18]}`,t.__value=e[18],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Kct(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L=Ge(e[6]),N=[];for(let z=0;z<L.length;z+=1)N[z]=px(mx(e,L,z));let U=Ge(["default","name","notes","number of notes"]),$=[];for(let z=0;z<4;z+=1)$[z]=qct(Wct(e,U,z));function F(z){e[13](z)}let j={label:"colors",title:"Use dotted notes? If not, the closest non-dotted note will be taken.",callback:e[8]};return e[5]!==void 0&&(j.checked=e[5]),v=new Tr({props:j}),me.push(()=>Te(v,"checked",F)),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`Select a root note and see all scales with this root and their notes.
        Using <a href="https://github.com/tonaljs/tonal/tree/main/packages/scale" target="_blank">tonaljs.</a>`,c=Y(),d=K("div"),u=K("label"),h=se(`scale
            `),g=K("select");for(let z=0;z<N.length;z+=1)N[z].c();m=Y(),M=K("label"),p=se(`ordering
            `),A=K("select");for(let z=0;z<4;z+=1)$[z].c();b=Y(),Ut(v.$$.fragment),x=Y(),_=K("div"),C=K("canvas"),O=Y(),I=K("button"),I.textContent="export JSON",ut(l,"class","explanation"),e[1]===void 0&&xs(()=>e[11].call(g)),e[2]===void 0&&xs(()=>e[12].call(A)),ut(d,"class","control"),un(C,"width",fA+"px"),un(C,"height",up+"px"),ut(_,"class","visualization"),ut(t,"class","app")},m(z,Q){_t(z,t,Q),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),R(d,u),R(u,h),R(u,g);for(let V=0;V<N.length;V+=1)N[V]&&N[V].m(g,null);E9(g,e[1],!0),R(d,m),R(d,M),R(M,p),R(M,A);for(let V=0;V<4;V+=1)$[V]&&$[V].m(A,null);E9(A,e[2],!0),R(d,b),Nt(v,d,null),R(t,x),R(t,_),R(_,C),e[14](C),e[15](_),R(t,O),R(t,I),T=!0,D||(P=[Qe(g,"change",e[11]),Qe(A,"change",e[12]),Qe(I,"click",e[16])],D=!0)},p(z,[Q]){if((!T||Q&1)&&n!==(n=z[0].title+"")&&Ue(a,n),Q&64){L=Ge(z[6]);let q;for(q=0;q<L.length;q+=1){const J=mx(z,L,q);N[q]?N[q].p(J,Q):(N[q]=px(J),N[q].c(),N[q].m(g,null))}for(;q<N.length;q+=1)N[q].d(1);N.length=L.length}Q&66&&E9(g,z[1]),Q&4&&E9(A,z[2]);const V={};!E&&Q&32&&(E=!0,V.checked=z[5],Se(()=>E=!1)),v.$set(V)},i(z){T||(Bt(v.$$.fragment,z),T=!0)},o(z){Rt(v.$$.fragment,z),T=!1},d(z){z&&Ct(t),Oi(N,z),Oi($,z),Ft(v),e[14](null),e[15](null),D=!1,ar(P)}}}const fA=400,up=1200;function Xct(e,t,i){let n,a,{toolInfo:s}=t,l,c,d="C",u="default",h=!0;const g=F9,m=By(),M=(C,O)=>{if(C==="default")return[...O];if(C==="name")return[...O].sort((I,T)=>I.name<T.name?-1:1);if(C==="notes")return[...O].sort((I,T)=>I.notes.join(" ")<T.notes.join(" ")?-1:1);if(C==="number of notes")return[...O].sort((I,T)=>I.notes.length>T.notes.length?-1:1)},p=()=>{if(!c)return;const C=c.getContext("2d"),O=window.devicePixelRatio,I=c.getBoundingClientRect();i(4,c.width=I.width*O,c),i(4,c.height=I.height*O,c),C.scale(O,O),i(4,c.style.width=`${I.width}px`,c),i(4,c.style.height=`${I.height}px`,c),C.fillStyle="white",C.fillRect(0,0,fA,up);const T=130,D=(fA-T)/12,P=D*.9,L=(up-30)/n.length,N=L*.9;C.textAlign="center",C.fillStyle="black";for(const[$,F]of g.entries()){const j=T+($+.5)*D;C.fillText(F,j,10),C.fillText(F,j,up-3)}const U=new Map(g.map(($,F)=>[$,F]));for(const[$,F]of a.entries()){const j=15+$*L;C.fillStyle="black",C.textAlign="right",C.fillText(F.type,T-5,j+L-2.5),C.fillStyle="#666";for(const z of F.notes){const Q=U.get(z);h?C.fillStyle=wh.noteColormap[Q]:C.fillStyle=z===d?"#777":"#bbb";const V=T+Q*D+D*.05;C.fillRect(V,j,P,N),C.fillStyle="white",C.textAlign="center";const q=T+(Q+.5)*D;C.fillText(z,q,j+L-3.5)}}};sr(p);function A(){d=xl(this),i(1,d),i(6,g)}function b(){u=xl(this),i(2,u)}function v(C){h=C,i(5,h)}function E(C){me[C?"unshift":"push"](()=>{c=C,i(4,c)})}function x(C){me[C?"unshift":"push"](()=>{l=C,i(3,l)})}const _=()=>{let C=[];for(const I of g){const T=m.map(D=>q9(`${I} ${D}`)).filter(D=>!D.empty).map(D=>(D.notes=D.notes.map(P=>pw.get(P)??P),D));C=C.concat(T)}const O=C.map(I=>({tonic:I.tonic,type:I.type,chroma:I.chroma,notes:I.notes}));EF("musical-scales",O)};return e.$$set=C=>{"toolInfo"in C&&i(0,s=C.toolInfo)},e.$$.update=()=>{e.$$.dirty&2&&i(10,n=m.map(C=>q9(`${d} ${C}`)).filter(C=>!C.empty).map(C=>(C.notes=C.notes.map(O=>pw.get(O)??O),C))),e.$$.dirty&1028&&i(9,a=M(u,n)),e.$$.dirty&512&&a&&p()},[s,d,u,l,c,h,g,m,p,a,n,A,b,v,E,x,_]}class Yct extends qi{constructor(t){super(),Wi(this,t,Xct,Kct,Ji,{toolInfo:0})}}const mA="app-settings",pA="usage",wl=window.localStorage;function wF(){let e=0,t,i;for(i in wl)wl.hasOwnProperty(i)&&(t=(wl[i].length+i.length)*2,e+=t);return e/1024}function Zct(){let e="12345678",t=0;for(;;){try{wl.setItem("__test__",e)}catch{break}e=`${e}${e}`,t=e.length}wl.removeItem("__test__");const i=wF();return t*32/1024+i}function tut(){const e=wF(),t=Zct();return{currentKb:e,limitKb:t,percentFull:e/t*100}}function Tc(){let e;return wl.getItem(pA)!==null?(e=wl.getItem(pA),e=JSON.parse(e)):e={appClicks:{},appRecordedData:{},ratings:{}},e}function O2(e){try{wl.setItem(pA,JSON.stringify(e))}catch(t){window.alert("localStorage might be full: "+t.toString())}}function gA(e){const t=wl.getItem(mA);if(t)return JSON.parse(t)[e]}function ga(e,t){console.log(`[STORE] saving recording for ${e}`,t);const i=Tc();i.appRecordedData||(i.appRecordedData={}),i.appRecordedData[e]||(i.appRecordedData[e]=[]);const n=i.appRecordedData[e],a=JSON.stringify(t);for(const s of n)if(a===JSON.stringify(s.data)){console.log("[STORE] the recording already exists");return}n.push({date:new Date().toISOString(),softwareVersion:E8,data:t}),O2(i)}function eut(e,t){console.log(`[STORE] updating recording for ${e}`,t);const i=Tc();if(!i.appRecordedData||!i.appRecordedData[e]){console.log("[STORE] error: recording does not exist");return}const n=i.appRecordedData[e],a=JSON.stringify(t.data);for(const[s,l]of n.entries())if(a===JSON.stringify(l.data)){n[s]=t,O2(i);return}console.log("[STORE] error: recording does not exist")}function iut(e,t){console.log(`[STORE] deleting recording for ${e}`,t);const i=Tc();i.appRecordedData&&i.appRecordedData[e]&&(i.appRecordedData[e]=i.appRecordedData[e].filter(n=>n.date!==t),O2(i))}function OF(e){const t=Tc();return t.appRecordedData?t.appRecordedData[e]?t.appRecordedData[e]:[]:[]}function nut(e){let t,i,n=e[0].title+"",a,s,l,c,d;return{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`Here, you can see how often and when you used each app. This data is
        only saved locally and can be reset in settings.`,c=Y(),d=K("div"),ut(l,"class","explanation"),ut(d,"class","visualization"),ut(t,"class","app")},m(u,h){_t(u,t,h),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),e[2](d)},p(u,[h]){h&1&&n!==(n=u[0].title+"")&&Ue(a,n)},i:Fe,o:Fe,d(u){u&&Ct(t),e[2](null)}}}let V4=900,rut=500;function aut(e,t,i){let{toolInfo:n}=t,a;const s=Tc();let l=[],c=new Set;for(const M in s.appClicks)if(Object.hasOwnProperty.call(s.appClicks,M)&&M!=="undefined"){const p=s.appClicks[M];l.push({id:M,dates:p.map(A=>new Date(A.substring(0,10))),useCount:p.length});for(const A of p)c.add(A.substring(0,10))}l=l.sort((M,p)=>p.useCount-M.useCount);const d=l.flatMap(M=>M.dates.map(p=>({app:M.id,date:p})));let u=[],h=[];for(const M in s.ratings)if(Object.hasOwnProperty.call(s.ratings,M)&&M!=="undefined"){const p=s.ratings[M];u.push({id:M,meanRating:Bc(p,A=>A.value)}),h.push({id:M,subRating:" mean over all",value:Bc(p,A=>A.value)});for(const A of p)h.push({id:M,subRating:A.id,value:A.value})}u=u.sort((M,p)=>p.meanRating-M.meanRating),sr(()=>{i(1,a.textContent="",a);const M=Sn({title:"Usage Count",width:V4,marginLeft:200,marginRight:60,x:{label:"times used"},y:{label:"app",grid:!0,domain:l.map(v=>v.id)},marks:[Nu(l,{x:"useCount",y:"id",tip:!0,rx:4,fill:v=>L0.accent}),Qr(l,{x:"useCount",y:"id",text:"useCount",textAnchor:"start",dx:7,paintOrder:"stroke",fill:"#333",stroke:"white",strokeWidth:10})]});a.appendChild(M);const p=Sn({title:"Usage Dates",width:V4,height:rut,marginLeft:200,x:{label:"time of usage"},y:{grid:!0,domain:l.map(v=>v.id)},marks:[js(d,{x:"date",y:"app",tip:!0})]});a.appendChild(p);const A=Sn({title:"App Ratings",width:V4,marginLeft:200,marginRight:40,x:{label:"mean of partial ratings",domain:[0,5]},y:{label:"app",grid:!0,domain:u.map(v=>v.id)},marks:[Nu(u,{x:"meanRating",y:"id",tip:!0,rx:8,fill:"gold"}),Qr(u,{x:"meanRating",y:"id",text:v=>`${v.meanRating.toFixed(1)} ${Xh}`,textAnchor:"start",dx:7,paintOrder:"stroke",fill:"#333",stroke:"white",strokeWidth:10})]});a.appendChild(A);const b=Sn({title:"App Sub-Ratings",width:V4,marginLeft:200,marginRight:40,x:{axis:!1,domain:[0,5]},y:{label:"app",domain:u.map(v=>v.id)},facet:{data:h,x:"subRating",label:"sub-rating"},marks:[Nu(h,{x:5,y:"id",rx:6,stroke:"#eee"}),Nu(h,{x:"value",y:"id",tip:!0,rx:6,fill:"gold"})]});a.appendChild(b)});function m(M){me[M?"unshift":"push"](()=>{a=M,i(1,a)})}return e.$$set=M=>{"toolInfo"in M&&i(0,n=M.toolInfo)},[n,a,m]}class sut extends qi{constructor(t){super(),Wi(this,t,aut,nut,Ji,{toolInfo:0})}}const s8=new Map([[49,{repPitch:49,label:"CC",name:"Crash Cymbal 1"}],[55,{repPitch:49,label:"CC",name:"Crash Cymbal 1"}],[52,{repPitch:57,label:"CC",name:"Crash Cymbal 2"}],[57,{repPitch:57,label:"CC",name:"Crash Cymbal 2"}],[22,{repPitch:46,label:"HH",name:"Hi-Hat"}],[26,{repPitch:46,label:"HH",name:"Hi-Hat"}],[42,{repPitch:46,label:"HH",name:"Hi-Hat"}],[46,{repPitch:46,label:"HH",name:"Hi-Hat"}],[44,{repPitch:44,label:"HH",name:"Hi-Hat Pedal"}],[51,{repPitch:51,label:"Rd",name:"Ride Cymbal"}],[53,{repPitch:51,label:"Rd",name:"Ride Cymbal"}],[59,{repPitch:51,label:"Rd",name:"Ride Cymbal"}],[38,{repPitch:38,label:"SN",name:"Snare"}],[40,{repPitch:38,label:"SN",name:"Snare"}],[48,{repPitch:48,label:"TO",name:"Tom 1"}],[50,{repPitch:48,label:"TO",name:"Tom 1"}],[45,{repPitch:45,label:"TO",name:"Tom 2"}],[47,{repPitch:45,label:"TO",name:"Tom 2"}],[43,{repPitch:43,label:"TO",name:"Stand Tom 1"}],[58,{repPitch:43,label:"TO",name:"Stand Tom 1"}],[39,{repPitch:41,label:"TO",name:"Stand Tom 2"}],[41,{repPitch:41,label:"TO",name:"Stand Tom 2"}],[35,{repPitch:36,label:"KD",name:"Kick Drum"}],[36,{repPitch:36,label:"KD",name:"Kick Drum"}]]);function out(e,t,i){const n=e.slice();return n[1]=t[i],n}function lut(e,t,i){const n=e.slice();return n[1]=t[i],n}function cut(e){let t,i,n,a,s,l,c,d,u;return{c(){t=K("tr"),i=K("td"),i.textContent=`${e[1].pitch}`,n=Y(),a=K("td"),a.textContent=`${e[1].name}`,s=Y(),l=K("td"),l.textContent=`${e[1].octave}`,c=Y(),d=K("td"),d.textContent=`${e[1].frequency.toFixed(2)}`,u=Y(),ut(i,"class","svelte-yn7py9"),ut(a,"class","svelte-yn7py9"),ut(l,"class","svelte-yn7py9"),ut(d,"class","svelte-yn7py9"),ut(t,"class","svelte-yn7py9")},m(h,g){_t(h,t,g),R(t,i),R(t,n),R(t,a),R(t,s),R(t,l),R(t,c),R(t,d),R(t,u)},p:Fe,d(h){h&&Ct(t)}}}function uut(e){let t,i,n,a,s,l,c,d,u;return{c(){t=K("tr"),i=K("td"),i.textContent=`${e[1].pitch}`,n=Y(),a=K("td"),a.textContent=`${e[1].name}`,s=Y(),l=K("td"),l.textContent=`${e[1].label}`,c=Y(),d=K("td"),d.textContent=`${xo[e[1].pitch].label}`,u=Y(),ut(i,"class","svelte-yn7py9"),ut(a,"class","svelte-yn7py9"),ut(l,"class","svelte-yn7py9"),ut(d,"class","svelte-yn7py9"),ut(t,"class","svelte-yn7py9")},m(h,g){_t(h,t,g),R(t,i),R(t,n),R(t,a),R(t,s),R(t,l),R(t,c),R(t,d),R(t,u)},p:Fe,d(h){h&&Ct(t)}}}function dut(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T=Ge(xo),D=[];for(let N=0;N<T.length;N+=1)D[N]=cut(lut(e,T,N));let P=Ge([...s8.entries()].map(hut)),L=[];for(let N=0;N<P.length;N+=1)L[N]=uut(out(e,P,N));return{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent="Information on MIDI and MIDI drum notes.",c=Y(),d=K("div"),u=K("div"),h=K("h3"),h.textContent="MIDI Notes",g=Y(),m=K("table"),M=K("tbody"),p=K("tr"),p.innerHTML='<th class="svelte-yn7py9">number</th> <th class="svelte-yn7py9">name</th> <th class="svelte-yn7py9">octave</th> <th class="svelte-yn7py9">frequency (Hz)</th>',A=Y();for(let N=0;N<D.length;N+=1)D[N].c();b=Y(),v=K("div"),E=K("h3"),E.textContent="Drum Notes",x=Y(),_=K("table"),C=K("tbody"),O=K("tr"),O.innerHTML='<th class="svelte-yn7py9">number</th> <th class="svelte-yn7py9">name</th> <th class="svelte-yn7py9">label</th> <th class="svelte-yn7py9">MIDI note</th>',I=Y();for(let N=0;N<L.length;N+=1)L[N].c();ut(l,"class","explanation"),ut(p,"class","svelte-yn7py9"),ut(m,"class","svelte-yn7py9"),ut(O,"class","svelte-yn7py9"),ut(_,"class","svelte-yn7py9"),ut(d,"class","grid svelte-yn7py9"),ut(t,"class","app")},m(N,U){_t(N,t,U),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),R(d,u),R(u,h),R(u,g),R(u,m),R(m,M),R(M,p),R(M,A);for(let $=0;$<D.length;$+=1)D[$]&&D[$].m(M,null);R(d,b),R(d,v),R(v,E),R(v,x),R(v,_),R(_,C),R(C,O),R(C,I);for(let $=0;$<L.length;$+=1)L[$]&&L[$].m(C,null)},p(N,[U]){U&1&&n!==(n=N[0].title+"")&&Ue(a,n)},i:Fe,o:Fe,d(N){N&&Ct(t),Oi(D,N),Oi(L,N)}}}const hut=([e,t])=>({pitch:e,...t});function fut(e,t,i){let{toolInfo:n}=t;return e.$$set=a=>{"toolInfo"in a&&i(0,n=a.toolInfo)},[n]}class mut extends qi{constructor(t){super(),Wi(this,t,fut,dut,Ji,{toolInfo:0})}}function gx(e,t,i){const n=e.slice();return n[4]=t[i],n}function put(e){let t,i,n;var a=e[0].component;function s(l,c){return{props:{toolInfo:l[0]}}}return a&&(i=fp(a,s(e))),{c(){t=K("div"),i&&Ut(i.$$.fragment)},m(l,c){_t(l,t,c),i&&Nt(i,t,null),n=!0},p(l,c){if(c&1&&a!==(a=l[0].component)){if(i){W0();const d=i;Rt(d.$$.fragment,1,0,()=>{Ft(d,1)}),q0()}a?(i=fp(a,s(l)),Ut(i.$$.fragment),Bt(i.$$.fragment,1),Nt(i,t,null)):i=null}else if(a){const d={};c&1&&(d.toolInfo=l[0]),i.$set(d)}},i(l){n||(i&&Bt(i.$$.fragment,l),n=!0)},o(l){i&&Rt(i.$$.fragment,l),n=!1},d(l){l&&Ct(t),i&&Ft(i)}}}function gut(e){let t,i,n=Ge(e[2]),a=[];for(let s=0;s<n.length;s+=1)a[s]=Mx(gx(e,n,s));return{c(){t=K("div");for(let s=0;s<a.length;s+=1)a[s].c();ut(t,"class",i="grid "+(e[1]?"rows":""))},m(s,l){_t(s,t,l);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(t,null)},p(s,l){if(l&5){n=Ge(s[2]);let c;for(c=0;c<n.length;c+=1){const d=gx(s,n,c);a[c]?a[c].p(d,l):(a[c]=Mx(d),a[c].c(),a[c].m(t,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=n.length}l&2&&i!==(i="grid "+(s[1]?"rows":""))&&ut(t,"class",i)},i:Fe,o:Fe,d(s){s&&Ct(t),Oi(a,s)}}}function Mx(e){let t,i,n,a,s,l,c;function d(){return e[3](e[4])}return{c(){t=K("div"),i=K("h2"),i.textContent=`${e[4].title}`,n=Y(),a=K("div"),a.textContent=`${e[4].description}`,s=Y(),ut(a,"class","description"),ut(t,"class","card")},m(u,h){_t(u,t,h),R(t,i),R(t,n),R(t,a),R(t,s),l||(c=Qe(t,"click",d),l=!0)},p(u,h){e=u},d(u){u&&Ct(t),l=!1,c()}}}function Mut(e){let t,i,n,a;const s=[gut,put],l=[];function c(d,u){return d[0]?1:0}return i=c(e),n=l[i]=s[i](e),{c(){t=K("main"),n.c()},m(d,u){_t(d,t,u),l[i].m(t,null),a=!0},p(d,[u]){let h=i;i=c(d),i===h?l[i].p(d,u):(W0(),Rt(l[h],1,1,()=>{l[h]=null}),q0(),n=l[i],n?n.p(d,u):(n=l[i]=s[i](d),n.c()),Bt(n,1),n.m(t,null))},i(d){a||(Bt(n),a=!0)},o(d){Rt(n),a=!1},d(d){d&&Ct(t),l[i].d()}}}function Aut(e,t,i){let n=[{id:"activity-tracker",title:"Activity Tracker",description:"Shows your activity on this website.",component:sut},{id:"midi-logger",title:"MIDI Logger",description:"Logs all incoming MIDI messages. Useful for getting to know a device or debugging MIDI issues.",component:vct},{id:"midi-notes",title:"MIDI Notes",description:"Information on the MIDI standard note numbers.",component:mut},{id:"piano-roll",title:"Piano Roll",description:"Shows MIDI input as a piano roll.",component:Rct},{id:"guitar-tab",title:"Guitar Tab",description:"Shows MIDI input as guitar tab.",component:mct},{id:"guitar-tunings",title:"Guitar Tunings",description:"Small tool that computes the notes for a guitar tuning based on parameters. Open tunings are not included.",component:Mct},{id:"chord-detection",title:"Chord Detection",description:"Play a chord and see what it's named.",component:Rat},{id:"note-colors",title:"Note Colors",description:"Different note color schemes.",component:wct},{id:"scale-sets",title:"Scale Sets",description:"See how different musical scales relate to each other.",component:zct},{id:"scale-notes",title:"Scale Notes",description:"See which notes are in each scale.",component:Yct},{id:"tuner",title:"Tuner",description:"Tries to detect the currently most prominent pitch from microphone audio. Useful for tuning instruments.",component:Vct}],{currentTool:a}=t,{rows:s}=t;const l=c=>{i(0,a=c)};return e.$$set=c=>{"currentTool"in c&&i(0,a=c.currentTool),"rows"in c&&i(1,s=c.rows)},[a,s,n,l]}class yut extends qi{constructor(t){super(),Wi(this,t,Aut,Mut,Ji,{currentTool:0,rows:1})}}function vut(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q;return{c(){t=K("main"),i=K("h2"),i.textContent="Settings",n=Y(),a=K("p"),a.textContent="This page contains global settings.",s=Y(),l=K("h3"),l.textContent="Usage Data",c=Y(),d=K("p"),d.textContent=`The website tracks usage data locally in your browser, but does not send it
    anywhere. You can export or reset it here.`,u=Y(),h=K("p"),h.textContent=`Currently used: ${e[3].currentKb.toFixed()} of ${e[3].limitKb.toFixed()}
    KB (${e[3].percentFull.toFixed(1)}%).`,g=Y(),m=K("button"),m.textContent="export usage",M=Y(),p=K("button"),p.textContent="import usage",A=Y(),b=K("input"),v=Y(),E=K("button"),E.textContent="delete usage",x=Y(),_=K("h3"),_.textContent="Guitar MIDI",C=Y(),O=K("p"),O.textContent="These settings allow reducing noise from MIDI guitars.",I=Y(),T=K("label"),D=se(`Minimum velocity (0-127)
    `),P=K("input"),N=Y(),U=K("label"),$=se(`Minimum duration (seconds)
    `),F=K("input"),ut(a,"class","explanation"),ut(d,"class","explanation"),ut(h,"class","explanation"),ut(m,"title","Export usage statistics"),ut(p,"title","Import all data and settings"),ut(b,"type","file"),ut(b,"id","file-input"),un(b,"display","none"),ut(E,"title","Reset usage statistics"),ut(P,"type","number"),ut(P,"min","0"),ut(P,"max","127"),P.value=L=e[0].guitarMidiMinVelocity??0,ut(T,"class","svelte-2j6w0h"),ut(F,"type","number"),ut(F,"min","0"),ut(F,"max","0.5"),ut(F,"step","0.05"),F.value=j=e[0].guitarMidiMinDuration??0,ut(U,"class","svelte-2j6w0h")},m(V,q){_t(V,t,q),R(t,i),R(t,n),R(t,a),R(t,s),R(t,l),R(t,c),R(t,d),R(t,u),R(t,h),R(t,g),R(t,m),R(t,M),R(t,p),R(t,A),R(t,b),e[7](b),R(t,v),R(t,E),R(t,x),R(t,_),R(t,C),R(t,O),R(t,I),R(t,T),R(T,D),R(T,P),R(t,N),R(t,U),R(U,$),R(U,F),z||(Q=[Qe(m,"click",e[5]),Qe(p,"click",e[6]),Qe(b,"input",e[4]),Qe(E,"click",e[8]),Qe(P,"change",e[9]),Qe(F,"change",e[10])],z=!0)},p(V,[q]){q&1&&L!==(L=V[0].guitarMidiMinVelocity??0)&&P.value!==L&&(P.value=L),q&1&&j!==(j=V[0].guitarMidiMinDuration??0)&&F.value!==j&&(F.value=j)},i:Fe,o:Fe,d(V){V&&Ct(t),e[7](null),z=!1,ar(Q)}}}function but(e,t,i){let n=JSON.parse(localStorage.getItem(mA)??"{}");const a=(p,A)=>{i(0,n[p]=A,n),localStorage.setItem(mA,JSON.stringify(n))},s=tut();let l;const c=async p=>{if(confirm("Import and overwrite current usage statistics? Cannot be undone. Export current usage first!")){const A=await p.target.files[0].text();localStorage.setItem("usage",A)}},d=()=>{const p=localStorage.getItem("usage"),A=new Blob([p],{type:"text/plain;charset=utf-8"});CF(A,"usage.json")},u=()=>l.click();function h(p){me[p?"unshift":"push"](()=>{l=p,i(1,l)})}return[n,l,a,s,c,d,u,h,()=>{confirm("Please only do this after exporting usage data! Do you really want to delete now?")&&localStorage.removeItem("usage")},p=>a("guitarMidiMinVelocity",+p.target.value),p=>a("guitarMidiMinDuration",+p.target.value)]}class Cut extends qi{constructor(t){super(),Wi(this,t,but,vut,Ji,{})}}var b8,C8,_8,xh,P2,Uu,L2,Sh,k2,R0,fo,Th;class bv{constructor(){Ln(this,b8,.04);Ln(this,C8,.1);Ln(this,_8,50);Ln(this,xh,!1);Ln(this,P2,null);Ln(this,Uu,null);Ln(this,L2,4);Ln(this,Sh,1/0);Ln(this,k2);Ln(this,R0,null);Ln(this,fo,new AudioContext);Ln(this,Th,null);In(this,"_scheduler",()=>{const t=je(this,L2),i=60/je(this,Uu);let n=je(this,k2)+je(this,R0)*i;for(;n<je(this,fo).currentTime+je(this,C8);)if(je(this,R0)<je(this,Sh)-1){n+=i;const a=je(this,R0)%t===t-1||je(this,R0)===-1,s=n-je(this,fo).currentTime,l=performance.now()+s*1e3;this._playSound(n,l,a),tE(this,R0)._++}je(this,R0)<je(this,Sh)-1?En(this,P2,setTimeout(this._scheduler,je(this,_8))):this.stop()})}get bpm(){return je(this,Uu)}get beatCount(){return je(this,R0)}onClick(t){En(this,Th,t)}start(t,i=4,n=1/0){if(!t||Number.isNaN(+t)){console.error(`[Metronome] Invalid bpm ${t}`);return}if(!i||Number.isNaN(+i)){console.error(`[Metronome] Invalid accent ${i}`);return}if(!n||Number.isNaN(+n)){console.error(`[Metronome] Invalid maxBeeps ${n}`);return}je(this,fo).state==="suspended"&&je(this,fo).resume(),En(this,Uu,+t),En(this,L2,+i),En(this,Sh,+n),En(this,xh,!0),console.log(`Metronome @ ${t}bpm, accent every ${i}. beat, limited to ${n}`),En(this,R0,-1),En(this,k2,je(this,fo).currentTime),this._scheduler()}stop(){console.log("[Metronome] stopped"),clearTimeout(je(this,P2)),En(this,xh,!1)}toggle(t,i=4,n=1/0){je(this,xh)?this.stop():(t===void 0&&(t=je(this,Uu)),this.start(t,i,n))}_playSound(t,i,n){je(this,Th)&&je(this,Th).call(this,t,i,n);const a=je(this,fo).createOscillator();a.connect(je(this,fo).destination);const s=n?300:200;a.frequency.value=s,a.start(t),a.stop(t+je(this,b8))}}b8=new WeakMap,C8=new WeakMap,_8=new WeakMap,xh=new WeakMap,P2=new WeakMap,Uu=new WeakMap,L2=new WeakMap,Sh=new WeakMap,k2=new WeakMap,R0=new WeakMap,fo=new WeakMap,Th=new WeakMap;function _ut(e,t,i){let{key:n=" "}=t,{keyDown:a=()=>{}}=t,{keyUp:s=()=>{}}=t,{ctrlKey:l=!1}=t;const c=u=>{u.key===n&&(!l||u.ctrlKey)&&(u.preventDefault(),a())},d=u=>{u.key===n&&(u.preventDefault(),s())};return sr(()=>{document.addEventListener("keydown",c),document.addEventListener("keyup",d)}),or(()=>{document.removeEventListener("keydown",c),document.removeEventListener("keyup",d)}),e.$$set=u=>{"key"in u&&i(0,n=u.key),"keyDown"in u&&i(1,a=u.keyDown),"keyUp"in u&&i(2,s=u.keyUp),"ctrlKey"in u&&i(3,l=u.ctrlKey)},[n,a,s,l]}class Ga extends qi{constructor(t){super(),Wi(this,t,_ut,null,Ji,{key:0,keyDown:1,keyUp:2,ctrlKey:3})}}function Ax(e){let t,i,n;return{c(){t=K("input"),ut(t,"title","The number of beeps for count-in, set to 0 for infinite beeps"),ut(t,"type","number"),ut(t,"step","1"),ut(t,"min","0"),ut(t,"class","svelte-1hhwgra")},m(a,s){_t(a,t,s),Vi(t,e[0]),i||(n=[Qe(t,"input",e[8]),Qe(t,"mousewheel",e[9])],i=!0)},p(a,s){s&1&&S9(t.value)!==a[0]&&Vi(t,a[0])},d(a){a&&Ct(t),i=!1,ar(n)}}}function Eut(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b,v=e[1]&&Ax(e);return M=new Ga({props:{key:"m",keyDown:e[4]}}),{c(){t=K("main"),i=K("button"),n=K("div"),a=vo("svg"),s=vo("path"),l=vo("line"),d=Y(),u=K("div"),u.textContent="metronome",g=Y(),v&&v.c(),m=Y(),Ut(M.$$.fragment),ut(s,"d","M5,16 L15,16 L10,5 Z"),ut(s,"fill","white"),ut(s,"stroke","#888"),ut(s,"stroke-linejoin","round"),ut(l,"x1","10"),ut(l,"y1","13"),ut(l,"x2",c=e[3]?5:15),ut(l,"y2","2"),ut(l,"stroke","black"),ut(l,"stroke-width","2"),ut(l,"stroke-linecap","round"),ut(a,"width","20"),ut(a,"height","17"),ut(i,"title","Toggle metronome (shortcut: m)"),ut(i,"style",h=e[1]?"border-radius: 8px 0 0 8px;":""),ut(i,"class","svelte-1hhwgra"),ut(t,"class","svelte-1hhwgra")},m(E,x){_t(E,t,x),R(t,i),R(i,n),R(n,a),R(a,s),R(a,l),R(i,d),R(i,u),e[7](i),R(t,g),v&&v.m(t,null),_t(E,m,x),Nt(M,E,x),p=!0,A||(b=Qe(i,"click",e[4]),A=!0)},p(E,[x]){(!p||x&8&&c!==(c=E[3]?5:15))&&ut(l,"x2",c),(!p||x&2&&h!==(h=E[1]?"border-radius: 8px 0 0 8px;":""))&&ut(i,"style",h),E[1]?v?v.p(E,x):(v=Ax(E),v.c(),v.m(t,null)):v&&(v.d(1),v=null)},i(E){p||(Bt(M.$$.fragment,E),p=!0)},o(E){Rt(M.$$.fragment,E),p=!1},d(E){E&&(Ct(t),Ct(m)),e[7](null),v&&v.d(),Ft(M,E),A=!1,b()}}}function wut(e,t,i){let{tempo:n=120}=t,{accent:a=4}=t,{beepCount:s=0}=t,{showBeepCountInput:l=!1}=t;const c=new bv;let d,u=!1;const h=()=>{c.toggle(n,a,s>0?s:1/0),i(2,d.style="background: var(--accent)",d),setTimeout(()=>i(2,d.style="",d),500),i(3,u=!u)};or(()=>{c.stop(),i(3,u=!1)});const g=()=>{i(3,u=!u)};c.onClick(g);function m(A){me[A?"unshift":"push"](()=>{d=A,i(2,d)})}function M(){s=S9(this.value),i(0,s)}const p=A=>{A.preventDefault();const b=A.deltaY<0?1:-1,v=Math.max(0,s+b);i(0,s=+v.toFixed())};return e.$$set=A=>{"tempo"in A&&i(5,n=A.tempo),"accent"in A&&i(6,a=A.accent),"beepCount"in A&&i(0,s=A.beepCount),"showBeepCountInput"in A&&i(1,l=A.showBeepCountInput)},[s,l,d,u,h,n,a,m,M,p]}class t0 extends qi{constructor(t){super(),Wi(this,t,wut,Eut,Ji,{tempo:5,accent:6,beepCount:0,showBeepCountInput:1})}}function Out(e){let t,i,n,a,s,l;return{c(){t=K("label"),i=se(e[2]),n=Y(),a=K("input"),ut(a,"type","number"),ut(a,"min",e[4]),ut(a,"max",e[5]),ut(a,"step",e[6]),un(a,"width","53px"),ut(t,"title",e[3])},m(c,d){_t(c,t,d),R(t,i),R(t,n),R(t,a),Vi(a,e[0]),s||(l=[Qe(a,"input",e[7]),Qe(a,"change",function(){V0(e[1])&&e[1].apply(this,arguments)}),Qe(a,"mousewheel",e[8])],s=!0)},p(c,[d]){e=c,d&4&&Ue(i,e[2]),d&16&&ut(a,"min",e[4]),d&32&&ut(a,"max",e[5]),d&64&&ut(a,"step",e[6]),d&1&&S9(a.value)!==e[0]&&Vi(a,e[0]),d&8&&ut(t,"title",e[3])},i:Fe,o:Fe,d(c){c&&Ct(t),s=!1,ar(l)}}}function xut(e,t,i){let{value:n}=t,{callback:a=()=>{}}=t,{label:s="tempo"}=t,{title:l="The tempo in beats per minute (bpm)"}=t,{min:c=30}=t,{max:d=400}=t,{step:u=5}=t;function h(){n=S9(this.value),i(0,n)}const g=m=>{m.preventDefault();const M=m.deltaY<0?u:-u;i(0,n=Math.min(d,Math.max(c,n+M))),a()};return e.$$set=m=>{"value"in m&&i(0,n=m.value),"callback"in m&&i(1,a=m.callback),"label"in m&&i(2,s=m.label),"title"in m&&i(3,l=m.title),"min"in m&&i(4,c=m.min),"max"in m&&i(5,d=m.max),"step"in m&&i(6,u=m.step)},[n,a,s,l,c,d,u,h,g]}class ts extends qi{constructor(t){super(),Wi(this,t,xut,Out,Ji,{value:0,callback:1,label:2,title:3,min:4,max:5,step:6})}}function Sut(e){let t,i,n,a,s,l;return{c(){t=K("label"),i=se(e[2]),n=Y(),a=K("input"),ut(a,"type","number"),ut(a,"step",e[6]),ut(a,"min",e[4]),ut(a,"max",e[5]),un(a,"width","55px"),ut(t,"title",e[3])},m(c,d){_t(c,t,d),R(t,i),R(t,n),R(t,a),Vi(a,e[0]),s||(l=[Qe(a,"input",e[7]),Qe(a,"change",function(){V0(e[1])&&e[1].apply(this,arguments)}),Qe(a,"mousewheel",e[8])],s=!0)},p(c,[d]){e=c,d&4&&Ue(i,e[2]),d&64&&ut(a,"step",e[6]),d&16&&ut(a,"min",e[4]),d&32&&ut(a,"max",e[5]),d&1&&S9(a.value)!==e[0]&&Vi(a,e[0]),d&8&&ut(t,"title",e[3])},i:Fe,o:Fe,d(c){c&&Ct(t),s=!1,ar(l)}}}function Tut(e,t,i){let{value:n}=t,{callback:a=()=>{}}=t,{label:s="note count"}=t,{title:l="The number of most recently played notes that are shown"}=t,{min:c=10}=t,{max:d=500}=t,{step:u=10}=t;function h(){n=S9(this.value),i(0,n)}const g=m=>{m.preventDefault();const M=m.deltaY<0?u:-u;i(0,n=Math.min(d,Math.max(c,n+M))),a()};return e.$$set=m=>{"value"in m&&i(0,n=m.value),"callback"in m&&i(1,a=m.callback),"label"in m&&i(2,s=m.label),"title"in m&&i(3,l=m.title),"min"in m&&i(4,c=m.min),"max"in m&&i(5,d=m.max),"step"in m&&i(6,u=m.step)},[n,a,s,l,c,d,u,h,g]}class Kc extends qi{constructor(t){super(),Wi(this,t,Tut,Sut,Ji,{value:0,callback:1,label:2,title:3,min:4,max:5,step:6})}}const x2=[{name:"whole",beats:4,symbol:"𝅝"},{name:"half",beats:2,symbol:"𝅗𝅥"},{name:"quarter",beats:1,symbol:"𝅘𝅥"},{name:"eighth",beats:.5,symbol:"𝅘𝅥𝅮"},{name:"sixteenth",beats:.25,symbol:"𝅘𝅥𝅯"},{name:"thirtysecond",beats:.125,symbol:"𝅘𝅥𝅰"},{name:"sixtyfourth",beats:.0625,symbol:"𝅘𝅥𝅱"},{name:"dotted-half",beats:3,symbol:"𝅗𝅥.",dotted:!0},{name:"dotted-quarter",beats:1.5,symbol:"𝅘𝅥.",dotted:!0},{name:"dotted-eighth",beats:.75,symbol:"𝅘𝅥𝅮.",dotted:!0},{name:"dotted-sixteenth",beats:.375,symbol:"𝅘𝅥𝅯.",dotted:!0},{name:"eighth-triplet",beats:1/3,symbol:"𝅘𝅥³",tuplet:!0},{name:"eighth-quintuplet",beats:1/5,symbol:"𝅘𝅥⁵",tuplet:!0},{name:"eighth-sixtuplet",beats:1/6,symbol:"𝅘𝅥⁶",tuplet:!0}];function Iut(e){let t,i,n,a,s,l,c;return a=new Ga({props:{key:"r",keyDown:e[2]}}),{c(){t=K("button"),i=se("reset"),n=Y(),Ut(a.$$.fragment),ut(t,"title",e[0]),t.disabled=e[1]},m(d,u){_t(d,t,u),R(t,i),_t(d,n,u),Nt(a,d,u),s=!0,l||(c=Qe(t,"click",e[2]),l=!0)},p(d,[u]){(!s||u&1)&&ut(t,"title",d[0]),(!s||u&2)&&(t.disabled=d[1])},i(d){s||(Bt(a.$$.fragment,d),s=!0)},o(d){Rt(a.$$.fragment,d),s=!1},d(d){d&&(Ct(t),Ct(n)),Ft(a,d),l=!1,c()}}}function But(e,t,i){let{notes:n=[]}=t,{saveToStorage:a}=t,{callback:s=()=>{}}=t,{title:l="Clear all played notes (shortcut: r)"}=t,{disabled:c=!1}=t;const d=()=>{(n.length===0||confirm("Reset played notes?"))&&(a(),i(3,n=[]),s())};return e.$$set=u=>{"notes"in u&&i(3,n=u.notes),"saveToStorage"in u&&i(4,a=u.saveToStorage),"callback"in u&&i(5,s=u.callback),"title"in u&&i(0,l=u.title),"disabled"in u&&i(1,c=u.disabled)},[l,c,d,n,a,s]}class aa extends qi{constructor(t){super(),Wi(this,t,But,Iut,Ji,{notes:3,saveToStorage:4,callback:5,title:0,disabled:1})}}function Rut(e){let t,i,n,a,s,l,c,d,u,h;return{c(){t=K("main"),i=K("button"),i.textContent="import",n=Y(),a=K("button"),a.textContent="export",s=Y(),l=K("button"),l.textContent="share",c=Y(),d=K("input"),ut(i,"title","Import current app data and settings"),ut(i,"class","left svelte-m704f"),ut(a,"title","Export current app data and settings"),ut(a,"class","middle svelte-m704f"),ut(l,"title","Get a link that contains the current app configuration. It will also contain recorded data if it fits into the link"),ut(l,"class","right svelte-m704f"),ut(t,"class","svelte-m704f"),ut(d,"type","file"),ut(d,"id","file-input"),un(d,"display","none")},m(g,m){_t(g,t,m),R(t,i),R(t,n),R(t,a),R(t,s),R(t,l),e[9](l),_t(g,c,m),_t(g,d,m),e[10](d),u||(h=[Qe(i,"click",e[8]),Qe(a,"click",e[3]),Qe(l,"click",e[4]),Qe(d,"input",e[2])],u=!0)},p:Fe,i:Fe,o:Fe,d(g){g&&(Ct(t),Ct(c),Ct(d)),e[9](null),e[10](null),u=!1,ar(h)}}}const Hg=8e3;function Dut(e,t,i){let{appId:n}=t,{loadData:a}=t,{getExportData:s}=t,l,c;const d=async A=>{const b=A.target.files[0],v=await _F(b);a(v)},u=()=>{const A=s();EF(n,A)},h=A=>{const b=JSON.stringify(A,t2,0);console.log("json length",b.length);const v=encodeURI(b);return`${location.href.replace("&json=","").replace("?json=","")}&json=${v}`},g=()=>{const A=s();A._appId=n,A._softwareVersion=E8,A._date=new Date().toISOString();let b=h(A);if(b.length>Hg)if(A.notes&&(A.notes=[]),A.bendValues&&(A.bendValues=[]),b=h(A),b.length>Hg){alert(`Link is too long. Limit: ${Hg}, length: ${b.length}`);return}else alert("Link was too long, so played data was removed and you can only send app settings");navigator.clipboard.writeText(b),i(1,c.style="background: lightblue",c),i(1,c.innerText="copied",c),setTimeout(()=>{i(1,c.style="",c),i(1,c.innerText="share",c)},500)};sr(()=>{const A=rB(window,"json");if(A&&A!=="")try{const b=decodeURI(A),v=JSON.parse(b);a(v)}catch(b){console.error("Error: Cannot open shared app settings"),console.error(b)}}),or(()=>{Ru(window,"json","")});const m=()=>l.click();function M(A){me[A?"unshift":"push"](()=>{c=A,i(1,c)})}function p(A){me[A?"unshift":"push"](()=>{l=A,i(0,l)})}return e.$$set=A=>{"appId"in A&&i(5,n=A.appId),"loadData"in A&&i(6,a=A.loadData),"getExportData"in A&&i(7,s=A.getExportData)},[l,c,d,u,g,n,a,s,m,M,p]}class ua extends qi{constructor(t){super(),Wi(this,t,Dut,Rut,Ji,{appId:5,loadData:6,getExportData:7})}}function yx(e){let t,i,n;return{c(){t=K("textarea"),ut(t,"class","svelte-14qy37")},m(a,s){_t(a,t,s),Vi(t,e[4]),i||(n=[Qe(t,"input",e[7]),Qe(t,"keydown",e[5]),Qe(t,"keyup",e[5]),Qe(t,"keypress",e[5])],i=!0)},p(a,s){s&16&&Vi(t,a[4])},d(a){a&&Ct(t),i=!1,ar(n)}}}function Put(e){let t,i,n=(e[3]?zw:Qw)+"",a,s,l,c,d=e[3]&&yx(e);return{c(){t=K("main"),i=K("button"),a=se(n),s=Y(),d&&d.c()},m(u,h){_t(u,t,h),R(t,i),R(i,a),R(t,s),d&&d.m(t,null),l||(c=Qe(i,"click",e[6]),l=!0)},p(u,[h]){h&8&&n!==(n=(u[3]?zw:Qw)+"")&&Ue(a,n),u[3]?d?d.p(u,h):(d=yx(u),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i:Fe,o:Fe,d(u){u&&Ct(t),d&&d.d(),l=!1,c()}}}function Lut(e,t,i){let{appId:n}=t,{recording:a}=t,{loadRecordings:s=()=>{}}=t,l=!1,c=a.annotation??"";const d=g=>{g.stopPropagation()},u=()=>{if(i(3,l=!l),!l){const g=c.trim();(g.length>0||a.annotation.length>0)&&(i(0,a.annotation=g,a),eut(n,a),s())}};function h(){c=this.value,i(4,c)}return e.$$set=g=>{"appId"in g&&i(1,n=g.appId),"recording"in g&&i(0,a=g.recording),"loadRecordings"in g&&i(2,s=g.loadRecordings)},[a,n,s,l,c,d,u,h]}class kut extends qi{constructor(t){super(),Wi(this,t,Lut,Put,Ji,{appId:1,recording:0,loadRecordings:2})}}function vx(e,t,i){const n=e.slice();return n[10]=t[i],n[12]=i,n}function bx(e){let t,i,n,a,s,l,c,d,u,h=[],g=new Map,m,M,p,A,b,v=Ge(e[2]);const E=x=>x[10].date;for(let x=0;x<v.length;x+=1){let _=vx(e,v,x),C=E(_);g.set(C,h[x]=Cx(C,_))}return M=new Ga({props:{key:"Escape",keyDown:e[6]}}),{c(){t=K("div"),i=K("div"),n=K("div"),a=K("h2"),a.textContent="Load From History",s=Y(),l=K("button"),l.textContent="×",c=Y(),d=K("div"),d.innerHTML="<div>date</div> <div>notes</div> <div>load</div> <div>delete</div> <div>annotate</div>",u=Y();for(let x=0;x<h.length;x+=1)h[x].c();m=Y(),Ut(M.$$.fragment),ut(l,"title","close (shortcut: Escape)"),ut(l,"class","close svelte-23iviy"),ut(n,"class","heading svelte-23iviy"),ut(d,"class","recording svelte-23iviy"),ut(i,"class","modal-content svelte-23iviy"),ut(t,"class","modal svelte-23iviy")},m(x,_){_t(x,t,_),R(t,i),R(i,n),R(n,a),R(n,s),R(n,l),R(i,c),R(i,d),R(i,u);for(let C=0;C<h.length;C+=1)h[C]&&h[C].m(i,null);_t(x,m,_),Nt(M,x,_),p=!0,A||(b=Qe(l,"click",e[6]),A=!0)},p(x,_){_&55&&(v=Ge(x[2]),W0(),h=nB(h,_,E,1,x,v,g,i,iB,Cx,null,vx),q0())},i(x){if(!p){for(let _=0;_<v.length;_+=1)Bt(h[_]);Bt(M.$$.fragment,x),p=!0}},o(x){for(let _=0;_<h.length;_+=1)Rt(h[_]);Rt(M.$$.fragment,x),p=!1},d(x){x&&(Ct(t),Ct(m));for(let _=0;_<h.length;_+=1)h[_].d();Ft(M,x),A=!1,b()}}}function Cx(e,t){var U;let i,n,a=t[10].date.substring(0,16).replace("T"," ")+"",s,l,c,d=((U=t[10].data.notes)==null?void 0:U.length)+"",u,h,g,m,M,p=t[4]===t[10].date?"confirm":"delete",A,b,v,E,x,_=(t[10].annotation?t[10].annotation.substring(0,20):"")+"",C,O,I,T,D,P;function L(...$){return t[8](t[10],...$)}function N(...$){return t[9](t[10],...$)}return v=new kut({props:{appId:t[0],recording:t[10],loadRecordings:t[5]}}),{key:e,first:null,c(){i=K("div"),n=K("div"),s=se(a),l=Y(),c=K("div"),u=se(d),h=Y(),g=K("button"),g.textContent="load",m=Y(),M=K("button"),A=se(p),b=Y(),Ut(v.$$.fragment),E=Y(),x=K("div"),C=se(_),I=Y(),ut(g,"class","svelte-23iviy"),ut(M,"class","delete svelte-23iviy"),ut(x,"title",O=t[10].annotation),ut(x,"class","annotation svelte-23iviy"),ut(i,"class","recording svelte-23iviy"),this.first=i},m($,F){_t($,i,F),R(i,n),R(n,s),R(i,l),R(i,c),R(c,u),R(i,h),R(i,g),R(i,m),R(i,M),R(M,A),R(i,b),Nt(v,i,null),R(i,E),R(i,x),R(x,C),R(i,I),T=!0,D||(P=[Qe(g,"click",L),Qe(M,"click",N)],D=!0)},p($,F){var z;t=$,(!T||F&4)&&a!==(a=t[10].date.substring(0,16).replace("T"," ")+"")&&Ue(s,a),(!T||F&4)&&d!==(d=((z=t[10].data.notes)==null?void 0:z.length)+"")&&Ue(u,d),(!T||F&20)&&p!==(p=t[4]===t[10].date?"confirm":"delete")&&Ue(A,p);const j={};F&1&&(j.appId=t[0]),F&4&&(j.recording=t[10]),v.$set(j),(!T||F&4)&&_!==(_=(t[10].annotation?t[10].annotation.substring(0,20):"")+"")&&Ue(C,_),(!T||F&4&&O!==(O=t[10].annotation))&&ut(x,"title",O)},i($){T||(Bt(v.$$.fragment,$),T=!0)},o($){Rt(v.$$.fragment,$),T=!1},d($){$&&Ct(i),Ft(v),D=!1,ar(P)}}}function Nut(e){let t,i,n,a,s,l,c=e[3]&&bx(e);return{c(){t=K("button"),t.textContent="history",i=Y(),c&&c.c(),n=kr(),ut(t,"title","Load a previously auto-saved take")},m(d,u){_t(d,t,u),_t(d,i,u),c&&c.m(d,u),_t(d,n,u),a=!0,s||(l=Qe(t,"click",e[7]),s=!0)},p(d,[u]){d[3]?c?(c.p(d,u),u&8&&Bt(c,1)):(c=bx(d),c.c(),Bt(c,1),c.m(n.parentNode,n)):c&&(W0(),Rt(c,1,1,()=>{c=null}),q0())},i(d){a||(Bt(c),a=!0)},o(d){Rt(c),a=!1},d(d){d&&(Ct(t),Ct(i),Ct(n)),c&&c.d(d),s=!1,l()}}}function Fut(e,t,i){let{appId:n}=t,{loadData:a=M=>{}}=t,s=[],l=!1,c="";const d=()=>{i(2,s=OF(n).reverse())},u=M=>{i(3,l=!l)},h=()=>{d(),u()},g=(M,p)=>a(M.data),m=(M,p)=>{p.preventDefault(),c===M.date?(i(4,c=""),iut(n,M.date),d()):i(4,c=M.date)};return e.$$set=M=>{"appId"in M&&i(0,n=M.appId),"loadData"in M&&i(1,a=M.loadData)},[n,a,s,l,c,d,u,h,g,m]}class Ma extends qi{constructor(t){super(),Wi(this,t,Fut,Nut,Ji,{appId:0,loadData:1})}}const Uut=90,$ut=30,Gut=!1,Vut=[{time:0,velocity:.4566929133858268},{time:.42410000014305116,velocity:.3779527559055118},{time:.795,velocity:.3779527559055118},{time:1.181,velocity:.31496062992125984},{time:1.5501000001430512,velocity:.33070866141732286},{time:1.912100000143051,velocity:.25984251968503935},{time:2.275100000143051,velocity:.10236220472440945},{time:2.609100000143051,velocity:.16535433070866143},{time:2.971,velocity:.3937007874015748},{time:3.366100000143051,velocity:.2047244094488189},{time:3.7811000001430513,velocity:.1968503937007874},{time:4.166100000143051,velocity:.2440944881889764},{time:4.539,velocity:.47244094488188976},{time:4.7551000001430515,velocity:.4409448818897638},{time:4.946,velocity:.44881889763779526},{time:5.141100000143052,velocity:.4251968503937008},{time:5.338100000143051,velocity:.4251968503937008},{time:5.523,velocity:.4566929133858268},{time:5.701100000143051,velocity:.47244094488188976},{time:5.890100000143051,velocity:.4645669291338583},{time:6.069,velocity:.44881889763779526},{time:6.257,velocity:.4409448818897638},{time:6.440100000143051,velocity:.41732283464566927},{time:6.621100000143051,velocity:.4566929133858268},{time:6.801100000143051,velocity:.4409448818897638},{time:6.9841000001430515,velocity:.4409448818897638},{time:7.175,velocity:.3858267716535433},{time:7.414,velocity:.3464566929133858},{time:7.761100000143051,velocity:.1968503937007874},{time:8.095,velocity:.007874015748031496},{time:8.379,velocity:.16535433070866143},{time:8.61710000014305,velocity:.23622047244094488},{time:8.893,velocity:.23622047244094488},{time:9.12710000014305,velocity:.28346456692913385},{time:9.434,velocity:.11023622047244094},{time:9.702100000143052,velocity:.2047244094488189},{time:9.96310000014305,velocity:.1889763779527559},{time:10.230100000143052,velocity:.2204724409448819},{time:10.50210000014305,velocity:.18110236220472442},{time:10.778100000143052,velocity:.18110236220472442},{time:11.042100000143051,velocity:.2125984251968504},{time:11.288100000143052,velocity:.15748031496062992},{time:11.564100000143052,velocity:.18110236220472442},{time:11.81010000014305,velocity:.31496062992125984},{time:12.02710000014305,velocity:.3858267716535433},{time:12.35810000014305,velocity:.10236220472440945},{time:12.70010000014305,velocity:.08661417322834646},{time:13.080100000143052,velocity:.007874015748031496},{time:13.502,velocity:.031496062992125984},{time:13.82510000014305,velocity:.12598425196850394},{time:14.163100000143052,velocity:.15748031496062992},{time:14.513100000143051,velocity:.12598425196850394},{time:14.87410000014305,velocity:.14960629921259844},{time:15.203100000143051,velocity:.11811023622047244},{time:15.500100000143052,velocity:.2047244094488189},{time:15.772,velocity:.2047244094488189},{time:16.06410000014305,velocity:.1889763779527559},{time:16.38810000014305,velocity:.1732283464566929},{time:16.67710000014305,velocity:.16535433070866143},{time:16.996,velocity:.18110236220472442},{time:17.28210000014305,velocity:.2047244094488189},{time:17.60510000014305,velocity:.18110236220472442},{time:17.924100000143053,velocity:.14173228346456693},{time:18.28010000014305,velocity:.1732283464566929},{time:18.663,velocity:.1968503937007874},{time:19.04810000014305,velocity:.09448818897637795},{time:19.40710000014305,velocity:.10236220472440945},{time:19.802,velocity:.11811023622047244},{time:20.24110000014305,velocity:.13385826771653545},{time:20.618100000143052,velocity:.14173228346456693},{time:21.002100000143052,velocity:.5118110236220472},{time:21.339100000143052,velocity:.14960629921259844},{time:21.71610000014305,velocity:.08661417322834646},{time:22.10510000014305,velocity:.13385826771653545},{time:22.44810000014305,velocity:.4251968503937008},{time:22.84910000014305,velocity:.1889763779527559},{time:23.24010000014305,velocity:.12598425196850394},{time:23.60510000014305,velocity:.08661417322834646},{time:23.96310000014305,velocity:.3937007874015748},{time:24.38110000014305,velocity:.2047244094488189},{time:24.79810000014305,velocity:.1889763779527559},{time:25.17310000014305,velocity:.18110236220472442},{time:25.53310000014305,velocity:.4251968503937008},{time:25.93410000014305,velocity:.1968503937007874},{time:26.336100000143052,velocity:.18110236220472442},{time:26.69510000014305,velocity:.15748031496062992},{time:27.06710000014305,velocity:.29133858267716534},{time:27.51910000014305,velocity:.18110236220472442},{time:27.88410000014305,velocity:.2047244094488189},{time:28.264100000143053,velocity:.007874015748031496},{time:28.607100000143053,velocity:.3779527559055118},{time:29.022100000143052,velocity:.031496062992125984},{time:29.411,velocity:.14173228346456693},{time:29.76810000014305,velocity:.07874015748031496},{time:30.11710000014305,velocity:.4094488188976378},{time:30.525,velocity:.31496062992125984},{time:30.892100000143053,velocity:.29133858267716534},{time:31.293100000143053,velocity:.2047244094488189},{time:31.666,velocity:.4409448818897638},{time:32.076,velocity:.2047244094488189},{time:32.44910000014305,velocity:.13385826771653545},{time:32.82010000014305,velocity:.14173228346456693},{time:33.16710000014305,velocity:.4094488188976378},{time:33.487,velocity:.15748031496062992},{time:33.86510000014305,velocity:.11023622047244094},{time:34.24710000014305,velocity:.1889763779527559}],Hut="accents",Qut="2024-07-02T14:39:34.656Z",_x={tempo:Uut,pastNoteCount:$ut,useDotted:Gut,notes:Vut,_appId:Hut,_date:Qut},zut=90,jut=20,Jut=!1,Wut=!1,qut=0,Kut=16,Xut=[{time:0,velocity:.8818897637795275},{time:.663,velocity:.5669291338582677},{time:1.293,velocity:.5826771653543307},{time:1.966,velocity:.5669291338582677},{time:2.6378999999761583,velocity:.9133858267716536},{time:3.264899999976158,velocity:.6141732283464567},{time:3.955,velocity:.5669291338582677},{time:4.608899999976158,velocity:.5433070866141733},{time:5.3,velocity:.8503937007874016},{time:5.968,velocity:.5826771653543307},{time:6.596,velocity:.5590551181102362},{time:7.231,velocity:.5511811023622047},{time:7.903,velocity:.8661417322834646},{time:8.575,velocity:.6614173228346457},{time:9.219,velocity:.5590551181102362},{time:9.893,velocity:.5590551181102362},{time:10.549,velocity:.8976377952755905},{time:11.247,velocity:.7086614173228346},{time:11.928,velocity:.5826771653543307},{time:12.61,velocity:.5275590551181102},{time:13.292,velocity:.9133858267716536}],Yut="accents",Zut="0.19.4",tdt="2024-10-31T10:28:55.294Z",Ex={tempo:zut,pastNoteCount:jut,useDotted:Jut,useTuplets:Wut,velocityThreshold:qut,filterNote:Kut,notes:Xut,_appId:Yut,_softwareVersion:Zut,_date:tdt},edt=60,idt=20,ndt=!1,rdt=!0,adt=0,sdt=16,odt=[{time:0,velocity:.8818897637795275},{time:.414,velocity:.5511811023622047},{time:.762,velocity:.5039370078740157},{time:1.116,velocity:.8346456692913385},{time:1.456899999976158,velocity:.5826771653543307},{time:1.829899999976158,velocity:.5590551181102362},{time:2.179899999976158,velocity:.8503937007874016},{time:2.526,velocity:.5196850393700787},{time:2.836,velocity:.5511811023622047},{time:3.178,velocity:.8346456692913385},{time:3.535,velocity:.5196850393700787},{time:3.834,velocity:.4330708661417323},{time:4.199,velocity:.8818897637795275},{time:4.517899999976158,velocity:.5511811023622047},{time:4.873,velocity:.5511811023622047},{time:5.202,velocity:.7559055118110236},{time:5.498,velocity:.5354330708661418},{time:5.829,velocity:.5433070866141733},{time:6.164,velocity:.8503937007874016},{time:6.493899999976158,velocity:.5511811023622047},{time:6.813,velocity:.5039370078740157},{time:7.15,velocity:.8503937007874016},{time:7.501,velocity:.5354330708661418},{time:7.826,velocity:.5354330708661418},{time:8.158,velocity:.8818897637795275},{time:8.51,velocity:.5669291338582677},{time:8.834,velocity:.5669291338582677},{time:9.157,velocity:.8503937007874016},{time:9.488,velocity:.5433070866141733},{time:9.791,velocity:.5669291338582677},{time:10.112,velocity:.8188976377952756},{time:10.484899999976157,velocity:.6062992125984252},{time:10.821,velocity:.6929133858267716},{time:11.156,velocity:.7244094488188977},{time:11.494,velocity:.5354330708661418}],ldt="accents",cdt="0.19.4",udt="2024-10-31T10:31:01.166Z",wx={tempo:edt,pastNoteCount:idt,useDotted:ndt,useTuplets:rdt,velocityThreshold:adt,filterNote:sdt,notes:odt,_appId:ldt,_softwareVersion:cdt,_date:udt};function ddt(e){let t,i,n,a;const s=e[1].default,l=G2(s,e,e[0],null);return{c(){t=K("div"),i=K("h4"),i.textContent="Exercises",n=Y(),l&&l.c(),ut(i,"class","svelte-1iskw7o"),ut(t,"class","exercise-content svelte-1iskw7o")},m(c,d){_t(c,t,d),R(t,i),R(t,n),l&&l.m(t,null),a=!0},p(c,[d]){l&&l.p&&(!a||d&1)&&H2(l,s,c,c[0],a?V2(s,c[0],d,null):Q2(c[0]),null)},i(c){a||(Bt(l,c),a=!0)},o(c){Rt(l,c),a=!1},d(c){c&&Ct(t),l&&l.d(c)}}}function hdt(e,t,i){let{$$slots:n={},$$scope:a}=t;return e.$$set=s=>{"$$scope"in s&&i(0,a=s.$$scope)},[a,n]}class Kr extends qi{constructor(t){super(),Wi(this,t,hdt,ddt,Ji,{})}}const Ro=new Map([["A",9],["A#",10],["A##",11],["Ab",8],["Abb",7],["B",11],["B#",0],["B##",1],["Bb",10],["Bbb",9],["C",0],["C#",1],["C##",2],["Cb",11],["Cbb",10],["D",2],["D#",3],["D##",4],["Db",1],["Dbb",0],["E",4],["E#",5],["E##",6],["Eb",3],["Ebb",2],["F",5],["F#",6],["F##",7],["Fb",4],["Fbb",3],["G",7],["G#",8],["G##",9],["Gb",6],["Gbb",5]]),K9=[{divisions:"4:1",label:"⁴⁄₄ quarters"},{divisions:"4:2",label:"⁴⁄₄ eighths"},{divisions:"4:3",label:"⁴⁄₄ triplets"},{divisions:"4:4",label:"⁴⁄₄ sixteenths"},{divisions:"4:5",label:"⁴⁄₄ quintuplets"},{divisions:"4:6",label:"⁴⁄₄ sixtuplets"},{divisions:"3:1",label:"³⁄₄ quarters"},{divisions:"3:2",label:"³⁄₄ eighths"},{divisions:"3:3",label:"³⁄₄ triplets"},{divisions:"3:4",label:"³⁄₄ sixteenths"},{divisions:"3:5",label:"³⁄₄ quintuplets"},{divisions:"3:6",label:"³⁄₄ sixtuplets"},{divisions:"2:1",label:"²⁄₄ quarters"},{divisions:"2:2",label:"²⁄₄ eighths"},{divisions:"2:3",label:"²⁄₄ triplets"},{divisions:"2:4",label:"²⁄₄ sixteenths"},{divisions:"2:5",label:"²⁄₄ quintuplets"},{divisions:"2:6",label:"²⁄₄ sixtuplets"}],ms=[8,16,32,64,128,24,48,96,192],xF=[4,8,16,32,64,128],Bu=[{semitones:0,name:"Unison",short:"P1",type:"perfect"},{semitones:1,name:"Minor 2nd",short:"m2",type:"minor"},{semitones:2,name:"Major 2nd",short:"M2",type:"major"},{semitones:3,name:"Minor 3rd",short:"m3",type:"minor"},{semitones:4,name:"Major 3rd",short:"M3",type:"major"},{semitones:5,name:"Perfect 4th",short:"P4",type:"perfect"},{semitones:6,name:"Augmented 4th",short:"A4",type:"tritone"},{semitones:7,name:"Perfect 5th",short:"P5",type:"perfect"},{semitones:8,name:"Minor 6th",short:"m6",type:"minor"},{semitones:9,name:"Major 6th",short:"M6",type:"major"},{semitones:10,name:"Minor 7th",short:"m7",type:"minor"},{semitones:11,name:"Major 7th",short:"M7",type:"major"},{semitones:12,name:"Perfect 8ve",short:"P8",type:"perfect"}],Ku=new Map([[0,"silent"],[16,"ppp"],[32,"pp"],[48,"p"],[64,"mp"],[80,"mf"],[96,"f"],[112,"ff"],[127,"fff"]]),fdt=new Map([["silent","silent"],["ppppp","almost silent"],["pppp","soft whispering"],["ppp","whispering"],["pp","almost a whisper"],["p","softer than speaking"],["mp","speaking voice"],["mf","speaking voice"],["f","louder than speaking"],["ff","loud speaking"],["fff","yelling"],["ffff","loud yelling"]]),mdt=new Map([[1,{degree:1,semitones:0,short:"Ton",name:"Tonic",meaning:"Tonal center, note of final resolution"}],[2,{degree:2,semitones:2,short:"SpT",name:"Supertonic",meaning:"One whole step above the tonic"}],[3,{degree:3,semitones:4,short:"Med",name:"Mediant",meaning:"Midway between tonic and dominant, (in minor key) tonic of relative major key"}],[4,{degree:4,semitones:5,short:"SbD",name:"Subdominant",meaning:"Lower dominant, happens to have the same interval below tonic as dominant is above tonic"}],[5,{degree:5,semitones:7,short:"Dom",name:"Dominant",meaning:"Second in importance to the tonic"}],[6,{degree:6,semitones:9,short:"SbM",name:"Submediant",meaning:"Lower mediant, midway between tonic and subdominant, (in major key) tonic of relative minor key"}],[7,{degree:7,semitones:11,short:"Lea",name:"Leading tone",meaning:"One whole step below tonic in natural minor scale"}]]),pdt=new Map([[1,{degree:1,semitones:0,short:"Ton",name:"Tonic",meaning:"Tonal center, note of final resolution"}],[2,{degree:2,semitones:2,short:"SpT",name:"Supertonic",meaning:"One whole step above the tonic"}],[3,{degree:3,semitones:3,short:"Med",name:"Mediant",meaning:"Midway between tonic and dominant, (in minor key) tonic of relative major key"}],[4,{degree:4,semitones:5,short:"SbD",name:"Subdominant",meaning:"Lower dominant, happens to have the same interval below tonic as dominant is above tonic"}],[5,{degree:5,semitones:7,short:"Dom",name:"Dominant",meaning:"Second in importance to the tonic"}],[6,{degree:6,semitones:8,short:"SbM",name:"Submediant",meaning:"Lower mediant, midway between tonic and subdominant, (in major key) tonic of relative minor key"}],[7,{degree:7,semitones:10,short:"SbT",name:"Subtonic",meaning:"One whole step below tonic in natural minor scale"}]]);function Ox(e,t,i){const n=e.slice();return n[9]=t[i],n}function xx(e,t,i){const n=e.slice();return n[12]=t[i],n}function Sx(e){let t,i,n,a,s,l,c,d=e[1]&&Tx(e);return{c(){t=K("p"),t.textContent=`How much do you agree with these statements? 1 ${Xh}:
            completely disagree, 5 ${Xh}: completely agree`,i=Y(),n=K("div"),d&&d.c(),a=Y(),s=K("button"),s.textContent="reset",ut(n,"class","grid svelte-a1enf2")},m(u,h){_t(u,t,h),_t(u,i,h),_t(u,n,h),d&&d.m(n,null),_t(u,a,h),_t(u,s,h),l||(c=Qe(s,"click",e[4]),l=!0)},p(u,h){u[1]?d?d.p(u,h):(d=Tx(u),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},d(u){u&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s)),d&&d.d(),l=!1,c()}}}function Tx(e){let t,i,n,a,s=Bc(e[1],Rx).toFixed(1)+"",l,c,d,u=Ge(e[1]),h=[];for(let g=0;g<u.length;g+=1)h[g]=Bx(Ox(e,u,g));return{c(){for(let g=0;g<h.length;g+=1)h[g].c();t=Y(),i=K("div"),i.textContent="mean:",n=Y(),a=K("div"),l=se(s),c=Y(),d=se(Xh),ut(i,"class","label svelte-a1enf2")},m(g,m){for(let M=0;M<h.length;M+=1)h[M]&&h[M].m(g,m);_t(g,t,m),_t(g,i,m),_t(g,n,m),_t(g,a,m),R(a,l),R(a,c),R(a,d)},p(g,m){if(m&10){u=Ge(g[1]);let M;for(M=0;M<u.length;M+=1){const p=Ox(g,u,M);h[M]?h[M].p(p,m):(h[M]=Bx(p),h[M].c(),h[M].m(t.parentNode,t))}for(;M<h.length;M+=1)h[M].d(1);h.length=u.length}m&2&&s!==(s=Bc(g[1],Rx).toFixed(1)+"")&&Ue(l,s)},d(g){g&&(Ct(t),Ct(i),Ct(n),Ct(a)),Oi(h,g)}}}function Ix(e){let t,i,n,a,s;function l(){return e[7](e[9],e[12])}return{c(){t=K("button"),i=se(Xh),ut(t,"class",n="star "+(e[12]<=e[9].value?"":"rest")+" svelte-a1enf2")},m(c,d){_t(c,t,d),R(t,i),a||(s=Qe(t,"click",l),a=!0)},p(c,d){e=c,d&2&&n!==(n="star "+(e[12]<=e[9].value?"":"rest")+" svelte-a1enf2")&&ut(t,"class",n)},d(c){c&&Ct(t),a=!1,s()}}}function Bx(e){let t,i=e[9].label+"",n,a,s,l=Ge([1,2,3,4,5]),c=[];for(let d=0;d<5;d+=1)c[d]=Ix(xx(e,l,d));return{c(){t=K("div"),n=se(i),a=Y(),s=K("div");for(let d=0;d<5;d+=1)c[d].c();ut(t,"class","label svelte-a1enf2")},m(d,u){_t(d,t,u),R(t,n),_t(d,a,u),_t(d,s,u);for(let h=0;h<5;h+=1)c[h]&&c[h].m(s,null)},p(d,u){if(u&2&&i!==(i=d[9].label+"")&&Ue(n,i),u&10){l=Ge([1,2,3,4,5]);let h;for(h=0;h<5;h+=1){const g=xx(d,l,h);c[h]?c[h].p(g,u):(c[h]=Ix(g),c[h].c(),c[h].m(s,null))}for(;h<5;h+=1)c[h].d(1)}},d(d){d&&(Ct(t),Ct(a),Ct(s)),Oi(c,d)}}}function gdt(e){let t,i,n,a,s,l=e[0]&&Sx(e);return{c(){t=K("main"),i=K("button"),i.textContent=`${Xh} rate this app`,n=Y(),l&&l.c(),ut(t,"class","rating-button")},m(c,d){_t(c,t,d),R(t,i),R(t,n),l&&l.m(t,null),a||(s=Qe(i,"click",e[6]),a=!0)},p(c,[d]){c[0]?l?l.p(c,d):(l=Sx(c),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i:Fe,o:Fe,d(c){c&&Ct(t),l&&l.d(),a=!1,s()}}}const Rx=e=>e.value;function Mdt(e,t,i){let{appId:n}=t,a=!1,s;const l=[{id:"makesSense",label:"What this app tries to do makes sense to me",value:0},{id:"good",label:"This app is good at what is does",value:0},{id:"useful",label:"This app is useful for me personally",value:0},{id:"usable",label:"This app is easy to use",value:0},{id:"learneable",label:"This app is quick and easy to learn",value:0},{id:"fun",label:"The app is fun to use",value:0},{id:"useRegular",label:"I would use this app regularly",value:0},{id:"useSpecific",label:"I would use this app for specific cases",value:0}],c=()=>{const m=Tc();m.ratings||(m.ratings={}),m.ratings[n]?i(1,s=m.ratings[n]):i(1,s=structuredClone(l))},d=(m,M)=>{s.filter(A=>A.id===m)[0].value=M,i(1,s=[...s]);const p=Tc();p.ratings=p.ratings??{},p.ratings[n]=s,O2(p)},u=()=>{i(1,s=structuredClone(l));const m=Tc();m.ratings=m.ratings??{},m.ratings[n]=s,O2(m)},h=()=>{i(0,a=!a),a&&c()},g=(m,M)=>d(m.id,M);return e.$$set=m=>{"appId"in m&&i(5,n=m.appId)},[a,s,c,d,u,n,h,g]}class Xr extends qi{constructor(t){super(),Wi(this,t,Mdt,gdt,Ji,{appId:5})}}function Adt(e){let t,i,n,a,s,l,c;const d=e[10].default,u=G2(d,e,e[9],null);return{c(){t=K("label"),i=se(e[2]),n=Y(),a=K("select"),u&&u.c(),ut(a,"class",e[4]),a.disabled=e[5],ut(a,"style",e[6]),e[0]===void 0&&xs(()=>e[12].call(a)),ut(t,"title",e[3])},m(h,g){_t(h,t,g),R(t,i),R(t,n),R(t,a),u&&u.m(a,null),e[11](a),E9(a,e[0],!0),s=!0,l||(c=[Qe(a,"change",e[12]),Qe(a,"change",e[13]),Qe(a,"mousewheel",e[8])],l=!0)},p(h,[g]){(!s||g&4)&&Ue(i,h[2]),u&&u.p&&(!s||g&512)&&H2(u,d,h,h[9],s?V2(d,h[9],g,null):Q2(h[9]),null),(!s||g&16)&&ut(a,"class",h[4]),(!s||g&32)&&(a.disabled=h[5]),(!s||g&64)&&ut(a,"style",h[6]),g&1&&E9(a,h[0]),(!s||g&8)&&ut(t,"title",h[3])},i(h){s||(Bt(u,h),s=!0)},o(h){Rt(u,h),s=!1},d(h){h&&Ct(t),u&&u.d(h),e[11](null),l=!1,ar(c)}}}function ydt(e,t,i){let{$$slots:n={},$$scope:a}=t,{value:s}=t,{callback:l=v=>{}}=t,{label:c=""}=t,{title:d=""}=t,{className:u=""}=t,{disabled:h=!1}=t,{style:g=""}=t,m;const M=v=>{if(v.preventDefault(),h)return;const x=[...m.children].map(O=>O.value);let _=x.indexOf(s);if(_===-1&&(_=x.indexOf(s.toString()),_===-1))return;let C;v.deltaY<0?C=_>0?_-1:x.length-1:C=_<x.length-1?_+1:0,typeof s=="number"?i(0,s=+x[C]):i(0,s=x[C]),l(v)};function p(v){me[v?"unshift":"push"](()=>{m=v,i(7,m)})}function A(){s=xl(this),i(0,s)}const b=v=>l(v);return e.$$set=v=>{"value"in v&&i(0,s=v.value),"callback"in v&&i(1,l=v.callback),"label"in v&&i(2,c=v.label),"title"in v&&i(3,d=v.title),"className"in v&&i(4,u=v.className),"disabled"in v&&i(5,h=v.disabled),"style"in v&&i(6,g=v.style),"$$scope"in v&&i(9,a=v.$$scope)},[s,l,c,d,u,h,g,m,M,a,n,p,A,b]}class qr extends qi{constructor(t){super(),Wi(this,t,ydt,Adt,Ji,{value:0,callback:1,label:2,title:3,className:4,disabled:5,style:6})}}function vdt(e){let t,i,n,a;const s=e[6].default,l=G2(s,e,e[5],null);return{c(){t=K("main"),l&&l.c(),ut(t,"class","svelte-1ut9h26")},m(c,d){_t(c,t,d),l&&l.m(t,null),e[7](t),i=!0,n||(a=[Qe(t,"drop",e[1]),Qe(t,"dragover",e[2]),Qe(t,"mouseleave",e[3]),Qe(t,"dragend",e[3]),Qe(t,"dragleave",e[3])],n=!0)},p(c,[d]){l&&l.p&&(!i||d&32)&&H2(l,s,c,c[5],i?V2(s,c[5],d,null):Q2(c[5]),null)},i(c){i||(Bt(l,c),i=!0)},o(c){Rt(l,c),i=!1},d(c){c&&Ct(t),l&&l.d(c),e[7](null),n=!1,ar(a)}}}function bdt(e,t,i){let{$$slots:n={},$$scope:a}=t,{loadData:s=g=>{}}=t,l;const c=async g=>{g.preventDefault();const m=g.dataTransfer.files[0],M=await _F(m);console.log("dropped json",M),s(M),i(0,l.style="background: none",l)},d=g=>{g.preventDefault(),i(0,l.style="background: var(--accent)",l)},u=()=>{i(0,l.style="background: none",l)};function h(g){me[g?"unshift":"push"](()=>{l=g,i(0,l)})}return e.$$set=g=>{"loadData"in g&&i(4,s=g.loadData),"$$scope"in g&&i(5,a=g.$$scope)},[l,c,d,u,s,a,n,h]}class da extends qi{constructor(t){super(),Wi(this,t,bdt,vdt,Ji,{loadData:4})}}function Cdt(e){let t,i,n,a;const s=e[2].default,l=G2(s,e,e[1],null);return{c(){t=K("button"),l&&l.c(),ut(t,"class","svelte-14tizqb")},m(c,d){_t(c,t,d),l&&l.m(t,null),i=!0,n||(a=Qe(t,"click",function(){V0(e[0])&&e[0].apply(this,arguments)}),n=!0)},p(c,[d]){e=c,l&&l.p&&(!i||d&2)&&H2(l,s,e,e[1],i?V2(s,e[1],d,null):Q2(e[1]),null)},i(c){i||(Bt(l,c),i=!0)},o(c){Rt(l,c),i=!1},d(c){c&&Ct(t),l&&l.d(c),n=!1,a()}}}function _dt(e,t,i){let{$$slots:n={},$$scope:a}=t,{onclick:s=()=>{}}=t;return e.$$set=l=>{"onclick"in l&&i(0,s=l.onclick),"$$scope"in l&&i(1,a=l.$$scope)},[s,a,n]}class M0 extends qi{constructor(t){super(),Wi(this,t,_dt,Cdt,Ji,{onclick:0})}}function Edt(e,t,i){const n=e.slice();return n[27]=t[i][0],n[28]=t[i][1],n}function wdt(e,t,i){const n=e.slice();return n[31]=t[i],n}function Odt(e){let t;return{c(){t=K("option"),t.textContent=`1/${e[31]} note`,t.__value=e[31],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function xdt(e){let t,i=Ge(xF),n=[];for(let a=0;a<i.length;a+=1)n[a]=Odt(wdt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function Sdt(e){let t;return{c(){t=K("option"),t.textContent=`${(e[27]/127).toFixed(1)} ${e[28]} `,t.__value=e[27]/127,Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Tdt(e){let t,i=Ge(Ku.entries()),n=[];for(let a=0;a<i.length;a+=1)n[a]=Sdt(Edt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function Idt(e){let t;return{c(){t=se("example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function Bdt(e){let t;return{c(){t=se("example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function Rdt(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p;return n=new M0({props:{onclick:e[23],$$slots:{default:[Idt]},$$scope:{ctx:e}}}),c=new M0({props:{onclick:e[24],$$slots:{default:[Bdt]},$$scope:{ctx:e}}}),{c(){t=K("p"),i=se(`1) Play quarter notes and accent the first one in each group of
                4.
                `),Ut(n.$$.fragment),a=Y(),s=K("p"),l=se(`2) Play triplets and accent the first note in each triplet.
                `),Ut(c.$$.fragment),d=Y(),u=K("p"),u.textContent=`3) Switch between triplets and sixteenth notes and accent the
                first note in each group of 3 and 4.`,h=Y(),g=K("p"),g.textContent=`4) Play triplets and accent the first note in each odd triplet
                and the second in each even triplet.`,m=Y(),M=K("p"),M.innerHTML=`5) Try different accent patterns such as:<br/> <span style="margin-left: 25px"><b>1</b> e + <b>a</b> 2 e + a 3 <b>e</b> + a <b>4</b> e + a<br/></span> <span class="icon" style="margin-left: 25px"><span class="acc svelte-64izzl">𝅘𝅥</span> 𝅘𝅥 𝅘𝅥 <span class="acc svelte-64izzl">𝅘𝅥</span> |
                    𝅘𝅥 𝅘𝅥 𝅘𝅥 𝅘𝅥 | 𝅘𝅥
                    <span class="acc svelte-64izzl">𝅘𝅥</span>
                    𝅘𝅥 𝅘𝅥 |
                    <span class="acc svelte-64izzl">𝅘𝅥</span>
                    𝅘𝅥 𝅘𝅥 𝅘𝅥</span>`},m(A,b){_t(A,t,b),R(t,i),Nt(n,t,null),_t(A,a,b),_t(A,s,b),R(s,l),Nt(c,s,null),_t(A,d,b),_t(A,u,b),_t(A,h,b),_t(A,g,b),_t(A,m,b),_t(A,M,b),p=!0},p(A,b){const v={};b[1]&8&&(v.$$scope={dirty:b,ctx:A}),n.$set(v);const E={};b[1]&8&&(E.$$scope={dirty:b,ctx:A}),c.$set(E)},i(A){p||(Bt(n.$$.fragment,A),Bt(c.$$.fragment,A),p=!0)},o(A){Rt(n.$$.fragment,A),Rt(c.$$.fragment,A),p=!1},d(A){A&&(Ct(t),Ct(a),Ct(s),Ct(d),Ct(u),Ct(h),Ct(g),Ct(m),Ct(M)),Ft(n),Ft(c)}}}function Ddt(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt;function bt(ve){e[14](ve)}let kt={callback:e[10]};e[1]!==void 0&&(kt.value=e[1]),u=new ts({props:kt}),me.push(()=>Te(u,"value",bt));function Dt(ve){e[15](ve)}let Xt={callback:e[10],max:70};e[4]!==void 0&&(Xt.value=e[4]),m=new Kc({props:Xt}),me.push(()=>Te(m,"value",Dt));function ae(ve){e[16](ve)}let Jt={label:"dotted notes",title:"Use dotted notes? If not, the closest non-dotted note will be taken.",callback:e[10]};e[5]!==void 0&&(Jt.checked=e[5]),A=new Tr({props:Jt}),me.push(()=>Te(A,"checked",ae));function le(ve){e[17](ve)}let Ve={label:"tuplets",title:"Use tuplets? If not, the closest non-tuplet note will be taken.",callback:e[10]};e[6]!==void 0&&(Ve.checked=e[6]),E=new Tr({props:Ve}),me.push(()=>Te(E,"checked",le));function ai(ve){e[18](ve)}let Ye={title:"You can filter out notes that are shorter than a given note duration.",label:"filtering",callback:e[10],$$slots:{default:[xdt]},$$scope:{ctx:e}};e[2]!==void 0&&(Ye.value=e[2]),O=new qr({props:Ye}),me.push(()=>Te(O,"value",ai));function ci(ve){e[19](ve)}let ei={title:"You can choose a value for loudness to only show loud and quiet notes in two different sizes instead of exactly sizing notes by loudness. Set to 0 to use smooth sizing.",label:"loudness threshold",callback:e[10],$$slots:{default:[Tdt]},$$scope:{ctx:e}};e[7]!==void 0&&(ei.value=e[7]),D=new qr({props:ei}),me.push(()=>Te(D,"value",ci)),F=new t0({props:{tempo:e[1],accent:4}});function Ze(ve){e[21](ve)}let be={saveToStorage:e[13],callback:e[10]};return e[8]!==void 0&&(be.notes=e[8]),z=new aa({props:be}),me.push(()=>Te(z,"notes",Ze)),W=new Ma({props:{appId:e[0].id,loadData:e[12]}}),mt=new ua({props:{loadData:e[12],getExportData:e[11],appId:e[0].id}}),pt=new Kr({props:{$$slots:{default:[Rdt]},$$scope:{ctx:e}}}),Mt=new Xr({props:{appId:e[0].id}}),dt=new $r({props:{noteOn:e[9]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`This app helps practicing accents, that is, playing some notes
            louder then others to highlight them. Set a tempo and start playing.
            The time between the notes you play will be displayed as note
            symbols, so you can see whether you play, for example, correct
            quarter notes. The note&#39;s velocity is encoded as font size, so you
            can see whether you accent the correct notes, for example the first
            note in each triplet, or the the first in each group of 4.
            <i>Note: the display is always one note behind.</i>`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),Ut(E.$$.fragment),_=Y(),C=K("div"),Ut(O.$$.fragment),T=Y(),Ut(D.$$.fragment),L=Y(),N=K("div"),U=Y(),$=K("div"),Ut(F.$$.fragment),j=Y(),Ut(z.$$.fragment),V=Y(),q=K("button"),q.textContent="example",J=Y(),Ut(W.$$.fragment),et=Y(),Ut(mt.$$.fragment),ot=Y(),Ut(pt.$$.fragment),wt=Y(),Ut(Mt.$$.fragment),xt=Y(),Ut(dt.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(C,"class","control"),ut(N,"class","visualization"),ut($,"class","control"),ut(t,"class","app")},m(ve,re){_t(ve,t,re),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(d,v),Nt(E,d,null),R(t,_),R(t,C),Nt(O,C,null),R(C,T),Nt(D,C,null),R(t,L),R(t,N),e[20](N),R(t,U),R(t,$),Nt(F,$,null),R($,j),Nt(z,$,null),R($,V),R($,q),R($,J),Nt(W,$,null),R($,et),Nt(mt,$,null),R(t,ot),Nt(pt,t,null),R(t,wt),Nt(Mt,t,null),R(t,xt),Nt(dt,t,null),Ot=!0,At||(jt=Qe(q,"click",e[22]),At=!0)},p(ve,re){(!Ot||re[0]&1)&&n!==(n=ve[0].title+"")&&Ue(a,n);const Et={};!h&&re[0]&2&&(h=!0,Et.value=ve[1],Se(()=>h=!1)),u.$set(Et);const vt={};!M&&re[0]&16&&(M=!0,vt.value=ve[4],Se(()=>M=!1)),m.$set(vt);const Ht={};!b&&re[0]&32&&(b=!0,Ht.checked=ve[5],Se(()=>b=!1)),A.$set(Ht);const St={};!x&&re[0]&64&&(x=!0,St.checked=ve[6],Se(()=>x=!1)),E.$set(St);const It={};re[1]&8&&(It.$$scope={dirty:re,ctx:ve}),!I&&re[0]&4&&(I=!0,It.value=ve[2],Se(()=>I=!1)),O.$set(It);const zt={};re[1]&8&&(zt.$$scope={dirty:re,ctx:ve}),!P&&re[0]&128&&(P=!0,zt.value=ve[7],Se(()=>P=!1)),D.$set(zt);const ht={};re[0]&2&&(ht.tempo=ve[1]),F.$set(ht);const X={};!Q&&re[0]&256&&(Q=!0,X.notes=ve[8],Se(()=>Q=!1)),z.$set(X);const tt={};re[0]&1&&(tt.appId=ve[0].id),W.$set(tt);const Tt={};re[0]&1&&(Tt.appId=ve[0].id),mt.$set(Tt);const Qt={};re[1]&8&&(Qt.$$scope={dirty:re,ctx:ve}),pt.$set(Qt);const Zt={};re[0]&1&&(Zt.appId=ve[0].id),Mt.$set(Zt)},i(ve){Ot||(Bt(u.$$.fragment,ve),Bt(m.$$.fragment,ve),Bt(A.$$.fragment,ve),Bt(E.$$.fragment,ve),Bt(O.$$.fragment,ve),Bt(D.$$.fragment,ve),Bt(F.$$.fragment,ve),Bt(z.$$.fragment,ve),Bt(W.$$.fragment,ve),Bt(mt.$$.fragment,ve),Bt(pt.$$.fragment,ve),Bt(Mt.$$.fragment,ve),Bt(dt.$$.fragment,ve),Ot=!0)},o(ve){Rt(u.$$.fragment,ve),Rt(m.$$.fragment,ve),Rt(A.$$.fragment,ve),Rt(E.$$.fragment,ve),Rt(O.$$.fragment,ve),Rt(D.$$.fragment,ve),Rt(F.$$.fragment,ve),Rt(z.$$.fragment,ve),Rt(W.$$.fragment,ve),Rt(mt.$$.fragment,ve),Rt(pt.$$.fragment,ve),Rt(Mt.$$.fragment,ve),Rt(dt.$$.fragment,ve),Ot=!1},d(ve){ve&&Ct(t),Ft(u),Ft(m),Ft(A),Ft(E),Ft(O),Ft(D),e[20](null),Ft(F),Ft(z),Ft(W),Ft(mt),Ft(pt),Ft(Mt),Ft(dt),At=!1,jt()}}}function Pdt(e){let t,i;return t=new da({props:{loadData:e[12],$$slots:{default:[Ddt]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&511|a[1]&8&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let H4=900;function Ldt(e,t,i){let n,{appInfo:a}=t,s,l=90,c=20,d=!1,u=!1,h=16,g=0,m=0,M=[];const p=async $=>{M.length===0&&(m=$.timestamp);const F=($.timestamp-m)/1e3;if(M.length>0&&F-M.at(-1).time<n)return;const j={time:F,velocity:$.velocity};i(8,M=[...M,j]),A()},A=()=>{i(3,s.textContent="",s);const $=[...Ku.keys()].map(W=>W/127),F=Sn({width:H4,height:100,marginTop:30,marginLeft:H4*.35,marginRight:H4*.35,marginBottom:35,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:"loudness",labelAnchor:"center",ticks:$,tickSize:0,tickFormat:(W,et)=>[...Ku.values()][et]},marks:[Qr($,{text:W=>"𝅘𝅥",x:(W,et)=>W,fontSize:W=>W*60+10})]});if(s.appendChild(F),M.length===0)return;let j=ta(l);const z=M.slice(-(c+1)),Q=z.map((W,et)=>et===0?{}:{delta:(W.time-z[et-1].time)/j,velocity:z[et-1].velocity}),V=x2.filter(W=>d||!W.dotted).filter(W=>u||!W.tuplet),q=Q.slice(1).map(W=>{const et=xc(V,Mt=>Math.abs(W.delta-Mt.beats)),mt=V[et],ot=[...Ku.entries()],pt=xc(ot,Mt=>Math.abs(W.velocity*127-Mt[0])),wt=ot[pt][1];return{...mt,beats:W,velocity:W.velocity,velocityLabel:wt,offsetPercent:(W.delta/mt.beats*100).toFixed()}}),J=Sn({width:H4,height:110,marginTop:50,marginLeft:20,marginRight:20,marginBottom:10,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:"",domain:Ci(1,c),ticks:[]},y:{axis:!1},marks:[Qr(q,{text:"symbol",x:(W,et)=>et,fontSize:g>0?W=>W.velocity<g?35:70:W=>W.velocity*60+10,y:1}),Qr(q,{text:"velocityLabel",x:(W,et)=>et,y:0,fill:"#888"})]});s.appendChild(J)},b=()=>({tempo:l,pastNoteCount:c,useDotted:d,useTuplets:u,velocityThreshold:g,filterNote:h,notes:M}),v=$=>{E(),i(1,l=$.tempo),i(4,c=$.pastNoteCount),i(5,d=$.useDotted),i(6,u=$.useTuplets),i(7,g=$.velocityThreshold??0),i(2,h=$.filterNote??32),i(8,M=$.notes),A()},E=()=>{const $=JSON.stringify(M);M.length>0&&$!==JSON.stringify(_x.notes)&&$!==JSON.stringify(Ex.notes)&&$!==JSON.stringify(wx.notes)&&ga(a.id,b())};sr(A),or(E);function x($){l=$,i(1,l)}function _($){c=$,i(4,c)}function C($){d=$,i(5,d)}function O($){u=$,i(6,u)}function I($){h=$,i(2,h)}function T($){g=$,i(7,g)}function D($){me[$?"unshift":"push"](()=>{s=$,i(3,s)})}function P($){M=$,i(8,M)}const L=()=>v(_x),N=()=>v(Ex),U=()=>v(wx);return e.$$set=$=>{"appInfo"in $&&i(0,a=$.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&6&&(n=ta(l)*4/h)},[a,l,h,s,c,d,u,g,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U]}class kdt extends qi{constructor(t){super(),Wi(this,t,Ldt,Pdt,Ji,{appInfo:0},null,[-1,-1])}}function _f(e,t){const i=[];let n=[];for(const a of e)n.length===0||a.time-n.at(-1).time<t?n.push(a):(i.push(n),n=[a]);return i.push(n),i}const Ndt=10,Fdt=.4,Udt=100,$dt=[{number:57,velocity:17,time:0,channel:1},{number:59,velocity:3,time:.01,channel:1},{number:60,velocity:1,time:.013,channel:1},{number:43,velocity:1,time:.014,channel:1},{number:50,velocity:36,time:.014,channel:1},{number:55,velocity:37,time:.07,channel:1},{number:48,velocity:35,time:.257,channel:1},{number:59,velocity:12,time:.319,channel:1},{number:57,velocity:50,time:.398,channel:1},{number:55,velocity:47,time:.529,channel:1},{number:50,velocity:23,time:.554,channel:1},{number:47,velocity:36,time:.706,channel:1},{number:59,velocity:26,time:.762,channel:1},{number:60,velocity:20,time:.766,channel:1},{number:45,velocity:15,time:.898,channel:1},{number:57,velocity:32,time:.907,channel:1},{number:48,velocity:25,time:.9648999998569489,channel:1},{number:55,velocity:22,time:1.025,channel:1},{number:50,velocity:37,time:1.122,channel:1},{number:59,velocity:53,time:1.218,channel:1},{number:57,velocity:49,time:1.319899999856949,channel:1},{number:55,velocity:41,time:1.4638999998569489,channel:1},{number:59,velocity:60,time:1.6,channel:1},{number:57,velocity:54,time:1.718,channel:1},{number:55,velocity:46,time:1.831,channel:1},{number:59,velocity:53,time:1.961,channel:1},{number:57,velocity:60,time:2.058,channel:1},{number:55,velocity:52,time:2.153,channel:1},{number:47,velocity:18,time:2.267,channel:1},{number:59,velocity:60,time:2.2918999998569487,channel:1},{number:48,velocity:35,time:2.421,channel:1},{number:45,velocity:24,time:2.442,channel:1},{number:50,velocity:26,time:2.525,channel:1},{number:41,velocity:59,time:2.829,channel:1},{number:43,velocity:53,time:2.836899999856949,channel:1},{number:69,velocity:1,time:2.874899999856949,channel:1},{number:67,velocity:4,time:2.906,channel:1},{number:65,velocity:23,time:2.999,channel:1},{number:45,velocity:39,time:3.059,channel:1},{number:64,velocity:1,time:3.157899999856949,channel:1},{number:47,velocity:48,time:3.21,channel:1},{number:69,velocity:52,time:3.246,channel:1},{number:41,velocity:59,time:3.345,channel:1},{number:67,velocity:51,time:3.4408999998569487,channel:1},{number:65,velocity:26,time:3.577,channel:1},{number:45,velocity:13,time:3.689899999856949,channel:1},{number:43,velocity:11,time:3.691,channel:1},{number:69,velocity:42,time:3.780899999856949,channel:1},{number:67,velocity:38,time:3.85,channel:1},{number:43,velocity:1,time:4.144,channel:1},{number:45,velocity:1,time:4.246899999856949,channel:1},{number:64,velocity:1,time:4.436899999856949,channel:1},{number:47,velocity:10,time:4.448,channel:1},{number:48,velocity:9,time:4.457,channel:1},{number:62,velocity:33,time:4.473899999856949,channel:1},{number:60,velocity:33,time:4.593899999856949,channel:1},{number:64,velocity:52,time:4.771,channel:1},{number:62,velocity:47,time:4.923899999856949,channel:1},{number:60,velocity:54,time:5.057,channel:1},{number:64,velocity:52,time:5.291,channel:1},{number:62,velocity:48,time:5.399899999856949,channel:1},{number:60,velocity:60,time:5.460899999856949,channel:1},{number:64,velocity:48,time:5.681,channel:1},{number:62,velocity:58,time:5.757,channel:1},{number:60,velocity:64,time:5.83,channel:1},{number:64,velocity:50,time:6.114,channel:1},{number:62,velocity:32,time:6.179899999856949,channel:1},{number:60,velocity:67,time:6.248,channel:1},{number:64,velocity:30,time:6.677899999856949,channel:1},{number:62,velocity:64,time:6.777,channel:1},{number:60,velocity:39,time:6.828,channel:1},{number:64,velocity:48,time:7.201,channel:1},{number:62,velocity:50,time:7.300899999856949,channel:1},{number:60,velocity:56,time:7.3698999998569485,channel:1},{number:64,velocity:48,time:7.796,channel:1},{number:62,velocity:40,time:7.913899999856949,channel:1},{number:60,velocity:54,time:7.989,channel:1},{number:64,velocity:46,time:8.425899999856949,channel:1},{number:62,velocity:54,time:8.52389999985695,channel:1},{number:60,velocity:65,time:8.59389999985695,channel:1},{number:64,velocity:40,time:9.022,channel:1},{number:62,velocity:50,time:9.121,channel:1},{number:60,velocity:56,time:9.181899999856949,channel:1},{number:64,velocity:47,time:9.605899999856948,channel:1},{number:62,velocity:48,time:9.71289999985695,channel:1},{number:60,velocity:60,time:9.791,channel:1},{number:64,velocity:52,time:10.252,channel:1},{number:62,velocity:55,time:10.346,channel:1},{number:60,velocity:52,time:10.425899999856949,channel:1},{number:64,velocity:44,time:10.817899999856948,channel:1},{number:62,velocity:52,time:10.918,channel:1},{number:60,velocity:50,time:10.978,channel:1},{number:64,velocity:48,time:11.39889999985695,channel:1},{number:62,velocity:48,time:11.495,channel:1},{number:60,velocity:55,time:11.575,channel:1},{number:43,velocity:42,time:12.501,channel:1},{number:45,velocity:52,time:12.622,channel:1},{number:47,velocity:44,time:12.776,channel:1},{number:64,velocity:47,time:13.005899999856949,channel:1},{number:62,velocity:51,time:13.174,channel:1},{number:60,velocity:61,time:13.32,channel:1},{number:43,velocity:38,time:13.586899999856948,channel:1},{number:45,velocity:36,time:13.718,channel:1},{number:47,velocity:60,time:13.896,channel:1},{number:64,velocity:44,time:14.112899999856948,channel:1},{number:62,velocity:48,time:14.25,channel:1},{number:60,velocity:55,time:14.343,channel:1},{number:43,velocity:64,time:14.562,channel:1},{number:45,velocity:43,time:14.691,channel:1},{number:47,velocity:60,time:14.84089999985695,channel:1},{number:64,velocity:44,time:15.031,channel:1},{number:62,velocity:47,time:15.149,channel:1},{number:60,velocity:57,time:15.29,channel:1},{number:43,velocity:21,time:15.463,channel:1},{number:45,velocity:29,time:15.531899999856948,channel:1},{number:47,velocity:49,time:15.74189999985695,channel:1},{number:64,velocity:38,time:15.95689999985695,channel:1},{number:62,velocity:50,time:16.10089999985695,channel:1},{number:60,velocity:41,time:16.227,channel:1},{number:43,velocity:1,time:16.30389999985695,channel:1},{number:45,velocity:20,time:16.39789999985695,channel:1},{number:47,velocity:58,time:16.571,channel:1},{number:64,velocity:42,time:16.716,channel:1},{number:62,velocity:42,time:16.861,channel:1},{number:60,velocity:48,time:16.955,channel:1},{number:43,velocity:36,time:17.079,channel:1},{number:45,velocity:33,time:17.21089999985695,channel:1},{number:47,velocity:52,time:17.343,channel:1},{number:64,velocity:49,time:17.46089999985695,channel:1},{number:62,velocity:54,time:17.604,channel:1},{number:60,velocity:52,time:17.691,channel:1},{number:43,velocity:18,time:17.80189999985695,channel:1},{number:45,velocity:23,time:17.94,channel:1},{number:47,velocity:54,time:18.091,channel:1},{number:64,velocity:29,time:18.217,channel:1},{number:62,velocity:53,time:18.33989999985695,channel:1},{number:60,velocity:51,time:18.43489999985695,channel:1},{number:43,velocity:25,time:18.577,channel:1},{number:45,velocity:37,time:18.753899999856948,channel:1},{number:47,velocity:42,time:18.886899999856947,channel:1},{number:64,velocity:34,time:19.071,channel:1},{number:62,velocity:43,time:19.208,channel:1},{number:60,velocity:60,time:19.30689999985695,channel:1},{number:43,velocity:20,time:19.539,channel:1},{number:45,velocity:42,time:19.702,channel:1},{number:47,velocity:31,time:19.843,channel:1},{number:64,velocity:42,time:20.348,channel:1},{number:62,velocity:43,time:20.45889999985695,channel:1},{number:60,velocity:56,time:20.54089999985695,channel:1},{number:43,velocity:33,time:20.92589999985695,channel:1},{number:45,velocity:36,time:21.071,channel:1},{number:47,velocity:38,time:21.192,channel:1},{number:64,velocity:25,time:21.608,channel:1},{number:62,velocity:60,time:21.7,channel:1},{number:60,velocity:67,time:21.763,channel:1},{number:43,velocity:26,time:22.151899999856948,channel:1},{number:45,velocity:50,time:22.28489999985695,channel:1},{number:47,velocity:35,time:22.408,channel:1},{number:64,velocity:51,time:22.778,channel:1},{number:62,velocity:65,time:22.895,channel:1},{number:60,velocity:65,time:22.966,channel:1},{number:43,velocity:22,time:23.32389999985695,channel:1},{number:45,velocity:31,time:23.465899999856948,channel:1},{number:47,velocity:62,time:23.578,channel:1},{number:64,velocity:12,time:24.013,channel:1},{number:62,velocity:49,time:24.094,channel:1},{number:60,velocity:60,time:24.182,channel:1},{number:48,velocity:30,time:34.96,channel:1},{number:48,velocity:1,time:37.529,channel:1},{number:50,velocity:9,time:38.00989999985695,channel:1},{number:53,velocity:14,time:38.982,channel:1},{number:48,velocity:1,time:40.822,channel:1},{number:52,velocity:27,time:41.344,channel:1},{number:55,velocity:19,time:41.815899999856946,channel:1},{number:48,velocity:30,time:43.126899999856946,channel:1},{number:52,velocity:52,time:43.251,channel:1},{number:55,velocity:14,time:43.431,channel:1},{number:48,velocity:48,time:43.745,channel:1},{number:52,velocity:50,time:43.879,channel:1},{number:55,velocity:30,time:44.02,channel:1},{number:48,velocity:38,time:44.355,channel:1},{number:52,velocity:48,time:44.507,channel:1},{number:55,velocity:37,time:44.682,channel:1},{number:48,velocity:22,time:45.09489999985695,channel:1},{number:52,velocity:36,time:45.232,channel:1},{number:55,velocity:56,time:45.401,channel:1},{number:48,velocity:9,time:45.819,channel:1},{number:52,velocity:30,time:45.942,channel:1},{number:55,velocity:48,time:46.09189999985695,channel:1},{number:60,velocity:47,time:50.402,channel:1},{number:64,velocity:1,time:51.346,channel:1},{number:65,velocity:22,time:51.813,channel:1},{number:48,velocity:18,time:52.31,channel:1},{number:52,velocity:57,time:52.474,channel:1},{number:55,velocity:50,time:52.592,channel:1},{number:60,velocity:40,time:52.915,channel:1},{number:64,velocity:16,time:53.08,channel:1},{number:65,velocity:61,time:53.197,channel:1},{number:48,velocity:25,time:53.566,channel:1},{number:52,velocity:41,time:53.69,channel:1},{number:55,velocity:54,time:53.82689999985695,channel:1},{number:60,velocity:31,time:54.043,channel:1},{number:64,velocity:33,time:54.187,channel:1},{number:65,velocity:55,time:54.292,channel:1},{number:48,velocity:36,time:54.56389999985695,channel:1},{number:52,velocity:50,time:54.677,channel:1},{number:55,velocity:50,time:54.831,channel:1},{number:60,velocity:34,time:55.066,channel:1},{number:64,velocity:7,time:55.242,channel:1},{number:65,velocity:57,time:55.36,channel:1},{number:48,velocity:20,time:56.44,channel:1},{number:52,velocity:56,time:56.617,channel:1},{number:55,velocity:48,time:56.752,channel:1},{number:65,velocity:1,time:56.95,channel:1},{number:64,velocity:42,time:57.114,channel:1},{number:60,velocity:54,time:57.286,channel:1},{number:48,velocity:40,time:57.54989999985695,channel:1},{number:52,velocity:56,time:57.699,channel:1},{number:55,velocity:24,time:57.894,channel:1},{number:65,velocity:23,time:58.147,channel:1},{number:64,velocity:6,time:58.361,channel:1},{number:60,velocity:13,time:58.53189999985695,channel:1},{number:48,velocity:25,time:58.724,channel:1},{number:52,velocity:49,time:58.876899999856946,channel:1},{number:55,velocity:46,time:59.033,channel:1},{number:65,velocity:18,time:59.281,channel:1},{number:64,velocity:40,time:59.51,channel:1},{number:60,velocity:30,time:59.664,channel:1},{number:48,velocity:15,time:59.84589999985695,channel:1},{number:52,velocity:52,time:60.008,channel:1},{number:55,velocity:38,time:60.16,channel:1},{number:65,velocity:23,time:60.376,channel:1},{number:64,velocity:36,time:60.562,channel:1},{number:60,velocity:48,time:60.744,channel:1},{number:48,velocity:1,time:60.852,channel:1},{number:52,velocity:48,time:60.965,channel:1},{number:55,velocity:46,time:61.14989999985695,channel:1},{number:65,velocity:22,time:61.42189999985695,channel:1},{number:64,velocity:44,time:61.618,channel:1},{number:60,velocity:18,time:61.792,channel:1},{number:48,velocity:22,time:61.985,channel:1},{number:52,velocity:42,time:62.153,channel:1},{number:55,velocity:45,time:62.30189999985695,channel:1},{number:65,velocity:26,time:62.528,channel:1},{number:64,velocity:23,time:62.714,channel:1},{number:60,velocity:15,time:62.891,channel:1},{number:48,velocity:41,time:63.796,channel:1},{number:52,velocity:65,time:63.94189999985695,channel:1},{number:55,velocity:64,time:64.024,channel:1},{number:65,velocity:42,time:64.41889999985695,channel:1},{number:64,velocity:58,time:64.549,channel:1},{number:60,velocity:49,time:64.679,channel:1},{number:48,velocity:24,time:65.057,channel:1},{number:52,velocity:64,time:65.224,channel:1},{number:55,velocity:48,time:65.372,channel:1},{number:65,velocity:25,time:65.747,channel:1},{number:64,velocity:44,time:65.906,channel:1},{number:60,velocity:47,time:65.994,channel:1},{number:48,velocity:23,time:66.423,channel:1},{number:52,velocity:58,time:66.56689999985694,channel:1},{number:55,velocity:21,time:66.718,channel:1},{number:65,velocity:22,time:67.109,channel:1},{number:64,velocity:54,time:67.25489999985695,channel:1},{number:60,velocity:68,time:67.393,channel:1},{number:48,velocity:23,time:67.76289999985696,channel:1},{number:52,velocity:48,time:67.915,channel:1},{number:55,velocity:64,time:68.06889999985695,channel:1},{number:65,velocity:15,time:68.445,channel:1},{number:64,velocity:62,time:68.62289999985695,channel:1},{number:60,velocity:36,time:68.766,channel:1},{number:48,velocity:63,time:70.263,channel:1},{number:52,velocity:68,time:70.38289999985695,channel:1},{number:55,velocity:45,time:70.481,channel:1},{number:65,velocity:38,time:70.77,channel:1},{number:64,velocity:16,time:70.946,channel:1},{number:60,velocity:34,time:71.062,channel:1},{number:48,velocity:37,time:71.46989999985695,channel:1},{number:52,velocity:62,time:71.632,channel:1},{number:55,velocity:64,time:71.827,channel:1},{number:65,velocity:23,time:72.16789999985694,channel:1},{number:64,velocity:58,time:72.314,channel:1},{number:60,velocity:38,time:72.43389999985695,channel:1},{number:48,velocity:34,time:72.832,channel:1},{number:52,velocity:49,time:72.973,channel:1},{number:55,velocity:58,time:73.087,channel:1},{number:48,velocity:38,time:73.508,channel:1},{number:52,velocity:51,time:73.63289999985695,channel:1},{number:55,velocity:50,time:73.769,channel:1},{number:48,velocity:40,time:74.174,channel:1},{number:52,velocity:49,time:74.27989999985695,channel:1},{number:55,velocity:57,time:74.36489999985695,channel:1},{number:48,velocity:32,time:74.764,channel:1},{number:52,velocity:44,time:74.873,channel:1},{number:55,velocity:57,time:75.008,channel:1},{number:48,velocity:42,time:75.416,channel:1},{number:52,velocity:48,time:75.549,channel:1},{number:55,velocity:58,time:75.664,channel:1},{number:48,velocity:50,time:76.068,channel:1},{number:52,velocity:54,time:76.207,channel:1},{number:55,velocity:62,time:76.324,channel:1},{number:48,velocity:51,time:76.63689999985695,channel:1},{number:52,velocity:52,time:76.762,channel:1},{number:55,velocity:63,time:76.869,channel:1},{number:48,velocity:62,time:77.23389999985694,channel:1},{number:52,velocity:59,time:77.353,channel:1},{number:55,velocity:62,time:77.423,channel:1},{number:48,velocity:40,time:77.837,channel:1},{number:52,velocity:61,time:77.974,channel:1},{number:55,velocity:58,time:78.064,channel:1},{number:48,velocity:16,time:78.47189999985694,channel:1},{number:52,velocity:54,time:78.603,channel:1},{number:55,velocity:60,time:78.683,channel:1},{number:48,velocity:40,time:79.095,channel:1},{number:52,velocity:54,time:79.214,channel:1},{number:55,velocity:62,time:79.315,channel:1},{number:48,velocity:22,time:79.75,channel:1},{number:52,velocity:60,time:79.879,channel:1},{number:55,velocity:61,time:79.985,channel:1},{number:48,velocity:23,time:80.45789999985695,channel:1},{number:52,velocity:59,time:80.596,channel:1},{number:55,velocity:54,time:80.71,channel:1},{number:48,velocity:30,time:81.118,channel:1},{number:52,velocity:45,time:81.231,channel:1},{number:55,velocity:58,time:81.32389999985695,channel:1},{number:48,velocity:32,time:81.73689999985694,channel:1},{number:52,velocity:48,time:81.846,channel:1},{number:55,velocity:64,time:81.95,channel:1},{number:48,velocity:58,time:82.35189999985695,channel:1},{number:52,velocity:47,time:82.45,channel:1},{number:55,velocity:66,time:82.558,channel:1},{number:48,velocity:54,time:82.95689999985694,channel:1},{number:52,velocity:56,time:83.06,channel:1},{number:55,velocity:67,time:83.135,channel:1},{number:65,velocity:34,time:83.514,channel:1},{number:64,velocity:30,time:83.675,channel:1},{number:60,velocity:30,time:83.737,channel:1},{number:48,velocity:64,time:84.144,channel:1},{number:52,velocity:58,time:84.269,channel:1},{number:55,velocity:64,time:84.353,channel:1},{number:65,velocity:24,time:84.673,channel:1},{number:64,velocity:50,time:84.808,channel:1},{number:60,velocity:45,time:84.86389999985695,channel:1},{number:48,velocity:42,time:85.18989999985695,channel:1},{number:52,velocity:64,time:85.35189999985695,channel:1},{number:55,velocity:44,time:85.476,channel:1},{number:65,velocity:24,time:85.773,channel:1},{number:64,velocity:61,time:85.945,channel:1},{number:60,velocity:54,time:86.005,channel:1},{number:48,velocity:48,time:86.21889999985694,channel:1},{number:52,velocity:62,time:86.459,channel:1},{number:55,velocity:66,time:86.592,channel:1},{number:67,velocity:22,time:86.961,channel:1},{number:64,velocity:47,time:87.251,channel:1},{number:60,velocity:29,time:87.255,channel:1},{number:48,velocity:39,time:87.78,channel:1},{number:52,velocity:65,time:87.952,channel:1},{number:55,velocity:38,time:88.019,channel:1},{number:67,velocity:47,time:88.332,channel:1},{number:64,velocity:65,time:88.44889999985695,channel:1},{number:60,velocity:59,time:88.554,channel:1},{number:48,velocity:44,time:88.871,channel:1},{number:52,velocity:64,time:89.053,channel:1},{number:55,velocity:58,time:89.175,channel:1},{number:67,velocity:52,time:89.545,channel:1},{number:64,velocity:68,time:89.67289999985695,channel:1},{number:60,velocity:56,time:89.756,channel:1},{number:48,velocity:18,time:90.027,channel:1},{number:52,velocity:60,time:90.229,channel:1},{number:55,velocity:62,time:90.34089999985694,channel:1},{number:67,velocity:23,time:90.718,channel:1},{number:64,velocity:46,time:90.845,channel:1},{number:60,velocity:33,time:90.91289999985695,channel:1},{number:48,velocity:19,time:91.262,channel:1},{number:52,velocity:57,time:91.424,channel:1},{number:55,velocity:66,time:91.536,channel:1},{number:67,velocity:24,time:91.867,channel:1},{number:64,velocity:62,time:91.99789999985695,channel:1},{number:60,velocity:44,time:92.075,channel:1},{number:48,velocity:17,time:92.39189999985695,channel:1},{number:52,velocity:56,time:92.55789999985694,channel:1},{number:55,velocity:68,time:92.681,channel:1},{number:67,velocity:23,time:93.051,channel:1},{number:64,velocity:60,time:93.184,channel:1},{number:60,velocity:64,time:93.241,channel:1},{number:48,velocity:44,time:93.484,channel:1},{number:52,velocity:59,time:93.70189999985695,channel:1},{number:55,velocity:61,time:93.81189999985695,channel:1},{number:67,velocity:24,time:94.131,channel:1},{number:64,velocity:60,time:94.26889999985696,channel:1},{number:60,velocity:25,time:94.376,channel:1},{number:48,velocity:38,time:94.744,channel:1},{number:52,velocity:64,time:94.855,channel:1},{number:55,velocity:64,time:94.94889999985695,channel:1},{number:67,velocity:40,time:95.313,channel:1},{number:64,velocity:58,time:95.438,channel:1},{number:60,velocity:27,time:95.50389999985696,channel:1},{number:48,velocity:15,time:95.822,channel:1},{number:52,velocity:44,time:96.012,channel:1},{number:55,velocity:70,time:96.092,channel:1},{number:67,velocity:17,time:96.39589999985695,channel:1},{number:64,velocity:31,time:96.571,channel:1},{number:65,velocity:24,time:96.575,channel:1},{number:60,velocity:34,time:96.65689999985695,channel:1},{number:48,velocity:21,time:97.038,channel:1},{number:52,velocity:58,time:97.228,channel:1},{number:55,velocity:44,time:97.378,channel:1},{number:67,velocity:26,time:98.16789999985694,channel:1},{number:64,velocity:62,time:98.368,channel:1},{number:60,velocity:57,time:98.47789999985694,channel:1},{number:48,velocity:12,time:98.933,channel:1},{number:52,velocity:58,time:99.19589999985695,channel:1},{number:55,velocity:59,time:99.27989999985695,channel:1},{number:67,velocity:25,time:99.673,channel:1},{number:64,velocity:70,time:99.77989999985695,channel:1},{number:60,velocity:47,time:99.906,channel:1},{number:48,velocity:27,time:100.356,channel:1},{number:52,velocity:66,time:100.48889999985695,channel:1},{number:55,velocity:60,time:100.61,channel:1},{number:67,velocity:11,time:100.843,channel:1},{number:64,velocity:69,time:100.99489999985695,channel:1},{number:60,velocity:60,time:101.115,channel:1},{number:48,velocity:1,time:101.596,channel:1},{number:52,velocity:62,time:101.73289999985695,channel:1},{number:55,velocity:63,time:101.83689999985695,channel:1},{number:67,velocity:1,time:102.288,channel:1},{number:64,velocity:56,time:102.39589999985695,channel:1},{number:60,velocity:66,time:102.536,channel:1},{number:48,velocity:19,time:102.90189999985695,channel:1},{number:52,velocity:61,time:103.081,channel:1},{number:55,velocity:67,time:103.194,channel:1},{number:67,velocity:21,time:103.65689999985695,channel:1},{number:64,velocity:52,time:103.778,channel:1},{number:60,velocity:69,time:103.887,channel:1},{number:48,velocity:22,time:104.347,channel:1},{number:52,velocity:62,time:104.50489999985695,channel:1},{number:55,velocity:58,time:104.607,channel:1},{number:67,velocity:14,time:104.986,channel:1},{number:64,velocity:57,time:105.10689999985695,channel:1},{number:60,velocity:50,time:105.208,channel:1},{number:48,velocity:40,time:105.609,channel:1},{number:52,velocity:62,time:105.73489999985695,channel:1},{number:55,velocity:64,time:105.849,channel:1},{number:67,velocity:44,time:106.231,channel:1},{number:64,velocity:52,time:106.348,channel:1},{number:60,velocity:52,time:106.46,channel:1},{number:48,velocity:1,time:106.79489999985695,channel:1},{number:52,velocity:60,time:106.94,channel:1},{number:55,velocity:68,time:107.048,channel:1},{number:67,velocity:26,time:107.447,channel:1},{number:64,velocity:58,time:107.542,channel:1},{number:60,velocity:60,time:107.66289999985695,channel:1},{number:48,velocity:21,time:108.07089999985695,channel:1},{number:52,velocity:52,time:108.199,channel:1},{number:55,velocity:63,time:108.282,channel:1},{number:67,velocity:30,time:108.697,channel:1},{number:64,velocity:65,time:108.79489999985695,channel:1},{number:60,velocity:52,time:108.901,channel:1}],Gdt="chord-arpeggio-timing",Vdt="0.16.2",Hdt="2024-10-10T16:55:06.612Z",Dx={pastBeats:Ndt,maxNoteDistance:Fdt,tempo:Udt,notes:$dt,_appId:Gdt,_softwareVersion:Vdt,_date:Hdt};function Qdt(e){let t,i,n,a,s,l,c;return{c(){t=K("label"),i=se(e[2]),n=Y(),a=K("input"),ut(a,"type","number"),ut(a,"step",e[6]),ut(a,"min",e[4]),ut(a,"max",e[5]),a.disabled=e[8],ut(a,"style",s="width: "+e[7]+"; "+e[9]),ut(t,"title",e[3])},m(d,u){_t(d,t,u),R(t,i),R(t,n),R(t,a),Vi(a,e[0]),l||(c=[Qe(a,"input",e[10]),Qe(a,"change",function(){V0(e[1])&&e[1].apply(this,arguments)}),Qe(a,"mousewheel",e[11])],l=!0)},p(d,[u]){e=d,u&4&&Ue(i,e[2]),u&64&&ut(a,"step",e[6]),u&16&&ut(a,"min",e[4]),u&32&&ut(a,"max",e[5]),u&256&&(a.disabled=e[8]),u&640&&s!==(s="width: "+e[7]+"; "+e[9])&&ut(a,"style",s),u&1&&S9(a.value)!==e[0]&&Vi(a,e[0]),u&8&&ut(t,"title",e[3])},i:Fe,o:Fe,d(d){d&&Ct(t),l=!1,ar(c)}}}function zdt(e,t,i){let{value:n}=t,{callback:a=()=>{}}=t,{label:s=""}=t,{title:l=""}=t,{min:c=10}=t,{max:d=1/0}=t,{step:u=10}=t,{width:h="55px"}=t,{disabled:g=!1}=t,{style:m=""}=t;function M(){n=S9(this.value),i(0,n)}const p=A=>{if(A.preventDefault(),g)return;const b=A.deltaY<0?u:-u,v=Math.min(d,Math.max(c,n+b));i(0,n=+v.toFixed(12)),a()};return e.$$set=A=>{"value"in A&&i(0,n=A.value),"callback"in A&&i(1,a=A.callback),"label"in A&&i(2,s=A.label),"title"in A&&i(3,l=A.title),"min"in A&&i(4,c=A.min),"max"in A&&i(5,d=A.max),"step"in A&&i(6,u=A.step),"width"in A&&i(7,h=A.width),"disabled"in A&&i(8,g=A.disabled),"style"in A&&i(9,m=A.style)},[n,a,s,l,c,d,u,h,g,m,M,p]}class ia extends qi{constructor(t){super(),Wi(this,t,zdt,Qdt,Ji,{value:0,callback:1,label:2,title:3,min:4,max:5,step:6,width:7,disabled:8,style:9})}}function jdt(e){let t,i,n;return{c(){t=K("p"),t.textContent=`1) Play a chord progression that is tricky for you. Make sure the time
        between each chord and the previous is always roughly the same.`,i=Y(),n=K("p"),n.textContent="2) Play an arpeggio of this chord progression (with a pause after each)."},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function Jdt(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et;function mt(At){e[11](At)}let ot={callback:e[7]};e[4]!==void 0&&(ot.value=e[4]),u=new ts({props:ot}),me.push(()=>Te(u,"value",mt));function pt(At){e[12](At)}let wt={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio (in beats)",label:"max note distance",callback:e[7],min:.05,max:5,step:.05};e[3]!==void 0&&(wt.value=e[3]),m=new ia({props:wt}),me.push(()=>Te(m,"value",pt));function Mt(At){e[13](At)}let xt={title:"The time in beats that is shown",label:"beats shown",callback:e[7],min:10,max:300,step:10};e[2]!==void 0&&(xt.value=e[2]),A=new ia({props:xt}),me.push(()=>Te(A,"value",Mt)),C=new t0({props:{tempo:e[4],accent:4}});function dt(At){e[15](At)}let Ot={saveToStorage:e[10],callback:e[7]};return e[5]!==void 0&&(Ot.notes=e[5]),I=new aa({props:Ot}),me.push(()=>Te(I,"notes",dt)),N=new Ma({props:{appId:e[0].id,loadData:e[9]}}),$=new ua({props:{loadData:e[9],getExportData:e[8],appId:e[0].id}}),j=new Kr({props:{$$slots:{default:[jdt]},$$scope:{ctx:e}}}),Q=new $r({props:{noteOn:e[6],pcKeyAllowed:!0}}),q=new Xr({props:{appId:e[0].id}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing the timing between chords and between the notes
      in them. Play chords or short arpeggios with pauses inbetween. In the
      visualization below, you can then see how long the time between the first
      and last note of each chord/arpeggio was and how much time lies between
      consecutive chords/arpeggios.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),E=K("div"),x=Y(),_=K("div"),Ut(C.$$.fragment),O=Y(),Ut(I.$$.fragment),D=Y(),P=K("button"),P.textContent="example",L=Y(),Ut(N.$$.fragment),U=Y(),Ut($.$$.fragment),F=Y(),Ut(j.$$.fragment),z=Y(),Ut(Q.$$.fragment),V=Y(),Ut(q.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(E,"class","visualization"),ut(_,"class","control"),ut(t,"class","app")},m(At,jt){_t(At,t,jt),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(t,v),R(t,E),e[14](E),R(t,x),R(t,_),Nt(C,_,null),R(_,O),Nt(I,_,null),R(_,D),R(_,P),R(_,L),Nt(N,_,null),R(_,U),Nt($,_,null),R(t,F),Nt(j,t,null),R(t,z),Nt(Q,t,null),R(t,V),Nt(q,t,null),J=!0,W||(et=Qe(P,"click",e[16]),W=!0)},p(At,jt){(!J||jt&1)&&n!==(n=At[0].title+"")&&Ue(a,n);const bt={};!h&&jt&16&&(h=!0,bt.value=At[4],Se(()=>h=!1)),u.$set(bt);const kt={};!M&&jt&8&&(M=!0,kt.value=At[3],Se(()=>M=!1)),m.$set(kt);const Dt={};!b&&jt&4&&(b=!0,Dt.value=At[2],Se(()=>b=!1)),A.$set(Dt);const Xt={};jt&16&&(Xt.tempo=At[4]),C.$set(Xt);const ae={};!T&&jt&32&&(T=!0,ae.notes=At[5],Se(()=>T=!1)),I.$set(ae);const Jt={};jt&1&&(Jt.appId=At[0].id),N.$set(Jt);const le={};jt&1&&(le.appId=At[0].id),$.$set(le);const Ve={};jt&262144&&(Ve.$$scope={dirty:jt,ctx:At}),j.$set(Ve);const ai={};jt&1&&(ai.appId=At[0].id),q.$set(ai)},i(At){J||(Bt(u.$$.fragment,At),Bt(m.$$.fragment,At),Bt(A.$$.fragment,At),Bt(C.$$.fragment,At),Bt(I.$$.fragment,At),Bt(N.$$.fragment,At),Bt($.$$.fragment,At),Bt(j.$$.fragment,At),Bt(Q.$$.fragment,At),Bt(q.$$.fragment,At),J=!0)},o(At){Rt(u.$$.fragment,At),Rt(m.$$.fragment,At),Rt(A.$$.fragment,At),Rt(C.$$.fragment,At),Rt(I.$$.fragment,At),Rt(N.$$.fragment,At),Rt($.$$.fragment,At),Rt(j.$$.fragment,At),Rt(Q.$$.fragment,At),Rt(q.$$.fragment,At),J=!1},d(At){At&&Ct(t),Ft(u),Ft(m),Ft(A),e[14](null),Ft(C),Ft(I),Ft(N),Ft($),Ft(j),Ft(Q),Ft(q),W=!1,et()}}}function Wdt(e){let t,i;return t=new da({props:{loadData:e[9],$$slots:{default:[Jdt]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&262207&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let Qg=900,qdt=350;function Kdt(e,t,i){let{appInfo:n}=t,a,s=10,l=.25,c=90,d=0,u=[];const h=C=>{u.length===0&&(d=C.timestamp);const O=(C.timestamp-d)/1e3,I={number:C.note.number,velocity:C.rawVelocity,time:O,channel:C.message.channel};i(5,u=[...u,I]),g()},g=()=>{const C=ta(c),O=Ca(u,F=>F.time)/C+.5,I=O-s,T=u.filter(F=>F.time/C>I).map(F=>({...F,time:F.time/C})),P=_f(T,l).map(F=>Ua(F,j=>j.time)),L=P.slice(1).map((F,j)=>[P[j][0],F[0]]),N=Sn({insetRight:10,width:Qg,height:qdt,marginLeft:60,marginBottom:0,padding:0,x:{label:null,domain:[I,O],grid:!0},y:{label:"MIDI Pitch",grid:!0,reverse:!0,tickFormat:F=>xo[F].label},marks:[L9(T,{clip:!0,x:"time",y:"number",fill:"#ddd",stroke:"#ccc",strokeWidth:2.5,inset:4})]}),U=Sn({insetRight:10,width:Qg,height:40,marginLeft:60,marginTop:0,marginBottom:0,padding:0,x:{label:null,domain:[I,O],grid:!0},y:{ticks:[],label:"durations"},marks:[jO(P,{clip:!0,x1:F=>F[0],x2:F=>F[1],y:0,strokeWidth:4,stroke:"#888"}),Qr(P,{clip:!0,x:F=>(F[0]+F[1])/2,y:0,text:(F,j)=>(F[1]-F[0]).toFixed(1),dy:10,textAnchor:"middle"})]}),$=Sn({insetRight:10,width:Qg,height:75,marginLeft:60,marginTop:0,marginBottom:40,padding:0,x:{label:"Time in beats",domain:[I,O],tickSize:10,grid:!0},y:{ticks:[],label:"gaps"},marks:[jO(L,{clip:!0,x1:F=>F[0],x2:F=>F[1],y:0,marker:"dot",strokeWidth:4,stroke:"#888"}),Qr(L,{clip:!0,x:F=>(F[0]+F[1])/2,y:0,text:(F,j)=>(F[1]-F[0]).toFixed(1),dx:2,dy:12,textAnchor:"middle"})]});i(1,a.textContent="",a),a.appendChild(N),a.appendChild(U),a.appendChild($)};sr(g);const m=()=>({pastBeats:s,maxNoteDistance:l,tempo:c,notes:u}),M=C=>{p(),i(2,s=C.pastBeats),i(3,l=C.maxNoteDistance),i(4,c=C.tempo),i(5,u=C.notes),g()},p=()=>{u.length>0&&JSON.stringify(u)!==JSON.stringify(Dx.notes)&&ga(n.id,m())};or(p);function A(C){c=C,i(4,c)}function b(C){l=C,i(3,l)}function v(C){s=C,i(2,s)}function E(C){me[C?"unshift":"push"](()=>{a=C,i(1,a)})}function x(C){u=C,i(5,u)}const _=()=>M(Dx);return e.$$set=C=>{"appInfo"in C&&i(0,n=C.appInfo)},[n,a,s,l,c,u,h,g,m,M,p,A,b,v,E,x,_]}class Xdt extends qi{constructor(t){super(),Wi(this,t,Kdt,Wdt,Ji,{appInfo:0})}}const Ydt=4,Zdt=5,tht=.1,eht=[{time:1.398,number:62,note:"D",velocity:88,string:1,fret:3,channel:2,chordId:0},{time:1.413,number:66,note:"F",velocity:38,string:0,fret:2,channel:1,chordId:0},{time:7.616,number:59,note:"B",velocity:10,string:5,fret:19,channel:6,chordId:2},{time:7.648,number:40,note:"E",velocity:98,string:5,fret:0,channel:6,chordId:1},{time:7.67,number:70,note:"A",velocity:82,string:3,fret:20,channel:4,chordId:2},{time:7.67510000000149,number:47,note:"B",velocity:112,string:4,fret:2,channel:5,chordId:1},{time:7.688,number:74,note:"D",velocity:51,string:2,fret:19,channel:3},{time:7.692,number:52,note:"E",velocity:127,string:3,fret:2,channel:4,chordId:1},{time:7.701,number:55,note:"G",velocity:115,string:2,fret:0,channel:3,chordId:1},{time:7.716,number:59,note:"B",velocity:97,string:1,fret:0,channel:2,chordId:1},{time:7.72810000000149,number:64,note:"E",velocity:71,string:0,fret:0,channel:1,chordId:1},{time:11.857,number:45,note:"A",velocity:100,string:4,fret:0,channel:5,chordId:2},{time:11.85910000000149,number:70,note:"A",velocity:80,string:3,fret:20,channel:4,chordId:3},{time:11.87910000000149,number:74,note:"D",velocity:48,string:2,fret:19,channel:3,chordId:3},{time:11.881,number:52,note:"E",velocity:127,string:3,fret:2,channel:4,chordId:2},{time:11.892,number:57,note:"A",velocity:114,string:2,fret:2,channel:3,chordId:2},{time:11.89510000000149,number:72,note:"C",velocity:32,string:1,fret:13,channel:2},{time:11.907,number:60,note:"C",velocity:113,string:1,fret:1,channel:2,chordId:2},{time:11.92210000000149,number:64,note:"E",velocity:90,string:0,fret:0,channel:1,chordId:2},{time:17.361,number:60,note:"C",velocity:46,string:4,fret:15,channel:5},{time:17.364,number:43,note:"G",velocity:75,string:5,fret:3,channel:6,chordId:3},{time:17.38010000000149,number:69,note:"A",velocity:73,string:3,fret:19,channel:4},{time:17.388,number:47,note:"B",velocity:68,string:4,fret:2,channel:5,chordId:3}],iht="chord-diagrams",nht="2024-07-03T18:34:37.899Z",Px={pastChords:Ydt,maxFretSpan:Zdt,maxNoteDistance:tht,notes:eht,_appId:iht,_date:nht};function rht(e){let t,i,n,a,s;return{c(){t=K("p"),t.textContent="1) Play an A minor chord.",i=Y(),n=K("p"),n.textContent=`2) Play chords you don't know by placing your fingers in
                different positions. If they sound good, look what they are
                called.`,a=Y(),s=K("p"),s.textContent="3) Play an A minor chord in three different positions."},m(l,c){_t(l,t,c),_t(l,i,c),_t(l,n,c),_t(l,a,c),_t(l,s,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s))}}}function aht(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J;function W(dt){e[11](dt)}let et={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio",label:"max. note distance",callback:e[7],min:.05,max:5,step:.05};e[4]!==void 0&&(et.value=e[4]),u=new ia({props:et}),me.push(()=>Te(u,"value",W));function mt(dt){e[12](dt)}let ot={title:"maximum distance between the lowest and highest fret",label:"max. fret span",callback:e[7],min:5,max:25,step:1};e[3]!==void 0&&(ot.value=e[3]),m=new ia({props:ot}),me.push(()=>Te(m,"value",mt));function pt(dt){e[13](dt)}let wt={title:"The number of played chords that is displayed",label:"chord count",callback:e[7],min:10,max:300,step:10};e[2]!==void 0&&(wt.value=e[2]),A=new ia({props:wt}),me.push(()=>Te(A,"value",pt));function Mt(dt){e[15](dt)}let xt={saveToStorage:e[10],callback:e[7]};return e[5]!==void 0&&(xt.notes=e[5]),C=new aa({props:xt}),me.push(()=>Te(C,"notes",Mt)),P=new Ma({props:{appId:e[0].id,loadData:e[9]}}),N=new ua({props:{loadData:e[9],getExportData:e[8],appId:e[0].id}}),$=new Kr({props:{$$slots:{default:[rht]},$$scope:{ctx:e}}}),j=new Xr({props:{appId:e[0].id}}),Q=new $r({props:{noteOn:e[6]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing different chord shapes on a guitar. Play
            chords you know (or don't know yet) and see the chord names and
            diagrams.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),E=K("div"),x=Y(),_=K("div"),Ut(C.$$.fragment),I=Y(),T=K("button"),T.textContent="example",D=Y(),Ut(P.$$.fragment),L=Y(),Ut(N.$$.fragment),U=Y(),Ut($.$$.fragment),F=Y(),Ut(j.$$.fragment),z=Y(),Ut(Q.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(E,"class","visualization"),ut(_,"class","control"),ut(t,"class","app")},m(dt,Ot){_t(dt,t,Ot),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(t,v),R(t,E),e[14](E),R(t,x),R(t,_),Nt(C,_,null),R(_,I),R(_,T),R(_,D),Nt(P,_,null),R(_,L),Nt(N,_,null),R(t,U),Nt($,t,null),R(t,F),Nt(j,t,null),R(t,z),Nt(Q,t,null),V=!0,q||(J=Qe(T,"click",e[16]),q=!0)},p(dt,Ot){(!V||Ot&1)&&n!==(n=dt[0].title+"")&&Ue(a,n);const At={};!h&&Ot&16&&(h=!0,At.value=dt[4],Se(()=>h=!1)),u.$set(At);const jt={};!M&&Ot&8&&(M=!0,jt.value=dt[3],Se(()=>M=!1)),m.$set(jt);const bt={};!b&&Ot&4&&(b=!0,bt.value=dt[2],Se(()=>b=!1)),A.$set(bt);const kt={};!O&&Ot&32&&(O=!0,kt.notes=dt[5],Se(()=>O=!1)),C.$set(kt);const Dt={};Ot&1&&(Dt.appId=dt[0].id),P.$set(Dt);const Xt={};Ot&1&&(Xt.appId=dt[0].id),N.$set(Xt);const ae={};Ot&2097152&&(ae.$$scope={dirty:Ot,ctx:dt}),$.$set(ae);const Jt={};Ot&1&&(Jt.appId=dt[0].id),j.$set(Jt)},i(dt){V||(Bt(u.$$.fragment,dt),Bt(m.$$.fragment,dt),Bt(A.$$.fragment,dt),Bt(C.$$.fragment,dt),Bt(P.$$.fragment,dt),Bt(N.$$.fragment,dt),Bt($.$$.fragment,dt),Bt(j.$$.fragment,dt),Bt(Q.$$.fragment,dt),V=!0)},o(dt){Rt(u.$$.fragment,dt),Rt(m.$$.fragment,dt),Rt(A.$$.fragment,dt),Rt(C.$$.fragment,dt),Rt(P.$$.fragment,dt),Rt(N.$$.fragment,dt),Rt($.$$.fragment,dt),Rt(j.$$.fragment,dt),Rt(Q.$$.fragment,dt),V=!1},d(dt){dt&&Ct(t),Ft(u),Ft(m),Ft(A),e[14](null),Ft(C),Ft(P),Ft(N),Ft($),Ft(j),Ft(Q),q=!1,J()}}}function sht(e){let t,i;return t=new da({props:{loadData:e[9],$$slots:{default:[aht]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&2097215&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let Lx=200,kx=6,oht=24;function lht(e,t,i){let{appInfo:n}=t,a,s=5,l=5,c=.1;const d=gA("guitarMidiMinVelocity")??0;let u=[64,59,55,50,45,40];const h=u.map(Ts);let g=0,m=[];const M=T=>{if(m.length===0&&(g=T.timestamp),T.rawVelocity>=d){const D=(T.timestamp-g)/1e3,P=T.message.channel-1,L={time:D,number:T.note.number,note:T.note.name+(T.note.accidental??""),velocity:T.rawVelocity,string:P,fret:T.note.number-u[P],channel:T.message.channel};i(5,m=[...m,L]),p()}},p=()=>{let T=_f(m,c);T=T.map(N=>{N=Sl(N,j=>j.string).map(([j,z])=>{const Q=UA(z,V=>V.velocity);return z[Q]});const U=N.filter(j=>j.fret>0);let $;U.length===0?$=0:$=Y9(U,j=>j.fret);const F=$+l;return N.filter(j=>j.fret<=F)}),T=T.filter(N=>N.length>2).slice(-s).reverse();for(const[N,U]of T.entries())for(const $ of U)$.chordId=N;const D=T.map(N=>{let U=N.sort(($,F)=>$.number-F.number).map($=>Ts($.number));return U=[...new Set(U)],fm(U)}),P=(Lx-35)/3*(l+1)+50,L=(P-100)/(l+2);i(1,a.textContent="",a);for(const[N,U]of T.entries()){const $=U.filter(Q=>Q.fret>0);let F=0;$.length>0&&(F=Y9($,Q=>Q.fret));const j=F+l,z=Sn({width:P,height:Lx,marginLeft:40,marginRight:10,marginBottom:25,padding:0,figure:!0,subtitle:D[N].join(", "),style:{textAlign:"center",margin:"auto"},x:{domain:Ci(F===0?0:F-1,j+2),label:"",tickSize:0,tickPadding:15},y:{domain:Ci(0,kx),tickFormat:Q=>h[Q],label:"",tickSize:0,tickPadding:15},color:{domain:Ci(12),range:wh.noteColormap,legend:N===0,marginLeft:250,width:500,type:"categorical",tickFormat:Q=>F9[Q]},r:{domain:[0,127],range:[5,10]},marks:[k9(Ci(0,oht+1),{stroke:"#ddd",dx:L/2}),zr(Ci(0,kx),{stroke:"#ddd",strokeWidth:Q=>Math.sqrt(Q+1)}),js([3,5,7,9,15,17,19,21],{x:Q=>Q,y:2,dy:L/2,fill:"#ddd",r:8}),js([12,12,24,24],{x:Q=>Q,y:(Q,V)=>V%2===0?1:3,dy:L/2,fill:"#ddd",r:8}),js(U.filter(Q=>Q.fret>0),{x:"fret",y:"string",r:"velocity",fill:Q=>Q.number%12,tip:!0}),Qr(U.filter(Q=>Q.fret>0),{x:"fret",y:"string",text:"note",fill:"white"}),js(U.filter(Q=>Q.fret===0),{x:F===0?0:F-1,y:"string",r:"velocity",stroke:Q=>Q.number%12,tip:!0})]});a.appendChild(z)}};sr(p);const A=()=>({pastChords:s,maxFretSpan:l,maxNoteDistance:c,notes:m}),b=T=>{v(),i(2,s=T.pastChords),i(4,c=T.maxNoteDistance),i(3,l=T.maxFretSpan),i(5,m=T.notes),p()},v=()=>{m.length>0&&JSON.stringify(m)!==JSON.stringify(Px.notes)&&ga(n.id,A())};or(v);function E(T){c=T,i(4,c)}function x(T){l=T,i(3,l)}function _(T){s=T,i(2,s)}function C(T){me[T?"unshift":"push"](()=>{a=T,i(1,a)})}function O(T){m=T,i(5,m)}const I=()=>b(Px);return e.$$set=T=>{"appInfo"in T&&i(0,n=T.appInfo)},[n,a,s,l,c,m,M,p,A,b,v,E,x,_,C,O,I]}class cht extends qi{constructor(t){super(),Wi(this,t,lht,sht,Ji,{appInfo:0})}}const uht=!1,dht=100,hht=[{time:0,velocity:94,number:48,note:"C",isSharp:!1,channel:1},{time:.183,velocity:75,number:48,note:"C",isSharp:!1,channel:1},{time:.4210999999046326,velocity:67,number:48,note:"C",isSharp:!1,channel:1},{time:.6070999999046326,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:.8060999999046325,velocity:66,number:48,note:"C",isSharp:!1,channel:1},{time:1.044,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:1.2450999999046326,velocity:62,number:48,note:"C",isSharp:!1,channel:1},{time:1.437,velocity:63,number:48,note:"C",isSharp:!1,channel:1},{time:1.6300999999046326,velocity:61,number:48,note:"C",isSharp:!1,channel:1},{time:1.8420999999046326,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:2.049,velocity:62,number:48,note:"C",isSharp:!1,channel:1},{time:2.2550999999046324,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:2.46,velocity:70,number:48,note:"C",isSharp:!1,channel:1},{time:2.6610999999046325,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:2.8620999999046326,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:3.068,velocity:70,number:48,note:"C",isSharp:!1,channel:1},{time:3.275,velocity:74,number:48,note:"C",isSharp:!1,channel:1},{time:3.4690999999046324,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:3.668,velocity:72,number:48,note:"C",isSharp:!1,channel:1}],fht="dynamics",mht="0.14.0",pht="2024-09-24T14:20:32.325Z",Nx={isBinning:uht,barLimit:dht,notes:hht,_appId:fht,_softwareVersion:mht,_date:pht},ght=!1,Mht=100,Aht=[{time:0,velocity:31,number:47,note:"B",isSharp:!1,channel:1},{time:.2,velocity:70,number:47,note:"B",isSharp:!1,channel:1},{time:.4,velocity:88,number:47,note:"B",isSharp:!1,channel:1},{time:.6,velocity:110,number:47,note:"B",isSharp:!1,channel:1},{time:.8,velocity:123,number:47,note:"B",isSharp:!1,channel:1}],yht="dynamics",vht="0.14.0",bht="2024-09-24T13:45:03.134Z",Fx={isBinning:ght,barLimit:Mht,notes:Aht,_appId:yht,_softwareVersion:vht,_date:bht},Cht=!1,_ht=100,Eht=[{time:0,velocity:123,number:47,note:"B",isSharp:!1,channel:1},{time:.2,velocity:110,number:47,note:"B",isSharp:!1,channel:1},{time:.4,velocity:88,number:47,note:"B",isSharp:!1,channel:1},{time:.6,velocity:70,number:47,note:"B",isSharp:!1,channel:1},{time:.8,velocity:31,number:47,note:"B",isSharp:!1,channel:1}],wht="dynamics",Oht="0.14.0",xht="2024-09-24T13:45:03.134Z",Ux={isBinning:Cht,barLimit:_ht,notes:Eht,_appId:wht,_softwareVersion:Oht,_date:xht},Sht=!1,Tht=50,Iht=[{time:0,velocity:90,number:48,note:"C",isSharp:!1,channel:1},{time:.384,velocity:66,number:48,note:"C",isSharp:!1,channel:1},{time:.8109000000953674,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:1.2799000000953675,velocity:62,number:48,note:"C",isSharp:!1,channel:1},{time:1.7509000000953674,velocity:100,number:48,note:"C",isSharp:!1,channel:1},{time:2.201,velocity:65,number:48,note:"C",isSharp:!1,channel:1},{time:2.679,velocity:65,number:48,note:"C",isSharp:!1,channel:1},{time:3.1679000000953677,velocity:67,number:48,note:"C",isSharp:!1,channel:1},{time:3.6569000000953675,velocity:96,number:48,note:"C",isSharp:!1,channel:1},{time:4.164,velocity:68,number:48,note:"C",isSharp:!1,channel:1},{time:4.702,velocity:71,number:48,note:"C",isSharp:!1,channel:1},{time:5.2259000000953675,velocity:68,number:48,note:"C",isSharp:!1,channel:1},{time:5.767,velocity:100,number:48,note:"C",isSharp:!1,channel:1},{time:6.298900000095367,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:6.853,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:7.42,velocity:69,number:48,note:"C",isSharp:!1,channel:1},{time:7.978900000095368,velocity:100,number:48,note:"C",isSharp:!1,channel:1},{time:8.477900000095367,velocity:63,number:48,note:"C",isSharp:!1,channel:1},{time:9.05,velocity:67,number:48,note:"C",isSharp:!1,channel:1},{time:9.594,velocity:69,number:48,note:"C",isSharp:!1,channel:1}],Bht="dynamics",Rht="0.14.0",Dht="2024-09-24T14:22:40.445Z",zg={isBinning:Sht,barLimit:Tht,notes:Iht,_appId:Bht,_softwareVersion:Rht,_date:Dht};var SF={exports:{}},TF={exports:{}};function Pht(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:e===43?62:e===47?63:0}function Lht(e,t){for(var i=e.replace(/[^A-Za-z0-9\+\/]/g,""),n=i.length,a=t?Math.ceil((n*3+1>>2)/t)*t:n*3+1>>2,s=new Uint8Array(a),l,c,d=0,u=0,h=0;h<n;h++)if(c=h&3,d|=Pht(i.charCodeAt(h))<<18-6*c,c===3||n-h===1){for(l=0;l<3&&u<a;l++,u++)s[u]=d>>>(16>>>l&24)&255;d=0}return s}var kht={decode:Lht},Nht=function(e,t){return new Promise(function(i,n){var a=new XMLHttpRequest;t&&(a.responseType=t),a.open("GET",e),a.onload=function(){a.status===200?i(a.response):n(Error(a.statusText))},a.onerror=function(){n(Error("Network Error"))},a.send()})};(function(e){var t=kht,i=Nht;function n(I){return function(T){return typeof T=="string"&&I.test(T)}}function a(I,T){return typeof I=="string"?I+T:typeof I=="function"?I(T):T}function s(I,T,D,P){var L=l(T)?c:d(T)?u:h(T)?g:m(T)?M:p(T)?A:b(T)?v:E(T)?x:_(T)?C:null,N=D||{};return L?L(I,T,N):P?Promise.resolve(P):Promise.reject("Source not valid ("+T+")")}s.fetch=i;function l(I){return I instanceof ArrayBuffer}function c(I,T,D){return new Promise(function(P,L){I.decodeAudioData(T,function(N){P(N)},function(){L("Can't decode audio data ("+T.slice(0,30)+"...)")})})}var d=n(/\.(mp3|wav|ogg)(\?.*)?$/i);function u(I,T,D){var P=a(D.from,T);return s(I,s.fetch(P,"arraybuffer"),D)}function h(I){return I&&typeof I.then=="function"}function g(I,T,D){return T.then(function(P){return s(I,P,D)})}var m=Array.isArray;function M(I,T,D){return Promise.all(T.map(function(P){return s(I,P,D,P)}))}function p(I){return I&&typeof I=="object"}function A(I,T,D){var P={},L=Object.keys(T).map(function(N){if(D.only&&D.only.indexOf(N)===-1)return null;var U=T[N];return s(I,U,D,U).then(function($){P[N]=$})});return Promise.all(L).then(function(){return P})}var b=n(/\.json(\?.*)?$/i);function v(I,T,D){var P=a(D.from,T);return s(I,s.fetch(P,"text").then(JSON.parse),D)}var E=n(/^data:audio/);function x(I,T,D){var P=T.indexOf(",");return s(I,t.decode(T.slice(P+1)).buffer,D)}var _=n(/\.js(\?.*)?$/i);function C(I,T,D){var P=a(D.from,T);return s(I,s.fetch(P,"text").then(O),D)}function O(I){var T=I.indexOf("MIDI.Soundfont.");if(T<0)throw Error("Invalid MIDI.js Soundfont format");T=I.indexOf("=",T)+2;var D=I.lastIndexOf(",");return JSON.parse(I.slice(T,D)+"}")}e.exports&&(e.exports=s),typeof window<"u"&&(window.loadAudio=s)})(TF);var Fht=TF.exports,IF={exports:{}},Uht=$ht;function $ht(e){var t=e.createGain(),i=t._voltage=Hht(e),n=ah(i),a=ah(i),s=ah(i);return t._startAmount=ah(a),t._endAmount=ah(s),t._multiplier=ah(n),t._multiplier.connect(t),t._startAmount.connect(t),t._endAmount.connect(t),t.value=n.gain,t.startValue=a.gain,t.endValue=s.gain,t.startValue.value=0,t.endValue.value=0,Object.defineProperties(t,Ght),t}var Ght={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(e){var t=this._multiplier.gain,i=this._startAmount.gain,n=this._endAmount.gain;this._voltage.start(e),this._decayFrom=this._decayFrom=e+this.attack,this._startedAt=e;var a=this.sustain;t.cancelScheduledValues(e),i.cancelScheduledValues(e),n.cancelScheduledValues(e),n.setValueAtTime(0,e),this.attack?(t.setValueAtTime(0,e),t.linearRampToValueAtTime(1,e+this.attack),i.setValueAtTime(1,e),i.linearRampToValueAtTime(0,e+this.attack)):(t.setValueAtTime(1,e),i.setValueAtTime(0,e)),this.decay&&t.setTargetAtTime(a,this._decayFrom,$x(this.decay))}},stop:{value:function(e,t){t&&(e=e-this.release);var i=e+this.release;if(this.release){var n=this._multiplier.gain,a=this._startAmount.gain,s=this._endAmount.gain;n.cancelScheduledValues(e),a.cancelScheduledValues(e),s.cancelScheduledValues(e);var l=$x(this.release);if(this.attack&&e<this._decayFrom){var c=Qht(0,1,this._startedAt,this._decayFrom,e);n.linearRampToValueAtTime(c,e),a.linearRampToValueAtTime(1-c,e),a.setTargetAtTime(0,e,l)}s.setTargetAtTime(1,e,l),n.setTargetAtTime(0,e,l)}return this._voltage.stop(i),i}},onended:{get:function(){return this._voltage.onended},set:function(e){this._voltage.onended=e}}},Vht=new Float32Array([1,1]);function Hht(e){var t=e.createBufferSource(),i=e.createBuffer(1,2,e.sampleRate);return i.getChannelData(0).set(Vht),t.buffer=i,t.loop=!0,t}function ah(e){var t=e.context.createGain();return e.connect(t),t}function $x(e){return Math.log(e+1)/Math.log(100)}function Qht(e,t,i,n,a){var s=t-e,l=n-i,c=a-i,d=c/l,u=e+d*s;return u<=e&&(u=e),u>=t&&(u=t),u}var zht=Uht,jht={},Jht={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function Wht(e,t,i){var n=!1,a=0,s={},l=e.createGain();l.gain.value=1;var c=Object.assign({},Jht,i),d={context:e,out:l,opts:c};return t instanceof AudioBuffer?d.buffer=t:d.buffers=t,d.start=function(g,m,M){if(d.buffer&&g!==null)return d.start(null,g,m);var p=g?d.buffers[g]:d.buffer;if(p){if(!n){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+g+" not found.");return}var A=M||jht;m=Math.max(e.currentTime,m||0),d.emit("start",m,g,A);var b=h(g,p,A);return b.id=u(g,b),b.env.start(m),b.source.start(m),d.emit("started",m,b.id,b),A.duration&&b.stop(m+A.duration),b},d.play=function(g,m,M){return d.start(g,m,M)},d.stop=function(g,m){var M;return m=m||Object.keys(s),m.map(function(p){return M=s[p],M?(M.stop(g),M.id):null})},d.connect=function(g){return n=!0,l.connect(g),d},d.emit=function(g,m,M,p){d.onevent&&d.onevent(g,m,M,p);var A=d["on"+g];A&&A(m,M,p)},d;function u(g,m){return m.id=a++,s[m.id]=m,m.source.onended=function(){var M=e.currentTime;m.source.disconnect(),m.env.disconnect(),m.disconnect(),d.emit("ended",M,m.id,m)},m.id}function h(g,m,M){var p=e.createGain();return p.gain.value=0,p.connect(l),p.env=Kht(e,M,c),p.env.connect(p.gain),p.source=e.createBufferSource(),p.source.buffer=m,p.source.connect(p),p.source.loop=M.loop||c.loop,p.source.playbackRate.value=Xht(M.cents||c.cents),p.source.loopStart=M.loopStart||c.loopStart,p.source.loopEnd=M.loopEnd||c.loopEnd,p.stop=function(A){var b=A||e.currentTime;d.emit("stop",b,g);var v=p.env.stop(b);p.source.stop(v)},p}}function Gx(e){return typeof e=="number"}var qht=["attack","decay","sustain","release"];function Kht(e,t,i){var n=zht(e),a=t.adsr||i.adsr;return qht.forEach(function(s,l){a?n[s]=a[l]:n[s]=t[s]||i[s]}),n.value.value=Gx(t.gain)?t.gain:Gx(i.gain)?i.gain:1,n}function Xht(e){return e?Math.pow(2,e/1200):1}var Yht=Wht,Zht=function(e){return e.on=function(t,i){if(arguments.length===1&&typeof t=="function")return e.on("event",t);var n="on"+t,a=e[n];return e[n]=a?tft(a,i):i,e},e};function tft(e,t){return function(i,n,a,s){e(i,n,a,s),t(i,n,a,s)}}var BF=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function eft(){return BF}var ift=[0,2,4,5,7,9,11];function RF(e,t,i){if(typeof e!="string")return null;var n=BF.exec(e);if(!n||!t&&n[4])return null;var a={letter:n[1].toUpperCase(),acc:n[2].replace(/x/g,"##")};return a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length,a.chroma=ift[a.step]+a.alt,n[3]&&(a.oct=+n[3],a.midi=a.chroma+12*(a.oct+1),a.freq=DF(a.midi,i)),t&&(a.tonicOf=n[4]),a}function DF(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var PF={parse:RF,regex:eft,midiToFreq:DF},nft=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];nft.forEach(function(e){PF[e]=function(t){var i=RF(t);return i&&typeof i[e]<"u"?i[e]:null}});var rft=PF,aft=rft,sft=function(e){return e!==null&&e!==[]&&e>=0&&e<129},oft=function(e){return sft(e)?+e:aft.midi(e)},lft=function(e){if(e.buffers){var t=e.opts.map,i=typeof t=="function"?t:oft,n=function(s){return s?i(s)||s:null};e.buffers=cft(e.buffers,n);var a=e.start;e.start=function(s,l,c){var d=n(s),u=d%1;return u&&(d=Math.floor(d),c=Object.assign(c||{},{cents:Math.floor(u*100)})),a(d,l,c)}}return e};function cft(e,t){return Object.keys(e).reduce(function(i,n){return i[t(n)]=e[n],i},{})}var uft=Array.isArray,dft=function(e){return e&&typeof e=="object"},hft={},fft=function(e){return e.schedule=function(t,i){var n=e.context.currentTime,a=t<n?n:t;e.emit("schedule",a,i);var s,l,c,d;return i.map(function(u){if(u)uft(u)?(s=u[0],l=u[1]):(s=u.time,l=u);else return null;return dft(l)?(c=l.name||l.key||l.note||l.midi||null,d=l):(c=l,d=hft),e.start(c,a+(s||0),d)})},e};function Q4(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var LF={exports:{}};(function(e,t){(function(i){e.exports=i()})(function(){return function i(n,a,s){function l(u,h){if(!a[u]){if(!n[u]){var g=typeof Q4=="function"&&Q4;if(!h&&g)return g(u,!0);if(c)return c(u,!0);var m=new Error("Cannot find module '"+u+"'");throw m.code="MODULE_NOT_FOUND",m}var M=a[u]={exports:{}};n[u][0].call(M.exports,function(p){var A=n[u][1][p];return l(A||p)},M,M.exports,i,n,a,s)}return a[u].exports}for(var c=typeof Q4=="function"&&Q4,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(i,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(s){function l(c){if(this._event=c,this._data=c.data,this.receivedTime=c.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=c.data[0]&240,this.channel=c.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=c.data[1]&127,this.velocity=c.data[2]&127;break;case 144:this.messageType="noteon",this.key=c.data[1]&127,this.velocity=c.data[2]&127;break;case 160:this.messageType="keypressure",this.key=c.data[1]&127,this.pressure=c.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=c.data[1]&127,this.controllerValue=c.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=c.data[1];break;case 208:this.messageType="channelpressure",this.pressure=c.data[1]&127;break;case 224:this.messageType="pitchbendchange";var d=c.data[2]&127,u=c.data[1]&127;this.pitchBend=(d<<8)+u;break}}return new l(s)},n.exports=a.default},{}]},{},[1])(1)})})(LF);var mft=LF.exports,pft=mft,gft=function(e){return e.listenToMidi=function(t,i){var n={},a=i||{},s=a.gain||function(l){return l/127};return t.onmidimessage=function(l){var c=l.messageType?l:pft(l);if(c.messageType==="noteon"&&c.velocity===0&&(c.messageType="noteoff"),!(a.channel&&c.channel!==a.channel))switch(c.messageType){case"noteon":n[c.key]=e.play(c.key,0,{gain:s(c.velocity)});break;case"noteoff":n[c.key]&&(n[c.key].stop(),delete n[c.key]);break}},e},e};(function(e){var t=Yht,i=Zht,n=lft,a=fft,s=gft;function l(c,d,u){return s(a(n(i(t(c,d,u)))))}e.exports&&(e.exports=l),typeof window<"u"&&(window.SamplePlayer=l)})(IF);var Mft=IF.exports;function Vx(e,t){return Array(t+1).join(e)}function Cv(e){return typeof e=="number"}function Aft(e){return typeof e=="string"}function yft(e){return typeof e<"u"}function kF(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var NF=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function vft(){return NF}var bft=[0,2,4,5,7,9,11];function Ul(e,t,i){if(typeof e!="string")return null;var n=NF.exec(e);if(!n||!t&&n[4])return null;var a={letter:n[1].toUpperCase(),acc:n[2].replace(/x/g,"##")};a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length;var s=bft[a.step]+a.alt;return a.chroma=s<0?12+s:s%12,n[3]&&(a.oct=+n[3],a.midi=s+12*(a.oct+1),a.freq=kF(a.midi,i)),t&&(a.tonicOf=n[4]),a}var Cft="CDEFGAB";function _ft(e){return Cv(e)?e<0?Vx("b",-e):Vx("#",e):""}function Eft(e){return Cv(e)?""+e:""}function FF(e,t,i){return e===null||typeof e>"u"?null:e.step?FF(e.step,e.alt,e.oct):e<0||e>6?null:Cft.charAt(e)+_ft(t)+Eft(i)}function UF(e){if((Cv(e)||Aft(e))&&e>=0&&e<128)return+e;var t=Ul(e);return t&&yft(t.midi)?t.midi:null}function wft(e,t){var i=UF(e);return i===null?null:kF(i,t)}function Oft(e){return(Ul(e)||{}).letter}function xft(e){return(Ul(e)||{}).acc}function Sft(e){return(Ul(e)||{}).pc}function Tft(e){return(Ul(e)||{}).step}function Ift(e){return(Ul(e)||{}).alt}function Bft(e){return(Ul(e)||{}).chroma}function Rft(e){return(Ul(e)||{}).oct}const Dft=Object.freeze(Object.defineProperty({__proto__:null,acc:xft,alt:Ift,build:FF,chroma:Bft,freq:wft,letter:Oft,midi:UF,oct:Rft,parse:Ul,pc:Sft,regex:vft,step:Tft},Symbol.toStringTag,{value:"Module"})),Pft=_nt(Dft);var jg,Hx;function Lft(){if(Hx)return jg;Hx=1;var e=Pft;function t(a,s){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof t))return new t(a);this.nameToUrl=s||t.nameToUrl,this.ctx=a,this.instruments={},this.promises=[]}t.prototype.onready=function(a){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(a)},t.prototype.instrument=function(a,s){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var l=this.ctx;if(a=a||"default",a in this.instruments)return this.instruments[a];var c={name:a,play:n(l,s)};if(this.instruments[a]=c,a!=="default"){var d=t.instrument(l,a,s).then(function(u){return c.play=u.play,c});this.promises.push(d),c.onready=function(u){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),d.then(u)}}else c.onready=function(u){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),u()};return c};function i(a,s,l){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),t.instrument(a,s,l).then(function(c){return c.buffers})}t.loadBuffers=i;function n(a,s){return s=s||{},function(l,c,d,u){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var h=l>0&&l<129?+l:e.midi(l),g=h?e.midiToFreq(h,440):null;if(g){d=d||.2,u=u||{};var m=u.destination||s.destination||a.destination,M=u.vcoType||s.vcoType||"sine",p=u.gain||s.gain||.4,A=a.createOscillator();A.type=M,A.frequency.value=g;var b=a.createGain();return b.gain.value=p,A.connect(b),b.connect(m),A.start(c),d>0&&A.stop(c+d),A}}}return t.noteToMidi=e.midi,jg=t,jg}(function(e){var t=Fht,i=Mft;function n(c,d,u){if(arguments.length===1)return function(p,A){return n(c,p,A)};var h=u||{},g=h.isSoundfontURL||a,m=h.nameToUrl||s,M=g(d)?d:m(d,h.soundfont,h.format);return t(c,M,{only:h.only||h.notes}).then(function(p){var A=i(c,p,h).connect(h.destination?h.destination:c.destination);return A.url=M,A.name=d,A})}function a(c){return/\.js(\?.*)?$/i.test(c)}function s(c,d,u){return u=u==="ogg"?u:"mp3",d=d==="FluidR3_GM"?d:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+d+"/"+c+"-"+u+".js"}var l=Lft();l.instrument=n,l.nameToUrl=s,e.exports&&(e.exports=l),typeof window<"u"&&(window.Soundfont=l)})(SF);var kft=SF.exports;const Nft=Ay(kft);var gc,Ih,Bh,$u,Mc,Ac,yc,N2,vc,Rh,Gu,mo,ul,Vu,D0,Dh,dl,hl,F2,_l;let $F=(_l=class{constructor(){Ln(this,gc,null);Ln(this,Ih,null);Ln(this,Bh,null);Ln(this,$u,1);Ln(this,Mc,null);Ln(this,Ac,!1);Ln(this,yc,!1);In(this,"currentPlayTime",null);Ln(this,N2,null);Ln(this,vc,new AudioContext);Ln(this,Rh,null);Ln(this,Gu,null);Ln(this,mo,0);Ln(this,ul,-1);Ln(this,Vu,[]);Ln(this,D0,[]);Ln(this,Dh,null);Ln(this,dl,!1);Ln(this,hl,!1);Ln(this,F2,null);In(this,"onTimeChange",t=>(En(this,gc,t),this));In(this,"onStop",t=>(En(this,Ih,t),this));In(this,"getAvailableInstruments",()=>[..._l.validInstruments.values()]);In(this,"setVolume",t=>(En(this,$u,t),this));In(this,"setLogging",t=>(En(this,yc,t),this));In(this,"isPlaying",()=>je(this,dl));In(this,"isPaused",()=>je(this,hl));In(this,"playNotes",(t,i="acoustic_grand_piano",n=0,a=-1,s=1,l=!1)=>{if(je(this,dl)&&!je(this,hl)&&!je(this,Ac)&&this.stop(),!t||t.length===0){console.warn("[PLAYER] Was called with no data");return}if(!_l.validInstruments.has(i)){console.error(`[Player] Sound ${i} is not supported!`);return}En(this,Vu,[...t]);let c=new ku(t).sortByTime();En(this,Dh,c.getDuration()),n>0&&(c=c.filter(d=>d.start>=n).shiftTime(-n),console.log(`[Player] Will start at ${n.toFixed(2)} seconds with ${c.length()} notes left`)),s!==1&&s>0&&(c=c.scaleTime(1/s),En(this,Dh,je(this,Dh)/s)),t=c.getNotes(),console.log(`[Player] Playing ${t.length} notes with '${i}', speed ${s}, and volume ${je(this,$u)}`),je(this,vc).state==="suspended"&&je(this,vc).resume(),En(this,Bh,i),En(this,mo,n),En(this,ul,a),En(this,Mc,s),En(this,Ac,l),En(this,D0,[...t]),i===je(this,F2)?this._start():this.preloadInstrument(i).then(this._start)});In(this,"_start",()=>{console.log("[Player] Starting"),En(this,dl,!0),En(this,hl,!1),En(this,Gu,je(this,vc).currentTime),this._scheduler()});In(this,"_updateTime",t=>{const i=(t-je(this,Gu))*je(this,Mc)+je(this,mo);this.currentPlayTime=i,je(this,gc)&&je(this,gc).call(this,i)});In(this,"_playNote",(t,i)=>{const n=t.getDuration();je(this,yc)&&console.log(`[Player] Playing ${t.getName()} for ${n}s`);try{je(this,N2).play(t.pitch,i,{duration:n,gain:t.velocity*je(this,$u),sustain:t.getDuration()})}catch(a){console.error("[Player] Error for note",t,a)}});In(this,"_scheduler",()=>{const n=je(this,vc).currentTime;this._updateTime(n);const a=(je(this,ul)-je(this,mo))/je(this,Mc)+je(this,mo);for(;je(this,D0).length>0;){const l=je(this,Gu)+je(this,D0)[0].start;if(l>n+.1||je(this,ul)!==-1&&je(this,D0)[0].start+je(this,mo)>=a)break;const c=je(this,D0).shift();this._playNote(c,l)}const s=n-je(this,Gu)+je(this,mo);je(this,ul)!==-1&&s>=a?this._stopOrLoop():s>=je(this,Dh)?this._stopOrLoop():En(this,Rh,setTimeout(this._scheduler,33))});In(this,"_stopOrLoop",()=>{je(this,Ac)?this.playNotes(je(this,Vu),je(this,Bh),je(this,mo),je(this,ul),je(this,Mc),je(this,Ac)):this.stop()});In(this,"stop",(t=!0)=>{if(je(this,dl))return console.log("[Player] Stopping player"),clearTimeout(je(this,Rh)),this.currentPlayTime=null,En(this,dl,!1),En(this,hl,!1),En(this,Vu,[]),En(this,D0,[]),je(this,gc)&&je(this,gc).call(this,null),t&&je(this,Ih)&&je(this,Ih).call(this),this});In(this,"pause",()=>(console.log("[Player] Pausing player"),clearTimeout(je(this,Rh)),En(this,hl,!0),this));In(this,"resume",()=>{if(console.log("[Player] Resuming player"),!je(this,D0)||je(this,D0).length===0){console.warn("[Player] Cannot resume player since it has not been started!");return}return this.playNotes(je(this,Vu),je(this,Bh),this.currentPlayTime,je(this,ul),je(this,Mc),je(this,Ac)),this});In(this,"pauseOrResume",()=>{if(!je(this,dl)){console.warn("[Player] Cannot pause / resume when player is not playing!");return}return je(this,hl)?this.resume():this.pause(),this})}async preloadInstrument(t){if(t==="silent")return this;const i=`soundfonts/${t}-mp3.js`;je(this,yc)&&console.log(`[Player] Pre-loading sound font from ${i}`),_l.validInstruments.has(t)||console.warn(`[Player] Invalid sound ${t}`),je(this,yc)&&console.log(`[Player] Loading soundfont ${t}`);const n={from:"",gain:je(this,$u)},a=await Nft.instrument(je(this,vc),i,n);return En(this,F2,t),En(this,N2,a),je(this,yc)&&console.log(`[Player] Finished loading soundfont ${t}`),this}},gc=new WeakMap,Ih=new WeakMap,Bh=new WeakMap,$u=new WeakMap,Mc=new WeakMap,Ac=new WeakMap,yc=new WeakMap,N2=new WeakMap,vc=new WeakMap,Rh=new WeakMap,Gu=new WeakMap,mo=new WeakMap,ul=new WeakMap,Vu=new WeakMap,D0=new WeakMap,Dh=new WeakMap,dl=new WeakMap,hl=new WeakMap,F2=new WeakMap,In(_l,"validInstruments",new Map([["acoustic_grand_piano",{value:"acoustic_grand_piano",label:"Acoustic grand piano"}],["acoustic_guitar_nylon",{value:"acoustic_guitar_nylon",label:"Acoustic guitar nylon"}],["acoustic_guitar_steel",{value:"acoustic_guitar_steel",label:"Acoustic guitar steel"}],["electric_bass_finger",{value:"electric_bass_finger",label:"Electric bass finger"}],["electric_guitar_clean",{value:"electric_guitar_clean",label:"Electric guitar clean"}],["percussion",{value:"percussion",label:"Percussion"}]])),_l);function Qx(e){let t,i,n;function a(l){e[9](l)}let s={title:"sound",style:"margin: 0 -12.5px 0 -0.5px; border-radius: 0",disabled:e[1].length===0||e[4],$$slots:{default:[Fft]},$$scope:{ctx:e}};return e[0]!==void 0&&(s.value=e[0]),t=new qr({props:s}),me.push(()=>Te(t,"value",a)),{c(){Ut(t.$$.fragment)},m(l,c){Nt(t,l,c),n=!0},p(l,c){const d={};c&18&&(d.disabled=l[1].length===0||l[4]),c&1048576&&(d.$$scope={dirty:c,ctx:l}),!i&&c&1&&(i=!0,d.value=l[0],Se(()=>i=!1)),t.$set(d)},i(l){n||(Bt(t.$$.fragment,l),n=!0)},o(l){Rt(t.$$.fragment,l),n=!1},d(l){Ft(t,l)}}}function Fft(e){let t,i,n,a,s,l,c;return{c(){t=K("option"),t.textContent=`${Mat}`,i=Y(),n=K("option"),n.textContent=`${HL}`,a=Y(),s=K("option"),s.textContent=`${QL}`,l=Y(),c=K("option"),c.textContent=`${zL}`,t.__value="silent",Vi(t,t.__value),n.__value="acoustic_grand_piano",Vi(n,n.__value),s.__value="percussion",Vi(s,s.__value),c.__value="acoustic_guitar_nylon",Vi(c,c.__value)},m(d,u){_t(d,t,u),_t(d,i,u),_t(d,n,u),_t(d,a,u),_t(d,s,u),_t(d,l,u),_t(d,c,u)},p:Fe,d(d){d&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c))}}}function Uft(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b,v,E=e[3]&&Qx(e);function x(C){e[10](C)}let _={title:"replay speed (2 means twice as fast, 0.5 half as fast)",min:.5,max:10,step:.5,width:"40px",disabled:e[1].length===0||e[4],style:"border-radius: 0 8px 8px 0; margin: 0;"};return e[2]!==void 0&&(_.value=e[2]),M=new ia({props:_}),me.push(()=>Te(M,"value",x)),{c(){t=K("main"),i=K("button"),n=vo("svg"),a=vo("path"),l=vo("circle"),d=vo("circle"),g=Y(),E&&E.c(),m=Y(),Ut(M.$$.fragment),ut(a,"x",0),ut(a,"y",0),ut(a,"d",s=`M4,4 L4,${C9-4} L${C9-4},${e[4]?C9-4:C9/2} L${e[4]?C9-4:4},4 Z`),ut(a,"fill","#444"),ut(a,"stroke","#444"),ut(a,"stroke-width","3"),ut(a,"stroke-linejoin","round"),ut(a,"rx","3"),ut(a,"class","svelte-cvgzat"),ut(l,"cx",C9/2),ut(l,"cy",C9/2),ut(l,"r",MA),ut(l,"stroke","#888"),ut(l,"visibility",c=e[4]?"visible":"hidden"),ut(l,"class","svelte-cvgzat"),ut(d,"cx",C9/2),ut(d,"cy",C9/2),ut(d,"r",MA),ut(d,"stroke","white"),ut(d,"visibility",u=e[4]?"visible":"hidden"),ut(d,"class","svelte-cvgzat"),ut(n,"width",C9+"px"),ut(n,"height",C9+"px"),un(n,"width",C9+"px"),un(n,"height",C9+"px"),ut(n,"class","svelte-cvgzat"),ut(i,"title","replay the current notes, click again to stop"),i.disabled=h=e[1].length===0,ut(i,"class","svelte-cvgzat"),ut(t,"class","svelte-cvgzat")},m(C,O){_t(C,t,O),R(t,i),R(i,n),R(n,a),R(n,l),R(n,d),e[8](d),R(t,g),E&&E.m(t,null),R(t,m),Nt(M,t,null),A=!0,b||(v=Qe(i,"click",e[6]),b=!0)},p(C,[O]){(!A||O&16&&s!==(s=`M4,4 L4,${C9-4} L${C9-4},${C[4]?C9-4:C9/2} L${C[4]?C9-4:4},4 Z`))&&ut(a,"d",s),(!A||O&16&&c!==(c=C[4]?"visible":"hidden"))&&ut(l,"visibility",c),(!A||O&16&&u!==(u=C[4]?"visible":"hidden"))&&ut(d,"visibility",u),(!A||O&2&&h!==(h=C[1].length===0))&&(i.disabled=h),C[3]?E?(E.p(C,O),O&8&&Bt(E,1)):(E=Qx(C),E.c(),Bt(E,1),E.m(t,m)):E&&(W0(),Rt(E,1,1,()=>{E=null}),q0());const I={};O&18&&(I.disabled=C[1].length===0||C[4]),!p&&O&4&&(p=!0,I.value=C[2],Se(()=>p=!1)),M.$set(I)},i(C){A||(Bt(E),Bt(M.$$.fragment,C),A=!0)},o(C){Rt(E),Rt(M.$$.fragment,C),A=!1},d(C){C&&Ct(t),e[8](null),E&&E.d(),Ft(M),b=!1,v()}}}const C9=24,MA=4.5;function $ft(e,t,i){let{notes:n=[]}=t,{speed:a=1}=t,{callback:s=()=>{}}=t,{allowSound:l=!0}=t,{sound:c="silent"}=t,d=[],u,h=!1,g,m,M=0;const p=new $F,A=()=>{i(4,h=!0);const I=1e3/a;u=[...n],i(1,n=[]),d=[];let[T,D]=Ua(u,L=>L.time??L);D=D-T;for(const L of u){const N=(L.time??L)-T;d.push(setTimeout(()=>{i(1,n=[...n,L]),n.length===u.length?v():s()},N*I))}const P=()=>{const L=(performance.now()-M)/1e3*a;x(L/D),m=requestAnimationFrame(P)};if(M=performance.now(),m=requestAnimationFrame(P),c!=="silent"){const L=u.at(0).time,N=u.map(U=>{const $=U.time-L,F=U.duration??.2;let j=U.velocityRaw??U.velocity??1;return j=j<=1?j:j/127,Ju.from({pitch:U.number??33,start:$,end:$+F,duration:F,velocity:j,channel:0})});p.playNotes(N,c,0,void 0,a)}},b=()=>{i(4,h=!1),i(1,n=u);for(const I of d)clearTimeout(I);cancelAnimationFrame(m),d=[],p.stop()},v=()=>{b(),s()},E=()=>{h?v():A()};or(b);const x=I=>{const T=2*Math.PI*MA,D=I*T;g.setAttribute("stroke-dasharray",[D,T-D]),g.setAttribute("stroke-dashoffset",1/4*T)};function _(I){me[I?"unshift":"push"](()=>{g=I,i(5,g)})}function C(I){c=I,i(0,c)}function O(I){a=I,i(2,a)}return e.$$set=I=>{"notes"in I&&i(1,n=I.notes),"speed"in I&&i(2,a=I.speed),"callback"in I&&i(7,s=I.callback),"allowSound"in I&&i(3,l=I.allowSound),"sound"in I&&i(0,c=I.sound)},e.$$.update=()=>{e.$$.dirty&1&&p.preloadInstrument(c)},[c,n,a,l,h,g,E,s,_,C,O]}class Ps extends qi{constructor(t){super(),Wi(this,t,$ft,Uft,Ji,{notes:1,speed:2,callback:7,allowSound:3,sound:0})}}function Gft(e,t,i){const n=e.slice();return n[24]=t[i],n}function Vft(e){let t;return{c(){t=K("option"),t.textContent=`${e[24]}`,t.__value=e[24],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Hft(e){let t,i=Ge(["none","channel","sharps","note","drum"]),n=[];for(let a=0;a<5;a+=1)n[a]=Vft(Gft(e,i,a));return{c(){for(let a=0;a<5;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<5;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function Qft(e){let t;return{c(){t=se("example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function zft(e){let t;return{c(){t=se("example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function jft(e){let t;return{c(){t=se("example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function Jft(e){let t;return{c(){t=se("example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function Wft(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b;return n=new M0({props:{onclick:e[18],$$slots:{default:[Qft]},$$scope:{ctx:e}}}),c=new M0({props:{onclick:e[19],$$slots:{default:[zft]},$$scope:{ctx:e}}}),g=new M0({props:{onclick:e[20],$$slots:{default:[jft]},$$scope:{ctx:e}}}),A=new M0({props:{onclick:e[21],$$slots:{default:[Jft]},$$scope:{ctx:e}}}),{c(){t=K("p"),i=se(`1) Play all notes between a mezzo-piano (mp) and a forte (f).
                `),Ut(n.$$.fragment),a=Y(),s=K("p"),l=se(`2) Play a crescendo, starting at below pp and rising until above
                ff smoothly.
                `),Ut(c.$$.fragment),d=Y(),u=K("p"),h=se(`3) Play a descrescendo from above ff to below pp.
                `),Ut(g.$$.fragment),m=Y(),M=K("p"),p=se(`4) Play accents, for example on each 4th note. They should be
                loud enough to be easily distinguishable from the non-accented
                notes.
                `),Ut(A.$$.fragment)},m(v,E){_t(v,t,E),R(t,i),Nt(n,t,null),_t(v,a,E),_t(v,s,E),R(s,l),Nt(c,s,null),_t(v,d,E),_t(v,u,E),R(u,h),Nt(g,u,null),_t(v,m,E),_t(v,M,E),R(M,p),Nt(A,M,null),b=!0},p(v,E){const x={};E&134217728&&(x.$$scope={dirty:E,ctx:v}),n.$set(x);const _={};E&134217728&&(_.$$scope={dirty:E,ctx:v}),c.$set(_);const C={};E&134217728&&(C.$$scope={dirty:E,ctx:v}),g.$set(C);const O={};E&134217728&&(O.$$scope={dirty:E,ctx:v}),A.$set(O)},i(v){b||(Bt(n.$$.fragment,v),Bt(c.$$.fragment,v),Bt(g.$$.fragment,v),Bt(A.$$.fragment,v),b=!0)},o(v){Rt(n.$$.fragment,v),Rt(c.$$.fragment,v),Rt(g.$$.fragment,v),Rt(A.$$.fragment,v),b=!1},d(v){v&&(Ct(t),Ct(a),Ct(s),Ct(d),Ct(u),Ct(m),Ct(M)),Ft(n),Ft(c),Ft(g),Ft(A)}}}function qft(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt;function ot(kt){e[11](kt)}let pt={label:"rounding",title:"You can change between seeing exact bar heights and binned (rounded) heights.",callback:e[7]};e[2]!==void 0&&(pt.checked=e[2]),u=new Tr({props:pt}),me.push(()=>Te(u,"checked",ot));function wt(kt){e[12](kt)}let Mt={title:"The number of most recent notes that are shown as bars.",label:"bars",callback:e[7],step:25,min:25,max:1e3};e[3]!==void 0&&(Mt.value=e[3]),m=new ia({props:Mt}),me.push(()=>Te(m,"value",wt));function xt(kt){e[13](kt)}let dt={label:"color",callback:e[7],$$slots:{default:[Hft]},$$scope:{ctx:e}};e[4]!==void 0&&(dt.value=e[4]),A=new qr({props:dt}),me.push(()=>Te(A,"value",xt));function Ot(kt){e[15](kt)}let At={saveToStorage:e[10],callback:e[7]};e[5]!==void 0&&(At.notes=e[5]),C=new aa({props:At}),me.push(()=>Te(C,"notes",Ot)),P=new Ma({props:{appId:e[0].id,loadData:e[9]}});function jt(kt){e[17](kt)}let bt={callback:e[7]};return e[5]!==void 0&&(bt.notes=e[5]),N=new Ps({props:bt}),me.push(()=>Te(N,"notes",jt)),F=new ua({props:{loadData:e[9],getExportData:e[8],appId:e[0].id}}),z=new Kr({props:{$$slots:{default:[Wft]},$$scope:{ctx:e}}}),V=new Xr({props:{appId:e[0].id}}),J=new $r({props:{noteOn:e[6]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`This app helps practicing controlling the loudness of notes, for
            example to keep at a roughly constant loudness, play accents, or
            smoothly in- or decrease it. The loudness of each note is be shown
            as a bar in chart below. Bar heights can be rounded to the closest
            <a href="https://en.wikipedia.org/wiki/Dynamics_(music)" target="_blank" referrerpolicy="no-referrer">dynamics marking</a> for a clearer overview.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),E=K("div"),x=Y(),_=K("div"),Ut(C.$$.fragment),I=Y(),T=K("button"),T.textContent="example",D=Y(),Ut(P.$$.fragment),L=Y(),Ut(N.$$.fragment),$=Y(),Ut(F.$$.fragment),j=Y(),Ut(z.$$.fragment),Q=Y(),Ut(V.$$.fragment),q=Y(),Ut(J.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control svelte-dntfva"),ut(E,"class","visualization svelte-dntfva"),ut(_,"class","control svelte-dntfva"),ut(t,"class","app")},m(kt,Dt){_t(kt,t,Dt),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(t,v),R(t,E),e[14](E),R(t,x),R(t,_),Nt(C,_,null),R(_,I),R(_,T),R(_,D),Nt(P,_,null),R(_,L),Nt(N,_,null),R(_,$),Nt(F,_,null),R(t,j),Nt(z,t,null),R(t,Q),Nt(V,t,null),R(t,q),Nt(J,t,null),W=!0,et||(mt=Qe(T,"click",e[16]),et=!0)},p(kt,Dt){(!W||Dt&1)&&n!==(n=kt[0].title+"")&&Ue(a,n);const Xt={};!h&&Dt&4&&(h=!0,Xt.checked=kt[2],Se(()=>h=!1)),u.$set(Xt);const ae={};!M&&Dt&8&&(M=!0,ae.value=kt[3],Se(()=>M=!1)),m.$set(ae);const Jt={};Dt&134217728&&(Jt.$$scope={dirty:Dt,ctx:kt}),!b&&Dt&16&&(b=!0,Jt.value=kt[4],Se(()=>b=!1)),A.$set(Jt);const le={};!O&&Dt&32&&(O=!0,le.notes=kt[5],Se(()=>O=!1)),C.$set(le);const Ve={};Dt&1&&(Ve.appId=kt[0].id),P.$set(Ve);const ai={};!U&&Dt&32&&(U=!0,ai.notes=kt[5],Se(()=>U=!1)),N.$set(ai);const Ye={};Dt&1&&(Ye.appId=kt[0].id),F.$set(Ye);const ci={};Dt&134217728&&(ci.$$scope={dirty:Dt,ctx:kt}),z.$set(ci);const ei={};Dt&1&&(ei.appId=kt[0].id),V.$set(ei)},i(kt){W||(Bt(u.$$.fragment,kt),Bt(m.$$.fragment,kt),Bt(A.$$.fragment,kt),Bt(C.$$.fragment,kt),Bt(P.$$.fragment,kt),Bt(N.$$.fragment,kt),Bt(F.$$.fragment,kt),Bt(z.$$.fragment,kt),Bt(V.$$.fragment,kt),Bt(J.$$.fragment,kt),W=!0)},o(kt){Rt(u.$$.fragment,kt),Rt(m.$$.fragment,kt),Rt(A.$$.fragment,kt),Rt(C.$$.fragment,kt),Rt(P.$$.fragment,kt),Rt(N.$$.fragment,kt),Rt(F.$$.fragment,kt),Rt(z.$$.fragment,kt),Rt(V.$$.fragment,kt),Rt(J.$$.fragment,kt),W=!1},d(kt){kt&&Ct(t),Ft(u),Ft(m),Ft(A),e[14](null),Ft(C),Ft(P),Ft(N),Ft(F),Ft(z),Ft(V),Ft(J),et=!1,mt()}}}function Kft(e){let t,i;return t=new da({props:{loadData:e[9],$$slots:{default:[qft]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&134217791&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let Xft=900,Yft=300;function Zft(e,t,i){let{appInfo:n}=t,a;const s=Ku;let l=!1,c=50,d="none",u,h=[];const g=L=>{h.length===0&&(u=L.timestamp);const U={time:(L.timestamp-u)/1e3,velocity:L.rawVelocity,number:L.note.number,note:L.note.name+(L.note.accidental??""),isSharp:!!L.note.accidental,channel:L.message.channel};i(5,h=[...h,U]),m()},m=()=>{let L=h;if(l){const j=[...s.keys()];L=h.map(z=>{const Q=xc(j,V=>Math.abs(z.velocity-V));return{...z,velocity:j[Q]}})}const N=[...s.keys()];let U,$;if(d==="sharps")$=["natural","sharp"],U=["#ddd","#888"];else if(d==="channel")U=U0,$=Ci(U.length);else if(d==="note")$=F9,U=wh.noteColormapAccessible2;else if(d==="drum"){const j=[...s8.values()].map(z=>z.label);$=[...new Set(j),"other"],U=U0}const F=Sn({width:Xft,height:Yft,marginLeft:45,marginRight:120,x:{axis:!1},y:{domain:[0,128]},color:{legend:d!=="none",type:"categorical",domain:$,range:U},marks:[Md(L.slice(-c),{x:(j,z)=>z,y:j=>j.velocity,fill:j=>{var z;if(d==="none")return"#ddd";if(d==="channel")return j.channel%$.length;if(d==="sharps")return j.isSharp?"sharp":"natural";if(d==="drum")return((z=s8.get(j.number))==null?void 0:z.label)??"other";if(d==="note")return j.note},rx1y1:4,rx2y1:4,inset:0,dx:.5}),zr(N,{stroke:"#888"}),Io({anchor:"left",ticks:N,tickFormat:j=>s.get(j),tickSize:0}),Io({anchor:"right",ticks:N,tickFormat:j=>fdt.get(s.get(j)),tickSize:0})]});i(1,a.textContent="",a),a.appendChild(F)};sr(m);const M=()=>({isBinning:l,barLimit:c,notes:h}),p=L=>{A(),i(2,l=L.isBinning),i(3,c=L.barLimit),i(5,h=L.notes),m()},A=()=>{const L=JSON.stringify(h);h.length>0&&L!==JSON.stringify(Nx.notes)&&L!==JSON.stringify(Fx.notes)&&L!==JSON.stringify(Ux.notes)&&L!==JSON.stringify(zg.notes)&&ga(n.id,M())};or(A);function b(L){l=L,i(2,l)}function v(L){c=L,i(3,c)}function E(L){d=L,i(4,d)}function x(L){me[L?"unshift":"push"](()=>{a=L,i(1,a)})}function _(L){h=L,i(5,h)}const C=()=>p(zg);function O(L){h=L,i(5,h)}const I=()=>p(Nx),T=()=>p(Fx),D=()=>p(Ux),P=()=>p(zg);return e.$$set=L=>{"appInfo"in L&&i(0,n=L.appInfo)},[n,a,l,c,d,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P]}class t1t extends qi{constructor(t){super(),Wi(this,t,Zft,Kft,Ji,{appInfo:0})}}function zx(e,t,i){const n=e.slice();return n[13]=t[i],n}function jx(e,t,i){const n=e.slice();return n[16]=t[i],n}function Jx(e){let t,i=e[16]+"",n;return{c(){t=K("option"),n=se(i),t.__value=e[16],Vi(t,t.__value)},m(a,s){_t(a,t,s),R(t,n)},p:Fe,d(a){a&&Ct(t)}}}function Wx(e){let t,i=e[13]+"",n,a;return{c(){t=K("option"),n=se(i),t.__value=a=e[13],Vi(t,t.__value)},m(s,l){_t(s,t,l),R(t,n)},p(s,l){l&16&&i!==(i=s[13]+"")&&Ue(n,i),l&16&&a!==(a=s[13])&&(t.__value=a,Vi(t,t.__value))},d(s){s&&Ct(t)}}}function e1t(e){let t,i,n,a,s,l,c,d=Ge(e[5]),u=[];for(let m=0;m<d.length;m+=1)u[m]=Jx(jx(e,d,m));let h=Ge(e[4]),g=[];for(let m=0;m<h.length;m+=1)g[m]=Wx(zx(e,h,m));return{c(){t=K("label"),i=se(`scale
    `),n=K("select");for(let m=0;m<u.length;m+=1)u[m].c();a=Y(),s=K("select");for(let m=0;m<g.length;m+=1)g[m].c();ut(n,"class","select1 svelte-1ks8yfh"),n.disabled=e[3],e[0]===void 0&&xs(()=>e[10].call(n)),ut(s,"class","select2 svelte-1ks8yfh"),s.disabled=e[3],e[1]===void 0&&xs(()=>e[11].call(s))},m(m,M){_t(m,t,M),R(t,i),R(t,n);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(n,null);E9(n,e[0],!0),R(t,a),R(t,s);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(s,null);E9(s,e[1],!0),l||(c=[Qe(n,"change",e[10]),Qe(n,"change",function(){V0(e[2])&&e[2].apply(this,arguments)}),Qe(n,"mousewheel",e[6]),Qe(s,"change",e[11]),Qe(s,"change",function(){V0(e[2])&&e[2].apply(this,arguments)}),Qe(s,"mousewheel",e[7])],l=!0)},p(m,[M]){if(e=m,M&32){d=Ge(e[5]);let p;for(p=0;p<d.length;p+=1){const A=jx(e,d,p);u[p]?u[p].p(A,M):(u[p]=Jx(A),u[p].c(),u[p].m(n,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=d.length}if(M&8&&(n.disabled=e[3]),M&33&&E9(n,e[0]),M&16){h=Ge(e[4]);let p;for(p=0;p<h.length;p+=1){const A=zx(e,h,p);g[p]?g[p].p(A,M):(g[p]=Wx(A),g[p].c(),g[p].m(s,null))}for(;p<g.length;p+=1)g[p].d(1);g.length=h.length}M&8&&(s.disabled=e[3]),M&18&&E9(s,e[1])},i:Fe,o:Fe,d(m){m&&Ct(t),Oi(u,m),Oi(g,m),l=!1,ar(c)}}}function i1t(e,t,i){let n,{scaleRoot:a="C"}=t,{scaleType:s="major"}=t,{scaleInfo:l=null}=t,{callback:c=()=>{}}=t,{disabled:d=!1}=t,{allowedScales:u=null}=t;const h=dy,g=(b,v)=>{i(8,l=q9(`${b} ${v}`))},m=b=>{if(b.preventDefault(),d)return;let v=h.indexOf(a);if(v===-1)return;let E;b.deltaY<0?E=v>0?v-1:h.length-1:E=v<h.length-1?v+1:0,i(0,a=h[E]),c()},M=b=>{if(b.preventDefault(),d)return;let v=n.indexOf(s);if(v===-1)return;let E;b.deltaY<0?E=v>0?v-1:n.length-1:E=v<n.length-1?v+1:0,i(1,s=n[E]),c()};function p(){a=xl(this),i(0,a),i(5,h)}function A(){s=xl(this),i(1,s),i(4,n),i(9,u)}return e.$$set=b=>{"scaleRoot"in b&&i(0,a=b.scaleRoot),"scaleType"in b&&i(1,s=b.scaleType),"scaleInfo"in b&&i(8,l=b.scaleInfo),"callback"in b&&i(2,c=b.callback),"disabled"in b&&i(3,d=b.disabled),"allowedScales"in b&&i(9,u=b.allowedScales)},e.$$.update=()=>{e.$$.dirty&512&&i(4,n=u??By().sort()),e.$$.dirty&3&&g(a,s)},[a,s,c,d,n,h,m,M,l,u,p,A]}class Ef extends qi{constructor(t){super(),Wi(this,t,i1t,e1t,Ji,{scaleRoot:0,scaleType:1,scaleInfo:8,callback:2,disabled:3,allowedScales:9})}}const n1t=200,r1t=!0,a1t="A",s1t="minor",o1t=[{time:7.219,number:66,velocity:18,string:5,fret:26,channel:6},{time:7.232,number:48,velocity:86,string:5,fret:8,channel:6},{time:7.561,number:50,velocity:54,string:5,fret:10,channel:6},{time:7.834,number:51,velocity:15,string:5,fret:11,channel:6},{time:7.87,number:52,velocity:20,string:5,fret:12,channel:6},{time:7.986,number:51,velocity:10,string:5,fret:11,channel:6},{time:8.029,number:53,velocity:10,string:4,fret:8,channel:5},{time:8.045,number:53,velocity:23,string:4,fret:8,channel:5},{time:8.262,number:55,velocity:39,string:4,fret:10,channel:5},{time:8.48,number:56,velocity:26,string:4,fret:11,channel:5},{time:11.407,number:48,velocity:20,string:5,fret:8,channel:6},{time:11.661,number:50,velocity:42,string:5,fret:10,channel:6},{time:11.887,number:52,velocity:35,string:5,fret:12,channel:6},{time:12.074,number:53,velocity:28,string:4,fret:8,channel:5},{time:12.275,number:55,velocity:11,string:4,fret:10,channel:5},{time:12.461,number:57,velocity:41,string:4,fret:12,channel:5},{time:12.725,number:59,velocity:88,string:3,fret:9,channel:4},{time:12.965,number:60,velocity:70,string:3,fret:10,channel:4},{time:13.167,number:62,velocity:61,string:3,fret:12,channel:4},{time:13.195,number:62,velocity:34,string:3,fret:12,channel:4},{time:13.384,number:63,velocity:10,string:2,fret:8,channel:3},{time:13.4,number:64,velocity:10,string:2,fret:9,channel:3},{time:13.544,number:65,velocity:10,string:2,fret:10,channel:3},{time:13.581,number:65,velocity:16,string:2,fret:10,channel:3},{time:13.782,number:67,velocity:42,string:2,fret:12,channel:3},{time:13.993,number:69,velocity:10,string:1,fret:10,channel:2},{time:14.004,number:69,velocity:64,string:1,fret:10,channel:2},{time:14.197,number:71,velocity:42,string:1,fret:12,channel:2},{time:14.216,number:71,velocity:45,string:1,fret:12,channel:2},{time:14.386,number:72,velocity:23,string:1,fret:13,channel:2},{time:14.424,number:72,velocity:60,string:1,fret:13,channel:2},{time:14.605,number:74,velocity:41,string:0,fret:10,channel:1},{time:14.826,number:76,velocity:16,string:0,fret:12,channel:1},{time:15.049,number:77,velocity:76,string:0,fret:13,channel:1},{time:15.369,number:40,velocity:10,string:5,fret:0,channel:6},{time:28.428,number:35,velocity:63,string:5,fret:-5,channel:6},{time:28.462,number:43,velocity:53,string:5,fret:3,channel:6},{time:28.657,number:44,velocity:53,string:5,fret:4,channel:6},{time:28.693,number:45,velocity:49,string:5,fret:5,channel:6},{time:28.907,number:47,velocity:69,string:5,fret:7,channel:6},{time:29.121,number:48,velocity:74,string:4,fret:3,channel:5},{time:29.344,number:50,velocity:45,string:4,fret:5,channel:5},{time:29.62,number:51,velocity:59,string:4,fret:6,channel:5},{time:29.649,number:52,velocity:51,string:4,fret:7,channel:5},{time:29.778,number:54,velocity:86,string:3,fret:4,channel:4},{time:29.98,number:55,velocity:61,string:3,fret:5,channel:4},{time:30.16,number:56,velocity:46,string:3,fret:6,channel:4},{time:30.182,number:57,velocity:76,string:3,fret:7,channel:4},{time:30.38,number:59,velocity:63,string:2,fret:4,channel:3},{time:30.567,number:60,velocity:49,string:2,fret:5,channel:3},{time:30.577,number:60,velocity:40,string:2,fret:5,channel:3},{time:30.754,number:62,velocity:28,string:2,fret:7,channel:3},{time:30.787,number:62,velocity:51,string:2,fret:7,channel:3},{time:30.982,number:64,velocity:38,string:1,fret:5,channel:2},{time:31.174,number:66,velocity:25,string:1,fret:7,channel:2},{time:31.365,number:67,velocity:10,string:1,fret:8,channel:2},{time:31.39,number:67,velocity:54,string:1,fret:8,channel:2},{time:31.584,number:69,velocity:72,string:0,fret:5,channel:1},{time:31.77,number:71,velocity:54,string:0,fret:7,channel:1},{time:31.996,number:72,velocity:83,string:0,fret:8,channel:1},{time:42.253,number:45,velocity:29,string:5,fret:5,channel:6},{time:42.421,number:46,velocity:38,string:5,fret:6,channel:6},{time:42.439,number:46,velocity:99,string:5,fret:6,channel:6},{time:42.495,number:47,velocity:91,string:5,fret:7,channel:6},{time:42.623,number:48,velocity:82,string:5,fret:8,channel:6},{time:42.824,number:50,velocity:51,string:4,fret:5,channel:5},{time:42.95,number:52,velocity:66,string:4,fret:7,channel:5},{time:43.112,number:53,velocity:86,string:4,fret:8,channel:5},{time:43.237,number:52,velocity:10,string:3,fret:2,channel:4},{time:43.258,number:52,velocity:70,string:4,fret:7,channel:5},{time:43.439,number:50,velocity:65,string:4,fret:5,channel:5},{time:43.609,number:46,velocity:79,string:5,fret:6,channel:6},{time:62.003,number:45,velocity:52,string:5,fret:5,channel:6},{time:62.237,number:46,velocity:39,string:5,fret:6,channel:6},{time:62.288,number:47,velocity:39,string:5,fret:7,channel:6},{time:62.487,number:48,velocity:79,string:5,fret:8,channel:6},{time:62.719,number:50,velocity:69,string:4,fret:5,channel:5},{time:62.948,number:52,velocity:47,string:4,fret:7,channel:5},{time:63.181,number:53,velocity:62,string:4,fret:8,channel:5},{time:63.432,number:55,velocity:101,string:3,fret:5,channel:4},{time:63.668,number:57,velocity:60,string:3,fret:7,channel:4},{time:63.908,number:59,velocity:58,string:3,fret:9,channel:4},{time:64.129,number:60,velocity:62,string:2,fret:5,channel:3},{time:64.342,number:62,velocity:40,string:2,fret:7,channel:3},{time:64.565,number:64,velocity:69,string:2,fret:9,channel:3},{time:64.808,number:65,velocity:74,string:1,fret:6,channel:2},{time:65.075,number:67,velocity:63,string:1,fret:8,channel:2},{time:65.335,number:69,velocity:46,string:1,fret:10,channel:2},{time:65.381,number:69,velocity:106,string:1,fret:10,channel:2},{time:65.724,number:71,velocity:85,string:0,fret:7,channel:1},{time:66.051,number:72,velocity:62,string:0,fret:8,channel:1},{time:66.395,number:74,velocity:43,string:0,fret:10,channel:1},{time:66.42,number:74,velocity:107,string:0,fret:10,channel:1},{time:67.3,number:57,velocity:16,string:5,fret:17,channel:6},{time:67.339,number:47,velocity:42,string:5,fret:7,channel:6},{time:67.599,number:47,velocity:16,string:5,fret:7,channel:6},{time:67.628,number:48,velocity:28,string:5,fret:8,channel:6},{time:67.824,number:61,velocity:20,string:5,fret:21,channel:6},{time:67.847,number:50,velocity:51,string:5,fret:10,channel:6},{time:68.044,number:52,velocity:37,string:4,fret:7,channel:5},{time:68.264,number:53,velocity:18,string:4,fret:8,channel:5},{time:68.441,number:55,velocity:10,string:4,fret:10,channel:5},{time:68.473,number:55,velocity:38,string:4,fret:10,channel:5},{time:68.674,number:57,velocity:59,string:3,fret:7,channel:4},{time:68.861,number:59,velocity:40,string:3,fret:9,channel:4},{time:68.874,number:59,velocity:34,string:3,fret:9,channel:4},{time:69.05,number:60,velocity:28,string:3,fret:10,channel:4},{time:69.096,number:60,velocity:66,string:3,fret:10,channel:4},{time:69.307,number:62,velocity:76,string:2,fret:7,channel:3},{time:69.551,number:64,velocity:38,string:2,fret:9,channel:3},{time:69.747,number:65,velocity:20,string:2,fret:10,channel:3},{time:69.779,number:65,velocity:54,string:2,fret:10,channel:3},{time:70.005,number:61,velocity:10,string:1,fret:2,channel:2},{time:70.013,number:67,velocity:82,string:1,fret:8,channel:2},{time:70.211,number:68,velocity:59,string:1,fret:9,channel:2},{time:70.256,number:69,velocity:20,string:1,fret:10,channel:2},{time:70.464,number:71,velocity:53,string:1,fret:12,channel:2},{time:70.66,number:72,velocity:69,string:0,fret:8,channel:1},{time:70.887,number:74,velocity:34,string:0,fret:10,channel:1},{time:71.097,number:75,velocity:20,string:0,fret:11,channel:1},{time:71.109,number:59,velocity:116,string:1,fret:0,channel:2},{time:71.133,number:76,velocity:62,string:0,fret:12,channel:1},{time:71.407,number:48,velocity:100,string:5,fret:8,channel:6},{time:71.676,number:50,velocity:82,string:5,fret:10,channel:6},{time:71.836,number:52,velocity:75,string:5,fret:12,channel:6},{time:71.865,number:52,velocity:51,string:5,fret:12,channel:6},{time:72.055,number:53,velocity:74,string:4,fret:8,channel:5},{time:72.227,number:54,velocity:52,string:4,fret:9,channel:5},{time:72.278,number:55,velocity:46,string:4,fret:10,channel:5},{time:72.445,number:57,velocity:26,string:4,fret:12,channel:5},{time:72.484,number:57,velocity:28,string:4,fret:12,channel:5},{time:72.688,number:59,velocity:94,string:3,fret:9,channel:4},{time:72.909,number:60,velocity:80,string:3,fret:10,channel:4},{time:73.112,number:62,velocity:76,string:3,fret:12,channel:4},{time:73.331,number:64,velocity:69,string:2,fret:9,channel:3},{time:73.552,number:65,velocity:39,string:2,fret:10,channel:3},{time:73.736,number:66,velocity:16,string:2,fret:11,channel:3},{time:73.768,number:67,velocity:54,string:2,fret:12,channel:3},{time:73.948,number:69,velocity:10,string:1,fret:10,channel:2},{time:73.96,number:69,velocity:85,string:1,fret:10,channel:2},{time:74.16789999985694,number:71,velocity:28,string:1,fret:12,channel:2},{time:74.318,number:72,velocity:25,string:1,fret:13,channel:2},{time:74.37,number:72,velocity:72,string:1,fret:13,channel:2},{time:74.578,number:74,velocity:68,string:0,fret:10,channel:1},{time:74.809,number:76,velocity:16,string:0,fret:12,channel:1},{time:74.999,number:77,velocity:11,string:0,fret:13,channel:1},{time:75.06,number:77,velocity:46,string:0,fret:13,channel:1},{time:75.269,number:71,velocity:10,string:1,fret:12,channel:2},{time:75.274,number:50,velocity:10,string:5,fret:10,channel:6},{time:75.321,number:50,velocity:10,string:3,fret:0,channel:4},{time:75.324,number:50,velocity:72,string:5,fret:10,channel:6},{time:75.562,number:52,velocity:51,string:5,fret:12,channel:6},{time:75.843,number:53,velocity:66,string:5,fret:13,channel:6},{time:76.087,number:55,velocity:79,string:4,fret:10,channel:5},{time:76.363,number:57,velocity:64,string:4,fret:12,channel:5},{time:76.597,number:59,velocity:52,string:4,fret:14,channel:5},{time:76.619,number:59,velocity:68,string:4,fret:14,channel:5},{time:76.866,number:61,velocity:10,string:3,fret:11,channel:4},{time:76.877,number:60,velocity:96,string:3,fret:10,channel:4},{time:77.147,number:62,velocity:79,string:3,fret:12,channel:4},{time:77.412,number:64,velocity:94,string:3,fret:14,channel:4},{time:77.697,number:65,velocity:88,string:2,fret:10,channel:3},{time:77.991,number:67,velocity:64,string:2,fret:12,channel:3},{time:78.304,number:69,velocity:76,string:2,fret:14,channel:3},{time:78.658,number:64,velocity:10,string:1,fret:5,channel:2},{time:78.67,number:70,velocity:112,string:1,fret:11,channel:2},{time:79.132,number:71,velocity:101,string:1,fret:12,channel:2},{time:79.571,number:72,velocity:78,string:1,fret:13,channel:2},{time:79.594,number:72,velocity:79,string:1,fret:13,channel:2},{time:79.862,number:73,velocity:55,string:1,fret:14,channel:2},{time:79.898,number:74,velocity:61,string:1,fret:15,channel:2},{time:80.154,number:76,velocity:89,string:0,fret:12,channel:1},{time:80.428,number:77,velocity:66,string:0,fret:13,channel:1},{time:80.468,number:77,velocity:54,string:0,fret:13,channel:1},{time:80.718,number:78,velocity:25,string:0,fret:14,channel:1},{time:80.751,number:79,velocity:45,string:0,fret:15,channel:1},{time:81.041,number:52,velocity:62,string:5,fret:12,channel:6},{time:81.30789999985694,number:53,velocity:33,string:5,fret:13,channel:6},{time:81.487,number:54,velocity:16,string:5,fret:14,channel:6},{time:81.516,number:55,velocity:51,string:5,fret:15,channel:6},{time:81.617,number:54,velocity:29,string:5,fret:14,channel:6},{time:81.691,number:57,velocity:61,string:4,fret:12,channel:5},{time:81.865,number:59,velocity:32,string:4,fret:14,channel:5},{time:82.008,number:60,velocity:10,string:4,fret:15,channel:5},{time:82.198,number:62,velocity:75,string:3,fret:12,channel:4},{time:82.358,number:63,velocity:48,string:3,fret:13,channel:4},{time:82.385,number:64,velocity:25,string:3,fret:14,channel:4},{time:82.517,number:65,velocity:10,string:3,fret:15,channel:4},{time:82.56,number:63,velocity:15,string:3,fret:13,channel:4},{time:82.573,number:65,velocity:15,string:3,fret:15,channel:4},{time:82.717,number:67,velocity:64,string:2,fret:12,channel:3},{time:82.891,number:69,velocity:13,string:2,fret:14,channel:3},{time:83.062,number:71,velocity:20,string:2,fret:16,channel:3},{time:83.185,number:70,velocity:10,string:2,fret:15,channel:3},{time:83.264,number:71,velocity:89,string:1,fret:12,channel:2},{time:83.706,number:72,velocity:80,string:1,fret:13,channel:2},{time:84.126,number:73,velocity:59,string:1,fret:14,channel:2},{time:84.156,number:74,velocity:64,string:1,fret:15,channel:2},{time:84.421,number:76,velocity:88,string:1,fret:17,channel:2},{time:84.661,number:77,velocity:66,string:0,fret:13,channel:1},{time:84.867,number:79,velocity:48,string:0,fret:15,channel:1},{time:84.898,number:79,velocity:64,string:0,fret:15,channel:1},{time:85.144,number:81,velocity:35,string:0,fret:17,channel:1},{time:85.159,number:81,velocity:104,string:0,fret:17,channel:1},{time:86.08,number:54,velocity:15,string:5,fret:14,channel:6},{time:86.09,number:54,velocity:33,string:5,fret:14,channel:6},{time:86.836,number:55,velocity:30,string:5,fret:15,channel:6},{time:87.076,number:57,velocity:10,string:5,fret:17,channel:6},{time:87.255,number:65,velocity:10,string:4,fret:20,channel:5},{time:87.277,number:58,velocity:10,string:4,fret:13,channel:5},{time:87.297,number:59,velocity:73,string:4,fret:14,channel:5},{time:87.929,number:53,velocity:10,string:5,fret:13,channel:6},{time:87.953,number:53,velocity:86,string:5,fret:13,channel:6},{time:88.263,number:54,velocity:58,string:5,fret:14,channel:6},{time:88.281,number:55,velocity:44,string:5,fret:15,channel:6},{time:88.45,number:57,velocity:21,string:5,fret:17,channel:6},{time:88.469,number:56,velocity:29,string:5,fret:16,channel:6},{time:88.486,number:57,velocity:65,string:5,fret:17,channel:6},{time:88.651,number:59,velocity:13,string:4,fret:14,channel:5},{time:88.667,number:59,velocity:84,string:4,fret:14,channel:5},{time:88.853,number:60,velocity:49,string:4,fret:15,channel:5},{time:89.03,number:62,velocity:64,string:4,fret:17,channel:5},{time:89.195,number:64,velocity:23,string:3,fret:14,channel:4},{time:89.215,number:64,velocity:107,string:3,fret:14,channel:4},{time:89.425,number:65,velocity:80,string:3,fret:15,channel:4},{time:89.657,number:67,velocity:49,string:3,fret:17,channel:4},{time:89.688,number:67,velocity:110,string:3,fret:17,channel:4},{time:90.017,number:69,velocity:94,string:2,fret:14,channel:3},{time:90.527,number:71,velocity:72,string:2,fret:16,channel:3},{time:90.562,number:71,velocity:80,string:2,fret:16,channel:3},{time:91.016,number:72,velocity:109,string:2,fret:17,channel:3},{time:91.325,number:73,velocity:92,string:2,fret:18,channel:3},{time:91.411,number:72,velocity:88,string:2,fret:17,channel:3},{time:91.843,number:74,velocity:103,string:1,fret:15,channel:2},{time:92.442,number:76,velocity:76,string:1,fret:17,channel:2},{time:92.466,number:76,velocity:94,string:1,fret:17,channel:2},{time:92.915,number:77,velocity:113,string:1,fret:18,channel:2},{time:93.36,number:79,velocity:99,string:0,fret:15,channel:1},{time:93.798,number:79,velocity:110,string:0,fret:15,channel:1},{time:94.263,number:81,velocity:111,string:0,fret:17,channel:1},{time:94.662,number:82,velocity:82,string:0,fret:18,channel:1},{time:94.692,number:83,velocity:117,string:0,fret:19,channel:1},{time:95.906,number:83,velocity:10,string:0,fret:19,channel:1},{time:95.923,number:66,velocity:30,string:0,fret:2,channel:1},{time:95.931,number:84,velocity:116,string:0,fret:20,channel:1},{time:97.088,number:64,velocity:10,string:2,fret:9,channel:3},{time:97.099,number:63,velocity:10,string:2,fret:8,channel:3},{time:97.115,number:62,velocity:10,string:2,fret:7,channel:3},{time:119.823,number:45,velocity:26,string:5,fret:5,channel:6},{time:120.768,number:46,velocity:42,string:5,fret:6,channel:6},{time:120.811,number:45,velocity:42,string:5,fret:5,channel:6},{time:120.913,number:46,velocity:38,string:5,fret:6,channel:6},{time:120.971,number:47,velocity:42,string:5,fret:7,channel:6},{time:122.494,number:66,velocity:10,string:1,fret:7,channel:2},{time:122.495,number:68,velocity:10,string:3,fret:18,channel:4},{time:122.496,number:68,velocity:10,string:4,fret:23,channel:5},{time:128.328,number:51,velocity:69,string:5,fret:11,channel:6},{time:130.462,number:52,velocity:71,string:5,fret:12,channel:6},{time:131.418,number:40,velocity:46,string:5,fret:0,channel:6},{time:135.011,number:55,velocity:79,string:5,fret:15,channel:6}],l1t="fretboard-heatmap",c1t="0.13.4",u1t="2024-09-17T13:22:57.806Z",qx={pastNoteCount:n1t,showScale:r1t,scaleRoot:a1t,scaleType:s1t,notes:o1t,_appId:l1t,_softwareVersion:c1t,_date:u1t};function d1t(e){let t,i,n,a,s,l,c;return{c(){t=K("p"),t.textContent="1) Play the note A over the whole fretboard.",i=Y(),n=K("p"),n.textContent=`2) Play the A minor pentatonic scale over the whole fretboard,
                string by string. Check if you played wrong notes.`,a=Y(),s=K("p"),s.textContent="3) Improvise in A minor pentatonic over the whole fretboard.",l=Y(),c=K("p"),c.textContent=`4) Improvise in a scale you do not know yet over the whole
                fretboard.`},m(d,u){_t(d,t,u),_t(d,i,u),_t(d,n,u),_t(d,a,u),_t(d,s,u),_t(d,l,u),_t(d,c,u)},p:Fe,d(d){d&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c))}}}function h1t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt;function wt(Jt){e[13](Jt)}let Mt={callback:e[9]};e[3]!==void 0&&(Mt.value=e[3]),u=new Kc({props:Mt}),me.push(()=>Te(u,"value",wt));function xt(Jt){e[14](Jt)}let dt={label:"show scale",title:"If active, the color hue will show whether notes are in the selected scale or not",callback:e[9]};e[4]!==void 0&&(dt.checked=e[4]),m=new Tr({props:dt}),me.push(()=>Te(m,"checked",xt));function Ot(Jt){e[15](Jt)}function At(Jt){e[16](Jt)}function jt(Jt){e[17](Jt)}let bt={callback:e[9],disabled:!e[4]};e[5]!==void 0&&(bt.scaleRoot=e[5]),e[6]!==void 0&&(bt.scaleType=e[6]),e[1]!==void 0&&(bt.scaleInfo=e[1]),A=new Ef({props:bt}),me.push(()=>Te(A,"scaleRoot",Ot)),me.push(()=>Te(A,"scaleType",At)),me.push(()=>Te(A,"scaleInfo",jt));function kt(Jt){e[19](Jt)}let Dt={saveToStorage:e[12],callback:e[9]};e[7]!==void 0&&(Dt.notes=e[7]),I=new aa({props:Dt}),me.push(()=>Te(I,"notes",kt)),N=new Ma({props:{appId:e[0].id,loadData:e[11]}});function Xt(Jt){e[21](Jt)}let ae={callback:e[9]};return e[7]!==void 0&&(ae.notes=e[7]),$=new Ps({props:ae}),me.push(()=>Te($,"notes",Xt)),z=new ua({props:{loadData:e[11],getExportData:e[10],appId:e[0].id}}),V=new Kr({props:{$$slots:{default:[d1t]},$$scope:{ctx:e}}}),J=new Xr({props:{appId:e[0].id}}),et=new $r({props:{noteOn:e[8]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing scales and improvisation on a guitar. The
            heatmap below shows how often you played each fretboard position. If
            a scale is shown, the color hue will tell you whether a note you
            played belongs to the scale or not.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),x=Y(),_=K("div"),C=Y(),O=K("div"),Ut(I.$$.fragment),D=Y(),P=K("button"),P.textContent="example",L=Y(),Ut(N.$$.fragment),U=Y(),Ut($.$$.fragment),j=Y(),Ut(z.$$.fragment),Q=Y(),Ut(V.$$.fragment),q=Y(),Ut(J.$$.fragment),W=Y(),Ut(et.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(_,"class","visualization"),ut(O,"class","control"),ut(t,"class","app")},m(Jt,le){_t(Jt,t,le),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(t,x),R(t,_),e[18](_),R(t,C),R(t,O),Nt(I,O,null),R(O,D),R(O,P),R(O,L),Nt(N,O,null),R(O,U),Nt($,O,null),R(O,j),Nt(z,O,null),R(t,Q),Nt(V,t,null),R(t,q),Nt(J,t,null),R(t,W),Nt(et,t,null),mt=!0,ot||(pt=Qe(P,"click",e[20]),ot=!0)},p(Jt,le){(!mt||le&1)&&n!==(n=Jt[0].title+"")&&Ue(a,n);const Ve={};!h&&le&8&&(h=!0,Ve.value=Jt[3],Se(()=>h=!1)),u.$set(Ve);const ai={};!M&&le&16&&(M=!0,ai.checked=Jt[4],Se(()=>M=!1)),m.$set(ai);const Ye={};le&16&&(Ye.disabled=!Jt[4]),!b&&le&32&&(b=!0,Ye.scaleRoot=Jt[5],Se(()=>b=!1)),!v&&le&64&&(v=!0,Ye.scaleType=Jt[6],Se(()=>v=!1)),!E&&le&2&&(E=!0,Ye.scaleInfo=Jt[1],Se(()=>E=!1)),A.$set(Ye);const ci={};!T&&le&128&&(T=!0,ci.notes=Jt[7],Se(()=>T=!1)),I.$set(ci);const ei={};le&1&&(ei.appId=Jt[0].id),N.$set(ei);const Ze={};!F&&le&128&&(F=!0,Ze.notes=Jt[7],Se(()=>F=!1)),$.$set(Ze);const be={};le&1&&(be.appId=Jt[0].id),z.$set(be);const ve={};le&134217728&&(ve.$$scope={dirty:le,ctx:Jt}),V.$set(ve);const re={};le&1&&(re.appId=Jt[0].id),J.$set(re)},i(Jt){mt||(Bt(u.$$.fragment,Jt),Bt(m.$$.fragment,Jt),Bt(A.$$.fragment,Jt),Bt(I.$$.fragment,Jt),Bt(N.$$.fragment,Jt),Bt($.$$.fragment,Jt),Bt(z.$$.fragment,Jt),Bt(V.$$.fragment,Jt),Bt(J.$$.fragment,Jt),Bt(et.$$.fragment,Jt),mt=!0)},o(Jt){Rt(u.$$.fragment,Jt),Rt(m.$$.fragment,Jt),Rt(A.$$.fragment,Jt),Rt(I.$$.fragment,Jt),Rt(N.$$.fragment,Jt),Rt($.$$.fragment,Jt),Rt(z.$$.fragment,Jt),Rt(V.$$.fragment,Jt),Rt(J.$$.fragment,Jt),Rt(et.$$.fragment,Jt),mt=!1},d(Jt){Jt&&Ct(t),Ft(u),Ft(m),Ft(A),e[18](null),Ft(I),Ft(N),Ft($),Ft(z),Ft(V),Ft(J),Ft(et),ot=!1,pt()}}}function f1t(e){let t,i;return t=new da({props:{loadData:e[11],$$slots:{default:[h1t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&134217983&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let Kx=900,Xx=6,Jg=24;function m1t(e,t,i){let n,{appInfo:a}=t,s=[64,59,55,50,45,40];const l=s.map(Ts);let c,d,u=200,h=!0,g="A",m="minor pentatonic",M=0,p=[];const A=($,F,j,z)=>{if(!z)return!1;const Q=(j[$]+F)%12;return n.has(Q)},b=$=>{p.length===0&&(M=$.timestamp);const F=($.timestamp-M)/1e3,j=$.message.channel-1,z={time:F,number:$.note.number,velocity:$.rawVelocity,string:j,fret:$.note.number-s[j],channel:$.message.channel};i(7,p=[...p,z]),v()},v=()=>{const $=p.slice(-u),F=(Kx-100)/25,j=Sl($,Q=>Q.string,Q=>Q.fret).flatMap(([Q,V])=>V.map(([q,J])=>({string:Q,fret:q,count:J.length}))),z=Sn({width:Kx,aspectRatio:1,marginLeft:50,marginBottom:40,padding:0,x:{domain:Ci(0,Jg+1),ticks:Ci(0,Jg+1),tickSize:0},y:{domain:Ci(0,Xx),tickFormat:Q=>l[Q],tickSize:0},color:{legend:h,marginLeft:100,width:400,scheme:"tableau10",domain:["in scale","not in scale"]},marks:[k9(Ci(0,Jg+1),{stroke:"#ddd",dx:F/2}),zr(Ci(0,Xx),{stroke:"#ddd",strokeWidth:Q=>Math.sqrt(Q+1)}),js([3,5,7,9,15,17,19,21],{x:Q=>Q,y:2,dy:F/2,fill:"#ddd",r:8}),js([12,12,24,24],{x:Q=>Q,y:(Q,V)=>V%2===0?1:3,dy:F/2,fill:"#ddd",r:8}),a8(j,{x:"fret",y:"string",fill:Q=>h?A(Q.string,Q.fret,s,d)?"in scale":"not in scale":"#222",opacity:"count",inset:5,rx:10,tip:!0}),Qr(j,{text:Q=>Q.count,x:"fret",y:"string",fill:"black",stroke:"white",strokeWidth:3,paintOrder:"stroke"})]});i(2,c.textContent="",c),c.appendChild(z)};sr(v);const E=()=>({pastNoteCount:u,showScale:h,scaleRoot:g,scaleType:m,notes:p}),x=$=>{_(),i(3,u=$.pastNoteCount),i(4,h=$.showScale),i(5,g=$.scaleRoot),i(6,m=$.scaleType),i(7,p=$.notes),v()},_=()=>{p.length>0&&JSON.stringify(p)!==JSON.stringify(qx.notes)&&ga(a.id,E())};or(_);function C($){u=$,i(3,u)}function O($){h=$,i(4,h)}function I($){g=$,i(5,g)}function T($){m=$,i(6,m)}function D($){d=$,i(1,d)}function P($){me[$?"unshift":"push"](()=>{c=$,i(2,c)})}function L($){p=$,i(7,p)}const N=()=>x(qx);function U($){p=$,i(7,p)}return e.$$set=$=>{"appInfo"in $&&i(0,a=$.appInfo)},e.$$.update=()=>{e.$$.dirty&2&&(n=new Set(d?d.notes.map($=>Ro.get($)):[]))},[a,d,c,u,h,g,m,p,b,v,E,x,_,C,O,I,T,D,P,L,N,U]}class p1t extends qi{constructor(t){super(),Wi(this,t,m1t,f1t,Ji,{appInfo:0})}}const g1t="A",M1t="minor pentatonic",A1t=[{number:40,velocity:37,time:2350918,channel:6,string:5,fret:0},{number:51,velocity:25,time:2352454,channel:5,string:4,fret:6},{number:53,velocity:26,time:2.3532251000000015e6,channel:5,string:4,fret:8},{number:54,velocity:26,time:2354759,channel:5,string:4,fret:9},{number:54,velocity:53,time:2355472,channel:5,string:4,fret:9},{number:54,velocity:60,time:2355922,channel:5,string:4,fret:9},{number:45,velocity:59,time:2.3565161000000015e6,channel:5,string:4,fret:0},{number:45,velocity:68,time:2357219,channel:5,string:4,fret:0},{number:45,velocity:54,time:2358039,channel:5,string:4,fret:0},{number:64,velocity:23,time:2358541,channel:5,string:4,fret:19},{number:52,velocity:50,time:2358818,channel:5,string:4,fret:7},{number:52,velocity:54,time:2359522,channel:5,string:4,fret:7},{number:53,velocity:34,time:2360283,channel:5,string:4,fret:8},{number:50,velocity:78,time:2362538,channel:4,string:3,fret:0},{number:59,velocity:51,time:2363308,channel:3,string:2,fret:4},{number:62,velocity:41,time:2.3633171000000015e6,channel:3,string:2,fret:7},{number:62,velocity:48,time:2364013,channel:3,string:2,fret:7},{number:62,velocity:56,time:2364387,channel:3,string:2,fret:7},{number:62,velocity:54,time:2364806,channel:3,string:2,fret:7},{number:58,velocity:58,time:2365522,channel:4,string:3,fret:8},{number:58,velocity:64,time:2.3661131000000015e6,channel:4,string:3,fret:8},{number:59,velocity:74,time:2366564,channel:4,string:3,fret:9},{number:45,velocity:42,time:2367792,channel:6,string:5,fret:5},{number:45,velocity:56,time:2368309,channel:6,string:5,fret:5},{number:48,velocity:32,time:2368671,channel:6,string:5,fret:8},{number:48,velocity:23,time:2368756,channel:6,string:5,fret:8},{number:50,velocity:25,time:2369214,channel:5,string:4,fret:5},{number:52,velocity:40,time:2369748,channel:5,string:4,fret:7},{number:55,velocity:64,time:2370356,channel:4,string:3,fret:5},{number:57,velocity:68,time:2371007,channel:4,string:3,fret:7},{number:57,velocity:57,time:2372634,channel:4,string:3,fret:7}],y1t="fretboard-improvisation-intervals",v1t="2024-07-03T18:53:20.636Z",Yx={root:g1t,scale:M1t,notes:A1t,_appId:y1t,_date:v1t};function b1t(e){let t,i,n,a,s,l,c;return{c(){t=K("p"),t.textContent="1) Go through the scale in steps of 1.",i=Y(),n=K("p"),n.textContent="2) Go through the scale in steps of 2.",a=Y(),s=K("p"),s.textContent="3) Go through the scale in steps of 3.",l=Y(),c=K("p"),c.textContent="4) ..."},m(d,u){_t(d,t,u),_t(d,i,u),_t(d,n,u),_t(d,a,u),_t(d,s,u),_t(d,l,u),_t(d,c,u)},p:Fe,d(d){d&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c))}}}function C1t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W;function et(At){e[12](At)}function mt(At){e[13](At)}let ot={callback:e[8]};e[2]!==void 0&&(ot.scaleRoot=e[2]),e[3]!==void 0&&(ot.scaleType=e[3]),u=new Ef({props:ot}),me.push(()=>Te(u,"scaleRoot",et)),me.push(()=>Te(u,"scaleType",mt));function pt(At){e[14](At)}let wt={title:"Toggle between note names and scale steps",label:"note names",callback:e[8]};e[4]!==void 0&&(wt.checked=e[4]),M=new Tr({props:wt}),me.push(()=>Te(M,"checked",pt));function Mt(At){e[15](At)}let xt={title:"Limit frets to those that are in reach",label:"limit frets",callback:e[8]};e[5]!==void 0&&(xt.checked=e[5]),b=new Tr({props:xt}),me.push(()=>Te(b,"checked",Mt));function dt(At){e[17](At)}let Ot={saveToStorage:e[11],callback:e[8]};return e[6]!==void 0&&(Ot.notes=e[6]),O=new aa({props:Ot}),me.push(()=>Te(O,"notes",dt)),L=new Ma({props:{appId:e[0].id,loadData:e[10]}}),U=new ua({props:{loadData:e[10],getExportData:e[9],appId:e[0].id}}),F=new Kr({props:{$$slots:{default:[b1t]},$$scope:{ctx:e}}}),z=new Xr({props:{appId:e[0].id}}),V=new $r({props:{noteOn:e[7]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing scales on a guitar. Each time you play a
            note, the fretboard below shows you how far each note of the scale
            is away from the note you just played.`,c=Y(),d=K("div"),Ut(u.$$.fragment),m=Y(),Ut(M.$$.fragment),A=Y(),Ut(b.$$.fragment),E=Y(),x=K("div"),_=Y(),C=K("div"),Ut(O.$$.fragment),T=Y(),D=K("button"),D.textContent="example",P=Y(),Ut(L.$$.fragment),N=Y(),Ut(U.$$.fragment),$=Y(),Ut(F.$$.fragment),j=Y(),Ut(z.$$.fragment),Q=Y(),Ut(V.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(x,"class","visualization"),ut(C,"class","control"),ut(t,"class","app")},m(At,jt){_t(At,t,jt),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,m),Nt(M,d,null),R(d,A),Nt(b,d,null),R(t,E),R(t,x),e[16](x),R(t,_),R(t,C),Nt(O,C,null),R(C,T),R(C,D),R(C,P),Nt(L,C,null),R(C,N),Nt(U,C,null),R(t,$),Nt(F,t,null),R(t,j),Nt(z,t,null),R(t,Q),Nt(V,t,null),q=!0,J||(W=Qe(D,"click",e[18]),J=!0)},p(At,jt){(!q||jt&1)&&n!==(n=At[0].title+"")&&Ue(a,n);const bt={};!h&&jt&4&&(h=!0,bt.scaleRoot=At[2],Se(()=>h=!1)),!g&&jt&8&&(g=!0,bt.scaleType=At[3],Se(()=>g=!1)),u.$set(bt);const kt={};!p&&jt&16&&(p=!0,kt.checked=At[4],Se(()=>p=!1)),M.$set(kt);const Dt={};!v&&jt&32&&(v=!0,Dt.checked=At[5],Se(()=>v=!1)),b.$set(Dt);const Xt={};!I&&jt&64&&(I=!0,Xt.notes=At[6],Se(()=>I=!1)),O.$set(Xt);const ae={};jt&1&&(ae.appId=At[0].id),L.$set(ae);const Jt={};jt&1&&(Jt.appId=At[0].id),U.$set(Jt);const le={};jt&4194304&&(le.$$scope={dirty:jt,ctx:At}),F.$set(le);const Ve={};jt&1&&(Ve.appId=At[0].id),z.$set(Ve)},i(At){q||(Bt(u.$$.fragment,At),Bt(M.$$.fragment,At),Bt(b.$$.fragment,At),Bt(O.$$.fragment,At),Bt(L.$$.fragment,At),Bt(U.$$.fragment,At),Bt(F.$$.fragment,At),Bt(z.$$.fragment,At),Bt(V.$$.fragment,At),q=!0)},o(At){Rt(u.$$.fragment,At),Rt(M.$$.fragment,At),Rt(b.$$.fragment,At),Rt(O.$$.fragment,At),Rt(L.$$.fragment,At),Rt(U.$$.fragment,At),Rt(F.$$.fragment,At),Rt(z.$$.fragment,At),Rt(V.$$.fragment,At),q=!1},d(At){At&&Ct(t),Ft(u),Ft(M),Ft(b),e[16](null),Ft(O),Ft(L),Ft(U),Ft(F),Ft(z),Ft(V),J=!1,W()}}}function _1t(e){let t,i;return t=new da({props:{loadData:e[10],$$slots:{default:[C1t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&4194431&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let Zx=900,Wg=6,qg=24;function E1t(e,t,i){let{appInfo:n}=t,a,s="A",l="minor pentatonic",c=!1,d=!1,u,h=[],g=[64,59,55,50,45,40];const m=g.map(Ts),M=D=>{h.length===0&&(u=D.timestamp);const P=(D.timestamp-u)/1e3,L=D.message.channel-1,N={number:D.note.number,velocity:D.rawVelocity,time:P,channel:D.message.channel,string:L,fret:D.note.number-g[L]};i(6,h=[...h,N]),p()},p=()=>{const D=h.at(-1),P=[];if(D){const U=D.number%12,$=q9(`${s} ${l}`),F=new Map($.notes.map((V,q)=>{const J=Ro.get(V);let W=J-U;W=W>=0?W:W+12;const et={name:V,chroma:J,interval:$.intervals[q],degree:q,offset:W};return[J,et]}));if(!F.has(U))return;const j=F.get(U).degree;let z=0,Q=qg;d&&(z=D.fret-4,Q=D.fret+4);for(let V=0;V<Wg;V++)for(let q=z;q<Q+1;q++){const J=(g[V]+q)%12;if(!F.has(J))continue;const W=F.get(J),et=W.degree-j;P.push({...W,string:V,fret:q,step:W.offset,degreeStep:et>=0?et:et+F.size})}}const L=(Zx-100)/25,N=Sn({width:Zx,marginLeft:50,marginBottom:40,padding:0,aspectRatio:1,x:{domain:Ci(0,qg+1),tickSize:0},y:{domain:Ci(0,Wg),tickFormat:U=>m[U],tickSize:0},color:{legend:!0,marginLeft:100,width:400,type:"ordinal",scheme:"YlGnBu"},marks:[k9(Ci(0,qg+1),{stroke:"#ddd",dx:L/2}),zr(Ci(0,Wg),{stroke:"#ddd",strokeWidth:U=>Math.sqrt(U+1)}),js([3,5,7,9,15,17,19,21],{x:U=>U,y:2,dy:L/2,fill:"#ddd",r:8}),js([12,12,24,24],{x:U=>U,y:(U,$)=>$%2===0?1:3,dy:L/2,fill:"#ddd",r:8}),D?a8([D],{x:"fret",y:"string",fill:"black",tip:!0,inset:2,rx:5}):null,a8(P,{x:"fret",y:"string",fill:"degreeStep",inset:6,rx:10,tip:!0}),Qr(P,{x:"fret",y:"string",fill:"white",text:c?"name":"degreeStep",stroke:"#aaa",strokeWidth:3})]});i(1,a.textContent="",a),a.appendChild(N)};sr(p);const A=()=>({root:s,scale:l,notes:h}),b=D=>{v(),i(2,s=D.root),i(3,l=D.scale),i(6,h=D.notes),p()},v=()=>{h.length>0&&JSON.stringify(h)!==JSON.stringify(Yx.notes)&&ga(n.id,A())};or(v);function E(D){s=D,i(2,s)}function x(D){l=D,i(3,l)}function _(D){c=D,i(4,c)}function C(D){d=D,i(5,d)}function O(D){me[D?"unshift":"push"](()=>{a=D,i(1,a)})}function I(D){h=D,i(6,h)}const T=()=>b(Yx);return e.$$set=D=>{"appInfo"in D&&i(0,n=D.appInfo)},[n,a,s,l,c,d,h,M,p,A,b,v,E,x,_,C,O,I,T]}class w1t extends qi{constructor(t){super(),Wi(this,t,E1t,_1t,Ji,{appInfo:0})}}const O1t=200,x1t=[{number:71,velocity:10,time:0,channel:4,string:3,fret:21,stringJitter:3.0527503697270792,fretJitter:20.852767519941064},{number:46,velocity:10,time:.547,channel:4,string:3,fret:-4,stringJitter:3.029960778946016,fretJitter:-3.840037950028},{number:67,velocity:10,time:.557,channel:5,string:4,fret:22,stringJitter:3.836334103727247,fretJitter:22.070234554601182},{number:55,velocity:127,time:.56,channel:4,string:3,fret:5,stringJitter:2.8824380664978735,fretJitter:4.916348401136441},{number:56,velocity:10,time:.574,channel:3,string:2,fret:1,stringJitter:2.102623736690846,fretJitter:.9386731064144801},{number:55,velocity:10,time:.594,channel:3,string:2,fret:0,stringJitter:2.032912208976604,fretJitter:-.19355279022107405},{number:66,velocity:10,time:.623,channel:5,string:4,fret:21,stringJitter:4.159894727058031,fretJitter:21.193242459343857},{number:67,velocity:10,time:.653,channel:5,string:4,fret:22,stringJitter:4.05706699965243,fretJitter:22.040492333241446},{number:55,velocity:10,time:.711,channel:5,string:4,fret:10,stringJitter:4.156674616255691,fretJitter:9.997432375691092},{number:49,velocity:10,time:.828,channel:5,string:4,fret:4,stringJitter:4.100653951328178,fretJitter:3.8918990859533285},{number:56,velocity:10,time:.856,channel:3,string:2,fret:1,stringJitter:2.1766614458842497,fretJitter:1.0664069356869277},{number:56,velocity:127,time:.857,channel:4,string:3,fret:6,stringJitter:3.047208632091266,fretJitter:6.116152429371706},{number:56,velocity:10,time:.87,channel:5,string:4,fret:11,stringJitter:3.9100773368176087,fretJitter:10.930966752759316},{number:55,velocity:127,time:.928,channel:4,string:3,fret:5,stringJitter:2.831910515168213,fretJitter:5.045352547379308},{number:56,velocity:127,time:1.059,channel:4,string:3,fret:6,stringJitter:2.955379219741407,fretJitter:6.196599397762682},{number:55,velocity:127,time:1.146,channel:4,string:3,fret:5,stringJitter:2.956644724847434,fretJitter:5.067854938469387},{number:56,velocity:127,time:1.262,channel:4,string:3,fret:6,stringJitter:2.996549878065108,fretJitter:6.15225998011141},{number:55,velocity:127,time:1.364,channel:4,string:3,fret:5,stringJitter:2.8813202218525085,fretJitter:5.166877758448339},{number:52,velocity:50,time:1.464,channel:5,string:4,fret:7,stringJitter:4.187524516649621,fretJitter:6.822439961989486},{number:55,velocity:112,time:1.648,channel:4,string:3,fret:5,stringJitter:3.0064856742497446,fretJitter:5.170134086645376},{number:57,velocity:102,time:1.77,channel:4,string:3,fret:7,stringJitter:2.946317062783766,fretJitter:6.860698966611293},{number:57,velocity:89,time:1.798,channel:4,string:3,fret:7,stringJitter:2.9728880446125765,fretJitter:7.098532722787549},{number:77,velocity:15,time:1.96,channel:3,string:2,fret:22,stringJitter:1.8652733311845928,fretJitter:21.85499967149996},{number:60,velocity:121,time:1.974,channel:3,string:2,fret:5,stringJitter:2.166835874356281,fretJitter:5.074130268118923},{number:60,velocity:10,time:1.99,channel:2,string:1,fret:1,stringJitter:.941331821636458,fretJitter:.8855146772639667},{number:61,velocity:112,time:2.191,channel:3,string:2,fret:6,stringJitter:1.8796577629068492,fretJitter:5.873567732298981},{number:60,velocity:107,time:2.321,channel:3,string:2,fret:5,stringJitter:2.054983413008459,fretJitter:5.018618346715098},{number:57,velocity:25,time:2.352,channel:4,string:3,fret:7,stringJitter:3.1366441249219994,fretJitter:6.830953183647111},{number:60,velocity:103,time:2.532,channel:3,string:2,fret:5,stringJitter:1.8816086740278333,fretJitter:5.084900406308304},{number:62,velocity:88,time:2.64,channel:3,string:2,fret:7,stringJitter:2.085339413014724,fretJitter:7.11834320043367},{number:62,velocity:94,time:2.676,channel:3,string:2,fret:7,stringJitter:1.9295364945691489,fretJitter:7.12784754196827},{number:77,velocity:43,time:2.938,channel:3,string:2,fret:22,stringJitter:2.17198016292292,fretJitter:21.934820623983015},{number:63,velocity:127,time:2.949,channel:3,string:2,fret:8,stringJitter:2.172881094922703,fretJitter:7.931819196919087},{number:62,velocity:127,time:2.96,channel:3,string:2,fret:7,stringJitter:2.0992026816155547,fretJitter:6.9801469609921165},{number:63,velocity:127,time:3.061,channel:3,string:2,fret:8,stringJitter:1.8046760944244813,fretJitter:7.911663542457728},{number:62,velocity:103,time:3.228,channel:3,string:2,fret:7,stringJitter:1.990681946185678,fretJitter:7.188190878379507},{number:63,velocity:96,time:3.482,channel:3,string:2,fret:8,stringJitter:1.8795369000403057,fretJitter:8.171888692039811},{number:64,velocity:98,time:3.526,channel:3,string:2,fret:9,stringJitter:2.0309055952606796,fretJitter:8.992657758022409},{number:63,velocity:95,time:3.584,channel:3,string:2,fret:8,stringJitter:2.0561460158584746,fretJitter:8.094907826952214},{number:62,velocity:91,time:3.626,channel:3,string:2,fret:7,stringJitter:2.166053483837073,fretJitter:7.19521582909766},{number:64,velocity:92,time:3.743,channel:3,string:2,fret:9,stringJitter:2.072420345420894,fretJitter:9.193615325028594},{number:63,velocity:90,time:3.831,channel:3,string:2,fret:8,stringJitter:1.8730663052670542,fretJitter:8.166905319687382},{number:62,velocity:87,time:3.86,channel:3,string:2,fret:7,stringJitter:1.8899613375788569,fretJitter:7.011889092037036},{number:63,velocity:87,time:3.976,channel:3,string:2,fret:8,stringJitter:1.8179037432169398,fretJitter:8.129764431693493},{number:62,velocity:83,time:4.092,channel:3,string:2,fret:7,stringJitter:1.8781725843425308,fretJitter:6.962574221385173},{number:63,velocity:82,time:4.222,channel:3,string:2,fret:8,stringJitter:1.9900363988391279,fretJitter:7.875881678054991},{number:61,velocity:77,time:4.309,channel:3,string:2,fret:6,stringJitter:2.0367112305343023,fretJitter:6.033946794401041},{number:60,velocity:77,time:4.351,channel:3,string:2,fret:5,stringJitter:1.9912976012864445,fretJitter:5.1689640052533},{number:59,velocity:77,time:4.367,channel:3,string:2,fret:4,stringJitter:1.836508631904857,fretJitter:3.970509986275754},{number:58,velocity:77,time:4.397,channel:3,string:2,fret:3,stringJitter:2.0337471931975153,fretJitter:2.9774273174267067},{number:57,velocity:77,time:4.425,channel:3,string:2,fret:2,stringJitter:1.9134537541370364,fretJitter:1.9444565961851654},{number:62,velocity:10,time:4.854,channel:2,string:1,fret:3,stringJitter:.8199234053840364,fretJitter:3.150239071358032},{number:55,velocity:102,time:4.857,channel:3,string:2,fret:0,stringJitter:2.0136059947909697,fretJitter:.04138231034028231},{number:61,velocity:10,time:4.86,channel:2,string:1,fret:2,stringJitter:.8245172078675986,fretJitter:1.802832726410003},{number:57,velocity:92,time:5.021,channel:3,string:2,fret:2,stringJitter:2.0844245300460025,fretJitter:1.8574553763705999},{number:58,velocity:86,time:5.253,channel:3,string:2,fret:3,stringJitter:1.805408075774284,fretJitter:3.1704809089489294},{number:57,velocity:87,time:5.339,channel:3,string:2,fret:2,stringJitter:1.8273735999894036,fretJitter:2.1901391039016236},{number:55,velocity:80,time:5.427,channel:3,string:2,fret:0,stringJitter:1.9074579561020828,fretJitter:.015558729414600415},{number:57,velocity:81,time:5.543,channel:3,string:2,fret:2,stringJitter:2.042385880288325,fretJitter:2.0510056351205517},{number:55,velocity:82,time:5.803,channel:3,string:2,fret:0,stringJitter:2.0525759507220442,fretJitter:-.19015779359159257},{number:57,velocity:66,time:5.935,channel:3,string:2,fret:2,stringJitter:1.882647112581037,fretJitter:2.1118226508096756},{number:55,velocity:69,time:6.054,channel:3,string:2,fret:0,stringJitter:2.1491939149902155,fretJitter:-.05118015858733012},{number:57,velocity:54,time:6.182,channel:3,string:2,fret:2,stringJitter:2.1344623726409573,fretJitter:2.0011154192546674},{number:55,velocity:48,time:6.283,channel:3,string:2,fret:0,stringJitter:2.0546720959753717,fretJitter:-.09769723951840154},{number:57,velocity:37,time:6.427,channel:3,string:2,fret:2,stringJitter:2.0223828520330818,fretJitter:1.885377596608556},{number:55,velocity:63,time:6.487,channel:3,string:2,fret:0,stringJitter:2.1107748266443753,fretJitter:.11870661894319996},{number:57,velocity:44,time:6.63,channel:3,string:2,fret:2,stringJitter:2.141780845751707,fretJitter:2.096377023481074},{number:55,velocity:43,time:6.718,channel:3,string:2,fret:0,stringJitter:2.0305367448542904,fretJitter:-.07351291201268433},{number:57,velocity:41,time:6.776,channel:3,string:2,fret:2,stringJitter:2.06512839399967,fretJitter:2.0275434689579996},{number:56,velocity:10,time:6.859,channel:3,string:2,fret:1,stringJitter:1.9173881268469608,fretJitter:.982817539480198},{number:55,velocity:10,time:6.878,channel:3,string:2,fret:0,stringJitter:2.0733559878213543,fretJitter:-.18323031341892593},{number:57,velocity:10,time:6.98,channel:3,string:2,fret:2,stringJitter:1.8589325670145616,fretJitter:2.046180996766146},{number:55,velocity:58,time:7.004,channel:3,string:2,fret:0,stringJitter:1.9940758116637591,fretJitter:.1349936589351451},{number:57,velocity:56,time:7.139,channel:3,string:2,fret:2,stringJitter:2.0407367319349947,fretJitter:2.0170996082063923},{number:55,velocity:46,time:7.241,channel:3,string:2,fret:0,stringJitter:1.8231935557413395,fretJitter:-.15217434862710616},{number:57,velocity:49,time:7.327,channel:3,string:2,fret:2,stringJitter:2.1858701658836903,fretJitter:2.0371964692378413},{number:55,velocity:46,time:7.415,channel:3,string:2,fret:0,stringJitter:2.124907526148567,fretJitter:.0651891204573201},{number:57,velocity:48,time:7.502,channel:3,string:2,fret:2,stringJitter:2.0562896613599158,fretJitter:2.070914536874852},{number:55,velocity:45,time:7.559,channel:3,string:2,fret:0,stringJitter:2.0995347731291005,fretJitter:-.05302025568670246},{number:57,velocity:48,time:7.633,channel:3,string:2,fret:2,stringJitter:2.1776549846053097,fretJitter:1.8592154283588445},{number:56,velocity:20,time:7.69,channel:3,string:2,fret:1,stringJitter:1.9058794780779982,fretJitter:1.046129511974484},{number:55,velocity:23,time:7.705,channel:3,string:2,fret:0,stringJitter:1.9906879254243466,fretJitter:-.061997997785624384},{number:57,velocity:26,time:7.821,channel:3,string:2,fret:2,stringJitter:2.0828463836325115,fretJitter:2.095837131144209},{number:55,velocity:16,time:7.923,channel:3,string:2,fret:0,stringJitter:2.0347121533757693,fretJitter:.0386782027110411},{number:57,velocity:20,time:7.994,channel:3,string:2,fret:2,stringJitter:1.8546220384563337,fretJitter:1.9735004822245272},{number:55,velocity:18,time:8.082,channel:3,string:2,fret:0,stringJitter:1.9825273620302863,fretJitter:.16648592675781454},{number:57,velocity:13,time:8.199,channel:3,string:2,fret:2,stringJitter:2.1494318608186402,fretJitter:2.0805322897893936},{number:55,velocity:10,time:8.271,channel:3,string:2,fret:0,stringJitter:2.0062355488226458,fretJitter:-.14157814586940595},{number:57,velocity:15,time:8.328,channel:3,string:2,fret:2,stringJitter:2.0530555738911196,fretJitter:1.9685025183951654},{number:55,velocity:11,time:8.445,channel:3,string:2,fret:0,stringJitter:1.961446699023405,fretJitter:-.07847064709983914},{number:57,velocity:10,time:8.467,channel:3,string:2,fret:2,stringJitter:1.9200802039921379,fretJitter:1.8550732676184298},{number:67,velocity:10,time:8.565,channel:3,string:2,fret:12,stringJitter:2.0282746788103125,fretJitter:11.99379633909593},{number:57,velocity:10,time:8.68,channel:3,string:2,fret:2,stringJitter:1.8060212101364603,fretJitter:1.9949083334539968},{number:55,velocity:10,time:8.809,channel:3,string:2,fret:0,stringJitter:1.9968403821091683,fretJitter:-.16075148128882538},{number:57,velocity:10,time:8.869,channel:3,string:2,fret:2,stringJitter:2.053952158687462,fretJitter:1.9729399601403939},{number:62,velocity:48,time:8.968,channel:3,string:2,fret:7,stringJitter:1.9066397920412932,fretJitter:6.845667563317418},{number:55,velocity:33,time:9.635,channel:3,string:2,fret:0,stringJitter:1.9554076303612462,fretJitter:.08985537435949215},{number:57,velocity:33,time:9.679,channel:3,string:2,fret:2,stringJitter:2.006131188775902,fretJitter:2.0035728320742616},{number:55,velocity:33,time:9.808,channel:3,string:2,fret:0,stringJitter:2.1218071841294335,fretJitter:.05982131547390512},{number:57,velocity:34,time:9.882,channel:3,string:2,fret:2,stringJitter:2.17525914229317,fretJitter:2.17961457457226},{number:64,velocity:21,time:9.956,channel:3,string:2,fret:9,stringJitter:2.158068938544951,fretJitter:9.080823690517088},{number:55,velocity:20,time:9.969,channel:3,string:2,fret:0,stringJitter:2.137244677780941,fretJitter:.09027213410741393},{number:62,velocity:58,time:10.038,channel:3,string:2,fret:7,stringJitter:1.8588326595193139,fretJitter:7.045047807825833},{number:61,velocity:37,time:10.374,channel:2,string:1,fret:2,stringJitter:1.0133818719329792,fretJitter:1.8009537258830002},{number:59,velocity:10,time:10.448,channel:2,string:1,fret:0,stringJitter:.8266544627050606,fretJitter:.08785365403940233},{number:63,velocity:40,time:10.607,channel:3,string:2,fret:8,stringJitter:2.0675887589277715,fretJitter:8.025646234130294},{number:64,velocity:35,time:10.925,channel:3,string:2,fret:9,stringJitter:2.0613250546326456,fretJitter:9.069210033699239},{number:63,velocity:32,time:11.318,channel:3,string:2,fret:8,stringJitter:1.9329486545891403,fretJitter:7.99872648836041},{number:62,velocity:32,time:11.404,channel:3,string:2,fret:7,stringJitter:1.8017141899340257,fretJitter:7.075520983037791},{number:63,velocity:30,time:11.623,channel:3,string:2,fret:8,stringJitter:1.8924231787061339,fretJitter:8.153840561402285},{number:60,velocity:10,time:13.1,channel:2,string:1,fret:1,stringJitter:1.0843165843616691,fretJitter:1.037201579452091},{number:57,velocity:57,time:13.343,channel:3,string:2,fret:2,stringJitter:2.1209742038198285,fretJitter:1.873879359274892},{number:55,velocity:87,time:13.565,channel:3,string:2,fret:0,stringJitter:2.049235891858333,fretJitter:.14515816796066625},{number:57,velocity:79,time:13.828,channel:3,string:2,fret:2,stringJitter:1.8299823910609376,fretJitter:1.8618401483206135},{number:62,velocity:87,time:14.004,channel:3,string:2,fret:7,stringJitter:1.8989880584133891,fretJitter:7.093411475979755},{number:63,velocity:66,time:14.381,channel:3,string:2,fret:8,stringJitter:2.0728083688839076,fretJitter:8.168997763371568},{number:62,velocity:61,time:14.612,channel:3,string:2,fret:7,stringJitter:1.9619343349848593,fretJitter:6.982809543507766},{number:57,velocity:64,time:15.007,channel:3,string:2,fret:2,stringJitter:1.934740508609123,fretJitter:2.178246823110037},{number:57,velocity:10,time:15.024,channel:4,string:3,fret:7,stringJitter:3.025825605668801,fretJitter:7.101629764516491},{number:55,velocity:86,time:15.256,channel:3,string:2,fret:0,stringJitter:2.0727293966393123,fretJitter:.10634740210315385},{number:57,velocity:68,time:15.541,channel:3,string:2,fret:2,stringJitter:2.004515786544579,fretJitter:1.9395972787836113},{number:62,velocity:79,time:15.671,channel:3,string:2,fret:7,stringJitter:2.0571405170760295,fretJitter:6.97032864406111},{number:63,velocity:61,time:15.932,channel:3,string:2,fret:8,stringJitter:1.9073111320372733,fretJitter:8.13293728767538},{number:62,velocity:54,time:16.135,channel:3,string:2,fret:7,stringJitter:1.9331285842768338,fretJitter:7.091121970575898},{number:55,velocity:64,time:16.464,channel:3,string:2,fret:0,stringJitter:2.0396887045384875,fretJitter:.12593159446206742},{number:57,velocity:13,time:16.469,channel:4,string:3,fret:7,stringJitter:3.0474637910013667,fretJitter:7.042543546438278},{number:69,velocity:11,time:16.512,channel:4,string:3,fret:19,stringJitter:3.048600940826076,fretJitter:19.08057483279986},{number:57,velocity:63,time:16.687,channel:3,string:2,fret:2,stringJitter:1.9106965739885449,fretJitter:1.9377962435545337},{number:57,velocity:46,time:16.89,channel:4,string:3,fret:7,stringJitter:2.874136552513325,fretJitter:7.0839436417412145},{number:62,velocity:66,time:16.92,channel:3,string:2,fret:7,stringJitter:2.183894130490536,fretJitter:6.959946877944432},{number:62,velocity:10,time:17.651,channel:3,string:2,fret:7,stringJitter:1.829913020279669,fretJitter:7.098837699410008},{number:66,velocity:10,time:17.653,channel:2,string:1,fret:7,stringJitter:1.1664440287066213,fretJitter:7.033090675047493},{number:63,velocity:10,time:17.921,channel:3,string:2,fret:8,stringJitter:2.0143313867095034,fretJitter:8.010475425927039},{number:62,velocity:10,time:18.065,channel:3,string:2,fret:7,stringJitter:2.0723392311165707,fretJitter:6.9589892531225725},{number:57,velocity:46,time:18.647,channel:3,string:2,fret:2,stringJitter:2.088477632994576,fretJitter:1.8110909868917},{number:58,velocity:127,time:18.775,channel:3,string:2,fret:3,stringJitter:2.0015117763184405,fretJitter:3.191231798670006},{number:57,velocity:127,time:18.792,channel:3,string:2,fret:2,stringJitter:1.8181498738073374,fretJitter:1.8517060668973364},{number:58,velocity:127,time:19.023,channel:3,string:2,fret:3,stringJitter:2.0245376417864556,fretJitter:3.0510434176839043},{number:55,velocity:127,time:19.095,channel:3,string:2,fret:0,stringJitter:1.930791591976754,fretJitter:-.16435060988978112},{number:59,velocity:66,time:19.410899999856948,channel:2,string:1,fret:0,stringJitter:1.1166423588544676,fretJitter:.15343419281171755},{number:55,velocity:52,time:19.754,channel:3,string:2,fret:0,stringJitter:1.8177597589396592,fretJitter:.09061867307311831},{number:55,velocity:70,time:20.029,channel:3,string:2,fret:0,stringJitter:2.0118189910797866,fretJitter:-.09314825645700707},{number:46,velocity:10,time:20.511,channel:4,string:3,fret:-4,stringJitter:3.195397883275431,fretJitter:-4.049455120871644},{number:50,velocity:100,time:20.576,channel:4,string:3,fret:0,stringJitter:2.901323121329329,fretJitter:.1329821567242842},{number:44,velocity:10,time:20.582,channel:6,string:5,fret:4,stringJitter:5.164184355142562,fretJitter:4.029219040038233},{number:50,velocity:75,time:23.544,channel:4,string:3,fret:0,stringJitter:3.0502924851251914,fretJitter:-.19357718406200242},{number:40,velocity:108,time:23.765,channel:6,string:5,fret:0,stringJitter:4.845351062940406,fretJitter:.11529101446743138},{number:65,velocity:10,time:23.827,channel:5,string:4,fret:20,stringJitter:3.9748842111108273,fretJitter:19.847210441543503},{number:45,velocity:10,time:23.958,channel:5,string:4,fret:0,stringJitter:3.99821439068817,fretJitter:-.19133437175300463},{number:69,velocity:10,time:24.035,channel:1,string:0,fret:5,stringJitter:.01829166130950908,fretJitter:5.038454441472295},{number:45,velocity:10,time:24.074,channel:5,string:4,fret:0,stringJitter:4.051238761075715,fretJitter:-.04165056403621197},{number:40,velocity:91,time:24.095,channel:6,string:5,fret:0,stringJitter:5.191873752944205,fretJitter:-.12384511546253973},{number:43,velocity:123,time:24.388,channel:6,string:5,fret:3,stringJitter:5.099339459442163,fretJitter:2.8170339833540736},{number:44,velocity:109,time:24.683,channel:6,string:5,fret:4,stringJitter:4.994845094117178,fretJitter:3.9026645287646025},{number:43,velocity:109,time:24.784,channel:6,string:5,fret:3,stringJitter:4.830022248288978,fretJitter:3.148247458857538},{number:44,velocity:107,time:24.916,channel:6,string:5,fret:4,stringJitter:4.992234025675853,fretJitter:3.9363608335394344},{number:43,velocity:103,time:24.989,channel:6,string:5,fret:3,stringJitter:5.005704531053527,fretJitter:3.0218888928894283},{number:44,velocity:101,time:25.09,channel:6,string:5,fret:4,stringJitter:4.916523994359646,fretJitter:4.022986664279088},{number:43,velocity:100,time:25.177,channel:6,string:5,fret:3,stringJitter:4.865612122015528,fretJitter:2.9521054159990894},{number:44,velocity:100,time:25.264,channel:6,string:5,fret:4,stringJitter:5.043390790256722,fretJitter:3.8783931629195787},{number:43,velocity:99,time:25.351,channel:6,string:5,fret:3,stringJitter:4.824907047696148,fretJitter:3.0995895151802277},{number:40,velocity:10,time:25.445,channel:6,string:5,fret:0,stringJitter:4.842027028400909,fretJitter:.17069121755727226},{number:47,velocity:10,time:25.56,channel:5,string:4,fret:2,stringJitter:4.1728730249162425,fretJitter:1.8563750817512956},{number:48,velocity:10,time:25.684,channel:5,string:4,fret:3,stringJitter:4.100281765051265,fretJitter:3.01385643126276},{number:45,velocity:13,time:25.709,channel:5,string:4,fret:0,stringJitter:4.14804990704892,fretJitter:.17181557340676284},{number:50,velocity:10,time:25.751,channel:4,string:3,fret:0,stringJitter:3.0038342806059988,fretJitter:.1238113702733264},{number:43,velocity:105,time:25.838,channel:6,string:5,fret:3,stringJitter:5.010862912932194,fretJitter:3.1737276864945025},{number:44,velocity:96,time:26.12,channel:6,string:5,fret:4,stringJitter:4.8216153808004005,fretJitter:3.904473763732289},{number:43,velocity:91,time:26.194,channel:6,string:5,fret:3,stringJitter:5.120250201967704,fretJitter:3.1377411048968264},{number:40,velocity:66,time:26.468,channel:6,string:5,fret:0,stringJitter:4.834416819145997,fretJitter:-.10626588056595576},{number:42,velocity:54,time:26.68,channel:6,string:5,fret:2,stringJitter:5.015112335298659,fretJitter:1.9237268443207378},{number:43,velocity:48,time:26.73,channel:6,string:5,fret:3,stringJitter:4.914440229487738,fretJitter:2.923637213035725},{number:44,velocity:43,time:26.846,channel:6,string:5,fret:4,stringJitter:4.802296115345538,fretJitter:3.942233709501487},{number:45,velocity:44,time:26.89,channel:6,string:5,fret:5,stringJitter:5.128534914597288,fretJitter:5.013839197461191},{number:48,velocity:40,time:27.284,channel:6,string:5,fret:8,stringJitter:5.048409074051589,fretJitter:7.868041840504702},{number:49,velocity:25,time:27.658,channel:6,string:5,fret:9,stringJitter:5.143134233154639,fretJitter:9.063424842157918},{number:48,velocity:21,time:27.746,channel:6,string:5,fret:8,stringJitter:4.87217294522303,fretJitter:7.823899533213007},{number:49,velocity:21,time:27.876,channel:6,string:5,fret:9,stringJitter:5.199634307389643,fretJitter:8.953464726120341},{number:48,velocity:20,time:27.96389999985695,channel:6,string:5,fret:8,stringJitter:5.076523026272827,fretJitter:7.866894386709969},{number:55,velocity:10,time:28.157,channel:4,string:3,fret:5,stringJitter:3.143970645604788,fretJitter:5.061219898196488},{number:52,velocity:10,time:28.324,channel:5,string:4,fret:7,stringJitter:4.119673477041268,fretJitter:7.182863980288184},{number:52,velocity:49,time:28.39,channel:5,string:4,fret:7,stringJitter:3.9808493275438313,fretJitter:6.83016474656199},{number:55,velocity:127,time:28.61,channel:4,string:3,fret:5,stringJitter:2.8039889995924256,fretJitter:5.133716381404976},{number:55,velocity:10,time:28.617,channel:3,string:2,fret:0,stringJitter:2.0700224153301234,fretJitter:.017724892890214682},{number:40,velocity:10,time:28.634,channel:6,string:5,fret:0,stringJitter:4.904637498687721,fretJitter:.1786961667139326},{number:52,velocity:41,time:28.857,channel:5,string:4,fret:7,stringJitter:4.1449943267521006,fretJitter:7.007801707537437},{number:57,velocity:127,time:29.06,channel:4,string:3,fret:7,stringJitter:3.016077271569384,fretJitter:6.823681307132823},{number:58,velocity:127,time:29.313,channel:4,string:3,fret:8,stringJitter:3.088754760776821,fretJitter:7.890147712521095},{number:57,velocity:118,time:29.414,channel:4,string:3,fret:7,stringJitter:3.054106719021188,fretJitter:7.031660750381766},{number:50,velocity:81,time:29.496,channel:5,string:4,fret:5,stringJitter:3.9788280614773597,fretJitter:5.181675103764911},{number:60,velocity:49,time:30.244,channel:3,string:2,fret:5,stringJitter:1.9220693007409866,fretJitter:4.883574655494117},{number:61,velocity:127,time:30.254,channel:3,string:2,fret:6,stringJitter:2.0238285519438444,fretJitter:6.031669339252516},{number:60,velocity:10,time:30.258,channel:2,string:1,fret:1,stringJitter:1.0244719305409127,fretJitter:1.0934673607789247},{number:60,velocity:127,time:30.299,channel:3,string:2,fret:5,stringJitter:1.8116857623698026,fretJitter:4.897432017873656},{number:57,velocity:94,time:30.535,channel:4,string:3,fret:7,stringJitter:2.925272675054598,fretJitter:6.975565629856614},{number:60,velocity:103,time:30.727,channel:3,string:2,fret:5,stringJitter:1.8899591494140422,fretJitter:4.999249468426139},{number:62,velocity:127,time:30.874,channel:3,string:2,fret:7,stringJitter:1.8858177395505766,fretJitter:6.9041017077465145},{number:78,velocity:57,time:31.165,channel:3,string:2,fret:23,stringJitter:2.0712373185639805,fretJitter:23.00208327442135},{number:63,velocity:127,time:31.176,channel:3,string:2,fret:8,stringJitter:2.0052696078299914,fretJitter:7.896198809073561},{number:62,velocity:127,time:31.199,channel:3,string:2,fret:7,stringJitter:2.0616372633234747,fretJitter:7.0707849129443145},{number:63,velocity:127,time:31.33,channel:3,string:2,fret:8,stringJitter:1.9158331036784997,fretJitter:8.122669847668451},{number:72,velocity:10,time:31.657,channel:1,string:0,fret:8,stringJitter:-.17649304649457456,fretJitter:7.881552169792651},{number:67,velocity:103,time:31.726,channel:2,string:1,fret:8,stringJitter:1.19815477243051,fretJitter:7.857343241260483},{number:62,velocity:93,time:31.922,channel:3,string:2,fret:7,stringJitter:1.944481683910443,fretJitter:7.119662413805593},{number:63,velocity:83,time:32.084,channel:3,string:2,fret:8,stringJitter:1.942036141831999,fretJitter:7.842227485301944},{number:64,velocity:75,time:32.273,channel:3,string:2,fret:9,stringJitter:1.819010892099416,fretJitter:8.970112680634687},{number:63,velocity:71,time:32.374,channel:3,string:2,fret:8,stringJitter:2.105022794245322,fretJitter:7.973445276223093},{number:62,velocity:71,time:32.447,channel:3,string:2,fret:7,stringJitter:2.0809218466265613,fretJitter:7.0453530434153},{number:64,velocity:112,time:32.753,channel:2,string:1,fret:5,stringJitter:1.1761449751379367,fretJitter:4.8214594066193435},{number:60,velocity:50,time:33.5,channel:3,string:2,fret:5,stringJitter:2.127087172183359,fretJitter:5.175956019097664},{number:59,velocity:34,time:33.81,channel:3,string:2,fret:4,stringJitter:2.155120933531928,fretJitter:4.148567953111318},{number:58,velocity:34,time:33.855,channel:3,string:2,fret:3,stringJitter:2.171903077203648,fretJitter:2.8943832899371857},{number:57,velocity:30,time:34.261,channel:3,string:2,fret:2,stringJitter:1.879247611915978,fretJitter:2.0380720418976623},{number:55,velocity:26,time:34.784,channel:3,string:2,fret:0,stringJitter:1.991475477885496,fretJitter:.05715514538083948},{number:57,velocity:23,time:34.928,channel:3,string:2,fret:2,stringJitter:2.1958250588363124,fretJitter:2.0910003133081085},{number:69,velocity:10,time:35.189,channel:2,string:1,fret:10,stringJitter:.9248162285535728,fretJitter:10.052001635098035},{number:60,velocity:51,time:35.225,channel:2,string:1,fret:1,stringJitter:1.014623995123563,fretJitter:1.1814680986569441},{number:60,velocity:102,time:35.233,channel:2,string:1,fret:1,stringJitter:1.0322726685320678,fretJitter:1.1209968890908593},{number:57,velocity:79,time:35.698,channel:3,string:2,fret:2,stringJitter:2.1069992359125576,fretJitter:2.183369063645509},{number:59,velocity:40,time:36.014,channel:2,string:1,fret:0,stringJitter:.8264328542712638,fretJitter:-.18334575014214716},{number:60,velocity:33,time:36.234,channel:2,string:1,fret:1,stringJitter:1.1336524873593166,fretJitter:1.033012880758558},{number:67,velocity:10,time:36.440899999856946,channel:1,string:0,fret:3,stringJitter:.12666385503976116,fretJitter:3.124201514441849},{number:62,velocity:35,time:36.452,channel:2,string:1,fret:3,stringJitter:.8506233330900422,fretJitter:3.0419287901014456},{number:60,velocity:10,time:37.239,channel:2,string:1,fret:1,stringJitter:.8963170780039686,fretJitter:1.101999254192079},{number:59,velocity:10,time:37.366,channel:2,string:1,fret:0,stringJitter:1.0400655458267956,fretJitter:.13979065447690947},{number:57,velocity:28,time:37.53,channel:3,string:2,fret:2,stringJitter:2.0414581228711657,fretJitter:1.9517592018231231},{number:55,velocity:18,time:37.918,channel:3,string:2,fret:0,stringJitter:1.9721259395600244,fretJitter:.023466181764945127},{number:59,velocity:20,time:38.018,channel:2,string:1,fret:0,stringJitter:.8674307245834115,fretJitter:.1692578450660565},{number:60,velocity:10,time:38.135,channel:2,string:1,fret:1,stringJitter:1.179043636821771,fretJitter:.8899749829086259},{number:57,velocity:44,time:38.318,channel:3,string:2,fret:2,stringJitter:2.1220979700155556,fretJitter:1.997760750563193},{number:59,velocity:10,time:38.497,channel:2,string:1,fret:0,stringJitter:1.1126661525449653,fretJitter:-21992351614130714e-21},{number:55,velocity:52,time:38.5,channel:3,string:2,fret:0,stringJitter:1.8092958305176634,fretJitter:.00030126464408795076},{number:52,velocity:74,time:38.671,channel:4,string:3,fret:2,stringJitter:3.1234841486015137,fretJitter:1.8652748299649602},{number:48,velocity:10,time:39.331,channel:5,string:4,fret:3,stringJitter:3.911390239287978,fretJitter:3.1057856405614572},{number:48,velocity:40,time:39.388,channel:5,string:4,fret:3,stringJitter:3.9163934615472606,fretJitter:3.0335711055799095},{number:47,velocity:70,time:39.698,channel:5,string:4,fret:2,stringJitter:4.0622523056042406,fretJitter:2.0718754583352466},{number:45,velocity:46,time:40.022,channel:5,string:4,fret:0,stringJitter:4.038017252369724,fretJitter:.14941286627107148},{number:47,velocity:42,time:40.181,channel:5,string:4,fret:2,stringJitter:3.861685770879404,fretJitter:1.9575688176302557},{number:45,velocity:79,time:40.358,channel:5,string:4,fret:0,stringJitter:4.072216734863474,fretJitter:.09132942780903913},{number:47,velocity:66,time:40.572,channel:5,string:4,fret:2,stringJitter:4.056698116670275,fretJitter:2.1061219151721566},{number:52,velocity:29,time:40.677,channel:4,string:3,fret:2,stringJitter:2.9974414397020754,fretJitter:2.161932437509364},{number:45,velocity:96,time:40.679,channel:5,string:4,fret:0,stringJitter:4.132836642299995,fretJitter:-.06948149778706485},{number:47,velocity:86,time:40.875,channel:5,string:4,fret:2,stringJitter:4.035596707512545,fretJitter:2.173068245410054},{number:45,velocity:87,time:40.994,channel:5,string:4,fret:0,stringJitter:4.168383053649789,fretJitter:-.16322965276770018},{number:47,velocity:76,time:41.139,channel:5,string:4,fret:2,stringJitter:3.895593583844239,fretJitter:1.9438912135907631},{number:52,velocity:38,time:41.156,channel:4,string:3,fret:2,stringJitter:2.9544916637059653,fretJitter:1.9522488772349877},{number:45,velocity:86,time:41.159,channel:5,string:4,fret:0,stringJitter:3.9802252503050273,fretJitter:.01185510563532395},{number:47,velocity:76,time:41.328,channel:5,string:4,fret:2,stringJitter:3.8875712299294607,fretJitter:2.124845287293299},{number:45,velocity:73,time:41.413,channel:5,string:4,fret:0,stringJitter:4.005659983390166,fretJitter:-.03741082465910397},{number:48,velocity:64,time:41.455,channel:5,string:4,fret:3,stringJitter:4.113431364863314,fretJitter:2.932896230669495},{number:47,velocity:63,time:41.472,channel:5,string:4,fret:2,stringJitter:3.932075824042968,fretJitter:1.8436933089952066},{number:45,velocity:51,time:41.56,channel:5,string:4,fret:0,stringJitter:3.8110789433870664,fretJitter:-.17039966321304753},{number:52,velocity:29,time:41.675,channel:4,string:3,fret:2,stringJitter:3.167154979540071,fretJitter:2.0708043257443802},{number:45,velocity:15,time:41.706,channel:5,string:4,fret:0,stringJitter:3.9931040399214646,fretJitter:.044509663196104214},{number:52,velocity:40,time:41.882,channel:4,string:3,fret:2,stringJitter:2.8090254728075394,fretJitter:2.0506210911780838},{number:45,velocity:71,time:41.884,channel:5,string:4,fret:0,stringJitter:3.966002455283151,fretJitter:-.17534323825988363},{number:47,velocity:69,time:42.067,channel:5,string:4,fret:2,stringJitter:4.081374636652109,fretJitter:1.988244569984114},{number:45,velocity:72,time:42.107,channel:5,string:4,fret:0,stringJitter:3.8231188182997173,fretJitter:.059585991607033775},{number:47,velocity:70,time:42.256,channel:5,string:4,fret:2,stringJitter:3.8412561272375885,fretJitter:1.910727166122618},{number:45,velocity:68,time:42.542,channel:5,string:4,fret:0,stringJitter:3.8851107796205158,fretJitter:-.008300064116237404},{number:47,velocity:61,time:42.705,channel:5,string:4,fret:2,stringJitter:3.866055078535835,fretJitter:2.1848161054295074},{number:52,velocity:100,time:42.8,channel:5,string:4,fret:7,stringJitter:4.112115388327679,fretJitter:7.164420931170822},{number:40,velocity:10,time:42.884,channel:6,string:5,fret:0,stringJitter:4.8988650354995995,fretJitter:-.05048558529474665},{number:45,velocity:78,time:43.033,channel:5,string:4,fret:0,stringJitter:4.18104794382282,fretJitter:.12471367786626208},{number:52,velocity:97,time:43.15,channel:5,string:4,fret:7,stringJitter:3.9481034939691515,fretJitter:6.969890832460764},{number:46,velocity:37,time:43.164,channel:6,string:5,fret:6,stringJitter:4.845589980365731,fretJitter:5.844687720584641},{number:47,velocity:51,time:43.2,channel:6,string:5,fret:7,stringJitter:5.108814705175541,fretJitter:7.042897952029021},{number:52,velocity:40,time:43.338,channel:4,string:3,fret:2,stringJitter:2.8149573011810416,fretJitter:1.891321070600492},{number:45,velocity:85,time:43.342,channel:5,string:4,fret:0,stringJitter:4.143192096104121,fretJitter:.13900471797707087},{number:52,velocity:71,time:43.517,channel:5,string:4,fret:7,stringJitter:4.140644733853075,fretJitter:7.088184915952678},{number:45,velocity:66,time:43.591,channel:5,string:4,fret:0,stringJitter:3.880213950405595,fretJitter:-.18566079816186357},{number:47,velocity:64,time:43.62,channel:5,string:4,fret:2,stringJitter:3.837901837049043,fretJitter:2.154336116401028},{number:45,velocity:55,time:43.7,channel:5,string:4,fret:0,stringJitter:3.809248494994617,fretJitter:-.01587397698718105},{number:52,velocity:56,time:43.808,channel:5,string:4,fret:7,stringJitter:4.011427067112883,fretJitter:7.048159953269349},{number:52,velocity:32,time:43.946,channel:4,string:3,fret:2,stringJitter:3.070168147500154,fretJitter:2.0120709757345705},{number:45,velocity:83,time:43.949,channel:5,string:4,fret:0,stringJitter:3.8172315657770066,fretJitter:-.04692831387981},{number:52,velocity:61,time:44.083,channel:5,string:4,fret:7,stringJitter:4.132156789003692,fretJitter:6.977497995827291},{number:47,velocity:60,time:44.141,channel:5,string:4,fret:2,stringJitter:3.8742669840418826,fretJitter:2.005082600818577},{number:45,velocity:74,time:44.206,channel:5,string:4,fret:0,stringJitter:3.929047822638117,fretJitter:-.14534206629267218},{number:52,velocity:61,time:44.332,channel:5,string:4,fret:7,stringJitter:4.077363527181352,fretJitter:6.981630702181463},{number:47,velocity:51,time:44.402,channel:5,string:4,fret:2,stringJitter:3.968559059196354,fretJitter:2.141821754929665},{number:45,velocity:57,time:44.548,channel:5,string:4,fret:0,stringJitter:3.961571542594987,fretJitter:.04702764222942806},{number:52,velocity:52,time:44.608,channel:5,string:4,fret:7,stringJitter:4.08789101862244,fretJitter:7.029500279709699},{number:47,velocity:50,time:44.664,channel:5,string:4,fret:2,stringJitter:3.8495774844861925,fretJitter:1.8916268214582963},{number:52,velocity:38,time:44.733,channel:4,string:3,fret:2,stringJitter:2.9178112712636146,fretJitter:1.8674685170729501},{number:45,velocity:65,time:44.737,channel:5,string:4,fret:0,stringJitter:3.904415852317078,fretJitter:.06011804631342983},{number:52,velocity:78,time:44.862,channel:5,string:4,fret:7,stringJitter:4.175794319092954,fretJitter:7.094774719022329},{number:45,velocity:52,time:44.993,channel:5,string:4,fret:0,stringJitter:4.152713998704918,fretJitter:-.09463714985922139},{number:47,velocity:58,time:45.2,channel:5,string:4,fret:2,stringJitter:3.909198184161033,fretJitter:1.9618572415980975},{number:53,velocity:77,time:45.277,channel:5,string:4,fret:8,stringJitter:3.821964653670939,fretJitter:8.159052731902214},{number:52,velocity:13,time:45.496,channel:4,string:3,fret:2,stringJitter:2.977556781918297,fretJitter:1.8215108204034869},{number:45,velocity:45,time:45.498,channel:5,string:4,fret:0,stringJitter:4.019658324298773,fretJitter:.1943183655020068},{number:54,velocity:71,time:45.639,channel:5,string:4,fret:9,stringJitter:4.012196443794314,fretJitter:9.086340179447578},{number:45,velocity:64,time:45.828,channel:5,string:4,fret:0,stringJitter:4.186440838848528,fretJitter:-.17233036427730186},{number:52,velocity:10,time:45.831,channel:4,string:3,fret:2,stringJitter:2.9711869499472563,fretJitter:1.9699276955761307},{number:47,velocity:40,time:46.043,channel:5,string:4,fret:2,stringJitter:4.026399305773483,fretJitter:1.910737358588802},{number:45,velocity:54,time:46.148,channel:5,string:4,fret:0,stringJitter:3.843445673203856,fretJitter:-.1579244956398756},{number:54,velocity:39,time:46.275,channel:5,string:4,fret:9,stringJitter:4.128567162793445,fretJitter:9.195004377589951},{number:52,velocity:67,time:46.405,channel:4,string:3,fret:2,stringJitter:3.11304316052492,fretJitter:2.0312340571370457},{number:45,velocity:89,time:46.408,channel:5,string:4,fret:0,stringJitter:4.016823521513967,fretJitter:.023814467716833487},{number:40,velocity:10,time:46.543,channel:6,string:5,fret:0,stringJitter:5.178802107198464,fretJitter:-.17752473592897022},{number:54,velocity:77,time:46.566,channel:5,string:4,fret:9,stringJitter:4.158447079624742,fretJitter:9.187915281068033},{number:45,velocity:62,time:46.769,channel:5,string:4,fret:0,stringJitter:3.87344602172195,fretJitter:-.05220498671381524},{number:52,velocity:10,time:46.772,channel:4,string:3,fret:2,stringJitter:3.134031326382185,fretJitter:1.8766054023685215},{number:54,velocity:56,time:46.93,channel:5,string:4,fret:9,stringJitter:3.828640363846113,fretJitter:9.124274393329975},{number:47,velocity:42,time:46.987,channel:5,string:4,fret:2,stringJitter:4.153930914280564,fretJitter:1.8495450114310799},{number:46,velocity:34,time:47.074,channel:5,string:4,fret:1,stringJitter:4.039458770387808,fretJitter:.8238243836521886},{number:54,velocity:68,time:47.103,channel:5,string:4,fret:9,stringJitter:3.963968038290662,fretJitter:8.859991276575004},{number:55,velocity:83,time:47.347,channel:5,string:4,fret:10,stringJitter:3.8545358383005714,fretJitter:10.009539342410566},{number:55,velocity:71,time:47.702,channel:5,string:4,fret:10,stringJitter:3.8489893309131302,fretJitter:9.869140277336719},{number:52,velocity:55,time:47.912,channel:4,string:3,fret:2,stringJitter:3.145816799665859,fretJitter:1.8459148369843943},{number:45,velocity:83,time:47.916,channel:5,string:4,fret:0,stringJitter:4.043239705937016,fretJitter:.0661072337079828},{number:55,velocity:88,time:48.026,channel:5,string:4,fret:10,stringJitter:4.102863642612885,fretJitter:10.106374916351653},{number:52,velocity:49,time:48.182,channel:4,string:3,fret:2,stringJitter:3.1926693913640847,fretJitter:2.174353400021632},{number:45,velocity:71,time:48.186,channel:5,string:4,fret:0,stringJitter:3.815156799074419,fretJitter:-.13822122781065493},{number:50,velocity:10,time:48.249,channel:4,string:3,fret:0,stringJitter:2.8392518623073975,fretJitter:.16838020483675403},{number:50,velocity:41,time:48.264,channel:6,string:5,fret:10,stringJitter:5.112489042642219,fretJitter:10.03055995697194},{number:56,velocity:102,time:48.551,channel:5,string:4,fret:11,stringJitter:4.107781484823511,fretJitter:11.189568504346854},{number:55,velocity:80,time:48.568,channel:5,string:4,fret:10,stringJitter:4.0808225896339865,fretJitter:10.182870471455875},{number:47,velocity:47,time:48.684,channel:5,string:4,fret:2,stringJitter:3.8409676724175417,fretJitter:1.9967589175080078},{number:51,velocity:26,time:48.799,channel:4,string:3,fret:1,stringJitter:3.08261870503544,fretJitter:.9643152535236635},{number:45,velocity:66,time:48.803,channel:5,string:4,fret:0,stringJitter:3.813501207051154,fretJitter:-.09475168532903125},{number:56,velocity:92,time:48.868,channel:5,string:4,fret:11,stringJitter:4.018069112382181,fretJitter:11.06539356132408},{number:55,velocity:89,time:48.887,channel:5,string:4,fret:10,stringJitter:4.048199307280121,fretJitter:9.870930485875368},{number:47,velocity:75,time:49.004,channel:5,string:4,fret:2,stringJitter:3.9913396257506664,fretJitter:2.087740036699091},{number:45,velocity:78,time:49.133,channel:5,string:4,fret:0,stringJitter:3.9818239074288617,fretJitter:-.03607723031879617},{number:57,velocity:95,time:49.164,channel:5,string:4,fret:12,stringJitter:4.18300098956821,fretJitter:11.809288911526032},{number:47,velocity:41,time:49.322,channel:5,string:4,fret:2,stringJitter:3.8860521212203682,fretJitter:2.1583570882168783},{number:45,velocity:35,time:49.468,channel:5,string:4,fret:0,stringJitter:4.174606477833053,fretJitter:-.12022403592071412},{number:57,velocity:82,time:49.527,channel:5,string:4,fret:12,stringJitter:3.9120459368481915,fretJitter:12.091771879419845},{number:47,velocity:69,time:49.642,channel:5,string:4,fret:2,stringJitter:3.822061440919452,fretJitter:2.101254961715798},{number:45,velocity:57,time:49.817,channel:5,string:4,fret:0,stringJitter:3.9370587634655902,fretJitter:-.014681058772277746},{number:57,velocity:72,time:49.862,channel:5,string:4,fret:12,stringJitter:3.924510404190217,fretJitter:11.810919964273},{number:47,velocity:29,time:49.991,channel:5,string:4,fret:2,stringJitter:4.058718582387336,fretJitter:2.1528682356212263},{number:57,velocity:68,time:50.14,channel:5,string:4,fret:12,stringJitter:4.123784652948332,fretJitter:11.84475102656841},{number:45,velocity:65,time:50.252,channel:5,string:4,fret:0,stringJitter:3.8801738204108194,fretJitter:-.07192547356534407},{number:47,velocity:50,time:50.352,channel:5,string:4,fret:2,stringJitter:3.994622236157597,fretJitter:2.073669743979762},{number:45,velocity:47,time:50.483,channel:5,string:4,fret:0,stringJitter:3.844795122559092,fretJitter:.14445879160871158},{number:57,velocity:77,time:50.505,channel:5,string:4,fret:12,stringJitter:3.8091949830282674,fretJitter:11.98734167487183},{number:45,velocity:68,time:50.615,channel:5,string:4,fret:0,stringJitter:3.969485383944118,fretJitter:.04724171266601536},{number:47,velocity:65,time:50.686,channel:5,string:4,fret:2,stringJitter:4.140582235853749,fretJitter:1.8239376203311397},{number:52,velocity:37,time:50.794,channel:4,string:3,fret:2,stringJitter:2.8244455741807886,fretJitter:1.9960899110036041},{number:45,velocity:88,time:50.796,channel:5,string:4,fret:0,stringJitter:3.874205797473901,fretJitter:-.11632192590093525},{number:57,velocity:100,time:50.899,channel:5,string:4,fret:12,stringJitter:3.87796741334465,fretJitter:12.122783031127781},{number:45,velocity:91,time:51.05,channel:5,string:4,fret:0,stringJitter:4.031631203610506,fretJitter:.09981097677635936},{number:47,velocity:90,time:51.266,channel:5,string:4,fret:2,stringJitter:3.8045229511760583,fretJitter:1.9511628087106618},{number:47,velocity:67,time:51.742,channel:5,string:4,fret:2,stringJitter:4.097416012736435,fretJitter:1.9253663805970298},{number:47,velocity:99,time:52.049,channel:5,string:4,fret:2,stringJitter:4.086867539954764,fretJitter:1.9146390764001895},{number:47,velocity:69,time:53.125,channel:5,string:4,fret:2,stringJitter:3.8865009683375122,fretJitter:2.1083219877104984},{number:47,velocity:87,time:53.372,channel:5,string:4,fret:2,stringJitter:3.896785441039544,fretJitter:1.8124493597700315},{number:47,velocity:71,time:53.771,channel:5,string:4,fret:2,stringJitter:3.9188367109809676,fretJitter:2.083851432488578},{number:48,velocity:107,time:53.989,channel:5,string:4,fret:3,stringJitter:4.117009696974587,fretJitter:2.9065886131485414},{number:47,velocity:60,time:54.49,channel:5,string:4,fret:2,stringJitter:3.831293373335917,fretJitter:2.0277063730253784},{number:47,velocity:108,time:54.709,channel:5,string:4,fret:2,stringJitter:4.154536981760903,fretJitter:1.8983512069432273},{number:46,velocity:10,time:55.871,channel:6,string:5,fret:6,stringJitter:4.9879834958074385,fretJitter:6.00683754735986},{number:47,velocity:10,time:55.897,channel:6,string:5,fret:7,stringJitter:5.119724378118322,fretJitter:6.848841683518534},{number:70,velocity:10,time:57.195,channel:4,string:3,fret:20,stringJitter:3.1537929150629544,fretJitter:19.96522667791111},{number:57,velocity:10,time:57.217,channel:4,string:3,fret:7,stringJitter:2.8974403719528476,fretJitter:6.908364442497514},{number:52,velocity:10,time:57.225,channel:5,string:4,fret:7,stringJitter:3.9418496671702674,fretJitter:6.8055080466123155},{number:40,velocity:10,time:57.281,channel:5,string:4,fret:-5,stringJitter:3.897820301321991,fretJitter:-5.175734653583516},{number:45,velocity:108,time:57.318,channel:6,string:5,fret:5,stringJitter:5.197841301469486,fretJitter:5.080946076445797},{number:82,velocity:10,time:57.331,channel:3,string:2,fret:27,stringJitter:1.898868343623205,fretJitter:27.163499993862352},{number:52,velocity:10,time:57.332,channel:5,string:4,fret:7,stringJitter:3.8465503592392576,fretJitter:6.918578135695647},{number:53,velocity:104,time:57.351,channel:5,string:4,fret:8,stringJitter:3.9034828700267603,fretJitter:7.983925890258329},{number:65,velocity:46,time:57.355,channel:4,string:3,fret:15,stringJitter:2.864389568329549,fretJitter:15.017050878408416},{number:52,velocity:100,time:57.361,channel:5,string:4,fret:7,stringJitter:4.19304172254028,fretJitter:6.953415921945986},{number:84,velocity:10,time:57.369,channel:2,string:1,fret:25,stringJitter:1.1039575494006244,fretJitter:24.976526102246222},{number:76,velocity:39,time:57.377,channel:4,string:3,fret:26,stringJitter:2.90736403293318,fretJitter:25.858844235892764},{number:58,velocity:118,time:57.391,channel:4,string:3,fret:8,stringJitter:2.8795204795861475,fretJitter:8.107331792262716},{number:67,velocity:10,time:57.406,channel:3,string:2,fret:12,stringJitter:2.1636521873829286,fretJitter:11.833087931783524},{number:57,velocity:119,time:57.434,channel:4,string:3,fret:7,stringJitter:2.8007641788431425,fretJitter:7.14680980604992},{number:61,velocity:99,time:57.435,channel:3,string:2,fret:6,stringJitter:1.9280586981194106,fretJitter:6.127275484326595},{number:60,velocity:98,time:57.447,channel:3,string:2,fret:5,stringJitter:1.9525136890081856,fretJitter:5.093793489953166},{number:64,velocity:99,time:57.472,channel:2,string:1,fret:5,stringJitter:1.0395197042893007,fretJitter:5.154904497867641},{number:69,velocity:61,time:57.502,channel:1,string:0,fret:5,stringJitter:.03002199705194313,fretJitter:5.082301319525345},{number:69,velocity:10,time:68.776,channel:2,string:1,fret:10,stringJitter:.9522314680678254,fretJitter:9.950973496841245},{number:60,velocity:127,time:70.567,channel:2,string:1,fret:1,stringJitter:.9577240178386256,fretJitter:1.0966643202493485},{number:60,velocity:10,time:70.587,channel:1,string:0,fret:-4,stringJitter:-.004148214225425928,fretJitter:-3.870771213957345},{number:59,velocity:113,time:70.93,channel:2,string:1,fret:0,stringJitter:1.0849773454584595,fretJitter:-.15951907686085562},{number:55,velocity:48,time:71.029,channel:3,string:2,fret:0,stringJitter:1.8829488565423738,fretJitter:-.035757957792295694},{number:55,velocity:62,time:71.463,channel:3,string:2,fret:0,stringJitter:2.010567038279527,fretJitter:.10632067543175659},{number:52,velocity:80,time:71.61389999985695,channel:4,string:3,fret:2,stringJitter:3.170727476392511,fretJitter:1.9667810089806923},{number:55,velocity:123,time:71.806,channel:3,string:2,fret:0,stringJitter:1.8668313349098677,fretJitter:.07541227046997401},{number:75,velocity:16,time:72.655,channel:3,string:2,fret:20,stringJitter:2.1437771451674545,fretJitter:19.955176690051967},{number:57,velocity:127,time:72.668,channel:3,string:2,fret:2,stringJitter:1.973106375637657,fretJitter:2.1954097719095005},{number:58,velocity:122,time:72.991,channel:3,string:2,fret:3,stringJitter:1.9705888746156188,fretJitter:2.913831417443554},{number:57,velocity:118,time:73.107,channel:3,string:2,fret:2,stringJitter:1.8425675985935892,fretJitter:2.0104566971461892},{number:58,velocity:114,time:73.238,channel:3,string:2,fret:3,stringJitter:1.8424079669022326,fretJitter:3.1992991153327313},{number:57,velocity:114,time:73.324,channel:3,string:2,fret:2,stringJitter:2.0324502677524867,fretJitter:2.002677341363683},{number:55,velocity:110,time:73.542,channel:3,string:2,fret:0,stringJitter:2.073007475546549,fretJitter:.002448066811610694},{number:50,velocity:59,time:73.623,channel:4,string:3,fret:0,stringJitter:2.8011375992696506,fretJitter:-.06904083136802175},{number:52,velocity:48,time:73.702,channel:4,string:3,fret:2,stringJitter:2.988466127953393,fretJitter:2.130816124559305},{number:55,velocity:104,time:73.898,channel:3,string:2,fret:0,stringJitter:2.1467917663661265,fretJitter:.05149534619289771},{number:50,velocity:26,time:74.572,channel:4,string:3,fret:0,stringJitter:3.0724587357321034,fretJitter:.09945977647741665},{number:57,velocity:98,time:74.619,channel:3,string:2,fret:2,stringJitter:1.806530098213404,fretJitter:1.9641117011217237},{number:58,velocity:91,time:75.022,channel:3,string:2,fret:3,stringJitter:1.9471947765106772,fretJitter:2.853246215951857},{number:57,velocity:88,time:75.095,channel:3,string:2,fret:2,stringJitter:2.1782668378558676,fretJitter:1.8243819176439122},{number:59,velocity:91,time:75.456,channel:2,string:1,fret:0,stringJitter:.9060607788014952,fretJitter:.1498745716301124},{number:60,velocity:81,time:75.589,channel:2,string:1,fret:1,stringJitter:1.1267167239889642,fretJitter:1.1425290895154705},{number:59,velocity:66,time:75.719,channel:2,string:1,fret:0,stringJitter:.8164024353622805,fretJitter:.1768876136264102},{number:55,velocity:40,time:75.783,channel:3,string:2,fret:0,stringJitter:2.13837381075533,fretJitter:-.03020981455913905},{number:57,velocity:32,time:75.821,channel:3,string:2,fret:2,stringJitter:1.9550294323104749,fretJitter:1.8340903331083234},{number:55,velocity:18,time:75.936,channel:3,string:2,fret:0,stringJitter:1.9915746712031106,fretJitter:.11866257874889596},{number:59,velocity:69,time:75.978,channel:2,string:1,fret:0,stringJitter:.9300997201658108,fretJitter:-.15814621402297535},{number:60,velocity:60,time:76.082,channel:2,string:1,fret:1,stringJitter:1.1975725993461008,fretJitter:.861458957927259},{number:59,velocity:53,time:76.184,channel:2,string:1,fret:0,stringJitter:.8543047420491391,fretJitter:.025396088851816767},{number:55,velocity:30,time:76.258,channel:3,string:2,fret:0,stringJitter:1.8559907707068835,fretJitter:.11353175551353507},{number:57,velocity:29,time:76.285,channel:3,string:2,fret:2,stringJitter:2.0673709035639742,fretJitter:1.9607151518435033},{number:55,velocity:13,time:76.387,channel:3,string:2,fret:0,stringJitter:1.9338945195928297,fretJitter:-.13047122376350268},{number:59,velocity:70,time:76.482,channel:2,string:1,fret:0,stringJitter:1.0688797872248879,fretJitter:-.020203258938640813},{number:60,velocity:66,time:76.546,channel:2,string:1,fret:1,stringJitter:.8103645253277773,fretJitter:.9762407313046666},{number:59,velocity:50,time:76.662,channel:2,string:1,fret:0,stringJitter:1.1664657408144752,fretJitter:.1808432776480202},{number:60,velocity:46,time:76.749,channel:2,string:1,fret:1,stringJitter:.9241203945792617,fretJitter:1.0581876326232935},{number:59,velocity:42,time:76.851,channel:2,string:1,fret:0,stringJitter:.9109753454721237,fretJitter:-.1105411597557696},{number:57,velocity:13,time:76.967,channel:3,string:2,fret:2,stringJitter:2.1023286698818215,fretJitter:2.0001229033173957},{number:55,velocity:11,time:77.083,channel:3,string:2,fret:0,stringJitter:2.1687413533386013,fretJitter:-.0009327850205004041},{number:57,velocity:10,time:77.271,channel:3,string:2,fret:2,stringJitter:1.8580849501692236,fretJitter:2.008832210288312},{number:55,velocity:51,time:77.415,channel:3,string:2,fret:0,stringJitter:1.8635653749380698,fretJitter:-.0005184258081342819},{number:56,velocity:10,time:77.553,channel:4,string:3,fret:6,stringJitter:2.8645853277877955,fretJitter:5.99036689683215},{number:52,velocity:65,time:77.574,channel:4,string:3,fret:2,stringJitter:2.817559926908286,fretJitter:1.8472581112453987},{number:50,velocity:40,time:77.764,channel:4,string:3,fret:0,stringJitter:3.0964162187120556,fretJitter:.16525770617414237},{number:55,velocity:85,time:77.798,channel:3,string:2,fret:0,stringJitter:2.0932948082236353,fretJitter:-.04952548998758682},{number:57,velocity:69,time:78.012,channel:3,string:2,fret:2,stringJitter:2.1835857478014304,fretJitter:1.9795842125752396},{number:58,velocity:124,time:78.366,channel:3,string:2,fret:3,stringJitter:2.1745700076516545,fretJitter:3.038224602700511},{number:59,velocity:111,time:78.549,channel:3,string:2,fret:4,stringJitter:2.003392694498203,fretJitter:4.04854781726571},{number:58,velocity:105,time:78.693,channel:3,string:2,fret:3,stringJitter:2.1062743114731286,fretJitter:2.9112944178601516},{number:57,velocity:103,time:78.723,channel:3,string:2,fret:2,stringJitter:2.065849597959494,fretJitter:1.8145330854370314},{number:56,velocity:93,time:78.839,channel:3,string:2,fret:1,stringJitter:1.8022520367241595,fretJitter:1.0586577262202803},{number:55,velocity:87,time:78.881,channel:3,string:2,fret:0,stringJitter:1.8230312187746651,fretJitter:-.19499260633954024},{number:52,velocity:79,time:78.986,channel:4,string:3,fret:2,stringJitter:2.819489527109666,fretJitter:1.846082261614614},{number:50,velocity:61,time:79.173,channel:4,string:3,fret:0,stringJitter:3.070083915788524,fretJitter:-.11948754256980738},{number:52,velocity:80,time:79.522,channel:4,string:3,fret:2,stringJitter:3.1742637844483683,fretJitter:2.1208212884750415},{number:53,velocity:73,time:79.578,channel:4,string:3,fret:3,stringJitter:3.011830551414814,fretJitter:3.1655376261453267},{number:54,velocity:71,time:79.622,channel:4,string:3,fret:4,stringJitter:2.8639634740626647,fretJitter:4.0821238259909585},{number:55,velocity:71,time:79.695,channel:4,string:3,fret:5,stringJitter:2.9779767478867814,fretJitter:4.930016164176881},{number:57,velocity:55,time:80.392,channel:4,string:3,fret:7,stringJitter:3.086983279413228,fretJitter:6.884097329024001},{number:60,velocity:83,time:80.572,channel:3,string:2,fret:5,stringJitter:2.1210479406653837,fretJitter:5.044253892632007},{number:62,velocity:71,time:80.697,channel:3,string:2,fret:7,stringJitter:1.8566533307376063,fretJitter:6.955865805562495},{number:62,velocity:92,time:80.723,channel:3,string:2,fret:7,stringJitter:2.0254088803673063,fretJitter:6.8847421060779554},{number:63,velocity:67,time:80.871,channel:3,string:2,fret:8,stringJitter:1.8462105147407168,fretJitter:7.8629880912375745},{number:77,velocity:29,time:81.409,channel:3,string:2,fret:22,stringJitter:1.937015408728875,fretJitter:21.928086575498245},{number:64,velocity:124,time:81.422,channel:3,string:2,fret:9,stringJitter:2.004486108680557,fretJitter:9.009257523490021},{number:63,velocity:93,time:82.118,channel:3,string:2,fret:8,stringJitter:2.1789958457909506,fretJitter:7.998007251668483},{number:62,velocity:91,time:82.234,channel:3,string:2,fret:7,stringJitter:1.9474509631117722,fretJitter:6.878111651745075},{number:60,velocity:90,time:82.35,channel:3,string:2,fret:5,stringJitter:2.1940505302645974,fretJitter:4.8939499828821},{number:57,velocity:107,time:82.398,channel:4,string:3,fret:7,stringJitter:2.9392103480245395,fretJitter:6.9023831912772895},{number:61,velocity:94,time:82.55,channel:3,string:2,fret:6,stringJitter:2.0406714682655496,fretJitter:5.810342400730568},{number:60,velocity:99,time:82.553,channel:3,string:2,fret:5,stringJitter:2.114298836467118,fretJitter:4.983167396953301},{number:61,velocity:84,time:82.977,channel:3,string:2,fret:6,stringJitter:1.923049304422347,fretJitter:6.1245402791180386},{number:60,velocity:84,time:83.02,channel:3,string:2,fret:5,stringJitter:2.129944864356827,fretJitter:5.00558670145536},{number:56,velocity:10,time:84.497,channel:4,string:3,fret:6,stringJitter:2.9401716725994786,fretJitter:6.082138272880584},{number:57,velocity:10,time:84.527,channel:4,string:3,fret:7,stringJitter:3.1353564850087707,fretJitter:7.128087077249617},{number:56,velocity:10,time:84.711,channel:4,string:3,fret:6,stringJitter:3.0661585653305785,fretJitter:6.096246803964858},{number:57,velocity:109,time:84.725,channel:4,string:3,fret:7,stringJitter:3.066792046547398,fretJitter:6.834317446279417},{number:60,velocity:81,time:84.746,channel:3,string:2,fret:5,stringJitter:2.0985863686201722,fretJitter:4.895178870487667},{number:55,velocity:125,time:85.095,channel:4,string:3,fret:5,stringJitter:2.9414058613691436,fretJitter:5.046572207539897},{number:61,velocity:69,time:85.115,channel:3,string:2,fret:6,stringJitter:2.1234251039656318,fretJitter:6.179186564985409},{number:55,velocity:127,time:85.468,channel:4,string:3,fret:5,stringJitter:3.0895351181020607,fretJitter:4.8769414176922155},{number:62,velocity:97,time:85.487,channel:3,string:2,fret:7,stringJitter:2.1972616416026742,fretJitter:6.986088500935576},{number:63,velocity:82,time:85.994,channel:3,string:2,fret:8,stringJitter:1.9885941478575744,fretJitter:8.036539916840622},{number:50,velocity:102,time:86.253,channel:4,string:3,fret:0,stringJitter:3.167875624565366,fretJitter:.10698293306206344},{number:55,velocity:87,time:86.439,channel:4,string:3,fret:5,stringJitter:2.878447395048303,fretJitter:5.0696393659084},{number:57,velocity:74,time:86.616,channel:4,string:3,fret:7,stringJitter:2.974732398654704,fretJitter:7.178818093621379},{number:60,velocity:122,time:86.885,channel:3,string:2,fret:5,stringJitter:1.8699817034271575,fretJitter:4.833635749527314},{number:57,velocity:23,time:87.266,channel:4,string:3,fret:7,stringJitter:2.8642692119690265,fretJitter:6.835189874867966},{number:57,velocity:71,time:87.284,channel:4,string:3,fret:7,stringJitter:2.9229940148209304,fretJitter:7.004814427187521},{number:69,velocity:47,time:87.487,channel:4,string:3,fret:19,stringJitter:2.868528313649831,fretJitter:18.88146150650979},{number:57,velocity:127,time:87.632,channel:4,string:3,fret:7,stringJitter:3.1403614890163865,fretJitter:6.857232798885548},{number:45,velocity:10,time:87.648,channel:5,string:4,fret:0,stringJitter:4.154281288345267,fretJitter:-.03889004569476287},{number:60,velocity:89,time:87.65,channel:3,string:2,fret:5,stringJitter:1.9807471256797111,fretJitter:4.944570316414838},{number:57,velocity:127,time:87.96,channel:4,string:3,fret:7,stringJitter:3.194474927217514,fretJitter:7.158314097977467},{number:60,velocity:103,time:87.973,channel:3,string:2,fret:5,stringJitter:2.0884716335188123,fretJitter:4.912074952286949},{number:55,velocity:124,time:88.625,channel:4,string:3,fret:5,stringJitter:2.851767724383209,fretJitter:4.973843767093333},{number:60,velocity:85,time:88.636,channel:3,string:2,fret:5,stringJitter:1.9895108802552355,fretJitter:4.826921941189384},{number:57,velocity:127,time:89.122,channel:4,string:3,fret:7,stringJitter:2.979508834065281,fretJitter:7.145050799670163},{number:61,velocity:75,time:89.136,channel:3,string:2,fret:6,stringJitter:2.1907708324725457,fretJitter:5.851256180938232},{number:60,velocity:80,time:89.141,channel:3,string:2,fret:5,stringJitter:1.886735483509904,fretJitter:4.856628093765597},{number:57,velocity:124,time:89.655,channel:4,string:3,fret:7,stringJitter:2.948906388310993,fretJitter:7.008888721234185},{number:60,velocity:93,time:89.668,channel:3,string:2,fret:5,stringJitter:2.0875851338621003,fretJitter:5.118132875515847},{number:55,velocity:123,time:90.055,channel:4,string:3,fret:5,stringJitter:2.930870109859764,fretJitter:5.038238668466817},{number:60,velocity:90,time:90.069,channel:3,string:2,fret:5,stringJitter:2.0513042173210563,fretJitter:5.155134957264804},{number:56,velocity:113,time:90.266,channel:4,string:3,fret:6,stringJitter:2.8983183140755284,fretJitter:5.8570538031220405},{number:60,velocity:66,time:90.282,channel:3,string:2,fret:5,stringJitter:2.131542578013738,fretJitter:4.927237588495147},{number:57,velocity:121,time:90.287,channel:4,string:3,fret:7,stringJitter:2.8225794097775165,fretJitter:6.865165064979718},{number:84,velocity:10,time:90.427,channel:2,string:1,fret:25,stringJitter:.8296228507902653,fretJitter:25.16027974446036},{number:57,velocity:127,time:90.634,channel:4,string:3,fret:7,stringJitter:3.1191590413699877,fretJitter:7.126757287193878},{number:60,velocity:76,time:90.647,channel:3,string:2,fret:5,stringJitter:2.135165204827776,fretJitter:4.844245963508637},{number:50,velocity:117,time:91.032,channel:4,string:3,fret:0,stringJitter:3.1979507543845576,fretJitter:.15044670154476042},{number:60,velocity:91,time:91.228,channel:3,string:2,fret:5,stringJitter:1.9827881056855403,fretJitter:4.996149535707335},{number:62,velocity:89,time:91.26,channel:3,string:2,fret:7,stringJitter:2.1142718673388403,fretJitter:6.958548060399856},{number:65,velocity:127,time:91.557,channel:3,string:2,fret:10,stringJitter:2.0567890182157726,fretJitter:10.1252274544953},{number:67,velocity:127,time:91.578,channel:3,string:2,fret:12,stringJitter:2.0749006203511087,fretJitter:11.819795296225898},{number:51,velocity:127,time:91.872,channel:3,string:2,fret:-4,stringJitter:1.999741547660242,fretJitter:-4.046154162095061},{number:63,velocity:10,time:91.873,channel:2,string:1,fret:4,stringJitter:1.0283592491453029,fretJitter:3.8049276328582575},{number:62,velocity:127,time:91.898,channel:3,string:2,fret:7,stringJitter:1.8250736897210627,fretJitter:6.935580118099832},{number:60,velocity:100,time:92.108,channel:3,string:2,fret:5,stringJitter:2.0634302106344995,fretJitter:5.0327461918177745},{number:57,velocity:71,time:92.307,channel:4,string:3,fret:7,stringJitter:3.1539922175720183,fretJitter:7.126387484109998},{number:55,velocity:66,time:92.524,channel:4,string:3,fret:5,stringJitter:2.975371373131587,fretJitter:5.026017531840938},{number:57,velocity:88,time:92.889,channel:4,string:3,fret:7,stringJitter:2.8889252112156987,fretJitter:6.824663527222392},{number:64,velocity:50,time:93.005,channel:1,string:0,fret:0,stringJitter:-.13893036540474873,fretJitter:-.12288197995628361},{number:52,velocity:103,time:93.124,channel:5,string:4,fret:7,stringJitter:4.197269006083766,fretJitter:7.196695861774265},{number:53,velocity:92,time:93.335,channel:5,string:4,fret:8,stringJitter:3.934619251925457,fretJitter:8.147774479789705},{number:52,velocity:81,time:93.437,channel:5,string:4,fret:7,stringJitter:4.025527768009778,fretJitter:6.943396905998201},{number:52,velocity:68,time:93.999,channel:5,string:4,fret:7,stringJitter:3.8927936525924114,fretJitter:6.972563317201001},{number:53,velocity:60,time:94.106,channel:5,string:4,fret:8,stringJitter:4.032371795483348,fretJitter:8.030842800713595},{number:54,velocity:44,time:94.888,channel:5,string:4,fret:9,stringJitter:4.00581066695924,fretJitter:8.997212382814913},{number:55,velocity:43,time:94.917,channel:5,string:4,fret:10,stringJitter:4.1420688702518795,fretJitter:10.119818373109268},{number:56,velocity:41,time:95.207,channel:5,string:4,fret:11,stringJitter:3.9155330836215434,fretJitter:10.885957274280752},{number:55,velocity:41,time:95.282,channel:5,string:4,fret:10,stringJitter:3.9017569184158925,fretJitter:10.114090239833125},{number:56,velocity:40,time:95.367,channel:5,string:4,fret:11,stringJitter:4.076775847603771,fretJitter:11.137946492514597},{number:57,velocity:40,time:95.397,channel:5,string:4,fret:12,stringJitter:3.980475859887376,fretJitter:11.820579321475769},{number:58,velocity:38,time:95.977,channel:5,string:4,fret:13,stringJitter:4.1969313861130075,fretJitter:13.166844849641484},{number:57,velocity:38,time:96.048,channel:5,string:4,fret:12,stringJitter:4.184455770769138,fretJitter:11.8456823829492},{number:58,velocity:37,time:96.18,channel:5,string:4,fret:13,stringJitter:4.146763287272479,fretJitter:12.805008877049794},{number:57,velocity:37,time:96.252,channel:5,string:4,fret:12,stringJitter:4.157521210990117,fretJitter:11.866078367397739},{number:50,velocity:105,time:97.912,channel:5,string:4,fret:5,stringJitter:3.935048990129177,fretJitter:4.900544273199355},{number:52,velocity:87,time:98.153,channel:5,string:4,fret:7,stringJitter:3.80413694764904,fretJitter:7.065794702042368},{number:55,velocity:75,time:98.258,channel:4,string:3,fret:5,stringJitter:2.927021931476385,fretJitter:5.166933587477671},{number:57,velocity:105,time:98.606,channel:4,string:3,fret:7,stringJitter:3.087090875977828,fretJitter:6.879573509009704},{number:55,velocity:103,time:98.893,channel:4,string:3,fret:5,stringJitter:3.1398040466305894,fretJitter:5.1935189277504765},{number:52,velocity:43,time:99.006,channel:5,string:4,fret:7,stringJitter:4.138674019721708,fretJitter:7.093869477331462},{number:52,velocity:43,time:99.245,channel:5,string:4,fret:7,stringJitter:3.8960969137635293,fretJitter:7.03703818733848},{number:50,velocity:10,time:99.721,channel:5,string:4,fret:5,stringJitter:4.044977389088034,fretJitter:4.8760223500159885},{number:48,velocity:46,time:99.806,channel:6,string:5,fret:8,stringJitter:5.065696002244238,fretJitter:7.803025751424008},{number:47,velocity:70,time:99.975,channel:6,string:5,fret:7,stringJitter:4.826127277941111,fretJitter:6.906684891332601},{number:57,velocity:52,time:100.13,channel:4,string:3,fret:7,stringJitter:2.8848503296629002,fretJitter:7.061999599196573},{number:58,velocity:127,time:100.183,channel:4,string:3,fret:8,stringJitter:2.9955292167889596,fretJitter:7.946757715301627},{number:57,velocity:127,time:100.243,channel:4,string:3,fret:7,stringJitter:3.006134158956673,fretJitter:7.056996559069336},{number:58,velocity:127,time:100.577,channel:4,string:3,fret:8,stringJitter:2.8787168066888182,fretJitter:8.170655988740814},{number:57,velocity:127,time:100.664,channel:4,string:3,fret:7,stringJitter:3.17129131312868,fretJitter:6.820787050916877},{number:57,velocity:83,time:101.25,channel:4,string:3,fret:7,stringJitter:2.980372933226781,fretJitter:7.013113782992326},{number:60,velocity:105,time:101.485,channel:3,string:2,fret:5,stringJitter:2.0792764800892427,fretJitter:4.936065932698832},{number:57,velocity:23,time:101.621,channel:4,string:3,fret:7,stringJitter:3.0908215700720696,fretJitter:7.079983108866982},{number:57,velocity:79,time:101.655,channel:4,string:3,fret:7,stringJitter:2.9552351195902884,fretJitter:7.154016694982165},{number:60,velocity:98,time:101.822,channel:3,string:2,fret:5,stringJitter:2.0477415143090876,fretJitter:5.039685149020709},{number:62,velocity:78,time:101.941,channel:3,string:2,fret:7,stringJitter:1.8599042001626356,fretJitter:6.83213752128759},{number:62,velocity:100,time:101.953,channel:3,string:2,fret:7,stringJitter:1.9327558707805927,fretJitter:6.934531883614743},{number:62,velocity:66,time:102.18,channel:3,string:2,fret:7,stringJitter:1.9085381164404198,fretJitter:6.926499379352729},{number:62,velocity:127,time:102.195,channel:3,string:2,fret:7,stringJitter:1.8117788825261272,fretJitter:6.942657663709045},{number:63,velocity:127,time:102.435,channel:3,string:2,fret:8,stringJitter:1.8452195287130757,fretJitter:7.97722507544195},{number:62,velocity:127,time:102.45,channel:3,string:2,fret:7,stringJitter:2.0297423360087343,fretJitter:7.050926888538993},{number:60,velocity:115,time:102.654,channel:3,string:2,fret:5,stringJitter:2.0913024205610884,fretJitter:5.1740438918775595},{number:57,velocity:92,time:102.842,channel:4,string:3,fret:7,stringJitter:2.8025192895098736,fretJitter:7.018251104153521},{number:50,velocity:76,time:103.145,channel:4,string:3,fret:0,stringJitter:2.809989764604314,fretJitter:-.1907809003861754},{number:60,velocity:102,time:103.217,channel:3,string:2,fret:5,stringJitter:2.038540773681805,fretJitter:4.897827322001632},{number:61,velocity:101,time:103.406,channel:3,string:2,fret:6,stringJitter:1.9135405031241381,fretJitter:6.195008828299235},{number:60,velocity:96,time:103.523,channel:3,string:2,fret:5,stringJitter:2.0101316545390677,fretJitter:5.099884642166499},{number:57,velocity:38,time:103.651,channel:4,string:3,fret:7,stringJitter:3.1838553332230006,fretJitter:6.985597097233305},{number:60,velocity:97,time:103.875,channel:3,string:2,fret:5,stringJitter:1.9016849403201825,fretJitter:5.156723729440784},{number:62,velocity:80,time:104.016,channel:3,string:2,fret:7,stringJitter:2.133400031966091,fretJitter:7.0145128116739235},{number:62,velocity:115,time:104.092,channel:3,string:2,fret:7,stringJitter:1.9478116994147616,fretJitter:7.108964780424227},{number:65,velocity:127,time:104.599,channel:3,string:2,fret:10,stringJitter:1.8931734860907135,fretJitter:10.191998196577886},{number:64,velocity:127,time:104.612,channel:3,string:2,fret:9,stringJitter:1.957953149887989,fretJitter:8.991064066754436},{number:63,velocity:113,time:104.829,channel:3,string:2,fret:8,stringJitter:1.8610187635507693,fretJitter:7.871040794298289},{number:62,velocity:113,time:104.902,channel:3,string:2,fret:7,stringJitter:1.9963881715740948,fretJitter:7.044764079969457},{number:60,velocity:109,time:105.032,channel:3,string:2,fret:5,stringJitter:1.970613171933777,fretJitter:4.983951831642268},{number:57,velocity:75,time:105.097,channel:4,string:3,fret:7,stringJitter:2.926490701828041,fretJitter:7.104624314556079},{number:60,velocity:114,time:105.258,channel:3,string:2,fret:5,stringJitter:1.8451204089224786,fretJitter:4.972277006568449},{number:61,velocity:108,time:105.467,channel:3,string:2,fret:6,stringJitter:1.8936011475749643,fretJitter:6.055366405817688},{number:60,velocity:104,time:105.554,channel:3,string:2,fret:5,stringJitter:1.8790809471309011,fretJitter:5.0598178967335015},{number:50,velocity:21,time:105.64,channel:4,string:3,fret:0,stringJitter:2.8474685927307415,fretJitter:-.0820096992581667},{number:55,velocity:100,time:105.757,channel:3,string:2,fret:0,stringJitter:1.9618413542331679,fretJitter:.1200855673853491},{number:69,velocity:127,time:106.401,channel:2,string:1,fret:10,stringJitter:1.044419298905434,fretJitter:9.933853054999185},{number:68,velocity:127,time:106.598,channel:2,string:1,fret:9,stringJitter:1.1419039761809378,fretJitter:9.111402858834143},{number:67,velocity:122,time:106.715,channel:2,string:1,fret:8,stringJitter:.887587649669058,fretJitter:8.030974646763205},{number:66,velocity:120,time:106.845,channel:2,string:1,fret:7,stringJitter:1.1709899557187493,fretJitter:6.830177947492103},{number:64,velocity:120,time:106.904,channel:2,string:1,fret:5,stringJitter:.9159602977395143,fretJitter:5.000337545819516},{number:64,velocity:83,time:106.91,channel:2,string:1,fret:5,stringJitter:1.1584438412266298,fretJitter:5.1909018813612935},{number:62,velocity:80,time:107.099,channel:3,string:2,fret:7,stringJitter:1.886536081164515,fretJitter:7.154632386514145},{number:64,velocity:81,time:107.302,channel:2,string:1,fret:5,stringJitter:.8210480140376639,fretJitter:5.131944381445494},{number:65,velocity:57,time:107.455,channel:2,string:1,fret:6,stringJitter:.938765120836929,fretJitter:6.1293000874096935},{number:67,velocity:127,time:107.484,channel:2,string:1,fret:8,stringJitter:1.1460470839344399,fretJitter:8.069176942853053},{number:67,velocity:44,time:107.807,channel:2,string:1,fret:8,stringJitter:.8948749209796908,fretJitter:8.087427528023426},{number:57,velocity:127,time:107.815,channel:2,string:1,fret:-2,stringJitter:1.1698956206379807,fretJitter:-2.047483767042293},{number:67,velocity:127,time:107.848,channel:2,string:1,fret:8,stringJitter:1.1762044664260451,fretJitter:8.199183198462881},{number:68,velocity:127,time:107.92,channel:2,string:1,fret:9,stringJitter:1.140080873314322,fretJitter:9.177324764360689},{number:69,velocity:125,time:108.5,channel:2,string:1,fret:10,stringJitter:1.0158586328823078,fretJitter:9.941326242901042},{number:60,velocity:120,time:113.05,channel:3,string:2,fret:5,stringJitter:1.993063672605258,fretJitter:4.844641458510499},{number:62,velocity:108,time:113.361,channel:3,string:2,fret:7,stringJitter:2.07761482423073,fretJitter:6.9485934231719355},{number:64,velocity:68,time:113.55,channel:2,string:1,fret:5,stringJitter:1.0287034744246397,fretJitter:5.003674235776154},{number:61,velocity:71,time:113.741,channel:3,string:2,fret:6,stringJitter:1.8432867071963595,fretJitter:6.056057940805568},{number:62,velocity:75,time:113.768,channel:3,string:2,fret:7,stringJitter:1.845079404963335,fretJitter:6.94605206889115},{number:64,velocity:98,time:113.931,channel:2,string:1,fret:5,stringJitter:1.064227385955586,fretJitter:4.952789429886136},{number:67,velocity:102,time:114.114,channel:2,string:1,fret:8,stringJitter:1.1697094031255424,fretJitter:8.139795986595253},{number:68,velocity:127,time:114.50889999985695,channel:2,string:1,fret:9,stringJitter:1.0542238040485274,fretJitter:8.822661469373852},{number:67,velocity:127,time:114.521,channel:2,string:1,fret:8,stringJitter:1.0054957001825684,fretJitter:7.948778239302299},{number:68,velocity:127,time:114.623,channel:2,string:1,fret:9,stringJitter:1.0008561306164296,fretJitter:9.00500485236409},{number:67,velocity:127,time:114.827,channel:2,string:1,fret:8,stringJitter:.9782268259085558,fretJitter:7.896179857231036},{number:67,velocity:127,time:114.989,channel:2,string:1,fret:8,stringJitter:1.111502672873063,fretJitter:8.199910737041227},{number:67,velocity:127,time:116.505,channel:2,string:1,fret:8,stringJitter:1.150169412924256,fretJitter:7.994327945206984},{number:64,velocity:45,time:117.007,channel:2,string:1,fret:5,stringJitter:1.0119901955492225,fretJitter:5.086151209979286},{number:68,velocity:127,time:117.018,channel:2,string:1,fret:9,stringJitter:.9422349653269644,fretJitter:9.091827694863422},{number:67,velocity:127,time:117.046,channel:2,string:1,fret:8,stringJitter:.8373485069995449,fretJitter:7.976785653089588},{number:68,velocity:127,time:117.221,channel:2,string:1,fret:9,stringJitter:1.0677041436714396,fretJitter:8.922426299036363},{number:69,velocity:127,time:118.034,channel:2,string:1,fret:10,stringJitter:.9565454246933858,fretJitter:10.0028372607623},{number:65,velocity:10,time:121.213,channel:2,string:1,fret:6,stringJitter:.8175487009545672,fretJitter:6.036796193831116},{number:65,velocity:127,time:121.23,channel:2,string:1,fret:6,stringJitter:.8783036080498754,fretJitter:6.0900936656117315},{number:64,velocity:127,time:121.241,channel:2,string:1,fret:5,stringJitter:.9904010270596514,fretJitter:5.1782250021378715},{number:62,velocity:100,time:121.467,channel:3,string:2,fret:7,stringJitter:2.1269086053506694,fretJitter:6.913701983526817},{number:67,velocity:117,time:121.806,channel:2,string:1,fret:8,stringJitter:.9347526460433331,fretJitter:8.008555155154735},{number:68,velocity:103,time:122.2,channel:2,string:1,fret:9,stringJitter:1.168870508548313,fretJitter:9.093616286385942},{number:69,velocity:105,time:122.228,channel:2,string:1,fret:10,stringJitter:1.0001287385680075,fretJitter:10.155549232744812},{number:69,velocity:109,time:122.764,channel:2,string:1,fret:10,stringJitter:1.1872600831562317,fretJitter:10.189309212098303},{number:69,velocity:110,time:123.77,channel:2,string:1,fret:10,stringJitter:.8652662827094217,fretJitter:10.137986661612029},{number:69,velocity:114,time:123.991,channel:2,string:1,fret:10,stringJitter:1.1741607723732117,fretJitter:9.892457153663445},{number:67,velocity:71,time:124.59,channel:3,string:2,fret:12,stringJitter:1.9885312879357666,fretJitter:12.071810814448336},{number:67,velocity:102,time:124.842,channel:3,string:2,fret:12,stringJitter:1.9851744003354703,fretJitter:11.981128771716465},{number:68,velocity:72,time:125.258,channel:3,string:2,fret:13,stringJitter:1.938535326305623,fretJitter:13.177357523661225},{number:72,velocity:64,time:125.279,channel:2,string:1,fret:13,stringJitter:.9506758587937332,fretJitter:13.018724398704572},{number:72,velocity:118,time:125.515,channel:2,string:1,fret:13,stringJitter:1.0262731781735759,fretJitter:12.963741705543486},{number:69,velocity:71,time:126.234,channel:3,string:2,fret:14,stringJitter:2.0830064917014983,fretJitter:14.127624275623477},{number:70,velocity:74,time:126.479,channel:3,string:2,fret:15,stringJitter:2.0490125171696296,fretJitter:15.084140585952591},{number:69,velocity:72,time:126.552,channel:3,string:2,fret:14,stringJitter:1.865337086346254,fretJitter:14.182914562728334},{number:70,velocity:68,time:126.754,channel:3,string:2,fret:15,stringJitter:1.8200050741533322,fretJitter:15.143392187746956},{number:69,velocity:66,time:126.827,channel:3,string:2,fret:14,stringJitter:1.9262143388029453,fretJitter:13.892440113456324},{number:67,velocity:65,time:126.842,channel:3,string:2,fret:12,stringJitter:1.8989457765105875,fretJitter:12.072934897773305},{number:64,velocity:71,time:126.965,channel:4,string:3,fret:14,stringJitter:3.0959087931777374,fretJitter:13.806167605564852},{number:67,velocity:98,time:127.131,channel:3,string:2,fret:12,stringJitter:2.174807516010411,fretJitter:11.953019073230205},{number:69,velocity:83,time:127.306,channel:3,string:2,fret:14,stringJitter:1.9340581826418288,fretJitter:13.92038972250743},{number:72,velocity:116,time:127.519,channel:2,string:1,fret:13,stringJitter:1.0277612941374745,fretJitter:13.069094059046618},{number:71,velocity:90,time:127.814,channel:2,string:1,fret:12,stringJitter:.8694168123543278,fretJitter:12.098630344735849},{number:71,velocity:111,time:127.853,channel:2,string:1,fret:12,stringJitter:.9407546895379209,fretJitter:11.886439648707576},{number:69,velocity:81,time:128.14,channel:3,string:2,fret:14,stringJitter:2.1205526603793556,fretJitter:13.849761398693332},{number:71,velocity:99,time:128.351,channel:2,string:1,fret:12,stringJitter:1.022551792220641,fretJitter:12.196257134559366},{number:72,velocity:88,time:128.512,channel:2,string:1,fret:13,stringJitter:.9085880857972761,fretJitter:13.071037821020118},{number:72,velocity:120,time:128.533,channel:2,string:1,fret:13,stringJitter:.8292885293653444,fretJitter:13.126702853826894},{number:73,velocity:102,time:128.671,channel:2,string:1,fret:14,stringJitter:1.1575627400533748,fretJitter:13.886273098544223},{number:81,velocity:10,time:128.831,channel:2,string:1,fret:22,stringJitter:.97440999681045,fretJitter:22.025213517350124},{number:72,velocity:127,time:128.849,channel:2,string:1,fret:13,stringJitter:1.038507862220973,fretJitter:12.990821716684076},{number:73,velocity:127,time:128.947,channel:2,string:1,fret:14,stringJitter:.8473245137929966,fretJitter:14.185684040700892},{number:74,velocity:127,time:129.048,channel:2,string:1,fret:15,stringJitter:1.0991185828928736,fretJitter:15.072484154971626},{number:72,velocity:127,time:129.144,channel:2,string:1,fret:13,stringJitter:1.118848460374609,fretJitter:12.916093118534944},{number:71,velocity:67,time:129.397,channel:2,string:1,fret:12,stringJitter:1.08091236158834,fretJitter:11.822205017450646},{number:69,velocity:94,time:129.57,channel:3,string:2,fret:14,stringJitter:2.116836236272194,fretJitter:13.970719893593008},{number:71,velocity:124,time:129.804,channel:2,string:1,fret:12,stringJitter:.860639882329006,fretJitter:11.88986956813141},{number:76,velocity:127,time:130.572,channel:2,string:1,fret:17,stringJitter:.8837822517073906,fretJitter:17.18552460570829},{number:75,velocity:127,time:130.89,channel:2,string:1,fret:16,stringJitter:.9764098979097224,fretJitter:16.111773312430948},{number:74,velocity:123,time:130.993,channel:2,string:1,fret:15,stringJitter:1.186577665810702,fretJitter:14.825692135201404},{number:73,velocity:121,time:131.022,channel:2,string:1,fret:14,stringJitter:.9628422526889275,fretJitter:14.169260291029657},{number:52,velocity:11,time:131.698,channel:4,string:3,fret:2,stringJitter:2.883418306900817,fretJitter:2.12163048179884},{number:69,velocity:62,time:131.69989999985694,channel:3,string:2,fret:14,stringJitter:2.1577100329770333,fretJitter:13.955582537253548},{number:50,velocity:10,time:131.776,channel:4,string:3,fret:0,stringJitter:3.068333681816953,fretJitter:.19226308821628368},{number:64,velocity:11,time:131.986,channel:3,string:2,fret:9,stringJitter:2.1504328103629895,fretJitter:8.913429180499755},{number:67,velocity:124,time:131.998,channel:3,string:2,fret:12,stringJitter:1.9377364130634145,fretJitter:12.189931388421124},{number:68,velocity:114,time:132.182,channel:3,string:2,fret:13,stringJitter:1.8106118037147654,fretJitter:12.843163199137317},{number:67,velocity:112,time:132.255,channel:3,string:2,fret:12,stringJitter:1.9520540468438379,fretJitter:11.817645618602093},{number:66,velocity:104,time:132.415,channel:3,string:2,fret:11,stringJitter:2.075146715718241,fretJitter:10.842910510328647},{number:65,velocity:103,time:132.43,channel:3,string:2,fret:10,stringJitter:1.9818047462415365,fretJitter:10.184767274824038},{number:64,velocity:101,time:132.459,channel:3,string:2,fret:9,stringJitter:2.142603652434471,fretJitter:8.965198338915359},{number:63,velocity:99,time:132.473,channel:3,string:2,fret:8,stringJitter:1.849457343919107,fretJitter:8.158914116706939},{number:62,velocity:97,time:132.488,channel:3,string:2,fret:7,stringJitter:2.1294737415038445,fretJitter:6.948937101703831},{number:61,velocity:96,time:132.516,channel:3,string:2,fret:6,stringJitter:2.007627155152125,fretJitter:5.859997129037199},{number:60,velocity:96,time:132.56,channel:3,string:2,fret:5,stringJitter:1.8780652797680246,fretJitter:4.926351941992702},{number:57,velocity:60,time:132.918,channel:4,string:3,fret:7,stringJitter:3.108836490762958,fretJitter:7.153477261823518},{number:56,velocity:47,time:133.17,channel:4,string:3,fret:6,stringJitter:3.1727129559315546,fretJitter:5.982189507152249},{number:55,velocity:108,time:133.196,channel:4,string:3,fret:5,stringJitter:3.0293151871911808,fretJitter:5.1137006846475925},{number:54,velocity:99,time:133.475,channel:4,string:3,fret:4,stringJitter:3.137572122001633,fretJitter:4.169535731582331},{number:53,velocity:100,time:133.489,channel:4,string:3,fret:3,stringJitter:3.1208960044815552,fretJitter:3.166963376666869},{number:52,velocity:95,time:133.533,channel:4,string:3,fret:2,stringJitter:2.8599326614054563,fretJitter:1.873372024755537},{number:50,velocity:94,time:133.929,channel:4,string:3,fret:0,stringJitter:2.860888489773719,fretJitter:.09582670728452447},{number:52,velocity:85,time:134.316,channel:4,string:3,fret:2,stringJitter:3.0097404058268378,fretJitter:1.9036721455328693},{number:57,velocity:109,time:134.619,channel:3,string:2,fret:2,stringJitter:2.0077673555544675,fretJitter:2.0387547668861137},{number:55,velocity:102,time:135.113,channel:3,string:2,fret:0,stringJitter:2.036480548126545,fretJitter:-.0926905491905961},{number:52,velocity:101,time:135.55,channel:4,string:3,fret:2,stringJitter:2.8706187245953956,fretJitter:1.92176027976875},{number:55,velocity:69,time:137.052,channel:3,string:2,fret:0,stringJitter:2.1139460400123555,fretJitter:-.16734273100224606},{number:57,velocity:61,time:137.116,channel:3,string:2,fret:2,stringJitter:2.0196705491491422,fretJitter:1.965196082328994},{number:55,velocity:41,time:137.247,channel:3,string:2,fret:0,stringJitter:1.8528178581754795,fretJitter:.05817455897295503},{number:52,velocity:61,time:137.312,channel:4,string:3,fret:2,stringJitter:2.929118387090056,fretJitter:2.1510560555768663},{number:55,velocity:64,time:137.922,channel:3,string:2,fret:0,stringJitter:1.8940232064832276,fretJitter:.19560766847714384},{number:57,velocity:61,time:137.988,channel:3,string:2,fret:2,stringJitter:1.9985345240821362,fretJitter:2.180214855337996},{number:55,velocity:33,time:138.103,channel:3,string:2,fret:0,stringJitter:2.1415279073249027,fretJitter:-.16827272222458625},{number:52,velocity:102,time:138.156,channel:4,string:3,fret:2,stringJitter:2.9997503133568353,fretJitter:1.8636856681400396},{number:53,velocity:95,time:138.437,channel:4,string:3,fret:3,stringJitter:3.0018268984263607,fretJitter:2.9156856484483122},{number:52,velocity:91,time:138.509,channel:4,string:3,fret:2,stringJitter:2.8781180372199744,fretJitter:2.006500530218188},{number:55,velocity:34,time:138.725,channel:3,string:2,fret:0,stringJitter:1.9512167373794551,fretJitter:.045247386415908246},{number:57,velocity:23,time:138.785,channel:3,string:2,fret:2,stringJitter:1.9304559557346357,fretJitter:1.8984167071905278},{number:50,velocity:41,time:138.923,channel:4,string:3,fret:0,stringJitter:3.0317390430379234,fretJitter:.06953344460089683},{number:52,velocity:37,time:138.959,channel:4,string:3,fret:2,stringJitter:3.1245156272088828,fretJitter:2.107848865950095},{number:55,velocity:21,time:139.168,channel:3,string:2,fret:0,stringJitter:1.8892004109248195,fretJitter:-.14128885986271886},{number:57,velocity:10,time:139.264,channel:3,string:2,fret:2,stringJitter:1.8219058548104945,fretJitter:2.0594474102588642},{number:55,velocity:10,time:139.365,channel:3,string:2,fret:0,stringJitter:2.0267037974857014,fretJitter:-.0910955215469354},{number:50,velocity:71,time:139.395,channel:4,string:3,fret:0,stringJitter:2.8140389852877017,fretJitter:-.057555575967888295},{number:52,velocity:56,time:139.423,channel:4,string:3,fret:2,stringJitter:3.0227188045829614,fretJitter:1.8530734040481733},{number:55,velocity:39,time:139.987,channel:3,string:2,fret:0,stringJitter:2.1498994560114766,fretJitter:-.19309277637812627},{number:57,velocity:33,time:140.178,channel:3,string:2,fret:2,stringJitter:2.1271574994354374,fretJitter:1.893035265524209},{number:60,velocity:108,time:140.385,channel:2,string:1,fret:1,stringJitter:1.0783079313042094,fretJitter:1.1875156137319873},{number:50,velocity:10,time:140.716,channel:4,string:3,fret:0,stringJitter:2.8311741241036184,fretJitter:.020787056391433724},{number:57,velocity:51,time:140.95,channel:3,string:2,fret:2,stringJitter:2.0026723919522014,fretJitter:2.165142340452411},{number:52,velocity:90,time:141.182,channel:4,string:3,fret:2,stringJitter:2.8228171062883947,fretJitter:1.9277284008609286},{number:52,velocity:119,time:141.687,channel:4,string:3,fret:2,stringJitter:3.0941422409183015,fretJitter:2.0237919514570497},{number:57,velocity:119,time:141.72,channel:3,string:2,fret:2,stringJitter:1.9185500369679755,fretJitter:2.1415140208707397},{number:79,velocity:13,time:141.725,channel:2,string:1,fret:20,stringJitter:1.0809825484836952,fretJitter:19.8757285284249},{number:60,velocity:124,time:141.738,channel:2,string:1,fret:1,stringJitter:1.0640903075514798,fretJitter:.9248382968057736},{number:45,velocity:10,time:141.749,channel:5,string:4,fret:0,stringJitter:4.009602564716046,fretJitter:.1961777784493556},{number:64,velocity:108,time:141.751,channel:1,string:0,fret:0,stringJitter:-.16446369046537487,fretJitter:.10520730771158773},{number:52,velocity:99,time:142.17,channel:4,string:3,fret:2,stringJitter:3.1293874753914572,fretJitter:2.0569262366663277},{number:57,velocity:104,time:142.198,channel:3,string:2,fret:2,stringJitter:2.0459616623429264,fretJitter:2.0609558876658842},{number:60,velocity:112,time:142.217,channel:2,string:1,fret:1,stringJitter:.9418389500465343,fretJitter:.8399362989313452},{number:45,velocity:10,time:142.227,channel:5,string:4,fret:0,stringJitter:3.8415508914494185,fretJitter:-.19331364494290437},{number:64,velocity:87,time:142.233,channel:1,string:0,fret:0,stringJitter:.16506585915676686,fretJitter:-.06644188303525214},{number:50,velocity:50,time:144.313,channel:5,string:4,fret:5,stringJitter:4.139039868886442,fretJitter:4.887351309206514},{number:45,velocity:63,time:144.334,channel:6,string:5,fret:5,stringJitter:4.941494689432066,fretJitter:5.158426977703691},{number:50,velocity:114,time:144.578,channel:5,string:4,fret:5,stringJitter:3.8712208067055105,fretJitter:5.036956995602717},{number:50,velocity:10,time:144.584,channel:4,string:3,fret:0,stringJitter:3.0386551444526244,fretJitter:.03983705460899065},{number:52,velocity:92,time:144.996,channel:5,string:4,fret:7,stringJitter:3.850970417515316,fretJitter:7.025648840058453},{number:55,velocity:88,time:145.163,channel:4,string:3,fret:5,stringJitter:3.0482903089512834,fretJitter:5.09518464550394},{number:57,velocity:74,time:145.315,channel:4,string:3,fret:7,stringJitter:3.109373278906633,fretJitter:7.158469276967745},{number:57,velocity:127,time:145.554,channel:4,string:3,fret:7,stringJitter:2.852960062295297,fretJitter:7.083780548175564},{number:58,velocity:127,time:145.808,channel:4,string:3,fret:8,stringJitter:3.144829429833727,fretJitter:7.860194078023978},{number:45,velocity:33,time:145.81,channel:5,string:4,fret:0,stringJitter:4.123362026507105,fretJitter:.14846111376990212},{number:57,velocity:126,time:146.069,channel:4,string:3,fret:7,stringJitter:2.9791988557899574,fretJitter:7.011902626267943},{number:55,velocity:122,time:146.345,channel:4,string:3,fret:5,stringJitter:3.0076551649425336,fretJitter:4.888472711276902},{number:45,velocity:52,time:146.433,channel:5,string:4,fret:0,stringJitter:3.839979154976822,fretJitter:.016326030247531965},{number:40,velocity:94,time:146.485,channel:6,string:5,fret:0,stringJitter:5.199246045272426,fretJitter:.17629230118264516},{number:45,velocity:90,time:146.782,channel:6,string:5,fret:5,stringJitter:5.04375164869089,fretJitter:5.14690540783864},{number:52,velocity:90,time:146.79,channel:5,string:4,fret:7,stringJitter:4.057685465912575,fretJitter:6.9825481918141},{number:57,velocity:117,time:146.801,channel:4,string:3,fret:7,stringJitter:3.1443694137695553,fretJitter:6.87308189989137},{number:60,velocity:85,time:146.813,channel:3,string:2,fret:5,stringJitter:2.058807055467545,fretJitter:4.997736928968691},{number:64,velocity:68,time:146.826,channel:2,string:1,fret:5,stringJitter:.954704870918519,fretJitter:4.9424265636757445},{number:45,velocity:103,time:147.149,channel:6,string:5,fret:5,stringJitter:4.828452308860369,fretJitter:4.817126143705802},{number:52,velocity:106,time:147.172,channel:5,string:4,fret:7,stringJitter:3.8187446153251603,fretJitter:7.132038013180112},{number:58,velocity:127,time:147.192,channel:4,string:3,fret:8,stringJitter:2.8076309136321176,fretJitter:8.084026403286904},{number:57,velocity:127,time:147.216,channel:4,string:3,fret:7,stringJitter:3.099966862586802,fretJitter:7.054062827052129},{number:60,velocity:122,time:147.219,channel:3,string:2,fret:5,stringJitter:2.023942545464902,fretJitter:5.116700072489896},{number:64,velocity:89,time:147.241,channel:2,string:1,fret:5,stringJitter:1.0115606670301749,fretJitter:5.1390240947131405},{number:45,velocity:112,time:148.333,channel:6,string:5,fret:5,stringJitter:4.976328620179393,fretJitter:5.0880561859313715},{number:51,velocity:78,time:148.348,channel:5,string:4,fret:6,stringJitter:4.114265632934718,fretJitter:6.037696071221079},{number:46,velocity:114,time:148.362,channel:6,string:5,fret:6,stringJitter:4.914216904359782,fretJitter:5.880460876651019},{number:47,velocity:115,time:148.391,channel:6,string:5,fret:7,stringJitter:5.106897675628606,fretJitter:6.928851492216802},{number:48,velocity:107,time:148.433,channel:6,string:5,fret:8,stringJitter:4.835453581936526,fretJitter:8.073902841572771},{number:50,velocity:98,time:148.855,channel:6,string:5,fret:10,stringJitter:5.175452246091159,fretJitter:9.979851301780482},{number:53,velocity:102,time:149.076,channel:5,string:4,fret:8,stringJitter:4.091373263516354,fretJitter:7.949327830773807},{number:55,velocity:79,time:149.317,channel:5,string:4,fret:10,stringJitter:3.89178628313054,fretJitter:10.126346765076622},{number:73,velocity:21,time:149.521,channel:4,string:3,fret:23,stringJitter:3.1062045651678076,fretJitter:23.021736174598757},{number:59,velocity:127,time:149.532,channel:4,string:3,fret:9,stringJitter:3.1142162097681854,fretJitter:9.10591013566017},{number:55,velocity:51,time:150.53,channel:5,string:4,fret:10,stringJitter:4.071423275655633,fretJitter:9.805662032567628},{number:54,velocity:32,time:150.844,channel:5,string:4,fret:9,stringJitter:4.029143583132017,fretJitter:8.948092880844005},{number:54,velocity:87,time:150.891,channel:5,string:4,fret:9,stringJitter:3.877250098636188,fretJitter:8.93706213087961},{number:52,velocity:61,time:152.208,channel:5,string:4,fret:7,stringJitter:4.087431755891906,fretJitter:6.959729458105678},{number:51,velocity:60,time:152.237,channel:5,string:4,fret:6,stringJitter:3.81023282245888,fretJitter:5.850249254818841},{number:50,velocity:60,time:152.266,channel:5,string:4,fret:5,stringJitter:3.8085897035628253,fretJitter:5.12719588059724},{number:49,velocity:60,time:152.295,channel:5,string:4,fret:4,stringJitter:3.95661724510488,fretJitter:3.8925886895697177},{number:48,velocity:58,time:152.338,channel:5,string:4,fret:3,stringJitter:3.97104888894035,fretJitter:3.0823939268494476},{number:47,velocity:58,time:152.367,channel:5,string:4,fret:2,stringJitter:3.9565724249866947,fretJitter:1.9010077745033804},{number:74,velocity:10,time:152.661,channel:4,string:3,fret:24,stringJitter:2.980564896598016,fretJitter:23.977700341225614},{number:41,velocity:42,time:152.66889999985696,channel:6,string:5,fret:1,stringJitter:5.199787139503095,fretJitter:.8771686909752276},{number:48,velocity:73,time:152.688,channel:5,string:4,fret:3,stringJitter:3.8216225034386535,fretJitter:3.1773055936765138},{number:79,velocity:10,time:152.691,channel:3,string:2,fret:24,stringJitter:1.9499653643617056,fretJitter:23.887820081173988},{number:52,velocity:110,time:152.712,channel:4,string:3,fret:2,stringJitter:2.8613572717723144,fretJitter:1.8338820000874023},{number:55,velocity:95,time:152.733,channel:3,string:2,fret:0,stringJitter:1.9532588632763102,fretJitter:.08361834329473634},{number:60,velocity:98,time:152.754,channel:2,string:1,fret:1,stringJitter:1.1729685759544566,fretJitter:1.02436904313601},{number:64,velocity:61,time:152.779,channel:1,string:0,fret:0,stringJitter:-.18160827552289832,fretJitter:-.15025798761623144},{number:41,velocity:54,time:153.177,channel:6,string:5,fret:1,stringJitter:5.144900979227119,fretJitter:1.1651280959659727},{number:48,velocity:82,time:153.2,channel:5,string:4,fret:3,stringJitter:4.043492921959836,fretJitter:3.064775650773372},{number:52,velocity:109,time:153.24,channel:4,string:3,fret:2,stringJitter:2.9712125478678706,fretJitter:1.908756757060082},{number:55,velocity:90,time:153.28,channel:3,string:2,fret:0,stringJitter:1.863026523659629,fretJitter:.18983958153082414},{number:60,velocity:88,time:153.319,channel:2,string:1,fret:1,stringJitter:1.1288830286512606,fretJitter:1.091020563480361},{number:64,velocity:81,time:153.35,channel:1,string:0,fret:0,stringJitter:.03386316254103266,fretJitter:-.03627513514050662},{number:63,velocity:77,time:154.544,channel:4,string:3,fret:13,stringJitter:3.1668361231005235,fretJitter:12.816135479577595},{number:43,velocity:96,time:154.71,channel:6,string:5,fret:3,stringJitter:4.856162536775875,fretJitter:2.988426557408692},{number:44,velocity:94,time:154.747,channel:6,string:5,fret:4,stringJitter:5.12439783010277,fretJitter:4.148032637260192},{number:45,velocity:97,time:154.777,channel:6,string:5,fret:5,stringJitter:4.843782808845268,fretJitter:5.026076475164851},{number:43,velocity:79,time:155.081,channel:6,string:5,fret:3,stringJitter:4.861649402185764,fretJitter:3.146346159731902},{number:44,velocity:78,time:155.356,channel:6,string:5,fret:4,stringJitter:5.114269981530727,fretJitter:3.823514705061123},{number:43,velocity:77,time:155.443,channel:6,string:5,fret:3,stringJitter:5.034137264630567,fretJitter:3.1431323649937704},{number:46,velocity:76,time:155.647,channel:6,string:5,fret:6,stringJitter:4.869965714685383,fretJitter:6.17821741203279},{number:48,velocity:97,time:155.822,channel:5,string:4,fret:3,stringJitter:4.08986246125675,fretJitter:2.804020370751561},{number:50,velocity:77,time:155.981,channel:5,string:4,fret:5,stringJitter:4.0337999907672994,fretJitter:5.15832826837992},{number:65,velocity:15,time:156.183,channel:4,string:3,fret:15,stringJitter:2.907102070096086,fretJitter:15.166075100673302},{number:53,velocity:127,time:156.198,channel:4,string:3,fret:3,stringJitter:2.8522396355259922,fretJitter:3.0173432946661154},{number:53,velocity:10,time:156.21,channel:3,string:2,fret:-2,stringJitter:1.9427024336790037,fretJitter:-2.1587387185270566},{number:55,velocity:120,time:156.416,channel:4,string:3,fret:5,stringJitter:3.113797308860239,fretJitter:4.830709541050352},{number:55,velocity:127,time:156.626,channel:4,string:3,fret:5,stringJitter:2.8619755262228943,fretJitter:5.1341922227172905},{number:56,velocity:127,time:156.764,channel:4,string:3,fret:6,stringJitter:2.972104483177816,fretJitter:5.835307010518939},{number:55,velocity:127,time:157.097,channel:4,string:3,fret:5,stringJitter:2.946290786026925,fretJitter:5.161586507469871},{number:53,velocity:127,time:157.141,channel:4,string:3,fret:3,stringJitter:3.1452868651959207,fretJitter:2.80783616277796},{number:50,velocity:77,time:157.235,channel:5,string:4,fret:5,stringJitter:3.8856706587918084,fretJitter:4.8192826389342205},{number:45,velocity:83,time:157.496,channel:5,string:4,fret:0,stringJitter:4.051257019174903,fretJitter:-.1408171874511873},{number:40,velocity:10,time:157.68,channel:6,string:5,fret:0,stringJitter:4.869438250617492,fretJitter:.18851279936910537},{number:45,velocity:103,time:157.788,channel:5,string:4,fret:0,stringJitter:4.035338414140728,fretJitter:.05401062009121276},{number:40,velocity:89,time:157.819,channel:6,string:5,fret:0,stringJitter:5.009600529476416,fretJitter:-.06326773404739931}],S1t="fretboard-jitter",T1t="0.13.4",I1t="2024-09-17T12:52:08.824Z",tS={pastNoteCount:O1t,notes:x1t,_appId:S1t,_softwareVersion:T1t,_date:I1t};function B1t(e){let t,i,n,a,s,l,c;return{c(){t=K("p"),t.textContent="1) Play the note A over the whole fretboard.",i=Y(),n=K("p"),n.textContent=`2) Play the A minor pentatonic scale over the whole fretboard,
                string by string. Check if you played wrong notes.`,a=Y(),s=K("p"),s.textContent="3) Improvise in A minor pentatonic over the whole fretboard.",l=Y(),c=K("p"),c.textContent=`4) Improvise in a scale you do not know yet over the whole
                fretboard.`},m(d,u){_t(d,t,u),_t(d,i,u),_t(d,n,u),_t(d,a,u),_t(d,s,u),_t(d,l,u),_t(d,c,u)},p:Fe,d(d){d&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c))}}}function R1t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q;function V(ot){e[10](ot)}let q={callback:e[6]};e[2]!==void 0&&(q.value=e[2]),u=new Kc({props:q}),me.push(()=>Te(u,"value",V));function J(ot){e[12](ot)}let W={saveToStorage:e[9],callback:e[6]};e[3]!==void 0&&(W.notes=e[3]),A=new aa({props:W}),me.push(()=>Te(A,"notes",J)),_=new Ma({props:{appId:e[0].id,loadData:e[8]}});function et(ot){e[14](ot)}let mt={callback:e[6]};return e[3]!==void 0&&(mt.notes=e[3]),O=new Ps({props:mt}),me.push(()=>Te(O,"notes",et)),D=new ua({props:{loadData:e[8],getExportData:e[7],appId:e[0].id}}),L=new Kr({props:{$$slots:{default:[B1t]},$$scope:{ctx:e}}}),U=new Xr({props:{appId:e[0].id}}),F=new $r({props:{noteOn:e[4],controlChange:e[5]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing improvisation on a guitar. The fretboard
            below shows you where you played notes. Each note is a dot that is
            moved a little bit from its exact position to avoid overlap. A
            note's color indicates how recently you played it and its area tells
            how loud it was played.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),m=K("div"),M=Y(),p=K("div"),Ut(A.$$.fragment),v=Y(),E=K("button"),E.textContent="example",x=Y(),Ut(_.$$.fragment),C=Y(),Ut(O.$$.fragment),T=Y(),Ut(D.$$.fragment),P=Y(),Ut(L.$$.fragment),N=Y(),Ut(U.$$.fragment),$=Y(),Ut(F.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(m,"class","visualization"),ut(p,"class","control"),ut(t,"class","app")},m(ot,pt){_t(ot,t,pt),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(t,g),R(t,m),e[11](m),R(t,M),R(t,p),Nt(A,p,null),R(p,v),R(p,E),R(p,x),Nt(_,p,null),R(p,C),Nt(O,p,null),R(p,T),Nt(D,p,null),R(t,P),Nt(L,t,null),R(t,N),Nt(U,t,null),R(t,$),Nt(F,t,null),j=!0,z||(Q=Qe(E,"click",e[13]),z=!0)},p(ot,pt){(!j||pt&1)&&n!==(n=ot[0].title+"")&&Ue(a,n);const wt={};!h&&pt&4&&(h=!0,wt.value=ot[2],Se(()=>h=!1)),u.$set(wt);const Mt={};!b&&pt&8&&(b=!0,Mt.notes=ot[3],Se(()=>b=!1)),A.$set(Mt);const xt={};pt&1&&(xt.appId=ot[0].id),_.$set(xt);const dt={};!I&&pt&8&&(I=!0,dt.notes=ot[3],Se(()=>I=!1)),O.$set(dt);const Ot={};pt&1&&(Ot.appId=ot[0].id),D.$set(Ot);const At={};pt&524288&&(At.$$scope={dirty:pt,ctx:ot}),L.$set(At);const jt={};pt&1&&(jt.appId=ot[0].id),U.$set(jt)},i(ot){j||(Bt(u.$$.fragment,ot),Bt(A.$$.fragment,ot),Bt(_.$$.fragment,ot),Bt(O.$$.fragment,ot),Bt(D.$$.fragment,ot),Bt(L.$$.fragment,ot),Bt(U.$$.fragment,ot),Bt(F.$$.fragment,ot),j=!0)},o(ot){Rt(u.$$.fragment,ot),Rt(A.$$.fragment,ot),Rt(_.$$.fragment,ot),Rt(O.$$.fragment,ot),Rt(D.$$.fragment,ot),Rt(L.$$.fragment,ot),Rt(U.$$.fragment,ot),Rt(F.$$.fragment,ot),j=!1},d(ot){ot&&Ct(t),Ft(u),e[11](null),Ft(A),Ft(_),Ft(O),Ft(D),Ft(L),Ft(U),Ft(F),z=!1,Q()}}}function D1t(e){let t,i;return t=new da({props:{loadData:e[8],$$slots:{default:[R1t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&524303&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let O1=900,eS=6,Kg=24;function P1t(e,t,i){let{appInfo:n}=t;const a=()=>(Math.random()-.5)*.4;let s=[64,59,55,50,45,40];const l=s.map(Ts);let c,d=200,u=0,h=[];const g=O=>{h.length===0&&(u=O.timestamp);const I=(O.timestamp-u)/1e3,T=O.message.channel-1,D=O.note.number-s[T],P={number:O.note.number,velocity:O.rawVelocity,time:I,channel:O.message.channel,string:T,fret:D,stringJitter:T+a(),fretJitter:D+a()};i(3,h=[...h,P]),M()},m=O=>{i(2,d=Math.round(qa(O.rawValue*2,0,200))),M()},M=()=>{const O=h.slice(-d),I=(O1-100)/25,T=Sn({width:O1,aspectRatio:1,marginLeft:50,marginBottom:40,padding:0,x:{domain:[-1,Kg+1.5],ticks:Ci(0,Kg+1),tickSize:0,label:"fret"},y:{domain:[eS-.5,-.5],tickFormat:L=>l[L],tickSize:0,label:"string"},color:{legend:!0,marginLeft:300,width:550,scheme:"viridis",reverse:!0,domain:[0,d],label:"note index: old (yellow) to new (purple)"},r:{domain:[0,127],range:[0,5]},marks:[k9(Ci(0,Kg+1),{stroke:"#ddd",dx:I/2}),zr(Ci(0,eS),{stroke:"#ddd",strokeWidth:L=>Math.sqrt(L+1)}),js([3,5,7,9,15,17,19,21],{x:L=>L,y:2,dy:I/2,fill:"#ddd",r:8}),js([12,12,24,24],{x:L=>L,y:(L,N)=>N%2===0?1:3,dy:I/2,fill:"#ddd",r:8}),js(O,{x:"fretJitter",y:"stringJitter",fill:(L,N)=>N,stroke:"#888",strokeWidth:.5,r:"velocity",opacity:.5,tip:!0,title:L=>`string: ${l[L.string]}
fret: ${L.fret}
loudness: ${(L.velocity/127).toFixed(2)}
time:${L.time.toFixed(1)} s`})]}),D=[...Ku.keys()].map(L=>L/127),P=Sn({width:O1,height:47,marginTop:0,marginLeft:O1*.35,marginRight:O1*.35,marginBottom:30,x:{label:"loudness",labelAnchor:"center",ticks:D,tickSize:0,tickPadding:3,tickFormat:(L,N)=>[...Ku.values()][N]},marks:[Ilt(D,{x:(L,N)=>L,fill:"#888",r:L=>L})]});i(1,c.textContent="",c),c.appendChild(T),c.appendChild(P)};sr(M);const p=()=>({pastNoteCount:d,notes:h}),A=O=>{b(),i(2,d=O.pastNoteCount),i(3,h=O.notes),M()},b=()=>{h.length>0&&JSON.stringify(h)!==JSON.stringify(tS.notes)&&ga(n.id,p())};or(b);function v(O){d=O,i(2,d)}function E(O){me[O?"unshift":"push"](()=>{c=O,i(1,c)})}function x(O){h=O,i(3,h)}const _=()=>A(tS);function C(O){h=O,i(3,h)}return e.$$set=O=>{"appInfo"in O&&i(0,n=O.appInfo)},[n,c,d,h,g,m,M,p,A,b,v,E,x,_,C]}class L1t extends qi{constructor(t){super(),Wi(this,t,P1t,D1t,Ji,{appInfo:0})}}var GF={exports:{}};(function(e,t){var i={};(function(a,s){e.exports=s()})(self,()=>(()=>{var n={"./node_modules/an-array/index.js":c=>{var d=Object.prototype.toString;c.exports=u;function u(h){return h.BYTES_PER_ELEMENT&&d.call(h.buffer)==="[object ArrayBuffer]"||Array.isArray(h)}},"./node_modules/as-number/index.js":c=>{c.exports=function(u,h){return typeof u=="number"?u:typeof h=="number"?h:0}},"./node_modules/base64-js/index.js":(c,d)=>{d.byteLength=b,d.toByteArray=E,d.fromByteArray=C;for(var u=[],h=[],g=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=0,p=m.length;M<p;++M)u[M]=m[M],h[m.charCodeAt(M)]=M;h[45]=62,h[95]=63;function A(O){var I=O.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=O.indexOf("=");T===-1&&(T=I);var D=T===I?0:4-T%4;return[T,D]}function b(O){var I=A(O),T=I[0],D=I[1];return(T+D)*3/4-D}function v(O,I,T){return(I+T)*3/4-T}function E(O){var I,T=A(O),D=T[0],P=T[1],L=new g(v(O,D,P)),N=0,U=P>0?D-4:D,$;for($=0;$<U;$+=4)I=h[O.charCodeAt($)]<<18|h[O.charCodeAt($+1)]<<12|h[O.charCodeAt($+2)]<<6|h[O.charCodeAt($+3)],L[N++]=I>>16&255,L[N++]=I>>8&255,L[N++]=I&255;return P===2&&(I=h[O.charCodeAt($)]<<2|h[O.charCodeAt($+1)]>>4,L[N++]=I&255),P===1&&(I=h[O.charCodeAt($)]<<10|h[O.charCodeAt($+1)]<<4|h[O.charCodeAt($+2)]>>2,L[N++]=I>>8&255,L[N++]=I&255),L}function x(O){return u[O>>18&63]+u[O>>12&63]+u[O>>6&63]+u[O&63]}function _(O,I,T){for(var D,P=[],L=I;L<T;L+=3)D=(O[L]<<16&16711680)+(O[L+1]<<8&65280)+(O[L+2]&255),P.push(x(D));return P.join("")}function C(O){for(var I,T=O.length,D=T%3,P=[],L=16383,N=0,U=T-D;N<U;N+=L)P.push(_(O,N,N+L>U?U:N+L));return D===1?(I=O[T-1],P.push(u[I>>2]+u[I<<4&63]+"==")):D===2&&(I=(O[T-2]<<8)+O[T-1],P.push(u[I>>10]+u[I>>4&63]+u[I<<2&63]+"=")),P.join("")}},"./node_modules/buffer-equal/index.js":(c,d,u)=>{var h=u("./node_modules/buffer/index.js").Buffer;c.exports=function(g,m){if(h.isBuffer(g)&&h.isBuffer(m)){if(typeof g.equals=="function")return g.equals(m);if(g.length!==m.length)return!1;for(var M=0;M<g.length;M++)if(g[M]!==m[M])return!1;return!0}}},"./node_modules/buffer/index.js":(c,d,u)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const h=u("./node_modules/base64-js/index.js"),g=u("./node_modules/ieee754/index.js"),m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=b,d.SlowBuffer=L,d.INSPECT_MAX_BYTES=50;const M=2147483647;d.kMaxLength=M,b.TYPED_ARRAY_SUPPORT=p(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{const ht=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ht,X),ht.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function A(ht){if(ht>M)throw new RangeError('The value "'+ht+'" is invalid for option "size"');const X=new Uint8Array(ht);return Object.setPrototypeOf(X,b.prototype),X}function b(ht,X,tt){if(typeof ht=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(ht)}return v(ht,X,tt)}b.poolSize=8192;function v(ht,X,tt){if(typeof ht=="string")return C(ht,X);if(ArrayBuffer.isView(ht))return I(ht);if(ht==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ht);if(vt(ht,ArrayBuffer)||ht&&vt(ht.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(vt(ht,SharedArrayBuffer)||ht&&vt(ht.buffer,SharedArrayBuffer)))return T(ht,X,tt);if(typeof ht=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Tt=ht.valueOf&&ht.valueOf();if(Tt!=null&&Tt!==ht)return b.from(Tt,X,tt);const Qt=D(ht);if(Qt)return Qt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ht[Symbol.toPrimitive]=="function")return b.from(ht[Symbol.toPrimitive]("string"),X,tt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ht)}b.from=function(ht,X,tt){return v(ht,X,tt)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function E(ht){if(typeof ht!="number")throw new TypeError('"size" argument must be of type number');if(ht<0)throw new RangeError('The value "'+ht+'" is invalid for option "size"')}function x(ht,X,tt){return E(ht),ht<=0?A(ht):X!==void 0?typeof tt=="string"?A(ht).fill(X,tt):A(ht).fill(X):A(ht)}b.alloc=function(ht,X,tt){return x(ht,X,tt)};function _(ht){return E(ht),A(ht<0?0:P(ht)|0)}b.allocUnsafe=function(ht){return _(ht)},b.allocUnsafeSlow=function(ht){return _(ht)};function C(ht,X){if((typeof X!="string"||X==="")&&(X="utf8"),!b.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const tt=N(ht,X)|0;let Tt=A(tt);const Qt=Tt.write(ht,X);return Qt!==tt&&(Tt=Tt.slice(0,Qt)),Tt}function O(ht){const X=ht.length<0?0:P(ht.length)|0,tt=A(X);for(let Tt=0;Tt<X;Tt+=1)tt[Tt]=ht[Tt]&255;return tt}function I(ht){if(vt(ht,Uint8Array)){const X=new Uint8Array(ht);return T(X.buffer,X.byteOffset,X.byteLength)}return O(ht)}function T(ht,X,tt){if(X<0||ht.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ht.byteLength<X+(tt||0))throw new RangeError('"length" is outside of buffer bounds');let Tt;return X===void 0&&tt===void 0?Tt=new Uint8Array(ht):tt===void 0?Tt=new Uint8Array(ht,X):Tt=new Uint8Array(ht,X,tt),Object.setPrototypeOf(Tt,b.prototype),Tt}function D(ht){if(b.isBuffer(ht)){const X=P(ht.length)|0,tt=A(X);return tt.length===0||ht.copy(tt,0,0,X),tt}if(ht.length!==void 0)return typeof ht.length!="number"||Ht(ht.length)?A(0):O(ht);if(ht.type==="Buffer"&&Array.isArray(ht.data))return O(ht.data)}function P(ht){if(ht>=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");return ht|0}function L(ht){return+ht!=ht&&(ht=0),b.alloc(+ht)}b.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==b.prototype},b.compare=function(X,tt){if(vt(X,Uint8Array)&&(X=b.from(X,X.offset,X.byteLength)),vt(tt,Uint8Array)&&(tt=b.from(tt,tt.offset,tt.byteLength)),!b.isBuffer(X)||!b.isBuffer(tt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===tt)return 0;let Tt=X.length,Qt=tt.length;for(let Zt=0,ce=Math.min(Tt,Qt);Zt<ce;++Zt)if(X[Zt]!==tt[Zt]){Tt=X[Zt],Qt=tt[Zt];break}return Tt<Qt?-1:Qt<Tt?1:0},b.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(X,tt){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return b.alloc(0);let Tt;if(tt===void 0)for(tt=0,Tt=0;Tt<X.length;++Tt)tt+=X[Tt].length;const Qt=b.allocUnsafe(tt);let Zt=0;for(Tt=0;Tt<X.length;++Tt){let ce=X[Tt];if(vt(ce,Uint8Array))Zt+ce.length>Qt.length?(b.isBuffer(ce)||(ce=b.from(ce)),ce.copy(Qt,Zt)):Uint8Array.prototype.set.call(Qt,ce,Zt);else if(b.isBuffer(ce))ce.copy(Qt,Zt);else throw new TypeError('"list" argument must be an Array of Buffers');Zt+=ce.length}return Qt};function N(ht,X){if(b.isBuffer(ht))return ht.length;if(ArrayBuffer.isView(ht)||vt(ht,ArrayBuffer))return ht.byteLength;if(typeof ht!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ht);const tt=ht.length,Tt=arguments.length>2&&arguments[2]===!0;if(!Tt&&tt===0)return 0;let Qt=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return tt;case"utf8":case"utf-8":return Ze(ht).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt*2;case"hex":return tt>>>1;case"base64":return re(ht).length;default:if(Qt)return Tt?-1:Ze(ht).length;X=(""+X).toLowerCase(),Qt=!0}}b.byteLength=N;function U(ht,X,tt){let Tt=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((tt===void 0||tt>this.length)&&(tt=this.length),tt<=0)||(tt>>>=0,X>>>=0,tt<=X))return"";for(ht||(ht="utf8");;)switch(ht){case"hex":return Mt(this,X,tt);case"utf8":case"utf-8":return et(this,X,tt);case"ascii":return pt(this,X,tt);case"latin1":case"binary":return wt(this,X,tt);case"base64":return W(this,X,tt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xt(this,X,tt);default:if(Tt)throw new TypeError("Unknown encoding: "+ht);ht=(ht+"").toLowerCase(),Tt=!0}}b.prototype._isBuffer=!0;function $(ht,X,tt){const Tt=ht[X];ht[X]=ht[tt],ht[tt]=Tt}b.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let tt=0;tt<X;tt+=2)$(this,tt,tt+1);return this},b.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let tt=0;tt<X;tt+=4)$(this,tt,tt+3),$(this,tt+1,tt+2);return this},b.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let tt=0;tt<X;tt+=8)$(this,tt,tt+7),$(this,tt+1,tt+6),$(this,tt+2,tt+5),$(this,tt+3,tt+4);return this},b.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?et(this,0,X):U.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(X){if(!b.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:b.compare(this,X)===0},b.prototype.inspect=function(){let X="";const tt=d.INSPECT_MAX_BYTES;return X=this.toString("hex",0,tt).replace(/(.{2})/g,"$1 ").trim(),this.length>tt&&(X+=" ... "),"<Buffer "+X+">"},m&&(b.prototype[m]=b.prototype.inspect),b.prototype.compare=function(X,tt,Tt,Qt,Zt){if(vt(X,Uint8Array)&&(X=b.from(X,X.offset,X.byteLength)),!b.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(tt===void 0&&(tt=0),Tt===void 0&&(Tt=X?X.length:0),Qt===void 0&&(Qt=0),Zt===void 0&&(Zt=this.length),tt<0||Tt>X.length||Qt<0||Zt>this.length)throw new RangeError("out of range index");if(Qt>=Zt&&tt>=Tt)return 0;if(Qt>=Zt)return-1;if(tt>=Tt)return 1;if(tt>>>=0,Tt>>>=0,Qt>>>=0,Zt>>>=0,this===X)return 0;let ce=Zt-Qt,ye=Tt-tt;const $e=Math.min(ce,ye),ge=this.slice(Qt,Zt),He=X.slice(tt,Tt);for(let _e=0;_e<$e;++_e)if(ge[_e]!==He[_e]){ce=ge[_e],ye=He[_e];break}return ce<ye?-1:ye<ce?1:0};function F(ht,X,tt,Tt,Qt){if(ht.length===0)return-1;if(typeof tt=="string"?(Tt=tt,tt=0):tt>2147483647?tt=2147483647:tt<-2147483648&&(tt=-2147483648),tt=+tt,Ht(tt)&&(tt=Qt?0:ht.length-1),tt<0&&(tt=ht.length+tt),tt>=ht.length){if(Qt)return-1;tt=ht.length-1}else if(tt<0)if(Qt)tt=0;else return-1;if(typeof X=="string"&&(X=b.from(X,Tt)),b.isBuffer(X))return X.length===0?-1:j(ht,X,tt,Tt,Qt);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?Qt?Uint8Array.prototype.indexOf.call(ht,X,tt):Uint8Array.prototype.lastIndexOf.call(ht,X,tt):j(ht,[X],tt,Tt,Qt);throw new TypeError("val must be string, number or Buffer")}function j(ht,X,tt,Tt,Qt){let Zt=1,ce=ht.length,ye=X.length;if(Tt!==void 0&&(Tt=String(Tt).toLowerCase(),Tt==="ucs2"||Tt==="ucs-2"||Tt==="utf16le"||Tt==="utf-16le")){if(ht.length<2||X.length<2)return-1;Zt=2,ce/=2,ye/=2,tt/=2}function $e(He,_e){return Zt===1?He[_e]:He.readUInt16BE(_e*Zt)}let ge;if(Qt){let He=-1;for(ge=tt;ge<ce;ge++)if($e(ht,ge)===$e(X,He===-1?0:ge-He)){if(He===-1&&(He=ge),ge-He+1===ye)return He*Zt}else He!==-1&&(ge-=ge-He),He=-1}else for(tt+ye>ce&&(tt=ce-ye),ge=tt;ge>=0;ge--){let He=!0;for(let _e=0;_e<ye;_e++)if($e(ht,ge+_e)!==$e(X,_e)){He=!1;break}if(He)return ge}return-1}b.prototype.includes=function(X,tt,Tt){return this.indexOf(X,tt,Tt)!==-1},b.prototype.indexOf=function(X,tt,Tt){return F(this,X,tt,Tt,!0)},b.prototype.lastIndexOf=function(X,tt,Tt){return F(this,X,tt,Tt,!1)};function z(ht,X,tt,Tt){tt=Number(tt)||0;const Qt=ht.length-tt;Tt?(Tt=Number(Tt),Tt>Qt&&(Tt=Qt)):Tt=Qt;const Zt=X.length;Tt>Zt/2&&(Tt=Zt/2);let ce;for(ce=0;ce<Tt;++ce){const ye=parseInt(X.substr(ce*2,2),16);if(Ht(ye))return ce;ht[tt+ce]=ye}return ce}function Q(ht,X,tt,Tt){return Et(Ze(X,ht.length-tt),ht,tt,Tt)}function V(ht,X,tt,Tt){return Et(be(X),ht,tt,Tt)}function q(ht,X,tt,Tt){return Et(re(X),ht,tt,Tt)}function J(ht,X,tt,Tt){return Et(ve(X,ht.length-tt),ht,tt,Tt)}b.prototype.write=function(X,tt,Tt,Qt){if(tt===void 0)Qt="utf8",Tt=this.length,tt=0;else if(Tt===void 0&&typeof tt=="string")Qt=tt,Tt=this.length,tt=0;else if(isFinite(tt))tt=tt>>>0,isFinite(Tt)?(Tt=Tt>>>0,Qt===void 0&&(Qt="utf8")):(Qt=Tt,Tt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Zt=this.length-tt;if((Tt===void 0||Tt>Zt)&&(Tt=Zt),X.length>0&&(Tt<0||tt<0)||tt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qt||(Qt="utf8");let ce=!1;for(;;)switch(Qt){case"hex":return z(this,X,tt,Tt);case"utf8":case"utf-8":return Q(this,X,tt,Tt);case"ascii":case"latin1":case"binary":return V(this,X,tt,Tt);case"base64":return q(this,X,tt,Tt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,X,tt,Tt);default:if(ce)throw new TypeError("Unknown encoding: "+Qt);Qt=(""+Qt).toLowerCase(),ce=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(ht,X,tt){return X===0&&tt===ht.length?h.fromByteArray(ht):h.fromByteArray(ht.slice(X,tt))}function et(ht,X,tt){tt=Math.min(ht.length,tt);const Tt=[];let Qt=X;for(;Qt<tt;){const Zt=ht[Qt];let ce=null,ye=Zt>239?4:Zt>223?3:Zt>191?2:1;if(Qt+ye<=tt){let $e,ge,He,_e;switch(ye){case 1:Zt<128&&(ce=Zt);break;case 2:$e=ht[Qt+1],($e&192)===128&&(_e=(Zt&31)<<6|$e&63,_e>127&&(ce=_e));break;case 3:$e=ht[Qt+1],ge=ht[Qt+2],($e&192)===128&&(ge&192)===128&&(_e=(Zt&15)<<12|($e&63)<<6|ge&63,_e>2047&&(_e<55296||_e>57343)&&(ce=_e));break;case 4:$e=ht[Qt+1],ge=ht[Qt+2],He=ht[Qt+3],($e&192)===128&&(ge&192)===128&&(He&192)===128&&(_e=(Zt&15)<<18|($e&63)<<12|(ge&63)<<6|He&63,_e>65535&&_e<1114112&&(ce=_e))}}ce===null?(ce=65533,ye=1):ce>65535&&(ce-=65536,Tt.push(ce>>>10&1023|55296),ce=56320|ce&1023),Tt.push(ce),Qt+=ye}return ot(Tt)}const mt=4096;function ot(ht){const X=ht.length;if(X<=mt)return String.fromCharCode.apply(String,ht);let tt="",Tt=0;for(;Tt<X;)tt+=String.fromCharCode.apply(String,ht.slice(Tt,Tt+=mt));return tt}function pt(ht,X,tt){let Tt="";tt=Math.min(ht.length,tt);for(let Qt=X;Qt<tt;++Qt)Tt+=String.fromCharCode(ht[Qt]&127);return Tt}function wt(ht,X,tt){let Tt="";tt=Math.min(ht.length,tt);for(let Qt=X;Qt<tt;++Qt)Tt+=String.fromCharCode(ht[Qt]);return Tt}function Mt(ht,X,tt){const Tt=ht.length;(!X||X<0)&&(X=0),(!tt||tt<0||tt>Tt)&&(tt=Tt);let Qt="";for(let Zt=X;Zt<tt;++Zt)Qt+=St[ht[Zt]];return Qt}function xt(ht,X,tt){const Tt=ht.slice(X,tt);let Qt="";for(let Zt=0;Zt<Tt.length-1;Zt+=2)Qt+=String.fromCharCode(Tt[Zt]+Tt[Zt+1]*256);return Qt}b.prototype.slice=function(X,tt){const Tt=this.length;X=~~X,tt=tt===void 0?Tt:~~tt,X<0?(X+=Tt,X<0&&(X=0)):X>Tt&&(X=Tt),tt<0?(tt+=Tt,tt<0&&(tt=0)):tt>Tt&&(tt=Tt),tt<X&&(tt=X);const Qt=this.subarray(X,tt);return Object.setPrototypeOf(Qt,b.prototype),Qt};function dt(ht,X,tt){if(ht%1!==0||ht<0)throw new RangeError("offset is not uint");if(ht+X>tt)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(X,tt,Tt){X=X>>>0,tt=tt>>>0,Tt||dt(X,tt,this.length);let Qt=this[X],Zt=1,ce=0;for(;++ce<tt&&(Zt*=256);)Qt+=this[X+ce]*Zt;return Qt},b.prototype.readUintBE=b.prototype.readUIntBE=function(X,tt,Tt){X=X>>>0,tt=tt>>>0,Tt||dt(X,tt,this.length);let Qt=this[X+--tt],Zt=1;for(;tt>0&&(Zt*=256);)Qt+=this[X+--tt]*Zt;return Qt},b.prototype.readUint8=b.prototype.readUInt8=function(X,tt){return X=X>>>0,tt||dt(X,1,this.length),this[X]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(X,tt){return X=X>>>0,tt||dt(X,2,this.length),this[X]|this[X+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(X,tt){return X=X>>>0,tt||dt(X,2,this.length),this[X]<<8|this[X+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(X,tt){return X=X>>>0,tt||dt(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(X,tt){return X=X>>>0,tt||dt(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},b.prototype.readBigUInt64LE=It(function(X){X=X>>>0,ai(X,"offset");const tt=this[X],Tt=this[X+7];(tt===void 0||Tt===void 0)&&Ye(X,this.length-8);const Qt=tt+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,Zt=this[++X]+this[++X]*2**8+this[++X]*2**16+Tt*2**24;return BigInt(Qt)+(BigInt(Zt)<<BigInt(32))}),b.prototype.readBigUInt64BE=It(function(X){X=X>>>0,ai(X,"offset");const tt=this[X],Tt=this[X+7];(tt===void 0||Tt===void 0)&&Ye(X,this.length-8);const Qt=tt*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],Zt=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+Tt;return(BigInt(Qt)<<BigInt(32))+BigInt(Zt)}),b.prototype.readIntLE=function(X,tt,Tt){X=X>>>0,tt=tt>>>0,Tt||dt(X,tt,this.length);let Qt=this[X],Zt=1,ce=0;for(;++ce<tt&&(Zt*=256);)Qt+=this[X+ce]*Zt;return Zt*=128,Qt>=Zt&&(Qt-=Math.pow(2,8*tt)),Qt},b.prototype.readIntBE=function(X,tt,Tt){X=X>>>0,tt=tt>>>0,Tt||dt(X,tt,this.length);let Qt=tt,Zt=1,ce=this[X+--Qt];for(;Qt>0&&(Zt*=256);)ce+=this[X+--Qt]*Zt;return Zt*=128,ce>=Zt&&(ce-=Math.pow(2,8*tt)),ce},b.prototype.readInt8=function(X,tt){return X=X>>>0,tt||dt(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},b.prototype.readInt16LE=function(X,tt){X=X>>>0,tt||dt(X,2,this.length);const Tt=this[X]|this[X+1]<<8;return Tt&32768?Tt|4294901760:Tt},b.prototype.readInt16BE=function(X,tt){X=X>>>0,tt||dt(X,2,this.length);const Tt=this[X+1]|this[X]<<8;return Tt&32768?Tt|4294901760:Tt},b.prototype.readInt32LE=function(X,tt){return X=X>>>0,tt||dt(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},b.prototype.readInt32BE=function(X,tt){return X=X>>>0,tt||dt(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},b.prototype.readBigInt64LE=It(function(X){X=X>>>0,ai(X,"offset");const tt=this[X],Tt=this[X+7];(tt===void 0||Tt===void 0)&&Ye(X,this.length-8);const Qt=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(Tt<<24);return(BigInt(Qt)<<BigInt(32))+BigInt(tt+this[++X]*256+this[++X]*65536+this[++X]*16777216)}),b.prototype.readBigInt64BE=It(function(X){X=X>>>0,ai(X,"offset");const tt=this[X],Tt=this[X+7];(tt===void 0||Tt===void 0)&&Ye(X,this.length-8);const Qt=(tt<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(Qt)<<BigInt(32))+BigInt(this[++X]*16777216+this[++X]*65536+this[++X]*256+Tt)}),b.prototype.readFloatLE=function(X,tt){return X=X>>>0,tt||dt(X,4,this.length),g.read(this,X,!0,23,4)},b.prototype.readFloatBE=function(X,tt){return X=X>>>0,tt||dt(X,4,this.length),g.read(this,X,!1,23,4)},b.prototype.readDoubleLE=function(X,tt){return X=X>>>0,tt||dt(X,8,this.length),g.read(this,X,!0,52,8)},b.prototype.readDoubleBE=function(X,tt){return X=X>>>0,tt||dt(X,8,this.length),g.read(this,X,!1,52,8)};function Ot(ht,X,tt,Tt,Qt,Zt){if(!b.isBuffer(ht))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>Qt||X<Zt)throw new RangeError('"value" argument is out of bounds');if(tt+Tt>ht.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(X,tt,Tt,Qt){if(X=+X,tt=tt>>>0,Tt=Tt>>>0,!Qt){const ye=Math.pow(2,8*Tt)-1;Ot(this,X,tt,Tt,ye,0)}let Zt=1,ce=0;for(this[tt]=X&255;++ce<Tt&&(Zt*=256);)this[tt+ce]=X/Zt&255;return tt+Tt},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(X,tt,Tt,Qt){if(X=+X,tt=tt>>>0,Tt=Tt>>>0,!Qt){const ye=Math.pow(2,8*Tt)-1;Ot(this,X,tt,Tt,ye,0)}let Zt=Tt-1,ce=1;for(this[tt+Zt]=X&255;--Zt>=0&&(ce*=256);)this[tt+Zt]=X/ce&255;return tt+Tt},b.prototype.writeUint8=b.prototype.writeUInt8=function(X,tt,Tt){return X=+X,tt=tt>>>0,Tt||Ot(this,X,tt,1,255,0),this[tt]=X&255,tt+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(X,tt,Tt){return X=+X,tt=tt>>>0,Tt||Ot(this,X,tt,2,65535,0),this[tt]=X&255,this[tt+1]=X>>>8,tt+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(X,tt,Tt){return X=+X,tt=tt>>>0,Tt||Ot(this,X,tt,2,65535,0),this[tt]=X>>>8,this[tt+1]=X&255,tt+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(X,tt,Tt){return X=+X,tt=tt>>>0,Tt||Ot(this,X,tt,4,4294967295,0),this[tt+3]=X>>>24,this[tt+2]=X>>>16,this[tt+1]=X>>>8,this[tt]=X&255,tt+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(X,tt,Tt){return X=+X,tt=tt>>>0,Tt||Ot(this,X,tt,4,4294967295,0),this[tt]=X>>>24,this[tt+1]=X>>>16,this[tt+2]=X>>>8,this[tt+3]=X&255,tt+4};function At(ht,X,tt,Tt,Qt){Ve(X,Tt,Qt,ht,tt,7);let Zt=Number(X&BigInt(4294967295));ht[tt++]=Zt,Zt=Zt>>8,ht[tt++]=Zt,Zt=Zt>>8,ht[tt++]=Zt,Zt=Zt>>8,ht[tt++]=Zt;let ce=Number(X>>BigInt(32)&BigInt(4294967295));return ht[tt++]=ce,ce=ce>>8,ht[tt++]=ce,ce=ce>>8,ht[tt++]=ce,ce=ce>>8,ht[tt++]=ce,tt}function jt(ht,X,tt,Tt,Qt){Ve(X,Tt,Qt,ht,tt,7);let Zt=Number(X&BigInt(4294967295));ht[tt+7]=Zt,Zt=Zt>>8,ht[tt+6]=Zt,Zt=Zt>>8,ht[tt+5]=Zt,Zt=Zt>>8,ht[tt+4]=Zt;let ce=Number(X>>BigInt(32)&BigInt(4294967295));return ht[tt+3]=ce,ce=ce>>8,ht[tt+2]=ce,ce=ce>>8,ht[tt+1]=ce,ce=ce>>8,ht[tt]=ce,tt+8}b.prototype.writeBigUInt64LE=It(function(X,tt=0){return At(this,X,tt,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=It(function(X,tt=0){return jt(this,X,tt,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(X,tt,Tt,Qt){if(X=+X,tt=tt>>>0,!Qt){const $e=Math.pow(2,8*Tt-1);Ot(this,X,tt,Tt,$e-1,-$e)}let Zt=0,ce=1,ye=0;for(this[tt]=X&255;++Zt<Tt&&(ce*=256);)X<0&&ye===0&&this[tt+Zt-1]!==0&&(ye=1),this[tt+Zt]=(X/ce>>0)-ye&255;return tt+Tt},b.prototype.writeIntBE=function(X,tt,Tt,Qt){if(X=+X,tt=tt>>>0,!Qt){const $e=Math.pow(2,8*Tt-1);Ot(this,X,tt,Tt,$e-1,-$e)}let Zt=Tt-1,ce=1,ye=0;for(this[tt+Zt]=X&255;--Zt>=0&&(ce*=256);)X<0&&ye===0&&this[tt+Zt+1]!==0&&(ye=1),this[tt+Zt]=(X/ce>>0)-ye&255;return tt+Tt},b.prototype.writeInt8=function(X,tt,Tt){return X=+X,tt=tt>>>0,Tt||Ot(this,X,tt,1,127,-128),X<0&&(X=255+X+1),this[tt]=X&255,tt+1},b.prototype.writeInt16LE=function(X,tt,Tt){return X=+X,tt=tt>>>0,Tt||Ot(this,X,tt,2,32767,-32768),this[tt]=X&255,this[tt+1]=X>>>8,tt+2},b.prototype.writeInt16BE=function(X,tt,Tt){return X=+X,tt=tt>>>0,Tt||Ot(this,X,tt,2,32767,-32768),this[tt]=X>>>8,this[tt+1]=X&255,tt+2},b.prototype.writeInt32LE=function(X,tt,Tt){return X=+X,tt=tt>>>0,Tt||Ot(this,X,tt,4,2147483647,-2147483648),this[tt]=X&255,this[tt+1]=X>>>8,this[tt+2]=X>>>16,this[tt+3]=X>>>24,tt+4},b.prototype.writeInt32BE=function(X,tt,Tt){return X=+X,tt=tt>>>0,Tt||Ot(this,X,tt,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[tt]=X>>>24,this[tt+1]=X>>>16,this[tt+2]=X>>>8,this[tt+3]=X&255,tt+4},b.prototype.writeBigInt64LE=It(function(X,tt=0){return At(this,X,tt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=It(function(X,tt=0){return jt(this,X,tt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function bt(ht,X,tt,Tt,Qt,Zt){if(tt+Tt>ht.length)throw new RangeError("Index out of range");if(tt<0)throw new RangeError("Index out of range")}function kt(ht,X,tt,Tt,Qt){return X=+X,tt=tt>>>0,Qt||bt(ht,X,tt,4),g.write(ht,X,tt,Tt,23,4),tt+4}b.prototype.writeFloatLE=function(X,tt,Tt){return kt(this,X,tt,!0,Tt)},b.prototype.writeFloatBE=function(X,tt,Tt){return kt(this,X,tt,!1,Tt)};function Dt(ht,X,tt,Tt,Qt){return X=+X,tt=tt>>>0,Qt||bt(ht,X,tt,8),g.write(ht,X,tt,Tt,52,8),tt+8}b.prototype.writeDoubleLE=function(X,tt,Tt){return Dt(this,X,tt,!0,Tt)},b.prototype.writeDoubleBE=function(X,tt,Tt){return Dt(this,X,tt,!1,Tt)},b.prototype.copy=function(X,tt,Tt,Qt){if(!b.isBuffer(X))throw new TypeError("argument should be a Buffer");if(Tt||(Tt=0),!Qt&&Qt!==0&&(Qt=this.length),tt>=X.length&&(tt=X.length),tt||(tt=0),Qt>0&&Qt<Tt&&(Qt=Tt),Qt===Tt||X.length===0||this.length===0)return 0;if(tt<0)throw new RangeError("targetStart out of bounds");if(Tt<0||Tt>=this.length)throw new RangeError("Index out of range");if(Qt<0)throw new RangeError("sourceEnd out of bounds");Qt>this.length&&(Qt=this.length),X.length-tt<Qt-Tt&&(Qt=X.length-tt+Tt);const Zt=Qt-Tt;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(tt,Tt,Qt):Uint8Array.prototype.set.call(X,this.subarray(Tt,Qt),tt),Zt},b.prototype.fill=function(X,tt,Tt,Qt){if(typeof X=="string"){if(typeof tt=="string"?(Qt=tt,tt=0,Tt=this.length):typeof Tt=="string"&&(Qt=Tt,Tt=this.length),Qt!==void 0&&typeof Qt!="string")throw new TypeError("encoding must be a string");if(typeof Qt=="string"&&!b.isEncoding(Qt))throw new TypeError("Unknown encoding: "+Qt);if(X.length===1){const ce=X.charCodeAt(0);(Qt==="utf8"&&ce<128||Qt==="latin1")&&(X=ce)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(tt<0||this.length<tt||this.length<Tt)throw new RangeError("Out of range index");if(Tt<=tt)return this;tt=tt>>>0,Tt=Tt===void 0?this.length:Tt>>>0,X||(X=0);let Zt;if(typeof X=="number")for(Zt=tt;Zt<Tt;++Zt)this[Zt]=X;else{const ce=b.isBuffer(X)?X:b.from(X,Qt),ye=ce.length;if(ye===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(Zt=0;Zt<Tt-tt;++Zt)this[Zt+tt]=ce[Zt%ye]}return this};const Xt={};function ae(ht,X,tt){Xt[ht]=class extends tt{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ht}]`,this.stack,delete this.name}get code(){return ht}set code(Qt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Qt,writable:!0})}toString(){return`${this.name} [${ht}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(ht){return ht?`${ht} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(ht,X){return`The "${ht}" argument must be of type number. Received type ${typeof X}`},TypeError),ae("ERR_OUT_OF_RANGE",function(ht,X,tt){let Tt=`The value of "${ht}" is out of range.`,Qt=tt;return Number.isInteger(tt)&&Math.abs(tt)>4294967296?Qt=Jt(String(tt)):typeof tt=="bigint"&&(Qt=String(tt),(tt>BigInt(2)**BigInt(32)||tt<-(BigInt(2)**BigInt(32)))&&(Qt=Jt(Qt)),Qt+="n"),Tt+=` It must be ${X}. Received ${Qt}`,Tt},RangeError);function Jt(ht){let X="",tt=ht.length;const Tt=ht[0]==="-"?1:0;for(;tt>=Tt+4;tt-=3)X=`_${ht.slice(tt-3,tt)}${X}`;return`${ht.slice(0,tt)}${X}`}function le(ht,X,tt){ai(X,"offset"),(ht[X]===void 0||ht[X+tt]===void 0)&&Ye(X,ht.length-(tt+1))}function Ve(ht,X,tt,Tt,Qt,Zt){if(ht>tt||ht<X){const ce=typeof X=="bigint"?"n":"";let ye;throw X===0||X===BigInt(0)?ye=`>= 0${ce} and < 2${ce} ** ${(Zt+1)*8}${ce}`:ye=`>= -(2${ce} ** ${(Zt+1)*8-1}${ce}) and < 2 ** ${(Zt+1)*8-1}${ce}`,new Xt.ERR_OUT_OF_RANGE("value",ye,ht)}le(Tt,Qt,Zt)}function ai(ht,X){if(typeof ht!="number")throw new Xt.ERR_INVALID_ARG_TYPE(X,"number",ht)}function Ye(ht,X,tt){throw Math.floor(ht)!==ht?(ai(ht,tt),new Xt.ERR_OUT_OF_RANGE("offset","an integer",ht)):X<0?new Xt.ERR_BUFFER_OUT_OF_BOUNDS:new Xt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,ht)}const ci=/[^+/0-9A-Za-z-_]/g;function ei(ht){if(ht=ht.split("=")[0],ht=ht.trim().replace(ci,""),ht.length<2)return"";for(;ht.length%4!==0;)ht=ht+"=";return ht}function Ze(ht,X){X=X||1/0;let tt;const Tt=ht.length;let Qt=null;const Zt=[];for(let ce=0;ce<Tt;++ce){if(tt=ht.charCodeAt(ce),tt>55295&&tt<57344){if(!Qt){if(tt>56319){(X-=3)>-1&&Zt.push(239,191,189);continue}else if(ce+1===Tt){(X-=3)>-1&&Zt.push(239,191,189);continue}Qt=tt;continue}if(tt<56320){(X-=3)>-1&&Zt.push(239,191,189),Qt=tt;continue}tt=(Qt-55296<<10|tt-56320)+65536}else Qt&&(X-=3)>-1&&Zt.push(239,191,189);if(Qt=null,tt<128){if((X-=1)<0)break;Zt.push(tt)}else if(tt<2048){if((X-=2)<0)break;Zt.push(tt>>6|192,tt&63|128)}else if(tt<65536){if((X-=3)<0)break;Zt.push(tt>>12|224,tt>>6&63|128,tt&63|128)}else if(tt<1114112){if((X-=4)<0)break;Zt.push(tt>>18|240,tt>>12&63|128,tt>>6&63|128,tt&63|128)}else throw new Error("Invalid code point")}return Zt}function be(ht){const X=[];for(let tt=0;tt<ht.length;++tt)X.push(ht.charCodeAt(tt)&255);return X}function ve(ht,X){let tt,Tt,Qt;const Zt=[];for(let ce=0;ce<ht.length&&!((X-=2)<0);++ce)tt=ht.charCodeAt(ce),Tt=tt>>8,Qt=tt%256,Zt.push(Qt),Zt.push(Tt);return Zt}function re(ht){return h.toByteArray(ei(ht))}function Et(ht,X,tt,Tt){let Qt;for(Qt=0;Qt<Tt&&!(Qt+tt>=X.length||Qt>=ht.length);++Qt)X[Qt+tt]=ht[Qt];return Qt}function vt(ht,X){return ht instanceof X||ht!=null&&ht.constructor!=null&&ht.constructor.name!=null&&ht.constructor.name===X.name}function Ht(ht){return ht!==ht}const St=function(){const ht="0123456789abcdef",X=new Array(256);for(let tt=0;tt<16;++tt){const Tt=tt*16;for(let Qt=0;Qt<16;++Qt)X[Tt+Qt]=ht[tt]+ht[Qt]}return X}();function It(ht){return typeof BigInt>"u"?zt:ht}function zt(){throw new Error("BigInt not supported")}},"./node_modules/css-loader/dist/runtime/api.js":c=>{c.exports=function(d){var u=[];return u.toString=function(){return this.map(function(g){var m="",M=typeof g[5]<"u";return g[4]&&(m+="@supports (".concat(g[4],") {")),g[2]&&(m+="@media ".concat(g[2]," {")),M&&(m+="@layer".concat(g[5].length>0?" ".concat(g[5]):""," {")),m+=d(g),M&&(m+="}"),g[2]&&(m+="}"),g[4]&&(m+="}"),m}).join("")},u.i=function(g,m,M,p,A){typeof g=="string"&&(g=[[null,g,void 0]]);var b={};if(M)for(var v=0;v<this.length;v++){var E=this[v][0];E!=null&&(b[E]=!0)}for(var x=0;x<g.length;x++){var _=[].concat(g[x]);M&&b[_[0]]||(typeof A<"u"&&(typeof _[5]>"u"||(_[1]="@layer".concat(_[5].length>0?" ".concat(_[5]):""," {").concat(_[1],"}")),_[5]=A),m&&(_[2]&&(_[1]="@media ".concat(_[2]," {").concat(_[1],"}")),_[2]=m),p&&(_[4]?(_[1]="@supports (".concat(_[4],") {").concat(_[1],"}"),_[4]=p):_[4]="".concat(p)),u.push(_))}},u}},"./node_modules/css-loader/dist/runtime/getUrl.js":c=>{c.exports=function(d,u){return u||(u={}),d&&(d=String(d.__esModule?d.default:d),/^['"].*['"]$/.test(d)&&(d=d.slice(1,-1)),u.hash&&(d+=u.hash),/["'() \t\n]|(%20)/.test(d)||u.needQuotes?'"'.concat(d.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):d)}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":c=>{c.exports=function(d){var u=d[1],h=d[3];if(!h)return u;if(typeof btoa=="function"){var g=btoa(unescape(encodeURIComponent(JSON.stringify(h)))),m="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(g),M="/*# ".concat(m," */");return[u].concat([M]).join(`
`)}return[u].join(`
`)}},"./node_modules/debug/src/browser.js":(c,d,u)=>{d.formatArgs=g,d.save=m,d.load=M,d.useColors=h,d.storage=p(),d.destroy=(()=>{let b=!1;return()=>{b||(b=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),d.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function h(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function g(b){if(b[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+b[0]+(this.useColors?"%c ":" ")+"+"+c.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;b.splice(1,0,v,"color: inherit");let E=0,x=0;b[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(E++,_==="%c"&&(x=E))}),b.splice(x,0,v)}d.log=console.debug||console.log||(()=>{});function m(b){try{b?d.storage.setItem("debug",b):d.storage.removeItem("debug")}catch{}}function M(){let b;try{b=d.storage.getItem("debug")}catch{}return!b&&typeof process<"u"&&"env"in process&&(b=i.DEBUG),b}function p(){try{return localStorage}catch{}}c.exports=u("./node_modules/debug/src/common.js")(d);const{formatters:A}=c.exports;A.j=function(b){try{return JSON.stringify(b)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}},"./node_modules/debug/src/common.js":(c,d,u)=>{function h(g){M.debug=M,M.default=M,M.coerce=x,M.disable=b,M.enable=A,M.enabled=v,M.humanize=u("./node_modules/ms/index.js"),M.destroy=_,Object.keys(g).forEach(C=>{M[C]=g[C]}),M.names=[],M.skips=[],M.formatters={};function m(C){let O=0;for(let I=0;I<C.length;I++)O=(O<<5)-O+C.charCodeAt(I),O|=0;return M.colors[Math.abs(O)%M.colors.length]}M.selectColor=m;function M(C){let O,I=null,T,D;function P(...L){if(!P.enabled)return;const N=P,U=Number(new Date),$=U-(O||U);N.diff=$,N.prev=O,N.curr=U,O=U,L[0]=M.coerce(L[0]),typeof L[0]!="string"&&L.unshift("%O");let F=0;L[0]=L[0].replace(/%([a-zA-Z%])/g,(z,Q)=>{if(z==="%%")return"%";F++;const V=M.formatters[Q];if(typeof V=="function"){const q=L[F];z=V.call(N,q),L.splice(F,1),F--}return z}),M.formatArgs.call(N,L),(N.log||M.log).apply(N,L)}return P.namespace=C,P.useColors=M.useColors(),P.color=M.selectColor(C),P.extend=p,P.destroy=M.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>I!==null?I:(T!==M.namespaces&&(T=M.namespaces,D=M.enabled(C)),D),set:L=>{I=L}}),typeof M.init=="function"&&M.init(P),P}function p(C,O){const I=M(this.namespace+(typeof O>"u"?":":O)+C);return I.log=this.log,I}function A(C){M.save(C),M.namespaces=C,M.names=[],M.skips=[];let O;const I=(typeof C=="string"?C:"").split(/[\s,]+/),T=I.length;for(O=0;O<T;O++)I[O]&&(C=I[O].replace(/\*/g,".*?"),C[0]==="-"?M.skips.push(new RegExp("^"+C.slice(1)+"$")):M.names.push(new RegExp("^"+C+"$")))}function b(){const C=[...M.names.map(E),...M.skips.map(E).map(O=>"-"+O)].join(",");return M.enable(""),C}function v(C){if(C[C.length-1]==="*")return!0;let O,I;for(O=0,I=M.skips.length;O<I;O++)if(M.skips[O].test(C))return!1;for(O=0,I=M.names.length;O<I;O++)if(M.names[O].test(C))return!0;return!1}function E(C){return C.toString().substring(2,C.toString().length-2).replace(/\.\*\?$/,"*")}function x(C){return C instanceof Error?C.stack||C.message:C}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return M.enable(M.load()),M}c.exports=h},"./node_modules/deep-assign/index.js":(c,d,u)=>{var h=u("./node_modules/is-obj/index.js"),g=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function M(b){if(b==null)throw new TypeError("Sources cannot be null or undefined");return Object(b)}function p(b,v,E){var x=v[E];if(x!=null){if(g.call(b,E)&&(b[E]===void 0||b[E]===null))throw new TypeError("Cannot convert undefined or null to object ("+E+")");!g.call(b,E)||!h(x)?b[E]=x:b[E]=A(Object(b[E]),v[E])}}function A(b,v){if(b===v)return b;v=Object(v);for(var E in v)g.call(v,E)&&p(b,v,E);if(Object.getOwnPropertySymbols)for(var x=Object.getOwnPropertySymbols(v),_=0;_<x.length;_++)m.call(v,x[_])&&p(b,v,x[_]);return b}c.exports=function(v){v=M(v);for(var E=1;E<arguments.length;E++)A(v,arguments[E]);return v}},"./node_modules/dtype/index.js":c=>{c.exports=function(d){switch(d){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},"./node_modules/global/window.js":(c,d,u)=>{var h;typeof window<"u"?h=window:typeof u.g<"u"?h=u.g:typeof self<"u"?h=self:h={},c.exports=h},"./node_modules/ieee754/index.js":(c,d)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(u,h,g,m,M){var p,A,b=M*8-m-1,v=(1<<b)-1,E=v>>1,x=-7,_=g?M-1:0,C=g?-1:1,O=u[h+_];for(_+=C,p=O&(1<<-x)-1,O>>=-x,x+=b;x>0;p=p*256+u[h+_],_+=C,x-=8);for(A=p&(1<<-x)-1,p>>=-x,x+=m;x>0;A=A*256+u[h+_],_+=C,x-=8);if(p===0)p=1-E;else{if(p===v)return A?NaN:(O?-1:1)*(1/0);A=A+Math.pow(2,m),p=p-E}return(O?-1:1)*A*Math.pow(2,p-m)},d.write=function(u,h,g,m,M,p){var A,b,v,E=p*8-M-1,x=(1<<E)-1,_=x>>1,C=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=m?0:p-1,I=m?1:-1,T=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(b=isNaN(h)?1:0,A=x):(A=Math.floor(Math.log(h)/Math.LN2),h*(v=Math.pow(2,-A))<1&&(A--,v*=2),A+_>=1?h+=C/v:h+=C*Math.pow(2,1-_),h*v>=2&&(A++,v/=2),A+_>=x?(b=0,A=x):A+_>=1?(b=(h*v-1)*Math.pow(2,M),A=A+_):(b=h*Math.pow(2,_-1)*Math.pow(2,M),A=0));M>=8;u[g+O]=b&255,O+=I,b/=256,M-=8);for(A=A<<M|b,E+=M;E>0;u[g+O]=A&255,O+=I,A/=256,E-=8);u[g+O-I]|=T*128}},"./node_modules/is-buffer/index.js":c=>{/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */c.exports=function(h){return h!=null&&(d(h)||u(h)||!!h._isBuffer)};function d(h){return!!h.constructor&&typeof h.constructor.isBuffer=="function"&&h.constructor.isBuffer(h)}function u(h){return typeof h.readFloatLE=="function"&&typeof h.slice=="function"&&d(h.slice(0,0))}},"./node_modules/is-function/index.js":c=>{c.exports=u;var d=Object.prototype.toString;function u(h){if(!h)return!1;var g=d.call(h);return g==="[object Function]"||typeof h=="function"&&g!=="[object RegExp]"||typeof window<"u"&&(h===window.setTimeout||h===window.alert||h===window.confirm||h===window.prompt)}},"./node_modules/is-obj/index.js":c=>{c.exports=function(d){var u=typeof d;return d!==null&&(u==="object"||u==="function")}},"./node_modules/layout-bmfont-text/index.js":(c,d,u)=>{var h=u("./node_modules/word-wrapper/index.js"),g=u("./node_modules/xtend/immutable.js"),m=u("./node_modules/as-number/index.js"),M=["x","e","a","o","n","s","r","c","u","m","v","w","z"],p=["m","w"],A=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],b=9,v=32,E=0,x=1,_=2;c.exports=function(j){return new C(j)};function C(F){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(F)}C.prototype.update=function(F){if(F=g({measure:this._measure},F),this._opt=F,this._opt.tabSize=m(this._opt.tabSize,4),!F.font)throw new Error("must provide a valid bitmap font");var j=this.glyphs,z=F.text||"",Q=F.font;this._setupSpaceGlyphs(Q);var V=h.lines(z,F),q=F.width||0;j.length=0;var J=V.reduce(function(Ot,At){return Math.max(Ot,At.width,q)},0),W=0,et=0,mt=m(F.lineHeight,Q.common.lineHeight),ot=Q.common.base,pt=mt-ot,wt=F.letterSpacing||0,Mt=mt*V.length-pt,xt=U(this._opt.align);et-=Mt,this._width=J,this._height=Mt,this._descender=mt-ot,this._baseline=ot,this._xHeight=D(Q),this._capHeight=L(Q),this._lineHeight=mt,this._ascender=mt-pt-this._xHeight;var dt=this;V.forEach(function(Ot,At){for(var jt=Ot.start,bt=Ot.end,kt=Ot.width,Dt,Xt=jt;Xt<bt;Xt++){var ae=z.charCodeAt(Xt),Jt=dt.getGlyph(Q,ae);if(Jt){Dt&&(W+=N(Q,Dt.id,Jt.id));var le=W;xt===x?le+=(J-kt)/2:xt===_&&(le+=J-kt),j.push({position:[le,et],data:Jt,index:Xt,line:At}),W+=Jt.xadvance+wt,Dt=Jt}}et+=mt,W=0}),this._linesTotal=V.length},C.prototype._setupSpaceGlyphs=function(F){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,!(!F.chars||F.chars.length===0)){var j=T(F,v)||P(F)||F.chars[0],z=this._opt.tabSize*j.xadvance;this._fallbackSpaceGlyph=j,this._fallbackTabGlyph=g(j,{x:0,y:0,xadvance:z,id:b,xoffset:0,yoffset:0,width:0,height:0})}},C.prototype.getGlyph=function(F,j){var z=T(F,j);return z||(j===b?this._fallbackTabGlyph:j===v?this._fallbackSpaceGlyph:null)},C.prototype.computeMetrics=function(F,j,z,Q){var V=this._opt.letterSpacing||0,q=this._opt.font,J=0,W=0,et=0,mt,ot;if(!q.chars||q.chars.length===0)return{start:j,end:j,width:0};z=Math.min(F.length,z);for(var pt=j;pt<z;pt++){var wt=F.charCodeAt(pt),mt=this.getGlyph(q,wt);if(mt){mt.xoffset;var Mt=ot?N(q,ot.id,mt.id):0;J+=Mt;var xt=J+mt.xadvance+V,dt=J+mt.width;if(dt>=Q||xt>=Q)break;J=xt,W=dt,ot=mt}et++}return ot&&(W+=ot.xoffset),{start:j,end:j+et,width:W}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(O);function O(F){Object.defineProperty(C.prototype,F,{get:I(F),configurable:!0})}function I(F){return new Function(["return function "+F+"() {","  return this._"+F,"}"].join(`
`))()}function T(F,j){if(!F.chars||F.chars.length===0)return null;var z=$(F.chars,j);return z>=0?F.chars[z]:null}function D(F){for(var j=0;j<M.length;j++){var z=M[j].charCodeAt(0),Q=$(F.chars,z);if(Q>=0)return F.chars[Q].height}return 0}function P(F){for(var j=0;j<p.length;j++){var z=p[j].charCodeAt(0),Q=$(F.chars,z);if(Q>=0)return F.chars[Q]}return 0}function L(F){for(var j=0;j<A.length;j++){var z=A[j].charCodeAt(0),Q=$(F.chars,z);if(Q>=0)return F.chars[Q].height}return 0}function N(F,j,z){if(!F.kernings||F.kernings.length===0)return 0;for(var Q=F.kernings,V=0;V<Q.length;V++){var q=Q[V];if(q.first===j&&q.second===z)return q.amount}return 0}function U(F){return F==="center"?x:F==="right"?_:E}function $(F,j,z){z=z||0;for(var Q=z;Q<F.length;Q++)if(F[Q].id===j)return Q;return-1}},"./node_modules/load-bmfont/browser.js":(c,d,u)=>{var h=u("./node_modules/buffer/index.js").Buffer,g=u("./node_modules/xhr/index.js"),m=function(){},M=u("./node_modules/parse-bmfont-ascii/index.js"),p=u("./node_modules/parse-bmfont-xml/lib/browser.js"),A=u("./node_modules/parse-bmfont-binary/index.js"),b=u("./node_modules/load-bmfont/lib/is-binary.js"),v=u("./node_modules/xtend/immutable.js"),E=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();c.exports=function(C,O){O=typeof O=="function"?O:m,typeof C=="string"?C={uri:C}:C||(C={});var I=C.binary;I&&(C=_(C)),g(C,function(T,D,P){if(T)return O(T);if(!/^2/.test(D.statusCode))return O(new Error("http status code: "+D.statusCode));if(!P)return O(new Error("no body result"));var L=!1;if(x(P)){var N=new Uint8Array(P);P=h.from(N,"binary")}b(P)&&(L=!0,typeof P=="string"&&(P=h.from(P,"binary"))),L||(h.isBuffer(P)&&(P=P.toString(C.encoding)),P=P.trim());var U;try{var $=D.headers["content-type"];L?U=A(P):/json/.test($)||P.charAt(0)==="{"?U=JSON.parse(P):/xml/.test($)||P.charAt(0)==="<"?U=p(P):U=M(P)}catch(F){O(new Error("error parsing font "+F.message)),O=m}O(null,U)})};function x(C){var O=Object.prototype.toString;return O.call(C)==="[object ArrayBuffer]"}function _(C){if(E)return v(C,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var O=new self.XMLHttpRequest;return O.overrideMimeType("text/plain; charset=x-user-defined"),v({xhr:O},C)}},"./node_modules/load-bmfont/lib/is-binary.js":(c,d,u)=>{var h=u("./node_modules/buffer/index.js").Buffer,g=u("./node_modules/buffer-equal/index.js"),m=h.from([66,77,70,3]);c.exports=function(M){return typeof M=="string"?M.substring(0,3)==="BMF":M.length>4&&g(M.slice(0,4),m)}},"./node_modules/ms/index.js":c=>{var d=1e3,u=d*60,h=u*60,g=h*24,m=g*7,M=g*365.25;c.exports=function(E,x){x=x||{};var _=typeof E;if(_==="string"&&E.length>0)return p(E);if(_==="number"&&isFinite(E))return x.long?b(E):A(E);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(E))};function p(E){if(E=String(E),!(E.length>100)){var x=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(E);if(x){var _=parseFloat(x[1]),C=(x[2]||"ms").toLowerCase();switch(C){case"years":case"year":case"yrs":case"yr":case"y":return _*M;case"weeks":case"week":case"w":return _*m;case"days":case"day":case"d":return _*g;case"hours":case"hour":case"hrs":case"hr":case"h":return _*h;case"minutes":case"minute":case"mins":case"min":case"m":return _*u;case"seconds":case"second":case"secs":case"sec":case"s":return _*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}function A(E){var x=Math.abs(E);return x>=g?Math.round(E/g)+"d":x>=h?Math.round(E/h)+"h":x>=u?Math.round(E/u)+"m":x>=d?Math.round(E/d)+"s":E+"ms"}function b(E){var x=Math.abs(E);return x>=g?v(E,x,g,"day"):x>=h?v(E,x,h,"hour"):x>=u?v(E,x,u,"minute"):x>=d?v(E,x,d,"second"):E+" ms"}function v(E,x,_,C){var O=x>=_*1.5;return Math.round(E/_)+" "+C+(O?"s":"")}},"./node_modules/parse-bmfont-ascii/index.js":c=>{c.exports=function(m){if(!m)throw new Error("no data provided");m=m.toString().trim();var M={pages:[],chars:[],kernings:[]},p=m.split(/\r\n?|\n/g);if(p.length===0)throw new Error("no data in BMFont file");for(var A=0;A<p.length;A++){var b=d(p[A],A);if(b)if(b.key==="page"){if(typeof b.data.id!="number")throw new Error("malformed file at line "+A+" -- needs page id=N");if(typeof b.data.file!="string")throw new Error("malformed file at line "+A+' -- needs page file="path"');M.pages[b.data.id]=b.data.file}else b.key==="chars"||b.key==="kernings"||(b.key==="char"?M.chars.push(b.data):b.key==="kerning"?M.kernings.push(b.data):M[b.key]=b.data)}return M};function d(g,m){if(g=g.replace(/\t+/g," ").trim(),!g)return null;var M=g.indexOf(" ");if(M===-1)throw new Error("no named row at line "+m);var p=g.substring(0,M);g=g.substring(M+1),g=g.replace(/letter=[\'\"]\S+[\'\"]/gi,""),g=g.split("="),g=g.map(function(x){return x.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var A=[],b=0;b<g.length;b++){var v=g[b];b===0?A.push({key:v[0],data:""}):b===g.length-1?A[A.length-1].data=u(v[0]):(A[A.length-1].data=u(v[0]),A.push({key:v[1],data:""}))}var E={key:p,data:{}};return A.forEach(function(x){E.data[x.key]=x.data}),E}function u(g){return!g||g.length===0?"":g.indexOf('"')===0||g.indexOf("'")===0?g.substring(1,g.length-1):g.indexOf(",")!==-1?h(g):parseInt(g,10)}function h(g){return g.split(",").map(function(m){return parseInt(m,10)})}},"./node_modules/parse-bmfont-binary/index.js":c=>{var d=[66,77,70];c.exports=function(E){if(E.length<6)throw new Error("invalid buffer length for BMFont");var x=d.every(function(T,D){return E.readUInt8(D)===T});if(!x)throw new Error("BMFont missing BMF byte header");var _=3,C=E.readUInt8(_++);if(C>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var O={kernings:[],chars:[]},I=0;I<5;I++)_+=u(O,E,_);return O};function u(v,E,x){if(x>E.length-1)return 0;var _=E.readUInt8(x++),C=E.readInt32LE(x);switch(x+=4,_){case 1:v.info=h(E,x);break;case 2:v.common=g(E,x);break;case 3:v.pages=m(E,x,C);break;case 4:v.chars=M(E,x,C);break;case 5:v.kernings=p(E,x,C);break}return 5+C}function h(v,E){var x={};x.size=v.readInt16LE(E);var _=v.readUInt8(E+2);return x.smooth=_>>7&1,x.unicode=_>>6&1,x.italic=_>>5&1,x.bold=_>>4&1,_>>3&1&&(x.fixedHeight=1),x.charset=v.readUInt8(E+3)||"",x.stretchH=v.readUInt16LE(E+4),x.aa=v.readUInt8(E+6),x.padding=[v.readInt8(E+7),v.readInt8(E+8),v.readInt8(E+9),v.readInt8(E+10)],x.spacing=[v.readInt8(E+11),v.readInt8(E+12)],x.outline=v.readUInt8(E+13),x.face=b(v,E+14),x}function g(v,E){var x={};return x.lineHeight=v.readUInt16LE(E),x.base=v.readUInt16LE(E+2),x.scaleW=v.readUInt16LE(E+4),x.scaleH=v.readUInt16LE(E+6),x.pages=v.readUInt16LE(E+8),v.readUInt8(E+10),x.packed=0,x.alphaChnl=v.readUInt8(E+11),x.redChnl=v.readUInt8(E+12),x.greenChnl=v.readUInt8(E+13),x.blueChnl=v.readUInt8(E+14),x}function m(v,E,x){for(var _=[],C=A(v,E),O=C.length+1,I=x/O,T=0;T<I;T++)_[T]=v.slice(E,E+C.length).toString("utf8"),E+=O;return _}function M(v,E,x){for(var _=[],C=x/20,O=0;O<C;O++){var I={},T=O*20;I.id=v.readUInt32LE(E+0+T),I.x=v.readUInt16LE(E+4+T),I.y=v.readUInt16LE(E+6+T),I.width=v.readUInt16LE(E+8+T),I.height=v.readUInt16LE(E+10+T),I.xoffset=v.readInt16LE(E+12+T),I.yoffset=v.readInt16LE(E+14+T),I.xadvance=v.readInt16LE(E+16+T),I.page=v.readUInt8(E+18+T),I.chnl=v.readUInt8(E+19+T),_[O]=I}return _}function p(v,E,x){for(var _=[],C=x/10,O=0;O<C;O++){var I={},T=O*10;I.first=v.readUInt32LE(E+0+T),I.second=v.readUInt32LE(E+4+T),I.amount=v.readInt16LE(E+8+T),_[O]=I}return _}function A(v,E){for(var x=E;x<v.length&&v[x]!==0;x++);return v.slice(E,x)}function b(v,E){return A(v,E).toString("utf8")}},"./node_modules/parse-bmfont-xml/lib/browser.js":(c,d,u)=>{var h=u("./node_modules/parse-bmfont-xml/lib/parse-attribs.js"),g=u("./node_modules/xml-parse-from-string/index.js"),m={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};c.exports=function(v){v=v.toString();var E=g(v),x={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(P){var L=E.getElementsByTagName(P)[0];L&&(x[P]=h(M(L)))});var _=E.getElementsByTagName("pages")[0];if(!_)throw new Error("malformed file -- no <pages> element");for(var C=_.getElementsByTagName("page"),O=0;O<C.length;O++){var I=C[O],T=parseInt(I.getAttribute("id"),10),D=I.getAttribute("file");if(isNaN(T))throw new Error('malformed file -- page "id" attribute is NaN');if(!D)throw new Error('malformed file -- needs page "file" attribute');x.pages[parseInt(T,10)]=D}return["chars","kernings"].forEach(function(P){var L=E.getElementsByTagName(P)[0];if(L)for(var N=P.substring(0,P.length-1),U=L.getElementsByTagName(N),$=0;$<U.length;$++){var F=U[$];x[P].push(h(M(F)))}}),x};function M(b){var v=p(b);return v.reduce(function(E,x){var _=A(x.nodeName);return E[_]=x.nodeValue,E},{})}function p(b){for(var v=[],E=0;E<b.attributes.length;E++)v.push(b.attributes[E]);return v}function A(b){return m[b.toLowerCase()]||b}},"./node_modules/parse-bmfont-xml/lib/parse-attribs.js":c=>{var d="chasrset";c.exports=function(g){d in g&&(g.charset=g[d],delete g[d]);for(var m in g)m==="face"||m==="charset"||(m==="padding"||m==="spacing"?g[m]=u(g[m]):g[m]=parseInt(g[m],10));return g};function u(h){return h.split(",").map(function(g){return parseInt(g,10)})}},"./node_modules/parse-headers/parse-headers.js":c=>{var d=function(h){return h.replace(/^\s+|\s+$/g,"")},u=function(h){return Object.prototype.toString.call(h)==="[object Array]"};c.exports=function(h){if(!h)return{};for(var g={},m=d(h).split(`
`),M=0;M<m.length;M++){var p=m[M],A=p.indexOf(":"),b=d(p.slice(0,A)).toLowerCase(),v=d(p.slice(A+1));typeof g[b]>"u"?g[b]=v:u(g[b])?g[b].push(v):g[b]=[g[b],v]}return g}},"./node_modules/quad-indices/index.js":(c,d,u)=>{var h=u("./node_modules/dtype/index.js"),g=u("./node_modules/an-array/index.js"),m=u("./node_modules/is-buffer/index.js"),M=[0,2,3],p=[2,1,3];c.exports=function(b,v){(!b||!(g(b)||m(b)))&&(v=b||{},b=null),typeof v=="number"?v={count:v}:v=v||{};for(var E=typeof v.type=="string"?v.type:"uint16",x=typeof v.count=="number"?v.count:1,_=v.start||0,C=v.clockwise!==!1?M:p,O=C[0],I=C[1],T=C[2],D=x*6,P=b||new(h(E))(D),L=0,N=0;L<D;L+=6,N+=4){var U=L+_;P[U+0]=N+0,P[U+1]=N+1,P[U+2]=N+2,P[U+3]=N+O,P[U+4]=N+I,P[U+5]=N+T}return P}},"./node_modules/super-animejs/lib/anime.es.js":(c,d,u)=>{u.r(d),u.d(d,{default:()=>Oa});var h={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},g={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},m=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],M={CSS:{},springs:{}};function p(Kt,ue,Ee){return Math.min(Math.max(Kt,ue),Ee)}function A(Kt,ue){return Kt.indexOf(ue)>-1}function b(Kt,ue){return Kt.apply(null,ue)}var v=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,E=/^rgb/,x=/^hsl/,_={arr:function(Kt){return Array.isArray(Kt)},obj:function(Kt){return A(Object.prototype.toString.call(Kt),"Object")},pth:function(Kt){return _.obj(Kt)&&Kt.hasOwnProperty("totalLength")},svg:function(Kt){return Kt instanceof SVGElement},inp:function(Kt){return Kt instanceof HTMLInputElement},dom:function(Kt){return Kt.nodeType||_.svg(Kt)},str:function(Kt){return typeof Kt=="string"},fnc:function(Kt){return typeof Kt=="function"},und:function(Kt){return typeof Kt>"u"},hex:function(Kt){return v.test(Kt)},rgb:function(Kt){return E.test(Kt)},hsl:function(Kt){return x.test(Kt)},col:function(Kt){return _.hex(Kt)||_.rgb(Kt)||_.hsl(Kt)},key:function(Kt){return!h.hasOwnProperty(Kt)&&!g.hasOwnProperty(Kt)&&Kt!=="targets"&&Kt!=="keyframes"}},C=/\(([^)]+)\)/;function O(Kt){var ue=C.exec(Kt);return ue?ue[1].split(",").map(function(Ee){return parseFloat(Ee)}):[]}function I(Kt,ue){var Ee=O(Kt),qe=p(_.und(Ee[0])?1:Ee[0],.1,100),Ne=p(_.und(Ee[1])?100:Ee[1],.1,100),oi=p(_.und(Ee[2])?10:Ee[2],.1,100),yi=p(_.und(Ee[3])?0:Ee[3],.1,100),ji=Math.sqrt(Ne/qe),Ui=oi/(2*Math.sqrt(Ne*qe)),ii=Ui<1?ji*Math.sqrt(1-Ui*Ui):0,ln=1,vn=Ui<1?(Ui*ji+-yi)/ii:-yi+ji;function Tn(Jn){var kn=ue?ue*Jn/1e3:Jn;return Ui<1?kn=Math.exp(-kn*Ui*ji)*(ln*Math.cos(ii*kn)+vn*Math.sin(ii*kn)):kn=(ln+vn*kn)*Math.exp(-kn*ji),Jn===0||Jn===1?Jn:1-kn}function Gr(){var Jn=M.springs[Kt];if(Jn)return Jn;for(var kn=1/6,pr=0,sa=0;;)if(pr+=kn,Tn(pr)===1){if(sa++,sa>=16)break}else sa=0;var Qa=pr*kn*1e3;return M.springs[Kt]=Qa,Qa}return ue?Tn:Gr}function T(Kt,ue){Kt===void 0&&(Kt=1),ue===void 0&&(ue=.5);var Ee=p(Kt,1,10),qe=p(ue,.1,2);return function(Ne){return Ne===0||Ne===1?Ne:-Ee*Math.pow(2,10*(Ne-1))*Math.sin((Ne-1-qe/(Math.PI*2)*Math.asin(1/Ee))*(Math.PI*2)/qe)}}function D(Kt){return Kt===void 0&&(Kt=10),function(ue){return Math.round(ue*Kt)*(1/Kt)}}var P=function(){var Kt=11,ue=1/(Kt-1);function Ee(ln,vn){return 1-3*vn+3*ln}function qe(ln,vn){return 3*vn-6*ln}function Ne(ln){return 3*ln}function oi(ln,vn,Tn){return((Ee(vn,Tn)*ln+qe(vn,Tn))*ln+Ne(vn))*ln}function yi(ln,vn,Tn){return 3*Ee(vn,Tn)*ln*ln+2*qe(vn,Tn)*ln+Ne(vn)}function ji(ln,vn,Tn,Gr,Jn){var kn,pr,sa=0;do pr=vn+(Tn-vn)/2,kn=oi(pr,Gr,Jn)-ln,kn>0?Tn=pr:vn=pr;while(Math.abs(kn)>1e-7&&++sa<10);return pr}function Ui(ln,vn,Tn,Gr){for(var Jn=0;Jn<4;++Jn){var kn=yi(vn,Tn,Gr);if(kn===0)return vn;var pr=oi(vn,Tn,Gr)-ln;vn-=pr/kn}return vn}function ii(ln,vn,Tn,Gr){if(!(0<=ln&&ln<=1&&0<=Tn&&Tn<=1))return;var Jn=new Float32Array(Kt);if(ln!==vn||Tn!==Gr)for(var kn=0;kn<Kt;++kn)Jn[kn]=oi(kn*ue,ln,Tn);function pr(sa){for(var Qa=0,Hi=1,Wn=Kt-1;Hi!==Wn&&Jn[Hi]<=sa;++Hi)Qa+=ue;--Hi;var xa=(sa-Jn[Hi])/(Jn[Hi+1]-Jn[Hi]),vr=Qa+xa*ue,lt=yi(vr,ln,Tn);return lt>=.001?Ui(sa,vr,ln,Tn):lt===0?vr:ji(sa,Qa,Qa+ue,ln,Tn)}return function(sa){return ln===vn&&Tn===Gr||sa===0||sa===1?sa:oi(pr(sa),vn,Gr)}}return ii}(),L=function(){var Kt=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],ue={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],T],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(yi,ji){return function(Ui){return 1-T(yi,ji)(1-Ui)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(yi,ji){return function(Ui){return Ui<.5?T(yi,ji)(Ui*2)/2:1-T(yi,ji)(Ui*-2+2)/2}}]},Ee={linear:[.25,.25,.75,.75]};for(var qe in ue)for(var Ne=0,oi=ue[qe].length;Ne<oi;Ne++)Ee["ease"+qe+Kt[Ne]]=ue[qe][Ne];return Ee}();function N(Kt,ue){if(_.fnc(Kt))return Kt;var Ee=Kt.split("(")[0],qe=L[Ee],Ne=O(Kt);switch(Ee){case"spring":return I(Kt,ue);case"cubicBezier":return b(P,Ne);case"steps":return b(D,Ne);default:return _.fnc(qe)?b(qe,Ne):b(P,qe)}}function U(Kt){try{var ue=document.querySelectorAll(Kt);return ue}catch{return}}var $=[];function F(Kt,ue){for(var Ee=$,qe=Kt.length,Ne=arguments.length>=2?arguments[1]:void 0,oi=0;oi<qe;oi++)if(oi in Kt){var yi=Kt[oi];ue.call(Ne,yi,oi,Kt)&&Ee.push(yi)}return $=Kt,$.length=0,Ee}function j(Kt,ue){ue||(ue=[]);for(var Ee=0,qe=Kt.length;Ee<qe;Ee++){var Ne=Kt[Ee];Array.isArray(Ne)?j(Ne,ue):ue.push(Ne)}return ue}function z(Kt){return _.arr(Kt)?Kt:(_.str(Kt)&&(Kt=U(Kt)||Kt),Kt instanceof NodeList||Kt instanceof HTMLCollection?[].slice.call(Kt):[Kt])}function Q(Kt,ue){return Kt.some(function(Ee){return Ee===ue})}function V(Kt){var ue={};for(var Ee in Kt)ue[Ee]=Kt[Ee];return ue}function q(Kt,ue){var Ee=V(Kt);for(var qe in Kt)Ee[qe]=ue.hasOwnProperty(qe)?ue[qe]:Kt[qe];return Ee}function J(Kt,ue){var Ee=V(Kt);for(var qe in ue)Ee[qe]=_.und(Kt[qe])?ue[qe]:Kt[qe];return Ee}var W=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g;function et(Kt){var ue=W.exec(Kt);return ue?"rgba("+ue[1]+",1)":Kt}var mt=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ot=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function pt(Kt){var ue=Kt.replace(mt,function(yi,ji,Ui,ii){return ji+ji+Ui+Ui+ii+ii}),Ee=ot.exec(ue),qe=parseInt(Ee[1],16),Ne=parseInt(Ee[2],16),oi=parseInt(Ee[3],16);return"rgba("+qe+","+Ne+","+oi+",1)"}var wt=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,Mt=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function xt(Kt){var ue=wt.exec(Kt)||Mt.exec(Kt),Ee=parseInt(ue[1],10)/360,qe=parseInt(ue[2],10)/100,Ne=parseInt(ue[3],10)/100,oi=ue[4]||1;function yi(Tn,Gr,Jn){return Jn<0&&(Jn+=1),Jn>1&&(Jn-=1),Jn<.16666666666666666?Tn+(Gr-Tn)*6*Jn:Jn<.5?Gr:Jn<.6666666666666666?Tn+(Gr-Tn)*(.6666666666666666-Jn)*6:Tn}var ji,Ui,ii;if(qe==0)ji=Ui=ii=Ne;else{var ln=Ne<.5?Ne*(1+qe):Ne+qe-Ne*qe,vn=2*Ne-ln;ji=yi(vn,ln,Ee+.3333333333333333),Ui=yi(vn,ln,Ee),ii=yi(vn,ln,Ee-.3333333333333333)}return"rgba("+ji*255+","+Ui*255+","+ii*255+","+oi+")"}function dt(Kt){if(_.rgb(Kt))return et(Kt);if(_.hex(Kt))return pt(Kt);if(_.hsl(Kt))return xt(Kt)}var Ot=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function At(Kt){var ue=Ot.exec(Kt);if(ue)return ue[2]}function jt(Kt){if(A(Kt,"translate")||Kt==="perspective")return"px";if(A(Kt,"rotate")||A(Kt,"skew"))return"deg"}function bt(Kt,ue){return _.fnc(Kt)?Kt(ue.target,ue.id,ue.total):Kt}function kt(Kt,ue){return Kt.getAttribute(ue)}function Dt(Kt,ue,Ee){var qe=At(ue);if(Q([Ee,"deg","rad","turn"],qe))return ue;var Ne=M.CSS[ue+Ee];if(!_.und(Ne))return Ne;var oi=100,yi=document.createElement(Kt.tagName),ji=Kt.parentNode&&Kt.parentNode!==document?Kt.parentNode:document.body;ji.appendChild(yi),yi.style.position="absolute",yi.style.width=oi+Ee;var Ui=oi/yi.offsetWidth;ji.removeChild(yi);var ii=Ui*parseFloat(ue);return M.CSS[ue+Ee]=ii,ii}function Xt(Kt,ue,Ee){if(ue in Kt.style){var qe=ue.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ne=Kt.style[ue]||getComputedStyle(Kt).getPropertyValue(qe)||"0";return Ee?Dt(Kt,Ne,Ee):Ne}}function ae(Kt,ue){if(_.dom(Kt)&&!_.inp(Kt)&&(kt(Kt,ue)||_.svg(Kt)&&Kt[ue]))return"attribute";if(_.dom(Kt)&&Q(m,ue))return"transform";if(_.dom(Kt)&&ue!=="transform"&&Xt(Kt,ue))return"css";if(Kt[ue]!=null)return"object"}var Jt=/(\w+)\(([^)]*)\)/g;function le(Kt){if(_.dom(Kt)){for(var ue=Kt.style.transform||"",Ee=new Map,qe;qe=Jt.exec(ue);)Ee.set(qe[1],qe[2]);return Ee}}function Ve(Kt,ue,Ee,qe){var Ne=A(ue,"scale")?1:0+jt(ue),oi=le(Kt).get(ue)||Ne;return Ee&&(Ee.transforms.list.set(ue,oi),Ee.transforms.last=ue),qe?Dt(Kt,oi,qe):oi}function ai(Kt,ue,Ee,qe){switch(ae(Kt,ue)){case"transform":return Ve(Kt,ue,qe,Ee);case"css":return Xt(Kt,ue,Ee);case"attribute":return kt(Kt,ue);default:return Kt[ue]||0}}var Ye=/^(\*=|\+=|-=)/;function ci(Kt,ue){var Ee=Ye.exec(Kt);if(!Ee)return Kt;var qe=At(Kt)||0,Ne=parseFloat(ue),oi=parseFloat(Kt.replace(Ee[0],""));switch(Ee[0][0]){case"+":return Ne+oi+qe;case"-":return Ne-oi+qe;case"*":return Ne*oi+qe}}var ei=/\s/g;function Ze(Kt,ue){if(_.col(Kt))return dt(Kt);var Ee=At(Kt),qe=Ee?Kt.substr(0,Kt.length-Ee.length):Kt;return ue&&!ei.test(Kt)?qe+ue:qe}function be(Kt,ue){return Math.sqrt(Math.pow(ue.x-Kt.x,2)+Math.pow(ue.y-Kt.y,2))}function ve(Kt){return Math.PI*2*kt(Kt,"r")}function re(Kt){return kt(Kt,"width")*2+kt(Kt,"height")*2}function Et(Kt){return be({x:kt(Kt,"x1"),y:kt(Kt,"y1")},{x:kt(Kt,"x2"),y:kt(Kt,"y2")})}function vt(Kt){for(var ue=Kt.points,Ee=0,qe,Ne=0;Ne<ue.numberOfItems;Ne++){var oi=ue.getItem(Ne);Ne>0&&(Ee+=be(qe,oi)),qe=oi}return Ee}function Ht(Kt){var ue=Kt.points;return vt(Kt)+be(ue.getItem(ue.numberOfItems-1),ue.getItem(0))}function St(Kt){if(Kt.getTotalLength)return Kt.getTotalLength();switch(Kt.tagName.toLowerCase()){case"circle":return ve(Kt);case"rect":return re(Kt);case"line":return Et(Kt);case"polyline":return vt(Kt);case"polygon":return Ht(Kt)}}function It(Kt){var ue=St(Kt);return Kt.setAttribute("stroke-dasharray",ue),ue}function zt(Kt){for(var ue=Kt.parentNode;_.svg(ue)&&(ue=ue.parentNode,!!_.svg(ue.parentNode)););return ue}function ht(Kt,ue){var Ee=ue||{},qe=Ee.el||zt(Kt),Ne=qe.getBoundingClientRect(),oi=kt(qe,"viewBox"),yi=Ne.width,ji=Ne.height,Ui=Ee.viewBox||(oi?oi.split(" "):[0,0,yi,ji]);return{el:qe,viewBox:Ui,x:Ui[0]/1,y:Ui[1]/1,w:yi/Ui[2],h:ji/Ui[3]}}function X(Kt,ue){var Ee=_.str(Kt)?U(Kt)[0]:Kt,qe=ue||100;return function(Ne){return{property:Ne,el:Ee,svg:ht(Ee),totalLength:St(Ee)*(qe/100)}}}function tt(Kt,ue){function Ee(ji){ji===void 0&&(ji=0);var Ui=ue+ji>=1?ue+ji:0;return Kt.el.getPointAtLength(Ui)}var qe=ht(Kt.el,Kt.svg),Ne=Ee(),oi=Ee(-1),yi=Ee(1);switch(Kt.property){case"x":return(Ne.x-qe.x)*qe.w;case"y":return(Ne.y-qe.y)*qe.h;case"angle":return Math.atan2(yi.y-oi.y,yi.x-oi.x)*180/Math.PI}}var Tt=/-?\d*\.?\d+/g;function Qt(Kt,ue){var Ee=Ze(_.pth(Kt)?Kt.totalLength:Kt,ue)+"";return{original:Ee,numbers:Ee.match(Tt)?Ee.match(Tt).map(Number):[0],strings:_.str(Kt)||ue?Ee.split(Tt):[]}}function Zt(Kt){var ue=Kt?j(_.arr(Kt)?Kt.map(z):z(Kt)):[];return F(ue,function(Ee,qe,Ne){return Ne.indexOf(Ee)===qe})}function ce(Kt){var ue=Zt(Kt);return ue.map(function(Ee,qe){return{target:Ee,id:qe,total:ue.length,transforms:{list:le(Ee)}}})}var ye=/^spring/;function $e(Kt,ue){var Ee=V(ue);if(ye.test(Ee.easing)&&(Ee.duration=I(Ee.easing)),_.arr(Kt)){var qe=Kt.length,Ne=qe===2&&!_.obj(Kt[0]);Ne?Kt={value:Kt}:_.fnc(ue.duration)||(Ee.duration=ue.duration/qe)}var oi=_.arr(Kt)?Kt:[Kt];return oi.map(function(yi,ji){var Ui=_.obj(yi)&&!_.pth(yi)?yi:{value:yi};return _.und(Ui.delay)&&(Ui.delay=ji?0:ue.delay),_.und(Ui.endDelay)&&(Ui.endDelay=ji===oi.length-1?ue.endDelay:0),Ui}).map(function(yi){return J(yi,Ee)})}function ge(Kt){for(var ue=F(j(Kt.map(function(oi){return Object.keys(oi)})),function(oi){return _.key(oi)}).reduce(function(oi,yi){return oi.indexOf(yi)<0&&oi.push(yi),oi},[]),Ee={},qe=function(oi){var yi=ue[oi];Ee[yi]=Kt.map(function(ji){var Ui={};for(var ii in ji)_.key(ii)?ii==yi&&(Ui.value=ji[ii]):Ui[ii]=ji[ii];return Ui})},Ne=0;Ne<ue.length;Ne++)qe(Ne);return Ee}function He(Kt,ue){var Ee=[],qe=ue.keyframes;qe&&(ue=J(ge(qe),ue));for(var Ne in ue)_.key(Ne)&&Ee.push({name:Ne,tweens:$e(ue[Ne],Kt)});return Ee}function _e(Kt,ue){var Ee={};for(var qe in Kt){var Ne=bt(Kt[qe],ue);_.arr(Ne)&&(Ne=Ne.map(function(oi){return bt(oi,ue)}),Ne.length===1&&(Ne=Ne[0])),Ee[qe]=Ne}return Ee.duration=parseFloat(Ee.duration),Ee.delay=parseFloat(Ee.delay),Ee}function Pi(Kt,ue){var Ee;return Kt.tweens.map(function(qe){var Ne=_e(qe,ue),oi=Ne.value,yi=_.arr(oi)?oi[1]:oi,ji=At(yi),Ui=ai(ue.target,Kt.name,ji,ue),ii=Ee?Ee.to.original:Ui,ln=_.arr(oi)?oi[0]:ii,vn=At(ln)||At(Ui),Tn=ji||vn;return _.und(yi)&&(yi=ii),Ne.from=Qt(ln,Tn),Ne.to=Qt(ci(yi,ln),Tn),Ne.start=Ee?Ee.end:0,Ne.end=Ne.start+Ne.delay+Ne.duration+Ne.endDelay,Ne.easing=N(Ne.easing,Ne.duration),Ne.isPath=_.pth(oi),Ne.isColor=_.col(Ne.from.original),Ne.isColor&&(Ne.round=1),Ee=Ne,Ne})}var Le={css:function(Kt,ue,Ee){return Kt.style[ue]=Ee},attribute:function(Kt,ue,Ee){return Kt.setAttribute(ue,Ee)},object:function(Kt,ue,Ee){return Kt[ue]=Ee},transform:function(Kt,ue,Ee,qe,Ne){if(qe.list.set(ue,Ee),ue===qe.last||Ne){var oi="";qe.list.forEach(function(yi,ji){oi+=ji+"("+yi+") "}),Kt.style.transform=oi}}};function ke(Kt,ue){for(var Ee=ce(Kt),qe=0,Ne=Ee.length;qe<Ne;qe++){var oi=Ee[qe];for(var yi in ue){var ji=bt(ue[yi],oi),Ui=oi.target,ii=At(ji),ln=ai(Ui,yi,ii,oi),vn=ii||At(ln),Tn=ci(Ze(ji,vn),ln),Gr=ae(Ui,yi);Le[Gr](Ui,yi,Tn,oi.transforms,!0)}}}function Oe(Kt,ue){var Ee=ae(Kt.target,ue.name);if(Ee){var qe=Pi(ue,Kt),Ne=qe[qe.length-1];return{type:Ee,property:ue.name,animatable:Kt,tweens:qe,duration:Ne.end,delay:qe[0].delay,endDelay:Ne.endDelay}}}function Ii(Kt,ue){return F(j(Kt.map(function(Ee){return ue.map(function(qe){return Oe(Ee,qe)})})),function(Ee){return!_.und(Ee)})}function wn(Kt,ue){var Ee=Kt.length,qe=function(oi){return oi.timelineOffset?oi.timelineOffset:0},Ne={};return Ne.duration=Ee?Math.max.apply(Math,Kt.map(function(oi){return qe(oi)+oi.duration})):ue.duration,Ne.delay=Ee?Math.min.apply(Math,Kt.map(function(oi){return qe(oi)+oi.delay})):ue.delay,Ne.endDelay=Ee?Ne.duration-Math.max.apply(Math,Kt.map(function(oi){return qe(oi)+oi.duration-oi.endDelay})):ue.endDelay,Ne}var ze=0;function Zi(Kt){var ue=q(h,Kt),Ee=q(g,Kt),qe=He(Ee,Kt),Ne=ce(Kt.targets),oi=Ii(Ne,qe),yi=wn(oi,Ee),ji=ze;return ze++,J(ue,{id:ji,children:[],animatables:Ne,animations:oi,duration:yi.duration,delay:yi.delay,endDelay:yi.endDelay})}var Re=[],bn=[],Ir,dr=function(){function Kt(){Ir=requestAnimationFrame(ue)}function ue(Ee){var qe=Re.length;if(qe){for(var Ne=0;Ne<qe;){var oi=Re[Ne];if(!oi.paused)oi.tick(Ee);else{var yi=Re.indexOf(oi);yi>-1&&(Re.splice(yi,1),qe=Re.length)}Ne++}Kt()}else Ir=cancelAnimationFrame(Ir)}return Kt}();function si(){if(document.hidden){for(var Kt=0,ue=Re.length;Kt<ue;Kt++)activeInstance[Kt].pause();bn=Re.slice(0),Re=[]}else for(var Ee=0,qe=bn.length;Ee<qe;Ee++)bn[Ee].play()}document.addEventListener("visibilitychange",si);function Ki(Kt){Kt===void 0&&(Kt={});var ue=0,Ee=0,qe=0,Ne,oi=0,yi=null;function ji(){return window.Promise&&new Promise(function(Hi){return yi=Hi})}var Ui=ji(),ii=Zi(Kt);function ln(){ii.reversed=!ii.reversed;for(var Hi=0,Wn=Ne.length;Hi<Wn;Hi++)Ne[Hi].reversed=ii.reversed}function vn(Hi){return ii.reversed?ii.duration-Hi:Hi}function Tn(){ue=0,Ee=vn(ii.currentTime)*(1/Ki.speed)}function Gr(Hi,Wn){Wn&&Wn.seek(Hi-Wn.timelineOffset)}function Jn(Hi){if(ii.reversePlayback)for(var xa=oi;xa--;)Gr(Hi,Ne[xa]);else for(var Wn=0;Wn<oi;Wn++)Gr(Hi,Ne[Wn])}function kn(Hi){for(var Wn=0,xa=ii.animations,vr=xa.length;Wn<vr;){var lt=xa[Wn],gt=lt.animatable,Pt=lt.tweens,Vt=Pt.length-1,te=Pt[Vt];Vt&&(te=F(Pt,function(Aa){return Hi<Aa.end})[0]||te);for(var Me=p(Hi-te.start-te.delay,0,te.duration)/te.duration,we=isNaN(Me)?1:te.easing(Me),fi=te.to.strings,di=te.round,De=[],ni=te.to.numbers.length,bi=void 0,Xi=0;Xi<ni;Xi++){var dn=void 0,Cn=te.to.numbers[Xi],Vn=te.from.numbers[Xi]||0;te.isPath?dn=tt(te.value,we*Cn):dn=Vn+we*(Cn-Vn),di&&(te.isColor&&Xi>2||(dn=Math.round(dn*di)/di)),De.push(dn)}var Rn=fi.length;if(!Rn)bi=De[0];else{bi=fi[0];for(var xn=0;xn<Rn;xn++){fi[xn];var _r=fi[xn+1],Vr=De[xn];isNaN(Vr)||(_r?bi+=Vr+_r:bi+=Vr+" ")}}Le[lt.type](gt.target,lt.property,bi,gt.transforms),lt.currentValue=bi,Wn++}}function pr(Hi){ii[Hi]&&!ii.passThrough&&ii[Hi](ii)}function sa(){ii.remaining&&ii.remaining!==!0&&ii.remaining--}function Qa(Hi){var Wn=ii.duration,xa=ii.delay,vr=Wn-ii.endDelay,lt=vn(Hi);ii.progress=p(lt/Wn*100,0,100),ii.reversePlayback=lt<ii.currentTime,Ne&&Jn(lt),!ii.began&&ii.currentTime>0&&(ii.began=!0,pr("begin"),pr("loopBegin")),lt<=xa&&ii.currentTime!==0&&kn(0),(lt>=vr&&ii.currentTime!==Wn||!Wn)&&kn(Wn),lt>xa&&lt<vr?(ii.changeBegan||(ii.changeBegan=!0,ii.changeCompleted=!1,pr("changeBegin")),pr("change"),kn(lt)):ii.changeBegan&&(ii.changeCompleted=!0,ii.changeBegan=!1,pr("changeComplete")),ii.currentTime=p(lt,0,Wn),ii.began&&pr("update"),Hi>=Wn&&(Ee=0,sa(),ii.remaining?(ue=qe,pr("loopComplete"),pr("loopBegin"),ii.direction==="alternate"&&ln()):(ii.paused=!0,ii.completed||(ii.completed=!0,pr("loopComplete"),pr("complete"),"Promise"in window&&(yi(),Ui=ji()))))}return ii.reset=function(){var Hi=ii.direction;ii.passThrough=!1,ii.currentTime=0,ii.progress=0,ii.paused=!0,ii.began=!1,ii.changeBegan=!1,ii.completed=!1,ii.changeCompleted=!1,ii.reversePlayback=!1,ii.reversed=Hi==="reverse",ii.remaining=ii.loop,Ne=ii.children,oi=Ne.length;for(var Wn=oi;Wn--;)ii.children[Wn].reset();(ii.reversed&&ii.loop!==!0||Hi==="alternate"&&ii.loop===1)&&ii.remaining++,kn(0)},ii.set=function(Hi,Wn){return ke(Hi,Wn),ii},ii.tick=function(Hi){qe=Hi,ue||(ue=qe),Qa((qe+(Ee-ue))*Ki.speed)},ii.seek=function(Hi){Qa(vn(Hi))},ii.pause=function(){ii.paused=!0,Tn()},ii.play=function(){ii.paused&&(ii.paused=!1,Re.push(ii),Tn(),Ir||dr())},ii.reverse=function(){ln(),Tn()},ii.restart=function(){ii.reset(),ii.play()},ii.finished=Ui,ii.reset(),ii.autoplay&&ii.play(),ii}function jn(Kt,ue){for(var Ee=ue.length;Ee--;)Q(Kt,ue[Ee].animatable.target)&&ue.splice(Ee,1)}function wi(Kt){for(var ue=Zt(Kt),Ee=Re.length;Ee--;){var qe=Re[Ee],Ne=qe.animations,oi=qe.children;jn(ue,Ne);for(var yi=oi.length;yi--;){var ji=oi[yi],Ui=ji.animations;jn(ue,Ui),!Ui.length&&!ji.children.length&&oi.splice(yi,1)}!Ne.length&&!oi.length&&qe.pause()}}function On(Kt,ue){ue===void 0&&(ue={});var Ee=ue.direction||"normal",qe=ue.easing?N(ue.easing):null,Ne=ue.grid,oi=ue.axis,yi=ue.from||0,ji=yi==="first",Ui=yi==="center",ii=yi==="last",ln=_.arr(Kt),vn=parseFloat(ln?Kt[0]:Kt),Tn=ln?parseFloat(Kt[1]):0,Gr=At(ln?Kt[1]:Kt)||0,Jn=ue.start||0+(ln?vn:0),kn=[],pr=0;return function(sa,Qa,Hi){if(ji&&(yi=0),Ui&&(yi=(Hi-1)/2),ii&&(yi=Hi-1),!kn.length){for(var Wn=0;Wn<Hi;Wn++){if(!Ne)kn.push(Math.abs(yi-Wn));else{var xa=Ui?(Ne[0]-1)/2:yi%Ne[0],vr=Ui?(Ne[1]-1)/2:Math.floor(yi/Ne[0]),lt=Wn%Ne[0],gt=Math.floor(Wn/Ne[0]),Pt=xa-lt,Vt=vr-gt,te=Math.sqrt(Pt*Pt+Vt*Vt);oi==="x"&&(te=-Pt),oi==="y"&&(te=-Vt),kn.push(te)}pr=Math.max.apply(Math,kn)}qe&&(kn=kn.map(function(we){return qe(we/pr)*pr})),Ee==="reverse"&&(kn=kn.map(function(we){return oi?we<0?we*-1:-we:Math.abs(pr-we)}))}var Me=ln?(Tn-vn)/pr:vn;return Jn+Me*(Math.round(kn[Qa]*100)/100)+Gr}}function Ha(Kt){Kt===void 0&&(Kt={});var ue=Ki(Kt);return ue.duration=0,ue.add=function(Ee,qe){var Ne=Re.indexOf(ue),oi=ue.children;Ne>-1&&Re.splice(Ne,1);function yi(Tn){Tn.passThrough=!0}for(var ji=0;ji<oi.length;ji++)yi(oi[ji]);var Ui=J(Ee,q(g,Kt));Ui.targets=Ui.targets||Kt.targets;var ii=ue.duration;Ui.autoplay=!1,Ui.direction=ue.direction,Ui.timelineOffset=_.und(qe)?ii:ci(qe,ii),yi(ue),ue.seek(Ui.timelineOffset);var ln=Ki(Ui);yi(ln),oi.push(ln);var vn=wn(oi,Kt);return ue.delay=vn.delay,ue.endDelay=vn.endDelay,ue.duration=vn.duration,ue.seek(0),ue.reset(),ue.autoplay&&ue.play(),ue},ue}Ki.version="3.0.0",Ki.speed=1,Ki.running=Re,Ki.remove=wi,Ki.get=ai,Ki.set=ke,Ki.convertPx=Dt,Ki.path=X,Ki.setDashoffset=It,Ki.stagger=On,Ki.timeline=Ha,Ki.easing=N,Ki.penner=L,Ki.random=function(Kt,ue){return Math.floor(Math.random()*(ue-Kt+1))+Kt};const Oa=Ki},"./node_modules/three-bmfont-text/index.js":(c,d,u)=>{var h=u("./node_modules/layout-bmfont-text/index.js"),g=u("./node_modules/quad-indices/index.js"),m=u("./node_modules/three-bmfont-text/lib/vertices.js"),M=u("./node_modules/three-bmfont-text/lib/utils.js");c.exports=function(b){return new p(b)};class p extends THREE.BufferGeometry{constructor(b){super(),typeof b=="string"&&(b={text:b}),this._opt=Object.assign({},b),b&&this.update(b)}update(b){if(typeof b=="string"&&(b={text:b}),b=Object.assign({},this._opt,b),!b.font)throw new TypeError("must specify a { font } in options");this.layout=h(b);var v=b.flipY!==!1,E=b.font,x=E.common.scaleW,_=E.common.scaleH,C=this.layout.glyphs.filter(function(P){var L=P.data;return L.width*L.height>0});this.visibleGlyphs=C;var O=m.positions(C),I=m.uvs(C,x,_,v),T=g([],{clockwise:!0,type:"uint16",count:C.length});if(this.setIndex(T),this.setAttribute("position",new THREE.BufferAttribute(O,2)),this.setAttribute("uv",new THREE.BufferAttribute(I,2)),!b.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(b.multipage){var D=m.pages(C);this.setAttribute("page",new THREE.BufferAttribute(D,1))}this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere()}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new THREE.Sphere);var b=this.attributes.position.array,v=this.attributes.position.itemSize;if(!b||!v||b.length<2){this.boundingSphere.radius=0,this.boundingSphere.center.set(0,0,0);return}M.computeSphere(b,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new THREE.Box3);var b=this.boundingBox,v=this.attributes.position.array,E=this.attributes.position.itemSize;if(!v||!E||v.length<2){b.makeEmpty();return}M.computeBox(v,b)}}},"./node_modules/three-bmfont-text/lib/utils.js":c=>{var d=2,u={min:[0,0],max:[0,0]};function h(g){var m=g.length/d;u.min[0]=g[0],u.min[1]=g[1],u.max[0]=g[0],u.max[1]=g[1];for(var M=0;M<m;M++){var p=g[M*d+0],A=g[M*d+1];u.min[0]=Math.min(p,u.min[0]),u.min[1]=Math.min(A,u.min[1]),u.max[0]=Math.max(p,u.max[0]),u.max[1]=Math.max(A,u.max[1])}}c.exports.computeBox=function(g,m){h(g),m.min.set(u.min[0],u.min[1],0),m.max.set(u.max[0],u.max[1],0)},c.exports.computeSphere=function(g,m){h(g);var M=u.min[0],p=u.min[1],A=u.max[0],b=u.max[1],v=A-M,E=b-p,x=Math.sqrt(v*v+E*E);m.center.set(M+v/2,p+E/2,0),m.radius=x/2}},"./node_modules/three-bmfont-text/lib/vertices.js":c=>{c.exports.pages=function(u){var h=new Float32Array(u.length*4*1),g=0;return u.forEach(function(m){var M=m.data.page||0;h[g++]=M,h[g++]=M,h[g++]=M,h[g++]=M}),h},c.exports.uvs=function(u,h,g,m){var M=new Float32Array(u.length*4*2),p=0;return u.forEach(function(A){var b=A.data,v=b.x+b.width,E=b.y+b.height,x=b.x/h,_=b.y/g,C=v/h,O=E/g;m&&(_=(g-b.y)/g,O=(g-E)/g),M[p++]=x,M[p++]=_,M[p++]=x,M[p++]=O,M[p++]=C,M[p++]=O,M[p++]=C,M[p++]=_}),M},c.exports.positions=function(u){var h=new Float32Array(u.length*4*2),g=0;return u.forEach(function(m){var M=m.data,p=m.position[0]+M.xoffset,A=m.position[1]+M.yoffset,b=M.width,v=M.height;h[g++]=p,h[g++]=A,h[g++]=p,h[g++]=A+v,h[g++]=p+b,h[g++]=A+v,h[g++]=p+b,h[g++]=A}),h}},"./node_modules/webvr-polyfill/build/webvr-polyfill.js":function(c,d,u){/**
 * @license
 * webvr-polyfill
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * webvr-polyfill-dpdb 
 * Copyright (c) 2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * wglu-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(h,g){c.exports=g()})(this,function(){var h=typeof window<"u"?window:typeof u.g<"u"?u.g:typeof self<"u"?self:{};function g(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}function m(T,D){return D={exports:{}},T(D,D.exports),D.exports}var M=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},p=function(D,P){for(var L=0,N=D.length;L<N;L++)P[L]=D[L]},A=function(D,P){for(var L in P)P.hasOwnProperty(L)&&(D[L]=P[L]);return D},b=m(function(T,D){/**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * gl-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * webvr-polyfill-dpdb
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(P,L){T.exports=L()})(h,function(){var P=function(lt,gt){if(!(lt instanceof gt))throw new TypeError("Cannot call a class as a function")},L=function(){function lt(gt,Pt){for(var Vt=0;Vt<Pt.length;Vt++){var te=Pt[Vt];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(gt,te.key,te)}}return function(gt,Pt,Vt){return Pt&&lt(gt.prototype,Pt),Vt&&lt(gt,Vt),gt}}(),N=function(){function lt(gt,Pt){var Vt=[],te=!0,Me=!1,we=void 0;try{for(var fi=gt[Symbol.iterator](),di;!(te=(di=fi.next()).done)&&(Vt.push(di.value),!(Pt&&Vt.length===Pt));te=!0);}catch(De){Me=!0,we=De}finally{try{!te&&fi.return&&fi.return()}finally{if(Me)throw we}}return Vt}return function(gt,Pt){if(Array.isArray(gt))return gt;if(Symbol.iterator in Object(gt))return lt(gt,Pt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),U=.001,$=1,F=function(gt,Pt){return"data:"+gt+","+encodeURIComponent(Pt)},j=function(gt,Pt,Vt){return gt+(Pt-gt)*Vt},z=function(){var lt=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return lt}}(),Q=function(){var lt=navigator.userAgent.indexOf("Version")!==-1&&navigator.userAgent.indexOf("Android")!==-1&&navigator.userAgent.indexOf("Chrome")!==-1;return function(){return lt}}(),V=function(){var lt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return lt}}(),q=function(){var lt=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return lt}}(),J=function(){var lt=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),gt=lt?parseInt(lt[1],10):null;return function(){return gt}}(),W=function(){var lt=!1;return lt=z()&&V()&&navigator.userAgent.indexOf("13_4")!==-1,function(){return lt}}(),et=function(){var lt=!1;if(J()===65){var gt=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(gt){var Pt=gt[1].split("."),Vt=N(Pt,4);Vt[0],Vt[1];var te=Vt[2],Me=Vt[3];lt=parseInt(te,10)===3325&&parseInt(Me,10)<148}}return function(){return lt}}(),mt=function(){var lt=navigator.userAgent.indexOf("R7 Build")!==-1;return function(){return lt}}(),ot=function(){var gt=window.orientation==90||window.orientation==-90;return mt()?!gt:gt},pt=function(gt){return!(isNaN(gt)||gt<=U||gt>$)},wt=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},Mt=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},xt=function(gt){if(Q())return!1;if(gt.requestFullscreen)gt.requestFullscreen();else if(gt.webkitRequestFullscreen)gt.webkitRequestFullscreen();else if(gt.mozRequestFullScreen)gt.mozRequestFullScreen();else if(gt.msRequestFullscreen)gt.msRequestFullscreen();else return!1;return!0},dt=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else return!1;return!0},Ot=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},At=function(gt,Pt,Vt,te){var Me=gt.createShader(gt.VERTEX_SHADER);gt.shaderSource(Me,Pt),gt.compileShader(Me);var we=gt.createShader(gt.FRAGMENT_SHADER);gt.shaderSource(we,Vt),gt.compileShader(we);var fi=gt.createProgram();gt.attachShader(fi,Me),gt.attachShader(fi,we);for(var di in te)gt.bindAttribLocation(fi,te[di],di);return gt.linkProgram(fi),gt.deleteShader(Me),gt.deleteShader(we),fi},jt=function(gt,Pt){for(var Vt={},te=gt.getProgramParameter(Pt,gt.ACTIVE_UNIFORMS),Me="",we=0;we<te;we++){var fi=gt.getActiveUniform(Pt,we);Me=fi.name.replace("[0]",""),Vt[Me]=gt.getUniformLocation(Pt,Me)}return Vt},bt=function(gt,Pt,Vt,te,Me,we,fi){var di=1/(Pt-Vt),De=1/(te-Me),ni=1/(we-fi);return gt[0]=-2*di,gt[1]=0,gt[2]=0,gt[3]=0,gt[4]=0,gt[5]=-2*De,gt[6]=0,gt[7]=0,gt[8]=0,gt[9]=0,gt[10]=2*ni,gt[11]=0,gt[12]=(Pt+Vt)*di,gt[13]=(Me+te)*De,gt[14]=(fi+we)*ni,gt[15]=1,gt},kt=function(){var gt=!1;return function(Pt){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Pt)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Pt.substr(0,4)))&&(gt=!0)}(navigator.userAgent||navigator.vendor||window.opera),gt},Dt=function(gt,Pt){for(var Vt in Pt)Pt.hasOwnProperty(Vt)&&(gt[Vt]=Pt[Vt]);return gt},Xt=function(gt){if(z()){var Pt=gt.style.width,Vt=gt.style.height;gt.style.width=parseInt(Pt)+1+"px",gt.style.height=parseInt(Vt)+"px",setTimeout(function(){gt.style.width=Pt,gt.style.height=Vt},100)}window.canvas=gt},ae=function(){var lt=Math.PI/180,gt=Math.PI*.25;function Pt(De,ni,bi,Xi){var dn=Math.tan(ni?ni.upDegrees*lt:gt),Cn=Math.tan(ni?ni.downDegrees*lt:gt),Vn=Math.tan(ni?ni.leftDegrees*lt:gt),Rn=Math.tan(ni?ni.rightDegrees*lt:gt),xn=2/(Vn+Rn),_r=2/(dn+Cn);return De[0]=xn,De[1]=0,De[2]=0,De[3]=0,De[4]=0,De[5]=_r,De[6]=0,De[7]=0,De[8]=-((Vn-Rn)*xn*.5),De[9]=(dn-Cn)*_r*.5,De[10]=Xi/(bi-Xi),De[11]=-1,De[12]=0,De[13]=0,De[14]=Xi*bi/(bi-Xi),De[15]=0,De}function Vt(De,ni,bi){var Xi=ni[0],dn=ni[1],Cn=ni[2],Vn=ni[3],Rn=Xi+Xi,xn=dn+dn,_r=Cn+Cn,Vr=Xi*Rn,Aa=Xi*xn,oa=Xi*_r,za=dn*xn,ja=dn*_r,Ja=Cn*_r,Xa=Vn*Rn,Sa=Vn*xn,g9=Vn*_r;return De[0]=1-(za+Ja),De[1]=Aa+g9,De[2]=oa-Sa,De[3]=0,De[4]=Aa-g9,De[5]=1-(Vr+Ja),De[6]=ja+Xa,De[7]=0,De[8]=oa+Sa,De[9]=ja-Xa,De[10]=1-(Vr+za),De[11]=0,De[12]=bi[0],De[13]=bi[1],De[14]=bi[2],De[15]=1,De}function te(De,ni,bi){var Xi=bi[0],dn=bi[1],Cn=bi[2],Vn,Rn,xn,_r,Vr,Aa,oa,za,ja,Ja,Xa,Sa;return ni===De?(De[12]=ni[0]*Xi+ni[4]*dn+ni[8]*Cn+ni[12],De[13]=ni[1]*Xi+ni[5]*dn+ni[9]*Cn+ni[13],De[14]=ni[2]*Xi+ni[6]*dn+ni[10]*Cn+ni[14],De[15]=ni[3]*Xi+ni[7]*dn+ni[11]*Cn+ni[15]):(Vn=ni[0],Rn=ni[1],xn=ni[2],_r=ni[3],Vr=ni[4],Aa=ni[5],oa=ni[6],za=ni[7],ja=ni[8],Ja=ni[9],Xa=ni[10],Sa=ni[11],De[0]=Vn,De[1]=Rn,De[2]=xn,De[3]=_r,De[4]=Vr,De[5]=Aa,De[6]=oa,De[7]=za,De[8]=ja,De[9]=Ja,De[10]=Xa,De[11]=Sa,De[12]=Vn*Xi+Vr*dn+ja*Cn+ni[12],De[13]=Rn*Xi+Aa*dn+Ja*Cn+ni[13],De[14]=xn*Xi+oa*dn+Xa*Cn+ni[14],De[15]=_r*Xi+za*dn+Sa*Cn+ni[15]),De}function Me(De,ni){var bi=ni[0],Xi=ni[1],dn=ni[2],Cn=ni[3],Vn=ni[4],Rn=ni[5],xn=ni[6],_r=ni[7],Vr=ni[8],Aa=ni[9],oa=ni[10],za=ni[11],ja=ni[12],Ja=ni[13],Xa=ni[14],Sa=ni[15],g9=bi*Rn-Xi*Vn,Ls=bi*xn-dn*Vn,e0=bi*_r-Cn*Vn,E0=Xi*xn-dn*Rn,$o=Xi*_r-Cn*Rn,Go=dn*_r-Cn*xn,Vo=Vr*Ja-Aa*ja,io=Vr*Xa-oa*ja,no=Vr*Sa-za*ja,$9=Aa*Xa-oa*Ja,ro=Aa*Sa-za*Ja,B9=oa*Sa-za*Xa,Er=g9*B9-Ls*ro+e0*$9+E0*no-$o*io+Go*Vo;return Er?(Er=1/Er,De[0]=(Rn*B9-xn*ro+_r*$9)*Er,De[1]=(dn*ro-Xi*B9-Cn*$9)*Er,De[2]=(Ja*Go-Xa*$o+Sa*E0)*Er,De[3]=(oa*$o-Aa*Go-za*E0)*Er,De[4]=(xn*no-Vn*B9-_r*io)*Er,De[5]=(bi*B9-dn*no+Cn*io)*Er,De[6]=(Xa*e0-ja*Go-Sa*Ls)*Er,De[7]=(Vr*Go-oa*e0+za*Ls)*Er,De[8]=(Vn*ro-Rn*no+_r*Vo)*Er,De[9]=(Xi*no-bi*ro-Cn*Vo)*Er,De[10]=(ja*$o-Ja*e0+Sa*g9)*Er,De[11]=(Aa*e0-Vr*$o-za*g9)*Er,De[12]=(Rn*io-Vn*$9-xn*Vo)*Er,De[13]=(bi*$9-Xi*io+dn*Vo)*Er,De[14]=(Ja*Ls-ja*E0-Xa*g9)*Er,De[15]=(Vr*E0-Aa*Ls+oa*g9)*Er,De):null}var we=new Float32Array([0,0,0,1]),fi=new Float32Array([0,0,0]);function di(De,ni,bi,Xi,dn,Cn){Pt(De,Xi||null,Cn.depthNear,Cn.depthFar);var Vn=bi.orientation||we,Rn=bi.position||fi;Vt(ni,Vn,Rn),dn&&te(ni,ni,dn),Me(ni,ni)}return function(De,ni,bi){return!De||!ni?!1:(De.pose=ni,De.timestamp=ni.timestamp,di(De.leftProjectionMatrix,De.leftViewMatrix,ni,bi._getFieldOfView("left"),bi._getEyeOffset("left"),bi),di(De.rightProjectionMatrix,De.rightViewMatrix,ni,bi._getFieldOfView("right"),bi._getEyeOffset("right"),bi),!0)}}(),Jt=function(){var gt=window.self!==window.top,Pt=le(document.referrer),Vt=le(window.location.href);return gt&&Pt!==Vt},le=function(gt){var Pt,Vt=gt.indexOf("://");Vt!==-1?Pt=Vt+3:Pt=0;var te=gt.indexOf("/",Pt);return te===-1&&(te=gt.length),gt.substring(0,te)},Ve=function(gt){if(gt.w>1)return console.warn("getQuaternionAngle: w > 1"),0;var Pt=2*Math.acos(gt.w);return Pt},ai=function(){var lt={};return function(gt,Pt){lt[gt]===void 0&&(console.warn("webvr-polyfill: "+Pt),lt[gt]=!0)}}(),Ye=function(gt,Pt){var Vt=Pt?"Please use "+Pt+" instead.":"";ai(gt,gt+" has been deprecated. This may not work on native WebVR displays. "+Vt)};function ci(lt,gt,Pt){if(!gt){Pt(lt);return}for(var Vt=[],te=null,Me=0;Me<gt.length;++Me){var we=gt[Me];switch(we){case lt.TEXTURE_BINDING_2D:case lt.TEXTURE_BINDING_CUBE_MAP:var fi=gt[++Me];if(fi<lt.TEXTURE0||fi>lt.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),Vt.push(null,null);break}te||(te=lt.getParameter(lt.ACTIVE_TEXTURE)),lt.activeTexture(fi),Vt.push(lt.getParameter(we),null);break;case lt.ACTIVE_TEXTURE:te=lt.getParameter(lt.ACTIVE_TEXTURE),Vt.push(null);break;default:Vt.push(lt.getParameter(we));break}}Pt(lt);for(var Me=0;Me<gt.length;++Me){var we=gt[Me],di=Vt[Me];switch(we){case lt.ACTIVE_TEXTURE:break;case lt.ARRAY_BUFFER_BINDING:lt.bindBuffer(lt.ARRAY_BUFFER,di);break;case lt.COLOR_CLEAR_VALUE:lt.clearColor(di[0],di[1],di[2],di[3]);break;case lt.COLOR_WRITEMASK:lt.colorMask(di[0],di[1],di[2],di[3]);break;case lt.CURRENT_PROGRAM:lt.useProgram(di);break;case lt.ELEMENT_ARRAY_BUFFER_BINDING:lt.bindBuffer(lt.ELEMENT_ARRAY_BUFFER,di);break;case lt.FRAMEBUFFER_BINDING:lt.bindFramebuffer(lt.FRAMEBUFFER,di);break;case lt.RENDERBUFFER_BINDING:lt.bindRenderbuffer(lt.RENDERBUFFER,di);break;case lt.TEXTURE_BINDING_2D:var fi=gt[++Me];if(fi<lt.TEXTURE0||fi>lt.TEXTURE31)break;lt.activeTexture(fi),lt.bindTexture(lt.TEXTURE_2D,di);break;case lt.TEXTURE_BINDING_CUBE_MAP:var fi=gt[++Me];if(fi<lt.TEXTURE0||fi>lt.TEXTURE31)break;lt.activeTexture(fi),lt.bindTexture(lt.TEXTURE_CUBE_MAP,di);break;case lt.VIEWPORT:lt.viewport(di[0],di[1],di[2],di[3]);break;case lt.BLEND:case lt.CULL_FACE:case lt.DEPTH_TEST:case lt.SCISSOR_TEST:case lt.STENCIL_TEST:di?lt.enable(we):lt.disable(we);break;default:console.log("No GL restore behavior for 0x"+we.toString(16));break}te&&lt.activeTexture(te)}}var ei=ci,Ze=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join(`
`),be=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join(`
`);function ve(lt,gt,Pt,Vt){this.gl=lt,this.cardboardUI=gt,this.bufferScale=Pt,this.dirtySubmitFrameBindings=Vt,this.ctxAttribs=lt.getContextAttributes(),this.instanceExt=lt.getExtension("ANGLE_instanced_arrays"),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=lt.drawingBufferWidth,this.bufferHeight=lt.drawingBufferHeight,this.realBindFramebuffer=lt.bindFramebuffer,this.realEnable=lt.enable,this.realDisable=lt.disable,this.realColorMask=lt.colorMask,this.realClearColor=lt.clearColor,this.realViewport=lt.viewport,z()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(lt.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(lt.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=At(lt,Ze,be,this.attribs),this.uniforms=jt(lt,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=lt.createBuffer(),this.indexBuffer=lt.createBuffer(),this.indexCount=0,this.renderTarget=lt.createTexture(),this.framebuffer=lt.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=lt.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=lt.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=lt.createRenderbuffer()),this.patch(),this.onResize()}ve.prototype.destroy=function(){var lt=this.gl;this.unpatch(),lt.deleteProgram(this.program),lt.deleteBuffer(this.vertexBuffer),lt.deleteBuffer(this.indexBuffer),lt.deleteTexture(this.renderTarget),lt.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&lt.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&lt.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&lt.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},ve.prototype.onResize=function(){var lt=this.gl,gt=this,Pt=[lt.RENDERBUFFER_BINDING,lt.TEXTURE_BINDING_2D,lt.TEXTURE0];ei(lt,Pt,function(Vt){gt.realBindFramebuffer.call(Vt,Vt.FRAMEBUFFER,null),gt.scissorTest&&gt.realDisable.call(Vt,Vt.SCISSOR_TEST),gt.realColorMask.call(Vt,!0,!0,!0,!0),gt.realViewport.call(Vt,0,0,Vt.drawingBufferWidth,Vt.drawingBufferHeight),gt.realClearColor.call(Vt,0,0,0,1),Vt.clear(Vt.COLOR_BUFFER_BIT),gt.realBindFramebuffer.call(Vt,Vt.FRAMEBUFFER,gt.framebuffer),Vt.bindTexture(Vt.TEXTURE_2D,gt.renderTarget),Vt.texImage2D(Vt.TEXTURE_2D,0,gt.ctxAttribs.alpha?Vt.RGBA:Vt.RGB,gt.bufferWidth,gt.bufferHeight,0,gt.ctxAttribs.alpha?Vt.RGBA:Vt.RGB,Vt.UNSIGNED_BYTE,null),Vt.texParameteri(Vt.TEXTURE_2D,Vt.TEXTURE_MAG_FILTER,Vt.LINEAR),Vt.texParameteri(Vt.TEXTURE_2D,Vt.TEXTURE_MIN_FILTER,Vt.LINEAR),Vt.texParameteri(Vt.TEXTURE_2D,Vt.TEXTURE_WRAP_S,Vt.CLAMP_TO_EDGE),Vt.texParameteri(Vt.TEXTURE_2D,Vt.TEXTURE_WRAP_T,Vt.CLAMP_TO_EDGE),Vt.framebufferTexture2D(Vt.FRAMEBUFFER,Vt.COLOR_ATTACHMENT0,Vt.TEXTURE_2D,gt.renderTarget,0),gt.ctxAttribs.depth&&gt.ctxAttribs.stencil?(Vt.bindRenderbuffer(Vt.RENDERBUFFER,gt.depthStencilBuffer),Vt.renderbufferStorage(Vt.RENDERBUFFER,Vt.DEPTH_STENCIL,gt.bufferWidth,gt.bufferHeight),Vt.framebufferRenderbuffer(Vt.FRAMEBUFFER,Vt.DEPTH_STENCIL_ATTACHMENT,Vt.RENDERBUFFER,gt.depthStencilBuffer)):gt.ctxAttribs.depth?(Vt.bindRenderbuffer(Vt.RENDERBUFFER,gt.depthBuffer),Vt.renderbufferStorage(Vt.RENDERBUFFER,Vt.DEPTH_COMPONENT16,gt.bufferWidth,gt.bufferHeight),Vt.framebufferRenderbuffer(Vt.FRAMEBUFFER,Vt.DEPTH_ATTACHMENT,Vt.RENDERBUFFER,gt.depthBuffer)):gt.ctxAttribs.stencil&&(Vt.bindRenderbuffer(Vt.RENDERBUFFER,gt.stencilBuffer),Vt.renderbufferStorage(Vt.RENDERBUFFER,Vt.STENCIL_INDEX8,gt.bufferWidth,gt.bufferHeight),Vt.framebufferRenderbuffer(Vt.FRAMEBUFFER,Vt.STENCIL_ATTACHMENT,Vt.RENDERBUFFER,gt.stencilBuffer)),!Vt.checkFramebufferStatus(Vt.FRAMEBUFFER)===Vt.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),gt.realBindFramebuffer.call(Vt,Vt.FRAMEBUFFER,gt.lastBoundFramebuffer),gt.scissorTest&&gt.realEnable.call(Vt,Vt.SCISSOR_TEST),gt.realColorMask.apply(Vt,gt.colorMask),gt.realViewport.apply(Vt,gt.viewport),gt.realClearColor.apply(Vt,gt.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},ve.prototype.patch=function(){if(!this.isPatched){var lt=this,gt=this.gl.canvas,Pt=this.gl;z()||(gt.width=wt()*this.bufferScale,gt.height=Mt()*this.bufferScale,Object.defineProperty(gt,"width",{configurable:!0,enumerable:!0,get:function(){return lt.bufferWidth},set:function(te){lt.bufferWidth=te,lt.realCanvasWidth.set.call(gt,te),lt.onResize()}}),Object.defineProperty(gt,"height",{configurable:!0,enumerable:!0,get:function(){return lt.bufferHeight},set:function(te){lt.bufferHeight=te,lt.realCanvasHeight.set.call(gt,te),lt.onResize()}})),this.lastBoundFramebuffer=Pt.getParameter(Pt.FRAMEBUFFER_BINDING),this.lastBoundFramebuffer==null&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(Pt.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function(Vt,te){lt.lastBoundFramebuffer=te||lt.framebuffer,lt.realBindFramebuffer.call(Pt,Vt,lt.lastBoundFramebuffer)},this.cullFace=Pt.getParameter(Pt.CULL_FACE),this.depthTest=Pt.getParameter(Pt.DEPTH_TEST),this.blend=Pt.getParameter(Pt.BLEND),this.scissorTest=Pt.getParameter(Pt.SCISSOR_TEST),this.stencilTest=Pt.getParameter(Pt.STENCIL_TEST),Pt.enable=function(Vt){switch(Vt){case Pt.CULL_FACE:lt.cullFace=!0;break;case Pt.DEPTH_TEST:lt.depthTest=!0;break;case Pt.BLEND:lt.blend=!0;break;case Pt.SCISSOR_TEST:lt.scissorTest=!0;break;case Pt.STENCIL_TEST:lt.stencilTest=!0;break}lt.realEnable.call(Pt,Vt)},Pt.disable=function(Vt){switch(Vt){case Pt.CULL_FACE:lt.cullFace=!1;break;case Pt.DEPTH_TEST:lt.depthTest=!1;break;case Pt.BLEND:lt.blend=!1;break;case Pt.SCISSOR_TEST:lt.scissorTest=!1;break;case Pt.STENCIL_TEST:lt.stencilTest=!1;break}lt.realDisable.call(Pt,Vt)},this.colorMask=Pt.getParameter(Pt.COLOR_WRITEMASK),Pt.colorMask=function(Vt,te,Me,we){lt.colorMask[0]=Vt,lt.colorMask[1]=te,lt.colorMask[2]=Me,lt.colorMask[3]=we,lt.realColorMask.call(Pt,Vt,te,Me,we)},this.clearColor=Pt.getParameter(Pt.COLOR_CLEAR_VALUE),Pt.clearColor=function(Vt,te,Me,we){lt.clearColor[0]=Vt,lt.clearColor[1]=te,lt.clearColor[2]=Me,lt.clearColor[3]=we,lt.realClearColor.call(Pt,Vt,te,Me,we)},this.viewport=Pt.getParameter(Pt.VIEWPORT),Pt.viewport=function(Vt,te,Me,we){lt.viewport[0]=Vt,lt.viewport[1]=te,lt.viewport[2]=Me,lt.viewport[3]=we,lt.realViewport.call(Pt,Vt,te,Me,we)},this.isPatched=!0,Xt(gt)}},ve.prototype.unpatch=function(){if(this.isPatched){var lt=this.gl,gt=this.gl.canvas;z()||(Object.defineProperty(gt,"width",this.realCanvasWidth),Object.defineProperty(gt,"height",this.realCanvasHeight)),gt.width=this.bufferWidth,gt.height=this.bufferHeight,lt.bindFramebuffer=this.realBindFramebuffer,lt.enable=this.realEnable,lt.disable=this.realDisable,lt.colorMask=this.realColorMask,lt.clearColor=this.realClearColor,lt.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&lt.bindFramebuffer(lt.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){Xt(gt)},1)}},ve.prototype.setTextureBounds=function(lt,gt){lt||(lt=[0,0,.5,1]),gt||(gt=[.5,0,.5,1]),this.viewportOffsetScale[0]=lt[0],this.viewportOffsetScale[1]=lt[1],this.viewportOffsetScale[2]=lt[2],this.viewportOffsetScale[3]=lt[3],this.viewportOffsetScale[4]=gt[0],this.viewportOffsetScale[5]=gt[1],this.viewportOffsetScale[6]=gt[2],this.viewportOffsetScale[7]=gt[3]},ve.prototype.submitFrame=function(){var lt=this.gl,gt=this,Pt=[];if(this.dirtySubmitFrameBindings||Pt.push(lt.CURRENT_PROGRAM,lt.ARRAY_BUFFER_BINDING,lt.ELEMENT_ARRAY_BUFFER_BINDING,lt.TEXTURE_BINDING_2D,lt.TEXTURE0),ei(lt,Pt,function(te){gt.realBindFramebuffer.call(te,te.FRAMEBUFFER,null);var Me=0,we=0;gt.instanceExt&&(Me=te.getVertexAttrib(gt.attribs.position,gt.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),we=te.getVertexAttrib(gt.attribs.texCoord,gt.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)),gt.cullFace&&gt.realDisable.call(te,te.CULL_FACE),gt.depthTest&&gt.realDisable.call(te,te.DEPTH_TEST),gt.blend&&gt.realDisable.call(te,te.BLEND),gt.scissorTest&&gt.realDisable.call(te,te.SCISSOR_TEST),gt.stencilTest&&gt.realDisable.call(te,te.STENCIL_TEST),gt.realColorMask.call(te,!0,!0,!0,!0),gt.realViewport.call(te,0,0,te.drawingBufferWidth,te.drawingBufferHeight),(gt.ctxAttribs.alpha||z())&&(gt.realClearColor.call(te,0,0,0,1),te.clear(te.COLOR_BUFFER_BIT)),te.useProgram(gt.program),te.bindBuffer(te.ELEMENT_ARRAY_BUFFER,gt.indexBuffer),te.bindBuffer(te.ARRAY_BUFFER,gt.vertexBuffer),te.enableVertexAttribArray(gt.attribs.position),te.enableVertexAttribArray(gt.attribs.texCoord),te.vertexAttribPointer(gt.attribs.position,2,te.FLOAT,!1,20,0),te.vertexAttribPointer(gt.attribs.texCoord,3,te.FLOAT,!1,20,8),gt.instanceExt&&(Me!=0&&gt.instanceExt.vertexAttribDivisorANGLE(gt.attribs.position,0),we!=0&&gt.instanceExt.vertexAttribDivisorANGLE(gt.attribs.texCoord,0)),te.activeTexture(te.TEXTURE0),te.uniform1i(gt.uniforms.diffuse,0),te.bindTexture(te.TEXTURE_2D,gt.renderTarget),te.uniform4fv(gt.uniforms.viewportOffsetScale,gt.viewportOffsetScale),te.drawElements(te.TRIANGLES,gt.indexCount,te.UNSIGNED_SHORT,0),gt.cardboardUI&&gt.cardboardUI.renderNoState(),gt.realBindFramebuffer.call(gt.gl,te.FRAMEBUFFER,gt.framebuffer),gt.ctxAttribs.preserveDrawingBuffer||(gt.realClearColor.call(te,0,0,0,0),te.clear(te.COLOR_BUFFER_BIT)),gt.dirtySubmitFrameBindings||gt.realBindFramebuffer.call(te,te.FRAMEBUFFER,gt.lastBoundFramebuffer),gt.cullFace&&gt.realEnable.call(te,te.CULL_FACE),gt.depthTest&&gt.realEnable.call(te,te.DEPTH_TEST),gt.blend&&gt.realEnable.call(te,te.BLEND),gt.scissorTest&&gt.realEnable.call(te,te.SCISSOR_TEST),gt.stencilTest&&gt.realEnable.call(te,te.STENCIL_TEST),gt.realColorMask.apply(te,gt.colorMask),gt.realViewport.apply(te,gt.viewport),(gt.ctxAttribs.alpha||!gt.ctxAttribs.preserveDrawingBuffer)&&gt.realClearColor.apply(te,gt.clearColor),gt.instanceExt&&(Me!=0&&gt.instanceExt.vertexAttribDivisorANGLE(gt.attribs.position,Me),we!=0&&gt.instanceExt.vertexAttribDivisorANGLE(gt.attribs.texCoord,we))}),z()){var Vt=lt.canvas;(Vt.width!=gt.bufferWidth||Vt.height!=gt.bufferHeight)&&(gt.bufferWidth=Vt.width,gt.bufferHeight=Vt.height,gt.onResize())}},ve.prototype.updateDeviceInfo=function(lt){var gt=this.gl,Pt=this,Vt=[gt.ARRAY_BUFFER_BINDING,gt.ELEMENT_ARRAY_BUFFER_BINDING];ei(gt,Vt,function(te){var Me=Pt.computeMeshVertices_(Pt.meshWidth,Pt.meshHeight,lt);if(te.bindBuffer(te.ARRAY_BUFFER,Pt.vertexBuffer),te.bufferData(te.ARRAY_BUFFER,Me,te.STATIC_DRAW),!Pt.indexCount){var we=Pt.computeMeshIndices_(Pt.meshWidth,Pt.meshHeight);te.bindBuffer(te.ELEMENT_ARRAY_BUFFER,Pt.indexBuffer),te.bufferData(te.ELEMENT_ARRAY_BUFFER,we,te.STATIC_DRAW),Pt.indexCount=we.length}})},ve.prototype.computeMeshVertices_=function(lt,gt,Pt){for(var Vt=new Float32Array(2*lt*gt*5),te=Pt.getLeftEyeVisibleTanAngles(),Me=Pt.getLeftEyeNoLensTanAngles(),we=Pt.getLeftEyeVisibleScreenRect(Me),fi=0,di=0;di<2;di++){for(var De=0;De<gt;De++)for(var ni=0;ni<lt;ni++,fi++){var bi=ni/(lt-1),Xi=De/(gt-1),dn=bi,Cn=Xi,Vn=j(te[0],te[2],bi),Rn=j(te[3],te[1],Xi),xn=Math.sqrt(Vn*Vn+Rn*Rn),_r=Pt.distortion.distortInverse(xn),Vr=Vn*_r/xn,Aa=Rn*_r/xn;bi=(Vr-Me[0])/(Me[2]-Me[0]),Xi=(Aa-Me[3])/(Me[1]-Me[3]),bi=(we.x+bi*we.width-.5)*2,Xi=(we.y+Xi*we.height-.5)*2,Vt[fi*5+0]=bi,Vt[fi*5+1]=Xi,Vt[fi*5+2]=dn,Vt[fi*5+3]=Cn,Vt[fi*5+4]=di}var oa=te[2]-te[0];te[0]=-(oa+te[0]),te[2]=oa-te[2],oa=Me[2]-Me[0],Me[0]=-(oa+Me[0]),Me[2]=oa-Me[2],we.x=1-(we.x+we.width)}return Vt},ve.prototype.computeMeshIndices_=function(lt,gt){for(var Pt=new Uint16Array(2*(lt-1)*(gt-1)*6),Vt=lt/2,te=gt/2,Me=0,we=0,fi=0;fi<2;fi++)for(var di=0;di<gt;di++)for(var De=0;De<lt;De++,Me++)De==0||di==0||(De<=Vt==di<=te?(Pt[we++]=Me,Pt[we++]=Me-lt-1,Pt[we++]=Me-lt,Pt[we++]=Me-lt-1,Pt[we++]=Me,Pt[we++]=Me-1):(Pt[we++]=Me-1,Pt[we++]=Me-lt,Pt[we++]=Me,Pt[we++]=Me-lt,Pt[we++]=Me-1,Pt[we++]=Me-lt-1));return Pt},ve.prototype.getOwnPropertyDescriptor_=function(lt,gt){var Pt=Object.getOwnPropertyDescriptor(lt,gt);return(Pt.get===void 0||Pt.set===void 0)&&(Pt.configurable=!0,Pt.enumerable=!0,Pt.get=function(){return this.getAttribute(gt)},Pt.set=function(Vt){this.setAttribute(gt,Vt)}),Pt};var re=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join(`
`),Et=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join(`
`),vt=Math.PI/180,Ht=60,St=12,It=20,zt=1,ht=.75,X=.3125,tt=4,Tt=28,Qt=1.5;function Zt(lt){this.gl=lt,this.attribs={position:0},this.program=At(lt,re,Et,this.attribs),this.uniforms=jt(lt,this.program),this.vertexBuffer=lt.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}Zt.prototype.destroy=function(){var lt=this.gl;this.listener&&lt.canvas.removeEventListener("click",this.listener,!1),lt.deleteProgram(this.program),lt.deleteBuffer(this.vertexBuffer)},Zt.prototype.listen=function(lt,gt){var Pt=this.gl.canvas;this.listener=function(Vt){var te=Pt.clientWidth/2,Me=Tt*Qt;Vt.clientX>te-Me&&Vt.clientX<te+Me&&Vt.clientY>Pt.clientHeight-Me?lt(Vt):Vt.clientX<Me&&Vt.clientY<Me&&gt(Vt)},Pt.addEventListener("click",this.listener,!1)},Zt.prototype.onResize=function(){var lt=this.gl,gt=this,Pt=[lt.ARRAY_BUFFER_BINDING];ei(lt,Pt,function(Vt){var te=[],Me=Vt.drawingBufferWidth/2,we=Math.max(screen.width,screen.height)*window.devicePixelRatio,fi=Vt.drawingBufferWidth/we,di=fi*window.devicePixelRatio,De=tt*di/2,ni=Tt*Qt*di,bi=Tt*di/2,Xi=(Tt*Qt-Tt)*di;te.push(Me-De,ni),te.push(Me-De,Vt.drawingBufferHeight),te.push(Me+De,ni),te.push(Me+De,Vt.drawingBufferHeight),gt.gearOffset=te.length/2;function dn(_r,Vr){var Aa=(90-_r)*vt,oa=Math.cos(Aa),za=Math.sin(Aa);te.push(X*oa*bi+Me,X*za*bi+bi),te.push(Vr*oa*bi+Me,Vr*za*bi+bi)}for(var Cn=0;Cn<=6;Cn++){var Vn=Cn*Ht;dn(Vn,zt),dn(Vn+St,zt),dn(Vn+It,ht),dn(Vn+(Ht-It),ht),dn(Vn+(Ht-St),zt)}gt.gearVertexCount=te.length/2-gt.gearOffset,gt.arrowOffset=te.length/2;function Rn(_r,Vr){te.push(Xi+_r,Vt.drawingBufferHeight-Xi-Vr)}var xn=De/Math.sin(45*vt);Rn(0,bi),Rn(bi,0),Rn(bi+xn,xn),Rn(xn,bi+xn),Rn(xn,bi-xn),Rn(0,bi),Rn(bi,bi*2),Rn(bi+xn,bi*2-xn),Rn(xn,bi-xn),Rn(0,bi),Rn(xn,bi-De),Rn(Tt*di,bi-De),Rn(xn,bi+De),Rn(Tt*di,bi+De),gt.arrowVertexCount=te.length/2-gt.arrowOffset,Vt.bindBuffer(Vt.ARRAY_BUFFER,gt.vertexBuffer),Vt.bufferData(Vt.ARRAY_BUFFER,new Float32Array(te),Vt.STATIC_DRAW)})},Zt.prototype.render=function(){var lt=this.gl,gt=this,Pt=[lt.CULL_FACE,lt.DEPTH_TEST,lt.BLEND,lt.SCISSOR_TEST,lt.STENCIL_TEST,lt.COLOR_WRITEMASK,lt.VIEWPORT,lt.CURRENT_PROGRAM,lt.ARRAY_BUFFER_BINDING];ei(lt,Pt,function(Vt){Vt.disable(Vt.CULL_FACE),Vt.disable(Vt.DEPTH_TEST),Vt.disable(Vt.BLEND),Vt.disable(Vt.SCISSOR_TEST),Vt.disable(Vt.STENCIL_TEST),Vt.colorMask(!0,!0,!0,!0),Vt.viewport(0,0,Vt.drawingBufferWidth,Vt.drawingBufferHeight),gt.renderNoState()})},Zt.prototype.renderNoState=function(){var lt=this.gl;lt.useProgram(this.program),lt.bindBuffer(lt.ARRAY_BUFFER,this.vertexBuffer),lt.enableVertexAttribArray(this.attribs.position),lt.vertexAttribPointer(this.attribs.position,2,lt.FLOAT,!1,8,0),lt.uniform4f(this.uniforms.color,1,1,1,1),bt(this.projMat,0,lt.drawingBufferWidth,0,lt.drawingBufferHeight,.1,1024),lt.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),lt.drawArrays(lt.TRIANGLE_STRIP,0,4),lt.drawArrays(lt.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),lt.drawArrays(lt.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)};function ce(lt){this.coefficients=lt}ce.prototype.distortInverse=function(lt){for(var gt=0,Pt=1,Vt=lt-this.distort(gt);Math.abs(Pt-gt)>1e-4;){var te=lt-this.distort(Pt),Me=Pt-te*((Pt-gt)/(te-Vt));gt=Pt,Pt=Me,Vt=te}return Pt},ce.prototype.distort=function(lt){for(var gt=lt*lt,Pt=0,Vt=0;Vt<this.coefficients.length;Vt++)Pt=gt*(Pt+this.coefficients[Vt]);return(Pt+1)*lt};var ye=Math.PI/180,$e=180/Math.PI,ge=function(gt,Pt,Vt){this.x=gt||0,this.y=Pt||0,this.z=Vt||0};ge.prototype={constructor:ge,set:function(gt,Pt,Vt){return this.x=gt,this.y=Pt,this.z=Vt,this},copy:function(gt){return this.x=gt.x,this.y=gt.y,this.z=gt.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var gt=this.length();if(gt!==0){var Pt=1/gt;this.multiplyScalar(Pt)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(gt){this.x*=gt,this.y*=gt,this.z*=gt},applyQuaternion:function(gt){var Pt=this.x,Vt=this.y,te=this.z,Me=gt.x,we=gt.y,fi=gt.z,di=gt.w,De=di*Pt+we*te-fi*Vt,ni=di*Vt+fi*Pt-Me*te,bi=di*te+Me*Vt-we*Pt,Xi=-Me*Pt-we*Vt-fi*te;return this.x=De*di+Xi*-Me+ni*-fi-bi*-we,this.y=ni*di+Xi*-we+bi*-Me-De*-fi,this.z=bi*di+Xi*-fi+De*-we-ni*-Me,this},dot:function(gt){return this.x*gt.x+this.y*gt.y+this.z*gt.z},crossVectors:function(gt,Pt){var Vt=gt.x,te=gt.y,Me=gt.z,we=Pt.x,fi=Pt.y,di=Pt.z;return this.x=te*di-Me*fi,this.y=Me*we-Vt*di,this.z=Vt*fi-te*we,this}};var He=function(gt,Pt,Vt,te){this.x=gt||0,this.y=Pt||0,this.z=Vt||0,this.w=te!==void 0?te:1};He.prototype={constructor:He,set:function(gt,Pt,Vt,te){return this.x=gt,this.y=Pt,this.z=Vt,this.w=te,this},copy:function(gt){return this.x=gt.x,this.y=gt.y,this.z=gt.z,this.w=gt.w,this},setFromEulerXYZ:function(gt,Pt,Vt){var te=Math.cos(gt/2),Me=Math.cos(Pt/2),we=Math.cos(Vt/2),fi=Math.sin(gt/2),di=Math.sin(Pt/2),De=Math.sin(Vt/2);return this.x=fi*Me*we+te*di*De,this.y=te*di*we-fi*Me*De,this.z=te*Me*De+fi*di*we,this.w=te*Me*we-fi*di*De,this},setFromEulerYXZ:function(gt,Pt,Vt){var te=Math.cos(gt/2),Me=Math.cos(Pt/2),we=Math.cos(Vt/2),fi=Math.sin(gt/2),di=Math.sin(Pt/2),De=Math.sin(Vt/2);return this.x=fi*Me*we+te*di*De,this.y=te*di*we-fi*Me*De,this.z=te*Me*De-fi*di*we,this.w=te*Me*we+fi*di*De,this},setFromAxisAngle:function(gt,Pt){var Vt=Pt/2,te=Math.sin(Vt);return this.x=gt.x*te,this.y=gt.y*te,this.z=gt.z*te,this.w=Math.cos(Vt),this},multiply:function(gt){return this.multiplyQuaternions(this,gt)},multiplyQuaternions:function(gt,Pt){var Vt=gt.x,te=gt.y,Me=gt.z,we=gt.w,fi=Pt.x,di=Pt.y,De=Pt.z,ni=Pt.w;return this.x=Vt*ni+we*fi+te*De-Me*di,this.y=te*ni+we*di+Me*fi-Vt*De,this.z=Me*ni+we*De+Vt*di-te*fi,this.w=we*ni-Vt*fi-te*di-Me*De,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var gt=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return gt===0?(this.x=0,this.y=0,this.z=0,this.w=1):(gt=1/gt,this.x=this.x*gt,this.y=this.y*gt,this.z=this.z*gt,this.w=this.w*gt),this},slerp:function(gt,Pt){if(Pt===0)return this;if(Pt===1)return this.copy(gt);var Vt=this.x,te=this.y,Me=this.z,we=this.w,fi=we*gt.w+Vt*gt.x+te*gt.y+Me*gt.z;if(fi<0?(this.w=-gt.w,this.x=-gt.x,this.y=-gt.y,this.z=-gt.z,fi=-fi):this.copy(gt),fi>=1)return this.w=we,this.x=Vt,this.y=te,this.z=Me,this;var di=Math.acos(fi),De=Math.sqrt(1-fi*fi);if(Math.abs(De)<.001)return this.w=.5*(we+this.w),this.x=.5*(Vt+this.x),this.y=.5*(te+this.y),this.z=.5*(Me+this.z),this;var ni=Math.sin((1-Pt)*di)/De,bi=Math.sin(Pt*di)/De;return this.w=we*ni+this.w*bi,this.x=Vt*ni+this.x*bi,this.y=te*ni+this.y*bi,this.z=Me*ni+this.z*bi,this},setFromUnitVectors:function(){var lt,gt,Pt=1e-6;return function(Vt,te){return lt===void 0&&(lt=new ge),gt=Vt.dot(te)+1,gt<Pt?(gt=0,Math.abs(Vt.x)>Math.abs(Vt.z)?lt.set(-Vt.y,Vt.x,0):lt.set(0,-Vt.z,Vt.y)):lt.crossVectors(Vt,te),this.x=lt.x,this.y=lt.y,this.z=lt.z,this.w=gt,this.normalize(),this}}()};function _e(lt){this.width=lt.width||wt(),this.height=lt.height||Mt(),this.widthMeters=lt.widthMeters,this.heightMeters=lt.heightMeters,this.bevelMeters=lt.bevelMeters}var Pi=new _e({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),Le=new _e({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),ke={CardboardV1:new Ii({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new Ii({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function Oe(lt,gt){this.viewer=ke.CardboardV2,this.updateDeviceParams(lt),this.distortion=new ce(this.viewer.distortionCoefficients);for(var Pt=0;Pt<gt.length;Pt++){var Vt=gt[Pt];ke[Vt.id]=new Ii(Vt)}}Oe.prototype.updateDeviceParams=function(lt){this.device=this.determineDevice_(lt)||this.device},Oe.prototype.getDevice=function(){return this.device},Oe.prototype.setViewer=function(lt){this.viewer=lt,this.distortion=new ce(this.viewer.distortionCoefficients)},Oe.prototype.determineDevice_=function(lt){if(!lt)return z()?(console.warn("Using fallback iOS device measurements."),Le):(console.warn("Using fallback Android device measurements."),Pi);var gt=.0254,Pt=gt/lt.xdpi,Vt=gt/lt.ydpi,te=wt(),Me=Mt();return new _e({widthMeters:Pt*te,heightMeters:Vt*Me,bevelMeters:lt.bevelMm*.001})},Oe.prototype.getDistortedFieldOfViewLeftEye=function(){var lt=this.viewer,gt=this.device,Pt=this.distortion,Vt=lt.screenLensDistance,te=(gt.widthMeters-lt.interLensDistance)/2,Me=lt.interLensDistance/2,we=lt.baselineLensDistance-gt.bevelMeters,fi=gt.heightMeters-we,di=$e*Math.atan(Pt.distort(te/Vt)),De=$e*Math.atan(Pt.distort(Me/Vt)),ni=$e*Math.atan(Pt.distort(we/Vt)),bi=$e*Math.atan(Pt.distort(fi/Vt));return{leftDegrees:Math.min(di,lt.fov),rightDegrees:Math.min(De,lt.fov),downDegrees:Math.min(ni,lt.fov),upDegrees:Math.min(bi,lt.fov)}},Oe.prototype.getLeftEyeVisibleTanAngles=function(){var lt=this.viewer,gt=this.device,Pt=this.distortion,Vt=Math.tan(-ye*lt.fov),te=Math.tan(ye*lt.fov),Me=Math.tan(ye*lt.fov),we=Math.tan(-ye*lt.fov),fi=gt.widthMeters/4,di=gt.heightMeters/2,De=lt.baselineLensDistance-gt.bevelMeters-di,ni=lt.interLensDistance/2-fi,bi=-De,Xi=lt.screenLensDistance,dn=Pt.distort((ni-fi)/Xi),Cn=Pt.distort((bi+di)/Xi),Vn=Pt.distort((ni+fi)/Xi),Rn=Pt.distort((bi-di)/Xi),xn=new Float32Array(4);return xn[0]=Math.max(Vt,dn),xn[1]=Math.min(te,Cn),xn[2]=Math.min(Me,Vn),xn[3]=Math.max(we,Rn),xn},Oe.prototype.getLeftEyeNoLensTanAngles=function(){var lt=this.viewer,gt=this.device,Pt=this.distortion,Vt=new Float32Array(4),te=Pt.distortInverse(Math.tan(-ye*lt.fov)),Me=Pt.distortInverse(Math.tan(ye*lt.fov)),we=Pt.distortInverse(Math.tan(ye*lt.fov)),fi=Pt.distortInverse(Math.tan(-ye*lt.fov)),di=gt.widthMeters/4,De=gt.heightMeters/2,ni=lt.baselineLensDistance-gt.bevelMeters-De,bi=lt.interLensDistance/2-di,Xi=-ni,dn=lt.screenLensDistance,Cn=(bi-di)/dn,Vn=(Xi+De)/dn,Rn=(bi+di)/dn,xn=(Xi-De)/dn;return Vt[0]=Math.max(te,Cn),Vt[1]=Math.min(Me,Vn),Vt[2]=Math.min(we,Rn),Vt[3]=Math.max(fi,xn),Vt},Oe.prototype.getLeftEyeVisibleScreenRect=function(lt){var gt=this.viewer,Pt=this.device,Vt=gt.screenLensDistance,te=(Pt.widthMeters-gt.interLensDistance)/2,Me=gt.baselineLensDistance-Pt.bevelMeters,we=(lt[0]*Vt+te)/Pt.widthMeters,fi=(lt[1]*Vt+Me)/Pt.heightMeters,di=(lt[2]*Vt+te)/Pt.widthMeters,De=(lt[3]*Vt+Me)/Pt.heightMeters;return{x:we,y:De,width:di-we,height:fi-De}},Oe.prototype.getFieldOfViewLeftEye=function(lt){return lt?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},Oe.prototype.getFieldOfViewRightEye=function(lt){var gt=this.getFieldOfViewLeftEye(lt);return{leftDegrees:gt.rightDegrees,rightDegrees:gt.leftDegrees,upDegrees:gt.upDegrees,downDegrees:gt.downDegrees}},Oe.prototype.getUndistortedFieldOfViewLeftEye=function(){var lt=this.getUndistortedParams_();return{leftDegrees:$e*Math.atan(lt.outerDist),rightDegrees:$e*Math.atan(lt.innerDist),downDegrees:$e*Math.atan(lt.bottomDist),upDegrees:$e*Math.atan(lt.topDist)}},Oe.prototype.getUndistortedViewportLeftEye=function(){var lt=this.getUndistortedParams_(),gt=this.viewer,Pt=this.device,Vt=gt.screenLensDistance,te=Pt.widthMeters/Vt,Me=Pt.heightMeters/Vt,we=Pt.width/te,fi=Pt.height/Me,di=Math.round((lt.eyePosX-lt.outerDist)*we),De=Math.round((lt.eyePosY-lt.bottomDist)*fi);return{x:di,y:De,width:Math.round((lt.eyePosX+lt.innerDist)*we)-di,height:Math.round((lt.eyePosY+lt.topDist)*fi)-De}},Oe.prototype.getUndistortedParams_=function(){var lt=this.viewer,gt=this.device,Pt=this.distortion,Vt=lt.screenLensDistance,te=lt.interLensDistance/2/Vt,Me=gt.widthMeters/Vt,we=gt.heightMeters/Vt,fi=Me/2-te,di=(lt.baselineLensDistance-gt.bevelMeters)/Vt,De=lt.fov,ni=Pt.distortInverse(Math.tan(ye*De)),bi=Math.min(fi,ni),Xi=Math.min(te,ni),dn=Math.min(di,ni),Cn=Math.min(we-di,ni);return{outerDist:bi,innerDist:Xi,topDist:Cn,bottomDist:dn,eyePosX:fi,eyePosY:di}};function Ii(lt){this.id=lt.id,this.label=lt.label,this.fov=lt.fov,this.interLensDistance=lt.interLensDistance,this.baselineLensDistance=lt.baselineLensDistance,this.screenLensDistance=lt.screenLensDistance,this.distortionCoefficients=lt.distortionCoefficients,this.inverseCoefficients=lt.inverseCoefficients}Oe.Viewers=ke;var wn=1,ze="2019-11-09T17:36:14Z",Zi=[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}],Re={format:wn,last_updated:ze,devices:Zi};function bn(lt,gt){if(this.dpdb=Re,this.recalculateDeviceParams_(),lt){this.onDeviceParamsUpdated=gt;var Pt=new XMLHttpRequest,Vt=this;Pt.open("GET",lt,!0),Pt.addEventListener("load",function(){Vt.loading=!1,Pt.status>=200&&Pt.status<=299?(Vt.dpdb=JSON.parse(Pt.response),Vt.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),Pt.send()}}bn.prototype.getDeviceParams=function(){return this.deviceParams},bn.prototype.recalculateDeviceParams_=function(){var lt=this.calcDeviceParams_();lt?(this.deviceParams=lt,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},bn.prototype.calcDeviceParams_=function(){var lt=this.dpdb;if(!lt)return console.error("DPDB not available."),null;if(lt.format!=1)return console.error("DPDB has unexpected format version."),null;if(!lt.devices||!lt.devices.length)return console.error("DPDB does not have a devices section."),null;var gt=navigator.userAgent||navigator.vendor||window.opera,Pt=wt(),Vt=Mt();if(!lt.devices)return console.error("DPDB has no devices section."),null;for(var te=0;te<lt.devices.length;te++){var Me=lt.devices[te];if(!Me.rules){console.warn("Device["+te+"] has no rules section.");continue}if(Me.type!="ios"&&Me.type!="android"){console.warn("Device["+te+"] has invalid type.");continue}if(z()==(Me.type=="ios")){for(var we=!1,fi=0;fi<Me.rules.length;fi++){var di=Me.rules[fi];if(this.ruleMatches_(di,gt,Pt,Vt)){we=!0;break}}if(we){var De=Me.dpi[0]||Me.dpi,ni=Me.dpi[1]||Me.dpi;return new Ir({xdpi:De,ydpi:ni,bevelMm:Me.bw})}}}return console.warn("No DPDB device match."),null},bn.prototype.ruleMatches_=function(lt,gt,Pt,Vt){if(!lt.ua&&!lt.res||(lt.ua&&lt.ua.substring(0,2)==="SM"&&(lt.ua=lt.ua.substring(0,7)),lt.ua&&gt.indexOf(lt.ua)<0))return!1;if(lt.res){if(!lt.res[0]||!lt.res[1])return!1;var te=lt.res[0],Me=lt.res[1];if(Math.min(Pt,Vt)!=Math.min(te,Me)||Math.max(Pt,Vt)!=Math.max(te,Me))return!1}return!0};function Ir(lt){this.xdpi=lt.xdpi,this.ydpi=lt.ydpi,this.bevelMm=lt.bevelMm}function dr(lt,gt){this.set(lt,gt)}dr.prototype.set=function(lt,gt){this.sample=lt,this.timestampS=gt},dr.prototype.copy=function(lt){this.set(lt.sample,lt.timestampS)};function si(lt,gt){this.kFilter=lt,this.isDebug=gt,this.currentAccelMeasurement=new dr,this.currentGyroMeasurement=new dr,this.previousGyroMeasurement=new dr,z()?this.filterQ=new He(-1,0,0,1):this.filterQ=new He(1,0,0,1),this.previousFilterQ=new He,this.previousFilterQ.copy(this.filterQ),this.accelQ=new He,this.isOrientationInitialized=!1,this.estimatedGravity=new ge,this.measuredGravity=new ge,this.gyroIntegralQ=new He}si.prototype.addAccelMeasurement=function(lt,gt){this.currentAccelMeasurement.set(lt,gt)},si.prototype.addGyroMeasurement=function(lt,gt){this.currentGyroMeasurement.set(lt,gt);var Pt=gt-this.previousGyroMeasurement.timestampS;pt(Pt)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},si.prototype.run_=function(){if(!this.isOrientationInitialized){this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),this.isOrientationInitialized=!0;return}var lt=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,gt=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,lt);this.gyroIntegralQ.multiply(gt),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(gt);var Pt=new He;Pt.copy(this.filterQ),Pt.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(Pt),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var Vt=new He;Vt.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),Vt.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",$e*Ve(Vt),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var te=new He;te.copy(this.filterQ),te.multiply(Vt),this.filterQ.slerp(te,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},si.prototype.getOrientation=function(){return this.filterQ},si.prototype.accelToQuaternion_=function(lt){var gt=new ge;gt.copy(lt),gt.normalize();var Pt=new He;return Pt.setFromUnitVectors(new ge(0,0,-1),gt),Pt.inverse(),Pt},si.prototype.gyroToQuaternionDelta_=function(lt,gt){var Pt=new He,Vt=new ge;return Vt.copy(lt),Vt.normalize(),Pt.setFromAxisAngle(Vt,lt.length()*gt),Pt};function Ki(lt,gt){this.predictionTimeS=lt,this.isDebug=gt,this.previousQ=new He,this.previousTimestampS=null,this.deltaQ=new He,this.outQ=new He}Ki.prototype.getPrediction=function(lt,gt,Pt){if(!this.previousTimestampS)return this.previousQ.copy(lt),this.previousTimestampS=Pt,lt;var Vt=new ge;Vt.copy(gt),Vt.normalize();var te=gt.length();if(te<ye*20)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",($e*te).toFixed(1)),this.outQ.copy(lt),this.previousQ.copy(lt),this.outQ;var Me=te*this.predictionTimeS;return this.deltaQ.setFromAxisAngle(Vt,Me),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(lt),this.previousTimestampS=Pt,this.outQ};function jn(lt,gt,Pt,Vt){this.yawOnly=Pt,this.accelerometer=new ge,this.gyroscope=new ge,this.filter=new si(lt,Vt),this.posePredictor=new Ki(gt,Vt),this.isFirefoxAndroid=q(),this.isIOS=z();var te=J();this.isDeviceMotionInRadians=!this.isIOS&&te&&te<66,this.isWithoutDeviceMotion=et()||W(),this.filterToWorldQ=new He,z()?this.filterToWorldQ.setFromAxisAngle(new ge(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new ge(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new He,this.worldToScreenQ=new He,this.originalPoseAdjustQ=new He,this.originalPoseAdjustQ.setFromAxisAngle(new ge(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),ot()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new He,this.orientationOut_=new Float32Array(4),this.start()}jn.prototype.getPosition=function(){return null},jn.prototype.getOrientation=function(){var lt=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var te=new He().setFromAxisAngle(new ge(0,0,-1),0),Me=new He;return window.orientation===-90?Me.setFromAxisAngle(new ge(0,1,0),Math.PI/-2):Me.setFromAxisAngle(new ge(0,1,0),Math.PI/2),te.multiply(Me)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var te=new He;return te.setFromAxisAngle(new ge(1,0,0),-Math.PI/2),te}(),lt=this._deviceOrientationQ;var Pt=new He;return Pt.copy(lt),Pt.multiply(this.deviceOrientationFilterToWorldQ),Pt.multiply(this.resetQ),Pt.multiply(this.worldToScreenQ),Pt.multiplyQuaternions(this.deviceOrientationFixQ,Pt),this.yawOnly&&(Pt.x=0,Pt.z=0,Pt.normalize()),this.orientationOut_[0]=Pt.x,this.orientationOut_[1]=Pt.y,this.orientationOut_[2]=Pt.z,this.orientationOut_[3]=Pt.w,this.orientationOut_}else{var gt=this.filter.getOrientation();lt=this.posePredictor.getPrediction(gt,this.gyroscope,this.previousTimestampS)}var Pt=new He;return Pt.copy(this.filterToWorldQ),Pt.multiply(this.resetQ),Pt.multiply(lt),Pt.multiply(this.worldToScreenQ),this.yawOnly&&(Pt.x=0,Pt.z=0,Pt.normalize()),this.orientationOut_[0]=Pt.x,this.orientationOut_[1]=Pt.y,this.orientationOut_[2]=Pt.z,this.orientationOut_[3]=Pt.w,this.orientationOut_},jn.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),ot()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},jn.prototype.onDeviceOrientation_=function(lt){this._deviceOrientationQ=this._deviceOrientationQ||new He;var gt=lt.alpha,Pt=lt.beta,Vt=lt.gamma;gt=(gt||0)*Math.PI/180,Pt=(Pt||0)*Math.PI/180,Vt=(Vt||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(Pt,gt,-Vt)},jn.prototype.onDeviceMotion_=function(lt){this.updateDeviceMotion_(lt)},jn.prototype.updateDeviceMotion_=function(lt){var gt=lt.accelerationIncludingGravity,Pt=lt.rotationRate,Vt=lt.timeStamp/1e3,te=Vt-this.previousTimestampS;if(te<0){ai("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),this.previousTimestampS=Vt;return}else if(te<=U||te>$){ai("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),this.previousTimestampS=Vt;return}this.accelerometer.set(-gt.x,-gt.y,-gt.z),Pt&&(mt()?this.gyroscope.set(-Pt.beta,Pt.alpha,Pt.gamma):this.gyroscope.set(Pt.alpha,Pt.beta,Pt.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addGyroMeasurement(this.gyroscope,Vt)),this.filter.addAccelMeasurement(this.accelerometer,Vt),this.previousTimestampS=Vt},jn.prototype.onOrientationChange_=function(lt){this.setScreenTransform_()},jn.prototype.onMessage_=function(lt){var gt=lt.data;if(!(!gt||!gt.type)){var Pt=gt.type.toLowerCase();Pt==="devicemotion"&&this.updateDeviceMotion_(gt.deviceMotionEvent)}},jn.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new ge(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new ge(0,0,1),Math.PI/2);break}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},jn.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),z()&&Jt()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},jn.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var wi=60,On=new ge(1,0,0),Ha=new ge(0,0,1),Oa=new He;Oa.setFromAxisAngle(On,-Math.PI/2),Oa.multiply(new He().setFromAxisAngle(Ha,Math.PI/2));var Kt=function(){function lt(gt){P(this,lt),this.config=gt,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new He,this._outQ=new He,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return L(lt,[{key:"init",value:function(){var Pt=null;try{Pt=new RelativeOrientationSensor({frequency:wi,referenceFrame:"screen"}),Pt.addEventListener("error",this._onSensorError)}catch(Vt){this.errors.push(Vt),Vt.name==="SecurityError"?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):Vt.name==="ReferenceError"?this.useDeviceMotion():console.error(Vt)}Pt&&(this.api="sensor",this.sensor=Pt,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new jn(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var Pt=this.sensor.quaternion;this._sensorQ.set(Pt[0],Pt[1],Pt[2],Pt[3]);var Vt=this._outQ;return Vt.copy(Oa),Vt.multiply(this._sensorQ),this.config.YAW_ONLY&&(Vt.x=Vt.z=0,Vt.normalize()),this._out[0]=Vt.x,this._out[1]=Vt.y,this._out[2]=Vt.z,this._out[3]=Vt.w,this._out}},{key:"_onSensorError",value:function(Pt){this.errors.push(Pt.error),Pt.error.name==="NotAllowedError"?console.error("Permission to access sensor was denied"):Pt.error.name==="NotReadableError"?console.error("Sensor could not be read"):console.error(Pt.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),lt}(),ue="<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>";function Ee(){this.loadIcon_();var lt=document.createElement("div"),we=lt.style;we.position="fixed",we.top=0,we.right=0,we.bottom=0,we.left=0,we.backgroundColor="gray",we.fontFamily="sans-serif",we.zIndex=1e6;var gt=document.createElement("img");gt.src=this.icon;var we=gt.style;we.marginLeft="25%",we.marginTop="25%",we.width="50%",lt.appendChild(gt);var Pt=document.createElement("div"),we=Pt.style;we.textAlign="center",we.fontSize="16px",we.lineHeight="24px",we.margin="24px 25%",we.width="50%",Pt.innerHTML="Place your phone into your Cardboard viewer.",lt.appendChild(Pt);var Vt=document.createElement("div"),we=Vt.style;we.backgroundColor="#CFD8DC",we.position="fixed",we.bottom=0,we.width="100%",we.height="48px",we.padding="14px 24px",we.boxSizing="border-box",we.color="#656A6B",lt.appendChild(Vt);var te=document.createElement("div");te.style.float="left",te.innerHTML="No Cardboard viewer?";var Me=document.createElement("a");Me.href="https://www.google.com/get/cardboard/get-cardboard/",Me.innerHTML="get one",Me.target="_blank";var we=Me.style;we.float="right",we.fontWeight=600,we.textTransform="uppercase",we.borderLeft="1px solid gray",we.paddingLeft="24px",we.textDecoration="none",we.color="#656A6B",Vt.appendChild(te),Vt.appendChild(Me),this.overlay=lt,this.text=Pt,this.hide()}Ee.prototype.show=function(lt){!lt&&!this.overlay.parentElement?document.body.appendChild(this.overlay):lt&&(this.overlay.parentElement&&this.overlay.parentElement!=lt&&this.overlay.parentElement.removeChild(this.overlay),lt.appendChild(this.overlay)),this.overlay.style.display="block";var gt=this.overlay.querySelector("img"),Pt=gt.style;ot()?(Pt.width="20%",Pt.marginLeft="40%",Pt.marginTop="3%"):(Pt.width="50%",Pt.marginLeft="25%",Pt.marginTop="25%")},Ee.prototype.hide=function(){this.overlay.style.display="none"},Ee.prototype.showTemporarily=function(lt,gt){this.show(gt),this.timer=setTimeout(this.hide.bind(this),lt)},Ee.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},Ee.prototype.update=function(){this.disableShowTemporarily(),!ot()&&kt()?this.show():this.hide()},Ee.prototype.loadIcon_=function(){this.icon=F("image/svg+xml",ue)};var qe="CardboardV1",Ne="WEBVR_CARDBOARD_VIEWER",oi="webvr-polyfill-viewer-selector";function yi(lt){try{this.selectedKey=localStorage.getItem(Ne)}catch(gt){console.error("Failed to load viewer profile: %s",gt)}this.selectedKey||(this.selectedKey=lt||qe),this.dialog=this.createDialog_(Oe.Viewers),this.root=null,this.onChangeCallbacks_=[]}yi.prototype.show=function(lt){this.root=lt,lt.appendChild(this.dialog);var gt=this.dialog.querySelector("#"+this.selectedKey);gt.checked=!0,this.dialog.style.display="block"},yi.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},yi.prototype.getCurrentViewer=function(){return Oe.Viewers[this.selectedKey]},yi.prototype.getSelectedKey_=function(){var lt=this.dialog.querySelector("input[name=field]:checked");return lt?lt.id:null},yi.prototype.onChange=function(lt){this.onChangeCallbacks_.push(lt)},yi.prototype.fireOnChange_=function(lt){for(var gt=0;gt<this.onChangeCallbacks_.length;gt++)this.onChangeCallbacks_[gt](lt)},yi.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!Oe.Viewers[this.selectedKey]){console.error("ViewerSelector.onSave_: this should never happen!");return}this.fireOnChange_(Oe.Viewers[this.selectedKey]);try{localStorage.setItem(Ne,this.selectedKey)}catch(lt){console.error("Failed to save viewer profile: %s",lt)}this.hide()},yi.prototype.createDialog_=function(lt){var gt=document.createElement("div");gt.classList.add(oi),gt.style.display="none";var Pt=document.createElement("div"),Me=Pt.style;Me.position="fixed",Me.left=0,Me.top=0,Me.width="100%",Me.height="100%",Me.background="rgba(0, 0, 0, 0.3)",Pt.addEventListener("click",this.hide.bind(this));var Vt=280,te=document.createElement("div"),Me=te.style;Me.boxSizing="border-box",Me.position="fixed",Me.top="24px",Me.left="50%",Me.marginLeft=-Vt/2+"px",Me.width=Vt+"px",Me.padding="24px",Me.overflow="hidden",Me.background="#fafafa",Me.fontFamily="'Roboto', sans-serif",Me.boxShadow="0px 5px 20px #666",te.appendChild(this.createH1_("Select your viewer"));for(var we in lt)te.appendChild(this.createChoice_(we,lt[we].label));return te.appendChild(this.createButton_("Save",this.onSave_.bind(this))),gt.appendChild(Pt),gt.appendChild(te),gt},yi.prototype.createH1_=function(lt){var gt=document.createElement("h1"),Pt=gt.style;return Pt.color="black",Pt.fontSize="20px",Pt.fontWeight="bold",Pt.marginTop=0,Pt.marginBottom="24px",gt.innerHTML=lt,gt},yi.prototype.createChoice_=function(lt,gt){var Pt=document.createElement("div");Pt.style.marginTop="8px",Pt.style.color="black";var Vt=document.createElement("input");Vt.style.fontSize="30px",Vt.setAttribute("id",lt),Vt.setAttribute("type","radio"),Vt.setAttribute("value",lt),Vt.setAttribute("name","field");var te=document.createElement("label");return te.style.marginLeft="4px",te.setAttribute("for",lt),te.innerHTML=gt,Pt.appendChild(Vt),Pt.appendChild(te),Pt},yi.prototype.createButton_=function(lt,gt){var Pt=document.createElement("button");Pt.innerHTML=lt;var Vt=Pt.style;return Vt.float="right",Vt.textTransform="uppercase",Vt.color="#1094f7",Vt.fontSize="14px",Vt.letterSpacing=0,Vt.border=0,Vt.background="none",Vt.marginTop="16px",Pt.addEventListener("click",gt),Pt};var ji=typeof window<"u"?window:typeof h<"u"?h:typeof self<"u"?self:{};function Ui(lt){return lt&&lt.__esModule&&Object.prototype.hasOwnProperty.call(lt,"default")?lt.default:lt}function ii(lt,gt){return gt={exports:{}},lt(gt,gt.exports),gt.exports}var ln=ii(function(lt,gt){(function(Vt,te){lt.exports=te()})(ji,function(){return function(Pt){var Vt={};function te(Me){if(Vt[Me])return Vt[Me].exports;var we=Vt[Me]={i:Me,l:!1,exports:{}};return Pt[Me].call(we.exports,we,we.exports,te),we.l=!0,we.exports}return te.m=Pt,te.c=Vt,te.d=function(Me,we,fi){te.o(Me,we)||Object.defineProperty(Me,we,{configurable:!1,enumerable:!0,get:fi})},te.n=function(Me){var we=Me&&Me.__esModule?function(){return Me.default}:function(){return Me};return te.d(we,"a",we),we},te.o=function(Me,we){return Object.prototype.hasOwnProperty.call(Me,we)},te.p="",te(te.s=0)}([function(Pt,Vt,te){var Me=function(){function ni(bi,Xi){for(var dn=0;dn<Xi.length;dn++){var Cn=Xi[dn];Cn.enumerable=Cn.enumerable||!1,Cn.configurable=!0,"value"in Cn&&(Cn.writable=!0),Object.defineProperty(bi,Cn.key,Cn)}}return function(bi,Xi,dn){return Xi&&ni(bi.prototype,Xi),dn&&ni(bi,dn),bi}}();function we(ni,bi){if(!(ni instanceof bi))throw new TypeError("Cannot call a class as a function")}var fi=te(1),di=typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,De=function(){function ni(){we(this,ni),di?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",fi),this.noSleepVideo.addEventListener("timeupdate",(function(bi){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}).bind(this)))}return Me(ni,[{key:"enable",value:function(){di?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){di?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),ni}();Pt.exports=De},function(Pt,Vt,te){Pt.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])})}),vn=Ui(ln),Tn=1e3,Gr=[0,0,.5,1],Jn=[.5,0,.5,1],kn=window.requestAnimationFrame,pr=window.cancelAnimationFrame;function sa(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function Qa(lt){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:lt.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:lt.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:lt.canPresent},maxLayers:{writable:!1,enumerable:!0,value:lt.maxLayers},hasOrientation:{enumerable:!0,get:function(){return Ye("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),lt.hasOrientation}}})}function Hi(lt){lt=lt||{};var gt="wakelock"in lt?lt.wakelock:!0;this.isPolyfilled=!0,this.displayId=Tn++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return Ye("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new Qa({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,gt&&kt()&&(this.wakelock_=new vn)}Hi.prototype.getFrameData=function(lt){return ae(lt,this._getPose(),this)},Hi.prototype.getPose=function(){return Ye("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},Hi.prototype.resetPose=function(){return Ye("VRDisplay.prototype.resetPose"),this._resetPose()},Hi.prototype.getImmediatePose=function(){return Ye("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},Hi.prototype.requestAnimationFrame=function(lt){return kn(lt)},Hi.prototype.cancelAnimationFrame=function(lt){return pr(lt)},Hi.prototype.wrapForFullscreen=function(lt){if(z())return lt;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var gt=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",gt.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==lt)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=lt,this.originalParent_=lt.parentElement,this.originalParent_||document.body.appendChild(lt),!this.fullscreenWrapper_.parentElement){var Pt=this.fullscreenElement_.parentElement;Pt.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),Pt.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var Vt=this;function te(){if(Vt.fullscreenElement_){var Me=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];Vt.fullscreenElement_.setAttribute("style",Me.join("; ")+";")}}return te(),this.fullscreenWrapper_},Hi.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var lt=this.fullscreenElement_;this.fullscreenElementCachedStyle_?lt.setAttribute("style",this.fullscreenElementCachedStyle_):lt.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var gt=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(lt),this.originalParent_===gt?gt.insertBefore(lt,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(lt),gt.removeChild(this.fullscreenWrapper_),lt}},Hi.prototype.requestPresent=function(lt){var gt=this.isPresenting,Pt=this;return lt instanceof Array||(Ye("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),lt=[lt]),new Promise(function(Vt,te){if(!Pt.capabilities.canPresent){te(new Error("VRDisplay is not capable of presenting."));return}if(lt.length==0||lt.length>Pt.capabilities.maxLayers){te(new Error("Invalid number of layers."));return}var Me=lt[0];if(!Me.source){Vt();return}var we=Me.leftBounds||Gr,fi=Me.rightBounds||Jn;if(gt){var di=Pt.layer_;di.source!==Me.source&&(di.source=Me.source);for(var De=0;De<4;De++)di.leftBounds[De]=we[De],di.rightBounds[De]=fi[De];Pt.wrapForFullscreen(Pt.layer_.source),Pt.updatePresent_(),Vt();return}if(Pt.layer_={predistorted:Me.predistorted,source:Me.source,leftBounds:we.slice(0),rightBounds:fi.slice(0)},Pt.waitingForPresent_=!1,Pt.layer_&&Pt.layer_.source){var ni=Pt.wrapForFullscreen(Pt.layer_.source),bi=function(){var Cn=Ot();Pt.isPresenting=ni===Cn,Pt.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(Vn){console.error("screen.orientation.lock() failed due to",Vn.message)}),Pt.waitingForPresent_=!1,Pt.beginPresent_(),Vt()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),Pt.removeFullscreenWrapper(),Pt.disableWakeLock(),Pt.endPresent_(),Pt.removeFullscreenListeners_()),Pt.fireVRDisplayPresentChange_()},Xi=function(){Pt.waitingForPresent_&&(Pt.removeFullscreenWrapper(),Pt.removeFullscreenListeners_(),Pt.disableWakeLock(),Pt.waitingForPresent_=!1,Pt.isPresenting=!1,te(new Error("Unable to present.")))};Pt.addFullscreenListeners_(ni,bi,Xi),xt(ni)?(Pt.enableWakeLock(),Pt.waitingForPresent_=!0):(z()||Q())&&(Pt.enableWakeLock(),Pt.isPresenting=!0,Pt.beginPresent_(),Pt.fireVRDisplayPresentChange_(),Vt())}!Pt.waitingForPresent_&&!z()&&(dt(),te(new Error("Unable to present.")))})},Hi.prototype.exitPresent=function(){var lt=this.isPresenting,gt=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(Pt,Vt){lt?(!dt()&&z()&&(gt.endPresent_(),gt.fireVRDisplayPresentChange_()),Q()&&(gt.removeFullscreenWrapper(),gt.removeFullscreenListeners_(),gt.endPresent_(),gt.fireVRDisplayPresentChange_()),Pt()):Vt(new Error("Was not presenting to VRDisplay."))})},Hi.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},Hi.prototype.fireVRDisplayPresentChange_=function(){var lt=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(lt)},Hi.prototype.fireVRDisplayConnect_=function(){var lt=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(lt)},Hi.prototype.addFullscreenListeners_=function(lt,gt,Pt){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=lt,this.fullscreenChangeHandler_=gt,this.fullscreenErrorHandler_=Pt,gt&&(document.fullscreenEnabled?lt.addEventListener("fullscreenchange",gt,!1):document.webkitFullscreenEnabled?lt.addEventListener("webkitfullscreenchange",gt,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",gt,!1):document.msFullscreenEnabled&&lt.addEventListener("msfullscreenchange",gt,!1)),Pt&&(document.fullscreenEnabled?lt.addEventListener("fullscreenerror",Pt,!1):document.webkitFullscreenEnabled?lt.addEventListener("webkitfullscreenerror",Pt,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",Pt,!1):document.msFullscreenEnabled&&lt.addEventListener("msfullscreenerror",Pt,!1))},Hi.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var lt=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var gt=this.fullscreenChangeHandler_;lt.removeEventListener("fullscreenchange",gt,!1),lt.removeEventListener("webkitfullscreenchange",gt,!1),document.removeEventListener("mozfullscreenchange",gt,!1),lt.removeEventListener("msfullscreenchange",gt,!1)}if(this.fullscreenErrorHandler_){var Pt=this.fullscreenErrorHandler_;lt.removeEventListener("fullscreenerror",Pt,!1),lt.removeEventListener("webkitfullscreenerror",Pt,!1),document.removeEventListener("mozfullscreenerror",Pt,!1),lt.removeEventListener("msfullscreenerror",Pt,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},Hi.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},Hi.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},Hi.prototype.beginPresent_=function(){},Hi.prototype.endPresent_=function(){},Hi.prototype.submitFrame=function(lt){},Hi.prototype.getEyeParameters=function(lt){return null};var Wn={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},xa={LEFT:"left",RIGHT:"right"};function vr(lt){var gt=Dt({},Wn);lt=Dt(gt,lt||{}),Hi.call(this,{wakelock:lt.MOBILE_WAKE_LOCK}),this.config=lt,this.displayName="Cardboard VRDisplay",this.capabilities=new Qa({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new Kt(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new bn(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new Oe(this.dpdb_.getDeviceParams(),lt.ADDITIONAL_VIEWERS),this.viewerSelector_=new yi(lt.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new Ee),z()&&window.addEventListener("resize",this.onResize_.bind(this))}return vr.prototype=Object.create(Hi.prototype),vr.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},vr.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},vr.prototype._getFieldOfView=function(lt){var gt;if(lt==xa.LEFT)gt=this.deviceInfo_.getFieldOfViewLeftEye();else if(lt==xa.RIGHT)gt=this.deviceInfo_.getFieldOfViewRightEye();else return console.error("Invalid eye provided: %s",lt),null;return gt},vr.prototype._getEyeOffset=function(lt){var gt;if(lt==xa.LEFT)gt=[-this.deviceInfo_.viewer.interLensDistance*.5,0,0];else if(lt==xa.RIGHT)gt=[this.deviceInfo_.viewer.interLensDistance*.5,0,0];else return console.error("Invalid eye provided: %s",lt),null;return gt},vr.prototype.getEyeParameters=function(lt){var gt=this._getEyeOffset(lt),Pt=this._getFieldOfView(lt),Vt={offset:gt,renderWidth:this.deviceInfo_.device.width*.5*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty(Vt,"fieldOfView",{enumerable:!0,get:function(){return Ye("VRFieldOfView","VRFrameData's projection matrices"),Pt}}),Vt},vr.prototype.onDeviceParamsUpdated_=function(lt){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(lt),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},vr.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},vr.prototype.beginPresent_=function(){var lt=this.layer_.source.getContext("webgl");lt||(lt=this.layer_.source.getContext("experimental-webgl")),lt||(lt=this.layer_.source.getContext("webgl2")),lt&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(lt.canvas.width=wt()*this.bufferScale_,lt.canvas.height=Mt()*this.bufferScale_,this.cardboardUI_=new Zt(lt)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new Zt(lt)),this.distorter_=new ve(lt,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen((function(gt){this.viewerSelector_.show(this.layer_.source.parentElement),gt.stopPropagation(),gt.preventDefault()}).bind(this),(function(gt){this.exitPresent(),gt.stopPropagation(),gt.preventDefault()}).bind(this)),this.rotateInstructions_&&(ot()&&kt()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},vr.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},vr.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},vr.prototype.submitFrame=function(lt){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var gt=this.layer_.source.getContext("webgl");gt||(gt=this.layer_.source.getContext("experimental-webgl")),gt||(gt=this.layer_.source.getContext("webgl2"));var Pt=gt.canvas;(Pt.width!=this.lastWidth||Pt.height!=this.lastHeight)&&this.cardboardUI_.onResize(),this.lastWidth=Pt.width,this.lastHeight=Pt.height,this.cardboardUI_.render()}},vr.prototype.onOrientationChange_=function(lt){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},vr.prototype.onResize_=function(lt){if(this.layer_){var gt=this.layer_.source.getContext("webgl");gt||(gt=this.layer_.source.getContext("experimental-webgl")),gt||(gt=this.layer_.source.getContext("webgl2"));var Pt=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];gt.canvas.setAttribute("style",Pt.join("; ")+";"),Xt(gt.canvas)}},vr.prototype.onViewerChanged_=function(lt){this.deviceInfo_.setViewer(lt),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},vr.prototype.fireVRDisplayDeviceParamsChange_=function(){var lt=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(lt)},vr.VRFrameData=sa,vr.VRDisplay=Hi,vr})}),v=g(b),E="0.10.12",x={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function _(T){this.config=A(A({},x),T),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&M())&&(this.enable(),this.getVRDisplays().then(function(D){D&&D[0]&&D[0].fireVRDisplayConnect_&&D[0].fireVRDisplayConnect_()}))}_.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(M()){var T=new v({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(T)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},_.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var T=this.native.VRFrameData,D=new this.native.VRFrameData,P=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(L){if(L instanceof T){P.call(this,L);return}P.call(this,D),L.pose=D.pose,p(D.leftProjectionMatrix,L.leftProjectionMatrix),p(D.rightProjectionMatrix,L.rightProjectionMatrix),p(D.leftViewMatrix,L.leftViewMatrix),p(D.rightViewMatrix,L.rightViewMatrix)}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=v.VRDisplay,window.VRFrameData=v.VRFrameData},_.prototype.getVRDisplays=function(){var T=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then(function(D){return D.length>0?D:T.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},_.version=E,_.VRFrameData=v.VRFrameData,_.VRDisplay=v.VRDisplay;var C=Object.freeze({default:_}),O=C&&_||C;typeof h<"u"&&h.window&&(h.document||(h.document=h.window.document),h.navigator||(h.navigator=h.window.navigator));var I=O;return I})},"./node_modules/word-wrapper/index.js":c=>{var d=/\n/,u=`
`,h=/\s/;c.exports=function(b,v){var E=c.exports.lines(b,v);return E.map(function(x){return b.substring(x.start,x.end)}).join(`
`)},c.exports.lines=function(v,E){if(E=E||{},E.width===0&&E.mode!=="nowrap")return[];v=v||"";var x=typeof E.width=="number"?E.width:Number.MAX_VALUE,_=Math.max(0,E.start||0),C=typeof E.end=="number"?E.end:v.length,O=E.mode,I=E.measure||A;return O==="pre"?M(I,v,_,C,x):p(I,v,_,C,x,O)};function g(b,v,E,x){var _=b.indexOf(v,E);return _===-1||_>x?x:_}function m(b){return h.test(b)}function M(b,v,E,x,_){for(var C=[],O=E,I=E;I<x&&I<v.length;I++){var T=v.charAt(I),D=d.test(T);if(D||I===x-1){var P=D?I:I+1,L=b(v,O,P,_);C.push(L),O=I+1}}return C}function p(b,v,E,x,_,C){var O=[],I=_;for(C==="nowrap"&&(I=Number.MAX_VALUE);E<x&&E<v.length;){for(var T=g(v,u,E,x);E<T&&m(v.charAt(E));)E++;var D=b(v,E,T,I),P=E+(D.end-D.start),L=P+u.length;if(P<T){for(;P>E&&!m(v.charAt(P));)P--;if(P===E)L>E+u.length&&L--,P=L;else for(L=P;P>E&&m(v.charAt(P-u.length));)P--}if(P>=E){var N=b(v,E,P,I);O.push(N)}E=L}return O}function A(b,v,E,x){var _=Math.min(x,E-v);return{start:v,end:v+_}}},"./node_modules/xhr/index.js":(c,d,u)=>{var h=u("./node_modules/global/window.js"),g=u("./node_modules/is-function/index.js"),m=u("./node_modules/parse-headers/parse-headers.js"),M=u("./node_modules/xtend/immutable.js");c.exports=v,c.exports.default=v,v.XMLHttpRequest=h.XMLHttpRequest||_,v.XDomainRequest="withCredentials"in new v.XMLHttpRequest?v.XMLHttpRequest:h.XDomainRequest,p(["get","put","post","patch","head","delete"],function(C){v[C==="delete"?"del":C]=function(O,I,T){return I=b(O,I,T),I.method=C.toUpperCase(),E(I)}});function p(C,O){for(var I=0;I<C.length;I++)O(C[I])}function A(C){for(var O in C)if(C.hasOwnProperty(O))return!1;return!0}function b(C,O,I){var T=C;return g(O)?(I=O,typeof C=="string"&&(T={uri:C})):T=M(O,{uri:C}),T.callback=I,T}function v(C,O,I){return O=b(C,O,I),E(O)}function E(C){if(typeof C.callback>"u")throw new Error("callback argument missing");var O=!1,I=function(mt,ot,pt){O||(O=!0,C.callback(mt,ot,pt))};function T(){N.readyState===4&&setTimeout(L,0)}function D(){var et=void 0;if(N.response?et=N.response:et=N.responseText||x(N),q)try{et=JSON.parse(et)}catch{}return et}function P(et){return clearTimeout(J),et instanceof Error||(et=new Error(""+(et||"Unknown XMLHttpRequest Error"))),et.statusCode=0,I(et,W)}function L(){if(!$){var et;clearTimeout(J),C.useXDR&&N.status===void 0?et=200:et=N.status===1223?204:N.status;var mt=W,ot=null;return et!==0?(mt={body:D(),statusCode:et,method:j,headers:{},url:F,rawRequest:N},N.getAllResponseHeaders&&(mt.headers=m(N.getAllResponseHeaders()))):ot=new Error("Internal XMLHttpRequest Error"),I(ot,mt,mt.body)}}var N=C.xhr||null;N||(C.cors||C.useXDR?N=new v.XDomainRequest:N=new v.XMLHttpRequest);var U,$,F=N.url=C.uri||C.url,j=N.method=C.method||"GET",z=C.body||C.data,Q=N.headers=C.headers||{},V=!!C.sync,q=!1,J,W={body:void 0,headers:{},statusCode:0,method:j,url:F,rawRequest:N};if("json"in C&&C.json!==!1&&(q=!0,Q.accept||Q.Accept||(Q.Accept="application/json"),j!=="GET"&&j!=="HEAD"&&(Q["content-type"]||Q["Content-Type"]||(Q["Content-Type"]="application/json"),z=JSON.stringify(C.json===!0?z:C.json))),N.onreadystatechange=T,N.onload=L,N.onerror=P,N.onprogress=function(){},N.onabort=function(){$=!0},N.ontimeout=P,N.open(j,F,!V,C.username,C.password),V||(N.withCredentials=!!C.withCredentials),!V&&C.timeout>0&&(J=setTimeout(function(){if(!$){$=!0,N.abort("timeout");var et=new Error("XMLHttpRequest timeout");et.code="ETIMEDOUT",P(et)}},C.timeout)),N.setRequestHeader)for(U in Q)Q.hasOwnProperty(U)&&N.setRequestHeader(U,Q[U]);else if(C.headers&&!A(C.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in C&&(N.responseType=C.responseType),"beforeSend"in C&&typeof C.beforeSend=="function"&&C.beforeSend(N),N.send(z||null),N}function x(C){try{if(C.responseType==="document")return C.responseXML;var O=C.responseXML&&C.responseXML.documentElement.nodeName==="parsererror";if(C.responseType===""&&!O)return C.responseXML}catch{}return null}function _(){}},"./node_modules/xml-parse-from-string/index.js":c=>{c.exports=function(){return typeof self.DOMParser<"u"?function(u){var h=new self.DOMParser;return h.parseFromString(u,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(u){var h=new self.ActiveXObject("Microsoft.XMLDOM");return h.async="false",h.loadXML(u),h}:function(u){var h=document.createElement("div");return h.innerHTML=u,h}}()},"./node_modules/xtend/immutable.js":c=>{c.exports=u;var d=Object.prototype.hasOwnProperty;function u(){for(var h={},g=0;g<arguments.length;g++){var m=arguments[g];for(var M in m)d.call(m,M)&&(h[M]=m[M])}return h}},"./src/components/anchored.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/index.js"),m=g.debug("components:anchored:warn");c.exports.Component=h("anchored",{schema:{persistent:{default:!1}},init:function(){var p=this.el.sceneEl,A=p.getAttribute("webxr"),b=A.optionalFeatures;b.indexOf("anchors")===-1&&(b.push("anchors"),this.el.sceneEl.setAttribute("webxr",A)),this.auxQuaternion=new THREE.Quaternion,this.onEnterVR=this.onEnterVR.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR)},onEnterVR:function(){this.anchor=void 0,this.requestPersistentAnchorPending=this.data.persistent,this.requestAnchorPending=!this.data.persistent},tick:function(){var p=this.el.sceneEl,A=p.renderer.xr,b,v,E,x=this.el.object3D;!p.is("ar-mode")&&!p.is("vr-mode")||(!this.anchor&&this.requestPersistentAnchorPending&&this.restorePersistentAnchor(),!this.anchor&&this.requestAnchorPending&&this.createAnchor(),this.anchor&&(b=p.frame,v=A.getReferenceSpace(),E=b.getPose(this.anchor.anchorSpace,v),x.matrix.elements=E.transform.matrix,x.matrix.decompose(x.position,x.rotation,x.scale)))},createAnchor:async function(A,b){var v=this.el.sceneEl,E=v.renderer.xr,x,_,C,O,I=this.el.object3D;if(A=A||I.position,b=b||this.auxQuaternion.setFromEuler(I.rotation),!M(v)){m("This browser doesn't support the WebXR anchors module");return}this.anchor&&this.deleteAnchor(),x=v.frame,_=E.getReferenceSpace(),C=new XRRigidTransform({x:A.x,y:A.y,z:A.z},{x:b.x,y:b.y,z:b.z,w:b.w}),this.requestAnchorPending=!1,O=await x.createAnchor(C,_),this.data.persistent&&(this.el.id?(this.persistentHandle=await O.requestPersistentHandle(),localStorage.setItem(this.el.id,this.persistentHandle)):m("The anchor won't be persisted because the entity has no assigned id.")),v.object3D.attach(this.el.object3D),this.anchor=O},restorePersistentAnchor:async function(){var A=this.el.sceneEl.renderer.xr,b=A.getSession(),v=b.persistentAnchors,E;if(this.requestPersistentAnchorPending=!1,!this.el.id){m("The entity associated to the persistent anchor cannot be retrieved because it doesn't have an assigned id."),this.requestAnchorPending=!0;return}if(v){E=localStorage.getItem(this.el.id);for(var x=0;x<v.length;++x)if(E===v[x]){this.anchor=await b.restorePersistentAnchor(v[x]),this.anchor&&(this.persistentHandle=v[x]);break}this.anchor||(this.requestAnchorPending=!0)}else this.requestPersistentAnchorPending=!0},deleteAnchor:function(){var p,A,b=this.anchor;b&&(p=this.el.sceneEl.renderer.xr,A=p.getSession(),b.delete(),this.el.sceneEl.object3D.add(this.el.object3D),this.persistentHandle&&A.deletePersistentAnchor(this.persistentHandle),this.anchor=void 0)}});function M(p){var A=p.renderer.xr,b=A.getSession();return b&&b.restorePersistentAnchor}},"./src/components/animation.js":(c,d,u)=>{var h=u("./node_modules/super-animejs/lib/anime.es.js").default,g=u("./src/core/component.js").components,m=u("./src/core/component.js").registerComponent,M=u("./src/lib/three.js"),p=u("./src/utils/index.js"),A=new M.Color,b=new M.Color,v=p.entity.getComponentProperty,E=p.entity.setComponentProperty,x={},_="color",C="position",O="rotation",I="scale",T="components",D="object3D";c.exports.Component=m("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(Q){return Q===!0||Q==="true"?!0:Q===!1||Q==="false"?!1:parseInt(Q,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var Q=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){Q.animationIsPlaying=!1,Q.el.emit("animationcomplete",Q.eventDetail,!1),Q.id&&Q.el.emit("animationcomplete__"+Q.id,Q.eventDetail,!1)}}},update:function(Q){var V=this.config,q=this.data;this.animationIsPlaying=!1,this.data.enabled&&q.property&&(V.autoplay=!1,V.direction=q.dir,V.duration=q.dur,V.easing=q.easing,V.elasticity=q.elasticity,V.loop=q.loop,V.round=q.round,this.createAndStartAnimation())},tick:function(Q,V){this.animationIsPlaying&&(this.time+=V,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var Q=this.data;if(this.updateConfig(),this.animationIsPlaying=!1,this.animation=h(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!(!Q.autoplay||Q.startEvents&&Q.startEvents.length)){if(Q.delay){setTimeout(this.beginAnimation,Q.delay);return}this.beginAnimation()}},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){if(this.data.enabled){if(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=h(this.config),this.data.delay){setTimeout(this.beginAnimation,this.data.delay);return}this.beginAnimation()}},updateConfigForRawColor:function(){var Q=this.config,V=this.data,q=this.el,J,W,et;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){J=V.from===""?$(q,V.property):V.from,et=V.to,this.setColorConfig(J,et),J=this.fromColor,et=this.toColor,this.targetsArray.length=0,this.targetsArray.push(J),Q.targets=this.targetsArray;for(W in et)Q[W]=et[W];Q.update=function(){var mt={};return function(ot){var pt;pt=ot.animatables[0].target,!(pt.r===mt.r&&pt.g===mt.g&&pt.b===mt.b)&&F(q,V.property,pt,V.type)}}()}},updateConfigForDefault:function(){var Q=this.config,V=this.data,q=this.el,J,W,et,mt;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(V.from===""?J=z(V)?$(q,V.property):v(q,V.property):J=V.from,mt=V.to,et=!isNaN(J||mt),et?(J=parseFloat(J),mt=parseFloat(mt)):(J=J&&J.toString(),mt=mt&&mt.toString()),W=V.to==="true"||V.to==="false"||V.to===!0||V.to===!1,W&&(J=V.from==="true"||V.from===!0?1:0,mt=V.to==="true"||V.to===!0?1:0),this.targets.aframeProperty=J,Q.targets=this.targets,Q.aframeProperty=mt,Q.update=function(){var ot;return function(pt){var wt;wt=pt.animatables[0].target.aframeProperty,wt!==ot&&(ot=wt,W&&(wt=wt>=1),z(V)?F(q,V.property,wt,V.type):E(q,V.property,wt))}}())},updateConfigForVector:function(){var Q=this.config,V=this.data,q=this.el,J,W,et;W=V.from!==""?p.coordinates.parse(V.from):v(q,V.property),et=p.coordinates.parse(V.to),V.property===O&&(L(W),L(et)),this.targetsArray.length=0,this.targetsArray.push(W),Q.targets=this.targetsArray;for(J in et)Q[J]=et[J];if(V.property===C||V.property===O||V.property===I){Q.update=function(){var mt={};return function(ot){var pt=ot.animatables[0].target;pt.x===mt.x&&pt.y===mt.y&&pt.z===mt.z||(mt.x=pt.x,mt.y=pt.y,mt.z=pt.z,q.object3D[V.property].set(pt.x,pt.y,pt.z))}}();return}Q.update=function(){var mt={};return function(ot){var pt=ot.animatables[0].target;pt.x===mt.x&&pt.y===mt.y&&pt.z===mt.z||(mt.x=pt.x,mt.y=pt.y,mt.z=pt.z,E(q,V.property,pt))}}()},updateConfig:function(){var Q;Q=P(this.el,this.data.property),z(this.data)&&this.data.type===_?this.updateConfigForRawColor():Q==="vec2"||Q==="vec3"||Q==="vec4"?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(Q){var V,q=this.data,J=this.el,W=this;return q.from!==""||!q.property.startsWith(T)||(V=j(q.property)[1],J.components[V])?!1:(J.addEventListener("componentinitialized",function et(mt){mt.detail.name===V&&(Q(),W.animation=h(W.config),J.removeEventListener("componentinitialized",et))}),!0)},stopRelatedAnimations:function(){var Q,V;for(V in this.el.components)Q=this.el.components[V],V!==this.attrName&&Q.name==="animation"&&Q.animationIsPlaying&&Q.data.property===this.data.property&&(Q.animationIsPlaying=!1)},addEventListeners:function(){var Q=this.data,V=this.el;N(V,Q.startEvents,this.onStartEvent),N(V,Q.pauseEvents,this.pauseAnimation),N(V,Q.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var Q=this.data,V=this.el;U(V,Q.startEvents,this.onStartEvent),U(V,Q.pauseEvents,this.pauseAnimation),U(V,Q.resumeEvents,this.resumeAnimation)},setColorConfig:function(Q,V){A.set(Q),b.set(V),Q=this.fromColor,V=this.toColor,Q.r=A.r,Q.g=A.g,Q.b=A.b,V.r=b.r,V.g=b.g,V.b=b.b}});function P(Q,V){var q,J,W,et;return W=V.split("."),J=W[0],et=W[1],q=Q.components[J]||g[J],!q||et&&!q.schema[et]?null:et?q.schema[et].type:q.schema.type}function L(Q){Q.x=M.MathUtils.degToRad(Q.x),Q.y=M.MathUtils.degToRad(Q.y),Q.z=M.MathUtils.degToRad(Q.z)}function N(Q,V,q){var J;for(J=0;J<V.length;J++)Q.addEventListener(V[J],q)}function U(Q,V,q){var J;for(J=0;J<V.length;J++)Q.removeEventListener(V[J],q)}function $(Q,V){var q,J,W;for(J=j(V),W=Q,q=0;q<J.length;q++)W=W[J[q]];if(W===void 0)throw console.log(Q),new Error("[animation] property ("+V+") could not be found");return W}function F(Q,V,q,J){var W,et,mt,ot;for(V.startsWith("object3D.rotation")&&(q=M.MathUtils.degToRad(q)),et=j(V),ot=Q,W=0;W<et.length-1;W++)ot=ot[et[W]];if(mt=et[et.length-1],J===_){"r"in ot[mt]?(ot[mt].r=q.r,ot[mt].g=q.g,ot[mt].b=q.b):(ot[mt].x=q.r,ot[mt].y=q.g,ot[mt].z=q.b);return}ot[mt]=q}function j(Q){return Q in x||(x[Q]=Q.split(".")),x[Q]}function z(Q){return Q.isRawProperty||Q.property.startsWith(T)||Q.property.startsWith(D)}},"./src/components/camera.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js");c.exports.Component=h("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var m,M=this.el;m=this.camera=new g.PerspectiveCamera,M.setObject3D("camera",m)},update:function(m){var M=this.data,p=this.camera;p.aspect=M.aspect||window.innerWidth/window.innerHeight,p.far=M.far,p.fov=M.fov,p.near=M.near,p.zoom=M.zoom,p.updateProjectionMatrix(),this.updateActiveCamera(m),this.updateSpectatorCamera(m)},updateActiveCamera:function(m){var M=this.data,p=this.el,A=this.system;m&&m.active===M.active||M.spectator||(M.active&&A.activeCameraEl!==p?A.setActiveCamera(p):!M.active&&A.activeCameraEl===p&&A.disableActiveCamera())},updateSpectatorCamera:function(m){var M=this.data,p=this.el,A=this.system;m&&m.spectator===M.spectator||(M.spectator&&A.spectatorCameraEl!==p?A.setSpectatorCamera(p):!M.spectator&&A.spectatorCameraEl===p&&A.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},"./src/components/cursor.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/index.js"),m={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},M={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"},p={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]},A={DOWN:["selectstart"],UP:["selectend"]},b="a-mouse-cursor-hover";c.exports.Component=h("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:g.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity","xrselect"]}},after:["tracked-controls"],multiple:!0,init:function(){var v=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.activeXRInput=null,this.updateCanvasBounds=g.debounce(function(){v.canvasBounds=v.el.sceneEl.canvas.getBoundingClientRect()},500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=this.onCursorDown.bind(this),this.onCursorUp=this.onCursorUp.bind(this),this.onIntersection=this.onIntersection.bind(this),this.onIntersectionCleared=this.onIntersectionCleared.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onEnterVR=this.onEnterVR.bind(this)},update:function(v){this.data.rayOrigin!==v.rayOrigin&&this.updateMouseEventListeners()},tick:function(){var v=this.el.sceneEl.frame,E=this.activeXRInput;this.data.rayOrigin==="xrselect"&&v&&E&&this.onMouseMove({frame:v,inputSource:E,type:"fakeselectevent"})},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var v=this.el;v.removeState(M.HOVERING),v.removeState(M.FUSING),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(M.HOVERED),this.removeEventListeners()},addEventListeners:function(){var v,E=this.data,x=this.el,_=this;function C(){v=x.sceneEl.canvas,!(E.downEvents.length||E.upEvents.length)&&(p.DOWN.forEach(function(O){v.addEventListener(O,_.onCursorDown,{passive:!1})}),p.UP.forEach(function(O){v.addEventListener(O,_.onCursorUp,{passive:!1})}))}v=x.sceneEl.canvas,v?C():x.sceneEl.addEventListener("render-target-loaded",C),E.downEvents.forEach(function(O){x.addEventListener(O,_.onCursorDown)}),E.upEvents.forEach(function(O){x.addEventListener(O,_.onCursorUp)}),x.addEventListener("raycaster-intersection",this.onIntersection),x.addEventListener("raycaster-closest-entity-changed",this.onIntersection),x.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),x.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),x.sceneEl.addEventListener("enter-vr",this.onEnterVR),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var v,E=this.data,x=this.el,_=this;v=x.sceneEl.canvas,v&&!E.downEvents.length&&!E.upEvents.length&&(p.DOWN.forEach(function(C){v.removeEventListener(C,_.onCursorDown)}),p.UP.forEach(function(C){v.removeEventListener(C,_.onCursorUp)})),E.downEvents.forEach(function(C){x.removeEventListener(C,_.onCursorDown)}),E.upEvents.forEach(function(C){x.removeEventListener(C,_.onCursorUp)}),x.removeEventListener("raycaster-intersection",this.onIntersection),x.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),v.removeEventListener("mousemove",this.onMouseMove),v.removeEventListener("touchstart",this.onMouseMove),v.removeEventListener("touchmove",this.onMouseMove),x.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),x.sceneEl.removeEventListener("enter-vr",this.onEnterVR),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var v,E=this.el;v=E.sceneEl.canvas,v.removeEventListener("mousemove",this.onMouseMove),v.removeEventListener("touchmove",this.onMouseMove),E.setAttribute("raycaster","useWorldCoordinates",!1),this.data.rayOrigin==="mouse"&&(v.addEventListener("mousemove",this.onMouseMove),v.addEventListener("touchmove",this.onMouseMove,{passive:!1}),E.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:function(){var v=new THREE.Vector3,E=new THREE.Vector2,x=new THREE.Vector3,_={origin:x,direction:v};return function(C){var O=this.canvasBounds,I=this.el.sceneEl.camera,T,D,P,L,N,U,$,F;I.parent.updateMatrixWorld(),C.type==="touchmove"||C.type==="touchstart"?D=C.touches.item(0):D=C,T=D.clientX-O.left,P=D.clientY-O.top,E.x=T/O.width*2-1,E.y=-(P/O.height)*2+1,this.data.rayOrigin==="xrselect"&&(C.type==="selectstart"||C.type==="fakeselectevent")?(L=C.frame,N=C.inputSource,U=this.el.renderer.xr.getReferenceSpace(),$=L.getPose(N.targetRaySpace,U),F=$.transform,v.set(0,0,-1),v.applyQuaternion(F.orientation),x.copy(F.position)):C.type==="fakeselectout"?(v.set(0,1,0),x.set(0,9999,0)):I&&I.isPerspectiveCamera?(x.setFromMatrixPosition(I.matrixWorld),v.set(E.x,E.y,.5).unproject(I).sub(x).normalize()):I&&I.isOrthographicCamera?(x.set(E.x,E.y,(I.near+I.far)/(I.near-I.far)).unproject(I),v.set(0,0,-1).transformDirection(I.matrixWorld)):console.error("AFRAME.Raycaster: Unsupported camera type: "+I.type),this.el.setAttribute("raycaster",_),C.type==="touchmove"&&C.preventDefault()}}(),onCursorDown:function(v){this.isCursorDown=!0,this.data.rayOrigin==="mouse"&&v.type==="touchstart"&&(this.onMouseMove(v),this.el.components.raycaster.checkIntersections(),v.preventDefault()),this.data.rayOrigin==="xrselect"&&v.type==="selectstart"&&(this.activeXRInput=v.inputSource,this.onMouseMove(v),this.el.components.raycaster.checkIntersections(),this.el.components.raycaster.intersectedEls.length&&this.el.sceneEl.components["ar-hit-test"]!==void 0&&this.el.sceneEl.getAttribute("ar-hit-test").enabled&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!1),this.reenableARHitTest=!0)),this.twoWayEmit(m.MOUSEDOWN,v),this.cursorDownEl=this.intersectedEl},onCursorUp:function(v){if(this.isCursorDown){this.isCursorDown=!1;var E=this.data;this.twoWayEmit(m.MOUSEUP,v),this.reenableARHitTest===!0&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!0),this.reenableARHitTest=void 0),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(m.MOUSEUP,this.intersectedEventDetail)),(!E.fuse||E.rayOrigin==="mouse"||E.rayOrigin==="xrselect")&&this.intersectedEl&&this.cursorDownEl===this.intersectedEl&&this.twoWayEmit(m.CLICK,v),E.rayOrigin==="xrselect"&&this.activeXRInput===v.inputSource&&this.onMouseMove({type:"fakeselectout"}),this.activeXRInput=null,this.cursorDownEl=null,v.type==="touchend"&&v.preventDefault()}},onIntersection:function(v){var E,x=this.el,_,C,O;_=v.detail.els[0]===x?1:0,O=v.detail.intersections[_],C=v.detail.els[_],C&&this.intersectedEl!==C&&(this.intersectedEl&&(E=this.el.components.raycaster.getIntersection(this.intersectedEl),E&&E.distance<=O.distance)||(this.clearCurrentIntersection(!0),this.setIntersection(C,O)))},onIntersectionCleared:function(v){var E=v.detail.clearedEls;E.indexOf(this.intersectedEl)!==-1&&this.clearCurrentIntersection()},onEnterVR:function(){this.clearCurrentIntersection(!0);var v=this.el.sceneEl.xrSession,E=this;v&&this.data.rayOrigin!=="mouse"&&(A.DOWN.forEach(function(x){v.addEventListener(x,E.onCursorDown)}),A.UP.forEach(function(x){v.addEventListener(x,E.onCursorUp)}))},setIntersection:function(v,E){var x=this.el,_=this.data,C=this;this.intersectedEl!==v&&(this.intersectedEl=v,x.addState(M.HOVERING),v.addState(M.HOVERED),this.twoWayEmit(m.MOUSEENTER),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.add(b),!(_.fuseTimeout===0||!_.fuse||_.rayOrigin==="xrselect"||_.rayOrigin==="mouse")&&(x.addState(M.FUSING),this.twoWayEmit(m.FUSING),this.fuseTimeout=setTimeout(function(){x.removeState(M.FUSING),C.twoWayEmit(m.CLICK)},_.fuseTimeout)))},clearCurrentIntersection:function(v){var E,x,_,C=this.el;this.intersectedEl&&(this.intersectedEl.removeState(M.HOVERED),C.removeState(M.HOVERING),C.removeState(M.FUSING),this.twoWayEmit(m.MOUSELEAVE),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.remove(b),this.intersectedEl=null,clearTimeout(this.fuseTimeout),v!==!0&&(_=this.el.components.raycaster.intersections,_.length!==0&&(E=_[0].object.el===C?1:0,x=_[E],x&&this.setIntersection(x.object.el,x))))},twoWayEmit:function(v,E){var x=this.el,_=this.intersectedEl,C;function O(I,T){E instanceof MouseEvent?I.mouseEvent=E:typeof TouchEvent<"u"&&E instanceof TouchEvent&&(I.touchEvent=E)}C=this.el.components.raycaster.getIntersection(_),this.eventDetail.intersectedEl=_,this.eventDetail.intersection=C,O(this.eventDetail),x.emit(v,this.eventDetail),_&&(this.intersectedEventDetail.intersection=C,O(this.intersectedEventDetail),_.emit(v,this.intersectedEventDetail))}})},"./src/components/generic-tracked-controller-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/tracked-controls.js"),m=g.checkControllerPresentAndSetup,M=g.emitIfAxesChanged,p=g.onButtonEvent,A="generic",b={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick"]};c.exports.Component=h("generic-tracked-controller-controls",{schema:{hand:{default:""},defaultModel:{default:!0},defaultModelColor:{default:"gray"},orientationOffset:{type:"vec3"},disabled:{default:!1}},after:["tracked-controls"],mapping:b,bindMethods:function(){this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var v=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(E){p(E.detail.id,"down",v)},this.onButtonUp=function(E){p(E.detail.id,"up",v)},this.onButtonTouchStart=function(E){p(E.detail.id,"touchstart",v)},this.onButtonTouchEnd=function(E){p(E.detail.id,"touchend",v)},this.controllerPresent=!1,this.wasControllerConnected=!1,this.lastControllerCheck=0,this.bindMethods(),this.el.addEventListener("controllerconnected",function(E){E.detail.name!==v.name&&(v.wasControllerConnected=!0,v.removeEventListeners(),v.removeControllersUpdateListener())})},addEventListeners:function(){var v=this.el;v.addEventListener("buttonchanged",this.onButtonChanged),v.addEventListener("buttondown",this.onButtonDown),v.addEventListener("buttonup",this.onButtonUp),v.addEventListener("touchstart",this.onButtonTouchStart),v.addEventListener("touchend",this.onButtonTouchEnd),v.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var v=this.el;v.removeEventListener("buttonchanged",this.onButtonChanged),v.removeEventListener("buttondown",this.onButtonDown),v.removeEventListener("buttonup",this.onButtonUp),v.removeEventListener("touchstart",this.onButtonTouchStart),v.removeEventListener("touchend",this.onButtonTouchEnd),v.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var v=this.data,E=v.hand?v.hand:void 0;m(this,A,{hand:E,iterateControllerProfiles:!0})},play:function(){this.wasControllerConnected||(this.checkIfControllerPresent(),this.addControllersUpdateListener())},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var v=this.el,E=this.data;if(this.el.components["tracked-controls"]){this.removeEventListeners();return}v.setAttribute("tracked-controls",{hand:E.hand,idPrefix:A,orientationOffset:E.orientationOffset,iterateControllerProfiles:!0}),this.data.defaultModel&&this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.wasControllerConnected&&this.checkIfControllerPresent()},onButtonChanged:function(v){var E=this.mapping.buttons[v.detail.id];E&&this.el.emit(E+"changed",v.detail.state)},onAxisMoved:function(v){M(this,this.mapping.axes,v)},initDefaultModel:function(){var v=this.modelEl=document.createElement("a-entity");v.setAttribute("geometry",{primitive:"sphere",radius:.03}),v.setAttribute("material",{color:this.data.color}),this.el.appendChild(v),this.el.emit("controllermodelready",{name:"generic-tracked-controller-controls",model:this.modelEl,rayOrigin:{origin:{x:0,y:0,z:-.01},direction:{x:0,y:0,z:-1}}})}})},"./src/components/geometry.js":(c,d,u)=>{var h=u("./src/core/geometry.js").geometries,g=u("./src/core/geometry.js").geometryNames,m=u("./src/core/component.js").registerComponent,M=u("./src/lib/three.js"),p=new M.BufferGeometry;c.exports.Component=m("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:g,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(A){var b=this.data,v=this.el,E,x=this.system;this.geometry&&(x.unuseGeometry(A),this.geometry=null),this.geometry=x.getOrCreateGeometry(b),E=v.getObject3D("mesh"),E?E.geometry=this.geometry:(E=new M.Mesh,E.geometry=this.geometry,this.el.getAttribute("material")||(E.material=new M.MeshStandardMaterial({color:Math.random()*16777215,metalness:0,roughness:.5})),v.setObject3D("mesh",E))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=p,this.geometry=null},updateSchema:function(A){var b=this.oldData&&this.oldData.primitive,v=A.primitive,E=h[v]&&h[v].schema;if(!E)throw new Error("Unknown geometry schema `"+v+"`");b&&b===v||this.extendSchema(E)}})},"./src/components/gltf-model.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),m=u("./src/utils/index.js"),M=m.debug("components:gltf-model:warn");c.exports.Component=h("gltf-model",{schema:{type:"model"},init:function(){var p=this,A=this.system.getDRACOLoader(),b=this.system.getMeshoptDecoder(),v=this.system.getKTX2Loader();this.model=null,this.loader=new g.GLTFLoader,A&&this.loader.setDRACOLoader(A),b?this.ready=b.then(function(E){p.loader.setMeshoptDecoder(E)}):this.ready=Promise.resolve(),v&&this.loader.setKTX2Loader(v)},update:function(){var p=this,A=this.el,b=this.data;b&&(this.remove(),this.ready.then(function(){p.loader.load(b,function(E){p.model=E.scene||E.scenes[0],p.model.animations=E.animations,A.setObject3D("mesh",p.model),A.emit("model-loaded",{format:"gltf",model:p.model})},void 0,function(E){var x=E&&E.message?E.message:"Failed to load glTF model";M(x),A.emit("model-error",{format:"gltf",src:b})})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},"./src/components/grabbable.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;h("grabbable",{init:function(){this.el.setAttribute("obb-collider","centerModel: true")}})},"./src/components/hand-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/constants/index.js").AFRAME_CDN_ROOT,m={toonLeft:g+"controllers/hands/leftHand.glb",toonRight:g+"controllers/hands/rightHand.glb",lowPolyLeft:g+"controllers/hands/leftHandLow.glb",lowPolyRight:g+"controllers/hands/rightHandLow.glb",highPolyLeft:g+"controllers/hands/leftHandHigh.glb",highPolyRight:g+"controllers/hands/rightHandHigh.glb"},M={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},p={};p[M.fist]="grip",p[M.thumbUp]="pistol",p[M.point]="pointing",c.exports.Component=h("hand-controls",{schema:{color:{default:"white",type:"color"},hand:{default:"left"},handModelStyle:{default:"lowPoly",oneOf:["lowPoly","highPoly","toon"]}},after:["tracked-controls"],init:function(){var v=this,E=this.el;this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){v.handleButton("grip","down")},this.onGripUp=function(){v.handleButton("grip","up")},this.onTrackpadDown=function(){v.handleButton("trackpad","down")},this.onTrackpadUp=function(){v.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){v.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){v.handleButton("trackpad","touchend")},this.onTriggerDown=function(){v.handleButton("trigger","down")},this.onTriggerUp=function(){v.handleButton("trigger","up")},this.onTriggerTouchStart=function(){v.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){v.handleButton("trigger","touchend")},this.onGripTouchStart=function(){v.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){v.handleButton("grip","touchend")},this.onThumbstickDown=function(){v.handleButton("thumbstick","down")},this.onThumbstickUp=function(){v.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){v.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){v.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){v.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){v.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){v.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){v.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),E.addEventListener("controllerconnected",this.onControllerConnected),E.addEventListener("controllerdisconnected",this.onControllerDisconnected),E.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(v,E){var x=this.el.getObject3D("mesh");!x||!x.mixer||x.mixer.update(E/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var v=this.el;v.addEventListener("gripdown",this.onGripDown),v.addEventListener("gripup",this.onGripUp),v.addEventListener("trackpaddown",this.onTrackpadDown),v.addEventListener("trackpadup",this.onTrackpadUp),v.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),v.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),v.addEventListener("triggerdown",this.onTriggerDown),v.addEventListener("triggerup",this.onTriggerUp),v.addEventListener("triggertouchstart",this.onTriggerTouchStart),v.addEventListener("triggertouchend",this.onTriggerTouchEnd),v.addEventListener("griptouchstart",this.onGripTouchStart),v.addEventListener("griptouchend",this.onGripTouchEnd),v.addEventListener("thumbstickdown",this.onThumbstickDown),v.addEventListener("thumbstickup",this.onThumbstickUp),v.addEventListener("abuttontouchstart",this.onAorXTouchStart),v.addEventListener("abuttontouchend",this.onAorXTouchEnd),v.addEventListener("bbuttontouchstart",this.onBorYTouchStart),v.addEventListener("bbuttontouchend",this.onBorYTouchEnd),v.addEventListener("xbuttontouchstart",this.onAorXTouchStart),v.addEventListener("xbuttontouchend",this.onAorXTouchEnd),v.addEventListener("ybuttontouchstart",this.onBorYTouchStart),v.addEventListener("ybuttontouchend",this.onBorYTouchEnd),v.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),v.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var v=this.el;v.removeEventListener("gripdown",this.onGripDown),v.removeEventListener("gripup",this.onGripUp),v.removeEventListener("trackpaddown",this.onTrackpadDown),v.removeEventListener("trackpadup",this.onTrackpadUp),v.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),v.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),v.removeEventListener("triggerdown",this.onTriggerDown),v.removeEventListener("triggerup",this.onTriggerUp),v.removeEventListener("triggertouchstart",this.onTriggerTouchStart),v.removeEventListener("triggertouchend",this.onTriggerTouchEnd),v.removeEventListener("griptouchstart",this.onGripTouchStart),v.removeEventListener("griptouchend",this.onGripTouchEnd),v.removeEventListener("thumbstickdown",this.onThumbstickDown),v.removeEventListener("thumbstickup",this.onThumbstickUp),v.removeEventListener("abuttontouchstart",this.onAorXTouchStart),v.removeEventListener("abuttontouchend",this.onAorXTouchEnd),v.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),v.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),v.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),v.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),v.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),v.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),v.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),v.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(v){var E,x=this.el,_=this.data.hand,C=this.data.handModelStyle,O=this.data.color,I=this;if(E={hand:_,model:!1},_!==v){var T=m[C+_.charAt(0).toUpperCase()+_.slice(1)];this.loader.load(T,function(D){var P=D.scene.children[0],L=_==="left"?Math.PI/2:-Math.PI/2,N=x.sceneEl.hasWebXR?-Math.PI/2:0;P.mixer=new THREE.AnimationMixer(P),I.clips=D.animations,x.setObject3D("mesh",P),P.traverse(function(U){U.isMesh&&(U.material.color=new THREE.Color(O))}),P.position.set(0,0,0),P.rotation.set(N,0,L),x.setAttribute("magicleap-controls",E),x.setAttribute("vive-controls",E),x.setAttribute("oculus-touch-controls",E),x.setAttribute("pico-controls",E),x.setAttribute("windows-motion-controls",E),x.setAttribute("hp-mixed-reality-controls",E)})}},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(v,E){var x,_=E==="down",C=E==="touchstart";if(E.indexOf("touch")===0){if(C===this.touchedButtons[v])return;this.touchedButtons[v]=C}else{if(_===this.pressedButtons[v])return;this.pressedButtons[v]=_}x=this.gesture,this.gesture=this.determineGesture(),this.gesture!==x&&(this.animateGesture(this.gesture,x),this.emitGestureEvents(this.gesture,x))},determineGesture:function(){var v,E=this.pressedButtons.grip,x=this.pressedButtons.surface||this.touchedButtons.surface,_=this.pressedButtons.trackpad||this.touchedButtons.trackpad,C=this.pressedButtons.trigger||this.touchedButtons.trigger,O=this.touchedButtons.AorX||this.touchedButtons.BorY,I=b(this.el.components["tracked-controls"]);return I?E||C?v=M.fist:_&&(v=M.point):E?x||O||_?v=C?M.fist:M.point:v=C?M.thumbUp:M.pointThumb:C&&(v=M.hold),v},getClip:function(v){var E,x;for(x=0;x<this.clips.length;x++)if(E=this.clips[x],E.name===v)return E},animateGesture:function(v,E){if(v){this.playAnimation(v||M.open,E,!1);return}this.playAnimation(E,E,!0)},emitGestureEvents:function(v,E){var x=this.el,_;E!==v&&(_=A(E,!1),_&&x.emit(_),_=A(v,!0),_&&x.emit(_))},playAnimation:function(v,E,x){var _,C,O=this.el.getObject3D("mesh"),I;if(O){if(_=this.getClip(v),I=O.mixer.clipAction(_),x){I.paused=!1,I.timeScale=-1;return}if(I.clampWhenFinished=!0,I.loop=THREE.LoopOnce,I.repetitions=0,I.timeScale=1,I.time=0,I.weight=1,!E){O.mixer.stopAllAction(),I.play();return}_=this.getClip(E),I.reset(),I.play(),C=O.mixer.clipAction(_),C.crossFadeTo(I,.15,!0)}}});function A(v,E){var x;if(v){if(x=p[v],x==="grip")return x+(E?"close":"open");if(x==="point")return x+(E?"up":"down");if(x==="pointing"||x==="pistol")return x+(E?"start":"end")}}function b(v){var E=v&&v.controller,x=E&&(E.id&&E.id.indexOf("OpenVR ")===0||E.profiles&&E.profiles[0]&&E.profiles[0]==="htc-vive");return x}},"./src/components/hand-tracking-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/core/a-entity.js").AEntity,m=u("./src/utils/tracked-controls.js"),M=m.checkControllerPresentAndSetup,p=u("./src/constants/index.js").AFRAME_CDN_ROOT,A=p+"controllers/oculus-hands/v4/left.glb",b=p+"controllers/oculus-hands/v4/right.glb",v=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"],E=0,x=4,_=9,C=.015,O=.1;c.exports.Component=h("hand-tracking-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},modelStyle:{default:"mesh",oneOf:["dots","mesh"]},modelColor:{default:"white"},modelOpacity:{default:1}},after:["tracked-controls"],bindMethods:function(){this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this)},addEventListeners:function(){this.el.addEventListener("model-loaded",this.onModelLoaded);for(var I=0;I<this.jointEls.length;++I)this.jointEls[I].object3D.visible=!0},removeEventListeners:function(){this.el.removeEventListener("model-loaded",this.onModelLoaded);for(var I=0;I<this.jointEls.length;++I)this.jointEls[I].object3D.visible=!1},init:function(){var I=this.el.sceneEl,T=I.getAttribute("webxr"),D=T.optionalFeatures;D.indexOf("hand-tracking")===-1&&(D.push("hand-tracking"),I.setAttribute("webxr",T)),this.wristObject3D=new THREE.Object3D,this.el.sceneEl.object3D.add(this.wristObject3D),this.onModelLoaded=this.onModelLoaded.bind(this),this.onChildAttached=this.onChildAttached.bind(this),this.jointEls=[],this.controllerPresent=!1,this.isPinched=!1,this.pinchEventDetail={position:new THREE.Vector3,wristRotation:new THREE.Quaternion},this.indexTipPosition=new THREE.Vector3,this.hasPoses=!1,this.jointPoses=new Float32Array(16*v.length),this.jointRadii=new Float32Array(v.length),this.bindMethods(),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.updateReferenceSpace),this.el.sceneEl.addEventListener("exit-vr",this.updateReferenceSpace),this.el.addEventListener("child-attached",this.onChildAttached),this.el.object3D.visible=!1,this.wristObject3D.visible=!1},onChildAttached:function(I){this.addChildEntity(I.detail.el)},update:function(){this.updateModelMaterial()},updateModelMaterial:function(){var I=this.jointEls,T=this.skinnedMesh,D=this.data.modelOpacity!==1;T&&(this.skinnedMesh.material.color.set(this.data.modelColor),this.skinnedMesh.material.transparent=D,this.skinnedMesh.material.opacity=this.data.modelOpacity);for(var P=0;P<I.length;P++)I[P].setAttribute("material",{color:this.data.modelColor,transparent:D,opacity:this.data.modelOpacity})},updateReferenceSpace:function(){var I=this,T=this.el.sceneEl.xrSession;if(this.referenceSpace=void 0,!!T){var D=I.el.sceneEl.systems.webxr.sessionReferenceSpaceType;T.requestReferenceSpace(D).then(function(P){I.referenceSpace=P}).catch(function(P){throw I.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(D,"tracked-controls-webxr uses reference space "+D),P})}},checkIfControllerPresent:function(){var I=this.data,T=I.hand?I.hand:void 0;M(this,"",{hand:T,iterateControllerProfiles:!0,handTracking:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},tick:function(){var I=this.el.sceneEl,T=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,D=I.frame,P=this.el.components["tracked-controls-webxr"],L=this.referenceSpace;!T||!D||!L||!P||(this.hasPoses=!1,T.hand&&(this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),this.hasPoses=D.fillPoses(T.hand.values(),L,this.jointPoses)&&D.fillJointRadii(T.hand.values(),this.jointRadii),this.updateHandModel(),this.detectGesture(),this.updateWristObject()))},updateWristObject:function(){var I=new THREE.Matrix4;return function(){var T=this.wristObject3D;!T||!this.hasPoses||(I.fromArray(this.jointPoses,E*16),T.position.setFromMatrixPosition(I),T.quaternion.setFromRotationMatrix(I))}}(),updateHandModel:function(){this.data.modelStyle==="dots"&&this.updateHandDotsModel(),this.data.modelStyle==="mesh"&&this.updateHandMeshModel()},getBone:function(I){for(var T=this.bones,D=0;D<T.length;D++)if(T[D].name===I)return T[D];return null},updateHandMeshModel:function(){var I=new THREE.Matrix4;return function(){var T=0,D=this.jointPoses,P=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller;if(!(!P||!this.mesh)&&(this.mesh.visible=!1,!!this.hasPoses))for(var L of P.hand.values()){var N=this.getBone(L.jointName);N!=null&&(this.mesh.visible=!0,I.fromArray(D,T*16),N.position.setFromMatrixPosition(I),N.quaternion.setFromRotationMatrix(I)),T++}}}(),updateHandDotsModel:function(){for(var I=this.jointPoses,T=this.jointRadii,D=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,P,L,N=0;N<D.hand.size;N++)P=this.jointEls[N],L=P.object3D,P.object3D.visible=this.hasPoses,this.hasPoses&&(L.matrix.fromArray(I,N*16),L.matrix.decompose(L.position,L.rotation,L.scale),P.setAttribute("scale",{x:T[N],y:T[N],z:T[N]}))},detectGesture:function(){this.detectPinch()},detectPinch:function(){var I=new THREE.Vector3,T=new THREE.Matrix4;return function(){var D=this.indexTipPosition,P=this.pinchEventDetail;if(this.hasPoses){I.setFromMatrixPosition(T.fromArray(this.jointPoses,x*16)),D.setFromMatrixPosition(T.fromArray(this.jointPoses,_*16)),P.wristRotation.setFromRotationMatrix(T.fromArray(this.jointPoses,E*16));var L=D.distanceTo(I);L<C&&this.isPinched===!1&&(this.isPinched=!0,this.pinchDistance=L,P.position.copy(D).add(I).multiplyScalar(.5),this.el.emit("pinchstarted",P)),L>this.pinchDistance+this.pinchDistance*O&&this.isPinched===!0&&(this.isPinched=!1,P.position.copy(D).add(I).multiplyScalar(.5),this.el.emit("pinchended",P)),this.isPinched&&(P.position.copy(D).add(I).multiplyScalar(.5),this.el.emit("pinchmoved",P))}}}(),pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var I=this.el,T=this.data;if(I.setAttribute("tracked-controls",{id:"",hand:T.hand,iterateControllerProfiles:!0,handTrackingEnabled:!0}),this.mesh){this.mesh!==I.getObject3D("mesh")&&I.setObject3D("mesh",this.mesh);return}this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){var I=this.el,T;this.checkIfControllerPresent(),T=I.components["tracked-controls"]&&I.components["tracked-controls"].controller,this.mesh&&T&&T.hand&&T.hand instanceof XRHand&&I.setObject3D("mesh",this.mesh)},initDefaultModel:function(){var I=this.data;I.modelStyle==="dots"&&this.initDotsModel(),I.modelStyle==="mesh"&&this.initMeshHandModel(),this.el.object3D.visible=!0,this.wristObject3D.visible=!0},initDotsModel:function(){if(this.jointEls.length===0){for(var I=0;I<v.length;++I){var T=this.jointEl=document.createElement("a-entity");T.setAttribute("geometry",{primitive:"sphere",radius:1}),T.object3D.visible=!1,this.el.appendChild(T),this.jointEls.push(T)}this.updateModelMaterial()}},initMeshHandModel:function(){var I=this.data.hand==="left"?A:b;this.el.setAttribute("gltf-model",I)},onModelLoaded:function(){var I=this.mesh=this.el.getObject3D("mesh").children[0],T=this.skinnedMesh=I.getObjectByProperty("type","SkinnedMesh");this.skinnedMesh&&(this.bones=T.skeleton.bones,this.el.removeObject3D("mesh"),I.position.set(0,0,0),I.rotation.set(0,0,0),T.frustumCulled=!1,T.material=new THREE.MeshStandardMaterial,this.updateModelMaterial(),this.setupChildrenEntities(),this.el.setObject3D("mesh",I))},setupChildrenEntities:function(){for(var I=this.el.children,T=0;T<I.length;++T)I[T]instanceof g&&this.addChildEntity(I[T])},addChildEntity:function(I){I instanceof g&&this.wristObject3D.add(I.object3D)}})},"./src/components/hand-tracking-grab-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js");h("hand-tracking-grab-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},color:{type:"color",default:"white"},hoverColor:{type:"color",default:"#538df1"},hoverEnabled:{default:!1}},init:function(){var m=this.el,M=this.data,p;M.hand==="right"?p="components.hand-tracking-controls.bones.3":p="components.hand-tracking-controls.bones.21",m.setAttribute("hand-tracking-controls",{hand:M.hand}),m.setAttribute("obb-collider",{trackedObject3D:p,size:.04}),this.auxMatrix=new g.Matrix4,this.auxQuaternion=new g.Quaternion,this.auxQuaternion2=new g.Quaternion,this.auxVector=new g.Vector3,this.auxVector2=new g.Vector3,this.grabbingObjectPosition=new g.Vector3,this.grabbedObjectPosition=new g.Vector3,this.grabbedObjectPositionDelta=new g.Vector3,this.grabDeltaPosition=new g.Vector3,this.grabInitialRotation=new g.Quaternion,this.onCollisionStarted=this.onCollisionStarted.bind(this),this.el.addEventListener("obbcollisionstarted",this.onCollisionStarted),this.onCollisionEnded=this.onCollisionEnded.bind(this),this.el.addEventListener("obbcollisionended",this.onCollisionEnded),this.onPinchStarted=this.onPinchStarted.bind(this),this.el.addEventListener("pinchstarted",this.onPinchStarted),this.onPinchEnded=this.onPinchEnded.bind(this),this.el.addEventListener("pinchended",this.onPinchEnded),this.onPinchMoved=this.onPinchMoved.bind(this),this.el.addEventListener("pinchmoved",this.onPinchMoved)},transferEntityOwnership:function(){for(var m,M=this.el.sceneEl.querySelectorAll("[hand-tracking-grab-controls]"),p=0;p<M.length;++p)m=M[p].components["hand-tracking-grab-controls"],m!==this&&this.grabbedEl&&this.grabbedEl===m.grabbedEl&&m.releaseGrabbedEntity();return!1},onCollisionStarted:function(m){var M=m.detail.withEl;this.collidedEl||M.getAttribute("grabbable")&&(this.collidedEl=M,this.grabbingObject3D=m.detail.trackedObject3D,this.data.hoverEnabled&&this.el.setAttribute("hand-tracking-controls","modelColor",this.data.hoverColor))},onCollisionEnded:function(){this.collidedEl=void 0,!this.grabbedEl&&(this.grabbingObject3D=void 0,this.data.hoverEnabled&&this.el.setAttribute("hand-tracking-controls","modelColor",this.data.color))},onPinchStarted:function(m){this.collidedEl&&(this.pinchPosition=m.detail.position,this.wristRotation=m.detail.wristRotation,this.grabbedEl=this.collidedEl,this.transferEntityOwnership(),this.grab())},onPinchEnded:function(){this.releaseGrabbedEntity()},onPinchMoved:function(m){this.wristRotation=m.detail.wristRotation},releaseGrabbedEntity:function(){var m=this.grabbedEl;m&&(m.object3D.updateMatrixWorld=this.originalUpdateMatrixWorld,m.object3D.matrixAutoUpdate=!0,m.object3D.matrixWorldAutoUpdate=!0,m.object3D.matrixWorld.decompose(this.auxVector,this.auxQuaternion,this.auxVector2),m.object3D.position.copy(this.auxVector),m.object3D.quaternion.copy(this.auxQuaternion),this.el.emit("grabended",{grabbedEl:m}),this.grabbedEl=void 0)},grab:function(){var m=this.grabbedEl,M;M=m.object3D.getWorldPosition(this.grabbedObjectPosition),this.grabDeltaPosition.copy(M).sub(this.pinchPosition),this.grabInitialRotation.copy(this.auxQuaternion.copy(this.wristRotation).invert()),this.originalUpdateMatrixWorld=m.object3D.updateMatrixWorld,m.object3D.updateMatrixWorld=function(){},m.object3D.updateMatrixWorldChildren=function(p){for(var A=this.children,b=0,v=A.length;b<v;b++){var E=A[b];(E.matrixWorldAutoUpdate===!0||p===!0)&&E.updateMatrixWorld(!0)}},m.object3D.matrixAutoUpdate=!1,m.object3D.matrixWorldAutoUpdate=!1,this.el.emit("grabstarted",{grabbedEl:m})},tock:function(){var m=this.auxMatrix,M=this.auxQuaternion,p=this.auxQuaternion2,A,b=this.grabbedEl;b&&(A=b.object3D,A.getWorldQuaternion(p),A.matrixWorld.identity(),m.identity(),m.makeTranslation(this.pinchPosition),A.matrixWorld.multiply(m),m.identity(),m.makeRotationFromQuaternion(M.copy(this.wristRotation).multiply(this.grabInitialRotation)),A.matrixWorld.multiply(m),m.identity(),m.makeTranslation(this.grabDeltaPosition),A.matrixWorld.multiply(m),m.identity(),m.makeRotationFromQuaternion(p),A.matrixWorld.multiply(m),m.makeScale(b.object3D.scale.x,b.object3D.scale.y,b.object3D.scale.z),A.matrixWorld.multiply(m),A.updateMatrixWorldChildren())}})},"./src/components/hide-on-enter-ar.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("hide-on-enter-ar",{init:function(){var g=this;this.el.sceneEl.addEventListener("enter-vr",function(){g.el.sceneEl.is("ar-mode")&&(g.el.object3D.visible=!1)}),this.el.sceneEl.addEventListener("exit-vr",function(){g.el.object3D.visible=!0})}})},"./src/components/hide-on-enter-vr.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("hide-on-enter-vr",{init:function(){var g=this;this.el.sceneEl.addEventListener("enter-vr",function(){g.el.sceneEl.is("vr-mode")&&(g.el.object3D.visible=!1)}),this.el.sceneEl.addEventListener("exit-vr",function(){g.el.object3D.visible=!0})}})},"./src/components/hp-mixed-reality-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),m=u("./src/utils/tracked-controls.js"),M=m.checkControllerPresentAndSetup,p=m.emitIfAxesChanged,A=m.onButtonEvent,b="hp-mixed-reality",v=u("./src/constants/index.js").AFRAME_CDN_ROOT,E=v+"controllers/hp/mixed-reality/",x={x:0,y:0,z:.06},_={_x:Math.PI/4,_y:0,_z:0,_order:"XYZ"},C={left:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton"]}};c.exports.Component=h("hp-mixed-reality-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:C,init:function(){var O=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(I){A(I.detail.id,"down",O,O.data.hand)},this.onButtonUp=function(I){A(I.detail.id,"up",O,O.data.hand)},this.onButtonTouchEnd=function(I){A(I.detail.id,"touchend",O,O.data.hand)},this.onButtonTouchStart=function(I){A(I.detail.id,"touchstart",O,O.data.hand)},this.previousButtonValues={},this.bindMethods()},update:function(){var O=this.data;this.controllerIndex=O.hand==="right"?0:O.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var O=this.el;O.addEventListener("buttonchanged",this.onButtonChanged),O.addEventListener("buttondown",this.onButtonDown),O.addEventListener("buttonup",this.onButtonUp),O.addEventListener("touchstart",this.onButtonTouchStart),O.addEventListener("touchend",this.onButtonTouchEnd),O.addEventListener("axismove",this.onAxisMoved),O.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var O=this.el;O.removeEventListener("buttonchanged",this.onButtonChanged),O.removeEventListener("buttondown",this.onButtonDown),O.removeEventListener("buttonup",this.onButtonUp),O.removeEventListener("touchstart",this.onButtonTouchStart),O.removeEventListener("touchend",this.onButtonTouchEnd),O.removeEventListener("axismove",this.onAxisMoved),O.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var O=this.data;M(this,b,{index:this.controllerIndex,hand:O.hand})},injectTrackedControls:function(){var O=this.el,I=this.data;O.setAttribute("tracked-controls",{idPrefix:b,hand:I.hand,controller:this.controllerIndex,orientationOffset:I.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",E+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(O){var I=this.mapping[this.data.hand].buttons[O.detail.id],T;I&&(I==="trigger"&&(T=O.detail.state.value,console.log("analog value of trigger press: "+T)),this.el.emit(I+"changed",O.detail.state))},onModelLoaded:function(O){var I=O.detail.model;this.data.model&&(I.position.copy(x),I.rotation.copy(_),this.el.emit("controllermodelready",{name:"hp-mixed-reality-controls",model:this.data.model,rayOrigin:new g.Vector3(0,0,0)}))},onAxisMoved:function(O){p(this,this.mapping.axes,O)}})},"./src/components/index.js":(c,d,u)=>{u("./src/components/animation.js"),u("./src/components/anchored.js"),u("./src/components/camera.js"),u("./src/components/cursor.js"),u("./src/components/geometry.js"),u("./src/components/generic-tracked-controller-controls.js"),u("./src/components/gltf-model.js"),u("./src/components/grabbable.js"),u("./src/components/hand-tracking-controls.js"),u("./src/components/hand-tracking-grab-controls.js"),u("./src/components/hand-controls.js"),u("./src/components/hide-on-enter-ar.js"),u("./src/components/hide-on-enter-vr.js"),u("./src/components/hp-mixed-reality-controls.js"),u("./src/components/layer.js"),u("./src/components/laser-controls.js"),u("./src/components/light.js"),u("./src/components/line.js"),u("./src/components/link.js"),u("./src/components/look-controls.js"),u("./src/components/magicleap-controls.js"),u("./src/components/material.js"),u("./src/components/obb-collider.js"),u("./src/components/obj-model.js"),u("./src/components/oculus-go-controls.js"),u("./src/components/oculus-touch-controls.js"),u("./src/components/pico-controls.js"),u("./src/components/position.js"),u("./src/components/raycaster.js"),u("./src/components/rotation.js"),u("./src/components/scale.js"),u("./src/components/shadow.js"),u("./src/components/sound.js"),u("./src/components/text.js"),u("./src/components/tracked-controls.js"),u("./src/components/tracked-controls-webvr.js"),u("./src/components/tracked-controls-webxr.js"),u("./src/components/visible.js"),u("./src/components/valve-index-controls.js"),u("./src/components/vive-controls.js"),u("./src/components/vive-focus-controls.js"),u("./src/components/wasd-controls.js"),u("./src/components/windows-motion-controls.js"),u("./src/components/scene/ar-hit-test.js"),u("./src/components/scene/background.js"),u("./src/components/scene/debug.js"),u("./src/components/scene/device-orientation-permission-ui.js"),u("./src/components/scene/embedded.js"),u("./src/components/scene/inspector.js"),u("./src/components/scene/fog.js"),u("./src/components/scene/keyboard-shortcuts.js"),u("./src/components/scene/pool.js"),u("./src/components/scene/real-world-meshing.js"),u("./src/components/scene/reflection.js"),u("./src/components/scene/screenshot.js"),u("./src/components/scene/stats.js"),u("./src/components/scene/xr-mode-ui.js")},"./src/components/laser-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/index.js");h("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var m=this.config,M=this.data,p=this.el,A=this,b={hand:M.hand,model:M.model};p.setAttribute("hp-mixed-reality-controls",b),p.setAttribute("magicleap-controls",b),p.setAttribute("oculus-go-controls",b),p.setAttribute("oculus-touch-controls",b),p.setAttribute("pico-controls",b),p.setAttribute("valve-index-controls",b),p.setAttribute("vive-controls",b),p.setAttribute("vive-focus-controls",b),p.setAttribute("windows-motion-controls",b),p.setAttribute("generic-tracked-controller-controls",{hand:b.hand}),p.addEventListener("controllerconnected",v),p.addEventListener("controllerdisconnected",E),p.addEventListener("controllermodelready",function(x){v(x),A.modelReady=!0});function v(x){var _=m[x.detail.name];if(_){var C=g.extend({showLine:!0},_.raycaster||{});x.detail.rayOrigin&&(C.origin=x.detail.rayOrigin.origin,C.direction=x.detail.rayOrigin.direction,C.showLine=!0),x.detail.rayOrigin||!A.modelReady?p.setAttribute("raycaster",C):p.setAttribute("raycaster","showLine",!0),p.setAttribute("cursor",g.extend({fuse:!1},_.cursor))}}function E(x){var _=m[x.detail.name];_&&p.setAttribute("raycaster","showLine",!1)}},config:{"generic-tracked-controller-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"hp-mixed-reality-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"magicleap-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"pico-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"valve-index-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},"./src/components/layer.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/index.js"),m=g.debug("components:layer:warn");c.exports.Component=h("layer",{schema:{type:{default:"quad",oneOf:["quad","monocubemap","stereocubemap"]},src:{type:"map"},rotateCubemap:{default:!1},width:{default:0},height:{default:0}},init:function(){var p=this.el.sceneEl.renderer.getContext();this.quaternion=new THREE.Quaternion,this.position=new THREE.Vector3,this.bindMethods(),this.needsRedraw=!1,this.frameBuffer=p.createFramebuffer();var A=this.el.sceneEl.getAttribute("webxr"),b=A.requiredFeatures;b.indexOf("layers")===-1&&(b.push("layers"),this.el.sceneEl.setAttribute("webxr",A)),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR),this.el.sceneEl.addEventListener("exit-vr",this.onExitVR)},bindMethods:function(){this.onRequestedReferenceSpace=this.onRequestedReferenceSpace.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this)},update:function(p){this.data.src!==p.src&&this.updateSrc()},updateSrc:function(){var p=this.data.type;if(this.texture=void 0,p==="quad"){this.loadQuadImage();return}if(p==="monocubemap"||p==="stereocubemap"){this.loadCubeMapImages();return}},loadCubeMapImages:function(){var p,A=this.xrGLFactory,b=this.el.sceneEl.frame,v=this.data.src,E=this.data.type;this.visibilityChanged=!1,this.layer&&(E!=="monocubemap"&&E!=="stereocubemap"||(v.complete?this.pendingCubeMapUpdate=!1:this.pendingCubeMapUpdate=!0,this.loadingScreen?this.loadingScreen=!1:this.loadingScreen=!0,E==="monocubemap"?(p=A.getSubImage(this.layer,b),this.loadCubeMapImage(p.colorTexture,v,0)):(p=A.getSubImage(this.layer,b,"left"),this.loadCubeMapImage(p.colorTexture,v,0),p=A.getSubImage(this.layer,b,"right"),this.loadCubeMapImage(p.colorTexture,v,6))))},loadQuadImage:function(){var p=this.data.src,A=this;this.el.sceneEl.systems.material.loadTexture(p,{src:p},function(v){A.el.sceneEl.renderer.initTexture(v),A.texture=v,p.tagName==="VIDEO"&&setTimeout(function(){A.textureIsVideo=!0},1e3),A.layer&&(A.layer.height=A.data.height/2||A.texture.image.height/1e3,A.layer.width=A.data.width/2||A.texture.image.width/1e3,A.needsRedraw=!0),A.updateQuadPanel()})},preGenerateCubeMapTextures:function(p,A){this.data.type==="monocubemap"?this.generateCubeMapTextures(p,0,A):(this.generateCubeMapTextures(p,0,A),this.generateCubeMapTextures(p,6,A))},generateCubeMapTextures:function(p,A,b){for(var v=this.data,E=this.cubeFaceSize,x=Math.min(p.width,p.height),_=[],C,O,I=0;I<6;I++){var T=document.createElement("CANVAS");T.width=T.height=E;var D=T.getContext("2d");v.rotateCubemap&&(I===2||I===3)&&(D.save(),D.translate(E,E),D.rotate(Math.PI)),D.drawImage(p,(I+A)*x,0,x,x,0,0,E,E),D.restore(),b&&b(),_.push(T)}return v.rotateCubemap&&(C=_[0],O=_[1],_[0]=O,_[1]=C,C=_[4],O=_[5],_[4]=O,_[5]=C),b&&b(),_},loadCubeMapImage:function(p,A,b){var v=this.el.sceneEl.renderer.getContext(),E;v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!1),v.bindTexture(v.TEXTURE_CUBE_MAP,p),!A.complete||this.loadingScreen?E=this.loadingScreenImages:E=this.generateCubeMapTextures(A,b);var x=0;E.forEach(function(_,C){v.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+C,0,0,0,v.RGBA,v.UNSIGNED_BYTE,_),x=v.getError()}),x!==0&&console.log("renderingError, WebGL Error Code: "+x),v.bindTexture(v.TEXTURE_CUBE_MAP,null)},tick:function(){this.el.sceneEl.xrSession&&(!this.layer&&(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.initLayer(),this.updateTransform(),this.data.src.complete&&(this.pendingCubeMapUpdate||this.loadingScreen||this.visibilityChanged)&&this.loadCubeMapImages(),!(!this.needsRedraw&&!this.layer.needsRedraw&&!this.textureIsVideo)&&(this.data.type==="quad"&&this.draw(),this.needsRedraw=!1))},initLayer:function(){var p=this,A=this.data.type;if(this.el.sceneEl.xrSession.onvisibilitychange=function(b){p.visibilityChanged=b.session.visibilityState!=="hidden"},A==="quad"){this.initQuadLayer();return}if(A==="monocubemap"||A==="stereocubemap"){this.initCubeMapLayer();return}},initQuadLayer:function(){var p=this.el.sceneEl,A=p.renderer.getContext(),b=this.xrGLFactory=new XRWebGLBinding(p.xrSession,A);this.texture&&(this.layer=b.createQuadLayer({space:this.referenceSpace,viewPixelHeight:2048,viewPixelWidth:2048,height:this.data.height/2||this.texture.image.height/1e3,width:this.data.width/2||this.texture.image.width/1e3}),this.initLoadingScreenImages(),p.renderer.xr.addLayer(this.layer))},initCubeMapLayer:function(){var p=this.data.src,A=this.el.sceneEl,b=A.renderer.getContext(),v=b.getParameter(b.MAX_CUBE_MAP_TEXTURE_SIZE),E=this.cubeFaceSize=Math.min(v,Math.min(p.width,p.height)),x=this.xrGLFactory=new XRWebGLBinding(A.xrSession,b);this.layer=x.createCubeLayer({space:this.referenceSpace,viewPixelWidth:E,viewPixelHeight:E,layout:this.data.type==="monocubemap"?"mono":"stereo",isStatic:!1}),this.initLoadingScreenImages(),this.loadCubeMapImages(),A.renderer.xr.addLayer(this.layer)},initLoadingScreenImages:function(){for(var p=this.cubeFaceSize,A=this.loadingScreenImages=[],b=0;b<6;b++){var v=document.createElement("CANVAS");v.width=v.height=p;var E=v.getContext("2d");v.width=v.height=p,E.fillStyle="black",E.fillRect(0,0,p,p),b!==2&&b!==3&&(E.translate(p,0),E.scale(-1,1),E.fillStyle="white",E.font="30px Arial",E.fillText("Loading",p/2,p/2)),A.push(v)}},destroyLayer:function(){this.layer&&(this.el.sceneEl.renderer.xr.removeLayer(this.layer),this.layer.destroy(),this.layer=void 0)},toggleCompositorLayer:function(){this.enableCompositorLayer(!this.layerEnabled)},enableCompositorLayer:function(p){this.layerEnabled=p,this.quadPanelEl.object3D.visible=!this.layerEnabled},updateQuadPanel:function(){var p=this.quadPanelEl;this.quadPanelEl||(p=this.quadPanelEl=document.createElement("a-entity"),this.el.appendChild(p)),p.setAttribute("material",{shader:"flat",src:this.data.src,transparent:!0}),p.setAttribute("geometry",{primitive:"plane",height:this.data.height||this.texture.image.height/1e3,width:this.data.width||this.texture.image.height/1e3})},draw:function(){var p=this.el.sceneEl,A=this.el.sceneEl.renderer.getContext(),b=this.xrGLFactory.getSubImage(this.layer,p.frame),v=p.renderer.properties.get(this.texture).__webglTexture,E=A.getParameter(A.FRAMEBUFFER_BINDING);A.viewport(b.viewport.x,b.viewport.y,b.viewport.width,b.viewport.height),A.bindFramebuffer(A.FRAMEBUFFER,this.frameBuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,b.colorTexture,0),M(A,v,b,this.data.src),A.bindFramebuffer(A.FRAMEBUFFER,E)},updateTransform:function(){var p=this.el,A=this.position,b=this.quaternion;p.object3D.updateMatrixWorld(),A.setFromMatrixPosition(p.object3D.matrixWorld),b.setFromRotationMatrix(p.object3D.matrixWorld),this.layerEnabled||A.set(0,0,1e8),this.layer.transform=new XRRigidTransform(A,b)},onEnterVR:function(){var p=this.el.sceneEl,A=p.xrSession;if(!p.hasWebXR||!XRWebGLBinding||!A){m("The layer component requires WebXR and the layers API enabled");return}A.requestReferenceSpace("local-floor").then(this.onRequestedReferenceSpace),this.layerEnabled=!0,this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!1),this.data.src.play&&this.data.src.play()},onExitVR:function(){this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!0),this.destroyLayer()},onRequestedReferenceSpace:function(p){this.referenceSpace=p}});function M(p,A,b,v){var E=p.createFramebuffer(),x=b.viewport.x,_=b.viewport.y,C=b.viewport.x+b.viewport.width,O=b.viewport.y+b.viewport.height;v.tagName==="VIDEO"&&(p.bindTexture(p.TEXTURE_2D,A),p.texSubImage2D(p.TEXTURE_2D,0,0,0,v.width,v.height,p.RGB,p.UNSIGNED_BYTE,v)),p.bindFramebuffer(p.READ_FRAMEBUFFER,E),p.framebufferTexture2D(p.READ_FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,A,0),p.readBuffer(p.COLOR_ATTACHMENT0),p.blitFramebuffer(0,0,v.width,v.height,x,_,C,O,p.COLOR_BUFFER_BIT,p.NEAREST),p.bindFramebuffer(p.READ_FRAMEBUFFER,null),p.deleteFramebuffer(E)}},"./src/components/light.js":(c,d,u)=>{var h=u("./src/utils/index.js"),g=h.diff,m=u("./src/utils/debug.js"),M=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),A=u("./src/utils/math.js"),b=p.MathUtils.degToRad,v=m("components:light:warn"),E=new p.CubeTextureLoader,x={};c.exports.Component=M("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color",if:{type:["ambient","directional","hemisphere","point","spot"]}},envMap:{default:"",if:{type:["probe"]}},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot","probe"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot","probe"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowCameraAutomatic:{default:"",if:{type:["directional"]}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var _=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(_)},update:function(_){var C=this.data,O=g(C,_),I=this.light,T=this;if(I&&!("type"in O)){var D=!1;Object.keys(O).forEach(function(P){var L=C[P];switch(P){case"color":{I.color.set(L);break}case"groundColor":{I.groundColor.set(L);break}case"angle":{I.angle=b(L);break}case"target":{L===null?(C.type==="spot"||C.type==="directional")&&(I.target=T.defaultTarget):L.hasLoaded?T.onSetTarget(L,I):L.addEventListener("loaded",T.onSetTarget.bind(T,L,I));break}case"envMap":T.updateProbeMap(C,I);break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":D||(T.updateShadow(),D=!0);break;case"shadowCameraAutomatic":C.shadowCameraAutomatic?T.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(C.shadowCameraAutomatic)):T.shadowCameraAutomaticEls=[];break;default:I[P]=L}});return}this.setLight(this.data),this.updateShadow()},tick:function(){var _=new p.Box3,C=new p.Vector3,O=new p.Vector3,I=new p.Matrix4,T=new p.Sphere,D=new p.Vector3;return function(){if(this.data.type==="directional"&&this.light.shadow&&this.light.shadow.camera instanceof p.OrthographicCamera&&this.shadowCameraAutomaticEls.length){var P=this.light.shadow.camera;P.getWorldDirection(C),P.getWorldPosition(O),I.copy(P.matrixWorld),I.invert(),P.near=1,P.left=1e5,P.right=-1e5,P.top=-1e5,P.bottom=1e5,this.shadowCameraAutomaticEls.forEach(function(L){_.setFromObject(L.object3D),_.getBoundingSphere(T);var N=A.distanceOfPointFromPlane(O,C,T.center),U=A.nearestPointInPlane(O,C,T.center,D),$=U.applyMatrix4(I);P.near=Math.min(-N-T.radius-1,P.near),P.left=Math.min(-T.radius+$.x,P.left),P.right=Math.max(T.radius+$.x,P.right),P.top=Math.max(T.radius+$.y,P.top),P.bottom=Math.min(-T.radius+$.y,P.bottom)}),P.updateProjectionMatrix()}}}(),setLight:function(_){var C=this.el,O=this.getLight(_);O&&(this.light&&C.removeObject3D("light"),this.light=O,this.light.el=C,C.setObject3D("light",this.light),(_.type==="spot"||_.type==="directional"||_.type==="hemisphere")&&C.getObject3D("light").translateY(-1),_.type==="spot"&&(C.setObject3D("light-target",this.defaultTarget),C.getObject3D("light-target").position.set(0,0,-1)),_.shadowCameraAutomatic?this.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(_.shadowCameraAutomatic)):this.shadowCameraAutomaticEls=[])},updateShadow:function(){var _=this.el,C=this.data,O=this.light;O.castShadow=C.castShadow;var I=_.getObject3D("cameraHelper");if(C.shadowCameraVisible&&!I?_.setObject3D("cameraHelper",new p.CameraHelper(O.shadow.camera)):!C.shadowCameraVisible&&I&&_.removeObject3D("cameraHelper"),!C.castShadow)return O;O.shadow.bias=C.shadowBias,O.shadow.radius=C.shadowRadius,O.shadow.mapSize.height=C.shadowMapHeight,O.shadow.mapSize.width=C.shadowMapWidth,O.shadow.camera.near=C.shadowCameraNear,O.shadow.camera.far=C.shadowCameraFar,O.shadow.camera instanceof p.OrthographicCamera?(O.shadow.camera.top=C.shadowCameraTop,O.shadow.camera.right=C.shadowCameraRight,O.shadow.camera.bottom=C.shadowCameraBottom,O.shadow.camera.left=C.shadowCameraLeft):O.shadow.camera.fov=C.shadowCameraFov,O.shadow.camera.updateProjectionMatrix(),I&&I.update()},getLight:function(_){var C=_.angle,O=new p.Color(_.color);O=O.getHex();var I=_.decay,T=_.distance,D=new p.Color(_.groundColor);D=D.getHex();var P=_.intensity,L=_.type,N=_.target,U=null;switch(L.toLowerCase()){case"ambient":return new p.AmbientLight(O,P);case"directional":return U=new p.DirectionalLight(O,P),this.defaultTarget=U.target,N&&(N.hasLoaded?this.onSetTarget(N,U):N.addEventListener("loaded",this.onSetTarget.bind(this,N,U))),U;case"hemisphere":return new p.HemisphereLight(O,D,P);case"point":return new p.PointLight(O,P,T,I);case"spot":return U=new p.SpotLight(O,P,T,b(C),_.penumbra,I),this.defaultTarget=U.target,N&&(N.hasLoaded?this.onSetTarget(N,U):N.addEventListener("loaded",this.onSetTarget.bind(this,N,U))),U;case"probe":return U=new p.LightProbe,this.updateProbeMap(_,U),U;default:v("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",L)}},updateProbeMap:function(_,C){_.envMap||C.copy(new p.LightProbe),x[_.envMap]instanceof window.Promise&&x[_.envMap].then(function(O){C.copy(O)}),x[_.envMap]instanceof p.LightProbe&&C.copy(x[_.envMap]),x[_.envMap]=new window.Promise(function(O){h.srcLoader.validateCubemapSrc(_.envMap,function(T){E.load(T,function(D){var P=p.LightProbeGenerator.fromCubeTexture(D);x[_.envMap]=P,C.copy(P)})})})},onSetTarget:function(_,C){C.target=_.object3D},remove:function(){var _=this.el;_.removeObject3D("light"),_.getObject3D("cameraHelper")&&_.removeObject3D("cameraHelper")}})},"./src/components/line.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var m=this.data,M,p;p=this.material=new THREE.LineBasicMaterial({color:m.color,opacity:m.opacity,transparent:m.opacity<1,visible:m.visible}),M=this.geometry=new THREE.BufferGeometry,M.setAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.line=new THREE.Line(M,p),this.el.setObject3D(this.attrName,this.line)},update:function(m){var M=this.data,p=this.geometry,A=!1,b=this.material,v=p.attributes.position.array;g(M.start,m.start)||(v[0]=M.start.x,v[1]=M.start.y,v[2]=M.start.z,A=!0),g(M.end,m.end)||(v[3]=M.end.x,v[4]=M.end.y,v[5]=M.end.z,A=!0),A&&(p.attributes.position.needsUpdate=!0,p.computeBoundingSphere()),b.color.setStyle(M.color),b.opacity=M.opacity,b.transparent=M.opacity<1,b.visible=M.visible},remove:function(){this.el.removeObject3D(this.attrName,this.line)}});function g(m,M){return!m||!M?!1:m.x===M.x&&m.y===M.y&&m.z===M.z}},"./src/components/link.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/core/shader.js").registerShader,m=u("./src/lib/three.js");c.exports.Component=h("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new m.Quaternion,this.hiddenEls=[]},update:function(M){var p=this.data,A=this.el,b,v;p.visualAspectEnabled&&(this.initVisualAspect(),b=p.highlighted?p.highlightedColor:p.backgroundColor,v=p.highlighted?p.highlightedColor:p.borderColor,A.setAttribute("material","backgroundColor",b),A.setAttribute("material","strokeColor",v),p.on!==M.on&&this.updateEventListener(),M.peekMode!==void 0&&p.peekMode!==M.peekMode&&this.updatePeekMode(),!(!p.image||M.image===p.image)&&A.setAttribute("material","pano",typeof p.image=="string"?p.image:p.image.src))},updatePeekMode:function(){var M=this.el,p=this.sphereEl;this.data.peekMode?(this.hideAll(),M.getObject3D("mesh").visible=!1,p.setAttribute("visible",!0)):(this.showAll(),M.getObject3D("mesh").visible=!0,p.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var M=this.el;M.isPlaying&&(this.removeEventListener(),M.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var M=this.data.on;M&&this.el.removeEventListener(M,this.navigate)},initVisualAspect:function(){var M=this.el,p,A,b;!this.data.visualAspectEnabled||this.visualAspectInitialized||(b=this.textEl=this.textEl||document.createElement("a-entity"),A=this.sphereEl=this.sphereEl||document.createElement("a-entity"),p=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),M.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),M.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),b.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),b.setAttribute("position","0 1.5 0"),M.appendChild(b),p.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),p.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),p.setAttribute("rotation","0 180 0"),p.setAttribute("position","0 0 0"),p.setAttribute("visible",!1),M.appendChild(p),A.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),A.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),A.setAttribute("visible",!1),M.appendChild(A),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:function(){var M=new m.Vector3,p=new m.Vector3,A=new m.Quaternion,b=new m.Vector3;return function(){var v=this.el,E=v.object3D,x=v.sceneEl.camera,_,C,O=this.textEl;if(this.data.visualAspectEnabled)if(E.updateMatrixWorld(),x.parent.updateMatrixWorld(),x.updateMatrixWorld(),E.matrix.decompose(p,A,b),p.setFromMatrixPosition(E.matrixWorld),M.setFromMatrixPosition(x.matrixWorld),C=p.distanceTo(M),C>20)this.previousQuaternion||(this.quaternionClone.copy(A),this.previousQuaternion=this.quaternionClone),E.lookAt(M);else{if(_=this.calculateCameraPortalOrientation(),C<.5){if(this.semiSphereEl.getAttribute("visible")===!0)return;O.setAttribute("text","width",1.5),_<=0?(O.setAttribute("position","0 0 0.75"),O.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(O.setAttribute("position","0 0 -0.75"),O.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),v.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=_}else _<=0?O.setAttribute("rotation","0 180 0"):O.setAttribute("rotation","0 0 0"),O.setAttribute("text","width",5),O.setAttribute("position","0 1.5 0"),v.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(E.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var M=this.el,p=this.hiddenEls,A=this;p.length>0||M.sceneEl.object3D.traverse(function(b){b&&b.el&&b.el.hasAttribute("link-controls")||!b.el||b===M.sceneEl.object3D||b.el===M||b.el===A.sphereEl||b.el===M.sceneEl.cameraEl||b.el.getAttribute("visible")===!1||b.el===A.textEl||b.el===A.semiSphereEl||(b.el.setAttribute("visible",!1),p.push(b.el))})},showAll:function(){this.hiddenEls.forEach(function(M){M.setAttribute("visible",!0)}),this.hiddenEls=[]},calculateCameraPortalOrientation:function(){var M=new m.Matrix4,p=new m.Vector3,A=new m.Vector3(0,0,1),b=new m.Vector3(0,0,0);return function(){var v=this.el,E=v.sceneEl.camera;return p.set(0,0,0),A.set(0,0,1),b.set(0,0,0),v.object3D.matrixWorld.extractRotation(M),A.applyMatrix4(M),v.object3D.updateMatrixWorld(),v.object3D.localToWorld(b),E.parent.parent.updateMatrixWorld(),E.parent.updateMatrixWorld(),E.updateMatrixWorld(),E.localToWorld(p),p.sub(b).normalize(),A.normalize(),Math.sign(A.dot(p))}}(),remove:function(){this.removeEventListener()}}),g("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join(`
`),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join(`
`)})},"./src/components/look-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),m=u("./src/utils/index.js"),M=Math.PI/2;c.exports.Component=h("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},magicWindowTrackingEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0},mouseEnabled:{default:!0}},init:function(){this.deltaYaw=0,this.previousHMDPosition=new g.Vector3,this.hmdQuaternion=new g.Quaternion,this.magicWindowAbsoluteEuler=new g.Euler,this.magicWindowDeltaEuler=new g.Euler,this.position=new g.Vector3,this.magicWindowObject=new g.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.previousMouseEvent={},this.setupMagicWindowControls(),this.savedPose={position:new g.Vector3,rotation:new g.Euler},(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.onEnterVR()},setupMagicWindowControls:function(){var p,A=this.data;(m.device.isMobile()||m.device.isMobileDeviceRequestingDesktopSite())&&(p=this.magicWindowControls=new g.DeviceOrientationControls(this.magicWindowObject),typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission&&(p.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?p.enabled=A.magicWindowTrackingEnabled:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",function(){p.enabled=A.magicWindowTrackingEnabled})))},update:function(p){var A=this.data;A.enabled!==p.enabled&&this.updateGrabCursor(A.enabled),p&&!A.magicWindowTrackingEnabled&&p.magicWindowTrackingEnabled&&(this.magicWindowAbsoluteEuler.set(0,0,0),this.magicWindowDeltaEuler.set(0,0,0)),this.magicWindowControls&&(this.magicWindowControls.enabled=A.magicWindowTrackingEnabled),p&&!A.pointerLockEnabled!==p.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(p){var A=this.data;A.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this),this.onPointerLockChange=this.onPointerLockChange.bind(this),this.onPointerLockError=this.onPointerLockError.bind(this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new g.Object3D,this.yawObject=new g.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var p=this.el.sceneEl,A=p.canvas;if(!A){p.addEventListener("render-target-loaded",this.addEventListeners.bind(this));return}A.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),A.addEventListener("touchstart",this.onTouchStart,{passive:!0}),window.addEventListener("touchmove",this.onTouchMove,{passive:!0}),window.addEventListener("touchend",this.onTouchEnd,{passive:!0}),p.addEventListener("enter-vr",this.onEnterVR),p.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))},removeEventListeners:function(){var p=this.el.sceneEl,A=p&&p.canvas;A&&(A.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),A.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),p.removeEventListener("enter-vr",this.onEnterVR),p.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var p=this.el.object3D,A=this.pitchObject,b=this.yawObject,v=this.el.sceneEl;(v.is("vr-mode")||v.is("ar-mode"))&&v.checkHeadsetConnected()||(this.updateMagicWindowOrientation(),p.rotation.x=this.magicWindowDeltaEuler.x+A.rotation.x,p.rotation.y=this.magicWindowDeltaEuler.y+b.rotation.y,p.rotation.z=this.magicWindowDeltaEuler.z)},updateMagicWindowOrientation:function(){var p=this.magicWindowAbsoluteEuler,A=this.magicWindowDeltaEuler;this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),p.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ"),!this.previousMagicWindowYaw&&p.y!==0&&(this.previousMagicWindowYaw=p.y),this.previousMagicWindowYaw&&(A.x=p.x,A.y+=p.y-this.previousMagicWindowYaw,A.z=p.z,this.previousMagicWindowYaw=p.y))},onMouseMove:function(p){var A,b,v,E=this.pitchObject,x=this.previousMouseEvent,_=this.yawObject;!this.data.enabled||!this.mouseDown&&!this.pointerLocked||(this.pointerLocked?(b=p.movementX||p.mozMovementX||0,v=p.movementY||p.mozMovementY||0):(b=p.screenX-x.screenX,v=p.screenY-x.screenY),this.previousMouseEvent.screenX=p.screenX,this.previousMouseEvent.screenY=p.screenY,A=this.data.reverseMouseDrag?1:-1,_.rotation.y+=b*.002*A,E.rotation.x+=v*.002*A,E.rotation.x=Math.max(-M,Math.min(M,E.rotation.x)))},onMouseDown:function(p){var A=this.el.sceneEl;if(!(!this.data.enabled||!this.data.mouseEnabled||(A.is("vr-mode")||A.is("ar-mode"))&&A.checkHeadsetConnected())&&p.button===0){var b=A&&A.canvas;this.mouseDown=!0,this.previousMouseEvent.screenX=p.screenX,this.previousMouseEvent.screenY=p.screenY,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(b.requestPointerLock?b.requestPointerLock():b.mozRequestPointerLock&&b.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(p){p.touches.length!==1||!this.data.touchEnabled||this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode")||(this.touchStart={x:p.touches[0].pageX,y:p.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(p){var A,b=this.el.sceneEl.canvas,v,E=this.yawObject;!this.touchStarted||!this.data.touchEnabled||(v=2*Math.PI*(p.touches[0].pageX-this.touchStart.x)/b.clientWidth,A=this.data.reverseTouchDrag?1:-1,E.rotation.y-=v*.5*A,this.touchStart={x:p.touches[0].pageX,y:p.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){var p=this.el.sceneEl;p.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),p.hasWebXR&&(this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix()))},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0),this.el.object3D.matrixAutoUpdate=!0)},onPointerLockChange:function(){this.pointerLocked=!!(document.pointerLockElement||document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(p){var A=this.el.sceneEl;function b(){A.canvas.classList.add("a-grab-cursor")}function v(){A.canvas.classList.remove("a-grab-cursor")}if(!A.canvas){p?A.addEventListener("render-target-loaded",b):A.addEventListener("render-target-loaded",v);return}if(p){b();return}v()},saveCameraPose:function(){var p=this.el;this.savedPose.position.copy(p.object3D.position),this.savedPose.rotation.copy(p.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var p=this.el,A=this.savedPose;this.hasSavedPose&&(p.object3D.position.copy(A.position),p.object3D.rotation.copy(A.rotation),this.hasSavedPose=!1)}})},"./src/components/magicleap-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/tracked-controls.js"),m=g.checkControllerPresentAndSetup,M=g.emitIfAxesChanged,p=g.onButtonEvent,A="magicleap",b="-one",v=A+b,E=u("./src/constants/index.js").AFRAME_CDN_ROOT,x=E+"controllers/magicleap/magicleap-one-controller.glb",_={axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","menu"]};c.exports.Component=h("magicleap-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:_,init:function(){var C=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(O){p(O.detail.id,"down",C)},this.onButtonUp=function(O){p(O.detail.id,"up",C)},this.onButtonTouchEnd=function(O){p(O.detail.id,"touchend",C)},this.onButtonTouchStart=function(O){p(O.detail.id,"touchstart",C)},this.previousButtonValues={},this.bindMethods()},update:function(){var C=this.data;this.controllerIndex=C.hand==="right"?0:C.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var C=this.el;C.addEventListener("buttonchanged",this.onButtonChanged),C.addEventListener("buttondown",this.onButtonDown),C.addEventListener("buttonup",this.onButtonUp),C.addEventListener("touchstart",this.onButtonTouchStart),C.addEventListener("touchend",this.onButtonTouchEnd),C.addEventListener("axismove",this.onAxisMoved),C.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var C=this.el;C.removeEventListener("buttonchanged",this.onButtonChanged),C.removeEventListener("buttondown",this.onButtonDown),C.removeEventListener("buttonup",this.onButtonUp),C.removeEventListener("touchstart",this.onButtonTouchStart),C.removeEventListener("touchend",this.onButtonTouchEnd),C.removeEventListener("axismove",this.onAxisMoved),C.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var C=this.data;m(this,v,{index:this.controllerIndex,hand:C.hand})},injectTrackedControls:function(){var C=this.el,O=this.data;C.setAttribute("tracked-controls",{idPrefix:v,hand:O.hand,controller:this.controllerIndex,orientationOffset:O.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",x)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(C){var O=this.mapping.buttons[C.detail.id],I;O&&(O==="trigger"&&(I=C.detail.state.value,console.log("analog value of trigger press: "+I)),this.el.emit(O+"changed",C.detail.state))},onModelLoaded:function(C){var O=C.detail.model;O.scale.set(.01,.01,.01)},onAxisMoved:function(C){M(this,this.mapping.axes,C)},updateModel:function(C,O){},setButtonColor:function(C,O){}})},"./src/components/material.js":(c,d,u)=>{var h=u("./src/utils/index.js"),g=u("./src/core/component.js"),m=u("./src/lib/three.js"),M=u("./src/core/shader.js"),p=h.debug("components:material:error"),A=g.registerComponent,b=M.shaders,v=M.shaderNames;c.exports.Component=A("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:v,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColorsEnabled:{default:!1},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]},dithering:{default:!0},anisotropy:{default:0,min:0}},init:function(){this.material=null},update:function(C){var O=this.data;(!this.shader||O.shader!==C.shader)&&this.updateShader(O.shader),this.shader.update(this.data),this.updateMaterial(C)},updateSchema:function(C){var O,I,T,D;I=C&&C.shader,O=this.oldData&&this.oldData.shader,D=I||O,T=b[D]&&b[D].schema,T||p("Unknown shader schema "+D),!(O&&I===O)&&(this.extendSchema(T),this.updateBehavior())},updateBehavior:function(){var C,O=this.el.sceneEl,I=this.schema,T=this,D;function P(L,N){var U;for(U in D)D[U]=L;T.shader.update(D)}this.tick=void 0,D={};for(C in I)I[C].type==="time"&&(this.tick=P,D[C]=!0);O&&(this.tick?O.addBehavior(this):O.removeBehavior(this))},updateShader:function(C){var O=this.data,I=b[C]&&b[C].Shader,T;if(!I)throw new Error("Unknown shader "+C);T=this.shader=new I,T.el=this.el,T.init(O),this.setMaterial(T.material),this.updateSchema(O)},updateMaterial:function(C){var O=this.data,I=this.material,T;I.alphaTest=O.alphaTest,I.depthTest=O.depthTest!==!1,I.depthWrite=O.depthWrite!==!1,I.opacity=O.opacity,I.flatShading=O.flatShading,I.side=E(O.side),I.transparent=O.transparent!==!1||O.opacity<1,I.vertexColors=O.vertexColorsEnabled,I.visible=O.visible,I.blending=x(O.blending),I.dithering=O.dithering;for(T in C)break;T&&(C.alphaTest!==O.alphaTest||C.side!==O.side||C.vertexColorsEnabled!==O.vertexColorsEnabled)&&(I.needsUpdate=!0)},remove:function(){var C=new m.MeshBasicMaterial,O=this.material,I=this.el.getObject3D("mesh");I&&(I.material=C),_(O,this.system)},setMaterial:function(C){var O=this.el,I,T=this.system;this.material&&_(this.material,T),this.material=C,T.registerMaterial(C),I=O.getObject3D("mesh"),I?I.material=C:O.addEventListener("object3dset",function D(P){P.detail.type!=="mesh"||P.target!==O||(O.getObject3D("mesh").material=C,O.removeEventListener("object3dset",D))})}});function E(C){switch(C){case"back":return m.BackSide;case"double":return m.DoubleSide;default:return m.FrontSide}}function x(C){switch(C){case"none":return m.NoBlending;case"additive":return m.AdditiveBlending;case"subtractive":return m.SubtractiveBlending;case"multiply":return m.MultiplyBlending;default:return m.NormalBlending}}function _(C,O){C.dispose(),O.unregisterMaterial(C),Object.keys(C).filter(function(I){return C[I]&&C[I].isTexture}).forEach(function(I){C[I].dispose()})}},"./src/components/obb-collider.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js");h("obb-collider",{schema:{size:{default:0},trackedObject3D:{default:""},minimumColliderDimension:{default:.02},centerModel:{default:!1}},init:function(){this.previousScale=new g.Vector3().copy(this.el.object3D.scale),this.auxEuler=new g.Euler,this.boundingBox=new g.Box3,this.boundingBoxSize=new g.Vector3,this.updateCollider=this.updateCollider.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.updateBoundingBox=this.updateBoundingBox.bind(this),this.el.addEventListener("model-loaded",this.onModelLoaded),this.updateCollider(),this.system.addCollider(this.el)},remove:function(){this.system.removeCollider(this.el)},update:function(){this.data.trackedObject3D&&(this.trackedObject3DPath=this.data.trackedObject3D.split("."))},onModelLoaded:function(){this.data.centerModel&&this.centerModel(),this.updateCollider()},centerModel:function(){var m=this.el,M=m.components["gltf-model"]&&m.components["gltf-model"].model,p,A;M&&(this.el.removeObject3D("mesh"),p=new g.Box3().setFromObject(M),A=p.getCenter(new g.Vector3),M.position.x+=M.position.x-A.x,M.position.y+=M.position.y-A.y,M.position.z+=M.position.z-A.z,this.el.setObject3D("mesh",M))},updateCollider:function(){var m=this.el,M=this.boundingBoxSize,p=this.aabb=this.aabb||new g.OBB;if(this.obb=this.obb||new g.OBB,!m.hasLoaded){m.addEventListener("loaded",this.updateCollider);return}this.updateBoundingBox(),p.halfSize.copy(M).multiplyScalar(.5),this.el.sceneEl.systems["obb-collider"].data.showColliders&&this.showCollider()},showCollider:function(){this.updateColliderMesh(),this.renderColliderMesh.visible=!0},updateColliderMesh:function(){var m=this.renderColliderMesh,M=this.boundingBoxSize;if(!m){this.initColliderMesh();return}m.geometry.dispose(),m.geometry=new g.BoxGeometry(M.x,M.y,M.z)},hideCollider:function(){this.renderColliderMesh&&(this.renderColliderMesh.visible=!1)},initColliderMesh:function(){var m,M,p;m=this.boundingBoxSize,M=this.renderColliderGeometry=new g.BoxGeometry(m.x,m.y,m.z),p=this.renderColliderMesh=new g.Mesh(M,new g.MeshLambertMaterial({color:65280,side:g.DoubleSide})),p.matrixAutoUpdate=!1,p.matrixWorldAutoUpdate=!1,p.updateMatrixWorld=function(){},this.el.sceneEl.object3D.add(p)},updateBoundingBox:function(){var m=new g.Vector3,M=new g.Vector3,p=new g.Quaternion,A=new g.Quaternion,b=new g.Matrix4;return function(){var v=this.auxEuler,E=this.boundingBox,x=this.data.size,_=this.trackedObject3D||this.el.object3D,C=this.boundingBoxSize,O=this.data.minimumColliderDimension;if(x){this.boundingBoxSize.x=x,this.boundingBoxSize.y=x,this.boundingBoxSize.z=x;return}v.copy(_.rotation),_.rotation.set(0,0,0),_.parent.matrixWorld.decompose(m,p,M),b.compose(m,A,M),_.parent.matrixWorld.copy(b),E.setFromObject(_,!0),E.getSize(C),C.x=C.x<O?O:C.x,C.y=C.y<O?O:C.y,C.z=C.z<O?O:C.z,_.parent.matrixWorld.compose(m,p,M),this.el.object3D.rotation.copy(v)}}(),checkTrackedObject:function(){var m=this.trackedObject3DPath,M;if(m&&m.length&&!this.trackedObject3D){M=this.el;for(var p=0;p<m.length&&(M=M[m[p]],!!M);p++);M&&(this.trackedObject3D=M,this.updateCollider())}return this.trackedObject3D},tick:function(){var m=new g.Vector3,M=new g.Vector3,p=new g.Quaternion,A=new g.Matrix4;return function(){var b=this.obb,v=this.renderColliderMesh,E=this.checkTrackedObject()||this.el.object3D;E&&(E.updateMatrix(),E.updateMatrixWorld(!0),E.matrixWorld.decompose(m,p,M),(Math.abs(M.x-this.previousScale.x)>1e-4||Math.abs(M.y-this.previousScale.y)>1e-4||Math.abs(M.z-this.previousScale.z)>1e-4)&&this.updateCollider(),this.previousScale.copy(M),M.set(1,1,1),A.compose(m,p,M),v&&v.matrixWorld.copy(A),b.copy(this.aabb),b.applyMatrix4(A))}}()})},"./src/components/obj-model.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),g=u("./src/core/component.js").registerComponent,m=u("./src/lib/three.js"),M=h("components:obj-model:warn");c.exports.Component=g("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var p=this;this.model=null,this.objLoader=new m.OBJLoader,this.mtlLoader=new m.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",function(A){p.model&&A.detail.name==="material"&&p.applyMaterial()})},update:function(){var p=this.data;p.obj&&(this.resetMesh(),this.loadObj(p.obj,p.mtl))},remove:function(){this.resetMesh()},resetMesh:function(){this.model&&this.el.removeObject3D("mesh")},loadObj:function(p,A){var b=this,v=this.el,E=this.mtlLoader,x=this.objLoader,_=this.el.sceneEl.systems.renderer,C=A.substr(0,A.lastIndexOf("/")+1);if(A){v.hasAttribute("material")&&M("Material component properties are ignored when a .MTL is provided"),E.setResourcePath(C),E.load(A,function(O){O.preload(),x.setMaterials(O),x.load(p,function(I){b.model=I,b.model.traverse(function(T){if(T.isMesh){var D=T.material;D.map&&_.applyColorCorrection(D.map),D.emissiveMap&&_.applyColorCorrection(D.emissiveMap)}}),v.setObject3D("mesh",I),v.emit("model-loaded",{format:"obj",model:I})})});return}x.load(p,function(I){b.model=I,b.applyMaterial(),v.setObject3D("mesh",I),v.emit("model-loaded",{format:"obj",model:I})})},applyMaterial:function(){var p=this.el.components.material;p&&this.model.traverse(function(A){A instanceof m.Mesh&&(A.material=p.material)})}})},"./src/components/oculus-go-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/tracked-controls.js"),m=g.checkControllerPresentAndSetup,M=g.emitIfAxesChanged,p=g.onButtonEvent,A=u("./src/utils/index.js").device.isWebXRAvailable,b="oculus-go",v="Oculus Go",E=u("./src/constants/index.js").AFRAME_CDN_ROOT,x=E+"controllers/oculus/go/oculus-go-controller.gltf",_=A?b:v,C={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},O={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]},I=A?O:C;c.exports.Component=h("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:I,bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var T=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(D){p(D.detail.id,"down",T)},this.onButtonUp=function(D){p(D.detail.id,"up",T)},this.onButtonTouchStart=function(D){p(D.detail.id,"touchstart",T)},this.onButtonTouchEnd=function(D){p(D.detail.id,"touchend",T)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var T=this.el;T.addEventListener("buttonchanged",this.onButtonChanged),T.addEventListener("buttondown",this.onButtonDown),T.addEventListener("buttonup",this.onButtonUp),T.addEventListener("touchstart",this.onButtonTouchStart),T.addEventListener("touchend",this.onButtonTouchEnd),T.addEventListener("model-loaded",this.onModelLoaded),T.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var T=this.el;T.removeEventListener("buttonchanged",this.onButtonChanged),T.removeEventListener("buttondown",this.onButtonDown),T.removeEventListener("buttonup",this.onButtonUp),T.removeEventListener("touchstart",this.onButtonTouchStart),T.removeEventListener("touchend",this.onButtonTouchEnd),T.removeEventListener("model-loaded",this.onModelLoaded),T.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,_,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var T=this.el,D=this.data;T.setAttribute("tracked-controls",{armModel:D.armModel,hand:D.hand,idPrefix:_,orientationOffset:D.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",x)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(T){var D=T.detail.model,P;T.target!==this.el||!this.data.model||(P=this.buttonMeshes={},P.trigger=D.getObjectByName("oculus_go_button_trigger"),P.trackpad=D.getObjectByName("oculus_go_touchpad"),P.touchpad=D.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(T){var D=this.mapping.buttons[T.detail.id];D&&this.el.emit(D+"changed",T.detail.state)},onAxisMoved:function(T){M(this,this.mapping.axes,T)},updateModel:function(T,D){this.data.model&&this.updateButtonModel(T,D)},updateButtonModel:function(T,D){var P=this.buttonMeshes;if(!(!P||!P[T])){var L,N;switch(D){case"down":L=this.data.buttonHighlightColor;break;case"touchstart":L=this.data.buttonTouchedColor;break;default:L=this.data.buttonColor}N=P[T],N.material.color.set(L)}}})},"./src/components/oculus-touch-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),m=u("./src/utils/tracked-controls.js"),M=m.checkControllerPresentAndSetup,p=m.emitIfAxesChanged,A=m.onButtonEvent,b=u("./src/utils/index.js").device.isWebXRAvailable,v="oculus-touch",E="Oculus Touch",x=b?v:E,_=u("./src/constants/index.js").AFRAME_CDN_ROOT,C=_+"controllers/oculus/oculus-touch-controller-",O=_+"controllers/meta/",I={left:{modelUrl:C+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new g.Vector3(-.005,.003,-.055),modelPivotRotation:new g.Euler(0,0,0)},right:{modelUrl:C+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new g.Vector3(.005,.003,-.055),modelPivotRotation:new g.Euler(0,0,0)}},T={left:{modelUrl:C+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new g.Vector3(-.005,.036,-.037),modelPivotRotation:new g.Euler(Math.PI/4.5,0,0)},right:{modelUrl:C+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new g.Vector3(.005,.036,-.037),modelPivotRotation:new g.Euler(Math.PI/4.5,0,0)}},D=b?T:I,P="oculus-touch",L={"oculus-touch":D,"oculus-touch-v2":{left:{modelUrl:C+"gen2-left.gltf",rayOrigin:{origin:{x:-.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new g.Vector3(0,-.007,-.021),modelPivotRotation:new g.Euler(-Math.PI/4,0,0)},right:{modelUrl:C+"gen2-right.gltf",rayOrigin:{origin:{x:.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new g.Vector3(0,-.007,-.021),modelPivotRotation:new g.Euler(-Math.PI/4,0,0)}},"oculus-touch-v3":{left:{modelUrl:C+"v3-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new g.Vector3(0,0,0),modelPivotRotation:new g.Euler(0,0,0)},right:{modelUrl:C+"v3-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new g.Vector3(0,0,0),modelPivotRotation:new g.Euler(0,0,0)}},"meta-quest-touch-pro":{left:{modelUrl:O+"quest-touch-pro-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new g.Vector3(0,0,0),modelPivotRotation:new g.Euler(0,0,0)},right:{modelUrl:O+"quest-touch-pro-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new g.Vector3(0,0,0),modelPivotRotation:new g.Euler(0,0,0)}},"meta-quest-touch-plus":{left:{modelUrl:O+"quest-touch-plus-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new g.Vector3(0,0,0),modelPivotRotation:new g.Euler(0,0,0)},right:{modelUrl:O+"quest-touch-plus-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new g.Vector3(0,0,0),modelPivotRotation:new g.Euler(0,0,0)}}},N={left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}},U={left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}},$=b?U:N;c.exports.Component=h("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2","oculus-touch-v3"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},after:["tracked-controls"],mapping:$,bindMethods:function(){this.onButtonChanged=this.onButtonChanged.bind(this),this.onThumbstickMoved=this.onThumbstickMoved.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var j=this;this.onButtonDown=function(z){A(z.detail.id,"down",j,j.data.hand)},this.onButtonUp=function(z){A(z.detail.id,"up",j,j.data.hand)},this.onButtonTouchStart=function(z){A(z.detail.id,"touchstart",j,j.data.hand)},this.onButtonTouchEnd=function(z){A(z.detail.id,"touchend",j,j.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.triggerEuler=new g.Euler},addEventListeners:function(){var j=this.el;j.addEventListener("buttonchanged",this.onButtonChanged),j.addEventListener("buttondown",this.onButtonDown),j.addEventListener("buttonup",this.onButtonUp),j.addEventListener("touchstart",this.onButtonTouchStart),j.addEventListener("touchend",this.onButtonTouchEnd),j.addEventListener("axismove",this.onAxisMoved),j.addEventListener("model-loaded",this.onModelLoaded),j.addEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var j=this.el;j.removeEventListener("buttonchanged",this.onButtonChanged),j.removeEventListener("buttondown",this.onButtonDown),j.removeEventListener("buttonup",this.onButtonUp),j.removeEventListener("touchstart",this.onButtonTouchStart),j.removeEventListener("touchend",this.onButtonTouchEnd),j.removeEventListener("axismove",this.onAxisMoved),j.removeEventListener("model-loaded",this.onModelLoaded),j.removeEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){M(this,x,{hand:this.data.hand,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(j){var z=this.data,Q;if(z.model){if(this.controllerObject3D){this.el.setObject3D("mesh",this.controllerObject3D);return}if(this.displayModel=L[z.controllerType]||L[P],z.controllerType==="auto"){var V=this.el.sceneEl.systems["tracked-controls-webvr"];if(V&&V.vrDisplay){var q=V.vrDisplay.displayName;/^Oculus Quest$/.test(q)&&(this.displayModel=L["oculus-touch-v2"])}else{Q=P;for(var J=Object.keys(L),W=0;W<j.profiles.length;W++)if(J.indexOf(j.profiles[W])!==-1){Q=j.profiles[W];break}this.displayModel=L[Q]}}var et=this.displayModel[z.hand].modelUrl;this.isTouchV3orPROorPlus=this.displayModel===L["oculus-touch-v3"]||this.displayModel===L["meta-quest-touch-pro"]||this.displayModel===L["meta-quest-touch-plus"],this.el.setAttribute("gltf-model",et)}},injectTrackedControls:function(j){var z=this.data,Q=v,V=z.hand==="right"?"Oculus Touch (Right)":"Oculus Touch (Left)",q=b?Q:V;this.el.setAttribute("tracked-controls",{id:q,hand:z.hand,orientationOffset:z.orientationOffset,handTrackingEnabled:!1,iterateControllerProfiles:!0,space:"gripSpace"}),this.loadModel(j)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(j){var z=this.mapping[this.data.hand].buttons[j.detail.id];if(z){if(this.isTouchV3orPROorPlus)this.onButtonChangedV3orPROorPlus(j);else{var Q=this.buttonMeshes,V;(z==="trigger"||z==="grip")&&(V=j.detail.state.value),Q&&(z==="trigger"&&Q.trigger&&(Q.trigger.rotation.x=this.originalXRotationTrigger-V*(Math.PI/26)),z==="grip"&&Q.grip&&(V*=this.data.hand==="left"?-1:1,Q.grip.position.x=this.originalXPositionGrip+V*.004))}this.el.emit(z+"changed",j.detail.state)}},onButtonChangedV3orPROorPlus:function(j){var z=this.mapping[this.data.hand].buttons[j.detail.id],Q=this.buttonObjects,V;!Q||!Q[z]||(V=j.detail.state.value,Q[z].quaternion.slerpQuaternions(this.buttonRanges[z].min.quaternion,this.buttonRanges[z].max.quaternion,V),Q[z].position.lerpVectors(this.buttonRanges[z].min.position,this.buttonRanges[z].max.position,V))},onModelLoaded:function(j){if(!(j.target!==this.el||!this.data.model)){if(this.isTouchV3orPROorPlus)this.onTouchV3orPROorPlusModelLoaded(j);else{var z=this.controllerObject3D=j.detail.model,Q;Q=this.buttonMeshes={},Q.grip=z.getObjectByName("buttonHand"),this.originalXPositionGrip=Q.grip&&Q.grip.position.x,Q.trigger=z.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=Q.trigger&&Q.trigger.rotation.x,Q.thumbstick=z.getObjectByName("stick"),Q.xbutton=z.getObjectByName("buttonX"),Q.abutton=z.getObjectByName("buttonA"),Q.ybutton=z.getObjectByName("buttonY"),Q.bbutton=z.getObjectByName("buttonB")}for(var V in this.buttonMeshes)this.buttonMeshes[V]&&F(this.buttonMeshes[V]);this.applyOffset(j.detail.model),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin})}},applyOffset:function(j){j.position.copy(this.displayModel[this.data.hand].modelPivotOffset),j.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation)},onTouchV3orPROorPlusModelLoaded:function(j){var z=this.controllerObject3D=j.detail.model,Q=this.buttonObjects={},V=this.buttonMeshes={},q=this.buttonRanges={};V.grip=z.getObjectByName("squeeze"),Q.grip=z.getObjectByName("xr_standard_squeeze_pressed_value"),q.grip={min:z.getObjectByName("xr_standard_squeeze_pressed_min"),max:z.getObjectByName("xr_standard_squeeze_pressed_max")},Q.grip.minX=Q.grip.position.x,V.thumbstick=z.getObjectByName("thumbstick"),Q.thumbstick=z.getObjectByName("xr_standard_thumbstick_pressed_value"),q.thumbstick={min:z.getObjectByName("xr_standard_thumbstick_pressed_min"),max:z.getObjectByName("xr_standard_thumbstick_pressed_max")},Q.thumbstickXAxis=z.getObjectByName("xr_standard_thumbstick_xaxis_pressed_value"),q.thumbstickXAxis={min:z.getObjectByName("xr_standard_thumbstick_xaxis_pressed_min"),max:z.getObjectByName("xr_standard_thumbstick_xaxis_pressed_max")},Q.thumbstickYAxis=z.getObjectByName("xr_standard_thumbstick_yaxis_pressed_value"),q.thumbstickYAxis={min:z.getObjectByName("xr_standard_thumbstick_yaxis_pressed_min"),max:z.getObjectByName("xr_standard_thumbstick_yaxis_pressed_max")},V.trigger=z.getObjectByName("trigger"),Q.trigger=z.getObjectByName("xr_standard_trigger_pressed_value"),q.trigger={min:z.getObjectByName("xr_standard_trigger_pressed_min"),max:z.getObjectByName("xr_standard_trigger_pressed_max")},q.trigger.diff={x:Math.abs(q.trigger.max.rotation.x)-Math.abs(q.trigger.min.rotation.x),y:Math.abs(q.trigger.max.rotation.y)-Math.abs(q.trigger.min.rotation.y),z:Math.abs(q.trigger.max.rotation.z)-Math.abs(q.trigger.min.rotation.z)};var J=this.data.hand==="left"?"x":"a",W=this.data.hand==="left"?"y":"b",et=J+"button",mt=W+"button";V[et]=z.getObjectByName(J+"_button"),Q[et]=z.getObjectByName(J+"_button_pressed_value"),q[et]={min:z.getObjectByName(J+"_button_pressed_min"),max:z.getObjectByName(J+"_button_pressed_max")},V[mt]=z.getObjectByName(W+"_button"),Q[mt]=z.getObjectByName(W+"_button_pressed_value"),q[mt]={min:z.getObjectByName(W+"_button_pressed_min"),max:z.getObjectByName(W+"_button_pressed_max")}},onAxisMoved:function(j){p(this,this.mapping[this.data.hand].axes,j)},onThumbstickMoved:function(j){if(!(!this.buttonMeshes||!this.buttonMeshes.thumbstick)){if(this.isTouchV3orPROorPlus){this.updateThumbstickTouchV3orPROorPlus(j);return}for(var z in j.detail)this.buttonObjects.thumbstick.rotation[this.axisMap[z]]=this.buttonRanges.thumbstick.originalRotation[this.axisMap[z]]-Math.PI/8*j.detail[z]*(z==="y"||this.data.hand==="right"?-1:1)}},axisMap:{y:"x",x:"z"},updateThumbstickTouchV3orPROorPlus:function(j){var z=(j.detail.x+1)/2;this.buttonObjects.thumbstickXAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickXAxis.min.quaternion,this.buttonRanges.thumbstickXAxis.max.quaternion,z);var Q=(j.detail.y+1)/2;this.buttonObjects.thumbstickYAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickYAxis.min.quaternion,this.buttonRanges.thumbstickYAxis.max.quaternion,Q)},updateModel:function(j,z){this.data.model&&this.updateButtonModel(j,z)},updateButtonModel:function(j,z){var Q=this.buttonMeshes,V,q;Q&&Q[j]&&(q=z==="up"||z==="touchend"?Q[j].originalColor||this.data.buttonColor:z==="touchstart"?this.data.buttonTouchColor:this.data.buttonHighlightColor,V=Q[j],V.material.color.set(q))}});function F(j){j.traverse(function(z){var Q;z.type==="Mesh"&&(Q=z.material.clone(),j.originalColor=z.material.color,z.material.dispose(),z.material=Q)})}},"./src/components/pico-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),m=u("./src/utils/tracked-controls.js"),M=m.checkControllerPresentAndSetup,p=m.emitIfAxesChanged,A=m.onButtonEvent,b="pico-4",v=u("./src/constants/index.js").AFRAME_CDN_ROOT,E=v+"controllers/pico/pico4/",x={left:{axes:{touchpad:[2,3]},buttons:["trigger","squeeze","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","squeeze","none","thumbstick","abutton","bbutton"]}};c.exports.Component=h("pico-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:x,init:function(){var _=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(C){A(C.detail.id,"down",_,_.data.hand)},this.onButtonUp=function(C){A(C.detail.id,"up",_,_.data.hand)},this.onButtonTouchEnd=function(C){A(C.detail.id,"touchend",_,_.data.hand)},this.onButtonTouchStart=function(C){A(C.detail.id,"touchstart",_,_.data.hand)},this.bindMethods()},update:function(){var _=this.data;this.controllerIndex=_.hand==="right"?0:_.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var _=this.el;_.addEventListener("buttonchanged",this.onButtonChanged),_.addEventListener("buttondown",this.onButtonDown),_.addEventListener("buttonup",this.onButtonUp),_.addEventListener("touchstart",this.onButtonTouchStart),_.addEventListener("touchend",this.onButtonTouchEnd),_.addEventListener("axismove",this.onAxisMoved),_.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var _=this.el;_.removeEventListener("buttonchanged",this.onButtonChanged),_.removeEventListener("buttondown",this.onButtonDown),_.removeEventListener("buttonup",this.onButtonUp),_.removeEventListener("touchstart",this.onButtonTouchStart),_.removeEventListener("touchend",this.onButtonTouchEnd),_.removeEventListener("axismove",this.onAxisMoved),_.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var _=this.data;M(this,b,{index:this.controllerIndex,hand:_.hand})},injectTrackedControls:function(){var _=this.el,C=this.data;_.setAttribute("tracked-controls",{idPrefix:b,hand:C.hand,controller:this.controllerIndex,orientationOffset:C.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",E+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(_){var C=this.mapping[this.data.hand].buttons[_.detail.id],O;C&&(C==="trigger"&&(O=_.detail.state.value,console.log("analog value of trigger press: "+O)),this.el.emit(C+"changed",_.detail.state))},onModelLoaded:function(_){_.target!==this.el||!this.data.model||this.el.emit("controllermodelready",{name:"pico-controls",model:this.data.model,rayOrigin:new g.Vector3(0,0,0)})},onAxisMoved:function(_){p(this,this.mapping.axes,_)}})},"./src/components/position.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("position",{schema:{type:"vec3"},update:function(){var g=this.el.object3D,m=this.data;g.position.set(m.x,m.y,m.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},"./src/components/raycaster.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),m=u("./src/utils/index.js"),M=m.debug("components:raycaster:warn"),p=/^[\w\s-.,[\]#]*$/,A={childList:!0,attributes:!0,subtree:!0},b={INTERSECT:"raycaster-intersected",INTERSECTION:"raycaster-intersection",INTERSECT_CLEAR:"raycaster-intersected-cleared",INTERSECTION_CLEAR:"raycaster-intersection-cleared",INTERSECTION_CLOSEST_ENTITY_CHANGED:"raycaster-closest-entity-changed"};c.exports.Component=h("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},lineColor:{default:"white"},lineOpacity:{default:1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new g.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new g.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new g.Vector3,this.otherLineEndVec3=new g.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(E){var x=this.data,_=this.el,C=this.raycaster;C.far=x.far,C.near=x.near,x.showLine&&(x.far!==E.far||x.origin!==E.origin||x.direction!==E.direction||!E.showLine)&&(this.unitLineEndVec3.copy(x.direction).normalize(),this.drawLine()),!x.showLine&&E.showLine&&_.removeAttribute("line"),x.objects!==E.objects&&!p.test(x.objects)&&M('[raycaster] Selector "'+x.objects+'" may not update automatically with DOM changes.'),x.objects||M('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),x.autoRefresh!==E.autoRefresh&&_.isPlaying&&(x.autoRefresh?this.addEventListeners():this.removeEventListeners()),E.enabled&&!x.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,A),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var E=this.data,x;x=E.objects?this.el.sceneEl.querySelectorAll(E.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(x),this.dirty=!1},tock:function(E){var x=this.data,_=this.prevCheckTime;x.enabled&&(_&&E-_<x.interval||(this.prevCheckTime=E,this.checkIntersections()))},checkIntersections:function(){var E=this.clearedIntersectedEls,x=this.el,_=this.data,C,O=this.intersectedEls,I,T=this.intersections,D=this.newIntersectedEls,P=this.newIntersections,L=this.prevIntersectedEls,N=this.rawIntersections;for(this.dirty&&this.refreshObjects(),v(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),N.length=0,this.raycaster.intersectObjects(this.objects,!0,N),T.length=0,O.length=0,C=0;C<N.length;C++)I=N[C],!(_.showLine&&I.object===x.getObject3D("line"))&&I.object.el&&(T.push(I),O.push(I.object.el));for(P.length=0,D.length=0,C=0;C<T.length;C++)L.indexOf(T[C].object.el)===-1&&(P.push(T[C]),D.push(T[C].object.el));for(E.length=0,C=0;C<L.length;C++)O.indexOf(L[C])===-1&&(L[C].emit(b.INTERSECT_CLEAR,this.intersectedClearedDetail),E.push(L[C]));for(E.length&&x.emit(b.INTERSECTION_CLEAR,this.intersectionClearedDetail),C=0;C<D.length;C++)D[C].emit(b.INTERSECT,this.intersectedDetail);P.length&&(this.intersectionDetail.els=D,this.intersectionDetail.intersections=P,x.emit(b.INTERSECTION,this.intersectionDetail)),(L.length===0&&T.length>0||L.length>0&&T.length===0||L.length&&T.length&&L[0]!==T[0].object.el)&&(this.intersectionDetail.els=this.intersectedEls,this.intersectionDetail.intersections=T,x.emit(b.INTERSECTION_CLOSEST_ENTITY_CHANGED,this.intersectionDetail)),_.showLine&&setTimeout(this.updateLine)},updateLine:function(){var E=this.el,x=this.intersections,_;x.length&&(x[0].object.el===E&&x[1]?_=x[1].distance:_=x[0].distance),this.drawLine(_)},getIntersection:function(E){var x,_;for(x=0;x<this.intersections.length;x++)if(_=this.intersections[x],_.object.el===E)return _;return null},updateOriginDirection:function(){var E=new g.Vector3,x=new g.Vector3;return function(){var C=this.el,O=this.data;if(O.useWorldCoordinates){this.raycaster.set(O.origin,O.direction);return}C.object3D.updateMatrixWorld(),x.setFromMatrixPosition(C.object3D.matrixWorld),(O.origin.x!==0||O.origin.y!==0||O.origin.z!==0)&&(x=C.object3D.localToWorld(x.copy(O.origin))),E.copy(O.direction).transformDirection(C.object3D.matrixWorld).normalize(),this.raycaster.set(x,E)}}(),drawLine:function(E){var x=this.data,_=this.el,C;C=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,E===void 0&&(E=x.far===1/0?1e3:x.far),this.lineData.start=x.origin,this.lineData.end=C.copy(this.unitLineEndVec3).multiplyScalar(E).add(x.origin),this.lineData.color=x.lineColor,this.lineData.opacity=x.lineOpacity,_.setAttribute("line",this.lineData)},flattenObject3DMaps:function(E){var x,_,C=this.objects,O=this.el.sceneEl.object3D;function I(D){return D.parent?I(D.parent):D===O}for(C.length=0,_=0;_<E.length;_++){var T=E[_];if(T.isEntity&&T.object3D&&I(T.object3D))for(x in T.object3DMap)C.push(T.getObject3D(x))}return C},clearAllIntersections:function(){var E;for(E=0;E<this.intersectedEls.length;E++)this.intersectedEls[E].emit(b.INTERSECT_CLEAR,this.intersectedClearedDetail);v(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(b.INTERSECTION_CLEAR,this.intersectionClearedDetail)}});function v(E,x){var _;for(E.length=x.length,_=0;_<x.length;_++)E[_]=x[_]}},"./src/components/rotation.js":(c,d,u)=>{var h=u("./src/lib/three.js").MathUtils.degToRad,g=u("./src/core/component.js").registerComponent;c.exports.Component=g("rotation",{schema:{type:"vec3"},update:function(){var m=this.data,M=this.el.object3D;M.rotation.set(h(m.x),h(m.y),h(m.z),"YXZ")},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},"./src/components/scale.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var g=this.data,m=this.el.object3D;m.scale.set(g.x,g.y,g.z)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},"./src/components/scene/ar-hit-test.js":(c,d,u)=>{var h="data:image/webp;base64,UklGRkQHAABXRUJQVlA4WAoAAAAQAAAA/wEA/wEAQUxQSL0DAAARDzD/ERGCjrY9sYYFfgo6aa1kJ7K0w9Lo3AadLSVeFxevQwj5kuM8RfR/Atw/C0+ozB/oUBrloFZs6ElSW88j1KA4yExNWQaqRZquIDF0JYmlq0hAuUDTFu66tng3teW7pa3cQf1V1edvur54M/Slm6Wv3Gx9zw0MXlQLntcsBN6wkHjTQuYtC4W3LTw8mGRVG57TbAROtxHfZNhInGkjc5aNwtk2Hg6Mvki14k+NkZzCwQgCxalcAv3kddRTPI1DcUrXId1FLf1uHpzaQz4tquhZVLlKesbVpqKeTj0n0F5PpXDlFN9UqmhalL/ImuZFo6KmToWLoKlddMprqlS8cKovBvHo2kTiFV2LN4msaxKZl3QNiair8xYRdDWivIvXVXmbcMqJ51UebZuFXxZt6xd4laxtciqRtA3Cv0nU1t+kEUFbI8JvCa+tvkm3FDlO/W+OR99+kWEp/YYo+tYfTVnf/K8cE/F///3vv//993eeL+a+uvjawLcX3xjYvJotBFY3kVjTRGFtE+BU2AiMbiQyhpHMWEYeBozAH5qNBYRDB5KBCaTDBKKBAZTDBoKBDjwHAN5ABeCJBsAZcAAC0YHHxAYSMYBiYgGZWEA2MYFCbCCZGAAIANFEB+AnYgMQTDQAYSJ2AN5EBZAm4gDgTDgAeSIu4DGygTIRN1CMLOCZiACykQlg4jsAycgA8AO+BxCNdJyDkcbwRirDGXGnx8w+FDPrkM3MQ9JQZMYhiiwV/RDMtIM3U1/DmXHUo+IR2kSR2ToWkQ1NIn2qf2J8LCqJKiDUiSADHY3whirhdHgZ94HKaR97PhE+twEUJUFoAcgyTct8hfSxSkShASDKdMJ/ritKHwgyQ0sD4D/miCxU5SbhOOUDTnZpccCjYP/i0bZ/8bAgtVGEoGapWIQXyzKVKLwgNJFk2rtMIgoNRJlOZF7SNSSyUEeQmbxBFKEmtYjEe8S8zOZ1AkJVCmS88FJOtF40Ksg4oUaFiygk3C8qlTVNyl8UTevCUdAE2t14PfVqU1FPp57TopKeQZWromddTQp6QOfTOEQt/ZDuipZ11w/wOiqO8dRORcc6BQEkDQMClaHcn5wV9yLbxsNZNgpn2sicYSNxuo34Js1G4FQbnuNsOPa28PCWhcKbFjJvWEi8ZiHwqgXPcxbc5db33Cx95WboSzddX7yp+vyN0+eul7ZyN7Xlu64t3jVt4c5pc4JLV5EYupJE0xUknC4nOjVlmaYpyLit53HCQ0+ScnqceNcS5dzUkd0/CwMAVlA4IGADAAAQXwCdASoAAgACP8ne6Wy/tjCpqJ/IA/A5CWlu4XYBG/Pz8AfwD8APz//f3v8E1fuHZnxKYACtfuHZnxKYACrYTb5mOslhxu843ecbvON3nG7zjd3a0VCn7G1MABVxwH/Xd25gAK1+4dmfEpe2+PHhQaj75++riG6FuYACtfuHZnxKYACRrK3q9xO8Ss3uWKnMhs/rDF1hi6wxdYYusMXWGI5QRcCFDZog5OgqNlse1NDuz/UoFa/cOzPiUwAEsAOK4/nu5eZHK2tlXxJfNYlMABWv3Dsz4bvNJ5YA/LtxJ38SmAArX7h2Z8Sk5vdZUYv7mZPiUwAFa/cOzPh21s5OgZxf1mfEpemRyFr/rM+JS9noA/LtxJ38SmAAlUJIotzAASn6TjdhK+D3Dsz4dyvB7h2Z8O2tnJ0DOL+sz4lL2nKLT4lL/+iSLOocxq639w7M34MNZdm55uJ8v8ra2cpVZnxKTq2F3PN/cNksAfl24k7+JTAASqrD37h2Z7b1W+VtbOUqsz4lJ1bC7nm/uGyWAPy7cSd/EpgAJVVh79w7M9t6rfK2tnKVWZ8Sk6thdzzf3DZLAH5duJO/iUwAEqqw9+4dme29VvlbWzlKrM+JSdWwu55v7hslgD8u3EnfxKYACVVYe/cOzPbeq3ytrZylVme0kYJ8557FLerqFrzIbPrrf3DZLAH5duJO/iUvaVMS9BoaF4p7pSDFTP1XMyfElelrM0DOL+sz4eBJ13nV1OppBGPuKb4YzXQgq9uH19uS/0+JS9t9fr6ZUlQBelDG6GMgq97otb5QMPJwtKyBTbFp8Sl7b6/X0ykkawEOsgdiE6Fi0vb/Eve6xkwsmug0Z4nGNHQO8839bpTsjpz7SWIJxKagvd1QWMa6FYT1KEw3j4XDT6vJ9Xk+nyfT5Pq8n1eEmk5dinMM/9Fcfz4Z3Dsz3KD2dw7LxBRxKrqUUGQPH/7zxr1KIfNpLEJ0MZB2ITM/0Z2EFoh12NlXnEcpYcbvON3nG7zjd5xu84vfcNIAAP7+y8ceyzbVxkakPYY4lcr72fqOnDwipv+yxC71wAADBrjKnAAAAAAAAAAAAAAw7oNGHttqWONcoFN/2WIDc2pa6WVFtFYROlsaMaTXdcOjXHz93+YxAglKa4AAAAA=",g=u("./src/core/component.js").registerComponent,m=u("./src/lib/three.js"),M=21,p=function(){var E=new m.Quaternion,x=new m.Vector3;function _(C,O,I){O.position.copy(C.transform.position),O.quaternion.copy(C.transform.orientation),x.copy(I),E.copy(C.transform.orientation),x.applyQuaternion(E),O.position.sub(x)}return _}();p.tempFakePose={transform:{orientation:new m.Quaternion,position:new m.Vector3}};function A(E,x){this.renderer=E,this.xrHitTestSource=null,E.xr.addEventListener("sessionend",(function(){this.xrHitTestSource=null}).bind(this)),E.xr.addEventListener("sessionstart",(function(){this.sessionStart(x)}).bind(this)),this.renderer.xr.isPresenting&&this.sessionStart(x)}A.prototype.previousFrameAnchors=new Set,A.prototype.anchorToObject3D=new Map;function b(E){console.warn(E.message),console.warn('Cannot requestHitTestSource Are you missing: webxr="optionalFeatures: hit-test;" from <a-scene>?')}A.prototype.sessionStart=function(x){if(this.session=this.renderer.xr.getSession(),!("requestHitTestSource"in this.session)){b({message:"No requestHitTestSource on the session."});return}x.space?this.session.requestHitTestSource(x).then((function(_){this.xrHitTestSource=_}).bind(this)).catch(b):x.profile&&this.session.requestHitTestSourceForTransientInput(x).then((function(_){this.xrHitTestSource=_,this.transient=!0}).bind(this)).catch(b)},A.prototype.anchorFromLastHitTestResult=function(E,x){var _=this.lastHitTest;if(_){var C={object3D:E,offset:x};Array.from(this.anchorToObject3D.entries()).forEach((function(O){var I=O[1].object3D,T=O[0];I===E&&(this.anchorToObject3D.delete(T),T.delete())}).bind(this)),_.createAnchor&&_.createAnchor().then((function(O){this.anchorToObject3D.set(O,C)}).bind(this)).catch(function(O){console.warn(O.message),console.warn('Cannot create anchor, are you missing: webxr="optionalFeatures: anchors;" from <a-scene>?')})}},A.prototype.doHit=function(x){if(this.renderer.xr.isPresenting){var _=this.renderer.xr.getReferenceSpace(),C=x.getViewerPose(_),O,I;if(this.xrHitTestSource&&C)return this.transient?(O=x.getHitTestResultsForTransientInput(this.xrHitTestSource),O.length>0?(I=O[0].results,I.length>0?(this.lastHitTest=I[0],I[0].getPose(_)):!1):!1):(O=x.getHitTestResults(this.xrHitTestSource),O.length>0?(this.lastHitTest=O[0],O[0].getPose(_)):!1)}},A.updateAnchorPoses=function(E,x){var _=E.trackedAnchors||A.prototype.previousFrameAnchors;A.prototype.previousFrameAnchors.forEach(function(C){_.has(C)||A.prototype.anchorToObject3D.delete(C)}),_.forEach(function(C){var O,I,T,D;try{O=E.getPose(C.anchorSpace,x)}catch{}if(O){if(I=A.prototype.anchorToObject3D.get(C),!I)return;T=I.offset,D=I.object3D,p(O,D,T)}})};var v;c.exports.Component=g("ar-hit-test",{schema:{target:{type:"selector"},enabled:{default:!0},src:{default:h,type:"map"},type:{default:"footprint",oneOf:["footprint","map"]},footprintDepth:{default:.1},mapSize:{type:"vec2",default:{x:.5,y:.5}}},sceneOnly:!0,init:function(){this.hitTest=null,this.imageDataArray=new Uint8ClampedArray(1048576),this.imageData=new ImageData(this.imageDataArray,512,512),this.textureCache=new Map,this.orthoCam=new m.OrthographicCamera,this.orthoCam.layers.set(M),this.textureTarget=new m.WebGLRenderTarget(512,512,{}),this.basicMaterial=new m.MeshBasicMaterial({color:0,side:m.DoubleSide}),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.canvas.width=512,this.canvas.height=512,this.canvasTexture=new m.CanvasTexture(this.canvas,{alpha:!0}),this.canvasTexture.flipY=!1;var E=this.el.getAttribute("webxr"),x=E.optionalFeatures;(!x.includes("hit-test")||!x.includes("anchors"))&&(x.push("hit-test"),x.push("anchors"),this.el.setAttribute("webxr",E)),this.el.sceneEl.renderer.xr.addEventListener("sessionend",(function(){this.hitTest=null}).bind(this)),this.el.sceneEl.renderer.xr.addEventListener("sessionstart",(function(){if(this.el.is("ar-mode")){var _=this.el.sceneEl.renderer,C=this.session=_.xr.getSession();this.hasPosedOnce=!1,this.bboxMesh.visible=!1,v||(v=new Map),C.requestReferenceSpace("viewer").then((function(T){this.hitTest=new A(_,{space:T}),v.set(T,this.hitTest),this.el.emit("ar-hit-test-start")}).bind(this));var O="generic-touchscreen",I=new A(_,{profile:O});C.addEventListener("selectstart",(function(T){if(this.data.enabled===!0){var D=T.inputSource;this.bboxMesh.visible=!0,this.hasPosedOnce===!0&&(this.el.emit("ar-hit-test-select-start",{inputSource:D,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion}),D.profiles[0]===O?this.hitTest=I:(this.hitTest=v.get(D)||new A(_,{space:D.targetRaySpace}),v.set(D,this.hitTest)))}}).bind(this)),C.addEventListener("selectend",(function(T){if(!this.hitTest||this.data.enabled!==!0){this.hitTest=null;return}var D=T.inputSource,P;this.hasPosedOnce===!0&&(this.bboxMesh.visible=!1,this.data.target&&(P=this.data.target.object3D,P&&(p.tempFakePose.transform.position.copy(this.bboxMesh.position),p.tempFakePose.transform.orientation.copy(this.bboxMesh.quaternion),p(p.tempFakePose,P,this.bboxOffset),P.visible=!0,this.hitTest.anchorFromLastHitTestResult(P,this.bboxOffset))),this.el.emit("ar-hit-test-select",{inputSource:D,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion})),this.hitTest=null}).bind(this))}}).bind(this)),this.bboxOffset=new m.Vector3,this.update=this.update.bind(this),this.makeBBox()},update:function(){this.data.enabled===!1&&(this.hitTest=null,this.bboxMesh.visible=!1),this.data.target&&(this.data.target.object3D?(this.data.target.addEventListener("model-loaded",this.update),this.data.target.object3D.layers.enable(M),this.data.target.object3D.traverse(function(E){E.layers.enable(M)})):this.data.target.addEventListener("loaded",this.update,{once:!0})),this.bboxNeedsUpdate=!0},makeBBox:function(){var E=new m.PlaneGeometry(1,1),x=new m.MeshBasicMaterial({transparent:!0,color:16777215});E.rotateX(-Math.PI/2),E.rotateY(-Math.PI/2),this.bbox=new m.Box3,this.bboxMesh=new m.Mesh(E,x),this.el.setObject3D("ar-hit-test",this.bboxMesh),this.bboxMesh.visible=!1},updateFootprint:function(){var E,x=this.el.sceneEl.renderer,_,C,O=x.xr.enabled;this.bboxMesh.material.map=this.canvasTexture,this.bboxMesh.material.needsUpdate=!0,this.orthoCam.rotation.set(-Math.PI/2,0,-Math.PI/2),this.orthoCam.position.copy(this.bboxMesh.position),this.orthoCam.position.y-=this.bboxMesh.scale.y/2,this.orthoCam.near=.1,this.orthoCam.far=this.orthoCam.near+this.data.footprintDepth*this.bboxMesh.scale.y,this.orthoCam.position.y+=this.orthoCam.far,this.orthoCam.right=this.bboxMesh.scale.z/2,this.orthoCam.left=-this.bboxMesh.scale.z/2,this.orthoCam.top=this.bboxMesh.scale.x/2,this.orthoCam.bottom=-this.bboxMesh.scale.x/2,this.orthoCam.updateProjectionMatrix(),_=x.getRenderTarget(),x.setRenderTarget(this.textureTarget),x.xr.enabled=!1,C=this.el.object3D.background,this.el.object3D.overrideMaterial=this.basicMaterial,this.el.object3D.background=null,x.render(this.el.object3D,this.orthoCam),this.el.object3D.background=C,this.el.object3D.overrideMaterial=null,x.xr.enabled=O,x.setRenderTarget(_),x.readRenderTargetPixels(this.textureTarget,0,0,512,512,this.imageDataArray),this.context.putImageData(this.imageData,0,0),this.context.shadowColor="white",this.context.shadowBlur=10,this.context.drawImage(this.canvas,0,0),E=this.context.getImageData(0,0,512,512);for(var I=0;I<262144;I++)E.data[I*4+3]!==0&&E.data[I*4+3]!==255&&(E.data[I*4+3]=128);this.context.putImageData(E,0,0),this.canvasTexture.needsUpdate=!0},tick:function(){var E,x=this.el.sceneEl.frame,_=this.el.sceneEl.renderer;if(x&&A.updateAnchorPoses(x,_.xr.getReferenceSpace()),this.bboxNeedsUpdate){if(this.bboxNeedsUpdate=!1,!this.data.target||this.data.type==="map"){var C;this.textureCache.has(this.data.src)?C=this.textureCache.get(this.data.src):(C=new m.TextureLoader().load(this.data.src),this.textureCache.set(this.data.src,C)),this.bboxMesh.material.map=C,this.bboxMesh.material.needsUpdate=!0}this.data.target&&this.data.target.object3D?(this.bbox.setFromObject(this.data.target.object3D),this.bbox.getCenter(this.bboxMesh.position),this.bbox.getSize(this.bboxMesh.scale),this.data.type==="footprint"&&(this.bboxMesh.scale.x*=1.04,this.bboxMesh.scale.z*=1.04,this.updateFootprint()),this.bboxMesh.position.y-=this.bboxMesh.scale.y/2,this.bboxOffset.copy(this.bboxMesh.position),this.bboxOffset.sub(this.data.target.object3D.position)):this.bboxMesh.scale.set(this.data.mapSize.x,1,this.data.mapSize.y)}this.hitTest&&(E=this.hitTest.doHit(x),E&&(this.hasPosedOnce!==!0&&(this.hasPosedOnce=!0,this.el.emit("ar-hit-test-achieved")),this.bboxMesh.visible=!0,this.bboxMesh.position.copy(E.transform.position),this.bboxMesh.quaternion.copy(E.transform.orientation)))}})},"./src/components/scene/background.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},sceneOnly:!0,update:function(){var g=this.data,m=this.el.object3D;g.transparent?m.background=null:m.background=new THREE.Color(g.color)},remove:function(){var g=this.el.object3D;g.background=null}})},"./src/components/scene/debug.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("debug",{schema:{default:!0},sceneOnly:!0})},"./src/components/scene/device-orientation-permission-ui.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/constants/index.js"),m="a-modal",M="a-dialog",p="a-dialog-text",A="a-dialog-text-container",b="a-dialog-buttons-container",v="a-dialog-button",E="a-dialog-allow-button",x="a-dialog-deny-button",_="a-dialog-ok-button";c.exports.Component=h("device-orientation-permission-ui",{schema:{enabled:{default:!0},deviceMotionMessage:{default:"This immersive website requires access to your device motion sensors."},httpsMessage:{default:"Access this site over HTTPS to enter VR mode and grant access to the device sensors."},denyButtonText:{default:"Deny"},allowButtonText:{default:"Allow"},cancelButtonText:{default:"Cancel"}},sceneOnly:!0,init:function(){var T=this;if(this.data.enabled){if(window.isSecureContext||this.showHTTPAlert(),typeof DeviceOrientationEvent>"u"||!DeviceOrientationEvent.requestPermission){this.permissionGranted=!0;return}this.onDeviceMotionDialogAllowClicked=this.onDeviceMotionDialogAllowClicked.bind(this),this.onDeviceMotionDialogDenyClicked=this.onDeviceMotionDialogDenyClicked.bind(this),DeviceOrientationEvent.requestPermission().then(function(){T.el.emit("deviceorientationpermissiongranted"),T.permissionGranted=!0}).catch(function(){T.devicePermissionDialogEl=C(T.data.denyButtonText,T.data.allowButtonText,T.data.deviceMotionMessage,T.onDeviceMotionDialogAllowClicked,T.onDeviceMotionDialogDenyClicked),T.el.appendChild(T.devicePermissionDialogEl)})}},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showHTTPAlert:function(){var T=this,D=O(T.data.cancelButtonText,T.data.httpsMessage,function(){T.el.removeChild(D)});this.el.appendChild(D)},onDeviceMotionDialogAllowClicked:function(){var T=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then(function(D){D==="granted"?(T.el.emit("deviceorientationpermissiongranted"),T.permissionGranted=!0):T.el.emit("deviceorientationpermissionrejected"),T.remove()}).catch(console.error)}});function C(T,D,P,L,N){var U,$,F;return U=document.createElement("div"),U.classList.add(b),$=document.createElement("button"),$.classList.add(v,x),$.setAttribute(g.AFRAME_INJECTED,""),$.innerHTML=T,U.appendChild($),F=document.createElement("button"),F.classList.add(v,E),F.setAttribute(g.AFRAME_INJECTED,""),F.innerHTML=D,U.appendChild(F),F.addEventListener("click",function(j){j.stopPropagation(),L()}),$.addEventListener("click",function(j){j.stopPropagation(),N()}),I(P,U)}function O(T,D,P){var L,N;return L=document.createElement("div"),L.classList.add(b),N=document.createElement("button"),N.classList.add(v,_),N.setAttribute(g.AFRAME_INJECTED,""),N.innerHTML=T,L.appendChild(N),N.addEventListener("click",function(U){U.stopPropagation(),P()}),I(D,L)}function I(T,D){var P,L,N,U;return P=document.createElement("div"),P.classList.add(m),P.setAttribute(g.AFRAME_INJECTED,""),L=document.createElement("div"),L.className=M,L.setAttribute(g.AFRAME_INJECTED,""),P.appendChild(L),N=document.createElement("div"),N.classList.add(A),L.appendChild(N),U=document.createElement("div"),U.classList.add(p),U.innerHTML=T,N.appendChild(U),L.appendChild(D),P}},"./src/components/scene/embedded.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("embedded",{dependencies:["xr-mode-ui"],schema:{default:!0},sceneOnly:!0,update:function(){var g=this.el,m=g.querySelector(".a-enter-vr");this.data===!0?(m&&m.classList.add("embedded"),g.removeFullScreenStyles()):(m&&m.classList.remove("embedded"),g.addFullScreenStyles())}})},"./src/components/scene/fog.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),m=u("./src/utils/debug.js");m("components:fog:warn"),c.exports.Component=h("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},sceneOnly:!0,update:function(){var p=this.data,A=this.el,b=this.el.object3D.fog;if(!b||p.type!==b.name){A.object3D.fog=M(p);return}Object.keys(this.schema).forEach(function(v){var E=p[v];v==="color"&&(E=new g.Color(E)),b[v]=E})},remove:function(){var p=this.el,A=this.el.object3D.fog;A&&(p.object3D.fog=null)}});function M(p){var A;return p.type==="exponential"?A=new g.FogExp2(p.color,p.density):A=new g.Fog(p.color,p.near,p.far),A.name=p.type,A}},"./src/components/scene/inspector.js":(c,d,u)=>{var h=u("./src/constants/index.js").AFRAME_INJECTED,g=u("./package.json"),m=u("./src/core/component.js").registerComponent,M=u("./src/utils/index.js");function p(x){var _=x.split(".");return _[2]="x",_.join(".")}var A="https://unpkg.com/aframe-inspector@"+p(g.version)+"/dist/aframe-inspector.min.js",b=A,v="Loading Inspector",E="Error loading Inspector";c.exports.Component=m("inspector",{schema:{url:{default:b}},sceneOnly:!0,init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var x;this.firstPlay&&(x=M.getUrlParameter("inspector"),x!=="false"&&x&&(this.openInspector(),this.firstPlay=!1))},initOverlay:function(){var x='<span class="dots"><span>.</span><span>.</span><span>.</span></span>';this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML=v+x},remove:function(){this.removeEventListeners()},onKeydown:function(x){var _=x.keyCode===73&&(x.ctrlKey&&x.altKey||x.getModifierState("AltGraph"));_&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(x){x.data==="INJECT_AFRAME_INSPECTOR"&&this.openInspector()},openInspector:function(x){var _=this,C;if(AFRAME.INSPECTOR||AFRAME.inspectorInjected){AFRAME.INSPECTOR.open(x);return}this.showLoader(),C=document.createElement("script"),C.src=this.data.url,C.setAttribute("data-name","aframe-inspector"),C.setAttribute(h,""),C.onload=function(){AFRAME.INSPECTOR.open(x),_.hideLoader(),_.removeEventListeners()},C.onerror=function(){_.loadingMessageEl.innerHTML=E},document.head.appendChild(C),AFRAME.inspectorInjected=!0},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})},"./src/components/scene/keyboard-shortcuts.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/index.js").shouldCaptureKeyEvent;c.exports.Component=h("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},sceneOnly:!0,init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(m){var M=this.data;this.enterVREnabled=M.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(m){var M=this.el;g(m)&&(this.enterVREnabled&&m.keyCode===70&&M.enterVR(),this.enterVREnabled&&m.keyCode===27&&M.exitVR())}})},"./src/components/scene/pool.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),g=u("./src/core/component.js").registerComponent,m=h("components:pool:warn");c.exports.Component=g("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},sceneOnly:!0,multiple:!0,initPool:function(){var M;for(this.availableEls=[],this.usedEls=[],this.data.mixin||m("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||m("Container "+this.data.container+" not found.")),this.container=this.container||this.el,M=0;M<this.data.size;++M)this.createEntity()},update:function(M){var p=this.data;(M.mixin!==p.mixin||M.size!==p.size)&&this.initPool()},createEntity:function(){var M;M=document.createElement("a-entity"),M.play=this.wrapPlay(M.play),M.setAttribute("mixin",this.data.mixin),M.object3D.visible=!1,M.pause(),this.container.appendChild(M),this.availableEls.push(M);var p=this.usedEls;M.addEventListener("loaded",function(){p.indexOf(M)===-1&&(M.object3DParent=M.object3D.parent,M.object3D.parent.remove(M.object3D))})},wrapPlay:function(M){var p=this.usedEls;return function(){p.indexOf(this)!==-1&&M.call(this)}},requestEntity:function(){var M;if(this.availableEls.length===0){if(this.data.dynamic===!1){m("Requested entity from empty pool: "+this.attrName);return}else m("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName);this.createEntity()}return M=this.availableEls.shift(),this.usedEls.push(M),M.object3DParent&&(M.object3DParent.add(M.object3D),this.updateRaycasters()),M.object3D.visible=!0,M},returnEntity:function(M){var p=this.usedEls.indexOf(M);if(p===-1){m("The returned entity was not previously pooled from "+this.attrName);return}return this.usedEls.splice(p,1),this.availableEls.push(M),M.object3DParent=M.object3D.parent,M.object3D.parent.remove(M.object3D),this.updateRaycasters(),M.object3D.visible=!1,M.pause(),M},updateRaycasters:function(){var M=document.querySelectorAll("[raycaster]");M.forEach(function(p){p.components.raycaster.setDirty()})}})},"./src/components/scene/real-world-meshing.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js");c.exports.Component=h("real-world-meshing",{schema:{filterLabels:{type:"array"},meshesEnabled:{default:!0},meshMixin:{default:!0},planesEnabled:{default:!0},planeMixin:{default:""}},sceneOnly:!0,init:function(){var m=this.el.getAttribute("webxr"),M=m.requiredFeatures;M.indexOf("mesh-detection")===-1&&(M.push("mesh-detection"),this.el.setAttribute("webxr",m)),M.indexOf("plane-detection")===-1&&(M.push("plane-detection"),this.el.setAttribute("webxr",m)),this.meshEntities=[],this.initWorldMeshEntity=this.initWorldMeshEntity.bind(this)},tick:function(){this.el.is("ar-mode")&&(this.detectMeshes(),this.updateMeshes())},detectMeshes:function(){var m=this.data,M,p,A=this.el;A.renderer.xr;var b,v=this.meshEntities,E=!1,x=[],_=this.data.filterLabels;b=A.frame,M=b.detectedMeshes,p=b.detectedPlanes;for(var C=0;C<v.length;C++)v[C].present=!1;if(m.meshesEnabled){for(var O of M.values())if(!(_.length&&_.indexOf(O.semanticLabel)===-1)){for(C=0;C<v.length;C++)if(O===v[C].mesh){E=!0,v[C].present=!0,v[C].lastChangedTime<O.lastChangedTime&&this.updateMeshGeometry(v[C].el,O),v[C].lastChangedTime=O.lastChangedTime;break}E||x.push(O),E=!1}}if(m.planesEnabled){for(O of p.values())if(!(_.length&&_.indexOf(O.semanticLabel)===-1)){for(C=0;C<v.length;C++)if(O===v[C].mesh){E=!0,v[C].present=!0,v[C].lastChangedTime<O.lastChangedTime&&this.updateMeshGeometry(v[C].el,O),v[C].lastChangedTime=O.lastChangedTime;break}E||x.push(O),E=!1}}this.deleteMeshes(),this.createNewMeshes(x)},updateMeshes:function(){var m=new g.Matrix4;return function(){for(var M,p=this.el,A,b=p.frame,v=this.meshEntities,E=p.renderer.xr.getReferenceSpace(),x,_=0;_<v.length;_++)x=v[_].mesh.meshSpace||v[_].mesh.planeSpace,M=b.getPose(x,E),A=v[_].el,A.hasLoaded&&(m.fromArray(M.transform.matrix),m.decompose(A.object3D.position,A.object3D.quaternion,A.object3D.scale))}}(),deleteMeshes:function(){for(var m=this.meshEntities,M=[],p=0;p<m.length;p++)m[p].present?M.push(m[p]):this.el.removeChild(m[p]);this.meshEntities=M},createNewMeshes:function(m){for(var M,p=0;p<m.length;p++)M=document.createElement("a-entity"),this.meshEntities.push({mesh:m[p],el:M}),M.addEventListener("loaded",this.initWorldMeshEntity),this.el.appendChild(M)},initMeshGeometry:function(m){var M,p,A;if(m instanceof XRPlane){p=new g.Shape,A=m.polygon;for(var b=0;b<A.length;++b)b===0?p.moveTo(A[b].x,A[b].z):p.lineTo(A[b].x,A[b].z);return M=new g.ShapeGeometry(p),M.rotateX(Math.PI/2),M}return M=new g.BufferGeometry,M.setAttribute("position",new g.BufferAttribute(m.vertices,3)),M.setIndex(new g.BufferAttribute(m.indices,1)),M},initWorldMeshEntity:function(m){for(var M=m.target,p,A,b,v=this.meshEntities,E=0;E<v.length;E++)if(v[E].el===M){b=v[E];break}p=this.initMeshGeometry(b.mesh),A=new g.Mesh(p,new g.MeshBasicMaterial({color:Math.random()*16777215,side:g.DoubleSide})),M.setObject3D("mesh",A),b.mesh instanceof XRPlane&&this.data.planeMixin?M.setAttribute("mixin",this.data.planeMixin):this.data.meshMixin&&M.setAttribute("mixin",this.data.meshMixin),M.setAttribute("data-world-mesh",b.mesh.semanticLabel)},updateMeshGeometry:function(m,M){var p=m.getObject3D("mesh");p.geometry.dispose(),p.geometry=this.initMeshGeometry(M)}})},"./src/components/scene/reflection.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;function g(m,M,p,A){var b=Math.max(m.primaryLightIntensity.x,Math.max(m.primaryLightIntensity.y,m.primaryLightIntensity.z));M.sh.fromArray(m.sphericalHarmonicsCoefficients),M.intensity=1,p&&(p.color.setRGB(m.primaryLightIntensity.x/b,m.primaryLightIntensity.y/b,m.primaryLightIntensity.z/b),p.intensity=b,A.copy(m.primaryLightDirection))}c.exports.Component=h("reflection",{schema:{directionalLight:{type:"selector"}},sceneOnly:!0,init:function(){var m=this;this.cubeRenderTarget=new THREE.WebGLCubeRenderTarget(16),this.cubeCamera=new THREE.CubeCamera(.1,1e3,this.cubeRenderTarget),this.lightingEstimationTexture=new THREE.WebGLCubeRenderTarget(16).texture,this.needsVREnvironmentUpdate=!0;var M=this.el.getAttribute("webxr"),p=M.optionalFeatures;p.includes("light-estimation")||(p.push("light-estimation"),this.el.setAttribute("webxr",M)),this.el.addEventListener("enter-vr",function(){if(m.el.is("ar-mode")){var A=m.el.renderer,b=A.xr.getSession();b.requestLightProbe&&m.startLightProbe()}}),this.el.addEventListener("exit-vr",function(){m.xrLightProbe&&m.stopLightProbe()}),this.el.object3D.environment=this.cubeRenderTarget.texture},stopLightProbe:function(){this.xrLightProbe=null,this.probeLight&&(this.probeLight.components.light.light.intensity=0),this.needsVREnvironmentUpdate=!0,this.el.object3D.environment=this.cubeRenderTarget.texture},startLightProbe:function(){this.needsLightProbeUpdate=!0},setupLightProbe:function(){var m=this.el.renderer,M=m.xr.getSession(),p=this,A=m.getContext();if(!this.probeLight){var b=document.createElement("a-light");b.setAttribute("type","probe"),b.setAttribute("intensity",0),this.el.appendChild(b),this.probeLight=b}switch(M.preferredReflectionFormat){case"srgba8":A.getExtension("EXT_sRGB");break;case"rgba16f":A.getExtension("OES_texture_half_float");break}this.glBinding=new XRWebGLBinding(M,A),A.getExtension("EXT_sRGB"),A.getExtension("OES_texture_half_float"),M.requestLightProbe().then(function(v){p.xrLightProbe=v,v.addEventListener("reflectionchange",p.updateXRCubeMap.bind(p))}).catch(function(v){console.warn("Lighting estimation not supported: "+v.message),console.warn('Are you missing: webxr="optionalFeatures: light-estimation;" from <a-scene>?')})},updateXRCubeMap:function(){var m=this.el.renderer,M=this.glBinding.getReflectionCubeMap(this.xrLightProbe);if(M){var p=m.properties.get(this.lightingEstimationTexture);p.__webglTexture=M,this.lightingEstimationTexture.needsPMREMUpdate=!0,this.el.object3D.environment=this.lightingEstimationTexture}},tick:function(){var m=this.el.object3D,M=this.el.renderer,p=this.el.frame;if(p&&this.xrLightProbe){var A=p.getLightEstimate(this.xrLightProbe);A&&g(A,this.probeLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.object3D.position)}this.needsVREnvironmentUpdate&&(m.environment=null,this.needsVREnvironmentUpdate=!1,this.cubeCamera.position.set(0,1.6,0),this.cubeCamera.update(M,m),m.environment=this.cubeRenderTarget.texture),this.needsLightProbeUpdate&&p&&(this.setupLightProbe(),this.needsLightProbeUpdate=!1)},remove:function(){this.el.object3D.environment=null,this.probeLight&&this.el.removeChild(this.probeLight)}})},"./src/components/scene/screenshot.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),m=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),M=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join(`
`);c.exports.Component=h("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},sceneOnly:!0,setup:function(){var p=this.el;if(!this.canvas){var A=p.renderer.getContext();A&&(this.cubeMapSize=A.getParameter(A.MAX_CUBE_MAP_TEXTURE_SIZE),this.material=new g.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:m,fragmentShader:M,side:g.DoubleSide}),this.quad=new g.Mesh(new g.PlaneGeometry(1,1),this.material),this.quad.visible=!1,this.camera=new g.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),p.object3D.add(this.quad),this.onKeyDown=this.onKeyDown.bind(this))}},getRenderTarget:function(p,A){return new g.WebGLRenderTarget(p,A,{colorSpace:this.el.sceneEl.renderer.outputColorSpace,minFilter:g.LinearFilter,magFilter:g.LinearFilter,wrapS:g.ClampToEdgeWrapping,wrapT:g.ClampToEdgeWrapping,format:g.RGBAFormat,type:g.UnsignedByteType})},resize:function(p,A){this.quad.scale.set(p,A,1),this.camera.left=-1*p/2,this.camera.right=p/2,this.camera.top=A/2,this.camera.bottom=-1*A/2,this.camera.updateProjectionMatrix(),this.canvas.width=p,this.canvas.height=A},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(p){var A=p.keyCode===83&&p.ctrlKey&&p.altKey;if(!(!this.data||!A)){var b=p.shiftKey?"equirectangular":"perspective";this.capture(b)}},setCapture:function(p){var A=this.el,b,v,E,x;return p==="perspective"?(this.quad.visible=!1,v=this.data.camera&&this.data.camera.components.camera.camera||A.camera,b={width:this.data.width,height:this.data.height}):(v=this.camera,x=new g.WebGLCubeRenderTarget(Math.min(this.cubeMapSize,2048),{format:g.RGBFormat,generateMipmaps:!0,minFilter:g.LinearMipmapLinearFilter,colorSpace:g.SRGBColorSpace}),E=new g.CubeCamera(A.camera.near,A.camera.far,x),A.camera.getWorldPosition(E.position),A.camera.getWorldQuaternion(E.quaternion),E.update(A.renderer,A.object3D),this.quad.material.uniforms.map.value=E.renderTarget.texture,b={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:v,size:b,projection:p}},capture:function(p){var A=this.el.renderer.xr.enabled,b=this.el.renderer,v;this.setup(),b.xr.enabled=!1,v=this.setCapture(p),this.renderCapture(v.camera,v.size,v.projection),this.saveCapture(),b.xr.enabled=A},getCanvas:function(p){var A=this.el.renderer.xr.enabled,b=this.el.renderer;this.setup();var v=this.setCapture(p);return b.xr.enabled=!1,this.renderCapture(v.camera,v.size,v.projection),b.xr.enabled=A,this.canvas},renderCapture:function(p,A,b){var v=this.el.renderer.autoClear,E=this.el,x,_,C,O=E.renderer;_=this.getRenderTarget(A.width,A.height),C=new Uint8Array(4*A.width*A.height),this.resize(A.width,A.height),O.autoClear=!0,O.clear(),O.setRenderTarget(_),O.render(E.object3D,p),O.autoClear=v,O.readRenderTargetPixels(_,0,0,A.width,A.height,C),O.setRenderTarget(null),b==="perspective"&&(C=this.flipPixelsVertically(C,A.width,A.height)),x=new ImageData(new Uint8ClampedArray(C),A.width,A.height),this.quad.visible=!1,this.ctx.putImageData(x,0,0)},flipPixelsVertically:function(p,A,b){for(var v=p.slice(0),E=0;E<A;++E)for(var x=0;x<b;++x)v[E*4+x*A*4]=p[E*4+(b-x)*A*4],v[E*4+1+x*A*4]=p[E*4+1+(b-x)*A*4],v[E*4+2+x*A*4]=p[E*4+2+(b-x)*A*4],v[E*4+3+x*A*4]=p[E*4+3+(b-x)*A*4];return v},saveCapture:function(){this.canvas.toBlob(function(p){var A="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",b=document.createElement("a"),v=URL.createObjectURL(p);b.href=v,b.setAttribute("download",A),b.innerHTML="downloading...",b.style.display="none",document.body.appendChild(b),setTimeout(function(){b.click(),document.body.removeChild(b)},1)},"image/png")}})},"./src/components/scene/stats.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./vendor/rStats.js"),m=u("./src/utils/index.js");u("./vendor/rStats.extras.js"),u("./src/lib/rStatsAframe.js");var M=window.aframeStats,p="a-hidden",A=window.threeStats;c.exports.Component=h("stats",{schema:{default:!0},sceneOnly:!0,init:function(){var v=this.el;m.getUrlParameter("stats")!=="false"&&(this.stats=b(v),this.statsEl=document.querySelector(".rs-base"),this.hideBound=this.hide.bind(this),this.showBound=this.show.bind(this),v.addEventListener("enter-vr",this.hideBound),v.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var v=this.stats;v&&(v("rAF").tick(),v("FPS").frame(),v().update())},hide:function(){this.statsEl.classList.add(p)},show:function(){this.statsEl.classList.remove(p)}});function b(v){var E=new A(v.renderer),x=new M(v),_=v.isMobile?[]:[E,x];return new g({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:_})}},"./src/components/scene/xr-mode-ui.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/constants/index.js"),m=u("./src/utils/index.js"),M="a-enter-vr",p="a-enter-ar",A="a-enter-vr-button",b="a-enter-ar-button",v="a-hidden",E="a-orientation-modal";c.exports.Component=h("xr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},cardboardModeEnabled:{default:!1},enterVRButton:{default:""},enterVREnabled:{default:!0},enterARButton:{default:""},enterAREnabled:{default:!0},XRMode:{default:"vr",oneOf:["vr","ar","xr"]}},sceneOnly:!0,init:function(){var I=this,T=this.el;m.getUrlParameter("ui")!=="false"&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),T.addEventListener("enter-vr",this.updateEnterInterfaces),T.addEventListener("exit-vr",this.updateEnterInterfaces),T.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",function(D){D.data.type==="loaderReady"&&(I.insideLoader=!0,I.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=this.onEnterVRButtonClick.bind(this),this.onEnterARButtonClick=this.onEnterARButtonClick.bind(this),this.onModalClick=this.onModalClick.bind(this),this.toggleOrientationModalIfNeeded=this.toggleOrientationModalIfNeeded.bind(this),this.updateEnterInterfaces=this.updateEnterInterfaces.bind(this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var I=this.data,T=this.el;if(!I.enabled||this.insideLoader||m.getUrlParameter("ui")==="false")return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(!this.enterVREl&&I.enterVREnabled&&(I.XRMode==="xr"||I.XRMode==="vr")&&(I.enterVRButton?(this.enterVREl=document.querySelector(I.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=x(this.onEnterVRButtonClick),T.appendChild(this.enterVREl))),!this.enterAREl&&I.enterAREnabled&&(I.XRMode==="xr"||I.XRMode==="ar")&&(I.enterARButton?(this.enterAREl=document.querySelector(I.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=_(this.onEnterARButtonClick,I.XRMode==="xr"),T.appendChild(this.enterAREl))),this.orientationModalEl=C(this.onModalClick),T.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach(function(I){I&&I.parentNode&&I.parentNode.removeChild(I)}),this.enterVREl=void 0,this.enterAREl=void 0,this.orientationModalEl=void 0},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var I=this.el;this.enterVREl&&(I.is("vr-mode")||(I.isMobile||m.device.isMobileDeviceRequestingDesktopSite())&&!this.data.cardboardModeEnabled&&!m.device.checkVRSupport()?this.enterVREl.classList.add(v):(m.device.checkVRSupport()||this.enterVREl.classList.add("fullscreen"),this.enterVREl.classList.remove(v),I.enterVR(!1,!0)))},toggleEnterARButtonIfNeeded:function(){var I=this.el;this.enterAREl&&(I.is("vr-mode")||!m.device.checkARSupport()?this.enterAREl.classList.add(v):(this.enterAREl.classList.remove(v),I.enterVR(!0,!0)))},toggleOrientationModalIfNeeded:function(){var I=this.el,T=this.orientationModalEl;!T||!I.isMobile||(!m.device.isLandscape()&&I.is("vr-mode")?T.classList.remove(v):T.classList.add(v))}});function x(I){var T,D;return D=document.createElement("div"),D.classList.add(M),D.setAttribute(g.AFRAME_INJECTED,""),T=document.createElement("button"),T.className=A,T.setAttribute("title","Enter VR mode with a headset or fullscreen without"),T.setAttribute(g.AFRAME_INJECTED,""),m.device.isMobile()&&O(T),D.appendChild(T),T.addEventListener("click",function(P){I(),P.stopPropagation()}),D}function _(I,T){var D,P;return P=document.createElement("div"),P.classList.add(p),T&&P.classList.add("xr"),P.setAttribute(g.AFRAME_INJECTED,""),D=document.createElement("button"),D.className=b,D.setAttribute("title","Enter AR mode with a headset or handheld device."),D.setAttribute(g.AFRAME_INJECTED,""),m.device.isMobile()&&O(D),P.appendChild(D),D.addEventListener("click",function(L){I(),L.stopPropagation()}),P}function C(I){var T=document.createElement("div");T.className=E,T.classList.add(v),T.setAttribute(g.AFRAME_INJECTED,"");var D=document.createElement("button");return D.setAttribute(g.AFRAME_INJECTED,""),D.innerHTML="Exit VR",D.addEventListener("click",I),T.appendChild(D),T}function O(I){I.addEventListener("touchstart",function(){I.classList.remove("resethover")},{passive:!0}),I.addEventListener("touchend",function(){I.classList.add("resethover")},{passive:!0})}},"./src/components/shadow.js":(c,d,u)=>{var h=u("./src/core/component.js"),g=u("./src/lib/three.js"),m=h.registerComponent;c.exports.Component=m("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=this.update.bind(this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var M=this.data;this.updateDescendants(M.cast,M.receive)},remove:function(){var M=this.el;M.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(M,p){var A=this.el.sceneEl;this.el.object3D.traverse(function(b){if(b instanceof g.Mesh&&(b.castShadow=M,b.receiveShadow=p,A.hasLoaded&&b.material))for(var v=Array.isArray(b.material)?b.material:[b.material],E=0;E<v.length;E++)v[E].needsUpdate=!0})}})},"./src/components/sound.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/debug.js"),m=u("./src/lib/three.js"),M=g("components:sound:warn");c.exports.Component=h("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},loopStart:{default:0},loopEnd:{default:0},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var p=this;this.listener=null,this.audioLoader=new m.AudioLoader,this.pool=new m.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){p.playSound()}},update:function(p){var A=this.data,b,v,E=A.src!==p.src;if(E){if(!A.src)return;this.setupSound()}for(b=0;b<this.pool.children.length;b++)v=this.pool.children[b],A.positional&&(v.setDistanceModel(A.distanceModel),v.setMaxDistance(A.maxDistance),v.setRefDistance(A.refDistance),v.setRolloffFactor(A.rolloffFactor)),v.setLoop(A.loop),v.setLoopStart(A.loopStart),A.loopStart!==0&&A.loopEnd===0?v.setLoopEnd(v.buffer.duration):v.setLoopEnd(A.loopEnd),v.setVolume(A.volume),v.isPaused=!1;if(A.on!==p.on&&this.updateEventListener(p.on),E){var x=this;this.loaded=!1,this.audioLoader.load(A.src,function(_){for(b=0;b<x.pool.children.length;b++)v=x.pool.children[b],v.setBuffer(_);x.loaded=!0,m.Cache.remove(A.src),(x.data.autoplay||x.mustPlay)&&x.playSound(x.processSound),x.el.emit("sound-loaded",x.evtDetail,!1)})}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var p,A;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(p=0;p<this.pool.children.length;p++)A=this.pool.children[p],A.disconnect()}catch{M("Audio source not properly disconnected")}},updateEventListener:function(p){var A=this.el;p&&A.removeEventListener(p,this.playSoundBound),A.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var p=this.el,A,b=p.sceneEl,v=this,E;this.pool.children.length>0&&(this.stopSound(),p.removeObject3D("sound"));var x=this.listener=b.audioListener||new m.AudioListener;for(b.audioListener=x,b.camera&&b.camera.add(x),b.addEventListener("camera-set-active",function(_){_.detail.cameraEl.getObject3D("camera").add(x)}),this.pool=new m.Group,A=0;A<this.data.poolSize;A++)E=this.data.positional?new m.PositionalAudio(x):new m.Audio(x),this.pool.add(E);for(p.setObject3D(this.attrName,this.pool),A=0;A<this.pool.children.length;A++)E=this.pool.children[A],E.onEnded=function(){this.isPlaying=!1,v.el.emit("sound-ended",v.evtDetail,!1)}},pauseSound:function(){var p,A;for(this.isPlaying=!1,p=0;p<this.pool.children.length;p++)A=this.pool.children[p],!(!A.source||!A.source.buffer||!A.isPlaying||A.isPaused)&&(A.isPaused=!0,A.pause())},playSound:function(p){var A,b,v;if(!this.loaded){M("Sound not loaded yet. It will be played once it finished loading"),this.mustPlay=!0,this.processSound=p;return}for(A=!1,this.isPlaying=!0,b=0;b<this.pool.children.length;b++)if(v=this.pool.children[b],!v.isPlaying&&v.buffer&&!A){p&&p(v),v.play(),v.isPaused=!1,A=!0;continue}if(!A){M("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el);return}this.mustPlay=!1,this.processSound=void 0},stopSound:function(){var p,A;for(this.isPlaying=!1,p=0;p<this.pool.children.length;p++){if(A=this.pool.children[p],!A.source||!A.source.buffer)return;A.stop()}}})},"./src/components/text.js":(c,d,u)=>{var h=u("./node_modules/three-bmfont-text/index.js"),g=u("./node_modules/load-bmfont/browser.js"),m=u("./src/core/component.js").registerComponent,M=u("./src/core/shader.js"),p=u("./src/lib/three.js"),A=u("./src/utils/index.js"),b=A.debug("components:text:error"),v=M.shaders,E=A.debug("components:text:warn"),x=1,_=16,C=u("./src/constants/index.js").AFRAME_CDN_ROOT,O=C+"fonts/",I={aileronsemibold:O+"Aileron-Semibold.fnt",dejavu:O+"DejaVu-sdf.fnt",exo2bold:O+"Exo2Bold.fnt",exo2semibold:O+"Exo2SemiBold.fnt",kelsonsans:O+"KelsonSans.fnt",monoid:O+"Monoid.fnt",mozillavr:O+"mozillavr.fnt",roboto:O+"Roboto-msdf.json",sourcecodepro:O+"SourceCodePro.fnt"},T=["roboto"],D="roboto";c.exports.FONTS=I;var P=new q,L={},N={},U=/^\w+:/;c.exports.Component=m("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:D},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:v},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=h(),this.createOrUpdateMaterial(),this.explicitGeoDimensionsChecked=!1},update:function(J){var W=this.data,et=this.currentFont;if(N[W.font]?this.texture=N[W.font]:(this.texture=N[W.font]=new p.Texture,this.texture.anisotropy=_),this.createOrUpdateMaterial(),J.font!==W.font){this.updateFont();return}et&&(this.updateGeometry(this.geometry,et),this.updateLayout())},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var J=this.data,W,et=this.material,mt,ot=this.shaderData,pt;if(pt=J.shader,T.indexOf(J.font)!==-1||J.font.indexOf("-msdf.")>=0?pt="msdf":J.font in I&&T.indexOf(J.font)===-1&&(pt="sdf"),W=(this.shaderObject&&this.shaderObject.name)!==pt,ot.alphaTest=J.alphaTest,ot.color=J.color,ot.map=this.texture,ot.opacity=J.opacity,ot.side=$(J.side),ot.transparent=J.transparent,ot.negate=J.negate,!W){this.shaderObject.update(ot),et.transparent=ot.transparent,et.side=ot.side;return}mt=z(this.el,pt,ot),this.material=mt.material,this.shaderObject=mt.shader,this.material.side=ot.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var J=this.data,W=this.el,et,mt=this.geometry,ot=this;J.font||E("No font specified. Using the default font."),this.mesh&&(this.mesh.visible=!1),et=this.lookupFont(J.font||D)||J.font,P.get(et,function(){return F(et,J.yOffset)}).then(function(wt){var Mt;if(wt.pages.length!==1)throw new Error("Currently only single-page bitmap fonts are supported.");L[et]||(wt.widthFactor=L[wt]=V(wt)),ot.currentFont=wt,Mt=ot.getFontImageSrc(),P.get(Mt,function(){return j(Mt)}).then(function(xt){var dt=ot.texture;dt&&(dt.image=xt,dt.needsUpdate=!0,N[J.font]=dt,ot.texture=dt,ot.initMesh(),ot.currentFont=wt,ot.updateGeometry(mt,wt),ot.updateLayout(),ot.mesh.visible=!0,W.emit("textfontset",{font:J.font,fontObj:wt}))}).catch(function(xt){b(xt.message),b(xt.stack)})}).catch(function(pt){b(pt.message),b(pt.stack)})},initMesh:function(){this.mesh||(this.mesh=new p.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var J=this.lookupFont(this.data.font||D)||this.data.font,W=this.currentFont.pages[0];return W.match(U)&&W.indexOf("http")!==0?J.replace(/(\.fnt)|(\.json)/,".png"):p.LoaderUtils.extractUrlBase(J)+W},updateLayout:function(){var J,W,et=this.el,mt=this.data,ot=this.geometry,pt,wt,Mt,xt=this.mesh,dt,Ot,At,jt,bt;if(!(!xt||!ot.layout)){if(pt=et.getAttribute("geometry"),At=mt.width||pt&&pt.width||x,dt=Q(mt.wrapPixels,mt.wrapCount,this.currentFont.widthFactor),Ot=At/dt,Mt=ot.layout,wt=Ot*(Mt.height+Mt.descender),pt&&pt.primitive==="plane"&&(this.explicitGeoDimensionsChecked||(this.explicitGeoDimensionsChecked=!0,this.hasExplicitGeoWidth=!!pt.width,this.hasExplicitGeoHeight=!!pt.height),this.hasExplicitGeoWidth||et.setAttribute("geometry","width",At),this.hasExplicitGeoHeight||et.setAttribute("geometry","height",wt)),J=mt.anchor==="align"?mt.align:mt.anchor,J==="left")jt=0;else if(J==="right")jt=-1*Mt.width;else if(J==="center")jt=-1*Mt.width/2;else throw new TypeError("Invalid text.anchor property value",J);if(W=mt.baseline,W==="bottom")bt=0;else if(W==="top")bt=-1*Mt.height+Mt.ascender;else if(W==="center")bt=-1*Mt.height/2;else throw new TypeError("Invalid text.baseline property value",W);xt.position.x=jt*Ot+mt.xOffset,xt.position.y=bt*Ot,xt.position.z=mt.zOffset,xt.scale.set(Ot,-1*Ot,Ot)}},lookupFont:function(J){return I[J]},updateGeometry:function(){var J={},W={},et=/\\n/g,mt=/\\t/g;return function(ot,pt){var wt=this.data;W.font=pt,W.lineHeight=wt.lineHeight&&isFinite(wt.lineHeight)?wt.lineHeight:pt.common.lineHeight,W.text=wt.value.toString().replace(et,`
`).replace(mt,"	"),W.width=Q(wt.wrapPixels,wt.wrapCount,pt.widthFactor),ot.update(A.extend(J,wt,W))}}()});function $(J){switch(J){case"back":return p.FrontSide;case"double":return p.DoubleSide;default:return p.BackSide}}function F(J,W){return new Promise(function(et,mt){g(J,function(ot,pt){if(ot){b("Error loading font",J),mt(ot);return}J.indexOf("/Roboto-msdf.json")>=0&&(W=30),W&&pt.chars.map(function(Mt){Mt.yoffset+=W}),et(pt)})})}function j(J){return new Promise(function(W,et){new p.ImageLoader().load(J,function(mt){W(mt)},void 0,function(){b("Error loading font image",J),et(null)})})}function z(J,W,et){var mt,ot;return ot=new v[W].Shader,ot.el=J,ot.init(et),ot.update(et),mt=ot.material,mt.transparent=et.transparent,{material:mt,shader:ot}}function Q(J,W,et){return J||(.5+W)*et}function V(J){var W=0,et=0,mt=0;return J.chars.map(function(ot){W+=ot.xadvance,ot.id>=48&&ot.id<=57&&(mt++,et+=ot.xadvance)}),mt?et/mt:W/J.chars.length}function q(){var J=this.cache={};this.get=function(W,et){return W in J||(J[W]=et()),J[W]}}},"./src/components/tracked-controls-webvr.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/tracked-controls.js"),m=u("./src/constants/index.js").DEFAULT_CAMERA_HEIGHT,M=u("./src/lib/three.js"),p=u("./src/constants/index.js").DEFAULT_HANDEDNESS,A={x:.175,y:-.3,z:-.03},b={x:0,y:0,z:-.175},v={touches:[]},E={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};c.exports.Component=h("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new M.Vector3,this.controllerQuaternion=new M.Quaternion,this.controllerEuler=new M.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(x,_){var C=this.el.getObject3D("mesh");C&&C.update&&C.update(_/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return m},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var x=this.data,_=g.findMatchingControllerWebVR(this.system.controllers,x.id,x.idPrefix,x.hand,x.controller);this.controller=_,this.el.components["tracked-controls"].controller=_,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(x){var _=this.controller,C=this.controllerEuler,O=this.controllerQuaternion,I=this.deltaControllerPosition,T,D,P,L,N;D=this.getHeadElement(),P=D.object3D,N=this.defaultUserHeight(),L=_.pose,T=(_?_.hand:void 0)||p,x.copy(P.position),I.set(A.x*(T==="left"?-1:T==="right"?1:0),A.y,A.z),I.multiplyScalar(N),I.applyAxisAngle(P.up,P.rotation.y),x.add(I),I.set(b.x,b.y,b.z),I.multiplyScalar(N),L.orientation?O.fromArray(L.orientation):O.copy(P.quaternion),C.setFromQuaternion(O),C.set(C.x,C.y,0),I.applyEuler(C),x.add(I)},updatePose:function(){var x=this.controller,_=this.data,C=this.el.object3D,O,I=this.system.vrDisplay,T;x&&(O=x.pose,O.position?C.position.fromArray(O.position):_.armModel&&this.applyArmModel(C.position),O.orientation&&C.quaternion.fromArray(O.orientation),I&&O.position&&(T=this.el.sceneEl.renderer.xr.getStandingMatrix(),C.matrix.compose(C.position,C.quaternion,C.scale),C.matrix.multiplyMatrices(T,C.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),C.rotateX(this.data.orientationOffset.x*M.MathUtils.DEG2RAD),C.rotateY(this.data.orientationOffset.y*M.MathUtils.DEG2RAD),C.rotateZ(this.data.orientationOffset.z*M.MathUtils.DEG2RAD))},updateButtons:function(){var x,_=this.controller,C;if(_){for(C=0;C<_.buttons.length;++C)this.buttonStates[C]||(this.buttonStates[C]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[C]||(this.buttonEventDetails[C]={id:C,state:this.buttonStates[C]}),x=_.buttons[C],this.handleButton(C,x);this.handleAxes()}},handleButton:function(x,_){var C;return C=this.handlePress(x,_)|this.handleTouch(x,_)|this.handleValue(x,_),C?(this.el.emit(E.BUTTONCHANGED,this.buttonEventDetails[x],!1),!0):!1},handleAxes:function(){var x=!1,_=this.controller.axes,C,O=this.axis,I=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),C=0;C<_.length;++C)I.push(O[C]!==_[C]),I[C]&&(x=!0);if(!x)return!1;for(this.axis.splice(0,this.axis.length),C=0;C<_.length;C++)this.axis.push(_[C]);return this.el.emit(E.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(x,_){var C,O=this.buttonStates[x];return _.pressed===O.pressed?!1:(C=_.pressed?E.BUTTONDOWN:E.BUTTONUP,this.el.emit(C,this.buttonEventDetails[x],!1),O.pressed=_.pressed,!0)},handleTouch:function(x,_){var C,O=this.buttonStates[x];return _.touched===O.touched?!1:(C=_.touched?E.TOUCHSTART:E.TOUCHEND,this.el.emit(C,this.buttonEventDetails[x],!1,v),O.touched=_.touched,!0)},handleValue:function(x,_){var C=this.buttonStates[x];return _.value===C.value?!1:(C.value=_.value,!0)}})},"./src/components/tracked-controls-webxr.js":(c,d,u)=>{var h=u("./src/utils/tracked-controls.js"),g=u("./src/core/component.js").registerComponent,m={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};c.exports.Component=g("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},handTrackingEnabled:{default:!1},index:{type:"int",default:-1},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"gripSpace"}},init:function(){this.updateController=this.updateController.bind(this),this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},update:function(){this.updateController()},play:function(){var M=this.el.sceneEl;this.updateController(),M.addEventListener("controllersupdated",this.updateController)},pause:function(){var M=this.el.sceneEl;M.removeEventListener("controllersupdated",this.updateController)},isControllerPresent:function(M){return!(!this.controller||this.controller.gamepad||M.inputSource.handedness!=="none"&&M.inputSource.handedness!==this.data.hand)},updateController:function(){this.controller=h.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index,this.data.iterateControllerProfiles,this.data.handTrackingEnabled),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var M=this.el.sceneEl,p=this.controller,A=M.frame;!p||!M.frame||!this.system.referenceSpace||p.hand||(this.pose=A.getPose(p[this.data.space],this.system.referenceSpace),this.updatePose(),this.updateButtons())},updatePose:function(){var M=this.el.object3D,p=this.pose;p&&(M.matrix.elements=p.transform.matrix,M.matrix.decompose(M.position,M.rotation,M.scale))},updateButtons:function(){var M,p,A=this.controller,b;if(!(!A||!A.gamepad)){for(b=A.gamepad,p=0;p<b.buttons.length;++p)this.buttonStates[p]||(this.buttonStates[p]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[p]||(this.buttonEventDetails[p]={id:p,state:this.buttonStates[p]}),M=b.buttons[p],this.handleButton(p,M);this.handleAxes()}},handleButton:function(M,p){var A;return A=this.handlePress(M,p)|this.handleTouch(M,p)|this.handleValue(M,p),A?(this.el.emit(m.BUTTONCHANGED,this.buttonEventDetails[M],!1),!0):!1},handleAxes:function(){var M=!1,p=this.controller.gamepad.axes,A,b=this.axis,v=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),A=0;A<p.length;++A)v.push(b[A]!==p[A]),v[A]&&(M=!0);if(!M)return!1;for(this.axis.splice(0,this.axis.length),A=0;A<p.length;A++)this.axis.push(p[A]);return this.el.emit(m.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(M,p){var A,b=this.buttonStates[M];return p.pressed===b.pressed?!1:(A=p.pressed?m.BUTTONDOWN:m.BUTTONUP,this.el.emit(A,this.buttonEventDetails[M],!1),b.pressed=p.pressed,!0)},handleTouch:function(M,p){var A,b=this.buttonStates[M];return p.touched===b.touched?!1:(A=p.touched?m.TOUCHSTART:m.TOUCHEND,this.el.emit(A,this.buttonEventDetails[M],!1),b.touched=p.touched,!0)},handleValue:function(M,p){var A=this.buttonStates[M];return p.value===A.value?!1:(A.value=p.value,!0)}})},"./src/components/tracked-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},handTrackingEnabled:{default:!1},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"targetRaySpace"}},after:["tracked-controls-webvr","tracked-controls-webxr"],update:function(){var g=this.data,m=this.el;m.sceneEl.hasWebXR?m.setAttribute("tracked-controls-webxr",{id:g.id,hand:g.hand,index:g.controller,iterateControllerProfiles:g.iterateControllerProfiles,handTrackingEnabled:g.handTrackingEnabled,space:g.space}):m.setAttribute("tracked-controls-webvr",g)}})},"./src/components/valve-index-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),m=u("./src/utils/tracked-controls.js"),M=m.checkControllerPresentAndSetup,p=m.emitIfAxesChanged,A=m.onButtonEvent,b=u("./src/constants/index.js").AFRAME_CDN_ROOT,v=b+"controllers/valve/index/valve-index-",E={left:v+"left.glb",right:v+"right.glb"},x="valve",_=u("./src/utils/index.js").device.isWebXRAvailable,C={left:{x:-.00023692678902063457,y:.04724540367838371,z:-.061959880395271096},right:{x:.002471558599671131,y:.055765208987076195,z:-.061068168708348844}},O={left:{x:0,y:-.05,z:.06},right:{x:0,y:-.05,z:.06}},I={left:{_x:.692295102620542,_y:-.0627618864318427,_z:-.06265893149611756,_order:"XYZ"},right:{_x:.6484021229942998,_y:-.032563619881892894,_z:-.1327973171917482,_order:"XYZ"}},T={left:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"},right:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"}},D=_?T:I,P=_?O:C;c.exports.Component=h("valve-index-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},after:["tracked-controls"],mapping:{axes:{trackpad:[0,1],thumbstick:[2,3]},buttons:["trigger","grip","trackpad","thumbstick","abutton"]},init:function(){var L=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(N){A(N.detail.id,"down",L)},this.onButtonUp=function(N){A(N.detail.id,"up",L)},this.onButtonTouchEnd=function(N){A(N.detail.id,"touchend",L)},this.onButtonTouchStart=function(N){A(N.detail.id,"touchstart",L)},this.previousButtonValues={},this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var L=this.el;L.addEventListener("buttonchanged",this.onButtonChanged),L.addEventListener("buttondown",this.onButtonDown),L.addEventListener("buttonup",this.onButtonUp),L.addEventListener("touchend",this.onButtonTouchEnd),L.addEventListener("touchstart",this.onButtonTouchStart),L.addEventListener("model-loaded",this.onModelLoaded),L.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var L=this.el;L.removeEventListener("buttonchanged",this.onButtonChanged),L.removeEventListener("buttondown",this.onButtonDown),L.removeEventListener("buttonup",this.onButtonUp),L.removeEventListener("touchend",this.onButtonTouchEnd),L.removeEventListener("touchstart",this.onButtonTouchStart),L.removeEventListener("model-loaded",this.onModelLoaded),L.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var L=this.data,N=L.hand==="right"?0:L.hand==="left"?1:2;M(this,x,{index:N,iterateControllerProfiles:!0,hand:L.hand})},injectTrackedControls:function(){var L=this.el,N=this.data;L.setAttribute("tracked-controls",{idPrefix:x,controller:N.hand==="right"?1:N.hand==="left"?0:2,hand:N.hand,orientationOffset:N.orientationOffset}),this.loadModel()},loadModel:function(){var L=this.data;L.model&&this.el.setAttribute("gltf-model",""+E[L.hand])},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(L){var N=this.mapping.buttons[L.detail.id],U=this.buttonMeshes,$;N&&(N==="trigger"&&($=L.detail.state.value,U&&U.trigger&&(U.trigger.rotation.x=this.triggerOriginalRotationX-$*(Math.PI/40))),this.el.emit(N+"changed",L.detail.state))},onModelLoaded:function(L){var N,U=L.detail.model,$=this;L.target!==this.el||!this.data.model||(N=this.buttonMeshes={},N.grip={left:U.getObjectByName("leftgrip"),right:U.getObjectByName("rightgrip")},N.menu=U.getObjectByName("menubutton"),N.system=U.getObjectByName("systembutton"),N.trackpad=U.getObjectByName("touchpad"),N.trigger=U.getObjectByName("trigger"),this.triggerOriginalRotationX=N.trigger.rotation.x,Object.keys(N).forEach(function(F){$.setButtonColor(F,$.data.buttonColor)}),U.position.copy(P[this.data.hand]),U.rotation.copy(D[this.data.hand]),this.el.emit("controllermodelready",{name:"valve-index-controls",model:this.data.model,rayOrigin:new g.Vector3(0,0,0)}))},onAxisMoved:function(L){p(this,this.mapping.axes,L)},updateModel:function(L,N){var U,$;this.data.model&&($=N.indexOf("touch")!==-1,!$&&(U=N==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(L,U)))},setButtonColor:function(L,N){}})},"./src/components/visible.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},"./src/components/vive-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/tracked-controls.js"),m=g.checkControllerPresentAndSetup,M=g.emitIfAxesChanged,p=g.onButtonEvent,A=u("./src/constants/index.js").AFRAME_CDN_ROOT,b=A+"controllers/vive/vr_controller_vive.obj",v=A+"controllers/vive/vr_controller_vive.mtl",E=u("./src/utils/index.js").device.isWebXRAvailable,x="htc-vive",_="OpenVR ",C=E?x:_,O={axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]},I={axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","none"]},T=E?I:O;c.exports.Component=h("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},after:["tracked-controls"],mapping:T,init:function(){var D=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(P){p(P.detail.id,"down",D)},this.onButtonUp=function(P){p(P.detail.id,"up",D)},this.onButtonTouchEnd=function(P){p(P.detail.id,"touchend",D)},this.onButtonTouchStart=function(P){p(P.detail.id,"touchstart",D)},this.previousButtonValues={},this.bindMethods()},update:function(){var D=this.data;this.controllerIndex=D.hand==="right"?0:D.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var D=this.el;D.addEventListener("buttonchanged",this.onButtonChanged),D.addEventListener("buttondown",this.onButtonDown),D.addEventListener("buttonup",this.onButtonUp),D.addEventListener("touchend",this.onButtonTouchEnd),D.addEventListener("touchstart",this.onButtonTouchStart),D.addEventListener("model-loaded",this.onModelLoaded),D.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var D=this.el;D.removeEventListener("buttonchanged",this.onButtonChanged),D.removeEventListener("buttondown",this.onButtonDown),D.removeEventListener("buttonup",this.onButtonUp),D.removeEventListener("touchend",this.onButtonTouchEnd),D.removeEventListener("touchstart",this.onButtonTouchStart),D.removeEventListener("model-loaded",this.onModelLoaded),D.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var D=this.data;m(this,C,{index:this.controllerIndex,hand:D.hand})},injectTrackedControls:function(){var D=this.el,P=this.data;D.setAttribute("tracked-controls",{idPrefix:C,hand:P.hand,controller:this.controllerIndex,orientationOffset:P.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:b,mtl:v})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(D){var P=this.mapping.buttons[D.detail.id],L=this.buttonMeshes,N;P&&(P==="trigger"&&(N=D.detail.state.value,L&&L.trigger&&(L.trigger.rotation.x=-N*(Math.PI/12))),this.el.emit(P+"changed",D.detail.state))},onModelLoaded:function(D){var P,L=D.detail.model,N=this;D.target!==this.el||!this.data.model||(P=this.buttonMeshes={},P.grip={left:L.getObjectByName("leftgrip"),right:L.getObjectByName("rightgrip")},P.menu=L.getObjectByName("menubutton"),P.system=L.getObjectByName("systembutton"),P.trackpad=L.getObjectByName("touchpad"),P.touchpad=L.getObjectByName("touchpad"),P.trigger=L.getObjectByName("trigger"),Object.keys(P).forEach(function(U){N.setButtonColor(U,N.data.buttonColor)}),L.position.set(0,-.015,.04))},onAxisMoved:function(D){M(this,this.mapping.axes,D)},updateModel:function(D,P){var L,N;this.data.model&&(N=P.indexOf("touch")!==-1,!N&&(L=P==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(D,L)))},setButtonColor:function(D,P){var L=this.buttonMeshes;if(L){if(D==="grip"){L.grip.left.material.color.set(P),L.grip.right.material.color.set(P);return}L[D].material.color.set(P)}}})},"./src/components/vive-focus-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/tracked-controls.js"),m=g.checkControllerPresentAndSetup,M=g.emitIfAxesChanged,p=g.onButtonEvent,A=u("./src/constants/index.js").AFRAME_CDN_ROOT,b=A+"controllers/vive/focus-controller/focus-controller.gltf",v=u("./src/utils/index.js").device.isWebXRAvailable,E="htc-vive-focus",x="HTC Vive Focus ",_=v?E:x,C={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},O={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","none","menu"]},I=v?O:C;c.exports.Component=h("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},after:["tracked-controls"],mapping:I,bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var T=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(D){p(D.detail.id,"down",T)},this.onButtonUp=function(D){p(D.detail.id,"up",T)},this.onButtonTouchStart=function(D){p(D.detail.id,"touchstart",T)},this.onButtonTouchEnd=function(D){p(D.detail.id,"touchend",T)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var T=this.el;T.addEventListener("buttonchanged",this.onButtonChanged),T.addEventListener("buttondown",this.onButtonDown),T.addEventListener("buttonup",this.onButtonUp),T.addEventListener("touchstart",this.onButtonTouchStart),T.addEventListener("touchend",this.onButtonTouchEnd),T.addEventListener("model-loaded",this.onModelLoaded),T.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var T=this.el;T.removeEventListener("buttonchanged",this.onButtonChanged),T.removeEventListener("buttondown",this.onButtonDown),T.removeEventListener("buttonup",this.onButtonUp),T.removeEventListener("touchstart",this.onButtonTouchStart),T.removeEventListener("touchend",this.onButtonTouchEnd),T.removeEventListener("model-loaded",this.onModelLoaded),T.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){m(this,_,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var T=this.el,D=this.data;T.setAttribute("tracked-controls",{armModel:D.armModel,idPrefix:_,orientationOffset:D.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",b)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(T){var D=T.detail.model,P;T.target!==this.el||!this.data.model||(P=this.buttonMeshes={},P.trigger=D.getObjectByName("BumperKey"),P.triggerPressed=D.getObjectByName("BumperKey_Press"),P.triggerPressed&&(P.triggerPressed.visible=!1),P.trackpad=D.getObjectByName("TouchPad"),P.trackpadPressed=D.getObjectByName("TouchPad_Press"),P.trackpadPressed&&(P.trackpadPressed.visible=!1))},onButtonChanged:function(T){var D=this.mapping.buttons[T.detail.id];D&&this.el.emit(D+"changed",T.detail.state)},onAxisMoved:function(T){M(this,this.mapping.axes,T)},updateModel:function(T,D){this.data.model&&this.updateButtonModel(T,D)},updateButtonModel:function(T,D){var P=this.buttonMeshes,L=T+"Pressed";if(!(!P||!P[T]||!P[L])){var N;switch(D){case"down":N=this.data.buttonHighlightColor;break;case"touchstart":N=this.data.buttonTouchedColor;break}N&&P[L].material.color.set(N),P[L].visible=!!N,P[T].visible=!N}}})},"./src/components/wasd-controls.js":(c,d,u)=>{var h=u("./src/constants/index.js").keyboardevent.KEYCODE_TO_CODE,g=u("./src/core/component.js").registerComponent,m=u("./src/lib/three.js"),M=u("./src/utils/index.js"),p=M.shouldCaptureKeyEvent,A=1e-5,b=.2,v=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];c.exports.Component=g("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},after:["look-controls"],init:function(){this.keys={},this.easing=1.1,this.velocity=new m.Vector3,this.onBlur=this.onBlur.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this),this.attachVisibilityEventListeners()},tick:function(x,_){var C=this.data,O=this.el,I=this.velocity;!I[C.adAxis]&&!I[C.wsAxis]&&E(this.keys)||(_=_/1e3,this.updateVelocity(_),!(!I[C.adAxis]&&!I[C.wsAxis])&&O.object3D.position.add(this.getMovementVector(_)))},update:function(x){x.adAxis!==this.data.adAxis&&(this.velocity[x.adAxis]=0),x.wsAxis!==this.data.wsAxis&&(this.velocity[x.wsAxis]=0)},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(x){var _,C,O,I=this.data,T=this.keys,D=this.velocity,P,L;if(C=I.adAxis,P=I.wsAxis,x>b){D[C]=0,D[P]=0;return}var N=Math.pow(1/this.easing,x*60);D[C]!==0&&(D[C]=D[C]*N),D[P]!==0&&(D[P]=D[P]*N),Math.abs(D[C])<A&&(D[C]=0),Math.abs(D[P])<A&&(D[P]=0),I.enabled&&(_=I.acceleration,I.adEnabled&&(O=I.adInverted?-1:1,(T.KeyA||T.ArrowLeft)&&(D[C]-=O*_*x),(T.KeyD||T.ArrowRight)&&(D[C]+=O*_*x)),I.wsEnabled&&(L=I.wsInverted?-1:1,(T.KeyW||T.ArrowUp)&&(D[P]-=L*_*x),(T.KeyS||T.ArrowDown)&&(D[P]+=L*_*x)))},getMovementVector:function(){var x=new m.Vector3(0,0,0),_=new m.Euler(0,0,0,"YXZ");return function(C){var O=this.el.getAttribute("rotation"),I=this.velocity,T;return x.copy(I),x.multiplyScalar(C),O&&(T=this.data.fly?O.x:0,_.set(m.MathUtils.degToRad(T),m.MathUtils.degToRad(O.y),0),x.applyEuler(_)),x}}(),attachVisibilityEventListeners:function(){window.oncontextmenu=this.onContextMenu,window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onContextMenu:function(){for(var x=Object.keys(this.keys),_=0;_<x.length;_++)delete this.keys[x[_]]},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(x){var _;p(x)&&(_=x.code||h[x.keyCode],v.indexOf(_)!==-1&&(this.keys[_]=!0))},onKeyUp:function(x){var _;_=x.code||h[x.keyCode],delete this.keys[_]}});function E(x){var _;for(_ in x)return!1;return!0}},"./src/components/windows-motion-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/utils/tracked-controls.js"),m=g.checkControllerPresentAndSetup,M=g.emitIfAxesChanged,p=g.onButtonEvent,A=u("./src/utils/index.js"),b=A.debug("components:windows-motion-controls:debug"),v=A.debug("components:windows-motion-controls:warn"),E=u("./src/constants/index.js").DEFAULT_HANDEDNESS,x=u("./src/constants/index.js").AFRAME_CDN_ROOT,_=x+"controllers/microsoft/",C={left:"left.glb",right:"right.glb",default:"universal.glb"},O=u("./src/utils/index.js").device.isWebXRAvailable,I="windows-mixed-reality",T="Spatial Controller (Spatial Interaction Source) ",D=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,P=O?I:T,L={axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},N={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},U=O?N:L;c.exports.Component=h("windows-motion-controls",{schema:{hand:{default:E},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},after:["tracked-controls"],mapping:U,bindMethods:function(){this.onModelError=this.onModelError.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var $=this,F=this.el;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(j){p(j.detail.id,"down",$)},this.onButtonUp=function(j){p(j.detail.id,"up",$)},this.onButtonTouchStart=function(j){p(j.detail.id,"touchstart",$)},this.onButtonTouchEnd=function(j){p(j.detail.id,"touchend",$)},this.onControllerConnected=function(){$.setModelVisibility(!0)},this.onControllerDisconnected=function(){$.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},F.addEventListener("controllerconnected",this.onControllerConnected),F.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var $=this.el;$.addEventListener("buttonchanged",this.onButtonChanged),$.addEventListener("buttondown",this.onButtonDown),$.addEventListener("buttonup",this.onButtonUp),$.addEventListener("touchstart",this.onButtonTouchStart),$.addEventListener("touchend",this.onButtonTouchEnd),$.addEventListener("axismove",this.onAxisMoved),$.addEventListener("model-error",this.onModelError),$.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var $=this.el;$.removeEventListener("buttonchanged",this.onButtonChanged),$.removeEventListener("buttondown",this.onButtonDown),$.removeEventListener("buttonup",this.onButtonUp),$.removeEventListener("touchstart",this.onButtonTouchStart),$.removeEventListener("touchend",this.onButtonTouchEnd),$.removeEventListener("axismove",this.onAxisMoved),$.removeEventListener("model-error",this.onModelError),$.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){m(this,P,{hand:this.data.hand,index:this.data.pair,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(!this.data.model||this.rayOrigin.createdFromMesh){this.modelReady();return}var $=this.createControllerModelUrl();this.loadModel($)},createControllerModelUrl:function($){var F=this.el.components["tracked-controls"],j=F?F.controller:null,z="default",Q=this.data.hand,V;if(j&&!window.hasNativeWebXRImplementation&&(Q=j.hand,!$)){var q=j.id.match(D);z=q&&q[0]||z}return V=C[Q]||C.default,_+z+"/"+V},injectTrackedControls:function(){var $=this.data;this.el.setAttribute("tracked-controls",{idPrefix:P,controller:$.pair,hand:$.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function($){var F=this.createControllerModelUrl(!0);$.detail.src!==F?(v("Failed to load controller model for device, attempting to load default."),this.loadModel(F)):v("Failed to load default controller model.")},loadModel:function($){this.el.setAttribute("gltf-model","url("+$+")")},onModelLoaded:function($){var F=this.controllerModel=$.detail.model,j=this.loadedMeshInfo,z,Q,V,q;if($.target!==this.el)return;if(b("Processing model"),j.buttonMeshes={},j.axisMeshes={},F){for(z=0;z<this.mapping.buttons.length;z++){if(Q=this.mapping.buttonMeshNames[this.mapping.buttons[z]],!Q){b("Skipping unknown button at index: "+z+" with mapped name: "+this.mapping.buttons[z]);continue}if(V=F.getObjectByName(Q),!V){v("Missing button mesh with name: "+Q);continue}q={index:z,value:J(V,"VALUE"),pressed:J(V,"PRESSED"),unpressed:J(V,"UNPRESSED")},q.value&&q.pressed&&q.unpressed?j.buttonMeshes[this.mapping.buttons[z]]=q:v("Missing button submesh under mesh with name: "+Q+"(VALUE: "+!!q.value+", PRESSED: "+!!q.pressed+", UNPRESSED:"+!!q.unpressed+")")}for(z=0;z<this.mapping.axisMeshNames.length;z++){if(Q=this.mapping.axisMeshNames[z],!Q){b("Skipping unknown axis at index: "+z);continue}if(V=F.getObjectByName(Q),!V){v("Missing axis mesh with name: "+Q);continue}q={index:z,value:J(V,"VALUE"),min:J(V,"MIN"),max:J(V,"MAX")},q.value&&q.min&&q.max?j.axisMeshes[z]=q:v("Missing axis submesh under mesh with name: "+Q+"(VALUE: "+!!q.value+", MIN: "+!!q.min+", MAX:"+!!q.max+")")}this.calculateRayOriginFromMesh(F),this.setModelVisibility()}b("Model load complete.");function J(W,et){for(var mt=0,ot=W.children.length;mt<ot;mt++){var pt=W.children[mt];if(pt&&pt.name===et)return pt}}},calculateRayOriginFromMesh:function(){var $=new THREE.Quaternion;return function(F){var j;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,j=F.getObjectByName(this.mapping.pointingPoseMeshName),j){var z=F.parent;z&&(F.parent=null,F.updateMatrixWorld(!0),F.parent=z),j.getWorldPosition(this.rayOrigin.origin),j.getWorldQuaternion($),this.rayOrigin.direction.applyQuaternion($),z&&F.updateMatrixWorld(!0)}else b("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var $=new THREE.Quaternion;return function(F,j){var z=this.loadedMeshInfo.axisMeshes[F];if(z){var Q=z.min,V=z.max,q=z.value,J=j*.5+.5;q.setRotationFromQuaternion($.copy(Q.quaternion).slerp(V.quaternion,J)),q.position.lerpVectors(Q.position,V.position,J)}}}(),lerpButtonTransform:function(){var $=new THREE.Quaternion;return function(F,j){var z=this.loadedMeshInfo.buttonMeshes[F];if(z){var Q=z.unpressed,V=z.pressed,q=z.value;q.setRotationFromQuaternion($.copy(Q.quaternion).slerp(V.quaternion,j)),q.position.lerpVectors(Q.position,V.position,j)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function($){var F=this.mapping.buttons[$.detail.id];F&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(F,$.detail.state.value),this.el.emit(F+"changed",$.detail.state))},onAxisMoved:function($){var F=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var j=0;j<F;j++)this.lerpAxisTransform(j,$.detail.axis[j]||0);M(this,this.mapping.axes,$)},setModelVisibility:function($){var F=this.el.getObject3D("mesh");this.controllerPresent&&($=$!==void 0?$:this.modelVisible,this.modelVisible=$,F&&(F.visible=$))}})},"./src/constants/index.js":(c,d,u)=>{c.exports={AFRAME_CDN_ROOT:window.AFRAME_CDN_ROOT||"https://cdn.aframe.io/",AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:u("./src/constants/keyboardevent.js")}},"./src/constants/keyboardevent.js":c=>{c.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},"./src/core/a-assets.js":(c,d,u)=>{var h=u("./src/core/a-node.js").ANode,g=u("./src/utils/debug.js"),m=u("./src/lib/three.js"),M=new m.FileLoader,p=g("core:a-assets:warn");class A extends h{constructor(){super(),this.isAssets=!0,this.fileLoader=M,this.timeout=null}doConnectedCallback(){var T=this,D,P=[],L,N,U,$,F,j;if(super.doConnectedCallback(),!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for($=this.querySelectorAll("img"),D=0;D<$.length;D++)U=E($[D]),P.push(new Promise(function(z,Q){if(m.Cache.add($[D].getAttribute("src"),U),U.complete){z();return}U.onload=z,U.onerror=Q}));for(N=this.querySelectorAll("audio, video"),D=0;D<N.length;D++)L=E(N[D]),!L.src&&!L.srcObject&&p("Audio/video asset has neither `src` nor `srcObject` attributes."),P.push(v(L));j=this.getChildren(),j.forEach(function(z){!z.isAssetItem||!z.hasAttribute("src")||P.push(new Promise(function(V,q){if(z.hasLoaded)return V();z.addEventListener("loaded",V),z.addEventListener("error",q)}))}),Promise.allSettled(P).then(function(){T.timeout!==null&&T.load()}),F=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){T.hasLoaded||(p("Asset loading timed out in",F,"ms"),T.timeout=null,T.emit("timeout"),T.load())},F)}disconnectedCallback(){super.disconnectedCallback(),this.timeout&&clearTimeout(this.timeout)}load(){super.load.call(this,null,function(){return!1})}}customElements.define("a-assets",A);class b extends h{constructor(){super(),this.data=null,this.isAssetItem=!0}connectedCallback(){var T=this,D=this.getAttribute("src");M.setResponseType(this.getAttribute("response-type")||C(D)),M.load(D,function(L){T.data=L,h.prototype.load.call(T)},function(L){T.emit("progress",{loadedBytes:L.loaded,totalBytes:L.total,xhr:L})},function(L){T.emit("error",{xhr:L})})}}customElements.define("a-asset-item",b);function v(I){if(!(!I.hasAttribute("autoplay")&&I.getAttribute("preload")!=="auto"))return new Promise(function(T,D){if(I.readyState===4)return T();if(I.error)return D();I.addEventListener("loadeddata",P,!1),I.addEventListener("progress",P,!1),I.addEventListener("error",D,!1);function P(){for(var L=0,N=0;N<I.buffered.length;N++)L+=I.buffered.end(N)-I.buffered.start(N);L>=I.duration&&(I.tagName==="VIDEO"&&m.Cache.add(I.getAttribute("src"),I),T())}})}function E(I){var T=x(I);return T.tagName&&T.tagName.toLowerCase()==="video"&&(T.setAttribute("playsinline",""),T.setAttribute("webkit-playsinline","")),T!==I&&(I.parentNode.appendChild(T),I.parentNode.removeChild(I)),T}function x(I){var T,D;return I.hasAttribute("crossorigin")||(D=I.getAttribute("src"),D!==null&&(D.indexOf("://")===-1||_(D)===window.location.host))?I:(p('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',D),I.crossOrigin="anonymous",T=I.cloneNode(!0),T)}function _(I){var T=I.indexOf("://")>-1?I.split("/")[2]:I.split("/")[0];return T.substring(0,T.indexOf(":"))}function C(I){var T=O(I),D=T.lastIndexOf(".");if(D>=0){var P=T.slice(D,I.search(/\?|#|$/));if(P===".glb")return"arraybuffer"}return"text"}c.exports.inferResponseType=C;function O(I){var T=document.createElement("a");T.href=I;var D=T.search.replace(/^\?/,""),P=I.replace(D,"").replace("?","");return P.substring(P.lastIndexOf("/")+1)}c.exports.getFileNameFromURL=O},"./src/core/a-cubemap.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),g=h("core:cubemap:warn");class m extends HTMLElement{constructor(p){return p=super(p),p}onReadyStateChange(){document.readyState==="complete"&&this.doConnectedCallback()}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}m.prototype.doConnectedCallback.call(this)}doConnectedCallback(){this.srcs=this.validate()}validate(){var p=this.querySelectorAll("[src]"),A,b=[];if(p.length===6){for(A=0;A<p.length;A++)p[A].tagName==="IMG"?b.push(p[A]):b.push(p[A].getAttribute("src"));return b}g("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")}}customElements.define("a-cubemap",m)},"./src/core/a-entity.js":(c,d,u)=>{var h=u("./src/core/a-node.js").ANode,g=u("./src/core/component.js").components,m=u("./src/lib/three.js"),M=u("./src/utils/index.js"),p=M.debug("core:a-entity:debug"),A=M.debug("core:a-entity:warn"),b="__",v=["position","rotation","scale","visible"],E={once:!0};class x extends h{constructor(){super(),this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new m.Group,this.object3D.rotation.order="YXZ",this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}attributeChangedCallback(P,L,N){var U=this.components[P];if(super.attributeChangedCallback(),U&&U.justInitialized&&N===""){delete U.justInitialized;return}!U&&N===null||this.setEntityAttribute(P,L,N)}doConnectedCallback(){var P=this,L,N;if(super.doConnectedCallback(),N=this.sceneEl,this.addToParent(),!this.isScene){if(!N){this.load();return}if(L=N.querySelector("a-assets"),L&&!L.hasLoaded){L.addEventListener("loaded",function(){P.load()});return}this.load()}}disconnectedCallback(){var P;if(this.parentEl){for(P in this.components)this.removeComponent(P,!1);this.isScene||(this.removeFromParent(),super.disconnectedCallback(),this.object3D.el=null)}}getObject3D(P){return this.object3DMap[P]}setObject3D(P,L){var N,U=this;if(!(L instanceof m.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");N=this.getObject3D(P),N&&this.object3D.remove(N),L.el=this,L.children.length&&L.traverse(function(F){F.el=U}),this.object3D.add(L),this.object3DMap[P]=L,this.emit("object3dset",{object:L,type:P})}removeObject3D(P){var L=this.getObject3D(P);if(!L){A("Tried to remove `Object3D` of type:",P,"which was not defined.");return}this.object3D.remove(L),delete this.object3DMap[P],this.emit("object3dremove",{type:P})}getOrCreateObject3D(P,L){var N=this.getObject3D(P);return!N&&L&&(N=new L,this.setObject3D(P,N)),A("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),N}add(P){if(!P.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(P.object3D),this.emit("child-attached",{el:P})}addToParent(){var P=this.parentEl=this.parentNode;!P||!P.add||this.attachedToParent||(P.add(this),this.attachedToParent=!0)}removeFromParent(){var P=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,P.emit("child-detached",{el:this})}load(){var P=this;this.hasLoaded||!this.parentEl||super.load.call(this,function(){P.parentEl&&(P.updateComponents(),(P.isScene||P.parentEl.isPlaying)&&P.play())})}remove(P){P?this.object3D.remove(P.object3D):this.parentNode.removeChild(this)}getChildEntities(){for(var P=this.children,L=[],N=0;N<P.length;N++){var U=P[N];U instanceof x&&L.push(U)}return L}initComponent(P,L,N){var U,$,F,j,z;F=M.split(P,b),j=F[0],$=F.length>2?F.slice(1).join("__"):F[1],g[j]&&(z=_(this,P)||L!==void 0,!(!z&&!N)&&(P in this.components||(this.initComponentDependencies(j),U=new g[j].Component(this,L,$),this.isPlaying&&U.play(),this.hasAttribute(P)||(U.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,P,"")),p("Component initialized: %s",P))))}initComponentDependencies(P){var L=this,N=g[P],U,$;if(N&&(U=g[P].dependencies,!!U))for($=0;$<U.length;$++)L.initComponent(U[$],window.HTMLElement.prototype.getAttribute.call(L,U[$])||void 0,!0)}removeComponent(P,L){var N;if(N=this.components[P],!!N){if(!N.initialized){this.addEventListener("componentinitialized",function U($){$.detail.name===P&&(this.removeComponent(P,L),this.removeEventListener("componentinitialized",U))});return}N.pause(),N.remove(),L&&(N.destroy(),delete this.components[P],this.hasAttribute(P)&&window.HTMLElement.prototype.removeAttribute.call(this,P)),this.emit("componentremoved",N.evtDetail,!1)}}updateComponents(){var P,L,N,U,$=this.componentsToUpdate;if(!(!this.hasLoaded&&!this.isLoading)){for(N=0;N<this.mixinEls.length;N++)for(U in this.mixinEls[N].componentCache)I(U)&&($[U]=!0);if(this.getExtraComponents){L=this.getExtraComponents();for(U in L)I(U)&&($[U]=!0)}for(N=0;N<this.attributes.length;++N)U=this.attributes[N].name,v.indexOf(U)===-1&&I(U)&&($[U]=!0);for(N=0;N<v.length;N++)U=v[N],this.hasAttribute(U)&&this.updateComponent(U,this.getDOMAttribute(U));for(U in $)P=O(this.getDOMAttribute(U),L&&L[U]),this.updateComponent(U,P),delete $[U]}}updateComponent(P,L,N){var U=this.components[P];if(U){if(L===null&&!_(this,P)){this.removeComponent(P,!0);return}U.updateProperties(L,N);return}this.initComponent(P,L,!1)}removeAttribute(P,L){var N=this.components[P];if(N&&L===void 0&&this.removeComponent(P,!0),N&&L!==void 0){N.resetProperty(L);return}P==="mixin"&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,P)}play(){var P,L,N;if(!(this.isPlaying||!this.hasLoaded&&!this.isLoading)){this.isPlaying=!0;for(N in this.components)this.components[N].play();for(P=this.getChildEntities(),L=0;L<P.length;L++)P[L].play();this.emit("play")}}pause(){var P,L,N;if(this.isPlaying){this.isPlaying=!1;for(N in this.components)this.components[N].pause();for(P=this.getChildEntities(),L=0;L<P.length;L++)P[L].pause();this.emit("pause")}}setEntityAttribute(P,L,N){if(g[P]||this.components[P]){this.updateComponent(P,N);return}if(P==="mixin"){if(N===this.computedMixinStr)return;this.mixinUpdate(N,L)}}mixinUpdate(P,L,N){var U=x.componentsUpdated,$,F,j,z,Q=this;if(N||(L=L||this.getAttribute("mixin")),!this.hasLoaded){this.addEventListener("loaded-private",function(){Q.mixinUpdate(P,L,!0)},E);return}for(j=this.updateMixins(P,L),U.length=0,z=0;z<this.mixinEls.length;z++)for($ in this.mixinEls[z].componentCache)U.indexOf($)===-1&&(this.components[$]?this.components[$].handleMixinUpdate():this.initComponent($,null),U.push($));for(z=0;z<j.oldMixinIds.length;z++)if(F=document.getElementById(j.oldMixinIds[z]),!!F)for($ in F.componentCache)U.indexOf($)===-1&&this.components[$]&&(this.getDOMAttribute($)?this.components[$].handleMixinUpdate():this.removeComponent($,!0))}setAttribute(P,L,N){var U=x.singlePropUpdate,$,F,j,z,Q,V;if(z=P.indexOf(b),j=z>0?P.substring(0,z):P,!g[j]){P==="mixin"&&this.mixinUpdate(L),super.setAttribute.call(this,P,L);return}if(!this.components[P]&&this.hasAttribute(P)&&this.updateComponent(P,window.HTMLElement.prototype.getAttribute.call(this,P)),typeof N<"u"&&typeof L=="string"&&L.length>0&&typeof M.styleParser.parse(L)=="string"){for(V in U)delete U[V];$=U,$[L]=N,F=!1}else $=L,F=N===!0;this.updateComponent(P,$,F),Q=this.sceneEl&&this.sceneEl.getAttribute("debug"),Q&&this.components[P].flushToDOM()}flushToDOM(P){var L=this.components,N,U=this.children,$,F;for(F in L)L[F].flushToDOM();if(P)for($=0;$<U.length;++$)N=U[$],N.flushToDOM&&N.flushToDOM(P)}getAttribute(P){var L;return P==="position"?this.object3D.position:P==="rotation"?T(this):P==="scale"?this.object3D.scale:P==="visible"?this.object3D.visible:(L=this.components[P],L?L.data:window.HTMLElement.prototype.getAttribute.call(this,P))}getDOMAttribute(P){var L=this.components[P];return L?L.attrValue:window.HTMLElement.prototype.getAttribute.call(this,P)}addState(P){this.is(P)||(this.states.push(P),this.emit("stateadded",P))}removeState(P){var L=this.states.indexOf(P);L!==-1&&(this.states.splice(L,1),this.emit("stateremoved",P))}is(P){return this.states.indexOf(P)!==-1}inspect(){this.sceneEl.components.inspector.openInspector(this)}destroy(){var P;if(this.parentNode){A("Entity can only be destroyed if detached from scenegraph.");return}for(P in this.components)this.components[P].destroy()}}function _(D,P){return D.components[P]&&D.components[P].attrValue?!0:C(P,D.mixinEls)}function C(D,P){var L,N=!1;for(L=0;L<P.length&&(N=P[L].hasAttribute(D),!N);++L);return N}function O(D,P){return P?P.constructor===Object?M.extend(P,M.styleParser.parse(D||{})):D||P:D}function I(D){return D.indexOf(b)!==-1&&(D=M.split(D,b)[0]),!!g[D]}function T(D){var P=m.MathUtils.radToDeg,L=D.object3D.rotation,N=D.rotationObj;return N.x=P(L.x),N.y=P(L.y),N.z=P(L.z),N}x.componentsUpdated=[],x.singlePropUpdate={},customElements.define("a-entity",x),c.exports.AEntity=x},"./src/core/a-mixin.js":(c,d,u)=>{var h=u("./src/core/a-node.js").ANode,g=u("./src/core/component.js").components,m=u("./src/utils/index.js"),M=m.styleParser,p="__";class A extends h{constructor(){super(),this.componentCache={},this.rawAttributeCache={},this.isMixin=!0}doConnectedCallback(){super.doConnectedCallback(),this.sceneEl=this.closestScene(),this.id=this.getAttribute("id"),this.cacheAttributes(),this.updateEntities(),this.load()}attributeChangedCallback(v,E,x){super.attributeChangedCallback(),this.cacheAttribute(v,x),this.updateEntities()}setAttribute(v,E){window.HTMLElement.prototype.setAttribute.call(this,v,E),this.cacheAttribute(v,E)}cacheAttribute(v,E){var x,_;_=m.split(v,p)[0],x=g[_],E===void 0&&(E=window.HTMLElement.prototype.getAttribute.call(this,v)),this.rawAttributeCache[v]=E,x&&(this.componentCache[v]=this.parseComponentAttrValue(x,E))}parseComponentAttrValue(v,E){var x;return typeof E!="string"?E:(v.isSingleProperty?(x=v.schema.parse(E),typeof x=="string"&&(x=E)):x=M.parse(E),x)}getAttribute(v){return this.componentCache[v]||window.HTMLElement.prototype.getAttribute.call(this,v)}cacheAttributes(){var v=this.attributes,E,x;for(x=0;x<v.length;x++)E=v[x].name,this.cacheAttribute(E)}updateEntities(){var v,E,x;if(this.sceneEl)for(E=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),x=0;x<E.length;x++)v=E[x],!(!v.hasLoaded||v.isMixin)&&v.mixinUpdate(this.id)}}customElements.define("a-mixin",A)},"./src/core/a-node.js":(c,d,u)=>{var h=u("./src/utils/index.js"),g=u("./src/core/readyState.js"),m=h.debug("core:a-node:warn"),M={"a-scene":!0,"a-assets":!0,"a-assets-items":!0,"a-cubemap":!0,"a-mixin":!0,"a-node":!0,"a-entity":!0};function p(b){return b.tagName.toLowerCase()in M||b.isNode}class A extends HTMLElement{constructor(){super(),this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[]}connectedCallback(){if(!g.canInitializeElements){document.addEventListener("aframeready",this.connectedCallback.bind(this));return}this.doConnectedCallback()}doConnectedCallback(){var v;this.sceneEl=this.closestScene(),this.sceneEl||m("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(v=this.getAttribute("mixin"),v&&this.updateMixins(v))}attributeChangedCallback(v,E,x){x!==this.computedMixinStr&&v==="mixin"&&!this.isMixin&&this.updateMixins(x,E)}closestScene(){for(var v=this;v&&!v.isScene;)v=v.parentElement;return v}closest(v){for(var E=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,x=this;x&&!E.call(x,v);)x=x.parentElement;return x}disconnectedCallback(){this.hasLoaded=!1}load(v,E){var x,_,C=this;this.hasLoaded||(E=E||p,x=this.getChildren(),_=x.filter(E).map(function(O){return new Promise(function(T,D){if(O.hasLoaded)return T();O.addEventListener("loaded",T),O.addEventListener("error",D)})}),Promise.allSettled(_).then(function(I){I.forEach(function(D){D.status==="rejected"&&m("Rendering scene with errors on node: ",D.reason.target)}),C.isLoading=!0,C.setupMutationObserver(),v&&v(),C.isLoading=!1,C.hasLoaded=!0,C.emit("loaded-private",void 0,!1),C.emit("loaded",void 0,!1)}))}setupMutationObserver(){var v=this,E={attributes:!0,attributeOldValue:!0},x=new MutationObserver(function(C){var O;for(O=0;O<C.length;O++)if(C[O].type==="attributes"){var I=C[O].attributeName,T=window.HTMLElement.prototype.getAttribute.call(v,I),D=C[O].oldValue;v.attributeChangedCallback(I,D,T)}});x.observe(this,E)}getChildren(){return Array.prototype.slice.call(this.children,0)}updateMixins(v,E){var x=A.newMixinIdArray,_=A.oldMixinIdArray,C=A.mixinIds,O,I,T;for(x.length=0,_.length=0,I=v?h.split(v.trim(),/\s+/):x,T=E?h.split(E.trim(),/\s+/):_,C.newMixinIds=I,C.oldMixinIds=T,O=0;O<T.length;O++)I.indexOf(T[O])===-1&&this.unregisterMixin(T[O]);for(this.computedMixinStr="",this.mixinEls.length=0,O=0;O<I.length;O++)this.registerMixin(I[O]);return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),I.length===0&&window.HTMLElement.prototype.removeAttribute.call(this,"mixin"),C}registerMixin(v){var E,x,_,C=document.getElementById(v);if(!C){m("No mixin was found with id `%s`",v);return}if(_=C.getAttribute("mixin"),_)for(E=h.split(_.trim(),/\s+/),x=0;x<E.length;x++)this.registerMixin(E[x]);this.computedMixinStr=this.computedMixinStr+" "+C.id,this.mixinEls.push(C)}setAttribute(v,E){v==="mixin"&&this.updateMixins(E),window.HTMLElement.prototype.setAttribute.call(this,v,E)}unregisterMixin(v){var E,x=this.mixinEls,_;for(E=0;E<x.length;++E)if(_=x[E],v===_.id){x.splice(E,1);break}}emit(v,E,x,_){var C=A.evtData;x===void 0&&(x=!0),C.bubbles=!!x,C.detail=E,_&&(C=h.extend({},_,C)),this.dispatchEvent(new CustomEvent(v,C))}}A.evtData={},A.newMixinIdArray=[],A.oldMixinIdArray=[],A.mixinIds={},customElements.define("a-node",A),c.exports.ANode=A,c.exports.knownTags=M},"./src/core/component.js":(c,d,u)=>{var h=u("./src/core/schema.js"),g=u("./src/core/scene/scenes.js"),m=u("./src/core/system.js"),M=u("./src/utils/index.js"),p=c.exports.components={},A=h.parseProperty,b=h.process,v=h.isSingleProperty,E=h.stringifyProperties,x=h.stringifyProperty,_=M.styleParser,C=M.debug("core:component:warn"),O=document.currentScript,I=new RegExp("[A-Z]+"),T={},D=Object.freeze({}),P=[],L={get:function(V,q){return V.getComputedPropertyValue(q)},set:function(V,q,J){return q in V.schema?V.recomputeProperty(q,J):J!==void 0&&V.handleUnknownProperty(q,J),!0}},N=c.exports.Component=function(V,q,J){var W=this;if(this.sceneOnly&&!V.isScene)throw new Error("Component `"+this.name+"` can only be applied to <a-scene>");if(J&&!this.multiple)throw new Error("Trying to initialize multiple components of type `"+this.name+"`. There can only be one component of this type per entity.");this.el=V,this.id=J,this.attrName=this.name+(J?"__"+J:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.el.components[this.attrName]=this,this.objectPool=T[this.name];var et=this.events;this.events={},U(this,et),this.attrValue=void 0,this.isObjectBased?(this.data=this.objectPool.use(),M.objectPool.removeUnusedKeys(this.data,this.schema),this.oldData=this.objectPool.use(),M.objectPool.removeUnusedKeys(this.oldData,this.schema),this.attrValueProxy=new Proxy(this,L)):(this.data=void 0,this.oldData=void 0,this.attrValueProxy=void 0),this.deferUnknownPropertyWarnings=!!this.updateSchema,this.silenceUnknownPropertyWarnings=!1,this.throttledEmitComponentChanged=M.throttleLeadingAndTrailing(function(){V.emit("componentchanged",W.evtDetail,!1)},200),this.updateProperties(q,!0)};N.prototype={schema:{},init:function(){},events:{},update:function(V){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},stringify:function(V){var q=this.schema;return typeof V=="string"?V:this.isSingleProperty?x(V,q):(V=E(V,q),_.stringify(V))},flushToDOM:function(V){var q=V?this.data:this.attrValue;q!=null&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(q))},updateProperties:function(V,q){var J=this.el;this.updateData(V,q),!(!J.hasLoaded&&!J.isLoading)&&(this.initialized?this.callUpdateHandler():this.initComponent())},initComponent:function(){var V=this.el,q;V.initializingComponents[this.name]||(V.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete V.initializingComponents[this.name],q=this.isObjectBased?D:void 0,this.dataChanged=!1,this.storeOldData(),this.update(q),V.isPlaying&&this.play(),V.emit("componentinitialized",this.evtDetail,!1))},updateData:function(V,q){if(this.isSingleProperty){this.recomputeProperty(void 0,V);return}q?(M.objectPool.clearObject(this.attrValue),this.recomputeData(V),this.schemaChangeRequired=!!this.updateSchema):typeof V=="string"?_.parse(V,this.attrValueProxy):M.extend(this.attrValueProxy,V),this.updateSchemaIfNeeded(V)},updateSchemaIfNeeded:function(V){if(!this.schemaChangeRequired||!this.updateSchema){for(var q=0;q<P.length;q++)C("Unknown property `"+P[q]+"` for component `"+this.name+"`.");P.length=0;return}P.length=0,this.updateSchema(this.data),M.objectPool.removeUnusedKeys(this.data,this.schema),this.silenceUnknownPropertyWarnings=!0,this.recomputeData(V),this.silenceUnknownPropertyWarnings=!1,this.schemaChangeRequired=!1},callUpdateHandler:function(){if(!(!this.isPositionRotationScale&&!this.dataChanged)){this.dataChanged=!1;var V=this.oldData;this.oldDataInUse=!0,this.update(V),V!==this.oldData&&this.objectPool.recycle(V),this.oldDataInUse=!1,this.storeOldData(),this.throttledEmitComponentChanged()}},handleMixinUpdate:function(){this.recomputeData(),this.updateSchemaIfNeeded(),this.callUpdateHandler()},resetProperty:function(V){!this.isSingleProperty&&!(V in this.schema)||(V?this.attrValue[V]=void 0:(this.isObjectBased&&this.objectPool.recycle(this.attrValue),this.attrValue=void 0),this.recomputeProperty(V,void 0),this.updateSchemaIfNeeded(),this.callUpdateHandler())},extendSchema:function(V){var q;q=M.extend({},p[this.name].schema),M.extend(q,V),this.schema=b(q),this.el.emit("schemachanged",this.evtDetail)},getComputedPropertyValue:function(V){var q=this.el.mixinEls,J=this.attrValue&&V?this.attrValue[V]:this.attrValue;if(J!==void 0)return J;for(var W=q.length-1;W>=0;W--){var et=q[W].getAttribute(this.attrName);if(!(et===null||V&&!(V in et)))return V?et[V]:et}var mt=V?this.schema[V].default:this.schema.default;return mt},recomputeProperty:function(V,q){var J=V?this.schema[V]:this.schema;if(q!=null){this.attrValue===void 0&&this.isObjectBased&&(this.attrValue=this.objectPool.use());var W=V?this.attrValue[V]:this.attrValue;W=J.isCacheable?A(q,J,W):q,typeof W=="string"&&(W=q===""?void 0:q),V?this.attrValue[V]=W:this.attrValue=W}this.oldDataInUse&&(this.oldData=this.objectPool.use(),M.objectPool.removeUnusedKeys(this.oldData,this.schema),this.storeOldData(),this.oldDataInUse=!1);var et=V?this.oldData[V]:this.oldData,mt=V?this.data[V]:this.data,ot=A(this.getComputedPropertyValue(V),J,mt);return J.type==="array"&&!V&&(ot=M.clone(ot)),J.equals(ot,et)||(this.dataChanged=!0,J.schemaChange&&(this.schemaChangeRequired=!0)),V?this.data[V]=ot:this.data=ot,ot},handleUnknownProperty:function(V,q){this.attrValue===void 0&&(this.attrValue=this.objectPool.use()),this.attrValue[V]=q,this.silenceUnknownPropertyWarnings||(this.deferUnknownPropertyWarnings?P.push(V):this.silenceUnknownPropertyWarnings||C("Unknown property `"+V+"` for component `"+this.name+"`."))},storeOldData:function(){if(!this.isObjectBased){this.oldData=this.data;return}if(this.isSingleProperty){this.oldData=A(this.data,this.schema,this.oldData);return}var V;for(V in this.schema)this.data[V]!==void 0&&(this.data[V]&&typeof this.data[V]=="object"?this.oldData[V]=A(this.data[V],this.schema[V],this.oldData[V]):this.oldData[V]=this.data[V])},recomputeData:function(V){var q;if(this.isSingleProperty){this.recomputeProperty(void 0,V);return}if(V&&typeof V=="object")for(q in this.schema)this.attrValueProxy[q]=V[q];else for(q in this.schema)this.attrValueProxy[q]=void 0;typeof V=="string"&&_.parse(V,this.attrValueProxy);for(q in this.attrValue)this.attrValue[q]!==void 0&&P.indexOf(q)!==-1&&(q in this.schema||C("Unknown property `"+q+"` for component `"+this.name+"`."))},eventsAttach:function(){var V;this.eventsDetach();for(V in this.events)this.el.addEventListener(V,this.events[V])},eventsDetach:function(){var V;for(V in this.events)this.el.removeEventListener(V,this.events[V])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.data),this.objectPool.recycle(this.oldData),this.attrValue=this.data=this.oldData=this.attrValueProxy=void 0}};function U(V,q){var J;for(J in q)V.events[J]=q[J].bind(V)}if(window.debug)var $=c.exports.registrationOrderWarnings={};c.exports.registerComponent=function(V,q){var J,W={},et,mt;if(document.currentScript&&document.currentScript!==O&&g.forEach(function(wt){wt.hasLoaded||document.currentScript.compareDocumentPosition(wt)!==Node.DOCUMENT_POSITION_FOLLOWING&&(C("The component `"+V+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&($[V]=!0))}),I.test(V)===!0&&C("The component name `"+V+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+V.toLowerCase()+"`"),V.indexOf("__")!==-1)throw new Error("The component name `"+V+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(q).forEach(function(pt){W[pt]={value:q[pt],writable:!0}}),p[V])throw new Error("The component `"+V+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");J=function(pt,wt,Mt){N.call(this,pt,wt,Mt)},J.prototype=Object.create(N.prototype,W),J.prototype.name=V,J.prototype.isPositionRotationScale=V==="position"||V==="rotation"||V==="scale",J.prototype.constructor=J,J.prototype.system=m&&m.systems[V],J.prototype.play=z(J.prototype.play),J.prototype.pause=j(J.prototype.pause),et=M.extend(b(J.prototype.schema,J.prototype.name)),J.prototype.isSingleProperty=mt=v(J.prototype.schema),J.prototype.isObjectBased=!mt||mt&&(Q(et.default)||Q(A(void 0,et))),T[V]=M.objectPool.createPool(),p[V]={Component:J,dependencies:J.prototype.dependencies,before:J.prototype.before,after:J.prototype.after,isSingleProperty:J.prototype.isSingleProperty,isObjectBased:J.prototype.isObjectBased,multiple:J.prototype.multiple,sceneOnly:J.prototype.sceneOnly,name:V,schema:et,stringify:J.prototype.stringify};for(var ot=0;ot<g.length;ot++)g[ot].emit("componentregistered",{name:V},!1);return J};function F(V){return V.tick||V.tock}function j(V){return function(){var J=this.el.sceneEl;this.isPlaying&&(V.call(this),this.isPlaying=!1,this.eventsDetach(),F(this)&&J.removeBehavior(this))}}function z(V){return function(){var J=this.el.sceneEl,W=this.el.isPlaying&&!this.isPlaying;!this.initialized||!W||(V.call(this),this.isPlaying=!0,this.eventsAttach(),F(this)&&J.addBehavior(this))}}function Q(V){return V&&V.constructor===Object&&!(V instanceof window.HTMLElement)}},"./src/core/geometry.js":(c,d,u)=>{var h=u("./src/core/schema.js"),g=h.process,m=c.exports.geometries={},M=c.exports.geometryNames=[],p=u("./src/lib/three.js"),A=c.exports.Geometry=function(){};A.prototype={schema:{},init:function(b){return this.geometry=new p.BufferGeometry,this.geometry},update:function(b){}},c.exports.registerGeometry=function(b,v){var E,x={};if(Object.keys(v).forEach(function(C){x[C]={value:v[C],writable:!0}}),m[b])throw new Error("The geometry `"+b+"` has been already registered");return E=function(){A.call(this)},E.prototype=Object.create(A.prototype,x),E.prototype.name=b,E.prototype.constructor=E,m[b]={Geometry:E,schema:g(E.prototype.schema)},M.push(b),E}},"./src/core/propertyTypes.js":(c,d,u)=>{var h=u("./src/utils/coordinates.js"),g=u("./node_modules/debug/src/browser.js"),m=g("core:propertyTypes:warn"),M=c.exports.propertyTypes={},p=/[,> .[\]:]/,A=/url\((.+)\)/;b("audio","",_),b("array",[],v,E,x),b("asset","",_),b("boolean",!1,T),b("color","#FFF"),b("int",0,D),b("number",0,P),b("map","",_),b("model","",_),b("selector",null,L,U,I,!1),b("selectorAll",null,N,$,x,!1),b("src","",F),b("string",""),b("time",0,D),b("vec2",{x:0,y:0},j,h.stringify,h.equals),b("vec3",{x:0,y:0,z:0},j,h.stringify,h.equals),b("vec4",{x:0,y:0,z:0,w:1},j,h.stringify,h.equals);function b(V,q,J,W,et,mt){if(V in M)throw new Error("Property type "+V+" is already registered.");M[V]={default:q,parse:J||C,stringify:W||O,equals:et||I,isCacheable:mt!==!1}}c.exports.registerPropertyType=b;function v(V){if(Array.isArray(V))return V;if(!V||typeof V!="string")return[];return V.split(",").map(q);function q(J){return J.trim()}}function E(V){return V.join(", ")}function x(V,q){if(!Array.isArray(V)||!Array.isArray(q))return V===q;if(V.length!==q.length)return!1;for(var J=0;J<V.length;J++)if(V[J]!==q[J])return!1;return!0}function _(V){var q,J;if(typeof V!="string")return V;if(J=V.match(A),J)return J[1];if(V.charAt(0)==="#"){if(q=document.getElementById(V.substring(1)),q)return q.tagName==="CANVAS"||q.tagName==="VIDEO"||q.tagName==="IMG"?q:q.getAttribute("src");m('"'+V+'" asset not found.');return}return V}function C(V){return V}function O(V){return V===null?"null":V.toString()}function I(V,q){return V===q}function T(V){return V!=="false"&&V!==!1}function D(V){return parseInt(V,10)}function P(V){return parseFloat(V,10)}function L(V){return V?typeof V!="string"?V:V[0]==="#"&&!p.test(V)?document.getElementById(V.substring(1)):document.querySelector(V):null}function N(V){return V?typeof V!="string"?V:Array.prototype.slice.call(document.querySelectorAll(V),0):null}function U(V){return V.getAttribute?"#"+V.getAttribute("id"):O(V)}function $(V){return V instanceof Array?V.map(function(q){return"#"+q.getAttribute("id")}).join(", "):O(V)}function F(V){return m("`src` property type is deprecated. Use `asset` instead."),_(V)}function j(V,q,J){return h.parse(V,q,J)}function z(V,q){return V==="audio"&&typeof q!="string"||V==="array"&&!Array.isArray(q)||V==="asset"&&typeof q!="string"||V==="boolean"&&typeof q!="boolean"||V==="color"&&typeof q!="string"||V==="int"&&typeof q!="number"||V==="number"&&typeof q!="number"||V==="map"&&typeof q!="string"||V==="model"&&typeof q!="string"||V==="selector"&&typeof q!="string"&&q!==null||V==="selectorAll"&&typeof q!="string"&&q!==null||V==="src"&&typeof q!="string"||V==="string"&&typeof q!="string"||V==="time"&&typeof q!="number"?!1:V==="vec2"?Q(q,2):V==="vec3"?Q(q,3):V==="vec4"?Q(q,4):!0}c.exports.isValidDefaultValue=z;function Q(V,q){if(V===null)return!0;if(typeof V!="object"||Object.keys(V).length!==q)return!1;var J=V.x,W=V.y,et=V.z,mt=V.w;return!(typeof J!="number"||typeof W!="number"||q>2&&typeof et!="number"||q>3&&typeof mt!="number")}c.exports.isValidDefaultCoordinate=Q},"./src/core/readyState.js":c=>{c.exports.canInitializeElements=!1;function d(){if(document.readyState==="complete"){u();return}document.addEventListener("readystatechange",function h(){document.readyState==="complete"&&(document.removeEventListener("readystatechange",h),u())})}c.exports.waitForDocumentReadyState=d;function u(){c.exports.canInitializeElements||(c.exports.canInitializeElements=!0,setTimeout(function(){document.dispatchEvent(new CustomEvent("aframeready"))}))}c.exports.emitReady=u},"./src/core/scene/a-scene.js":(c,d,u)=>{var h=u("./src/core/scene/metaTags.js").inject,g=u("./src/core/scene/wakelock.js"),m=u("./src/core/scene/loadingScreen.js"),M=u("./src/core/scene/scenes.js"),p=u("./src/core/system.js").systems,A=u("./src/core/component.js").components,b=u("./src/lib/three.js"),v=u("./src/utils/index.js"),E=v.debug("core:a-scene:warn"),x=u("./src/core/a-entity.js").AEntity,_=u("./src/core/a-node.js").ANode,C=u("./src/core/scene/postMessage.js"),O=v.device.isIOS(),I=v.device.isMobile(),T=v.device.isWebXRAvailable;O&&u("./src/utils/ios-orientationchange-blank-bug.js");class D extends x{constructor(){var Q;super(),Q=this,Q.clock=new b.Clock,Q.isIOS=O,Q.isMobile=I,Q.hasWebXR=T,Q.isAR=!1,Q.isScene=!0,Q.object3D=new b.Scene,Q.object3D.onAfterRender=function(V,q,J){Q.isPlaying&&Q.tock(Q.time,Q.delta,J)},Q.resize=Q.resize.bind(Q),Q.render=Q.render.bind(Q),Q.systems={},Q.systemNames=[],Q.time=Q.delta=0,Q.usedOfferSession=!1,Q.componentOrder=[],Q.behaviors={},Q.hasLoaded=!1,Q.isPlaying=!1,Q.originalHTML=Q.innerHTML}addFullScreenStyles(){document.documentElement.classList.add("a-fullscreen")}removeFullScreenStyles(){document.documentElement.classList.remove("a-fullscreen")}doConnectedCallback(){var Q=this,V=this.hasAttribute("embedded");this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("xr-mode-ui",""),this.setAttribute("device-orientation-permission-ui",""),super.doConnectedCallback(),j(this),this.setupRenderer(),m.setup(this,N),this.resize(),V||this.addFullScreenStyles(),C(this),h(this),g(this),this.onVRPresentChangeBound=this.onVRPresentChange.bind(this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){Q.enterVR()},this.exitVRBound=function(){Q.exitVR()},this.exitVRTrueBound=function(){Q.exitVR(!0)},this.pointerRestrictedBound=function(){Q.pointerRestricted()},this.pointerUnrestrictedBound=function(){Q.pointerUnrestricted()},Q.hasWebXR||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),window.addEventListener("sessionend",this.resize),this.addEventListener("cameraready",function(){Q.attachedCallbackPostCamera()}),this.initSystems(),this.componentOrder=P(A,this.componentOrder),this.addEventListener("componentregistered",function(){Q.componentOrder=P(A,Q.componentOrder)}),this.hasWebXR&&navigator.xr&&navigator.xr.addEventListener&&navigator.xr.addEventListener("sessiongranted",function(){Q.enterVR()})}attachedCallbackPostCamera(){var Q,V=this;window.addEventListener("load",Q),window.addEventListener("resize",function(){V.isIOS?setTimeout(V.resize,100):V.resize()}),this.play(),M.push(this)}initSystems(){var Q;this.initSystem("camera");for(Q in p)Q!=="camera"&&this.initSystem(Q)}initSystem(Q){this.systems[Q]||(this.systems[Q]=new p[Q](this),this.systemNames.push(Q))}disconnectedCallback(){var Q=M.indexOf(this);super.disconnectedCallback(),M.splice(Q,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound),window.removeEventListener("sessionend",this.resize),this.renderer.dispose()}addBehavior(Q){var V,q=this.behaviors[Q.name],J;q||(q=this.behaviors[Q.name]={tick:{inUse:!1,array:[],markedForRemoval:[]},tock:{inUse:!1,array:[],markedForRemoval:[]}});for(J in q)if(Q[J]){if(V=q[J],V.inUse){var W=V.markedForRemoval.indexOf(Q);W!==-1&&V.markedForRemoval.splice(W,1)}V.array.indexOf(Q)===-1&&V.array.push(Q)}}getPointerLockElement(){return document.pointerLockElement}checkHeadsetConnected(){return v.device.checkHeadsetConnected()}enterAR(){var Q;if(!this.hasWebXR)throw Q="Failed to enter AR mode, WebXR not supported.",new Error(Q);if(!v.device.checkARSupport())throw Q="Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.",new Error(Q);return this.enterVR(!0)}enterVR(Q,V){var q=this,J,W=q.renderer.xr,et;if(V&&(!navigator.xr||!navigator.xr.offerSession))return Promise.resolve("OfferSession is not supported.");if(q.usedOfferSession&&V)return Promise.resolve("OfferSession was already called.");if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){var mt=q.getAttribute("renderer");if(W.enabled=!0,this.hasWebXR){this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound);var ot=this.sceneEl.systems.webxr.sessionReferenceSpaceType;W.setReferenceSpaceType(ot);var pt=Q?"immersive-ar":"immersive-vr";return et=this.sceneEl.systems.webxr.sessionConfiguration,new Promise(function(dt,Ot){var At=V?navigator.xr.offerSession.bind(navigator.xr):navigator.xr.requestSession.bind(navigator.xr);q.usedOfferSession|=V,At(pt,et).then(function(bt){V&&(q.usedOfferSession=!1),W.layersEnabled=et.requiredFeatures.indexOf("layers")!==-1,W.setSession(bt).then(function(){W.setFoveation(mt.foveationLevel),q.xrSession=bt,q.systems.renderer.setWebXRFrameRate(bt),bt.addEventListener("end",q.exitVRBound),Mt(dt)})},function(bt){var kt=pt==="immersive-ar",Dt=kt?"AR":"VR";Ot(new Error("Failed to enter "+Dt+" mode (`requestSession`)",{cause:bt}))})})}else{if(J=v.device.getVRDisplay(),W.setDevice(J),J.isPresenting&&!window.hasNativeWebVRImplementation)return Mt(),Promise.resolve();var wt={highRefreshRate:mt.highRefreshRate};return J.requestPresent([{source:this.canvas,attributes:wt}]).then(Mt,xt)}}return Mt(),Promise.resolve();function Mt(dt){var Ot;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(Ot=new CustomEvent("vrdisplaypresentchange",{detail:{display:v.device.getVRDisplay()}}),window.dispatchEvent(Ot)),Q?q.addState("ar-mode"):q.addState("vr-mode"),q.emit("enter-vr",{target:q}),!q.hasWebXR&&q.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),q.addFullScreenStyles(),!q.isMobile&&!q.checkHeadsetConnected()&&$(q.canvas),q.resize(),dt&&dt()}function xt(dt){throw q.removeState("vr-mode"),dt&&dt.message?new Error("Failed to enter VR mode (`requestPresent`): "+dt.message):new Error("Failed to enter VR mode (`requestPresent`).")}}exitVR(){var Q=this,V,q=this.renderer.xr;if(!this.is("vr-mode")&&!this.is("ar-mode"))return Promise.resolve("Not in immersive mode.");if(this.checkHeadsetConnected()||this.isMobile){if(q.enabled=!1,V=v.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then(function(){},function(){}),this.xrSession=void 0;else if(V.isPresenting)return V.exitPresent().then(J,W)}else F();return J(),Promise.resolve();function J(){Q.removeState("vr-mode"),Q.removeState("ar-mode"),Q.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),Q.hasAttribute("embedded")&&Q.removeFullScreenStyles(),Q.resize(),Q.isIOS&&v.forceCanvasResizeSafariMobile(Q.canvas),Q.renderer.setPixelRatio(window.devicePixelRatio),Q.emit("exit-vr",{target:Q})}function W(et){throw et&&et.message?new Error("Failed to exit VR mode (`exitPresent`): "+et.message):new Error("Failed to exit VR mode (`exitPresent`).")}}pointerRestricted(){if(this.canvas){var Q=this.getPointerLockElement();Q&&Q!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}pointerUnrestricted(){var Q=this.getPointerLockElement();Q&&Q===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}onVRPresentChange(Q){var V=Q.display||Q.detail.display;if(V&&V.isPresenting){this.enterVR();return}this.exitVR()}getAttribute(Q){var V=this.systems[Q];return V?V.data:x.prototype.getAttribute.call(this,Q)}getDOMAttribute(Q){var V=this.systems[Q];return V?V.data:x.prototype.getDOMAttribute.call(this,Q)}setAttribute(Q,V,q){if(p[Q]){_.prototype.setAttribute.call(this,Q,V);var J=this.systems[Q];J&&J.updateProperties(V);return}x.prototype.setAttribute.call(this,Q,V,q)}removeBehavior(Q){var V,q,J=this.behaviors[Q.name],W;for(q in J)Q[q]&&(V=J[q],W=V.array.indexOf(Q),W!==-1&&(V.inUse?V.markedForRemoval.indexOf(Q)===-1&&V.markedForRemoval.push(Q):(V.array[W]=V.array[V.array.length-1],V.array.pop())))}resize(){var Q=this.camera,V=this.canvas,q,J,W,et=this.renderer.xr.isPresenting;J=this.renderer.xr.enabled&&et,!(!Q||!V||this.is("vr-mode")&&(this.isMobile||J))&&(q=this.getAttribute("embedded")&&!this.is("vr-mode"),W=N(V,q,this.maxCanvasSize,this.is("vr-mode")),Q.aspect=W.width/W.height,Q.updateProjectionMatrix(),this.renderer.setSize(W.width,W.height,!1),this.emit("rendererresize",null,!1))}setupRenderer(){var Q=this,V,q,J,W;W={alpha:!0,antialias:!I,canvas:this.canvas,logarithmicDepthBuffer:!1,powerPreference:"high-performance"},this.maxCanvasSize={height:-1,width:-1},this.hasAttribute("renderer")&&(J=this.getAttribute("renderer"),q=v.styleParser.parse(J),q.precision&&(W.precision=q.precision+"p"),q.antialias&&q.antialias!=="auto"&&(W.antialias=q.antialias==="true"),q.logarithmicDepthBuffer&&q.logarithmicDepthBuffer!=="auto"&&(W.logarithmicDepthBuffer=q.logarithmicDepthBuffer==="true"),q.alpha&&(W.alpha=q.alpha==="true"),q.stencil&&(W.stencil=q.stencil==="true"),q.multiviewStereo&&(W.multiviewStereo=q.multiviewStereo==="true"),this.maxCanvasSize={width:q.maxCanvasWidth?parseInt(q.maxCanvasWidth):this.maxCanvasSize.width,height:q.maxCanvasHeight?parseInt(q.maxCanvasHeight):this.maxCanvasSize.height}),V=this.renderer=new b.WebGLRenderer(W),V.setPixelRatio(window.devicePixelRatio),this.camera&&V.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",function(){V.xr.setPoseTarget(Q.camera.el.object3D)})}play(){var Q=this,V=this;if(this.renderStarted){x.prototype.play.call(this);return}this.addEventListener("loaded",function(){var q=this.renderer,J,W=this.renderer.xr;x.prototype.play.call(this),!V.renderStarted&&(V.resize(),V.renderer&&(window.performance&&window.performance.mark("render-started"),m.remove(),J=v.device.getVRDisplay(),J&&J.isPresenting&&(W.setDevice(J),W.enabled=!0,V.enterVR()),q.setAnimationLoop(this.render),V.renderStarted=!0,V.emit("renderstart")))}),setTimeout(function(){x.prototype.load.call(Q)})}updateComponent(Q){Q in p||x.prototype.updateComponent.apply(this,arguments)}tick(Q,V){var q,J=this.systems;for(this.callComponentBehaviors("tick",Q,V),q=0;q<this.systemNames.length;q++)J[this.systemNames[q]].tick&&J[this.systemNames[q]].tick(Q,V)}tock(Q,V,q){var J,W=this.systems;for(this.callComponentBehaviors("tock",Q,V),J=0;J<this.systemNames.length;J++)W[this.systemNames[J]].tock&&W[this.systemNames[J]].tock(Q,V,q)}render(Q,V){var q=this.renderer;this.frame=V,this.delta=this.clock.getDelta()*1e3,this.time=this.clock.elapsedTime*1e3,this.isPlaying&&this.tick(this.time,this.delta);var J=null;this.is("ar-mode")&&(J=this.object3D.background,this.object3D.background=null),q.render(this.object3D,this.camera),J&&(this.object3D.background=J)}callComponentBehaviors(Q,V,q){for(var J,W=0;W<this.componentOrder.length;W++){var et=this.behaviors[this.componentOrder[W]];if(et){var mt=et[Q];for(mt.inUse=!0,J=0;J<mt.array.length;J++)mt.array[J].isPlaying&&mt.array[J][Q](V,q);for(mt.inUse=!1,J=0;J<mt.markedForRemoval.length;J++)this.removeBehavior(mt.markedForRemoval[J]);mt.markedForRemoval.length=0}}}}function P(z,Q){var V={},q,J,W=Q||[];W.length=0;for(J in z){var et=z[J];if(et!==void 0){var mt=et.before?et.before.slice(0):[],ot=et.after?et.after.slice(0):[];V[J]={before:mt,after:ot,visited:!1,done:!1}}}for(J in V)for(q=0;q<V[J].before.length;q++){var pt=V[J].before[q];if(!(pt in V)){E("Invalid ordering constraint, no component named `"+pt+"` referenced by `"+J+"`");continue}V[pt].after.push(J)}function wt(Mt){if(!(!(Mt in V)||V[Mt].done)){if(V[Mt].visited){E("Cycle detected, ignoring one or more before/after constraints. The resulting order might be incorrect");return}V[Mt].visited=!0;for(var xt=0;xt<V[Mt].after.length;xt++){var dt=V[Mt].after[xt];dt in V||E("Invalid before/after constraint, no component named `"+dt+"` referenced in `"+Mt+"`"),wt(dt)}V[Mt].done=!0,W.push(Mt)}}for(J in V)V[J].done||wt(J);return W}c.exports.determineComponentBehaviorOrder=P;function L(z,Q){var V,q=window.devicePixelRatio;return!Q||Q.width===-1&&Q.height===-1||z.width*q<Q.width&&z.height*q<Q.height||(V=z.width/z.height,z.width*q>Q.width&&Q.width!==-1&&(z.width=Math.round(Q.width/q),z.height=Math.round(Q.width/V/q)),z.height*q>Q.height&&Q.height!==-1&&(z.height=Math.round(Q.height/q),z.width=Math.round(Q.height*V/q))),z}customElements.define("a-scene",D);function N(z,Q,V,q){if(!z.parentElement)return{height:0,width:0};if(Q){var J;return J={height:z.parentElement.offsetHeight,width:z.parentElement.offsetWidth},L(J,V)}return U(V,q)}function U(z,Q){var V;return V={height:document.body.offsetHeight,width:document.body.offsetWidth},Q?V:L(V,z)}function $(z){var Q=z.requestFullscreen||z.webkitRequestFullscreen||z.mozRequestFullScreen||z.msRequestFullscreen;Q.apply(z,[{navigationUI:"hide"}])}function F(){var z=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement;z&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function j(z){var Q;Q=document.createElement("canvas"),Q.classList.add("a-canvas"),Q.dataset.aframeCanvas=!0,z.appendChild(Q),document.addEventListener("fullscreenchange",V),document.addEventListener("mozfullscreenchange",V),document.addEventListener("webkitfullscreenchange",V),document.addEventListener("MSFullscreenChange",V),Q.addEventListener("touchmove",function(q){q.preventDefault()},{passive:!1}),z.canvas=Q,z.emit("render-target-loaded",{target:Q}),setTimeout(z.resize.bind(z),0);function V(){var q=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;q||z.exitVR(),document.activeElement.blur(),document.body.focus()}}c.exports.setupCanvas=j,c.exports.AScene=D},"./src/core/scene/loadingScreen.js":(c,d,u)=>{var h=u("./src/utils/index.js"),g=h.styleParser,m,M,p,A="loading-screen",b="a-loader-title";c.exports.setup=function(_,C){m=_,p=C;var O=m.hasAttribute(A)?g.parse(m.getAttribute(A)):void 0,I=O&&O.dotsColor||"white",T=O&&O.backgroundColor||"#24CAFF",D=O===void 0||O.enabled==="true"||O.enabled===void 0,P,L,N,U,$,F,j,z,Q,V;D&&(P=new THREE.Scene,L=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),N=new THREE.MeshBasicMaterial({color:I}),U=new THREE.Mesh(L,N),$=U.clone(),F=U.clone(),j=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),z=new THREE.Clock,Q=0,V=function(){m.renderer.render(P,j),Q=z.getElapsedTime()%4,U.visible=Q>=1,$.visible=Q>=2,F.visible=Q>=3},P.background=new THREE.Color(T),P.add(j),U.position.set(-1,0,-15),$.position.set(0,0,-15),F.position.set(1,0,-15),j.add(U),j.add($),j.add(F),E(),setTimeout(function(){m.hasLoaded||(v(j),M.style.display="block",window.addEventListener("resize",function(){v(j)}),m.renderer.setAnimationLoop(V))},200))},c.exports.remove=function(){window.removeEventListener("resize",v),M&&(M.style.display="none")};function v(x){var _=m.hasAttribute("embedded"),C=p(m.canvas,_,m.maxCanvasSize,m.is("vr-mode"));x.aspect=C.width/C.height,x.updateProjectionMatrix(),m.renderer.setSize(C.width,C.height,!1)}function E(){M=document.createElement("div"),M.className=b,M.innerHTML=document.title,M.style.display="none",m.appendChild(M)}},"./src/core/scene/metaTags.js":(c,d,u)=>{var h=u("./src/constants/index.js"),g=u("./src/utils/index.js").extend,m=c.exports.MOBILE_HEAD_TAGS=[p({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),p({name:"mobile-web-app-capable",content:"yes"}),p({name:"theme-color",content:"black"})],M=[p({name:"apple-mobile-web-app-capable",content:"yes"}),p({name:"apple-mobile-web-app-status-bar-style",content:"black"}),A({rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"})];function p(v){return{tagName:"meta",attributes:v,exists:function(){return document.querySelector('meta[name="'+v.name+'"]')}}}function A(v){return{tagName:"link",attributes:v,exists:function(){return document.querySelector('link[rel="'+v.rel+'"]')}}}c.exports.inject=function(E){var x=document.head,_=x.querySelector("script"),C,O=[];return m.forEach(I),E.isIOS&&M.forEach(I),O;function I(T){!T||T.exists()||(C=b(T),C&&(_?_.parentNode.insertBefore(C,_):x.appendChild(C),O.push(C)))}};function b(v){if(!(!v||!v.tagName)){var E=document.createElement(v.tagName);return E.setAttribute(h.AFRAME_INJECTED,""),g(E,v.attributes)}}},"./src/core/scene/postMessage.js":(c,d,u)=>{var h=u("./src/utils/index.js").isIframed;c.exports=function(M){h()&&window.addEventListener("message",g.bind(M))};function g(m){var M=this;if(m.data)switch(m.data.type){case"vr":switch(m.data.data){case"enter":M.enterVR();break;case"exit":M.exitVR();break}}}},"./src/core/scene/scenes.js":c=>{c.exports=[]},"./src/core/scene/wakelock.js":(c,d,u)=>{var h=u("./vendor/wakelock/wakelock.js");c.exports=function(m){if(m.isMobile){var M=m.wakelock=new h;m.addEventListener("enter-vr",function(){M.request()}),m.addEventListener("exit-vr",function(){M.release()})}}},"./src/core/schema.js":(c,d,u)=>{var h=u("./src/utils/index.js"),g=u("./src/core/propertyTypes.js"),m=h.debug,M=g.isValidDefaultValue,p=g.propertyTypes,A=m("core:schema:warn");function b(_){return"type"in _?typeof _.type=="string":"default"in _}c.exports.isSingleProperty=b,c.exports.process=function(_,C){var O;if(b(_))return v(_,C);for(O in _)_[O]=v(_[O],C);return _};function v(_,C){var O=_.default,I,T,D=_.type;return _.type?_.type==="bool"?D="boolean":_.type==="float"&&(D="number"):O!==void 0&&(typeof O=="boolean"||typeof O=="number")?D=typeof O:Array.isArray(O)?D="array":D="string",T=p[D],T||A("Unknown property type for component `"+C+"`: "+D),I=!!_.parse,_.parse=_.parse||T.parse,_.stringify=_.stringify||T.stringify,_.equals=_.equals||T.equals,_.isCacheable=_.isCacheable===!0||T.isCacheable,_.type=D,"default"in _?!I&&!M(D,O)&&A("Default value `"+O+"` does not match type `"+D+"` in component `"+C+"`"):_.default=T.default,_}c.exports.processPropertyDefinition=v,c.exports.parseProperties=function(){var _=[];return function(C,O,I,T,D){var P,L,N,U;_.length=0;for(L in I?C:O)I&&C[L]===void 0||_.push(L);if(C===null||typeof C!="object")return C;for(L in C)C[L]!==void 0&&!O[L]&&!D&&A("Unknown property `"+L+"` for component/system `"+T+"`.");for(P=0;P<_.length;P++){if(L=_[P],N=O[L],U=C[L],!O[L])return;C[L]=E(U,N)}return C}}();function E(_,C,O){return(_==null||_==="")&&(_=C.default,Array.isArray(_)&&(_=_.slice())),C.parse(_,C.default,O)}c.exports.parseProperty=E,c.exports.stringifyProperties=function(_,C){var O,I,T,D={},P;for(O in _)I=C[O],T=_[O],P=T,typeof P=="object"&&(P=x(T,I),I||A("Unknown component property: "+O)),D[O]=P;return D};function x(_,C){return typeof _!="object"?_:!C||_===null?JSON.stringify(_):C.stringify(_)}c.exports.stringifyProperty=x},"./src/core/shader.js":(c,d,u)=>{var h=u("./src/core/schema.js"),g=h.process,m=c.exports.shaders={},M=c.exports.shaderNames=[],p=u("./src/lib/three.js"),A=u("./src/utils/index.js"),b={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},v=c.exports.Shader=function(){};v.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(E){return this.uniforms=this.initUniforms(),this.material=new(this.raw?p.RawShaderMaterial:p.ShaderMaterial)({uniforms:this.uniforms,glslVersion:this.raw||this.glsl3?p.GLSL3:null,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initUniforms:function(){var E,x=this.schema,_={},C;for(E in x)x[E].is==="uniform"&&(C=b[x[E].type],_[E]={type:C,value:void 0});return _},update:function(E){var x,_,C=this.schema,O=this.uniforms;for(x in E)if(!(!C[x]||C[x].is!=="uniform")){if(C[x].type==="map"){if(!O[x]||O[x].value===E[x])continue;_="_texture_"+x,this.setMapOnTextureLoad(O,x,_),A.material.updateMapMaterialFromData(_,x,this,E);continue}O[x].value=this.parseValue(C[x].type,E[x]),O[x].needsUpdate=!0}},parseValue:function(E,x){var _;switch(E){case"vec2":return new p.Vector2(x.x,x.y);case"vec3":return new p.Vector3(x.x,x.y,x.z);case"vec4":return new p.Vector4(x.x,x.y,x.z,x.w);case"color":return _=new p.Color(x),new p.Vector3(_.r,_.g,_.b);default:return x}},setMapOnTextureLoad:function(E,x,_){var C=this;this.el.addEventListener("materialtextureloaded",function(){E[x].value=C.material[_],E[x].needsUpdate=!0})}},c.exports.registerShader=function(E,x){var _,C={};if(Object.keys(x).forEach(function(O){C[O]={value:x[O],writable:!0}}),m[E])throw new Error("The shader "+E+" has already been registered");return _=function(){v.call(this)},_.prototype=Object.create(v.prototype,C),_.prototype.name=E,_.prototype.constructor=_,m[E]={Shader:_,schema:g(_.prototype.schema)},M.push(E),_}},"./src/core/system.js":(c,d,u)=>{var h=u("./src/core/component.js"),g=u("./src/core/schema.js"),m=u("./src/utils/index.js"),M=u("./src/core/readyState.js"),p=g.parseProperties,A=g.parseProperty,b=g.process,v=g.isSingleProperty,E=m.styleParser,x=c.exports.systems={},_=c.exports.System=function(C){var O=h&&h.components[this.name];this.el=C,this.sceneEl=C,O&&(O.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};_.prototype={schema:{},init:function(){},update:function(C){},updateProperties:function(C){var O=this.data;Object.keys(g).length&&(this.buildData(C),this.update(O))},buildData:function(C){var O=this.schema;Object.keys(O).length&&(C=C||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),v(O)?this.data=A(C,O):this.data=p(E.parse(C)||{},O,!1,this.name))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},c.exports.registerSystem=function(C,O){var I,T,D={},P=m.findAllScenes(document);if(Object.keys(O).forEach(function(L){D[L]={value:O[L],writable:!0}}),x[C])throw new Error("The system `"+C+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");if(T=function(L){_.call(this,L)},T.prototype=Object.create(_.prototype,D),T.prototype.name=C,T.prototype.constructor=T,T.prototype.schema=m.extend(b(T.prototype.schema)),x[C]=T,M.canInitializeElements)for(I=0;I<P.length;I++)P[I].initSystem(C)}},"./src/extras/components/index.js":(c,d,u)=>{u("./src/extras/components/pivot.js")},"./src/extras/components/pivot.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),m=new g.Vector3,M=new g.Vector3;h("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var p=this.data,A=this.el,b=A.object3D.parent,v=A.object3D,E=new g.Group;m.copy(v.position),M.copy(v.rotation),b.remove(v),E.add(v),b.add(E),A.object3D=E,v.position.set(-1*p.x,-1*p.y,-1*p.z),E.position.set(p.x+m.x,p.y+m.y,p.z+m.z),E.rotation.copy(v.rotation),v.rotation.set(0,0,0)}})},"./src/extras/primitives/getMeshMixin.js":(c,d,u)=>{var h=u("./src/core/component.js").components,g=u("./src/core/shader.js").shaders,m=u("./src/utils/index.js"),M={};Object.keys(h.material.schema).forEach(p),Object.keys(g.standard.schema).forEach(p);function p(A){var b=A.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();A==="fog"&&(b="material-fog"),A==="visible"&&(b="material-visible"),M[b]="material."+A}c.exports=function(){return{defaultComponents:{material:{}},mappings:m.extend({},M)}}},"./src/extras/primitives/index.js":(c,d,u)=>{u("./src/extras/primitives/primitives/a-camera.js"),u("./src/extras/primitives/primitives/a-cursor.js"),u("./src/extras/primitives/primitives/a-curvedimage.js"),u("./src/extras/primitives/primitives/a-gltf-model.js"),u("./src/extras/primitives/primitives/a-image.js"),u("./src/extras/primitives/primitives/a-light.js"),u("./src/extras/primitives/primitives/a-link.js"),u("./src/extras/primitives/primitives/a-obj-model.js"),u("./src/extras/primitives/primitives/a-sky.js"),u("./src/extras/primitives/primitives/a-sound.js"),u("./src/extras/primitives/primitives/a-text.js"),u("./src/extras/primitives/primitives/a-video.js"),u("./src/extras/primitives/primitives/a-videosphere.js"),u("./src/extras/primitives/primitives/meshPrimitives.js")},"./src/extras/primitives/primitives.js":(c,d,u)=>{var h=u("./src/core/a-node.js").knownTags,g=u("./src/core/a-entity.js").AEntity,m=u("./src/core/component.js").components,M=u("./src/utils/index.js"),p=M.debug,A=M.entity.setComponentProperty,b=p("extras:primitives:debug"),v=p("extras:primitives:warn"),E=p("extras:primitives:error"),x=c.exports.primitives={};c.exports.registerPrimitive=function(T,D){if(T=T.toLowerCase(),h[T]){E("Trying to register primitive "+T+" that has been already previously registered");return}h[T]=!0,b("Registering <%s>",T),D.defaultAttributes&&v("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var P=D.mappings||{},L=class extends g{constructor(){super(),this.defaultComponentsFromPrimitive=D.defaultComponents||D.defaultAttributes||{},this.deprecated=D.deprecated||null,this.deprecatedMappings=D.deprecatedMappings||{},this.mappings=P,D.deprecated&&console.warn(D.deprecated),this.resolveMappingCollisions()}resolveMappingCollisions(){var N=this.mappings,U=this;Object.keys(N).forEach(function(F){var j;F!==F.toLowerCase()&&v("Mapping keys should be specified in lower case. The mapping key "+F+" may not be recognized"),m[F]&&(j=N[F].replace(".","-"),N[j]=N[F],delete N[F],console.warn("The primitive "+U.tagName.toLowerCase()+" has a mapping collision. The attribute "+F+" has the same name as a registered component and has been renamed to "+j))})}getExtraComponents(){var N,U,$,F,j,z=this;for(U=M.clone(this.defaultComponentsFromPrimitive),j=this.getAttribute("mixin"),j&&(j=M.split(j.trim(),/\s+/),j.forEach(function(et){var mt=document.getElementById(et);if(mt){var ot=mt.rawAttributeCache,pt=mt.componentCache;for(var wt in ot){if(F=z.mappings[wt],F){_(F,ot[wt],U);return}wt in pt&&(U[wt]=Q(U[wt],pt[wt]))}}})),$=0;$<this.attributes.length;$++)N=this.attributes[$],F=this.mappings[N.name],F&&_(F,N.value,U);return U;function Q(W,et){return V(W)?q(et):V(et)?q(W):J(W)&&J(et)?M.extendDeep(W,et):q(et)}function V(W){return typeof W>"u"}function q(W){return J(W)?M.extendDeep({},W):W}function J(W){return W!==null&&W.constructor===Object}}attributeChangedCallback(N,U,$){var F=this.mappings[N];if(N in this.deprecatedMappings&&console.warn(this.deprecatedMappings[N]),!N||!F){super.attributeChangedCallback(N,U,$);return}A(this,F,$)}};return customElements.define(T,L),L.mappings=P,x[T]=L,L};function _(I,T,D){var P=M.entity.getComponentPropertyPath(I);P.constructor===Array?(D[P[0]]=D[P[0]]||{},D[P[0]][P[1]]=T.trim()):D[P]=T.trim()}function C(I,T){var D=m[I].schema;Object.keys(D).map(function(P){var L=P.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();T[L]!==void 0&&(L=I+"-"+P),T[L]=I+"."+P})}function O(I,T,D){D=D||{},Object.keys(T).map(function(L){C(L,D)}),c.exports.registerPrimitive(I,M.extendDeep({},null,{defaultComponents:T,mappings:D}))}c.exports.definePrimitive=O},"./src/extras/primitives/primitives/a-camera.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").registerPrimitive;h("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},"./src/extras/primitives/primitives/a-cursor.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),g=u("./src/extras/primitives/primitives.js").registerPrimitive,m=u("./src/utils/index.js");g("a-cursor",m.extendDeep({},h(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},"./src/extras/primitives/primitives/a-curvedimage.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),g=u("./src/extras/primitives/primitives.js").registerPrimitive,m=u("./src/utils/index.js");g("a-curvedimage",m.extendDeep({},h(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},"./src/extras/primitives/primitives/a-gltf-model.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").registerPrimitive;h("a-gltf-model",{mappings:{src:"gltf-model"}})},"./src/extras/primitives/primitives/a-image.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),g=u("./src/extras/primitives/primitives.js").registerPrimitive,m=u("./src/utils/index.js");g("a-image",m.extendDeep({},h(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-light.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").registerPrimitive;h("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target",envmap:"light.envMap","shadow-camera-automatic":"light.shadowCameraAutomatic"}})},"./src/extras/primitives/primitives/a-link.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").registerPrimitive;h("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},"./src/extras/primitives/primitives/a-obj-model.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js")(),g=u("./src/extras/primitives/primitives.js").registerPrimitive,m=u("./src/utils/index.js");g("a-obj-model",m.extendDeep({},h,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},"./src/extras/primitives/primitives/a-sky.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),g=u("./src/extras/primitives/primitives.js").registerPrimitive,m=u("./src/utils/index.js"),M=u("./src/extras/primitives/primitives/meshPrimitives.js");g("a-sky",m.extendDeep({},h(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:m.extendDeep({},M["a-sphere"].mappings)}))},"./src/extras/primitives/primitives/a-sound.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").registerPrimitive;h("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},"./src/extras/primitives/primitives/a-text.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").definePrimitive;h("a-text",{text:{anchor:"align",width:5}})},"./src/extras/primitives/primitives/a-video.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),g=u("./src/extras/primitives/primitives.js").registerPrimitive,m=u("./src/utils/index.js");g("a-video",m.extendDeep({},h(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-videosphere.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),g=u("./src/extras/primitives/primitives.js").registerPrimitive,m=u("./src/utils/index.js");g("a-videosphere",m.extendDeep({},h(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},"./src/extras/primitives/primitives/meshPrimitives.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),g=u("./src/core/geometry.js").geometries,m=u("./src/core/geometry.js").geometryNames,M=u("./src/extras/primitives/primitives.js").registerPrimitive,p=u("./src/utils/index.js"),A=c.exports={};m.forEach(function(E){var x=g[E],_=b(E),C={};Object.keys(x.schema).forEach(function(D){C[b(D)]="geometry."+D});var O="a-"+_,I=M(O,p.extendDeep({},h(),{defaultComponents:{geometry:{primitive:E}},mappings:C}));A[O]=I});function b(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},"./src/geometries/box.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js");h("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(m){this.geometry=new g.BoxGeometry(m.width,m.height,m.depth,m.segmentsWidth,m.segmentsHeight,m.segmentsDepth)}})},"./src/geometries/circle.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js"),m=g.MathUtils.degToRad;h("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(M){this.geometry=new g.CircleGeometry(M.radius,M.segments,m(M.thetaStart),m(M.thetaLength))}})},"./src/geometries/cone.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js"),m=g.MathUtils.degToRad;h("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(M){this.geometry=new g.CylinderGeometry(M.radiusTop,M.radiusBottom,M.height,M.segmentsRadial,M.segmentsHeight,M.openEnded,m(M.thetaStart),m(M.thetaLength))}})},"./src/geometries/cylinder.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js"),m=g.MathUtils.degToRad;h("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(M){this.geometry=new g.CylinderGeometry(M.radius,M.radius,M.height,M.segmentsRadial,M.segmentsHeight,M.openEnded,m(M.thetaStart),m(M.thetaLength))}})},"./src/geometries/dodecahedron.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js");h("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(m){this.geometry=new g.DodecahedronGeometry(m.radius,m.detail)}})},"./src/geometries/icosahedron.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js");h("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(m){this.geometry=new g.IcosahedronGeometry(m.radius,m.detail)}})},"./src/geometries/index.js":(c,d,u)=>{u("./src/geometries/box.js"),u("./src/geometries/circle.js"),u("./src/geometries/cone.js"),u("./src/geometries/cylinder.js"),u("./src/geometries/dodecahedron.js"),u("./src/geometries/icosahedron.js"),u("./src/geometries/octahedron.js"),u("./src/geometries/plane.js"),u("./src/geometries/ring.js"),u("./src/geometries/sphere.js"),u("./src/geometries/tetrahedron.js"),u("./src/geometries/torus.js"),u("./src/geometries/torusKnot.js"),u("./src/geometries/triangle.js")},"./src/geometries/octahedron.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js");h("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(m){this.geometry=new g.OctahedronGeometry(m.radius,m.detail)}})},"./src/geometries/plane.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js");h("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(m){this.geometry=new g.PlaneGeometry(m.width,m.height,m.segmentsWidth,m.segmentsHeight)}})},"./src/geometries/ring.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js"),m=g.MathUtils.degToRad;h("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(M){this.geometry=new g.RingGeometry(M.radiusInner,M.radiusOuter,M.segmentsTheta,M.segmentsPhi,m(M.thetaStart),m(M.thetaLength))}})},"./src/geometries/sphere.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js"),m=g.MathUtils.degToRad;h("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(M){this.geometry=new g.SphereGeometry(M.radius,M.segmentsWidth,M.segmentsHeight,m(M.phiStart),m(M.phiLength),m(M.thetaStart),m(M.thetaLength))}})},"./src/geometries/tetrahedron.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js");h("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(m){this.geometry=new g.TetrahedronGeometry(m.radius,m.detail)}})},"./src/geometries/torus.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js"),m=g.MathUtils.degToRad;h("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(M){this.geometry=new g.TorusGeometry(M.radius,M.radiusTubular*2,M.segmentsRadial,M.segmentsTubular,m(M.arc))}})},"./src/geometries/torusKnot.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js");h("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(m){this.geometry=new g.TorusKnotGeometry(m.radius,m.radiusTubular*2,m.segmentsTubular,m.segmentsRadial,m.p,m.q)}})},"./src/geometries/triangle.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,g=u("./src/lib/three.js"),m=new g.Quaternion,M=new g.Vector3(0,0,1),p=new g.Vector2,A=new g.Vector2,b=new g.Vector2;h("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(v){var E,x,_,C,O,I,T,D,P;_=new g.Triangle,_.a.set(v.vertexA.x,v.vertexA.y,v.vertexA.z),_.b.set(v.vertexB.x,v.vertexB.y,v.vertexB.z),_.c.set(v.vertexC.x,v.vertexC.y,v.vertexC.z),x=_.getNormal(new g.Vector3),m.setFromUnitVectors(x,M),C=_.a.clone().applyQuaternion(m),O=_.b.clone().applyQuaternion(m),I=_.c.clone().applyQuaternion(m),p.set(Math.min(C.x,O.x,I.x),Math.min(C.y,O.y,I.y)),A.set(Math.max(C.x,O.x,I.x),Math.max(C.y,O.y,I.y)),b.set(0,0).subVectors(A,p),C=new g.Vector2().subVectors(C,p).divide(b),O=new g.Vector2().subVectors(O,p).divide(b),I=new g.Vector2().subVectors(I,p).divide(b),E=this.geometry=new g.BufferGeometry,T=[_.a.x,_.a.y,_.a.z,_.b.x,_.b.y,_.b.z,_.c.x,_.c.y,_.c.z],D=[x.x,x.y,x.z,x.x,x.y,x.z,x.x,x.y,x.z],P=[C.x,C.y,O.x,O.y,I.x,I.y],E.setAttribute("position",new g.Float32BufferAttribute(T,3)),E.setAttribute("normal",new g.Float32BufferAttribute(D,3)),E.setAttribute("uv",new g.Float32BufferAttribute(P,2))}})},"./src/index.js":(c,d,u)=>{if(window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=navigator.xr!==void 0,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var h=u("./src/utils/isIOSOlderThan10.js"),g=h(window.navigator.userAgent)?1/window.devicePixelRatio:1,m=u("./node_modules/webvr-polyfill/build/webvr-polyfill.js"),M={BUFFER_SCALE:g,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,MOBILE_WAKE_LOCK:!!window.cordova};window.webvrpolyfill=new m(M)}var p=u("./src/utils/index.js"),A=p.debug,b=A("A-Frame:error"),v=A("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&v("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),!window.cordova&&window.location.protocol==="file:"&&b("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/1.4.0/introduction/installation.html#use-a-local-server."),p.device.isBrowserEnvironment&&(u("./src/style/aframe.css"),u("./src/style/rStats.css"));var E=u("./src/core/scene/a-scene.js").AScene,x=u("./src/core/component.js").components,_=u("./src/core/component.js").registerComponent,C=u("./src/core/geometry.js").registerGeometry,O=u("./src/extras/primitives/primitives.js").registerPrimitive,I=u("./src/core/shader.js").registerShader,T=u("./src/core/system.js").registerSystem,D=u("./src/core/shader.js").shaders,P=u("./src/core/system.js").systems,L=window.THREE=u("./src/lib/three.js"),N=u("./src/core/readyState.js"),U=u("./package.json");u("./src/components/index.js"),u("./src/geometries/index.js"),u("./src/shaders/index.js"),u("./src/systems/index.js");var $=u("./src/core/a-node.js").ANode,F=u("./src/core/a-entity.js").AEntity;u("./src/core/a-assets.js"),u("./src/core/a-cubemap.js"),u("./src/core/a-mixin.js"),u("./src/extras/components/index.js"),u("./src/extras/primitives/index.js"),console.log("A-Frame Version: 1.6.0 (Date 2024-05-23, Commit #e6c47761)"),console.log("THREE Version (https://github.com/supermedium/three.js):",L.REVISION),console.log("WebVR Polyfill Version:",U.dependencies["webvr-polyfill"]),window.AFRAME_ASYNC||N.waitForDocumentReadyState(),c.exports=window.AFRAME={AComponent:u("./src/core/component.js").Component,AEntity:F,ANode:$,ANIME:u("./node_modules/super-animejs/lib/anime.es.js").default,AScene:E,components:x,coreComponents:Object.keys(x),geometries:u("./src/core/geometry.js").geometries,registerComponent:_,registerGeometry:C,registerPrimitive:O,registerShader:I,registerSystem:T,primitives:{getMeshMixin:u("./src/extras/primitives/getMeshMixin.js"),primitives:u("./src/extras/primitives/primitives.js").primitives},scenes:u("./src/core/scene/scenes.js"),schema:u("./src/core/schema.js"),shaders:D,systems:P,emitReady:N.emitReady,THREE:L,utils:p,version:U.version}},"./src/lib/rStatsAframe.js":c=>{window.aframeStats=function(d){var u=null,h=d,g={te:{caption:"Entities"},lt:{caption:"Load Time"}},m=[{caption:"A-Frame",values:["te","lt"]}];function M(){u("te").set(p()),window.performance.getEntriesByName&&u("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))}function p(){var E=h.querySelectorAll("*");return Array.prototype.slice.call(E).filter(function(x){return x.isEntity}),E.length}function A(){}function b(){}function v(E){u=E}return{update:M,start:A,end:b,attach:v,values:g,groups:m,fractions:[]}},c.exports={aframeStats:window.aframeStats}},"./src/lib/three.js":(c,d,u)=>{var h=u("./src/lib/three.mjs").default;u.g.THREE=h,u("./vendor/DeviceOrientationControls.js"),h.Cache&&(h.Cache.enabled=!0),c.exports=h},"./src/shaders/flat.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,g=u("./src/lib/three.js"),m=u("./src/utils/index.js");c.exports.Shader=h("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2},toneMapped:{default:!0}},init:function(p){this.materialData={color:new g.Color},M(p,this.materialData),this.material=new g.MeshBasicMaterial(this.materialData)},update:function(p){this.updateMaterial(p),m.material.updateMap(this,p)},updateMaterial:function(p){var A;M(p,this.materialData);for(A in this.materialData)this.material[A]=this.materialData[A]}});function M(p,A){return A.color.set(p.color),A.fog=p.fog,A.wireframe=p.wireframe,A.toneMapped=p.toneMapped,A.wireframeLinewidth=p.wireframeLinewidth,A}},"./src/shaders/index.js":(c,d,u)=>{u("./src/shaders/flat.js"),u("./src/shaders/standard.js"),u("./src/shaders/phong.js"),u("./src/shaders/sdf.js"),u("./src/shaders/msdf.js"),u("./src/shaders/shadow.js")},"./src/shaders/msdf.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,g=u("./src/lib/three.js"),m=["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","out vec2 vUV;","void main(void) {","  vUV = uv;","  #include <begin_vertex>","  #include <project_vertex>","  #include <logdepthbuf_vertex>","  #include <fog_vertex>","}"].join(`
`),M=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","  #include <logdepthbuf_fragment>","  #include <tonemapping_fragment>","  #include <colorspace_fragment>","  #include <fog_fragment>","}"].join(`
`);c.exports.Shader=h("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},vertexShader:m,fragmentShader:M,init:function(){return this.uniforms=g.UniformsUtils.merge([g.UniformsLib.fog,this.initUniforms()]),this.material=new g.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,fog:!0}),this.material}})},"./src/shaders/phong.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,g=u("./src/lib/three.js"),m=u("./src/utils/index.js");c.exports.Shader=h("phong",{schema:{color:{type:"color"},emissive:{type:"color",default:"black"},emissiveIntensity:{default:1},specular:{type:"color",default:"#111111"},transparent:{default:!1},fog:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},envMap:{default:""},sphericalEnvMap:{type:"map"},shininess:{default:30},flatShading:{default:!1},wireframe:{default:!1},wireframeLinewidth:{default:2},combine:{oneOF:["multiply","mix","add"],default:"mix"},reflectivity:{default:.9},refractionRatio:{default:.98},refract:{default:!1},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},bumpMap:{type:"map"},bumpMapScale:{default:1},bumpTextureOffset:{type:"vec2"},bumpTextureRepeat:{type:"vec2",default:{x:1,y:1}}},init:function(p){this.materialData={color:new g.Color,specular:new g.Color,emissive:new g.Color},M(p,this.materialData),this.material=new g.MeshPhongMaterial(this.materialData);var A=this.el.sceneEl;Object.defineProperty(this.material,"envMap",{get:function(){return this._envMap||A.object3D.environment},set:function(b){this._envMap=b}})},update:function(p){this.updateMaterial(p),m.material.updateMap(this,p),m.material.updateDistortionMap("normal",this,p),m.material.updateDistortionMap("displacement",this,p),m.material.updateDistortionMap("ambientOcclusion",this,p),m.material.updateDistortionMap("bump",this,p),m.material.updateEnvMap(this,p)},updateMaterial:function(p){var A;M(p,this.materialData);for(A in this.materialData)this.material[A]=this.materialData[A]}});function M(p,A){switch(A.color.set(p.color),A.specular.set(p.specular),A.emissive.set(p.emissive),A.emissiveIntensity=p.emissiveIntensity,A.fog=p.fog,A.transparent=p.transparent,A.wireframe=p.wireframe,A.wireframeLinewidth=p.wireframeLinewidth,A.shininess=p.shininess,A.flatShading=p.flatShading,A.wireframe=p.wireframe,A.wireframeLinewidth=p.wireframeLinewidth,A.reflectivity=p.reflectivity,A.refractionRatio=p.refractionRatio,p.combine){case"mix":A.combine=g.MixOperation;break;case"multiply":A.combine=g.MultiplyOperation;break;case"add":A.combine=g.AddOperation;break}return p.normalMap&&(A.normalScale=p.normalScale),p.ambientOcclusionMap&&(A.aoMapIntensity=p.ambientOcclusionMapIntensity),p.bumpMap&&(A.bumpScale=p.bumpMapScale),p.displacementMap&&(A.displacementScale=p.displacementScale,A.displacementBias=p.displacementBias),A}},"./src/shaders/sdf.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,g=u("./src/lib/three.js"),m=["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","out vec2 vUV;","void main(void) {","  vUV = uv;","  #include <begin_vertex>","  #include <project_vertex>","  #include <logdepthbuf_vertex>","  #include <fog_vertex>","}"].join(`
`),M=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","float contour(float width, float value) {","  return smoothstep(0.5 - value, 0.5 + value, width);","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec2 uv = vUV;","  vec4 texColor = texture(map, uv);","  float dist = texColor.a;","  float width = fwidth(dist);","  float alpha = contour(dist, width);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * dist;","  }","  if (isBigEnough <= BIG_ENOUGH) {","    vec4 box = vec4 (uv - duv, uv + duv);","    alpha = (alpha + 0.5 * (","      contour(texture(map, box.xy).a, width)","      + contour(texture(map, box.zw).a, width)","      + contour(texture(map, box.xw).a, width)","      + contour(texture(map, box.zy).a, width)","    )) / 3.0;","  }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color, opacity * alpha);","  #include <logdepthbuf_fragment>","  #include <tonemapping_fragment>","  #include <colorspace_fragment>","  #include <fog_fragment>","}"].join(`
`);c.exports.Shader=h("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:m,fragmentShader:M,init:function(){return this.uniforms=g.UniformsUtils.merge([g.UniformsLib.fog,this.initUniforms()]),this.material=new g.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,fog:!0}),this.material}})},"./src/shaders/shadow.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,g=u("./src/lib/three.js");c.exports.Shader=h("shadow",{schema:{opacity:{default:.5},transparent:{default:!0},alphaToCoverage:{default:!0}},init:function(m){this.material=new g.ShadowMaterial},update:function(m){this.material.opacity=m.opacity,this.material.alphaToCoverage=m.alphaToCoverage,this.material.transparent=m.transparent}})},"./src/shaders/standard.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,g=u("./src/lib/three.js"),m=u("./src/utils/index.js");c.exports.Shader=h("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(p){this.materialData={color:new g.Color,emissive:new g.Color},M(p,this.materialData),this.material=new g.MeshStandardMaterial(this.materialData)},update:function(p){this.updateMaterial(p),m.material.updateMap(this,p),m.material.updateDistortionMap("normal",this,p),m.material.updateDistortionMap("displacement",this,p),m.material.updateDistortionMap("ambientOcclusion",this,p),m.material.updateDistortionMap("metalness",this,p),m.material.updateDistortionMap("roughness",this,p),m.material.updateEnvMap(this,p)},updateMaterial:function(p){var A,b=this.material;M(p,this.materialData);for(A in this.materialData)b[A]=this.materialData[A]}});function M(p,A){return A.color.set(p.color),A.emissive.set(p.emissive),A.emissiveIntensity=p.emissiveIntensity,A.fog=p.fog,A.metalness=p.metalness,A.roughness=p.roughness,A.wireframe=p.wireframe,A.wireframeLinewidth=p.wireframeLinewidth,p.normalMap&&(A.normalScale=p.normalScale),p.ambientOcclusionMap&&(A.aoMapIntensity=p.ambientOcclusionMapIntensity),p.displacementMap&&(A.displacementScale=p.displacementScale,A.displacementBias=p.displacementBias),A}},"./src/systems/camera.js":(c,d,u)=>{var h=u("./src/constants/index.js"),g=u("./src/core/system.js").registerSystem,m="data-aframe-default-camera";c.exports.System=g("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var p,A,b=this.sceneEl,v=this;if(b.camera&&!b.camera.el.getAttribute("camera").spectator){b.emit("cameraready",{cameraEl:b.camera.el});return}if(p=b.querySelectorAll("a-camera, :not(a-mixin)[camera]"),!p.length){this.createDefaultCamera();return}for(this.numUserCameras=p.length,A=0;A<p.length;A++)p[A].addEventListener("object3dset",function(E){E.detail.type==="camera"&&v.checkUserCamera(this)}),p[A].isNode?p[A].load():p[A].addEventListener("nodeready",function(){this.load()})},checkUserCamera:function(p){var A,b=this.el.sceneEl;if(this.numUserCamerasChecked++,!this.initialCameraFound){if(A=p.getAttribute("camera"),!A.active||A.spectator){this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera();return}this.initialCameraFound=!0,b.camera=p.getObject3D("camera"),b.emit("cameraready",{cameraEl:p})}},createDefaultCamera:function(){var p,A=this.sceneEl;p=document.createElement("a-entity"),p.setAttribute("camera",{active:!0}),p.setAttribute("position",{x:0,y:h.DEFAULT_CAMERA_HEIGHT,z:0}),p.setAttribute("wasd-controls",""),p.setAttribute("look-controls",""),p.setAttribute(h.AFRAME_INJECTED,""),p.addEventListener("object3dset",function(b){b.detail.type==="camera"&&(A.camera=b.detail.object,A.emit("cameraready",{cameraEl:p}))}),A.appendChild(p)},disableActiveCamera:function(){var p,A;p=this.sceneEl.querySelectorAll(":not(a-mixin)[camera]"),A=p[p.length-1],A.setAttribute("camera","active",!0)},setActiveCamera:function(p){var A,b,v,E,x=this.activeCameraEl,_=this.sceneEl;if(E=p.getObject3D("camera"),!(!E||p===this.activeCameraEl)){var C=_.querySelector("["+m+"]"),O=C&&C.querySelector(":not(a-mixin)[camera]");for(p!==O&&M(_),this.activeCameraEl=p,this.activeCameraEl.play(),_.camera=E,x&&x.setAttribute("camera","active",!1),b=_.querySelectorAll(":not(a-mixin)[camera]"),v=0;v<b.length;v++)A=b[v],!(!A.isEntity||p===A)&&(A.setAttribute("camera","active",!1),A.pause());_.emit("camera-set-active",{cameraEl:p})}},setSpectatorCamera:function(p){var A,b=this.spectatorCameraEl,v=this.sceneEl,E;A=p.getObject3D("camera"),!(!A||p===this.spectatorCameraEl)&&(b&&b.setAttribute("camera","spectator",!1),E=this.spectatorCameraEl=p,v.addEventListener("enter-vr",this.wrapRender),v.addEventListener("exit-vr",this.unwrapRender),E.setAttribute("camera","active",!1),E.play(),v.emit("camera-set-spectator",{cameraEl:p}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){!this.spectatorCameraEl||this.originalRender||(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(p,A){var b,v=this.sceneEl,E;b=v.renderer.xr.enabled,this.originalRender.call(v.renderer,p,A),!(!this.spectatorCameraEl||v.isMobile||!b)&&(E=this.spectatorCameraEl.components.camera.camera,v.renderer.xr.enabled=!1,this.originalRender.call(v.renderer,p,E),v.renderer.xr.enabled=b)}});function M(p){var A,b=p.camera;b&&(A=p.querySelector("["+m+"]"),A&&p.removeChild(A))}},"./src/systems/geometry.js":(c,d,u)=>{var h=u("./src/core/geometry.js").geometries,g=u("./src/core/system.js").registerSystem;c.exports.System=g("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(A){var b=this.cache,v,E;return A.skipCache?m(A):(E=this.hash(A),v=b[E],p(this.cacheCount,E),v||(v=m(A),b[E]=v,v))},unuseGeometry:function(A){var b=this.cache,v=this.cacheCount,E,x;A.skipCache||(x=this.hash(A),b[x]&&(M(v,x),!(v[x]>0)&&(E=b[x],E.dispose(),delete b[x],delete v[x])))},hash:function(A){return JSON.stringify(A)}});function m(A){var b=A.primitive,v=h[b]&&h[b].Geometry,E=new v;if(!v)throw new Error("Unknown geometry `"+b+"`");return E.init(A),E.geometry}function M(A,b){A[b]--}function p(A,b){A[b]=A[b]===void 0?1:A[b]+1}},"./src/systems/gltf-model.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,g=u("./src/lib/three.js");function m(M){return new Promise(function(p,A){var b=document.createElement("script");document.body.appendChild(b),b.onload=p,b.onerror=A,b.async=!0,b.src=M})}c.exports.System=h("gltf-model",{schema:{dracoDecoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.5.6/"},basisTranscoderPath:{default:""},meshoptDecoderPath:{default:""}},init:function(){this.update()},update:function(){var M=this.data.dracoDecoderPath,p=this.data.basisTranscoderPath,A=this.data.meshoptDecoderPath;!this.dracoLoader&&M&&(this.dracoLoader=new g.DRACOLoader,this.dracoLoader.setDecoderPath(M)),!this.ktx2Loader&&p&&(this.ktx2Loader=new g.KTX2Loader,this.ktx2Loader.setTranscoderPath(p).detectSupport(this.el.renderer)),!this.meshoptDecoder&&A&&(this.meshoptDecoder=m(A).then(function(){return window.MeshoptDecoder.ready}).then(function(){return window.MeshoptDecoder}))},getDRACOLoader:function(){return this.dracoLoader},getKTX2Loader:function(){return this.ktx2Loader},getMeshoptDecoder:function(){return this.meshoptDecoder}})},"./src/systems/index.js":(c,d,u)=>{u("./src/systems/camera.js"),u("./src/systems/geometry.js"),u("./src/systems/gltf-model.js"),u("./src/systems/light.js"),u("./src/systems/material.js"),u("./src/systems/obb-collider.js"),u("./src/systems/renderer.js"),u("./src/systems/shadow.js"),u("./src/systems/tracked-controls-webvr.js"),u("./src/systems/tracked-controls-webxr.js"),u("./src/systems/webxr.js")},"./src/systems/light.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,g=u("./src/constants/index.js"),m="data-aframe-default-light";c.exports.System=h("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",this.setupDefaultLights.bind(this))},registerLight:function(M){M.hasAttribute(m)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var M,p=this.sceneEl;if(this.defaultLights){M=document.querySelectorAll("["+m+"]");for(var A=0;A<M.length;A++)p.removeChild(M[A]);this.defaultLights=!1}},setupDefaultLights:function(){var M=this.sceneEl,p,A;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||(p=document.createElement("a-entity"),p.setAttribute("light",{color:"#BBB",type:"ambient"}),p.setAttribute(m,""),p.setAttribute(g.AFRAME_INJECTED,""),M.appendChild(p),A=document.createElement("a-entity"),A.setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),A.setAttribute("position",{x:-.5,y:1,z:1}),A.setAttribute(m,""),A.setAttribute(g.AFRAME_INJECTED,""),M.appendChild(A),this.defaultLights=!0)}})},"./src/systems/material.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,g=u("./src/lib/three.js"),m=u("./src/utils/index.js"),M=u("./src/utils/material.js").setTextureProperties,p=u("./src/utils/material.js").createCompatibleTexture,A=m.debug,b=A("components:texture:error"),v=A("components:texture:warn"),E=new g.ImageLoader;c.exports.System=h("material",{init:function(){this.materials={},this.sourceCache={}},clearTextureSourceCache:function(){this.sourceCache={}},loadTexture:function(O,I,T){this.loadTextureSource(O,function(P){var L=p(P);M(L,I),T(L)})},loadTextureSource:function(O,I){var T=this,D=this.sourceCache,P=this.hash(O);if(D[P]){D[P].then(I);return}if(O.tagName==="CANVAS"){N(new g.Source(O));return}N(new Promise(L));function L(U,$){m.srcLoader.validateSrc(O,F,j);function F(z){T.loadImage(z,U)}function j(z){T.loadVideo(z,U)}}function N(U){D[P]=Promise.resolve(U),D[P].then(I)}},loadCubeMapTexture:function(O,I){var T=this,D=0,P=new g.CubeTexture;P.colorSpace=g.SRGBColorSpace;function L(U){T.loadTextureSource(O[U],function($){P.images[U]=$,D++,D===6&&(P.needsUpdate=!0,I(P))})}if(O.length!==6){v("Cube map texture requires exactly 6 sources, got only %s sources",O.length);return}for(var N=0;N<O.length;N++)L(N)},loadImage:function(O,I){if(typeof O!="string"){I(new g.Source(O));return}I(x(O))},loadVideo:function(O,I){var T;typeof O!="string"&&(T=O,C(T)),T=T||_(O),I(new g.Source(T))},hash:function(O){return O.tagName&&(O.id||O.src)||O},registerMaterial:function(O){this.materials[O.uuid]=O},unregisterMaterial:function(O){delete this.materials[O.uuid]}});function x(O){return new Promise(I);function I(T,D){E.load(O,P,function(){},function(L){b("`$s` could not be fetched (Error code: %s; Response: %s)",L.status,L.statusText)});function P(L){T(new g.Source(L))}}}function _(O){var I=document.createElement("video");return I.setAttribute("playsinline",""),I.setAttribute("webkit-playsinline",""),I.autoplay=!0,I.loop=!0,I.crossOrigin="anonymous",I.addEventListener("error",function(){v("`%s` is not a valid video",O)},!0),I.src=O,I}function C(O){return O.autoplay=O.hasAttribute("autoplay")&&O.getAttribute("autoplay")!=="false",O.controls=O.hasAttribute("controls")&&O.getAttribute("controls")!=="false",O.getAttribute("loop")==="false"&&O.removeAttribute("loop"),O.getAttribute("preload")==="false"&&(O.preload="none"),O.crossOrigin=O.crossOrigin||"anonymous",O.setAttribute("playsinline",""),O.setAttribute("webkit-playsinline",""),O}},"./src/systems/obb-collider.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem;h("obb-collider",{schema:{showColliders:{default:!1}},init:function(){this.collisions=[],this.colliderEls=[]},addCollider:function(g){this.colliderEls.push(g),this.data.showColliders?g.components["obb-collider"].showCollider():g.components["obb-collider"].hideCollider(),this.tick=this.detectCollisions},removeCollider:function(g){var m=this.colliderEls,M=m.indexOf(g);g.components["obb-collider"].hideCollider(),M>-1&&m.splice(M,1),m.length===0&&(this.tick=void 0)},registerCollision:function(g,m){var M=this.collisions,p=!1,A=g.obb,b=m.obb,v=g.renderColliderMesh,E=m.renderColliderMesh;v&&v.material.color.set(16711680),E&&E.material.color.set(16711680);for(var x=0;x<M.length;x++)if(M[x].componentA.obb===A&&M[x].componentB.obb===b||M[x].componentA.obb===b&&M[x].componentB.obb===A){p=!0,M[x].detected=!0;break}p||(M.push({componentA:g,componentB:m,detected:!0}),g.el.emit("obbcollisionstarted",{trackedObject3D:g.trackedObject3D,withEl:m.el}),m.el.emit("obbcollisionstarted",{trackedObject3D:m.trackedObject3D,withEl:g.el}))},resetCollisions:function(){for(var g=this.collisions,m=0;m<g.length;m++)g[m].detected=!1},clearCollisions:function(){for(var g=this.collisions,m=[],M,p,A,b,v=0;v<g.length;v++)g[v].detected?m.push(g[v]):(M=g[v].componentA,p=g[v].componentB,A=M.renderColliderMesh,b=p.renderColliderMesh,A&&A.material.color.set(65280),M.el.emit("obbcollisionended",{trackedObject3D:this.trackedObject3D,withEl:p.el}),b&&b.material.color.set(65280),p.el.emit("obbcollisionended",{trackedObject3D:this.trackedObject3D,withEl:M.el}));this.collisions=m},detectCollisions:function(){var g,m,M,p,A=this.colliderEls;if(!(A.length<2)){this.resetCollisions();for(var b=0;b<A.length;b++)if(M=A[b].components["obb-collider"],g=A[b].components["obb-collider"].obb,!(g.halfSize.x===0||g.halfSize.y===0||g.halfSize.z===0))for(var v=b+1;v<A.length;v++)p=A[v].components["obb-collider"],m=p.obb,!(m.halfSize.x===0||m.halfSize.y===0||m.halfSize.z===0)&&g.intersectsOBB(m)&&this.registerCollision(M,p);this.clearCollisions()}}})},"./src/systems/renderer.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,g=u("./src/utils/index.js"),m=u("./src/lib/three.js"),M=g.debug,p=M("components:renderer:warn");c.exports.System=h("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:g.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:-1},maxCanvasHeight:{default:-1},multiviewStereo:{default:!1},physicallyCorrectLights:{default:!1},exposure:{default:1,if:{toneMapping:["ACESFilmic","linear","reinhard","cineon"]}},toneMapping:{default:"no",oneOf:["no","ACESFilmic","linear","reinhard","cineon"]},precision:{default:"high",oneOf:["high","medium","low"]},anisotropy:{default:1},sortTransparentObjects:{default:!1},colorManagement:{default:!0},alpha:{default:!0},stencil:{default:!1},foveationLevel:{default:1}},init:function(){var E=this.data,x=this.el,_=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1),C=x.renderer;E.physicallyCorrectLights||(C.useLegacyLights=!E.physicallyCorrectLights),C.toneMapping=m[_+"ToneMapping"],m.Texture.DEFAULT_ANISOTROPY=E.anisotropy,m.ColorManagement.enabled=E.colorManagement,C.outputColorSpace=E.colorManagement?m.SRGBColorSpace:m.LinearSRGBColorSpace,x.hasAttribute("antialias")&&p('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),x.hasAttribute("logarithmicDepthBuffer")&&p('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.'),C.sortObjects=!0,C.setOpaqueSort(A)},update:function(){var E=this.data,x=this.el,_=x.renderer,C=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1);_.toneMapping=m[C+"ToneMapping"],_.toneMappingExposure=E.exposure,_.xr.setFoveation(E.foveationLevel),E.sortObjects&&p('`sortObjects` property is deprecated. Use `renderer="sortTransparentObjects: true"` instead.'),E.sortTransparentObjects?_.setTransparentSort(v):_.setTransparentSort(b)},applyColorCorrection:function(E){!this.data.colorManagement||!E||E.isTexture&&E.colorSpace!==m.SRGBColorSpace&&(E.colorSpace=m.SRGBColorSpace,E.needsUpdate=!0)},setWebXRFrameRate:function(E){var x=this.data,_=E.supportedFrameRates;if(_&&E.updateTargetFrameRate){var C;_.includes(90)?C=x.highRefreshRate?90:72:C=x.highRefreshRate?72:60,E.updateTargetFrameRate(C).catch(function(O){console.warn("failed to set target frame rate of "+C+". Error info: "+O)})}}});function A(E,x){return E.groupOrder!==x.groupOrder?E.groupOrder-x.groupOrder:E.renderOrder!==x.renderOrder?E.renderOrder-x.renderOrder:E.z-x.z}function b(E,x){return E.groupOrder!==x.groupOrder?E.groupOrder-x.groupOrder:E.renderOrder-x.renderOrder}function v(E,x){return E.groupOrder!==x.groupOrder?E.groupOrder-x.groupOrder:E.renderOrder!==x.renderOrder?E.renderOrder-x.renderOrder:x.z-E.z}c.exports.sortFrontToBack=A,c.exports.sortRenderOrderOnly=b,c.exports.sortBackToFront=v},"./src/systems/shadow.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,g=u("./src/lib/three.js"),m={basic:g.BasicShadowMap,pcf:g.PCFShadowMap,pcfsoft:g.PCFSoftShadowMap};c.exports.System=h("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var p=this.sceneEl,A=this.data;this.shadowMapEnabled=!1,p.renderer.shadowMap.type=m[A.type],p.renderer.shadowMap.autoUpdate=A.autoUpdate},update:function(p){p.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.shadowMapEnabled)},setShadowMapEnabled:function(p){var A=this.sceneEl,b=this.sceneEl.renderer;this.shadowMapEnabled=p;var v=this.data.enabled&&this.shadowMapEnabled;b&&v!==b.shadowMap.enabled&&(b.shadowMap.enabled=v,M(A))}});function M(p){p.hasLoaded&&p.object3D.traverse(function(A){if(A.material)for(var b=Array.isArray(A.material)?A.material:[A.material],v=0;v<b.length;v++)b[v].needsUpdate=!0})}},"./src/systems/tracked-controls-webvr.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,g=u("./src/utils/index.js"),m=g.device.isWebXRAvailable;c.exports.System=h("tracked-controls-webvr",{init:function(){var M=this;this.controllers=[],this.isChrome=navigator.userAgent.indexOf("Chrome")!==-1,this.updateControllerList(),this.throttledUpdateControllerList=g.throttle(this.updateControllerList,500,this),!m&&navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(function(p){p.length&&(M.vrDisplay=p[0])})})},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var M=this.controllers,p,A,b,v;if(A=navigator.getGamepads&&navigator.getGamepads(),!!A){for(v=M.length,M.length=0,b=0;b<A.length;++b)p=A[b],p&&p.pose&&M.push(p);M.length!==v&&this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/tracked-controls-webxr.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,g=u("./src/utils/index.js");c.exports.System=h("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=g.throttle(this.updateControllerList,500,this),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.addEventListener("enter-vr",this.updateReferenceSpace),this.el.addEventListener("exit-vr",this.updateReferenceSpace)},tick:function(){this.throttledUpdateControllerList()},updateReferenceSpace:function(){var m=this,M=this.el.xrSession;if(!M){this.referenceSpace=void 0,this.controllers=[],this.oldControllersLength>0&&(this.oldControllersLength=0,this.el.emit("controllersupdated",void 0,!1));return}var p=m.el.sceneEl.systems.webxr.sessionReferenceSpaceType;M.requestReferenceSpace(p).then(function(A){m.referenceSpace=A}).catch(function(A){throw m.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(p,'tracked-controls-webxr uses reference space "'+p+'".'),A})},updateControllerList:function(){var m=this.el.xrSession,M=this.oldControllers,p;if(!m){if(this.oldControllersLength===0)return;this.oldControllersLength=0,this.controllers=[],this.el.emit("controllersupdated",void 0,!1);return}if(m.inputSources){if(this.controllers=m.inputSources,this.oldControllersLength===this.controllers.length){var A=!0;for(p=0;p<this.controllers.length;++p)if(!(this.controllers[p]===M[p]&&this.controllers[p].gamepad===M[p].gamepad)){A=!1;break}if(A)return}for(M.length=0,p=0;p<this.controllers.length;p++)M.push(this.controllers[p]);this.oldControllersLength=this.controllers.length,this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/webxr.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,g=u("./src/utils/index.js"),m=g.debug("systems:webxr:warn");c.exports.System=h("webxr",{schema:{referenceSpaceType:{type:"string",default:"local-floor"},requiredFeatures:{type:"array",default:["local-floor"]},optionalFeatures:{type:"array",default:["bounded-floor"]},overlayElement:{type:"selector"}},update:function(){var M=this.data;this.sessionConfiguration={requiredFeatures:M.requiredFeatures,optionalFeatures:M.optionalFeatures},this.sessionReferenceSpaceType=M.referenceSpaceType,M.overlayElement&&(M.overlayElement.classList.remove("a-dom-overlay"),M.optionalFeatures.includes("dom-overlay")||(M.optionalFeatures.push("dom-overlay"),this.el.setAttribute("webxr",M)),this.warnIfFeatureNotRequested("dom-overlay"),this.sessionConfiguration.domOverlay={root:M.overlayElement},M.overlayElement.classList.add("a-dom-overlay"))},wasFeatureRequested:function(M){return!!(M==="viewer"||M==="local"||this.sessionConfiguration.requiredFeatures.includes(M)||this.sessionConfiguration.optionalFeatures.includes(M))},warnIfFeatureNotRequested:function(M,p){if(!this.wasFeatureRequested(M)){var A='Please add the feature "'+M+`" to a-scene's webxr system options in requiredFeatures/optionalFeatures.`;m((p?p+" ":"")+A)}}})},"./src/utils/coordinates.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),g=h("utils:coordinates:warn"),m=["x","y","z","w"],M=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;c.exports.regex=M;var p=/\s+/g;function A(_,C,O){var I,T,D,P,L=O&&typeof O=="object"?O:{},N,U,$,F;if(_&&_ instanceof Object)return N=_.x===void 0?C&&C.x:_.x,U=_.y===void 0?C&&C.y:_.y,$=_.z===void 0?C&&C.z:_.z,F=_.w===void 0?C&&C.w:_.w,N!=null&&(L.x=x(N)),U!=null&&(L.y=x(U)),$!=null&&(L.z=x($)),F!=null&&(L.w=x(F)),L;if(_==null)return typeof C=="object"?Object.assign(L,C):C;for(I=_.trim().split(p),P=0;P<m.length;P++)if(D=m[P],I[P])L[D]=parseFloat(I[P],10);else{if(T=C&&C[D],T===void 0)continue;L[D]=x(T)}return L}c.exports.parse=A;function b(_){var C;return typeof _!="object"?_:(C=_.x+" "+_.y,_.z!=null&&(C+=" "+_.z),_.w!=null&&(C+=" "+_.w),C)}c.exports.stringify=b;function v(_,C){return typeof _!="object"||typeof C!="object"?_===C:_.x===C.x&&_.y===C.y&&_.z===C.z&&_.w===C.w}c.exports.equals=v;function E(_){return M.test(_)}c.exports.isCoordinates=E,c.exports.isCoordinate=function(_){return g("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),E(_)};function x(_){return _!=null&&_.constructor===String?parseFloat(_,10):_}c.exports.toVector3=function(_){return new THREE.Vector3(_.x,_.y,_.z)}},"./src/utils/debug.js":(c,d,u)=>{var h=u("./node_modules/debug/src/browser.js"),g=u("./src/utils/device.js").isBrowserEnvironment,m={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}};h.formatArgs=M;function M(E){if(E[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+E[0]+(this.useColors?"%c ":" "),!!this.useColors){this.color=A(this.namespace);var x="color: "+this.color;E.splice(1,0,x,"color: inherit");var _=0,C=0;E[0].replace(/%[a-zA-Z%]/g,function(O){O!=="%%"&&(_++,O==="%c"&&(C=_))}),E.splice(C,0,x)}}function p(E){var x=E.split(":");return x[x.length-1]}function A(E){var x=p(E),_=m.colors&&m.colors[x];return _||null}function b(){try{return window.localStorage}catch{}}var v=b();v&&(parseInt(v.logs,10)||v.logs==="true")?h.enable("*"):h.enable("*:error,*:info,*:warn"),g&&(window.logs=h),c.exports=h},"./src/utils/device.js":(c,d,u)=>{var h=u("./node_modules/debug/src/browser.js")("device:error"),g,m=!1,M=!1,p=c.exports.isWebXRAvailable=navigator.xr!==void 0;if(window.addEventListener("vrdisplayactivate",function($){var F;p||(F=document.createElement("canvas"),g=$.display,F.getContext("webgl",{}),g.requestPresent([{source:F}]).then(function(){},function(){}))}),p){var A=function(){var $=document.querySelector("a-scene");if(!$){window.addEventListener("DOMContentLoaded",A);return}$.hasLoaded?$.components["xr-mode-ui"].updateEnterInterfaces():$.addEventListener("loaded",A)},b=function($){h("WebXR session support error: "+$.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then(function($){m=$,A()}).catch(b),navigator.xr.isSessionSupported("immersive-ar").then(function($){M=$,A()}).catch(function(){})):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then(function(){m=!0,A()}).catch(b),navigator.xr.supportsSession("immersive-ar").then(function(){M=!0,A()}).catch(function(){})):h("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then(function($){var F=document.querySelector("a-scene");g=$.length&&$[0],F&&F.emit("displayconnected",{vrDisplay:g})});function v(){return g}c.exports.getVRDisplay=v;function E(){return m||M||!!v()}c.exports.checkHeadsetConnected=E;function x(){return M}c.exports.checkARSupport=x;function _(){return m}c.exports.checkVRSupport=_;var C=function(){var $=!1;return function(F){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(F)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(F.substr(0,4)))&&($=!0),(T()||O()||U())&&($=!0),N()&&($=!1)}(window.navigator.userAgent||window.navigator.vendor||window.opera),function(){return $}}();c.exports.isMobile=C;function O($){var F=$||window.navigator.userAgent,j=/Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(F);return j||I()}c.exports.isTablet=O;function I($,F,j){var z=$||window.navigator.userAgent,Q=F||window.navigator.platform,V=j||window.navigator.maxTouchPoints||0;return(Q==="iPad"||Q==="MacIntel")&&V>0&&/Macintosh|Intel|iPad|ipad/i.test(z)&&!window.MSStream}c.exports.isIpad=I;function T(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}c.exports.isIOS=T;function D(){return!C()&&!N()&&window.orientation!==void 0}c.exports.isMobileDeviceRequestingDesktopSite=D;function P(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}c.exports.isOculusBrowser=P;function L(){return/(Mobile VR)/i.test(window.navigator.userAgent)}c.exports.isFirefoxReality=L;function N(){return P()||L()}c.exports.isMobileVR=N;function U(){return/R7 Build/.test(window.navigator.userAgent)}c.exports.isR7=U,c.exports.isLandscape=function(){var $=window.orientation;return U()&&($+=90),$===90||$===-90},c.exports.isBrowserEnvironment=typeof process>"u"||process.browser===!0,c.exports.isNodeEnvironment=!c.exports.isBrowserEnvironment},"./src/utils/entity.js":(c,d,u)=>{var h=u("./src/utils/split.js").split;function g(m,M){M=M||".";var p=h(m,M);return p.length===1?p[0]:p}c.exports.getComponentPropertyPath=g,c.exports.getComponentProperty=function(m,M,p){var A;return p=p||".",M.indexOf(p)!==-1?(A=g(M,p),A.constructor===String?m.getAttribute(A):m.getAttribute(A[0])[A[1]]):m.getAttribute(M)},c.exports.setComponentProperty=function(m,M,p,A){var b;if(A=A||".",M.indexOf(A)!==-1){b=g(M,A),b.constructor===String?m.setAttribute(b,p):m.setAttribute(b[0],b[1],p);return}m.setAttribute(M,p)}},"./src/utils/forceCanvasResizeSafariMobile.js":c=>{c.exports=function(u){var h=u.style.width,g=u.style.height;u.style.width=parseInt(h,10)+1+"px",u.style.height=parseInt(g,10)+1+"px",setTimeout(function(){u.style.width=h,u.style.height=g},200)}},"./src/utils/index.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),g=u("./node_modules/deep-assign/index.js"),m=u("./src/utils/device.js"),M=u("./src/utils/object-pool.js"),p=h("utils:warn");c.exports.bind=function(b){return b.bind.apply(b,Array.prototype.slice.call(arguments,1))},c.exports.coordinates=u("./src/utils/coordinates.js"),c.exports.debug=h,c.exports.device=m,c.exports.entity=u("./src/utils/entity.js"),c.exports.forceCanvasResizeSafariMobile=u("./src/utils/forceCanvasResizeSafariMobile.js"),c.exports.material=u("./src/utils/material.js"),c.exports.objectPool=M,c.exports.split=u("./src/utils/split.js").split,c.exports.styleParser=u("./src/utils/styleParser.js"),c.exports.trackedControls=u("./src/utils/tracked-controls.js"),c.exports.checkHeadsetConnected=function(){return p("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),m.checkHeadsetConnected(arguments)},c.exports.isGearVR=c.exports.device.isGearVR=function(){p("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},c.exports.isIOS=function(){return p("`utils.isIOS` has moved to `utils.device.isIOS`"),m.isIOS(arguments)},c.exports.isOculusGo=c.exports.device.isOculusGo=function(){p("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},c.exports.isMobile=function(){return p("`utils.isMobile has moved to `utils.device.isMobile`"),m.isMobile(arguments)},c.exports.throttle=function(b,v,E){var x;return E&&(b=b.bind(E)),function(){var _=Date.now(),C=typeof x>"u"?v:_-x;(typeof x>"u"||C>=v)&&(x=_,b.apply(null,arguments))}},c.exports.throttleLeadingAndTrailing=function(b,v,E){var x,_;E&&(b=b.bind(E));var C,O=function(){x=Date.now(),b.apply(this,C),_=void 0};return function(){var I=Date.now(),T=typeof x>"u"?v:I-x;T>=v?(clearTimeout(_),_=void 0,x=I,b.apply(null,arguments)):(_=_||setTimeout(O,v-T),C=arguments)}},c.exports.throttleTick=function(b,v,E){var x;return E&&(b=b.bind(E)),function(_,C){var O=typeof x>"u"?C:_-x;(typeof x>"u"||O>=v)&&(x=_,b(_,O))}},c.exports.debounce=function(b,v,E){var x;return function(){var _=this,C=arguments,O=function(){x=null,E||b.apply(_,C)},I=E&&!x;clearTimeout(x),x=setTimeout(O,v),I&&b.apply(_,C)}},c.exports.extend=Object.assign,c.exports.extendDeep=g,c.exports.clone=function(b){return JSON.parse(JSON.stringify(b))};var A=function(){var b=M.createPool(function(){return[]});return function(v,E){var x,_,C,O,I,T;if(v===void 0||E===void 0||v===null||E===null||!(v&&E&&v.constructor===Object&&E.constructor===Object||v.constructor===Array&&E.constructor===Array))return v===E;_=b.use(),C=b.use(),_.length=0,C.length=0;for(x in v)_.push(x);for(x in E)C.push(x);if(_.length!==C.length)return b.recycle(_),b.recycle(C),!1;for(O=0;O<_.length;++O)if(I=v[_[O]],T=E[_[O]],typeof I=="object"||typeof T=="object"||Array.isArray(I)&&Array.isArray(T)){if(I===T)continue;if(!A(I,T))return b.recycle(_),b.recycle(C),!1}else if(I!==T)return b.recycle(_),b.recycle(C),!1;return b.recycle(_),b.recycle(C),!0}}();c.exports.deepEqual=A,c.exports.diff=function(){var b=[];return function(v,E,x){var _,C,O,I,T,D,P;I=x||{},b.length=0;for(T in v)b.push(T);if(!E)return I;for(O in E)b.indexOf(O)===-1&&b.push(O);for(D=0;D<b.length;D++)T=b[D],_=v[T],C=E[T],P=_&&C&&_.constructor===Object&&C.constructor===Object,(P&&!A(_,C)||!P&&_!==C)&&(I[T]=C);return I}}(),c.exports.shouldCaptureKeyEvent=function(b){return b.metaKey?!1:document.activeElement===document.body},c.exports.splitString=function(b,v){typeof v>"u"&&(v=" ");var E=new RegExp(v,"g");return b=(b||"").replace(E,v),b.split(v)},c.exports.getElData=function(b,v){v=v||{};var E={};Object.keys(v).forEach(x);function x(_){b.hasAttribute(_)&&(E[_]=b.getAttribute(_))}return E},c.exports.getUrlParameter=function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var v=new RegExp("[\\?&]"+b+"=([^&#]*)"),E=v.exec(location.search);return E===null?"":decodeURIComponent(E[1].replace(/\+/g," "))},c.exports.isIframed=function(){return window.top!==window.self},c.exports.findAllScenes=function(b){for(var v=[],E=b.getElementsByTagName("*"),x=0,_=E.length;x<_;x++)E[x].isScene&&v.push(E[x]);return v},c.exports.srcLoader=u("./src/utils/src-loader.js")},"./src/utils/ios-orientationchange-blank-bug.js":()=>{window.addEventListener("orientationchange",function(){document.documentElement.style.height="initial",setTimeout(function(){document.documentElement.style.height="100%",setTimeout(function(){window.scrollTo(0,1)},500)},500)})},"./src/utils/isIOSOlderThan10.js":c=>{c.exports=function(u){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(u)}},"./src/utils/material.js":(c,d,u)=>{var h=u("./src/lib/three.js"),g=u("./src/utils/src-loader.js"),m=u("./src/utils/debug.js"),M=m("utils:material:warn"),p=new Set(["emissiveMap","envMap","map","specularMap"]);function A(_,C){var O=C.offset||{x:0,y:0},I=C.repeat||{x:1,y:1},T=C.npot||!1,D=C.anisotropy||h.Texture.DEFAULT_ANISOTROPY,P=_.wrapS,L=_.wrapT,N=_.magFilter,U=_.minFilter;T&&(P=h.ClampToEdgeWrapping,L=h.ClampToEdgeWrapping,N=h.LinearFilter,U=h.LinearFilter),(I.x!==1||I.y!==1)&&(P=h.RepeatWrapping,L=h.RepeatWrapping),_.offset.set(O.x,O.y),_.repeat.set(I.x,I.y),(_.wrapS!==P||_.wrapT!==L||_.magFilter!==N||_.minFilter!==U||_.anisotropy!==D)&&(_.wrapS=P,_.wrapT=L,_.magFilter=N,_.minFilter=U,_.anisotropy=D,_.needsUpdate=!0)}c.exports.setTextureProperties=A,c.exports.updateMapMaterialFromData=function(_,C,O,I){var T=O.el,D=O.material,P=T.sceneEl.systems.renderer,L=I[C];if(O.materialSrcs||(O.materialSrcs={}),!L){delete O.materialSrcs[_],U(null);return}if(L===O.materialSrcs[_]&&D[_]){A(D[_],I);return}O.materialSrcs[_]=L,L instanceof h.Texture?U(L):T.sceneEl.systems.material.loadTextureSource(L,N);function N($){if(O.materialSrcs[_]===L){var F=D[_];F&&($===null||!E(F,$))&&(F=null),!F&&$&&(F=x($)),F&&(F.source!==$&&(F.source=$,F.needsUpdate=!0),p.has(_)&&P.applyColorCorrection(F),A(F,I)),U(F)}}function U($){D[_]!==$&&(D[_]&&D[_].dispose(),D[_]=$,D.needsUpdate=!0,v(T,$))}},c.exports.updateMap=function(_,C){return c.exports.updateMapMaterialFromData("map","src",_,C)},c.exports.updateDistortionMap=function(_,C,O){var I=_;_==="ambientOcclusion"&&(I="ao");var T={};return T.src=O[_+"Map"],T.offset=O[_+"TextureOffset"],T.repeat=O[_+"TextureRepeat"],T.wrap=O[_+"TextureWrap"],c.exports.updateMapMaterialFromData(I+"Map","src",C,T)};var b={};c.exports.updateEnvMap=function(_,C){var O=_.material,I=_.el,T="envMap",D=C.envMap,P=C.sphericalEnvMap,L=C.refract;if(P&&(D=P,M("`sphericalEnvMap` property is deprecated, using spherical map as equirectangular map instead. Use `envMap` property with a CubeMap or Equirectangular image instead.")),_.materialSrcs||(_.materialSrcs={}),!D){delete _.materialSrcs[T],O.envMap=null,O.needsUpdate=!0;return}if(_.materialSrcs[T]=D,b[D]){b[D].then(N);return}b[D]=new Promise(function(U){g.validateEnvMapSrc(D,function(F){I.sceneEl.systems.material.loadCubeMapTexture(F,function(j){j.mapping=L?h.CubeRefractionMapping:h.CubeReflectionMapping,N(j),U(j)})},function(F){I.sceneEl.systems.material.loadTexture(F,{src:F},function(j){j.mapping=L?h.EquirectangularRefractionMapping:h.EquirectangularReflectionMapping,N(j),U(j)})})});function N(U){_.materialSrcs[T]===D&&(O.envMap=U,O.needsUpdate=!0,v(I,U))}};function v(_,C){if(!C||(_.emit("materialtextureloaded",{src:C.image,texture:C}),!C.image||C.image.tagName!=="VIDEO"))return;C.image.addEventListener("loadeddata",O),C.image.addEventListener("ended",I);function O(){_.emit("materialvideoloadeddata",{src:C.image,texture:C})}function I(){_.emit("materialvideoended",{src:C.image,texture:C})}C.addEventListener("dispose",function(){C.image.removeEventListener("loadeddata",O),C.image.removeEventListener("ended",I)})}c.exports.handleTextureEvents=v;function E(_,C){return C.data instanceof HTMLCanvasElement?_.isCanvasTexture:C.data instanceof HTMLVideoElement?_.isVideoTexture&&_.source===C:_.isTexture&&!_.isCanvasTexture&&!_.isVideoTexture}c.exports.isCompatibleTexture=E;function x(_){var C;return _.data instanceof HTMLCanvasElement?C=new h.CanvasTexture:_.data instanceof HTMLVideoElement?C=new h.VideoTexture(_.data):C=new h.Texture,C.source=_,C.needsUpdate=!0,C}c.exports.createCompatibleTexture=x},"./src/utils/math.js":c=>{function d(h,g,m){var M=g.dot(h);return(M-g.dot(m))/g.length()}function u(h,g,m,M){var p=d(h,g,m);return M.copy(g),M.multiplyScalar(p),M.add(m),M}c.exports.distanceOfPointFromPlane=d,c.exports.nearestPointInPlane=u},"./src/utils/object-pool.js":c=>{var d=Object.freeze(Object.create(null));function u(){return{}}c.exports.createPool=function(M){var p=[],A=null;M=M||u;function b(){var _;return(A===null||A===p.length)&&E(p.length||5),_=p[A],p[A++]=d,h(_),_}function v(_){if(_ instanceof Object){if(A===null||A===-1){p[p.length]=_;return}p[--A]=_}}function E(_){var C,O;if(_=_===void 0?p.length:_,_>0&&A==null&&(A=0),_>0)for(C=p.length,p.length+=Number(_),O=C;O<p.length;O++)p[O]=M();return p.length}function x(){return p.length}return{grow:E,pool:p,recycle:v,size:x,use:b}};function h(m){var M;if(!(!m||m.constructor!==Object))for(M in m)m[M]=void 0}c.exports.clearObject=h;function g(m,M){var p;if(!(!m||m.constructor!==Object))for(p in m)p in M||delete m[p]}c.exports.removeUnusedKeys=g},"./src/utils/split.js":c=>{c.exports.split=function(){var d={};return function(u,h){return h in d||(d[h]={}),u in d[h]||(d[h][u]=u.split(h)),d[h][u]}}()},"./src/utils/src-loader.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),g=h("utils:src-loader:warn");function m(x,_,C){b(x,function(I){if(I){_(x);return}C(x)})}function M(x,_,C){var O,I="",T,D,P=[];if(typeof x=="string"){let N=function(U){P.push(U),P.length===6&&_(P)};for(T=0;T<5;T++)I+="(url\\((?:[^\\)]+)\\),\\s*)";if(I+="(url\\((?:[^\\)]+)\\)\\s*)",D=x.match(new RegExp(I)),D){for(T=1;T<7;T++)m(A(D[T]),N);return}if(!x.startsWith("#")){var L=A(x);m(L||x,C);return}}if(x.tagName?O=x:O=E(x),!!O){if(O.tagName==="A-CUBEMAP"&&O.srcs)return _(O.srcs);if(O.tagName==="IMG")return C(O);g('Selector "%s" does not point to <a-cubemap> or <img>',x)}}function p(x,_){return M(x,_,function(){g("Expected cubemap but got image")})}function A(x){var _=x.match(/url\((.+)\)/);if(_)return _[1]}function b(x,_){var C;if(x.tagName){_(x.tagName==="IMG");return}C=new XMLHttpRequest,C.open("HEAD",x),C.addEventListener("load",function(O){var I;C.status>=200&&C.status<300?(I=C.getResponseHeader("Content-Type"),I==null?v(x,_):I.startsWith("image")?_(!0):_(!1)):v(x,_),C.abort()}),C.send()}function v(x,_){var C=new Image;C.addEventListener("load",O);function O(){_(!0)}C.addEventListener("error",I);function I(){_(!1)}C.src=x}function E(x){try{var _=document.querySelector(x);return _||g('No element was found matching the selector: "%s"',x),_}catch{g('"%s" is not a valid selector',x);return}}c.exports={parseUrl:A,validateSrc:m,validateCubemapSrc:p,validateEnvMapSrc:M}},"./src/utils/styleParser.js":c=>{var d=/-([a-z])/g;c.exports.parse=function(p,A){var b;return typeof p!="string"||(b=g(p,A),b[""])?p:b},c.exports.stringify=function(p){return typeof p=="string"?p:m(p)};function u(p){return p.replace(d,M)}c.exports.toCamelCase=u;var h=function(){var p=[],A=/url\([^)]+$/;return function(v){var E="",x,_=0,C=";";for(p.length=0;_<v.length;){if(x=v.indexOf(C,_),x===-1&&(x=v.length),E+=v.substring(_,x),A.test(E)){E+=";",_=x+1;continue}p.push(E.trim()),E="",_=x+1}return p}}();function g(p,A){var b,v,E,x,_,C;for(A=A||{},b=h(p),v=0;v<b.length;v++)E=b[v],E&&(x=E.indexOf(":"),_=E.substr(0,x).trim(),C=E.substr(x+1).trim(),A[u(_)]=C);return A}function m(p){var A,b=0,v=0,E="";for(A in p)b++;for(A in p)E+=A+": "+p[A],v<b-1&&(E+="; "),v++;return E}function M(p){return p[1].toUpperCase()}},"./src/utils/tracked-controls.js":(c,d,u)=>{var h=u("./src/constants/index.js").DEFAULT_HANDEDNESS,g=["x","y","z","w"],m=2;c.exports.checkControllerPresentAndSetup=function(v,E,x){var _=v.el,C,O=_.sceneEl.hasWebXR,I=O?p:M,T;if(C=I(v,E,x),T=!!C,v.controllerPresent&&!v.controllerEventsActive&&!O&&v.addEventListeners(),T===v.controllerPresent)return T;v.controllerPresent=T,T?(v.addEventListeners(),v.injectTrackedControls(C),_.emit("controllerconnected",{name:v.name,component:v})):(v.removeEventListeners(),_.emit("controllerdisconnected",{name:v.name,component:v}))};function M(v,E,x){var _,C=v.el.sceneEl,O,I=x.index||0;return!E||(O=C&&C.systems["tracked-controls-webvr"],!O)||(_=O.controllers,!_.length)?!1:!!A(_,null,E,x.hand,I)}function p(v,E,x){var _,C=v.el.sceneEl,O=C&&C.systems["tracked-controls-webxr"];return!O||(_=O.controllers,!_||!_.length)?!1:b(_,E,x.hand,x.index,x.iterateControllerProfiles,x.handTracking)}c.exports.isControllerPresentWebVR=M,c.exports.isControllerPresentWebXR=p;function A(v,E,x,_,C){var O,I,T=0,D=C>=0?C:0;for(I=0;I<v.length;I++)if(O=v[I],!(x&&!O.id.startsWith(x))&&!(!x&&O.id!==E)&&!(_&&O.hand&&_!==O.hand)){if(_&&!O.hand)D=m*C+(_===h?0:1);else return O;if(T===D)return O;++T}}function b(v,E,x,_,C,O){var I,T,D,P=!1,L,N;for(I=0;I<v.length;I++){if(D=v[I],N=D.profiles,O)P=D.hand;else if(C)for(T=0;T<N.length&&(P=N[T].startsWith(E),!P);T++);else P=N.length>0&&N[0].startsWith(E);if(P){if(L=D.handedness==="right"||D.handedness==="left",L){if(D.handedness===x)return v[I]}else if(I===_)return v[I]}}}c.exports.findMatchingControllerWebVR=A,c.exports.findMatchingControllerWebXR=b,c.exports.emitIfAxesChanged=function(v,E,x){var _,C,O,I,T;for(C in E){for(_=E[C],O=!1,T=0;T<_.length;T++)x.detail.changed[_[T]]&&(O=!0);if(O){for(I={},T=0;T<_.length;T++)I[g[T]]=x.detail.axis[_[T]];v.el.emit(C+"moved",I)}}},c.exports.onButtonEvent=function(v,E,x,_){var C=_?x.mapping[_]:x.mapping,O=C.buttons[v];x.el.emit(O+E),x.updateModel&&x.updateModel(O,E)}},"./vendor/DeviceOrientationControls.js":()=>{THREE.DeviceOrientationControls=function(c){var d=this;this.object=c,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var u=function(m){d.deviceOrientation=m},h=function(){d.screenOrientation=window.orientation||0},g=function(){var m=new THREE.Vector3(0,0,1),M=new THREE.Euler,p=new THREE.Quaternion,A=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(b,v,E,x,_){M.set(E,v,-x,"YXZ"),b.setFromEuler(M),b.multiply(A),b.multiply(p.setFromAxisAngle(m,-_))}}();this.connect=function(){h(),window.addEventListener("orientationchange",h,!1),window.addEventListener("deviceorientation",u,!1),d.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",h,!1),window.removeEventListener("deviceorientation",u,!1),d.enabled=!1},this.update=function(){if(d.enabled!==!1){var m=d.deviceOrientation;if(m){var M=m.alpha?THREE.MathUtils.degToRad(m.alpha)+d.alphaOffset:0,p=m.beta?THREE.MathUtils.degToRad(m.beta):0,A=m.gamma?THREE.MathUtils.degToRad(m.gamma):0,b=d.screenOrientation?THREE.MathUtils.degToRad(d.screenOrientation):0;g(d.object.quaternion,M,p,A,b)}}},this.dispose=function(){d.disconnect()},this.connect()}},"./vendor/rStats.extras.js":c=>{window.glStats=function(){var d=null,u=0,h=0,g=0,m=0,M=0,p=0,A=0;function b(T,D){return function(){D.apply(this,arguments),T.apply(this,arguments)}}WebGLRenderingContext.prototype.drawArrays=b(WebGLRenderingContext.prototype.drawArrays,function(){u++,arguments[0]==this.POINTS?p+=arguments[2]:M+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=b(WebGLRenderingContext.prototype.drawElements,function(){h++,m+=arguments[1]/3,M+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=b(WebGLRenderingContext.prototype.useProgram,function(){g++}),WebGLRenderingContext.prototype.bindTexture=b(WebGLRenderingContext.prototype.bindTexture,function(){A++});var v={allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},E=[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],x=[{base:"allcalls",steps:["drawelements","drawarrays"]}];function _(){d("allcalls").set(u+h),d("drawElements").set(h),d("drawArrays").set(u),d("bindTexture").set(A),d("useProgram").set(g),d("glfaces").set(m),d("glvertices").set(M),d("glpoints").set(p)}function C(){u=0,h=0,g=0,m=0,M=0,p=0,A=0}function O(){}function I(T){d=T}return{update:_,start:C,end:O,attach:I,values:v,groups:E,fractions:x}},window.threeStats=function(d){var u=null,h={"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},g=[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],m=[];function M(){u("renderer.info.memory.geometries").set(d.info.memory.geometries),u("renderer.info.programs").set(d.info.programs.length),u("renderer.info.memory.textures").set(d.info.memory.textures),u("renderer.info.render.calls").set(d.info.render.calls),u("renderer.info.render.triangles").set(d.info.render.triangles),u("renderer.info.render.points").set(d.info.render.points)}function p(){}function A(){}function b(v){u=v}return{update:M,start:p,end:A,attach:b,values:h,groups:g,fractions:m}},window.BrowserStats=function(){var d=null,u=0,h=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),performance.memory.totalJSHeapSize===0&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var g={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},m=[{caption:"Browser",values:["memory","total"]}],M=[{base:"total",steps:["memory"]}],p=Math.log(1024);function A(_){var C=100,O=Math.floor(Math.log(_)/p);return Math.round(_*C/Math.pow(1024,O))/C}function b(){u=A(performance.memory.usedJSHeapSize),h=A(performance.memory.totalJSHeapSize),d("memory").set(u),d("total").set(h)}function v(){u=0}function E(){}function x(_){d=_}return{update:b,start:v,end:E,attach:x,values:g,groups:m,fractions:M}},c.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats}},"./vendor/rStats.js":c=>{(function(){"performance"in window||(window.performance={});var d=window.performance;if(!("now"in d)){var u=Date.now();d.timing&&d.timing.navigationStart&&(u=d.timing.navigationStart),d.now=function(){return Date.now()-u}}d.mark||(d.mark=function(){}),d.measure||(d.measure=function(){})})(),window.rStats=function(u){function h(N,U){for(var $=Object.keys(N),F=0,j=$.length;F<j;F++)U($[F])}function g(N){var U=document.createElement("link");U.href=N,U.rel="stylesheet",U.type="text/css",document.getElementsByTagName("head")[0].appendChild(U)}var m=u||{},M=m.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],p="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",A=(m.CSSPath?m.CSSPath:"")+"rStats.css",b=m.css||[p,A];b.forEach(function(N){g(N)}),m.values||(m.values={});var v,E,x=10,_=200,C={};function O(N,U,$){var F=$||{},j=document.createElement("canvas"),z=j.getContext("2d"),Q=0,V=0,q=F.color?F.color:"#666666",J=document.createElement("canvas"),W=J.getContext("2d");J.width=1,J.height=2*x,W.fillStyle="#444444",W.fillRect(0,0,1,2*x),W.fillStyle=q,W.fillRect(0,x,1,x),W.fillStyle="#ffffff",W.globalAlpha=.5,W.fillRect(0,x,1,1),W.globalAlpha=1;var et=document.createElement("canvas"),mt=et.getContext("2d");et.width=1,et.height=2*x,mt.fillStyle="#444444",mt.fillRect(0,0,1,2*x),mt.fillStyle="#b70000",mt.fillRect(0,x,1,x),mt.globalAlpha=.5,mt.fillStyle="#ffffff",mt.fillRect(0,x,1,1),mt.globalAlpha=1;function ot(){j.width=_,j.height=x,j.style.width=j.width+"px",j.style.height=j.height+"px",j.className="rs-canvas",N.appendChild(j),z.fillStyle="#444444",z.fillRect(0,0,j.width,j.height)}function pt(wt,Mt){V+=(wt-V)*.1,Q*=.99,V>Q&&(Q=V),z.drawImage(j,1,0,j.width-1,j.height,0,0,j.width-1,j.height),Mt?z.drawImage(et,j.width-1,j.height-V*j.height/Q-x):z.drawImage(J,j.width-1,j.height-V*j.height/Q-x)}return ot(),{draw:pt}}function I(N,U){var $=document.createElement("canvas"),F=$.getContext("2d");function j(){$.width=_,$.height=x*U,$.style.width=$.width+"px",$.style.height=$.height+"px",$.className="rs-canvas",N.appendChild($),F.fillStyle="#444444",F.fillRect(0,0,$.width,$.height)}function z(Q){F.drawImage($,1,0,$.width-1,$.height,0,0,$.width-1,$.height);var V=0;h(Q,function(q){var J=Q[q]*$.height;F.fillStyle=M[q],F.fillRect($.width-1,V,1,J),V+=J})}return j(),{draw:z}}function T(N,U){var $=N,F,j=0,z=0,Q=0,V=0,q=performance.now(),J=0,W=document.createElement("div"),et=document.createElement("span"),mt=document.createElement("div"),ot=document.createTextNode(""),pt=m?m.values[$.toLowerCase()]:null,wt=new O(W,$,pt),Mt=!1;et.className="rs-counter-id",et.textContent=pt&&pt.caption?pt.caption:$,mt.className="rs-counter-value",mt.appendChild(ot),W.appendChild(et),W.appendChild(mt),U?U.div.appendChild(W):E.appendChild(W),F=performance.now();function xt(Dt){if(pt&&pt.average){V+=Dt,J++;var Xt=performance.now();Xt-q>=(pt.avgMs||1e3)&&(Q=V/J,V=0,q=Xt,J=0)}}function dt(){F=performance.now(),m.userTimingAPI&&performance.mark($+"-start"),Mt=!0}function Ot(){j=performance.now()-F,m.userTimingAPI&&(performance.mark($+"-end"),Mt&&performance.measure($,$+"-start",$+"-end")),xt(j)}function At(){Ot(),dt()}function jt(){var Dt=pt&&pt.average?Q:j;ot.nodeValue=Math.round(Dt*100)/100;var Xt=pt&&(pt.below&&j<pt.below||pt.over&&j>pt.over);wt.draw(j,Xt),W.className=Xt?"rs-counter-base alarm":"rs-counter-base"}function bt(){var Dt=performance.now(),Xt=Dt-F;z++,Xt>1e3&&(pt&&pt.interpolate===!1?j=z:j=z*1e3/Xt,z=0,F=Dt,xt(j))}function kt(Dt){j=Dt,xt(j)}return{set:kt,start:dt,tick:At,end:Ot,frame:bt,value:function(){return j},draw:jt}}function D(N){var U=N.toLowerCase();if(U===void 0&&(U="default"),C[U])return C[U];var $=null;m&&m.groups&&h(m.groups,function(j){var z=m.groups[parseInt(j,10)];!$&&z.values.indexOf(U.toLowerCase())!==-1&&($=z)});var F=new T(U,$);return C[U]=F,F}function P(){if(m.plugins){m.values||(m.values={}),m.groups||(m.groups=[]),m.fractions||(m.fractions=[]);for(var N=0;N<m.plugins.length;N++)m.plugins[N].attach(D),h(m.plugins[N].values,function(U){m.values[U]=m.plugins[N].values[U]}),m.groups=m.groups.concat(m.plugins[N].groups),m.fractions=m.fractions.concat(m.plugins[N].fractions)}else m.plugins={};v=document.createElement("div"),v.className="rs-base",E=document.createElement("div"),E.className="rs-container",E.style.height="auto",v.appendChild(E),document.body.appendChild(v),m&&(m.groups&&h(m.groups,function(U){var $=m.groups[parseInt(U,10)],F=document.createElement("div");F.className="rs-group",$.div=F;var j=document.createElement("h1");j.textContent=$.caption,j.addEventListener("click",(function(z){this.classList.toggle("hidden"),z.preventDefault()}).bind(F)),E.appendChild(j),E.appendChild(F)}),m.fractions&&h(m.fractions,function(U){var $=m.fractions[parseInt(U,10)],F=document.createElement("div");F.className="rs-fraction";var j=document.createElement("div");j.className="rs-legend";var z=0;h(m.fractions[U].steps,function(V){var q=document.createElement("p");q.textContent=m.fractions[U].steps[V],q.style.color=M[z],j.appendChild(q),z++}),F.appendChild(j),F.style.height=z*x+"px",$.div=F;var Q=new I(F,z);$.graph=Q,E.appendChild(F)}))}function L(){h(m.plugins,function(N){m.plugins[N].update()}),h(C,function(N){C[N].draw()}),m&&m.fractions&&h(m.fractions,function(N){var U=m.fractions[parseInt(N,10)],$=[],F=C[U.base.toLowerCase()];F&&(F=F.value(),h(m.fractions[N].steps,function(j){var z=m.fractions[N].steps[parseInt(j,10)].toLowerCase(),Q=C[z];Q&&$.push(Q.value()/F)})),U.graph.draw($)})}return P(),function(N){return N?D(N):{element:v,update:L}}},c.exports=window.rStats},"./vendor/wakelock/util.js":c=>{var d={};d.base64=function(u,h){return"data:"+u+";base64,"+h},d.isMobile=function(){var u=!1;return function(h){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(h)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(h.substr(0,4)))&&(u=!0)}(navigator.userAgent||navigator.vendor||window.opera),u},d.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},d.isIFrame=function(){try{return window.self!==window.top}catch{return!0}},d.appendQueryParameter=function(u,h,g){var m=u.indexOf("?")<0?"?":"&";return u+=m+h+"="+g,u},d.getQueryParameter=function(u){u=u.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var h=new RegExp("[\\?&]"+u+"=([^&#]*)"),g=h.exec(location.search);return g===null?"":decodeURIComponent(g[1].replace(/\+/g," "))},d.isLandscapeMode=function(){return window.orientation==90||window.orientation==-90},c.exports=d},"./vendor/wakelock/wakelock.js":(c,d,u)=>{var h=u("./vendor/wakelock/util.js");function g(){var p=document.createElement("video");p.addEventListener("ended",function(){p.play()}),this.request=function(){p.paused&&(p.src=h.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),p.play())},this.release=function(){p.pause(),p.src=""}}function m(){var p=null;this.request=function(){p||(p=setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3))},this.release=function(){p&&(clearInterval(p),p=null)}}function M(){var p=navigator.userAgent||navigator.vendor||window.opera;return p.match(/iPhone/i)||p.match(/iPod/i)?m:g}c.exports=M()},"./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css":(c,d,u)=>{u.r(d),u.d(d,{default:()=>L});var h=u("./node_modules/css-loader/dist/runtime/sourceMaps.js"),g=u.n(h),m=u("./node_modules/css-loader/dist/runtime/api.js"),M=u.n(m),p=u("./node_modules/css-loader/dist/runtime/getUrl.js"),A=u.n(p),b=new URL(u("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),u.b),v=new URL(u("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),u.b),E=new URL(u("data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"),u.b),x=new URL(u("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"),u.b),_=new URL(u("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"),u.b),C=M()(g()),O=A()(b),I=A()(v),T=A()(E),D=A()(x),P=A()(_);C.push([c.id,`/* .a-fullscreen means not embedded. */
html.a-fullscreen {
  bottom: 0;
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

html.a-fullscreen body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}

/* Class is removed when doing <a-scene embedded>. */
html.a-fullscreen .a-canvas {
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  position: fixed !important;
}

html:not(.a-fullscreen) .a-enter-vr,
html:not(.a-fullscreen) .a-enter-ar {
  right: 5px;
  bottom: 5px;
}

html:not(.a-fullscreen) .a-enter-ar {
  right: 60px;
}

/* In chrome mobile the user agent stylesheet set it to white  */
:-webkit-full-screen {
  background-color: transparent;
}

.a-hidden {
  display: none !important;
}

.a-canvas {
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.a-canvas.a-grab-cursor:hover {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

canvas.a-canvas.a-mouse-cursor-hover:hover {
  cursor: pointer;
}

.a-inspector-loader {
  background-color: #ed3160;
  position: fixed;
  left: 3px;
  top: 3px;
  padding: 6px 10px;
  color: #fff;
  text-decoration: none;
  font-size: 12px;
  font-family: Roboto,sans-serif;
  text-align: center;
  z-index: 99999;
  width: 204px;
}

/* Inspector loader animation */
@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }
@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }

.a-inspector-loader .dots span {
  animation: dots-1 2s infinite steps(1);
  -webkit-animation: dots-1 2s infinite steps(1);
}

.a-inspector-loader .dots span:first-child + span {
  animation-name: dots-2;
  -webkit-animation-name: dots-2;
}

.a-inspector-loader .dots span:first-child + span + span {
  animation-name: dots-3;
  -webkit-animation-name: dots-3;
}

a-scene {
  display: block;
  position: relative;
  height: 100%;
  width: 100%;
}

a-assets,
a-scene video,
a-scene img,
a-scene audio {
  display: none;
}

.a-enter-vr-modal,
.a-orientation-modal {
  font-family: Consolas, Andale Mono, Courier New, monospace;
}

.a-enter-vr-modal a {
  border-bottom: 1px solid #fff;
  padding: 2px 0;
  text-decoration: none;
  transition: .1s color ease-in;
}

.a-enter-vr-modal a:hover {
  background-color: #fff;
  color: #111;
  padding: 2px 4px;
  position: relative;
  left: -4px;
}

.a-enter-vr,
.a-enter-ar {
  font-family: sans-serif, monospace;
  font-size: 13px;
  width: 100%;
  font-weight: 200;
  line-height: 16px;
  position: absolute;
  right: 20px;
  bottom: 20px;
}

.a-enter-ar.xr {
  right: 90px;
}

.a-enter-vr-button,
.a-enter-vr-modal,
.a-enter-vr-modal a {
  color: #fff;
  user-select: none;
  outline: none;
}

.a-enter-vr-button {
  background: rgba(0, 0, 0, 0.35) url(`+O+`) 50% 50% no-repeat;
}

.a-enter-ar-button {
  background: rgba(0, 0, 0, 0.20) url(`+I+`) 50% 50% no-repeat;
}

.a-enter-vr.fullscreen .a-enter-vr-button {
  background-image: url(`+T+`);
}

.a-enter-vr-button,
.a-enter-ar-button {
  background-size: 90% 90%;
  border: 0;
  bottom: 0;
  cursor: pointer;
  min-width: 58px;
  min-height: 34px;
  /* 1.74418604651 */
  /*
    In order to keep the aspect ratio when resizing
    padding-top percentages are relative to the containing block's width.
    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio
  */
  padding-right: 0;
  padding-top: 0;
  position: absolute;
  right: 0;
  transition: background-color .05s ease;
  -webkit-transition: background-color .05s ease;
  z-index: 9999;
  border-radius: 8px;
  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */
}

.a-enter-ar-button {
  background-size: 100% 90%;
  border-radius: 7px;
}

.a-enter-ar-button:active,
.a-enter-ar-button:hover,
.a-enter-vr-button:active,
.a-enter-vr-button:hover {
  background-color: #ef2d5e;
}

.a-enter-vr-button.resethover {
  background-color: rgba(0, 0, 0, 0.35);
}

.a-enter-vr-modal {
  background-color: #666;
  border-radius: 0;
  display: none;
  min-height: 32px;
  margin-right: 70px;
  padding: 9px;
  width: 280px;
  right: 2%;
  position: absolute;
}

.a-enter-vr-modal:after {
  border-bottom: 10px solid transparent;
  border-left: 10px solid #666;
  border-top: 10px solid transparent;
  display: inline-block;
  content: '';
  position: absolute;
  right: -5px;
  top: 5px;
  width: 0;
  height: 0;
}

.a-enter-vr-modal p,
.a-enter-vr-modal a {
  display: inline;
}

.a-enter-vr-modal p {
  margin: 0;
}

.a-enter-vr-modal p:after {
  content: ' ';
}

.a-orientation-modal {
  background: rgba(244, 244, 244, 1) url(`+D+`) center no-repeat;
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-orientation-modal:after {
  color: #666;
  content: "Insert phone into Cardboard holder.";
  display: block;
  position: absolute;
  text-align: center;
  top: 70%;
  transform: translateY(-70%);
  width: 100%;
}

.a-orientation-modal button {
  background: url(`+P+`) no-repeat;
  border: none;
  height: 50px;
  text-indent: -9999px;
  width: 50px;
}

.a-loader-title {
  background-color: rgba(0, 0, 0, 0.6);
  font-family: sans-serif, monospace;
  text-align: center;
  font-size: 20px;
  height: 50px;
  font-weight: 300;
  line-height: 50px;
  position: absolute;
  right: 0px;
  left: 0px;
  top: 0px;
  color: white;
}

.a-modal {
  position: absolute;
  background: rgba(0, 0, 0, 0.60);
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-dialog {
  position: relative;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 199995;
  width: 300px;
  height: 200px;
  background-size: contain;
  background-color: white;
  font-family: sans-serif, monospace;
  font-size: 20px;
  border-radius: 3px;
  padding: 6px;
}

.a-dialog-text-container {
  width: 100%;
  height: 70%;
  align-self: flex-start;
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column;
}

.a-dialog-text {
  display: inline-block;
  font-weight: normal;
  font-size: 14pt;
  margin: 8px;
}

.a-dialog-buttons-container {
  display: inline-flex;
  align-self: flex-end;
  width: 100%;
  height: 30%;
}

.a-dialog-button {
  cursor: pointer;
  align-self: center;
  opacity: 0.9;
  height: 80%;
  width: 50%;
  font-size: 12pt;
  margin: 4px;
  border-radius: 2px;
  text-align:center;
  border: none;
  display: inline-block;
  -webkit-transition: all 0.25s ease-in-out;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);
  user-select: none;
}

.a-dialog-permission-button:hover {
  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);
}

.a-dialog-allow-button {
  background-color: #00ceff;
}

.a-dialog-deny-button {
  background-color: #ff005b;
}

.a-dialog-ok-button {
  background-color: #00ceff;
  width: 100%;
}

.a-dom-overlay:not(.a-no-style) {
  overflow: hidden;
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  padding: 1em;
}

.a-dom-overlay:not(.a-no-style)>* {
  pointer-events: auto;
}
`,"",{version:3,sources:["webpack://./src/style/aframe.css"],names:[],mappings:"AAAA,sCAAsC;AACtC;EACE,SAAS;EACT,OAAO;EACP,eAAe;EACf,QAAQ;EACR,MAAM;AACR;;AAEA;EACE,YAAY;EACZ,SAAS;EACT,gBAAgB;EAChB,UAAU;EACV,WAAW;AACb;;AAEA,oDAAoD;AACpD;EACE,sBAAsB;EACtB,uBAAuB;EACvB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,0BAA0B;AAC5B;;AAEA;;EAEE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA,gEAAgE;AAChE;EACE,6BAA6B;AAC/B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,YAAY;EACZ,OAAO;EACP,kBAAkB;EAClB,MAAM;EACN,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,SAAS;EACT,QAAQ;EACR,iBAAiB;EACjB,WAAW;EACX,qBAAqB;EACrB,eAAe;EACf,8BAA8B;EAC9B,kBAAkB;EAClB,cAAc;EACd,YAAY;AACd;;AAEA,+BAA+B;AAC/B,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;;AAErE;EACE,sCAAsC;EACtC,8CAA8C;AAChD;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;EACZ,WAAW;AACb;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;EAEE,0DAA0D;AAC5D;;AAEA;EACE,6BAA6B;EAC7B,cAAc;EACd,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;EAEE,kCAAkC;EAClC,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;;;EAGE,WAAW;EACX,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,yFAA4qB;AAC9qB;;AAEA;EACE,yFAAkzB;AACpzB;;AAEA;EACE,yDAA2qK;AAC7qK;;AAEA;;EAEE,wBAAwB;EACxB,SAAS;EACT,SAAS;EACT,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB;;;;GAIC;EACD,gBAAgB;EAChB,cAAc;EACd,kBAAkB;EAClB,QAAQ;EACR,sCAAsC;EACtC,8CAA8C;EAC9C,aAAa;EACb,kBAAkB;EAClB,0BAA0B,EAAE,8CAA8C;AAC5E;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;;;;EAIE,yBAAyB;AAC3B;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,YAAY;EACZ,YAAY;EACZ,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;EACrC,4BAA4B;EAC5B,kCAAkC;EAClC,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,SAAS;AACX;;AAEA;;EAEE,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,2FAAivF;EACjvF,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,8CAA8C;EAC9C,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,QAAQ;EACR,2BAA2B;EAC3B,WAAW;AACb;;AAEA;EACE,6DAA25B;EAC35B,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,oCAAoC;EACpC,kCAAkC;EAClC,kBAAkB;EAClB,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,gCAAgC;EAChC,eAAe;EACf,YAAY;EACZ,aAAa;EACb,wBAAwB;EACxB,uBAAuB;EACvB,kCAAkC;EAClC,eAAe;EACf,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,uBAAuB;EACvB,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,eAAe;EACf,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,oBAAoB;EACpB,WAAW;EACX,WAAW;AACb;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,UAAU;EACV,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,yCAAyC;EACzC,iCAAiC;EACjC,wEAAwE;EACxE,iBAAiB;AACnB;;AAEA;EACE,mEAAmE;AACrE;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,sBAAsB;EACtB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,MAAM;EACN,YAAY;AACd;;AAEA;EACE,oBAAoB;AACtB",sourcesContent:[`/* .a-fullscreen means not embedded. */
html.a-fullscreen {
  bottom: 0;
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

html.a-fullscreen body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}

/* Class is removed when doing <a-scene embedded>. */
html.a-fullscreen .a-canvas {
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  position: fixed !important;
}

html:not(.a-fullscreen) .a-enter-vr,
html:not(.a-fullscreen) .a-enter-ar {
  right: 5px;
  bottom: 5px;
}

html:not(.a-fullscreen) .a-enter-ar {
  right: 60px;
}

/* In chrome mobile the user agent stylesheet set it to white  */
:-webkit-full-screen {
  background-color: transparent;
}

.a-hidden {
  display: none !important;
}

.a-canvas {
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.a-canvas.a-grab-cursor:hover {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

canvas.a-canvas.a-mouse-cursor-hover:hover {
  cursor: pointer;
}

.a-inspector-loader {
  background-color: #ed3160;
  position: fixed;
  left: 3px;
  top: 3px;
  padding: 6px 10px;
  color: #fff;
  text-decoration: none;
  font-size: 12px;
  font-family: Roboto,sans-serif;
  text-align: center;
  z-index: 99999;
  width: 204px;
}

/* Inspector loader animation */
@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }
@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }

.a-inspector-loader .dots span {
  animation: dots-1 2s infinite steps(1);
  -webkit-animation: dots-1 2s infinite steps(1);
}

.a-inspector-loader .dots span:first-child + span {
  animation-name: dots-2;
  -webkit-animation-name: dots-2;
}

.a-inspector-loader .dots span:first-child + span + span {
  animation-name: dots-3;
  -webkit-animation-name: dots-3;
}

a-scene {
  display: block;
  position: relative;
  height: 100%;
  width: 100%;
}

a-assets,
a-scene video,
a-scene img,
a-scene audio {
  display: none;
}

.a-enter-vr-modal,
.a-orientation-modal {
  font-family: Consolas, Andale Mono, Courier New, monospace;
}

.a-enter-vr-modal a {
  border-bottom: 1px solid #fff;
  padding: 2px 0;
  text-decoration: none;
  transition: .1s color ease-in;
}

.a-enter-vr-modal a:hover {
  background-color: #fff;
  color: #111;
  padding: 2px 4px;
  position: relative;
  left: -4px;
}

.a-enter-vr,
.a-enter-ar {
  font-family: sans-serif, monospace;
  font-size: 13px;
  width: 100%;
  font-weight: 200;
  line-height: 16px;
  position: absolute;
  right: 20px;
  bottom: 20px;
}

.a-enter-ar.xr {
  right: 90px;
}

.a-enter-vr-button,
.a-enter-vr-modal,
.a-enter-vr-modal a {
  color: #fff;
  user-select: none;
  outline: none;
}

.a-enter-vr-button {
  background: rgba(0, 0, 0, 0.35) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E") 50% 50% no-repeat;
}

.a-enter-ar-button {
  background: rgba(0, 0, 0, 0.20) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E") 50% 50% no-repeat;
}

.a-enter-vr.fullscreen .a-enter-vr-button {
  background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg width='108' height='62' viewBox='0 0 108 62' version='1.1' id='svg320' sodipodi:docname='fullscreen-aframe.svg' xml:space='preserve' inkscape:version='1.2.1 (9c6d41e  2022-07-14)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E%3Cdefs id='defs324' /%3E%3Csodipodi:namedview id='namedview322' pagecolor='%23ffffff' bordercolor='%23000000' borderopacity='0.25' inkscape:showpageshadow='2' inkscape:pageopacity='0.0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23d1d1d1' showgrid='false' inkscape:zoom='3.8064516' inkscape:cx='91.423729' inkscape:cy='-1.4449153' inkscape:window-width='1440' inkscape:window-height='847' inkscape:window-x='32' inkscape:window-y='25' inkscape:window-maximized='0' inkscape:current-layer='svg320' /%3E%3Ctitle id='title312'%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z' fill='%23fff' id='path314' style='fill:%23ffffff' /%3E%3Cg id='g356' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g358' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g360' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g362' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g364' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g366' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g368' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g370' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g372' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g374' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g376' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g378' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g380' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g382' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g384' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cmetadata id='metadata561'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d='m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4' id='path596' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4' id='path598' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4' id='path600' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616' id='path602' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3C/svg%3E");
}

.a-enter-vr-button,
.a-enter-ar-button {
  background-size: 90% 90%;
  border: 0;
  bottom: 0;
  cursor: pointer;
  min-width: 58px;
  min-height: 34px;
  /* 1.74418604651 */
  /*
    In order to keep the aspect ratio when resizing
    padding-top percentages are relative to the containing block's width.
    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio
  */
  padding-right: 0;
  padding-top: 0;
  position: absolute;
  right: 0;
  transition: background-color .05s ease;
  -webkit-transition: background-color .05s ease;
  z-index: 9999;
  border-radius: 8px;
  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */
}

.a-enter-ar-button {
  background-size: 100% 90%;
  border-radius: 7px;
}

.a-enter-ar-button:active,
.a-enter-ar-button:hover,
.a-enter-vr-button:active,
.a-enter-vr-button:hover {
  background-color: #ef2d5e;
}

.a-enter-vr-button.resethover {
  background-color: rgba(0, 0, 0, 0.35);
}

.a-enter-vr-modal {
  background-color: #666;
  border-radius: 0;
  display: none;
  min-height: 32px;
  margin-right: 70px;
  padding: 9px;
  width: 280px;
  right: 2%;
  position: absolute;
}

.a-enter-vr-modal:after {
  border-bottom: 10px solid transparent;
  border-left: 10px solid #666;
  border-top: 10px solid transparent;
  display: inline-block;
  content: '';
  position: absolute;
  right: -5px;
  top: 5px;
  width: 0;
  height: 0;
}

.a-enter-vr-modal p,
.a-enter-vr-modal a {
  display: inline;
}

.a-enter-vr-modal p {
  margin: 0;
}

.a-enter-vr-modal p:after {
  content: ' ';
}

.a-orientation-modal {
  background: rgba(244, 244, 244, 1) url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center no-repeat;
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-orientation-modal:after {
  color: #666;
  content: "Insert phone into Cardboard holder.";
  display: block;
  position: absolute;
  text-align: center;
  top: 70%;
  transform: translateY(-70%);
  width: 100%;
}

.a-orientation-modal button {
  background: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;
  border: none;
  height: 50px;
  text-indent: -9999px;
  width: 50px;
}

.a-loader-title {
  background-color: rgba(0, 0, 0, 0.6);
  font-family: sans-serif, monospace;
  text-align: center;
  font-size: 20px;
  height: 50px;
  font-weight: 300;
  line-height: 50px;
  position: absolute;
  right: 0px;
  left: 0px;
  top: 0px;
  color: white;
}

.a-modal {
  position: absolute;
  background: rgba(0, 0, 0, 0.60);
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-dialog {
  position: relative;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 199995;
  width: 300px;
  height: 200px;
  background-size: contain;
  background-color: white;
  font-family: sans-serif, monospace;
  font-size: 20px;
  border-radius: 3px;
  padding: 6px;
}

.a-dialog-text-container {
  width: 100%;
  height: 70%;
  align-self: flex-start;
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column;
}

.a-dialog-text {
  display: inline-block;
  font-weight: normal;
  font-size: 14pt;
  margin: 8px;
}

.a-dialog-buttons-container {
  display: inline-flex;
  align-self: flex-end;
  width: 100%;
  height: 30%;
}

.a-dialog-button {
  cursor: pointer;
  align-self: center;
  opacity: 0.9;
  height: 80%;
  width: 50%;
  font-size: 12pt;
  margin: 4px;
  border-radius: 2px;
  text-align:center;
  border: none;
  display: inline-block;
  -webkit-transition: all 0.25s ease-in-out;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);
  user-select: none;
}

.a-dialog-permission-button:hover {
  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);
}

.a-dialog-allow-button {
  background-color: #00ceff;
}

.a-dialog-deny-button {
  background-color: #ff005b;
}

.a-dialog-ok-button {
  background-color: #00ceff;
  width: 100%;
}

.a-dom-overlay:not(.a-no-style) {
  overflow: hidden;
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  padding: 1em;
}

.a-dom-overlay:not(.a-no-style)>* {
  pointer-events: auto;
}
`],sourceRoot:""}]);const L=C},"./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css":(c,d,u)=>{u.r(d),u.d(d,{default:()=>A});var h=u("./node_modules/css-loader/dist/runtime/sourceMaps.js"),g=u.n(h),m=u("./node_modules/css-loader/dist/runtime/api.js"),M=u.n(m),p=M()(g());p.push([c.id,`.rs-base {
  background-color: #333;
  color: #fafafa;
  border-radius: 0;
  font: 10px monospace;
  left: 5px;
  line-height: 1em;
  opacity: 0.85;
  overflow: hidden;
  padding: 10px;
  position: fixed;
  top: 5px;
  width: 300px;
  z-index: 10000;
}

.rs-base div.hidden {
  display: none;
}

.rs-base h1 {
  color: #fff;
  cursor: pointer;
  font-size: 1.4em;
  font-weight: 300;
  margin: 0 0 5px;
  padding: 0;
}

.rs-group {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
  margin-bottom: 5px;
}

.rs-group:last-child {
  margin-bottom: 0;
}

.rs-counter-base {
  align-items: center;
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  height: 10px;
  -webkit-justify-content: space-between;
  justify-content: space-between;
  margin: 2px 0;
}

.rs-counter-base.alarm {
  color: #b70000;
  text-shadow: 0 0 0 #b70000,
               0 0 1px #fff,
               0 0 1px #fff,
               0 0 2px #fff,
               0 0 2px #fff,
               0 0 3px #fff,
               0 0 3px #fff,
               0 0 4px #fff,
               0 0 4px #fff;
}

.rs-counter-id {
  font-weight: 300;
  -webkit-box-ordinal-group: 0;
  -webkit-order: 0;
  order: 0;
  width: 54px;
}

.rs-counter-value {
  font-weight: 300;
  -webkit-box-ordinal-group: 1;
  -webkit-order: 1;
  order: 1;
  text-align: right;
  width: 35px;
}

.rs-canvas {
  -webkit-box-ordinal-group: 2;
  -webkit-order: 2;
  order: 2;
}

@media (min-width: 480px) {
  .rs-base {
    left: 20px;
    top: 20px;
  }
}
`,"",{version:3,sources:["webpack://./src/style/rStats.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,SAAS;EACT,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,QAAQ;EACR,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,sCAAsC;EACtC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,YAAY;EACZ,sCAAsC;EACtC,8BAA8B;EAC9B,aAAa;AACf;;AAEA;EACE,cAAc;EACd;;;;;;;;2BAQyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE;IACE,UAAU;IACV,SAAS;EACX;AACF",sourcesContent:[`.rs-base {
  background-color: #333;
  color: #fafafa;
  border-radius: 0;
  font: 10px monospace;
  left: 5px;
  line-height: 1em;
  opacity: 0.85;
  overflow: hidden;
  padding: 10px;
  position: fixed;
  top: 5px;
  width: 300px;
  z-index: 10000;
}

.rs-base div.hidden {
  display: none;
}

.rs-base h1 {
  color: #fff;
  cursor: pointer;
  font-size: 1.4em;
  font-weight: 300;
  margin: 0 0 5px;
  padding: 0;
}

.rs-group {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
  margin-bottom: 5px;
}

.rs-group:last-child {
  margin-bottom: 0;
}

.rs-counter-base {
  align-items: center;
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  height: 10px;
  -webkit-justify-content: space-between;
  justify-content: space-between;
  margin: 2px 0;
}

.rs-counter-base.alarm {
  color: #b70000;
  text-shadow: 0 0 0 #b70000,
               0 0 1px #fff,
               0 0 1px #fff,
               0 0 2px #fff,
               0 0 2px #fff,
               0 0 3px #fff,
               0 0 3px #fff,
               0 0 4px #fff,
               0 0 4px #fff;
}

.rs-counter-id {
  font-weight: 300;
  -webkit-box-ordinal-group: 0;
  -webkit-order: 0;
  order: 0;
  width: 54px;
}

.rs-counter-value {
  font-weight: 300;
  -webkit-box-ordinal-group: 1;
  -webkit-order: 1;
  order: 1;
  text-align: right;
  width: 35px;
}

.rs-canvas {
  -webkit-box-ordinal-group: 2;
  -webkit-order: 2;
  order: 2;
}

@media (min-width: 480px) {
  .rs-base {
    left: 20px;
    top: 20px;
  }
}
`],sourceRoot:""}]);const A=p},"./src/style/aframe.css":(c,d,u)=>{u.r(d),u.d(d,{default:()=>T});var h=u("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),g=u.n(h),m=u("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),M=u.n(m),p=u("./node_modules/style-loader/dist/runtime/insertBySelector.js"),A=u.n(p),b=u("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),v=u.n(b),E=u("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),x=u.n(E),_=u("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),C=u.n(_),O=u("./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css"),I={};I.styleTagTransform=C(),I.setAttributes=v(),I.insert=A().bind(null,"head"),I.domAPI=M(),I.insertStyleElement=x(),g()(O.default,I);const T=O.default&&O.default.locals?O.default.locals:void 0},"./src/style/rStats.css":(c,d,u)=>{u.r(d),u.d(d,{default:()=>T});var h=u("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),g=u.n(h),m=u("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),M=u.n(m),p=u("./node_modules/style-loader/dist/runtime/insertBySelector.js"),A=u.n(p),b=u("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),v=u.n(b),E=u("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),x=u.n(E),_=u("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),C=u.n(_),O=u("./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css"),I={};I.styleTagTransform=C(),I.setAttributes=v(),I.insert=A().bind(null,"head"),I.domAPI=M(),I.insertStyleElement=x(),g()(O.default,I);const T=O.default&&O.default.locals?O.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":c=>{var d=[];function u(m){for(var M=-1,p=0;p<d.length;p++)if(d[p].identifier===m){M=p;break}return M}function h(m,M){for(var p={},A=[],b=0;b<m.length;b++){var v=m[b],E=M.base?v[0]+M.base:v[0],x=p[E]||0,_="".concat(E," ").concat(x);p[E]=x+1;var C=u(_),O={css:v[1],media:v[2],sourceMap:v[3],supports:v[4],layer:v[5]};if(C!==-1)d[C].references++,d[C].updater(O);else{var I=g(O,M);M.byIndex=b,d.splice(b,0,{identifier:_,updater:I,references:1})}A.push(_)}return A}function g(m,M){var p=M.domAPI(M);p.update(m);var A=function(v){if(v){if(v.css===m.css&&v.media===m.media&&v.sourceMap===m.sourceMap&&v.supports===m.supports&&v.layer===m.layer)return;p.update(m=v)}else p.remove()};return A}c.exports=function(m,M){M=M||{},m=m||[];var p=h(m,M);return function(b){b=b||[];for(var v=0;v<p.length;v++){var E=p[v],x=u(E);d[x].references--}for(var _=h(b,M),C=0;C<p.length;C++){var O=p[C],I=u(O);d[I].references===0&&(d[I].updater(),d.splice(I,1))}p=_}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":c=>{var d={};function u(g){if(typeof d[g]>"u"){var m=document.querySelector(g);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}d[g]=m}return d[g]}function h(g,m){var M=u(g);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");M.appendChild(m)}c.exports=h},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":c=>{function d(u){var h=document.createElement("style");return u.setAttributes(h,u.attributes),u.insert(h,u.options),h}c.exports=d},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(c,d,u)=>{function h(g){var m=u.nc;m&&g.setAttribute("nonce",m)}c.exports=h},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":c=>{function d(g,m,M){var p="";M.supports&&(p+="@supports (".concat(M.supports,") {")),M.media&&(p+="@media ".concat(M.media," {"));var A=typeof M.layer<"u";A&&(p+="@layer".concat(M.layer.length>0?" ".concat(M.layer):""," {")),p+=M.css,A&&(p+="}"),M.media&&(p+="}"),M.supports&&(p+="}");var b=M.sourceMap;b&&typeof btoa<"u"&&(p+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),m.styleTagTransform(p,g,m.options)}function u(g){if(g.parentNode===null)return!1;g.parentNode.removeChild(g)}function h(g){if(typeof document>"u")return{update:function(){},remove:function(){}};var m=g.insertStyleElement(g);return{update:function(p){d(m,g,p)},remove:function(){u(m)}}}c.exports=h},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":c=>{function d(u,h){if(h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}c.exports=d},"data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E":c=>{c.exports="data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":c=>{c.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":c=>{c.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E":c=>{c.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E":c=>{c.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"},"./node_modules/three/build/three.module.js":(c,d,u)=>{u.r(d),u.d(d,{ACESFilmicToneMapping:()=>re,AddEquation:()=>$,AddOperation:()=>ci,AdditiveAnimationBlendMode:()=>E0,AdditiveBlending:()=>P,AgXToneMapping:()=>vt,AlphaFormat:()=>Oa,AlwaysCompare:()=>zm,AlwaysDepth:()=>kt,AlwaysStencilFunc:()=>Rf,AmbientLight:()=>g_,AnimationAction:()=>R_,AnimationClip:()=>d1,AnimationLoader:()=>hz,AnimationMixer:()=>Gz,AnimationObjectGroup:()=>Uz,AnimationUtils:()=>lz,ArcCurve:()=>RC,ArrayCamera:()=>r7,ArrowHelper:()=>cj,AttachedBindMode:()=>St,Audio:()=>T_,AudioAnalyser:()=>Tz,AudioContext:()=>F7,AudioListener:()=>Oz,AudioLoader:()=>_z,AxesHelper:()=>uj,BackSide:()=>O,BasicDepthPacking:()=>io,BasicShadowMap:()=>v,BatchedMesh:()=>_C,Bone:()=>u7,BooleanKeyframeTrack:()=>Cu,Box2:()=>qz,Box3:()=>Ta,Box3Helper:()=>oj,BoxGeometry:()=>uu,BoxHelper:()=>sj,BufferAttribute:()=>Jr,BufferGeometry:()=>lr,BufferGeometryLoader:()=>b_,ByteType:()=>Zi,Cache:()=>Yo,Camera:()=>m3,CameraHelper:()=>aj,CanvasTexture:()=>RQ,CapsuleGeometry:()=>H3,CatmullRomCurve3:()=>DC,CineonToneMapping:()=>ve,CircleGeometry:()=>Q3,ClampToEdgeWrapping:()=>ce,Clock:()=>O_,Color:()=>an,ColorKeyframeTrack:()=>R7,ColorManagement:()=>Nr,CompressedArrayTexture:()=>IQ,CompressedCubeTexture:()=>BQ,CompressedTexture:()=>U3,CompressedTextureLoader:()=>fz,ConeGeometry:()=>z3,ConstantAlphaFactor:()=>At,ConstantColorFactor:()=>dt,CubeCamera:()=>wb,CubeReflectionMapping:()=>ht,CubeRefractionMapping:()=>X,CubeTexture:()=>Hf,CubeTextureLoader:()=>mz,CubeUVReflectionMapping:()=>Qt,CubicBezierCurve:()=>v7,CubicBezierCurve3:()=>LC,CubicInterpolant:()=>a_,CullFaceBack:()=>p,CullFaceFront:()=>A,CullFaceFrontBack:()=>b,CullFaceNone:()=>M,Curve:()=>T0,CurvePath:()=>NC,CustomBlending:()=>U,CustomToneMapping:()=>Et,CylinderGeometry:()=>Yd,Cylindrical:()=>Wz,Data3DTexture:()=>$n,DataArrayTexture:()=>wd,DataTexture:()=>Zl,DataTextureLoader:()=>pz,DataUtils:()=>a$,DecrementStencilOp:()=>q5,DecrementWrapStencilOp:()=>X5,DefaultLoadingManager:()=>l_,DepthFormat:()=>Ne,DepthStencilFormat:()=>oi,DepthTexture:()=>Z6,DetachedBindMode:()=>It,DirectionalLight:()=>p_,DirectionalLightHelper:()=>rj,DiscreteInterpolant:()=>s_,DisplayP3ColorSpace:()=>bd,DodecahedronGeometry:()=>j3,DoubleSide:()=>I,DstAlphaFactor:()=>ot,DstColorFactor:()=>wt,DynamicCopyUsage:()=>h6,DynamicDrawUsage:()=>s6,DynamicReadUsage:()=>c6,EdgesGeometry:()=>FC,EllipseCurve:()=>$3,EqualCompare:()=>Gm,EqualDepth:()=>ae,EqualStencilFunc:()=>e6,EquirectangularReflectionMapping:()=>tt,EquirectangularRefractionMapping:()=>Tt,Euler:()=>Us,EventDispatcher:()=>ns,ExtrudeGeometry:()=>Z3,FileLoader:()=>tl,Float16BufferAttribute:()=>d$,Float32BufferAttribute:()=>pn,FloatType:()=>si,Fog:()=>C3,FogExp2:()=>b3,FramebufferTexture:()=>TQ,FrontSide:()=>C,Frustum:()=>Qf,GLBufferAttribute:()=>zz,GLSL1:()=>m6,GLSL3:()=>Pf,GreaterCompare:()=>Vm,GreaterDepth:()=>le,GreaterEqualCompare:()=>Qm,GreaterEqualDepth:()=>Jt,GreaterEqualStencilFunc:()=>a6,GreaterStencilFunc:()=>n6,GridHelper:()=>ij,Group:()=>pu,HalfFloatType:()=>Ki,HemisphereLight:()=>c_,HemisphereLightHelper:()=>ej,IcosahedronGeometry:()=>t4,ImageBitmapLoader:()=>Cz,ImageLoader:()=>h1,ImageUtils:()=>jl,IncrementStencilOp:()=>W5,IncrementWrapStencilOp:()=>K5,InstancedBufferAttribute:()=>qd,InstancedBufferGeometry:()=>v_,InstancedInterleavedBuffer:()=>Qz,InstancedMesh:()=>vC,Int16BufferAttribute:()=>c$,Int32BufferAttribute:()=>u$,Int8BufferAttribute:()=>s$,IntType:()=>Ir,InterleavedBuffer:()=>_3,InterleavedBufferAttribute:()=>Mu,Interpolant:()=>l1,InterpolateDiscrete:()=>ja,InterpolateLinear:()=>Ja,InterpolateSmooth:()=>Xa,InvertStencilOp:()=>Y5,KeepStencilOp:()=>Ho,KeyframeTrack:()=>I0,LOD:()=>uC,LatheGeometry:()=>i1,Layers:()=>i3,LessCompare:()=>$m,LessDepth:()=>Dt,LessEqualCompare:()=>Df,LessEqualDepth:()=>Xt,LessEqualStencilFunc:()=>i6,LessStencilFunc:()=>t6,Light:()=>nc,LightProbe:()=>y_,Line:()=>ec,Line3:()=>Kz,LineBasicMaterial:()=>ls,LineCurve:()=>b7,LineCurve3:()=>kC,LineDashedMaterial:()=>i_,LineLoop:()=>SC,LineSegments:()=>oo,LinearDisplayP3ColorSpace:()=>eu,LinearFilter:()=>Le,LinearInterpolant:()=>B7,LinearMipMapLinearFilter:()=>wn,LinearMipMapNearestFilter:()=>Oe,LinearMipmapLinearFilter:()=>Ii,LinearMipmapNearestFilter:()=>ke,LinearSRGBColorSpace:()=>w0,LinearToneMapping:()=>Ze,LinearTransfer:()=>iu,Loader:()=>bs,LoaderUtils:()=>N7,LoadingManager:()=>D7,LoopOnce:()=>Aa,LoopPingPong:()=>za,LoopRepeat:()=>oa,LuminanceAlphaFormat:()=>qe,LuminanceFormat:()=>Ee,MOUSE:()=>g,Material:()=>H9,MaterialLoader:()=>o4,MathUtils:()=>B6,Matrix3:()=>Un,Matrix4:()=>fn,MaxEquation:()=>Q,Mesh:()=>Za,MeshBasicMaterial:()=>Kl,MeshDepthMaterial:()=>i7,MeshDistanceMaterial:()=>n7,MeshLambertMaterial:()=>t_,MeshMatcapMaterial:()=>e_,MeshNormalMaterial:()=>ZC,MeshPhongMaterial:()=>XC,MeshPhysicalMaterial:()=>KC,MeshStandardMaterial:()=>S7,MeshToonMaterial:()=>YC,MinEquation:()=>z,MirroredRepeatWrapping:()=>ye,MixOperation:()=>Ye,MultiplyBlending:()=>N,MultiplyOperation:()=>ai,NearestFilter:()=>$e,NearestMipMapLinearFilter:()=>Pi,NearestMipMapNearestFilter:()=>He,NearestMipmapLinearFilter:()=>_e,NearestMipmapNearestFilter:()=>ge,NeutralToneMapping:()=>Ht,NeverCompare:()=>Um,NeverDepth:()=>bt,NeverStencilFunc:()=>Z5,NoBlending:()=>T,NoColorSpace:()=>B9,NoToneMapping:()=>ei,NormalAnimationBlendMode:()=>e0,NormalBlending:()=>D,NotEqualCompare:()=>Hm,NotEqualDepth:()=>Ve,NotEqualStencilFunc:()=>r6,NumberKeyframeTrack:()=>c1,Object3D:()=>Rr,ObjectLoader:()=>vz,ObjectSpaceNormalMap:()=>ro,OctahedronGeometry:()=>s1,OneFactor:()=>q,OneMinusConstantAlphaFactor:()=>jt,OneMinusConstantColorFactor:()=>Ot,OneMinusDstAlphaFactor:()=>pt,OneMinusDstColorFactor:()=>Mt,OneMinusSrcAlphaFactor:()=>mt,OneMinusSrcColorFactor:()=>W,OrthographicCamera:()=>M3,P3Primaries:()=>ru,PCFShadowMap:()=>E,PCFSoftShadowMap:()=>x,PMREMGenerator:()=>X6,Path:()=>e1,PerspectiveCamera:()=>o9,Plane:()=>Yl,PlaneGeometry:()=>Gd,PlaneHelper:()=>lj,PointLight:()=>m_,PointLightHelper:()=>Zz,Points:()=>IC,PointsMaterial:()=>m7,PolarGridHelper:()=>nj,PolyhedronGeometry:()=>ic,PositionalAudio:()=>Sz,PropertyBinding:()=>Sr,PropertyMixer:()=>B_,QuadraticBezierCurve:()=>C7,QuadraticBezierCurve3:()=>_7,Quaternion:()=>Br,QuaternionKeyframeTrack:()=>th,QuaternionLinearInterpolant:()=>o_,RED_GREEN_RGTC2_Format:()=>_r,RED_RGTC1_Format:()=>Rn,REVISION:()=>h,RGBADepthPacking:()=>no,RGBAFormat:()=>ue,RGBAIntegerFormat:()=>ln,RGBA_ASTC_10x10_Format:()=>ni,RGBA_ASTC_10x5_Format:()=>fi,RGBA_ASTC_10x6_Format:()=>di,RGBA_ASTC_10x8_Format:()=>De,RGBA_ASTC_12x10_Format:()=>bi,RGBA_ASTC_12x12_Format:()=>Xi,RGBA_ASTC_4x4_Format:()=>vr,RGBA_ASTC_5x4_Format:()=>lt,RGBA_ASTC_5x5_Format:()=>gt,RGBA_ASTC_6x5_Format:()=>Pt,RGBA_ASTC_6x6_Format:()=>Vt,RGBA_ASTC_8x5_Format:()=>te,RGBA_ASTC_8x6_Format:()=>Me,RGBA_ASTC_8x8_Format:()=>we,RGBA_BPTC_Format:()=>dn,RGBA_ETC2_EAC_Format:()=>xa,RGBA_PVRTC_2BPPV1_Format:()=>Qa,RGBA_PVRTC_4BPPV1_Format:()=>sa,RGBA_S3TC_DXT1_Format:()=>Tn,RGBA_S3TC_DXT3_Format:()=>Gr,RGBA_S3TC_DXT5_Format:()=>Jn,RGBFormat:()=>Kt,RGB_BPTC_SIGNED_Format:()=>Cn,RGB_BPTC_UNSIGNED_Format:()=>Vn,RGB_ETC1_Format:()=>Hi,RGB_ETC2_Format:()=>Wn,RGB_PVRTC_2BPPV1_Format:()=>pr,RGB_PVRTC_4BPPV1_Format:()=>kn,RGB_S3TC_DXT1_Format:()=>vn,RGFormat:()=>Ui,RGIntegerFormat:()=>ii,RawShaderMaterial:()=>qC,Ray:()=>s9,Raycaster:()=>jz,Rec709Primaries:()=>nu,RectAreaLight:()=>M_,RedFormat:()=>yi,RedIntegerFormat:()=>ji,ReinhardToneMapping:()=>be,RenderTarget:()=>Ed,RepeatWrapping:()=>Zt,ReplaceStencilOp:()=>J5,ReverseSubtractEquation:()=>j,RingGeometry:()=>e4,SIGNED_RED_GREEN_RGTC2_Format:()=>Vr,SIGNED_RED_RGTC1_Format:()=>xn,SRGBColorSpace:()=>Er,SRGBTransfer:()=>Yr,Scene:()=>rC,ShaderChunk:()=>er,ShaderLib:()=>S0,ShaderMaterial:()=>x0,ShadowMaterial:()=>WC,Shape:()=>yu,ShapeGeometry:()=>i4,ShapePath:()=>dj,ShapeUtils:()=>lo,ShortType:()=>Re,Skeleton:()=>T3,SkeletonHelper:()=>Yz,SkinnedMesh:()=>gC,Source:()=>ya,Sphere:()=>a9,SphereGeometry:()=>o1,Spherical:()=>Jz,SphericalHarmonics3:()=>A_,SplineCurve:()=>E7,SpotLight:()=>h_,SpotLightHelper:()=>Xz,Sprite:()=>lC,SpriteMaterial:()=>s7,SrcAlphaFactor:()=>et,SrcAlphaSaturateFactor:()=>xt,SrcColorFactor:()=>J,StaticCopyUsage:()=>d6,StaticDrawUsage:()=>au,StaticReadUsage:()=>l6,StereoCamera:()=>Ez,StreamCopyUsage:()=>f6,StreamDrawUsage:()=>o6,StreamReadUsage:()=>u6,StringKeyframeTrack:()=>_u,SubtractEquation:()=>F,SubtractiveBlending:()=>L,TOUCH:()=>m,TangentSpaceNormalMap:()=>$9,TetrahedronGeometry:()=>n4,Texture:()=>la,TextureLoader:()=>gz,TorusGeometry:()=>r4,TorusKnotGeometry:()=>a4,Triangle:()=>$s,TriangleFanDrawMode:()=>Vo,TriangleStripDrawMode:()=>Go,TrianglesDrawMode:()=>$o,TubeGeometry:()=>s4,UVMapping:()=>zt,Uint16BufferAttribute:()=>$6,Uint32BufferAttribute:()=>G6,Uint8BufferAttribute:()=>o$,Uint8ClampedBufferAttribute:()=>l$,Uniform:()=>G7,UniformsGroup:()=>Hz,UniformsLib:()=>$i,UniformsUtils:()=>Cb,UnsignedByteType:()=>ze,UnsignedInt248Type:()=>On,UnsignedInt5999Type:()=>Ha,UnsignedIntType:()=>dr,UnsignedShort4444Type:()=>jn,UnsignedShort5551Type:()=>wi,UnsignedShortType:()=>bn,VSMShadowMap:()=>_,Vector2:()=>mi,Vector3:()=>ie,Vector4:()=>xr,VectorKeyframeTrack:()=>u1,VideoTexture:()=>SQ,WebGL3DRenderTarget:()=>Cr,WebGLArrayRenderTarget:()=>cn,WebGLCoordinateSystem:()=>i0,WebGLCubeRenderTarget:()=>Ob,WebGLMultipleRenderTargets:()=>hj,WebGLRenderTarget:()=>Ms,WebGLRenderer:()=>yQ,WebGLUtils:()=>Zb,WebGPUCoordinateSystem:()=>su,WireframeGeometry:()=>zC,WrapAroundEnding:()=>Ls,ZeroCurvatureEnding:()=>Sa,ZeroFactor:()=>V,ZeroSlopeEnding:()=>g9,ZeroStencilOp:()=>j5,createCanvasElement:()=>Wm});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const h="164",g={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},m={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},M=0,p=1,A=2,b=3,v=0,E=1,x=2,_=3,C=0,O=1,I=2,T=0,D=1,P=2,L=3,N=4,U=5,$=100,F=101,j=102,z=103,Q=104,V=200,q=201,J=202,W=203,et=204,mt=205,ot=206,pt=207,wt=208,Mt=209,xt=210,dt=211,Ot=212,At=213,jt=214,bt=0,kt=1,Dt=2,Xt=3,ae=4,Jt=5,le=6,Ve=7,ai=0,Ye=1,ci=2,ei=0,Ze=1,be=2,ve=3,re=4,Et=5,vt=6,Ht=7,St="attached",It="detached",zt=300,ht=301,X=302,tt=303,Tt=304,Qt=306,Zt=1e3,ce=1001,ye=1002,$e=1003,ge=1004,He=1004,_e=1005,Pi=1005,Le=1006,ke=1007,Oe=1007,Ii=1008,wn=1008,ze=1009,Zi=1010,Re=1011,bn=1012,Ir=1013,dr=1014,si=1015,Ki=1016,jn=1017,wi=1018,On=1020,Ha=35902,Oa=1021,Kt=1022,ue=1023,Ee=1024,qe=1025,Ne=1026,oi=1027,yi=1028,ji=1029,Ui=1030,ii=1031,ln=1033,vn=33776,Tn=33777,Gr=33778,Jn=33779,kn=35840,pr=35841,sa=35842,Qa=35843,Hi=36196,Wn=37492,xa=37496,vr=37808,lt=37809,gt=37810,Pt=37811,Vt=37812,te=37813,Me=37814,we=37815,fi=37816,di=37817,De=37818,ni=37819,bi=37820,Xi=37821,dn=36492,Cn=36494,Vn=36495,Rn=36283,xn=36284,_r=36285,Vr=36286,Aa=2200,oa=2201,za=2202,ja=2300,Ja=2301,Xa=2302,Sa=2400,g9=2401,Ls=2402,e0=2500,E0=2501,$o=0,Go=1,Vo=2,io=3200,no=3201,$9=0,ro=1,B9="",Er="srgb",w0="srgb-linear",bd="display-p3",eu="display-p3-linear",iu="linear",Yr="srgb",nu="rec709",ru="p3",j5=0,Ho=7680,J5=7681,W5=7682,q5=7683,K5=34055,X5=34056,Y5=5386,Z5=512,t6=513,e6=514,i6=515,n6=516,r6=517,a6=518,Rf=519,Um=512,$m=513,Gm=514,Df=515,Vm=516,Hm=517,Qm=518,zm=519,au=35044,s6=35048,o6=35040,l6=35045,c6=35049,u6=35041,d6=35046,h6=35050,f6=35042,m6="100",Pf="300 es",i0=2e3,su=2001;class ns{addEventListener(r,o){this._listeners===void 0&&(this._listeners={});const f=this._listeners;f[r]===void 0&&(f[r]=[]),f[r].indexOf(o)===-1&&f[r].push(o)}hasEventListener(r,o){if(this._listeners===void 0)return!1;const f=this._listeners;return f[r]!==void 0&&f[r].indexOf(o)!==-1}removeEventListener(r,o){if(this._listeners===void 0)return;const y=this._listeners[r];if(y!==void 0){const w=y.indexOf(o);w!==-1&&y.splice(w,1)}}dispatchEvent(r){if(this._listeners===void 0)return;const f=this._listeners[r.type];if(f!==void 0){r.target=this;const y=f.slice(0);for(let w=0,B=y.length;w<B;w++)y[w].call(this,r);r.target=null}}}const M9=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let jm=1234567;const Qo=Math.PI/180,Hl=180/Math.PI;function rs(){const S=Math.random()*4294967295|0,r=Math.random()*4294967295|0,o=Math.random()*4294967295|0,f=Math.random()*4294967295|0;return(M9[S&255]+M9[S>>8&255]+M9[S>>16&255]+M9[S>>24&255]+"-"+M9[r&255]+M9[r>>8&255]+"-"+M9[r>>16&15|64]+M9[r>>24&255]+"-"+M9[o&63|128]+M9[o>>8&255]+"-"+M9[o>>16&255]+M9[o>>24&255]+M9[f&255]+M9[f>>8&255]+M9[f>>16&255]+M9[f>>24&255]).toLowerCase()}function Ea(S,r,o){return Math.max(r,Math.min(o,S))}function Lf(S,r){return(S%r+r)%r}function p6(S,r,o,f,y){return f+(S-r)*(y-f)/(o-r)}function g6(S,r,o){return S!==r?(o-S)/(r-S):0}function ou(S,r,o){return(1-o)*S+o*r}function M6(S,r,o,f){return ou(S,r,1-Math.exp(-o*f))}function A6(S,r=1){return r-Math.abs(Lf(S,r*2)-r)}function y6(S,r,o){return S<=r?0:S>=o?1:(S=(S-r)/(o-r),S*S*(3-2*S))}function v6(S,r,o){return S<=r?0:S>=o?1:(S=(S-r)/(o-r),S*S*S*(S*(S*6-15)+10))}function b6(S,r){return S+Math.floor(Math.random()*(r-S+1))}function C6(S,r){return S+Math.random()*(r-S)}function _6(S){return S*(.5-Math.random())}function E6(S){S!==void 0&&(jm=S);let r=jm+=1831565813;return r=Math.imul(r^r>>>15,r|1),r^=r+Math.imul(r^r>>>7,r|61),((r^r>>>14)>>>0)/4294967296}function w6(S){return S*Qo}function O6(S){return S*Hl}function x6(S){return(S&S-1)===0&&S!==0}function S6(S){return Math.pow(2,Math.ceil(Math.log(S)/Math.LN2))}function T6(S){return Math.pow(2,Math.floor(Math.log(S)/Math.LN2))}function I6(S,r,o,f,y){const w=Math.cos,B=Math.sin,k=w(o/2),G=B(o/2),H=w((r+f)/2),Z=B((r+f)/2),nt=w((r-f)/2),rt=B((r-f)/2),at=w((f-r)/2),ct=B((f-r)/2);switch(y){case"XYX":S.set(k*Z,G*nt,G*rt,k*H);break;case"YZY":S.set(G*rt,k*Z,G*nt,k*H);break;case"ZXZ":S.set(G*nt,G*rt,k*Z,k*H);break;case"XZX":S.set(k*Z,G*ct,G*at,k*H);break;case"YXY":S.set(G*at,k*Z,G*ct,k*H);break;case"ZYZ":S.set(G*ct,G*at,k*Z,k*H);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+y)}}function R9(S,r){switch(r.constructor){case Float32Array:return S;case Uint32Array:return S/4294967295;case Uint16Array:return S/65535;case Uint8Array:return S/255;case Int32Array:return Math.max(S/2147483647,-1);case Int16Array:return Math.max(S/32767,-1);case Int8Array:return Math.max(S/127,-1);default:throw new Error("Invalid component type.")}}function Hn(S,r){switch(r.constructor){case Float32Array:return S;case Uint32Array:return Math.round(S*4294967295);case Uint16Array:return Math.round(S*65535);case Uint8Array:return Math.round(S*255);case Int32Array:return Math.round(S*2147483647);case Int16Array:return Math.round(S*32767);case Int8Array:return Math.round(S*127);default:throw new Error("Invalid component type.")}}const B6={DEG2RAD:Qo,RAD2DEG:Hl,generateUUID:rs,clamp:Ea,euclideanModulo:Lf,mapLinear:p6,inverseLerp:g6,lerp:ou,damp:M6,pingpong:A6,smoothstep:y6,smootherstep:v6,randInt:b6,randFloat:C6,randFloatSpread:_6,seededRandom:E6,degToRad:w6,radToDeg:O6,isPowerOfTwo:x6,ceilPowerOfTwo:S6,floorPowerOfTwo:T6,setQuaternionFromProperEuler:I6,normalize:Hn,denormalize:R9};class mi{constructor(r=0,o=0){mi.prototype.isVector2=!0,this.x=r,this.y=o}get width(){return this.x}set width(r){this.x=r}get height(){return this.y}set height(r){this.y=r}set(r,o){return this.x=r,this.y=o,this}setScalar(r){return this.x=r,this.y=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setComponent(r,o){switch(r){case 0:this.x=o;break;case 1:this.y=o;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y)}copy(r){return this.x=r.x,this.y=r.y,this}add(r){return this.x+=r.x,this.y+=r.y,this}addScalar(r){return this.x+=r,this.y+=r,this}addVectors(r,o){return this.x=r.x+o.x,this.y=r.y+o.y,this}addScaledVector(r,o){return this.x+=r.x*o,this.y+=r.y*o,this}sub(r){return this.x-=r.x,this.y-=r.y,this}subScalar(r){return this.x-=r,this.y-=r,this}subVectors(r,o){return this.x=r.x-o.x,this.y=r.y-o.y,this}multiply(r){return this.x*=r.x,this.y*=r.y,this}multiplyScalar(r){return this.x*=r,this.y*=r,this}divide(r){return this.x/=r.x,this.y/=r.y,this}divideScalar(r){return this.multiplyScalar(1/r)}applyMatrix3(r){const o=this.x,f=this.y,y=r.elements;return this.x=y[0]*o+y[3]*f+y[6],this.y=y[1]*o+y[4]*f+y[7],this}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this}clamp(r,o){return this.x=Math.max(r.x,Math.min(o.x,this.x)),this.y=Math.max(r.y,Math.min(o.y,this.y)),this}clampScalar(r,o){return this.x=Math.max(r,Math.min(o,this.x)),this.y=Math.max(r,Math.min(o,this.y)),this}clampLength(r,o){const f=this.length();return this.divideScalar(f||1).multiplyScalar(Math.max(r,Math.min(o,f)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(r){return this.x*r.x+this.y*r.y}cross(r){return this.x*r.y-this.y*r.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(r){const o=Math.sqrt(this.lengthSq()*r.lengthSq());if(o===0)return Math.PI/2;const f=this.dot(r)/o;return Math.acos(Ea(f,-1,1))}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const o=this.x-r.x,f=this.y-r.y;return o*o+f*f}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,o){return this.x+=(r.x-this.x)*o,this.y+=(r.y-this.y)*o,this}lerpVectors(r,o,f){return this.x=r.x+(o.x-r.x)*f,this.y=r.y+(o.y-r.y)*f,this}equals(r){return r.x===this.x&&r.y===this.y}fromArray(r,o=0){return this.x=r[o],this.y=r[o+1],this}toArray(r=[],o=0){return r[o]=this.x,r[o+1]=this.y,r}fromBufferAttribute(r,o){return this.x=r.getX(o),this.y=r.getY(o),this}rotateAround(r,o){const f=Math.cos(o),y=Math.sin(o),w=this.x-r.x,B=this.y-r.y;return this.x=w*f-B*y+r.x,this.y=w*y+B*f+r.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Un{constructor(r,o,f,y,w,B,k,G,H){Un.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],r!==void 0&&this.set(r,o,f,y,w,B,k,G,H)}set(r,o,f,y,w,B,k,G,H){const Z=this.elements;return Z[0]=r,Z[1]=y,Z[2]=k,Z[3]=o,Z[4]=w,Z[5]=G,Z[6]=f,Z[7]=B,Z[8]=H,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(r){const o=this.elements,f=r.elements;return o[0]=f[0],o[1]=f[1],o[2]=f[2],o[3]=f[3],o[4]=f[4],o[5]=f[5],o[6]=f[6],o[7]=f[7],o[8]=f[8],this}extractBasis(r,o,f){return r.setFromMatrix3Column(this,0),o.setFromMatrix3Column(this,1),f.setFromMatrix3Column(this,2),this}setFromMatrix4(r){const o=r.elements;return this.set(o[0],o[4],o[8],o[1],o[5],o[9],o[2],o[6],o[10]),this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,o){const f=r.elements,y=o.elements,w=this.elements,B=f[0],k=f[3],G=f[6],H=f[1],Z=f[4],nt=f[7],rt=f[2],at=f[5],ct=f[8],yt=y[0],ft=y[3],st=y[6],Gt=y[1],$t=y[4],Lt=y[7],pe=y[2],ne=y[5],oe=y[8];return w[0]=B*yt+k*Gt+G*pe,w[3]=B*ft+k*$t+G*ne,w[6]=B*st+k*Lt+G*oe,w[1]=H*yt+Z*Gt+nt*pe,w[4]=H*ft+Z*$t+nt*ne,w[7]=H*st+Z*Lt+nt*oe,w[2]=rt*yt+at*Gt+ct*pe,w[5]=rt*ft+at*$t+ct*ne,w[8]=rt*st+at*Lt+ct*oe,this}multiplyScalar(r){const o=this.elements;return o[0]*=r,o[3]*=r,o[6]*=r,o[1]*=r,o[4]*=r,o[7]*=r,o[2]*=r,o[5]*=r,o[8]*=r,this}determinant(){const r=this.elements,o=r[0],f=r[1],y=r[2],w=r[3],B=r[4],k=r[5],G=r[6],H=r[7],Z=r[8];return o*B*Z-o*k*H-f*w*Z+f*k*G+y*w*H-y*B*G}invert(){const r=this.elements,o=r[0],f=r[1],y=r[2],w=r[3],B=r[4],k=r[5],G=r[6],H=r[7],Z=r[8],nt=Z*B-k*H,rt=k*G-Z*w,at=H*w-B*G,ct=o*nt+f*rt+y*at;if(ct===0)return this.set(0,0,0,0,0,0,0,0,0);const yt=1/ct;return r[0]=nt*yt,r[1]=(y*H-Z*f)*yt,r[2]=(k*f-y*B)*yt,r[3]=rt*yt,r[4]=(Z*o-y*G)*yt,r[5]=(y*w-k*o)*yt,r[6]=at*yt,r[7]=(f*G-H*o)*yt,r[8]=(B*o-f*w)*yt,this}transpose(){let r;const o=this.elements;return r=o[1],o[1]=o[3],o[3]=r,r=o[2],o[2]=o[6],o[6]=r,r=o[5],o[5]=o[7],o[7]=r,this}getNormalMatrix(r){return this.setFromMatrix4(r).invert().transpose()}transposeIntoArray(r){const o=this.elements;return r[0]=o[0],r[1]=o[3],r[2]=o[6],r[3]=o[1],r[4]=o[4],r[5]=o[7],r[6]=o[2],r[7]=o[5],r[8]=o[8],this}setUvTransform(r,o,f,y,w,B,k){const G=Math.cos(w),H=Math.sin(w);return this.set(f*G,f*H,-f*(G*B+H*k)+B+r,-y*H,y*G,-y*(-H*B+G*k)+k+o,0,0,1),this}scale(r,o){return this.premultiply(kf.makeScale(r,o)),this}rotate(r){return this.premultiply(kf.makeRotation(-r)),this}translate(r,o){return this.premultiply(kf.makeTranslation(r,o)),this}makeTranslation(r,o){return r.isVector2?this.set(1,0,r.x,0,1,r.y,0,0,1):this.set(1,0,r,0,1,o,0,0,1),this}makeRotation(r){const o=Math.cos(r),f=Math.sin(r);return this.set(o,-f,0,f,o,0,0,0,1),this}makeScale(r,o){return this.set(r,0,0,0,o,0,0,0,1),this}equals(r){const o=this.elements,f=r.elements;for(let y=0;y<9;y++)if(o[y]!==f[y])return!1;return!0}fromArray(r,o=0){for(let f=0;f<9;f++)this.elements[f]=r[f+o];return this}toArray(r=[],o=0){const f=this.elements;return r[o]=f[0],r[o+1]=f[1],r[o+2]=f[2],r[o+3]=f[3],r[o+4]=f[4],r[o+5]=f[5],r[o+6]=f[6],r[o+7]=f[7],r[o+8]=f[8],r}clone(){return new this.constructor().fromArray(this.elements)}}const kf=new Un;function Jm(S){for(let r=S.length-1;r>=0;--r)if(S[r]>=65535)return!0;return!1}const R6={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Ql(S,r){return new R6[S](r)}function lu(S){return document.createElementNS("http://www.w3.org/1999/xhtml",S)}function Wm(){const S=lu("canvas");return S.style.display="block",S}const qm={};function Km(S){S in qm||(qm[S]=!0,console.warn(S))}const Xm=new Un().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Ym=new Un().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Cd={[w0]:{transfer:iu,primaries:nu,toReference:S=>S,fromReference:S=>S},[Er]:{transfer:Yr,primaries:nu,toReference:S=>S.convertSRGBToLinear(),fromReference:S=>S.convertLinearToSRGB()},[eu]:{transfer:iu,primaries:ru,toReference:S=>S.applyMatrix3(Ym),fromReference:S=>S.applyMatrix3(Xm)},[bd]:{transfer:Yr,primaries:ru,toReference:S=>S.convertSRGBToLinear().applyMatrix3(Ym),fromReference:S=>S.applyMatrix3(Xm).convertLinearToSRGB()}},D6=new Set([w0,eu]),Nr={enabled:!0,_workingColorSpace:w0,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(S){if(!D6.has(S))throw new Error(`Unsupported working color space, "${S}".`);this._workingColorSpace=S},convert:function(S,r,o){if(this.enabled===!1||r===o||!r||!o)return S;const f=Cd[r].toReference,y=Cd[o].fromReference;return y(f(S))},fromWorkingColorSpace:function(S,r){return this.convert(S,this._workingColorSpace,r)},toWorkingColorSpace:function(S,r){return this.convert(S,r,this._workingColorSpace)},getPrimaries:function(S){return Cd[S].primaries},getTransfer:function(S){return S===B9?iu:Cd[S].transfer}};function zl(S){return S<.04045?S*.0773993808:Math.pow(S*.9478672986+.0521327014,2.4)}function Nf(S){return S<.0031308?S*12.92:1.055*Math.pow(S,.41666)-.055}let zo;class jl{static getDataURL(r){if(/^data:/i.test(r.src)||typeof HTMLCanvasElement>"u")return r.src;let o;if(r instanceof HTMLCanvasElement)o=r;else{zo===void 0&&(zo=lu("canvas")),zo.width=r.width,zo.height=r.height;const f=zo.getContext("2d");r instanceof ImageData?f.putImageData(r,0,0):f.drawImage(r,0,0,r.width,r.height),o=zo}return o.width>2048||o.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",r),o.toDataURL("image/jpeg",.6)):o.toDataURL("image/png")}static sRGBToLinear(r){if(typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap){const o=lu("canvas");o.width=r.width,o.height=r.height;const f=o.getContext("2d");f.drawImage(r,0,0,r.width,r.height);const y=f.getImageData(0,0,r.width,r.height),w=y.data;for(let B=0;B<w.length;B++)w[B]=zl(w[B]/255)*255;return f.putImageData(y,0,0),o}else if(r.data){const o=r.data.slice(0);for(let f=0;f<o.length;f++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[f]=Math.floor(zl(o[f]/255)*255):o[f]=zl(o[f]);return{data:o,width:r.width,height:r.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),r}}let Zm=0;class ya{constructor(r=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Zm++}),this.uuid=rs(),this.data=r,this.dataReady=!0,this.version=0}set needsUpdate(r){r===!0&&this.version++}toJSON(r){const o=r===void 0||typeof r=="string";if(!o&&r.images[this.uuid]!==void 0)return r.images[this.uuid];const f={uuid:this.uuid,url:""},y=this.data;if(y!==null){let w;if(Array.isArray(y)){w=[];for(let B=0,k=y.length;B<k;B++)y[B].isDataTexture?w.push(_d(y[B].image)):w.push(_d(y[B]))}else w=_d(y);f.url=w}return o||(r.images[this.uuid]=f),f}}function _d(S){return typeof HTMLImageElement<"u"&&S instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&S instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&S instanceof ImageBitmap?jl.getDataURL(S):S.data?{data:Array.from(S.data),width:S.width,height:S.height,type:S.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let t3=0;class la extends ns{constructor(r=la.DEFAULT_IMAGE,o=la.DEFAULT_MAPPING,f=ce,y=ce,w=Le,B=Ii,k=ue,G=ze,H=la.DEFAULT_ANISOTROPY,Z=B9){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:t3++}),this.uuid=rs(),this.name="",this.source=new ya(r),this.mipmaps=[],this.mapping=o,this.channel=0,this.wrapS=f,this.wrapT=y,this.magFilter=w,this.minFilter=B,this.anisotropy=H,this.format=k,this.internalFormat=null,this.type=G,this.offset=new mi(0,0),this.repeat=new mi(1,1),this.center=new mi(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Un,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=Z,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(r=null){this.source.data=r}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(r){return this.name=r.name,this.source=r.source,this.mipmaps=r.mipmaps.slice(0),this.mapping=r.mapping,this.channel=r.channel,this.wrapS=r.wrapS,this.wrapT=r.wrapT,this.magFilter=r.magFilter,this.minFilter=r.minFilter,this.anisotropy=r.anisotropy,this.format=r.format,this.internalFormat=r.internalFormat,this.type=r.type,this.offset.copy(r.offset),this.repeat.copy(r.repeat),this.center.copy(r.center),this.rotation=r.rotation,this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrix.copy(r.matrix),this.generateMipmaps=r.generateMipmaps,this.premultiplyAlpha=r.premultiplyAlpha,this.flipY=r.flipY,this.unpackAlignment=r.unpackAlignment,this.colorSpace=r.colorSpace,this.userData=JSON.parse(JSON.stringify(r.userData)),this.needsUpdate=!0,this}toJSON(r){const o=r===void 0||typeof r=="string";if(!o&&r.textures[this.uuid]!==void 0)return r.textures[this.uuid];const f={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(r).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(f.userData=this.userData),o||(r.textures[this.uuid]=f),f}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(r){if(this.mapping!==zt)return r;if(r.applyMatrix3(this.matrix),r.x<0||r.x>1)switch(this.wrapS){case Zt:r.x=r.x-Math.floor(r.x);break;case ce:r.x=r.x<0?0:1;break;case ye:Math.abs(Math.floor(r.x)%2)===1?r.x=Math.ceil(r.x)-r.x:r.x=r.x-Math.floor(r.x);break}if(r.y<0||r.y>1)switch(this.wrapT){case Zt:r.y=r.y-Math.floor(r.y);break;case ce:r.y=r.y<0?0:1;break;case ye:Math.abs(Math.floor(r.y)%2)===1?r.y=Math.ceil(r.y)-r.y:r.y=r.y-Math.floor(r.y);break}return this.flipY&&(r.y=1-r.y),r}set needsUpdate(r){r===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(r){r===!0&&this.pmremVersion++}}la.DEFAULT_IMAGE=null,la.DEFAULT_MAPPING=zt,la.DEFAULT_ANISOTROPY=1;class xr{constructor(r=0,o=0,f=0,y=1){xr.prototype.isVector4=!0,this.x=r,this.y=o,this.z=f,this.w=y}get width(){return this.z}set width(r){this.z=r}get height(){return this.w}set height(r){this.w=r}set(r,o,f,y){return this.x=r,this.y=o,this.z=f,this.w=y,this}setScalar(r){return this.x=r,this.y=r,this.z=r,this.w=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setZ(r){return this.z=r,this}setW(r){return this.w=r,this}setComponent(r,o){switch(r){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;case 3:this.w=o;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this.w=r.w!==void 0?r.w:1,this}add(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this.w+=r.w,this}addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this.w+=r,this}addVectors(r,o){return this.x=r.x+o.x,this.y=r.y+o.y,this.z=r.z+o.z,this.w=r.w+o.w,this}addScaledVector(r,o){return this.x+=r.x*o,this.y+=r.y*o,this.z+=r.z*o,this.w+=r.w*o,this}sub(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this.w-=r.w,this}subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this.w-=r,this}subVectors(r,o){return this.x=r.x-o.x,this.y=r.y-o.y,this.z=r.z-o.z,this.w=r.w-o.w,this}multiply(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z,this.w*=r.w,this}multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this.w*=r,this}applyMatrix4(r){const o=this.x,f=this.y,y=this.z,w=this.w,B=r.elements;return this.x=B[0]*o+B[4]*f+B[8]*y+B[12]*w,this.y=B[1]*o+B[5]*f+B[9]*y+B[13]*w,this.z=B[2]*o+B[6]*f+B[10]*y+B[14]*w,this.w=B[3]*o+B[7]*f+B[11]*y+B[15]*w,this}divideScalar(r){return this.multiplyScalar(1/r)}setAxisAngleFromQuaternion(r){this.w=2*Math.acos(r.w);const o=Math.sqrt(1-r.w*r.w);return o<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=r.x/o,this.y=r.y/o,this.z=r.z/o),this}setAxisAngleFromRotationMatrix(r){let o,f,y,w;const G=r.elements,H=G[0],Z=G[4],nt=G[8],rt=G[1],at=G[5],ct=G[9],yt=G[2],ft=G[6],st=G[10];if(Math.abs(Z-rt)<.01&&Math.abs(nt-yt)<.01&&Math.abs(ct-ft)<.01){if(Math.abs(Z+rt)<.1&&Math.abs(nt+yt)<.1&&Math.abs(ct+ft)<.1&&Math.abs(H+at+st-3)<.1)return this.set(1,0,0,0),this;o=Math.PI;const $t=(H+1)/2,Lt=(at+1)/2,pe=(st+1)/2,ne=(Z+rt)/4,oe=(nt+yt)/4,he=(ct+ft)/4;return $t>Lt&&$t>pe?$t<.01?(f=0,y=.707106781,w=.707106781):(f=Math.sqrt($t),y=ne/f,w=oe/f):Lt>pe?Lt<.01?(f=.707106781,y=0,w=.707106781):(y=Math.sqrt(Lt),f=ne/y,w=he/y):pe<.01?(f=.707106781,y=.707106781,w=0):(w=Math.sqrt(pe),f=oe/w,y=he/w),this.set(f,y,w,o),this}let Gt=Math.sqrt((ft-ct)*(ft-ct)+(nt-yt)*(nt-yt)+(rt-Z)*(rt-Z));return Math.abs(Gt)<.001&&(Gt=1),this.x=(ft-ct)/Gt,this.y=(nt-yt)/Gt,this.z=(rt-Z)/Gt,this.w=Math.acos((H+at+st-1)/2),this}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this.w=Math.min(this.w,r.w),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this.w=Math.max(this.w,r.w),this}clamp(r,o){return this.x=Math.max(r.x,Math.min(o.x,this.x)),this.y=Math.max(r.y,Math.min(o.y,this.y)),this.z=Math.max(r.z,Math.min(o.z,this.z)),this.w=Math.max(r.w,Math.min(o.w,this.w)),this}clampScalar(r,o){return this.x=Math.max(r,Math.min(o,this.x)),this.y=Math.max(r,Math.min(o,this.y)),this.z=Math.max(r,Math.min(o,this.z)),this.w=Math.max(r,Math.min(o,this.w)),this}clampLength(r,o){const f=this.length();return this.divideScalar(f||1).multiplyScalar(Math.max(r,Math.min(o,f)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z+this.w*r.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,o){return this.x+=(r.x-this.x)*o,this.y+=(r.y-this.y)*o,this.z+=(r.z-this.z)*o,this.w+=(r.w-this.w)*o,this}lerpVectors(r,o,f){return this.x=r.x+(o.x-r.x)*f,this.y=r.y+(o.y-r.y)*f,this.z=r.z+(o.z-r.z)*f,this.w=r.w+(o.w-r.w)*f,this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z&&r.w===this.w}fromArray(r,o=0){return this.x=r[o],this.y=r[o+1],this.z=r[o+2],this.w=r[o+3],this}toArray(r=[],o=0){return r[o]=this.x,r[o+1]=this.y,r[o+2]=this.z,r[o+3]=this.w,r}fromBufferAttribute(r,o){return this.x=r.getX(o),this.y=r.getY(o),this.z=r.getZ(o),this.w=r.getW(o),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Ed extends ns{constructor(r=1,o=1,f={}){super(),this.isRenderTarget=!0,this.width=r,this.height=o,this.depth=1,this.scissor=new xr(0,0,r,o),this.scissorTest=!1,this.viewport=new xr(0,0,r,o);const y={width:r,height:o,depth:1};f=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Le,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},f);const w=new la(y,f.mapping,f.wrapS,f.wrapT,f.magFilter,f.minFilter,f.format,f.type,f.anisotropy,f.colorSpace);w.flipY=!1,w.generateMipmaps=f.generateMipmaps,w.internalFormat=f.internalFormat,this.textures=[];const B=f.count;for(let k=0;k<B;k++)this.textures[k]=w.clone(),this.textures[k].isRenderTargetTexture=!0;this.depthBuffer=f.depthBuffer,this.stencilBuffer=f.stencilBuffer,this.resolveDepthBuffer=f.resolveDepthBuffer,this.resolveStencilBuffer=f.resolveStencilBuffer,this.depthTexture=f.depthTexture,this.samples=f.samples}get texture(){return this.textures[0]}set texture(r){this.textures[0]=r}setSize(r,o,f=1){if(this.width!==r||this.height!==o||this.depth!==f){this.width=r,this.height=o,this.depth=f;for(let y=0,w=this.textures.length;y<w;y++)this.textures[y].image.width=r,this.textures[y].image.height=o,this.textures[y].image.depth=f;this.dispose()}this.viewport.set(0,0,r,o),this.scissor.set(0,0,r,o)}clone(){return new this.constructor().copy(this)}copy(r){this.width=r.width,this.height=r.height,this.depth=r.depth,this.scissor.copy(r.scissor),this.scissorTest=r.scissorTest,this.viewport.copy(r.viewport),this.textures.length=0;for(let f=0,y=r.textures.length;f<y;f++)this.textures[f]=r.textures[f].clone(),this.textures[f].isRenderTargetTexture=!0;const o=Object.assign({},r.texture.image);return this.texture.source=new ya(o),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,r.depthTexture!==null&&(this.depthTexture=r.depthTexture.clone()),this.samples=r.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ms extends Ed{constructor(r=1,o=1,f={}){super(r,o,f),this.isWebGLRenderTarget=!0}}class wd extends la{constructor(r=null,o=1,f=1,y=1){super(null),this.isDataArrayTexture=!0,this.image={data:r,width:o,height:f,depth:y},this.magFilter=$e,this.minFilter=$e,this.wrapR=ce,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class cn extends Ms{constructor(r=1,o=1,f=1,y={}){super(r,o,y),this.isWebGLArrayRenderTarget=!0,this.depth=f,this.texture=new wd(null,r,o,f),this.texture.isRenderTargetTexture=!0}}class $n extends la{constructor(r=null,o=1,f=1,y=1){super(null),this.isData3DTexture=!0,this.image={data:r,width:o,height:f,depth:y},this.magFilter=$e,this.minFilter=$e,this.wrapR=ce,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Cr extends Ms{constructor(r=1,o=1,f=1,y={}){super(r,o,y),this.isWebGL3DRenderTarget=!0,this.depth=f,this.texture=new $n(null,r,o,f),this.texture.isRenderTargetTexture=!0}}class Br{constructor(r=0,o=0,f=0,y=1){this.isQuaternion=!0,this._x=r,this._y=o,this._z=f,this._w=y}static slerpFlat(r,o,f,y,w,B,k){let G=f[y+0],H=f[y+1],Z=f[y+2],nt=f[y+3];const rt=w[B+0],at=w[B+1],ct=w[B+2],yt=w[B+3];if(k===0){r[o+0]=G,r[o+1]=H,r[o+2]=Z,r[o+3]=nt;return}if(k===1){r[o+0]=rt,r[o+1]=at,r[o+2]=ct,r[o+3]=yt;return}if(nt!==yt||G!==rt||H!==at||Z!==ct){let ft=1-k;const st=G*rt+H*at+Z*ct+nt*yt,Gt=st>=0?1:-1,$t=1-st*st;if($t>Number.EPSILON){const pe=Math.sqrt($t),ne=Math.atan2(pe,st*Gt);ft=Math.sin(ft*ne)/pe,k=Math.sin(k*ne)/pe}const Lt=k*Gt;if(G=G*ft+rt*Lt,H=H*ft+at*Lt,Z=Z*ft+ct*Lt,nt=nt*ft+yt*Lt,ft===1-k){const pe=1/Math.sqrt(G*G+H*H+Z*Z+nt*nt);G*=pe,H*=pe,Z*=pe,nt*=pe}}r[o]=G,r[o+1]=H,r[o+2]=Z,r[o+3]=nt}static multiplyQuaternionsFlat(r,o,f,y,w,B){const k=f[y],G=f[y+1],H=f[y+2],Z=f[y+3],nt=w[B],rt=w[B+1],at=w[B+2],ct=w[B+3];return r[o]=k*ct+Z*nt+G*at-H*rt,r[o+1]=G*ct+Z*rt+H*nt-k*at,r[o+2]=H*ct+Z*at+k*rt-G*nt,r[o+3]=Z*ct-k*nt-G*rt-H*at,r}get x(){return this._x}set x(r){this._x=r,this._onChangeCallback()}get y(){return this._y}set y(r){this._y=r,this._onChangeCallback()}get z(){return this._z}set z(r){this._z=r,this._onChangeCallback()}get w(){return this._w}set w(r){this._w=r,this._onChangeCallback()}set(r,o,f,y){return this._x=r,this._y=o,this._z=f,this._w=y,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(r){return this._x=r.x,this._y=r.y,this._z=r.z,this._w=r.w,this._onChangeCallback(),this}setFromEuler(r,o=!0){const f=r._x,y=r._y,w=r._z,B=r._order,k=Math.cos,G=Math.sin,H=k(f/2),Z=k(y/2),nt=k(w/2),rt=G(f/2),at=G(y/2),ct=G(w/2);switch(B){case"XYZ":this._x=rt*Z*nt+H*at*ct,this._y=H*at*nt-rt*Z*ct,this._z=H*Z*ct+rt*at*nt,this._w=H*Z*nt-rt*at*ct;break;case"YXZ":this._x=rt*Z*nt+H*at*ct,this._y=H*at*nt-rt*Z*ct,this._z=H*Z*ct-rt*at*nt,this._w=H*Z*nt+rt*at*ct;break;case"ZXY":this._x=rt*Z*nt-H*at*ct,this._y=H*at*nt+rt*Z*ct,this._z=H*Z*ct+rt*at*nt,this._w=H*Z*nt-rt*at*ct;break;case"ZYX":this._x=rt*Z*nt-H*at*ct,this._y=H*at*nt+rt*Z*ct,this._z=H*Z*ct-rt*at*nt,this._w=H*Z*nt+rt*at*ct;break;case"YZX":this._x=rt*Z*nt+H*at*ct,this._y=H*at*nt+rt*Z*ct,this._z=H*Z*ct-rt*at*nt,this._w=H*Z*nt-rt*at*ct;break;case"XZY":this._x=rt*Z*nt-H*at*ct,this._y=H*at*nt-rt*Z*ct,this._z=H*Z*ct+rt*at*nt,this._w=H*Z*nt+rt*at*ct;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+B)}return o===!0&&this._onChangeCallback(),this}setFromAxisAngle(r,o){const f=o/2,y=Math.sin(f);return this._x=r.x*y,this._y=r.y*y,this._z=r.z*y,this._w=Math.cos(f),this._onChangeCallback(),this}setFromRotationMatrix(r){const o=r.elements,f=o[0],y=o[4],w=o[8],B=o[1],k=o[5],G=o[9],H=o[2],Z=o[6],nt=o[10],rt=f+k+nt;if(rt>0){const at=.5/Math.sqrt(rt+1);this._w=.25/at,this._x=(Z-G)*at,this._y=(w-H)*at,this._z=(B-y)*at}else if(f>k&&f>nt){const at=2*Math.sqrt(1+f-k-nt);this._w=(Z-G)/at,this._x=.25*at,this._y=(y+B)/at,this._z=(w+H)/at}else if(k>nt){const at=2*Math.sqrt(1+k-f-nt);this._w=(w-H)/at,this._x=(y+B)/at,this._y=.25*at,this._z=(G+Z)/at}else{const at=2*Math.sqrt(1+nt-f-k);this._w=(B-y)/at,this._x=(w+H)/at,this._y=(G+Z)/at,this._z=.25*at}return this._onChangeCallback(),this}setFromUnitVectors(r,o){let f=r.dot(o)+1;return f<Number.EPSILON?(f=0,Math.abs(r.x)>Math.abs(r.z)?(this._x=-r.y,this._y=r.x,this._z=0,this._w=f):(this._x=0,this._y=-r.z,this._z=r.y,this._w=f)):(this._x=r.y*o.z-r.z*o.y,this._y=r.z*o.x-r.x*o.z,this._z=r.x*o.y-r.y*o.x,this._w=f),this.normalize()}angleTo(r){return 2*Math.acos(Math.abs(Ea(this.dot(r),-1,1)))}rotateTowards(r,o){const f=this.angleTo(r);if(f===0)return this;const y=Math.min(1,o/f);return this.slerp(r,y),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(r){return this._x*r._x+this._y*r._y+this._z*r._z+this._w*r._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let r=this.length();return r===0?(this._x=0,this._y=0,this._z=0,this._w=1):(r=1/r,this._x=this._x*r,this._y=this._y*r,this._z=this._z*r,this._w=this._w*r),this._onChangeCallback(),this}multiply(r){return this.multiplyQuaternions(this,r)}premultiply(r){return this.multiplyQuaternions(r,this)}multiplyQuaternions(r,o){const f=r._x,y=r._y,w=r._z,B=r._w,k=o._x,G=o._y,H=o._z,Z=o._w;return this._x=f*Z+B*k+y*H-w*G,this._y=y*Z+B*G+w*k-f*H,this._z=w*Z+B*H+f*G-y*k,this._w=B*Z-f*k-y*G-w*H,this._onChangeCallback(),this}slerp(r,o){if(o===0)return this;if(o===1)return this.copy(r);const f=this._x,y=this._y,w=this._z,B=this._w;let k=B*r._w+f*r._x+y*r._y+w*r._z;if(k<0?(this._w=-r._w,this._x=-r._x,this._y=-r._y,this._z=-r._z,k=-k):this.copy(r),k>=1)return this._w=B,this._x=f,this._y=y,this._z=w,this;const G=1-k*k;if(G<=Number.EPSILON){const at=1-o;return this._w=at*B+o*this._w,this._x=at*f+o*this._x,this._y=at*y+o*this._y,this._z=at*w+o*this._z,this.normalize(),this}const H=Math.sqrt(G),Z=Math.atan2(H,k),nt=Math.sin((1-o)*Z)/H,rt=Math.sin(o*Z)/H;return this._w=B*nt+this._w*rt,this._x=f*nt+this._x*rt,this._y=y*nt+this._y*rt,this._z=w*nt+this._z*rt,this._onChangeCallback(),this}slerpQuaternions(r,o,f){return this.copy(r).slerp(o,f)}random(){const r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random(),f=Math.random(),y=Math.sqrt(1-f),w=Math.sqrt(f);return this.set(y*Math.sin(r),y*Math.cos(r),w*Math.sin(o),w*Math.cos(o))}equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._w===this._w}fromArray(r,o=0){return this._x=r[o],this._y=r[o+1],this._z=r[o+2],this._w=r[o+3],this._onChangeCallback(),this}toArray(r=[],o=0){return r[o]=this._x,r[o+1]=this._y,r[o+2]=this._z,r[o+3]=this._w,r}fromBufferAttribute(r,o){return this._x=r.getX(o),this._y=r.getY(o),this._z=r.getZ(o),this._w=r.getW(o),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(r){return this._onChangeCallback=r,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ie{constructor(r=0,o=0,f=0){ie.prototype.isVector3=!0,this.x=r,this.y=o,this.z=f}set(r,o,f){return f===void 0&&(f=this.z),this.x=r,this.y=o,this.z=f,this}setScalar(r){return this.x=r,this.y=r,this.z=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setZ(r){return this.z=r,this}setComponent(r,o){switch(r){case 0:this.x=o;break;case 1:this.y=o;break;case 2:this.z=o;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this}add(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this}addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this}addVectors(r,o){return this.x=r.x+o.x,this.y=r.y+o.y,this.z=r.z+o.z,this}addScaledVector(r,o){return this.x+=r.x*o,this.y+=r.y*o,this.z+=r.z*o,this}sub(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this}subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this}subVectors(r,o){return this.x=r.x-o.x,this.y=r.y-o.y,this.z=r.z-o.z,this}multiply(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z,this}multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this}multiplyVectors(r,o){return this.x=r.x*o.x,this.y=r.y*o.y,this.z=r.z*o.z,this}applyEuler(r){return this.applyQuaternion(Pa.setFromEuler(r))}applyAxisAngle(r,o){return this.applyQuaternion(Pa.setFromAxisAngle(r,o))}applyMatrix3(r){const o=this.x,f=this.y,y=this.z,w=r.elements;return this.x=w[0]*o+w[3]*f+w[6]*y,this.y=w[1]*o+w[4]*f+w[7]*y,this.z=w[2]*o+w[5]*f+w[8]*y,this}applyNormalMatrix(r){return this.applyMatrix3(r).normalize()}applyMatrix4(r){const o=this.x,f=this.y,y=this.z,w=r.elements,B=1/(w[3]*o+w[7]*f+w[11]*y+w[15]);return this.x=(w[0]*o+w[4]*f+w[8]*y+w[12])*B,this.y=(w[1]*o+w[5]*f+w[9]*y+w[13])*B,this.z=(w[2]*o+w[6]*f+w[10]*y+w[14])*B,this}applyQuaternion(r){const o=this.x,f=this.y,y=this.z,w=r.x,B=r.y,k=r.z,G=r.w,H=2*(B*y-k*f),Z=2*(k*o-w*y),nt=2*(w*f-B*o);return this.x=o+G*H+B*nt-k*Z,this.y=f+G*Z+k*H-w*nt,this.z=y+G*nt+w*Z-B*H,this}project(r){return this.applyMatrix4(r.matrixWorldInverse).applyMatrix4(r.projectionMatrix)}unproject(r){return this.applyMatrix4(r.projectionMatrixInverse).applyMatrix4(r.matrixWorld)}transformDirection(r){const o=this.x,f=this.y,y=this.z,w=r.elements;return this.x=w[0]*o+w[4]*f+w[8]*y,this.y=w[1]*o+w[5]*f+w[9]*y,this.z=w[2]*o+w[6]*f+w[10]*y,this.normalize()}divide(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z,this}divideScalar(r){return this.multiplyScalar(1/r)}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this}clamp(r,o){return this.x=Math.max(r.x,Math.min(o.x,this.x)),this.y=Math.max(r.y,Math.min(o.y,this.y)),this.z=Math.max(r.z,Math.min(o.z,this.z)),this}clampScalar(r,o){return this.x=Math.max(r,Math.min(o,this.x)),this.y=Math.max(r,Math.min(o,this.y)),this.z=Math.max(r,Math.min(o,this.z)),this}clampLength(r,o){const f=this.length();return this.divideScalar(f||1).multiplyScalar(Math.max(r,Math.min(o,f)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,o){return this.x+=(r.x-this.x)*o,this.y+=(r.y-this.y)*o,this.z+=(r.z-this.z)*o,this}lerpVectors(r,o,f){return this.x=r.x+(o.x-r.x)*f,this.y=r.y+(o.y-r.y)*f,this.z=r.z+(o.z-r.z)*f,this}cross(r){return this.crossVectors(this,r)}crossVectors(r,o){const f=r.x,y=r.y,w=r.z,B=o.x,k=o.y,G=o.z;return this.x=y*G-w*k,this.y=w*B-f*G,this.z=f*k-y*B,this}projectOnVector(r){const o=r.lengthSq();if(o===0)return this.set(0,0,0);const f=r.dot(this)/o;return this.copy(r).multiplyScalar(f)}projectOnPlane(r){return ks.copy(this).projectOnVector(r),this.sub(ks)}reflect(r){return this.sub(ks.copy(r).multiplyScalar(2*this.dot(r)))}angleTo(r){const o=Math.sqrt(this.lengthSq()*r.lengthSq());if(o===0)return Math.PI/2;const f=this.dot(r)/o;return Math.acos(Ea(f,-1,1))}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const o=this.x-r.x,f=this.y-r.y,y=this.z-r.z;return o*o+f*f+y*y}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)+Math.abs(this.z-r.z)}setFromSpherical(r){return this.setFromSphericalCoords(r.radius,r.phi,r.theta)}setFromSphericalCoords(r,o,f){const y=Math.sin(o)*r;return this.x=y*Math.sin(f),this.y=Math.cos(o)*r,this.z=y*Math.cos(f),this}setFromCylindrical(r){return this.setFromCylindricalCoords(r.radius,r.theta,r.y)}setFromCylindricalCoords(r,o,f){return this.x=r*Math.sin(o),this.y=f,this.z=r*Math.cos(o),this}setFromMatrixPosition(r){const o=r.elements;return this.x=o[12],this.y=o[13],this.z=o[14],this}setFromMatrixScale(r){const o=this.setFromMatrixColumn(r,0).length(),f=this.setFromMatrixColumn(r,1).length(),y=this.setFromMatrixColumn(r,2).length();return this.x=o,this.y=f,this.z=y,this}setFromMatrixColumn(r,o){return this.fromArray(r.elements,o*4)}setFromMatrix3Column(r,o){return this.fromArray(r.elements,o*3)}setFromEuler(r){return this.x=r._x,this.y=r._y,this.z=r._z,this}setFromColor(r){return this.x=r.r,this.y=r.g,this.z=r.b,this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z}fromArray(r,o=0){return this.x=r[o],this.y=r[o+1],this.z=r[o+2],this}toArray(r=[],o=0){return r[o]=this.x,r[o+1]=this.y,r[o+2]=this.z,r}fromBufferAttribute(r,o){return this.x=r.getX(o),this.y=r.getY(o),this.z=r.getZ(o),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const r=Math.random()*Math.PI*2,o=Math.random()*2-1,f=Math.sqrt(1-o*o);return this.x=f*Math.cos(r),this.y=o,this.z=f*Math.sin(r),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const ks=new ie,Pa=new Br;class Ta{constructor(r=new ie(1/0,1/0,1/0),o=new ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=r,this.max=o}set(r,o){return this.min.copy(r),this.max.copy(o),this}setFromArray(r){this.makeEmpty();for(let o=0,f=r.length;o<f;o+=3)this.expandByPoint(G9.fromArray(r,o));return this}setFromBufferAttribute(r){this.makeEmpty();for(let o=0,f=r.count;o<f;o++)this.expandByPoint(G9.fromBufferAttribute(r,o));return this}setFromPoints(r){this.makeEmpty();for(let o=0,f=r.length;o<f;o++)this.expandByPoint(r[o]);return this}setFromCenterAndSize(r,o){const f=G9.copy(o).multiplyScalar(.5);return this.min.copy(r).sub(f),this.max.copy(r).add(f),this}setFromObject(r,o=!1){return this.makeEmpty(),this.expandByObject(r,o)}clone(){return new this.constructor().copy(this)}copy(r){return this.min.copy(r.min),this.max.copy(r.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(r){return this.isEmpty()?r.set(0,0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(r){return this.isEmpty()?r.set(0,0,0):r.subVectors(this.max,this.min)}expandByPoint(r){return this.min.min(r),this.max.max(r),this}expandByVector(r){return this.min.sub(r),this.max.add(r),this}expandByScalar(r){return this.min.addScalar(-r),this.max.addScalar(r),this}expandByObject(r,o=!1){r.updateWorldMatrix(!1,!1);const f=r.geometry;if(f!==void 0){const w=f.getAttribute("position");if(o===!0&&w!==void 0&&r.isInstancedMesh!==!0)for(let B=0,k=w.count;B<k;B++)r.isMesh===!0?r.getVertexPosition(B,G9):G9.fromBufferAttribute(w,B),G9.applyMatrix4(r.matrixWorld),this.expandByPoint(G9);else r.boundingBox!==void 0?(r.boundingBox===null&&r.computeBoundingBox(),ao.copy(r.boundingBox)):(f.boundingBox===null&&f.computeBoundingBox(),ao.copy(f.boundingBox)),ao.applyMatrix4(r.matrixWorld),this.union(ao)}const y=r.children;for(let w=0,B=y.length;w<B;w++)this.expandByObject(y[w],o);return this}containsPoint(r){return!(r.x<this.min.x||r.x>this.max.x||r.y<this.min.y||r.y>this.max.y||r.z<this.min.z||r.z>this.max.z)}containsBox(r){return this.min.x<=r.min.x&&r.max.x<=this.max.x&&this.min.y<=r.min.y&&r.max.y<=this.max.y&&this.min.z<=r.min.z&&r.max.z<=this.max.z}getParameter(r,o){return o.set((r.x-this.min.x)/(this.max.x-this.min.x),(r.y-this.min.y)/(this.max.y-this.min.y),(r.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(r){return!(r.max.x<this.min.x||r.min.x>this.max.x||r.max.y<this.min.y||r.min.y>this.max.y||r.max.z<this.min.z||r.min.z>this.max.z)}intersectsSphere(r){return this.clampPoint(r.center,G9),G9.distanceToSquared(r.center)<=r.radius*r.radius}intersectsPlane(r){let o,f;return r.normal.x>0?(o=r.normal.x*this.min.x,f=r.normal.x*this.max.x):(o=r.normal.x*this.max.x,f=r.normal.x*this.min.x),r.normal.y>0?(o+=r.normal.y*this.min.y,f+=r.normal.y*this.max.y):(o+=r.normal.y*this.max.y,f+=r.normal.y*this.min.y),r.normal.z>0?(o+=r.normal.z*this.min.z,f+=r.normal.z*this.max.z):(o+=r.normal.z*this.max.z,f+=r.normal.z*this.min.z),o<=-r.constant&&f>=-r.constant}intersectsTriangle(r){if(this.isEmpty())return!1;this.getCenter(wr),jr.subVectors(this.max,wr),As.subVectors(r.a,wr),A9.subVectors(r.b,wr),Zn.subVectors(r.c,wr),D9.subVectors(A9,As),Ns.subVectors(Zn,A9),y9.subVectors(As,Zn);let o=[0,-D9.z,D9.y,0,-Ns.z,Ns.y,0,-y9.z,y9.y,D9.z,0,-D9.x,Ns.z,0,-Ns.x,y9.z,0,-y9.x,-D9.y,D9.x,0,-Ns.y,Ns.x,0,-y9.y,y9.x,0];return!as(o,As,A9,Zn,jr)||(o=[1,0,0,0,1,0,0,0,1],!as(o,As,A9,Zn,jr))?!1:(tr.crossVectors(D9,Ns),o=[tr.x,tr.y,tr.z],as(o,As,A9,Zn,jr))}clampPoint(r,o){return o.copy(r).clamp(this.min,this.max)}distanceToPoint(r){return this.clampPoint(r,G9).distanceTo(r)}getBoundingSphere(r){return this.isEmpty()?r.makeEmpty():(this.getCenter(r.center),r.radius=this.getSize(G9).length()*.5),r}intersect(r){return this.min.max(r.min),this.max.min(r.max),this.isEmpty()&&this.makeEmpty(),this}union(r){return this.min.min(r.min),this.max.max(r.max),this}applyMatrix4(r){return this.isEmpty()?this:(Ar[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(r),Ar[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(r),Ar[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(r),Ar[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(r),Ar[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(r),Ar[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(r),Ar[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(r),Ar[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(r),this.setFromPoints(Ar),this)}translate(r){return this.min.add(r),this.max.add(r),this}equals(r){return r.min.equals(this.min)&&r.max.equals(this.max)}}const Ar=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],G9=new ie,ao=new Ta,As=new ie,A9=new ie,Zn=new ie,D9=new ie,Ns=new ie,y9=new ie,wr=new ie,jr=new ie,tr=new ie,Or=new ie;function as(S,r,o,f,y){for(let w=0,B=S.length-3;w<=B;w+=3){Or.fromArray(S,w);const k=y.x*Math.abs(Or.x)+y.y*Math.abs(Or.y)+y.z*Math.abs(Or.z),G=r.dot(Or),H=o.dot(Or),Z=f.dot(Or);if(Math.max(-Math.max(G,H,Z),Math.min(G,H,Z))>k)return!1}return!0}const Jl=new Ta,jo=new ie,Od=new ie;class a9{constructor(r=new ie,o=-1){this.isSphere=!0,this.center=r,this.radius=o}set(r,o){return this.center.copy(r),this.radius=o,this}setFromPoints(r,o){const f=this.center;o!==void 0?f.copy(o):Jl.setFromPoints(r).getCenter(f);let y=0;for(let w=0,B=r.length;w<B;w++)y=Math.max(y,f.distanceToSquared(r[w]));return this.radius=Math.sqrt(y),this}copy(r){return this.center.copy(r.center),this.radius=r.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(r){return r.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(r){return r.distanceTo(this.center)-this.radius}intersectsSphere(r){const o=this.radius+r.radius;return r.center.distanceToSquared(this.center)<=o*o}intersectsBox(r){return r.intersectsSphere(this)}intersectsPlane(r){return Math.abs(r.distanceToPoint(this.center))<=this.radius}clampPoint(r,o){const f=this.center.distanceToSquared(r);return o.copy(r),f>this.radius*this.radius&&(o.sub(this.center).normalize(),o.multiplyScalar(this.radius).add(this.center)),o}getBoundingBox(r){return this.isEmpty()?(r.makeEmpty(),r):(r.set(this.center,this.center),r.expandByScalar(this.radius),r)}applyMatrix4(r){return this.center.applyMatrix4(r),this.radius=this.radius*r.getMaxScaleOnAxis(),this}translate(r){return this.center.add(r),this}expandByPoint(r){if(this.isEmpty())return this.center.copy(r),this.radius=0,this;jo.subVectors(r,this.center);const o=jo.lengthSq();if(o>this.radius*this.radius){const f=Math.sqrt(o),y=(f-this.radius)*.5;this.center.addScaledVector(jo,y/f),this.radius+=y}return this}union(r){return r.isEmpty()?this:this.isEmpty()?(this.copy(r),this):(this.center.equals(r.center)===!0?this.radius=Math.max(this.radius,r.radius):(Od.subVectors(r.center,this.center).setLength(r.radius),this.expandByPoint(jo.copy(r.center).add(Od)),this.expandByPoint(jo.copy(r.center).sub(Od))),this)}equals(r){return r.center.equals(this.center)&&r.radius===this.radius}clone(){return new this.constructor().copy(this)}}const n0=new ie,xd=new ie,Sd=new ie,so=new ie,Ff=new ie,Td=new ie,Uf=new ie;class s9{constructor(r=new ie,o=new ie(0,0,-1)){this.origin=r,this.direction=o}set(r,o){return this.origin.copy(r),this.direction.copy(o),this}copy(r){return this.origin.copy(r.origin),this.direction.copy(r.direction),this}at(r,o){return o.copy(this.origin).addScaledVector(this.direction,r)}lookAt(r){return this.direction.copy(r).sub(this.origin).normalize(),this}recast(r){return this.origin.copy(this.at(r,n0)),this}closestPointToPoint(r,o){o.subVectors(r,this.origin);const f=o.dot(this.direction);return f<0?o.copy(this.origin):o.copy(this.origin).addScaledVector(this.direction,f)}distanceToPoint(r){return Math.sqrt(this.distanceSqToPoint(r))}distanceSqToPoint(r){const o=n0.subVectors(r,this.origin).dot(this.direction);return o<0?this.origin.distanceToSquared(r):(n0.copy(this.origin).addScaledVector(this.direction,o),n0.distanceToSquared(r))}distanceSqToSegment(r,o,f,y){xd.copy(r).add(o).multiplyScalar(.5),Sd.copy(o).sub(r).normalize(),so.copy(this.origin).sub(xd);const w=r.distanceTo(o)*.5,B=-this.direction.dot(Sd),k=so.dot(this.direction),G=-so.dot(Sd),H=so.lengthSq(),Z=Math.abs(1-B*B);let nt,rt,at,ct;if(Z>0)if(nt=B*G-k,rt=B*k-G,ct=w*Z,nt>=0)if(rt>=-ct)if(rt<=ct){const yt=1/Z;nt*=yt,rt*=yt,at=nt*(nt+B*rt+2*k)+rt*(B*nt+rt+2*G)+H}else rt=w,nt=Math.max(0,-(B*rt+k)),at=-nt*nt+rt*(rt+2*G)+H;else rt=-w,nt=Math.max(0,-(B*rt+k)),at=-nt*nt+rt*(rt+2*G)+H;else rt<=-ct?(nt=Math.max(0,-(-B*w+k)),rt=nt>0?-w:Math.min(Math.max(-w,-G),w),at=-nt*nt+rt*(rt+2*G)+H):rt<=ct?(nt=0,rt=Math.min(Math.max(-w,-G),w),at=rt*(rt+2*G)+H):(nt=Math.max(0,-(B*w+k)),rt=nt>0?w:Math.min(Math.max(-w,-G),w),at=-nt*nt+rt*(rt+2*G)+H);else rt=B>0?-w:w,nt=Math.max(0,-(B*rt+k)),at=-nt*nt+rt*(rt+2*G)+H;return f&&f.copy(this.origin).addScaledVector(this.direction,nt),y&&y.copy(xd).addScaledVector(Sd,rt),at}intersectSphere(r,o){n0.subVectors(r.center,this.origin);const f=n0.dot(this.direction),y=n0.dot(n0)-f*f,w=r.radius*r.radius;if(y>w)return null;const B=Math.sqrt(w-y),k=f-B,G=f+B;return G<0?null:k<0?this.at(G,o):this.at(k,o)}intersectsSphere(r){return this.distanceSqToPoint(r.center)<=r.radius*r.radius}distanceToPlane(r){const o=r.normal.dot(this.direction);if(o===0)return r.distanceToPoint(this.origin)===0?0:null;const f=-(this.origin.dot(r.normal)+r.constant)/o;return f>=0?f:null}intersectPlane(r,o){const f=this.distanceToPlane(r);return f===null?null:this.at(f,o)}intersectsPlane(r){const o=r.distanceToPoint(this.origin);return o===0||r.normal.dot(this.direction)*o<0}intersectBox(r,o){let f,y,w,B,k,G;const H=1/this.direction.x,Z=1/this.direction.y,nt=1/this.direction.z,rt=this.origin;return H>=0?(f=(r.min.x-rt.x)*H,y=(r.max.x-rt.x)*H):(f=(r.max.x-rt.x)*H,y=(r.min.x-rt.x)*H),Z>=0?(w=(r.min.y-rt.y)*Z,B=(r.max.y-rt.y)*Z):(w=(r.max.y-rt.y)*Z,B=(r.min.y-rt.y)*Z),f>B||w>y||((w>f||isNaN(f))&&(f=w),(B<y||isNaN(y))&&(y=B),nt>=0?(k=(r.min.z-rt.z)*nt,G=(r.max.z-rt.z)*nt):(k=(r.max.z-rt.z)*nt,G=(r.min.z-rt.z)*nt),f>G||k>y)||((k>f||f!==f)&&(f=k),(G<y||y!==y)&&(y=G),y<0)?null:this.at(f>=0?f:y,o)}intersectsBox(r){return this.intersectBox(r,n0)!==null}intersectTriangle(r,o,f,y,w){Ff.subVectors(o,r),Td.subVectors(f,r),Uf.crossVectors(Ff,Td);let B=this.direction.dot(Uf),k;if(B>0){if(y)return null;k=1}else if(B<0)k=-1,B=-B;else return null;so.subVectors(this.origin,r);const G=k*this.direction.dot(Td.crossVectors(so,Td));if(G<0)return null;const H=k*this.direction.dot(Ff.cross(so));if(H<0||G+H>B)return null;const Z=-k*so.dot(Uf);return Z<0?null:this.at(Z/B,w)}applyMatrix4(r){return this.origin.applyMatrix4(r),this.direction.transformDirection(r),this}equals(r){return r.origin.equals(this.origin)&&r.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class fn{constructor(r,o,f,y,w,B,k,G,H,Z,nt,rt,at,ct,yt,ft){fn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r!==void 0&&this.set(r,o,f,y,w,B,k,G,H,Z,nt,rt,at,ct,yt,ft)}set(r,o,f,y,w,B,k,G,H,Z,nt,rt,at,ct,yt,ft){const st=this.elements;return st[0]=r,st[4]=o,st[8]=f,st[12]=y,st[1]=w,st[5]=B,st[9]=k,st[13]=G,st[2]=H,st[6]=Z,st[10]=nt,st[14]=rt,st[3]=at,st[7]=ct,st[11]=yt,st[15]=ft,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new fn().fromArray(this.elements)}copy(r){const o=this.elements,f=r.elements;return o[0]=f[0],o[1]=f[1],o[2]=f[2],o[3]=f[3],o[4]=f[4],o[5]=f[5],o[6]=f[6],o[7]=f[7],o[8]=f[8],o[9]=f[9],o[10]=f[10],o[11]=f[11],o[12]=f[12],o[13]=f[13],o[14]=f[14],o[15]=f[15],this}copyPosition(r){const o=this.elements,f=r.elements;return o[12]=f[12],o[13]=f[13],o[14]=f[14],this}setFromMatrix3(r){const o=r.elements;return this.set(o[0],o[3],o[6],0,o[1],o[4],o[7],0,o[2],o[5],o[8],0,0,0,0,1),this}extractBasis(r,o,f){return r.setFromMatrixColumn(this,0),o.setFromMatrixColumn(this,1),f.setFromMatrixColumn(this,2),this}makeBasis(r,o,f){return this.set(r.x,o.x,f.x,0,r.y,o.y,f.y,0,r.z,o.z,f.z,0,0,0,0,1),this}extractRotation(r){const o=this.elements,f=r.elements,y=1/Jo.setFromMatrixColumn(r,0).length(),w=1/Jo.setFromMatrixColumn(r,1).length(),B=1/Jo.setFromMatrixColumn(r,2).length();return o[0]=f[0]*y,o[1]=f[1]*y,o[2]=f[2]*y,o[3]=0,o[4]=f[4]*w,o[5]=f[5]*w,o[6]=f[6]*w,o[7]=0,o[8]=f[8]*B,o[9]=f[9]*B,o[10]=f[10]*B,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this}makeRotationFromEuler(r){const o=this.elements,f=r.x,y=r.y,w=r.z,B=Math.cos(f),k=Math.sin(f),G=Math.cos(y),H=Math.sin(y),Z=Math.cos(w),nt=Math.sin(w);if(r.order==="XYZ"){const rt=B*Z,at=B*nt,ct=k*Z,yt=k*nt;o[0]=G*Z,o[4]=-G*nt,o[8]=H,o[1]=at+ct*H,o[5]=rt-yt*H,o[9]=-k*G,o[2]=yt-rt*H,o[6]=ct+at*H,o[10]=B*G}else if(r.order==="YXZ"){const rt=G*Z,at=G*nt,ct=H*Z,yt=H*nt;o[0]=rt+yt*k,o[4]=ct*k-at,o[8]=B*H,o[1]=B*nt,o[5]=B*Z,o[9]=-k,o[2]=at*k-ct,o[6]=yt+rt*k,o[10]=B*G}else if(r.order==="ZXY"){const rt=G*Z,at=G*nt,ct=H*Z,yt=H*nt;o[0]=rt-yt*k,o[4]=-B*nt,o[8]=ct+at*k,o[1]=at+ct*k,o[5]=B*Z,o[9]=yt-rt*k,o[2]=-B*H,o[6]=k,o[10]=B*G}else if(r.order==="ZYX"){const rt=B*Z,at=B*nt,ct=k*Z,yt=k*nt;o[0]=G*Z,o[4]=ct*H-at,o[8]=rt*H+yt,o[1]=G*nt,o[5]=yt*H+rt,o[9]=at*H-ct,o[2]=-H,o[6]=k*G,o[10]=B*G}else if(r.order==="YZX"){const rt=B*G,at=B*H,ct=k*G,yt=k*H;o[0]=G*Z,o[4]=yt-rt*nt,o[8]=ct*nt+at,o[1]=nt,o[5]=B*Z,o[9]=-k*Z,o[2]=-H*Z,o[6]=at*nt+ct,o[10]=rt-yt*nt}else if(r.order==="XZY"){const rt=B*G,at=B*H,ct=k*G,yt=k*H;o[0]=G*Z,o[4]=-nt,o[8]=H*Z,o[1]=rt*nt+yt,o[5]=B*Z,o[9]=at*nt-ct,o[2]=ct*nt-at,o[6]=k*Z,o[10]=yt*nt+rt}return o[3]=0,o[7]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,this}makeRotationFromQuaternion(r){return this.compose(XU,r,YU)}lookAt(r,o,f){const y=this.elements;return Fs.subVectors(r,o),Fs.lengthSq()===0&&(Fs.z=1),Fs.normalize(),Wl.crossVectors(f,Fs),Wl.lengthSq()===0&&(Math.abs(f.z)===1?Fs.x+=1e-4:Fs.z+=1e-4,Fs.normalize(),Wl.crossVectors(f,Fs)),Wl.normalize(),e3.crossVectors(Fs,Wl),y[0]=Wl.x,y[4]=e3.x,y[8]=Fs.x,y[1]=Wl.y,y[5]=e3.y,y[9]=Fs.y,y[2]=Wl.z,y[6]=e3.z,y[10]=Fs.z,this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,o){const f=r.elements,y=o.elements,w=this.elements,B=f[0],k=f[4],G=f[8],H=f[12],Z=f[1],nt=f[5],rt=f[9],at=f[13],ct=f[2],yt=f[6],ft=f[10],st=f[14],Gt=f[3],$t=f[7],Lt=f[11],pe=f[15],ne=y[0],oe=y[4],he=y[8],Yt=y[12],Wt=y[1],fe=y[5],xe=y[9],Ce=y[13],Ie=y[2],Ke=y[6],hi=y[10],Li=y[14],ti=y[3],Ti=y[7],Bi=y[11],hn=y[15];return w[0]=B*ne+k*Wt+G*Ie+H*ti,w[4]=B*oe+k*fe+G*Ke+H*Ti,w[8]=B*he+k*xe+G*hi+H*Bi,w[12]=B*Yt+k*Ce+G*Li+H*hn,w[1]=Z*ne+nt*Wt+rt*Ie+at*ti,w[5]=Z*oe+nt*fe+rt*Ke+at*Ti,w[9]=Z*he+nt*xe+rt*hi+at*Bi,w[13]=Z*Yt+nt*Ce+rt*Li+at*hn,w[2]=ct*ne+yt*Wt+ft*Ie+st*ti,w[6]=ct*oe+yt*fe+ft*Ke+st*Ti,w[10]=ct*he+yt*xe+ft*hi+st*Bi,w[14]=ct*Yt+yt*Ce+ft*Li+st*hn,w[3]=Gt*ne+$t*Wt+Lt*Ie+pe*ti,w[7]=Gt*oe+$t*fe+Lt*Ke+pe*Ti,w[11]=Gt*he+$t*xe+Lt*hi+pe*Bi,w[15]=Gt*Yt+$t*Ce+Lt*Li+pe*hn,this}multiplyScalar(r){const o=this.elements;return o[0]*=r,o[4]*=r,o[8]*=r,o[12]*=r,o[1]*=r,o[5]*=r,o[9]*=r,o[13]*=r,o[2]*=r,o[6]*=r,o[10]*=r,o[14]*=r,o[3]*=r,o[7]*=r,o[11]*=r,o[15]*=r,this}determinant(){const r=this.elements,o=r[0],f=r[4],y=r[8],w=r[12],B=r[1],k=r[5],G=r[9],H=r[13],Z=r[2],nt=r[6],rt=r[10],at=r[14],ct=r[3],yt=r[7],ft=r[11],st=r[15];return ct*(+w*G*nt-y*H*nt-w*k*rt+f*H*rt+y*k*at-f*G*at)+yt*(+o*G*at-o*H*rt+w*B*rt-y*B*at+y*H*Z-w*G*Z)+ft*(+o*H*nt-o*k*at-w*B*nt+f*B*at+w*k*Z-f*H*Z)+st*(-y*k*Z-o*G*nt+o*k*rt+y*B*nt-f*B*rt+f*G*Z)}transpose(){const r=this.elements;let o;return o=r[1],r[1]=r[4],r[4]=o,o=r[2],r[2]=r[8],r[8]=o,o=r[6],r[6]=r[9],r[9]=o,o=r[3],r[3]=r[12],r[12]=o,o=r[7],r[7]=r[13],r[13]=o,o=r[11],r[11]=r[14],r[14]=o,this}setPosition(r,o,f){const y=this.elements;return r.isVector3?(y[12]=r.x,y[13]=r.y,y[14]=r.z):(y[12]=r,y[13]=o,y[14]=f),this}invert(){const r=this.elements,o=r[0],f=r[1],y=r[2],w=r[3],B=r[4],k=r[5],G=r[6],H=r[7],Z=r[8],nt=r[9],rt=r[10],at=r[11],ct=r[12],yt=r[13],ft=r[14],st=r[15],Gt=nt*ft*H-yt*rt*H+yt*G*at-k*ft*at-nt*G*st+k*rt*st,$t=ct*rt*H-Z*ft*H-ct*G*at+B*ft*at+Z*G*st-B*rt*st,Lt=Z*yt*H-ct*nt*H+ct*k*at-B*yt*at-Z*k*st+B*nt*st,pe=ct*nt*G-Z*yt*G-ct*k*rt+B*yt*rt+Z*k*ft-B*nt*ft,ne=o*Gt+f*$t+y*Lt+w*pe;if(ne===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const oe=1/ne;return r[0]=Gt*oe,r[1]=(yt*rt*w-nt*ft*w-yt*y*at+f*ft*at+nt*y*st-f*rt*st)*oe,r[2]=(k*ft*w-yt*G*w+yt*y*H-f*ft*H-k*y*st+f*G*st)*oe,r[3]=(nt*G*w-k*rt*w-nt*y*H+f*rt*H+k*y*at-f*G*at)*oe,r[4]=$t*oe,r[5]=(Z*ft*w-ct*rt*w+ct*y*at-o*ft*at-Z*y*st+o*rt*st)*oe,r[6]=(ct*G*w-B*ft*w-ct*y*H+o*ft*H+B*y*st-o*G*st)*oe,r[7]=(B*rt*w-Z*G*w+Z*y*H-o*rt*H-B*y*at+o*G*at)*oe,r[8]=Lt*oe,r[9]=(ct*nt*w-Z*yt*w-ct*f*at+o*yt*at+Z*f*st-o*nt*st)*oe,r[10]=(B*yt*w-ct*k*w+ct*f*H-o*yt*H-B*f*st+o*k*st)*oe,r[11]=(Z*k*w-B*nt*w-Z*f*H+o*nt*H+B*f*at-o*k*at)*oe,r[12]=pe*oe,r[13]=(Z*yt*y-ct*nt*y+ct*f*rt-o*yt*rt-Z*f*ft+o*nt*ft)*oe,r[14]=(ct*k*y-B*yt*y-ct*f*G+o*yt*G+B*f*ft-o*k*ft)*oe,r[15]=(B*nt*y-Z*k*y+Z*f*G-o*nt*G-B*f*rt+o*k*rt)*oe,this}scale(r){const o=this.elements,f=r.x,y=r.y,w=r.z;return o[0]*=f,o[4]*=y,o[8]*=w,o[1]*=f,o[5]*=y,o[9]*=w,o[2]*=f,o[6]*=y,o[10]*=w,o[3]*=f,o[7]*=y,o[11]*=w,this}getMaxScaleOnAxis(){const r=this.elements,o=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],f=r[4]*r[4]+r[5]*r[5]+r[6]*r[6],y=r[8]*r[8]+r[9]*r[9]+r[10]*r[10];return Math.sqrt(Math.max(o,f,y))}makeTranslation(r,o,f){return r.isVector3?this.set(1,0,0,r.x,0,1,0,r.y,0,0,1,r.z,0,0,0,1):this.set(1,0,0,r,0,1,0,o,0,0,1,f,0,0,0,1),this}makeRotationX(r){const o=Math.cos(r),f=Math.sin(r);return this.set(1,0,0,0,0,o,-f,0,0,f,o,0,0,0,0,1),this}makeRotationY(r){const o=Math.cos(r),f=Math.sin(r);return this.set(o,0,f,0,0,1,0,0,-f,0,o,0,0,0,0,1),this}makeRotationZ(r){const o=Math.cos(r),f=Math.sin(r);return this.set(o,-f,0,0,f,o,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(r,o){const f=Math.cos(o),y=Math.sin(o),w=1-f,B=r.x,k=r.y,G=r.z,H=w*B,Z=w*k;return this.set(H*B+f,H*k-y*G,H*G+y*k,0,H*k+y*G,Z*k+f,Z*G-y*B,0,H*G-y*k,Z*G+y*B,w*G*G+f,0,0,0,0,1),this}makeScale(r,o,f){return this.set(r,0,0,0,0,o,0,0,0,0,f,0,0,0,0,1),this}makeShear(r,o,f,y,w,B){return this.set(1,f,w,0,r,1,B,0,o,y,1,0,0,0,0,1),this}compose(r,o,f){const y=this.elements,w=o._x,B=o._y,k=o._z,G=o._w,H=w+w,Z=B+B,nt=k+k,rt=w*H,at=w*Z,ct=w*nt,yt=B*Z,ft=B*nt,st=k*nt,Gt=G*H,$t=G*Z,Lt=G*nt,pe=f.x,ne=f.y,oe=f.z;return y[0]=(1-(yt+st))*pe,y[1]=(at+Lt)*pe,y[2]=(ct-$t)*pe,y[3]=0,y[4]=(at-Lt)*ne,y[5]=(1-(rt+st))*ne,y[6]=(ft+Gt)*ne,y[7]=0,y[8]=(ct+$t)*oe,y[9]=(ft-Gt)*oe,y[10]=(1-(rt+yt))*oe,y[11]=0,y[12]=r.x,y[13]=r.y,y[14]=r.z,y[15]=1,this}decompose(r,o,f){const y=this.elements;let w=Jo.set(y[0],y[1],y[2]).length();const B=Jo.set(y[4],y[5],y[6]).length(),k=Jo.set(y[8],y[9],y[10]).length();this.determinant()<0&&(w=-w),r.x=y[12],r.y=y[13],r.z=y[14],ys.copy(this);const H=1/w,Z=1/B,nt=1/k;return ys.elements[0]*=H,ys.elements[1]*=H,ys.elements[2]*=H,ys.elements[4]*=Z,ys.elements[5]*=Z,ys.elements[6]*=Z,ys.elements[8]*=nt,ys.elements[9]*=nt,ys.elements[10]*=nt,o.setFromRotationMatrix(ys),f.x=w,f.y=B,f.z=k,this}makePerspective(r,o,f,y,w,B,k=i0){const G=this.elements,H=2*w/(o-r),Z=2*w/(f-y),nt=(o+r)/(o-r),rt=(f+y)/(f-y);let at,ct;if(k===i0)at=-(B+w)/(B-w),ct=-2*B*w/(B-w);else if(k===su)at=-B/(B-w),ct=-B*w/(B-w);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+k);return G[0]=H,G[4]=0,G[8]=nt,G[12]=0,G[1]=0,G[5]=Z,G[9]=rt,G[13]=0,G[2]=0,G[6]=0,G[10]=at,G[14]=ct,G[3]=0,G[7]=0,G[11]=-1,G[15]=0,this}makeOrthographic(r,o,f,y,w,B,k=i0){const G=this.elements,H=1/(o-r),Z=1/(f-y),nt=1/(B-w),rt=(o+r)*H,at=(f+y)*Z;let ct,yt;if(k===i0)ct=(B+w)*nt,yt=-2*nt;else if(k===su)ct=w*nt,yt=-1*nt;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+k);return G[0]=2*H,G[4]=0,G[8]=0,G[12]=-rt,G[1]=0,G[5]=2*Z,G[9]=0,G[13]=-at,G[2]=0,G[6]=0,G[10]=yt,G[14]=-ct,G[3]=0,G[7]=0,G[11]=0,G[15]=1,this}equals(r){const o=this.elements,f=r.elements;for(let y=0;y<16;y++)if(o[y]!==f[y])return!1;return!0}fromArray(r,o=0){for(let f=0;f<16;f++)this.elements[f]=r[f+o];return this}toArray(r=[],o=0){const f=this.elements;return r[o]=f[0],r[o+1]=f[1],r[o+2]=f[2],r[o+3]=f[3],r[o+4]=f[4],r[o+5]=f[5],r[o+6]=f[6],r[o+7]=f[7],r[o+8]=f[8],r[o+9]=f[9],r[o+10]=f[10],r[o+11]=f[11],r[o+12]=f[12],r[o+13]=f[13],r[o+14]=f[14],r[o+15]=f[15],r}}const Jo=new ie,ys=new fn,XU=new ie(0,0,0),YU=new ie(1,1,1),Wl=new ie,e3=new ie,Fs=new ie,ob=new fn,lb=new Br;class Us{constructor(r=0,o=0,f=0,y=Us.DEFAULT_ORDER){this.isEuler=!0,this._x=r,this._y=o,this._z=f,this._order=y}get x(){return this._x}set x(r){this._x=r,this._onChangeCallback()}get y(){return this._y}set y(r){this._y=r,this._onChangeCallback()}get z(){return this._z}set z(r){this._z=r,this._onChangeCallback()}get order(){return this._order}set order(r){this._order=r,this._onChangeCallback()}set(r,o,f,y=this._order){return this._x=r,this._y=o,this._z=f,this._order=y,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(r){return this._x=r._x,this._y=r._y,this._z=r._z,this._order=r._order,this._onChangeCallback(),this}setFromRotationMatrix(r,o=this._order,f=!0){const y=r.elements,w=y[0],B=y[4],k=y[8],G=y[1],H=y[5],Z=y[9],nt=y[2],rt=y[6],at=y[10];switch(o){case"XYZ":this._y=Math.asin(Ea(k,-1,1)),Math.abs(k)<.9999999?(this._x=Math.atan2(-Z,at),this._z=Math.atan2(-B,w)):(this._x=Math.atan2(rt,H),this._z=0);break;case"YXZ":this._x=Math.asin(-Ea(Z,-1,1)),Math.abs(Z)<.9999999?(this._y=Math.atan2(k,at),this._z=Math.atan2(G,H)):(this._y=Math.atan2(-nt,w),this._z=0);break;case"ZXY":this._x=Math.asin(Ea(rt,-1,1)),Math.abs(rt)<.9999999?(this._y=Math.atan2(-nt,at),this._z=Math.atan2(-B,H)):(this._y=0,this._z=Math.atan2(G,w));break;case"ZYX":this._y=Math.asin(-Ea(nt,-1,1)),Math.abs(nt)<.9999999?(this._x=Math.atan2(rt,at),this._z=Math.atan2(G,w)):(this._x=0,this._z=Math.atan2(-B,H));break;case"YZX":this._z=Math.asin(Ea(G,-1,1)),Math.abs(G)<.9999999?(this._x=Math.atan2(-Z,H),this._y=Math.atan2(-nt,w)):(this._x=0,this._y=Math.atan2(k,at));break;case"XZY":this._z=Math.asin(-Ea(B,-1,1)),Math.abs(B)<.9999999?(this._x=Math.atan2(rt,H),this._y=Math.atan2(k,w)):(this._x=Math.atan2(-Z,at),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+o)}return this._order=o,f===!0&&this._onChangeCallback(),this}setFromQuaternion(r,o,f){return ob.makeRotationFromQuaternion(r),this.setFromRotationMatrix(ob,o,f)}setFromVector3(r,o=this._order){return this.set(r.x,r.y,r.z,o)}reorder(r){return lb.setFromEuler(this),this.setFromQuaternion(lb,r)}equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._order===this._order}fromArray(r){return this._x=r[0],this._y=r[1],this._z=r[2],r[3]!==void 0&&(this._order=r[3]),this._onChangeCallback(),this}toArray(r=[],o=0){return r[o]=this._x,r[o+1]=this._y,r[o+2]=this._z,r[o+3]=this._order,r}_onChange(r){return this._onChangeCallback=r,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Us.DEFAULT_ORDER="XYZ";class i3{constructor(){this.mask=1}set(r){this.mask=(1<<r|0)>>>0}enable(r){this.mask|=1<<r|0}enableAll(){this.mask=-1}toggle(r){this.mask^=1<<r|0}disable(r){this.mask&=~(1<<r|0)}disableAll(){this.mask=0}test(r){return(this.mask&r.mask)!==0}isEnabled(r){return(this.mask&(1<<r|0))!==0}}let ZU=0;const cb=new ie,Id=new Br,Wo=new fn,n3=new ie,$f=new ie,t$=new ie,e$=new Br,ub=new ie(1,0,0),db=new ie(0,1,0),hb=new ie(0,0,1),fb={type:"added"},i$={type:"removed"},Bd={type:"childadded",child:null},P6={type:"childremoved",child:null};class Rr extends ns{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ZU++}),this.uuid=rs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Rr.DEFAULT_UP.clone();const r=new ie,o=new Us,f=new Br,y=new ie(1,1,1);function w(){f.setFromEuler(o,!1)}function B(){o.setFromQuaternion(f,void 0,!1)}o._onChange(w),f._onChange(B),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:o},quaternion:{configurable:!0,enumerable:!0,value:f},scale:{configurable:!0,enumerable:!0,value:y},modelViewMatrix:{value:new fn},normalMatrix:{value:new Un}}),this.matrix=new fn,this.matrixWorld=new fn,this.matrixAutoUpdate=Rr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Rr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new i3,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(r){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(r),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(r){return this.quaternion.premultiply(r),this}setRotationFromAxisAngle(r,o){this.quaternion.setFromAxisAngle(r,o)}setRotationFromEuler(r){this.quaternion.setFromEuler(r,!0)}setRotationFromMatrix(r){this.quaternion.setFromRotationMatrix(r)}setRotationFromQuaternion(r){this.quaternion.copy(r)}rotateOnAxis(r,o){return Id.setFromAxisAngle(r,o),this.quaternion.multiply(Id),this}rotateOnWorldAxis(r,o){return Id.setFromAxisAngle(r,o),this.quaternion.premultiply(Id),this}rotateX(r){return this.rotateOnAxis(ub,r)}rotateY(r){return this.rotateOnAxis(db,r)}rotateZ(r){return this.rotateOnAxis(hb,r)}translateOnAxis(r,o){return cb.copy(r).applyQuaternion(this.quaternion),this.position.add(cb.multiplyScalar(o)),this}translateX(r){return this.translateOnAxis(ub,r)}translateY(r){return this.translateOnAxis(db,r)}translateZ(r){return this.translateOnAxis(hb,r)}localToWorld(r){return this.updateWorldMatrix(!0,!1),r.applyMatrix4(this.matrixWorld)}worldToLocal(r){return this.updateWorldMatrix(!0,!1),r.applyMatrix4(Wo.copy(this.matrixWorld).invert())}lookAt(r,o,f){r.isVector3?n3.copy(r):n3.set(r,o,f);const y=this.parent;this.updateWorldMatrix(!0,!1),$f.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Wo.lookAt($f,n3,this.up):Wo.lookAt(n3,$f,this.up),this.quaternion.setFromRotationMatrix(Wo),y&&(Wo.extractRotation(y.matrixWorld),Id.setFromRotationMatrix(Wo),this.quaternion.premultiply(Id.invert()))}add(r){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.add(arguments[o]);return this}return r===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",r),this):(r&&r.isObject3D?(r.removeFromParent(),r.parent=this,this.children.push(r),r.dispatchEvent(fb),Bd.child=r,this.dispatchEvent(Bd),Bd.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",r),this)}remove(r){if(arguments.length>1){for(let f=0;f<arguments.length;f++)this.remove(arguments[f]);return this}const o=this.children.indexOf(r);return o!==-1&&(r.parent=null,this.children.splice(o,1),r.dispatchEvent(i$),P6.child=r,this.dispatchEvent(P6),P6.child=null),this}removeFromParent(){const r=this.parent;return r!==null&&r.remove(this),this}clear(){return this.remove(...this.children)}attach(r){return this.updateWorldMatrix(!0,!1),Wo.copy(this.matrixWorld).invert(),r.parent!==null&&(r.parent.updateWorldMatrix(!0,!1),Wo.multiply(r.parent.matrixWorld)),r.applyMatrix4(Wo),r.removeFromParent(),r.parent=this,this.children.push(r),r.updateWorldMatrix(!1,!0),r.dispatchEvent(fb),Bd.child=r,this.dispatchEvent(Bd),Bd.child=null,this}getObjectById(r){return this.getObjectByProperty("id",r)}getObjectByName(r){return this.getObjectByProperty("name",r)}getObjectByProperty(r,o){if(this[r]===o)return this;for(let f=0,y=this.children.length;f<y;f++){const B=this.children[f].getObjectByProperty(r,o);if(B!==void 0)return B}}getObjectsByProperty(r,o,f=[]){this[r]===o&&f.push(this);const y=this.children;for(let w=0,B=y.length;w<B;w++)y[w].getObjectsByProperty(r,o,f);return f}getWorldPosition(r){return this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(r){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($f,r,t$),r}getWorldScale(r){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($f,e$,r),r}getWorldDirection(r){this.updateWorldMatrix(!0,!1);const o=this.matrixWorld.elements;return r.set(o[8],o[9],o[10]).normalize()}raycast(){}traverse(r){r(this);const o=this.children;for(let f=0,y=o.length;f<y;f++)o[f].traverse(r)}traverseVisible(r){if(this.visible===!1)return;r(this);const o=this.children;for(let f=0,y=o.length;f<y;f++)o[f].traverseVisible(r)}traverseAncestors(r){const o=this.parent;o!==null&&(r(o),o.traverseAncestors(r))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(r){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||r)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,r=!0);const o=this.children;for(let f=0,y=o.length;f<y;f++){const w=o[f];(w.matrixWorldAutoUpdate===!0||r===!0)&&w.updateMatrixWorld(r)}}updateWorldMatrix(r,o){const f=this.parent;if(r===!0&&f!==null&&f.matrixWorldAutoUpdate===!0&&f.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),o===!0){const y=this.children;for(let w=0,B=y.length;w<B;w++){const k=y[w];k.matrixWorldAutoUpdate===!0&&k.updateWorldMatrix(!1,!0)}}}toJSON(r){const o=r===void 0||typeof r=="string",f={};o&&(r={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},f.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const y={};y.uuid=this.uuid,y.type=this.type,this.name!==""&&(y.name=this.name),this.castShadow===!0&&(y.castShadow=!0),this.receiveShadow===!0&&(y.receiveShadow=!0),this.visible===!1&&(y.visible=!1),this.frustumCulled===!1&&(y.frustumCulled=!1),this.renderOrder!==0&&(y.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(y.userData=this.userData),y.layers=this.layers.mask,y.matrix=this.matrix.toArray(),y.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(y.matrixAutoUpdate=!1),this.isInstancedMesh&&(y.type="InstancedMesh",y.count=this.count,y.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(y.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(y.type="BatchedMesh",y.perObjectFrustumCulled=this.perObjectFrustumCulled,y.sortObjects=this.sortObjects,y.drawRanges=this._drawRanges,y.reservedRanges=this._reservedRanges,y.visibility=this._visibility,y.active=this._active,y.bounds=this._bounds.map(k=>({boxInitialized:k.boxInitialized,boxMin:k.box.min.toArray(),boxMax:k.box.max.toArray(),sphereInitialized:k.sphereInitialized,sphereRadius:k.sphere.radius,sphereCenter:k.sphere.center.toArray()})),y.maxGeometryCount=this._maxGeometryCount,y.maxVertexCount=this._maxVertexCount,y.maxIndexCount=this._maxIndexCount,y.geometryInitialized=this._geometryInitialized,y.geometryCount=this._geometryCount,y.matricesTexture=this._matricesTexture.toJSON(r),this.boundingSphere!==null&&(y.boundingSphere={center:y.boundingSphere.center.toArray(),radius:y.boundingSphere.radius}),this.boundingBox!==null&&(y.boundingBox={min:y.boundingBox.min.toArray(),max:y.boundingBox.max.toArray()}));function w(k,G){return k[G.uuid]===void 0&&(k[G.uuid]=G.toJSON(r)),G.uuid}if(this.isScene)this.background&&(this.background.isColor?y.background=this.background.toJSON():this.background.isTexture&&(y.background=this.background.toJSON(r).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(y.environment=this.environment.toJSON(r).uuid);else if(this.isMesh||this.isLine||this.isPoints){y.geometry=w(r.geometries,this.geometry);const k=this.geometry.parameters;if(k!==void 0&&k.shapes!==void 0){const G=k.shapes;if(Array.isArray(G))for(let H=0,Z=G.length;H<Z;H++){const nt=G[H];w(r.shapes,nt)}else w(r.shapes,G)}}if(this.isSkinnedMesh&&(y.bindMode=this.bindMode,y.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(w(r.skeletons,this.skeleton),y.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const k=[];for(let G=0,H=this.material.length;G<H;G++)k.push(w(r.materials,this.material[G]));y.material=k}else y.material=w(r.materials,this.material);if(this.children.length>0){y.children=[];for(let k=0;k<this.children.length;k++)y.children.push(this.children[k].toJSON(r).object)}if(this.animations.length>0){y.animations=[];for(let k=0;k<this.animations.length;k++){const G=this.animations[k];y.animations.push(w(r.animations,G))}}if(o){const k=B(r.geometries),G=B(r.materials),H=B(r.textures),Z=B(r.images),nt=B(r.shapes),rt=B(r.skeletons),at=B(r.animations),ct=B(r.nodes);k.length>0&&(f.geometries=k),G.length>0&&(f.materials=G),H.length>0&&(f.textures=H),Z.length>0&&(f.images=Z),nt.length>0&&(f.shapes=nt),rt.length>0&&(f.skeletons=rt),at.length>0&&(f.animations=at),ct.length>0&&(f.nodes=ct)}return f.object=y,f;function B(k){const G=[];for(const H in k){const Z=k[H];delete Z.metadata,G.push(Z)}return G}}clone(r){return new this.constructor().copy(this,r)}copy(r,o=!0){if(this.name=r.name,this.up.copy(r.up),this.position.copy(r.position),this.rotation.order=r.rotation.order,this.quaternion.copy(r.quaternion),this.scale.copy(r.scale),this.matrix.copy(r.matrix),this.matrixWorld.copy(r.matrixWorld),this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrixWorldAutoUpdate=r.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=r.matrixWorldNeedsUpdate,this.layers.mask=r.layers.mask,this.visible=r.visible,this.castShadow=r.castShadow,this.receiveShadow=r.receiveShadow,this.frustumCulled=r.frustumCulled,this.renderOrder=r.renderOrder,this.animations=r.animations.slice(),this.userData=JSON.parse(JSON.stringify(r.userData)),o===!0)for(let f=0;f<r.children.length;f++){const y=r.children[f];this.add(y.clone())}return this}}Rr.DEFAULT_UP=new ie(0,1,0),Rr.DEFAULT_MATRIX_AUTO_UPDATE=!0,Rr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const O0=new ie,qo=new ie,L6=new ie,Ko=new ie,Rd=new ie,Dd=new ie,mb=new ie,k6=new ie,N6=new ie,F6=new ie;class $s{constructor(r=new ie,o=new ie,f=new ie){this.a=r,this.b=o,this.c=f}static getNormal(r,o,f,y){y.subVectors(f,o),O0.subVectors(r,o),y.cross(O0);const w=y.lengthSq();return w>0?y.multiplyScalar(1/Math.sqrt(w)):y.set(0,0,0)}static getBarycoord(r,o,f,y,w){O0.subVectors(y,o),qo.subVectors(f,o),L6.subVectors(r,o);const B=O0.dot(O0),k=O0.dot(qo),G=O0.dot(L6),H=qo.dot(qo),Z=qo.dot(L6),nt=B*H-k*k;if(nt===0)return w.set(0,0,0),null;const rt=1/nt,at=(H*G-k*Z)*rt,ct=(B*Z-k*G)*rt;return w.set(1-at-ct,ct,at)}static containsPoint(r,o,f,y){return this.getBarycoord(r,o,f,y,Ko)===null?!1:Ko.x>=0&&Ko.y>=0&&Ko.x+Ko.y<=1}static getInterpolation(r,o,f,y,w,B,k,G){return this.getBarycoord(r,o,f,y,Ko)===null?(G.x=0,G.y=0,"z"in G&&(G.z=0),"w"in G&&(G.w=0),null):(G.setScalar(0),G.addScaledVector(w,Ko.x),G.addScaledVector(B,Ko.y),G.addScaledVector(k,Ko.z),G)}static isFrontFacing(r,o,f,y){return O0.subVectors(f,o),qo.subVectors(r,o),O0.cross(qo).dot(y)<0}set(r,o,f){return this.a.copy(r),this.b.copy(o),this.c.copy(f),this}setFromPointsAndIndices(r,o,f,y){return this.a.copy(r[o]),this.b.copy(r[f]),this.c.copy(r[y]),this}setFromAttributeAndIndices(r,o,f,y){return this.a.fromBufferAttribute(r,o),this.b.fromBufferAttribute(r,f),this.c.fromBufferAttribute(r,y),this}clone(){return new this.constructor().copy(this)}copy(r){return this.a.copy(r.a),this.b.copy(r.b),this.c.copy(r.c),this}getArea(){return O0.subVectors(this.c,this.b),qo.subVectors(this.a,this.b),O0.cross(qo).length()*.5}getMidpoint(r){return r.addVectors(this.a,this.b).add(this.c).multiplyScalar(.3333333333333333)}getNormal(r){return $s.getNormal(this.a,this.b,this.c,r)}getPlane(r){return r.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(r,o){return $s.getBarycoord(r,this.a,this.b,this.c,o)}getInterpolation(r,o,f,y,w){return $s.getInterpolation(r,this.a,this.b,this.c,o,f,y,w)}containsPoint(r){return $s.containsPoint(r,this.a,this.b,this.c)}isFrontFacing(r){return $s.isFrontFacing(this.a,this.b,this.c,r)}intersectsBox(r){return r.intersectsTriangle(this)}closestPointToPoint(r,o){const f=this.a,y=this.b,w=this.c;let B,k;Rd.subVectors(y,f),Dd.subVectors(w,f),k6.subVectors(r,f);const G=Rd.dot(k6),H=Dd.dot(k6);if(G<=0&&H<=0)return o.copy(f);N6.subVectors(r,y);const Z=Rd.dot(N6),nt=Dd.dot(N6);if(Z>=0&&nt<=Z)return o.copy(y);const rt=G*nt-Z*H;if(rt<=0&&G>=0&&Z<=0)return B=G/(G-Z),o.copy(f).addScaledVector(Rd,B);F6.subVectors(r,w);const at=Rd.dot(F6),ct=Dd.dot(F6);if(ct>=0&&at<=ct)return o.copy(w);const yt=at*H-G*ct;if(yt<=0&&H>=0&&ct<=0)return k=H/(H-ct),o.copy(f).addScaledVector(Dd,k);const ft=Z*ct-at*nt;if(ft<=0&&nt-Z>=0&&at-ct>=0)return mb.subVectors(w,y),k=(nt-Z)/(nt-Z+(at-ct)),o.copy(y).addScaledVector(mb,k);const st=1/(ft+yt+rt);return B=yt*st,k=rt*st,o.copy(f).addScaledVector(Rd,B).addScaledVector(Dd,k)}equals(r){return r.a.equals(this.a)&&r.b.equals(this.b)&&r.c.equals(this.c)}}const pb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ql={h:0,s:0,l:0},r3={h:0,s:0,l:0};function U6(S,r,o){return o<0&&(o+=1),o>1&&(o-=1),o<.16666666666666666?S+(r-S)*6*o:o<.5?r:o<.6666666666666666?S+(r-S)*6*(.6666666666666666-o):S}class an{constructor(r,o,f){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(r,o,f)}set(r,o,f){if(o===void 0&&f===void 0){const y=r;y&&y.isColor?this.copy(y):typeof y=="number"?this.setHex(y):typeof y=="string"&&this.setStyle(y)}else this.setRGB(r,o,f);return this}setScalar(r){return this.r=r,this.g=r,this.b=r,this}setHex(r,o=Er){return r=Math.floor(r),this.r=(r>>16&255)/255,this.g=(r>>8&255)/255,this.b=(r&255)/255,Nr.toWorkingColorSpace(this,o),this}setRGB(r,o,f,y=Nr.workingColorSpace){return this.r=r,this.g=o,this.b=f,Nr.toWorkingColorSpace(this,y),this}setHSL(r,o,f,y=Nr.workingColorSpace){if(r=Lf(r,1),o=Ea(o,0,1),f=Ea(f,0,1),o===0)this.r=this.g=this.b=f;else{const w=f<=.5?f*(1+o):f+o-f*o,B=2*f-w;this.r=U6(B,w,r+.3333333333333333),this.g=U6(B,w,r),this.b=U6(B,w,r-.3333333333333333)}return Nr.toWorkingColorSpace(this,y),this}setStyle(r,o=Er){function f(w){w!==void 0&&parseFloat(w)<1&&console.warn("THREE.Color: Alpha component of "+r+" will be ignored.")}let y;if(y=/^(\w+)\(([^\)]*)\)/.exec(r)){let w;const B=y[1],k=y[2];switch(B){case"rgb":case"rgba":if(w=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(k))return f(w[4]),this.setRGB(Math.min(255,parseInt(w[1],10))/255,Math.min(255,parseInt(w[2],10))/255,Math.min(255,parseInt(w[3],10))/255,o);if(w=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(k))return f(w[4]),this.setRGB(Math.min(100,parseInt(w[1],10))/100,Math.min(100,parseInt(w[2],10))/100,Math.min(100,parseInt(w[3],10))/100,o);break;case"hsl":case"hsla":if(w=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(k))return f(w[4]),this.setHSL(parseFloat(w[1])/360,parseFloat(w[2])/100,parseFloat(w[3])/100,o);break;default:console.warn("THREE.Color: Unknown color model "+r)}}else if(y=/^\#([A-Fa-f\d]+)$/.exec(r)){const w=y[1],B=w.length;if(B===3)return this.setRGB(parseInt(w.charAt(0),16)/15,parseInt(w.charAt(1),16)/15,parseInt(w.charAt(2),16)/15,o);if(B===6)return this.setHex(parseInt(w,16),o);console.warn("THREE.Color: Invalid hex color "+r)}else if(r&&r.length>0)return this.setColorName(r,o);return this}setColorName(r,o=Er){const f=pb[r.toLowerCase()];return f!==void 0?this.setHex(f,o):console.warn("THREE.Color: Unknown color "+r),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(r){return this.r=r.r,this.g=r.g,this.b=r.b,this}copySRGBToLinear(r){return this.r=zl(r.r),this.g=zl(r.g),this.b=zl(r.b),this}copyLinearToSRGB(r){return this.r=Nf(r.r),this.g=Nf(r.g),this.b=Nf(r.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(r=Er){return Nr.fromWorkingColorSpace(V9.copy(this),r),Math.round(Ea(V9.r*255,0,255))*65536+Math.round(Ea(V9.g*255,0,255))*256+Math.round(Ea(V9.b*255,0,255))}getHexString(r=Er){return("000000"+this.getHex(r).toString(16)).slice(-6)}getHSL(r,o=Nr.workingColorSpace){Nr.fromWorkingColorSpace(V9.copy(this),o);const f=V9.r,y=V9.g,w=V9.b,B=Math.max(f,y,w),k=Math.min(f,y,w);let G,H;const Z=(k+B)/2;if(k===B)G=0,H=0;else{const nt=B-k;switch(H=Z<=.5?nt/(B+k):nt/(2-B-k),B){case f:G=(y-w)/nt+(y<w?6:0);break;case y:G=(w-f)/nt+2;break;case w:G=(f-y)/nt+4;break}G/=6}return r.h=G,r.s=H,r.l=Z,r}getRGB(r,o=Nr.workingColorSpace){return Nr.fromWorkingColorSpace(V9.copy(this),o),r.r=V9.r,r.g=V9.g,r.b=V9.b,r}getStyle(r=Er){Nr.fromWorkingColorSpace(V9.copy(this),r);const o=V9.r,f=V9.g,y=V9.b;return r!==Er?`color(${r} ${o.toFixed(3)} ${f.toFixed(3)} ${y.toFixed(3)})`:`rgb(${Math.round(o*255)},${Math.round(f*255)},${Math.round(y*255)})`}offsetHSL(r,o,f){return this.getHSL(ql),this.setHSL(ql.h+r,ql.s+o,ql.l+f)}add(r){return this.r+=r.r,this.g+=r.g,this.b+=r.b,this}addColors(r,o){return this.r=r.r+o.r,this.g=r.g+o.g,this.b=r.b+o.b,this}addScalar(r){return this.r+=r,this.g+=r,this.b+=r,this}sub(r){return this.r=Math.max(0,this.r-r.r),this.g=Math.max(0,this.g-r.g),this.b=Math.max(0,this.b-r.b),this}multiply(r){return this.r*=r.r,this.g*=r.g,this.b*=r.b,this}multiplyScalar(r){return this.r*=r,this.g*=r,this.b*=r,this}lerp(r,o){return this.r+=(r.r-this.r)*o,this.g+=(r.g-this.g)*o,this.b+=(r.b-this.b)*o,this}lerpColors(r,o,f){return this.r=r.r+(o.r-r.r)*f,this.g=r.g+(o.g-r.g)*f,this.b=r.b+(o.b-r.b)*f,this}lerpHSL(r,o){this.getHSL(ql),r.getHSL(r3);const f=ou(ql.h,r3.h,o),y=ou(ql.s,r3.s,o),w=ou(ql.l,r3.l,o);return this.setHSL(f,y,w),this}setFromVector3(r){return this.r=r.x,this.g=r.y,this.b=r.z,this}applyMatrix3(r){const o=this.r,f=this.g,y=this.b,w=r.elements;return this.r=w[0]*o+w[3]*f+w[6]*y,this.g=w[1]*o+w[4]*f+w[7]*y,this.b=w[2]*o+w[5]*f+w[8]*y,this}equals(r){return r.r===this.r&&r.g===this.g&&r.b===this.b}fromArray(r,o=0){return this.r=r[o],this.g=r[o+1],this.b=r[o+2],this}toArray(r=[],o=0){return r[o]=this.r,r[o+1]=this.g,r[o+2]=this.b,r}fromBufferAttribute(r,o){return this.r=r.getX(o),this.g=r.getY(o),this.b=r.getZ(o),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const V9=new an;an.NAMES=pb;let n$=0;class H9 extends ns{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:n$++}),this.uuid=rs(),this.name="",this.type="Material",this.blending=D,this.side=C,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=et,this.blendDst=mt,this.blendEquation=$,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new an(0,0,0),this.blendAlpha=0,this.depthFunc=Xt,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Rf,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ho,this.stencilZFail=Ho,this.stencilZPass=Ho,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(r){this._alphaTest>0!=r>0&&this.version++,this._alphaTest=r}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(r){if(r!==void 0)for(const o in r){const f=r[o];if(f===void 0){console.warn(`THREE.Material: parameter '${o}' has value of undefined.`);continue}const y=this[o];if(y===void 0){console.warn(`THREE.Material: '${o}' is not a property of THREE.${this.type}.`);continue}y&&y.isColor?y.set(f):y&&y.isVector3&&f&&f.isVector3?y.copy(f):this[o]=f}}toJSON(r){const o=r===void 0||typeof r=="string";o&&(r={textures:{},images:{}});const f={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};f.uuid=this.uuid,f.type=this.type,this.name!==""&&(f.name=this.name),this.color&&this.color.isColor&&(f.color=this.color.getHex()),this.roughness!==void 0&&(f.roughness=this.roughness),this.metalness!==void 0&&(f.metalness=this.metalness),this.sheen!==void 0&&(f.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(f.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(f.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(f.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(f.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(f.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(f.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(f.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(f.shininess=this.shininess),this.clearcoat!==void 0&&(f.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(f.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(f.clearcoatMap=this.clearcoatMap.toJSON(r).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(f.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(r).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(f.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(r).uuid,f.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(f.dispersion=this.dispersion),this.iridescence!==void 0&&(f.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(f.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(f.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(f.iridescenceMap=this.iridescenceMap.toJSON(r).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(f.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(r).uuid),this.anisotropy!==void 0&&(f.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(f.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(f.anisotropyMap=this.anisotropyMap.toJSON(r).uuid),this.map&&this.map.isTexture&&(f.map=this.map.toJSON(r).uuid),this.matcap&&this.matcap.isTexture&&(f.matcap=this.matcap.toJSON(r).uuid),this.alphaMap&&this.alphaMap.isTexture&&(f.alphaMap=this.alphaMap.toJSON(r).uuid),this.lightMap&&this.lightMap.isTexture&&(f.lightMap=this.lightMap.toJSON(r).uuid,f.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(f.aoMap=this.aoMap.toJSON(r).uuid,f.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(f.bumpMap=this.bumpMap.toJSON(r).uuid,f.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(f.normalMap=this.normalMap.toJSON(r).uuid,f.normalMapType=this.normalMapType,f.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(f.displacementMap=this.displacementMap.toJSON(r).uuid,f.displacementScale=this.displacementScale,f.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(f.roughnessMap=this.roughnessMap.toJSON(r).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(f.metalnessMap=this.metalnessMap.toJSON(r).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(f.emissiveMap=this.emissiveMap.toJSON(r).uuid),this.specularMap&&this.specularMap.isTexture&&(f.specularMap=this.specularMap.toJSON(r).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(f.specularIntensityMap=this.specularIntensityMap.toJSON(r).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(f.specularColorMap=this.specularColorMap.toJSON(r).uuid),this.envMap&&this.envMap.isTexture&&(f.envMap=this.envMap.toJSON(r).uuid,this.combine!==void 0&&(f.combine=this.combine)),this.envMapRotation!==void 0&&(f.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(f.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(f.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(f.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(f.gradientMap=this.gradientMap.toJSON(r).uuid),this.transmission!==void 0&&(f.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(f.transmissionMap=this.transmissionMap.toJSON(r).uuid),this.thickness!==void 0&&(f.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(f.thicknessMap=this.thicknessMap.toJSON(r).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(f.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(f.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(f.size=this.size),this.shadowSide!==null&&(f.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(f.sizeAttenuation=this.sizeAttenuation),this.blending!==D&&(f.blending=this.blending),this.side!==C&&(f.side=this.side),this.vertexColors===!0&&(f.vertexColors=!0),this.opacity<1&&(f.opacity=this.opacity),this.transparent===!0&&(f.transparent=!0),this.blendSrc!==et&&(f.blendSrc=this.blendSrc),this.blendDst!==mt&&(f.blendDst=this.blendDst),this.blendEquation!==$&&(f.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(f.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(f.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(f.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(f.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(f.blendAlpha=this.blendAlpha),this.depthFunc!==Xt&&(f.depthFunc=this.depthFunc),this.depthTest===!1&&(f.depthTest=this.depthTest),this.depthWrite===!1&&(f.depthWrite=this.depthWrite),this.colorWrite===!1&&(f.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(f.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Rf&&(f.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(f.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(f.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ho&&(f.stencilFail=this.stencilFail),this.stencilZFail!==Ho&&(f.stencilZFail=this.stencilZFail),this.stencilZPass!==Ho&&(f.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(f.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(f.rotation=this.rotation),this.polygonOffset===!0&&(f.polygonOffset=!0),this.polygonOffsetFactor!==0&&(f.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(f.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(f.linewidth=this.linewidth),this.dashSize!==void 0&&(f.dashSize=this.dashSize),this.gapSize!==void 0&&(f.gapSize=this.gapSize),this.scale!==void 0&&(f.scale=this.scale),this.dithering===!0&&(f.dithering=!0),this.alphaTest>0&&(f.alphaTest=this.alphaTest),this.alphaHash===!0&&(f.alphaHash=!0),this.alphaToCoverage===!0&&(f.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(f.premultipliedAlpha=!0),this.forceSinglePass===!0&&(f.forceSinglePass=!0),this.wireframe===!0&&(f.wireframe=!0),this.wireframeLinewidth>1&&(f.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(f.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(f.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(f.flatShading=!0),this.visible===!1&&(f.visible=!1),this.toneMapped===!1&&(f.toneMapped=!1),this.fog===!1&&(f.fog=!1),Object.keys(this.userData).length>0&&(f.userData=this.userData);function y(w){const B=[];for(const k in w){const G=w[k];delete G.metadata,B.push(G)}return B}if(o){const w=y(r.textures),B=y(r.images);w.length>0&&(f.textures=w),B.length>0&&(f.images=B)}return f}clone(){return new this.constructor().copy(this)}copy(r){this.name=r.name,this.blending=r.blending,this.side=r.side,this.vertexColors=r.vertexColors,this.opacity=r.opacity,this.transparent=r.transparent,this.blendSrc=r.blendSrc,this.blendDst=r.blendDst,this.blendEquation=r.blendEquation,this.blendSrcAlpha=r.blendSrcAlpha,this.blendDstAlpha=r.blendDstAlpha,this.blendEquationAlpha=r.blendEquationAlpha,this.blendColor.copy(r.blendColor),this.blendAlpha=r.blendAlpha,this.depthFunc=r.depthFunc,this.depthTest=r.depthTest,this.depthWrite=r.depthWrite,this.stencilWriteMask=r.stencilWriteMask,this.stencilFunc=r.stencilFunc,this.stencilRef=r.stencilRef,this.stencilFuncMask=r.stencilFuncMask,this.stencilFail=r.stencilFail,this.stencilZFail=r.stencilZFail,this.stencilZPass=r.stencilZPass,this.stencilWrite=r.stencilWrite;const o=r.clippingPlanes;let f=null;if(o!==null){const y=o.length;f=new Array(y);for(let w=0;w!==y;++w)f[w]=o[w].clone()}return this.clippingPlanes=f,this.clipIntersection=r.clipIntersection,this.clipShadows=r.clipShadows,this.shadowSide=r.shadowSide,this.colorWrite=r.colorWrite,this.precision=r.precision,this.polygonOffset=r.polygonOffset,this.polygonOffsetFactor=r.polygonOffsetFactor,this.polygonOffsetUnits=r.polygonOffsetUnits,this.dithering=r.dithering,this.alphaTest=r.alphaTest,this.alphaHash=r.alphaHash,this.alphaToCoverage=r.alphaToCoverage,this.premultipliedAlpha=r.premultipliedAlpha,this.forceSinglePass=r.forceSinglePass,this.visible=r.visible,this.toneMapped=r.toneMapped,this.userData=JSON.parse(JSON.stringify(r.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(r){r===!0&&this.version++}}class Kl extends H9{constructor(r){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new an(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Us,this.combine=ai,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.fog=r.fog,this}}const Xo=r$();function r$(){const S=new ArrayBuffer(4),r=new Float32Array(S),o=new Uint32Array(S),f=new Uint32Array(512),y=new Uint32Array(512);for(let G=0;G<256;++G){const H=G-127;H<-27?(f[G]=0,f[G|256]=32768,y[G]=24,y[G|256]=24):H<-14?(f[G]=1024>>-H-14,f[G|256]=1024>>-H-14|32768,y[G]=-H-1,y[G|256]=-H-1):H<=15?(f[G]=H+15<<10,f[G|256]=H+15<<10|32768,y[G]=13,y[G|256]=13):H<128?(f[G]=31744,f[G|256]=64512,y[G]=24,y[G|256]=24):(f[G]=31744,f[G|256]=64512,y[G]=13,y[G|256]=13)}const w=new Uint32Array(2048),B=new Uint32Array(64),k=new Uint32Array(64);for(let G=1;G<1024;++G){let H=G<<13,Z=0;for(;!(H&8388608);)H<<=1,Z-=8388608;H&=-8388609,Z+=947912704,w[G]=H|Z}for(let G=1024;G<2048;++G)w[G]=939524096+(G-1024<<13);for(let G=1;G<31;++G)B[G]=G<<23;B[31]=1199570944,B[32]=2147483648;for(let G=33;G<63;++G)B[G]=2147483648+(G-32<<23);B[63]=3347054592;for(let G=1;G<64;++G)G!==32&&(k[G]=1024);return{floatView:r,uint32View:o,baseTable:f,shiftTable:y,mantissaTable:w,exponentTable:B,offsetTable:k}}function vs(S){Math.abs(S)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),S=Ea(S,-65504,65504),Xo.floatView[0]=S;const r=Xo.uint32View[0],o=r>>23&511;return Xo.baseTable[o]+((r&8388607)>>Xo.shiftTable[o])}function Gf(S){const r=S>>10;return Xo.uint32View[0]=Xo.mantissaTable[Xo.offsetTable[r]+(S&1023)]+Xo.exponentTable[r],Xo.floatView[0]}const a$={toHalfFloat:vs,fromHalfFloat:Gf},Ya=new ie,a3=new mi;class Jr{constructor(r,o,f=!1){if(Array.isArray(r))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=r,this.itemSize=o,this.count=r!==void 0?r.length/o:0,this.normalized=f,this.usage=au,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=si,this.version=0}onUploadCallback(){}set needsUpdate(r){r===!0&&this.version++}get updateRange(){return Km("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(r){return this.usage=r,this}addUpdateRange(r,o){this.updateRanges.push({start:r,count:o})}clearUpdateRanges(){this.updateRanges.length=0}copy(r){return this.name=r.name,this.array=new r.array.constructor(r.array),this.itemSize=r.itemSize,this.count=r.count,this.normalized=r.normalized,this.usage=r.usage,this.gpuType=r.gpuType,this}copyAt(r,o,f){r*=this.itemSize,f*=o.itemSize;for(let y=0,w=this.itemSize;y<w;y++)this.array[r+y]=o.array[f+y];return this}copyArray(r){return this.array.set(r),this}applyMatrix3(r){if(this.itemSize===2)for(let o=0,f=this.count;o<f;o++)a3.fromBufferAttribute(this,o),a3.applyMatrix3(r),this.setXY(o,a3.x,a3.y);else if(this.itemSize===3)for(let o=0,f=this.count;o<f;o++)Ya.fromBufferAttribute(this,o),Ya.applyMatrix3(r),this.setXYZ(o,Ya.x,Ya.y,Ya.z);return this}applyMatrix4(r){for(let o=0,f=this.count;o<f;o++)Ya.fromBufferAttribute(this,o),Ya.applyMatrix4(r),this.setXYZ(o,Ya.x,Ya.y,Ya.z);return this}applyNormalMatrix(r){for(let o=0,f=this.count;o<f;o++)Ya.fromBufferAttribute(this,o),Ya.applyNormalMatrix(r),this.setXYZ(o,Ya.x,Ya.y,Ya.z);return this}transformDirection(r){for(let o=0,f=this.count;o<f;o++)Ya.fromBufferAttribute(this,o),Ya.transformDirection(r),this.setXYZ(o,Ya.x,Ya.y,Ya.z);return this}set(r,o=0){return this.array.set(r,o),this}getComponent(r,o){let f=this.array[r*this.itemSize+o];return this.normalized&&(f=R9(f,this.array)),f}setComponent(r,o,f){return this.normalized&&(f=Hn(f,this.array)),this.array[r*this.itemSize+o]=f,this}getX(r){let o=this.array[r*this.itemSize];return this.normalized&&(o=R9(o,this.array)),o}setX(r,o){return this.normalized&&(o=Hn(o,this.array)),this.array[r*this.itemSize]=o,this}getY(r){let o=this.array[r*this.itemSize+1];return this.normalized&&(o=R9(o,this.array)),o}setY(r,o){return this.normalized&&(o=Hn(o,this.array)),this.array[r*this.itemSize+1]=o,this}getZ(r){let o=this.array[r*this.itemSize+2];return this.normalized&&(o=R9(o,this.array)),o}setZ(r,o){return this.normalized&&(o=Hn(o,this.array)),this.array[r*this.itemSize+2]=o,this}getW(r){let o=this.array[r*this.itemSize+3];return this.normalized&&(o=R9(o,this.array)),o}setW(r,o){return this.normalized&&(o=Hn(o,this.array)),this.array[r*this.itemSize+3]=o,this}setXY(r,o,f){return r*=this.itemSize,this.normalized&&(o=Hn(o,this.array),f=Hn(f,this.array)),this.array[r+0]=o,this.array[r+1]=f,this}setXYZ(r,o,f,y){return r*=this.itemSize,this.normalized&&(o=Hn(o,this.array),f=Hn(f,this.array),y=Hn(y,this.array)),this.array[r+0]=o,this.array[r+1]=f,this.array[r+2]=y,this}setXYZW(r,o,f,y,w){return r*=this.itemSize,this.normalized&&(o=Hn(o,this.array),f=Hn(f,this.array),y=Hn(y,this.array),w=Hn(w,this.array)),this.array[r+0]=o,this.array[r+1]=f,this.array[r+2]=y,this.array[r+3]=w,this}onUpload(r){return this.onUploadCallback=r,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const r={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(r.name=this.name),this.usage!==au&&(r.usage=this.usage),r}}class s$ extends Jr{constructor(r,o,f){super(new Int8Array(r),o,f)}}class o$ extends Jr{constructor(r,o,f){super(new Uint8Array(r),o,f)}}class l$ extends Jr{constructor(r,o,f){super(new Uint8ClampedArray(r),o,f)}}class c$ extends Jr{constructor(r,o,f){super(new Int16Array(r),o,f)}}class $6 extends Jr{constructor(r,o,f){super(new Uint16Array(r),o,f)}}class u$ extends Jr{constructor(r,o,f){super(new Int32Array(r),o,f)}}class G6 extends Jr{constructor(r,o,f){super(new Uint32Array(r),o,f)}}class d$ extends Jr{constructor(r,o,f){super(new Uint16Array(r),o,f),this.isFloat16BufferAttribute=!0}getX(r){let o=Gf(this.array[r*this.itemSize]);return this.normalized&&(o=R9(o,this.array)),o}setX(r,o){return this.normalized&&(o=Hn(o,this.array)),this.array[r*this.itemSize]=vs(o),this}getY(r){let o=Gf(this.array[r*this.itemSize+1]);return this.normalized&&(o=R9(o,this.array)),o}setY(r,o){return this.normalized&&(o=Hn(o,this.array)),this.array[r*this.itemSize+1]=vs(o),this}getZ(r){let o=Gf(this.array[r*this.itemSize+2]);return this.normalized&&(o=R9(o,this.array)),o}setZ(r,o){return this.normalized&&(o=Hn(o,this.array)),this.array[r*this.itemSize+2]=vs(o),this}getW(r){let o=Gf(this.array[r*this.itemSize+3]);return this.normalized&&(o=R9(o,this.array)),o}setW(r,o){return this.normalized&&(o=Hn(o,this.array)),this.array[r*this.itemSize+3]=vs(o),this}setXY(r,o,f){return r*=this.itemSize,this.normalized&&(o=Hn(o,this.array),f=Hn(f,this.array)),this.array[r+0]=vs(o),this.array[r+1]=vs(f),this}setXYZ(r,o,f,y){return r*=this.itemSize,this.normalized&&(o=Hn(o,this.array),f=Hn(f,this.array),y=Hn(y,this.array)),this.array[r+0]=vs(o),this.array[r+1]=vs(f),this.array[r+2]=vs(y),this}setXYZW(r,o,f,y,w){return r*=this.itemSize,this.normalized&&(o=Hn(o,this.array),f=Hn(f,this.array),y=Hn(y,this.array),w=Hn(w,this.array)),this.array[r+0]=vs(o),this.array[r+1]=vs(f),this.array[r+2]=vs(y),this.array[r+3]=vs(w),this}}class pn extends Jr{constructor(r,o,f){super(new Float32Array(r),o,f)}}let h$=0;const r0=new fn,V6=new Rr,Pd=new ie,Gs=new Ta,Vf=new Ta,v9=new ie;class lr extends ns{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:h$++}),this.uuid=rs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(r){return Array.isArray(r)?this.index=new(Jm(r)?G6:$6)(r,1):this.index=r,this}getAttribute(r){return this.attributes[r]}setAttribute(r,o){return this.attributes[r]=o,this}deleteAttribute(r){return delete this.attributes[r],this}hasAttribute(r){return this.attributes[r]!==void 0}addGroup(r,o,f=0){this.groups.push({start:r,count:o,materialIndex:f})}clearGroups(){this.groups=[]}setDrawRange(r,o){this.drawRange.start=r,this.drawRange.count=o}applyMatrix4(r){const o=this.attributes.position;o!==void 0&&(o.applyMatrix4(r),o.needsUpdate=!0);const f=this.attributes.normal;if(f!==void 0){const w=new Un().getNormalMatrix(r);f.applyNormalMatrix(w),f.needsUpdate=!0}const y=this.attributes.tangent;return y!==void 0&&(y.transformDirection(r),y.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(r){return r0.makeRotationFromQuaternion(r),this.applyMatrix4(r0),this}rotateX(r){return r0.makeRotationX(r),this.applyMatrix4(r0),this}rotateY(r){return r0.makeRotationY(r),this.applyMatrix4(r0),this}rotateZ(r){return r0.makeRotationZ(r),this.applyMatrix4(r0),this}translate(r,o,f){return r0.makeTranslation(r,o,f),this.applyMatrix4(r0),this}scale(r,o,f){return r0.makeScale(r,o,f),this.applyMatrix4(r0),this}lookAt(r){return V6.lookAt(r),V6.updateMatrix(),this.applyMatrix4(V6.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Pd).negate(),this.translate(Pd.x,Pd.y,Pd.z),this}setFromPoints(r){const o=[];for(let f=0,y=r.length;f<y;f++){const w=r[f];o.push(w.x,w.y,w.z||0)}return this.setAttribute("position",new pn(o,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ta);const r=this.attributes.position,o=this.morphAttributes.position;if(r&&r.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));return}if(r!==void 0){if(this.boundingBox.setFromBufferAttribute(r),o)for(let f=0,y=o.length;f<y;f++){const w=o[f];Gs.setFromBufferAttribute(w),this.morphTargetsRelative?(v9.addVectors(this.boundingBox.min,Gs.min),this.boundingBox.expandByPoint(v9),v9.addVectors(this.boundingBox.max,Gs.max),this.boundingBox.expandByPoint(v9)):(this.boundingBox.expandByPoint(Gs.min),this.boundingBox.expandByPoint(Gs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new a9);const r=this.attributes.position,o=this.morphAttributes.position;if(r&&r.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ie,1/0);return}if(r){const f=this.boundingSphere.center;if(Gs.setFromBufferAttribute(r),o)for(let w=0,B=o.length;w<B;w++){const k=o[w];Vf.setFromBufferAttribute(k),this.morphTargetsRelative?(v9.addVectors(Gs.min,Vf.min),Gs.expandByPoint(v9),v9.addVectors(Gs.max,Vf.max),Gs.expandByPoint(v9)):(Gs.expandByPoint(Vf.min),Gs.expandByPoint(Vf.max))}Gs.getCenter(f);let y=0;for(let w=0,B=r.count;w<B;w++)v9.fromBufferAttribute(r,w),y=Math.max(y,f.distanceToSquared(v9));if(o)for(let w=0,B=o.length;w<B;w++){const k=o[w],G=this.morphTargetsRelative;for(let H=0,Z=k.count;H<Z;H++)v9.fromBufferAttribute(k,H),G&&(Pd.fromBufferAttribute(r,H),v9.add(Pd)),y=Math.max(y,f.distanceToSquared(v9))}this.boundingSphere.radius=Math.sqrt(y),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const r=this.index,o=this.attributes;if(r===null||o.position===void 0||o.normal===void 0||o.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const f=o.position,y=o.normal,w=o.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Jr(new Float32Array(4*f.count),4));const B=this.getAttribute("tangent"),k=[],G=[];for(let he=0;he<f.count;he++)k[he]=new ie,G[he]=new ie;const H=new ie,Z=new ie,nt=new ie,rt=new mi,at=new mi,ct=new mi,yt=new ie,ft=new ie;function st(he,Yt,Wt){H.fromBufferAttribute(f,he),Z.fromBufferAttribute(f,Yt),nt.fromBufferAttribute(f,Wt),rt.fromBufferAttribute(w,he),at.fromBufferAttribute(w,Yt),ct.fromBufferAttribute(w,Wt),Z.sub(H),nt.sub(H),at.sub(rt),ct.sub(rt);const fe=1/(at.x*ct.y-ct.x*at.y);isFinite(fe)&&(yt.copy(Z).multiplyScalar(ct.y).addScaledVector(nt,-at.y).multiplyScalar(fe),ft.copy(nt).multiplyScalar(at.x).addScaledVector(Z,-ct.x).multiplyScalar(fe),k[he].add(yt),k[Yt].add(yt),k[Wt].add(yt),G[he].add(ft),G[Yt].add(ft),G[Wt].add(ft))}let Gt=this.groups;Gt.length===0&&(Gt=[{start:0,count:r.count}]);for(let he=0,Yt=Gt.length;he<Yt;++he){const Wt=Gt[he],fe=Wt.start,xe=Wt.count;for(let Ce=fe,Ie=fe+xe;Ce<Ie;Ce+=3)st(r.getX(Ce+0),r.getX(Ce+1),r.getX(Ce+2))}const $t=new ie,Lt=new ie,pe=new ie,ne=new ie;function oe(he){pe.fromBufferAttribute(y,he),ne.copy(pe);const Yt=k[he];$t.copy(Yt),$t.sub(pe.multiplyScalar(pe.dot(Yt))).normalize(),Lt.crossVectors(ne,Yt);const fe=Lt.dot(G[he])<0?-1:1;B.setXYZW(he,$t.x,$t.y,$t.z,fe)}for(let he=0,Yt=Gt.length;he<Yt;++he){const Wt=Gt[he],fe=Wt.start,xe=Wt.count;for(let Ce=fe,Ie=fe+xe;Ce<Ie;Ce+=3)oe(r.getX(Ce+0)),oe(r.getX(Ce+1)),oe(r.getX(Ce+2))}}computeVertexNormals(){const r=this.index,o=this.getAttribute("position");if(o!==void 0){let f=this.getAttribute("normal");if(f===void 0)f=new Jr(new Float32Array(o.count*3),3),this.setAttribute("normal",f);else for(let rt=0,at=f.count;rt<at;rt++)f.setXYZ(rt,0,0,0);const y=new ie,w=new ie,B=new ie,k=new ie,G=new ie,H=new ie,Z=new ie,nt=new ie;if(r)for(let rt=0,at=r.count;rt<at;rt+=3){const ct=r.getX(rt+0),yt=r.getX(rt+1),ft=r.getX(rt+2);y.fromBufferAttribute(o,ct),w.fromBufferAttribute(o,yt),B.fromBufferAttribute(o,ft),Z.subVectors(B,w),nt.subVectors(y,w),Z.cross(nt),k.fromBufferAttribute(f,ct),G.fromBufferAttribute(f,yt),H.fromBufferAttribute(f,ft),k.add(Z),G.add(Z),H.add(Z),f.setXYZ(ct,k.x,k.y,k.z),f.setXYZ(yt,G.x,G.y,G.z),f.setXYZ(ft,H.x,H.y,H.z)}else for(let rt=0,at=o.count;rt<at;rt+=3)y.fromBufferAttribute(o,rt+0),w.fromBufferAttribute(o,rt+1),B.fromBufferAttribute(o,rt+2),Z.subVectors(B,w),nt.subVectors(y,w),Z.cross(nt),f.setXYZ(rt+0,Z.x,Z.y,Z.z),f.setXYZ(rt+1,Z.x,Z.y,Z.z),f.setXYZ(rt+2,Z.x,Z.y,Z.z);this.normalizeNormals(),f.needsUpdate=!0}}normalizeNormals(){const r=this.attributes.normal;for(let o=0,f=r.count;o<f;o++)v9.fromBufferAttribute(r,o),v9.normalize(),r.setXYZ(o,v9.x,v9.y,v9.z)}toNonIndexed(){function r(k,G){const H=k.array,Z=k.itemSize,nt=k.normalized,rt=new H.constructor(G.length*Z);let at=0,ct=0;for(let yt=0,ft=G.length;yt<ft;yt++){k.isInterleavedBufferAttribute?at=G[yt]*k.data.stride+k.offset:at=G[yt]*Z;for(let st=0;st<Z;st++)rt[ct++]=H[at++]}return new Jr(rt,Z,nt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const o=new lr,f=this.index.array,y=this.attributes;for(const k in y){const G=y[k],H=r(G,f);o.setAttribute(k,H)}const w=this.morphAttributes;for(const k in w){const G=[],H=w[k];for(let Z=0,nt=H.length;Z<nt;Z++){const rt=H[Z],at=r(rt,f);G.push(at)}o.morphAttributes[k]=G}o.morphTargetsRelative=this.morphTargetsRelative;const B=this.groups;for(let k=0,G=B.length;k<G;k++){const H=B[k];o.addGroup(H.start,H.count,H.materialIndex)}return o}toJSON(){const r={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),Object.keys(this.userData).length>0&&(r.userData=this.userData),this.parameters!==void 0){const G=this.parameters;for(const H in G)G[H]!==void 0&&(r[H]=G[H]);return r}r.data={attributes:{}};const o=this.index;o!==null&&(r.data.index={type:o.array.constructor.name,array:Array.prototype.slice.call(o.array)});const f=this.attributes;for(const G in f){const H=f[G];r.data.attributes[G]=H.toJSON(r.data)}const y={};let w=!1;for(const G in this.morphAttributes){const H=this.morphAttributes[G],Z=[];for(let nt=0,rt=H.length;nt<rt;nt++){const at=H[nt];Z.push(at.toJSON(r.data))}Z.length>0&&(y[G]=Z,w=!0)}w&&(r.data.morphAttributes=y,r.data.morphTargetsRelative=this.morphTargetsRelative);const B=this.groups;B.length>0&&(r.data.groups=JSON.parse(JSON.stringify(B)));const k=this.boundingSphere;return k!==null&&(r.data.boundingSphere={center:k.center.toArray(),radius:k.radius}),r}clone(){return new this.constructor().copy(this)}copy(r){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const o={};this.name=r.name;const f=r.index;f!==null&&this.setIndex(f.clone(o));const y=r.attributes;for(const H in y){const Z=y[H];this.setAttribute(H,Z.clone(o))}const w=r.morphAttributes;for(const H in w){const Z=[],nt=w[H];for(let rt=0,at=nt.length;rt<at;rt++)Z.push(nt[rt].clone(o));this.morphAttributes[H]=Z}this.morphTargetsRelative=r.morphTargetsRelative;const B=r.groups;for(let H=0,Z=B.length;H<Z;H++){const nt=B[H];this.addGroup(nt.start,nt.count,nt.materialIndex)}const k=r.boundingBox;k!==null&&(this.boundingBox=k.clone());const G=r.boundingSphere;return G!==null&&(this.boundingSphere=G.clone()),this.drawRange.start=r.drawRange.start,this.drawRange.count=r.drawRange.count,this.userData=r.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const gb=new fn,cu=new s9,s3=new a9,Mb=new ie,Ld=new ie,kd=new ie,Nd=new ie,H6=new ie,o3=new ie,l3=new mi,c3=new mi,u3=new mi,Ab=new ie,yb=new ie,vb=new ie,d3=new ie,h3=new ie;class Za extends Rr{constructor(r=new lr,o=new Kl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=r,this.material=o,this.updateMorphTargets()}copy(r,o){return super.copy(r,o),r.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=r.morphTargetInfluences.slice()),r.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},r.morphTargetDictionary)),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}updateMorphTargets(){const o=this.geometry.morphAttributes,f=Object.keys(o);if(f.length>0){const y=o[f[0]];if(y!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let w=0,B=y.length;w<B;w++){const k=y[w].name||String(w);this.morphTargetInfluences.push(0),this.morphTargetDictionary[k]=w}}}}getVertexPosition(r,o){const f=this.geometry,y=f.attributes.position,w=f.morphAttributes.position,B=f.morphTargetsRelative;o.fromBufferAttribute(y,r);const k=this.morphTargetInfluences;if(w&&k){o3.set(0,0,0);for(let G=0,H=w.length;G<H;G++){const Z=k[G],nt=w[G];Z!==0&&(H6.fromBufferAttribute(nt,r),B?o3.addScaledVector(H6,Z):o3.addScaledVector(H6.sub(o),Z))}o.add(o3)}return o}raycast(r,o){const f=this.geometry,y=this.material,w=this.matrixWorld;y!==void 0&&(f.boundingSphere===null&&f.computeBoundingSphere(),s3.copy(f.boundingSphere),s3.applyMatrix4(w),cu.copy(r.ray).recast(r.near),!(s3.containsPoint(cu.origin)===!1&&(cu.intersectSphere(s3,Mb)===null||cu.origin.distanceToSquared(Mb)>(r.far-r.near)**2))&&(gb.copy(w).invert(),cu.copy(r.ray).applyMatrix4(gb),!(f.boundingBox!==null&&cu.intersectsBox(f.boundingBox)===!1)&&this._computeIntersections(r,o,cu)))}_computeIntersections(r,o,f){let y;const w=this.geometry,B=this.material,k=w.index,G=w.attributes.position,H=w.attributes.uv,Z=w.attributes.uv1,nt=w.attributes.normal,rt=w.groups,at=w.drawRange;if(k!==null)if(Array.isArray(B))for(let ct=0,yt=rt.length;ct<yt;ct++){const ft=rt[ct],st=B[ft.materialIndex],Gt=Math.max(ft.start,at.start),$t=Math.min(k.count,Math.min(ft.start+ft.count,at.start+at.count));for(let Lt=Gt,pe=$t;Lt<pe;Lt+=3){const ne=k.getX(Lt),oe=k.getX(Lt+1),he=k.getX(Lt+2);y=f3(this,st,r,f,H,Z,nt,ne,oe,he),y&&(y.faceIndex=Math.floor(Lt/3),y.face.materialIndex=ft.materialIndex,o.push(y))}}else{const ct=Math.max(0,at.start),yt=Math.min(k.count,at.start+at.count);for(let ft=ct,st=yt;ft<st;ft+=3){const Gt=k.getX(ft),$t=k.getX(ft+1),Lt=k.getX(ft+2);y=f3(this,B,r,f,H,Z,nt,Gt,$t,Lt),y&&(y.faceIndex=Math.floor(ft/3),o.push(y))}}else if(G!==void 0)if(Array.isArray(B))for(let ct=0,yt=rt.length;ct<yt;ct++){const ft=rt[ct],st=B[ft.materialIndex],Gt=Math.max(ft.start,at.start),$t=Math.min(G.count,Math.min(ft.start+ft.count,at.start+at.count));for(let Lt=Gt,pe=$t;Lt<pe;Lt+=3){const ne=Lt,oe=Lt+1,he=Lt+2;y=f3(this,st,r,f,H,Z,nt,ne,oe,he),y&&(y.faceIndex=Math.floor(Lt/3),y.face.materialIndex=ft.materialIndex,o.push(y))}}else{const ct=Math.max(0,at.start),yt=Math.min(G.count,at.start+at.count);for(let ft=ct,st=yt;ft<st;ft+=3){const Gt=ft,$t=ft+1,Lt=ft+2;y=f3(this,B,r,f,H,Z,nt,Gt,$t,Lt),y&&(y.faceIndex=Math.floor(ft/3),o.push(y))}}}}function f$(S,r,o,f,y,w,B,k){let G;if(r.side===O?G=f.intersectTriangle(B,w,y,!0,k):G=f.intersectTriangle(y,w,B,r.side===C,k),G===null)return null;h3.copy(k),h3.applyMatrix4(S.matrixWorld);const H=o.ray.origin.distanceTo(h3);return H<o.near||H>o.far?null:{distance:H,point:h3.clone(),object:S}}function f3(S,r,o,f,y,w,B,k,G,H){S.getVertexPosition(k,Ld),S.getVertexPosition(G,kd),S.getVertexPosition(H,Nd);const Z=f$(S,r,o,f,Ld,kd,Nd,d3);if(Z){y&&(l3.fromBufferAttribute(y,k),c3.fromBufferAttribute(y,G),u3.fromBufferAttribute(y,H),Z.uv=$s.getInterpolation(d3,Ld,kd,Nd,l3,c3,u3,new mi)),w&&(l3.fromBufferAttribute(w,k),c3.fromBufferAttribute(w,G),u3.fromBufferAttribute(w,H),Z.uv1=$s.getInterpolation(d3,Ld,kd,Nd,l3,c3,u3,new mi)),B&&(Ab.fromBufferAttribute(B,k),yb.fromBufferAttribute(B,G),vb.fromBufferAttribute(B,H),Z.normal=$s.getInterpolation(d3,Ld,kd,Nd,Ab,yb,vb,new ie),Z.normal.dot(f.direction)>0&&Z.normal.multiplyScalar(-1));const nt={a:k,b:G,c:H,normal:new ie,materialIndex:0};$s.getNormal(Ld,kd,Nd,nt.normal),Z.face=nt}return Z}class uu extends lr{constructor(r=1,o=1,f=1,y=1,w=1,B=1){super(),this.type="BoxGeometry",this.parameters={width:r,height:o,depth:f,widthSegments:y,heightSegments:w,depthSegments:B};const k=this;y=Math.floor(y),w=Math.floor(w),B=Math.floor(B);const G=[],H=[],Z=[],nt=[];let rt=0,at=0;ct("z","y","x",-1,-1,f,o,r,B,w,0),ct("z","y","x",1,-1,f,o,-r,B,w,1),ct("x","z","y",1,1,r,f,o,y,B,2),ct("x","z","y",1,-1,r,f,-o,y,B,3),ct("x","y","z",1,-1,r,o,f,y,w,4),ct("x","y","z",-1,-1,r,o,-f,y,w,5),this.setIndex(G),this.setAttribute("position",new pn(H,3)),this.setAttribute("normal",new pn(Z,3)),this.setAttribute("uv",new pn(nt,2));function ct(yt,ft,st,Gt,$t,Lt,pe,ne,oe,he,Yt){const Wt=Lt/oe,fe=pe/he,xe=Lt/2,Ce=pe/2,Ie=ne/2,Ke=oe+1,hi=he+1;let Li=0,ti=0;const Ti=new ie;for(let Bi=0;Bi<hi;Bi++){const hn=Bi*fe-Ce;for(let cr=0;cr<Ke;cr++){const Fr=cr*Wt-xe;Ti[yt]=Fr*Gt,Ti[ft]=hn*$t,Ti[st]=Ie,H.push(Ti.x,Ti.y,Ti.z),Ti[yt]=0,Ti[ft]=0,Ti[st]=ne>0?1:-1,Z.push(Ti.x,Ti.y,Ti.z),nt.push(cr/oe),nt.push(1-Bi/he),Li+=1}}for(let Bi=0;Bi<he;Bi++)for(let hn=0;hn<oe;hn++){const cr=rt+hn+Ke*Bi,Fr=rt+hn+Ke*(Bi+1),ha=rt+(hn+1)+Ke*(Bi+1),Dr=rt+(hn+1)+Ke*Bi;G.push(cr,Fr,Dr),G.push(Fr,ha,Dr),ti+=6}k.addGroup(at,ti,Yt),at+=ti,rt+=Li}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new uu(r.width,r.height,r.depth,r.widthSegments,r.heightSegments,r.depthSegments)}}function Fd(S){const r={};for(const o in S){r[o]={};for(const f in S[o]){const y=S[o][f];y&&(y.isColor||y.isMatrix3||y.isMatrix4||y.isVector2||y.isVector3||y.isVector4||y.isTexture||y.isQuaternion)?y.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),r[o][f]=null):r[o][f]=y.clone():Array.isArray(y)?r[o][f]=y.slice():r[o][f]=y}}return r}function ss(S){const r={};for(let o=0;o<S.length;o++){const f=Fd(S[o]);for(const y in f)r[y]=f[y]}return r}function m$(S){const r=[];for(let o=0;o<S.length;o++)r.push(S[o].clone());return r}function bb(S){const r=S.getRenderTarget();return r===null?S.outputColorSpace:r.isXRRenderTarget===!0?r.texture.colorSpace:Nr.workingColorSpace}const Cb={clone:Fd,merge:ss};var p$=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,g$=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class x0 extends H9{constructor(r){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=p$,this.fragmentShader=g$,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,r!==void 0&&this.setValues(r)}copy(r){return super.copy(r),this.fragmentShader=r.fragmentShader,this.vertexShader=r.vertexShader,this.uniforms=Fd(r.uniforms),this.uniformsGroups=m$(r.uniformsGroups),this.defines=Object.assign({},r.defines),this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.fog=r.fog,this.lights=r.lights,this.clipping=r.clipping,this.extensions=Object.assign({},r.extensions),this.glslVersion=r.glslVersion,this}toJSON(r){const o=super.toJSON(r);o.glslVersion=this.glslVersion,o.uniforms={};for(const y in this.uniforms){const B=this.uniforms[y].value;B&&B.isTexture?o.uniforms[y]={type:"t",value:B.toJSON(r).uuid}:B&&B.isColor?o.uniforms[y]={type:"c",value:B.getHex()}:B&&B.isVector2?o.uniforms[y]={type:"v2",value:B.toArray()}:B&&B.isVector3?o.uniforms[y]={type:"v3",value:B.toArray()}:B&&B.isVector4?o.uniforms[y]={type:"v4",value:B.toArray()}:B&&B.isMatrix3?o.uniforms[y]={type:"m3",value:B.toArray()}:B&&B.isMatrix4?o.uniforms[y]={type:"m4",value:B.toArray()}:o.uniforms[y]={value:B}}Object.keys(this.defines).length>0&&(o.defines=this.defines),o.vertexShader=this.vertexShader,o.fragmentShader=this.fragmentShader,o.lights=this.lights,o.clipping=this.clipping;const f={};for(const y in this.extensions)this.extensions[y]===!0&&(f[y]=!0);return Object.keys(f).length>0&&(o.extensions=f),o}}class m3 extends Rr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new fn,this.projectionMatrix=new fn,this.projectionMatrixInverse=new fn,this.coordinateSystem=i0}copy(r,o){return super.copy(r,o),this.matrixWorldInverse.copy(r.matrixWorldInverse),this.projectionMatrix.copy(r.projectionMatrix),this.projectionMatrixInverse.copy(r.projectionMatrixInverse),this.coordinateSystem=r.coordinateSystem,this}getWorldDirection(r){return super.getWorldDirection(r).negate()}updateMatrixWorld(r){super.updateMatrixWorld(r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(r,o){super.updateWorldMatrix(r,o),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Xl=new ie,_b=new mi,Eb=new mi;class o9 extends m3{constructor(r=50,o=1,f=.1,y=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=r,this.zoom=1,this.near=f,this.far=y,this.focus=10,this.aspect=o,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(r,o){return super.copy(r,o),this.fov=r.fov,this.zoom=r.zoom,this.near=r.near,this.far=r.far,this.focus=r.focus,this.aspect=r.aspect,this.view=r.view===null?null:Object.assign({},r.view),this.filmGauge=r.filmGauge,this.filmOffset=r.filmOffset,this}setFocalLength(r){const o=.5*this.getFilmHeight()/r;this.fov=Hl*2*Math.atan(o),this.updateProjectionMatrix()}getFocalLength(){const r=Math.tan(Qo*.5*this.fov);return .5*this.getFilmHeight()/r}getEffectiveFOV(){return Hl*2*Math.atan(Math.tan(Qo*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(r,o,f){Xl.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),o.set(Xl.x,Xl.y).multiplyScalar(-r/Xl.z),Xl.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),f.set(Xl.x,Xl.y).multiplyScalar(-r/Xl.z)}getViewSize(r,o){return this.getViewBounds(r,_b,Eb),o.subVectors(Eb,_b)}setViewOffset(r,o,f,y,w,B){this.aspect=r/o,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=o,this.view.offsetX=f,this.view.offsetY=y,this.view.width=w,this.view.height=B,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const r=this.near;let o=r*Math.tan(Qo*.5*this.fov)/this.zoom,f=2*o,y=this.aspect*f,w=-.5*y;const B=this.view;if(this.view!==null&&this.view.enabled){const G=B.fullWidth,H=B.fullHeight;w+=B.offsetX*y/G,o-=B.offsetY*f/H,y*=B.width/G,f*=B.height/H}const k=this.filmOffset;k!==0&&(w+=r*k/this.getFilmWidth()),this.projectionMatrix.makePerspective(w,w+y,o,o-f,r,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(r){const o=super.toJSON(r);return o.object.fov=this.fov,o.object.zoom=this.zoom,o.object.near=this.near,o.object.far=this.far,o.object.focus=this.focus,o.object.aspect=this.aspect,this.view!==null&&(o.object.view=Object.assign({},this.view)),o.object.filmGauge=this.filmGauge,o.object.filmOffset=this.filmOffset,o}}const Ud=-90,$d=1;class wb extends Rr{constructor(r,o,f){super(),this.type="CubeCamera",this.renderTarget=f,this.coordinateSystem=null,this.activeMipmapLevel=0;const y=new o9(Ud,$d,r,o);y.layers=this.layers,this.add(y);const w=new o9(Ud,$d,r,o);w.layers=this.layers,this.add(w);const B=new o9(Ud,$d,r,o);B.layers=this.layers,this.add(B);const k=new o9(Ud,$d,r,o);k.layers=this.layers,this.add(k);const G=new o9(Ud,$d,r,o);G.layers=this.layers,this.add(G);const H=new o9(Ud,$d,r,o);H.layers=this.layers,this.add(H)}updateCoordinateSystem(){const r=this.coordinateSystem,o=this.children.concat(),[f,y,w,B,k,G]=o;for(const H of o)this.remove(H);if(r===i0)f.up.set(0,1,0),f.lookAt(1,0,0),y.up.set(0,1,0),y.lookAt(-1,0,0),w.up.set(0,0,-1),w.lookAt(0,1,0),B.up.set(0,0,1),B.lookAt(0,-1,0),k.up.set(0,1,0),k.lookAt(0,0,1),G.up.set(0,1,0),G.lookAt(0,0,-1);else if(r===su)f.up.set(0,-1,0),f.lookAt(-1,0,0),y.up.set(0,-1,0),y.lookAt(1,0,0),w.up.set(0,0,1),w.lookAt(0,1,0),B.up.set(0,0,-1),B.lookAt(0,-1,0),k.up.set(0,-1,0),k.lookAt(0,0,1),G.up.set(0,-1,0),G.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+r);for(const H of o)this.add(H),H.updateMatrixWorld()}update(r,o){this.parent===null&&this.updateMatrixWorld();const{renderTarget:f,activeMipmapLevel:y}=this;this.coordinateSystem!==r.coordinateSystem&&(this.coordinateSystem=r.coordinateSystem,this.updateCoordinateSystem());const[w,B,k,G,H,Z]=this.children,nt=r.getRenderTarget(),rt=r.getActiveCubeFace(),at=r.getActiveMipmapLevel(),ct=r.xr.enabled;r.xr.enabled=!1;const yt=f.texture.generateMipmaps;f.texture.generateMipmaps=!1,r.setRenderTarget(f,0,y),r.render(o,w),r.setRenderTarget(f,1,y),r.render(o,B),r.setRenderTarget(f,2,y),r.render(o,k),r.setRenderTarget(f,3,y),r.render(o,G),r.setRenderTarget(f,4,y),r.render(o,H),f.texture.generateMipmaps=yt,r.setRenderTarget(f,5,y),r.render(o,Z),r.setRenderTarget(nt,rt,at),r.xr.enabled=ct,f.texture.needsPMREMUpdate=!0}}class Hf extends la{constructor(r,o,f,y,w,B,k,G,H,Z){r=r!==void 0?r:[],o=o!==void 0?o:ht,super(r,o,f,y,w,B,k,G,H,Z),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(r){this.image=r}}class Ob extends Ms{constructor(r=1,o={}){super(r,r,o),this.isWebGLCubeRenderTarget=!0;const f={width:r,height:r,depth:1},y=[f,f,f,f,f,f];this.texture=new Hf(y,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=o.generateMipmaps!==void 0?o.generateMipmaps:!1,this.texture.minFilter=o.minFilter!==void 0?o.minFilter:Le}fromEquirectangularTexture(r,o){this.texture.type=o.type,this.texture.colorSpace=o.colorSpace,this.texture.generateMipmaps=o.generateMipmaps,this.texture.minFilter=o.minFilter,this.texture.magFilter=o.magFilter;const f={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},y=new uu(5,5,5),w=new x0({name:"CubemapFromEquirect",uniforms:Fd(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader,side:O,blending:T});w.uniforms.tEquirect.value=o;const B=new Za(y,w),k=o.minFilter;return o.minFilter===Ii&&(o.minFilter=Le),new wb(1,10,this).update(r,B),o.minFilter=k,B.geometry.dispose(),B.material.dispose(),this}clear(r,o,f,y){const w=r.getRenderTarget();for(let B=0;B<6;B++)r.setRenderTarget(this,B),r.clear(o,f,y);r.setRenderTarget(w)}}const Q6=new ie,M$=new ie,A$=new Un;class Yl{constructor(r=new ie(1,0,0),o=0){this.isPlane=!0,this.normal=r,this.constant=o}set(r,o){return this.normal.copy(r),this.constant=o,this}setComponents(r,o,f,y){return this.normal.set(r,o,f),this.constant=y,this}setFromNormalAndCoplanarPoint(r,o){return this.normal.copy(r),this.constant=-o.dot(this.normal),this}setFromCoplanarPoints(r,o,f){const y=Q6.subVectors(f,o).cross(M$.subVectors(r,o)).normalize();return this.setFromNormalAndCoplanarPoint(y,r),this}copy(r){return this.normal.copy(r.normal),this.constant=r.constant,this}normalize(){const r=1/this.normal.length();return this.normal.multiplyScalar(r),this.constant*=r,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(r){return this.normal.dot(r)+this.constant}distanceToSphere(r){return this.distanceToPoint(r.center)-r.radius}projectPoint(r,o){return o.copy(r).addScaledVector(this.normal,-this.distanceToPoint(r))}intersectLine(r,o){const f=r.delta(Q6),y=this.normal.dot(f);if(y===0)return this.distanceToPoint(r.start)===0?o.copy(r.start):null;const w=-(r.start.dot(this.normal)+this.constant)/y;return w<0||w>1?null:o.copy(r.start).addScaledVector(f,w)}intersectsLine(r){const o=this.distanceToPoint(r.start),f=this.distanceToPoint(r.end);return o<0&&f>0||f<0&&o>0}intersectsBox(r){return r.intersectsPlane(this)}intersectsSphere(r){return r.intersectsPlane(this)}coplanarPoint(r){return r.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(r,o){const f=o||A$.getNormalMatrix(r),y=this.coplanarPoint(Q6).applyMatrix4(r),w=this.normal.applyMatrix3(f).normalize();return this.constant=-y.dot(w),this}translate(r){return this.constant-=r.dot(this.normal),this}equals(r){return r.normal.equals(this.normal)&&r.constant===this.constant}clone(){return new this.constructor().copy(this)}}const du=new a9,p3=new ie;class Qf{constructor(r=new Yl,o=new Yl,f=new Yl,y=new Yl,w=new Yl,B=new Yl){this.planes=[r,o,f,y,w,B]}set(r,o,f,y,w,B){const k=this.planes;return k[0].copy(r),k[1].copy(o),k[2].copy(f),k[3].copy(y),k[4].copy(w),k[5].copy(B),this}copy(r){const o=this.planes;for(let f=0;f<6;f++)o[f].copy(r.planes[f]);return this}setFromProjectionMatrix(r,o=i0){const f=this.planes,y=r.elements,w=y[0],B=y[1],k=y[2],G=y[3],H=y[4],Z=y[5],nt=y[6],rt=y[7],at=y[8],ct=y[9],yt=y[10],ft=y[11],st=y[12],Gt=y[13],$t=y[14],Lt=y[15];if(f[0].setComponents(G-w,rt-H,ft-at,Lt-st).normalize(),f[1].setComponents(G+w,rt+H,ft+at,Lt+st).normalize(),f[2].setComponents(G+B,rt+Z,ft+ct,Lt+Gt).normalize(),f[3].setComponents(G-B,rt-Z,ft-ct,Lt-Gt).normalize(),f[4].setComponents(G-k,rt-nt,ft-yt,Lt-$t).normalize(),o===i0)f[5].setComponents(G+k,rt+nt,ft+yt,Lt+$t).normalize();else if(o===su)f[5].setComponents(k,nt,yt,$t).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+o);return this}intersectsObject(r){if(r.boundingSphere!==void 0)r.boundingSphere===null&&r.computeBoundingSphere(),du.copy(r.boundingSphere).applyMatrix4(r.matrixWorld);else{const o=r.geometry;o.boundingSphere===null&&o.computeBoundingSphere(),du.copy(o.boundingSphere).applyMatrix4(r.matrixWorld)}return this.intersectsSphere(du)}intersectsSprite(r){return du.center.set(0,0,0),du.radius=.7071067811865476,du.applyMatrix4(r.matrixWorld),this.intersectsSphere(du)}intersectsSphere(r){const o=this.planes,f=r.center,y=-r.radius;for(let w=0;w<6;w++)if(o[w].distanceToPoint(f)<y)return!1;return!0}intersectsBox(r){const o=this.planes;for(let f=0;f<6;f++){const y=o[f];if(p3.x=y.normal.x>0?r.max.x:r.min.x,p3.y=y.normal.y>0?r.max.y:r.min.y,p3.z=y.normal.z>0?r.max.z:r.min.z,y.distanceToPoint(p3)<0)return!1}return!0}containsPoint(r){const o=this.planes;for(let f=0;f<6;f++)if(o[f].distanceToPoint(r)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function z6(){let S=null,r=!1,o=null,f=null;function y(w,B){o(w,B),f=S.requestAnimationFrame(y)}return{start:function(){r!==!0&&o!==null&&(f=S.requestAnimationFrame(y),r=!0)},stop:function(){S.cancelAnimationFrame(f),r=!1},setAnimationLoop:function(w){o=w},setContext:function(w){S=w}}}function y$(S){const r=new WeakMap;function o(k,G){const H=k.array,Z=k.usage,nt=H.byteLength,rt=S.createBuffer();S.bindBuffer(G,rt),S.bufferData(G,H,Z),k.onUploadCallback();let at;if(H instanceof Float32Array)at=S.FLOAT;else if(H instanceof Uint16Array)k.isFloat16BufferAttribute?at=S.HALF_FLOAT:at=S.UNSIGNED_SHORT;else if(H instanceof Int16Array)at=S.SHORT;else if(H instanceof Uint32Array)at=S.UNSIGNED_INT;else if(H instanceof Int32Array)at=S.INT;else if(H instanceof Int8Array)at=S.BYTE;else if(H instanceof Uint8Array)at=S.UNSIGNED_BYTE;else if(H instanceof Uint8ClampedArray)at=S.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+H);return{buffer:rt,type:at,bytesPerElement:H.BYTES_PER_ELEMENT,version:k.version,size:nt}}function f(k,G,H){const Z=G.array,nt=G._updateRange,rt=G.updateRanges;if(S.bindBuffer(H,k),nt.count===-1&&rt.length===0&&S.bufferSubData(H,0,Z),rt.length!==0){for(let at=0,ct=rt.length;at<ct;at++){const yt=rt[at];S.bufferSubData(H,yt.start*Z.BYTES_PER_ELEMENT,Z,yt.start,yt.count)}G.clearUpdateRanges()}nt.count!==-1&&(S.bufferSubData(H,nt.offset*Z.BYTES_PER_ELEMENT,Z,nt.offset,nt.count),nt.count=-1),G.onUploadCallback()}function y(k){return k.isInterleavedBufferAttribute&&(k=k.data),r.get(k)}function w(k){k.isInterleavedBufferAttribute&&(k=k.data);const G=r.get(k);G&&(S.deleteBuffer(G.buffer),r.delete(k))}function B(k,G){if(k.isGLBufferAttribute){const Z=r.get(k);(!Z||Z.version<k.version)&&r.set(k,{buffer:k.buffer,type:k.type,bytesPerElement:k.elementSize,version:k.version});return}k.isInterleavedBufferAttribute&&(k=k.data);const H=r.get(k);if(H===void 0)r.set(k,o(k,G));else if(H.version<k.version){if(H.size!==k.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");f(H.buffer,k,G),H.version=k.version}}return{get:y,remove:w,update:B}}class Gd extends lr{constructor(r=1,o=1,f=1,y=1){super(),this.type="PlaneGeometry",this.parameters={width:r,height:o,widthSegments:f,heightSegments:y};const w=r/2,B=o/2,k=Math.floor(f),G=Math.floor(y),H=k+1,Z=G+1,nt=r/k,rt=o/G,at=[],ct=[],yt=[],ft=[];for(let st=0;st<Z;st++){const Gt=st*rt-B;for(let $t=0;$t<H;$t++){const Lt=$t*nt-w;ct.push(Lt,-Gt,0),yt.push(0,0,1),ft.push($t/k),ft.push(1-st/G)}}for(let st=0;st<G;st++)for(let Gt=0;Gt<k;Gt++){const $t=Gt+H*st,Lt=Gt+H*(st+1),pe=Gt+1+H*(st+1),ne=Gt+1+H*st;at.push($t,Lt,ne),at.push(Lt,pe,ne)}this.setIndex(at),this.setAttribute("position",new pn(ct,3)),this.setAttribute("normal",new pn(yt,3)),this.setAttribute("uv",new pn(ft,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new Gd(r.width,r.height,r.widthSegments,r.heightSegments)}}var v$=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,b$=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,C$=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,_$=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,E$=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,w$=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,O$=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,x$=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,S$=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,T$=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,I$=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,B$=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,R$=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,D$=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,P$=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,L$=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,k$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,N$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,F$=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,U$=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,$$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,G$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,V$=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,H$=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Q$=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,z$=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,j$=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,J$=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,W$=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,q$=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,K$="gl_FragColor = linearToOutputTexel( gl_FragColor );",X$=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Y$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Z$=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,tG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,eG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,iG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,nG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,rG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,aG=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,sG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,oG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,cG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,uG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,dG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,hG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,fG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,mG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,pG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,gG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,MG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,AG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,yG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,vG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,bG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,CG=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,_G=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,EG=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wG=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,OG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,xG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,SG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,TG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,IG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,BG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,RG=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,DG=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,PG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,LG=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,kG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,NG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,FG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,UG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,$G=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,VG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,HG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,QG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,zG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,jG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,JG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,WG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,qG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,KG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,XG=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,YG=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ZG=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,tV=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,eV=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,iV=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,nV=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,rV=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,aV=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,sV=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,oV=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,lV=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,cV=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,uV=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,dV=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,hV=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,fV=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,mV=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,pV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,gV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,MV=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,AV=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const er={alphahash_fragment:v$,alphahash_pars_fragment:b$,alphamap_fragment:C$,alphamap_pars_fragment:_$,alphatest_fragment:E$,alphatest_pars_fragment:w$,aomap_fragment:O$,aomap_pars_fragment:x$,batching_pars_vertex:S$,batching_vertex:T$,begin_vertex:I$,beginnormal_vertex:B$,bsdfs:R$,iridescence_fragment:D$,bumpmap_pars_fragment:P$,clipping_planes_fragment:L$,clipping_planes_pars_fragment:k$,clipping_planes_pars_vertex:N$,clipping_planes_vertex:F$,color_fragment:U$,color_pars_fragment:$$,color_pars_vertex:G$,color_vertex:V$,common:H$,cube_uv_reflection_fragment:Q$,defaultnormal_vertex:z$,displacementmap_pars_vertex:j$,displacementmap_vertex:J$,emissivemap_fragment:W$,emissivemap_pars_fragment:q$,colorspace_fragment:K$,colorspace_pars_fragment:X$,envmap_fragment:Y$,envmap_common_pars_fragment:Z$,envmap_pars_fragment:tG,envmap_pars_vertex:eG,envmap_physical_pars_fragment:hG,envmap_vertex:iG,fog_vertex:nG,fog_pars_vertex:rG,fog_fragment:aG,fog_pars_fragment:sG,gradientmap_pars_fragment:oG,lightmap_pars_fragment:lG,lights_lambert_fragment:cG,lights_lambert_pars_fragment:uG,lights_pars_begin:dG,lights_toon_fragment:fG,lights_toon_pars_fragment:mG,lights_phong_fragment:pG,lights_phong_pars_fragment:gG,lights_physical_fragment:MG,lights_physical_pars_fragment:AG,lights_fragment_begin:yG,lights_fragment_maps:vG,lights_fragment_end:bG,logdepthbuf_fragment:CG,logdepthbuf_pars_fragment:_G,logdepthbuf_pars_vertex:EG,logdepthbuf_vertex:wG,map_fragment:OG,map_pars_fragment:xG,map_particle_fragment:SG,map_particle_pars_fragment:TG,metalnessmap_fragment:IG,metalnessmap_pars_fragment:BG,morphinstance_vertex:RG,morphcolor_vertex:DG,morphnormal_vertex:PG,morphtarget_pars_vertex:LG,morphtarget_vertex:kG,normal_fragment_begin:NG,normal_fragment_maps:FG,normal_pars_fragment:UG,normal_pars_vertex:$G,normal_vertex:GG,normalmap_pars_fragment:VG,clearcoat_normal_fragment_begin:HG,clearcoat_normal_fragment_maps:QG,clearcoat_pars_fragment:zG,iridescence_pars_fragment:jG,opaque_fragment:JG,packing:WG,premultiplied_alpha_fragment:qG,project_vertex:KG,dithering_fragment:XG,dithering_pars_fragment:YG,roughnessmap_fragment:ZG,roughnessmap_pars_fragment:tV,shadowmap_pars_fragment:eV,shadowmap_pars_vertex:iV,shadowmap_vertex:nV,shadowmask_pars_fragment:rV,skinbase_vertex:aV,skinning_pars_vertex:sV,skinning_vertex:oV,skinnormal_vertex:lV,specularmap_fragment:cV,specularmap_pars_fragment:uV,tonemapping_fragment:dV,tonemapping_pars_fragment:hV,transmission_fragment:fV,transmission_pars_fragment:mV,uv_pars_fragment:pV,uv_pars_vertex:gV,uv_vertex:MV,worldpos_vertex:AV,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,depth_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`},$i={common:{diffuse:{value:new an(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Un},alphaMap:{value:null},alphaMapTransform:{value:new Un},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Un}},envmap:{envMap:{value:null},envMapRotation:{value:new Un},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Un}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Un}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Un},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Un},normalScale:{value:new mi(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Un},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Un}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Un}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Un}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new an(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new an(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Un},alphaTest:{value:0},uvTransform:{value:new Un}},sprite:{diffuse:{value:new an(16777215)},opacity:{value:1},center:{value:new mi(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Un},alphaMap:{value:null},alphaMapTransform:{value:new Un},alphaTest:{value:0}}},S0={basic:{uniforms:ss([$i.common,$i.specularmap,$i.envmap,$i.aomap,$i.lightmap,$i.fog]),vertexShader:er.meshbasic_vert,fragmentShader:er.meshbasic_frag},lambert:{uniforms:ss([$i.common,$i.specularmap,$i.envmap,$i.aomap,$i.lightmap,$i.emissivemap,$i.bumpmap,$i.normalmap,$i.displacementmap,$i.fog,$i.lights,{emissive:{value:new an(0)}}]),vertexShader:er.meshlambert_vert,fragmentShader:er.meshlambert_frag},phong:{uniforms:ss([$i.common,$i.specularmap,$i.envmap,$i.aomap,$i.lightmap,$i.emissivemap,$i.bumpmap,$i.normalmap,$i.displacementmap,$i.fog,$i.lights,{emissive:{value:new an(0)},specular:{value:new an(1118481)},shininess:{value:30}}]),vertexShader:er.meshphong_vert,fragmentShader:er.meshphong_frag},standard:{uniforms:ss([$i.common,$i.envmap,$i.aomap,$i.lightmap,$i.emissivemap,$i.bumpmap,$i.normalmap,$i.displacementmap,$i.roughnessmap,$i.metalnessmap,$i.fog,$i.lights,{emissive:{value:new an(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:er.meshphysical_vert,fragmentShader:er.meshphysical_frag},toon:{uniforms:ss([$i.common,$i.aomap,$i.lightmap,$i.emissivemap,$i.bumpmap,$i.normalmap,$i.displacementmap,$i.gradientmap,$i.fog,$i.lights,{emissive:{value:new an(0)}}]),vertexShader:er.meshtoon_vert,fragmentShader:er.meshtoon_frag},matcap:{uniforms:ss([$i.common,$i.bumpmap,$i.normalmap,$i.displacementmap,$i.fog,{matcap:{value:null}}]),vertexShader:er.meshmatcap_vert,fragmentShader:er.meshmatcap_frag},points:{uniforms:ss([$i.points,$i.fog]),vertexShader:er.points_vert,fragmentShader:er.points_frag},dashed:{uniforms:ss([$i.common,$i.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:er.linedashed_vert,fragmentShader:er.linedashed_frag},depth:{uniforms:ss([$i.common,$i.displacementmap]),vertexShader:er.depth_vert,fragmentShader:er.depth_frag},normal:{uniforms:ss([$i.common,$i.bumpmap,$i.normalmap,$i.displacementmap,{opacity:{value:1}}]),vertexShader:er.meshnormal_vert,fragmentShader:er.meshnormal_frag},sprite:{uniforms:ss([$i.sprite,$i.fog]),vertexShader:er.sprite_vert,fragmentShader:er.sprite_frag},background:{uniforms:{uvTransform:{value:new Un},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:er.background_vert,fragmentShader:er.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Un}},vertexShader:er.backgroundCube_vert,fragmentShader:er.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:er.cube_vert,fragmentShader:er.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:er.equirect_vert,fragmentShader:er.equirect_frag},distanceRGBA:{uniforms:ss([$i.common,$i.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:er.distanceRGBA_vert,fragmentShader:er.distanceRGBA_frag},shadow:{uniforms:ss([$i.lights,$i.fog,{color:{value:new an(0)},opacity:{value:1}}]),vertexShader:er.shadow_vert,fragmentShader:er.shadow_frag}};S0.physical={uniforms:ss([S0.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Un},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Un},clearcoatNormalScale:{value:new mi(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Un},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Un},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Un},sheen:{value:0},sheenColor:{value:new an(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Un},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Un},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Un},transmissionSamplerSize:{value:new mi},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Un},attenuationDistance:{value:0},attenuationColor:{value:new an(0)},specularColor:{value:new an(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Un},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Un},anisotropyVector:{value:new mi},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Un}}]),vertexShader:er.meshphysical_vert,fragmentShader:er.meshphysical_frag};const g3={r:0,b:0,g:0},hu=new Us,yV=new fn;function vV(S,r,o,f,y,w,B){const k=new an(0);let G=w===!0?0:1,H,Z,nt=null,rt=0,at=null;function ct(Gt){let $t=Gt.isScene===!0?Gt.background:null;return $t&&$t.isTexture&&($t=(Gt.backgroundBlurriness>0?o:r).get($t)),$t}function yt(Gt){let $t=!1;const Lt=ct(Gt);Lt===null?st(k,G):Lt&&Lt.isColor&&(st(Lt,1),$t=!0);const pe=S.xr.getEnvironmentBlendMode();pe==="additive"?f.buffers.color.setClear(0,0,0,1,B):pe==="alpha-blend"&&f.buffers.color.setClear(0,0,0,0,B),(S.autoClear||$t)&&S.clear(S.autoClearColor,S.autoClearDepth,S.autoClearStencil)}function ft(Gt,$t){const Lt=ct($t);Lt&&(Lt.isCubeTexture||Lt.mapping===Qt)?(Z===void 0&&(Z=new Za(new uu(1e4,1e4,1e4),new x0({name:"BackgroundCubeMaterial",uniforms:Fd(S0.backgroundCube.uniforms),vertexShader:S0.backgroundCube.vertexShader,fragmentShader:S0.backgroundCube.fragmentShader,side:O,depthTest:!1,depthWrite:!1,fog:!1})),Z.geometry.deleteAttribute("normal"),Z.geometry.deleteAttribute("uv"),Z.onBeforeRender=function(pe,ne,oe){this.matrixWorld.copyPosition(oe.matrixWorld)},Object.defineProperty(Z.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),y.update(Z)),hu.copy($t.backgroundRotation),hu.x*=-1,hu.y*=-1,hu.z*=-1,Lt.isCubeTexture&&Lt.isRenderTargetTexture===!1&&(hu.y*=-1,hu.z*=-1),Z.material.uniforms.envMap.value=Lt,Z.material.uniforms.flipEnvMap.value=Lt.isCubeTexture&&Lt.isRenderTargetTexture===!1?-1:1,Z.material.uniforms.backgroundBlurriness.value=$t.backgroundBlurriness,Z.material.uniforms.backgroundIntensity.value=$t.backgroundIntensity,Z.material.uniforms.backgroundRotation.value.setFromMatrix4(yV.makeRotationFromEuler(hu)),Z.material.toneMapped=Nr.getTransfer(Lt.colorSpace)!==Yr,(nt!==Lt||rt!==Lt.version||at!==S.toneMapping)&&(Z.material.needsUpdate=!0,nt=Lt,rt=Lt.version,at=S.toneMapping),Z.layers.enableAll(),Gt.unshift(Z,Z.geometry,Z.material,0,0,null)):Lt&&Lt.isTexture&&(H===void 0&&(H=new Za(new Gd(2,2),new x0({name:"BackgroundMaterial",uniforms:Fd(S0.background.uniforms),vertexShader:S0.background.vertexShader,fragmentShader:S0.background.fragmentShader,side:C,depthTest:!1,depthWrite:!1,fog:!1})),H.geometry.deleteAttribute("normal"),Object.defineProperty(H.material,"map",{get:function(){return this.uniforms.t2D.value}}),y.update(H)),H.material.uniforms.t2D.value=Lt,H.material.uniforms.backgroundIntensity.value=$t.backgroundIntensity,H.material.toneMapped=Nr.getTransfer(Lt.colorSpace)!==Yr,Lt.matrixAutoUpdate===!0&&Lt.updateMatrix(),H.material.uniforms.uvTransform.value.copy(Lt.matrix),(nt!==Lt||rt!==Lt.version||at!==S.toneMapping)&&(H.material.needsUpdate=!0,nt=Lt,rt=Lt.version,at=S.toneMapping),H.layers.enableAll(),Gt.unshift(H,H.geometry,H.material,0,0,null))}function st(Gt,$t){Gt.getRGB(g3,bb(S)),f.buffers.color.setClear(g3.r,g3.g,g3.b,$t,B)}return{getClearColor:function(){return k},setClearColor:function(Gt,$t=1){k.set(Gt),G=$t,st(k,G)},getClearAlpha:function(){return G},setClearAlpha:function(Gt){G=Gt,st(k,G)},render:yt,addToRenderList:ft}}function bV(S,r){const o=S.getParameter(S.MAX_VERTEX_ATTRIBS),f={},y=rt(null);let w=y,B=!1;function k(Wt,fe,xe,Ce,Ie){let Ke=!1;const hi=nt(Ce,xe,fe);w!==hi&&(w=hi,H(w.object)),Ke=at(Wt,Ce,xe,Ie),Ke&&ct(Wt,Ce,xe,Ie),Ie!==null&&r.update(Ie,S.ELEMENT_ARRAY_BUFFER),(Ke||B)&&(B=!1,Lt(Wt,fe,xe,Ce),Ie!==null&&S.bindBuffer(S.ELEMENT_ARRAY_BUFFER,r.get(Ie).buffer))}function G(){return S.createVertexArray()}function H(Wt){return S.bindVertexArray(Wt)}function Z(Wt){return S.deleteVertexArray(Wt)}function nt(Wt,fe,xe){const Ce=xe.wireframe===!0;let Ie=f[Wt.id];Ie===void 0&&(Ie={},f[Wt.id]=Ie);let Ke=Ie[fe.id];Ke===void 0&&(Ke={},Ie[fe.id]=Ke);let hi=Ke[Ce];return hi===void 0&&(hi=rt(G()),Ke[Ce]=hi),hi}function rt(Wt){const fe=[],xe=[],Ce=[];for(let Ie=0;Ie<o;Ie++)fe[Ie]=0,xe[Ie]=0,Ce[Ie]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:fe,enabledAttributes:xe,attributeDivisors:Ce,object:Wt,attributes:{},index:null}}function at(Wt,fe,xe,Ce){const Ie=w.attributes,Ke=fe.attributes;let hi=0;const Li=xe.getAttributes();for(const ti in Li)if(Li[ti].location>=0){const Bi=Ie[ti];let hn=Ke[ti];if(hn===void 0&&(ti==="instanceMatrix"&&Wt.instanceMatrix&&(hn=Wt.instanceMatrix),ti==="instanceColor"&&Wt.instanceColor&&(hn=Wt.instanceColor)),Bi===void 0||Bi.attribute!==hn||hn&&Bi.data!==hn.data)return!0;hi++}return w.attributesNum!==hi||w.index!==Ce}function ct(Wt,fe,xe,Ce){const Ie={},Ke=fe.attributes;let hi=0;const Li=xe.getAttributes();for(const ti in Li)if(Li[ti].location>=0){let Bi=Ke[ti];Bi===void 0&&(ti==="instanceMatrix"&&Wt.instanceMatrix&&(Bi=Wt.instanceMatrix),ti==="instanceColor"&&Wt.instanceColor&&(Bi=Wt.instanceColor));const hn={};hn.attribute=Bi,Bi&&Bi.data&&(hn.data=Bi.data),Ie[ti]=hn,hi++}w.attributes=Ie,w.attributesNum=hi,w.index=Ce}function yt(){const Wt=w.newAttributes;for(let fe=0,xe=Wt.length;fe<xe;fe++)Wt[fe]=0}function ft(Wt){st(Wt,0)}function st(Wt,fe){const xe=w.newAttributes,Ce=w.enabledAttributes,Ie=w.attributeDivisors;xe[Wt]=1,Ce[Wt]===0&&(S.enableVertexAttribArray(Wt),Ce[Wt]=1),Ie[Wt]!==fe&&(S.vertexAttribDivisor(Wt,fe),Ie[Wt]=fe)}function Gt(){const Wt=w.newAttributes,fe=w.enabledAttributes;for(let xe=0,Ce=fe.length;xe<Ce;xe++)fe[xe]!==Wt[xe]&&(S.disableVertexAttribArray(xe),fe[xe]=0)}function $t(Wt,fe,xe,Ce,Ie,Ke,hi){hi===!0?S.vertexAttribIPointer(Wt,fe,xe,Ie,Ke):S.vertexAttribPointer(Wt,fe,xe,Ce,Ie,Ke)}function Lt(Wt,fe,xe,Ce){yt();const Ie=Ce.attributes,Ke=xe.getAttributes(),hi=fe.defaultAttributeValues;for(const Li in Ke){const ti=Ke[Li];if(ti.location>=0){let Ti=Ie[Li];if(Ti===void 0&&(Li==="instanceMatrix"&&Wt.instanceMatrix&&(Ti=Wt.instanceMatrix),Li==="instanceColor"&&Wt.instanceColor&&(Ti=Wt.instanceColor)),Ti!==void 0){const Bi=Ti.normalized,hn=Ti.itemSize,cr=r.get(Ti);if(cr===void 0)continue;const Fr=cr.buffer,ha=cr.type,Dr=cr.bytesPerElement,Zr=ha===S.INT||ha===S.UNSIGNED_INT||Ti.gpuType===Ir;if(Ti.isInterleavedBufferAttribute){const mn=Ti.data,gi=mn.stride,Ni=Ti.offset;if(mn.isInstancedInterleavedBuffer){for(let Gi=0;Gi<ti.locationSize;Gi++)st(ti.location+Gi,mn.meshPerAttribute);Wt.isInstancedMesh!==!0&&Ce._maxInstanceCount===void 0&&(Ce._maxInstanceCount=mn.meshPerAttribute*mn.count)}else for(let Gi=0;Gi<ti.locationSize;Gi++)ft(ti.location+Gi);S.bindBuffer(S.ARRAY_BUFFER,Fr);for(let Gi=0;Gi<ti.locationSize;Gi++)$t(ti.location+Gi,hn/ti.locationSize,ha,Bi,gi*Dr,(Ni+hn/ti.locationSize*Gi)*Dr,Zr)}else{if(Ti.isInstancedBufferAttribute){for(let mn=0;mn<ti.locationSize;mn++)st(ti.location+mn,Ti.meshPerAttribute);Wt.isInstancedMesh!==!0&&Ce._maxInstanceCount===void 0&&(Ce._maxInstanceCount=Ti.meshPerAttribute*Ti.count)}else for(let mn=0;mn<ti.locationSize;mn++)ft(ti.location+mn);S.bindBuffer(S.ARRAY_BUFFER,Fr);for(let mn=0;mn<ti.locationSize;mn++)$t(ti.location+mn,hn/ti.locationSize,ha,Bi,hn*Dr,hn/ti.locationSize*mn*Dr,Zr)}}else if(hi!==void 0){const Bi=hi[Li];if(Bi!==void 0)switch(Bi.length){case 2:S.vertexAttrib2fv(ti.location,Bi);break;case 3:S.vertexAttrib3fv(ti.location,Bi);break;case 4:S.vertexAttrib4fv(ti.location,Bi);break;default:S.vertexAttrib1fv(ti.location,Bi)}}}}Gt()}function pe(){he();for(const Wt in f){const fe=f[Wt];for(const xe in fe){const Ce=fe[xe];for(const Ie in Ce)Z(Ce[Ie].object),delete Ce[Ie];delete fe[xe]}delete f[Wt]}}function ne(Wt){if(f[Wt.id]===void 0)return;const fe=f[Wt.id];for(const xe in fe){const Ce=fe[xe];for(const Ie in Ce)Z(Ce[Ie].object),delete Ce[Ie];delete fe[xe]}delete f[Wt.id]}function oe(Wt){for(const fe in f){const xe=f[fe];if(xe[Wt.id]===void 0)continue;const Ce=xe[Wt.id];for(const Ie in Ce)Z(Ce[Ie].object),delete Ce[Ie];delete xe[Wt.id]}}function he(){Yt(),B=!0,w!==y&&(w=y,H(w.object))}function Yt(){y.geometry=null,y.program=null,y.wireframe=!1}return{setup:k,reset:he,resetDefaultState:Yt,dispose:pe,releaseStatesOfGeometry:ne,releaseStatesOfProgram:oe,initAttributes:yt,enableAttribute:ft,disableUnusedAttributes:Gt}}function CV(S,r,o){let f;function y(H){f=H}function w(H,Z){S.drawArrays(f,H,Z),o.update(Z,f,1)}function B(H,Z,nt){nt!==0&&(S.drawArraysInstanced(f,H,Z,nt),o.update(Z,f,nt))}function k(H,Z,nt){if(nt===0)return;const rt=r.get("WEBGL_multi_draw");if(rt===null)for(let at=0;at<nt;at++)this.render(H[at],Z[at]);else{rt.multiDrawArraysWEBGL(f,H,0,Z,0,nt);let at=0;for(let ct=0;ct<nt;ct++)at+=Z[ct];o.update(at,f,1)}}function G(H,Z,nt,rt){if(nt===0)return;const at=r.get("WEBGL_multi_draw");if(at===null)for(let ct=0;ct<H.length;ct++)B(H[ct],Z[ct],rt[ct]);else{at.multiDrawArraysInstancedWEBGL(f,H,0,Z,0,rt,0,nt);let ct=0;for(let yt=0;yt<nt;yt++)ct+=Z[yt];for(let yt=0;yt<rt.length;yt++)o.update(ct,f,rt[yt])}}this.setMode=y,this.render=w,this.renderInstances=B,this.renderMultiDraw=k,this.renderMultiDrawInstances=G}function _V(S,r,o,f){let y;function w(){if(y!==void 0)return y;if(r.has("EXT_texture_filter_anisotropic")===!0){const ne=r.get("EXT_texture_filter_anisotropic");y=S.getParameter(ne.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else y=0;return y}function B(ne){return!(ne!==ue&&f.convert(ne)!==S.getParameter(S.IMPLEMENTATION_COLOR_READ_FORMAT))}function k(ne){const oe=ne===Ki&&(r.has("EXT_color_buffer_half_float")||r.has("EXT_color_buffer_float"));return!(ne!==ze&&f.convert(ne)!==S.getParameter(S.IMPLEMENTATION_COLOR_READ_TYPE)&&ne!==si&&!oe)}function G(ne){if(ne==="highp"){if(S.getShaderPrecisionFormat(S.VERTEX_SHADER,S.HIGH_FLOAT).precision>0&&S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.HIGH_FLOAT).precision>0)return"highp";ne="mediump"}return ne==="mediump"&&S.getShaderPrecisionFormat(S.VERTEX_SHADER,S.MEDIUM_FLOAT).precision>0&&S.getShaderPrecisionFormat(S.FRAGMENT_SHADER,S.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let H=o.precision!==void 0?o.precision:"highp";const Z=G(H);Z!==H&&(console.warn("THREE.WebGLRenderer:",H,"not supported, using",Z,"instead."),H=Z);const nt=o.logarithmicDepthBuffer===!0,rt=S.getParameter(S.MAX_TEXTURE_IMAGE_UNITS),at=S.getParameter(S.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ct=S.getParameter(S.MAX_TEXTURE_SIZE),yt=S.getParameter(S.MAX_CUBE_MAP_TEXTURE_SIZE),ft=S.getParameter(S.MAX_VERTEX_ATTRIBS),st=S.getParameter(S.MAX_VERTEX_UNIFORM_VECTORS),Gt=S.getParameter(S.MAX_VARYING_VECTORS),$t=S.getParameter(S.MAX_FRAGMENT_UNIFORM_VECTORS),Lt=at>0,pe=S.getParameter(S.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:w,getMaxPrecision:G,textureFormatReadable:B,textureTypeReadable:k,precision:H,logarithmicDepthBuffer:nt,maxTextures:rt,maxVertexTextures:at,maxTextureSize:ct,maxCubemapSize:yt,maxAttributes:ft,maxVertexUniforms:st,maxVaryings:Gt,maxFragmentUniforms:$t,vertexTextures:Lt,maxSamples:pe}}function EV(S){const r=this;let o=null,f=0,y=!1,w=!1;const B=new Yl,k=new Un,G={value:null,needsUpdate:!1};this.uniform=G,this.numPlanes=0,this.numIntersection=0,this.init=function(nt,rt){const at=nt.length!==0||rt||f!==0||y;return y=rt,f=nt.length,at},this.beginShadows=function(){w=!0,Z(null)},this.endShadows=function(){w=!1},this.setGlobalState=function(nt,rt){o=Z(nt,rt,0)},this.setState=function(nt,rt,at){const ct=nt.clippingPlanes,yt=nt.clipIntersection,ft=nt.clipShadows,st=S.get(nt);if(!y||ct===null||ct.length===0||w&&!ft)w?Z(null):H();else{const Gt=w?0:f,$t=Gt*4;let Lt=st.clippingState||null;G.value=Lt,Lt=Z(ct,rt,$t,at);for(let pe=0;pe!==$t;++pe)Lt[pe]=o[pe];st.clippingState=Lt,this.numIntersection=yt?this.numPlanes:0,this.numPlanes+=Gt}};function H(){G.value!==o&&(G.value=o,G.needsUpdate=f>0),r.numPlanes=f,r.numIntersection=0}function Z(nt,rt,at,ct){const yt=nt!==null?nt.length:0;let ft=null;if(yt!==0){if(ft=G.value,ct!==!0||ft===null){const st=at+yt*4,Gt=rt.matrixWorldInverse;k.getNormalMatrix(Gt),(ft===null||ft.length<st)&&(ft=new Float32Array(st));for(let $t=0,Lt=at;$t!==yt;++$t,Lt+=4)B.copy(nt[$t]).applyMatrix4(Gt,k),B.normal.toArray(ft,Lt),ft[Lt+3]=B.constant}G.value=ft,G.needsUpdate=!0}return r.numPlanes=yt,r.numIntersection=0,ft}}function wV(S){let r=new WeakMap;function o(B,k){return k===tt?B.mapping=ht:k===Tt&&(B.mapping=X),B}function f(B){if(B&&B.isTexture){const k=B.mapping;if(k===tt||k===Tt)if(r.has(B)){const G=r.get(B).texture;return o(G,B.mapping)}else{const G=B.image;if(G&&G.height>0){const H=new Ob(G.height);return H.fromEquirectangularTexture(S,B),r.set(B,H),B.addEventListener("dispose",y),o(H.texture,B.mapping)}else return null}}return B}function y(B){const k=B.target;k.removeEventListener("dispose",y);const G=r.get(k);G!==void 0&&(r.delete(k),G.dispose())}function w(){r=new WeakMap}return{get:f,dispose:w}}class M3 extends m3{constructor(r=-1,o=1,f=1,y=-1,w=.1,B=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=r,this.right=o,this.top=f,this.bottom=y,this.near=w,this.far=B,this.updateProjectionMatrix()}copy(r,o){return super.copy(r,o),this.left=r.left,this.right=r.right,this.top=r.top,this.bottom=r.bottom,this.near=r.near,this.far=r.far,this.zoom=r.zoom,this.view=r.view===null?null:Object.assign({},r.view),this}setViewOffset(r,o,f,y,w,B){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=o,this.view.offsetX=f,this.view.offsetY=y,this.view.width=w,this.view.height=B,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const r=(this.right-this.left)/(2*this.zoom),o=(this.top-this.bottom)/(2*this.zoom),f=(this.right+this.left)/2,y=(this.top+this.bottom)/2;let w=f-r,B=f+r,k=y+o,G=y-o;if(this.view!==null&&this.view.enabled){const H=(this.right-this.left)/this.view.fullWidth/this.zoom,Z=(this.top-this.bottom)/this.view.fullHeight/this.zoom;w+=H*this.view.offsetX,B=w+H*this.view.width,k-=Z*this.view.offsetY,G=k-Z*this.view.height}this.projectionMatrix.makeOrthographic(w,B,k,G,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(r){const o=super.toJSON(r);return o.object.zoom=this.zoom,o.object.left=this.left,o.object.right=this.right,o.object.top=this.top,o.object.bottom=this.bottom,o.object.near=this.near,o.object.far=this.far,this.view!==null&&(o.object.view=Object.assign({},this.view)),o}}const Vd=4,xb=[.125,.215,.35,.446,.526,.582],fu=20,j6=new M3,Sb=new an;let J6=null,W6=0,q6=0,K6=!1;const mu=(1+Math.sqrt(5))/2,Hd=1/mu,Tb=[new ie(-mu,Hd,0),new ie(mu,Hd,0),new ie(-Hd,0,mu),new ie(Hd,0,mu),new ie(0,mu,-Hd),new ie(0,mu,Hd),new ie(-1,1,-1),new ie(1,1,-1),new ie(-1,1,1),new ie(1,1,1)];class X6{constructor(r){this._renderer=r,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(r,o=0,f=.1,y=100){J6=this._renderer.getRenderTarget(),W6=this._renderer.getActiveCubeFace(),q6=this._renderer.getActiveMipmapLevel(),K6=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const w=this._allocateTargets();return w.depthBuffer=!0,this._sceneToCubeUV(r,f,y,w),o>0&&this._blur(w,0,0,o),this._applyPMREM(w),this._cleanup(w),w}fromEquirectangular(r,o=null){return this._fromTexture(r,o)}fromCubemap(r,o=null){return this._fromTexture(r,o)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Rb(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Bb(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(r){this._lodMax=Math.floor(Math.log2(r)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let r=0;r<this._lodPlanes.length;r++)this._lodPlanes[r].dispose()}_cleanup(r){this._renderer.setRenderTarget(J6,W6,q6),this._renderer.xr.enabled=K6,r.scissorTest=!1,A3(r,0,0,r.width,r.height)}_fromTexture(r,o){r.mapping===ht||r.mapping===X?this._setSize(r.image.length===0?16:r.image[0].width||r.image[0].image.width):this._setSize(r.image.width/4),J6=this._renderer.getRenderTarget(),W6=this._renderer.getActiveCubeFace(),q6=this._renderer.getActiveMipmapLevel(),K6=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const f=o||this._allocateTargets();return this._textureToCubeUV(r,f),this._applyPMREM(f),this._cleanup(f),f}_allocateTargets(){const r=3*Math.max(this._cubeSize,112),o=4*this._cubeSize,f={magFilter:Le,minFilter:Le,generateMipmaps:!1,type:Ki,format:ue,colorSpace:w0,depthBuffer:!1},y=Ib(r,o,f);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==r||this._pingPongRenderTarget.height!==o){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Ib(r,o,f);const{_lodMax:w}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=OV(w)),this._blurMaterial=xV(w,r,o)}return y}_compileMaterial(r){const o=new Za(this._lodPlanes[0],r);this._renderer.compile(o,j6)}_sceneToCubeUV(r,o,f,y){const k=new o9(90,1,o,f),G=[1,-1,1,1,1,1],H=[1,1,1,-1,-1,-1],Z=this._renderer,nt=Z.autoClear,rt=Z.toneMapping;Z.getClearColor(Sb),Z.toneMapping=ei,Z.autoClear=!1;const at=new Kl({name:"PMREM.Background",side:O,depthWrite:!1,depthTest:!1}),ct=new Za(new uu,at);let yt=!1;const ft=r.background;ft?ft.isColor&&(at.color.copy(ft),r.background=null,yt=!0):(at.color.copy(Sb),yt=!0);for(let st=0;st<6;st++){const Gt=st%3;Gt===0?(k.up.set(0,G[st],0),k.lookAt(H[st],0,0)):Gt===1?(k.up.set(0,0,G[st]),k.lookAt(0,H[st],0)):(k.up.set(0,G[st],0),k.lookAt(0,0,H[st]));const $t=this._cubeSize;A3(y,Gt*$t,st>2?$t:0,$t,$t),Z.setRenderTarget(y),yt&&Z.render(ct,k),Z.render(r,k)}ct.geometry.dispose(),ct.material.dispose(),Z.toneMapping=rt,Z.autoClear=nt,r.background=ft}_textureToCubeUV(r,o){const f=this._renderer,y=r.mapping===ht||r.mapping===X;y?(this._cubemapMaterial===null&&(this._cubemapMaterial=Rb()),this._cubemapMaterial.uniforms.flipEnvMap.value=r.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Bb());const w=y?this._cubemapMaterial:this._equirectMaterial,B=new Za(this._lodPlanes[0],w),k=w.uniforms;k.envMap.value=r;const G=this._cubeSize;A3(o,0,0,3*G,2*G),f.setRenderTarget(o),f.render(B,j6)}_applyPMREM(r){const o=this._renderer,f=o.autoClear;o.autoClear=!1;const y=this._lodPlanes.length;for(let w=1;w<y;w++){const B=Math.sqrt(this._sigmas[w]*this._sigmas[w]-this._sigmas[w-1]*this._sigmas[w-1]),k=Tb[(y-w-1)%Tb.length];this._blur(r,w-1,w,B,k)}o.autoClear=f}_blur(r,o,f,y,w){const B=this._pingPongRenderTarget;this._halfBlur(r,B,o,f,y,"latitudinal",w),this._halfBlur(B,r,f,f,y,"longitudinal",w)}_halfBlur(r,o,f,y,w,B,k){const G=this._renderer,H=this._blurMaterial;B!=="latitudinal"&&B!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const Z=3,nt=new Za(this._lodPlanes[y],H),rt=H.uniforms,at=this._sizeLods[f]-1,ct=isFinite(w)?Math.PI/(2*at):2*Math.PI/(2*fu-1),yt=w/ct,ft=isFinite(w)?1+Math.floor(Z*yt):fu;ft>fu&&console.warn(`sigmaRadians, ${w}, is too large and will clip, as it requested ${ft} samples when the maximum is set to ${fu}`);const st=[];let Gt=0;for(let oe=0;oe<fu;++oe){const he=oe/yt,Yt=Math.exp(-he*he/2);st.push(Yt),oe===0?Gt+=Yt:oe<ft&&(Gt+=2*Yt)}for(let oe=0;oe<st.length;oe++)st[oe]=st[oe]/Gt;rt.envMap.value=r.texture,rt.samples.value=ft,rt.weights.value=st,rt.latitudinal.value=B==="latitudinal",k&&(rt.poleAxis.value=k);const{_lodMax:$t}=this;rt.dTheta.value=ct,rt.mipInt.value=$t-f;const Lt=this._sizeLods[y],pe=3*Lt*(y>$t-Vd?y-$t+Vd:0),ne=4*(this._cubeSize-Lt);A3(o,pe,ne,3*Lt,2*Lt),G.setRenderTarget(o),G.render(nt,j6)}}function OV(S){const r=[],o=[],f=[];let y=S;const w=S-Vd+1+xb.length;for(let B=0;B<w;B++){const k=Math.pow(2,y);o.push(k);let G=1/k;B>S-Vd?G=xb[B-S+Vd-1]:B===0&&(G=0),f.push(G);const H=1/(k-2),Z=-H,nt=1+H,rt=[Z,Z,nt,Z,nt,nt,Z,Z,nt,nt,Z,nt],at=6,ct=6,yt=3,ft=2,st=1,Gt=new Float32Array(yt*ct*at),$t=new Float32Array(ft*ct*at),Lt=new Float32Array(st*ct*at);for(let ne=0;ne<at;ne++){const oe=ne%3*2/3-1,he=ne>2?0:-1,Yt=[oe,he,0,oe+2/3,he,0,oe+2/3,he+1,0,oe,he,0,oe+2/3,he+1,0,oe,he+1,0];Gt.set(Yt,yt*ct*ne),$t.set(rt,ft*ct*ne);const Wt=[ne,ne,ne,ne,ne,ne];Lt.set(Wt,st*ct*ne)}const pe=new lr;pe.setAttribute("position",new Jr(Gt,yt)),pe.setAttribute("uv",new Jr($t,ft)),pe.setAttribute("faceIndex",new Jr(Lt,st)),r.push(pe),y>Vd&&y--}return{lodPlanes:r,sizeLods:o,sigmas:f}}function Ib(S,r,o){const f=new Ms(S,r,o);return f.texture.mapping=Qt,f.texture.name="PMREM.cubeUv",f.scissorTest=!0,f}function A3(S,r,o,f,y){S.viewport.set(r,o,f,y),S.scissor.set(r,o,f,y)}function xV(S,r,o){const f=new Float32Array(fu),y=new ie(0,1,0);return new x0({name:"SphericalGaussianBlur",defines:{n:fu,CUBEUV_TEXEL_WIDTH:1/r,CUBEUV_TEXEL_HEIGHT:1/o,CUBEUV_MAX_MIP:`${S}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:f},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:y}},vertexShader:Y6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:T,depthTest:!1,depthWrite:!1})}function Bb(){return new x0({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Y6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:T,depthTest:!1,depthWrite:!1})}function Rb(){return new x0({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Y6(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:T,depthTest:!1,depthWrite:!1})}function Y6(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function SV(S){let r=new WeakMap,o=null;function f(k){if(k&&k.isTexture){const G=k.mapping,H=G===tt||G===Tt,Z=G===ht||G===X;if(H||Z){let nt=r.get(k);const rt=nt!==void 0?nt.texture.pmremVersion:0;if(k.isRenderTargetTexture&&k.pmremVersion!==rt)return o===null&&(o=new X6(S)),nt=H?o.fromEquirectangular(k,nt):o.fromCubemap(k,nt),nt.texture.pmremVersion=k.pmremVersion,r.set(k,nt),nt.texture;if(nt!==void 0)return nt.texture;{const at=k.image;return H&&at&&at.height>0||Z&&at&&y(at)?(o===null&&(o=new X6(S)),nt=H?o.fromEquirectangular(k):o.fromCubemap(k),nt.texture.pmremVersion=k.pmremVersion,r.set(k,nt),k.addEventListener("dispose",w),nt.texture):null}}}return k}function y(k){let G=0;const H=6;for(let Z=0;Z<H;Z++)k[Z]!==void 0&&G++;return G===H}function w(k){const G=k.target;G.removeEventListener("dispose",w);const H=r.get(G);H!==void 0&&(r.delete(G),H.dispose())}function B(){r=new WeakMap,o!==null&&(o.dispose(),o=null)}return{get:f,dispose:B}}function TV(S){const r={};function o(f){if(r[f]!==void 0)return r[f];let y;switch(f){case"WEBGL_depth_texture":y=S.getExtension("WEBGL_depth_texture")||S.getExtension("MOZ_WEBGL_depth_texture")||S.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":y=S.getExtension("EXT_texture_filter_anisotropic")||S.getExtension("MOZ_EXT_texture_filter_anisotropic")||S.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":y=S.getExtension("WEBGL_compressed_texture_s3tc")||S.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||S.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":y=S.getExtension("WEBGL_compressed_texture_pvrtc")||S.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:y=S.getExtension(f)}return r[f]=y,y}return{has:function(f){return o(f)!==null},init:function(){o("EXT_color_buffer_float"),o("WEBGL_clip_cull_distance"),o("OES_texture_float_linear"),o("EXT_color_buffer_half_float"),o("WEBGL_multisampled_render_to_texture"),o("WEBGL_render_shared_exponent")},get:function(f){const y=o(f);return y===null&&console.warn("THREE.WebGLRenderer: "+f+" extension not supported."),y}}}function IV(S,r,o,f){const y={},w=new WeakMap;function B(nt){const rt=nt.target;rt.index!==null&&r.remove(rt.index);for(const ct in rt.attributes)r.remove(rt.attributes[ct]);for(const ct in rt.morphAttributes){const yt=rt.morphAttributes[ct];for(let ft=0,st=yt.length;ft<st;ft++)r.remove(yt[ft])}rt.removeEventListener("dispose",B),delete y[rt.id];const at=w.get(rt);at&&(r.remove(at),w.delete(rt)),f.releaseStatesOfGeometry(rt),rt.isInstancedBufferGeometry===!0&&delete rt._maxInstanceCount,o.memory.geometries--}function k(nt,rt){return y[rt.id]===!0||(rt.addEventListener("dispose",B),y[rt.id]=!0,o.memory.geometries++),rt}function G(nt){const rt=nt.attributes;for(const ct in rt)r.update(rt[ct],S.ARRAY_BUFFER);const at=nt.morphAttributes;for(const ct in at){const yt=at[ct];for(let ft=0,st=yt.length;ft<st;ft++)r.update(yt[ft],S.ARRAY_BUFFER)}}function H(nt){const rt=[],at=nt.index,ct=nt.attributes.position;let yt=0;if(at!==null){const Gt=at.array;yt=at.version;for(let $t=0,Lt=Gt.length;$t<Lt;$t+=3){const pe=Gt[$t+0],ne=Gt[$t+1],oe=Gt[$t+2];rt.push(pe,ne,ne,oe,oe,pe)}}else if(ct!==void 0){const Gt=ct.array;yt=ct.version;for(let $t=0,Lt=Gt.length/3-1;$t<Lt;$t+=3){const pe=$t+0,ne=$t+1,oe=$t+2;rt.push(pe,ne,ne,oe,oe,pe)}}else return;const ft=new(Jm(rt)?G6:$6)(rt,1);ft.version=yt;const st=w.get(nt);st&&r.remove(st),w.set(nt,ft)}function Z(nt){const rt=w.get(nt);if(rt){const at=nt.index;at!==null&&rt.version<at.version&&H(nt)}else H(nt);return w.get(nt)}return{get:k,update:G,getWireframeAttribute:Z}}function BV(S,r,o){let f;function y(rt){f=rt}let w,B;function k(rt){w=rt.type,B=rt.bytesPerElement}function G(rt,at){S.drawElements(f,at,w,rt*B),o.update(at,f,1)}function H(rt,at,ct){ct!==0&&(S.drawElementsInstanced(f,at,w,rt*B,ct),o.update(at,f,ct))}function Z(rt,at,ct){if(ct===0)return;const yt=r.get("WEBGL_multi_draw");if(yt===null)for(let ft=0;ft<ct;ft++)this.render(rt[ft]/B,at[ft]);else{yt.multiDrawElementsWEBGL(f,at,0,w,rt,0,ct);let ft=0;for(let st=0;st<ct;st++)ft+=at[st];o.update(ft,f,1)}}function nt(rt,at,ct,yt){if(ct===0)return;const ft=r.get("WEBGL_multi_draw");if(ft===null)for(let st=0;st<rt.length;st++)H(rt[st]/B,at[st],yt[st]);else{ft.multiDrawElementsInstancedWEBGL(f,at,0,w,rt,0,yt,0,ct);let st=0;for(let Gt=0;Gt<ct;Gt++)st+=at[Gt];for(let Gt=0;Gt<yt.length;Gt++)o.update(st,f,yt[Gt])}}this.setMode=y,this.setIndex=k,this.render=G,this.renderInstances=H,this.renderMultiDraw=Z,this.renderMultiDrawInstances=nt}function RV(S){const r={geometries:0,textures:0},o={frame:0,calls:0,triangles:0,points:0,lines:0};function f(w,B,k){switch(o.calls++,B){case S.TRIANGLES:o.triangles+=k*(w/3);break;case S.LINES:o.lines+=k*(w/2);break;case S.LINE_STRIP:o.lines+=k*(w-1);break;case S.LINE_LOOP:o.lines+=k*w;break;case S.POINTS:o.points+=k*w;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",B);break}}function y(){o.calls=0,o.triangles=0,o.points=0,o.lines=0}return{memory:r,render:o,programs:null,autoReset:!0,reset:y,update:f}}function DV(S,r,o){const f=new WeakMap,y=new xr;function w(B,k,G){const H=B.morphTargetInfluences,Z=k.morphAttributes.position||k.morphAttributes.normal||k.morphAttributes.color,nt=Z!==void 0?Z.length:0;let rt=f.get(k);if(rt===void 0||rt.count!==nt){let at=function(){he.dispose(),f.delete(k),k.removeEventListener("dispose",at)};rt!==void 0&&rt.texture.dispose();const ct=k.morphAttributes.position!==void 0,yt=k.morphAttributes.normal!==void 0,ft=k.morphAttributes.color!==void 0,st=k.morphAttributes.position||[],Gt=k.morphAttributes.normal||[],$t=k.morphAttributes.color||[];let Lt=0;ct===!0&&(Lt=1),yt===!0&&(Lt=2),ft===!0&&(Lt=3);let pe=k.attributes.position.count*Lt,ne=1;pe>r.maxTextureSize&&(ne=Math.ceil(pe/r.maxTextureSize),pe=r.maxTextureSize);const oe=new Float32Array(pe*ne*4*nt),he=new wd(oe,pe,ne,nt);he.type=si,he.needsUpdate=!0;const Yt=Lt*4;for(let Wt=0;Wt<nt;Wt++){const fe=st[Wt],xe=Gt[Wt],Ce=$t[Wt],Ie=pe*ne*4*Wt;for(let Ke=0;Ke<fe.count;Ke++){const hi=Ke*Yt;ct===!0&&(y.fromBufferAttribute(fe,Ke),oe[Ie+hi+0]=y.x,oe[Ie+hi+1]=y.y,oe[Ie+hi+2]=y.z,oe[Ie+hi+3]=0),yt===!0&&(y.fromBufferAttribute(xe,Ke),oe[Ie+hi+4]=y.x,oe[Ie+hi+5]=y.y,oe[Ie+hi+6]=y.z,oe[Ie+hi+7]=0),ft===!0&&(y.fromBufferAttribute(Ce,Ke),oe[Ie+hi+8]=y.x,oe[Ie+hi+9]=y.y,oe[Ie+hi+10]=y.z,oe[Ie+hi+11]=Ce.itemSize===4?y.w:1)}}rt={count:nt,texture:he,size:new mi(pe,ne)},f.set(k,rt),k.addEventListener("dispose",at)}if(B.isInstancedMesh===!0&&B.morphTexture!==null)G.getUniforms().setValue(S,"morphTexture",B.morphTexture,o);else{let at=0;for(let yt=0;yt<H.length;yt++)at+=H[yt];const ct=k.morphTargetsRelative?1:1-at;G.getUniforms().setValue(S,"morphTargetBaseInfluence",ct),G.getUniforms().setValue(S,"morphTargetInfluences",H)}G.getUniforms().setValue(S,"morphTargetsTexture",rt.texture,o),G.getUniforms().setValue(S,"morphTargetsTextureSize",rt.size)}return{update:w}}class PV{constructor(r,o,f){if(this.renderer=r,this.DEFAULT_NUMVIEWS=2,this.maxNumViews=0,this.gl=f,this.extensions=o,this.available=this.extensions.has("OCULUS_multiview"),this.available){const w=this.extensions.get("OCULUS_multiview");this.maxNumViews=this.gl.getParameter(w.MAX_VIEWS_OVR),this.mat4=[],this.mat3=[],this.cameraArray=[];for(var y=0;y<this.maxNumViews;y++)this.mat4[y]=new fn,this.mat3[y]=new Un}}getCameraArray(r){return r.isArrayCamera?r.cameras:(this.cameraArray[0]=r,this.cameraArray)}updateCameraProjectionMatricesUniform(r,o){for(var f=this.getCameraArray(r),y=0;y<f.length;y++)this.mat4[y].copy(f[y].projectionMatrix);o.setValue(this.gl,"projectionMatrices",this.mat4)}updateCameraViewMatricesUniform(r,o){for(var f=this.getCameraArray(r),y=0;y<f.length;y++)this.mat4[y].copy(f[y].matrixWorldInverse);o.setValue(this.gl,"viewMatrices",this.mat4)}updateObjectMatricesUniforms(r,o,f){for(var y=this.getCameraArray(o),w=0;w<y.length;w++)this.mat4[w].multiplyMatrices(y[w].matrixWorldInverse,r.matrixWorld),this.mat3[w].getNormalMatrix(this.mat4[w]);f.setValue(this.gl,"modelViewMatrices",this.mat4),f.setValue(this.gl,"normalMatrices",this.mat3)}}function LV(S,r,o,f){let y=new WeakMap;function w(G){const H=f.render.frame,Z=G.geometry,nt=r.get(G,Z);if(y.get(nt)!==H&&(r.update(nt),y.set(nt,H)),G.isInstancedMesh&&(G.hasEventListener("dispose",k)===!1&&G.addEventListener("dispose",k),y.get(G)!==H&&(o.update(G.instanceMatrix,S.ARRAY_BUFFER),G.instanceColor!==null&&o.update(G.instanceColor,S.ARRAY_BUFFER),y.set(G,H))),G.isSkinnedMesh){const rt=G.skeleton;y.get(rt)!==H&&(rt.update(),y.set(rt,H))}return nt}function B(){y=new WeakMap}function k(G){const H=G.target;H.removeEventListener("dispose",k),o.remove(H.instanceMatrix),H.instanceColor!==null&&o.remove(H.instanceColor)}return{update:w,dispose:B}}class Z6 extends la{constructor(r,o,f,y,w,B,k,G,H,Z){if(Z=Z!==void 0?Z:Ne,Z!==Ne&&Z!==oi)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");f===void 0&&Z===Ne&&(f=dr),f===void 0&&Z===oi&&(f=On),super(null,y,w,B,k,G,Z,f,H),this.isDepthTexture=!0,this.image={width:r,height:o},this.magFilter=k!==void 0?k:$e,this.minFilter=G!==void 0?G:$e,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(r){return super.copy(r),this.compareFunction=r.compareFunction,this}toJSON(r){const o=super.toJSON(r);return this.compareFunction!==null&&(o.compareFunction=this.compareFunction),o}}const Db=new la,Pb=new Z6(1,1);Pb.compareFunction=Df;const Lb=new wd,kb=new $n,Nb=new Hf,Fb=[],Ub=[],$b=new Float32Array(16),Gb=new Float32Array(9),Vb=new Float32Array(4);function Qd(S,r,o){const f=S[0];if(f<=0||f>0)return S;const y=r*o;let w=Fb[y];if(w===void 0&&(w=new Float32Array(y),Fb[y]=w),r!==0){f.toArray(w,0);for(let B=1,k=0;B!==r;++B)k+=o,S[B].toArray(w,k)}return w}function l9(S,r){if(S.length!==r.length)return!1;for(let o=0,f=S.length;o<f;o++)if(S[o]!==r[o])return!1;return!0}function c9(S,r){for(let o=0,f=r.length;o<f;o++)S[o]=r[o]}function y3(S,r){let o=Ub[r];o===void 0&&(o=new Int32Array(r),Ub[r]=o);for(let f=0;f!==r;++f)o[f]=S.allocateTextureUnit();return o}function kV(S,r){const o=this.cache;o[0]!==r&&(S.uniform1f(this.addr,r),o[0]=r)}function NV(S,r){const o=this.cache;if(r.x!==void 0)(o[0]!==r.x||o[1]!==r.y)&&(S.uniform2f(this.addr,r.x,r.y),o[0]=r.x,o[1]=r.y);else{if(l9(o,r))return;S.uniform2fv(this.addr,r),c9(o,r)}}function FV(S,r){const o=this.cache;if(r.x!==void 0)(o[0]!==r.x||o[1]!==r.y||o[2]!==r.z)&&(S.uniform3f(this.addr,r.x,r.y,r.z),o[0]=r.x,o[1]=r.y,o[2]=r.z);else if(r.r!==void 0)(o[0]!==r.r||o[1]!==r.g||o[2]!==r.b)&&(S.uniform3f(this.addr,r.r,r.g,r.b),o[0]=r.r,o[1]=r.g,o[2]=r.b);else{if(l9(o,r))return;S.uniform3fv(this.addr,r),c9(o,r)}}function UV(S,r){const o=this.cache;if(r.x!==void 0)(o[0]!==r.x||o[1]!==r.y||o[2]!==r.z||o[3]!==r.w)&&(S.uniform4f(this.addr,r.x,r.y,r.z,r.w),o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=r.w);else{if(l9(o,r))return;S.uniform4fv(this.addr,r),c9(o,r)}}function $V(S,r){const o=this.cache,f=r.elements;if(f===void 0){if(l9(o,r))return;S.uniformMatrix2fv(this.addr,!1,r),c9(o,r)}else{if(l9(o,f))return;Vb.set(f),S.uniformMatrix2fv(this.addr,!1,Vb),c9(o,f)}}function GV(S,r){const o=this.cache,f=r.elements;if(f===void 0){if(l9(o,r))return;S.uniformMatrix3fv(this.addr,!1,r),c9(o,r)}else{if(l9(o,f))return;Gb.set(f),S.uniformMatrix3fv(this.addr,!1,Gb),c9(o,f)}}function VV(S,r){const o=this.cache,f=r.elements;if(f===void 0){if(l9(o,r))return;S.uniformMatrix4fv(this.addr,!1,r),c9(o,r)}else{if(l9(o,f))return;$b.set(f),S.uniformMatrix4fv(this.addr,!1,$b),c9(o,f)}}function HV(S,r){const o=this.cache;o[0]!==r&&(S.uniform1i(this.addr,r),o[0]=r)}function QV(S,r){const o=this.cache;if(r.x!==void 0)(o[0]!==r.x||o[1]!==r.y)&&(S.uniform2i(this.addr,r.x,r.y),o[0]=r.x,o[1]=r.y);else{if(l9(o,r))return;S.uniform2iv(this.addr,r),c9(o,r)}}function zV(S,r){const o=this.cache;if(r.x!==void 0)(o[0]!==r.x||o[1]!==r.y||o[2]!==r.z)&&(S.uniform3i(this.addr,r.x,r.y,r.z),o[0]=r.x,o[1]=r.y,o[2]=r.z);else{if(l9(o,r))return;S.uniform3iv(this.addr,r),c9(o,r)}}function jV(S,r){const o=this.cache;if(r.x!==void 0)(o[0]!==r.x||o[1]!==r.y||o[2]!==r.z||o[3]!==r.w)&&(S.uniform4i(this.addr,r.x,r.y,r.z,r.w),o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=r.w);else{if(l9(o,r))return;S.uniform4iv(this.addr,r),c9(o,r)}}function JV(S,r){const o=this.cache;o[0]!==r&&(S.uniform1ui(this.addr,r),o[0]=r)}function WV(S,r){const o=this.cache;if(r.x!==void 0)(o[0]!==r.x||o[1]!==r.y)&&(S.uniform2ui(this.addr,r.x,r.y),o[0]=r.x,o[1]=r.y);else{if(l9(o,r))return;S.uniform2uiv(this.addr,r),c9(o,r)}}function qV(S,r){const o=this.cache;if(r.x!==void 0)(o[0]!==r.x||o[1]!==r.y||o[2]!==r.z)&&(S.uniform3ui(this.addr,r.x,r.y,r.z),o[0]=r.x,o[1]=r.y,o[2]=r.z);else{if(l9(o,r))return;S.uniform3uiv(this.addr,r),c9(o,r)}}function KV(S,r){const o=this.cache;if(r.x!==void 0)(o[0]!==r.x||o[1]!==r.y||o[2]!==r.z||o[3]!==r.w)&&(S.uniform4ui(this.addr,r.x,r.y,r.z,r.w),o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=r.w);else{if(l9(o,r))return;S.uniform4uiv(this.addr,r),c9(o,r)}}function XV(S,r,o){const f=this.cache,y=o.allocateTextureUnit();f[0]!==y&&(S.uniform1i(this.addr,y),f[0]=y);const w=this.type===S.SAMPLER_2D_SHADOW?Pb:Db;o.setTexture2D(r||w,y)}function YV(S,r,o){const f=this.cache,y=o.allocateTextureUnit();f[0]!==y&&(S.uniform1i(this.addr,y),f[0]=y),o.setTexture3D(r||kb,y)}function ZV(S,r,o){const f=this.cache,y=o.allocateTextureUnit();f[0]!==y&&(S.uniform1i(this.addr,y),f[0]=y),o.setTextureCube(r||Nb,y)}function tH(S,r,o){const f=this.cache,y=o.allocateTextureUnit();f[0]!==y&&(S.uniform1i(this.addr,y),f[0]=y),o.setTexture2DArray(r||Lb,y)}function eH(S){switch(S){case 5126:return kV;case 35664:return NV;case 35665:return FV;case 35666:return UV;case 35674:return $V;case 35675:return GV;case 35676:return VV;case 5124:case 35670:return HV;case 35667:case 35671:return QV;case 35668:case 35672:return zV;case 35669:case 35673:return jV;case 5125:return JV;case 36294:return WV;case 36295:return qV;case 36296:return KV;case 35678:case 36198:case 36298:case 36306:case 35682:return XV;case 35679:case 36299:case 36307:return YV;case 35680:case 36300:case 36308:case 36293:return ZV;case 36289:case 36303:case 36311:case 36292:return tH}}function iH(S,r){S.uniform1fv(this.addr,r)}function nH(S,r){const o=Qd(r,this.size,2);S.uniform2fv(this.addr,o)}function rH(S,r){const o=Qd(r,this.size,3);S.uniform3fv(this.addr,o)}function aH(S,r){const o=Qd(r,this.size,4);S.uniform4fv(this.addr,o)}function sH(S,r){const o=Qd(r,this.size,4);S.uniformMatrix2fv(this.addr,!1,o)}function oH(S,r){const o=Qd(r,this.size,9);S.uniformMatrix3fv(this.addr,!1,o)}function lH(S,r){const o=Qd(r,this.size,16);S.uniformMatrix4fv(this.addr,!1,o)}function cH(S,r){S.uniform1iv(this.addr,r)}function uH(S,r){S.uniform2iv(this.addr,r)}function dH(S,r){S.uniform3iv(this.addr,r)}function hH(S,r){S.uniform4iv(this.addr,r)}function fH(S,r){S.uniform1uiv(this.addr,r)}function mH(S,r){S.uniform2uiv(this.addr,r)}function pH(S,r){S.uniform3uiv(this.addr,r)}function gH(S,r){S.uniform4uiv(this.addr,r)}function MH(S,r,o){const f=this.cache,y=r.length,w=y3(o,y);l9(f,w)||(S.uniform1iv(this.addr,w),c9(f,w));for(let B=0;B!==y;++B)o.setTexture2D(r[B]||Db,w[B])}function AH(S,r,o){const f=this.cache,y=r.length,w=y3(o,y);l9(f,w)||(S.uniform1iv(this.addr,w),c9(f,w));for(let B=0;B!==y;++B)o.setTexture3D(r[B]||kb,w[B])}function yH(S,r,o){const f=this.cache,y=r.length,w=y3(o,y);l9(f,w)||(S.uniform1iv(this.addr,w),c9(f,w));for(let B=0;B!==y;++B)o.setTextureCube(r[B]||Nb,w[B])}function vH(S,r,o){const f=this.cache,y=r.length,w=y3(o,y);l9(f,w)||(S.uniform1iv(this.addr,w),c9(f,w));for(let B=0;B!==y;++B)o.setTexture2DArray(r[B]||Lb,w[B])}function bH(S){switch(S){case 5126:return iH;case 35664:return nH;case 35665:return rH;case 35666:return aH;case 35674:return sH;case 35675:return oH;case 35676:return lH;case 5124:case 35670:return cH;case 35667:case 35671:return uH;case 35668:case 35672:return dH;case 35669:case 35673:return hH;case 5125:return fH;case 36294:return mH;case 36295:return pH;case 36296:return gH;case 35678:case 36198:case 36298:case 36306:case 35682:return MH;case 35679:case 36299:case 36307:return AH;case 35680:case 36300:case 36308:case 36293:return yH;case 36289:case 36303:case 36311:case 36292:return vH}}class CH{constructor(r,o,f){this.id=r,this.addr=f,this.cache=[],this.type=o.type,this.setValue=eH(o.type)}}class _H{constructor(r,o,f){this.id=r,this.addr=f,this.cache=[],this.type=o.type,this.size=o.size,this.setValue=bH(o.type)}}class EH{constructor(r){this.id=r,this.seq=[],this.map={}}setValue(r,o,f){const y=this.seq;for(let w=0,B=y.length;w!==B;++w){const k=y[w];k.setValue(r,o[k.id],f)}}}const t7=/(\w+)(\])?(\[|\.)?/g;function Hb(S,r){S.seq.push(r),S.map[r.id]=r}function wH(S,r,o){const f=S.name,y=f.length;for(t7.lastIndex=0;;){const w=t7.exec(f),B=t7.lastIndex;let k=w[1];const G=w[2]==="]",H=w[3];if(G&&(k=k|0),H===void 0||H==="["&&B+2===y){Hb(o,H===void 0?new CH(k,S,r):new _H(k,S,r));break}else{let nt=o.map[k];nt===void 0&&(nt=new EH(k),Hb(o,nt)),o=nt}}}class v3{constructor(r,o){this.seq=[],this.map={};const f=r.getProgramParameter(o,r.ACTIVE_UNIFORMS);for(let y=0;y<f;++y){const w=r.getActiveUniform(o,y),B=r.getUniformLocation(o,w.name);wH(w,B,this)}}setValue(r,o,f,y){const w=this.map[o];w!==void 0&&w.setValue(r,f,y)}setOptional(r,o,f){const y=o[f];y!==void 0&&this.setValue(r,f,y)}static upload(r,o,f,y){for(let w=0,B=o.length;w!==B;++w){const k=o[w],G=f[k.id];G.needsUpdate!==!1&&k.setValue(r,G.value,y)}}static seqWithValue(r,o){const f=[];for(let y=0,w=r.length;y!==w;++y){const B=r[y];B.id in o&&f.push(B)}return f}}function Qb(S,r,o){const f=S.createShader(r);return S.shaderSource(f,o),S.compileShader(f),f}const OH=37297;let xH=0;function SH(S,r){const o=S.split(`
`),f=[],y=Math.max(r-6,0),w=Math.min(r+6,o.length);for(let B=y;B<w;B++){const k=B+1;f.push(`${k===r?">":" "} ${k}: ${o[B]}`)}return f.join(`
`)}function TH(S){const r=Nr.getPrimaries(Nr.workingColorSpace),o=Nr.getPrimaries(S);let f;switch(r===o?f="":r===ru&&o===nu?f="LinearDisplayP3ToLinearSRGB":r===nu&&o===ru&&(f="LinearSRGBToLinearDisplayP3"),S){case w0:case eu:return[f,"LinearTransferOETF"];case Er:case bd:return[f,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",S),[f,"LinearTransferOETF"]}}function zb(S,r,o){const f=S.getShaderParameter(r,S.COMPILE_STATUS),y=S.getShaderInfoLog(r).trim();if(f&&y==="")return"";const w=/ERROR: 0:(\d+)/.exec(y);if(w){const B=parseInt(w[1]);return o.toUpperCase()+`

`+y+`

`+SH(S.getShaderSource(r),B)}else return y}function IH(S,r){const o=TH(r);return`vec4 ${S}( vec4 value ) { return ${o[0]}( ${o[1]}( value ) ); }`}function BH(S,r){let o;switch(r){case Ze:o="Linear";break;case be:o="Reinhard";break;case ve:o="OptimizedCineon";break;case re:o="ACESFilmic";break;case vt:o="AgX";break;case Ht:o="Neutral";break;case Et:o="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",r),o="Linear"}return"vec3 "+S+"( vec3 color ) { return "+o+"ToneMapping( color ); }"}function RH(S){return[S.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",S.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(zf).join(`
`)}function DH(S){const r=[];for(const o in S){const f=S[o];f!==!1&&r.push("#define "+o+" "+f)}return r.join(`
`)}function PH(S,r){const o={},f=S.getProgramParameter(r,S.ACTIVE_ATTRIBUTES);for(let y=0;y<f;y++){const w=S.getActiveAttrib(r,y),B=w.name;let k=1;w.type===S.FLOAT_MAT2&&(k=2),w.type===S.FLOAT_MAT3&&(k=3),w.type===S.FLOAT_MAT4&&(k=4),o[B]={type:w.type,location:S.getAttribLocation(r,B),locationSize:k}}return o}function zf(S){return S!==""}function jb(S,r){const o=r.numSpotLightShadows+r.numSpotLightMaps-r.numSpotLightShadowsWithMaps;return S.replace(/NUM_DIR_LIGHTS/g,r.numDirLights).replace(/NUM_SPOT_LIGHTS/g,r.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,r.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,o).replace(/NUM_RECT_AREA_LIGHTS/g,r.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,r.numPointLights).replace(/NUM_HEMI_LIGHTS/g,r.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,r.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,r.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,r.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,r.numPointLightShadows)}function Jb(S,r){return S.replace(/NUM_CLIPPING_PLANES/g,r.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,r.numClippingPlanes-r.numClipIntersection)}const LH=/^[ \t]*#include +<([\w\d./]+)>/gm;function e7(S){return S.replace(LH,NH)}const kH=new Map;function NH(S,r){let o=er[r];if(o===void 0){const f=kH.get(r);if(f!==void 0)o=er[f],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',r,f);else throw new Error("Can not resolve #include <"+r+">")}return e7(o)}const FH=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Wb(S){return S.replace(FH,UH)}function UH(S,r,o,f){let y="";for(let w=parseInt(r);w<parseInt(o);w++)y+=f.replace(/\[\s*i\s*\]/g,"[ "+w+" ]").replace(/UNROLLED_LOOP_INDEX/g,w);return y}function qb(S){let r=`precision ${S.precision} float;
	precision ${S.precision} int;
	precision ${S.precision} sampler2D;
	precision ${S.precision} samplerCube;
	precision ${S.precision} sampler3D;
	precision ${S.precision} sampler2DArray;
	precision ${S.precision} sampler2DShadow;
	precision ${S.precision} samplerCubeShadow;
	precision ${S.precision} sampler2DArrayShadow;
	precision ${S.precision} isampler2D;
	precision ${S.precision} isampler3D;
	precision ${S.precision} isamplerCube;
	precision ${S.precision} isampler2DArray;
	precision ${S.precision} usampler2D;
	precision ${S.precision} usampler3D;
	precision ${S.precision} usamplerCube;
	precision ${S.precision} usampler2DArray;
	`;return S.precision==="highp"?r+=`
#define HIGH_PRECISION`:S.precision==="mediump"?r+=`
#define MEDIUM_PRECISION`:S.precision==="lowp"&&(r+=`
#define LOW_PRECISION`),r}function $H(S){let r="SHADOWMAP_TYPE_BASIC";return S.shadowMapType===E?r="SHADOWMAP_TYPE_PCF":S.shadowMapType===x?r="SHADOWMAP_TYPE_PCF_SOFT":S.shadowMapType===_&&(r="SHADOWMAP_TYPE_VSM"),r}function GH(S){let r="ENVMAP_TYPE_CUBE";if(S.envMap)switch(S.envMapMode){case ht:case X:r="ENVMAP_TYPE_CUBE";break;case Qt:r="ENVMAP_TYPE_CUBE_UV";break}return r}function VH(S){let r="ENVMAP_MODE_REFLECTION";if(S.envMap)switch(S.envMapMode){case X:r="ENVMAP_MODE_REFRACTION";break}return r}function HH(S){let r="ENVMAP_BLENDING_NONE";if(S.envMap)switch(S.combine){case ai:r="ENVMAP_BLENDING_MULTIPLY";break;case Ye:r="ENVMAP_BLENDING_MIX";break;case ci:r="ENVMAP_BLENDING_ADD";break}return r}function QH(S){const r=S.envMapCubeUVHeight;if(r===null)return null;const o=Math.log2(r)-2,f=1/r;return{texelWidth:1/(3*Math.max(Math.pow(2,o),7*16)),texelHeight:f,maxMip:o}}function zH(S,r,o,f){const y=S.getContext(),w=o.defines;let B=o.vertexShader,k=o.fragmentShader;const G=$H(o),H=GH(o),Z=VH(o),nt=HH(o),rt=QH(o),at=RH(o),ct=DH(w),yt=y.createProgram();let ft,st,Gt=o.glslVersion?"#version "+o.glslVersion+`
`:"";const $t=o.numMultiviewViews;o.isRawShaderMaterial?(ft=["#define SHADER_TYPE "+o.shaderType,"#define SHADER_NAME "+o.shaderName,ct].filter(zf).join(`
`),ft.length>0&&(ft+=`
`),st=["#define SHADER_TYPE "+o.shaderType,"#define SHADER_NAME "+o.shaderName,ct].filter(zf).join(`
`),st.length>0&&(st+=`
`)):(ft=[qb(o),"#define SHADER_TYPE "+o.shaderType,"#define SHADER_NAME "+o.shaderName,ct,o.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",o.batching?"#define USE_BATCHING":"",o.instancing?"#define USE_INSTANCING":"",o.instancingColor?"#define USE_INSTANCING_COLOR":"",o.instancingMorph?"#define USE_INSTANCING_MORPH":"",o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+Z:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",o.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",o.displacementMap?"#define USE_DISPLACEMENTMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.anisotropy?"#define USE_ANISOTROPY":"",o.anisotropyMap?"#define USE_ANISOTROPYMAP":"",o.clearcoatMap?"#define USE_CLEARCOATMAP":"",o.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",o.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",o.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.alphaHash?"#define USE_ALPHAHASH":"",o.transmission?"#define USE_TRANSMISSION":"",o.transmissionMap?"#define USE_TRANSMISSIONMAP":"",o.thicknessMap?"#define USE_THICKNESSMAP":"",o.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",o.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",o.mapUv?"#define MAP_UV "+o.mapUv:"",o.alphaMapUv?"#define ALPHAMAP_UV "+o.alphaMapUv:"",o.lightMapUv?"#define LIGHTMAP_UV "+o.lightMapUv:"",o.aoMapUv?"#define AOMAP_UV "+o.aoMapUv:"",o.emissiveMapUv?"#define EMISSIVEMAP_UV "+o.emissiveMapUv:"",o.bumpMapUv?"#define BUMPMAP_UV "+o.bumpMapUv:"",o.normalMapUv?"#define NORMALMAP_UV "+o.normalMapUv:"",o.displacementMapUv?"#define DISPLACEMENTMAP_UV "+o.displacementMapUv:"",o.metalnessMapUv?"#define METALNESSMAP_UV "+o.metalnessMapUv:"",o.roughnessMapUv?"#define ROUGHNESSMAP_UV "+o.roughnessMapUv:"",o.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+o.anisotropyMapUv:"",o.clearcoatMapUv?"#define CLEARCOATMAP_UV "+o.clearcoatMapUv:"",o.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+o.clearcoatNormalMapUv:"",o.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+o.clearcoatRoughnessMapUv:"",o.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+o.iridescenceMapUv:"",o.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+o.iridescenceThicknessMapUv:"",o.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+o.sheenColorMapUv:"",o.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+o.sheenRoughnessMapUv:"",o.specularMapUv?"#define SPECULARMAP_UV "+o.specularMapUv:"",o.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+o.specularColorMapUv:"",o.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+o.specularIntensityMapUv:"",o.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+o.transmissionMapUv:"",o.thicknessMapUv?"#define THICKNESSMAP_UV "+o.thicknessMapUv:"",o.vertexTangents&&o.flatShading===!1?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexAlphas?"#define USE_COLOR_ALPHA":"",o.vertexUv1s?"#define USE_UV1":"",o.vertexUv2s?"#define USE_UV2":"",o.vertexUv3s?"#define USE_UV3":"",o.pointsUvs?"#define USE_POINTS_UV":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&o.flatShading===!1?"#define USE_MORPHNORMALS":"",o.morphColors?"#define USE_MORPHCOLORS":"",o.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",o.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+o.morphTextureStride:"",o.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+o.morphTargetsCount:"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+G:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.numLightProbes>0?"#define USE_LIGHT_PROBES":"",o.useLegacyLights?"#define LEGACY_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(zf).join(`
`),st=[qb(o),"#define SHADER_TYPE "+o.shaderType,"#define SHADER_NAME "+o.shaderName,ct,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+H:"",o.envMap?"#define "+Z:"",o.envMap?"#define "+nt:"",rt?"#define CUBEUV_TEXEL_WIDTH "+rt.texelWidth:"",rt?"#define CUBEUV_TEXEL_HEIGHT "+rt.texelHeight:"",rt?"#define CUBEUV_MAX_MIP "+rt.maxMip+".0":"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",o.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.anisotropy?"#define USE_ANISOTROPY":"",o.anisotropyMap?"#define USE_ANISOTROPYMAP":"",o.clearcoat?"#define USE_CLEARCOAT":"",o.clearcoatMap?"#define USE_CLEARCOATMAP":"",o.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.dispersion?"#define USE_DISPERSION":"",o.iridescence?"#define USE_IRIDESCENCE":"",o.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",o.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",o.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.alphaTest?"#define USE_ALPHATEST":"",o.alphaHash?"#define USE_ALPHAHASH":"",o.sheen?"#define USE_SHEEN":"",o.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",o.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",o.transmission?"#define USE_TRANSMISSION":"",o.transmissionMap?"#define USE_TRANSMISSIONMAP":"",o.thicknessMap?"#define USE_THICKNESSMAP":"",o.vertexTangents&&o.flatShading===!1?"#define USE_TANGENT":"",o.vertexColors||o.instancingColor?"#define USE_COLOR":"",o.vertexAlphas?"#define USE_COLOR_ALPHA":"",o.vertexUv1s?"#define USE_UV1":"",o.vertexUv2s?"#define USE_UV2":"",o.vertexUv3s?"#define USE_UV3":"",o.pointsUvs?"#define USE_POINTS_UV":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+G:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.numLightProbes>0?"#define USE_LIGHT_PROBES":"",o.useLegacyLights?"#define LEGACY_LIGHTS":"",o.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",o.toneMapping!==ei?"#define TONE_MAPPING":"",o.toneMapping!==ei?er.tonemapping_pars_fragment:"",o.toneMapping!==ei?BH("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.opaque?"#define OPAQUE":"",er.colorspace_pars_fragment,IH("linearToOutputTexel",o.outputColorSpace),o.useDepthPacking?"#define DEPTH_PACKING "+o.depthPacking:"",`
`].filter(zf).join(`
`)),B=e7(B),B=jb(B,o),B=Jb(B,o),k=e7(k),k=jb(k,o),k=Jb(k,o),B=Wb(B),k=Wb(k),o.isRawShaderMaterial!==!0&&(Gt=`#version 300 es
`,ft=[at,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ft,st=["#define varying in",o.glslVersion===Pf?"":"layout(location = 0) out highp vec4 pc_fragColor;",o.glslVersion===Pf?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+st,$t>0&&(ft=["#extension GL_OVR_multiview : require","layout(num_views = "+$t+") in;","#define VIEW_ID gl_ViewID_OVR"].join(`
`)+`
`+ft,ft=ft.replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join(`
`),["uniform mat4 modelViewMatrices["+$t+"];","uniform mat4 projectionMatrices["+$t+"];","uniform mat4 viewMatrices["+$t+"];","uniform mat3 normalMatrices["+$t+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join(`
`)),st=["#extension GL_OVR_multiview : require","#define VIEW_ID gl_ViewID_OVR"].join(`
`)+`
`+st,st=st.replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+$t+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join(`
`))));const Lt=Gt+ft+B,pe=Gt+st+k,ne=Qb(y,y.VERTEX_SHADER,Lt),oe=Qb(y,y.FRAGMENT_SHADER,pe);y.attachShader(yt,ne),y.attachShader(yt,oe),o.index0AttributeName!==void 0?y.bindAttribLocation(yt,0,o.index0AttributeName):o.morphTargets===!0&&y.bindAttribLocation(yt,0,"position"),y.linkProgram(yt);function he(xe){if(S.debug.checkShaderErrors){const Ce=y.getProgramInfoLog(yt).trim(),Ie=y.getShaderInfoLog(ne).trim(),Ke=y.getShaderInfoLog(oe).trim();let hi=!0,Li=!0;if(y.getProgramParameter(yt,y.LINK_STATUS)===!1)if(hi=!1,typeof S.debug.onShaderError=="function")S.debug.onShaderError(y,yt,ne,oe);else{const ti=zb(y,ne,"vertex"),Ti=zb(y,oe,"fragment");console.error("THREE.WebGLProgram: Shader Error "+y.getError()+" - VALIDATE_STATUS "+y.getProgramParameter(yt,y.VALIDATE_STATUS)+`

Material Name: `+xe.name+`
Material Type: `+xe.type+`

Program Info Log: `+Ce+`
`+ti+`
`+Ti)}else Ce!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ce):(Ie===""||Ke==="")&&(Li=!1);Li&&(xe.diagnostics={runnable:hi,programLog:Ce,vertexShader:{log:Ie,prefix:ft},fragmentShader:{log:Ke,prefix:st}})}y.deleteShader(ne),y.deleteShader(oe),Yt=new v3(y,yt),Wt=PH(y,yt)}let Yt;this.getUniforms=function(){return Yt===void 0&&he(this),Yt};let Wt;this.getAttributes=function(){return Wt===void 0&&he(this),Wt};let fe=o.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return fe===!1&&(fe=y.getProgramParameter(yt,OH)),fe},this.destroy=function(){f.releaseStatesOfProgram(this),y.deleteProgram(yt),this.program=void 0},this.type=o.shaderType,this.name=o.shaderName,this.id=xH++,this.cacheKey=r,this.usedTimes=1,this.program=yt,this.vertexShader=ne,this.fragmentShader=oe,this.numMultiviewViews=$t,this}let jH=0;class JH{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(r){const o=r.vertexShader,f=r.fragmentShader,y=this._getShaderStage(o),w=this._getShaderStage(f),B=this._getShaderCacheForMaterial(r);return B.has(y)===!1&&(B.add(y),y.usedTimes++),B.has(w)===!1&&(B.add(w),w.usedTimes++),this}remove(r){const o=this.materialCache.get(r);for(const f of o)f.usedTimes--,f.usedTimes===0&&this.shaderCache.delete(f.code);return this.materialCache.delete(r),this}getVertexShaderID(r){return this._getShaderStage(r.vertexShader).id}getFragmentShaderID(r){return this._getShaderStage(r.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(r){const o=this.materialCache;let f=o.get(r);return f===void 0&&(f=new Set,o.set(r,f)),f}_getShaderStage(r){const o=this.shaderCache;let f=o.get(r);return f===void 0&&(f=new WH(r),o.set(r,f)),f}}class WH{constructor(r){this.id=jH++,this.code=r,this.usedTimes=0}}function qH(S,r,o,f,y,w,B){const k=new i3,G=new JH,H=new Set,Z=[],nt=y.logarithmicDepthBuffer,rt=y.vertexTextures;let at=y.precision;const ct={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function yt(Yt){return H.add(Yt),Yt===0?"uv":`uv${Yt}`}function ft(Yt,Wt,fe,xe,Ce){const Ie=xe.fog,Ke=Ce.geometry,hi=Yt.isMeshStandardMaterial?xe.environment:null,Li=(Yt.isMeshStandardMaterial?o:r).get(Yt.envMap||hi),ti=Li&&Li.mapping===Qt?Li.image.height:null,Ti=ct[Yt.type];Yt.precision!==null&&(at=y.getMaxPrecision(Yt.precision),at!==Yt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Yt.precision,"not supported, using",at,"instead."));const Bi=Ke.morphAttributes.position||Ke.morphAttributes.normal||Ke.morphAttributes.color,hn=Bi!==void 0?Bi.length:0;let cr=0;Ke.morphAttributes.position!==void 0&&(cr=1),Ke.morphAttributes.normal!==void 0&&(cr=2),Ke.morphAttributes.color!==void 0&&(cr=3);let Fr,ha,Dr,Zr;if(Ti){const u9=S0[Ti];Fr=u9.vertexShader,ha=u9.fragmentShader}else Fr=Yt.vertexShader,ha=Yt.fragmentShader,G.update(Yt),Dr=G.getVertexShaderID(Yt),Zr=G.getFragmentShaderID(Yt);const mn=S.getRenderTarget(),gi=mn&&mn.isWebGLMultiviewRenderTarget?mn.numViews:0,Ni=Ce.isInstancedMesh===!0,Gi=Ce.isBatchedMesh===!0,Be=!!Yt.map,Mi=!!Yt.matcap,li=!!Li,Si=!!Yt.aoMap,xi=!!Yt.lightMap,_i=!!Yt.bumpMap,Qi=!!Yt.normalMap,rn=!!Yt.displacementMap,Nn=!!Yt.emissiveMap,Qn=!!Yt.metalnessMap,Pr=!!Yt.roughnessMap,Ba=Yt.anisotropy>0,fa=Yt.clearcoat>0,de=Yt.dispersion>0,qt=Yt.iridescence>0,ri=Yt.sheen>0,pi=Yt.transmission>0,vi=Ba&&!!Yt.anisotropyMap,Ai=fa&&!!Yt.clearcoatMap,gn=fa&&!!Yt.clearcoatNormalMap,ki=fa&&!!Yt.clearcoatRoughnessMap,sn=qt&&!!Yt.iridescenceMap,Hr=qt&&!!Yt.iridescenceThicknessMap,on=ri&&!!Yt.sheenColorMap,An=ri&&!!Yt.sheenRoughnessMap,ir=!!Yt.specularMap,Bn=!!Yt.specularColorMap,Ae=!!Yt.specularIntensityMap,Ei=pi&&!!Yt.transmissionMap,Ri=pi&&!!Yt.thicknessMap,Mn=!!Yt.gradientMap,en=!!Yt.alphaMap,nr=Yt.alphaTest>0,nn=!!Yt.alphaHash,zi=!!Yt.extensions;let hr=ei;Yt.toneMapped&&(mn===null||mn.isXRRenderTarget===!0)&&(hr=S.toneMapping);const Dn={shaderID:Ti,shaderType:Yt.type,shaderName:Yt.name,vertexShader:Fr,fragmentShader:ha,defines:Yt.defines,customVertexShaderID:Dr,customFragmentShaderID:Zr,isRawShaderMaterial:Yt.isRawShaderMaterial===!0,glslVersion:Yt.glslVersion,precision:at,batching:Gi,instancing:Ni,instancingColor:Ni&&Ce.instanceColor!==null,instancingMorph:Ni&&Ce.morphTexture!==null,supportsVertexTextures:rt,numMultiviewViews:gi,outputColorSpace:mn===null?S.outputColorSpace:mn.isXRRenderTarget===!0?mn.texture.colorSpace:w0,alphaToCoverage:!!Yt.alphaToCoverage,map:Be,matcap:Mi,envMap:li,envMapMode:li&&Li.mapping,envMapCubeUVHeight:ti,aoMap:Si,lightMap:xi,bumpMap:_i,normalMap:Qi,displacementMap:rt&&rn,emissiveMap:Nn,normalMapObjectSpace:Qi&&Yt.normalMapType===ro,normalMapTangentSpace:Qi&&Yt.normalMapType===$9,metalnessMap:Qn,roughnessMap:Pr,anisotropy:Ba,anisotropyMap:vi,clearcoat:fa,clearcoatMap:Ai,clearcoatNormalMap:gn,clearcoatRoughnessMap:ki,dispersion:de,iridescence:qt,iridescenceMap:sn,iridescenceThicknessMap:Hr,sheen:ri,sheenColorMap:on,sheenRoughnessMap:An,specularMap:ir,specularColorMap:Bn,specularIntensityMap:Ae,transmission:pi,transmissionMap:Ei,thicknessMap:Ri,gradientMap:Mn,opaque:Yt.transparent===!1&&Yt.blending===D&&Yt.alphaToCoverage===!1,alphaMap:en,alphaTest:nr,alphaHash:nn,combine:Yt.combine,mapUv:Be&&yt(Yt.map.channel),aoMapUv:Si&&yt(Yt.aoMap.channel),lightMapUv:xi&&yt(Yt.lightMap.channel),bumpMapUv:_i&&yt(Yt.bumpMap.channel),normalMapUv:Qi&&yt(Yt.normalMap.channel),displacementMapUv:rn&&yt(Yt.displacementMap.channel),emissiveMapUv:Nn&&yt(Yt.emissiveMap.channel),metalnessMapUv:Qn&&yt(Yt.metalnessMap.channel),roughnessMapUv:Pr&&yt(Yt.roughnessMap.channel),anisotropyMapUv:vi&&yt(Yt.anisotropyMap.channel),clearcoatMapUv:Ai&&yt(Yt.clearcoatMap.channel),clearcoatNormalMapUv:gn&&yt(Yt.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ki&&yt(Yt.clearcoatRoughnessMap.channel),iridescenceMapUv:sn&&yt(Yt.iridescenceMap.channel),iridescenceThicknessMapUv:Hr&&yt(Yt.iridescenceThicknessMap.channel),sheenColorMapUv:on&&yt(Yt.sheenColorMap.channel),sheenRoughnessMapUv:An&&yt(Yt.sheenRoughnessMap.channel),specularMapUv:ir&&yt(Yt.specularMap.channel),specularColorMapUv:Bn&&yt(Yt.specularColorMap.channel),specularIntensityMapUv:Ae&&yt(Yt.specularIntensityMap.channel),transmissionMapUv:Ei&&yt(Yt.transmissionMap.channel),thicknessMapUv:Ri&&yt(Yt.thicknessMap.channel),alphaMapUv:en&&yt(Yt.alphaMap.channel),vertexTangents:!!Ke.attributes.tangent&&(Qi||Ba),vertexColors:Yt.vertexColors,vertexAlphas:Yt.vertexColors===!0&&!!Ke.attributes.color&&Ke.attributes.color.itemSize===4,pointsUvs:Ce.isPoints===!0&&!!Ke.attributes.uv&&(Be||en),fog:!!Ie,useFog:Yt.fog===!0,fogExp2:!!Ie&&Ie.isFogExp2,flatShading:Yt.flatShading===!0,sizeAttenuation:Yt.sizeAttenuation===!0,logarithmicDepthBuffer:nt,skinning:Ce.isSkinnedMesh===!0,morphTargets:Ke.morphAttributes.position!==void 0,morphNormals:Ke.morphAttributes.normal!==void 0,morphColors:Ke.morphAttributes.color!==void 0,morphTargetsCount:hn,morphTextureStride:cr,numDirLights:Wt.directional.length,numPointLights:Wt.point.length,numSpotLights:Wt.spot.length,numSpotLightMaps:Wt.spotLightMap.length,numRectAreaLights:Wt.rectArea.length,numHemiLights:Wt.hemi.length,numDirLightShadows:Wt.directionalShadowMap.length,numPointLightShadows:Wt.pointShadowMap.length,numSpotLightShadows:Wt.spotShadowMap.length,numSpotLightShadowsWithMaps:Wt.numSpotLightShadowsWithMaps,numLightProbes:Wt.numLightProbes,numClippingPlanes:B.numPlanes,numClipIntersection:B.numIntersection,dithering:Yt.dithering,shadowMapEnabled:S.shadowMap.enabled&&fe.length>0,shadowMapType:S.shadowMap.type,toneMapping:hr,useLegacyLights:S._useLegacyLights,decodeVideoTexture:Be&&Yt.map.isVideoTexture===!0&&Nr.getTransfer(Yt.map.colorSpace)===Yr,premultipliedAlpha:Yt.premultipliedAlpha,doubleSided:Yt.side===I,flipSided:Yt.side===O,useDepthPacking:Yt.depthPacking>=0,depthPacking:Yt.depthPacking||0,index0AttributeName:Yt.index0AttributeName,extensionClipCullDistance:zi&&Yt.extensions.clipCullDistance===!0&&f.has("WEBGL_clip_cull_distance"),extensionMultiDraw:zi&&Yt.extensions.multiDraw===!0&&f.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:f.has("KHR_parallel_shader_compile"),customProgramCacheKey:Yt.customProgramCacheKey()};return Dn.vertexUv1s=H.has(1),Dn.vertexUv2s=H.has(2),Dn.vertexUv3s=H.has(3),H.clear(),Dn}function st(Yt){const Wt=[];if(Yt.shaderID?Wt.push(Yt.shaderID):(Wt.push(Yt.customVertexShaderID),Wt.push(Yt.customFragmentShaderID)),Yt.defines!==void 0)for(const fe in Yt.defines)Wt.push(fe),Wt.push(Yt.defines[fe]);return Yt.isRawShaderMaterial===!1&&(Gt(Wt,Yt),$t(Wt,Yt),Wt.push(S.outputColorSpace)),Wt.push(Yt.customProgramCacheKey),Wt.join()}function Gt(Yt,Wt){Yt.push(Wt.precision),Yt.push(Wt.outputColorSpace),Yt.push(Wt.envMapMode),Yt.push(Wt.envMapCubeUVHeight),Yt.push(Wt.mapUv),Yt.push(Wt.alphaMapUv),Yt.push(Wt.lightMapUv),Yt.push(Wt.aoMapUv),Yt.push(Wt.bumpMapUv),Yt.push(Wt.normalMapUv),Yt.push(Wt.displacementMapUv),Yt.push(Wt.emissiveMapUv),Yt.push(Wt.metalnessMapUv),Yt.push(Wt.roughnessMapUv),Yt.push(Wt.anisotropyMapUv),Yt.push(Wt.clearcoatMapUv),Yt.push(Wt.clearcoatNormalMapUv),Yt.push(Wt.clearcoatRoughnessMapUv),Yt.push(Wt.iridescenceMapUv),Yt.push(Wt.iridescenceThicknessMapUv),Yt.push(Wt.sheenColorMapUv),Yt.push(Wt.sheenRoughnessMapUv),Yt.push(Wt.specularMapUv),Yt.push(Wt.specularColorMapUv),Yt.push(Wt.specularIntensityMapUv),Yt.push(Wt.transmissionMapUv),Yt.push(Wt.thicknessMapUv),Yt.push(Wt.combine),Yt.push(Wt.fogExp2),Yt.push(Wt.sizeAttenuation),Yt.push(Wt.morphTargetsCount),Yt.push(Wt.morphAttributeCount),Yt.push(Wt.numDirLights),Yt.push(Wt.numPointLights),Yt.push(Wt.numSpotLights),Yt.push(Wt.numSpotLightMaps),Yt.push(Wt.numHemiLights),Yt.push(Wt.numRectAreaLights),Yt.push(Wt.numDirLightShadows),Yt.push(Wt.numPointLightShadows),Yt.push(Wt.numSpotLightShadows),Yt.push(Wt.numSpotLightShadowsWithMaps),Yt.push(Wt.numLightProbes),Yt.push(Wt.shadowMapType),Yt.push(Wt.toneMapping),Yt.push(Wt.numClippingPlanes),Yt.push(Wt.numClipIntersection),Yt.push(Wt.depthPacking)}function $t(Yt,Wt){k.disableAll(),Wt.supportsVertexTextures&&k.enable(0),Wt.instancing&&k.enable(1),Wt.instancingColor&&k.enable(2),Wt.instancingMorph&&k.enable(3),Wt.matcap&&k.enable(4),Wt.envMap&&k.enable(5),Wt.normalMapObjectSpace&&k.enable(6),Wt.normalMapTangentSpace&&k.enable(7),Wt.clearcoat&&k.enable(8),Wt.iridescence&&k.enable(9),Wt.alphaTest&&k.enable(10),Wt.vertexColors&&k.enable(11),Wt.vertexAlphas&&k.enable(12),Wt.vertexUv1s&&k.enable(13),Wt.vertexUv2s&&k.enable(14),Wt.vertexUv3s&&k.enable(15),Wt.vertexTangents&&k.enable(16),Wt.anisotropy&&k.enable(17),Wt.alphaHash&&k.enable(18),Wt.batching&&k.enable(19),Wt.dispersion&&k.enable(20),Yt.push(k.mask),k.disableAll(),Wt.fog&&k.enable(0),Wt.useFog&&k.enable(1),Wt.flatShading&&k.enable(2),Wt.logarithmicDepthBuffer&&k.enable(3),Wt.skinning&&k.enable(4),Wt.morphTargets&&k.enable(5),Wt.morphNormals&&k.enable(6),Wt.morphColors&&k.enable(7),Wt.premultipliedAlpha&&k.enable(8),Wt.shadowMapEnabled&&k.enable(9),Wt.useLegacyLights&&k.enable(10),Wt.doubleSided&&k.enable(11),Wt.flipSided&&k.enable(12),Wt.useDepthPacking&&k.enable(13),Wt.dithering&&k.enable(14),Wt.transmission&&k.enable(15),Wt.sheen&&k.enable(16),Wt.opaque&&k.enable(17),Wt.pointsUvs&&k.enable(18),Wt.decodeVideoTexture&&k.enable(19),Wt.alphaToCoverage&&k.enable(20),Wt.numMultiviewViews&&k.enable(21),Yt.push(k.mask)}function Lt(Yt){const Wt=ct[Yt.type];let fe;if(Wt){const xe=S0[Wt];fe=Cb.clone(xe.uniforms)}else fe=Yt.uniforms;return fe}function pe(Yt,Wt){let fe;for(let xe=0,Ce=Z.length;xe<Ce;xe++){const Ie=Z[xe];if(Ie.cacheKey===Wt){fe=Ie,++fe.usedTimes;break}}return fe===void 0&&(fe=new zH(S,Wt,Yt,w),Z.push(fe)),fe}function ne(Yt){if(--Yt.usedTimes===0){const Wt=Z.indexOf(Yt);Z[Wt]=Z[Z.length-1],Z.pop(),Yt.destroy()}}function oe(Yt){G.remove(Yt)}function he(){G.dispose()}return{getParameters:ft,getProgramCacheKey:st,getUniforms:Lt,acquireProgram:pe,releaseProgram:ne,releaseShaderCache:oe,programs:Z,dispose:he}}function KH(){let S=new WeakMap;function r(w){let B=S.get(w);return B===void 0&&(B={},S.set(w,B)),B}function o(w){S.delete(w)}function f(w,B,k){S.get(w)[B]=k}function y(){S=new WeakMap}return{get:r,remove:o,update:f,dispose:y}}function XH(S,r){return S.groupOrder!==r.groupOrder?S.groupOrder-r.groupOrder:S.renderOrder!==r.renderOrder?S.renderOrder-r.renderOrder:S.material.id!==r.material.id?S.material.id-r.material.id:S.z!==r.z?S.z-r.z:S.id-r.id}function Kb(S,r){return S.groupOrder!==r.groupOrder?S.groupOrder-r.groupOrder:S.renderOrder!==r.renderOrder?S.renderOrder-r.renderOrder:S.z!==r.z?r.z-S.z:S.id-r.id}function Xb(){const S=[];let r=0;const o=[],f=[],y=[];function w(){r=0,o.length=0,f.length=0,y.length=0}function B(nt,rt,at,ct,yt,ft){let st=S[r];return st===void 0?(st={id:nt.id,object:nt,geometry:rt,material:at,groupOrder:ct,renderOrder:nt.renderOrder,z:yt,group:ft},S[r]=st):(st.id=nt.id,st.object=nt,st.geometry=rt,st.material=at,st.groupOrder=ct,st.renderOrder=nt.renderOrder,st.z=yt,st.group=ft),r++,st}function k(nt,rt,at,ct,yt,ft){const st=B(nt,rt,at,ct,yt,ft);at.transmission>0?f.push(st):at.transparent===!0?y.push(st):o.push(st)}function G(nt,rt,at,ct,yt,ft){const st=B(nt,rt,at,ct,yt,ft);at.transmission>0?f.unshift(st):at.transparent===!0?y.unshift(st):o.unshift(st)}function H(nt,rt){o.length>1&&o.sort(nt||XH),f.length>1&&f.sort(rt||Kb),y.length>1&&y.sort(rt||Kb)}function Z(){for(let nt=r,rt=S.length;nt<rt;nt++){const at=S[nt];if(at.id===null)break;at.id=null,at.object=null,at.geometry=null,at.material=null,at.group=null}}return{opaque:o,transmissive:f,transparent:y,init:w,push:k,unshift:G,finish:Z,sort:H}}function YH(){let S=new WeakMap;function r(f,y){const w=S.get(f);let B;return w===void 0?(B=new Xb,S.set(f,[B])):y>=w.length?(B=new Xb,w.push(B)):B=w[y],B}function o(){S=new WeakMap}return{get:r,dispose:o}}function ZH(){const S={};return{get:function(r){if(S[r.id]!==void 0)return S[r.id];let o;switch(r.type){case"DirectionalLight":o={direction:new ie,color:new an};break;case"SpotLight":o={position:new ie,direction:new ie,color:new an,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":o={position:new ie,color:new an,distance:0,decay:0};break;case"HemisphereLight":o={direction:new ie,skyColor:new an,groundColor:new an};break;case"RectAreaLight":o={color:new an,position:new ie,halfWidth:new ie,halfHeight:new ie};break}return S[r.id]=o,o}}}function tQ(){const S={};return{get:function(r){if(S[r.id]!==void 0)return S[r.id];let o;switch(r.type){case"DirectionalLight":o={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mi};break;case"SpotLight":o={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mi};break;case"PointLight":o={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new mi,shadowCameraNear:1,shadowCameraFar:1e3};break}return S[r.id]=o,o}}}let eQ=0;function iQ(S,r){return(r.castShadow?2:0)-(S.castShadow?2:0)+(r.map?1:0)-(S.map?1:0)}function nQ(S){const r=new ZH,o=tQ(),f={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let H=0;H<9;H++)f.probe.push(new ie);const y=new ie,w=new fn,B=new fn;function k(H,Z){let nt=0,rt=0,at=0;for(let fe=0;fe<9;fe++)f.probe[fe].set(0,0,0);let ct=0,yt=0,ft=0,st=0,Gt=0,$t=0,Lt=0,pe=0,ne=0,oe=0,he=0;H.sort(iQ);const Yt=Z===!0?Math.PI:1;for(let fe=0,xe=H.length;fe<xe;fe++){const Ce=H[fe],Ie=Ce.color,Ke=Ce.intensity,hi=Ce.distance,Li=Ce.shadow&&Ce.shadow.map?Ce.shadow.map.texture:null;if(Ce.isAmbientLight)nt+=Ie.r*Ke*Yt,rt+=Ie.g*Ke*Yt,at+=Ie.b*Ke*Yt;else if(Ce.isLightProbe){for(let ti=0;ti<9;ti++)f.probe[ti].addScaledVector(Ce.sh.coefficients[ti],Ke);he++}else if(Ce.isDirectionalLight){const ti=r.get(Ce);if(ti.color.copy(Ce.color).multiplyScalar(Ce.intensity*Yt),Ce.castShadow){const Ti=Ce.shadow,Bi=o.get(Ce);Bi.shadowBias=Ti.bias,Bi.shadowNormalBias=Ti.normalBias,Bi.shadowRadius=Ti.radius,Bi.shadowMapSize=Ti.mapSize,f.directionalShadow[ct]=Bi,f.directionalShadowMap[ct]=Li,f.directionalShadowMatrix[ct]=Ce.shadow.matrix,$t++}f.directional[ct]=ti,ct++}else if(Ce.isSpotLight){const ti=r.get(Ce);ti.position.setFromMatrixPosition(Ce.matrixWorld),ti.color.copy(Ie).multiplyScalar(Ke*Yt),ti.distance=hi,ti.coneCos=Math.cos(Ce.angle),ti.penumbraCos=Math.cos(Ce.angle*(1-Ce.penumbra)),ti.decay=Ce.decay,f.spot[ft]=ti;const Ti=Ce.shadow;if(Ce.map&&(f.spotLightMap[ne]=Ce.map,ne++,Ti.updateMatrices(Ce),Ce.castShadow&&oe++),f.spotLightMatrix[ft]=Ti.matrix,Ce.castShadow){const Bi=o.get(Ce);Bi.shadowBias=Ti.bias,Bi.shadowNormalBias=Ti.normalBias,Bi.shadowRadius=Ti.radius,Bi.shadowMapSize=Ti.mapSize,f.spotShadow[ft]=Bi,f.spotShadowMap[ft]=Li,pe++}ft++}else if(Ce.isRectAreaLight){const ti=r.get(Ce);ti.color.copy(Ie).multiplyScalar(Ke),ti.halfWidth.set(Ce.width*.5,0,0),ti.halfHeight.set(0,Ce.height*.5,0),f.rectArea[st]=ti,st++}else if(Ce.isPointLight){const ti=r.get(Ce);if(ti.color.copy(Ce.color).multiplyScalar(Ce.intensity*Yt),ti.distance=Ce.distance,ti.decay=Ce.decay,Ce.castShadow){const Ti=Ce.shadow,Bi=o.get(Ce);Bi.shadowBias=Ti.bias,Bi.shadowNormalBias=Ti.normalBias,Bi.shadowRadius=Ti.radius,Bi.shadowMapSize=Ti.mapSize,Bi.shadowCameraNear=Ti.camera.near,Bi.shadowCameraFar=Ti.camera.far,f.pointShadow[yt]=Bi,f.pointShadowMap[yt]=Li,f.pointShadowMatrix[yt]=Ce.shadow.matrix,Lt++}f.point[yt]=ti,yt++}else if(Ce.isHemisphereLight){const ti=r.get(Ce);ti.skyColor.copy(Ce.color).multiplyScalar(Ke*Yt),ti.groundColor.copy(Ce.groundColor).multiplyScalar(Ke*Yt),f.hemi[Gt]=ti,Gt++}}st>0&&(S.has("OES_texture_float_linear")===!0?(f.rectAreaLTC1=$i.LTC_FLOAT_1,f.rectAreaLTC2=$i.LTC_FLOAT_2):(f.rectAreaLTC1=$i.LTC_HALF_1,f.rectAreaLTC2=$i.LTC_HALF_2)),f.ambient[0]=nt,f.ambient[1]=rt,f.ambient[2]=at;const Wt=f.hash;(Wt.directionalLength!==ct||Wt.pointLength!==yt||Wt.spotLength!==ft||Wt.rectAreaLength!==st||Wt.hemiLength!==Gt||Wt.numDirectionalShadows!==$t||Wt.numPointShadows!==Lt||Wt.numSpotShadows!==pe||Wt.numSpotMaps!==ne||Wt.numLightProbes!==he)&&(f.directional.length=ct,f.spot.length=ft,f.rectArea.length=st,f.point.length=yt,f.hemi.length=Gt,f.directionalShadow.length=$t,f.directionalShadowMap.length=$t,f.pointShadow.length=Lt,f.pointShadowMap.length=Lt,f.spotShadow.length=pe,f.spotShadowMap.length=pe,f.directionalShadowMatrix.length=$t,f.pointShadowMatrix.length=Lt,f.spotLightMatrix.length=pe+ne-oe,f.spotLightMap.length=ne,f.numSpotLightShadowsWithMaps=oe,f.numLightProbes=he,Wt.directionalLength=ct,Wt.pointLength=yt,Wt.spotLength=ft,Wt.rectAreaLength=st,Wt.hemiLength=Gt,Wt.numDirectionalShadows=$t,Wt.numPointShadows=Lt,Wt.numSpotShadows=pe,Wt.numSpotMaps=ne,Wt.numLightProbes=he,f.version=eQ++)}function G(H,Z){let nt=0,rt=0,at=0,ct=0,yt=0;const ft=Z.matrixWorldInverse;for(let st=0,Gt=H.length;st<Gt;st++){const $t=H[st];if($t.isDirectionalLight){const Lt=f.directional[nt];Lt.direction.setFromMatrixPosition($t.matrixWorld),y.setFromMatrixPosition($t.target.matrixWorld),Lt.direction.sub(y),Lt.direction.transformDirection(ft),nt++}else if($t.isSpotLight){const Lt=f.spot[at];Lt.position.setFromMatrixPosition($t.matrixWorld),Lt.position.applyMatrix4(ft),Lt.direction.setFromMatrixPosition($t.matrixWorld),y.setFromMatrixPosition($t.target.matrixWorld),Lt.direction.sub(y),Lt.direction.transformDirection(ft),at++}else if($t.isRectAreaLight){const Lt=f.rectArea[ct];Lt.position.setFromMatrixPosition($t.matrixWorld),Lt.position.applyMatrix4(ft),B.identity(),w.copy($t.matrixWorld),w.premultiply(ft),B.extractRotation(w),Lt.halfWidth.set($t.width*.5,0,0),Lt.halfHeight.set(0,$t.height*.5,0),Lt.halfWidth.applyMatrix4(B),Lt.halfHeight.applyMatrix4(B),ct++}else if($t.isPointLight){const Lt=f.point[rt];Lt.position.setFromMatrixPosition($t.matrixWorld),Lt.position.applyMatrix4(ft),rt++}else if($t.isHemisphereLight){const Lt=f.hemi[yt];Lt.direction.setFromMatrixPosition($t.matrixWorld),Lt.direction.transformDirection(ft),yt++}}}return{setup:k,setupView:G,state:f}}function Yb(S){const r=new nQ(S),o=[],f=[];function y(Z){H.camera=Z,o.length=0,f.length=0}function w(Z){o.push(Z)}function B(Z){f.push(Z)}function k(Z){r.setup(o,Z)}function G(Z){r.setupView(o,Z)}const H={lightsArray:o,shadowsArray:f,camera:null,lights:r,transmissionRenderTarget:{}};return{init:y,state:H,setupLights:k,setupLightsView:G,pushLight:w,pushShadow:B}}function rQ(S){let r=new WeakMap;function o(y,w=0){const B=r.get(y);let k;return B===void 0?(k=new Yb(S),r.set(y,[k])):w>=B.length?(k=new Yb(S),B.push(k)):k=B[w],k}function f(){r=new WeakMap}return{get:o,dispose:f}}class i7 extends H9{constructor(r){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=io,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(r)}copy(r){return super.copy(r),this.depthPacking=r.depthPacking,this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this}}class n7 extends H9{constructor(r){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(r)}copy(r){return super.copy(r),this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this}}const aQ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,sQ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function oQ(S,r,o){let f=new Qf;const y=new mi,w=new mi,B=new xr,k=new i7({depthPacking:no}),G=new n7,H={},Z=o.maxTextureSize,nt={[C]:O,[O]:C,[I]:I},rt=new x0({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new mi},radius:{value:4}},vertexShader:aQ,fragmentShader:sQ}),at=rt.clone();at.defines.HORIZONTAL_PASS=1;const ct=new lr;ct.setAttribute("position",new Jr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const yt=new Za(ct,rt),ft=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=E;let st=this.type;this.render=function(ne,oe,he){if(ft.enabled===!1||ft.autoUpdate===!1&&ft.needsUpdate===!1||ne.length===0)return;const Yt=S.getRenderTarget(),Wt=S.getActiveCubeFace(),fe=S.getActiveMipmapLevel(),xe=S.state;xe.setBlending(T),xe.buffers.color.setClear(1,1,1,1),xe.buffers.depth.setTest(!0),xe.setScissorTest(!1);const Ce=st!==_&&this.type===_,Ie=st===_&&this.type!==_;for(let Ke=0,hi=ne.length;Ke<hi;Ke++){const Li=ne[Ke],ti=Li.shadow;if(ti===void 0){console.warn("THREE.WebGLShadowMap:",Li,"has no shadow.");continue}if(ti.autoUpdate===!1&&ti.needsUpdate===!1)continue;y.copy(ti.mapSize);const Ti=ti.getFrameExtents();if(y.multiply(Ti),w.copy(ti.mapSize),(y.x>Z||y.y>Z)&&(y.x>Z&&(w.x=Math.floor(Z/Ti.x),y.x=w.x*Ti.x,ti.mapSize.x=w.x),y.y>Z&&(w.y=Math.floor(Z/Ti.y),y.y=w.y*Ti.y,ti.mapSize.y=w.y)),ti.map===null||Ce===!0||Ie===!0){const hn=this.type!==_?{minFilter:$e,magFilter:$e}:{};ti.map!==null&&ti.map.dispose(),ti.map=new Ms(y.x,y.y,hn),ti.map.texture.name=Li.name+".shadowMap",ti.camera.updateProjectionMatrix()}S.setRenderTarget(ti.map),S.clear();const Bi=ti.getViewportCount();for(let hn=0;hn<Bi;hn++){const cr=ti.getViewport(hn);B.set(w.x*cr.x,w.y*cr.y,w.x*cr.z,w.y*cr.w),xe.viewport(B),ti.updateMatrices(Li,hn),f=ti.getFrustum(),Lt(oe,he,ti.camera,Li,this.type)}ti.isPointLightShadow!==!0&&this.type===_&&Gt(ti,he),ti.needsUpdate=!1}st=this.type,ft.needsUpdate=!1,S.setRenderTarget(Yt,Wt,fe)};function Gt(ne,oe){const he=r.update(yt);rt.defines.VSM_SAMPLES!==ne.blurSamples&&(rt.defines.VSM_SAMPLES=ne.blurSamples,at.defines.VSM_SAMPLES=ne.blurSamples,rt.needsUpdate=!0,at.needsUpdate=!0),ne.mapPass===null&&(ne.mapPass=new Ms(y.x,y.y)),rt.uniforms.shadow_pass.value=ne.map.texture,rt.uniforms.resolution.value=ne.mapSize,rt.uniforms.radius.value=ne.radius,S.setRenderTarget(ne.mapPass),S.clear(),S.renderBufferDirect(oe,null,he,rt,yt,null),at.uniforms.shadow_pass.value=ne.mapPass.texture,at.uniforms.resolution.value=ne.mapSize,at.uniforms.radius.value=ne.radius,S.setRenderTarget(ne.map),S.clear(),S.renderBufferDirect(oe,null,he,at,yt,null)}function $t(ne,oe,he,Yt){let Wt=null;const fe=he.isPointLight===!0?ne.customDistanceMaterial:ne.customDepthMaterial;if(fe!==void 0)Wt=fe;else if(Wt=he.isPointLight===!0?G:k,S.localClippingEnabled&&oe.clipShadows===!0&&Array.isArray(oe.clippingPlanes)&&oe.clippingPlanes.length!==0||oe.displacementMap&&oe.displacementScale!==0||oe.alphaMap&&oe.alphaTest>0||oe.map&&oe.alphaTest>0){const xe=Wt.uuid,Ce=oe.uuid;let Ie=H[xe];Ie===void 0&&(Ie={},H[xe]=Ie);let Ke=Ie[Ce];Ke===void 0&&(Ke=Wt.clone(),Ie[Ce]=Ke,oe.addEventListener("dispose",pe)),Wt=Ke}if(Wt.visible=oe.visible,Wt.wireframe=oe.wireframe,Yt===_?Wt.side=oe.shadowSide!==null?oe.shadowSide:oe.side:Wt.side=oe.shadowSide!==null?oe.shadowSide:nt[oe.side],Wt.alphaMap=oe.alphaMap,Wt.alphaTest=oe.alphaTest,Wt.map=oe.map,Wt.clipShadows=oe.clipShadows,Wt.clippingPlanes=oe.clippingPlanes,Wt.clipIntersection=oe.clipIntersection,Wt.displacementMap=oe.displacementMap,Wt.displacementScale=oe.displacementScale,Wt.displacementBias=oe.displacementBias,Wt.wireframeLinewidth=oe.wireframeLinewidth,Wt.linewidth=oe.linewidth,he.isPointLight===!0&&Wt.isMeshDistanceMaterial===!0){const xe=S.properties.get(Wt);xe.light=he}return Wt}function Lt(ne,oe,he,Yt,Wt){if(ne.visible===!1)return;if(ne.layers.test(oe.layers)&&(ne.isMesh||ne.isLine||ne.isPoints)&&(ne.castShadow||ne.receiveShadow&&Wt===_)&&(!ne.frustumCulled||f.intersectsObject(ne))){ne.modelViewMatrix.multiplyMatrices(he.matrixWorldInverse,ne.matrixWorld);const Ce=r.update(ne),Ie=ne.material;if(Array.isArray(Ie)){const Ke=Ce.groups;for(let hi=0,Li=Ke.length;hi<Li;hi++){const ti=Ke[hi],Ti=Ie[ti.materialIndex];if(Ti&&Ti.visible){const Bi=$t(ne,Ti,Yt,Wt);ne.onBeforeShadow(S,ne,oe,he,Ce,Bi,ti),S.renderBufferDirect(he,null,Ce,Bi,ne,ti),ne.onAfterShadow(S,ne,oe,he,Ce,Bi,ti)}}}else if(Ie.visible){const Ke=$t(ne,Ie,Yt,Wt);ne.onBeforeShadow(S,ne,oe,he,Ce,Ke,null),S.renderBufferDirect(he,null,Ce,Ke,ne,null),ne.onAfterShadow(S,ne,oe,he,Ce,Ke,null)}}const xe=ne.children;for(let Ce=0,Ie=xe.length;Ce<Ie;Ce++)Lt(xe[Ce],oe,he,Yt,Wt)}function pe(ne){ne.target.removeEventListener("dispose",pe);for(const he in H){const Yt=H[he],Wt=ne.target.uuid;Wt in Yt&&(Yt[Wt].dispose(),delete Yt[Wt])}}}function lQ(S){function r(){let Ae=!1;const Ei=new xr;let Ri=null;const Mn=new xr(0,0,0,0);return{setMask:function(en){Ri!==en&&!Ae&&(S.colorMask(en,en,en,en),Ri=en)},setLocked:function(en){Ae=en},setClear:function(en,nr,nn,zi,hr){hr===!0&&(en*=zi,nr*=zi,nn*=zi),Ei.set(en,nr,nn,zi),Mn.equals(Ei)===!1&&(S.clearColor(en,nr,nn,zi),Mn.copy(Ei))},reset:function(){Ae=!1,Ri=null,Mn.set(-1,0,0,0)}}}function o(){let Ae=!1,Ei=null,Ri=null,Mn=null;return{setTest:function(en){en?Zr(S.DEPTH_TEST):mn(S.DEPTH_TEST)},setMask:function(en){Ei!==en&&!Ae&&(S.depthMask(en),Ei=en)},setFunc:function(en){if(Ri!==en){switch(en){case bt:S.depthFunc(S.NEVER);break;case kt:S.depthFunc(S.ALWAYS);break;case Dt:S.depthFunc(S.LESS);break;case Xt:S.depthFunc(S.LEQUAL);break;case ae:S.depthFunc(S.EQUAL);break;case Jt:S.depthFunc(S.GEQUAL);break;case le:S.depthFunc(S.GREATER);break;case Ve:S.depthFunc(S.NOTEQUAL);break;default:S.depthFunc(S.LEQUAL)}Ri=en}},setLocked:function(en){Ae=en},setClear:function(en){Mn!==en&&(S.clearDepth(en),Mn=en)},reset:function(){Ae=!1,Ei=null,Ri=null,Mn=null}}}function f(){let Ae=!1,Ei=null,Ri=null,Mn=null,en=null,nr=null,nn=null,zi=null,hr=null;return{setTest:function(Dn){Ae||(Dn?Zr(S.STENCIL_TEST):mn(S.STENCIL_TEST))},setMask:function(Dn){Ei!==Dn&&!Ae&&(S.stencilMask(Dn),Ei=Dn)},setFunc:function(Dn,u9,co){(Ri!==Dn||Mn!==u9||en!==co)&&(S.stencilFunc(Dn,u9,co),Ri=Dn,Mn=u9,en=co)},setOp:function(Dn,u9,co){(nr!==Dn||nn!==u9||zi!==co)&&(S.stencilOp(Dn,u9,co),nr=Dn,nn=u9,zi=co)},setLocked:function(Dn){Ae=Dn},setClear:function(Dn){hr!==Dn&&(S.clearStencil(Dn),hr=Dn)},reset:function(){Ae=!1,Ei=null,Ri=null,Mn=null,en=null,nr=null,nn=null,zi=null,hr=null}}}const y=new r,w=new o,B=new f,k=new WeakMap,G=new WeakMap;let H={},Z={},nt=new WeakMap,rt=[],at=null,ct=!1,yt=null,ft=null,st=null,Gt=null,$t=null,Lt=null,pe=null,ne=new an(0,0,0),oe=0,he=!1,Yt=null,Wt=null,fe=null,xe=null,Ce=null;const Ie=S.getParameter(S.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Ke=!1,hi=0;const Li=S.getParameter(S.VERSION);Li.indexOf("WebGL")!==-1?(hi=parseFloat(/^WebGL (\d)/.exec(Li)[1]),Ke=hi>=1):Li.indexOf("OpenGL ES")!==-1&&(hi=parseFloat(/^OpenGL ES (\d)/.exec(Li)[1]),Ke=hi>=2);let ti=null,Ti={};const Bi=S.getParameter(S.SCISSOR_BOX),hn=S.getParameter(S.VIEWPORT),cr=new xr().fromArray(Bi),Fr=new xr().fromArray(hn);function ha(Ae,Ei,Ri,Mn){const en=new Uint8Array(4),nr=S.createTexture();S.bindTexture(Ae,nr),S.texParameteri(Ae,S.TEXTURE_MIN_FILTER,S.NEAREST),S.texParameteri(Ae,S.TEXTURE_MAG_FILTER,S.NEAREST);for(let nn=0;nn<Ri;nn++)Ae===S.TEXTURE_3D||Ae===S.TEXTURE_2D_ARRAY?S.texImage3D(Ei,0,S.RGBA,1,1,Mn,0,S.RGBA,S.UNSIGNED_BYTE,en):S.texImage2D(Ei+nn,0,S.RGBA,1,1,0,S.RGBA,S.UNSIGNED_BYTE,en);return nr}const Dr={};Dr[S.TEXTURE_2D]=ha(S.TEXTURE_2D,S.TEXTURE_2D,1),Dr[S.TEXTURE_CUBE_MAP]=ha(S.TEXTURE_CUBE_MAP,S.TEXTURE_CUBE_MAP_POSITIVE_X,6),Dr[S.TEXTURE_2D_ARRAY]=ha(S.TEXTURE_2D_ARRAY,S.TEXTURE_2D_ARRAY,1,1),Dr[S.TEXTURE_3D]=ha(S.TEXTURE_3D,S.TEXTURE_3D,1,1),y.setClear(0,0,0,1),w.setClear(1),B.setClear(0),Zr(S.DEPTH_TEST),w.setFunc(Xt),xi(!1),_i(p),Zr(S.CULL_FACE),li(T);function Zr(Ae){H[Ae]!==!0&&(S.enable(Ae),H[Ae]=!0)}function mn(Ae){H[Ae]!==!1&&(S.disable(Ae),H[Ae]=!1)}function gi(Ae,Ei){return Z[Ae]!==Ei?(S.bindFramebuffer(Ae,Ei),Z[Ae]=Ei,Ae===S.DRAW_FRAMEBUFFER&&(Z[S.FRAMEBUFFER]=Ei),Ae===S.FRAMEBUFFER&&(Z[S.DRAW_FRAMEBUFFER]=Ei),!0):!1}function Ni(Ae,Ei){let Ri=rt,Mn=!1;if(Ae){Ri=nt.get(Ei),Ri===void 0&&(Ri=[],nt.set(Ei,Ri));const en=Ae.textures;if(Ri.length!==en.length||Ri[0]!==S.COLOR_ATTACHMENT0){for(let nr=0,nn=en.length;nr<nn;nr++)Ri[nr]=S.COLOR_ATTACHMENT0+nr;Ri.length=en.length,Mn=!0}}else Ri[0]!==S.BACK&&(Ri[0]=S.BACK,Mn=!0);Mn&&S.drawBuffers(Ri)}function Gi(Ae){return at!==Ae?(S.useProgram(Ae),at=Ae,!0):!1}const Be={[$]:S.FUNC_ADD,[F]:S.FUNC_SUBTRACT,[j]:S.FUNC_REVERSE_SUBTRACT};Be[z]=S.MIN,Be[Q]=S.MAX;const Mi={[V]:S.ZERO,[q]:S.ONE,[J]:S.SRC_COLOR,[et]:S.SRC_ALPHA,[xt]:S.SRC_ALPHA_SATURATE,[wt]:S.DST_COLOR,[ot]:S.DST_ALPHA,[W]:S.ONE_MINUS_SRC_COLOR,[mt]:S.ONE_MINUS_SRC_ALPHA,[Mt]:S.ONE_MINUS_DST_COLOR,[pt]:S.ONE_MINUS_DST_ALPHA,[dt]:S.CONSTANT_COLOR,[Ot]:S.ONE_MINUS_CONSTANT_COLOR,[At]:S.CONSTANT_ALPHA,[jt]:S.ONE_MINUS_CONSTANT_ALPHA};function li(Ae,Ei,Ri,Mn,en,nr,nn,zi,hr,Dn){if(Ae===T){ct===!0&&(mn(S.BLEND),ct=!1);return}if(ct===!1&&(Zr(S.BLEND),ct=!0),Ae!==U){if(Ae!==yt||Dn!==he){if((ft!==$||$t!==$)&&(S.blendEquation(S.FUNC_ADD),ft=$,$t=$),Dn)switch(Ae){case D:S.blendFuncSeparate(S.ONE,S.ONE_MINUS_SRC_ALPHA,S.ONE,S.ONE_MINUS_SRC_ALPHA);break;case P:S.blendFunc(S.ONE,S.ONE);break;case L:S.blendFuncSeparate(S.ZERO,S.ONE_MINUS_SRC_COLOR,S.ZERO,S.ONE);break;case N:S.blendFuncSeparate(S.ZERO,S.SRC_COLOR,S.ZERO,S.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}else switch(Ae){case D:S.blendFuncSeparate(S.SRC_ALPHA,S.ONE_MINUS_SRC_ALPHA,S.ONE,S.ONE_MINUS_SRC_ALPHA);break;case P:S.blendFunc(S.SRC_ALPHA,S.ONE);break;case L:S.blendFuncSeparate(S.ZERO,S.ONE_MINUS_SRC_COLOR,S.ZERO,S.ONE);break;case N:S.blendFunc(S.ZERO,S.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ae);break}st=null,Gt=null,Lt=null,pe=null,ne.set(0,0,0),oe=0,yt=Ae,he=Dn}return}en=en||Ei,nr=nr||Ri,nn=nn||Mn,(Ei!==ft||en!==$t)&&(S.blendEquationSeparate(Be[Ei],Be[en]),ft=Ei,$t=en),(Ri!==st||Mn!==Gt||nr!==Lt||nn!==pe)&&(S.blendFuncSeparate(Mi[Ri],Mi[Mn],Mi[nr],Mi[nn]),st=Ri,Gt=Mn,Lt=nr,pe=nn),(zi.equals(ne)===!1||hr!==oe)&&(S.blendColor(zi.r,zi.g,zi.b,hr),ne.copy(zi),oe=hr),yt=Ae,he=!1}function Si(Ae,Ei){Ae.side===I?mn(S.CULL_FACE):Zr(S.CULL_FACE);let Ri=Ae.side===O;Ei&&(Ri=!Ri),xi(Ri),Ae.blending===D&&Ae.transparent===!1?li(T):li(Ae.blending,Ae.blendEquation,Ae.blendSrc,Ae.blendDst,Ae.blendEquationAlpha,Ae.blendSrcAlpha,Ae.blendDstAlpha,Ae.blendColor,Ae.blendAlpha,Ae.premultipliedAlpha),w.setFunc(Ae.depthFunc),w.setTest(Ae.depthTest),w.setMask(Ae.depthWrite),y.setMask(Ae.colorWrite);const Mn=Ae.stencilWrite;B.setTest(Mn),Mn&&(B.setMask(Ae.stencilWriteMask),B.setFunc(Ae.stencilFunc,Ae.stencilRef,Ae.stencilFuncMask),B.setOp(Ae.stencilFail,Ae.stencilZFail,Ae.stencilZPass)),rn(Ae.polygonOffset,Ae.polygonOffsetFactor,Ae.polygonOffsetUnits),Ae.alphaToCoverage===!0?Zr(S.SAMPLE_ALPHA_TO_COVERAGE):mn(S.SAMPLE_ALPHA_TO_COVERAGE)}function xi(Ae){Yt!==Ae&&(Ae?S.frontFace(S.CW):S.frontFace(S.CCW),Yt=Ae)}function _i(Ae){Ae!==M?(Zr(S.CULL_FACE),Ae!==Wt&&(Ae===p?S.cullFace(S.BACK):Ae===A?S.cullFace(S.FRONT):S.cullFace(S.FRONT_AND_BACK))):mn(S.CULL_FACE),Wt=Ae}function Qi(Ae){Ae!==fe&&(Ke&&S.lineWidth(Ae),fe=Ae)}function rn(Ae,Ei,Ri){Ae?(Zr(S.POLYGON_OFFSET_FILL),(xe!==Ei||Ce!==Ri)&&(S.polygonOffset(Ei,Ri),xe=Ei,Ce=Ri)):mn(S.POLYGON_OFFSET_FILL)}function Nn(Ae){Ae?Zr(S.SCISSOR_TEST):mn(S.SCISSOR_TEST)}function Qn(Ae){Ae===void 0&&(Ae=S.TEXTURE0+Ie-1),ti!==Ae&&(S.activeTexture(Ae),ti=Ae)}function Pr(Ae,Ei,Ri){Ri===void 0&&(ti===null?Ri=S.TEXTURE0+Ie-1:Ri=ti);let Mn=Ti[Ri];Mn===void 0&&(Mn={type:void 0,texture:void 0},Ti[Ri]=Mn),(Mn.type!==Ae||Mn.texture!==Ei)&&(ti!==Ri&&(S.activeTexture(Ri),ti=Ri),S.bindTexture(Ae,Ei||Dr[Ae]),Mn.type=Ae,Mn.texture=Ei)}function Ba(){const Ae=Ti[ti];Ae!==void 0&&Ae.type!==void 0&&(S.bindTexture(Ae.type,null),Ae.type=void 0,Ae.texture=void 0)}function fa(){try{S.compressedTexImage2D.apply(S,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function de(){try{S.compressedTexImage3D.apply(S,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function qt(){try{S.texSubImage2D.apply(S,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ri(){try{S.texSubImage3D.apply(S,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function pi(){try{S.compressedTexSubImage2D.apply(S,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function vi(){try{S.compressedTexSubImage3D.apply(S,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Ai(){try{S.texStorage2D.apply(S,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function gn(){try{S.texStorage3D.apply(S,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function ki(){try{S.texImage2D.apply(S,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function sn(){try{S.texImage3D.apply(S,arguments)}catch(Ae){console.error("THREE.WebGLState:",Ae)}}function Hr(Ae){cr.equals(Ae)===!1&&(S.scissor(Ae.x,Ae.y,Ae.z,Ae.w),cr.copy(Ae))}function on(Ae){Fr.equals(Ae)===!1&&(S.viewport(Ae.x,Ae.y,Ae.z,Ae.w),Fr.copy(Ae))}function An(Ae,Ei){let Ri=G.get(Ei);Ri===void 0&&(Ri=new WeakMap,G.set(Ei,Ri));let Mn=Ri.get(Ae);Mn===void 0&&(Mn=S.getUniformBlockIndex(Ei,Ae.name),Ri.set(Ae,Mn))}function ir(Ae,Ei){const Mn=G.get(Ei).get(Ae);k.get(Ei)!==Mn&&(S.uniformBlockBinding(Ei,Mn,Ae.__bindingPointIndex),k.set(Ei,Mn))}function Bn(){S.disable(S.BLEND),S.disable(S.CULL_FACE),S.disable(S.DEPTH_TEST),S.disable(S.POLYGON_OFFSET_FILL),S.disable(S.SCISSOR_TEST),S.disable(S.STENCIL_TEST),S.disable(S.SAMPLE_ALPHA_TO_COVERAGE),S.blendEquation(S.FUNC_ADD),S.blendFunc(S.ONE,S.ZERO),S.blendFuncSeparate(S.ONE,S.ZERO,S.ONE,S.ZERO),S.blendColor(0,0,0,0),S.colorMask(!0,!0,!0,!0),S.clearColor(0,0,0,0),S.depthMask(!0),S.depthFunc(S.LESS),S.clearDepth(1),S.stencilMask(4294967295),S.stencilFunc(S.ALWAYS,0,4294967295),S.stencilOp(S.KEEP,S.KEEP,S.KEEP),S.clearStencil(0),S.cullFace(S.BACK),S.frontFace(S.CCW),S.polygonOffset(0,0),S.activeTexture(S.TEXTURE0),S.bindFramebuffer(S.FRAMEBUFFER,null),S.bindFramebuffer(S.DRAW_FRAMEBUFFER,null),S.bindFramebuffer(S.READ_FRAMEBUFFER,null),S.useProgram(null),S.lineWidth(1),S.scissor(0,0,S.canvas.width,S.canvas.height),S.viewport(0,0,S.canvas.width,S.canvas.height),H={},ti=null,Ti={},Z={},nt=new WeakMap,rt=[],at=null,ct=!1,yt=null,ft=null,st=null,Gt=null,$t=null,Lt=null,pe=null,ne=new an(0,0,0),oe=0,he=!1,Yt=null,Wt=null,fe=null,xe=null,Ce=null,cr.set(0,0,S.canvas.width,S.canvas.height),Fr.set(0,0,S.canvas.width,S.canvas.height),y.reset(),w.reset(),B.reset()}return{buffers:{color:y,depth:w,stencil:B},enable:Zr,disable:mn,bindFramebuffer:gi,drawBuffers:Ni,useProgram:Gi,setBlending:li,setMaterial:Si,setFlipSided:xi,setCullFace:_i,setLineWidth:Qi,setPolygonOffset:rn,setScissorTest:Nn,activeTexture:Qn,bindTexture:Pr,unbindTexture:Ba,compressedTexImage2D:fa,compressedTexImage3D:de,texImage2D:ki,texImage3D:sn,updateUBOMapping:An,uniformBlockBinding:ir,texStorage2D:Ai,texStorage3D:gn,texSubImage2D:qt,texSubImage3D:ri,compressedTexSubImage2D:pi,compressedTexSubImage3D:vi,scissor:Hr,viewport:on,reset:Bn}}function cQ(S,r,o,f,y,w,B){const k=r.has("WEBGL_multisampled_render_to_texture")?r.get("WEBGL_multisampled_render_to_texture"):null,G=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),H=r.has("OCULUS_multiview")?r.get("OCULUS_multiview"):null,Z=new mi,nt=new WeakMap;let rt;const at=new WeakMap;let ct=[],yt=!1,ft=!1;try{ft=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function st(de,qt){return ft?new OffscreenCanvas(de,qt):lu("canvas")}function Gt(de,qt,ri){let pi=1;const vi=fa(de);if((vi.width>ri||vi.height>ri)&&(pi=ri/Math.max(vi.width,vi.height)),pi<1)if(typeof HTMLImageElement<"u"&&de instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&de instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&de instanceof ImageBitmap||typeof VideoFrame<"u"&&de instanceof VideoFrame){const Ai=Math.floor(pi*vi.width),gn=Math.floor(pi*vi.height);rt===void 0&&(rt=st(Ai,gn));const ki=qt?st(Ai,gn):rt;return ki.width=Ai,ki.height=gn,ki.getContext("2d").drawImage(de,0,0,Ai,gn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+vi.width+"x"+vi.height+") to ("+Ai+"x"+gn+")."),ki}else return"data"in de&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+vi.width+"x"+vi.height+")."),de;return de}function $t(de){return de.generateMipmaps&&de.minFilter!==$e&&de.minFilter!==Le}function Lt(de){S.generateMipmap(de)}function pe(de,qt,ri,pi,vi=!1){if(de!==null){if(S[de]!==void 0)return S[de];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+de+"'")}let Ai=qt;if(qt===S.RED&&(ri===S.FLOAT&&(Ai=S.R32F),ri===S.HALF_FLOAT&&(Ai=S.R16F),ri===S.UNSIGNED_BYTE&&(Ai=S.R8)),qt===S.RED_INTEGER&&(ri===S.UNSIGNED_BYTE&&(Ai=S.R8UI),ri===S.UNSIGNED_SHORT&&(Ai=S.R16UI),ri===S.UNSIGNED_INT&&(Ai=S.R32UI),ri===S.BYTE&&(Ai=S.R8I),ri===S.SHORT&&(Ai=S.R16I),ri===S.INT&&(Ai=S.R32I)),qt===S.RG&&(ri===S.FLOAT&&(Ai=S.RG32F),ri===S.HALF_FLOAT&&(Ai=S.RG16F),ri===S.UNSIGNED_BYTE&&(Ai=S.RG8)),qt===S.RG_INTEGER&&(ri===S.UNSIGNED_BYTE&&(Ai=S.RG8UI),ri===S.UNSIGNED_SHORT&&(Ai=S.RG16UI),ri===S.UNSIGNED_INT&&(Ai=S.RG32UI),ri===S.BYTE&&(Ai=S.RG8I),ri===S.SHORT&&(Ai=S.RG16I),ri===S.INT&&(Ai=S.RG32I)),qt===S.RGB&&ri===S.UNSIGNED_INT_5_9_9_9_REV&&(Ai=S.RGB9_E5),qt===S.RGBA){const gn=vi?iu:Nr.getTransfer(pi);ri===S.FLOAT&&(Ai=S.RGBA32F),ri===S.HALF_FLOAT&&(Ai=S.RGBA16F),ri===S.UNSIGNED_BYTE&&(Ai=gn===Yr?S.SRGB8_ALPHA8:S.RGBA8),ri===S.UNSIGNED_SHORT_4_4_4_4&&(Ai=S.RGBA4),ri===S.UNSIGNED_SHORT_5_5_5_1&&(Ai=S.RGB5_A1)}return(Ai===S.R16F||Ai===S.R32F||Ai===S.RG16F||Ai===S.RG32F||Ai===S.RGBA16F||Ai===S.RGBA32F)&&r.get("EXT_color_buffer_float"),Ai}function ne(de,qt){return $t(de)===!0||de.isFramebufferTexture&&de.minFilter!==$e&&de.minFilter!==Le?Math.log2(Math.max(qt.width,qt.height))+1:de.mipmaps!==void 0&&de.mipmaps.length>0?de.mipmaps.length:de.isCompressedTexture&&Array.isArray(de.image)?qt.mipmaps.length:1}function oe(de){const qt=de.target;qt.removeEventListener("dispose",oe),Yt(qt),qt.isVideoTexture&&nt.delete(qt)}function he(de){const qt=de.target;qt.removeEventListener("dispose",he),fe(qt)}function Yt(de){const qt=f.get(de);if(qt.__webglInit===void 0)return;const ri=de.source,pi=at.get(ri);if(pi){const vi=pi[qt.__cacheKey];vi.usedTimes--,vi.usedTimes===0&&Wt(de),Object.keys(pi).length===0&&at.delete(ri)}f.remove(de)}function Wt(de){const qt=f.get(de);S.deleteTexture(qt.__webglTexture);const ri=de.source,pi=at.get(ri);delete pi[qt.__cacheKey],B.memory.textures--}function fe(de){const qt=f.get(de);if(de.depthTexture&&de.depthTexture.dispose(),de.isWebGLCubeRenderTarget)for(let pi=0;pi<6;pi++){if(Array.isArray(qt.__webglFramebuffer[pi]))for(let vi=0;vi<qt.__webglFramebuffer[pi].length;vi++)S.deleteFramebuffer(qt.__webglFramebuffer[pi][vi]);else S.deleteFramebuffer(qt.__webglFramebuffer[pi]);qt.__webglDepthbuffer&&S.deleteRenderbuffer(qt.__webglDepthbuffer[pi])}else{if(Array.isArray(qt.__webglFramebuffer))for(let pi=0;pi<qt.__webglFramebuffer.length;pi++)S.deleteFramebuffer(qt.__webglFramebuffer[pi]);else S.deleteFramebuffer(qt.__webglFramebuffer);if(qt.__webglDepthbuffer&&S.deleteRenderbuffer(qt.__webglDepthbuffer),qt.__webglMultisampledFramebuffer&&S.deleteFramebuffer(qt.__webglMultisampledFramebuffer),qt.__webglColorRenderbuffer)for(let pi=0;pi<qt.__webglColorRenderbuffer.length;pi++)qt.__webglColorRenderbuffer[pi]&&S.deleteRenderbuffer(qt.__webglColorRenderbuffer[pi]);qt.__webglDepthRenderbuffer&&S.deleteRenderbuffer(qt.__webglDepthRenderbuffer)}const ri=de.textures;for(let pi=0,vi=ri.length;pi<vi;pi++){const Ai=f.get(ri[pi]);Ai.__webglTexture&&(S.deleteTexture(Ai.__webglTexture),B.memory.textures--),f.remove(ri[pi])}f.remove(de)}let xe=0;function Ce(){xe=0}function Ie(){const de=xe;return de>=y.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+de+" texture units while this GPU supports only "+y.maxTextures),xe+=1,de}function Ke(de){const qt=[];return qt.push(de.wrapS),qt.push(de.wrapT),qt.push(de.wrapR||0),qt.push(de.magFilter),qt.push(de.minFilter),qt.push(de.anisotropy),qt.push(de.internalFormat),qt.push(de.format),qt.push(de.type),qt.push(de.generateMipmaps),qt.push(de.premultiplyAlpha),qt.push(de.flipY),qt.push(de.unpackAlignment),qt.push(de.colorSpace),qt.join()}function hi(de,qt){const ri=f.get(de);if(de.isVideoTexture&&Pr(de),de.isRenderTargetTexture===!1&&de.version>0&&ri.__version!==de.version){const pi=de.image;if(pi===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pi.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else if(mn(ri,de,qt))return}o.bindTexture(S.TEXTURE_2D,ri.__webglTexture,S.TEXTURE0+qt)}function Li(de,qt){const ri=f.get(de);if(de.version>0&&ri.__version!==de.version){mn(ri,de,qt);return}o.bindTexture(S.TEXTURE_2D_ARRAY,ri.__webglTexture,S.TEXTURE0+qt)}function ti(de,qt){const ri=f.get(de);if(de.version>0&&ri.__version!==de.version){mn(ri,de,qt);return}o.bindTexture(S.TEXTURE_3D,ri.__webglTexture,S.TEXTURE0+qt)}function Ti(de,qt){const ri=f.get(de);if(de.version>0&&ri.__version!==de.version){gi(ri,de,qt);return}o.bindTexture(S.TEXTURE_CUBE_MAP,ri.__webglTexture,S.TEXTURE0+qt)}const Bi={[Zt]:S.REPEAT,[ce]:S.CLAMP_TO_EDGE,[ye]:S.MIRRORED_REPEAT},hn={[$e]:S.NEAREST,[ge]:S.NEAREST_MIPMAP_NEAREST,[_e]:S.NEAREST_MIPMAP_LINEAR,[Le]:S.LINEAR,[ke]:S.LINEAR_MIPMAP_NEAREST,[Ii]:S.LINEAR_MIPMAP_LINEAR},cr={[Um]:S.NEVER,[zm]:S.ALWAYS,[$m]:S.LESS,[Df]:S.LEQUAL,[Gm]:S.EQUAL,[Qm]:S.GEQUAL,[Vm]:S.GREATER,[Hm]:S.NOTEQUAL};function Fr(de,qt){if(qt.type===si&&r.has("OES_texture_float_linear")===!1&&(qt.magFilter===Le||qt.magFilter===ke||qt.magFilter===_e||qt.magFilter===Ii||qt.minFilter===Le||qt.minFilter===ke||qt.minFilter===_e||qt.minFilter===Ii)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),S.texParameteri(de,S.TEXTURE_WRAP_S,Bi[qt.wrapS]),S.texParameteri(de,S.TEXTURE_WRAP_T,Bi[qt.wrapT]),(de===S.TEXTURE_3D||de===S.TEXTURE_2D_ARRAY)&&S.texParameteri(de,S.TEXTURE_WRAP_R,Bi[qt.wrapR]),S.texParameteri(de,S.TEXTURE_MAG_FILTER,hn[qt.magFilter]),S.texParameteri(de,S.TEXTURE_MIN_FILTER,hn[qt.minFilter]),qt.compareFunction&&(S.texParameteri(de,S.TEXTURE_COMPARE_MODE,S.COMPARE_REF_TO_TEXTURE),S.texParameteri(de,S.TEXTURE_COMPARE_FUNC,cr[qt.compareFunction])),r.has("EXT_texture_filter_anisotropic")===!0){if(qt.magFilter===$e||qt.minFilter!==_e&&qt.minFilter!==Ii||qt.type===si&&r.has("OES_texture_float_linear")===!1)return;if(qt.anisotropy>1||f.get(qt).__currentAnisotropy){const ri=r.get("EXT_texture_filter_anisotropic");S.texParameterf(de,ri.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(qt.anisotropy,y.getMaxAnisotropy())),f.get(qt).__currentAnisotropy=qt.anisotropy}}}function ha(de,qt){let ri=!1;de.__webglInit===void 0&&(de.__webglInit=!0,qt.addEventListener("dispose",oe));const pi=qt.source;let vi=at.get(pi);vi===void 0&&(vi={},at.set(pi,vi));const Ai=Ke(qt);if(Ai!==de.__cacheKey){vi[Ai]===void 0&&(vi[Ai]={texture:S.createTexture(),usedTimes:0},B.memory.textures++,ri=!0),vi[Ai].usedTimes++;const gn=vi[de.__cacheKey];gn!==void 0&&(vi[de.__cacheKey].usedTimes--,gn.usedTimes===0&&Wt(qt)),de.__cacheKey=Ai,de.__webglTexture=vi[Ai].texture}return ri}function Dr(de){yt=de}function Zr(){const de=yt;yt=!1;for(const qt of ct)mn(qt.textureProperties,qt.texture,qt.slot),qt.texture.isPendingDeferredUpload=!1;ct=[],yt=de}function mn(de,qt,ri){if(yt)return qt.isPendingDeferredUpload||(qt.isPendingDeferredUpload=!0,ct.push({textureProperties:de,texture:qt,slot:ri})),!1;let pi=S.TEXTURE_2D;(qt.isDataArrayTexture||qt.isCompressedArrayTexture)&&(pi=S.TEXTURE_2D_ARRAY),qt.isData3DTexture&&(pi=S.TEXTURE_3D);const vi=ha(de,qt),Ai=qt.source;o.bindTexture(pi,de.__webglTexture,S.TEXTURE0+ri);const gn=f.get(Ai);if(Ai.version!==gn.__version||vi===!0){o.activeTexture(S.TEXTURE0+ri);const ki=Nr.getPrimaries(Nr.workingColorSpace),sn=qt.colorSpace===B9?null:Nr.getPrimaries(qt.colorSpace),Hr=qt.colorSpace===B9||ki===sn?S.NONE:S.BROWSER_DEFAULT_WEBGL;S.pixelStorei(S.UNPACK_FLIP_Y_WEBGL,qt.flipY),S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,qt.premultiplyAlpha),S.pixelStorei(S.UNPACK_ALIGNMENT,qt.unpackAlignment),S.pixelStorei(S.UNPACK_COLORSPACE_CONVERSION_WEBGL,Hr);let on=Gt(qt.image,!1,y.maxTextureSize);on=Ba(qt,on);const An=w.convert(qt.format,qt.colorSpace),ir=w.convert(qt.type);let Bn=pe(qt.internalFormat,An,ir,qt.colorSpace,qt.isVideoTexture);Fr(pi,qt);let Ae;const Ei=qt.mipmaps,Ri=qt.isVideoTexture!==!0,Mn=gn.__version===void 0||vi===!0,en=Ai.dataReady,nr=ne(qt,on);if(qt.isDepthTexture)Bn=S.DEPTH_COMPONENT16,qt.type===si?Bn=S.DEPTH_COMPONENT32F:qt.type===dr?Bn=S.DEPTH_COMPONENT24:qt.type===On&&(Bn=S.DEPTH24_STENCIL8),Mn&&(Ri?o.texStorage2D(S.TEXTURE_2D,1,Bn,on.width,on.height):o.texImage2D(S.TEXTURE_2D,0,Bn,on.width,on.height,0,An,ir,null));else if(qt.isDataTexture)if(Ei.length>0){Ri&&Mn&&o.texStorage2D(S.TEXTURE_2D,nr,Bn,Ei[0].width,Ei[0].height);for(let nn=0,zi=Ei.length;nn<zi;nn++)Ae=Ei[nn],Ri?en&&o.texSubImage2D(S.TEXTURE_2D,nn,0,0,Ae.width,Ae.height,An,ir,Ae.data):o.texImage2D(S.TEXTURE_2D,nn,Bn,Ae.width,Ae.height,0,An,ir,Ae.data);qt.generateMipmaps=!1}else Ri?(Mn&&o.texStorage2D(S.TEXTURE_2D,nr,Bn,on.width,on.height),en&&o.texSubImage2D(S.TEXTURE_2D,0,0,0,on.width,on.height,An,ir,on.data)):o.texImage2D(S.TEXTURE_2D,0,Bn,on.width,on.height,0,An,ir,on.data);else if(qt.isCompressedTexture)if(qt.isCompressedArrayTexture){Ri&&Mn&&o.texStorage3D(S.TEXTURE_2D_ARRAY,nr,Bn,Ei[0].width,Ei[0].height,on.depth);for(let nn=0,zi=Ei.length;nn<zi;nn++)Ae=Ei[nn],qt.format!==ue?An!==null?Ri?en&&o.compressedTexSubImage3D(S.TEXTURE_2D_ARRAY,nn,0,0,0,Ae.width,Ae.height,on.depth,An,Ae.data,0,0):o.compressedTexImage3D(S.TEXTURE_2D_ARRAY,nn,Bn,Ae.width,Ae.height,on.depth,0,Ae.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ri?en&&o.texSubImage3D(S.TEXTURE_2D_ARRAY,nn,0,0,0,Ae.width,Ae.height,on.depth,An,ir,Ae.data):o.texImage3D(S.TEXTURE_2D_ARRAY,nn,Bn,Ae.width,Ae.height,on.depth,0,An,ir,Ae.data)}else{Ri&&Mn&&o.texStorage2D(S.TEXTURE_2D,nr,Bn,Ei[0].width,Ei[0].height);for(let nn=0,zi=Ei.length;nn<zi;nn++)Ae=Ei[nn],qt.format!==ue?An!==null?Ri?en&&o.compressedTexSubImage2D(S.TEXTURE_2D,nn,0,0,Ae.width,Ae.height,An,Ae.data):o.compressedTexImage2D(S.TEXTURE_2D,nn,Bn,Ae.width,Ae.height,0,Ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ri?en&&o.texSubImage2D(S.TEXTURE_2D,nn,0,0,Ae.width,Ae.height,An,ir,Ae.data):o.texImage2D(S.TEXTURE_2D,nn,Bn,Ae.width,Ae.height,0,An,ir,Ae.data)}else if(qt.isDataArrayTexture)Ri?(Mn&&o.texStorage3D(S.TEXTURE_2D_ARRAY,nr,Bn,on.width,on.height,on.depth),en&&o.texSubImage3D(S.TEXTURE_2D_ARRAY,0,0,0,0,on.width,on.height,on.depth,An,ir,on.data)):o.texImage3D(S.TEXTURE_2D_ARRAY,0,Bn,on.width,on.height,on.depth,0,An,ir,on.data);else if(qt.isData3DTexture)Ri?(Mn&&o.texStorage3D(S.TEXTURE_3D,nr,Bn,on.width,on.height,on.depth),en&&o.texSubImage3D(S.TEXTURE_3D,0,0,0,0,on.width,on.height,on.depth,An,ir,on.data)):o.texImage3D(S.TEXTURE_3D,0,Bn,on.width,on.height,on.depth,0,An,ir,on.data);else if(qt.isFramebufferTexture){if(Mn)if(Ri)o.texStorage2D(S.TEXTURE_2D,nr,Bn,on.width,on.height);else{let nn=on.width,zi=on.height;for(let hr=0;hr<nr;hr++)o.texImage2D(S.TEXTURE_2D,hr,Bn,nn,zi,0,An,ir,null),nn>>=1,zi>>=1}}else if(Ei.length>0){if(Ri&&Mn){const nn=fa(Ei[0]);o.texStorage2D(S.TEXTURE_2D,nr,Bn,nn.width,nn.height)}for(let nn=0,zi=Ei.length;nn<zi;nn++)Ae=Ei[nn],Ri?en&&o.texSubImage2D(S.TEXTURE_2D,nn,0,0,An,ir,Ae):o.texImage2D(S.TEXTURE_2D,nn,Bn,An,ir,Ae);qt.generateMipmaps=!1}else if(Ri){if(Mn){const nn=fa(on);o.texStorage2D(S.TEXTURE_2D,nr,Bn,nn.width,nn.height)}en&&o.texSubImage2D(S.TEXTURE_2D,0,0,0,An,ir,on)}else o.texImage2D(S.TEXTURE_2D,0,Bn,An,ir,on);$t(qt)&&Lt(pi),gn.__version=Ai.version,qt.onUpdate&&qt.onUpdate(qt)}return de.__version=qt.version,!0}function gi(de,qt,ri){if(qt.image.length!==6)return;const pi=ha(de,qt),vi=qt.source;o.bindTexture(S.TEXTURE_CUBE_MAP,de.__webglTexture,S.TEXTURE0+ri);const Ai=f.get(vi);if(vi.version!==Ai.__version||pi===!0){o.activeTexture(S.TEXTURE0+ri);const gn=Nr.getPrimaries(Nr.workingColorSpace),ki=qt.colorSpace===B9?null:Nr.getPrimaries(qt.colorSpace),sn=qt.colorSpace===B9||gn===ki?S.NONE:S.BROWSER_DEFAULT_WEBGL;S.pixelStorei(S.UNPACK_FLIP_Y_WEBGL,qt.flipY),S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,qt.premultiplyAlpha),S.pixelStorei(S.UNPACK_ALIGNMENT,qt.unpackAlignment),S.pixelStorei(S.UNPACK_COLORSPACE_CONVERSION_WEBGL,sn);const Hr=qt.isCompressedTexture||qt.image[0].isCompressedTexture,on=qt.image[0]&&qt.image[0].isDataTexture,An=[];for(let zi=0;zi<6;zi++)!Hr&&!on?An[zi]=Gt(qt.image[zi],!0,y.maxCubemapSize):An[zi]=on?qt.image[zi].image:qt.image[zi],An[zi]=Ba(qt,An[zi]);const ir=An[0],Bn=w.convert(qt.format,qt.colorSpace),Ae=w.convert(qt.type),Ei=pe(qt.internalFormat,Bn,Ae,qt.colorSpace),Ri=qt.isVideoTexture!==!0,Mn=Ai.__version===void 0||pi===!0,en=vi.dataReady;let nr=ne(qt,ir);Fr(S.TEXTURE_CUBE_MAP,qt);let nn;if(Hr){Ri&&Mn&&o.texStorage2D(S.TEXTURE_CUBE_MAP,nr,Ei,ir.width,ir.height);for(let zi=0;zi<6;zi++){nn=An[zi].mipmaps;for(let hr=0;hr<nn.length;hr++){const Dn=nn[hr];qt.format!==ue?Bn!==null?Ri?en&&o.compressedTexSubImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,hr,0,0,Dn.width,Dn.height,Bn,Dn.data):o.compressedTexImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,hr,Ei,Dn.width,Dn.height,0,Dn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ri?en&&o.texSubImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,hr,0,0,Dn.width,Dn.height,Bn,Ae,Dn.data):o.texImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,hr,Ei,Dn.width,Dn.height,0,Bn,Ae,Dn.data)}}}else{if(nn=qt.mipmaps,Ri&&Mn){nn.length>0&&nr++;const zi=fa(An[0]);o.texStorage2D(S.TEXTURE_CUBE_MAP,nr,Ei,zi.width,zi.height)}for(let zi=0;zi<6;zi++)if(on){Ri?en&&o.texSubImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,0,0,0,An[zi].width,An[zi].height,Bn,Ae,An[zi].data):o.texImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,0,Ei,An[zi].width,An[zi].height,0,Bn,Ae,An[zi].data);for(let hr=0;hr<nn.length;hr++){const u9=nn[hr].image[zi].image;Ri?en&&o.texSubImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,hr+1,0,0,u9.width,u9.height,Bn,Ae,u9.data):o.texImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,hr+1,Ei,u9.width,u9.height,0,Bn,Ae,u9.data)}}else{Ri?en&&o.texSubImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,0,0,0,Bn,Ae,An[zi]):o.texImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,0,Ei,Bn,Ae,An[zi]);for(let hr=0;hr<nn.length;hr++){const Dn=nn[hr];Ri?en&&o.texSubImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,hr+1,0,0,Bn,Ae,Dn.image[zi]):o.texImage2D(S.TEXTURE_CUBE_MAP_POSITIVE_X+zi,hr+1,Ei,Bn,Ae,Dn.image[zi])}}}$t(qt)&&Lt(S.TEXTURE_CUBE_MAP),Ai.__version=vi.version,qt.onUpdate&&qt.onUpdate(qt)}de.__version=qt.version}function Ni(de,qt,ri,pi,vi,Ai){const gn=w.convert(ri.format,ri.colorSpace),ki=w.convert(ri.type),sn=pe(ri.internalFormat,gn,ki,ri.colorSpace);if(!f.get(qt).__hasExternalTextures){const An=Math.max(1,qt.width>>Ai),ir=Math.max(1,qt.height>>Ai);qt.isWebGLMultiviewRenderTarget===!0?o.texStorage3D(S.TEXTURE_2D_ARRAY,0,sn,qt.width,qt.height,qt.numViews):vi===S.TEXTURE_3D||vi===S.TEXTURE_2D_ARRAY?o.texImage3D(vi,Ai,sn,An,ir,qt.depth,0,gn,ki,null):o.texImage2D(vi,Ai,sn,An,ir,0,gn,ki,null)}o.bindFramebuffer(S.FRAMEBUFFER,de);const on=Qn(qt);qt.isWebGLMultiviewRenderTarget===!0?on?H.framebufferTextureMultisampleMultiviewOVR(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,f.get(ri).__webglTexture,0,Nn(qt),0,qt.numViews):H.framebufferTextureMultiviewOVR(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,f.get(ri).__webglTexture,0,0,qt.numViews):(vi===S.TEXTURE_2D||vi>=S.TEXTURE_CUBE_MAP_POSITIVE_X&&vi<=S.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&(on?k.framebufferTexture2DMultisampleEXT(S.FRAMEBUFFER,pi,vi,f.get(ri).__webglTexture,0,Nn(qt)):S.framebufferTexture2D(S.FRAMEBUFFER,pi,vi,f.get(ri).__webglTexture,Ai)),o.bindFramebuffer(S.FRAMEBUFFER,null)}function Gi(de,qt,ri){if(S.bindRenderbuffer(S.RENDERBUFFER,de),qt.isWebGLMultiviewRenderTarget===!0){const pi=Qn(qt),vi=qt.numViews,Ai=qt.depthTexture;let gn=S.DEPTH_COMPONENT24,ki=S.DEPTH_ATTACHMENT;Ai&&Ai.isDepthTexture&&(Ai.type===si?gn=S.DEPTH_COMPONENT32F:Ai.type===On&&(gn=S.DEPTH24_STENCIL8,ki=S.DEPTH_STENCIL_ATTACHMENT));let sn=f.get(qt.depthTexture).__webglTexture;sn===void 0&&(sn=S.createTexture(),S.bindTexture(S.TEXTURE_2D_ARRAY,sn),S.texStorage3D(S.TEXTURE_2D_ARRAY,1,gn,qt.width,qt.height,vi)),pi?H.framebufferTextureMultisampleMultiviewOVR(S.FRAMEBUFFER,ki,sn,0,Nn(qt),0,vi):H.framebufferTextureMultiviewOVR(S.FRAMEBUFFER,ki,sn,0,0,vi)}else if(qt.depthBuffer&&!qt.stencilBuffer){let pi=S.DEPTH_COMPONENT24;if(ri||Qn(qt)){const vi=qt.depthTexture;vi&&vi.isDepthTexture&&(vi.type===si?pi=S.DEPTH_COMPONENT32F:vi.type===dr&&(pi=S.DEPTH_COMPONENT24));const Ai=Nn(qt);Qn(qt)?k.renderbufferStorageMultisampleEXT(S.RENDERBUFFER,Ai,pi,qt.width,qt.height):S.renderbufferStorageMultisample(S.RENDERBUFFER,Ai,pi,qt.width,qt.height)}else S.renderbufferStorage(S.RENDERBUFFER,pi,qt.width,qt.height);S.framebufferRenderbuffer(S.FRAMEBUFFER,S.DEPTH_ATTACHMENT,S.RENDERBUFFER,de)}else if(qt.depthBuffer&&qt.stencilBuffer){const pi=Nn(qt);ri&&Qn(qt)===!1?S.renderbufferStorageMultisample(S.RENDERBUFFER,pi,S.DEPTH24_STENCIL8,qt.width,qt.height):Qn(qt)?k.renderbufferStorageMultisampleEXT(S.RENDERBUFFER,pi,S.DEPTH24_STENCIL8,qt.width,qt.height):S.renderbufferStorage(S.RENDERBUFFER,S.DEPTH_STENCIL,qt.width,qt.height),S.framebufferRenderbuffer(S.FRAMEBUFFER,S.DEPTH_STENCIL_ATTACHMENT,S.RENDERBUFFER,de)}else{const pi=qt.textures;for(let vi=0;vi<pi.length;vi++){const Ai=pi[vi],gn=w.convert(Ai.format,Ai.colorSpace),ki=w.convert(Ai.type),sn=pe(Ai.internalFormat,gn,ki,Ai.colorSpace),Hr=Nn(qt);ri&&Qn(qt)===!1?S.renderbufferStorageMultisample(S.RENDERBUFFER,Hr,sn,qt.width,qt.height):Qn(qt)?k.renderbufferStorageMultisampleEXT(S.RENDERBUFFER,Hr,sn,qt.width,qt.height):S.renderbufferStorage(S.RENDERBUFFER,sn,qt.width,qt.height)}}S.bindRenderbuffer(S.RENDERBUFFER,null)}function Be(de,qt){if(qt&&qt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(o.bindFramebuffer(S.FRAMEBUFFER,de),!(qt.depthTexture&&qt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!f.get(qt.depthTexture).__webglTexture||qt.depthTexture.image.width!==qt.width||qt.depthTexture.image.height!==qt.height)&&(qt.depthTexture.image.width=qt.width,qt.depthTexture.image.height=qt.height,qt.depthTexture.needsUpdate=!0),hi(qt.depthTexture,0),qt.depthTexture.image.depth!=1?Li(qt.depthTexture,0):hi(qt.depthTexture,0);const pi=f.get(qt.depthTexture).__webglTexture,vi=Nn(qt);if(qt.isWebGLMultiviewRenderTarget===!0){const Ai=Qn(qt),gn=qt.numViews;if(qt.depthTexture.format===Ne)Ai?H.framebufferTextureMultisampleMultiviewOVR(S.FRAMEBUFFER,S.DEPTH_ATTACHMENT,pi,0,vi,0,gn):H.framebufferTextureMultiviewOVR(S.FRAMEBUFFER,S.DEPTH_ATTACHMENT,pi,0,0,gn);else if(qt.depthTexture.format===oi)Ai?H.framebufferTextureMultisampleMultiviewOVR(S.FRAMEBUFFER,S.DEPTH_STENCIL_ATTACHMENT,pi,0,vi,0,gn):H.framebufferTextureMultiviewOVR(S.FRAMEBUFFER,S.DEPTH_STENCIL_ATTACHMENT,pi,0,0,gn);else throw new Error("Unknown depthTexture format")}else if(qt.depthTexture.format===Ne)Qn(qt)?k.framebufferTexture2DMultisampleEXT(S.FRAMEBUFFER,S.DEPTH_ATTACHMENT,S.TEXTURE_2D,pi,0,vi):S.framebufferTexture2D(S.FRAMEBUFFER,S.DEPTH_ATTACHMENT,S.TEXTURE_2D,pi,0);else if(qt.depthTexture.format===oi)Qn(qt)?k.framebufferTexture2DMultisampleEXT(S.FRAMEBUFFER,S.DEPTH_STENCIL_ATTACHMENT,S.TEXTURE_2D,pi,0,vi):S.framebufferTexture2D(S.FRAMEBUFFER,S.DEPTH_STENCIL_ATTACHMENT,S.TEXTURE_2D,pi,0);else throw new Error("Unknown depthTexture format")}function Mi(de){const qt=f.get(de),ri=de.isWebGLCubeRenderTarget===!0;if(de.depthTexture&&!qt.__autoAllocateDepthBuffer){if(ri)throw new Error("target.depthTexture not supported in Cube render targets");Be(qt.__webglFramebuffer,de)}else if(ri){qt.__webglDepthbuffer=[];for(let pi=0;pi<6;pi++)o.bindFramebuffer(S.FRAMEBUFFER,qt.__webglFramebuffer[pi]),qt.__webglDepthbuffer[pi]=S.createRenderbuffer(),Gi(qt.__webglDepthbuffer[pi],de,!1)}else o.bindFramebuffer(S.FRAMEBUFFER,qt.__webglFramebuffer),qt.__webglDepthbuffer=S.createRenderbuffer(),Gi(qt.__webglDepthbuffer,de,!1);o.bindFramebuffer(S.FRAMEBUFFER,null)}function li(de,qt,ri){const pi=f.get(de);qt!==void 0&&Ni(pi.__webglFramebuffer,de,de.texture,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,0),ri!==void 0&&Mi(de)}function Si(de){const qt=de.texture,ri=f.get(de),pi=f.get(qt);de.addEventListener("dispose",he);const vi=de.textures,Ai=de.isWebGLCubeRenderTarget===!0,gn=vi.length>1;if(gn||(pi.__webglTexture===void 0&&(pi.__webglTexture=S.createTexture()),pi.__version=qt.version,B.memory.textures++),Ai){ri.__webglFramebuffer=[];for(let ki=0;ki<6;ki++)if(qt.mipmaps&&qt.mipmaps.length>0){ri.__webglFramebuffer[ki]=[];for(let sn=0;sn<qt.mipmaps.length;sn++)ri.__webglFramebuffer[ki][sn]=S.createFramebuffer()}else ri.__webglFramebuffer[ki]=S.createFramebuffer()}else{if(qt.mipmaps&&qt.mipmaps.length>0){ri.__webglFramebuffer=[];for(let ki=0;ki<qt.mipmaps.length;ki++)ri.__webglFramebuffer[ki]=S.createFramebuffer()}else ri.__webglFramebuffer=S.createFramebuffer();if(gn)for(let ki=0,sn=vi.length;ki<sn;ki++){const Hr=f.get(vi[ki]);Hr.__webglTexture===void 0&&(Hr.__webglTexture=S.createTexture(),B.memory.textures++)}if(de.samples>0&&Qn(de)===!1){ri.__webglMultisampledFramebuffer=S.createFramebuffer(),ri.__webglColorRenderbuffer=[],o.bindFramebuffer(S.FRAMEBUFFER,ri.__webglMultisampledFramebuffer);for(let ki=0;ki<vi.length;ki++){const sn=vi[ki];ri.__webglColorRenderbuffer[ki]=S.createRenderbuffer(),S.bindRenderbuffer(S.RENDERBUFFER,ri.__webglColorRenderbuffer[ki]);const Hr=w.convert(sn.format,sn.colorSpace),on=w.convert(sn.type),An=pe(sn.internalFormat,Hr,on,sn.colorSpace,de.isXRRenderTarget===!0),ir=Nn(de);S.renderbufferStorageMultisample(S.RENDERBUFFER,ir,An,de.width,de.height),S.framebufferRenderbuffer(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0+ki,S.RENDERBUFFER,ri.__webglColorRenderbuffer[ki])}S.bindRenderbuffer(S.RENDERBUFFER,null),de.depthBuffer&&(ri.__webglDepthRenderbuffer=S.createRenderbuffer(),Gi(ri.__webglDepthRenderbuffer,de,!0)),o.bindFramebuffer(S.FRAMEBUFFER,null)}}if(Ai){o.bindTexture(S.TEXTURE_CUBE_MAP,pi.__webglTexture),Fr(S.TEXTURE_CUBE_MAP,qt);for(let ki=0;ki<6;ki++)if(qt.mipmaps&&qt.mipmaps.length>0)for(let sn=0;sn<qt.mipmaps.length;sn++)Ni(ri.__webglFramebuffer[ki][sn],de,qt,S.COLOR_ATTACHMENT0,S.TEXTURE_CUBE_MAP_POSITIVE_X+ki,sn);else Ni(ri.__webglFramebuffer[ki],de,qt,S.COLOR_ATTACHMENT0,S.TEXTURE_CUBE_MAP_POSITIVE_X+ki,0);$t(qt)&&Lt(S.TEXTURE_CUBE_MAP),o.unbindTexture()}else if(gn){for(let ki=0,sn=vi.length;ki<sn;ki++){const Hr=vi[ki],on=f.get(Hr);o.bindTexture(S.TEXTURE_2D,on.__webglTexture),Fr(S.TEXTURE_2D,Hr),Ni(ri.__webglFramebuffer,de,Hr,S.COLOR_ATTACHMENT0+ki,S.TEXTURE_2D,0),$t(Hr)&&Lt(S.TEXTURE_2D)}o.unbindTexture()}else{let ki=S.TEXTURE_2D;if((de.isWebGL3DRenderTarget||de.isWebGLArrayRenderTarget)&&(ki=de.isWebGL3DRenderTarget?S.TEXTURE_3D:S.TEXTURE_2D_ARRAY),de.isWebGLMultiviewRenderTarget===!0&&(ki=S.TEXTURE_2D_ARRAY),o.bindTexture(ki,pi.__webglTexture),Fr(ki,qt),qt.mipmaps&&qt.mipmaps.length>0)for(let sn=0;sn<qt.mipmaps.length;sn++)Ni(ri.__webglFramebuffer[sn],de,qt,S.COLOR_ATTACHMENT0,ki,sn);else Ni(ri.__webglFramebuffer,de,qt,S.COLOR_ATTACHMENT0,ki,0);$t(qt)&&Lt(ki),o.unbindTexture()}(de.depthBuffer||de.isWebGLMultiviewRenderTarget===!0)&&this.setupDepthRenderbuffer(de)}function xi(de){const qt=de.textures;for(let ri=0,pi=qt.length;ri<pi;ri++){const vi=qt[ri];if($t(vi)){const Ai=de.isWebGLCubeRenderTarget?S.TEXTURE_CUBE_MAP:S.TEXTURE_2D,gn=f.get(vi).__webglTexture;o.bindTexture(Ai,gn),Lt(Ai),o.unbindTexture()}}}const _i=[],Qi=[];function rn(de){if(de.samples>0){if(Qn(de)===!1){const qt=de.textures,ri=de.width,pi=de.height;let vi=S.COLOR_BUFFER_BIT;const Ai=de.stencilBuffer?S.DEPTH_STENCIL_ATTACHMENT:S.DEPTH_ATTACHMENT,gn=f.get(de),ki=qt.length>1;if(ki)for(let sn=0;sn<qt.length;sn++)o.bindFramebuffer(S.FRAMEBUFFER,gn.__webglMultisampledFramebuffer),S.framebufferRenderbuffer(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0+sn,S.RENDERBUFFER,null),o.bindFramebuffer(S.FRAMEBUFFER,gn.__webglFramebuffer),S.framebufferTexture2D(S.DRAW_FRAMEBUFFER,S.COLOR_ATTACHMENT0+sn,S.TEXTURE_2D,null,0);o.bindFramebuffer(S.READ_FRAMEBUFFER,gn.__webglMultisampledFramebuffer),o.bindFramebuffer(S.DRAW_FRAMEBUFFER,gn.__webglFramebuffer);for(let sn=0;sn<qt.length;sn++){if(de.resolveDepthBuffer&&(de.depthBuffer&&(vi|=S.DEPTH_BUFFER_BIT),de.stencilBuffer&&de.resolveStencilBuffer&&(vi|=S.STENCIL_BUFFER_BIT)),ki){S.framebufferRenderbuffer(S.READ_FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.RENDERBUFFER,gn.__webglColorRenderbuffer[sn]);const Hr=f.get(qt[sn]).__webglTexture;S.framebufferTexture2D(S.DRAW_FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_2D,Hr,0)}S.blitFramebuffer(0,0,ri,pi,0,0,ri,pi,vi,S.NEAREST),G===!0&&(_i.length=0,Qi.length=0,_i.push(S.COLOR_ATTACHMENT0+sn),de.depthBuffer&&de.resolveDepthBuffer===!1&&(_i.push(Ai),Qi.push(Ai),S.invalidateFramebuffer(S.DRAW_FRAMEBUFFER,Qi)),S.invalidateFramebuffer(S.READ_FRAMEBUFFER,_i))}if(o.bindFramebuffer(S.READ_FRAMEBUFFER,null),o.bindFramebuffer(S.DRAW_FRAMEBUFFER,null),ki)for(let sn=0;sn<qt.length;sn++){o.bindFramebuffer(S.FRAMEBUFFER,gn.__webglMultisampledFramebuffer),S.framebufferRenderbuffer(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0+sn,S.RENDERBUFFER,gn.__webglColorRenderbuffer[sn]);const Hr=f.get(qt[sn]).__webglTexture;o.bindFramebuffer(S.FRAMEBUFFER,gn.__webglFramebuffer),S.framebufferTexture2D(S.DRAW_FRAMEBUFFER,S.COLOR_ATTACHMENT0+sn,S.TEXTURE_2D,Hr,0)}o.bindFramebuffer(S.DRAW_FRAMEBUFFER,gn.__webglMultisampledFramebuffer)}else if(de.depthBuffer&&de.resolveDepthBuffer===!1&&G){const qt=de.stencilBuffer?S.DEPTH_STENCIL_ATTACHMENT:S.DEPTH_ATTACHMENT;S.invalidateFramebuffer(S.DRAW_FRAMEBUFFER,[qt])}}}function Nn(de){return Math.min(y.maxSamples,de.samples)}function Qn(de){const qt=f.get(de);return de.samples>0&&r.has("WEBGL_multisampled_render_to_texture")===!0&&qt.__useRenderToTexture!==!1}function Pr(de){const qt=B.render.frame;nt.get(de)!==qt&&(nt.set(de,qt),de.update())}function Ba(de,qt){const ri=de.colorSpace,pi=de.format,vi=de.type;return de.isCompressedTexture===!0||de.isVideoTexture===!0||ri!==w0&&ri!==B9&&(Nr.getTransfer(ri)===Yr?(pi!==ue||vi!==ze)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ri)),qt}function fa(de){return typeof HTMLImageElement<"u"&&de instanceof HTMLImageElement?(Z.width=de.naturalWidth||de.width,Z.height=de.naturalHeight||de.height):typeof VideoFrame<"u"&&de instanceof VideoFrame?(Z.width=de.displayWidth,Z.height=de.displayHeight):(Z.width=de.width,Z.height=de.height),Z}this.allocateTextureUnit=Ie,this.resetTextureUnits=Ce,this.setTexture2D=hi,this.setTexture2DArray=Li,this.setTexture3D=ti,this.setTextureCube=Ti,this.rebindTextures=li,this.uploadTexture=mn,this.setupRenderTarget=Si,this.updateRenderTargetMipmap=xi,this.updateMultisampleRenderTarget=rn,this.setupDepthTexture=Be,this.setupDepthRenderbuffer=Mi,this.setupFrameBufferTexture=Ni,this.useMultisampledRTT=Qn,this.runDeferredUploads=Zr,this.setDeferTextureUploads=Dr}function Zb(S,r){function o(f,y=B9){let w;const B=Nr.getTransfer(y);if(f===ze)return S.UNSIGNED_BYTE;if(f===jn)return S.UNSIGNED_SHORT_4_4_4_4;if(f===wi)return S.UNSIGNED_SHORT_5_5_5_1;if(f===Ha)return S.UNSIGNED_INT_5_9_9_9_REV;if(f===Zi)return S.BYTE;if(f===Re)return S.SHORT;if(f===bn)return S.UNSIGNED_SHORT;if(f===Ir)return S.INT;if(f===dr)return S.UNSIGNED_INT;if(f===si)return S.FLOAT;if(f===Ki)return S.HALF_FLOAT;if(f===Oa)return S.ALPHA;if(f===Kt)return S.RGB;if(f===ue)return S.RGBA;if(f===Ee)return S.LUMINANCE;if(f===qe)return S.LUMINANCE_ALPHA;if(f===Ne)return S.DEPTH_COMPONENT;if(f===oi)return S.DEPTH_STENCIL;if(f===yi)return S.RED;if(f===ji)return S.RED_INTEGER;if(f===Ui)return S.RG;if(f===ii)return S.RG_INTEGER;if(f===ln)return S.RGBA_INTEGER;if(f===vn||f===Tn||f===Gr||f===Jn)if(B===Yr)if(w=r.get("WEBGL_compressed_texture_s3tc_srgb"),w!==null){if(f===vn)return w.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(f===Tn)return w.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(f===Gr)return w.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(f===Jn)return w.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(w=r.get("WEBGL_compressed_texture_s3tc"),w!==null){if(f===vn)return w.COMPRESSED_RGB_S3TC_DXT1_EXT;if(f===Tn)return w.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(f===Gr)return w.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(f===Jn)return w.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(f===kn||f===pr||f===sa||f===Qa)if(w=r.get("WEBGL_compressed_texture_pvrtc"),w!==null){if(f===kn)return w.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(f===pr)return w.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(f===sa)return w.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(f===Qa)return w.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(f===Hi||f===Wn||f===xa)if(w=r.get("WEBGL_compressed_texture_etc"),w!==null){if(f===Hi||f===Wn)return B===Yr?w.COMPRESSED_SRGB8_ETC2:w.COMPRESSED_RGB8_ETC2;if(f===xa)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:w.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(f===vr||f===lt||f===gt||f===Pt||f===Vt||f===te||f===Me||f===we||f===fi||f===di||f===De||f===ni||f===bi||f===Xi)if(w=r.get("WEBGL_compressed_texture_astc"),w!==null){if(f===vr)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:w.COMPRESSED_RGBA_ASTC_4x4_KHR;if(f===lt)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:w.COMPRESSED_RGBA_ASTC_5x4_KHR;if(f===gt)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:w.COMPRESSED_RGBA_ASTC_5x5_KHR;if(f===Pt)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:w.COMPRESSED_RGBA_ASTC_6x5_KHR;if(f===Vt)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:w.COMPRESSED_RGBA_ASTC_6x6_KHR;if(f===te)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:w.COMPRESSED_RGBA_ASTC_8x5_KHR;if(f===Me)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:w.COMPRESSED_RGBA_ASTC_8x6_KHR;if(f===we)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:w.COMPRESSED_RGBA_ASTC_8x8_KHR;if(f===fi)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:w.COMPRESSED_RGBA_ASTC_10x5_KHR;if(f===di)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:w.COMPRESSED_RGBA_ASTC_10x6_KHR;if(f===De)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:w.COMPRESSED_RGBA_ASTC_10x8_KHR;if(f===ni)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:w.COMPRESSED_RGBA_ASTC_10x10_KHR;if(f===bi)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:w.COMPRESSED_RGBA_ASTC_12x10_KHR;if(f===Xi)return B===Yr?w.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:w.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(f===dn||f===Cn||f===Vn)if(w=r.get("EXT_texture_compression_bptc"),w!==null){if(f===dn)return B===Yr?w.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:w.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(f===Cn)return w.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(f===Vn)return w.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(f===Rn||f===xn||f===_r||f===Vr)if(w=r.get("EXT_texture_compression_rgtc"),w!==null){if(f===dn)return w.COMPRESSED_RED_RGTC1_EXT;if(f===xn)return w.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(f===_r)return w.COMPRESSED_RED_GREEN_RGTC2_EXT;if(f===Vr)return w.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return f===On?S.UNSIGNED_INT_24_8:S[f]!==void 0?S[f]:null}return{convert:o}}class pu extends Rr{constructor(){super(),this.isGroup=!0,this.type="Group"}}class r7 extends o9{constructor(r=[]){super(),this.isArrayCamera=!0,this.cameras=r}}var tC=new ie,eC=new ie;function uQ(S,r,o){tC.setFromMatrixPosition(r.matrixWorld),eC.setFromMatrixPosition(o.matrixWorld);var f=tC.distanceTo(eC),y=r.projectionMatrix.elements,w=o.projectionMatrix.elements,B=y[14]/(y[10]-1),k=y[14]/(y[10]+1),G=(y[9]+1)/y[5],H=(y[9]-1)/y[5],Z=(y[8]-1)/y[0],nt=(w[8]+1)/w[0],rt=B*Z,at=B*nt,ct=f/(-Z+nt),yt=ct*-Z;r.matrixWorld.decompose(S.position,S.quaternion,S.scale),S.translateX(yt),S.translateZ(ct),S.matrixWorld.compose(S.position,S.quaternion,S.scale),S.matrixWorldInverse.copy(S.matrixWorld).invert();var ft=B+ct,st=k+ct,Gt=rt-yt,$t=at+(f-yt),Lt=G*k/st*ft,pe=H*k/st*ft;S.projectionMatrix.makePerspective(Gt,$t,Lt,pe,ft,st)}function iC(S){var r,o,f=this,y=null,w=null,B=null,k=[],G=new fn,H=new fn,Z=1,nt="local-floor";typeof window<"u"&&"VRFrameData"in window&&(w=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",Lt,!1));var rt=new fn,at=new Br,ct=new ie,yt=new o9;yt.viewport=new xr,yt.layers.enable(1);var ft=new o9;ft.viewport=new xr,ft.layers.enable(2);var st=new r7([yt,ft]);st.layers.enable(1),st.layers.enable(2);var Gt=new mi,$t;function Lt(){var fe=f.isPresenting=y!==null&&y.isPresenting===!0;if(fe){var xe=y.getEyeParameters("left");r=2*xe.renderWidth*Z,o=xe.renderHeight*Z,$t=S.getPixelRatio(),S.getSize(Gt),S.setDrawingBufferSize(r,o,1),yt.viewport.set(0,0,r/2,o),ft.viewport.set(r/2,0,r/2,o),Wt.start(),f.dispatchEvent({type:"sessionstart"})}else f.enabled&&S.setDrawingBufferSize(Gt.width,Gt.height,$t),Wt.stop(),f.dispatchEvent({type:"sessionend"})}var pe=[],ne=[];function oe(fe){for(var xe=navigator.getGamepads&&navigator.getGamepads(),Ce=0,Ie=xe.length;Ce<Ie;Ce++){var Ke=xe[Ce];if(Ke&&(Ke.id==="Daydream Controller"||Ke.id==="Gear VR Controller"||Ke.id==="Oculus Go Controller"||Ke.id==="OpenVR Gamepad"||Ke.id.startsWith("Oculus Touch")||Ke.id.startsWith("HTC Vive Focus")||Ke.id.startsWith("Spatial Controller"))){var hi=Ke.hand;if(fe===0&&(hi===""||hi==="right")||fe===1&&hi==="left")return Ke}}}function he(){for(var fe=0;fe<k.length;fe++){var xe=k[fe],Ce=oe(fe);if(Ce!==void 0&&Ce.pose!==void 0){if(Ce.pose===null)return;var Ie=Ce.pose;Ie.hasPosition===!1&&xe.position.set(.2,-.6,-.05),Ie.position!==null&&xe.position.fromArray(Ie.position),Ie.orientation!==null&&xe.quaternion.fromArray(Ie.orientation),xe.matrix.compose(xe.position,xe.quaternion,xe.scale),xe.matrix.premultiply(G),xe.matrix.decompose(xe.position,xe.quaternion,xe.scale),xe.matrixWorldNeedsUpdate=!0,xe.visible=!0;var Ke=Ce.id==="Daydream Controller"?0:1;pe[fe]===void 0&&(pe[fe]=!1),pe[fe]!==Ce.buttons[Ke].pressed&&(pe[fe]=Ce.buttons[Ke].pressed,pe[fe]===!0?xe.dispatchEvent({type:"selectstart"}):(xe.dispatchEvent({type:"selectend"}),xe.dispatchEvent({type:"select"}))),Ke=2,ne[fe]===void 0&&(ne[fe]=!1),Ce.buttons[Ke]!==void 0&&ne[fe]!==Ce.buttons[Ke].pressed&&(ne[fe]=Ce.buttons[Ke].pressed,ne[fe]===!0?xe.dispatchEvent({type:"squeezestart"}):(xe.dispatchEvent({type:"squeezeend"}),xe.dispatchEvent({type:"squeeze"})))}else xe.visible=!1}}function Yt(fe,xe){xe!==null&&xe.length===4&&fe.set(xe[0]*r,xe[1]*o,xe[2]*r,xe[3]*o)}this.enabled=!1,this.getController=function(fe){var xe=k[fe];return xe===void 0&&(xe=new pu,xe.matrixAutoUpdate=!1,xe.visible=!1,k[fe]=xe),xe},this.getDevice=function(){return y},this.setDevice=function(fe){fe!==void 0&&(y=fe),Wt.setContext(fe)},this.setFramebufferScaleFactor=function(fe){Z=fe},this.setReferenceSpaceType=function(fe){nt=fe},this.setPoseTarget=function(fe){fe!==void 0&&(B=fe)},this.cameraAutoUpdate=!0,this.updateCamera=function(fe){var xe=nt==="local-floor"?1.6:0;if(y.depthNear=fe.near,y.depthFar=fe.far,y.getFrameData(w),nt==="local-floor"){var Ce=y.stageParameters;Ce?G.fromArray(Ce.sittingToStandingTransform):G.makeTranslation(0,xe,0)}var Ie=w.pose,Ke=B!==null?B:fe;Ke.matrix.copy(G),Ke.matrix.decompose(Ke.position,Ke.quaternion,Ke.scale),Ie.orientation!==null&&(at.fromArray(Ie.orientation),Ke.quaternion.multiply(at)),Ie.position!==null&&(at.setFromRotationMatrix(G),ct.fromArray(Ie.position),ct.applyQuaternion(at),Ke.position.add(ct)),Ke.updateMatrixWorld();for(var hi=Ke.children,Li=0,ti=hi.length;Li<ti;Li++)hi[Li].updateMatrixWorld(!0);yt.near=fe.near,ft.near=fe.near,yt.far=fe.far,ft.far=fe.far,yt.matrixWorldInverse.fromArray(w.leftViewMatrix),ft.matrixWorldInverse.fromArray(w.rightViewMatrix),H.copy(G).invert(),nt==="local-floor"&&(yt.matrixWorldInverse.multiply(H),ft.matrixWorldInverse.multiply(H));var Ti=Ke.parent;Ti!==null&&(rt.copy(Ti.matrixWorld).invert(),yt.matrixWorldInverse.multiply(rt),ft.matrixWorldInverse.multiply(rt)),yt.matrixWorld.copy(yt.matrixWorldInverse).invert(),ft.matrixWorld.copy(ft.matrixWorldInverse).invert(),yt.projectionMatrix.fromArray(w.leftProjectionMatrix),ft.projectionMatrix.fromArray(w.rightProjectionMatrix),uQ(st,yt,ft);var Bi=y.getLayers();if(Bi.length){var hn=Bi[0];Yt(yt.viewport,hn.leftBounds),Yt(ft.viewport,hn.rightBounds)}return he(),st},this.getCamera=function(){return st},this.getFoveation=function(){return 1},this.setFoveation=function(fe){fe!==1&&console.warn("THREE.WebVRManager: setFoveation() not used in WebVR.")},this.getEnvironmentBlendMode=function(){if(f.isPresenting)return"opaque"},this.getStandingMatrix=function(){return G},this.isPresenting=!1;var Wt=new z6;this.setAnimationLoop=function(fe){Wt.setAnimationLoop(fe),this.isPresenting&&Wt.start()},this.submitFrame=function(){this.isPresenting&&y.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",Lt)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}Object.assign(iC.prototype,{addEventListener:ns.prototype.addEventListener,hasEventListener:ns.prototype.hasEventListener,removeEventListener:ns.prototype.removeEventListener,dispatchEvent:ns.prototype.dispatchEvent});class nC extends Ms{constructor(r,o,f,y={}){super(r,o,y),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=f}copy(r){return super.copy(r),this.numViews=r.numViews,this}}nC.prototype.isWebGLMultiviewRenderTarget=!0;const dQ={type:"move"};class a7{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new pu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new pu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new pu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(r){return this._targetRay!==null&&this._targetRay.dispatchEvent(r),this._grip!==null&&this._grip.dispatchEvent(r),this._hand!==null&&this._hand.dispatchEvent(r),this}connect(r){if(r&&r.hand){const o=this._hand;if(o)for(const f of r.hand.values())this._getHandJoint(o,f)}return this.dispatchEvent({type:"connected",data:r}),this}disconnect(r){return this.dispatchEvent({type:"disconnected",data:r}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(r,o,f){let y=null,w=null,B=null;const k=this._targetRay,G=this._grip,H=this._hand;if(r&&o.session.visibilityState!=="visible-blurred"){if(H&&r.hand){B=!0;for(const yt of r.hand.values()){const ft=o.getJointPose(yt,f),st=this._getHandJoint(H,yt);ft!==null&&(st.matrix.fromArray(ft.transform.matrix),st.matrix.decompose(st.position,st.rotation,st.scale),st.matrixWorldNeedsUpdate=!0,st.jointRadius=ft.radius),st.visible=ft!==null}const Z=H.joints["index-finger-tip"],nt=H.joints["thumb-tip"],rt=Z.position.distanceTo(nt.position),at=.02,ct=.005;H.inputState.pinching&&rt>at+ct?(H.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:r.handedness,target:this})):!H.inputState.pinching&&rt<=at-ct&&(H.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:r.handedness,target:this}))}else G!==null&&r.gripSpace&&(w=o.getPose(r.gripSpace,f),w!==null&&(G.matrix.fromArray(w.transform.matrix),G.matrix.decompose(G.position,G.rotation,G.scale),G.matrixWorldNeedsUpdate=!0,w.linearVelocity?(G.hasLinearVelocity=!0,G.linearVelocity.copy(w.linearVelocity)):G.hasLinearVelocity=!1,w.angularVelocity?(G.hasAngularVelocity=!0,G.angularVelocity.copy(w.angularVelocity)):G.hasAngularVelocity=!1));k!==null&&(y=o.getPose(r.targetRaySpace,f),y===null&&w!==null&&(y=w),y!==null&&(k.matrix.fromArray(y.transform.matrix),k.matrix.decompose(k.position,k.rotation,k.scale),k.matrixWorldNeedsUpdate=!0,y.linearVelocity?(k.hasLinearVelocity=!0,k.linearVelocity.copy(y.linearVelocity)):k.hasLinearVelocity=!1,y.angularVelocity?(k.hasAngularVelocity=!0,k.angularVelocity.copy(y.angularVelocity)):k.hasAngularVelocity=!1,this.dispatchEvent(dQ)))}return k!==null&&(k.visible=y!==null),G!==null&&(G.visible=w!==null),H!==null&&(H.visible=B!==null),this}_getHandJoint(r,o){if(r.joints[o.jointName]===void 0){const f=new pu;f.matrixAutoUpdate=!1,f.visible=!1,r.joints[o.jointName]=f,r.add(f)}return r.joints[o.jointName]}}const hQ=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,fQ=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class mQ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(r,o,f){if(this.texture===null){const y=new la,w=r.properties.get(y);w.__webglTexture=o.texture,(o.depthNear!=f.depthNear||o.depthFar!=f.depthFar)&&(this.depthNear=o.depthNear,this.depthFar=o.depthFar),this.texture=y}}render(r,o){if(this.texture!==null){if(this.mesh===null){const f=o.cameras[0].viewport,y=new x0({vertexShader:hQ,fragmentShader:fQ,uniforms:{depthColor:{value:this.texture},depthWidth:{value:f.z},depthHeight:{value:f.w}}});this.mesh=new Za(new Gd(20,20),y)}r.render(this.mesh,o)}}reset(){this.texture=null,this.mesh=null}}class pQ extends ns{constructor(r,o,f,y){super();const w=this;let B=null,k=1;var G=null;let H=null,Z="local-floor",nt=1,rt=null,at=null;var ct=[];let yt=null,ft=null,st=null,Gt=null;const $t=new mQ,Lt=o.getContextAttributes();let pe=null,ne=null;const oe=[],he=[],Yt=new mi;let Wt=null;const fe=new o9;fe.layers.enable(1),fe.viewport=new xr;const xe=new o9;xe.layers.enable(2),xe.viewport=new xr;const Ce=[fe,xe],Ie=new r7;Ie.layers.enable(1),Ie.layers.enable(2);let Ke=null,hi=null;this.cameraAutoUpdate=!0,this.layersEnabled=!1,this.enabled=!1,this.isPresenting=!1,this.isMultiview=!1,this.getCameraPose=function(){return at},this.getController=function(gi){let Ni=oe[gi];return Ni===void 0&&(Ni=new a7,oe[gi]=Ni),Ni.getTargetRaySpace()},this.getControllerGrip=function(gi){let Ni=oe[gi];return Ni===void 0&&(Ni=new a7,oe[gi]=Ni),Ni.getGripSpace()},this.getHand=function(gi){let Ni=oe[gi];return Ni===void 0&&(Ni=new a7,oe[gi]=Ni),Ni.getHandSpace()};function Li(gi){const Ni=he.indexOf(gi.inputSource);if(Ni===-1)return;const Gi=oe[Ni];Gi!==void 0&&(Gi.update(gi.inputSource,gi.frame,rt||H),Gi.dispatchEvent({type:gi.type,data:gi.inputSource}))}function ti(){B.removeEventListener("select",Li),B.removeEventListener("selectstart",Li),B.removeEventListener("selectend",Li),B.removeEventListener("squeeze",Li),B.removeEventListener("squeezestart",Li),B.removeEventListener("squeezeend",Li),B.removeEventListener("end",ti),B.removeEventListener("inputsourceschange",Ti);for(let gi=0;gi<oe.length;gi++){const Ni=he[gi];Ni!==null&&(he[gi]=null,oe[gi].disconnect(Ni))}Ke=null,hi=null,$t.reset(),r.setRenderTarget(pe),st=null,ft=null,yt=null,B=null,ne=null,mn.stop(),w.isPresenting=!1,r.setPixelRatio(Wt),r.setSize(Yt.width,Yt.height,!1),w.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(gi){k=gi,w.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(gi){Z=gi,w.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return rt||H},this.setReferenceSpace=function(gi){rt=gi},this.getBaseLayer=function(){return ft!==null?ft:st},this.getBinding=function(){return yt},this.getFrame=function(){return Gt},this.getSession=function(){return B},this.setSession=async function(gi){if(B=gi,B!==null){if(pe=r.getRenderTarget(),B.addEventListener("select",Li),B.addEventListener("selectstart",Li),B.addEventListener("selectend",Li),B.addEventListener("squeeze",Li),B.addEventListener("squeezestart",Li),B.addEventListener("squeezeend",Li),B.addEventListener("end",ti),B.addEventListener("inputsourceschange",Ti),Lt.xrCompatible!==!0&&await o.makeXRCompatible(),Wt=r.getPixelRatio(),r.getSize(Yt),B.renderState.layers===void 0){const Ni={antialias:Lt.antialias,alpha:!0,depth:Lt.depth,stencil:Lt.stencil,framebufferScaleFactor:k};st=new XRWebGLLayer(B,o,Ni),B.updateRenderState({baseLayer:st}),r.setPixelRatio(1),r.setSize(st.framebufferWidth,st.framebufferHeight,!1),ne=new Ms(st.framebufferWidth,st.framebufferHeight,{format:ue,type:ze,colorSpace:r.outputColorSpace,stencilBuffer:Lt.stencil})}else{let Ni=null,Gi=null,Be=null;Lt.depth&&(Be=Lt.stencil?o.DEPTH24_STENCIL8:o.DEPTH_COMPONENT24,Ni=Lt.stencil?oi:Ne,Gi=Lt.stencil?On:dr),w.isMultiview=y&&f.has("OCULUS_multiview");const Mi={colorFormat:o.RGBA8,depthFormat:Be,scaleFactor:k};w.isMultiview&&(Mi.textureType="texture-array"),yt=new XRWebGLBinding(B,o),ft=yt.createProjectionLayer(Mi),B.updateRenderState({layers:[ft]}),r.setPixelRatio(1),r.setSize(ft.textureWidth,ft.textureHeight,!1);const li={format:ue,type:ze,depthTexture:new Z6(ft.textureWidth,ft.textureHeight,Gi,void 0,void 0,void 0,void 0,void 0,void 0,Ni),stencilBuffer:Lt.stencil,colorSpace:r.outputColorSpace,samples:Lt.antialias?4:0,resolveDepthBuffer:ft.ignoreDepthValues===!1};if(w.isMultiview){const Si=f.get("OCULUS_multiview");this.maxNumViews=o.getParameter(Si.MAX_VIEWS_OVR),ne=new nC(ft.textureWidth,ft.textureHeight,2,li)}else ne=new Ms(ft.textureWidth,ft.textureHeight,li)}ne.isXRRenderTarget=!0,this.setFoveation(nt),rt=null,H=await B.requestReferenceSpace(Z),mn.setContext(B),mn.start(),w.isPresenting=!0,w.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(B!==null)return B.environmentBlendMode},this.addLayer=function(gi){!window.XRWebGLBinding||!this.layersEnabled||!B||(ct.push(gi),this.updateLayers())},this.removeLayer=function(gi){ct.splice(ct.indexOf(gi),1),!(!window.XRWebGLBinding||!this.layersEnabled||!B)&&this.updateLayers()},this.updateLayers=function(){var gi=ct.map(function(Ni){return Ni});gi.unshift(B.renderState.layers[0]),B.updateRenderState({layers:gi})};function Ti(gi){for(let Ni=0;Ni<gi.removed.length;Ni++){const Gi=gi.removed[Ni],Be=he.indexOf(Gi);Be>=0&&(he[Be]=null,oe[Be].disconnect(Gi))}for(let Ni=0;Ni<gi.added.length;Ni++){const Gi=gi.added[Ni];let Be=he.indexOf(Gi);if(Be===-1){for(let li=0;li<oe.length;li++)if(li>=he.length){he.push(Gi),Be=li;break}else if(he[li]===null){he[li]=Gi,Be=li;break}if(Be===-1)break}const Mi=oe[Be];Mi&&Mi.connect(Gi)}}const Bi=new ie,hn=new ie;function cr(gi,Ni,Gi){Bi.setFromMatrixPosition(Ni.matrixWorld),hn.setFromMatrixPosition(Gi.matrixWorld);const Be=Bi.distanceTo(hn),Mi=Ni.projectionMatrix.elements,li=Gi.projectionMatrix.elements,Si=Mi[14]/(Mi[10]-1),xi=Mi[14]/(Mi[10]+1),_i=(Mi[9]+1)/Mi[5],Qi=(Mi[9]-1)/Mi[5],rn=(Mi[8]-1)/Mi[0],Nn=(li[8]+1)/li[0],Qn=Si*rn,Pr=Si*Nn,Ba=Be/(-rn+Nn),fa=Ba*-rn;Ni.matrixWorld.decompose(gi.position,gi.quaternion,gi.scale),gi.translateX(fa),gi.translateZ(Ba),gi.matrixWorld.compose(gi.position,gi.quaternion,gi.scale),gi.matrixWorldInverse.copy(gi.matrixWorld).invert();const de=Si+Ba,qt=xi+Ba,ri=Qn-fa,pi=Pr+(Be-fa),vi=_i*xi/qt*de,Ai=Qi*xi/qt*de;gi.projectionMatrix.makePerspective(ri,pi,vi,Ai,de,qt),gi.projectionMatrixInverse.copy(gi.projectionMatrix).invert()}function Fr(gi,Ni){Ni===null?gi.matrixWorld.copy(gi.matrix):gi.matrixWorld.multiplyMatrices(Ni.matrixWorld,gi.matrix),gi.matrixWorldInverse.copy(gi.matrixWorld).invert()}this.setPoseTarget=function(gi){gi!==void 0&&(G=gi)},this.updateCamera=function(gi){if(B===null)return;$t.texture!==null&&(gi.near=$t.depthNear,gi.far=$t.depthFar),Ie.near=xe.near=fe.near=gi.near,Ie.far=xe.far=fe.far=gi.far,(Ke!==Ie.near||hi!==Ie.far)&&(B.updateRenderState({depthNear:Ie.near,depthFar:Ie.far}),Ke=Ie.near,hi=Ie.far,fe.near=Ke,fe.far=hi,xe.near=Ke,xe.far=hi,fe.updateProjectionMatrix(),xe.updateProjectionMatrix(),gi.updateProjectionMatrix());const Ni=Ie.cameras;var Gi=G||gi;const Be=Gi.parent;Fr(Ie,Be);for(let Mi=0;Mi<Ni.length;Mi++)Fr(Ni[Mi],Be);Ni.length===2?cr(Ie,fe,xe):Ie.projectionMatrix.copy(fe.projectionMatrix),ha(gi,Ie,Gi)};function ha(gi,Ni,Gi){Ni.matrixWorld.decompose(Ni.position,Ni.quaternion,Ni.scale),Gi.parent===null?Gi.matrix.copy(Ni.matrixWorld):(Gi.matrix.copy(Gi.parent.matrixWorld),Gi.matrix.invert(),Gi.matrix.multiply(Ni.matrixWorld)),Gi.matrix.decompose(Gi.position,Gi.quaternion,Gi.scale),Gi.updateMatrixWorld(!0),gi.projectionMatrix.copy(Ni.projectionMatrix),gi.projectionMatrixInverse.copy(Ni.projectionMatrixInverse),gi.isPerspectiveCamera&&(gi.fov=Hl*2*Math.atan(1/gi.projectionMatrix.elements[5]),gi.zoom=1)}this.getCamera=function(){return Ie},this.getFoveation=function(){if(!(ft===null&&st===null))return nt},this.setFoveation=function(gi){nt=gi,ft!==null&&(ft.fixedFoveation=gi),st!==null&&st.fixedFoveation!==void 0&&(st.fixedFoveation=gi)},this.hasDepthSensing=function(){return $t.texture!==null};let Dr=null;function Zr(gi,Ni){if(at=Ni.getViewerPose(rt||H),Gt=Ni,at!==null){const Gi=at.views;st!==null&&(r.setRenderTargetFramebuffer(ne,st.framebuffer),r.setRenderTarget(ne));let Be=!1;Gi.length!==Ie.cameras.length&&(Ie.cameras.length=0,Be=!0);for(let li=0;li<Gi.length;li++){const Si=Gi[li];let xi=null;if(st!==null)xi=st.getViewport(Si);else{const Qi=yt.getViewSubImage(ft,Si);xi=Qi.viewport,li===0&&(r.setRenderTargetTextures(ne,Qi.colorTexture,ft.ignoreDepthValues?void 0:Qi.depthStencilTexture),r.setRenderTarget(ne))}let _i=Ce[li];_i===void 0&&(_i=new o9,_i.layers.enable(li),_i.viewport=new xr,Ce[li]=_i),_i.matrix.fromArray(Si.transform.matrix),_i.matrix.decompose(_i.position,_i.quaternion,_i.scale),_i.projectionMatrix.fromArray(Si.projectionMatrix),_i.projectionMatrixInverse.copy(_i.projectionMatrix).invert(),_i.viewport.set(xi.x,xi.y,xi.width,xi.height),li===0&&(Ie.matrix.copy(_i.matrix),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale)),Be===!0&&Ie.cameras.push(_i)}const Mi=B.enabledFeatures;if(Mi&&Mi.includes("depth-sensing")){const li=yt.getDepthInformation(Gi[0]);li&&li.isValid&&li.texture&&$t.init(r,li,B.renderState)}}for(let Gi=0;Gi<oe.length;Gi++){const Be=he[Gi],Mi=oe[Gi];Be!==null&&Mi!==void 0&&Mi.update(Be,Ni,rt||H)}$t.render(r,Ie),Dr&&Dr(gi,Ni),Ni.detectedPlanes&&w.dispatchEvent({type:"planesdetected",data:Ni}),Gt=null}const mn=new z6;mn.setAnimationLoop(Zr),this.setAnimationLoop=function(gi){Dr=gi},this.dispose=function(){}}}const gu=new Us,gQ=new fn;function MQ(S,r){function o(ft,st){ft.matrixAutoUpdate===!0&&ft.updateMatrix(),st.value.copy(ft.matrix)}function f(ft,st){st.color.getRGB(ft.fogColor.value,bb(S)),st.isFog?(ft.fogNear.value=st.near,ft.fogFar.value=st.far):st.isFogExp2&&(ft.fogDensity.value=st.density)}function y(ft,st,Gt,$t,Lt){st.isMeshBasicMaterial||st.isMeshLambertMaterial?w(ft,st):st.isMeshToonMaterial?(w(ft,st),nt(ft,st)):st.isMeshPhongMaterial?(w(ft,st),Z(ft,st)):st.isMeshStandardMaterial?(w(ft,st),rt(ft,st),st.isMeshPhysicalMaterial&&at(ft,st,Lt)):st.isMeshMatcapMaterial?(w(ft,st),ct(ft,st)):st.isMeshDepthMaterial?w(ft,st):st.isMeshDistanceMaterial?(w(ft,st),yt(ft,st)):st.isMeshNormalMaterial?w(ft,st):st.isLineBasicMaterial?(B(ft,st),st.isLineDashedMaterial&&k(ft,st)):st.isPointsMaterial?G(ft,st,Gt,$t):st.isSpriteMaterial?H(ft,st):st.isShadowMaterial?(ft.color.value.copy(st.color),ft.opacity.value=st.opacity):st.isShaderMaterial&&(st.uniformsNeedUpdate=!1)}function w(ft,st){ft.opacity.value=st.opacity,st.color&&ft.diffuse.value.copy(st.color),st.emissive&&ft.emissive.value.copy(st.emissive).multiplyScalar(st.emissiveIntensity),st.map&&(ft.map.value=st.map,o(st.map,ft.mapTransform)),st.alphaMap&&(ft.alphaMap.value=st.alphaMap,o(st.alphaMap,ft.alphaMapTransform)),st.bumpMap&&(ft.bumpMap.value=st.bumpMap,o(st.bumpMap,ft.bumpMapTransform),ft.bumpScale.value=st.bumpScale,st.side===O&&(ft.bumpScale.value*=-1)),st.normalMap&&(ft.normalMap.value=st.normalMap,o(st.normalMap,ft.normalMapTransform),ft.normalScale.value.copy(st.normalScale),st.side===O&&ft.normalScale.value.negate()),st.displacementMap&&(ft.displacementMap.value=st.displacementMap,o(st.displacementMap,ft.displacementMapTransform),ft.displacementScale.value=st.displacementScale,ft.displacementBias.value=st.displacementBias),st.emissiveMap&&(ft.emissiveMap.value=st.emissiveMap,o(st.emissiveMap,ft.emissiveMapTransform)),st.specularMap&&(ft.specularMap.value=st.specularMap,o(st.specularMap,ft.specularMapTransform)),st.alphaTest>0&&(ft.alphaTest.value=st.alphaTest);const Gt=r.get(st),$t=Gt.envMap,Lt=Gt.envMapRotation;if($t&&(ft.envMap.value=$t,gu.copy(Lt),gu.x*=-1,gu.y*=-1,gu.z*=-1,$t.isCubeTexture&&$t.isRenderTargetTexture===!1&&(gu.y*=-1,gu.z*=-1),ft.envMapRotation.value.setFromMatrix4(gQ.makeRotationFromEuler(gu)),ft.flipEnvMap.value=$t.isCubeTexture&&$t.isRenderTargetTexture===!1?-1:1,ft.reflectivity.value=st.reflectivity,ft.ior.value=st.ior,ft.refractionRatio.value=st.refractionRatio),st.lightMap){ft.lightMap.value=st.lightMap;const pe=S._useLegacyLights===!0?Math.PI:1;ft.lightMapIntensity.value=st.lightMapIntensity*pe,o(st.lightMap,ft.lightMapTransform)}st.aoMap&&(ft.aoMap.value=st.aoMap,ft.aoMapIntensity.value=st.aoMapIntensity,o(st.aoMap,ft.aoMapTransform))}function B(ft,st){ft.diffuse.value.copy(st.color),ft.opacity.value=st.opacity,st.map&&(ft.map.value=st.map,o(st.map,ft.mapTransform))}function k(ft,st){ft.dashSize.value=st.dashSize,ft.totalSize.value=st.dashSize+st.gapSize,ft.scale.value=st.scale}function G(ft,st,Gt,$t){ft.diffuse.value.copy(st.color),ft.opacity.value=st.opacity,ft.size.value=st.size*Gt,ft.scale.value=$t*.5,st.map&&(ft.map.value=st.map,o(st.map,ft.uvTransform)),st.alphaMap&&(ft.alphaMap.value=st.alphaMap,o(st.alphaMap,ft.alphaMapTransform)),st.alphaTest>0&&(ft.alphaTest.value=st.alphaTest)}function H(ft,st){ft.diffuse.value.copy(st.color),ft.opacity.value=st.opacity,ft.rotation.value=st.rotation,st.map&&(ft.map.value=st.map,o(st.map,ft.mapTransform)),st.alphaMap&&(ft.alphaMap.value=st.alphaMap,o(st.alphaMap,ft.alphaMapTransform)),st.alphaTest>0&&(ft.alphaTest.value=st.alphaTest)}function Z(ft,st){ft.specular.value.copy(st.specular),ft.shininess.value=Math.max(st.shininess,1e-4)}function nt(ft,st){st.gradientMap&&(ft.gradientMap.value=st.gradientMap)}function rt(ft,st){ft.metalness.value=st.metalness,st.metalnessMap&&(ft.metalnessMap.value=st.metalnessMap,o(st.metalnessMap,ft.metalnessMapTransform)),ft.roughness.value=st.roughness,st.roughnessMap&&(ft.roughnessMap.value=st.roughnessMap,o(st.roughnessMap,ft.roughnessMapTransform)),st.envMap&&(ft.envMapIntensity.value=st.envMapIntensity)}function at(ft,st,Gt){ft.ior.value=st.ior,st.sheen>0&&(ft.sheenColor.value.copy(st.sheenColor).multiplyScalar(st.sheen),ft.sheenRoughness.value=st.sheenRoughness,st.sheenColorMap&&(ft.sheenColorMap.value=st.sheenColorMap,o(st.sheenColorMap,ft.sheenColorMapTransform)),st.sheenRoughnessMap&&(ft.sheenRoughnessMap.value=st.sheenRoughnessMap,o(st.sheenRoughnessMap,ft.sheenRoughnessMapTransform))),st.clearcoat>0&&(ft.clearcoat.value=st.clearcoat,ft.clearcoatRoughness.value=st.clearcoatRoughness,st.clearcoatMap&&(ft.clearcoatMap.value=st.clearcoatMap,o(st.clearcoatMap,ft.clearcoatMapTransform)),st.clearcoatRoughnessMap&&(ft.clearcoatRoughnessMap.value=st.clearcoatRoughnessMap,o(st.clearcoatRoughnessMap,ft.clearcoatRoughnessMapTransform)),st.clearcoatNormalMap&&(ft.clearcoatNormalMap.value=st.clearcoatNormalMap,o(st.clearcoatNormalMap,ft.clearcoatNormalMapTransform),ft.clearcoatNormalScale.value.copy(st.clearcoatNormalScale),st.side===O&&ft.clearcoatNormalScale.value.negate())),st.dispersion>0&&(ft.dispersion.value=st.dispersion),st.iridescence>0&&(ft.iridescence.value=st.iridescence,ft.iridescenceIOR.value=st.iridescenceIOR,ft.iridescenceThicknessMinimum.value=st.iridescenceThicknessRange[0],ft.iridescenceThicknessMaximum.value=st.iridescenceThicknessRange[1],st.iridescenceMap&&(ft.iridescenceMap.value=st.iridescenceMap,o(st.iridescenceMap,ft.iridescenceMapTransform)),st.iridescenceThicknessMap&&(ft.iridescenceThicknessMap.value=st.iridescenceThicknessMap,o(st.iridescenceThicknessMap,ft.iridescenceThicknessMapTransform))),st.transmission>0&&(ft.transmission.value=st.transmission,ft.transmissionSamplerMap.value=Gt.texture,ft.transmissionSamplerSize.value.set(Gt.width,Gt.height),st.transmissionMap&&(ft.transmissionMap.value=st.transmissionMap,o(st.transmissionMap,ft.transmissionMapTransform)),ft.thickness.value=st.thickness,st.thicknessMap&&(ft.thicknessMap.value=st.thicknessMap,o(st.thicknessMap,ft.thicknessMapTransform)),ft.attenuationDistance.value=st.attenuationDistance,ft.attenuationColor.value.copy(st.attenuationColor)),st.anisotropy>0&&(ft.anisotropyVector.value.set(st.anisotropy*Math.cos(st.anisotropyRotation),st.anisotropy*Math.sin(st.anisotropyRotation)),st.anisotropyMap&&(ft.anisotropyMap.value=st.anisotropyMap,o(st.anisotropyMap,ft.anisotropyMapTransform))),ft.specularIntensity.value=st.specularIntensity,ft.specularColor.value.copy(st.specularColor),st.specularColorMap&&(ft.specularColorMap.value=st.specularColorMap,o(st.specularColorMap,ft.specularColorMapTransform)),st.specularIntensityMap&&(ft.specularIntensityMap.value=st.specularIntensityMap,o(st.specularIntensityMap,ft.specularIntensityMapTransform))}function ct(ft,st){st.matcap&&(ft.matcap.value=st.matcap)}function yt(ft,st){const Gt=r.get(st).light;ft.referencePosition.value.setFromMatrixPosition(Gt.matrixWorld),ft.nearDistance.value=Gt.shadow.camera.near,ft.farDistance.value=Gt.shadow.camera.far}return{refreshFogUniforms:f,refreshMaterialUniforms:y}}function AQ(S,r,o,f){let y={},w={},B=[];const k=S.getParameter(S.MAX_UNIFORM_BUFFER_BINDINGS);function G(Gt,$t){const Lt=$t.program;f.uniformBlockBinding(Gt,Lt)}function H(Gt,$t){let Lt=y[Gt.id];Lt===void 0&&(ct(Gt),Lt=Z(Gt),y[Gt.id]=Lt,Gt.addEventListener("dispose",ft));const pe=$t.program;f.updateUBOMapping(Gt,pe);const ne=r.render.frame;w[Gt.id]!==ne&&(rt(Gt),w[Gt.id]=ne)}function Z(Gt){const $t=nt();Gt.__bindingPointIndex=$t;const Lt=S.createBuffer(),pe=Gt.__size,ne=Gt.usage;return S.bindBuffer(S.UNIFORM_BUFFER,Lt),S.bufferData(S.UNIFORM_BUFFER,pe,ne),S.bindBuffer(S.UNIFORM_BUFFER,null),S.bindBufferBase(S.UNIFORM_BUFFER,$t,Lt),Lt}function nt(){for(let Gt=0;Gt<k;Gt++)if(B.indexOf(Gt)===-1)return B.push(Gt),Gt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function rt(Gt){const $t=y[Gt.id],Lt=Gt.uniforms,pe=Gt.__cache;S.bindBuffer(S.UNIFORM_BUFFER,$t);for(let ne=0,oe=Lt.length;ne<oe;ne++){const he=Array.isArray(Lt[ne])?Lt[ne]:[Lt[ne]];for(let Yt=0,Wt=he.length;Yt<Wt;Yt++){const fe=he[Yt];if(at(fe,ne,Yt,pe)===!0){const xe=fe.__offset,Ce=Array.isArray(fe.value)?fe.value:[fe.value];let Ie=0;for(let Ke=0;Ke<Ce.length;Ke++){const hi=Ce[Ke],Li=yt(hi);typeof hi=="number"||typeof hi=="boolean"?(fe.__data[0]=hi,S.bufferSubData(S.UNIFORM_BUFFER,xe+Ie,fe.__data)):hi.isMatrix3?(fe.__data[0]=hi.elements[0],fe.__data[1]=hi.elements[1],fe.__data[2]=hi.elements[2],fe.__data[3]=0,fe.__data[4]=hi.elements[3],fe.__data[5]=hi.elements[4],fe.__data[6]=hi.elements[5],fe.__data[7]=0,fe.__data[8]=hi.elements[6],fe.__data[9]=hi.elements[7],fe.__data[10]=hi.elements[8],fe.__data[11]=0):(hi.toArray(fe.__data,Ie),Ie+=Li.storage/Float32Array.BYTES_PER_ELEMENT)}S.bufferSubData(S.UNIFORM_BUFFER,xe,fe.__data)}}}S.bindBuffer(S.UNIFORM_BUFFER,null)}function at(Gt,$t,Lt,pe){const ne=Gt.value,oe=$t+"_"+Lt;if(pe[oe]===void 0)return typeof ne=="number"||typeof ne=="boolean"?pe[oe]=ne:pe[oe]=ne.clone(),!0;{const he=pe[oe];if(typeof ne=="number"||typeof ne=="boolean"){if(he!==ne)return pe[oe]=ne,!0}else if(he.equals(ne)===!1)return he.copy(ne),!0}return!1}function ct(Gt){const $t=Gt.uniforms;let Lt=0;const pe=16;for(let oe=0,he=$t.length;oe<he;oe++){const Yt=Array.isArray($t[oe])?$t[oe]:[$t[oe]];for(let Wt=0,fe=Yt.length;Wt<fe;Wt++){const xe=Yt[Wt],Ce=Array.isArray(xe.value)?xe.value:[xe.value];for(let Ie=0,Ke=Ce.length;Ie<Ke;Ie++){const hi=Ce[Ie],Li=yt(hi),ti=Lt%pe;ti!==0&&pe-ti<Li.boundary&&(Lt+=pe-ti),xe.__data=new Float32Array(Li.storage/Float32Array.BYTES_PER_ELEMENT),xe.__offset=Lt,Lt+=Li.storage}}}const ne=Lt%pe;return ne>0&&(Lt+=pe-ne),Gt.__size=Lt,Gt.__cache={},this}function yt(Gt){const $t={boundary:0,storage:0};return typeof Gt=="number"||typeof Gt=="boolean"?($t.boundary=4,$t.storage=4):Gt.isVector2?($t.boundary=8,$t.storage=8):Gt.isVector3||Gt.isColor?($t.boundary=16,$t.storage=12):Gt.isVector4?($t.boundary=16,$t.storage=16):Gt.isMatrix3?($t.boundary=48,$t.storage=48):Gt.isMatrix4?($t.boundary=64,$t.storage=64):Gt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Gt),$t}function ft(Gt){const $t=Gt.target;$t.removeEventListener("dispose",ft);const Lt=B.indexOf($t.__bindingPointIndex);B.splice(Lt,1),S.deleteBuffer(y[$t.id]),delete y[$t.id],delete w[$t.id]}function st(){for(const Gt in y)S.deleteBuffer(y[Gt]);B=[],y={},w={}}return{bind:G,update:H,dispose:st}}class yQ{constructor(r={}){const{canvas:o=Wm(),context:f=null,depth:y=!0,stencil:w=!1,alpha:B=!1,antialias:k=!1,premultipliedAlpha:G=!0,preserveDrawingBuffer:H=!1,powerPreference:Z="default",failIfMajorPerformanceCaveat:nt=!1,multiviewStereo:rt=!1}=r;this.isWebGLRenderer=!0;let at;if(f!==null){if(typeof WebGLRenderingContext<"u"&&f instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");at=f.getContextAttributes().alpha}else at=B;const ct=new Uint32Array(4),yt=new Int32Array(4);let ft=null,st=null;const Gt=[],$t=[];this.domElement=o,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Er,this._useLegacyLights=!1,this.toneMapping=ei,this.toneMappingExposure=1;const Lt=this;let pe=!1,ne=0,oe=0,he=null,Yt=-1,Wt=null;const fe=new xr,xe=new xr;let Ce=null;const Ie=new an(0);let Ke=0,hi=o.width,Li=o.height,ti=1,Ti=null,Bi=null;const hn=new xr(0,0,hi,Li),cr=new xr(0,0,hi,Li);let Fr=!1;const ha=new Qf;let Dr=!1,Zr=!1;const mn=new fn,gi=new ie,Ni={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Gi(){return he===null?ti:1}let Be=f;function Mi(ee,Pe){return o.getContext(ee,Pe)}try{const ee={alpha:!0,depth:y,stencil:w,antialias:k,premultipliedAlpha:G,preserveDrawingBuffer:H,powerPreference:Z,failIfMajorPerformanceCaveat:nt};if("setAttribute"in o&&o.setAttribute("data-engine",`three.js r${h}`),o.addEventListener("webglcontextlost",Ri,!1),o.addEventListener("webglcontextrestored",Mn,!1),o.addEventListener("webglcontextcreationerror",en,!1),Be===null){const Pe="webgl2";if(Be=Mi(Pe,ee),Be===null)throw Mi(Pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ee){throw console.error("THREE.WebGLRenderer: "+ee.message),ee}let li,Si,xi,_i,Qi,rn,Nn,Qn,Pr,Ba,fa,de,qt,ri,pi,vi,Ai,gn,ki,sn,Hr,on,An,ir,Bn;function Ae(){li=new TV(Be),li.init(),An=new Zb(Be,li),Si=new _V(Be,li,r,An),xi=new lQ(Be),_i=new RV(Be),Qi=new KH,rn=new cQ(Be,li,xi,Qi,Si,An,_i),Nn=new wV(Lt),Qn=new SV(Lt),Pr=new y$(Be),ir=new bV(Be,Pr),Ba=new IV(Be,Pr,_i,ir),fa=new LV(Be,Ba,Pr,_i),sn=new DV(Be,Si,rn),vi=new EV(Qi),de=new qH(Lt,Nn,Qn,li,Si,ir,vi),qt=new MQ(Lt,Qi),ri=new YH,pi=new rQ(li),ki=new vV(Lt,Nn,Qn,xi,fa,at,G),gn=new PV(Lt,li,Be),Ai=new oQ(Lt,fa,Si),Bn=new AQ(Be,_i,Si,xi),Hr=new CV(Be,li,_i),on=new BV(Be,li,_i),_i.programs=de.programs,Lt.capabilities=Si,Lt.extensions=li,Lt.properties=Qi,Lt.renderLists=ri,Lt.shadowMap=Ai,Lt.state=xi,Lt.info=_i}Ae();const Ei=typeof navigator<"u"&&"xr"in navigator?new pQ(Lt,Be,li,rt):new iC(Lt);this.xr=Ei,this.getContext=function(){return Be},this.getContextAttributes=function(){return Be.getContextAttributes()},this.forceContextLoss=function(){const ee=li.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=li.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return ti},this.setPixelRatio=function(ee){ee!==void 0&&(ti=ee,this.setSize(hi,Li,!1))},this.getSize=function(ee){return ee.set(hi,Li)},this.setSize=function(ee,Pe,Xe=!0){if(Ei.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}hi=ee,Li=Pe,o.width=Math.floor(ee*ti),o.height=Math.floor(Pe*ti),Xe===!0&&(o.style.width=ee+"px",o.style.height=Pe+"px"),this.setViewport(0,0,ee,Pe)},this.getDrawingBufferSize=function(ee){return ee.set(hi*ti,Li*ti).floor()},this.setDrawingBufferSize=function(ee,Pe,Xe){hi=ee,Li=Pe,ti=Xe,o.width=Math.floor(ee*Xe),o.height=Math.floor(Pe*Xe),this.setViewport(0,0,ee,Pe)},this.getCurrentViewport=function(ee){return ee.copy(fe)},this.getViewport=function(ee){return ee.copy(hn)},this.setViewport=function(ee,Pe,Xe,Je){ee.isVector4?hn.set(ee.x,ee.y,ee.z,ee.w):hn.set(ee,Pe,Xe,Je),xi.viewport(fe.copy(hn).multiplyScalar(ti).round())},this.getScissor=function(ee){return ee.copy(cr)},this.setScissor=function(ee,Pe,Xe,Je){ee.isVector4?cr.set(ee.x,ee.y,ee.z,ee.w):cr.set(ee,Pe,Xe,Je),xi.scissor(xe.copy(cr).multiplyScalar(ti).round())},this.getScissorTest=function(){return Fr},this.setScissorTest=function(ee){xi.setScissorTest(Fr=ee)},this.setOpaqueSort=function(ee){Ti=ee},this.setTransparentSort=function(ee){Bi=ee},this.getClearColor=function(ee){return ee.copy(ki.getClearColor())},this.setClearColor=function(){ki.setClearColor.apply(ki,arguments)},this.getClearAlpha=function(){return ki.getClearAlpha()},this.setClearAlpha=function(){ki.setClearAlpha.apply(ki,arguments)},this.clear=function(ee=!0,Pe=!0,Xe=!0){let Je=0;if(ee){let We=!1;if(he!==null){const Yi=he.texture.format;We=Yi===ln||Yi===ii||Yi===ji}if(We){const Yi=he.texture.type,yn=Yi===ze||Yi===dr||Yi===bn||Yi===On||Yi===jn||Yi===wi,_n=ki.getClearColor(),Pn=ki.getClearAlpha(),qn=_n.r,ur=_n.g,gr=_n.b;yn?(ct[0]=qn,ct[1]=ur,ct[2]=gr,ct[3]=Pn,Be.clearBufferuiv(Be.COLOR,0,ct)):(yt[0]=qn,yt[1]=ur,yt[2]=gr,yt[3]=Pn,Be.clearBufferiv(Be.COLOR,0,yt))}else Je|=Be.COLOR_BUFFER_BIT}Pe&&(Je|=Be.DEPTH_BUFFER_BIT),Xe&&(Je|=Be.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Be.clear(Je)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){o.removeEventListener("webglcontextlost",Ri,!1),o.removeEventListener("webglcontextrestored",Mn,!1),o.removeEventListener("webglcontextcreationerror",en,!1),ri.dispose(),pi.dispose(),Qi.dispose(),Nn.dispose(),Qn.dispose(),fa.dispose(),ir.dispose(),Bn.dispose(),de.dispose(),Ei.dispose(),Ei.removeEventListener("sessionstart",co),Ei.removeEventListener("sessionend",Q_),Tu.stop()};function Ri(ee){ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),pe=!0}function Mn(){console.log("THREE.WebGLRenderer: Context Restored."),pe=!1;const ee=_i.autoReset,Pe=Ai.enabled,Xe=Ai.autoUpdate,Je=Ai.needsUpdate,We=Ai.type;Ae(),_i.autoReset=ee,Ai.enabled=Pe,Ai.autoUpdate=Xe,Ai.needsUpdate=Je,Ai.type=We}function en(ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function nr(ee){const Pe=ee.target;Pe.removeEventListener("dispose",nr),nn(Pe)}function nn(ee){zi(ee),Qi.remove(ee)}function zi(ee){const Pe=Qi.get(ee).programs;Pe!==void 0&&(Pe.forEach(function(Xe){de.releaseProgram(Xe)}),ee.isShaderMaterial&&de.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,Pe,Xe,Je,We,Yi){Pe===null&&(Pe=Ni);const yn=We.isMesh&&We.matrixWorld.determinant()<0,_n=fj(ee,Pe,Xe,Je,We);xi.setMaterial(Je,yn);let Pn=Xe.index,qn=1;if(Je.wireframe===!0){if(Pn=Ba.getWireframeAttribute(Xe),Pn===void 0)return;qn=2}const ur=Xe.drawRange,gr=Xe.attributes.position;let t9=ur.start*qn,z9=(ur.start+ur.count)*qn;Yi!==null&&(t9=Math.max(t9,Yi.start*qn),z9=Math.min(z9,(Yi.start+Yi.count)*qn)),Pn!==null?(t9=Math.max(t9,0),z9=Math.min(z9,Pn.count)):gr!=null&&(t9=Math.max(t9,0),z9=Math.min(z9,gr.count));const Vs=z9-t9;if(Vs<0||Vs===1/0)return;ir.setup(We,Je,_n,Xe,Pn);let ac,Ur=Hr;if(Pn!==null&&(ac=Pr.get(Pn),Ur=on,Ur.setIndex(ac)),We.isMesh)Je.wireframe===!0?(xi.setLineWidth(Je.wireframeLinewidth*Gi()),Ur.setMode(Be.LINES)):Ur.setMode(Be.TRIANGLES);else if(We.isLine){let el=Je.linewidth;el===void 0&&(el=1),xi.setLineWidth(el*Gi()),We.isLineSegments?Ur.setMode(Be.LINES):We.isLineLoop?Ur.setMode(Be.LINE_LOOP):Ur.setMode(Be.LINE_STRIP)}else We.isPoints?Ur.setMode(Be.POINTS):We.isSprite&&Ur.setMode(Be.TRIANGLES);if(We.isBatchedMesh)We._multiDrawInstances!==null?Ur.renderMultiDrawInstances(We._multiDrawStarts,We._multiDrawCounts,We._multiDrawCount,We._multiDrawInstances):Ur.renderMultiDraw(We._multiDrawStarts,We._multiDrawCounts,We._multiDrawCount);else if(We.isInstancedMesh)Ur.renderInstances(t9,Vs,We.count);else if(Xe.isInstancedBufferGeometry){const el=Xe._maxInstanceCount!==void 0?Xe._maxInstanceCount:1/0,fr=Math.min(Xe.instanceCount,el);Ur.renderInstances(t9,Vs,fr)}else Ur.render(t9,Vs)};function hr(ee,Pe,Xe){ee.transparent===!0&&ee.side===I&&ee.forceSinglePass===!1?(ee.side=O,ee.needsUpdate=!0,g4(ee,Pe,Xe),ee.side=C,ee.needsUpdate=!0,g4(ee,Pe,Xe),ee.side=I):g4(ee,Pe,Xe)}this.compile=function(ee,Pe,Xe=null){Xe===null&&(Xe=ee),st=pi.get(Xe),st.init(Pe),$t.push(st),Xe.traverseVisible(function(We){We.isLight&&We.layers.test(Pe.layers)&&(st.pushLight(We),We.castShadow&&st.pushShadow(We))}),ee!==Xe&&ee.traverseVisible(function(We){We.isLight&&We.layers.test(Pe.layers)&&(st.pushLight(We),We.castShadow&&st.pushShadow(We))}),st.setupLights(Lt._useLegacyLights);const Je=new Set;return ee.traverse(function(We){const Yi=We.material;if(Yi)if(Array.isArray(Yi))for(let yn=0;yn<Yi.length;yn++){const _n=Yi[yn];hr(_n,Xe,We),Je.add(_n)}else hr(Yi,Xe,We),Je.add(Yi)}),$t.pop(),st=null,Je},this.compileAsync=function(ee,Pe,Xe=null){const Je=this.compile(ee,Pe,Xe);return new Promise(We=>{function Yi(){if(Je.forEach(function(yn){Qi.get(yn).currentProgram.isReady()&&Je.delete(yn)}),Je.size===0){We(ee);return}setTimeout(Yi,10)}li.get("KHR_parallel_shader_compile")!==null?Yi():setTimeout(Yi,10)})};let Dn=null;function u9(ee){Dn&&Dn(ee)}function co(){Tu.stop()}function Q_(){Tu.start()}const Tu=new z6;Tu.setAnimationLoop(u9),typeof self<"u"&&Tu.setContext(self),this.setAnimationLoop=function(ee){Dn=ee,Ei.setAnimationLoop(ee),ee===null?Tu.stop():Tu.start()},Ei.addEventListener("sessionstart",co),Ei.addEventListener("sessionend",Q_),this.render=function(ee,Pe){if(Pe!==void 0&&Pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(pe===!0)return;ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),Pe.parent===null&&Pe.matrixWorldAutoUpdate===!0&&Pe.updateMatrixWorld(),Ei.enabled===!0&&Ei.isPresenting===!0&&(Ei.cameraAutoUpdate===!0&&Ei.updateCamera(Pe),Pe=Ei.getCamera()),ee.isScene===!0&&ee.onBeforeRender(Lt,ee,Pe,he),st=pi.get(ee,$t.length),st.init(Pe),$t.push(st),mn.multiplyMatrices(Pe.projectionMatrix,Pe.matrixWorldInverse),ha.setFromProjectionMatrix(mn),Zr=this.localClippingEnabled,Dr=vi.init(this.clippingPlanes,Zr),ft=ri.get(ee,Gt.length),ft.init(),Gt.push(ft),z_(ee,Pe,0,Lt.sortObjects),ft.finish(),Lt.sortObjects===!0&&ft.sort(Ti,Bi);const Xe=Ei.enabled===!1||Ei.isPresenting===!1||Ei.hasDepthSensing()===!1;Xe&&ki.addToRenderList(ft,ee),this.info.render.frame++,Dr===!0&&vi.beginShadows();const Je=st.state.shadowsArray;Ai.render(Je,ee,Pe),Dr===!0&&vi.endShadows(),this.info.autoReset===!0&&this.info.reset();const We=ft.opaque,Yi=ft.transmissive;if(st.setupLights(Lt._useLegacyLights),Pe.isArrayCamera){const yn=Pe.cameras;if(Yi.length>0)for(let _n=0,Pn=yn.length;_n<Pn;_n++){const qn=yn[_n];j_(We,Yi,ee,qn)}if(Xe&&ki.render(ee),Ei.enabled&&Ei.isMultiview)rn.setDeferTextureUploads(!0),z7(ft,ee,Pe,Pe.cameras[0].viewport);else for(let _n=0,Pn=yn.length;_n<Pn;_n++){const qn=yn[_n];z7(ft,ee,qn,qn.viewport)}}else Yi.length>0&&j_(We,Yi,ee,Pe),Xe&&ki.render(ee),z7(ft,ee,Pe);he!==null&&(rn.updateMultisampleRenderTarget(he),rn.updateRenderTargetMipmap(he)),ee.isScene===!0&&ee.onAfterRender(Lt,ee,Pe),rn.runDeferredUploads(),Ei.enabled&&Ei.submitFrame&&Ei.submitFrame(),ir.resetDefaultState(),Yt=-1,Wt=null,$t.pop(),$t.length>0?(st=$t[$t.length-1],Dr===!0&&vi.setGlobalState(Lt.clippingPlanes,st.state.camera)):st=null,Gt.pop(),Gt.length>0?ft=Gt[Gt.length-1]:ft=null};function z_(ee,Pe,Xe,Je){if(ee.visible===!1)return;if(ee.layers.test(Pe.layers)){if(ee.isGroup)Xe=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(Pe);else if(ee.isLight)st.pushLight(ee),ee.castShadow&&st.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||ha.intersectsSprite(ee)){Je&&gi.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(mn);const yn=fa.update(ee),_n=ee.material;_n.visible&&ft.push(ee,yn,_n,Xe,gi.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||ha.intersectsObject(ee))){const yn=fa.update(ee),_n=ee.material;if(Je&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),gi.copy(ee.boundingSphere.center)):(yn.boundingSphere===null&&yn.computeBoundingSphere(),gi.copy(yn.boundingSphere.center)),gi.applyMatrix4(ee.matrixWorld).applyMatrix4(mn)),Array.isArray(_n)){const Pn=yn.groups;for(let qn=0,ur=Pn.length;qn<ur;qn++){const gr=Pn[qn],t9=_n[gr.materialIndex];t9&&t9.visible&&ft.push(ee,yn,t9,Xe,gi.z,gr)}}else _n.visible&&ft.push(ee,yn,_n,Xe,gi.z,null)}}const Yi=ee.children;for(let yn=0,_n=Yi.length;yn<_n;yn++)z_(Yi[yn],Pe,Xe,Je)}function z7(ee,Pe,Xe,Je){const We=ee.opaque,Yi=ee.transmissive,yn=ee.transparent;st.setupLightsView(Xe),Dr===!0&&vi.setGlobalState(Lt.clippingPlanes,Xe),Je&&xi.viewport(fe.copy(Je)),We.length>0&&p4(We,Pe,Xe),Yi.length>0&&p4(Yi,Pe,Xe),yn.length>0&&p4(yn,Pe,Xe),xi.buffers.depth.setTest(!0),xi.buffers.depth.setMask(!0),xi.buffers.color.setMask(!0),xi.setPolygonOffset(!1)}function j_(ee,Pe,Xe,Je){if((Xe.isScene===!0?Xe.overrideMaterial:null)!==null)return;st.state.transmissionRenderTarget[Je.id]===void 0&&(st.state.transmissionRenderTarget[Je.id]=new Ms(1,1,{generateMipmaps:!0,type:li.has("EXT_color_buffer_half_float")||li.has("EXT_color_buffer_float")?Ki:ze,minFilter:Ii,samples:4,stencilBuffer:w,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const Yi=st.state.transmissionRenderTarget[Je.id],yn=Je.viewport||fe;Yi.setSize(yn.z,yn.w);const _n=Lt.getRenderTarget();Lt.setRenderTarget(Yi),Lt.getClearColor(Ie),Ke=Lt.getClearAlpha(),Ke<1&&Lt.setClearColor(16777215,.5),Lt.clear();const Pn=Lt.toneMapping;Lt.toneMapping=ei;const qn=Je.viewport;if(Je.viewport!==void 0&&(Je.viewport=void 0),st.setupLightsView(Je),Dr===!0&&vi.setGlobalState(Lt.clippingPlanes,Je),p4(ee,Xe,Je),rn.updateMultisampleRenderTarget(Yi),rn.updateRenderTargetMipmap(Yi),li.has("WEBGL_multisampled_render_to_texture")===!1){let ur=!1;for(let gr=0,t9=Pe.length;gr<t9;gr++){const z9=Pe[gr],Vs=z9.object,ac=z9.geometry,Ur=z9.material,el=z9.group;if(Ur.side===I&&Vs.layers.test(Je.layers)){const fr=Ur.side;Ur.side=O,Ur.needsUpdate=!0,J_(Vs,Xe,Je,ac,Ur,el),Ur.side=fr,Ur.needsUpdate=!0,ur=!0}}ur===!0&&(rn.updateMultisampleRenderTarget(Yi),rn.updateRenderTargetMipmap(Yi))}Lt.setRenderTarget(_n),Lt.setClearColor(Ie,Ke),qn!==void 0&&(Je.viewport=qn),Lt.toneMapping=Pn}function p4(ee,Pe,Xe){const Je=Pe.isScene===!0?Pe.overrideMaterial:null;for(let We=0,Yi=ee.length;We<Yi;We++){const yn=ee[We],_n=yn.object,Pn=yn.geometry,qn=Je===null?yn.material:Je,ur=yn.group;_n.layers.test(Xe.layers)&&J_(_n,Pe,Xe,Pn,qn,ur)}}function J_(ee,Pe,Xe,Je,We,Yi){ee.onBeforeRender(Lt,Pe,Xe,Je,We,Yi),ee.modelViewMatrix.multiplyMatrices(Xe.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),We.onBeforeRender(Lt,Pe,Xe,Je,ee,Yi),We.transparent===!0&&We.side===I&&We.forceSinglePass===!1?(We.side=O,We.needsUpdate=!0,Lt.renderBufferDirect(Xe,Pe,Je,We,ee,Yi),We.side=C,We.needsUpdate=!0,Lt.renderBufferDirect(Xe,Pe,Je,We,ee,Yi),We.side=I):Lt.renderBufferDirect(Xe,Pe,Je,We,ee,Yi),ee.onAfterRender(Lt,Pe,Xe,Je,We,Yi)}function g4(ee,Pe,Xe){Pe.isScene!==!0&&(Pe=Ni);const Je=Qi.get(ee),We=st.state.lights,Yi=st.state.shadowsArray,yn=We.state.version,_n=de.getParameters(ee,We.state,Yi,Pe,Xe),Pn=de.getProgramCacheKey(_n);let qn=Je.programs;Je.environment=ee.isMeshStandardMaterial?Pe.environment:null,Je.fog=Pe.fog,Je.envMap=(ee.isMeshStandardMaterial?Qn:Nn).get(ee.envMap||Je.environment),Je.envMapRotation=Je.environment!==null&&ee.envMap===null?Pe.environmentRotation:ee.envMapRotation,qn===void 0&&(ee.addEventListener("dispose",nr),qn=new Map,Je.programs=qn);let ur=qn.get(Pn);if(ur!==void 0){if(Je.currentProgram===ur&&Je.lightsStateVersion===yn)return q_(ee,_n),ur}else _n.uniforms=de.getUniforms(ee),ee.onBuild(Xe,_n,Lt),ee.onBeforeCompile(_n,Lt),ur=de.acquireProgram(_n,Pn),qn.set(Pn,ur),Je.uniforms=_n.uniforms;const gr=Je.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(gr.clippingPlanes=vi.uniform),q_(ee,_n),Je.needsLights=pj(ee),Je.lightsStateVersion=yn,Je.needsLights&&(gr.ambientLightColor.value=We.state.ambient,gr.lightProbe.value=We.state.probe,gr.directionalLights.value=We.state.directional,gr.directionalLightShadows.value=We.state.directionalShadow,gr.spotLights.value=We.state.spot,gr.spotLightShadows.value=We.state.spotShadow,gr.rectAreaLights.value=We.state.rectArea,gr.ltc_1.value=We.state.rectAreaLTC1,gr.ltc_2.value=We.state.rectAreaLTC2,gr.pointLights.value=We.state.point,gr.pointLightShadows.value=We.state.pointShadow,gr.hemisphereLights.value=We.state.hemi,gr.directionalShadowMap.value=We.state.directionalShadowMap,gr.directionalShadowMatrix.value=We.state.directionalShadowMatrix,gr.spotShadowMap.value=We.state.spotShadowMap,gr.spotLightMatrix.value=We.state.spotLightMatrix,gr.spotLightMap.value=We.state.spotLightMap,gr.pointShadowMap.value=We.state.pointShadowMap,gr.pointShadowMatrix.value=We.state.pointShadowMatrix),Je.currentProgram=ur,Je.uniformsList=null,ur}function W_(ee){if(ee.uniformsList===null){const Pe=ee.currentProgram.getUniforms();ee.uniformsList=v3.seqWithValue(Pe.seq,ee.uniforms)}return ee.uniformsList}function q_(ee,Pe){const Xe=Qi.get(ee);Xe.outputColorSpace=Pe.outputColorSpace,Xe.batching=Pe.batching,Xe.instancing=Pe.instancing,Xe.instancingColor=Pe.instancingColor,Xe.instancingMorph=Pe.instancingMorph,Xe.skinning=Pe.skinning,Xe.morphTargets=Pe.morphTargets,Xe.morphNormals=Pe.morphNormals,Xe.morphColors=Pe.morphColors,Xe.morphTargetsCount=Pe.morphTargetsCount,Xe.numClippingPlanes=Pe.numClippingPlanes,Xe.numIntersection=Pe.numClipIntersection,Xe.vertexAlphas=Pe.vertexAlphas,Xe.vertexTangents=Pe.vertexTangents,Xe.toneMapping=Pe.toneMapping,Xe.numMultiviewViews=Pe.numMultiviewViews}function fj(ee,Pe,Xe,Je,We){Pe.isScene!==!0&&(Pe=Ni),rn.resetTextureUnits();const Yi=Pe.fog,yn=Je.isMeshStandardMaterial?Pe.environment:null,_n=he===null?Lt.outputColorSpace:he.isXRRenderTarget===!0?he.texture.colorSpace:w0,Pn=(Je.isMeshStandardMaterial?Qn:Nn).get(Je.envMap||yn),qn=Je.vertexColors===!0&&!!Xe.attributes.color&&Xe.attributes.color.itemSize===4,ur=!!Xe.attributes.tangent&&(!!Je.normalMap||Je.anisotropy>0),gr=!!Xe.morphAttributes.position,t9=!!Xe.morphAttributes.normal,z9=!!Xe.morphAttributes.color;let Vs=ei;Je.toneMapped&&(he===null||he.isXRRenderTarget===!0)&&(Vs=Lt.toneMapping);const ac=he&&he.isWebGLMultiviewRenderTarget?he.numViews:0,Ur=Xe.morphAttributes.position||Xe.morphAttributes.normal||Xe.morphAttributes.color,el=Ur!==void 0?Ur.length:0,fr=Qi.get(Je),gj=st.state.lights;if(Dr===!0&&(Zr===!0||ee!==Wt)){const a0=ee===Wt&&Je.id===Yt;vi.setState(Je,ee,a0)}let va=!1;Je.version===fr.__version?(fr.needsLights&&fr.lightsStateVersion!==gj.state.version||fr.outputColorSpace!==_n||We.isBatchedMesh&&fr.batching===!1||!We.isBatchedMesh&&fr.batching===!0||We.isInstancedMesh&&fr.instancing===!1||!We.isInstancedMesh&&fr.instancing===!0||We.isSkinnedMesh&&fr.skinning===!1||!We.isSkinnedMesh&&fr.skinning===!0||We.isInstancedMesh&&fr.instancingColor===!0&&We.instanceColor===null||We.isInstancedMesh&&fr.instancingColor===!1&&We.instanceColor!==null||We.isInstancedMesh&&fr.instancingMorph===!0&&We.morphTexture===null||We.isInstancedMesh&&fr.instancingMorph===!1&&We.morphTexture!==null||fr.envMap!==Pn||Je.fog===!0&&fr.fog!==Yi||fr.numClippingPlanes!==void 0&&(fr.numClippingPlanes!==vi.numPlanes||fr.numIntersection!==vi.numIntersection)||fr.vertexAlphas!==qn||fr.vertexTangents!==ur||fr.morphTargets!==gr||fr.morphNormals!==t9||fr.morphColors!==z9||fr.toneMapping!==Vs||fr.morphTargetsCount!==el||fr.numMultiviewViews!==ac)&&(va=!0):(va=!0,fr.__version=Je.version);let il=fr.currentProgram;va===!0&&(il=g4(Je,Pe,We));let K_=!1,m1=!1,j7=!1;const d9=il.getUniforms(),sc=fr.uniforms;if(xi.useProgram(il.program)&&(K_=!0,m1=!0,j7=!0),Je.id!==Yt&&(Yt=Je.id,m1=!0),K_||Wt!==ee){il.numMultiviewViews>0?(gn.updateCameraProjectionMatricesUniform(ee,d9),gn.updateCameraViewMatricesUniform(ee,d9)):(d9.setValue(Be,"projectionMatrix",ee.projectionMatrix),d9.setValue(Be,"viewMatrix",ee.matrixWorldInverse));const a0=d9.map.cameraPosition;a0!==void 0&&a0.setValue(Be,gi.setFromMatrixPosition(ee.matrixWorld)),Si.logarithmicDepthBuffer&&d9.setValue(Be,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(Je.isMeshPhongMaterial||Je.isMeshToonMaterial||Je.isMeshLambertMaterial||Je.isMeshBasicMaterial||Je.isMeshStandardMaterial||Je.isShaderMaterial)&&d9.setValue(Be,"isOrthographic",ee.isOrthographicCamera===!0),Wt!==ee&&(Wt=ee,m1=!0,j7=!0)}if(We.isSkinnedMesh){d9.setOptional(Be,We,"bindMatrix"),d9.setOptional(Be,We,"bindMatrixInverse");const a0=We.skeleton;a0&&(a0.boneTexture===null&&a0.computeBoneTexture(),d9.setValue(Be,"boneTexture",a0.boneTexture,rn))}We.isBatchedMesh&&(d9.setOptional(Be,We,"batchingTexture"),d9.setValue(Be,"batchingTexture",We._matricesTexture,rn));const J7=Xe.morphAttributes;if((J7.position!==void 0||J7.normal!==void 0||J7.color!==void 0)&&sn.update(We,Xe,il),(m1||fr.receiveShadow!==We.receiveShadow)&&(fr.receiveShadow=We.receiveShadow,d9.setValue(Be,"receiveShadow",We.receiveShadow)),Je.isMeshGouraudMaterial&&Je.envMap!==null&&(sc.envMap.value=Pn,sc.flipEnvMap.value=Pn.isCubeTexture&&Pn.isRenderTargetTexture===!1?-1:1),Je.isMeshStandardMaterial&&Je.envMap===null&&Pe.environment!==null&&(sc.envMapIntensity.value=Pe.environmentIntensity),m1&&(d9.setValue(Be,"toneMappingExposure",Lt.toneMappingExposure),fr.needsLights&&mj(sc,j7),Yi&&Je.fog===!0&&qt.refreshFogUniforms(sc,Yi),qt.refreshMaterialUniforms(sc,Je,ti,Li,st.state.transmissionRenderTarget[ee.id]),v3.upload(Be,W_(fr),sc,rn)),Je.isShaderMaterial&&Je.uniformsNeedUpdate===!0&&(v3.upload(Be,W_(fr),sc,rn),Je.uniformsNeedUpdate=!1),Je.isSpriteMaterial&&d9.setValue(Be,"center",We.center),il.numMultiviewViews>0?gn.updateObjectMatricesUniforms(We,ee,d9):(d9.setValue(Be,"modelViewMatrix",We.modelViewMatrix),d9.setValue(Be,"normalMatrix",We.normalMatrix)),d9.setValue(Be,"modelMatrix",We.matrixWorld),Je.isShaderMaterial||Je.isRawShaderMaterial){const a0=Je.uniformsGroups;for(let W7=0,Mj=a0.length;W7<Mj;W7++){const X_=a0[W7];Bn.update(X_,il),Bn.bind(X_,il)}}return il}function mj(ee,Pe){ee.ambientLightColor.needsUpdate=Pe,ee.lightProbe.needsUpdate=Pe,ee.directionalLights.needsUpdate=Pe,ee.directionalLightShadows.needsUpdate=Pe,ee.pointLights.needsUpdate=Pe,ee.pointLightShadows.needsUpdate=Pe,ee.spotLights.needsUpdate=Pe,ee.spotLightShadows.needsUpdate=Pe,ee.rectAreaLights.needsUpdate=Pe,ee.hemisphereLights.needsUpdate=Pe}function pj(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.setTexture2D=function(){var ee=!1;return function(Xe,Je){Xe&&Xe.isWebGLRenderTarget&&(ee||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),ee=!0),Xe=Xe.texture),rn.setTexture2D(Xe,Je)}}(),this.getActiveCubeFace=function(){return ne},this.getActiveMipmapLevel=function(){return oe},this.getRenderTarget=function(){return he},this.setRenderTargetTextures=function(ee,Pe,Xe){Qi.get(ee.texture).__webglTexture=Pe,Qi.get(ee.depthTexture).__webglTexture=Xe;const Je=Qi.get(ee);Je.__hasExternalTextures=!0,Je.__autoAllocateDepthBuffer=Xe===void 0,!Je.__autoAllocateDepthBuffer&&(!he||!he.isWebGLMultiviewRenderTarget)&&li.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Je.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(ee,Pe){const Xe=Qi.get(ee);Xe.__webglFramebuffer=Pe,Xe.__useDefaultFramebuffer=Pe===void 0},this.setRenderTarget=function(ee,Pe=0,Xe=0){he=ee,ne=Pe,oe=Xe;let Je=!0,We=null,Yi=!1,yn=!1;if(ee){const Pn=Qi.get(ee);Pn.__useDefaultFramebuffer!==void 0?(xi.bindFramebuffer(Be.FRAMEBUFFER,null),Je=!1):Pn.__webglFramebuffer===void 0?rn.setupRenderTarget(ee):Pn.__hasExternalTextures&&rn.rebindTextures(ee,Qi.get(ee.texture).__webglTexture,Qi.get(ee.depthTexture).__webglTexture);const qn=ee.texture;(qn.isData3DTexture||qn.isDataArrayTexture||qn.isCompressedArrayTexture)&&(yn=!0);const ur=Qi.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(ur[Pe])?We=ur[Pe][Xe]:We=ur[Pe],Yi=!0):ee.samples>0&&rn.useMultisampledRTT(ee)===!1?We=Qi.get(ee).__webglMultisampledFramebuffer:Array.isArray(ur)?We=ur[Xe]:We=ur,fe.copy(ee.viewport),xe.copy(ee.scissor),Ce=ee.scissorTest}else fe.copy(hn).multiplyScalar(ti).floor(),xe.copy(cr).multiplyScalar(ti).floor(),Ce=Fr;if(xi.bindFramebuffer(Be.FRAMEBUFFER,We)&&Je&&xi.drawBuffers(ee,We),xi.viewport(fe),xi.scissor(xe),xi.setScissorTest(Ce),Yi){const Pn=Qi.get(ee.texture);Be.framebufferTexture2D(Be.FRAMEBUFFER,Be.COLOR_ATTACHMENT0,Be.TEXTURE_CUBE_MAP_POSITIVE_X+Pe,Pn.__webglTexture,Xe)}else if(yn){const Pn=Qi.get(ee.texture),qn=Pe||0;Be.framebufferTextureLayer(Be.FRAMEBUFFER,Be.COLOR_ATTACHMENT0,Pn.__webglTexture,Xe||0,qn)}Yt=-1},this.readRenderTargetPixels=function(ee,Pe,Xe,Je,We,Yi,yn){if(!(ee&&ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _n=Qi.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&yn!==void 0&&(_n=_n[yn]),_n){xi.bindFramebuffer(Be.FRAMEBUFFER,_n);try{const Pn=ee.texture,qn=Pn.format,ur=Pn.type;if(!Si.textureFormatReadable(qn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Si.textureTypeReadable(ur)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Pe>=0&&Pe<=ee.width-Je&&Xe>=0&&Xe<=ee.height-We&&Be.readPixels(Pe,Xe,Je,We,An.convert(qn),An.convert(ur),Yi)}finally{const Pn=he!==null?Qi.get(he).__webglFramebuffer:null;xi.bindFramebuffer(Be.FRAMEBUFFER,Pn)}}},this.copyFramebufferToTexture=function(ee,Pe,Xe=0){const Je=Math.pow(2,-Xe),We=Math.floor(Pe.image.width*Je),Yi=Math.floor(Pe.image.height*Je);rn.setTexture2D(Pe,0),Be.copyTexSubImage2D(Be.TEXTURE_2D,Xe,0,0,ee.x,ee.y,We,Yi),xi.unbindTexture()},this.copyTextureToTexture=function(ee,Pe,Xe,Je=0){const We=Pe.image.width,Yi=Pe.image.height,yn=An.convert(Xe.format),_n=An.convert(Xe.type);rn.setTexture2D(Xe,0),Be.pixelStorei(Be.UNPACK_FLIP_Y_WEBGL,Xe.flipY),Be.pixelStorei(Be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Xe.premultiplyAlpha),Be.pixelStorei(Be.UNPACK_ALIGNMENT,Xe.unpackAlignment),Pe.isDataTexture?Be.texSubImage2D(Be.TEXTURE_2D,Je,ee.x,ee.y,We,Yi,yn,_n,Pe.image.data):Pe.isCompressedTexture?Be.compressedTexSubImage2D(Be.TEXTURE_2D,Je,ee.x,ee.y,Pe.mipmaps[0].width,Pe.mipmaps[0].height,yn,Pe.mipmaps[0].data):Be.texSubImage2D(Be.TEXTURE_2D,Je,ee.x,ee.y,yn,_n,Pe.image),Je===0&&Xe.generateMipmaps&&Be.generateMipmap(Be.TEXTURE_2D),xi.unbindTexture()},this.copyTextureToTexture3D=function(ee,Pe,Xe,Je,We=0){const Yi=ee.max.x-ee.min.x,yn=ee.max.y-ee.min.y,_n=ee.max.z-ee.min.z,Pn=An.convert(Je.format),qn=An.convert(Je.type);let ur;if(Je.isData3DTexture)rn.setTexture3D(Je,0),ur=Be.TEXTURE_3D;else if(Je.isDataArrayTexture||Je.isCompressedArrayTexture)rn.setTexture2DArray(Je,0),ur=Be.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Be.pixelStorei(Be.UNPACK_FLIP_Y_WEBGL,Je.flipY),Be.pixelStorei(Be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Je.premultiplyAlpha),Be.pixelStorei(Be.UNPACK_ALIGNMENT,Je.unpackAlignment);const gr=Be.getParameter(Be.UNPACK_ROW_LENGTH),t9=Be.getParameter(Be.UNPACK_IMAGE_HEIGHT),z9=Be.getParameter(Be.UNPACK_SKIP_PIXELS),Vs=Be.getParameter(Be.UNPACK_SKIP_ROWS),ac=Be.getParameter(Be.UNPACK_SKIP_IMAGES),Ur=Xe.isCompressedTexture?Xe.mipmaps[We]:Xe.image;Be.pixelStorei(Be.UNPACK_ROW_LENGTH,Ur.width),Be.pixelStorei(Be.UNPACK_IMAGE_HEIGHT,Ur.height),Be.pixelStorei(Be.UNPACK_SKIP_PIXELS,ee.min.x),Be.pixelStorei(Be.UNPACK_SKIP_ROWS,ee.min.y),Be.pixelStorei(Be.UNPACK_SKIP_IMAGES,ee.min.z),Xe.isDataTexture||Xe.isData3DTexture?Be.texSubImage3D(ur,We,Pe.x,Pe.y,Pe.z,Yi,yn,_n,Pn,qn,Ur.data):Je.isCompressedArrayTexture?Be.compressedTexSubImage3D(ur,We,Pe.x,Pe.y,Pe.z,Yi,yn,_n,Pn,Ur.data):Be.texSubImage3D(ur,We,Pe.x,Pe.y,Pe.z,Yi,yn,_n,Pn,qn,Ur),Be.pixelStorei(Be.UNPACK_ROW_LENGTH,gr),Be.pixelStorei(Be.UNPACK_IMAGE_HEIGHT,t9),Be.pixelStorei(Be.UNPACK_SKIP_PIXELS,z9),Be.pixelStorei(Be.UNPACK_SKIP_ROWS,Vs),Be.pixelStorei(Be.UNPACK_SKIP_IMAGES,ac),We===0&&Je.generateMipmaps&&Be.generateMipmap(ur),xi.unbindTexture()},this.initTexture=function(ee){ee.isCubeTexture?rn.setTextureCube(ee,0):ee.isData3DTexture?rn.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?rn.setTexture2DArray(ee,0):rn.setTexture2D(ee,0),xi.unbindTexture()},this.resetState=function(){ne=0,oe=0,he=null,xi.reset(),ir.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return i0}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(r){this._outputColorSpace=r;const o=this.getContext();o.drawingBufferColorSpace=r===bd?"display-p3":"srgb",o.unpackColorSpace=Nr.workingColorSpace===eu?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(r){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=r}}class b3{constructor(r,o=25e-5){this.isFogExp2=!0,this.name="",this.color=new an(r),this.density=o}clone(){return new b3(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class C3{constructor(r,o=1,f=1e3){this.isFog=!0,this.name="",this.color=new an(r),this.near=o,this.far=f}clone(){return new C3(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class rC extends Rr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Us,this.environmentIntensity=1,this.environmentRotation=new Us,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(r,o){return super.copy(r,o),r.background!==null&&(this.background=r.background.clone()),r.environment!==null&&(this.environment=r.environment.clone()),r.fog!==null&&(this.fog=r.fog.clone()),this.backgroundBlurriness=r.backgroundBlurriness,this.backgroundIntensity=r.backgroundIntensity,this.backgroundRotation.copy(r.backgroundRotation),this.environmentIntensity=r.environmentIntensity,this.environmentRotation.copy(r.environmentRotation),r.overrideMaterial!==null&&(this.overrideMaterial=r.overrideMaterial.clone()),this.matrixAutoUpdate=r.matrixAutoUpdate,this}toJSON(r){const o=super.toJSON(r);return this.fog!==null&&(o.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(o.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(o.object.backgroundIntensity=this.backgroundIntensity),o.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(o.object.environmentIntensity=this.environmentIntensity),o.object.environmentRotation=this.environmentRotation.toArray(),o}}class _3{constructor(r,o){this.isInterleavedBuffer=!0,this.array=r,this.stride=o,this.count=r!==void 0?r.length/o:0,this.usage=au,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=rs()}onUploadCallback(){}set needsUpdate(r){r===!0&&this.version++}get updateRange(){return Km("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(r){return this.usage=r,this}addUpdateRange(r,o){this.updateRanges.push({start:r,count:o})}clearUpdateRanges(){this.updateRanges.length=0}copy(r){return this.array=new r.array.constructor(r.array),this.count=r.count,this.stride=r.stride,this.usage=r.usage,this}copyAt(r,o,f){r*=this.stride,f*=o.stride;for(let y=0,w=this.stride;y<w;y++)this.array[r+y]=o.array[f+y];return this}set(r,o=0){return this.array.set(r,o),this}clone(r){r.arrayBuffers===void 0&&(r.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=rs()),r.arrayBuffers[this.array.buffer._uuid]===void 0&&(r.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const o=new this.array.constructor(r.arrayBuffers[this.array.buffer._uuid]),f=new this.constructor(o,this.stride);return f.setUsage(this.usage),f}onUpload(r){return this.onUploadCallback=r,this}toJSON(r){return r.arrayBuffers===void 0&&(r.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=rs()),r.arrayBuffers[this.array.buffer._uuid]===void 0&&(r.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const os=new ie;class Mu{constructor(r,o,f,y=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=r,this.itemSize=o,this.offset=f,this.normalized=y}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(r){this.data.needsUpdate=r}applyMatrix4(r){for(let o=0,f=this.data.count;o<f;o++)os.fromBufferAttribute(this,o),os.applyMatrix4(r),this.setXYZ(o,os.x,os.y,os.z);return this}applyNormalMatrix(r){for(let o=0,f=this.count;o<f;o++)os.fromBufferAttribute(this,o),os.applyNormalMatrix(r),this.setXYZ(o,os.x,os.y,os.z);return this}transformDirection(r){for(let o=0,f=this.count;o<f;o++)os.fromBufferAttribute(this,o),os.transformDirection(r),this.setXYZ(o,os.x,os.y,os.z);return this}getComponent(r,o){let f=this.array[r*this.data.stride+this.offset+o];return this.normalized&&(f=R9(f,this.array)),f}setComponent(r,o,f){return this.normalized&&(f=Hn(f,this.array)),this.data.array[r*this.data.stride+this.offset+o]=f,this}setX(r,o){return this.normalized&&(o=Hn(o,this.array)),this.data.array[r*this.data.stride+this.offset]=o,this}setY(r,o){return this.normalized&&(o=Hn(o,this.array)),this.data.array[r*this.data.stride+this.offset+1]=o,this}setZ(r,o){return this.normalized&&(o=Hn(o,this.array)),this.data.array[r*this.data.stride+this.offset+2]=o,this}setW(r,o){return this.normalized&&(o=Hn(o,this.array)),this.data.array[r*this.data.stride+this.offset+3]=o,this}getX(r){let o=this.data.array[r*this.data.stride+this.offset];return this.normalized&&(o=R9(o,this.array)),o}getY(r){let o=this.data.array[r*this.data.stride+this.offset+1];return this.normalized&&(o=R9(o,this.array)),o}getZ(r){let o=this.data.array[r*this.data.stride+this.offset+2];return this.normalized&&(o=R9(o,this.array)),o}getW(r){let o=this.data.array[r*this.data.stride+this.offset+3];return this.normalized&&(o=R9(o,this.array)),o}setXY(r,o,f){return r=r*this.data.stride+this.offset,this.normalized&&(o=Hn(o,this.array),f=Hn(f,this.array)),this.data.array[r+0]=o,this.data.array[r+1]=f,this}setXYZ(r,o,f,y){return r=r*this.data.stride+this.offset,this.normalized&&(o=Hn(o,this.array),f=Hn(f,this.array),y=Hn(y,this.array)),this.data.array[r+0]=o,this.data.array[r+1]=f,this.data.array[r+2]=y,this}setXYZW(r,o,f,y,w){return r=r*this.data.stride+this.offset,this.normalized&&(o=Hn(o,this.array),f=Hn(f,this.array),y=Hn(y,this.array),w=Hn(w,this.array)),this.data.array[r+0]=o,this.data.array[r+1]=f,this.data.array[r+2]=y,this.data.array[r+3]=w,this}clone(r){if(r===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const o=[];for(let f=0;f<this.count;f++){const y=f*this.data.stride+this.offset;for(let w=0;w<this.itemSize;w++)o.push(this.data.array[y+w])}return new Jr(new this.array.constructor(o),this.itemSize,this.normalized)}else return r.interleavedBuffers===void 0&&(r.interleavedBuffers={}),r.interleavedBuffers[this.data.uuid]===void 0&&(r.interleavedBuffers[this.data.uuid]=this.data.clone(r)),new Mu(r.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(r){if(r===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const o=[];for(let f=0;f<this.count;f++){const y=f*this.data.stride+this.offset;for(let w=0;w<this.itemSize;w++)o.push(this.data.array[y+w])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:o,normalized:this.normalized}}else return r.interleavedBuffers===void 0&&(r.interleavedBuffers={}),r.interleavedBuffers[this.data.uuid]===void 0&&(r.interleavedBuffers[this.data.uuid]=this.data.toJSON(r)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class s7 extends H9{constructor(r){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new an(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.rotation=r.rotation,this.sizeAttenuation=r.sizeAttenuation,this.fog=r.fog,this}}let zd;const jf=new ie,jd=new ie,Jd=new ie,Wd=new mi,Jf=new mi,aC=new fn,E3=new ie,Wf=new ie,w3=new ie,sC=new mi,o7=new mi,oC=new mi;class lC extends Rr{constructor(r=new s7){if(super(),this.isSprite=!0,this.type="Sprite",zd===void 0){zd=new lr;const o=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),f=new _3(o,5);zd.setIndex([0,1,2,0,2,3]),zd.setAttribute("position",new Mu(f,3,0,!1)),zd.setAttribute("uv",new Mu(f,2,3,!1))}this.geometry=zd,this.material=r,this.center=new mi(.5,.5)}raycast(r,o){r.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),jd.setFromMatrixScale(this.matrixWorld),aC.copy(r.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(r.camera.matrixWorldInverse,this.matrixWorld),Jd.setFromMatrixPosition(this.modelViewMatrix),r.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&jd.multiplyScalar(-Jd.z);const f=this.material.rotation;let y,w;f!==0&&(w=Math.cos(f),y=Math.sin(f));const B=this.center;O3(E3.set(-.5,-.5,0),Jd,B,jd,y,w),O3(Wf.set(.5,-.5,0),Jd,B,jd,y,w),O3(w3.set(.5,.5,0),Jd,B,jd,y,w),sC.set(0,0),o7.set(1,0),oC.set(1,1);let k=r.ray.intersectTriangle(E3,Wf,w3,!1,jf);if(k===null&&(O3(Wf.set(-.5,.5,0),Jd,B,jd,y,w),o7.set(0,1),k=r.ray.intersectTriangle(E3,w3,Wf,!1,jf),k===null))return;const G=r.ray.origin.distanceTo(jf);G<r.near||G>r.far||o.push({distance:G,point:jf.clone(),uv:$s.getInterpolation(jf,E3,Wf,w3,sC,o7,oC,new mi),face:null,object:this})}copy(r,o){return super.copy(r,o),r.center!==void 0&&this.center.copy(r.center),this.material=r.material,this}}function O3(S,r,o,f,y,w){Wd.subVectors(S,o).addScalar(.5).multiply(f),y!==void 0?(Jf.x=w*Wd.x-y*Wd.y,Jf.y=y*Wd.x+w*Wd.y):Jf.copy(Wd),S.copy(r),S.x+=Jf.x,S.y+=Jf.y,S.applyMatrix4(aC)}const x3=new ie,cC=new ie;class uC extends Rr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(r){super.copy(r,!1);const o=r.levels;for(let f=0,y=o.length;f<y;f++){const w=o[f];this.addLevel(w.object.clone(),w.distance,w.hysteresis)}return this.autoUpdate=r.autoUpdate,this}addLevel(r,o=0,f=0){o=Math.abs(o);const y=this.levels;let w;for(w=0;w<y.length&&!(o<y[w].distance);w++);return y.splice(w,0,{distance:o,hysteresis:f,object:r}),this.add(r),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(r){const o=this.levels;if(o.length>0){let f,y;for(f=1,y=o.length;f<y;f++){let w=o[f].distance;if(o[f].object.visible&&(w-=w*o[f].hysteresis),r<w)break}return o[f-1].object}return null}raycast(r,o){if(this.levels.length>0){x3.setFromMatrixPosition(this.matrixWorld);const y=r.ray.origin.distanceTo(x3);this.getObjectForDistance(y).raycast(r,o)}}update(r){const o=this.levels;if(o.length>1){x3.setFromMatrixPosition(r.matrixWorld),cC.setFromMatrixPosition(this.matrixWorld);const f=x3.distanceTo(cC)/r.zoom;o[0].object.visible=!0;let y,w;for(y=1,w=o.length;y<w;y++){let B=o[y].distance;if(o[y].object.visible&&(B-=B*o[y].hysteresis),f>=B)o[y-1].object.visible=!1,o[y].object.visible=!0;else break}for(this._currentLevel=y-1;y<w;y++)o[y].object.visible=!1}}toJSON(r){const o=super.toJSON(r);this.autoUpdate===!1&&(o.object.autoUpdate=!1),o.object.levels=[];const f=this.levels;for(let y=0,w=f.length;y<w;y++){const B=f[y];o.object.levels.push({object:B.object.uuid,distance:B.distance,hysteresis:B.hysteresis})}return o}}const dC=new ie,hC=new xr,fC=new xr,vQ=new ie,mC=new fn,S3=new ie,l7=new a9,pC=new fn,c7=new s9;class gC extends Za{constructor(r,o){super(r,o),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=St,this.bindMatrix=new fn,this.bindMatrixInverse=new fn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const r=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ta),this.boundingBox.makeEmpty();const o=r.getAttribute("position");for(let f=0;f<o.count;f++)this.getVertexPosition(f,S3),this.boundingBox.expandByPoint(S3)}computeBoundingSphere(){const r=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new a9),this.boundingSphere.makeEmpty();const o=r.getAttribute("position");for(let f=0;f<o.count;f++)this.getVertexPosition(f,S3),this.boundingSphere.expandByPoint(S3)}copy(r,o){return super.copy(r,o),this.bindMode=r.bindMode,this.bindMatrix.copy(r.bindMatrix),this.bindMatrixInverse.copy(r.bindMatrixInverse),this.skeleton=r.skeleton,r.boundingBox!==null&&(this.boundingBox=r.boundingBox.clone()),r.boundingSphere!==null&&(this.boundingSphere=r.boundingSphere.clone()),this}raycast(r,o){const f=this.material,y=this.matrixWorld;f!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),l7.copy(this.boundingSphere),l7.applyMatrix4(y),r.ray.intersectsSphere(l7)!==!1&&(pC.copy(y).invert(),c7.copy(r.ray).applyMatrix4(pC),!(this.boundingBox!==null&&c7.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(r,o,c7)))}getVertexPosition(r,o){return super.getVertexPosition(r,o),this.applyBoneTransform(r,o),o}bind(r,o){this.skeleton=r,o===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),o=this.matrixWorld),this.bindMatrix.copy(o),this.bindMatrixInverse.copy(o).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const r=new xr,o=this.geometry.attributes.skinWeight;for(let f=0,y=o.count;f<y;f++){r.fromBufferAttribute(o,f);const w=1/r.manhattanLength();w!==1/0?r.multiplyScalar(w):r.set(1,0,0,0),o.setXYZW(f,r.x,r.y,r.z,r.w)}}updateMatrixWorld(r){super.updateMatrixWorld(r),this.bindMode===St?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===It?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(r,o){const f=this.skeleton,y=this.geometry;hC.fromBufferAttribute(y.attributes.skinIndex,r),fC.fromBufferAttribute(y.attributes.skinWeight,r),dC.copy(o).applyMatrix4(this.bindMatrix),o.set(0,0,0);for(let w=0;w<4;w++){const B=fC.getComponent(w);if(B!==0){const k=hC.getComponent(w);mC.multiplyMatrices(f.bones[k].matrixWorld,f.boneInverses[k]),o.addScaledVector(vQ.copy(dC).applyMatrix4(mC),B)}}return o.applyMatrix4(this.bindMatrixInverse)}}class u7 extends Rr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Zl extends la{constructor(r=null,o=1,f=1,y,w,B,k,G,H=$e,Z=$e,nt,rt){super(null,B,k,G,H,Z,y,w,nt,rt),this.isDataTexture=!0,this.image={data:r,width:o,height:f},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const MC=new fn,bQ=new fn;class T3{constructor(r=[],o=[]){this.uuid=rs(),this.bones=r.slice(0),this.boneInverses=o,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const r=this.bones,o=this.boneInverses;if(this.boneMatrices=new Float32Array(r.length*16),o.length===0)this.calculateInverses();else if(r.length!==o.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let f=0,y=this.bones.length;f<y;f++)this.boneInverses.push(new fn)}}calculateInverses(){this.boneInverses.length=0;for(let r=0,o=this.bones.length;r<o;r++){const f=new fn;this.bones[r]&&f.copy(this.bones[r].matrixWorld).invert(),this.boneInverses.push(f)}}pose(){for(let r=0,o=this.bones.length;r<o;r++){const f=this.bones[r];f&&f.matrixWorld.copy(this.boneInverses[r]).invert()}for(let r=0,o=this.bones.length;r<o;r++){const f=this.bones[r];f&&(f.parent&&f.parent.isBone?(f.matrix.copy(f.parent.matrixWorld).invert(),f.matrix.multiply(f.matrixWorld)):f.matrix.copy(f.matrixWorld),f.matrix.decompose(f.position,f.quaternion,f.scale))}}update(){const r=this.bones,o=this.boneInverses,f=this.boneMatrices,y=this.boneTexture;for(let w=0,B=r.length;w<B;w++){const k=r[w]?r[w].matrixWorld:bQ;MC.multiplyMatrices(k,o[w]),MC.toArray(f,w*16)}y!==null&&(y.needsUpdate=!0)}clone(){return new T3(this.bones,this.boneInverses)}computeBoneTexture(){let r=Math.sqrt(this.bones.length*4);r=Math.ceil(r/4)*4,r=Math.max(r,4);const o=new Float32Array(r*r*4);o.set(this.boneMatrices);const f=new Zl(o,r,r,ue,si);return f.needsUpdate=!0,this.boneMatrices=o,this.boneTexture=f,this}getBoneByName(r){for(let o=0,f=this.bones.length;o<f;o++){const y=this.bones[o];if(y.name===r)return y}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(r,o){this.uuid=r.uuid;for(let f=0,y=r.bones.length;f<y;f++){const w=r.bones[f];let B=o[w];B===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",w),B=new u7),this.bones.push(B),this.boneInverses.push(new fn().fromArray(r.boneInverses[f]))}return this.init(),this}toJSON(){const r={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};r.uuid=this.uuid;const o=this.bones,f=this.boneInverses;for(let y=0,w=o.length;y<w;y++){const B=o[y];r.bones.push(B.uuid);const k=f[y];r.boneInverses.push(k.toArray())}return r}}class qd extends Jr{constructor(r,o,f,y=1){super(r,o,f),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=y}copy(r){return super.copy(r),this.meshPerAttribute=r.meshPerAttribute,this}toJSON(){const r=super.toJSON();return r.meshPerAttribute=this.meshPerAttribute,r.isInstancedBufferAttribute=!0,r}}const Kd=new fn,AC=new fn,I3=[],yC=new Ta,CQ=new fn,qf=new Za,Kf=new a9;class vC extends Za{constructor(r,o,f){super(r,o),this.isInstancedMesh=!0,this.instanceMatrix=new qd(new Float32Array(f*16),16),this.instanceColor=null,this.morphTexture=null,this.count=f,this.boundingBox=null,this.boundingSphere=null;for(let y=0;y<f;y++)this.setMatrixAt(y,CQ)}computeBoundingBox(){const r=this.geometry,o=this.count;this.boundingBox===null&&(this.boundingBox=new Ta),r.boundingBox===null&&r.computeBoundingBox(),this.boundingBox.makeEmpty();for(let f=0;f<o;f++)this.getMatrixAt(f,Kd),yC.copy(r.boundingBox).applyMatrix4(Kd),this.boundingBox.union(yC)}computeBoundingSphere(){const r=this.geometry,o=this.count;this.boundingSphere===null&&(this.boundingSphere=new a9),r.boundingSphere===null&&r.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let f=0;f<o;f++)this.getMatrixAt(f,Kd),Kf.copy(r.boundingSphere).applyMatrix4(Kd),this.boundingSphere.union(Kf)}copy(r,o){return super.copy(r,o),this.instanceMatrix.copy(r.instanceMatrix),r.morphTexture!==null&&(this.morphTexture=r.morphTexture.clone()),r.instanceColor!==null&&(this.instanceColor=r.instanceColor.clone()),this.count=r.count,r.boundingBox!==null&&(this.boundingBox=r.boundingBox.clone()),r.boundingSphere!==null&&(this.boundingSphere=r.boundingSphere.clone()),this}getColorAt(r,o){o.fromArray(this.instanceColor.array,r*3)}getMatrixAt(r,o){o.fromArray(this.instanceMatrix.array,r*16)}getMorphAt(r,o){const f=o.morphTargetInfluences,y=this.morphTexture.source.data.data,w=f.length+1,B=r*w+1;for(let k=0;k<f.length;k++)f[k]=y[B+k]}raycast(r,o){const f=this.matrixWorld,y=this.count;if(qf.geometry=this.geometry,qf.material=this.material,qf.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Kf.copy(this.boundingSphere),Kf.applyMatrix4(f),r.ray.intersectsSphere(Kf)!==!1))for(let w=0;w<y;w++){this.getMatrixAt(w,Kd),AC.multiplyMatrices(f,Kd),qf.matrixWorld=AC,qf.raycast(r,I3);for(let B=0,k=I3.length;B<k;B++){const G=I3[B];G.instanceId=w,G.object=this,o.push(G)}I3.length=0}}setColorAt(r,o){this.instanceColor===null&&(this.instanceColor=new qd(new Float32Array(this.instanceMatrix.count*3),3)),o.toArray(this.instanceColor.array,r*3)}setMatrixAt(r,o){o.toArray(this.instanceMatrix.array,r*16)}setMorphAt(r,o){const f=o.morphTargetInfluences,y=f.length+1;this.morphTexture===null&&(this.morphTexture=new Zl(new Float32Array(y*this.count),y,this.count,yi,si));const w=this.morphTexture.source.data.data;let B=0;for(let H=0;H<f.length;H++)B+=f[H];const k=this.geometry.morphTargetsRelative?1:1-B,G=y*r;w[G]=k,w.set(f,G+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function _Q(S,r){return S.z-r.z}function EQ(S,r){return r.z-S.z}class wQ{constructor(){this.index=0,this.pool=[],this.list=[]}push(r,o){const f=this.pool,y=this.list;this.index>=f.length&&f.push({start:-1,count:-1,z:-1});const w=f[this.index];y.push(w),this.index++,w.start=r.start,w.count=r.count,w.z=o}reset(){this.list.length=0,this.index=0}}const Xd="batchId",tc=new fn,bC=new fn,OQ=new fn,CC=new fn,d7=new Qf,B3=new Ta,Au=new a9,Xf=new ie,h7=new wQ,Q9=new Za,R3=[];function xQ(S,r,o=0){const f=r.itemSize;if(S.isInterleavedBufferAttribute||S.array.constructor!==r.array.constructor){const y=S.count;for(let w=0;w<y;w++)for(let B=0;B<f;B++)r.setComponent(w+o,B,S.getComponent(w,B))}else r.array.set(S.array,o*f);r.needsUpdate=!0}class _C extends Za{get maxGeometryCount(){return this._maxGeometryCount}constructor(r,o,f=o*2,y){super(new lr,y),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=r,this._maxVertexCount=o,this._maxIndexCount=f,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(r),this._multiDrawStarts=new Int32Array(r),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let r=Math.sqrt(this._maxGeometryCount*4);r=Math.ceil(r/4)*4,r=Math.max(r,4);const o=new Float32Array(r*r*4),f=new Zl(o,r,r,ue,si);this._matricesTexture=f}_initializeGeometry(r){const o=this.geometry,f=this._maxVertexCount,y=this._maxGeometryCount,w=this._maxIndexCount;if(this._geometryInitialized===!1){for(const k in r.attributes){const G=r.getAttribute(k),{array:H,itemSize:Z,normalized:nt}=G,rt=new H.constructor(f*Z),at=new Jr(rt,Z,nt);o.setAttribute(k,at)}if(r.getIndex()!==null){const k=f>65536?new Uint32Array(w):new Uint16Array(w);o.setIndex(new Jr(k,1))}const B=y>65536?new Uint32Array(f):new Uint16Array(f);o.setAttribute(Xd,new Jr(B,1)),this._geometryInitialized=!0}}_validateGeometry(r){if(r.getAttribute(Xd))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Xd}"`);const o=this.geometry;if(!!r.getIndex()!=!!o.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const f in o.attributes){if(f===Xd)continue;if(!r.hasAttribute(f))throw new Error(`BatchedMesh: Added geometry missing "${f}". All geometries must have consistent attributes.`);const y=r.getAttribute(f),w=o.getAttribute(f);if(y.itemSize!==w.itemSize||y.normalized!==w.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(r){return this.customSort=r,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ta);const r=this._geometryCount,o=this.boundingBox,f=this._active;o.makeEmpty();for(let y=0;y<r;y++)f[y]!==!1&&(this.getMatrixAt(y,tc),this.getBoundingBoxAt(y,B3).applyMatrix4(tc),o.union(B3))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new a9);const r=this._geometryCount,o=this.boundingSphere,f=this._active;o.makeEmpty();for(let y=0;y<r;y++)f[y]!==!1&&(this.getMatrixAt(y,tc),this.getBoundingSphereAt(y,Au).applyMatrix4(tc),o.union(Au))}addGeometry(r,o=-1,f=-1){if(this._initializeGeometry(r),this._validateGeometry(r),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const y={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let w=null;const B=this._reservedRanges,k=this._drawRanges,G=this._bounds;this._geometryCount!==0&&(w=B[B.length-1]),o===-1?y.vertexCount=r.getAttribute("position").count:y.vertexCount=o,w===null?y.vertexStart=0:y.vertexStart=w.vertexStart+w.vertexCount;const H=r.getIndex(),Z=H!==null;if(Z&&(f===-1?y.indexCount=H.count:y.indexCount=f,w===null?y.indexStart=0:y.indexStart=w.indexStart+w.indexCount),y.indexStart!==-1&&y.indexStart+y.indexCount>this._maxIndexCount||y.vertexStart+y.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const nt=this._visibility,rt=this._active,at=this._matricesTexture,ct=this._matricesTexture.image.data;nt.push(!0),rt.push(!0);const yt=this._geometryCount;this._geometryCount++,OQ.toArray(ct,yt*16),at.needsUpdate=!0,B.push(y),k.push({start:Z?y.indexStart:y.vertexStart,count:-1}),G.push({boxInitialized:!1,box:new Ta,sphereInitialized:!1,sphere:new a9});const ft=this.geometry.getAttribute(Xd);for(let st=0;st<y.vertexCount;st++)ft.setX(y.vertexStart+st,yt);return ft.needsUpdate=!0,this.setGeometryAt(yt,r),yt}setGeometryAt(r,o){if(r>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(o);const f=this.geometry,y=f.getIndex()!==null,w=f.getIndex(),B=o.getIndex(),k=this._reservedRanges[r];if(y&&B.count>k.indexCount||o.attributes.position.count>k.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const G=k.vertexStart,H=k.vertexCount;for(const at in f.attributes){if(at===Xd)continue;const ct=o.getAttribute(at),yt=f.getAttribute(at);xQ(ct,yt,G);const ft=ct.itemSize;for(let st=ct.count,Gt=H;st<Gt;st++){const $t=G+st;for(let Lt=0;Lt<ft;Lt++)yt.setComponent($t,Lt,0)}yt.needsUpdate=!0,yt.addUpdateRange(G*ft,H*ft)}if(y){const at=k.indexStart;for(let ct=0;ct<B.count;ct++)w.setX(at+ct,G+B.getX(ct));for(let ct=B.count,yt=k.indexCount;ct<yt;ct++)w.setX(at+ct,G);w.needsUpdate=!0,w.addUpdateRange(at,k.indexCount)}const Z=this._bounds[r];o.boundingBox!==null?(Z.box.copy(o.boundingBox),Z.boxInitialized=!0):Z.boxInitialized=!1,o.boundingSphere!==null?(Z.sphere.copy(o.boundingSphere),Z.sphereInitialized=!0):Z.sphereInitialized=!1;const nt=this._drawRanges[r],rt=o.getAttribute("position");return nt.count=y?B.count:rt.count,this._visibilityChanged=!0,r}deleteGeometry(r){const o=this._active;return r>=o.length||o[r]===!1?this:(o[r]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(r){return this._multiDrawInstances===null?null:this._multiDrawInstances[r]}setInstanceCountAt(r,o){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[r]=o,r}getBoundingBoxAt(r,o){if(this._active[r]===!1)return null;const y=this._bounds[r],w=y.box,B=this.geometry;if(y.boxInitialized===!1){w.makeEmpty();const k=B.index,G=B.attributes.position,H=this._drawRanges[r];for(let Z=H.start,nt=H.start+H.count;Z<nt;Z++){let rt=Z;k&&(rt=k.getX(rt)),w.expandByPoint(Xf.fromBufferAttribute(G,rt))}y.boxInitialized=!0}return o.copy(w),o}getBoundingSphereAt(r,o){if(this._active[r]===!1)return null;const y=this._bounds[r],w=y.sphere,B=this.geometry;if(y.sphereInitialized===!1){w.makeEmpty(),this.getBoundingBoxAt(r,B3),B3.getCenter(w.center);const k=B.index,G=B.attributes.position,H=this._drawRanges[r];let Z=0;for(let nt=H.start,rt=H.start+H.count;nt<rt;nt++){let at=nt;k&&(at=k.getX(at)),Xf.fromBufferAttribute(G,at),Z=Math.max(Z,w.center.distanceToSquared(Xf))}w.radius=Math.sqrt(Z),y.sphereInitialized=!0}return o.copy(w),o}setMatrixAt(r,o){const f=this._active,y=this._matricesTexture,w=this._matricesTexture.image.data,B=this._geometryCount;return r>=B||f[r]===!1?this:(o.toArray(w,r*16),y.needsUpdate=!0,this)}getMatrixAt(r,o){const f=this._active,y=this._matricesTexture.image.data,w=this._geometryCount;return r>=w||f[r]===!1?null:o.fromArray(y,r*16)}setVisibleAt(r,o){const f=this._visibility,y=this._active,w=this._geometryCount;return r>=w||y[r]===!1||f[r]===o?this:(f[r]=o,this._visibilityChanged=!0,this)}getVisibleAt(r){const o=this._visibility,f=this._active,y=this._geometryCount;return r>=y||f[r]===!1?!1:o[r]}raycast(r,o){const f=this._visibility,y=this._active,w=this._drawRanges,B=this._geometryCount,k=this.matrixWorld,G=this.geometry;Q9.material=this.material,Q9.geometry.index=G.index,Q9.geometry.attributes=G.attributes,Q9.geometry.boundingBox===null&&(Q9.geometry.boundingBox=new Ta),Q9.geometry.boundingSphere===null&&(Q9.geometry.boundingSphere=new a9);for(let H=0;H<B;H++){if(!f[H]||!y[H])continue;const Z=w[H];Q9.geometry.setDrawRange(Z.start,Z.count),this.getMatrixAt(H,Q9.matrixWorld).premultiply(k),this.getBoundingBoxAt(H,Q9.geometry.boundingBox),this.getBoundingSphereAt(H,Q9.geometry.boundingSphere),Q9.raycast(r,R3);for(let nt=0,rt=R3.length;nt<rt;nt++){const at=R3[nt];at.object=this,at.batchId=H,o.push(at)}R3.length=0}Q9.material=null,Q9.geometry.index=null,Q9.geometry.attributes={},Q9.geometry.setDrawRange(0,1/0)}copy(r){return super.copy(r),this.geometry=r.geometry.clone(),this.perObjectFrustumCulled=r.perObjectFrustumCulled,this.sortObjects=r.sortObjects,this.boundingBox=r.boundingBox!==null?r.boundingBox.clone():null,this.boundingSphere=r.boundingSphere!==null?r.boundingSphere.clone():null,this._drawRanges=r._drawRanges.map(o=>({...o})),this._reservedRanges=r._reservedRanges.map(o=>({...o})),this._visibility=r._visibility.slice(),this._active=r._active.slice(),this._bounds=r._bounds.map(o=>({boxInitialized:o.boxInitialized,box:o.box.clone(),sphereInitialized:o.sphereInitialized,sphere:o.sphere.clone()})),this._maxGeometryCount=r._maxGeometryCount,this._maxVertexCount=r._maxVertexCount,this._maxIndexCount=r._maxIndexCount,this._geometryInitialized=r._geometryInitialized,this._geometryCount=r._geometryCount,this._multiDrawCounts=r._multiDrawCounts.slice(),this._multiDrawStarts=r._multiDrawStarts.slice(),this._matricesTexture=r._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(r,o,f,y,w){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const B=y.getIndex(),k=B===null?1:B.array.BYTES_PER_ELEMENT,G=this._active,H=this._visibility,Z=this._multiDrawStarts,nt=this._multiDrawCounts,rt=this._drawRanges,at=this.perObjectFrustumCulled;at&&(CC.multiplyMatrices(f.projectionMatrix,f.matrixWorldInverse).multiply(this.matrixWorld),d7.setFromProjectionMatrix(CC,r.coordinateSystem));let ct=0;if(this.sortObjects){bC.copy(this.matrixWorld).invert(),Xf.setFromMatrixPosition(f.matrixWorld).applyMatrix4(bC);for(let st=0,Gt=H.length;st<Gt;st++)if(H[st]&&G[st]){this.getMatrixAt(st,tc),this.getBoundingSphereAt(st,Au).applyMatrix4(tc);let $t=!1;if(at&&($t=!d7.intersectsSphere(Au)),!$t){const Lt=Xf.distanceTo(Au.center);h7.push(rt[st],Lt)}}const yt=h7.list,ft=this.customSort;ft===null?yt.sort(w.transparent?EQ:_Q):ft.call(this,yt,f);for(let st=0,Gt=yt.length;st<Gt;st++){const $t=yt[st];Z[ct]=$t.start*k,nt[ct]=$t.count,ct++}h7.reset()}else for(let yt=0,ft=H.length;yt<ft;yt++)if(H[yt]&&G[yt]){let st=!1;if(at&&(this.getMatrixAt(yt,tc),this.getBoundingSphereAt(yt,Au).applyMatrix4(tc),st=!d7.intersectsSphere(Au)),!st){const Gt=rt[yt];Z[ct]=Gt.start*k,nt[ct]=Gt.count,ct++}}this._multiDrawCount=ct,this._visibilityChanged=!1}onBeforeShadow(r,o,f,y,w,B){this.onBeforeRender(r,null,y,w,B)}}class ls extends H9{constructor(r){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new an(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.linewidth=r.linewidth,this.linecap=r.linecap,this.linejoin=r.linejoin,this.fog=r.fog,this}}const D3=new ie,P3=new ie,EC=new fn,Yf=new s9,L3=new a9,f7=new ie,wC=new ie;class ec extends Rr{constructor(r=new lr,o=new ls){super(),this.isLine=!0,this.type="Line",this.geometry=r,this.material=o,this.updateMorphTargets()}copy(r,o){return super.copy(r,o),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}computeLineDistances(){const r=this.geometry;if(r.index===null){const o=r.attributes.position,f=[0];for(let y=1,w=o.count;y<w;y++)D3.fromBufferAttribute(o,y-1),P3.fromBufferAttribute(o,y),f[y]=f[y-1],f[y]+=D3.distanceTo(P3);r.setAttribute("lineDistance",new pn(f,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(r,o){const f=this.geometry,y=this.matrixWorld,w=r.params.Line.threshold,B=f.drawRange;if(f.boundingSphere===null&&f.computeBoundingSphere(),L3.copy(f.boundingSphere),L3.applyMatrix4(y),L3.radius+=w,r.ray.intersectsSphere(L3)===!1)return;EC.copy(y).invert(),Yf.copy(r.ray).applyMatrix4(EC);const k=w/((this.scale.x+this.scale.y+this.scale.z)/3),G=k*k,H=this.isLineSegments?2:1,Z=f.index,rt=f.attributes.position;if(Z!==null){const at=Math.max(0,B.start),ct=Math.min(Z.count,B.start+B.count);for(let yt=at,ft=ct-1;yt<ft;yt+=H){const st=Z.getX(yt),Gt=Z.getX(yt+1),$t=k3(this,r,Yf,G,st,Gt);$t&&o.push($t)}if(this.isLineLoop){const yt=Z.getX(ct-1),ft=Z.getX(at),st=k3(this,r,Yf,G,yt,ft);st&&o.push(st)}}else{const at=Math.max(0,B.start),ct=Math.min(rt.count,B.start+B.count);for(let yt=at,ft=ct-1;yt<ft;yt+=H){const st=k3(this,r,Yf,G,yt,yt+1);st&&o.push(st)}if(this.isLineLoop){const yt=k3(this,r,Yf,G,ct-1,at);yt&&o.push(yt)}}}updateMorphTargets(){const o=this.geometry.morphAttributes,f=Object.keys(o);if(f.length>0){const y=o[f[0]];if(y!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let w=0,B=y.length;w<B;w++){const k=y[w].name||String(w);this.morphTargetInfluences.push(0),this.morphTargetDictionary[k]=w}}}}}function k3(S,r,o,f,y,w){const B=S.geometry.attributes.position;if(D3.fromBufferAttribute(B,y),P3.fromBufferAttribute(B,w),o.distanceSqToSegment(D3,P3,f7,wC)>f)return;f7.applyMatrix4(S.matrixWorld);const G=r.ray.origin.distanceTo(f7);if(!(G<r.near||G>r.far))return{distance:G,point:wC.clone().applyMatrix4(S.matrixWorld),index:y,face:null,faceIndex:null,object:S}}const OC=new ie,xC=new ie;class oo extends ec{constructor(r,o){super(r,o),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const r=this.geometry;if(r.index===null){const o=r.attributes.position,f=[];for(let y=0,w=o.count;y<w;y+=2)OC.fromBufferAttribute(o,y),xC.fromBufferAttribute(o,y+1),f[y]=y===0?0:f[y-1],f[y+1]=f[y]+OC.distanceTo(xC);r.setAttribute("lineDistance",new pn(f,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class SC extends ec{constructor(r,o){super(r,o),this.isLineLoop=!0,this.type="LineLoop"}}class m7 extends H9{constructor(r){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new an(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.size=r.size,this.sizeAttenuation=r.sizeAttenuation,this.fog=r.fog,this}}const TC=new fn,p7=new s9,N3=new a9,F3=new ie;class IC extends Rr{constructor(r=new lr,o=new m7){super(),this.isPoints=!0,this.type="Points",this.geometry=r,this.material=o,this.updateMorphTargets()}copy(r,o){return super.copy(r,o),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}raycast(r,o){const f=this.geometry,y=this.matrixWorld,w=r.params.Points.threshold,B=f.drawRange;if(f.boundingSphere===null&&f.computeBoundingSphere(),N3.copy(f.boundingSphere),N3.applyMatrix4(y),N3.radius+=w,r.ray.intersectsSphere(N3)===!1)return;TC.copy(y).invert(),p7.copy(r.ray).applyMatrix4(TC);const k=w/((this.scale.x+this.scale.y+this.scale.z)/3),G=k*k,H=f.index,nt=f.attributes.position;if(H!==null){const rt=Math.max(0,B.start),at=Math.min(H.count,B.start+B.count);for(let ct=rt,yt=at;ct<yt;ct++){const ft=H.getX(ct);F3.fromBufferAttribute(nt,ft),BC(F3,ft,G,y,r,o,this)}}else{const rt=Math.max(0,B.start),at=Math.min(nt.count,B.start+B.count);for(let ct=rt,yt=at;ct<yt;ct++)F3.fromBufferAttribute(nt,ct),BC(F3,ct,G,y,r,o,this)}}updateMorphTargets(){const o=this.geometry.morphAttributes,f=Object.keys(o);if(f.length>0){const y=o[f[0]];if(y!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let w=0,B=y.length;w<B;w++){const k=y[w].name||String(w);this.morphTargetInfluences.push(0),this.morphTargetDictionary[k]=w}}}}}function BC(S,r,o,f,y,w,B){const k=p7.distanceSqToPoint(S);if(k<o){const G=new ie;p7.closestPointToPoint(S,G),G.applyMatrix4(f);const H=y.ray.origin.distanceTo(G);if(H<y.near||H>y.far)return;w.push({distance:H,distanceToRay:Math.sqrt(k),point:G,index:r,face:null,object:B})}}class SQ extends la{constructor(r,o,f,y,w,B,k,G,H){super(r,o,f,y,w,B,k,G,H),this.isVideoTexture=!0,this.minFilter=B!==void 0?B:Le,this.magFilter=w!==void 0?w:Le,this.generateMipmaps=!1;const Z=this;function nt(){Z.needsUpdate=!0,r.requestVideoFrameCallback(nt)}"requestVideoFrameCallback"in r&&r.requestVideoFrameCallback(nt)}clone(){return new this.constructor(this.image).copy(this)}update(){const r=this.image;"requestVideoFrameCallback"in r===!1&&r.readyState>=r.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class TQ extends la{constructor(r,o){super({width:r,height:o}),this.isFramebufferTexture=!0,this.magFilter=$e,this.minFilter=$e,this.generateMipmaps=!1,this.needsUpdate=!0}}class U3 extends la{constructor(r,o,f,y,w,B,k,G,H,Z,nt,rt){super(null,B,k,G,H,Z,y,w,nt,rt),this.isCompressedTexture=!0,this.image={width:o,height:f},this.mipmaps=r,this.flipY=!1,this.generateMipmaps=!1}}class IQ extends U3{constructor(r,o,f,y,w,B){super(r,o,f,w,B),this.isCompressedArrayTexture=!0,this.image.depth=y,this.wrapR=ce}}class BQ extends U3{constructor(r,o,f){super(void 0,r[0].width,r[0].height,o,f,ht),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=r}}class RQ extends la{constructor(r,o,f,y,w,B,k,G,H){super(r,o,f,y,w,B,k,G,H),this.isCanvasTexture=!0,this.needsUpdate=!0}}class T0{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(r,o){const f=this.getUtoTmapping(r);return this.getPoint(f,o)}getPoints(r=5){const o=[];for(let f=0;f<=r;f++)o.push(this.getPoint(f/r));return o}getSpacedPoints(r=5){const o=[];for(let f=0;f<=r;f++)o.push(this.getPointAt(f/r));return o}getLength(){const r=this.getLengths();return r[r.length-1]}getLengths(r=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===r+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const o=[];let f,y=this.getPoint(0),w=0;o.push(0);for(let B=1;B<=r;B++)f=this.getPoint(B/r),w+=f.distanceTo(y),o.push(w),y=f;return this.cacheArcLengths=o,o}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(r,o){const f=this.getLengths();let y=0;const w=f.length;let B;o?B=o:B=r*f[w-1];let k=0,G=w-1,H;for(;k<=G;)if(y=Math.floor(k+(G-k)/2),H=f[y]-B,H<0)k=y+1;else if(H>0)G=y-1;else{G=y;break}if(y=G,f[y]===B)return y/(w-1);const Z=f[y],rt=f[y+1]-Z,at=(B-Z)/rt;return(y+at)/(w-1)}getTangent(r,o){let y=r-1e-4,w=r+1e-4;y<0&&(y=0),w>1&&(w=1);const B=this.getPoint(y),k=this.getPoint(w),G=o||(B.isVector2?new mi:new ie);return G.copy(k).sub(B).normalize(),G}getTangentAt(r,o){const f=this.getUtoTmapping(r);return this.getTangent(f,o)}computeFrenetFrames(r,o){const f=new ie,y=[],w=[],B=[],k=new ie,G=new fn;for(let at=0;at<=r;at++){const ct=at/r;y[at]=this.getTangentAt(ct,new ie)}w[0]=new ie,B[0]=new ie;let H=Number.MAX_VALUE;const Z=Math.abs(y[0].x),nt=Math.abs(y[0].y),rt=Math.abs(y[0].z);Z<=H&&(H=Z,f.set(1,0,0)),nt<=H&&(H=nt,f.set(0,1,0)),rt<=H&&f.set(0,0,1),k.crossVectors(y[0],f).normalize(),w[0].crossVectors(y[0],k),B[0].crossVectors(y[0],w[0]);for(let at=1;at<=r;at++){if(w[at]=w[at-1].clone(),B[at]=B[at-1].clone(),k.crossVectors(y[at-1],y[at]),k.length()>Number.EPSILON){k.normalize();const ct=Math.acos(Ea(y[at-1].dot(y[at]),-1,1));w[at].applyMatrix4(G.makeRotationAxis(k,ct))}B[at].crossVectors(y[at],w[at])}if(o===!0){let at=Math.acos(Ea(w[0].dot(w[r]),-1,1));at/=r,y[0].dot(k.crossVectors(w[0],w[r]))>0&&(at=-at);for(let ct=1;ct<=r;ct++)w[ct].applyMatrix4(G.makeRotationAxis(y[ct],at*ct)),B[ct].crossVectors(y[ct],w[ct])}return{tangents:y,normals:w,binormals:B}}clone(){return new this.constructor().copy(this)}copy(r){return this.arcLengthDivisions=r.arcLengthDivisions,this}toJSON(){const r={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return r.arcLengthDivisions=this.arcLengthDivisions,r.type=this.type,r}fromJSON(r){return this.arcLengthDivisions=r.arcLengthDivisions,this}}class $3 extends T0{constructor(r=0,o=0,f=1,y=1,w=0,B=Math.PI*2,k=!1,G=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=r,this.aY=o,this.xRadius=f,this.yRadius=y,this.aStartAngle=w,this.aEndAngle=B,this.aClockwise=k,this.aRotation=G}getPoint(r,o=new mi){const f=o,y=Math.PI*2;let w=this.aEndAngle-this.aStartAngle;const B=Math.abs(w)<Number.EPSILON;for(;w<0;)w+=y;for(;w>y;)w-=y;w<Number.EPSILON&&(B?w=0:w=y),this.aClockwise===!0&&!B&&(w===y?w=-y:w=w-y);const k=this.aStartAngle+r*w;let G=this.aX+this.xRadius*Math.cos(k),H=this.aY+this.yRadius*Math.sin(k);if(this.aRotation!==0){const Z=Math.cos(this.aRotation),nt=Math.sin(this.aRotation),rt=G-this.aX,at=H-this.aY;G=rt*Z-at*nt+this.aX,H=rt*nt+at*Z+this.aY}return f.set(G,H)}copy(r){return super.copy(r),this.aX=r.aX,this.aY=r.aY,this.xRadius=r.xRadius,this.yRadius=r.yRadius,this.aStartAngle=r.aStartAngle,this.aEndAngle=r.aEndAngle,this.aClockwise=r.aClockwise,this.aRotation=r.aRotation,this}toJSON(){const r=super.toJSON();return r.aX=this.aX,r.aY=this.aY,r.xRadius=this.xRadius,r.yRadius=this.yRadius,r.aStartAngle=this.aStartAngle,r.aEndAngle=this.aEndAngle,r.aClockwise=this.aClockwise,r.aRotation=this.aRotation,r}fromJSON(r){return super.fromJSON(r),this.aX=r.aX,this.aY=r.aY,this.xRadius=r.xRadius,this.yRadius=r.yRadius,this.aStartAngle=r.aStartAngle,this.aEndAngle=r.aEndAngle,this.aClockwise=r.aClockwise,this.aRotation=r.aRotation,this}}class RC extends $3{constructor(r,o,f,y,w,B){super(r,o,f,f,y,w,B),this.isArcCurve=!0,this.type="ArcCurve"}}function g7(){let S=0,r=0,o=0,f=0;function y(w,B,k,G){S=w,r=k,o=-3*w+3*B-2*k-G,f=2*w-2*B+k+G}return{initCatmullRom:function(w,B,k,G,H){y(B,k,H*(k-w),H*(G-B))},initNonuniformCatmullRom:function(w,B,k,G,H,Z,nt){let rt=(B-w)/H-(k-w)/(H+Z)+(k-B)/Z,at=(k-B)/Z-(G-B)/(Z+nt)+(G-k)/nt;rt*=Z,at*=Z,y(B,k,rt,at)},calc:function(w){const B=w*w,k=B*w;return S+r*w+o*B+f*k}}}const G3=new ie,M7=new g7,A7=new g7,y7=new g7;class DC extends T0{constructor(r=[],o=!1,f="centripetal",y=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=r,this.closed=o,this.curveType=f,this.tension=y}getPoint(r,o=new ie){const f=o,y=this.points,w=y.length,B=(w-(this.closed?0:1))*r;let k=Math.floor(B),G=B-k;this.closed?k+=k>0?0:(Math.floor(Math.abs(k)/w)+1)*w:G===0&&k===w-1&&(k=w-2,G=1);let H,Z;this.closed||k>0?H=y[(k-1)%w]:(G3.subVectors(y[0],y[1]).add(y[0]),H=G3);const nt=y[k%w],rt=y[(k+1)%w];if(this.closed||k+2<w?Z=y[(k+2)%w]:(G3.subVectors(y[w-1],y[w-2]).add(y[w-1]),Z=G3),this.curveType==="centripetal"||this.curveType==="chordal"){const at=this.curveType==="chordal"?.5:.25;let ct=Math.pow(H.distanceToSquared(nt),at),yt=Math.pow(nt.distanceToSquared(rt),at),ft=Math.pow(rt.distanceToSquared(Z),at);yt<1e-4&&(yt=1),ct<1e-4&&(ct=yt),ft<1e-4&&(ft=yt),M7.initNonuniformCatmullRom(H.x,nt.x,rt.x,Z.x,ct,yt,ft),A7.initNonuniformCatmullRom(H.y,nt.y,rt.y,Z.y,ct,yt,ft),y7.initNonuniformCatmullRom(H.z,nt.z,rt.z,Z.z,ct,yt,ft)}else this.curveType==="catmullrom"&&(M7.initCatmullRom(H.x,nt.x,rt.x,Z.x,this.tension),A7.initCatmullRom(H.y,nt.y,rt.y,Z.y,this.tension),y7.initCatmullRom(H.z,nt.z,rt.z,Z.z,this.tension));return f.set(M7.calc(G),A7.calc(G),y7.calc(G)),f}copy(r){super.copy(r),this.points=[];for(let o=0,f=r.points.length;o<f;o++){const y=r.points[o];this.points.push(y.clone())}return this.closed=r.closed,this.curveType=r.curveType,this.tension=r.tension,this}toJSON(){const r=super.toJSON();r.points=[];for(let o=0,f=this.points.length;o<f;o++){const y=this.points[o];r.points.push(y.toArray())}return r.closed=this.closed,r.curveType=this.curveType,r.tension=this.tension,r}fromJSON(r){super.fromJSON(r),this.points=[];for(let o=0,f=r.points.length;o<f;o++){const y=r.points[o];this.points.push(new ie().fromArray(y))}return this.closed=r.closed,this.curveType=r.curveType,this.tension=r.tension,this}}function PC(S,r,o,f,y){const w=(f-r)*.5,B=(y-o)*.5,k=S*S,G=S*k;return(2*o-2*f+w+B)*G+(-3*o+3*f-2*w-B)*k+w*S+o}function DQ(S,r){const o=1-S;return o*o*r}function PQ(S,r){return 2*(1-S)*S*r}function LQ(S,r){return S*S*r}function Zf(S,r,o,f){return DQ(S,r)+PQ(S,o)+LQ(S,f)}function kQ(S,r){const o=1-S;return o*o*o*r}function NQ(S,r){const o=1-S;return 3*o*o*S*r}function FQ(S,r){return 3*(1-S)*S*S*r}function UQ(S,r){return S*S*S*r}function t1(S,r,o,f,y){return kQ(S,r)+NQ(S,o)+FQ(S,f)+UQ(S,y)}class v7 extends T0{constructor(r=new mi,o=new mi,f=new mi,y=new mi){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=r,this.v1=o,this.v2=f,this.v3=y}getPoint(r,o=new mi){const f=o,y=this.v0,w=this.v1,B=this.v2,k=this.v3;return f.set(t1(r,y.x,w.x,B.x,k.x),t1(r,y.y,w.y,B.y,k.y)),f}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this.v3.copy(r.v3),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r.v3=this.v3.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this.v3.fromArray(r.v3),this}}class LC extends T0{constructor(r=new ie,o=new ie,f=new ie,y=new ie){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=r,this.v1=o,this.v2=f,this.v3=y}getPoint(r,o=new ie){const f=o,y=this.v0,w=this.v1,B=this.v2,k=this.v3;return f.set(t1(r,y.x,w.x,B.x,k.x),t1(r,y.y,w.y,B.y,k.y),t1(r,y.z,w.z,B.z,k.z)),f}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this.v3.copy(r.v3),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r.v3=this.v3.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this.v3.fromArray(r.v3),this}}class b7 extends T0{constructor(r=new mi,o=new mi){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=r,this.v2=o}getPoint(r,o=new mi){const f=o;return r===1?f.copy(this.v2):(f.copy(this.v2).sub(this.v1),f.multiplyScalar(r).add(this.v1)),f}getPointAt(r,o){return this.getPoint(r,o)}getTangent(r,o=new mi){return o.subVectors(this.v2,this.v1).normalize()}getTangentAt(r,o){return this.getTangent(r,o)}copy(r){return super.copy(r),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class kC extends T0{constructor(r=new ie,o=new ie){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=r,this.v2=o}getPoint(r,o=new ie){const f=o;return r===1?f.copy(this.v2):(f.copy(this.v2).sub(this.v1),f.multiplyScalar(r).add(this.v1)),f}getPointAt(r,o){return this.getPoint(r,o)}getTangent(r,o=new ie){return o.subVectors(this.v2,this.v1).normalize()}getTangentAt(r,o){return this.getTangent(r,o)}copy(r){return super.copy(r),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class C7 extends T0{constructor(r=new mi,o=new mi,f=new mi){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=r,this.v1=o,this.v2=f}getPoint(r,o=new mi){const f=o,y=this.v0,w=this.v1,B=this.v2;return f.set(Zf(r,y.x,w.x,B.x),Zf(r,y.y,w.y,B.y)),f}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class _7 extends T0{constructor(r=new ie,o=new ie,f=new ie){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=r,this.v1=o,this.v2=f}getPoint(r,o=new ie){const f=o,y=this.v0,w=this.v1,B=this.v2;return f.set(Zf(r,y.x,w.x,B.x),Zf(r,y.y,w.y,B.y),Zf(r,y.z,w.z,B.z)),f}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class E7 extends T0{constructor(r=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=r}getPoint(r,o=new mi){const f=o,y=this.points,w=(y.length-1)*r,B=Math.floor(w),k=w-B,G=y[B===0?B:B-1],H=y[B],Z=y[B>y.length-2?y.length-1:B+1],nt=y[B>y.length-3?y.length-1:B+2];return f.set(PC(k,G.x,H.x,Z.x,nt.x),PC(k,G.y,H.y,Z.y,nt.y)),f}copy(r){super.copy(r),this.points=[];for(let o=0,f=r.points.length;o<f;o++){const y=r.points[o];this.points.push(y.clone())}return this}toJSON(){const r=super.toJSON();r.points=[];for(let o=0,f=this.points.length;o<f;o++){const y=this.points[o];r.points.push(y.toArray())}return r}fromJSON(r){super.fromJSON(r),this.points=[];for(let o=0,f=r.points.length;o<f;o++){const y=r.points[o];this.points.push(new mi().fromArray(y))}return this}}var V3=Object.freeze({__proto__:null,ArcCurve:RC,CatmullRomCurve3:DC,CubicBezierCurve:v7,CubicBezierCurve3:LC,EllipseCurve:$3,LineCurve:b7,LineCurve3:kC,QuadraticBezierCurve:C7,QuadraticBezierCurve3:_7,SplineCurve:E7});class NC extends T0{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(r){this.curves.push(r)}closePath(){const r=this.curves[0].getPoint(0),o=this.curves[this.curves.length-1].getPoint(1);if(!r.equals(o)){const f=r.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new V3[f](o,r))}return this}getPoint(r,o){const f=r*this.getLength(),y=this.getCurveLengths();let w=0;for(;w<y.length;){if(y[w]>=f){const B=y[w]-f,k=this.curves[w],G=k.getLength(),H=G===0?0:1-B/G;return k.getPointAt(H,o)}w++}return null}getLength(){const r=this.getCurveLengths();return r[r.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const r=[];let o=0;for(let f=0,y=this.curves.length;f<y;f++)o+=this.curves[f].getLength(),r.push(o);return this.cacheLengths=r,r}getSpacedPoints(r=40){const o=[];for(let f=0;f<=r;f++)o.push(this.getPoint(f/r));return this.autoClose&&o.push(o[0]),o}getPoints(r=12){const o=[];let f;for(let y=0,w=this.curves;y<w.length;y++){const B=w[y],k=B.isEllipseCurve?r*2:B.isLineCurve||B.isLineCurve3?1:B.isSplineCurve?r*B.points.length:r,G=B.getPoints(k);for(let H=0;H<G.length;H++){const Z=G[H];f&&f.equals(Z)||(o.push(Z),f=Z)}}return this.autoClose&&o.length>1&&!o[o.length-1].equals(o[0])&&o.push(o[0]),o}copy(r){super.copy(r),this.curves=[];for(let o=0,f=r.curves.length;o<f;o++){const y=r.curves[o];this.curves.push(y.clone())}return this.autoClose=r.autoClose,this}toJSON(){const r=super.toJSON();r.autoClose=this.autoClose,r.curves=[];for(let o=0,f=this.curves.length;o<f;o++){const y=this.curves[o];r.curves.push(y.toJSON())}return r}fromJSON(r){super.fromJSON(r),this.autoClose=r.autoClose,this.curves=[];for(let o=0,f=r.curves.length;o<f;o++){const y=r.curves[o];this.curves.push(new V3[y.type]().fromJSON(y))}return this}}class e1 extends NC{constructor(r){super(),this.type="Path",this.currentPoint=new mi,r&&this.setFromPoints(r)}setFromPoints(r){this.moveTo(r[0].x,r[0].y);for(let o=1,f=r.length;o<f;o++)this.lineTo(r[o].x,r[o].y);return this}moveTo(r,o){return this.currentPoint.set(r,o),this}lineTo(r,o){const f=new b7(this.currentPoint.clone(),new mi(r,o));return this.curves.push(f),this.currentPoint.set(r,o),this}quadraticCurveTo(r,o,f,y){const w=new C7(this.currentPoint.clone(),new mi(r,o),new mi(f,y));return this.curves.push(w),this.currentPoint.set(f,y),this}bezierCurveTo(r,o,f,y,w,B){const k=new v7(this.currentPoint.clone(),new mi(r,o),new mi(f,y),new mi(w,B));return this.curves.push(k),this.currentPoint.set(w,B),this}splineThru(r){const o=[this.currentPoint.clone()].concat(r),f=new E7(o);return this.curves.push(f),this.currentPoint.copy(r[r.length-1]),this}arc(r,o,f,y,w,B){const k=this.currentPoint.x,G=this.currentPoint.y;return this.absarc(r+k,o+G,f,y,w,B),this}absarc(r,o,f,y,w,B){return this.absellipse(r,o,f,f,y,w,B),this}ellipse(r,o,f,y,w,B,k,G){const H=this.currentPoint.x,Z=this.currentPoint.y;return this.absellipse(r+H,o+Z,f,y,w,B,k,G),this}absellipse(r,o,f,y,w,B,k,G){const H=new $3(r,o,f,y,w,B,k,G);if(this.curves.length>0){const nt=H.getPoint(0);nt.equals(this.currentPoint)||this.lineTo(nt.x,nt.y)}this.curves.push(H);const Z=H.getPoint(1);return this.currentPoint.copy(Z),this}copy(r){return super.copy(r),this.currentPoint.copy(r.currentPoint),this}toJSON(){const r=super.toJSON();return r.currentPoint=this.currentPoint.toArray(),r}fromJSON(r){return super.fromJSON(r),this.currentPoint.fromArray(r.currentPoint),this}}class i1 extends lr{constructor(r=[new mi(0,-.5),new mi(.5,0),new mi(0,.5)],o=12,f=0,y=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:r,segments:o,phiStart:f,phiLength:y},o=Math.floor(o),y=Ea(y,0,Math.PI*2);const w=[],B=[],k=[],G=[],H=[],Z=1/o,nt=new ie,rt=new mi,at=new ie,ct=new ie,yt=new ie;let ft=0,st=0;for(let Gt=0;Gt<=r.length-1;Gt++)switch(Gt){case 0:ft=r[Gt+1].x-r[Gt].x,st=r[Gt+1].y-r[Gt].y,at.x=st*1,at.y=-ft,at.z=st*0,yt.copy(at),at.normalize(),G.push(at.x,at.y,at.z);break;case r.length-1:G.push(yt.x,yt.y,yt.z);break;default:ft=r[Gt+1].x-r[Gt].x,st=r[Gt+1].y-r[Gt].y,at.x=st*1,at.y=-ft,at.z=st*0,ct.copy(at),at.x+=yt.x,at.y+=yt.y,at.z+=yt.z,at.normalize(),G.push(at.x,at.y,at.z),yt.copy(ct)}for(let Gt=0;Gt<=o;Gt++){const $t=f+Gt*Z*y,Lt=Math.sin($t),pe=Math.cos($t);for(let ne=0;ne<=r.length-1;ne++){nt.x=r[ne].x*Lt,nt.y=r[ne].y,nt.z=r[ne].x*pe,B.push(nt.x,nt.y,nt.z),rt.x=Gt/o,rt.y=ne/(r.length-1),k.push(rt.x,rt.y);const oe=G[3*ne+0]*Lt,he=G[3*ne+1],Yt=G[3*ne+0]*pe;H.push(oe,he,Yt)}}for(let Gt=0;Gt<o;Gt++)for(let $t=0;$t<r.length-1;$t++){const Lt=$t+Gt*r.length,pe=Lt,ne=Lt+r.length,oe=Lt+r.length+1,he=Lt+1;w.push(pe,ne,he),w.push(oe,he,ne)}this.setIndex(w),this.setAttribute("position",new pn(B,3)),this.setAttribute("uv",new pn(k,2)),this.setAttribute("normal",new pn(H,3))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new i1(r.points,r.segments,r.phiStart,r.phiLength)}}class H3 extends i1{constructor(r=1,o=1,f=4,y=8){const w=new e1;w.absarc(0,-o/2,r,Math.PI*1.5,0),w.absarc(0,o/2,r,0,Math.PI*.5),super(w.getPoints(f),y),this.type="CapsuleGeometry",this.parameters={radius:r,length:o,capSegments:f,radialSegments:y}}static fromJSON(r){return new H3(r.radius,r.length,r.capSegments,r.radialSegments)}}class Q3 extends lr{constructor(r=1,o=32,f=0,y=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:r,segments:o,thetaStart:f,thetaLength:y},o=Math.max(3,o);const w=[],B=[],k=[],G=[],H=new ie,Z=new mi;B.push(0,0,0),k.push(0,0,1),G.push(.5,.5);for(let nt=0,rt=3;nt<=o;nt++,rt+=3){const at=f+nt/o*y;H.x=r*Math.cos(at),H.y=r*Math.sin(at),B.push(H.x,H.y,H.z),k.push(0,0,1),Z.x=(B[rt]/r+1)/2,Z.y=(B[rt+1]/r+1)/2,G.push(Z.x,Z.y)}for(let nt=1;nt<=o;nt++)w.push(nt,nt+1,0);this.setIndex(w),this.setAttribute("position",new pn(B,3)),this.setAttribute("normal",new pn(k,3)),this.setAttribute("uv",new pn(G,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new Q3(r.radius,r.segments,r.thetaStart,r.thetaLength)}}class Yd extends lr{constructor(r=1,o=1,f=1,y=32,w=1,B=!1,k=0,G=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:r,radiusBottom:o,height:f,radialSegments:y,heightSegments:w,openEnded:B,thetaStart:k,thetaLength:G};const H=this;y=Math.floor(y),w=Math.floor(w);const Z=[],nt=[],rt=[],at=[];let ct=0;const yt=[],ft=f/2;let st=0;Gt(),B===!1&&(r>0&&$t(!0),o>0&&$t(!1)),this.setIndex(Z),this.setAttribute("position",new pn(nt,3)),this.setAttribute("normal",new pn(rt,3)),this.setAttribute("uv",new pn(at,2));function Gt(){const Lt=new ie,pe=new ie;let ne=0;const oe=(o-r)/f;for(let he=0;he<=w;he++){const Yt=[],Wt=he/w,fe=Wt*(o-r)+r;for(let xe=0;xe<=y;xe++){const Ce=xe/y,Ie=Ce*G+k,Ke=Math.sin(Ie),hi=Math.cos(Ie);pe.x=fe*Ke,pe.y=-Wt*f+ft,pe.z=fe*hi,nt.push(pe.x,pe.y,pe.z),Lt.set(Ke,oe,hi).normalize(),rt.push(Lt.x,Lt.y,Lt.z),at.push(Ce,1-Wt),Yt.push(ct++)}yt.push(Yt)}for(let he=0;he<y;he++)for(let Yt=0;Yt<w;Yt++){const Wt=yt[Yt][he],fe=yt[Yt+1][he],xe=yt[Yt+1][he+1],Ce=yt[Yt][he+1];Z.push(Wt,fe,Ce),Z.push(fe,xe,Ce),ne+=6}H.addGroup(st,ne,0),st+=ne}function $t(Lt){const pe=ct,ne=new mi,oe=new ie;let he=0;const Yt=Lt===!0?r:o,Wt=Lt===!0?1:-1;for(let xe=1;xe<=y;xe++)nt.push(0,ft*Wt,0),rt.push(0,Wt,0),at.push(.5,.5),ct++;const fe=ct;for(let xe=0;xe<=y;xe++){const Ie=xe/y*G+k,Ke=Math.cos(Ie),hi=Math.sin(Ie);oe.x=Yt*hi,oe.y=ft*Wt,oe.z=Yt*Ke,nt.push(oe.x,oe.y,oe.z),rt.push(0,Wt,0),ne.x=Ke*.5+.5,ne.y=hi*.5*Wt+.5,at.push(ne.x,ne.y),ct++}for(let xe=0;xe<y;xe++){const Ce=pe+xe,Ie=fe+xe;Lt===!0?Z.push(Ie,Ie+1,Ce):Z.push(Ie+1,Ie,Ce),he+=3}H.addGroup(st,he,Lt===!0?1:2),st+=he}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new Yd(r.radiusTop,r.radiusBottom,r.height,r.radialSegments,r.heightSegments,r.openEnded,r.thetaStart,r.thetaLength)}}class z3 extends Yd{constructor(r=1,o=1,f=32,y=1,w=!1,B=0,k=Math.PI*2){super(0,r,o,f,y,w,B,k),this.type="ConeGeometry",this.parameters={radius:r,height:o,radialSegments:f,heightSegments:y,openEnded:w,thetaStart:B,thetaLength:k}}static fromJSON(r){return new z3(r.radius,r.height,r.radialSegments,r.heightSegments,r.openEnded,r.thetaStart,r.thetaLength)}}class ic extends lr{constructor(r=[],o=[],f=1,y=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:r,indices:o,radius:f,detail:y};const w=[],B=[];k(y),H(f),Z(),this.setAttribute("position",new pn(w,3)),this.setAttribute("normal",new pn(w.slice(),3)),this.setAttribute("uv",new pn(B,2)),y===0?this.computeVertexNormals():this.normalizeNormals();function k(Gt){const $t=new ie,Lt=new ie,pe=new ie;for(let ne=0;ne<o.length;ne+=3)at(o[ne+0],$t),at(o[ne+1],Lt),at(o[ne+2],pe),G($t,Lt,pe,Gt)}function G(Gt,$t,Lt,pe){const ne=pe+1,oe=[];for(let he=0;he<=ne;he++){oe[he]=[];const Yt=Gt.clone().lerp(Lt,he/ne),Wt=$t.clone().lerp(Lt,he/ne),fe=ne-he;for(let xe=0;xe<=fe;xe++)xe===0&&he===ne?oe[he][xe]=Yt:oe[he][xe]=Yt.clone().lerp(Wt,xe/fe)}for(let he=0;he<ne;he++)for(let Yt=0;Yt<2*(ne-he)-1;Yt++){const Wt=Math.floor(Yt/2);Yt%2===0?(rt(oe[he][Wt+1]),rt(oe[he+1][Wt]),rt(oe[he][Wt])):(rt(oe[he][Wt+1]),rt(oe[he+1][Wt+1]),rt(oe[he+1][Wt]))}}function H(Gt){const $t=new ie;for(let Lt=0;Lt<w.length;Lt+=3)$t.x=w[Lt+0],$t.y=w[Lt+1],$t.z=w[Lt+2],$t.normalize().multiplyScalar(Gt),w[Lt+0]=$t.x,w[Lt+1]=$t.y,w[Lt+2]=$t.z}function Z(){const Gt=new ie;for(let $t=0;$t<w.length;$t+=3){Gt.x=w[$t+0],Gt.y=w[$t+1],Gt.z=w[$t+2];const Lt=ft(Gt)/2/Math.PI+.5,pe=st(Gt)/Math.PI+.5;B.push(Lt,1-pe)}ct(),nt()}function nt(){for(let Gt=0;Gt<B.length;Gt+=6){const $t=B[Gt+0],Lt=B[Gt+2],pe=B[Gt+4],ne=Math.max($t,Lt,pe),oe=Math.min($t,Lt,pe);ne>.9&&oe<.1&&($t<.2&&(B[Gt+0]+=1),Lt<.2&&(B[Gt+2]+=1),pe<.2&&(B[Gt+4]+=1))}}function rt(Gt){w.push(Gt.x,Gt.y,Gt.z)}function at(Gt,$t){const Lt=Gt*3;$t.x=r[Lt+0],$t.y=r[Lt+1],$t.z=r[Lt+2]}function ct(){const Gt=new ie,$t=new ie,Lt=new ie,pe=new ie,ne=new mi,oe=new mi,he=new mi;for(let Yt=0,Wt=0;Yt<w.length;Yt+=9,Wt+=6){Gt.set(w[Yt+0],w[Yt+1],w[Yt+2]),$t.set(w[Yt+3],w[Yt+4],w[Yt+5]),Lt.set(w[Yt+6],w[Yt+7],w[Yt+8]),ne.set(B[Wt+0],B[Wt+1]),oe.set(B[Wt+2],B[Wt+3]),he.set(B[Wt+4],B[Wt+5]),pe.copy(Gt).add($t).add(Lt).divideScalar(3);const fe=ft(pe);yt(ne,Wt+0,Gt,fe),yt(oe,Wt+2,$t,fe),yt(he,Wt+4,Lt,fe)}}function yt(Gt,$t,Lt,pe){pe<0&&Gt.x===1&&(B[$t]=Gt.x-1),Lt.x===0&&Lt.z===0&&(B[$t]=pe/2/Math.PI+.5)}function ft(Gt){return Math.atan2(Gt.z,-Gt.x)}function st(Gt){return Math.atan2(-Gt.y,Math.sqrt(Gt.x*Gt.x+Gt.z*Gt.z))}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new ic(r.vertices,r.indices,r.radius,r.details)}}class j3 extends ic{constructor(r=1,o=0){const f=(1+Math.sqrt(5))/2,y=1/f,w=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-y,-f,0,-y,f,0,y,-f,0,y,f,-y,-f,0,-y,f,0,y,-f,0,y,f,0,-f,0,-y,f,0,-y,-f,0,y,f,0,y],B=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(w,B,r,o),this.type="DodecahedronGeometry",this.parameters={radius:r,detail:o}}static fromJSON(r){return new j3(r.radius,r.detail)}}const J3=new ie,W3=new ie,w7=new ie,q3=new $s;class FC extends lr{constructor(r=null,o=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:r,thresholdAngle:o},r!==null){const y=Math.pow(10,4),w=Math.cos(Qo*o),B=r.getIndex(),k=r.getAttribute("position"),G=B?B.count:k.count,H=[0,0,0],Z=["a","b","c"],nt=new Array(3),rt={},at=[];for(let ct=0;ct<G;ct+=3){B?(H[0]=B.getX(ct),H[1]=B.getX(ct+1),H[2]=B.getX(ct+2)):(H[0]=ct,H[1]=ct+1,H[2]=ct+2);const{a:yt,b:ft,c:st}=q3;if(yt.fromBufferAttribute(k,H[0]),ft.fromBufferAttribute(k,H[1]),st.fromBufferAttribute(k,H[2]),q3.getNormal(w7),nt[0]=`${Math.round(yt.x*y)},${Math.round(yt.y*y)},${Math.round(yt.z*y)}`,nt[1]=`${Math.round(ft.x*y)},${Math.round(ft.y*y)},${Math.round(ft.z*y)}`,nt[2]=`${Math.round(st.x*y)},${Math.round(st.y*y)},${Math.round(st.z*y)}`,!(nt[0]===nt[1]||nt[1]===nt[2]||nt[2]===nt[0]))for(let Gt=0;Gt<3;Gt++){const $t=(Gt+1)%3,Lt=nt[Gt],pe=nt[$t],ne=q3[Z[Gt]],oe=q3[Z[$t]],he=`${Lt}_${pe}`,Yt=`${pe}_${Lt}`;Yt in rt&&rt[Yt]?(w7.dot(rt[Yt].normal)<=w&&(at.push(ne.x,ne.y,ne.z),at.push(oe.x,oe.y,oe.z)),rt[Yt]=null):he in rt||(rt[he]={index0:H[Gt],index1:H[$t],normal:w7.clone()})}}for(const ct in rt)if(rt[ct]){const{index0:yt,index1:ft}=rt[ct];J3.fromBufferAttribute(k,yt),W3.fromBufferAttribute(k,ft),at.push(J3.x,J3.y,J3.z),at.push(W3.x,W3.y,W3.z)}this.setAttribute("position",new pn(at,3))}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}}class yu extends e1{constructor(r){super(r),this.uuid=rs(),this.type="Shape",this.holes=[]}getPointsHoles(r){const o=[];for(let f=0,y=this.holes.length;f<y;f++)o[f]=this.holes[f].getPoints(r);return o}extractPoints(r){return{shape:this.getPoints(r),holes:this.getPointsHoles(r)}}copy(r){super.copy(r),this.holes=[];for(let o=0,f=r.holes.length;o<f;o++){const y=r.holes[o];this.holes.push(y.clone())}return this}toJSON(){const r=super.toJSON();r.uuid=this.uuid,r.holes=[];for(let o=0,f=this.holes.length;o<f;o++){const y=this.holes[o];r.holes.push(y.toJSON())}return r}fromJSON(r){super.fromJSON(r),this.uuid=r.uuid,this.holes=[];for(let o=0,f=r.holes.length;o<f;o++){const y=r.holes[o];this.holes.push(new e1().fromJSON(y))}return this}}const $Q={triangulate:function(S,r,o=2){const f=r&&r.length,y=f?r[0]*o:S.length;let w=UC(S,0,y,o,!0);const B=[];if(!w||w.next===w.prev)return B;let k,G,H,Z,nt,rt,at;if(f&&(w=zQ(S,r,w,o)),S.length>80*o){k=H=S[0],G=Z=S[1];for(let ct=o;ct<y;ct+=o)nt=S[ct],rt=S[ct+1],nt<k&&(k=nt),rt<G&&(G=rt),nt>H&&(H=nt),rt>Z&&(Z=rt);at=Math.max(H-k,Z-G),at=at!==0?32767/at:0}return n1(w,B,o,k,G,at,0),B}};function UC(S,r,o,f,y){let w,B;if(y===iz(S,r,o,f)>0)for(w=r;w<o;w+=f)B=VC(w,S[w],S[w+1],B);else for(w=o-f;w>=r;w-=f)B=VC(w,S[w],S[w+1],B);return B&&K3(B,B.next)&&(a1(B),B=B.next),B}function vu(S,r){if(!S)return S;r||(r=S);let o=S,f;do if(f=!1,!o.steiner&&(K3(o,o.next)||Ia(o.prev,o,o.next)===0)){if(a1(o),o=r=o.prev,o===o.next)break;f=!0}else o=o.next;while(f||o!==r);return r}function n1(S,r,o,f,y,w,B){if(!S)return;!B&&w&&KQ(S,f,y,w);let k=S,G,H;for(;S.prev!==S.next;){if(G=S.prev,H=S.next,w?VQ(S,f,y,w):GQ(S)){r.push(G.i/o|0),r.push(S.i/o|0),r.push(H.i/o|0),a1(S),S=H.next,k=H.next;continue}if(S=H,S===k){B?B===1?(S=HQ(vu(S),r,o),n1(S,r,o,f,y,w,2)):B===2&&QQ(S,r,o,f,y,w):n1(vu(S),r,o,f,y,w,1);break}}}function GQ(S){const r=S.prev,o=S,f=S.next;if(Ia(r,o,f)>=0)return!1;const y=r.x,w=o.x,B=f.x,k=r.y,G=o.y,H=f.y,Z=y<w?y<B?y:B:w<B?w:B,nt=k<G?k<H?k:H:G<H?G:H,rt=y>w?y>B?y:B:w>B?w:B,at=k>G?k>H?k:H:G>H?G:H;let ct=f.next;for(;ct!==r;){if(ct.x>=Z&&ct.x<=rt&&ct.y>=nt&&ct.y<=at&&Zd(y,k,w,G,B,H,ct.x,ct.y)&&Ia(ct.prev,ct,ct.next)>=0)return!1;ct=ct.next}return!0}function VQ(S,r,o,f){const y=S.prev,w=S,B=S.next;if(Ia(y,w,B)>=0)return!1;const k=y.x,G=w.x,H=B.x,Z=y.y,nt=w.y,rt=B.y,at=k<G?k<H?k:H:G<H?G:H,ct=Z<nt?Z<rt?Z:rt:nt<rt?nt:rt,yt=k>G?k>H?k:H:G>H?G:H,ft=Z>nt?Z>rt?Z:rt:nt>rt?nt:rt,st=O7(at,ct,r,o,f),Gt=O7(yt,ft,r,o,f);let $t=S.prevZ,Lt=S.nextZ;for(;$t&&$t.z>=st&&Lt&&Lt.z<=Gt;){if($t.x>=at&&$t.x<=yt&&$t.y>=ct&&$t.y<=ft&&$t!==y&&$t!==B&&Zd(k,Z,G,nt,H,rt,$t.x,$t.y)&&Ia($t.prev,$t,$t.next)>=0||($t=$t.prevZ,Lt.x>=at&&Lt.x<=yt&&Lt.y>=ct&&Lt.y<=ft&&Lt!==y&&Lt!==B&&Zd(k,Z,G,nt,H,rt,Lt.x,Lt.y)&&Ia(Lt.prev,Lt,Lt.next)>=0))return!1;Lt=Lt.nextZ}for(;$t&&$t.z>=st;){if($t.x>=at&&$t.x<=yt&&$t.y>=ct&&$t.y<=ft&&$t!==y&&$t!==B&&Zd(k,Z,G,nt,H,rt,$t.x,$t.y)&&Ia($t.prev,$t,$t.next)>=0)return!1;$t=$t.prevZ}for(;Lt&&Lt.z<=Gt;){if(Lt.x>=at&&Lt.x<=yt&&Lt.y>=ct&&Lt.y<=ft&&Lt!==y&&Lt!==B&&Zd(k,Z,G,nt,H,rt,Lt.x,Lt.y)&&Ia(Lt.prev,Lt,Lt.next)>=0)return!1;Lt=Lt.nextZ}return!0}function HQ(S,r,o){let f=S;do{const y=f.prev,w=f.next.next;!K3(y,w)&&$C(y,f,f.next,w)&&r1(y,w)&&r1(w,y)&&(r.push(y.i/o|0),r.push(f.i/o|0),r.push(w.i/o|0),a1(f),a1(f.next),f=S=w),f=f.next}while(f!==S);return vu(f)}function QQ(S,r,o,f,y,w){let B=S;do{let k=B.next.next;for(;k!==B.prev;){if(B.i!==k.i&&ZQ(B,k)){let G=GC(B,k);B=vu(B,B.next),G=vu(G,G.next),n1(B,r,o,f,y,w,0),n1(G,r,o,f,y,w,0);return}k=k.next}B=B.next}while(B!==S)}function zQ(S,r,o,f){const y=[];let w,B,k,G,H;for(w=0,B=r.length;w<B;w++)k=r[w]*f,G=w<B-1?r[w+1]*f:S.length,H=UC(S,k,G,f,!1),H===H.next&&(H.steiner=!0),y.push(YQ(H));for(y.sort(jQ),w=0;w<y.length;w++)o=JQ(y[w],o);return o}function jQ(S,r){return S.x-r.x}function JQ(S,r){const o=WQ(S,r);if(!o)return r;const f=GC(o,S);return vu(f,f.next),vu(o,o.next)}function WQ(S,r){let o=r,f=-1/0,y;const w=S.x,B=S.y;do{if(B<=o.y&&B>=o.next.y&&o.next.y!==o.y){const rt=o.x+(B-o.y)*(o.next.x-o.x)/(o.next.y-o.y);if(rt<=w&&rt>f&&(f=rt,y=o.x<o.next.x?o:o.next,rt===w))return y}o=o.next}while(o!==r);if(!y)return null;const k=y,G=y.x,H=y.y;let Z=1/0,nt;o=y;do w>=o.x&&o.x>=G&&w!==o.x&&Zd(B<H?w:f,B,G,H,B<H?f:w,B,o.x,o.y)&&(nt=Math.abs(B-o.y)/(w-o.x),r1(o,S)&&(nt<Z||nt===Z&&(o.x>y.x||o.x===y.x&&qQ(y,o)))&&(y=o,Z=nt)),o=o.next;while(o!==k);return y}function qQ(S,r){return Ia(S.prev,S,r.prev)<0&&Ia(r.next,S,S.next)<0}function KQ(S,r,o,f){let y=S;do y.z===0&&(y.z=O7(y.x,y.y,r,o,f)),y.prevZ=y.prev,y.nextZ=y.next,y=y.next;while(y!==S);y.prevZ.nextZ=null,y.prevZ=null,XQ(y)}function XQ(S){let r,o,f,y,w,B,k,G,H=1;do{for(o=S,S=null,w=null,B=0;o;){for(B++,f=o,k=0,r=0;r<H&&(k++,f=f.nextZ,!!f);r++);for(G=H;k>0||G>0&&f;)k!==0&&(G===0||!f||o.z<=f.z)?(y=o,o=o.nextZ,k--):(y=f,f=f.nextZ,G--),w?w.nextZ=y:S=y,y.prevZ=w,w=y;o=f}w.nextZ=null,H*=2}while(B>1);return S}function O7(S,r,o,f,y){return S=(S-o)*y|0,r=(r-f)*y|0,S=(S|S<<8)&16711935,S=(S|S<<4)&252645135,S=(S|S<<2)&858993459,S=(S|S<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,S|r<<1}function YQ(S){let r=S,o=S;do(r.x<o.x||r.x===o.x&&r.y<o.y)&&(o=r),r=r.next;while(r!==S);return o}function Zd(S,r,o,f,y,w,B,k){return(y-B)*(r-k)>=(S-B)*(w-k)&&(S-B)*(f-k)>=(o-B)*(r-k)&&(o-B)*(w-k)>=(y-B)*(f-k)}function ZQ(S,r){return S.next.i!==r.i&&S.prev.i!==r.i&&!tz(S,r)&&(r1(S,r)&&r1(r,S)&&ez(S,r)&&(Ia(S.prev,S,r.prev)||Ia(S,r.prev,r))||K3(S,r)&&Ia(S.prev,S,S.next)>0&&Ia(r.prev,r,r.next)>0)}function Ia(S,r,o){return(r.y-S.y)*(o.x-r.x)-(r.x-S.x)*(o.y-r.y)}function K3(S,r){return S.x===r.x&&S.y===r.y}function $C(S,r,o,f){const y=Y3(Ia(S,r,o)),w=Y3(Ia(S,r,f)),B=Y3(Ia(o,f,S)),k=Y3(Ia(o,f,r));return!!(y!==w&&B!==k||y===0&&X3(S,o,r)||w===0&&X3(S,f,r)||B===0&&X3(o,S,f)||k===0&&X3(o,r,f))}function X3(S,r,o){return r.x<=Math.max(S.x,o.x)&&r.x>=Math.min(S.x,o.x)&&r.y<=Math.max(S.y,o.y)&&r.y>=Math.min(S.y,o.y)}function Y3(S){return S>0?1:S<0?-1:0}function tz(S,r){let o=S;do{if(o.i!==S.i&&o.next.i!==S.i&&o.i!==r.i&&o.next.i!==r.i&&$C(o,o.next,S,r))return!0;o=o.next}while(o!==S);return!1}function r1(S,r){return Ia(S.prev,S,S.next)<0?Ia(S,r,S.next)>=0&&Ia(S,S.prev,r)>=0:Ia(S,r,S.prev)<0||Ia(S,S.next,r)<0}function ez(S,r){let o=S,f=!1;const y=(S.x+r.x)/2,w=(S.y+r.y)/2;do o.y>w!=o.next.y>w&&o.next.y!==o.y&&y<(o.next.x-o.x)*(w-o.y)/(o.next.y-o.y)+o.x&&(f=!f),o=o.next;while(o!==S);return f}function GC(S,r){const o=new x7(S.i,S.x,S.y),f=new x7(r.i,r.x,r.y),y=S.next,w=r.prev;return S.next=r,r.prev=S,o.next=y,y.prev=o,f.next=o,o.prev=f,w.next=f,f.prev=w,f}function VC(S,r,o,f){const y=new x7(S,r,o);return f?(y.next=f.next,y.prev=f,f.next.prev=y,f.next=y):(y.prev=y,y.next=y),y}function a1(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function x7(S,r,o){this.i=S,this.x=r,this.y=o,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function iz(S,r,o,f){let y=0;for(let w=r,B=o-f;w<o;w+=f)y+=(S[B]-S[w])*(S[w+1]+S[B+1]),B=w;return y}class lo{static area(r){const o=r.length;let f=0;for(let y=o-1,w=0;w<o;y=w++)f+=r[y].x*r[w].y-r[w].x*r[y].y;return f*.5}static isClockWise(r){return lo.area(r)<0}static triangulateShape(r,o){const f=[],y=[],w=[];HC(r),QC(f,r);let B=r.length;o.forEach(HC);for(let G=0;G<o.length;G++)y.push(B),B+=o[G].length,QC(f,o[G]);const k=$Q.triangulate(f,y);for(let G=0;G<k.length;G+=3)w.push(k.slice(G,G+3));return w}}function HC(S){const r=S.length;r>2&&S[r-1].equals(S[0])&&S.pop()}function QC(S,r){for(let o=0;o<r.length;o++)S.push(r[o].x),S.push(r[o].y)}class Z3 extends lr{constructor(r=new yu([new mi(.5,.5),new mi(-.5,.5),new mi(-.5,-.5),new mi(.5,-.5)]),o={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:r,options:o},r=Array.isArray(r)?r:[r];const f=this,y=[],w=[];for(let k=0,G=r.length;k<G;k++){const H=r[k];B(H)}this.setAttribute("position",new pn(y,3)),this.setAttribute("uv",new pn(w,2)),this.computeVertexNormals();function B(k){const G=[],H=o.curveSegments!==void 0?o.curveSegments:12,Z=o.steps!==void 0?o.steps:1,nt=o.depth!==void 0?o.depth:1;let rt=o.bevelEnabled!==void 0?o.bevelEnabled:!0,at=o.bevelThickness!==void 0?o.bevelThickness:.2,ct=o.bevelSize!==void 0?o.bevelSize:at-.1,yt=o.bevelOffset!==void 0?o.bevelOffset:0,ft=o.bevelSegments!==void 0?o.bevelSegments:3;const st=o.extrudePath,Gt=o.UVGenerator!==void 0?o.UVGenerator:nz;let $t,Lt=!1,pe,ne,oe,he;st&&($t=st.getSpacedPoints(Z),Lt=!0,rt=!1,pe=st.computeFrenetFrames(Z,!1),ne=new ie,oe=new ie,he=new ie),rt||(ft=0,at=0,ct=0,yt=0);const Yt=k.extractPoints(H);let Wt=Yt.shape;const fe=Yt.holes;if(!lo.isClockWise(Wt)){Wt=Wt.reverse();for(let Mi=0,li=fe.length;Mi<li;Mi++){const Si=fe[Mi];lo.isClockWise(Si)&&(fe[Mi]=Si.reverse())}}const Ce=lo.triangulateShape(Wt,fe),Ie=Wt;for(let Mi=0,li=fe.length;Mi<li;Mi++){const Si=fe[Mi];Wt=Wt.concat(Si)}function Ke(Mi,li,Si){return li||console.error("THREE.ExtrudeGeometry: vec does not exist"),Mi.clone().addScaledVector(li,Si)}const hi=Wt.length,Li=Ce.length;function ti(Mi,li,Si){let xi,_i,Qi;const rn=Mi.x-li.x,Nn=Mi.y-li.y,Qn=Si.x-Mi.x,Pr=Si.y-Mi.y,Ba=rn*rn+Nn*Nn,fa=rn*Pr-Nn*Qn;if(Math.abs(fa)>Number.EPSILON){const de=Math.sqrt(Ba),qt=Math.sqrt(Qn*Qn+Pr*Pr),ri=li.x-Nn/de,pi=li.y+rn/de,vi=Si.x-Pr/qt,Ai=Si.y+Qn/qt,gn=((vi-ri)*Pr-(Ai-pi)*Qn)/(rn*Pr-Nn*Qn);xi=ri+rn*gn-Mi.x,_i=pi+Nn*gn-Mi.y;const ki=xi*xi+_i*_i;if(ki<=2)return new mi(xi,_i);Qi=Math.sqrt(ki/2)}else{let de=!1;rn>Number.EPSILON?Qn>Number.EPSILON&&(de=!0):rn<-Number.EPSILON?Qn<-Number.EPSILON&&(de=!0):Math.sign(Nn)===Math.sign(Pr)&&(de=!0),de?(xi=-Nn,_i=rn,Qi=Math.sqrt(Ba)):(xi=rn,_i=Nn,Qi=Math.sqrt(Ba/2))}return new mi(xi/Qi,_i/Qi)}const Ti=[];for(let Mi=0,li=Ie.length,Si=li-1,xi=Mi+1;Mi<li;Mi++,Si++,xi++)Si===li&&(Si=0),xi===li&&(xi=0),Ti[Mi]=ti(Ie[Mi],Ie[Si],Ie[xi]);const Bi=[];let hn,cr=Ti.concat();for(let Mi=0,li=fe.length;Mi<li;Mi++){const Si=fe[Mi];hn=[];for(let xi=0,_i=Si.length,Qi=_i-1,rn=xi+1;xi<_i;xi++,Qi++,rn++)Qi===_i&&(Qi=0),rn===_i&&(rn=0),hn[xi]=ti(Si[xi],Si[Qi],Si[rn]);Bi.push(hn),cr=cr.concat(hn)}for(let Mi=0;Mi<ft;Mi++){const li=Mi/ft,Si=at*Math.cos(li*Math.PI/2),xi=ct*Math.sin(li*Math.PI/2)+yt;for(let _i=0,Qi=Ie.length;_i<Qi;_i++){const rn=Ke(Ie[_i],Ti[_i],xi);mn(rn.x,rn.y,-Si)}for(let _i=0,Qi=fe.length;_i<Qi;_i++){const rn=fe[_i];hn=Bi[_i];for(let Nn=0,Qn=rn.length;Nn<Qn;Nn++){const Pr=Ke(rn[Nn],hn[Nn],xi);mn(Pr.x,Pr.y,-Si)}}}const Fr=ct+yt;for(let Mi=0;Mi<hi;Mi++){const li=rt?Ke(Wt[Mi],cr[Mi],Fr):Wt[Mi];Lt?(oe.copy(pe.normals[0]).multiplyScalar(li.x),ne.copy(pe.binormals[0]).multiplyScalar(li.y),he.copy($t[0]).add(oe).add(ne),mn(he.x,he.y,he.z)):mn(li.x,li.y,0)}for(let Mi=1;Mi<=Z;Mi++)for(let li=0;li<hi;li++){const Si=rt?Ke(Wt[li],cr[li],Fr):Wt[li];Lt?(oe.copy(pe.normals[Mi]).multiplyScalar(Si.x),ne.copy(pe.binormals[Mi]).multiplyScalar(Si.y),he.copy($t[Mi]).add(oe).add(ne),mn(he.x,he.y,he.z)):mn(Si.x,Si.y,nt/Z*Mi)}for(let Mi=ft-1;Mi>=0;Mi--){const li=Mi/ft,Si=at*Math.cos(li*Math.PI/2),xi=ct*Math.sin(li*Math.PI/2)+yt;for(let _i=0,Qi=Ie.length;_i<Qi;_i++){const rn=Ke(Ie[_i],Ti[_i],xi);mn(rn.x,rn.y,nt+Si)}for(let _i=0,Qi=fe.length;_i<Qi;_i++){const rn=fe[_i];hn=Bi[_i];for(let Nn=0,Qn=rn.length;Nn<Qn;Nn++){const Pr=Ke(rn[Nn],hn[Nn],xi);Lt?mn(Pr.x,Pr.y+$t[Z-1].y,$t[Z-1].x+Si):mn(Pr.x,Pr.y,nt+Si)}}}ha(),Dr();function ha(){const Mi=y.length/3;if(rt){let li=0,Si=hi*li;for(let xi=0;xi<Li;xi++){const _i=Ce[xi];gi(_i[2]+Si,_i[1]+Si,_i[0]+Si)}li=Z+ft*2,Si=hi*li;for(let xi=0;xi<Li;xi++){const _i=Ce[xi];gi(_i[0]+Si,_i[1]+Si,_i[2]+Si)}}else{for(let li=0;li<Li;li++){const Si=Ce[li];gi(Si[2],Si[1],Si[0])}for(let li=0;li<Li;li++){const Si=Ce[li];gi(Si[0]+hi*Z,Si[1]+hi*Z,Si[2]+hi*Z)}}f.addGroup(Mi,y.length/3-Mi,0)}function Dr(){const Mi=y.length/3;let li=0;Zr(Ie,li),li+=Ie.length;for(let Si=0,xi=fe.length;Si<xi;Si++){const _i=fe[Si];Zr(_i,li),li+=_i.length}f.addGroup(Mi,y.length/3-Mi,1)}function Zr(Mi,li){let Si=Mi.length;for(;--Si>=0;){const xi=Si;let _i=Si-1;_i<0&&(_i=Mi.length-1);for(let Qi=0,rn=Z+ft*2;Qi<rn;Qi++){const Nn=hi*Qi,Qn=hi*(Qi+1),Pr=li+xi+Nn,Ba=li+_i+Nn,fa=li+_i+Qn,de=li+xi+Qn;Ni(Pr,Ba,fa,de)}}}function mn(Mi,li,Si){G.push(Mi),G.push(li),G.push(Si)}function gi(Mi,li,Si){Gi(Mi),Gi(li),Gi(Si);const xi=y.length/3,_i=Gt.generateTopUV(f,y,xi-3,xi-2,xi-1);Be(_i[0]),Be(_i[1]),Be(_i[2])}function Ni(Mi,li,Si,xi){Gi(Mi),Gi(li),Gi(xi),Gi(li),Gi(Si),Gi(xi);const _i=y.length/3,Qi=Gt.generateSideWallUV(f,y,_i-6,_i-3,_i-2,_i-1);Be(Qi[0]),Be(Qi[1]),Be(Qi[3]),Be(Qi[1]),Be(Qi[2]),Be(Qi[3])}function Gi(Mi){y.push(G[Mi*3+0]),y.push(G[Mi*3+1]),y.push(G[Mi*3+2])}function Be(Mi){w.push(Mi.x),w.push(Mi.y)}}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}toJSON(){const r=super.toJSON(),o=this.parameters.shapes,f=this.parameters.options;return rz(o,f,r)}static fromJSON(r,o){const f=[];for(let w=0,B=r.shapes.length;w<B;w++){const k=o[r.shapes[w]];f.push(k)}const y=r.options.extrudePath;return y!==void 0&&(r.options.extrudePath=new V3[y.type]().fromJSON(y)),new Z3(f,r.options)}}const nz={generateTopUV:function(S,r,o,f,y){const w=r[o*3],B=r[o*3+1],k=r[f*3],G=r[f*3+1],H=r[y*3],Z=r[y*3+1];return[new mi(w,B),new mi(k,G),new mi(H,Z)]},generateSideWallUV:function(S,r,o,f,y,w){const B=r[o*3],k=r[o*3+1],G=r[o*3+2],H=r[f*3],Z=r[f*3+1],nt=r[f*3+2],rt=r[y*3],at=r[y*3+1],ct=r[y*3+2],yt=r[w*3],ft=r[w*3+1],st=r[w*3+2];return Math.abs(k-Z)<Math.abs(B-H)?[new mi(B,1-G),new mi(H,1-nt),new mi(rt,1-ct),new mi(yt,1-st)]:[new mi(k,1-G),new mi(Z,1-nt),new mi(at,1-ct),new mi(ft,1-st)]}};function rz(S,r,o){if(o.shapes=[],Array.isArray(S))for(let f=0,y=S.length;f<y;f++){const w=S[f];o.shapes.push(w.uuid)}else o.shapes.push(S.uuid);return o.options=Object.assign({},r),r.extrudePath!==void 0&&(o.options.extrudePath=r.extrudePath.toJSON()),o}class t4 extends ic{constructor(r=1,o=0){const f=(1+Math.sqrt(5))/2,y=[-1,f,0,1,f,0,-1,-f,0,1,-f,0,0,-1,f,0,1,f,0,-1,-f,0,1,-f,f,0,-1,f,0,1,-f,0,-1,-f,0,1],w=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(y,w,r,o),this.type="IcosahedronGeometry",this.parameters={radius:r,detail:o}}static fromJSON(r){return new t4(r.radius,r.detail)}}class s1 extends ic{constructor(r=1,o=0){const f=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],y=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(f,y,r,o),this.type="OctahedronGeometry",this.parameters={radius:r,detail:o}}static fromJSON(r){return new s1(r.radius,r.detail)}}class e4 extends lr{constructor(r=.5,o=1,f=32,y=1,w=0,B=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:r,outerRadius:o,thetaSegments:f,phiSegments:y,thetaStart:w,thetaLength:B},f=Math.max(3,f),y=Math.max(1,y);const k=[],G=[],H=[],Z=[];let nt=r;const rt=(o-r)/y,at=new ie,ct=new mi;for(let yt=0;yt<=y;yt++){for(let ft=0;ft<=f;ft++){const st=w+ft/f*B;at.x=nt*Math.cos(st),at.y=nt*Math.sin(st),G.push(at.x,at.y,at.z),H.push(0,0,1),ct.x=(at.x/o+1)/2,ct.y=(at.y/o+1)/2,Z.push(ct.x,ct.y)}nt+=rt}for(let yt=0;yt<y;yt++){const ft=yt*(f+1);for(let st=0;st<f;st++){const Gt=st+ft,$t=Gt,Lt=Gt+f+1,pe=Gt+f+2,ne=Gt+1;k.push($t,Lt,ne),k.push(Lt,pe,ne)}}this.setIndex(k),this.setAttribute("position",new pn(G,3)),this.setAttribute("normal",new pn(H,3)),this.setAttribute("uv",new pn(Z,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new e4(r.innerRadius,r.outerRadius,r.thetaSegments,r.phiSegments,r.thetaStart,r.thetaLength)}}class i4 extends lr{constructor(r=new yu([new mi(0,.5),new mi(-.5,-.5),new mi(.5,-.5)]),o=12){super(),this.type="ShapeGeometry",this.parameters={shapes:r,curveSegments:o};const f=[],y=[],w=[],B=[];let k=0,G=0;if(Array.isArray(r)===!1)H(r);else for(let Z=0;Z<r.length;Z++)H(r[Z]),this.addGroup(k,G,Z),k+=G,G=0;this.setIndex(f),this.setAttribute("position",new pn(y,3)),this.setAttribute("normal",new pn(w,3)),this.setAttribute("uv",new pn(B,2));function H(Z){const nt=y.length/3,rt=Z.extractPoints(o);let at=rt.shape;const ct=rt.holes;lo.isClockWise(at)===!1&&(at=at.reverse());for(let ft=0,st=ct.length;ft<st;ft++){const Gt=ct[ft];lo.isClockWise(Gt)===!0&&(ct[ft]=Gt.reverse())}const yt=lo.triangulateShape(at,ct);for(let ft=0,st=ct.length;ft<st;ft++){const Gt=ct[ft];at=at.concat(Gt)}for(let ft=0,st=at.length;ft<st;ft++){const Gt=at[ft];y.push(Gt.x,Gt.y,0),w.push(0,0,1),B.push(Gt.x,Gt.y)}for(let ft=0,st=yt.length;ft<st;ft++){const Gt=yt[ft],$t=Gt[0]+nt,Lt=Gt[1]+nt,pe=Gt[2]+nt;f.push($t,Lt,pe),G+=3}}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}toJSON(){const r=super.toJSON(),o=this.parameters.shapes;return az(o,r)}static fromJSON(r,o){const f=[];for(let y=0,w=r.shapes.length;y<w;y++){const B=o[r.shapes[y]];f.push(B)}return new i4(f,r.curveSegments)}}function az(S,r){if(r.shapes=[],Array.isArray(S))for(let o=0,f=S.length;o<f;o++){const y=S[o];r.shapes.push(y.uuid)}else r.shapes.push(S.uuid);return r}class o1 extends lr{constructor(r=1,o=32,f=16,y=0,w=Math.PI*2,B=0,k=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:r,widthSegments:o,heightSegments:f,phiStart:y,phiLength:w,thetaStart:B,thetaLength:k},o=Math.max(3,Math.floor(o)),f=Math.max(2,Math.floor(f));const G=Math.min(B+k,Math.PI);let H=0;const Z=[],nt=new ie,rt=new ie,at=[],ct=[],yt=[],ft=[];for(let st=0;st<=f;st++){const Gt=[],$t=st/f;let Lt=0;st===0&&B===0?Lt=.5/o:st===f&&G===Math.PI&&(Lt=-.5/o);for(let pe=0;pe<=o;pe++){const ne=pe/o;nt.x=-r*Math.cos(y+ne*w)*Math.sin(B+$t*k),nt.y=r*Math.cos(B+$t*k),nt.z=r*Math.sin(y+ne*w)*Math.sin(B+$t*k),ct.push(nt.x,nt.y,nt.z),rt.copy(nt).normalize(),yt.push(rt.x,rt.y,rt.z),ft.push(ne+Lt,1-$t),Gt.push(H++)}Z.push(Gt)}for(let st=0;st<f;st++)for(let Gt=0;Gt<o;Gt++){const $t=Z[st][Gt+1],Lt=Z[st][Gt],pe=Z[st+1][Gt],ne=Z[st+1][Gt+1];(st!==0||B>0)&&at.push($t,Lt,ne),(st!==f-1||G<Math.PI)&&at.push(Lt,pe,ne)}this.setIndex(at),this.setAttribute("position",new pn(ct,3)),this.setAttribute("normal",new pn(yt,3)),this.setAttribute("uv",new pn(ft,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new o1(r.radius,r.widthSegments,r.heightSegments,r.phiStart,r.phiLength,r.thetaStart,r.thetaLength)}}class n4 extends ic{constructor(r=1,o=0){const f=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],y=[2,1,0,0,3,2,1,3,0,2,3,1];super(f,y,r,o),this.type="TetrahedronGeometry",this.parameters={radius:r,detail:o}}static fromJSON(r){return new n4(r.radius,r.detail)}}class r4 extends lr{constructor(r=1,o=.4,f=12,y=48,w=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:r,tube:o,radialSegments:f,tubularSegments:y,arc:w},f=Math.floor(f),y=Math.floor(y);const B=[],k=[],G=[],H=[],Z=new ie,nt=new ie,rt=new ie;for(let at=0;at<=f;at++)for(let ct=0;ct<=y;ct++){const yt=ct/y*w,ft=at/f*Math.PI*2;nt.x=(r+o*Math.cos(ft))*Math.cos(yt),nt.y=(r+o*Math.cos(ft))*Math.sin(yt),nt.z=o*Math.sin(ft),k.push(nt.x,nt.y,nt.z),Z.x=r*Math.cos(yt),Z.y=r*Math.sin(yt),rt.subVectors(nt,Z).normalize(),G.push(rt.x,rt.y,rt.z),H.push(ct/y),H.push(at/f)}for(let at=1;at<=f;at++)for(let ct=1;ct<=y;ct++){const yt=(y+1)*at+ct-1,ft=(y+1)*(at-1)+ct-1,st=(y+1)*(at-1)+ct,Gt=(y+1)*at+ct;B.push(yt,ft,Gt),B.push(ft,st,Gt)}this.setIndex(B),this.setAttribute("position",new pn(k,3)),this.setAttribute("normal",new pn(G,3)),this.setAttribute("uv",new pn(H,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new r4(r.radius,r.tube,r.radialSegments,r.tubularSegments,r.arc)}}class a4 extends lr{constructor(r=1,o=.4,f=64,y=8,w=2,B=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:r,tube:o,tubularSegments:f,radialSegments:y,p:w,q:B},f=Math.floor(f),y=Math.floor(y);const k=[],G=[],H=[],Z=[],nt=new ie,rt=new ie,at=new ie,ct=new ie,yt=new ie,ft=new ie,st=new ie;for(let $t=0;$t<=f;++$t){const Lt=$t/f*w*Math.PI*2;Gt(Lt,w,B,r,at),Gt(Lt+.01,w,B,r,ct),ft.subVectors(ct,at),st.addVectors(ct,at),yt.crossVectors(ft,st),st.crossVectors(yt,ft),yt.normalize(),st.normalize();for(let pe=0;pe<=y;++pe){const ne=pe/y*Math.PI*2,oe=-o*Math.cos(ne),he=o*Math.sin(ne);nt.x=at.x+(oe*st.x+he*yt.x),nt.y=at.y+(oe*st.y+he*yt.y),nt.z=at.z+(oe*st.z+he*yt.z),G.push(nt.x,nt.y,nt.z),rt.subVectors(nt,at).normalize(),H.push(rt.x,rt.y,rt.z),Z.push($t/f),Z.push(pe/y)}}for(let $t=1;$t<=f;$t++)for(let Lt=1;Lt<=y;Lt++){const pe=(y+1)*($t-1)+(Lt-1),ne=(y+1)*$t+(Lt-1),oe=(y+1)*$t+Lt,he=(y+1)*($t-1)+Lt;k.push(pe,ne,he),k.push(ne,oe,he)}this.setIndex(k),this.setAttribute("position",new pn(G,3)),this.setAttribute("normal",new pn(H,3)),this.setAttribute("uv",new pn(Z,2));function Gt($t,Lt,pe,ne,oe){const he=Math.cos($t),Yt=Math.sin($t),Wt=pe/Lt*$t,fe=Math.cos(Wt);oe.x=ne*(2+fe)*.5*he,oe.y=ne*(2+fe)*Yt*.5,oe.z=ne*Math.sin(Wt)*.5}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new a4(r.radius,r.tube,r.tubularSegments,r.radialSegments,r.p,r.q)}}class s4 extends lr{constructor(r=new _7(new ie(-1,-1,0),new ie(-1,1,0),new ie(1,1,0)),o=64,f=1,y=8,w=!1){super(),this.type="TubeGeometry",this.parameters={path:r,tubularSegments:o,radius:f,radialSegments:y,closed:w};const B=r.computeFrenetFrames(o,w);this.tangents=B.tangents,this.normals=B.normals,this.binormals=B.binormals;const k=new ie,G=new ie,H=new mi;let Z=new ie;const nt=[],rt=[],at=[],ct=[];yt(),this.setIndex(ct),this.setAttribute("position",new pn(nt,3)),this.setAttribute("normal",new pn(rt,3)),this.setAttribute("uv",new pn(at,2));function yt(){for(let $t=0;$t<o;$t++)ft($t);ft(w===!1?o:0),Gt(),st()}function ft($t){Z=r.getPointAt($t/o,Z);const Lt=B.normals[$t],pe=B.binormals[$t];for(let ne=0;ne<=y;ne++){const oe=ne/y*Math.PI*2,he=Math.sin(oe),Yt=-Math.cos(oe);G.x=Yt*Lt.x+he*pe.x,G.y=Yt*Lt.y+he*pe.y,G.z=Yt*Lt.z+he*pe.z,G.normalize(),rt.push(G.x,G.y,G.z),k.x=Z.x+f*G.x,k.y=Z.y+f*G.y,k.z=Z.z+f*G.z,nt.push(k.x,k.y,k.z)}}function st(){for(let $t=1;$t<=o;$t++)for(let Lt=1;Lt<=y;Lt++){const pe=(y+1)*($t-1)+(Lt-1),ne=(y+1)*$t+(Lt-1),oe=(y+1)*$t+Lt,he=(y+1)*($t-1)+Lt;ct.push(pe,ne,he),ct.push(ne,oe,he)}}function Gt(){for(let $t=0;$t<=o;$t++)for(let Lt=0;Lt<=y;Lt++)H.x=$t/o,H.y=Lt/y,at.push(H.x,H.y)}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}toJSON(){const r=super.toJSON();return r.path=this.parameters.path.toJSON(),r}static fromJSON(r){return new s4(new V3[r.path.type]().fromJSON(r.path),r.tubularSegments,r.radius,r.radialSegments,r.closed)}}class zC extends lr{constructor(r=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:r},r!==null){const o=[],f=new Set,y=new ie,w=new ie;if(r.index!==null){const B=r.attributes.position,k=r.index;let G=r.groups;G.length===0&&(G=[{start:0,count:k.count,materialIndex:0}]);for(let H=0,Z=G.length;H<Z;++H){const nt=G[H],rt=nt.start,at=nt.count;for(let ct=rt,yt=rt+at;ct<yt;ct+=3)for(let ft=0;ft<3;ft++){const st=k.getX(ct+ft),Gt=k.getX(ct+(ft+1)%3);y.fromBufferAttribute(B,st),w.fromBufferAttribute(B,Gt),jC(y,w,f)===!0&&(o.push(y.x,y.y,y.z),o.push(w.x,w.y,w.z))}}}else{const B=r.attributes.position;for(let k=0,G=B.count/3;k<G;k++)for(let H=0;H<3;H++){const Z=3*k+H,nt=3*k+(H+1)%3;y.fromBufferAttribute(B,Z),w.fromBufferAttribute(B,nt),jC(y,w,f)===!0&&(o.push(y.x,y.y,y.z),o.push(w.x,w.y,w.z))}}this.setAttribute("position",new pn(o,3))}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}}function jC(S,r,o){const f=`${S.x},${S.y},${S.z}-${r.x},${r.y},${r.z}`,y=`${r.x},${r.y},${r.z}-${S.x},${S.y},${S.z}`;return o.has(f)===!0||o.has(y)===!0?!1:(o.add(f),o.add(y),!0)}var JC=Object.freeze({__proto__:null,BoxGeometry:uu,CapsuleGeometry:H3,CircleGeometry:Q3,ConeGeometry:z3,CylinderGeometry:Yd,DodecahedronGeometry:j3,EdgesGeometry:FC,ExtrudeGeometry:Z3,IcosahedronGeometry:t4,LatheGeometry:i1,OctahedronGeometry:s1,PlaneGeometry:Gd,PolyhedronGeometry:ic,RingGeometry:e4,ShapeGeometry:i4,SphereGeometry:o1,TetrahedronGeometry:n4,TorusGeometry:r4,TorusKnotGeometry:a4,TubeGeometry:s4,WireframeGeometry:zC});class WC extends H9{constructor(r){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new an(0),this.transparent=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.fog=r.fog,this}}class qC extends x0{constructor(r){super(r),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class S7 extends H9{constructor(r){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new an(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new an(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$9,this.normalScale=new mi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Us,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.defines={STANDARD:""},this.color.copy(r.color),this.roughness=r.roughness,this.metalness=r.metalness,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.roughnessMap=r.roughnessMap,this.metalnessMap=r.metalnessMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.envMapIntensity=r.envMapIntensity,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class KC extends S7{constructor(r){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new mi(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ea(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(o){this.ior=(1+.4*o)/(1-.4*o)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new an(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new an(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new an(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(r)}get anisotropy(){return this._anisotropy}set anisotropy(r){this._anisotropy>0!=r>0&&this.version++,this._anisotropy=r}get clearcoat(){return this._clearcoat}set clearcoat(r){this._clearcoat>0!=r>0&&this.version++,this._clearcoat=r}get iridescence(){return this._iridescence}set iridescence(r){this._iridescence>0!=r>0&&this.version++,this._iridescence=r}get dispersion(){return this._dispersion}set dispersion(r){this._dispersion>0!=r>0&&this.version++,this._dispersion=r}get sheen(){return this._sheen}set sheen(r){this._sheen>0!=r>0&&this.version++,this._sheen=r}get transmission(){return this._transmission}set transmission(r){this._transmission>0!=r>0&&this.version++,this._transmission=r}copy(r){return super.copy(r),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=r.anisotropy,this.anisotropyRotation=r.anisotropyRotation,this.anisotropyMap=r.anisotropyMap,this.clearcoat=r.clearcoat,this.clearcoatMap=r.clearcoatMap,this.clearcoatRoughness=r.clearcoatRoughness,this.clearcoatRoughnessMap=r.clearcoatRoughnessMap,this.clearcoatNormalMap=r.clearcoatNormalMap,this.clearcoatNormalScale.copy(r.clearcoatNormalScale),this.dispersion=r.dispersion,this.ior=r.ior,this.iridescence=r.iridescence,this.iridescenceMap=r.iridescenceMap,this.iridescenceIOR=r.iridescenceIOR,this.iridescenceThicknessRange=[...r.iridescenceThicknessRange],this.iridescenceThicknessMap=r.iridescenceThicknessMap,this.sheen=r.sheen,this.sheenColor.copy(r.sheenColor),this.sheenColorMap=r.sheenColorMap,this.sheenRoughness=r.sheenRoughness,this.sheenRoughnessMap=r.sheenRoughnessMap,this.transmission=r.transmission,this.transmissionMap=r.transmissionMap,this.thickness=r.thickness,this.thicknessMap=r.thicknessMap,this.attenuationDistance=r.attenuationDistance,this.attenuationColor.copy(r.attenuationColor),this.specularIntensity=r.specularIntensity,this.specularIntensityMap=r.specularIntensityMap,this.specularColor.copy(r.specularColor),this.specularColorMap=r.specularColorMap,this}}class XC extends H9{constructor(r){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new an(16777215),this.specular=new an(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new an(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$9,this.normalScale=new mi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Us,this.combine=ai,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.specular.copy(r.specular),this.shininess=r.shininess,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class YC extends H9{constructor(r){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new an(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new an(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$9,this.normalScale=new mi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.gradientMap=r.gradientMap,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.alphaMap=r.alphaMap,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.fog=r.fog,this}}class ZC extends H9{constructor(r){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$9,this.normalScale=new mi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(r)}copy(r){return super.copy(r),this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.flatShading=r.flatShading,this}}class t_ extends H9{constructor(r){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new an(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new an(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$9,this.normalScale=new mi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Us,this.combine=ai,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class e_ extends H9{constructor(r){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new an(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$9,this.normalScale=new mi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.defines={MATCAP:""},this.color.copy(r.color),this.matcap=r.matcap,this.map=r.map,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.alphaMap=r.alphaMap,this.flatShading=r.flatShading,this.fog=r.fog,this}}class i_ extends ls{constructor(r){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(r)}copy(r){return super.copy(r),this.scale=r.scale,this.dashSize=r.dashSize,this.gapSize=r.gapSize,this}}function bu(S,r,o){return!S||!o&&S.constructor===r?S:typeof r.BYTES_PER_ELEMENT=="number"?new r(S):Array.prototype.slice.call(S)}function n_(S){return ArrayBuffer.isView(S)&&!(S instanceof DataView)}function r_(S){function r(y,w){return S[y]-S[w]}const o=S.length,f=new Array(o);for(let y=0;y!==o;++y)f[y]=y;return f.sort(r),f}function T7(S,r,o){const f=S.length,y=new S.constructor(f);for(let w=0,B=0;B!==f;++w){const k=o[w]*r;for(let G=0;G!==r;++G)y[B++]=S[k+G]}return y}function I7(S,r,o,f){let y=1,w=S[0];for(;w!==void 0&&w[f]===void 0;)w=S[y++];if(w===void 0)return;let B=w[f];if(B!==void 0)if(Array.isArray(B))do B=w[f],B!==void 0&&(r.push(w.time),o.push.apply(o,B)),w=S[y++];while(w!==void 0);else if(B.toArray!==void 0)do B=w[f],B!==void 0&&(r.push(w.time),B.toArray(o,o.length)),w=S[y++];while(w!==void 0);else do B=w[f],B!==void 0&&(r.push(w.time),o.push(B)),w=S[y++];while(w!==void 0)}function sz(S,r,o,f,y=30){const w=S.clone();w.name=r;const B=[];for(let G=0;G<w.tracks.length;++G){const H=w.tracks[G],Z=H.getValueSize(),nt=[],rt=[];for(let at=0;at<H.times.length;++at){const ct=H.times[at]*y;if(!(ct<o||ct>=f)){nt.push(H.times[at]);for(let yt=0;yt<Z;++yt)rt.push(H.values[at*Z+yt])}}nt.length!==0&&(H.times=bu(nt,H.times.constructor),H.values=bu(rt,H.values.constructor),B.push(H))}w.tracks=B;let k=1/0;for(let G=0;G<w.tracks.length;++G)k>w.tracks[G].times[0]&&(k=w.tracks[G].times[0]);for(let G=0;G<w.tracks.length;++G)w.tracks[G].shift(-1*k);return w.resetDuration(),w}function oz(S,r=0,o=S,f=30){f<=0&&(f=30);const y=o.tracks.length,w=r/f;for(let B=0;B<y;++B){const k=o.tracks[B],G=k.ValueTypeName;if(G==="bool"||G==="string")continue;const H=S.tracks.find(function(st){return st.name===k.name&&st.ValueTypeName===G});if(H===void 0)continue;let Z=0;const nt=k.getValueSize();k.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Z=nt/3);let rt=0;const at=H.getValueSize();H.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(rt=at/3);const ct=k.times.length-1;let yt;if(w<=k.times[0]){const st=Z,Gt=nt-Z;yt=k.values.slice(st,Gt)}else if(w>=k.times[ct]){const st=ct*nt+Z,Gt=st+nt-Z;yt=k.values.slice(st,Gt)}else{const st=k.createInterpolant(),Gt=Z,$t=nt-Z;st.evaluate(w),yt=st.resultBuffer.slice(Gt,$t)}G==="quaternion"&&new Br().fromArray(yt).normalize().conjugate().toArray(yt);const ft=H.times.length;for(let st=0;st<ft;++st){const Gt=st*at+rt;if(G==="quaternion")Br.multiplyQuaternionsFlat(H.values,Gt,yt,0,H.values,Gt);else{const $t=at-rt*2;for(let Lt=0;Lt<$t;++Lt)H.values[Gt+Lt]-=yt[Lt]}}}return S.blendMode=E0,S}const lz={convertArray:bu,isTypedArray:n_,getKeyframeOrder:r_,sortedArray:T7,flattenJSON:I7,subclip:sz,makeClipAdditive:oz};class l1{constructor(r,o,f,y){this.parameterPositions=r,this._cachedIndex=0,this.resultBuffer=y!==void 0?y:new o.constructor(f),this.sampleValues=o,this.valueSize=f,this.settings=null,this.DefaultSettings_={}}evaluate(r){const o=this.parameterPositions;let f=this._cachedIndex,y=o[f],w=o[f-1];t:{e:{let B;i:{n:if(!(r<y)){for(let k=f+2;;){if(y===void 0){if(r<w)break n;return f=o.length,this._cachedIndex=f,this.copySampleValue_(f-1)}if(f===k)break;if(w=y,y=o[++f],r<y)break e}B=o.length;break i}if(!(r>=w)){const k=o[1];r<k&&(f=2,w=k);for(let G=f-2;;){if(w===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(f===G)break;if(y=w,w=o[--f-1],r>=w)break e}B=f,f=0;break i}break t}for(;f<B;){const k=f+B>>>1;r<o[k]?B=k:f=k+1}if(y=o[f],w=o[f-1],w===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(y===void 0)return f=o.length,this._cachedIndex=f,this.copySampleValue_(f-1)}this._cachedIndex=f,this.intervalChanged_(f,w,y)}return this.interpolate_(f,w,r,y)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(r){const o=this.resultBuffer,f=this.sampleValues,y=this.valueSize,w=r*y;for(let B=0;B!==y;++B)o[B]=f[w+B];return o}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class a_ extends l1{constructor(r,o,f,y){super(r,o,f,y),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Sa,endingEnd:Sa}}intervalChanged_(r,o,f){const y=this.parameterPositions;let w=r-2,B=r+1,k=y[w],G=y[B];if(k===void 0)switch(this.getSettings_().endingStart){case g9:w=r,k=2*o-f;break;case Ls:w=y.length-2,k=o+y[w]-y[w+1];break;default:w=r,k=f}if(G===void 0)switch(this.getSettings_().endingEnd){case g9:B=r,G=2*f-o;break;case Ls:B=1,G=f+y[1]-y[0];break;default:B=r-1,G=o}const H=(f-o)*.5,Z=this.valueSize;this._weightPrev=H/(o-k),this._weightNext=H/(G-f),this._offsetPrev=w*Z,this._offsetNext=B*Z}interpolate_(r,o,f,y){const w=this.resultBuffer,B=this.sampleValues,k=this.valueSize,G=r*k,H=G-k,Z=this._offsetPrev,nt=this._offsetNext,rt=this._weightPrev,at=this._weightNext,ct=(f-o)/(y-o),yt=ct*ct,ft=yt*ct,st=-rt*ft+2*rt*yt-rt*ct,Gt=(1+rt)*ft+(-1.5-2*rt)*yt+(-.5+rt)*ct+1,$t=(-1-at)*ft+(1.5+at)*yt+.5*ct,Lt=at*ft-at*yt;for(let pe=0;pe!==k;++pe)w[pe]=st*B[Z+pe]+Gt*B[H+pe]+$t*B[G+pe]+Lt*B[nt+pe];return w}}class B7 extends l1{constructor(r,o,f,y){super(r,o,f,y)}interpolate_(r,o,f,y){const w=this.resultBuffer,B=this.sampleValues,k=this.valueSize,G=r*k,H=G-k,Z=(f-o)/(y-o),nt=1-Z;for(let rt=0;rt!==k;++rt)w[rt]=B[H+rt]*nt+B[G+rt]*Z;return w}}class s_ extends l1{constructor(r,o,f,y){super(r,o,f,y)}interpolate_(r){return this.copySampleValue_(r-1)}}class I0{constructor(r,o,f,y){if(r===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(o===void 0||o.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+r);this.name=r,this.times=bu(o,this.TimeBufferType),this.values=bu(f,this.ValueBufferType),this.setInterpolation(y||this.DefaultInterpolation)}static toJSON(r){const o=r.constructor;let f;if(o.toJSON!==this.toJSON)f=o.toJSON(r);else{f={name:r.name,times:bu(r.times,Array),values:bu(r.values,Array)};const y=r.getInterpolation();y!==r.DefaultInterpolation&&(f.interpolation=y)}return f.type=r.ValueTypeName,f}InterpolantFactoryMethodDiscrete(r){return new s_(this.times,this.values,this.getValueSize(),r)}InterpolantFactoryMethodLinear(r){return new B7(this.times,this.values,this.getValueSize(),r)}InterpolantFactoryMethodSmooth(r){return new a_(this.times,this.values,this.getValueSize(),r)}setInterpolation(r){let o;switch(r){case ja:o=this.InterpolantFactoryMethodDiscrete;break;case Ja:o=this.InterpolantFactoryMethodLinear;break;case Xa:o=this.InterpolantFactoryMethodSmooth;break}if(o===void 0){const f="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(r!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(f);return console.warn("THREE.KeyframeTrack:",f),this}return this.createInterpolant=o,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ja;case this.InterpolantFactoryMethodLinear:return Ja;case this.InterpolantFactoryMethodSmooth:return Xa}}getValueSize(){return this.values.length/this.times.length}shift(r){if(r!==0){const o=this.times;for(let f=0,y=o.length;f!==y;++f)o[f]+=r}return this}scale(r){if(r!==1){const o=this.times;for(let f=0,y=o.length;f!==y;++f)o[f]*=r}return this}trim(r,o){const f=this.times,y=f.length;let w=0,B=y-1;for(;w!==y&&f[w]<r;)++w;for(;B!==-1&&f[B]>o;)--B;if(++B,w!==0||B!==y){w>=B&&(B=Math.max(B,1),w=B-1);const k=this.getValueSize();this.times=f.slice(w,B),this.values=this.values.slice(w*k,B*k)}return this}validate(){let r=!0;const o=this.getValueSize();o-Math.floor(o)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),r=!1);const f=this.times,y=this.values,w=f.length;w===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),r=!1);let B=null;for(let k=0;k!==w;k++){const G=f[k];if(typeof G=="number"&&isNaN(G)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,k,G),r=!1;break}if(B!==null&&B>G){console.error("THREE.KeyframeTrack: Out of order keys.",this,k,G,B),r=!1;break}B=G}if(y!==void 0&&n_(y))for(let k=0,G=y.length;k!==G;++k){const H=y[k];if(isNaN(H)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,k,H),r=!1;break}}return r}optimize(){const r=this.times.slice(),o=this.values.slice(),f=this.getValueSize(),y=this.getInterpolation()===Xa,w=r.length-1;let B=1;for(let k=1;k<w;++k){let G=!1;const H=r[k],Z=r[k+1];if(H!==Z&&(k!==1||H!==r[0]))if(y)G=!0;else{const nt=k*f,rt=nt-f,at=nt+f;for(let ct=0;ct!==f;++ct){const yt=o[nt+ct];if(yt!==o[rt+ct]||yt!==o[at+ct]){G=!0;break}}}if(G){if(k!==B){r[B]=r[k];const nt=k*f,rt=B*f;for(let at=0;at!==f;++at)o[rt+at]=o[nt+at]}++B}}if(w>0){r[B]=r[w];for(let k=w*f,G=B*f,H=0;H!==f;++H)o[G+H]=o[k+H];++B}return B!==r.length?(this.times=r.slice(0,B),this.values=o.slice(0,B*f)):(this.times=r,this.values=o),this}clone(){const r=this.times.slice(),o=this.values.slice(),f=this.constructor,y=new f(this.name,r,o);return y.createInterpolant=this.createInterpolant,y}}I0.prototype.TimeBufferType=Float32Array,I0.prototype.ValueBufferType=Float32Array,I0.prototype.DefaultInterpolation=Ja;class Cu extends I0{}Cu.prototype.ValueTypeName="bool",Cu.prototype.ValueBufferType=Array,Cu.prototype.DefaultInterpolation=ja,Cu.prototype.InterpolantFactoryMethodLinear=void 0,Cu.prototype.InterpolantFactoryMethodSmooth=void 0;class R7 extends I0{}R7.prototype.ValueTypeName="color";class c1 extends I0{}c1.prototype.ValueTypeName="number";class o_ extends l1{constructor(r,o,f,y){super(r,o,f,y)}interpolate_(r,o,f,y){const w=this.resultBuffer,B=this.sampleValues,k=this.valueSize,G=(f-o)/(y-o);let H=r*k;for(let Z=H+k;H!==Z;H+=4)Br.slerpFlat(w,0,B,H-k,B,H,G);return w}}class th extends I0{InterpolantFactoryMethodLinear(r){return new o_(this.times,this.values,this.getValueSize(),r)}}th.prototype.ValueTypeName="quaternion",th.prototype.DefaultInterpolation=Ja,th.prototype.InterpolantFactoryMethodSmooth=void 0;class _u extends I0{}_u.prototype.ValueTypeName="string",_u.prototype.ValueBufferType=Array,_u.prototype.DefaultInterpolation=ja,_u.prototype.InterpolantFactoryMethodLinear=void 0,_u.prototype.InterpolantFactoryMethodSmooth=void 0;class u1 extends I0{}u1.prototype.ValueTypeName="vector";class d1{constructor(r="",o=-1,f=[],y=e0){this.name=r,this.tracks=f,this.duration=o,this.blendMode=y,this.uuid=rs(),this.duration<0&&this.resetDuration()}static parse(r){const o=[],f=r.tracks,y=1/(r.fps||1);for(let B=0,k=f.length;B!==k;++B)o.push(uz(f[B]).scale(y));const w=new this(r.name,r.duration,o,r.blendMode);return w.uuid=r.uuid,w}static toJSON(r){const o=[],f=r.tracks,y={name:r.name,duration:r.duration,tracks:o,uuid:r.uuid,blendMode:r.blendMode};for(let w=0,B=f.length;w!==B;++w)o.push(I0.toJSON(f[w]));return y}static CreateFromMorphTargetSequence(r,o,f,y){const w=o.length,B=[];for(let k=0;k<w;k++){let G=[],H=[];G.push((k+w-1)%w,k,(k+1)%w),H.push(0,1,0);const Z=r_(G);G=T7(G,1,Z),H=T7(H,1,Z),!y&&G[0]===0&&(G.push(w),H.push(H[0])),B.push(new c1(".morphTargetInfluences["+o[k].name+"]",G,H).scale(1/f))}return new this(r,-1,B)}static findByName(r,o){let f=r;if(!Array.isArray(r)){const y=r;f=y.geometry&&y.geometry.animations||y.animations}for(let y=0;y<f.length;y++)if(f[y].name===o)return f[y];return null}static CreateClipsFromMorphTargetSequences(r,o,f){const y={},w=/^([\w-]*?)([\d]+)$/;for(let k=0,G=r.length;k<G;k++){const H=r[k],Z=H.name.match(w);if(Z&&Z.length>1){const nt=Z[1];let rt=y[nt];rt||(y[nt]=rt=[]),rt.push(H)}}const B=[];for(const k in y)B.push(this.CreateFromMorphTargetSequence(k,y[k],o,f));return B}static parseAnimation(r,o){if(!r)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const f=function(nt,rt,at,ct,yt){if(at.length!==0){const ft=[],st=[];I7(at,ft,st,ct),ft.length!==0&&yt.push(new nt(rt,ft,st))}},y=[],w=r.name||"default",B=r.fps||30,k=r.blendMode;let G=r.length||-1;const H=r.hierarchy||[];for(let nt=0;nt<H.length;nt++){const rt=H[nt].keys;if(!(!rt||rt.length===0))if(rt[0].morphTargets){const at={};let ct;for(ct=0;ct<rt.length;ct++)if(rt[ct].morphTargets)for(let yt=0;yt<rt[ct].morphTargets.length;yt++)at[rt[ct].morphTargets[yt]]=-1;for(const yt in at){const ft=[],st=[];for(let Gt=0;Gt!==rt[ct].morphTargets.length;++Gt){const $t=rt[ct];ft.push($t.time),st.push($t.morphTarget===yt?1:0)}y.push(new c1(".morphTargetInfluence["+yt+"]",ft,st))}G=at.length*B}else{const at=".bones["+o[nt].name+"]";f(u1,at+".position",rt,"pos",y),f(th,at+".quaternion",rt,"rot",y),f(u1,at+".scale",rt,"scl",y)}}return y.length===0?null:new this(w,G,y,k)}resetDuration(){const r=this.tracks;let o=0;for(let f=0,y=r.length;f!==y;++f){const w=this.tracks[f];o=Math.max(o,w.times[w.times.length-1])}return this.duration=o,this}trim(){for(let r=0;r<this.tracks.length;r++)this.tracks[r].trim(0,this.duration);return this}validate(){let r=!0;for(let o=0;o<this.tracks.length;o++)r=r&&this.tracks[o].validate();return r}optimize(){for(let r=0;r<this.tracks.length;r++)this.tracks[r].optimize();return this}clone(){const r=[];for(let o=0;o<this.tracks.length;o++)r.push(this.tracks[o].clone());return new this.constructor(this.name,this.duration,r,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function cz(S){switch(S.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return c1;case"vector":case"vector2":case"vector3":case"vector4":return u1;case"color":return R7;case"quaternion":return th;case"bool":case"boolean":return Cu;case"string":return _u}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+S)}function uz(S){if(S.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const r=cz(S.type);if(S.times===void 0){const o=[],f=[];I7(S.keys,o,f,"value"),S.times=o,S.values=f}return r.parse!==void 0?r.parse(S):new r(S.name,S.times,S.values,S.interpolation)}const Yo={enabled:!1,files:{},add:function(S,r){this.enabled!==!1&&(this.files[S]=r)},get:function(S){if(this.enabled!==!1)return this.files[S]},remove:function(S){delete this.files[S]},clear:function(){this.files={}}};class D7{constructor(r,o,f){const y=this;let w=!1,B=0,k=0,G;const H=[];this.onStart=void 0,this.onLoad=r,this.onProgress=o,this.onError=f,this.itemStart=function(Z){k++,w===!1&&y.onStart!==void 0&&y.onStart(Z,B,k),w=!0},this.itemEnd=function(Z){B++,y.onProgress!==void 0&&y.onProgress(Z,B,k),B===k&&(w=!1,y.onLoad!==void 0&&y.onLoad())},this.itemError=function(Z){y.onError!==void 0&&y.onError(Z)},this.resolveURL=function(Z){return G?G(Z):Z},this.setURLModifier=function(Z){return G=Z,this},this.addHandler=function(Z,nt){return H.push(Z,nt),this},this.removeHandler=function(Z){const nt=H.indexOf(Z);return nt!==-1&&H.splice(nt,2),this},this.getHandler=function(Z){for(let nt=0,rt=H.length;nt<rt;nt+=2){const at=H[nt],ct=H[nt+1];if(at.global&&(at.lastIndex=0),at.test(Z))return ct}return null}}}const l_=new D7;class bs{constructor(r){this.manager=r!==void 0?r:l_,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(r,o){const f=this;return new Promise(function(y,w){f.load(r,y,o,w)})}parse(){}setCrossOrigin(r){return this.crossOrigin=r,this}setWithCredentials(r){return this.withCredentials=r,this}setPath(r){return this.path=r,this}setResourcePath(r){return this.resourcePath=r,this}setRequestHeader(r){return this.requestHeader=r,this}}bs.DEFAULT_MATERIAL_NAME="__DEFAULT";const Zo={};class dz extends Error{constructor(r,o){super(r),this.response=o}}class tl extends bs{constructor(r){super(r)}load(r,o,f,y){r===void 0&&(r=""),this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const w=Yo.get(r);if(w!==void 0)return this.manager.itemStart(r),setTimeout(()=>{o&&o(w),this.manager.itemEnd(r)},0),w;if(Zo[r]!==void 0){Zo[r].push({onLoad:o,onProgress:f,onError:y});return}Zo[r]=[],Zo[r].push({onLoad:o,onProgress:f,onError:y});const B=new Request(r,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),k=this.mimeType,G=this.responseType;fetch(B).then(H=>{if(H.status===200||H.status===0){if(H.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||H.body===void 0||H.body.getReader===void 0)return H;const Z=Zo[r],nt=H.body.getReader(),rt=H.headers.get("X-File-Size")||H.headers.get("Content-Length"),at=rt?parseInt(rt):0,ct=at!==0;let yt=0;const ft=new ReadableStream({start(st){Gt();function Gt(){nt.read().then(({done:$t,value:Lt})=>{if($t)st.close();else{yt+=Lt.byteLength;const pe=new ProgressEvent("progress",{lengthComputable:ct,loaded:yt,total:at});for(let ne=0,oe=Z.length;ne<oe;ne++){const he=Z[ne];he.onProgress&&he.onProgress(pe)}st.enqueue(Lt),Gt()}})}}});return new Response(ft)}else throw new dz(`fetch for "${H.url}" responded with ${H.status}: ${H.statusText}`,H)}).then(H=>{switch(G){case"arraybuffer":return H.arrayBuffer();case"blob":return H.blob();case"document":return H.text().then(Z=>new DOMParser().parseFromString(Z,k));case"json":return H.json();default:if(k===void 0)return H.text();{const nt=/charset="?([^;"\s]*)"?/i.exec(k),rt=nt&&nt[1]?nt[1].toLowerCase():void 0,at=new TextDecoder(rt);return H.arrayBuffer().then(ct=>at.decode(ct))}}}).then(H=>{Yo.add(r,H);const Z=Zo[r];delete Zo[r];for(let nt=0,rt=Z.length;nt<rt;nt++){const at=Z[nt];at.onLoad&&at.onLoad(H)}}).catch(H=>{const Z=Zo[r];if(Z===void 0)throw this.manager.itemError(r),H;delete Zo[r];for(let nt=0,rt=Z.length;nt<rt;nt++){const at=Z[nt];at.onError&&at.onError(H)}this.manager.itemError(r)}).finally(()=>{this.manager.itemEnd(r)}),this.manager.itemStart(r)}setResponseType(r){return this.responseType=r,this}setMimeType(r){return this.mimeType=r,this}}class hz extends bs{constructor(r){super(r)}load(r,o,f,y){const w=this,B=new tl(this.manager);B.setPath(this.path),B.setRequestHeader(this.requestHeader),B.setWithCredentials(this.withCredentials),B.load(r,function(k){try{o(w.parse(JSON.parse(k)))}catch(G){y?y(G):console.error(G),w.manager.itemError(r)}},f,y)}parse(r){const o=[];for(let f=0;f<r.length;f++){const y=d1.parse(r[f]);o.push(y)}return o}}class fz extends bs{constructor(r){super(r)}load(r,o,f,y){const w=this,B=[],k=new U3,G=new tl(this.manager);G.setPath(this.path),G.setResponseType("arraybuffer"),G.setRequestHeader(this.requestHeader),G.setWithCredentials(w.withCredentials);let H=0;function Z(nt){G.load(r[nt],function(rt){const at=w.parse(rt,!0);B[nt]={width:at.width,height:at.height,format:at.format,mipmaps:at.mipmaps},H+=1,H===6&&(at.mipmapCount===1&&(k.minFilter=Le),k.image=B,k.format=at.format,k.needsUpdate=!0,o&&o(k))},f,y)}if(Array.isArray(r))for(let nt=0,rt=r.length;nt<rt;++nt)Z(nt);else G.load(r,function(nt){const rt=w.parse(nt,!0);if(rt.isCubemap){const at=rt.mipmaps.length/rt.mipmapCount;for(let ct=0;ct<at;ct++){B[ct]={mipmaps:[]};for(let yt=0;yt<rt.mipmapCount;yt++)B[ct].mipmaps.push(rt.mipmaps[ct*rt.mipmapCount+yt]),B[ct].format=rt.format,B[ct].width=rt.width,B[ct].height=rt.height}k.image=B}else k.image.width=rt.width,k.image.height=rt.height,k.mipmaps=rt.mipmaps;rt.mipmapCount===1&&(k.minFilter=Le),k.format=rt.format,k.needsUpdate=!0,o&&o(k)},f,y);return k}}class h1 extends bs{constructor(r){super(r)}load(r,o,f,y){this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const w=this,B=Yo.get(r);if(B!==void 0)return w.manager.itemStart(r),setTimeout(function(){o&&o(B),w.manager.itemEnd(r)},0),B;const k=lu("img");function G(){Z(),Yo.add(r,this),o&&o(this),w.manager.itemEnd(r)}function H(nt){Z(),y&&y(nt),w.manager.itemError(r),w.manager.itemEnd(r)}function Z(){k.removeEventListener("load",G,!1),k.removeEventListener("error",H,!1)}return k.addEventListener("load",G,!1),k.addEventListener("error",H,!1),r.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(k.crossOrigin=this.crossOrigin),w.manager.itemStart(r),k.src=r,k}}class mz extends bs{constructor(r){super(r)}load(r,o,f,y){const w=new Hf;w.colorSpace=Er;const B=new h1(this.manager);B.setCrossOrigin(this.crossOrigin),B.setPath(this.path);let k=0;function G(H){B.load(r[H],function(Z){w.images[H]=Z,k++,k===6&&(w.needsUpdate=!0,o&&o(w))},void 0,y)}for(let H=0;H<r.length;++H)G(H);return w}}class pz extends bs{constructor(r){super(r)}load(r,o,f,y){const w=this,B=new Zl,k=new tl(this.manager);return k.setResponseType("arraybuffer"),k.setRequestHeader(this.requestHeader),k.setPath(this.path),k.setWithCredentials(w.withCredentials),k.load(r,function(G){let H;try{H=w.parse(G)}catch(Z){if(y!==void 0)y(Z);else{console.error(Z);return}}H.image!==void 0?B.image=H.image:H.data!==void 0&&(B.image.width=H.width,B.image.height=H.height,B.image.data=H.data),B.wrapS=H.wrapS!==void 0?H.wrapS:ce,B.wrapT=H.wrapT!==void 0?H.wrapT:ce,B.magFilter=H.magFilter!==void 0?H.magFilter:Le,B.minFilter=H.minFilter!==void 0?H.minFilter:Le,B.anisotropy=H.anisotropy!==void 0?H.anisotropy:1,H.colorSpace!==void 0&&(B.colorSpace=H.colorSpace),H.flipY!==void 0&&(B.flipY=H.flipY),H.format!==void 0&&(B.format=H.format),H.type!==void 0&&(B.type=H.type),H.mipmaps!==void 0&&(B.mipmaps=H.mipmaps,B.minFilter=Ii),H.mipmapCount===1&&(B.minFilter=Le),H.generateMipmaps!==void 0&&(B.generateMipmaps=H.generateMipmaps),B.needsUpdate=!0,o&&o(B,H)},f,y),B}}class gz extends bs{constructor(r){super(r)}load(r,o,f,y){const w=new la,B=new h1(this.manager);return B.setCrossOrigin(this.crossOrigin),B.setPath(this.path),B.load(r,function(k){w.image=k,w.needsUpdate=!0,o!==void 0&&o(w)},f,y),w}}class nc extends Rr{constructor(r,o=1){super(),this.isLight=!0,this.type="Light",this.color=new an(r),this.intensity=o}dispose(){}copy(r,o){return super.copy(r,o),this.color.copy(r.color),this.intensity=r.intensity,this}toJSON(r){const o=super.toJSON(r);return o.object.color=this.color.getHex(),o.object.intensity=this.intensity,this.groundColor!==void 0&&(o.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(o.object.distance=this.distance),this.angle!==void 0&&(o.object.angle=this.angle),this.decay!==void 0&&(o.object.decay=this.decay),this.penumbra!==void 0&&(o.object.penumbra=this.penumbra),this.shadow!==void 0&&(o.object.shadow=this.shadow.toJSON()),o}}class c_ extends nc{constructor(r,o,f){super(r,f),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Rr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new an(o)}copy(r,o){return super.copy(r,o),this.groundColor.copy(r.groundColor),this}}const P7=new fn,u_=new ie,d_=new ie;class L7{constructor(r){this.camera=r,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new mi(512,512),this.map=null,this.mapPass=null,this.matrix=new fn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Qf,this._frameExtents=new mi(1,1),this._viewportCount=1,this._viewports=[new xr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(r){const o=this.camera,f=this.matrix;u_.setFromMatrixPosition(r.matrixWorld),o.position.copy(u_),d_.setFromMatrixPosition(r.target.matrixWorld),o.lookAt(d_),o.updateMatrixWorld(),P7.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(P7),f.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),f.multiply(P7)}getViewport(r){return this._viewports[r]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(r){return this.camera=r.camera.clone(),this.bias=r.bias,this.radius=r.radius,this.mapSize.copy(r.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const r={};return this.bias!==0&&(r.bias=this.bias),this.normalBias!==0&&(r.normalBias=this.normalBias),this.radius!==1&&(r.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(r.mapSize=this.mapSize.toArray()),r.camera=this.camera.toJSON(!1).object,delete r.camera.matrix,r}}class Mz extends L7{constructor(){super(new o9(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(r){const o=this.camera,f=Hl*2*r.angle*this.focus,y=this.mapSize.width/this.mapSize.height,w=r.distance||o.far;(f!==o.fov||y!==o.aspect||w!==o.far)&&(o.fov=f,o.aspect=y,o.far=w,o.updateProjectionMatrix()),super.updateMatrices(r)}copy(r){return super.copy(r),this.focus=r.focus,this}}class h_ extends nc{constructor(r,o,f=0,y=Math.PI/3,w=0,B=2){super(r,o),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Rr.DEFAULT_UP),this.updateMatrix(),this.target=new Rr,this.distance=f,this.angle=y,this.penumbra=w,this.decay=B,this.map=null,this.shadow=new Mz}get power(){return this.intensity*Math.PI}set power(r){this.intensity=r/Math.PI}dispose(){this.shadow.dispose()}copy(r,o){return super.copy(r,o),this.distance=r.distance,this.angle=r.angle,this.penumbra=r.penumbra,this.decay=r.decay,this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}const f_=new fn,f1=new ie,k7=new ie;class Az extends L7{constructor(){super(new o9(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new mi(4,2),this._viewportCount=6,this._viewports=[new xr(2,1,1,1),new xr(0,1,1,1),new xr(3,1,1,1),new xr(1,1,1,1),new xr(3,0,1,1),new xr(1,0,1,1)],this._cubeDirections=[new ie(1,0,0),new ie(-1,0,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,1,0),new ie(0,-1,0)],this._cubeUps=[new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,0,1),new ie(0,0,-1)]}updateMatrices(r,o=0){const f=this.camera,y=this.matrix,w=r.distance||f.far;w!==f.far&&(f.far=w,f.updateProjectionMatrix()),f1.setFromMatrixPosition(r.matrixWorld),f.position.copy(f1),k7.copy(f.position),k7.add(this._cubeDirections[o]),f.up.copy(this._cubeUps[o]),f.lookAt(k7),f.updateMatrixWorld(),y.makeTranslation(-f1.x,-f1.y,-f1.z),f_.multiplyMatrices(f.projectionMatrix,f.matrixWorldInverse),this._frustum.setFromProjectionMatrix(f_)}}class m_ extends nc{constructor(r,o,f=0,y=2){super(r,o),this.isPointLight=!0,this.type="PointLight",this.distance=f,this.decay=y,this.shadow=new Az}get power(){return this.intensity*4*Math.PI}set power(r){this.intensity=r/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(r,o){return super.copy(r,o),this.distance=r.distance,this.decay=r.decay,this.shadow=r.shadow.clone(),this}}class yz extends L7{constructor(){super(new M3(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class p_ extends nc{constructor(r,o){super(r,o),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Rr.DEFAULT_UP),this.updateMatrix(),this.target=new Rr,this.shadow=new yz}dispose(){this.shadow.dispose()}copy(r){return super.copy(r),this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}class g_ extends nc{constructor(r,o){super(r,o),this.isAmbientLight=!0,this.type="AmbientLight"}}class M_ extends nc{constructor(r,o,f=10,y=10){super(r,o),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=f,this.height=y}get power(){return this.intensity*this.width*this.height*Math.PI}set power(r){this.intensity=r/(this.width*this.height*Math.PI)}copy(r){return super.copy(r),this.width=r.width,this.height=r.height,this}toJSON(r){const o=super.toJSON(r);return o.object.width=this.width,o.object.height=this.height,o}}class A_{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let r=0;r<9;r++)this.coefficients.push(new ie)}set(r){for(let o=0;o<9;o++)this.coefficients[o].copy(r[o]);return this}zero(){for(let r=0;r<9;r++)this.coefficients[r].set(0,0,0);return this}getAt(r,o){const f=r.x,y=r.y,w=r.z,B=this.coefficients;return o.copy(B[0]).multiplyScalar(.282095),o.addScaledVector(B[1],.488603*y),o.addScaledVector(B[2],.488603*w),o.addScaledVector(B[3],.488603*f),o.addScaledVector(B[4],1.092548*(f*y)),o.addScaledVector(B[5],1.092548*(y*w)),o.addScaledVector(B[6],.315392*(3*w*w-1)),o.addScaledVector(B[7],1.092548*(f*w)),o.addScaledVector(B[8],.546274*(f*f-y*y)),o}getIrradianceAt(r,o){const f=r.x,y=r.y,w=r.z,B=this.coefficients;return o.copy(B[0]).multiplyScalar(.886227),o.addScaledVector(B[1],1.023328*y),o.addScaledVector(B[2],1.023328*w),o.addScaledVector(B[3],1.023328*f),o.addScaledVector(B[4],.858086*f*y),o.addScaledVector(B[5],.858086*y*w),o.addScaledVector(B[6],.743125*w*w-.247708),o.addScaledVector(B[7],.858086*f*w),o.addScaledVector(B[8],.429043*(f*f-y*y)),o}add(r){for(let o=0;o<9;o++)this.coefficients[o].add(r.coefficients[o]);return this}addScaledSH(r,o){for(let f=0;f<9;f++)this.coefficients[f].addScaledVector(r.coefficients[f],o);return this}scale(r){for(let o=0;o<9;o++)this.coefficients[o].multiplyScalar(r);return this}lerp(r,o){for(let f=0;f<9;f++)this.coefficients[f].lerp(r.coefficients[f],o);return this}equals(r){for(let o=0;o<9;o++)if(!this.coefficients[o].equals(r.coefficients[o]))return!1;return!0}copy(r){return this.set(r.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(r,o=0){const f=this.coefficients;for(let y=0;y<9;y++)f[y].fromArray(r,o+y*3);return this}toArray(r=[],o=0){const f=this.coefficients;for(let y=0;y<9;y++)f[y].toArray(r,o+y*3);return r}static getBasisAt(r,o){const f=r.x,y=r.y,w=r.z;o[0]=.282095,o[1]=.488603*y,o[2]=.488603*w,o[3]=.488603*f,o[4]=1.092548*f*y,o[5]=1.092548*y*w,o[6]=.315392*(3*w*w-1),o[7]=1.092548*f*w,o[8]=.546274*(f*f-y*y)}}class y_ extends nc{constructor(r=new A_,o=1){super(void 0,o),this.isLightProbe=!0,this.sh=r}copy(r){return super.copy(r),this.sh.copy(r.sh),this}fromJSON(r){return this.intensity=r.intensity,this.sh.fromArray(r.sh),this}toJSON(r){const o=super.toJSON(r);return o.object.sh=this.sh.toArray(),o}}class o4 extends bs{constructor(r){super(r),this.textures={}}load(r,o,f,y){const w=this,B=new tl(w.manager);B.setPath(w.path),B.setRequestHeader(w.requestHeader),B.setWithCredentials(w.withCredentials),B.load(r,function(k){try{o(w.parse(JSON.parse(k)))}catch(G){y?y(G):console.error(G),w.manager.itemError(r)}},f,y)}parse(r){const o=this.textures;function f(w){return o[w]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",w),o[w]}const y=o4.createMaterialFromType(r.type);if(r.uuid!==void 0&&(y.uuid=r.uuid),r.name!==void 0&&(y.name=r.name),r.color!==void 0&&y.color!==void 0&&y.color.setHex(r.color),r.roughness!==void 0&&(y.roughness=r.roughness),r.metalness!==void 0&&(y.metalness=r.metalness),r.sheen!==void 0&&(y.sheen=r.sheen),r.sheenColor!==void 0&&(y.sheenColor=new an().setHex(r.sheenColor)),r.sheenRoughness!==void 0&&(y.sheenRoughness=r.sheenRoughness),r.emissive!==void 0&&y.emissive!==void 0&&y.emissive.setHex(r.emissive),r.specular!==void 0&&y.specular!==void 0&&y.specular.setHex(r.specular),r.specularIntensity!==void 0&&(y.specularIntensity=r.specularIntensity),r.specularColor!==void 0&&y.specularColor!==void 0&&y.specularColor.setHex(r.specularColor),r.shininess!==void 0&&(y.shininess=r.shininess),r.clearcoat!==void 0&&(y.clearcoat=r.clearcoat),r.clearcoatRoughness!==void 0&&(y.clearcoatRoughness=r.clearcoatRoughness),r.dispersion!==void 0&&(y.dispersion=r.dispersion),r.iridescence!==void 0&&(y.iridescence=r.iridescence),r.iridescenceIOR!==void 0&&(y.iridescenceIOR=r.iridescenceIOR),r.iridescenceThicknessRange!==void 0&&(y.iridescenceThicknessRange=r.iridescenceThicknessRange),r.transmission!==void 0&&(y.transmission=r.transmission),r.thickness!==void 0&&(y.thickness=r.thickness),r.attenuationDistance!==void 0&&(y.attenuationDistance=r.attenuationDistance),r.attenuationColor!==void 0&&y.attenuationColor!==void 0&&y.attenuationColor.setHex(r.attenuationColor),r.anisotropy!==void 0&&(y.anisotropy=r.anisotropy),r.anisotropyRotation!==void 0&&(y.anisotropyRotation=r.anisotropyRotation),r.fog!==void 0&&(y.fog=r.fog),r.flatShading!==void 0&&(y.flatShading=r.flatShading),r.blending!==void 0&&(y.blending=r.blending),r.combine!==void 0&&(y.combine=r.combine),r.side!==void 0&&(y.side=r.side),r.shadowSide!==void 0&&(y.shadowSide=r.shadowSide),r.opacity!==void 0&&(y.opacity=r.opacity),r.transparent!==void 0&&(y.transparent=r.transparent),r.alphaTest!==void 0&&(y.alphaTest=r.alphaTest),r.alphaHash!==void 0&&(y.alphaHash=r.alphaHash),r.depthFunc!==void 0&&(y.depthFunc=r.depthFunc),r.depthTest!==void 0&&(y.depthTest=r.depthTest),r.depthWrite!==void 0&&(y.depthWrite=r.depthWrite),r.colorWrite!==void 0&&(y.colorWrite=r.colorWrite),r.blendSrc!==void 0&&(y.blendSrc=r.blendSrc),r.blendDst!==void 0&&(y.blendDst=r.blendDst),r.blendEquation!==void 0&&(y.blendEquation=r.blendEquation),r.blendSrcAlpha!==void 0&&(y.blendSrcAlpha=r.blendSrcAlpha),r.blendDstAlpha!==void 0&&(y.blendDstAlpha=r.blendDstAlpha),r.blendEquationAlpha!==void 0&&(y.blendEquationAlpha=r.blendEquationAlpha),r.blendColor!==void 0&&y.blendColor!==void 0&&y.blendColor.setHex(r.blendColor),r.blendAlpha!==void 0&&(y.blendAlpha=r.blendAlpha),r.stencilWriteMask!==void 0&&(y.stencilWriteMask=r.stencilWriteMask),r.stencilFunc!==void 0&&(y.stencilFunc=r.stencilFunc),r.stencilRef!==void 0&&(y.stencilRef=r.stencilRef),r.stencilFuncMask!==void 0&&(y.stencilFuncMask=r.stencilFuncMask),r.stencilFail!==void 0&&(y.stencilFail=r.stencilFail),r.stencilZFail!==void 0&&(y.stencilZFail=r.stencilZFail),r.stencilZPass!==void 0&&(y.stencilZPass=r.stencilZPass),r.stencilWrite!==void 0&&(y.stencilWrite=r.stencilWrite),r.wireframe!==void 0&&(y.wireframe=r.wireframe),r.wireframeLinewidth!==void 0&&(y.wireframeLinewidth=r.wireframeLinewidth),r.wireframeLinecap!==void 0&&(y.wireframeLinecap=r.wireframeLinecap),r.wireframeLinejoin!==void 0&&(y.wireframeLinejoin=r.wireframeLinejoin),r.rotation!==void 0&&(y.rotation=r.rotation),r.linewidth!==void 0&&(y.linewidth=r.linewidth),r.dashSize!==void 0&&(y.dashSize=r.dashSize),r.gapSize!==void 0&&(y.gapSize=r.gapSize),r.scale!==void 0&&(y.scale=r.scale),r.polygonOffset!==void 0&&(y.polygonOffset=r.polygonOffset),r.polygonOffsetFactor!==void 0&&(y.polygonOffsetFactor=r.polygonOffsetFactor),r.polygonOffsetUnits!==void 0&&(y.polygonOffsetUnits=r.polygonOffsetUnits),r.dithering!==void 0&&(y.dithering=r.dithering),r.alphaToCoverage!==void 0&&(y.alphaToCoverage=r.alphaToCoverage),r.premultipliedAlpha!==void 0&&(y.premultipliedAlpha=r.premultipliedAlpha),r.forceSinglePass!==void 0&&(y.forceSinglePass=r.forceSinglePass),r.visible!==void 0&&(y.visible=r.visible),r.toneMapped!==void 0&&(y.toneMapped=r.toneMapped),r.userData!==void 0&&(y.userData=r.userData),r.vertexColors!==void 0&&(typeof r.vertexColors=="number"?y.vertexColors=r.vertexColors>0:y.vertexColors=r.vertexColors),r.uniforms!==void 0)for(const w in r.uniforms){const B=r.uniforms[w];switch(y.uniforms[w]={},B.type){case"t":y.uniforms[w].value=f(B.value);break;case"c":y.uniforms[w].value=new an().setHex(B.value);break;case"v2":y.uniforms[w].value=new mi().fromArray(B.value);break;case"v3":y.uniforms[w].value=new ie().fromArray(B.value);break;case"v4":y.uniforms[w].value=new xr().fromArray(B.value);break;case"m3":y.uniforms[w].value=new Un().fromArray(B.value);break;case"m4":y.uniforms[w].value=new fn().fromArray(B.value);break;default:y.uniforms[w].value=B.value}}if(r.defines!==void 0&&(y.defines=r.defines),r.vertexShader!==void 0&&(y.vertexShader=r.vertexShader),r.fragmentShader!==void 0&&(y.fragmentShader=r.fragmentShader),r.glslVersion!==void 0&&(y.glslVersion=r.glslVersion),r.extensions!==void 0)for(const w in r.extensions)y.extensions[w]=r.extensions[w];if(r.lights!==void 0&&(y.lights=r.lights),r.clipping!==void 0&&(y.clipping=r.clipping),r.size!==void 0&&(y.size=r.size),r.sizeAttenuation!==void 0&&(y.sizeAttenuation=r.sizeAttenuation),r.map!==void 0&&(y.map=f(r.map)),r.matcap!==void 0&&(y.matcap=f(r.matcap)),r.alphaMap!==void 0&&(y.alphaMap=f(r.alphaMap)),r.bumpMap!==void 0&&(y.bumpMap=f(r.bumpMap)),r.bumpScale!==void 0&&(y.bumpScale=r.bumpScale),r.normalMap!==void 0&&(y.normalMap=f(r.normalMap)),r.normalMapType!==void 0&&(y.normalMapType=r.normalMapType),r.normalScale!==void 0){let w=r.normalScale;Array.isArray(w)===!1&&(w=[w,w]),y.normalScale=new mi().fromArray(w)}return r.displacementMap!==void 0&&(y.displacementMap=f(r.displacementMap)),r.displacementScale!==void 0&&(y.displacementScale=r.displacementScale),r.displacementBias!==void 0&&(y.displacementBias=r.displacementBias),r.roughnessMap!==void 0&&(y.roughnessMap=f(r.roughnessMap)),r.metalnessMap!==void 0&&(y.metalnessMap=f(r.metalnessMap)),r.emissiveMap!==void 0&&(y.emissiveMap=f(r.emissiveMap)),r.emissiveIntensity!==void 0&&(y.emissiveIntensity=r.emissiveIntensity),r.specularMap!==void 0&&(y.specularMap=f(r.specularMap)),r.specularIntensityMap!==void 0&&(y.specularIntensityMap=f(r.specularIntensityMap)),r.specularColorMap!==void 0&&(y.specularColorMap=f(r.specularColorMap)),r.envMap!==void 0&&(y.envMap=f(r.envMap)),r.envMapRotation!==void 0&&y.envMapRotation.fromArray(r.envMapRotation),r.envMapIntensity!==void 0&&(y.envMapIntensity=r.envMapIntensity),r.reflectivity!==void 0&&(y.reflectivity=r.reflectivity),r.refractionRatio!==void 0&&(y.refractionRatio=r.refractionRatio),r.lightMap!==void 0&&(y.lightMap=f(r.lightMap)),r.lightMapIntensity!==void 0&&(y.lightMapIntensity=r.lightMapIntensity),r.aoMap!==void 0&&(y.aoMap=f(r.aoMap)),r.aoMapIntensity!==void 0&&(y.aoMapIntensity=r.aoMapIntensity),r.gradientMap!==void 0&&(y.gradientMap=f(r.gradientMap)),r.clearcoatMap!==void 0&&(y.clearcoatMap=f(r.clearcoatMap)),r.clearcoatRoughnessMap!==void 0&&(y.clearcoatRoughnessMap=f(r.clearcoatRoughnessMap)),r.clearcoatNormalMap!==void 0&&(y.clearcoatNormalMap=f(r.clearcoatNormalMap)),r.clearcoatNormalScale!==void 0&&(y.clearcoatNormalScale=new mi().fromArray(r.clearcoatNormalScale)),r.iridescenceMap!==void 0&&(y.iridescenceMap=f(r.iridescenceMap)),r.iridescenceThicknessMap!==void 0&&(y.iridescenceThicknessMap=f(r.iridescenceThicknessMap)),r.transmissionMap!==void 0&&(y.transmissionMap=f(r.transmissionMap)),r.thicknessMap!==void 0&&(y.thicknessMap=f(r.thicknessMap)),r.anisotropyMap!==void 0&&(y.anisotropyMap=f(r.anisotropyMap)),r.sheenColorMap!==void 0&&(y.sheenColorMap=f(r.sheenColorMap)),r.sheenRoughnessMap!==void 0&&(y.sheenRoughnessMap=f(r.sheenRoughnessMap)),y}setTextures(r){return this.textures=r,this}static createMaterialFromType(r){const o={ShadowMaterial:WC,SpriteMaterial:s7,RawShaderMaterial:qC,ShaderMaterial:x0,PointsMaterial:m7,MeshPhysicalMaterial:KC,MeshStandardMaterial:S7,MeshPhongMaterial:XC,MeshToonMaterial:YC,MeshNormalMaterial:ZC,MeshLambertMaterial:t_,MeshDepthMaterial:i7,MeshDistanceMaterial:n7,MeshBasicMaterial:Kl,MeshMatcapMaterial:e_,LineDashedMaterial:i_,LineBasicMaterial:ls,Material:H9};return new o[r]}}class N7{static decodeText(r){if(typeof TextDecoder<"u")return new TextDecoder().decode(r);let o="";for(let f=0,y=r.length;f<y;f++)o+=String.fromCharCode(r[f]);try{return decodeURIComponent(escape(o))}catch{return o}}static extractUrlBase(r){const o=r.lastIndexOf("/");return o===-1?"./":r.slice(0,o+1)}static resolveURL(r,o){return typeof r!="string"||r===""?"":(/^https?:\/\//i.test(o)&&/^\//.test(r)&&(o=o.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(r)||/^data:.*,.*$/i.test(r)||/^blob:.*$/i.test(r)?r:o+r)}}class v_ extends lr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(r){return super.copy(r),this.instanceCount=r.instanceCount,this}toJSON(){const r=super.toJSON();return r.instanceCount=this.instanceCount,r.isInstancedBufferGeometry=!0,r}}class b_ extends bs{constructor(r){super(r)}load(r,o,f,y){const w=this,B=new tl(w.manager);B.setPath(w.path),B.setRequestHeader(w.requestHeader),B.setWithCredentials(w.withCredentials),B.load(r,function(k){try{o(w.parse(JSON.parse(k)))}catch(G){y?y(G):console.error(G),w.manager.itemError(r)}},f,y)}parse(r){const o={},f={};function y(at,ct){if(o[ct]!==void 0)return o[ct];const ft=at.interleavedBuffers[ct],st=w(at,ft.buffer),Gt=Ql(ft.type,st),$t=new _3(Gt,ft.stride);return $t.uuid=ft.uuid,o[ct]=$t,$t}function w(at,ct){if(f[ct]!==void 0)return f[ct];const ft=at.arrayBuffers[ct],st=new Uint32Array(ft).buffer;return f[ct]=st,st}const B=r.isInstancedBufferGeometry?new v_:new lr,k=r.data.index;if(k!==void 0){const at=Ql(k.type,k.array);B.setIndex(new Jr(at,1))}const G=r.data.attributes;for(const at in G){const ct=G[at];let yt;if(ct.isInterleavedBufferAttribute){const ft=y(r.data,ct.data);yt=new Mu(ft,ct.itemSize,ct.offset,ct.normalized)}else{const ft=Ql(ct.type,ct.array),st=ct.isInstancedBufferAttribute?qd:Jr;yt=new st(ft,ct.itemSize,ct.normalized)}ct.name!==void 0&&(yt.name=ct.name),ct.usage!==void 0&&yt.setUsage(ct.usage),B.setAttribute(at,yt)}const H=r.data.morphAttributes;if(H)for(const at in H){const ct=H[at],yt=[];for(let ft=0,st=ct.length;ft<st;ft++){const Gt=ct[ft];let $t;if(Gt.isInterleavedBufferAttribute){const Lt=y(r.data,Gt.data);$t=new Mu(Lt,Gt.itemSize,Gt.offset,Gt.normalized)}else{const Lt=Ql(Gt.type,Gt.array);$t=new Jr(Lt,Gt.itemSize,Gt.normalized)}Gt.name!==void 0&&($t.name=Gt.name),yt.push($t)}B.morphAttributes[at]=yt}r.data.morphTargetsRelative&&(B.morphTargetsRelative=!0);const nt=r.data.groups||r.data.drawcalls||r.data.offsets;if(nt!==void 0)for(let at=0,ct=nt.length;at!==ct;++at){const yt=nt[at];B.addGroup(yt.start,yt.count,yt.materialIndex)}const rt=r.data.boundingSphere;if(rt!==void 0){const at=new ie;rt.center!==void 0&&at.fromArray(rt.center),B.boundingSphere=new a9(at,rt.radius)}return r.name&&(B.name=r.name),r.userData&&(B.userData=r.userData),B}}class vz extends bs{constructor(r){super(r)}load(r,o,f,y){const w=this,B=this.path===""?N7.extractUrlBase(r):this.path;this.resourcePath=this.resourcePath||B;const k=new tl(this.manager);k.setPath(this.path),k.setRequestHeader(this.requestHeader),k.setWithCredentials(this.withCredentials),k.load(r,function(G){let H=null;try{H=JSON.parse(G)}catch(nt){y!==void 0&&y(nt),console.error("THREE:ObjectLoader: Can't parse "+r+".",nt.message);return}const Z=H.metadata;if(Z===void 0||Z.type===void 0||Z.type.toLowerCase()==="geometry"){y!==void 0&&y(new Error("THREE.ObjectLoader: Can't load "+r)),console.error("THREE.ObjectLoader: Can't load "+r);return}w.parse(H,o)},f,y)}async loadAsync(r,o){const f=this,y=this.path===""?N7.extractUrlBase(r):this.path;this.resourcePath=this.resourcePath||y;const w=new tl(this.manager);w.setPath(this.path),w.setRequestHeader(this.requestHeader),w.setWithCredentials(this.withCredentials);const B=await w.loadAsync(r,o),k=JSON.parse(B),G=k.metadata;if(G===void 0||G.type===void 0||G.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+r);return await f.parseAsync(k)}parse(r,o){const f=this.parseAnimations(r.animations),y=this.parseShapes(r.shapes),w=this.parseGeometries(r.geometries,y),B=this.parseImages(r.images,function(){o!==void 0&&o(H)}),k=this.parseTextures(r.textures,B),G=this.parseMaterials(r.materials,k),H=this.parseObject(r.object,w,G,k,f),Z=this.parseSkeletons(r.skeletons,H);if(this.bindSkeletons(H,Z),o!==void 0){let nt=!1;for(const rt in B)if(B[rt].data instanceof HTMLImageElement){nt=!0;break}nt===!1&&o(H)}return H}async parseAsync(r){const o=this.parseAnimations(r.animations),f=this.parseShapes(r.shapes),y=this.parseGeometries(r.geometries,f),w=await this.parseImagesAsync(r.images),B=this.parseTextures(r.textures,w),k=this.parseMaterials(r.materials,B),G=this.parseObject(r.object,y,k,B,o),H=this.parseSkeletons(r.skeletons,G);return this.bindSkeletons(G,H),G}parseShapes(r){const o={};if(r!==void 0)for(let f=0,y=r.length;f<y;f++){const w=new yu().fromJSON(r[f]);o[w.uuid]=w}return o}parseSkeletons(r,o){const f={},y={};if(o.traverse(function(w){w.isBone&&(y[w.uuid]=w)}),r!==void 0)for(let w=0,B=r.length;w<B;w++){const k=new T3().fromJSON(r[w],y);f[k.uuid]=k}return f}parseGeometries(r,o){const f={};if(r!==void 0){const w=new b_;for(let B=0,k=r.length;B<k;B++){let G;const H=r[B];switch(H.type){case"BufferGeometry":case"InstancedBufferGeometry":G=w.parse(H);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var y=new THREE.LegacyJSONLoader;G=y.parse(H,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:H.type in JC?G=JC[H.type].fromJSON(H,o):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${H.type}"`)}G.uuid=H.uuid,H.name!==void 0&&(G.name=H.name),H.userData!==void 0&&(G.userData=H.userData),f[H.uuid]=G}}return f}parseMaterials(r,o){const f={},y={};if(r!==void 0){const w=new o4;w.setTextures(o);for(let B=0,k=r.length;B<k;B++){const G=r[B];f[G.uuid]===void 0&&(f[G.uuid]=w.parse(G)),y[G.uuid]=f[G.uuid]}}return y}parseAnimations(r){const o={};if(r!==void 0)for(let f=0;f<r.length;f++){const y=r[f],w=d1.parse(y);o[w.uuid]=w}return o}parseImages(r,o){const f=this,y={};let w;function B(G){return f.manager.itemStart(G),w.load(G,function(){f.manager.itemEnd(G)},void 0,function(){f.manager.itemError(G),f.manager.itemEnd(G)})}function k(G){if(typeof G=="string"){const H=G,Z=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(H)?H:f.resourcePath+H;return B(Z)}else return G.data?{data:Ql(G.type,G.data),width:G.width,height:G.height}:null}if(r!==void 0&&r.length>0){const G=new D7(o);w=new h1(G),w.setCrossOrigin(this.crossOrigin);for(let H=0,Z=r.length;H<Z;H++){const nt=r[H],rt=nt.url;if(Array.isArray(rt)){const at=[];for(let ct=0,yt=rt.length;ct<yt;ct++){const ft=rt[ct],st=k(ft);st!==null&&(st instanceof HTMLImageElement?at.push(st):at.push(new Zl(st.data,st.width,st.height)))}y[nt.uuid]=new ya(at)}else{const at=k(nt.url);y[nt.uuid]=new ya(at)}}}return y}async parseImagesAsync(r){const o=this,f={};let y;async function w(B){if(typeof B=="string"){const k=B,G=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(k)?k:o.resourcePath+k;return await y.loadAsync(G)}else return B.data?{data:Ql(B.type,B.data),width:B.width,height:B.height}:null}if(r!==void 0&&r.length>0){y=new h1(this.manager),y.setCrossOrigin(this.crossOrigin);for(let B=0,k=r.length;B<k;B++){const G=r[B],H=G.url;if(Array.isArray(H)){const Z=[];for(let nt=0,rt=H.length;nt<rt;nt++){const at=H[nt],ct=await w(at);ct!==null&&(ct instanceof HTMLImageElement?Z.push(ct):Z.push(new Zl(ct.data,ct.width,ct.height)))}f[G.uuid]=new ya(Z)}else{const Z=await w(G.url);f[G.uuid]=new ya(Z)}}}return f}parseTextures(r,o){function f(w,B){return typeof w=="number"?w:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",w),B[w])}const y={};if(r!==void 0)for(let w=0,B=r.length;w<B;w++){const k=r[w];k.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',k.uuid),o[k.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",k.image);const G=o[k.image],H=G.data;let Z;Array.isArray(H)?(Z=new Hf,H.length===6&&(Z.needsUpdate=!0)):(H&&H.data?Z=new Zl:Z=new la,H&&(Z.needsUpdate=!0)),Z.source=G,Z.uuid=k.uuid,k.name!==void 0&&(Z.name=k.name),k.mapping!==void 0&&(Z.mapping=f(k.mapping,bz)),k.channel!==void 0&&(Z.channel=k.channel),k.offset!==void 0&&Z.offset.fromArray(k.offset),k.repeat!==void 0&&Z.repeat.fromArray(k.repeat),k.center!==void 0&&Z.center.fromArray(k.center),k.rotation!==void 0&&(Z.rotation=k.rotation),k.wrap!==void 0&&(Z.wrapS=f(k.wrap[0],C_),Z.wrapT=f(k.wrap[1],C_)),k.format!==void 0&&(Z.format=k.format),k.internalFormat!==void 0&&(Z.internalFormat=k.internalFormat),k.type!==void 0&&(Z.type=k.type),k.colorSpace!==void 0&&(Z.colorSpace=k.colorSpace),k.minFilter!==void 0&&(Z.minFilter=f(k.minFilter,__)),k.magFilter!==void 0&&(Z.magFilter=f(k.magFilter,__)),k.anisotropy!==void 0&&(Z.anisotropy=k.anisotropy),k.flipY!==void 0&&(Z.flipY=k.flipY),k.generateMipmaps!==void 0&&(Z.generateMipmaps=k.generateMipmaps),k.premultiplyAlpha!==void 0&&(Z.premultiplyAlpha=k.premultiplyAlpha),k.unpackAlignment!==void 0&&(Z.unpackAlignment=k.unpackAlignment),k.compareFunction!==void 0&&(Z.compareFunction=k.compareFunction),k.userData!==void 0&&(Z.userData=k.userData),y[k.uuid]=Z}return y}parseObject(r,o,f,y,w){let B;function k(rt){return o[rt]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",rt),o[rt]}function G(rt){if(rt!==void 0){if(Array.isArray(rt)){const at=[];for(let ct=0,yt=rt.length;ct<yt;ct++){const ft=rt[ct];f[ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ft),at.push(f[ft])}return at}return f[rt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",rt),f[rt]}}function H(rt){return y[rt]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",rt),y[rt]}let Z,nt;switch(r.type){case"Scene":B=new rC,r.background!==void 0&&(Number.isInteger(r.background)?B.background=new an(r.background):B.background=H(r.background)),r.environment!==void 0&&(B.environment=H(r.environment)),r.fog!==void 0&&(r.fog.type==="Fog"?B.fog=new C3(r.fog.color,r.fog.near,r.fog.far):r.fog.type==="FogExp2"&&(B.fog=new b3(r.fog.color,r.fog.density)),r.fog.name!==""&&(B.fog.name=r.fog.name)),r.backgroundBlurriness!==void 0&&(B.backgroundBlurriness=r.backgroundBlurriness),r.backgroundIntensity!==void 0&&(B.backgroundIntensity=r.backgroundIntensity),r.backgroundRotation!==void 0&&B.backgroundRotation.fromArray(r.backgroundRotation),r.environmentIntensity!==void 0&&(B.environmentIntensity=r.environmentIntensity),r.environmentRotation!==void 0&&B.environmentRotation.fromArray(r.environmentRotation);break;case"PerspectiveCamera":B=new o9(r.fov,r.aspect,r.near,r.far),r.focus!==void 0&&(B.focus=r.focus),r.zoom!==void 0&&(B.zoom=r.zoom),r.filmGauge!==void 0&&(B.filmGauge=r.filmGauge),r.filmOffset!==void 0&&(B.filmOffset=r.filmOffset),r.view!==void 0&&(B.view=Object.assign({},r.view));break;case"OrthographicCamera":B=new M3(r.left,r.right,r.top,r.bottom,r.near,r.far),r.zoom!==void 0&&(B.zoom=r.zoom),r.view!==void 0&&(B.view=Object.assign({},r.view));break;case"AmbientLight":B=new g_(r.color,r.intensity);break;case"DirectionalLight":B=new p_(r.color,r.intensity);break;case"PointLight":B=new m_(r.color,r.intensity,r.distance,r.decay);break;case"RectAreaLight":B=new M_(r.color,r.intensity,r.width,r.height);break;case"SpotLight":B=new h_(r.color,r.intensity,r.distance,r.angle,r.penumbra,r.decay);break;case"HemisphereLight":B=new c_(r.color,r.groundColor,r.intensity);break;case"LightProbe":B=new y_().fromJSON(r);break;case"SkinnedMesh":Z=k(r.geometry),nt=G(r.material),B=new gC(Z,nt),r.bindMode!==void 0&&(B.bindMode=r.bindMode),r.bindMatrix!==void 0&&B.bindMatrix.fromArray(r.bindMatrix),r.skeleton!==void 0&&(B.skeleton=r.skeleton);break;case"Mesh":Z=k(r.geometry),nt=G(r.material),B=new Za(Z,nt);break;case"InstancedMesh":Z=k(r.geometry),nt=G(r.material);const rt=r.count,at=r.instanceMatrix,ct=r.instanceColor;B=new vC(Z,nt,rt),B.instanceMatrix=new qd(new Float32Array(at.array),16),ct!==void 0&&(B.instanceColor=new qd(new Float32Array(ct.array),ct.itemSize));break;case"BatchedMesh":Z=k(r.geometry),nt=G(r.material),B=new _C(r.maxGeometryCount,r.maxVertexCount,r.maxIndexCount,nt),B.geometry=Z,B.perObjectFrustumCulled=r.perObjectFrustumCulled,B.sortObjects=r.sortObjects,B._drawRanges=r.drawRanges,B._reservedRanges=r.reservedRanges,B._visibility=r.visibility,B._active=r.active,B._bounds=r.bounds.map(yt=>{const ft=new Ta;ft.min.fromArray(yt.boxMin),ft.max.fromArray(yt.boxMax);const st=new a9;return st.radius=yt.sphereRadius,st.center.fromArray(yt.sphereCenter),{boxInitialized:yt.boxInitialized,box:ft,sphereInitialized:yt.sphereInitialized,sphere:st}}),B._maxGeometryCount=r.maxGeometryCount,B._maxVertexCount=r.maxVertexCount,B._maxIndexCount=r.maxIndexCount,B._geometryInitialized=r.geometryInitialized,B._geometryCount=r.geometryCount,B._matricesTexture=H(r.matricesTexture.uuid);break;case"LOD":B=new uC;break;case"Line":B=new ec(k(r.geometry),G(r.material));break;case"LineLoop":B=new SC(k(r.geometry),G(r.material));break;case"LineSegments":B=new oo(k(r.geometry),G(r.material));break;case"PointCloud":case"Points":B=new IC(k(r.geometry),G(r.material));break;case"Sprite":B=new lC(G(r.material));break;case"Group":B=new pu;break;case"Bone":B=new u7;break;default:B=new Rr}if(B.uuid=r.uuid,r.name!==void 0&&(B.name=r.name),r.matrix!==void 0?(B.matrix.fromArray(r.matrix),r.matrixAutoUpdate!==void 0&&(B.matrixAutoUpdate=r.matrixAutoUpdate),B.matrixAutoUpdate&&B.matrix.decompose(B.position,B.quaternion,B.scale)):(r.position!==void 0&&B.position.fromArray(r.position),r.rotation!==void 0&&B.rotation.fromArray(r.rotation),r.quaternion!==void 0&&B.quaternion.fromArray(r.quaternion),r.scale!==void 0&&B.scale.fromArray(r.scale)),r.up!==void 0&&B.up.fromArray(r.up),r.castShadow!==void 0&&(B.castShadow=r.castShadow),r.receiveShadow!==void 0&&(B.receiveShadow=r.receiveShadow),r.shadow&&(r.shadow.bias!==void 0&&(B.shadow.bias=r.shadow.bias),r.shadow.normalBias!==void 0&&(B.shadow.normalBias=r.shadow.normalBias),r.shadow.radius!==void 0&&(B.shadow.radius=r.shadow.radius),r.shadow.mapSize!==void 0&&B.shadow.mapSize.fromArray(r.shadow.mapSize),r.shadow.camera!==void 0&&(B.shadow.camera=this.parseObject(r.shadow.camera))),r.visible!==void 0&&(B.visible=r.visible),r.frustumCulled!==void 0&&(B.frustumCulled=r.frustumCulled),r.renderOrder!==void 0&&(B.renderOrder=r.renderOrder),r.userData!==void 0&&(B.userData=r.userData),r.layers!==void 0&&(B.layers.mask=r.layers),r.children!==void 0){const rt=r.children;for(let at=0;at<rt.length;at++)B.add(this.parseObject(rt[at],o,f,y,w))}if(r.animations!==void 0){const rt=r.animations;for(let at=0;at<rt.length;at++){const ct=rt[at];B.animations.push(w[ct])}}if(r.type==="LOD"){r.autoUpdate!==void 0&&(B.autoUpdate=r.autoUpdate);const rt=r.levels;for(let at=0;at<rt.length;at++){const ct=rt[at],yt=B.getObjectByProperty("uuid",ct.object);yt!==void 0&&B.addLevel(yt,ct.distance,ct.hysteresis)}}return B}bindSkeletons(r,o){Object.keys(o).length!==0&&r.traverse(function(f){if(f.isSkinnedMesh===!0&&f.skeleton!==void 0){const y=o[f.skeleton];y===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",f.skeleton):f.bind(y,f.bindMatrix)}})}}const bz={UVMapping:zt,CubeReflectionMapping:ht,CubeRefractionMapping:X,EquirectangularReflectionMapping:tt,EquirectangularRefractionMapping:Tt,CubeUVReflectionMapping:Qt},C_={RepeatWrapping:Zt,ClampToEdgeWrapping:ce,MirroredRepeatWrapping:ye},__={NearestFilter:$e,NearestMipmapNearestFilter:ge,NearestMipmapLinearFilter:_e,LinearFilter:Le,LinearMipmapNearestFilter:ke,LinearMipmapLinearFilter:Ii};class Cz extends bs{constructor(r){super(r),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(r){return this.options=r,this}load(r,o,f,y){r===void 0&&(r=""),this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const w=this,B=Yo.get(r);if(B!==void 0){if(w.manager.itemStart(r),B.then){B.then(H=>{o&&o(H),w.manager.itemEnd(r)}).catch(H=>{y&&y(H)});return}return setTimeout(function(){o&&o(B),w.manager.itemEnd(r)},0),B}const k={};k.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",k.headers=this.requestHeader;const G=fetch(r,k).then(function(H){return H.blob()}).then(function(H){return createImageBitmap(H,Object.assign(w.options,{colorSpaceConversion:"none"}))}).then(function(H){return Yo.add(r,H),o&&o(H),w.manager.itemEnd(r),H}).catch(function(H){y&&y(H),Yo.remove(r),w.manager.itemError(r),w.manager.itemEnd(r)});Yo.add(r,G),w.manager.itemStart(r)}}let l4;class F7{static getContext(){return l4===void 0&&(l4=new(window.AudioContext||window.webkitAudioContext)),l4}static setContext(r){l4=r}}class _z extends bs{constructor(r){super(r)}load(r,o,f,y){const w=this,B=new tl(this.manager);B.setResponseType("arraybuffer"),B.setPath(this.path),B.setRequestHeader(this.requestHeader),B.setWithCredentials(this.withCredentials),B.load(r,function(G){try{const H=G.slice(0);F7.getContext().decodeAudioData(H,function(nt){o(nt)}).catch(k)}catch(H){k(H)}},f,y);function k(G){y?y(G):console.error(G),w.manager.itemError(r)}}}const E_=new fn,w_=new fn,Eu=new fn;class Ez{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new o9,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new o9,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(r){const o=this._cache;if(o.focus!==r.focus||o.fov!==r.fov||o.aspect!==r.aspect*this.aspect||o.near!==r.near||o.far!==r.far||o.zoom!==r.zoom||o.eyeSep!==this.eyeSep){o.focus=r.focus,o.fov=r.fov,o.aspect=r.aspect*this.aspect,o.near=r.near,o.far=r.far,o.zoom=r.zoom,o.eyeSep=this.eyeSep,Eu.copy(r.projectionMatrix);const y=o.eyeSep/2,w=y*o.near/o.focus,B=o.near*Math.tan(Qo*o.fov*.5)/o.zoom;let k,G;w_.elements[12]=-y,E_.elements[12]=y,k=-B*o.aspect+w,G=B*o.aspect+w,Eu.elements[0]=2*o.near/(G-k),Eu.elements[8]=(G+k)/(G-k),this.cameraL.projectionMatrix.copy(Eu),k=-B*o.aspect-w,G=B*o.aspect-w,Eu.elements[0]=2*o.near/(G-k),Eu.elements[8]=(G+k)/(G-k),this.cameraR.projectionMatrix.copy(Eu)}this.cameraL.matrixWorld.copy(r.matrixWorld).multiply(w_),this.cameraR.matrixWorld.copy(r.matrixWorld).multiply(E_)}}class O_{constructor(r=!0){this.autoStart=r,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=x_(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let r=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const o=x_();r=(o-this.oldTime)/1e3,this.oldTime=o,this.elapsedTime+=r}return r}}function x_(){return(typeof performance>"u"?Date:performance).now()}const wu=new ie,S_=new Br,wz=new ie,Ou=new ie;class Oz extends Rr{constructor(){super(),this.type="AudioListener",this.context=F7.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new O_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(r){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=r,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(r){return this.gain.gain.setTargetAtTime(r,this.context.currentTime,.01),this}updateMatrixWorld(r){super.updateMatrixWorld(r);const o=this.context.listener,f=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wu,S_,wz),Ou.set(0,0,-1).applyQuaternion(S_),o.positionX){const y=this.context.currentTime+this.timeDelta;o.positionX.linearRampToValueAtTime(wu.x,y),o.positionY.linearRampToValueAtTime(wu.y,y),o.positionZ.linearRampToValueAtTime(wu.z,y),o.forwardX.linearRampToValueAtTime(Ou.x,y),o.forwardY.linearRampToValueAtTime(Ou.y,y),o.forwardZ.linearRampToValueAtTime(Ou.z,y),o.upX.linearRampToValueAtTime(f.x,y),o.upY.linearRampToValueAtTime(f.y,y),o.upZ.linearRampToValueAtTime(f.z,y)}else o.setPosition(wu.x,wu.y,wu.z),o.setOrientation(Ou.x,Ou.y,Ou.z,f.x,f.y,f.z)}}class T_ extends Rr{constructor(r){super(),this.type="Audio",this.listener=r,this.context=r.context,this.gain=this.context.createGain(),this.gain.connect(r.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(r){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=r,this.connect(),this}setMediaElementSource(r){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(r),this.connect(),this}setMediaStreamSource(r){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(r),this.connect(),this}setBuffer(r){return this.buffer=r,this.sourceType="buffer",this.autoplay&&this.play(),this}play(r=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+r;const o=this.context.createBufferSource();return o.buffer=this.buffer,o.loop=this.loop,o.loopStart=this.loopStart,o.loopEnd=this.loopEnd,o.onended=this.onEnded.bind(this),o.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=o,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let r=1,o=this.filters.length;r<o;r++)this.filters[r-1].connect(this.filters[r]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let r=1,o=this.filters.length;r<o;r++)this.filters[r-1].disconnect(this.filters[r]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(r){return r||(r=[]),this._connected===!0?(this.disconnect(),this.filters=r.slice(),this.connect()):this.filters=r.slice(),this}setDetune(r){return this.detune=r,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(r){return this.setFilters(r?[r]:[])}setPlaybackRate(r){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=r,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(r){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=r,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(r){return this.loopStart=r,this}setLoopEnd(r){return this.loopEnd=r,this}getVolume(){return this.gain.gain.value}setVolume(r){return this.gain.gain.setTargetAtTime(r,this.context.currentTime,.01),this}}const xu=new ie,I_=new Br,xz=new ie,Su=new ie;class Sz extends T_{constructor(r){super(r),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(r){return this.panner.refDistance=r,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(r){return this.panner.rolloffFactor=r,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(r){return this.panner.distanceModel=r,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(r){return this.panner.maxDistance=r,this}setDirectionalCone(r,o,f){return this.panner.coneInnerAngle=r,this.panner.coneOuterAngle=o,this.panner.coneOuterGain=f,this}updateMatrixWorld(r){if(super.updateMatrixWorld(r),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(xu,I_,xz),Su.set(0,0,1).applyQuaternion(I_);const o=this.panner;if(o.positionX){const f=this.context.currentTime+this.listener.timeDelta;o.positionX.linearRampToValueAtTime(xu.x,f),o.positionY.linearRampToValueAtTime(xu.y,f),o.positionZ.linearRampToValueAtTime(xu.z,f),o.orientationX.linearRampToValueAtTime(Su.x,f),o.orientationY.linearRampToValueAtTime(Su.y,f),o.orientationZ.linearRampToValueAtTime(Su.z,f)}else o.setPosition(xu.x,xu.y,xu.z),o.setOrientation(Su.x,Su.y,Su.z)}}class Tz{constructor(r,o=2048){this.analyser=r.context.createAnalyser(),this.analyser.fftSize=o,this.data=new Uint8Array(this.analyser.frequencyBinCount),r.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let r=0;const o=this.getFrequencyData();for(let f=0;f<o.length;f++)r+=o[f];return r/o.length}}class B_{constructor(r,o,f){this.binding=r,this.valueSize=f;let y,w,B;switch(o){case"quaternion":y=this._slerp,w=this._slerpAdditive,B=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(f*6),this._workIndex=5;break;case"string":case"bool":y=this._select,w=this._select,B=this._setAdditiveIdentityOther,this.buffer=new Array(f*5);break;default:y=this._lerp,w=this._lerpAdditive,B=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(f*5)}this._mixBufferRegion=y,this._mixBufferRegionAdditive=w,this._setIdentity=B,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(r,o){const f=this.buffer,y=this.valueSize,w=r*y+y;let B=this.cumulativeWeight;if(B===0){for(let k=0;k!==y;++k)f[w+k]=f[k];B=o}else{B+=o;const k=o/B;this._mixBufferRegion(f,w,0,k,y)}this.cumulativeWeight=B}accumulateAdditive(r){const o=this.buffer,f=this.valueSize,y=f*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(o,y,0,r,f),this.cumulativeWeightAdditive+=r}apply(r){const o=this.valueSize,f=this.buffer,y=r*o+o,w=this.cumulativeWeight,B=this.cumulativeWeightAdditive,k=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,w<1){const G=o*this._origIndex;this._mixBufferRegion(f,y,G,1-w,o)}B>0&&this._mixBufferRegionAdditive(f,y,this._addIndex*o,1,o);for(let G=o,H=o+o;G!==H;++G)if(f[G]!==f[G+o]){k.setValue(f,y);break}}saveOriginalState(){const r=this.binding,o=this.buffer,f=this.valueSize,y=f*this._origIndex;r.getValue(o,y);for(let w=f,B=y;w!==B;++w)o[w]=o[y+w%f];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const r=this.valueSize*3;this.binding.setValue(this.buffer,r)}_setAdditiveIdentityNumeric(){const r=this._addIndex*this.valueSize,o=r+this.valueSize;for(let f=r;f<o;f++)this.buffer[f]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const r=this._origIndex*this.valueSize,o=this._addIndex*this.valueSize;for(let f=0;f<this.valueSize;f++)this.buffer[o+f]=this.buffer[r+f]}_select(r,o,f,y,w){if(y>=.5)for(let B=0;B!==w;++B)r[o+B]=r[f+B]}_slerp(r,o,f,y){Br.slerpFlat(r,o,r,o,r,f,y)}_slerpAdditive(r,o,f,y,w){const B=this._workIndex*w;Br.multiplyQuaternionsFlat(r,B,r,o,r,f),Br.slerpFlat(r,o,r,o,r,B,y)}_lerp(r,o,f,y,w){const B=1-y;for(let k=0;k!==w;++k){const G=o+k;r[G]=r[G]*B+r[f+k]*y}}_lerpAdditive(r,o,f,y,w){for(let B=0;B!==w;++B){const k=o+B;r[k]=r[k]+r[f+B]*y}}}const U7="\\[\\]\\.:\\/",Iz=new RegExp("["+U7+"]","g"),$7="[^"+U7+"]",Bz="[^"+U7.replace("\\.","")+"]",Rz=/((?:WC+[\/:])*)/.source.replace("WC",$7),Dz=/(WCOD+)?/.source.replace("WCOD",Bz),Pz=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",$7),Lz=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",$7),kz=new RegExp("^"+Rz+Dz+Pz+Lz+"$"),Nz=["material","materials","bones","map"];class Fz{constructor(r,o,f){const y=f||Sr.parseTrackName(o);this._targetGroup=r,this._bindings=r.subscribe_(o,y)}getValue(r,o){this.bind();const f=this._targetGroup.nCachedObjects_,y=this._bindings[f];y!==void 0&&y.getValue(r,o)}setValue(r,o){const f=this._bindings;for(let y=this._targetGroup.nCachedObjects_,w=f.length;y!==w;++y)f[y].setValue(r,o)}bind(){const r=this._bindings;for(let o=this._targetGroup.nCachedObjects_,f=r.length;o!==f;++o)r[o].bind()}unbind(){const r=this._bindings;for(let o=this._targetGroup.nCachedObjects_,f=r.length;o!==f;++o)r[o].unbind()}}class Sr{constructor(r,o,f){this.path=o,this.parsedPath=f||Sr.parseTrackName(o),this.node=Sr.findNode(r,this.parsedPath.nodeName),this.rootNode=r,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(r,o,f){return r&&r.isAnimationObjectGroup?new Sr.Composite(r,o,f):new Sr(r,o,f)}static sanitizeNodeName(r){return r.replace(/\s/g,"_").replace(Iz,"")}static parseTrackName(r){const o=kz.exec(r);if(o===null)throw new Error("PropertyBinding: Cannot parse trackName: "+r);const f={nodeName:o[2],objectName:o[3],objectIndex:o[4],propertyName:o[5],propertyIndex:o[6]},y=f.nodeName&&f.nodeName.lastIndexOf(".");if(y!==void 0&&y!==-1){const w=f.nodeName.substring(y+1);Nz.indexOf(w)!==-1&&(f.nodeName=f.nodeName.substring(0,y),f.objectName=w)}if(f.propertyName===null||f.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+r);return f}static findNode(r,o){if(o===void 0||o===""||o==="."||o===-1||o===r.name||o===r.uuid)return r;if(r.skeleton){const f=r.skeleton.getBoneByName(o);if(f!==void 0)return f}if(r.children){const f=function(w){for(let B=0;B<w.length;B++){const k=w[B];if(k.name===o||k.uuid===o)return k;const G=f(k.children);if(G)return G}return null},y=f(r.children);if(y)return y}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(r,o){r[o]=this.targetObject[this.propertyName]}_getValue_array(r,o){const f=this.resolvedProperty;for(let y=0,w=f.length;y!==w;++y)r[o++]=f[y]}_getValue_arrayElement(r,o){r[o]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(r,o){this.resolvedProperty.toArray(r,o)}_setValue_direct(r,o){this.targetObject[this.propertyName]=r[o]}_setValue_direct_setNeedsUpdate(r,o){this.targetObject[this.propertyName]=r[o],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(r,o){this.targetObject[this.propertyName]=r[o],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(r,o){const f=this.resolvedProperty;for(let y=0,w=f.length;y!==w;++y)f[y]=r[o++]}_setValue_array_setNeedsUpdate(r,o){const f=this.resolvedProperty;for(let y=0,w=f.length;y!==w;++y)f[y]=r[o++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(r,o){const f=this.resolvedProperty;for(let y=0,w=f.length;y!==w;++y)f[y]=r[o++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(r,o){this.resolvedProperty[this.propertyIndex]=r[o]}_setValue_arrayElement_setNeedsUpdate(r,o){this.resolvedProperty[this.propertyIndex]=r[o],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(r,o){this.resolvedProperty[this.propertyIndex]=r[o],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(r,o){this.resolvedProperty.fromArray(r,o)}_setValue_fromArray_setNeedsUpdate(r,o){this.resolvedProperty.fromArray(r,o),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(r,o){this.resolvedProperty.fromArray(r,o),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(r,o){this.bind(),this.getValue(r,o)}_setValue_unbound(r,o){this.bind(),this.setValue(r,o)}bind(){let r=this.node;const o=this.parsedPath,f=o.objectName,y=o.propertyName;let w=o.propertyIndex;if(r||(r=Sr.findNode(this.rootNode,o.nodeName),this.node=r),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!r){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(f){let H=o.objectIndex;switch(f){case"materials":if(!r.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!r.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}r=r.material.materials;break;case"bones":if(!r.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}r=r.skeleton.bones;for(let Z=0;Z<r.length;Z++)if(r[Z].name===H){H=Z;break}break;case"map":if("map"in r){r=r.map;break}if(!r.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!r.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}r=r.material.map;break;default:if(r[f]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}r=r[f]}if(H!==void 0){if(r[H]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,r);return}r=r[H]}}const B=r[y];if(B===void 0){const H=o.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+H+"."+y+" but it wasn't found.",r);return}let k=this.Versioning.None;this.targetObject=r,r.needsUpdate!==void 0?k=this.Versioning.NeedsUpdate:r.matrixWorldNeedsUpdate!==void 0&&(k=this.Versioning.MatrixWorldNeedsUpdate);let G=this.BindingType.Direct;if(w!==void 0){if(y==="morphTargetInfluences"){if(!r.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!r.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}r.morphTargetDictionary[w]!==void 0&&(w=r.morphTargetDictionary[w])}G=this.BindingType.ArrayElement,this.resolvedProperty=B,this.propertyIndex=w}else B.fromArray!==void 0&&B.toArray!==void 0?(G=this.BindingType.HasFromToArray,this.resolvedProperty=B):Array.isArray(B)?(G=this.BindingType.EntireArray,this.resolvedProperty=B):this.propertyName=y;this.getValue=this.GetterByBindingType[G],this.setValue=this.SetterByBindingTypeAndVersioning[G][k]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Sr.Composite=Fz,Sr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Sr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Sr.prototype.GetterByBindingType=[Sr.prototype._getValue_direct,Sr.prototype._getValue_array,Sr.prototype._getValue_arrayElement,Sr.prototype._getValue_toArray],Sr.prototype.SetterByBindingTypeAndVersioning=[[Sr.prototype._setValue_direct,Sr.prototype._setValue_direct_setNeedsUpdate,Sr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Sr.prototype._setValue_array,Sr.prototype._setValue_array_setNeedsUpdate,Sr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Sr.prototype._setValue_arrayElement,Sr.prototype._setValue_arrayElement_setNeedsUpdate,Sr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Sr.prototype._setValue_fromArray,Sr.prototype._setValue_fromArray_setNeedsUpdate,Sr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Uz{constructor(){this.isAnimationObjectGroup=!0,this.uuid=rs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const r={};this._indicesByUUID=r;for(let f=0,y=arguments.length;f!==y;++f)r[arguments[f].uuid]=f;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const o=this;this.stats={objects:{get total(){return o._objects.length},get inUse(){return this.total-o.nCachedObjects_}},get bindingsPerObject(){return o._bindings.length}}}add(){const r=this._objects,o=this._indicesByUUID,f=this._paths,y=this._parsedPaths,w=this._bindings,B=w.length;let k,G=r.length,H=this.nCachedObjects_;for(let Z=0,nt=arguments.length;Z!==nt;++Z){const rt=arguments[Z],at=rt.uuid;let ct=o[at];if(ct===void 0){ct=G++,o[at]=ct,r.push(rt);for(let yt=0,ft=B;yt!==ft;++yt)w[yt].push(new Sr(rt,f[yt],y[yt]))}else if(ct<H){k=r[ct];const yt=--H,ft=r[yt];o[ft.uuid]=ct,r[ct]=ft,o[at]=yt,r[yt]=rt;for(let st=0,Gt=B;st!==Gt;++st){const $t=w[st],Lt=$t[yt];let pe=$t[ct];$t[ct]=Lt,pe===void 0&&(pe=new Sr(rt,f[st],y[st])),$t[yt]=pe}}else r[ct]!==k&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=H}remove(){const r=this._objects,o=this._indicesByUUID,f=this._bindings,y=f.length;let w=this.nCachedObjects_;for(let B=0,k=arguments.length;B!==k;++B){const G=arguments[B],H=G.uuid,Z=o[H];if(Z!==void 0&&Z>=w){const nt=w++,rt=r[nt];o[rt.uuid]=Z,r[Z]=rt,o[H]=nt,r[nt]=G;for(let at=0,ct=y;at!==ct;++at){const yt=f[at],ft=yt[nt],st=yt[Z];yt[Z]=ft,yt[nt]=st}}}this.nCachedObjects_=w}uncache(){const r=this._objects,o=this._indicesByUUID,f=this._bindings,y=f.length;let w=this.nCachedObjects_,B=r.length;for(let k=0,G=arguments.length;k!==G;++k){const H=arguments[k],Z=H.uuid,nt=o[Z];if(nt!==void 0)if(delete o[Z],nt<w){const rt=--w,at=r[rt],ct=--B,yt=r[ct];o[at.uuid]=nt,r[nt]=at,o[yt.uuid]=rt,r[rt]=yt,r.pop();for(let ft=0,st=y;ft!==st;++ft){const Gt=f[ft],$t=Gt[rt],Lt=Gt[ct];Gt[nt]=$t,Gt[rt]=Lt,Gt.pop()}}else{const rt=--B,at=r[rt];rt>0&&(o[at.uuid]=nt),r[nt]=at,r.pop();for(let ct=0,yt=y;ct!==yt;++ct){const ft=f[ct];ft[nt]=ft[rt],ft.pop()}}}this.nCachedObjects_=w}subscribe_(r,o){const f=this._bindingsIndicesByPath;let y=f[r];const w=this._bindings;if(y!==void 0)return w[y];const B=this._paths,k=this._parsedPaths,G=this._objects,H=G.length,Z=this.nCachedObjects_,nt=new Array(H);y=w.length,f[r]=y,B.push(r),k.push(o),w.push(nt);for(let rt=Z,at=G.length;rt!==at;++rt){const ct=G[rt];nt[rt]=new Sr(ct,r,o)}return nt}unsubscribe_(r){const o=this._bindingsIndicesByPath,f=o[r];if(f!==void 0){const y=this._paths,w=this._parsedPaths,B=this._bindings,k=B.length-1,G=B[k],H=r[k];o[H]=f,B[f]=G,B.pop(),w[f]=w[k],w.pop(),y[f]=y[k],y.pop()}}}class R_{constructor(r,o,f=null,y=o.blendMode){this._mixer=r,this._clip=o,this._localRoot=f,this.blendMode=y;const w=o.tracks,B=w.length,k=new Array(B),G={endingStart:Sa,endingEnd:Sa};for(let H=0;H!==B;++H){const Z=w[H].createInterpolant(null);k[H]=Z,Z.settings=G}this._interpolantSettings=G,this._interpolants=k,this._propertyBindings=new Array(B),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=oa,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(r){return this._startTime=r,this}setLoop(r,o){return this.loop=r,this.repetitions=o,this}setEffectiveWeight(r){return this.weight=r,this._effectiveWeight=this.enabled?r:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(r){return this._scheduleFading(r,0,1)}fadeOut(r){return this._scheduleFading(r,1,0)}crossFadeFrom(r,o,f){if(r.fadeOut(o),this.fadeIn(o),f){const y=this._clip.duration,w=r._clip.duration,B=w/y,k=y/w;r.warp(1,B,o),this.warp(k,1,o)}return this}crossFadeTo(r,o,f){return r.crossFadeFrom(this,o,f)}stopFading(){const r=this._weightInterpolant;return r!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(r)),this}setEffectiveTimeScale(r){return this.timeScale=r,this._effectiveTimeScale=this.paused?0:r,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(r){return this.timeScale=this._clip.duration/r,this.stopWarping()}syncWith(r){return this.time=r.time,this.timeScale=r.timeScale,this.stopWarping()}halt(r){return this.warp(this._effectiveTimeScale,0,r)}warp(r,o,f){const y=this._mixer,w=y.time,B=this.timeScale;let k=this._timeScaleInterpolant;k===null&&(k=y._lendControlInterpolant(),this._timeScaleInterpolant=k);const G=k.parameterPositions,H=k.sampleValues;return G[0]=w,G[1]=w+f,H[0]=r/B,H[1]=o/B,this}stopWarping(){const r=this._timeScaleInterpolant;return r!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(r)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(r,o,f,y){if(!this.enabled){this._updateWeight(r);return}const w=this._startTime;if(w!==null){const G=(r-w)*f;G<0||f===0?o=0:(this._startTime=null,o=f*G)}o*=this._updateTimeScale(r);const B=this._updateTime(o),k=this._updateWeight(r);if(k>0){const G=this._interpolants,H=this._propertyBindings;switch(this.blendMode){case E0:for(let Z=0,nt=G.length;Z!==nt;++Z)G[Z].evaluate(B),H[Z].accumulateAdditive(k);break;case e0:default:for(let Z=0,nt=G.length;Z!==nt;++Z)G[Z].evaluate(B),H[Z].accumulate(y,k)}}}_updateWeight(r){let o=0;if(this.enabled){o=this.weight;const f=this._weightInterpolant;if(f!==null){const y=f.evaluate(r)[0];o*=y,r>f.parameterPositions[1]&&(this.stopFading(),y===0&&(this.enabled=!1))}}return this._effectiveWeight=o,o}_updateTimeScale(r){let o=0;if(!this.paused){o=this.timeScale;const f=this._timeScaleInterpolant;if(f!==null){const y=f.evaluate(r)[0];o*=y,r>f.parameterPositions[1]&&(this.stopWarping(),o===0?this.paused=!0:this.timeScale=o)}}return this._effectiveTimeScale=o,o}_updateTime(r){const o=this._clip.duration,f=this.loop;let y=this.time+r,w=this._loopCount;const B=f===za;if(r===0)return w===-1?y:B&&(w&1)===1?o-y:y;if(f===Aa){w===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(y>=o)y=o;else if(y<0)y=0;else{this.time=y;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=y,this._mixer.dispatchEvent({type:"finished",action:this,direction:r<0?-1:1})}}else{if(w===-1&&(r>=0?(w=0,this._setEndings(!0,this.repetitions===0,B)):this._setEndings(this.repetitions===0,!0,B)),y>=o||y<0){const k=Math.floor(y/o);y-=o*k,w+=Math.abs(k);const G=this.repetitions-w;if(G<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,y=r>0?o:0,this.time=y,this._mixer.dispatchEvent({type:"finished",action:this,direction:r>0?1:-1});else{if(G===1){const H=r<0;this._setEndings(H,!H,B)}else this._setEndings(!1,!1,B);this._loopCount=w,this.time=y,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:k})}}else this.time=y;if(B&&(w&1)===1)return o-y}return y}_setEndings(r,o,f){const y=this._interpolantSettings;f?(y.endingStart=g9,y.endingEnd=g9):(r?y.endingStart=this.zeroSlopeAtStart?g9:Sa:y.endingStart=Ls,o?y.endingEnd=this.zeroSlopeAtEnd?g9:Sa:y.endingEnd=Ls)}_scheduleFading(r,o,f){const y=this._mixer,w=y.time;let B=this._weightInterpolant;B===null&&(B=y._lendControlInterpolant(),this._weightInterpolant=B);const k=B.parameterPositions,G=B.sampleValues;return k[0]=w,G[0]=o,k[1]=w+r,G[1]=f,this}}const $z=new Float32Array(1);class Gz extends ns{constructor(r){super(),this._root=r,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(r,o){const f=r._localRoot||this._root,y=r._clip.tracks,w=y.length,B=r._propertyBindings,k=r._interpolants,G=f.uuid,H=this._bindingsByRootAndName;let Z=H[G];Z===void 0&&(Z={},H[G]=Z);for(let nt=0;nt!==w;++nt){const rt=y[nt],at=rt.name;let ct=Z[at];if(ct!==void 0)++ct.referenceCount,B[nt]=ct;else{if(ct=B[nt],ct!==void 0){ct._cacheIndex===null&&(++ct.referenceCount,this._addInactiveBinding(ct,G,at));continue}const yt=o&&o._propertyBindings[nt].binding.parsedPath;ct=new B_(Sr.create(f,at,yt),rt.ValueTypeName,rt.getValueSize()),++ct.referenceCount,this._addInactiveBinding(ct,G,at),B[nt]=ct}k[nt].resultBuffer=ct.buffer}}_activateAction(r){if(!this._isActiveAction(r)){if(r._cacheIndex===null){const f=(r._localRoot||this._root).uuid,y=r._clip.uuid,w=this._actionsByClip[y];this._bindAction(r,w&&w.knownActions[0]),this._addInactiveAction(r,y,f)}const o=r._propertyBindings;for(let f=0,y=o.length;f!==y;++f){const w=o[f];w.useCount++===0&&(this._lendBinding(w),w.saveOriginalState())}this._lendAction(r)}}_deactivateAction(r){if(this._isActiveAction(r)){const o=r._propertyBindings;for(let f=0,y=o.length;f!==y;++f){const w=o[f];--w.useCount===0&&(w.restoreOriginalState(),this._takeBackBinding(w))}this._takeBackAction(r)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const r=this;this.stats={actions:{get total(){return r._actions.length},get inUse(){return r._nActiveActions}},bindings:{get total(){return r._bindings.length},get inUse(){return r._nActiveBindings}},controlInterpolants:{get total(){return r._controlInterpolants.length},get inUse(){return r._nActiveControlInterpolants}}}}_isActiveAction(r){const o=r._cacheIndex;return o!==null&&o<this._nActiveActions}_addInactiveAction(r,o,f){const y=this._actions,w=this._actionsByClip;let B=w[o];if(B===void 0)B={knownActions:[r],actionByRoot:{}},r._byClipCacheIndex=0,w[o]=B;else{const k=B.knownActions;r._byClipCacheIndex=k.length,k.push(r)}r._cacheIndex=y.length,y.push(r),B.actionByRoot[f]=r}_removeInactiveAction(r){const o=this._actions,f=o[o.length-1],y=r._cacheIndex;f._cacheIndex=y,o[y]=f,o.pop(),r._cacheIndex=null;const w=r._clip.uuid,B=this._actionsByClip,k=B[w],G=k.knownActions,H=G[G.length-1],Z=r._byClipCacheIndex;H._byClipCacheIndex=Z,G[Z]=H,G.pop(),r._byClipCacheIndex=null;const nt=k.actionByRoot,rt=(r._localRoot||this._root).uuid;delete nt[rt],G.length===0&&delete B[w],this._removeInactiveBindingsForAction(r)}_removeInactiveBindingsForAction(r){const o=r._propertyBindings;for(let f=0,y=o.length;f!==y;++f){const w=o[f];--w.referenceCount===0&&this._removeInactiveBinding(w)}}_lendAction(r){const o=this._actions,f=r._cacheIndex,y=this._nActiveActions++,w=o[y];r._cacheIndex=y,o[y]=r,w._cacheIndex=f,o[f]=w}_takeBackAction(r){const o=this._actions,f=r._cacheIndex,y=--this._nActiveActions,w=o[y];r._cacheIndex=y,o[y]=r,w._cacheIndex=f,o[f]=w}_addInactiveBinding(r,o,f){const y=this._bindingsByRootAndName,w=this._bindings;let B=y[o];B===void 0&&(B={},y[o]=B),B[f]=r,r._cacheIndex=w.length,w.push(r)}_removeInactiveBinding(r){const o=this._bindings,f=r.binding,y=f.rootNode.uuid,w=f.path,B=this._bindingsByRootAndName,k=B[y],G=o[o.length-1],H=r._cacheIndex;G._cacheIndex=H,o[H]=G,o.pop(),delete k[w],Object.keys(k).length===0&&delete B[y]}_lendBinding(r){const o=this._bindings,f=r._cacheIndex,y=this._nActiveBindings++,w=o[y];r._cacheIndex=y,o[y]=r,w._cacheIndex=f,o[f]=w}_takeBackBinding(r){const o=this._bindings,f=r._cacheIndex,y=--this._nActiveBindings,w=o[y];r._cacheIndex=y,o[y]=r,w._cacheIndex=f,o[f]=w}_lendControlInterpolant(){const r=this._controlInterpolants,o=this._nActiveControlInterpolants++;let f=r[o];return f===void 0&&(f=new B7(new Float32Array(2),new Float32Array(2),1,$z),f.__cacheIndex=o,r[o]=f),f}_takeBackControlInterpolant(r){const o=this._controlInterpolants,f=r.__cacheIndex,y=--this._nActiveControlInterpolants,w=o[y];r.__cacheIndex=y,o[y]=r,w.__cacheIndex=f,o[f]=w}clipAction(r,o,f){const y=o||this._root,w=y.uuid;let B=typeof r=="string"?d1.findByName(y,r):r;const k=B!==null?B.uuid:r,G=this._actionsByClip[k];let H=null;if(f===void 0&&(B!==null?f=B.blendMode:f=e0),G!==void 0){const nt=G.actionByRoot[w];if(nt!==void 0&&nt.blendMode===f)return nt;H=G.knownActions[0],B===null&&(B=H._clip)}if(B===null)return null;const Z=new R_(this,B,o,f);return this._bindAction(Z,H),this._addInactiveAction(Z,k,w),Z}existingAction(r,o){const f=o||this._root,y=f.uuid,w=typeof r=="string"?d1.findByName(f,r):r,B=w?w.uuid:r,k=this._actionsByClip[B];return k!==void 0&&k.actionByRoot[y]||null}stopAllAction(){const r=this._actions,o=this._nActiveActions;for(let f=o-1;f>=0;--f)r[f].stop();return this}update(r){r*=this.timeScale;const o=this._actions,f=this._nActiveActions,y=this.time+=r,w=Math.sign(r),B=this._accuIndex^=1;for(let H=0;H!==f;++H)o[H]._update(y,r,w,B);const k=this._bindings,G=this._nActiveBindings;for(let H=0;H!==G;++H)k[H].apply(B);return this}setTime(r){this.time=0;for(let o=0;o<this._actions.length;o++)this._actions[o].time=0;return this.update(r)}getRoot(){return this._root}uncacheClip(r){const o=this._actions,f=r.uuid,y=this._actionsByClip,w=y[f];if(w!==void 0){const B=w.knownActions;for(let k=0,G=B.length;k!==G;++k){const H=B[k];this._deactivateAction(H);const Z=H._cacheIndex,nt=o[o.length-1];H._cacheIndex=null,H._byClipCacheIndex=null,nt._cacheIndex=Z,o[Z]=nt,o.pop(),this._removeInactiveBindingsForAction(H)}delete y[f]}}uncacheRoot(r){const o=r.uuid,f=this._actionsByClip;for(const B in f){const k=f[B].actionByRoot,G=k[o];G!==void 0&&(this._deactivateAction(G),this._removeInactiveAction(G))}const y=this._bindingsByRootAndName,w=y[o];if(w!==void 0)for(const B in w){const k=w[B];k.restoreOriginalState(),this._removeInactiveBinding(k)}}uncacheAction(r,o){const f=this.existingAction(r,o);f!==null&&(this._deactivateAction(f),this._removeInactiveAction(f))}}class G7{constructor(r){this.value=r}clone(){return new G7(this.value.clone===void 0?this.value:this.value.clone())}}let Vz=0;class Hz extends ns{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Vz++}),this.name="",this.usage=au,this.uniforms=[]}add(r){return this.uniforms.push(r),this}remove(r){const o=this.uniforms.indexOf(r);return o!==-1&&this.uniforms.splice(o,1),this}setName(r){return this.name=r,this}setUsage(r){return this.usage=r,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(r){this.name=r.name,this.usage=r.usage;const o=r.uniforms;this.uniforms.length=0;for(let f=0,y=o.length;f<y;f++){const w=Array.isArray(o[f])?o[f]:[o[f]];for(let B=0;B<w.length;B++)this.uniforms.push(w[B].clone())}return this}clone(){return new this.constructor().copy(this)}}class Qz extends _3{constructor(r,o,f=1){super(r,o),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=f}copy(r){return super.copy(r),this.meshPerAttribute=r.meshPerAttribute,this}clone(r){const o=super.clone(r);return o.meshPerAttribute=this.meshPerAttribute,o}toJSON(r){const o=super.toJSON(r);return o.isInstancedInterleavedBuffer=!0,o.meshPerAttribute=this.meshPerAttribute,o}}class zz{constructor(r,o,f,y,w){this.isGLBufferAttribute=!0,this.name="",this.buffer=r,this.type=o,this.itemSize=f,this.elementSize=y,this.count=w,this.version=0}set needsUpdate(r){r===!0&&this.version++}setBuffer(r){return this.buffer=r,this}setType(r,o){return this.type=r,this.elementSize=o,this}setItemSize(r){return this.itemSize=r,this}setCount(r){return this.count=r,this}}const D_=new fn;class jz{constructor(r,o,f=0,y=1/0){this.ray=new s9(r,o),this.near=f,this.far=y,this.camera=null,this.layers=new i3,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(r,o){this.ray.set(r,o)}setFromCamera(r,o){o.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(o.matrixWorld),this.ray.direction.set(r.x,r.y,.5).unproject(o).sub(this.ray.origin).normalize(),this.camera=o):o.isOrthographicCamera?(this.ray.origin.set(r.x,r.y,(o.near+o.far)/(o.near-o.far)).unproject(o),this.ray.direction.set(0,0,-1).transformDirection(o.matrixWorld),this.camera=o):console.error("THREE.Raycaster: Unsupported camera type: "+o.type)}setFromXRController(r){return D_.identity().extractRotation(r.matrixWorld),this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(D_),this}intersectObject(r,o=!0,f=[]){return V7(r,this,f,o),f.sort(P_),f}intersectObjects(r,o=!0,f=[]){for(let y=0,w=r.length;y<w;y++)V7(r[y],this,f,o);return f.sort(P_),f}}function P_(S,r){return S.distance-r.distance}function V7(S,r,o,f){if(S.layers.test(r.layers)&&S.raycast(r,o),f===!0){const y=S.children;for(let w=0,B=y.length;w<B;w++)V7(y[w],r,o,!0)}}class Jz{constructor(r=1,o=0,f=0){return this.radius=r,this.phi=o,this.theta=f,this}set(r,o,f){return this.radius=r,this.phi=o,this.theta=f,this}copy(r){return this.radius=r.radius,this.phi=r.phi,this.theta=r.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(r){return this.setFromCartesianCoords(r.x,r.y,r.z)}setFromCartesianCoords(r,o,f){return this.radius=Math.sqrt(r*r+o*o+f*f),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(r,f),this.phi=Math.acos(Ea(o/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Wz{constructor(r=1,o=0,f=0){return this.radius=r,this.theta=o,this.y=f,this}set(r,o,f){return this.radius=r,this.theta=o,this.y=f,this}copy(r){return this.radius=r.radius,this.theta=r.theta,this.y=r.y,this}setFromVector3(r){return this.setFromCartesianCoords(r.x,r.y,r.z)}setFromCartesianCoords(r,o,f){return this.radius=Math.sqrt(r*r+f*f),this.theta=Math.atan2(r,f),this.y=o,this}clone(){return new this.constructor().copy(this)}}const L_=new mi;class qz{constructor(r=new mi(1/0,1/0),o=new mi(-1/0,-1/0)){this.isBox2=!0,this.min=r,this.max=o}set(r,o){return this.min.copy(r),this.max.copy(o),this}setFromPoints(r){this.makeEmpty();for(let o=0,f=r.length;o<f;o++)this.expandByPoint(r[o]);return this}setFromCenterAndSize(r,o){const f=L_.copy(o).multiplyScalar(.5);return this.min.copy(r).sub(f),this.max.copy(r).add(f),this}clone(){return new this.constructor().copy(this)}copy(r){return this.min.copy(r.min),this.max.copy(r.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(r){return this.isEmpty()?r.set(0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(r){return this.isEmpty()?r.set(0,0):r.subVectors(this.max,this.min)}expandByPoint(r){return this.min.min(r),this.max.max(r),this}expandByVector(r){return this.min.sub(r),this.max.add(r),this}expandByScalar(r){return this.min.addScalar(-r),this.max.addScalar(r),this}containsPoint(r){return!(r.x<this.min.x||r.x>this.max.x||r.y<this.min.y||r.y>this.max.y)}containsBox(r){return this.min.x<=r.min.x&&r.max.x<=this.max.x&&this.min.y<=r.min.y&&r.max.y<=this.max.y}getParameter(r,o){return o.set((r.x-this.min.x)/(this.max.x-this.min.x),(r.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(r){return!(r.max.x<this.min.x||r.min.x>this.max.x||r.max.y<this.min.y||r.min.y>this.max.y)}clampPoint(r,o){return o.copy(r).clamp(this.min,this.max)}distanceToPoint(r){return this.clampPoint(r,L_).distanceTo(r)}intersect(r){return this.min.max(r.min),this.max.min(r.max),this.isEmpty()&&this.makeEmpty(),this}union(r){return this.min.min(r.min),this.max.max(r.max),this}translate(r){return this.min.add(r),this.max.add(r),this}equals(r){return r.min.equals(this.min)&&r.max.equals(this.max)}}const k_=new ie,c4=new ie;class Kz{constructor(r=new ie,o=new ie){this.start=r,this.end=o}set(r,o){return this.start.copy(r),this.end.copy(o),this}copy(r){return this.start.copy(r.start),this.end.copy(r.end),this}getCenter(r){return r.addVectors(this.start,this.end).multiplyScalar(.5)}delta(r){return r.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(r,o){return this.delta(o).multiplyScalar(r).add(this.start)}closestPointToPointParameter(r,o){k_.subVectors(r,this.start),c4.subVectors(this.end,this.start);const f=c4.dot(c4);let w=c4.dot(k_)/f;return o&&(w=Ea(w,0,1)),w}closestPointToPoint(r,o,f){const y=this.closestPointToPointParameter(r,o);return this.delta(f).multiplyScalar(y).add(this.start)}applyMatrix4(r){return this.start.applyMatrix4(r),this.end.applyMatrix4(r),this}equals(r){return r.start.equals(this.start)&&r.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const N_=new ie;class Xz extends Rr{constructor(r,o){super(),this.light=r,this.matrixAutoUpdate=!1,this.color=o,this.type="SpotLightHelper";const f=new lr,y=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let B=0,k=1,G=32;B<G;B++,k++){const H=B/G*Math.PI*2,Z=k/G*Math.PI*2;y.push(Math.cos(H),Math.sin(H),1,Math.cos(Z),Math.sin(Z),1)}f.setAttribute("position",new pn(y,3));const w=new ls({fog:!1,toneMapped:!1});this.cone=new oo(f,w),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const r=this.light.distance?this.light.distance:1e3,o=r*Math.tan(this.light.angle);this.cone.scale.set(o,o,r),N_.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(N_),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const rc=new ie,u4=new fn,H7=new fn;class Yz extends oo{constructor(r){const o=F_(r),f=new lr,y=[],w=[],B=new an(0,0,1),k=new an(0,1,0);for(let H=0;H<o.length;H++){const Z=o[H];Z.parent&&Z.parent.isBone&&(y.push(0,0,0),y.push(0,0,0),w.push(B.r,B.g,B.b),w.push(k.r,k.g,k.b))}f.setAttribute("position",new pn(y,3)),f.setAttribute("color",new pn(w,3));const G=new ls({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(f,G),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=r,this.bones=o,this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(r){const o=this.bones,f=this.geometry,y=f.getAttribute("position");H7.copy(this.root.matrixWorld).invert();for(let w=0,B=0;w<o.length;w++){const k=o[w];k.parent&&k.parent.isBone&&(u4.multiplyMatrices(H7,k.matrixWorld),rc.setFromMatrixPosition(u4),y.setXYZ(B,rc.x,rc.y,rc.z),u4.multiplyMatrices(H7,k.parent.matrixWorld),rc.setFromMatrixPosition(u4),y.setXYZ(B+1,rc.x,rc.y,rc.z),B+=2)}f.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(r)}dispose(){this.geometry.dispose(),this.material.dispose()}}function F_(S){const r=[];S.isBone===!0&&r.push(S);for(let o=0;o<S.children.length;o++)r.push.apply(r,F_(S.children[o]));return r}class Zz extends Za{constructor(r,o,f){const y=new o1(o,4,2),w=new Kl({wireframe:!0,fog:!1,toneMapped:!1});super(y,w),this.light=r,this.color=f,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const tj=new ie,U_=new an,$_=new an;class ej extends Rr{constructor(r,o,f){super(),this.light=r,this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1,this.color=f,this.type="HemisphereLightHelper";const y=new s1(o);y.rotateY(Math.PI*.5),this.material=new Kl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const w=y.getAttribute("position"),B=new Float32Array(w.count*3);y.setAttribute("color",new Jr(B,3)),this.add(new Za(y,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const r=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const o=r.geometry.getAttribute("color");U_.copy(this.light.color),$_.copy(this.light.groundColor);for(let f=0,y=o.count;f<y;f++){const w=f<y/2?U_:$_;o.setXYZ(f,w.r,w.g,w.b)}o.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),r.lookAt(tj.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ij extends oo{constructor(r=10,o=10,f=4473924,y=8947848){f=new an(f),y=new an(y);const w=o/2,B=r/o,k=r/2,G=[],H=[];for(let rt=0,at=0,ct=-k;rt<=o;rt++,ct+=B){G.push(-k,0,ct,k,0,ct),G.push(ct,0,-k,ct,0,k);const yt=rt===w?f:y;yt.toArray(H,at),at+=3,yt.toArray(H,at),at+=3,yt.toArray(H,at),at+=3,yt.toArray(H,at),at+=3}const Z=new lr;Z.setAttribute("position",new pn(G,3)),Z.setAttribute("color",new pn(H,3));const nt=new ls({vertexColors:!0,toneMapped:!1});super(Z,nt),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class nj extends oo{constructor(r=10,o=16,f=8,y=64,w=4473924,B=8947848){w=new an(w),B=new an(B);const k=[],G=[];if(o>1)for(let nt=0;nt<o;nt++){const rt=nt/o*(Math.PI*2),at=Math.sin(rt)*r,ct=Math.cos(rt)*r;k.push(0,0,0),k.push(at,0,ct);const yt=nt&1?w:B;G.push(yt.r,yt.g,yt.b),G.push(yt.r,yt.g,yt.b)}for(let nt=0;nt<f;nt++){const rt=nt&1?w:B,at=r-r/f*nt;for(let ct=0;ct<y;ct++){let yt=ct/y*(Math.PI*2),ft=Math.sin(yt)*at,st=Math.cos(yt)*at;k.push(ft,0,st),G.push(rt.r,rt.g,rt.b),yt=(ct+1)/y*(Math.PI*2),ft=Math.sin(yt)*at,st=Math.cos(yt)*at,k.push(ft,0,st),G.push(rt.r,rt.g,rt.b)}}const H=new lr;H.setAttribute("position",new pn(k,3)),H.setAttribute("color",new pn(G,3));const Z=new ls({vertexColors:!0,toneMapped:!1});super(H,Z),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const G_=new ie,d4=new ie,V_=new ie;class rj extends Rr{constructor(r,o,f){super(),this.light=r,this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1,this.color=f,this.type="DirectionalLightHelper",o===void 0&&(o=1);let y=new lr;y.setAttribute("position",new pn([-o,o,0,o,o,0,o,-o,0,-o,-o,0,-o,o,0],3));const w=new ls({fog:!1,toneMapped:!1});this.lightPlane=new ec(y,w),this.add(this.lightPlane),y=new lr,y.setAttribute("position",new pn([0,0,0,0,0,1],3)),this.targetLine=new ec(y,w),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),G_.setFromMatrixPosition(this.light.matrixWorld),d4.setFromMatrixPosition(this.light.target.matrixWorld),V_.subVectors(d4,G_),this.lightPlane.lookAt(d4),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(d4),this.targetLine.scale.z=V_.length()}}const h4=new ie,La=new m3;class aj extends oo{constructor(r){const o=new lr,f=new ls({color:16777215,vertexColors:!0,toneMapped:!1}),y=[],w=[],B={};k("n1","n2"),k("n2","n4"),k("n4","n3"),k("n3","n1"),k("f1","f2"),k("f2","f4"),k("f4","f3"),k("f3","f1"),k("n1","f1"),k("n2","f2"),k("n3","f3"),k("n4","f4"),k("p","n1"),k("p","n2"),k("p","n3"),k("p","n4"),k("u1","u2"),k("u2","u3"),k("u3","u1"),k("c","t"),k("p","c"),k("cn1","cn2"),k("cn3","cn4"),k("cf1","cf2"),k("cf3","cf4");function k(ct,yt){G(ct),G(yt)}function G(ct){y.push(0,0,0),w.push(0,0,0),B[ct]===void 0&&(B[ct]=[]),B[ct].push(y.length/3-1)}o.setAttribute("position",new pn(y,3)),o.setAttribute("color",new pn(w,3)),super(o,f),this.type="CameraHelper",this.camera=r,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=B,this.update();const H=new an(16755200),Z=new an(16711680),nt=new an(43775),rt=new an(16777215),at=new an(3355443);this.setColors(H,Z,nt,rt,at)}setColors(r,o,f,y,w){const k=this.geometry.getAttribute("color");k.setXYZ(0,r.r,r.g,r.b),k.setXYZ(1,r.r,r.g,r.b),k.setXYZ(2,r.r,r.g,r.b),k.setXYZ(3,r.r,r.g,r.b),k.setXYZ(4,r.r,r.g,r.b),k.setXYZ(5,r.r,r.g,r.b),k.setXYZ(6,r.r,r.g,r.b),k.setXYZ(7,r.r,r.g,r.b),k.setXYZ(8,r.r,r.g,r.b),k.setXYZ(9,r.r,r.g,r.b),k.setXYZ(10,r.r,r.g,r.b),k.setXYZ(11,r.r,r.g,r.b),k.setXYZ(12,r.r,r.g,r.b),k.setXYZ(13,r.r,r.g,r.b),k.setXYZ(14,r.r,r.g,r.b),k.setXYZ(15,r.r,r.g,r.b),k.setXYZ(16,r.r,r.g,r.b),k.setXYZ(17,r.r,r.g,r.b),k.setXYZ(18,r.r,r.g,r.b),k.setXYZ(19,r.r,r.g,r.b),k.setXYZ(20,r.r,r.g,r.b),k.setXYZ(21,r.r,r.g,r.b),k.setXYZ(22,r.r,r.g,r.b),k.setXYZ(23,r.r,r.g,r.b),k.setXYZ(24,o.r,o.g,o.b),k.setXYZ(25,o.r,o.g,o.b),k.setXYZ(26,o.r,o.g,o.b),k.setXYZ(27,o.r,o.g,o.b),k.setXYZ(28,o.r,o.g,o.b),k.setXYZ(29,o.r,o.g,o.b),k.setXYZ(30,o.r,o.g,o.b),k.setXYZ(31,o.r,o.g,o.b),k.setXYZ(32,f.r,f.g,f.b),k.setXYZ(33,f.r,f.g,f.b),k.setXYZ(34,f.r,f.g,f.b),k.setXYZ(35,f.r,f.g,f.b),k.setXYZ(36,f.r,f.g,f.b),k.setXYZ(37,f.r,f.g,f.b),k.setXYZ(38,y.r,y.g,y.b),k.setXYZ(39,y.r,y.g,y.b),k.setXYZ(40,w.r,w.g,w.b),k.setXYZ(41,w.r,w.g,w.b),k.setXYZ(42,w.r,w.g,w.b),k.setXYZ(43,w.r,w.g,w.b),k.setXYZ(44,w.r,w.g,w.b),k.setXYZ(45,w.r,w.g,w.b),k.setXYZ(46,w.r,w.g,w.b),k.setXYZ(47,w.r,w.g,w.b),k.setXYZ(48,w.r,w.g,w.b),k.setXYZ(49,w.r,w.g,w.b),k.needsUpdate=!0}update(){const r=this.geometry,o=this.pointMap,f=1,y=1;La.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Wa("c",o,r,La,0,0,-1),Wa("t",o,r,La,0,0,1),Wa("n1",o,r,La,-f,-y,-1),Wa("n2",o,r,La,f,-y,-1),Wa("n3",o,r,La,-f,y,-1),Wa("n4",o,r,La,f,y,-1),Wa("f1",o,r,La,-f,-y,1),Wa("f2",o,r,La,f,-y,1),Wa("f3",o,r,La,-f,y,1),Wa("f4",o,r,La,f,y,1),Wa("u1",o,r,La,f*.7,y*1.1,-1),Wa("u2",o,r,La,-f*.7,y*1.1,-1),Wa("u3",o,r,La,0,y*2,-1),Wa("cf1",o,r,La,-f,0,1),Wa("cf2",o,r,La,f,0,1),Wa("cf3",o,r,La,0,-y,1),Wa("cf4",o,r,La,0,y,1),Wa("cn1",o,r,La,-f,0,-1),Wa("cn2",o,r,La,f,0,-1),Wa("cn3",o,r,La,0,-y,-1),Wa("cn4",o,r,La,0,y,-1),r.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Wa(S,r,o,f,y,w,B){h4.set(y,w,B).unproject(f);const k=r[S];if(k!==void 0){const G=o.getAttribute("position");for(let H=0,Z=k.length;H<Z;H++)G.setXYZ(k[H],h4.x,h4.y,h4.z)}}const f4=new Ta;class sj extends oo{constructor(r,o=16776960){const f=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),y=new Float32Array(8*3),w=new lr;w.setIndex(new Jr(f,1)),w.setAttribute("position",new Jr(y,3)),super(w,new ls({color:o,toneMapped:!1})),this.object=r,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(r){if(r!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&f4.setFromObject(this.object),f4.isEmpty())return;const o=f4.min,f=f4.max,y=this.geometry.attributes.position,w=y.array;w[0]=f.x,w[1]=f.y,w[2]=f.z,w[3]=o.x,w[4]=f.y,w[5]=f.z,w[6]=o.x,w[7]=o.y,w[8]=f.z,w[9]=f.x,w[10]=o.y,w[11]=f.z,w[12]=f.x,w[13]=f.y,w[14]=o.z,w[15]=o.x,w[16]=f.y,w[17]=o.z,w[18]=o.x,w[19]=o.y,w[20]=o.z,w[21]=f.x,w[22]=o.y,w[23]=o.z,y.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(r){return this.object=r,this.update(),this}copy(r,o){return super.copy(r,o),this.object=r.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class oj extends oo{constructor(r,o=16776960){const f=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),y=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],w=new lr;w.setIndex(new Jr(f,1)),w.setAttribute("position",new pn(y,3)),super(w,new ls({color:o,toneMapped:!1})),this.box=r,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(r){const o=this.box;o.isEmpty()||(o.getCenter(this.position),o.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(r))}dispose(){this.geometry.dispose(),this.material.dispose()}}class lj extends ec{constructor(r,o=1,f=16776960){const y=f,w=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],B=new lr;B.setAttribute("position",new pn(w,3)),B.computeBoundingSphere(),super(B,new ls({color:y,toneMapped:!1})),this.type="PlaneHelper",this.plane=r,this.size=o;const k=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],G=new lr;G.setAttribute("position",new pn(k,3)),G.computeBoundingSphere(),this.add(new Za(G,new Kl({color:y,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(r){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(r)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const H_=new ie;let m4,Q7;class cj extends Rr{constructor(r=new ie(0,0,1),o=new ie(0,0,0),f=1,y=16776960,w=f*.2,B=w*.2){super(),this.type="ArrowHelper",m4===void 0&&(m4=new lr,m4.setAttribute("position",new pn([0,0,0,0,1,0],3)),Q7=new Yd(0,.5,1,5,1),Q7.translate(0,-.5,0)),this.position.copy(o),this.line=new ec(m4,new ls({color:y,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Za(Q7,new Kl({color:y,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(r),this.setLength(f,w,B)}setDirection(r){if(r.y>.99999)this.quaternion.set(0,0,0,1);else if(r.y<-.99999)this.quaternion.set(1,0,0,0);else{H_.set(r.z,0,-r.x).normalize();const o=Math.acos(r.y);this.quaternion.setFromAxisAngle(H_,o)}}setLength(r,o=r*.2,f=o*.2){this.line.scale.set(1,Math.max(1e-4,r-o),1),this.line.updateMatrix(),this.cone.scale.set(f,o,f),this.cone.position.y=r,this.cone.updateMatrix()}setColor(r){this.line.material.color.set(r),this.cone.material.color.set(r)}copy(r){return super.copy(r,!1),this.line.copy(r.line),this.cone.copy(r.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class uj extends oo{constructor(r=1){const o=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],f=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],y=new lr;y.setAttribute("position",new pn(o,3)),y.setAttribute("color",new pn(f,3));const w=new ls({vertexColors:!0,toneMapped:!1});super(y,w),this.type="AxesHelper"}setColors(r,o,f){const y=new an,w=this.geometry.attributes.color.array;return y.set(r),y.toArray(w,0),y.toArray(w,3),y.set(o),y.toArray(w,6),y.toArray(w,9),y.set(f),y.toArray(w,12),y.toArray(w,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dj{constructor(){this.type="ShapePath",this.color=new an,this.subPaths=[],this.currentPath=null}moveTo(r,o){return this.currentPath=new e1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(r,o),this}lineTo(r,o){return this.currentPath.lineTo(r,o),this}quadraticCurveTo(r,o,f,y){return this.currentPath.quadraticCurveTo(r,o,f,y),this}bezierCurveTo(r,o,f,y,w,B){return this.currentPath.bezierCurveTo(r,o,f,y,w,B),this}splineThru(r){return this.currentPath.splineThru(r),this}toShapes(r){function o(st){const Gt=[];for(let $t=0,Lt=st.length;$t<Lt;$t++){const pe=st[$t],ne=new yu;ne.curves=pe.curves,Gt.push(ne)}return Gt}function f(st,Gt){const $t=Gt.length;let Lt=!1;for(let pe=$t-1,ne=0;ne<$t;pe=ne++){let oe=Gt[pe],he=Gt[ne],Yt=he.x-oe.x,Wt=he.y-oe.y;if(Math.abs(Wt)>Number.EPSILON){if(Wt<0&&(oe=Gt[ne],Yt=-Yt,he=Gt[pe],Wt=-Wt),st.y<oe.y||st.y>he.y)continue;if(st.y===oe.y){if(st.x===oe.x)return!0}else{const fe=Wt*(st.x-oe.x)-Yt*(st.y-oe.y);if(fe===0)return!0;if(fe<0)continue;Lt=!Lt}}else{if(st.y!==oe.y)continue;if(he.x<=st.x&&st.x<=oe.x||oe.x<=st.x&&st.x<=he.x)return!0}}return Lt}const y=lo.isClockWise,w=this.subPaths;if(w.length===0)return[];let B,k,G;const H=[];if(w.length===1)return k=w[0],G=new yu,G.curves=k.curves,H.push(G),H;let Z=!y(w[0].getPoints());Z=r?!Z:Z;const nt=[],rt=[];let at=[],ct=0,yt;rt[ct]=void 0,at[ct]=[];for(let st=0,Gt=w.length;st<Gt;st++)k=w[st],yt=k.getPoints(),B=y(yt),B=r?!B:B,B?(!Z&&rt[ct]&&ct++,rt[ct]={s:new yu,p:yt},rt[ct].s.curves=k.curves,Z&&ct++,at[ct]=[]):at[ct].push({h:k,p:yt[0]});if(!rt[0])return o(w);if(rt.length>1){let st=!1,Gt=0;for(let $t=0,Lt=rt.length;$t<Lt;$t++)nt[$t]=[];for(let $t=0,Lt=rt.length;$t<Lt;$t++){const pe=at[$t];for(let ne=0;ne<pe.length;ne++){const oe=pe[ne];let he=!0;for(let Yt=0;Yt<rt.length;Yt++)f(oe.p,rt[Yt].p)&&($t!==Yt&&Gt++,he?(he=!1,nt[Yt].push(oe)):st=!0);he&&nt[$t].push(oe)}}Gt>0&&st===!1&&(at=nt)}let ft;for(let st=0,Gt=rt.length;st<Gt;st++){G=rt[st].s,H.push(G),ft=at[st];for(let $t=0,Lt=ft.length;$t<Lt;$t++)G.holes.push(ft[$t].h)}return H}}class hj extends Ms{constructor(r=1,o=1,f=1,y={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(r,o,{...y,count:f}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:h}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=h)},"./node_modules/three/examples/jsm/libs/ktx-parse.module.js":(c,d,u)=>{u.r(d),u.d(d,{KHR_DF_CHANNEL_RGBSDA_ALPHA:()=>Ze,KHR_DF_CHANNEL_RGBSDA_BLUE:()=>Ye,KHR_DF_CHANNEL_RGBSDA_DEPTH:()=>ei,KHR_DF_CHANNEL_RGBSDA_GREEN:()=>ai,KHR_DF_CHANNEL_RGBSDA_RED:()=>Ve,KHR_DF_CHANNEL_RGBSDA_STENCIL:()=>ci,KHR_DF_FLAG_ALPHA_PREMULTIPLIED:()=>D,KHR_DF_FLAG_ALPHA_STRAIGHT:()=>T,KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT:()=>A,KHR_DF_MODEL_ASTC:()=>O,KHR_DF_MODEL_ETC1:()=>_,KHR_DF_MODEL_ETC1S:()=>I,KHR_DF_MODEL_ETC2:()=>C,KHR_DF_MODEL_RGBSDA:()=>x,KHR_DF_MODEL_UNSPECIFIED:()=>E,KHR_DF_PRIMARIES_ACES:()=>kt,KHR_DF_PRIMARIES_ACESCC:()=>Dt,KHR_DF_PRIMARIES_ADOBERGB:()=>le,KHR_DF_PRIMARIES_BT2020:()=>jt,KHR_DF_PRIMARIES_BT601_EBU:()=>Ot,KHR_DF_PRIMARIES_BT601_SMPTE:()=>At,KHR_DF_PRIMARIES_BT709:()=>dt,KHR_DF_PRIMARIES_CIEXYZ:()=>bt,KHR_DF_PRIMARIES_DISPLAYP3:()=>Jt,KHR_DF_PRIMARIES_NTSC1953:()=>Xt,KHR_DF_PRIMARIES_PAL525:()=>ae,KHR_DF_PRIMARIES_UNSPECIFIED:()=>xt,KHR_DF_SAMPLE_DATATYPE_EXPONENT:()=>re,KHR_DF_SAMPLE_DATATYPE_FLOAT:()=>be,KHR_DF_SAMPLE_DATATYPE_LINEAR:()=>Et,KHR_DF_SAMPLE_DATATYPE_SIGNED:()=>ve,KHR_DF_TRANSFER_ACESCC:()=>pt,KHR_DF_TRANSFER_ACESCCT:()=>wt,KHR_DF_TRANSFER_ADOBERGB:()=>Mt,KHR_DF_TRANSFER_BT1886:()=>z,KHR_DF_TRANSFER_DCIP3:()=>W,KHR_DF_TRANSFER_HLG_EOTF:()=>V,KHR_DF_TRANSFER_HLG_OETF:()=>Q,KHR_DF_TRANSFER_ITU:()=>U,KHR_DF_TRANSFER_LINEAR:()=>L,KHR_DF_TRANSFER_NTSC:()=>$,KHR_DF_TRANSFER_PAL625_EOTF:()=>mt,KHR_DF_TRANSFER_PAL_OETF:()=>et,KHR_DF_TRANSFER_PQ_EOTF:()=>q,KHR_DF_TRANSFER_PQ_OETF:()=>J,KHR_DF_TRANSFER_SLOG:()=>F,KHR_DF_TRANSFER_SLOG2:()=>j,KHR_DF_TRANSFER_SRGB:()=>N,KHR_DF_TRANSFER_ST240:()=>ot,KHR_DF_TRANSFER_UNSPECIFIED:()=>P,KHR_DF_VENDORID_KHRONOS:()=>b,KHR_DF_VERSION:()=>v,KHR_SUPERCOMPRESSION_BASISLZ:()=>m,KHR_SUPERCOMPRESSION_NONE:()=>g,KHR_SUPERCOMPRESSION_ZLIB:()=>p,KHR_SUPERCOMPRESSION_ZSTD:()=>M,KTX2Container:()=>zo,VK_FORMAT_A1R5G5B5_UNORM_PACK16:()=>Tt,VK_FORMAT_A2B10G10R10_SINT_PACK32:()=>ln,VK_FORMAT_A2B10G10R10_SNORM_PACK32:()=>Ui,VK_FORMAT_A2B10G10R10_UINT_PACK32:()=>ii,VK_FORMAT_A2B10G10R10_UNORM_PACK32:()=>ji,VK_FORMAT_A2R10G10B10_SINT_PACK32:()=>yi,VK_FORMAT_A2R10G10B10_SNORM_PACK32:()=>Ne,VK_FORMAT_A2R10G10B10_UINT_PACK32:()=>oi,VK_FORMAT_A2R10G10B10_UNORM_PACK32:()=>qe,VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT:()=>Nf,VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT:()=>zl,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:()=>Cd,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:()=>Ea,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:()=>rs,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:()=>Km,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:()=>ns,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:()=>su,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:()=>Xm,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:()=>jm,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:()=>M9,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:()=>Ym,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:()=>Hl,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:()=>Qo,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:()=>D6,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:()=>p6,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:()=>Lf,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:()=>Nr,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:()=>ou,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:()=>g6,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:()=>Un,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:()=>Hm,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:()=>Vm,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:()=>kf,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:()=>zm,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:()=>Qm,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:()=>Jm,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:()=>s6,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:()=>au,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:()=>R6,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:()=>l6,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:()=>o6,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:()=>Ql,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:()=>u6,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:()=>c6,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:()=>lu,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:()=>h6,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:()=>d6,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:()=>Wm,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:()=>m6,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:()=>f6,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:()=>qm,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:()=>i0,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:()=>Pf,VK_FORMAT_B10G11R11_UFLOAT_PACK32:()=>Go,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:()=>b6,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:()=>O6,VK_FORMAT_B4G4R4A4_UNORM_PACK16:()=>It,VK_FORMAT_B5G5R5A1_UNORM_PACK16:()=>tt,VK_FORMAT_B5G6R5_UNORM_PACK16:()=>ht,VK_FORMAT_B8G8R8A8_SINT:()=>ue,VK_FORMAT_B8G8R8A8_SNORM:()=>Oa,VK_FORMAT_B8G8R8A8_SRGB:()=>Ee,VK_FORMAT_B8G8R8A8_UINT:()=>Kt,VK_FORMAT_B8G8R8A8_UNORM:()=>Ha,VK_FORMAT_B8G8R8_SINT:()=>Ir,VK_FORMAT_B8G8R8_SNORM:()=>Re,VK_FORMAT_B8G8R8_SRGB:()=>dr,VK_FORMAT_B8G8R8_UINT:()=>bn,VK_FORMAT_B8G8R8_UNORM:()=>Zi,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:()=>Yr,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:()=>iu,VK_FORMAT_BC1_RGB_SRGB_BLOCK:()=>eu,VK_FORMAT_BC1_RGB_UNORM_BLOCK:()=>bd,VK_FORMAT_BC2_SRGB_BLOCK:()=>ru,VK_FORMAT_BC2_UNORM_BLOCK:()=>nu,VK_FORMAT_BC3_SRGB_BLOCK:()=>Ho,VK_FORMAT_BC3_UNORM_BLOCK:()=>j5,VK_FORMAT_BC4_SNORM_BLOCK:()=>W5,VK_FORMAT_BC4_UNORM_BLOCK:()=>J5,VK_FORMAT_BC5_SNORM_BLOCK:()=>K5,VK_FORMAT_BC5_UNORM_BLOCK:()=>q5,VK_FORMAT_BC6H_SFLOAT_BLOCK:()=>Y5,VK_FORMAT_BC6H_UFLOAT_BLOCK:()=>X5,VK_FORMAT_BC7_SRGB_BLOCK:()=>t6,VK_FORMAT_BC7_UNORM_BLOCK:()=>Z5,VK_FORMAT_D16_UNORM:()=>io,VK_FORMAT_D16_UNORM_S8_UINT:()=>B9,VK_FORMAT_D24_UNORM_S8_UINT:()=>Er,VK_FORMAT_D32_SFLOAT:()=>$9,VK_FORMAT_D32_SFLOAT_S8_UINT:()=>w0,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:()=>Vo,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:()=>Df,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:()=>Gm,VK_FORMAT_EAC_R11_SNORM_BLOCK:()=>$m,VK_FORMAT_EAC_R11_UNORM_BLOCK:()=>Um,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:()=>r6,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:()=>n6,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:()=>Rf,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:()=>a6,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:()=>i6,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:()=>e6,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:()=>v6,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:()=>w6,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:()=>R9,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:()=>x6,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:()=>Hn,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:()=>S6,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:()=>B6,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:()=>T6,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:()=>mi,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:()=>I6,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:()=>y6,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:()=>A6,VK_FORMAT_R10X6_UNORM_PACK16:()=>M6,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:()=>E6,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:()=>_6,VK_FORMAT_R12X4_UNORM_PACK16:()=>C6,VK_FORMAT_R16G16B16A16_SFLOAT:()=>fi,VK_FORMAT_R16G16B16A16_SINT:()=>we,VK_FORMAT_R16G16B16A16_SNORM:()=>te,VK_FORMAT_R16G16B16A16_UINT:()=>Me,VK_FORMAT_R16G16B16A16_UNORM:()=>Vt,VK_FORMAT_R16G16B16_SFLOAT:()=>Pt,VK_FORMAT_R16G16B16_SINT:()=>gt,VK_FORMAT_R16G16B16_SNORM:()=>vr,VK_FORMAT_R16G16B16_UINT:()=>lt,VK_FORMAT_R16G16B16_UNORM:()=>xa,VK_FORMAT_R16G16_SFLOAT:()=>Wn,VK_FORMAT_R16G16_SINT:()=>Hi,VK_FORMAT_R16G16_SNORM:()=>sa,VK_FORMAT_R16G16_UINT:()=>Qa,VK_FORMAT_R16G16_UNORM:()=>pr,VK_FORMAT_R16_SFLOAT:()=>kn,VK_FORMAT_R16_SINT:()=>Jn,VK_FORMAT_R16_SNORM:()=>Tn,VK_FORMAT_R16_UINT:()=>Gr,VK_FORMAT_R16_UNORM:()=>vn,VK_FORMAT_R32G32B32A32_SFLOAT:()=>Vr,VK_FORMAT_R32G32B32A32_SINT:()=>_r,VK_FORMAT_R32G32B32A32_UINT:()=>xn,VK_FORMAT_R32G32B32_SFLOAT:()=>Rn,VK_FORMAT_R32G32B32_SINT:()=>Vn,VK_FORMAT_R32G32B32_UINT:()=>Cn,VK_FORMAT_R32G32_SFLOAT:()=>dn,VK_FORMAT_R32G32_SINT:()=>Xi,VK_FORMAT_R32G32_UINT:()=>bi,VK_FORMAT_R32_SFLOAT:()=>ni,VK_FORMAT_R32_SINT:()=>De,VK_FORMAT_R32_UINT:()=>di,VK_FORMAT_R4G4B4A4_UNORM_PACK16:()=>St,VK_FORMAT_R4G4_UNORM_PACK8:()=>Ht,VK_FORMAT_R5G5B5A1_UNORM_PACK16:()=>X,VK_FORMAT_R5G6B5_UNORM_PACK16:()=>zt,VK_FORMAT_R64G64B64A64_SFLOAT:()=>$o,VK_FORMAT_R64G64B64A64_SINT:()=>E0,VK_FORMAT_R64G64B64A64_UINT:()=>e0,VK_FORMAT_R64G64B64_SFLOAT:()=>Ls,VK_FORMAT_R64G64B64_SINT:()=>g9,VK_FORMAT_R64G64B64_UINT:()=>Sa,VK_FORMAT_R64G64_SFLOAT:()=>Xa,VK_FORMAT_R64G64_SINT:()=>Ja,VK_FORMAT_R64G64_UINT:()=>ja,VK_FORMAT_R64_SFLOAT:()=>za,VK_FORMAT_R64_SINT:()=>oa,VK_FORMAT_R64_UINT:()=>Aa,VK_FORMAT_R8G8B8A8_SINT:()=>wi,VK_FORMAT_R8G8B8A8_SNORM:()=>Ki,VK_FORMAT_R8G8B8A8_SRGB:()=>On,VK_FORMAT_R8G8B8A8_UINT:()=>jn,VK_FORMAT_R8G8B8A8_UNORM:()=>si,VK_FORMAT_R8G8B8_SINT:()=>wn,VK_FORMAT_R8G8B8_SNORM:()=>Oe,VK_FORMAT_R8G8B8_SRGB:()=>ze,VK_FORMAT_R8G8B8_UINT:()=>Ii,VK_FORMAT_R8G8B8_UNORM:()=>ke,VK_FORMAT_R8G8_SINT:()=>Pi,VK_FORMAT_R8G8_SNORM:()=>He,VK_FORMAT_R8G8_SRGB:()=>Le,VK_FORMAT_R8G8_UINT:()=>_e,VK_FORMAT_R8G8_UNORM:()=>ge,VK_FORMAT_R8_SINT:()=>ye,VK_FORMAT_R8_SNORM:()=>Zt,VK_FORMAT_R8_SRGB:()=>$e,VK_FORMAT_R8_UINT:()=>ce,VK_FORMAT_R8_UNORM:()=>Qt,VK_FORMAT_S8_UINT:()=>ro,VK_FORMAT_UNDEFINED:()=>vt,VK_FORMAT_X8_D24_UNORM_PACK32:()=>no,read:()=>xr,write:()=>wd});var h=u("./node_modules/buffer/index.js").Buffer;const g=0,m=1,M=2,p=3,A=0,b=0,v=2,E=0,x=1,_=160,C=161,O=162,I=163,T=0,D=1,P=0,L=1,N=2,U=3,$=4,F=5,j=6,z=7,Q=8,V=9,q=10,J=11,W=12,et=13,mt=14,ot=15,pt=16,wt=17,Mt=18,xt=0,dt=1,Ot=2,At=3,jt=4,bt=5,kt=6,Dt=7,Xt=8,ae=9,Jt=10,le=11,Ve=0,ai=1,Ye=2,ci=13,ei=14,Ze=15,be=128,ve=64,re=32,Et=16,vt=0,Ht=1,St=2,It=3,zt=4,ht=5,X=6,tt=7,Tt=8,Qt=9,Zt=10,ce=13,ye=14,$e=15,ge=16,He=17,_e=20,Pi=21,Le=22,ke=23,Oe=24,Ii=27,wn=28,ze=29,Zi=30,Re=31,bn=34,Ir=35,dr=36,si=37,Ki=38,jn=41,wi=42,On=43,Ha=44,Oa=45,Kt=48,ue=49,Ee=50,qe=58,Ne=59,oi=62,yi=63,ji=64,Ui=65,ii=68,ln=69,vn=70,Tn=71,Gr=74,Jn=75,kn=76,pr=77,sa=78,Qa=81,Hi=82,Wn=83,xa=84,vr=85,lt=88,gt=89,Pt=90,Vt=91,te=92,Me=95,we=96,fi=97,di=98,De=99,ni=100,bi=101,Xi=102,dn=103,Cn=104,Vn=105,Rn=106,xn=107,_r=108,Vr=109,Aa=110,oa=111,za=112,ja=113,Ja=114,Xa=115,Sa=116,g9=117,Ls=118,e0=119,E0=120,$o=121,Go=122,Vo=123,io=124,no=125,$9=126,ro=127,B9=128,Er=129,w0=130,bd=131,eu=132,iu=133,Yr=134,nu=135,ru=136,j5=137,Ho=138,J5=139,W5=140,q5=141,K5=142,X5=143,Y5=144,Z5=145,t6=146,e6=147,i6=148,n6=149,r6=150,a6=151,Rf=152,Um=153,$m=154,Gm=155,Df=156,Vm=157,Hm=158,Qm=159,zm=160,au=161,s6=162,o6=163,l6=164,c6=165,u6=166,d6=167,h6=168,f6=169,m6=170,Pf=171,i0=172,su=173,ns=174,M9=175,jm=176,Qo=177,Hl=178,rs=179,Ea=180,Lf=181,p6=182,g6=183,ou=184,M6=1000156007,A6=1000156008,y6=1000156009,v6=1000156010,b6=1000156011,C6=1000156017,_6=1000156018,E6=1000156019,w6=1000156020,O6=1000156021,x6=1000054e3,S6=1000054001,T6=1000054002,I6=1000054003,R9=1000054004,Hn=1000054005,B6=1000054006,mi=1000054007,Un=1000066e3,kf=1000066001,Jm=1000066002,R6=1000066003,Ql=1000066004,lu=1000066005,Wm=1000066006,qm=1000066007,Km=1000066008,Xm=1000066009,Ym=1000066010,Cd=1000066011,D6=1000066012,Nr=1000066013,zl=100034e4,Nf=1000340001;class zo{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class jl{constructor($n,Cr,Br,ie){this._dataView=new DataView($n.buffer,$n.byteOffset+Cr,Br),this._littleEndian=ie,this._offset=0}_nextUint8(){const $n=this._dataView.getUint8(this._offset);return this._offset+=1,$n}_nextUint16(){const $n=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,$n}_nextUint32(){const $n=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,$n}_nextUint64(){const $n=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,$n}_nextInt32(){const $n=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,$n}_skip($n){return this._offset+=$n,this}_scan($n,Cr=0){const Br=this._offset;let ie=0;for(;this._dataView.getUint8(this._offset)!==Cr&&ie<$n;)ie++,this._offset++;return ie<$n&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+Br,ie)}}const Zm=new Uint8Array([0]),ya=[171,75,84,88,32,50,48,187,13,10,26,10];function _d(cn){return typeof TextEncoder<"u"?new TextEncoder().encode(cn):h.from(cn)}function t3(cn){return typeof TextDecoder<"u"?new TextDecoder().decode(cn):h.from(cn).toString("utf8")}function la(cn){let $n=0;for(const ie of cn)$n+=ie.byteLength;const Cr=new Uint8Array($n);let Br=0;for(const ie of cn)Cr.set(new Uint8Array(ie),Br),Br+=ie.byteLength;return Cr}function xr(cn){const $n=new Uint8Array(cn.buffer,cn.byteOffset,ya.length);if($n[0]!==ya[0]||$n[1]!==ya[1]||$n[2]!==ya[2]||$n[3]!==ya[3]||$n[4]!==ya[4]||$n[5]!==ya[5]||$n[6]!==ya[6]||$n[7]!==ya[7]||$n[8]!==ya[8]||$n[9]!==ya[9]||$n[10]!==ya[10]||$n[11]!==ya[11])throw new Error("Missing KTX 2.0 identifier.");const Cr=new zo,Br=17*Uint32Array.BYTES_PER_ELEMENT,ie=new jl(cn,ya.length,Br,!0);Cr.vkFormat=ie._nextUint32(),Cr.typeSize=ie._nextUint32(),Cr.pixelWidth=ie._nextUint32(),Cr.pixelHeight=ie._nextUint32(),Cr.pixelDepth=ie._nextUint32(),Cr.layerCount=ie._nextUint32(),Cr.faceCount=ie._nextUint32();const ks=ie._nextUint32();Cr.supercompressionScheme=ie._nextUint32();const Pa=ie._nextUint32(),Ta=ie._nextUint32(),Ar=ie._nextUint32(),G9=ie._nextUint32(),ao=ie._nextUint64(),As=ie._nextUint64(),A9=new jl(cn,ya.length+Br,3*ks*8,!0);for(let s9=0;s9<ks;s9++)Cr.levels.push({levelData:new Uint8Array(cn.buffer,cn.byteOffset+A9._nextUint64(),A9._nextUint64()),uncompressedByteLength:A9._nextUint64()});const Zn=new jl(cn,Pa,Ta,!0),D9={vendorId:Zn._skip(4)._nextUint16(),descriptorType:Zn._nextUint16(),versionNumber:Zn._nextUint16(),descriptorBlockSize:Zn._nextUint16(),colorModel:Zn._nextUint8(),colorPrimaries:Zn._nextUint8(),transferFunction:Zn._nextUint8(),flags:Zn._nextUint8(),texelBlockDimension:[Zn._nextUint8(),Zn._nextUint8(),Zn._nextUint8(),Zn._nextUint8()],bytesPlane:[Zn._nextUint8(),Zn._nextUint8(),Zn._nextUint8(),Zn._nextUint8(),Zn._nextUint8(),Zn._nextUint8(),Zn._nextUint8(),Zn._nextUint8()],samples:[]},Ns=(D9.descriptorBlockSize/4-6)/4;for(let s9=0;s9<Ns;s9++){const fn={bitOffset:Zn._nextUint16(),bitLength:Zn._nextUint8(),channelType:Zn._nextUint8(),samplePosition:[Zn._nextUint8(),Zn._nextUint8(),Zn._nextUint8(),Zn._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&fn.channelType?(fn.sampleLower=Zn._nextInt32(),fn.sampleUpper=Zn._nextInt32()):(fn.sampleLower=Zn._nextUint32(),fn.sampleUpper=Zn._nextUint32()),D9.samples[s9]=fn}Cr.dataFormatDescriptor.length=0,Cr.dataFormatDescriptor.push(D9);const y9=new jl(cn,Ar,G9,!0);for(;y9._offset<G9;){const s9=y9._nextUint32(),fn=y9._scan(s9),Jo=t3(fn),ys=y9._scan(s9-fn.byteLength);Cr.keyValue[Jo]=Jo.match(/^ktx/i)?t3(ys):ys,y9._offset%4&&y9._skip(4-y9._offset%4)}if(As<=0)return Cr;const wr=new jl(cn,ao,As,!0),jr=wr._nextUint16(),tr=wr._nextUint16(),Or=wr._nextUint32(),as=wr._nextUint32(),Jl=wr._nextUint32(),jo=wr._nextUint32(),Od=[];for(let s9=0;s9<ks;s9++)Od.push({imageFlags:wr._nextUint32(),rgbSliceByteOffset:wr._nextUint32(),rgbSliceByteLength:wr._nextUint32(),alphaSliceByteOffset:wr._nextUint32(),alphaSliceByteLength:wr._nextUint32()});const a9=ao+wr._offset,n0=a9+Or,xd=n0+as,Sd=xd+Jl,so=new Uint8Array(cn.buffer,cn.byteOffset+a9,Or),Ff=new Uint8Array(cn.buffer,cn.byteOffset+n0,as),Td=new Uint8Array(cn.buffer,cn.byteOffset+xd,Jl),Uf=new Uint8Array(cn.buffer,cn.byteOffset+Sd,jo);return Cr.globalData={endpointCount:jr,selectorCount:tr,imageDescs:Od,endpointsData:so,selectorsData:Ff,tablesData:Td,extendedData:Uf},Cr}function Ed(){return(Ed=Object.assign||function(cn){for(var $n=1;$n<arguments.length;$n++){var Cr=arguments[$n];for(var Br in Cr)Object.prototype.hasOwnProperty.call(Cr,Br)&&(cn[Br]=Cr[Br])}return cn}).apply(this,arguments)}const Ms={keepWriter:!1};function wd(cn,$n={}){$n=Ed({},Ms,$n);let Cr=new ArrayBuffer(0);if(cn.globalData){const jr=new ArrayBuffer(20+5*cn.globalData.imageDescs.length*4),tr=new DataView(jr);tr.setUint16(0,cn.globalData.endpointCount,!0),tr.setUint16(2,cn.globalData.selectorCount,!0),tr.setUint32(4,cn.globalData.endpointsData.byteLength,!0),tr.setUint32(8,cn.globalData.selectorsData.byteLength,!0),tr.setUint32(12,cn.globalData.tablesData.byteLength,!0),tr.setUint32(16,cn.globalData.extendedData.byteLength,!0);for(let Or=0;Or<cn.globalData.imageDescs.length;Or++){const as=cn.globalData.imageDescs[Or];tr.setUint32(20+5*Or*4+0,as.imageFlags,!0),tr.setUint32(20+5*Or*4+4,as.rgbSliceByteOffset,!0),tr.setUint32(20+5*Or*4+8,as.rgbSliceByteLength,!0),tr.setUint32(20+5*Or*4+12,as.alphaSliceByteOffset,!0),tr.setUint32(20+5*Or*4+16,as.alphaSliceByteLength,!0)}Cr=la([jr,cn.globalData.endpointsData,cn.globalData.selectorsData,cn.globalData.tablesData,cn.globalData.extendedData])}const Br=[];let ie=cn.keyValue;$n.keepWriter||(ie=Ed({},cn.keyValue,{KTXwriter:"KTX-Parse v0.3.1"}));for(const jr in ie){const tr=ie[jr],Or=_d(jr),as=typeof tr=="string"?_d(tr):tr,Jl=Or.byteLength+1+as.byteLength+1,jo=Jl%4?4-Jl%4:0;Br.push(la([new Uint32Array([Jl]),Or,Zm,as,Zm,new Uint8Array(jo).fill(0)]))}const ks=la(Br);if(cn.dataFormatDescriptor.length!==1||cn.dataFormatDescriptor[0].descriptorType!==0)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const Pa=cn.dataFormatDescriptor[0],Ta=new ArrayBuffer(28+16*Pa.samples.length),Ar=new DataView(Ta),G9=24+16*Pa.samples.length;if(Ar.setUint32(0,Ta.byteLength,!0),Ar.setUint16(4,Pa.vendorId,!0),Ar.setUint16(6,Pa.descriptorType,!0),Ar.setUint16(8,Pa.versionNumber,!0),Ar.setUint16(10,G9,!0),Ar.setUint8(12,Pa.colorModel),Ar.setUint8(13,Pa.colorPrimaries),Ar.setUint8(14,Pa.transferFunction),Ar.setUint8(15,Pa.flags),!Array.isArray(Pa.texelBlockDimension))throw new Error("texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.");Ar.setUint8(16,Pa.texelBlockDimension[0]),Ar.setUint8(17,Pa.texelBlockDimension[1]),Ar.setUint8(18,Pa.texelBlockDimension[2]),Ar.setUint8(19,Pa.texelBlockDimension[3]);for(let jr=0;jr<8;jr++)Ar.setUint8(20+jr,Pa.bytesPlane[jr]);for(let jr=0;jr<Pa.samples.length;jr++){const tr=Pa.samples[jr],Or=28+16*jr;if(tr.channelID)throw new Error("channelID has been renamed to channelType.");Ar.setUint16(Or+0,tr.bitOffset,!0),Ar.setUint8(Or+2,tr.bitLength),Ar.setUint8(Or+3,tr.channelType),Ar.setUint8(Or+4,tr.samplePosition[0]),Ar.setUint8(Or+5,tr.samplePosition[1]),Ar.setUint8(Or+6,tr.samplePosition[2]),Ar.setUint8(Or+7,tr.samplePosition[3]),64&tr.channelType?(Ar.setInt32(Or+8,tr.sampleLower,!0),Ar.setInt32(Or+12,tr.sampleUpper,!0)):(Ar.setUint32(Or+8,tr.sampleLower,!0),Ar.setUint32(Or+12,tr.sampleUpper,!0))}const ao=ya.length+68+3*cn.levels.length*8,As=ao+Ta.byteLength;let A9=Cr.byteLength>0?As+ks.byteLength:0;A9%8&&(A9+=8-A9%8);const Zn=[],D9=new DataView(new ArrayBuffer(3*cn.levels.length*8));let Ns=(A9||As+ks.byteLength)+Cr.byteLength;for(let jr=0;jr<cn.levels.length;jr++){const tr=cn.levels[jr];Zn.push(tr.levelData),D9.setBigUint64(24*jr+0,BigInt(Ns),!0),D9.setBigUint64(24*jr+8,BigInt(tr.levelData.byteLength),!0),D9.setBigUint64(24*jr+16,BigInt(tr.uncompressedByteLength),!0),Ns+=tr.levelData.byteLength}const y9=new ArrayBuffer(68),wr=new DataView(y9);return wr.setUint32(0,cn.vkFormat,!0),wr.setUint32(4,cn.typeSize,!0),wr.setUint32(8,cn.pixelWidth,!0),wr.setUint32(12,cn.pixelHeight,!0),wr.setUint32(16,cn.pixelDepth,!0),wr.setUint32(20,cn.layerCount,!0),wr.setUint32(24,cn.faceCount,!0),wr.setUint32(28,cn.levels.length,!0),wr.setUint32(32,cn.supercompressionScheme,!0),wr.setUint32(36,ao,!0),wr.setUint32(40,Ta.byteLength,!0),wr.setUint32(44,As,!0),wr.setUint32(48,ks.byteLength,!0),wr.setBigUint64(52,BigInt(Cr.byteLength>0?A9:0),!0),wr.setBigUint64(60,BigInt(Cr.byteLength),!0),new Uint8Array(la([new Uint8Array(ya).buffer,y9,D9.buffer,Ta,ks,A9>0?new ArrayBuffer(A9-(As+ks.byteLength)):new ArrayBuffer(0),Cr,...Zn]))}},"./node_modules/three/examples/jsm/libs/zstddec.module.js":(c,d,u)=>{u.r(d),u.d(d,{ZSTDDecoder:()=>A});var h=u("./node_modules/buffer/index.js").Buffer;let g,m,M;const p={env:{emscripten_notify_memory_growth:function(v){M=new Uint8Array(m.exports.memory.buffer)}}};class A{init(){return g||(g=typeof fetch<"u"?fetch("data:application/wasm;base64,"+b).then(E=>E.arrayBuffer()).then(E=>WebAssembly.instantiate(E,p)).then(this._init):WebAssembly.instantiate(h.from(b,"base64"),p).then(this._init),g)}_init(E){m=E.instance,p.env.emscripten_notify_memory_growth(0)}decode(E,x=0){if(!m)throw new Error("ZSTDDecoder: Await .init() before decoding.");const _=E.byteLength,C=m.exports.malloc(_);M.set(E,C),x=x||Number(m.exports.ZSTD_findDecompressedSize(C,_));const O=m.exports.malloc(x),I=m.exports.ZSTD_decompress(O,x,C,_),T=M.slice(O,O+I);return m.exports.free(C),m.exports.free(O),T}}const b="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ"},"./node_modules/three/examples/jsm/lights/LightProbeGenerator.js":(c,d,u)=>{u.r(d),u.d(d,{LightProbeGenerator:()=>g});var h=u("./node_modules/three/build/three.module.js");class g{static fromCubeTexture(p){let A=0;const b=new h.Vector3,v=new h.Vector3,E=new h.Color,x=[0,0,0,0,0,0,0,0,0],_=new h.SphericalHarmonics3,C=_.coefficients;for(let I=0;I<6;I++){const T=p.image[I],D=T.width,P=T.height,L=document.createElement("canvas");L.width=D,L.height=P;const N=L.getContext("2d");N.drawImage(T,0,0,D,P);const U=N.getImageData(0,0,D,P),$=U.data,F=U.width,j=2/F;for(let z=0,Q=$.length;z<Q;z+=4){E.setRGB($[z]/255,$[z+1]/255,$[z+2]/255),m(E,p.colorSpace);const V=z/4,q=-1+(V%F+.5)*j,J=1-(Math.floor(V/F)+.5)*j;switch(I){case 0:b.set(-1,J,-q);break;case 1:b.set(1,J,q);break;case 2:b.set(-q,1,-J);break;case 3:b.set(-q,-1,J);break;case 4:b.set(-q,J,1);break;case 5:b.set(q,J,-1);break}const W=b.lengthSq(),et=4/(Math.sqrt(W)*W);A+=et,v.copy(b).normalize(),h.SphericalHarmonics3.getBasisAt(v,x);for(let mt=0;mt<9;mt++)C[mt].x+=x[mt]*E.r*et,C[mt].y+=x[mt]*E.g*et,C[mt].z+=x[mt]*E.b*et}}const O=4*Math.PI/A;for(let I=0;I<9;I++)C[I].x*=O,C[I].y*=O,C[I].z*=O;return new h.LightProbe(_)}static fromCubeRenderTarget(p,A){let b=0;const v=new h.Vector3,E=new h.Vector3,x=new h.Color,_=[0,0,0,0,0,0,0,0,0],C=new h.SphericalHarmonics3,O=C.coefficients,I=A.texture.type;for(let D=0;D<6;D++){const P=A.width;let L;I===h.HalfFloatType?L=new Uint16Array(P*P*4):L=new Uint8Array(P*P*4),p.readRenderTargetPixels(A,0,0,P,P,L,D);const N=2/P;for(let U=0,$=L.length;U<$;U+=4){let F,j,z;I===h.HalfFloatType?(F=h.DataUtils.fromHalfFloat(L[U]),j=h.DataUtils.fromHalfFloat(L[U+1]),z=h.DataUtils.fromHalfFloat(L[U+2])):(F=L[U]/255,j=L[U+1]/255,z=L[U+2]/255),x.setRGB(F,j,z),m(x,A.texture.colorSpace);const Q=U/4,V=-1+(Q%P+.5)*N,q=1-(Math.floor(Q/P)+.5)*N;switch(D){case 0:v.set(1,q,-V);break;case 1:v.set(-1,q,V);break;case 2:v.set(V,1,-q);break;case 3:v.set(V,-1,q);break;case 4:v.set(V,q,1);break;case 5:v.set(-V,q,-1);break}const J=v.lengthSq(),W=4/(Math.sqrt(J)*J);b+=W,E.copy(v).normalize(),h.SphericalHarmonics3.getBasisAt(E,_);for(let et=0;et<9;et++)O[et].x+=_[et]*x.r*W,O[et].y+=_[et]*x.g*W,O[et].z+=_[et]*x.b*W}}const T=4*Math.PI/b;for(let D=0;D<9;D++)O[D].x*=T,O[D].y*=T,O[D].z*=T;return new h.LightProbe(C)}}function m(M,p){switch(p){case h.SRGBColorSpace:M.convertSRGBToLinear();break;case h.LinearSRGBColorSpace:case h.NoColorSpace:break;default:console.warn("WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported color space.");break}return M}},"./node_modules/three/examples/jsm/loaders/DRACOLoader.js":(c,d,u)=>{u.r(d),u.d(d,{DRACOLoader:()=>m});var h=u("./node_modules/three/build/three.module.js");const g=new WeakMap;class m extends h.Loader{constructor(A){super(A),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(A){return this.decoderPath=A,this}setDecoderConfig(A){return this.decoderConfig=A,this}setWorkerLimit(A){return this.workerLimit=A,this}load(A,b,v,E){const x=new h.FileLoader(this.manager);x.setPath(this.path),x.setResponseType("arraybuffer"),x.setRequestHeader(this.requestHeader),x.setWithCredentials(this.withCredentials),x.load(A,_=>{this.parse(_,b,E)},v,E)}parse(A,b,v=()=>{}){this.decodeDracoFile(A,b,null,null,h.SRGBColorSpace).catch(v)}decodeDracoFile(A,b,v,E,x=h.LinearSRGBColorSpace,_=()=>{}){const C={attributeIDs:v||this.defaultAttributeIDs,attributeTypes:E||this.defaultAttributeTypes,useUniqueIDs:!!v,vertexColorSpace:x};return this.decodeGeometry(A,C).then(b).catch(_)}decodeGeometry(A,b){const v=JSON.stringify(b);if(g.has(A)){const O=g.get(A);if(O.key===v)return O.promise;if(A.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let E;const x=this.workerNextTaskID++,_=A.byteLength,C=this._getWorker(x,_).then(O=>(E=O,new Promise((I,T)=>{E._callbacks[x]={resolve:I,reject:T},E.postMessage({type:"decode",id:x,taskConfig:b,buffer:A},[A])}))).then(O=>this._createGeometry(O.geometry));return C.catch(()=>!0).then(()=>{E&&x&&this._releaseTask(E,x)}),g.set(A,{key:v,promise:C}),C}_createGeometry(A){const b=new h.BufferGeometry;A.index&&b.setIndex(new h.BufferAttribute(A.index.array,1));for(let v=0;v<A.attributes.length;v++){const E=A.attributes[v],x=E.name,_=E.array,C=E.itemSize,O=new h.BufferAttribute(_,C);x==="color"&&(this._assignVertexColorSpace(O,E.vertexColorSpace),O.normalized=!(_ instanceof Float32Array)),b.setAttribute(x,O)}return b}_assignVertexColorSpace(A,b){if(b!==h.SRGBColorSpace)return;const v=new h.Color;for(let E=0,x=A.count;E<x;E++)v.fromBufferAttribute(A,E).convertSRGBToLinear(),A.setXYZ(E,v.r,v.g,v.b)}_loadLibrary(A,b){const v=new h.FileLoader(this.manager);return v.setPath(this.decoderPath),v.setResponseType(b),v.setWithCredentials(this.withCredentials),new Promise((E,x)=>{v.load(A,E,void 0,x)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const A=typeof WebAssembly!="object"||this.decoderConfig.type==="js",b=[];return A?b.push(this._loadLibrary("draco_decoder.js","text")):(b.push(this._loadLibrary("draco_wasm_wrapper.js","text")),b.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(b).then(v=>{const E=v[0];A||(this.decoderConfig.wasmBinary=v[1]);const x=M.toString(),_=["/* draco decoder */",E,"","/* worker */",x.substring(x.indexOf("{")+1,x.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([_]))}),this.decoderPending}_getWorker(A,b){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const E=new Worker(this.workerSourceURL);E._callbacks={},E._taskCosts={},E._taskLoad=0,E.postMessage({type:"init",decoderConfig:this.decoderConfig}),E.onmessage=function(x){const _=x.data;switch(_.type){case"decode":E._callbacks[_.id].resolve(_);break;case"error":E._callbacks[_.id].reject(_);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+_.type+'"')}},this.workerPool.push(E)}else this.workerPool.sort(function(E,x){return E._taskLoad>x._taskLoad?-1:1});const v=this.workerPool[this.workerPool.length-1];return v._taskCosts[A]=b,v._taskLoad+=b,v})}_releaseTask(A,b){A._taskLoad-=A._taskCosts[b],delete A._callbacks[b],delete A._taskCosts[b]}debug(){console.log("Task load: ",this.workerPool.map(A=>A._taskLoad))}dispose(){for(let A=0;A<this.workerPool.length;++A)this.workerPool[A].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function M(){let p,A;onmessage=function(_){const C=_.data;switch(C.type){case"init":p=C.decoderConfig,A=new Promise(function(T){p.onModuleLoaded=function(D){T({draco:D})},DracoDecoderModule(p)});break;case"decode":const O=C.buffer,I=C.taskConfig;A.then(T=>{const D=T.draco,P=new D.Decoder;try{const L=b(D,P,new Int8Array(O),I),N=L.attributes.map(U=>U.array.buffer);L.index&&N.push(L.index.array.buffer),self.postMessage({type:"decode",id:C.id,geometry:L},N)}catch(L){console.error(L),self.postMessage({type:"error",id:C.id,error:L.message})}finally{D.destroy(P)}});break}};function b(_,C,O,I){const T=I.attributeIDs,D=I.attributeTypes;let P,L;const N=C.GetEncodedGeometryType(O);if(N===_.TRIANGULAR_MESH)P=new _.Mesh,L=C.DecodeArrayToMesh(O,O.byteLength,P);else if(N===_.POINT_CLOUD)P=new _.PointCloud,L=C.DecodeArrayToPointCloud(O,O.byteLength,P);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!L.ok()||P.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+L.error_msg());const U={index:null,attributes:[]};for(const $ in T){const F=self[D[$]];let j,z;if(I.useUniqueIDs)z=T[$],j=C.GetAttributeByUniqueId(P,z);else{if(z=C.GetAttributeId(P,_[T[$]]),z===-1)continue;j=C.GetAttribute(P,z)}const Q=E(_,C,P,$,F,j);$==="color"&&(Q.vertexColorSpace=I.vertexColorSpace),U.attributes.push(Q)}return N===_.TRIANGULAR_MESH&&(U.index=v(_,C,P)),_.destroy(P),U}function v(_,C,O){const T=O.num_faces()*3,D=T*4,P=_._malloc(D);C.GetTrianglesUInt32Array(O,D,P);const L=new Uint32Array(_.HEAPF32.buffer,P,T).slice();return _._free(P),{array:L,itemSize:1}}function E(_,C,O,I,T,D){const P=D.num_components(),N=O.num_points()*P,U=N*T.BYTES_PER_ELEMENT,$=x(_,T),F=_._malloc(U);C.GetAttributeDataArrayForAllPoints(O,D,$,U,F);const j=new T(_.HEAPF32.buffer,F,N).slice();return _._free(F),{name:I,array:j,itemSize:P}}function x(_,C){switch(C){case Float32Array:return _.DT_FLOAT32;case Int8Array:return _.DT_INT8;case Int16Array:return _.DT_INT16;case Int32Array:return _.DT_INT32;case Uint8Array:return _.DT_UINT8;case Uint16Array:return _.DT_UINT16;case Uint32Array:return _.DT_UINT32}}}},"./node_modules/three/examples/jsm/loaders/GLTFLoader.js":(c,d,u)=>{u.r(d),u.d(d,{GLTFLoader:()=>m});var h=u("./node_modules/three/build/three.module.js"),g=u("./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js");class m extends h.Loader{constructor(Et){super(Et),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(vt){return new E(vt)}),this.register(function(vt){return new x(vt)}),this.register(function(vt){return new N(vt)}),this.register(function(vt){return new U(vt)}),this.register(function(vt){return new $(vt)}),this.register(function(vt){return new C(vt)}),this.register(function(vt){return new O(vt)}),this.register(function(vt){return new I(vt)}),this.register(function(vt){return new T(vt)}),this.register(function(vt){return new v(vt)}),this.register(function(vt){return new D(vt)}),this.register(function(vt){return new _(vt)}),this.register(function(vt){return new L(vt)}),this.register(function(vt){return new P(vt)}),this.register(function(vt){return new A(vt)}),this.register(function(vt){return new F(vt)}),this.register(function(vt){return new j(vt)})}load(Et,vt,Ht,St){const It=this;let zt;if(this.resourcePath!=="")zt=this.resourcePath;else if(this.path!==""){const tt=h.LoaderUtils.extractUrlBase(Et);zt=h.LoaderUtils.resolveURL(tt,this.path)}else zt=h.LoaderUtils.extractUrlBase(Et);this.manager.itemStart(Et);const ht=function(tt){St?St(tt):console.error(tt),It.manager.itemError(Et),It.manager.itemEnd(Et)},X=new h.FileLoader(this.manager);X.setPath(this.path),X.setResponseType("arraybuffer"),X.setRequestHeader(this.requestHeader),X.setWithCredentials(this.withCredentials),X.load(Et,function(tt){try{It.parse(tt,zt,function(Tt){vt(Tt),It.manager.itemEnd(Et)},ht)}catch(Tt){ht(Tt)}},Ht,ht)}setDRACOLoader(Et){return this.dracoLoader=Et,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(Et){return this.ktx2Loader=Et,this}setMeshoptDecoder(Et){return this.meshoptDecoder=Et,this}register(Et){return this.pluginCallbacks.indexOf(Et)===-1&&this.pluginCallbacks.push(Et),this}unregister(Et){return this.pluginCallbacks.indexOf(Et)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(Et),1),this}parse(Et,vt,Ht,St){let It;const zt={},ht={},X=new TextDecoder;if(typeof Et=="string")It=JSON.parse(Et);else if(Et instanceof ArrayBuffer)if(X.decode(new Uint8Array(Et,0,4))===z){try{zt[p.KHR_BINARY_GLTF]=new q(Et)}catch(Qt){St&&St(Qt);return}It=JSON.parse(zt[p.KHR_BINARY_GLTF].content)}else It=JSON.parse(X.decode(Et));else It=Et;if(It.asset===void 0||It.asset.version[0]<2){St&&St(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const tt=new Ze(It,{path:vt||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});tt.fileLoader.setRequestHeader(this.requestHeader);for(let Tt=0;Tt<this.pluginCallbacks.length;Tt++){const Qt=this.pluginCallbacks[Tt](tt);Qt.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),ht[Qt.name]=Qt,zt[Qt.name]=!0}if(It.extensionsUsed)for(let Tt=0;Tt<It.extensionsUsed.length;++Tt){const Qt=It.extensionsUsed[Tt],Zt=It.extensionsRequired||[];switch(Qt){case p.KHR_MATERIALS_UNLIT:zt[Qt]=new b;break;case p.KHR_DRACO_MESH_COMPRESSION:zt[Qt]=new J(It,this.dracoLoader);break;case p.KHR_TEXTURE_TRANSFORM:zt[Qt]=new W;break;case p.KHR_MESH_QUANTIZATION:zt[Qt]=new et;break;default:Zt.indexOf(Qt)>=0&&ht[Qt]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+Qt+'".')}}tt.setExtensions(zt),tt.setPlugins(ht),tt.parse(Ht,St)}parseAsync(Et,vt){const Ht=this;return new Promise(function(St,It){Ht.parse(Et,vt,St,It)})}}function M(){let re={};return{get:function(Et){return re[Et]},add:function(Et,vt){re[Et]=vt},remove:function(Et){delete re[Et]},removeAll:function(){re={}}}}const p={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class A{constructor(Et){this.parser=Et,this.name=p.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const Et=this.parser,vt=this.parser.json.nodes||[];for(let Ht=0,St=vt.length;Ht<St;Ht++){const It=vt[Ht];It.extensions&&It.extensions[this.name]&&It.extensions[this.name].light!==void 0&&Et._addNodeRef(this.cache,It.extensions[this.name].light)}}_loadLight(Et){const vt=this.parser,Ht="light:"+Et;let St=vt.cache.get(Ht);if(St)return St;const It=vt.json,X=((It.extensions&&It.extensions[this.name]||{}).lights||[])[Et];let tt;const Tt=new h.Color(16777215);X.color!==void 0&&Tt.setRGB(X.color[0],X.color[1],X.color[2],h.LinearSRGBColorSpace);const Qt=X.range!==void 0?X.range:0;switch(X.type){case"directional":tt=new h.DirectionalLight(Tt),tt.target.position.set(0,0,-1),tt.add(tt.target);break;case"point":tt=new h.PointLight(Tt),tt.distance=Qt;break;case"spot":tt=new h.SpotLight(Tt),tt.distance=Qt,X.spot=X.spot||{},X.spot.innerConeAngle=X.spot.innerConeAngle!==void 0?X.spot.innerConeAngle:0,X.spot.outerConeAngle=X.spot.outerConeAngle!==void 0?X.spot.outerConeAngle:Math.PI/4,tt.angle=X.spot.outerConeAngle,tt.penumbra=1-X.spot.innerConeAngle/X.spot.outerConeAngle,tt.target.position.set(0,0,-1),tt.add(tt.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+X.type)}return tt.position.set(0,0,0),tt.decay=2,ae(tt,X),X.intensity!==void 0&&(tt.intensity=X.intensity),tt.name=vt.createUniqueName(X.name||"light_"+Et),St=Promise.resolve(tt),vt.cache.add(Ht,St),St}getDependency(Et,vt){if(Et==="light")return this._loadLight(vt)}createNodeAttachment(Et){const vt=this,Ht=this.parser,It=Ht.json.nodes[Et],ht=(It.extensions&&It.extensions[this.name]||{}).light;return ht===void 0?null:this._loadLight(ht).then(function(X){return Ht._getNodeRef(vt.cache,ht,X)})}}class b{constructor(){this.name=p.KHR_MATERIALS_UNLIT}getMaterialType(){return h.MeshBasicMaterial}extendParams(Et,vt,Ht){const St=[];Et.color=new h.Color(1,1,1),Et.opacity=1;const It=vt.pbrMetallicRoughness;if(It){if(Array.isArray(It.baseColorFactor)){const zt=It.baseColorFactor;Et.color.setRGB(zt[0],zt[1],zt[2],h.LinearSRGBColorSpace),Et.opacity=zt[3]}It.baseColorTexture!==void 0&&St.push(Ht.assignTexture(Et,"map",It.baseColorTexture,h.SRGBColorSpace))}return Promise.all(St)}}class v{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(Et,vt){const St=this.parser.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=St.extensions[this.name].emissiveStrength;return It!==void 0&&(vt.emissiveIntensity=It),Promise.resolve()}}class E{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_CLEARCOAT}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Et,vt){const Ht=this.parser,St=Ht.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=[],zt=St.extensions[this.name];if(zt.clearcoatFactor!==void 0&&(vt.clearcoat=zt.clearcoatFactor),zt.clearcoatTexture!==void 0&&It.push(Ht.assignTexture(vt,"clearcoatMap",zt.clearcoatTexture)),zt.clearcoatRoughnessFactor!==void 0&&(vt.clearcoatRoughness=zt.clearcoatRoughnessFactor),zt.clearcoatRoughnessTexture!==void 0&&It.push(Ht.assignTexture(vt,"clearcoatRoughnessMap",zt.clearcoatRoughnessTexture)),zt.clearcoatNormalTexture!==void 0&&(It.push(Ht.assignTexture(vt,"clearcoatNormalMap",zt.clearcoatNormalTexture)),zt.clearcoatNormalTexture.scale!==void 0)){const ht=zt.clearcoatNormalTexture.scale;vt.clearcoatNormalScale=new h.Vector2(ht,ht)}return Promise.all(It)}}class x{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_DISPERSION}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Et,vt){const St=this.parser.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=St.extensions[this.name];return vt.dispersion=It.dispersion!==void 0?It.dispersion:0,Promise.resolve()}}class _{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_IRIDESCENCE}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Et,vt){const Ht=this.parser,St=Ht.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=[],zt=St.extensions[this.name];return zt.iridescenceFactor!==void 0&&(vt.iridescence=zt.iridescenceFactor),zt.iridescenceTexture!==void 0&&It.push(Ht.assignTexture(vt,"iridescenceMap",zt.iridescenceTexture)),zt.iridescenceIor!==void 0&&(vt.iridescenceIOR=zt.iridescenceIor),vt.iridescenceThicknessRange===void 0&&(vt.iridescenceThicknessRange=[100,400]),zt.iridescenceThicknessMinimum!==void 0&&(vt.iridescenceThicknessRange[0]=zt.iridescenceThicknessMinimum),zt.iridescenceThicknessMaximum!==void 0&&(vt.iridescenceThicknessRange[1]=zt.iridescenceThicknessMaximum),zt.iridescenceThicknessTexture!==void 0&&It.push(Ht.assignTexture(vt,"iridescenceThicknessMap",zt.iridescenceThicknessTexture)),Promise.all(It)}}class C{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_SHEEN}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Et,vt){const Ht=this.parser,St=Ht.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=[];vt.sheenColor=new h.Color(0,0,0),vt.sheenRoughness=0,vt.sheen=1;const zt=St.extensions[this.name];if(zt.sheenColorFactor!==void 0){const ht=zt.sheenColorFactor;vt.sheenColor.setRGB(ht[0],ht[1],ht[2],h.LinearSRGBColorSpace)}return zt.sheenRoughnessFactor!==void 0&&(vt.sheenRoughness=zt.sheenRoughnessFactor),zt.sheenColorTexture!==void 0&&It.push(Ht.assignTexture(vt,"sheenColorMap",zt.sheenColorTexture,h.SRGBColorSpace)),zt.sheenRoughnessTexture!==void 0&&It.push(Ht.assignTexture(vt,"sheenRoughnessMap",zt.sheenRoughnessTexture)),Promise.all(It)}}class O{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_TRANSMISSION}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Et,vt){const Ht=this.parser,St=Ht.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=[],zt=St.extensions[this.name];return zt.transmissionFactor!==void 0&&(vt.transmission=zt.transmissionFactor),zt.transmissionTexture!==void 0&&It.push(Ht.assignTexture(vt,"transmissionMap",zt.transmissionTexture)),Promise.all(It)}}class I{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_VOLUME}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Et,vt){const Ht=this.parser,St=Ht.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=[],zt=St.extensions[this.name];vt.thickness=zt.thicknessFactor!==void 0?zt.thicknessFactor:0,zt.thicknessTexture!==void 0&&It.push(Ht.assignTexture(vt,"thicknessMap",zt.thicknessTexture)),vt.attenuationDistance=zt.attenuationDistance||1/0;const ht=zt.attenuationColor||[1,1,1];return vt.attenuationColor=new h.Color().setRGB(ht[0],ht[1],ht[2],h.LinearSRGBColorSpace),Promise.all(It)}}class T{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_IOR}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Et,vt){const St=this.parser.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=St.extensions[this.name];return vt.ior=It.ior!==void 0?It.ior:1.5,Promise.resolve()}}class D{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_SPECULAR}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Et,vt){const Ht=this.parser,St=Ht.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=[],zt=St.extensions[this.name];vt.specularIntensity=zt.specularFactor!==void 0?zt.specularFactor:1,zt.specularTexture!==void 0&&It.push(Ht.assignTexture(vt,"specularIntensityMap",zt.specularTexture));const ht=zt.specularColorFactor||[1,1,1];return vt.specularColor=new h.Color().setRGB(ht[0],ht[1],ht[2],h.LinearSRGBColorSpace),zt.specularColorTexture!==void 0&&It.push(Ht.assignTexture(vt,"specularColorMap",zt.specularColorTexture,h.SRGBColorSpace)),Promise.all(It)}}class P{constructor(Et){this.parser=Et,this.name=p.EXT_MATERIALS_BUMP}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Et,vt){const Ht=this.parser,St=Ht.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=[],zt=St.extensions[this.name];return vt.bumpScale=zt.bumpFactor!==void 0?zt.bumpFactor:1,zt.bumpTexture!==void 0&&It.push(Ht.assignTexture(vt,"bumpMap",zt.bumpTexture)),Promise.all(It)}}class L{constructor(Et){this.parser=Et,this.name=p.KHR_MATERIALS_ANISOTROPY}getMaterialType(Et){const Ht=this.parser.json.materials[Et];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Et,vt){const Ht=this.parser,St=Ht.json.materials[Et];if(!St.extensions||!St.extensions[this.name])return Promise.resolve();const It=[],zt=St.extensions[this.name];return zt.anisotropyStrength!==void 0&&(vt.anisotropy=zt.anisotropyStrength),zt.anisotropyRotation!==void 0&&(vt.anisotropyRotation=zt.anisotropyRotation),zt.anisotropyTexture!==void 0&&It.push(Ht.assignTexture(vt,"anisotropyMap",zt.anisotropyTexture)),Promise.all(It)}}class N{constructor(Et){this.parser=Et,this.name=p.KHR_TEXTURE_BASISU}loadTexture(Et){const vt=this.parser,Ht=vt.json,St=Ht.textures[Et];if(!St.extensions||!St.extensions[this.name])return null;const It=St.extensions[this.name],zt=vt.options.ktx2Loader;if(!zt){if(Ht.extensionsRequired&&Ht.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return vt.loadTextureImage(Et,It.source,zt)}}class U{constructor(Et){this.parser=Et,this.name=p.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(Et){const vt=this.name,Ht=this.parser,St=Ht.json,It=St.textures[Et];if(!It.extensions||!It.extensions[vt])return null;const zt=It.extensions[vt],ht=St.images[zt.source];let X=Ht.textureLoader;if(ht.uri){const tt=Ht.options.manager.getHandler(ht.uri);tt!==null&&(X=tt)}return this.detectSupport().then(function(tt){if(tt)return Ht.loadTextureImage(Et,zt.source,X);if(St.extensionsRequired&&St.extensionsRequired.indexOf(vt)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return Ht.loadTexture(Et)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(Et){const vt=new Image;vt.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",vt.onload=vt.onerror=function(){Et(vt.height===1)}})),this.isSupported}}class ${constructor(Et){this.parser=Et,this.name=p.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(Et){const vt=this.name,Ht=this.parser,St=Ht.json,It=St.textures[Et];if(!It.extensions||!It.extensions[vt])return null;const zt=It.extensions[vt],ht=St.images[zt.source];let X=Ht.textureLoader;if(ht.uri){const tt=Ht.options.manager.getHandler(ht.uri);tt!==null&&(X=tt)}return this.detectSupport().then(function(tt){if(tt)return Ht.loadTextureImage(Et,zt.source,X);if(St.extensionsRequired&&St.extensionsRequired.indexOf(vt)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return Ht.loadTexture(Et)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(Et){const vt=new Image;vt.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",vt.onload=vt.onerror=function(){Et(vt.height===1)}})),this.isSupported}}class F{constructor(Et){this.name=p.EXT_MESHOPT_COMPRESSION,this.parser=Et}loadBufferView(Et){const vt=this.parser.json,Ht=vt.bufferViews[Et];if(Ht.extensions&&Ht.extensions[this.name]){const St=Ht.extensions[this.name],It=this.parser.getDependency("buffer",St.buffer),zt=this.parser.options.meshoptDecoder;if(!zt||!zt.supported){if(vt.extensionsRequired&&vt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return It.then(function(ht){const X=St.byteOffset||0,tt=St.byteLength||0,Tt=St.count,Qt=St.byteStride,Zt=new Uint8Array(ht,X,tt);return zt.decodeGltfBufferAsync?zt.decodeGltfBufferAsync(Tt,Qt,Zt,St.mode,St.filter).then(function(ce){return ce.buffer}):zt.ready.then(function(){const ce=new ArrayBuffer(Tt*Qt);return zt.decodeGltfBuffer(new Uint8Array(ce),Tt,Qt,Zt,St.mode,St.filter),ce})})}else return null}}class j{constructor(Et){this.name=p.EXT_MESH_GPU_INSTANCING,this.parser=Et}createNodeMesh(Et){const vt=this.parser.json,Ht=vt.nodes[Et];if(!Ht.extensions||!Ht.extensions[this.name]||Ht.mesh===void 0)return null;const St=vt.meshes[Ht.mesh];for(const tt of St.primitives)if(tt.mode!==wt.TRIANGLES&&tt.mode!==wt.TRIANGLE_STRIP&&tt.mode!==wt.TRIANGLE_FAN&&tt.mode!==void 0)return null;const zt=Ht.extensions[this.name].attributes,ht=[],X={};for(const tt in zt)ht.push(this.parser.getDependency("accessor",zt[tt]).then(Tt=>(X[tt]=Tt,X[tt])));return ht.length<1?null:(ht.push(this.parser.createNodeMesh(Et)),Promise.all(ht).then(tt=>{const Tt=tt.pop(),Qt=Tt.isGroup?Tt.children:[Tt],Zt=tt[0].count,ce=[];for(const ye of Qt){const $e=new h.Matrix4,ge=new h.Vector3,He=new h.Quaternion,_e=new h.Vector3(1,1,1),Pi=new h.InstancedMesh(ye.geometry,ye.material,Zt);for(let Le=0;Le<Zt;Le++)X.TRANSLATION&&ge.fromBufferAttribute(X.TRANSLATION,Le),X.ROTATION&&He.fromBufferAttribute(X.ROTATION,Le),X.SCALE&&_e.fromBufferAttribute(X.SCALE,Le),Pi.setMatrixAt(Le,$e.compose(ge,He,_e));for(const Le in X)if(Le==="_COLOR_0"){const ke=X[Le];Pi.instanceColor=new h.InstancedBufferAttribute(ke.array,ke.itemSize,ke.normalized)}else Le!=="TRANSLATION"&&Le!=="ROTATION"&&Le!=="SCALE"&&ye.geometry.setAttribute(Le,X[Le]);h.Object3D.prototype.copy.call(Pi,ye),this.parser.assignFinalMaterial(Pi),ce.push(Pi)}return Tt.isGroup?(Tt.clear(),Tt.add(...ce),Tt):ce[0]}))}}const z="glTF",Q=12,V={JSON:1313821514,BIN:5130562};class q{constructor(Et){this.name=p.KHR_BINARY_GLTF,this.content=null,this.body=null;const vt=new DataView(Et,0,Q),Ht=new TextDecoder;if(this.header={magic:Ht.decode(new Uint8Array(Et.slice(0,4))),version:vt.getUint32(4,!0),length:vt.getUint32(8,!0)},this.header.magic!==z)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const St=this.header.length-Q,It=new DataView(Et,Q);let zt=0;for(;zt<St;){const ht=It.getUint32(zt,!0);zt+=4;const X=It.getUint32(zt,!0);if(zt+=4,X===V.JSON){const tt=new Uint8Array(Et,Q+zt,ht);this.content=Ht.decode(tt)}else if(X===V.BIN){const tt=Q+zt;this.body=Et.slice(tt,tt+ht)}zt+=ht}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class J{constructor(Et,vt){if(!vt)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=p.KHR_DRACO_MESH_COMPRESSION,this.json=Et,this.dracoLoader=vt,this.dracoLoader.preload()}decodePrimitive(Et,vt){const Ht=this.json,St=this.dracoLoader,It=Et.extensions[this.name].bufferView,zt=Et.extensions[this.name].attributes,ht={},X={},tt={};for(const Tt in zt){const Qt=At[Tt]||Tt.toLowerCase();ht[Qt]=zt[Tt]}for(const Tt in Et.attributes){const Qt=At[Tt]||Tt.toLowerCase();if(zt[Tt]!==void 0){const Zt=Ht.accessors[Et.attributes[Tt]],ce=Mt[Zt.componentType];tt[Qt]=ce.name,X[Qt]=Zt.normalized===!0}}return vt.getDependency("bufferView",It).then(function(Tt){return new Promise(function(Qt,Zt){St.decodeDracoFile(Tt,function(ce){for(const ye in ce.attributes){const $e=ce.attributes[ye],ge=X[ye];ge!==void 0&&($e.normalized=ge)}Qt(ce)},ht,tt,h.LinearSRGBColorSpace,Zt)})})}}class W{constructor(){this.name=p.KHR_TEXTURE_TRANSFORM}extendTexture(Et,vt){return(vt.texCoord===void 0||vt.texCoord===Et.channel)&&vt.offset===void 0&&vt.rotation===void 0&&vt.scale===void 0||(Et=Et.clone(),vt.texCoord!==void 0&&(Et.channel=vt.texCoord),vt.offset!==void 0&&Et.offset.fromArray(vt.offset),vt.rotation!==void 0&&(Et.rotation=vt.rotation),vt.scale!==void 0&&Et.repeat.fromArray(vt.scale),Et.needsUpdate=!0),Et}}class et{constructor(){this.name=p.KHR_MESH_QUANTIZATION}}class mt extends h.Interpolant{constructor(Et,vt,Ht,St){super(Et,vt,Ht,St)}copySampleValue_(Et){const vt=this.resultBuffer,Ht=this.sampleValues,St=this.valueSize,It=Et*St*3+St;for(let zt=0;zt!==St;zt++)vt[zt]=Ht[It+zt];return vt}interpolate_(Et,vt,Ht,St){const It=this.resultBuffer,zt=this.sampleValues,ht=this.valueSize,X=ht*2,tt=ht*3,Tt=St-vt,Qt=(Ht-vt)/Tt,Zt=Qt*Qt,ce=Zt*Qt,ye=Et*tt,$e=ye-tt,ge=-2*ce+3*Zt,He=ce-Zt,_e=1-ge,Pi=He-Zt+Qt;for(let Le=0;Le!==ht;Le++){const ke=zt[$e+Le+ht],Oe=zt[$e+Le+X]*Tt,Ii=zt[ye+Le+ht],wn=zt[ye+Le]*Tt;It[Le]=_e*ke+Pi*Oe+ge*Ii+He*wn}return It}}const ot=new h.Quaternion;class pt extends mt{interpolate_(Et,vt,Ht,St){const It=super.interpolate_(Et,vt,Ht,St);return ot.fromArray(It).normalize().toArray(It),It}}const wt={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Mt={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},xt={9728:h.NearestFilter,9729:h.LinearFilter,9984:h.NearestMipmapNearestFilter,9985:h.LinearMipmapNearestFilter,9986:h.NearestMipmapLinearFilter,9987:h.LinearMipmapLinearFilter},dt={33071:h.ClampToEdgeWrapping,33648:h.MirroredRepeatWrapping,10497:h.RepeatWrapping},Ot={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},At={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},jt={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},bt={CUBICSPLINE:void 0,LINEAR:h.InterpolateLinear,STEP:h.InterpolateDiscrete},kt={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Dt(re){return re.DefaultMaterial===void 0&&(re.DefaultMaterial=new h.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:h.FrontSide})),re.DefaultMaterial}function Xt(re,Et,vt){for(const Ht in vt.extensions)re[Ht]===void 0&&(Et.userData.gltfExtensions=Et.userData.gltfExtensions||{},Et.userData.gltfExtensions[Ht]=vt.extensions[Ht])}function ae(re,Et){Et.extras!==void 0&&(typeof Et.extras=="object"?Object.assign(re.userData,Et.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+Et.extras))}function Jt(re,Et,vt){let Ht=!1,St=!1,It=!1;for(let tt=0,Tt=Et.length;tt<Tt;tt++){const Qt=Et[tt];if(Qt.POSITION!==void 0&&(Ht=!0),Qt.NORMAL!==void 0&&(St=!0),Qt.COLOR_0!==void 0&&(It=!0),Ht&&St&&It)break}if(!Ht&&!St&&!It)return Promise.resolve(re);const zt=[],ht=[],X=[];for(let tt=0,Tt=Et.length;tt<Tt;tt++){const Qt=Et[tt];if(Ht){const Zt=Qt.POSITION!==void 0?vt.getDependency("accessor",Qt.POSITION):re.attributes.position;zt.push(Zt)}if(St){const Zt=Qt.NORMAL!==void 0?vt.getDependency("accessor",Qt.NORMAL):re.attributes.normal;ht.push(Zt)}if(It){const Zt=Qt.COLOR_0!==void 0?vt.getDependency("accessor",Qt.COLOR_0):re.attributes.color;X.push(Zt)}}return Promise.all([Promise.all(zt),Promise.all(ht),Promise.all(X)]).then(function(tt){const Tt=tt[0],Qt=tt[1],Zt=tt[2];return Ht&&(re.morphAttributes.position=Tt),St&&(re.morphAttributes.normal=Qt),It&&(re.morphAttributes.color=Zt),re.morphTargetsRelative=!0,re})}function le(re,Et){if(re.updateMorphTargets(),Et.weights!==void 0)for(let vt=0,Ht=Et.weights.length;vt<Ht;vt++)re.morphTargetInfluences[vt]=Et.weights[vt];if(Et.extras&&Array.isArray(Et.extras.targetNames)){const vt=Et.extras.targetNames;if(re.morphTargetInfluences.length===vt.length){re.morphTargetDictionary={};for(let Ht=0,St=vt.length;Ht<St;Ht++)re.morphTargetDictionary[vt[Ht]]=Ht}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Ve(re){let Et;const vt=re.extensions&&re.extensions[p.KHR_DRACO_MESH_COMPRESSION];if(vt?Et="draco:"+vt.bufferView+":"+vt.indices+":"+ai(vt.attributes):Et=re.indices+":"+ai(re.attributes)+":"+re.mode,re.targets!==void 0)for(let Ht=0,St=re.targets.length;Ht<St;Ht++)Et+=":"+ai(re.targets[Ht]);return Et}function ai(re){let Et="";const vt=Object.keys(re).sort();for(let Ht=0,St=vt.length;Ht<St;Ht++)Et+=vt[Ht]+":"+re[vt[Ht]]+";";return Et}function Ye(re){switch(re){case Int8Array:return .007874015748031496;case Uint8Array:return .00392156862745098;case Int16Array:return 3051850947599719e-20;case Uint16Array:return 15259021896696422e-21;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ci(re){return re.search(/\.jpe?g($|\?)/i)>0||re.search(/^data\:image\/jpeg/)===0?"image/jpeg":re.search(/\.webp($|\?)/i)>0||re.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const ei=new h.Matrix4;class Ze{constructor(Et={},vt={}){this.json=Et,this.extensions={},this.plugins={},this.options=vt,this.cache=new M,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let Ht=!1,St=!1,It=-1;typeof navigator<"u"&&(Ht=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,St=navigator.userAgent.indexOf("Firefox")>-1,It=St?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||Ht||St&&It<98?this.textureLoader=new h.TextureLoader(this.options.manager):this.textureLoader=new h.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new h.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(Et){this.extensions=Et}setPlugins(Et){this.plugins=Et}parse(Et,vt){const Ht=this,St=this.json,It=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(zt){return zt._markDefs&&zt._markDefs()}),Promise.all(this._invokeAll(function(zt){return zt.beforeRoot&&zt.beforeRoot()})).then(function(){return Promise.all([Ht.getDependencies("scene"),Ht.getDependencies("animation"),Ht.getDependencies("camera")])}).then(function(zt){const ht={scene:zt[0][St.scene||0],scenes:zt[0],animations:zt[1],cameras:zt[2],asset:St.asset,parser:Ht,userData:{}};return Xt(It,ht,St),ae(ht,St),Promise.all(Ht._invokeAll(function(X){return X.afterRoot&&X.afterRoot(ht)})).then(function(){for(const X of ht.scenes)X.updateMatrixWorld();Et(ht)})}).catch(vt)}_markDefs(){const Et=this.json.nodes||[],vt=this.json.skins||[],Ht=this.json.meshes||[];for(let St=0,It=vt.length;St<It;St++){const zt=vt[St].joints;for(let ht=0,X=zt.length;ht<X;ht++)Et[zt[ht]].isBone=!0}for(let St=0,It=Et.length;St<It;St++){const zt=Et[St];zt.mesh!==void 0&&(this._addNodeRef(this.meshCache,zt.mesh),zt.skin!==void 0&&(Ht[zt.mesh].isSkinnedMesh=!0)),zt.camera!==void 0&&this._addNodeRef(this.cameraCache,zt.camera)}}_addNodeRef(Et,vt){vt!==void 0&&(Et.refs[vt]===void 0&&(Et.refs[vt]=Et.uses[vt]=0),Et.refs[vt]++)}_getNodeRef(Et,vt,Ht){if(Et.refs[vt]<=1)return Ht;const St=Ht.clone(),It=(zt,ht)=>{const X=this.associations.get(zt);X!=null&&this.associations.set(ht,X);for(const[tt,Tt]of zt.children.entries())It(Tt,ht.children[tt])};return It(Ht,St),St.name+="_instance_"+Et.uses[vt]++,St}_invokeOne(Et){const vt=Object.values(this.plugins);vt.push(this);for(let Ht=0;Ht<vt.length;Ht++){const St=Et(vt[Ht]);if(St)return St}return null}_invokeAll(Et){const vt=Object.values(this.plugins);vt.unshift(this);const Ht=[];for(let St=0;St<vt.length;St++){const It=Et(vt[St]);It&&Ht.push(It)}return Ht}getDependency(Et,vt){const Ht=Et+":"+vt;let St=this.cache.get(Ht);if(!St){switch(Et){case"scene":St=this.loadScene(vt);break;case"node":St=this._invokeOne(function(It){return It.loadNode&&It.loadNode(vt)});break;case"mesh":St=this._invokeOne(function(It){return It.loadMesh&&It.loadMesh(vt)});break;case"accessor":St=this.loadAccessor(vt);break;case"bufferView":St=this._invokeOne(function(It){return It.loadBufferView&&It.loadBufferView(vt)});break;case"buffer":St=this.loadBuffer(vt);break;case"material":St=this._invokeOne(function(It){return It.loadMaterial&&It.loadMaterial(vt)});break;case"texture":St=this._invokeOne(function(It){return It.loadTexture&&It.loadTexture(vt)});break;case"skin":St=this.loadSkin(vt);break;case"animation":St=this._invokeOne(function(It){return It.loadAnimation&&It.loadAnimation(vt)});break;case"camera":St=this.loadCamera(vt);break;default:if(St=this._invokeOne(function(It){return It!=this&&It.getDependency&&It.getDependency(Et,vt)}),!St)throw new Error("Unknown type: "+Et);break}this.cache.add(Ht,St)}return St}getDependencies(Et){let vt=this.cache.get(Et);if(!vt){const Ht=this,St=this.json[Et+(Et==="mesh"?"es":"s")]||[];vt=Promise.all(St.map(function(It,zt){return Ht.getDependency(Et,zt)})),this.cache.add(Et,vt)}return vt}loadBuffer(Et){const vt=this.json.buffers[Et],Ht=this.fileLoader;if(vt.type&&vt.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+vt.type+" buffer type is not supported.");if(vt.uri===void 0&&Et===0)return Promise.resolve(this.extensions[p.KHR_BINARY_GLTF].body);const St=this.options;return new Promise(function(It,zt){Ht.load(h.LoaderUtils.resolveURL(vt.uri,St.path),It,void 0,function(){zt(new Error('THREE.GLTFLoader: Failed to load buffer "'+vt.uri+'".'))})})}loadBufferView(Et){const vt=this.json.bufferViews[Et];return this.getDependency("buffer",vt.buffer).then(function(Ht){const St=vt.byteLength||0,It=vt.byteOffset||0;return Ht.slice(It,It+St)})}loadAccessor(Et){const vt=this,Ht=this.json,St=this.json.accessors[Et];if(St.bufferView===void 0&&St.sparse===void 0){const zt=Ot[St.type],ht=Mt[St.componentType],X=St.normalized===!0,tt=new ht(St.count*zt);return Promise.resolve(new h.BufferAttribute(tt,zt,X))}const It=[];return St.bufferView!==void 0?It.push(this.getDependency("bufferView",St.bufferView)):It.push(null),St.sparse!==void 0&&(It.push(this.getDependency("bufferView",St.sparse.indices.bufferView)),It.push(this.getDependency("bufferView",St.sparse.values.bufferView))),Promise.all(It).then(function(zt){const ht=zt[0],X=Ot[St.type],tt=Mt[St.componentType],Tt=tt.BYTES_PER_ELEMENT,Qt=Tt*X,Zt=St.byteOffset||0,ce=St.bufferView!==void 0?Ht.bufferViews[St.bufferView].byteStride:void 0,ye=St.normalized===!0;let $e,ge;if(ce&&ce!==Qt){const He=Math.floor(Zt/ce),_e="InterleavedBuffer:"+St.bufferView+":"+St.componentType+":"+He+":"+St.count;let Pi=vt.cache.get(_e);Pi||($e=new tt(ht,He*ce,St.count*ce/Tt),Pi=new h.InterleavedBuffer($e,ce/Tt),vt.cache.add(_e,Pi)),ge=new h.InterleavedBufferAttribute(Pi,X,Zt%ce/Tt,ye)}else ht===null?$e=new tt(St.count*X):$e=new tt(ht,Zt,St.count*X),ge=new h.BufferAttribute($e,X,ye);if(St.sparse!==void 0){const He=Ot.SCALAR,_e=Mt[St.sparse.indices.componentType],Pi=St.sparse.indices.byteOffset||0,Le=St.sparse.values.byteOffset||0,ke=new _e(zt[1],Pi,St.sparse.count*He),Oe=new tt(zt[2],Le,St.sparse.count*X);ht!==null&&(ge=new h.BufferAttribute(ge.array.slice(),ge.itemSize,ge.normalized));for(let Ii=0,wn=ke.length;Ii<wn;Ii++){const ze=ke[Ii];if(ge.setX(ze,Oe[Ii*X]),X>=2&&ge.setY(ze,Oe[Ii*X+1]),X>=3&&ge.setZ(ze,Oe[Ii*X+2]),X>=4&&ge.setW(ze,Oe[Ii*X+3]),X>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return ge})}loadTexture(Et){const vt=this.json,Ht=this.options,It=vt.textures[Et].source,zt=vt.images[It];let ht=this.textureLoader;if(zt.uri){const X=Ht.manager.getHandler(zt.uri);X!==null&&(ht=X)}return this.loadTextureImage(Et,It,ht)}loadTextureImage(Et,vt,Ht){const St=this,It=this.json,zt=It.textures[Et],ht=It.images[vt],X=(ht.uri||ht.bufferView)+":"+zt.sampler;if(this.textureCache[X])return this.textureCache[X];const tt=this.loadImageSource(vt,Ht).then(function(Tt){Tt.flipY=!1,Tt.name=zt.name||ht.name||"",Tt.name===""&&typeof ht.uri=="string"&&ht.uri.startsWith("data:image/")===!1&&(Tt.name=ht.uri);const Zt=(It.samplers||{})[zt.sampler]||{};return Tt.magFilter=xt[Zt.magFilter]||h.LinearFilter,Tt.minFilter=xt[Zt.minFilter]||h.LinearMipmapLinearFilter,Tt.wrapS=dt[Zt.wrapS]||h.RepeatWrapping,Tt.wrapT=dt[Zt.wrapT]||h.RepeatWrapping,St.associations.set(Tt,{textures:Et}),Tt}).catch(function(){return null});return this.textureCache[X]=tt,tt}loadImageSource(Et,vt){const Ht=this,St=this.json,It=this.options;if(this.sourceCache[Et]!==void 0)return this.sourceCache[Et].then(Qt=>Qt.clone());const zt=St.images[Et],ht=self.URL||self.webkitURL;let X=zt.uri||"",tt=!1;if(zt.bufferView!==void 0)X=Ht.getDependency("bufferView",zt.bufferView).then(function(Qt){tt=!0;const Zt=new Blob([Qt],{type:zt.mimeType});return X=ht.createObjectURL(Zt),X});else if(zt.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+Et+" is missing URI and bufferView");const Tt=Promise.resolve(X).then(function(Qt){return new Promise(function(Zt,ce){let ye=Zt;vt.isImageBitmapLoader===!0&&(ye=function($e){const ge=new h.Texture($e);ge.needsUpdate=!0,Zt(ge)}),vt.load(h.LoaderUtils.resolveURL(Qt,It.path),ye,void 0,ce)})}).then(function(Qt){return tt===!0&&ht.revokeObjectURL(X),Qt.userData.mimeType=zt.mimeType||ci(zt.uri),Qt}).catch(function(Qt){throw console.error("THREE.GLTFLoader: Couldn't load texture",X),Qt});return this.sourceCache[Et]=Tt,Tt}assignTexture(Et,vt,Ht,St){const It=this;return this.getDependency("texture",Ht.index).then(function(zt){if(!zt)return null;if(Ht.texCoord!==void 0&&Ht.texCoord>0&&(zt=zt.clone(),zt.channel=Ht.texCoord),It.extensions[p.KHR_TEXTURE_TRANSFORM]){const ht=Ht.extensions!==void 0?Ht.extensions[p.KHR_TEXTURE_TRANSFORM]:void 0;if(ht){const X=It.associations.get(zt);zt=It.extensions[p.KHR_TEXTURE_TRANSFORM].extendTexture(zt,ht),It.associations.set(zt,X)}}return St!==void 0&&(zt.colorSpace=St),Et[vt]=zt,zt})}assignFinalMaterial(Et){const vt=Et.geometry;let Ht=Et.material;const St=vt.attributes.tangent===void 0,It=vt.attributes.color!==void 0,zt=vt.attributes.normal===void 0;if(Et.isPoints){const ht="PointsMaterial:"+Ht.uuid;let X=this.cache.get(ht);X||(X=new h.PointsMaterial,h.Material.prototype.copy.call(X,Ht),X.color.copy(Ht.color),X.map=Ht.map,X.sizeAttenuation=!1,this.cache.add(ht,X)),Ht=X}else if(Et.isLine){const ht="LineBasicMaterial:"+Ht.uuid;let X=this.cache.get(ht);X||(X=new h.LineBasicMaterial,h.Material.prototype.copy.call(X,Ht),X.color.copy(Ht.color),X.map=Ht.map,this.cache.add(ht,X)),Ht=X}if(St||It||zt){let ht="ClonedMaterial:"+Ht.uuid+":";St&&(ht+="derivative-tangents:"),It&&(ht+="vertex-colors:"),zt&&(ht+="flat-shading:");let X=this.cache.get(ht);X||(X=Ht.clone(),It&&(X.vertexColors=!0),zt&&(X.flatShading=!0),St&&(X.normalScale&&(X.normalScale.y*=-1),X.clearcoatNormalScale&&(X.clearcoatNormalScale.y*=-1)),this.cache.add(ht,X),this.associations.set(X,this.associations.get(Ht))),Ht=X}Et.material=Ht}getMaterialType(){return h.MeshStandardMaterial}loadMaterial(Et){const vt=this,Ht=this.json,St=this.extensions,It=Ht.materials[Et];let zt;const ht={},X=It.extensions||{},tt=[];if(X[p.KHR_MATERIALS_UNLIT]){const Qt=St[p.KHR_MATERIALS_UNLIT];zt=Qt.getMaterialType(),tt.push(Qt.extendParams(ht,It,vt))}else{const Qt=It.pbrMetallicRoughness||{};if(ht.color=new h.Color(1,1,1),ht.opacity=1,Array.isArray(Qt.baseColorFactor)){const Zt=Qt.baseColorFactor;ht.color.setRGB(Zt[0],Zt[1],Zt[2],h.LinearSRGBColorSpace),ht.opacity=Zt[3]}Qt.baseColorTexture!==void 0&&tt.push(vt.assignTexture(ht,"map",Qt.baseColorTexture,h.SRGBColorSpace)),ht.metalness=Qt.metallicFactor!==void 0?Qt.metallicFactor:1,ht.roughness=Qt.roughnessFactor!==void 0?Qt.roughnessFactor:1,Qt.metallicRoughnessTexture!==void 0&&(tt.push(vt.assignTexture(ht,"metalnessMap",Qt.metallicRoughnessTexture)),tt.push(vt.assignTexture(ht,"roughnessMap",Qt.metallicRoughnessTexture))),zt=this._invokeOne(function(Zt){return Zt.getMaterialType&&Zt.getMaterialType(Et)}),tt.push(Promise.all(this._invokeAll(function(Zt){return Zt.extendMaterialParams&&Zt.extendMaterialParams(Et,ht)})))}It.doubleSided===!0&&(ht.side=h.DoubleSide);const Tt=It.alphaMode||kt.OPAQUE;if(Tt===kt.BLEND?(ht.transparent=!0,ht.depthWrite=!1):(ht.transparent=!1,Tt===kt.MASK&&(ht.alphaTest=It.alphaCutoff!==void 0?It.alphaCutoff:.5)),It.normalTexture!==void 0&&zt!==h.MeshBasicMaterial&&(tt.push(vt.assignTexture(ht,"normalMap",It.normalTexture)),ht.normalScale=new h.Vector2(1,1),It.normalTexture.scale!==void 0)){const Qt=It.normalTexture.scale;ht.normalScale.set(Qt,Qt)}if(It.occlusionTexture!==void 0&&zt!==h.MeshBasicMaterial&&(tt.push(vt.assignTexture(ht,"aoMap",It.occlusionTexture)),It.occlusionTexture.strength!==void 0&&(ht.aoMapIntensity=It.occlusionTexture.strength)),It.emissiveFactor!==void 0&&zt!==h.MeshBasicMaterial){const Qt=It.emissiveFactor;ht.emissive=new h.Color().setRGB(Qt[0],Qt[1],Qt[2],h.LinearSRGBColorSpace)}return It.emissiveTexture!==void 0&&zt!==h.MeshBasicMaterial&&tt.push(vt.assignTexture(ht,"emissiveMap",It.emissiveTexture,h.SRGBColorSpace)),Promise.all(tt).then(function(){const Qt=new zt(ht);return It.name&&(Qt.name=It.name),ae(Qt,It),vt.associations.set(Qt,{materials:Et}),It.extensions&&Xt(St,Qt,It),Qt})}createUniqueName(Et){const vt=h.PropertyBinding.sanitizeNodeName(Et||"");return vt in this.nodeNamesUsed?vt+"_"+ ++this.nodeNamesUsed[vt]:(this.nodeNamesUsed[vt]=0,vt)}loadGeometries(Et){const vt=this,Ht=this.extensions,St=this.primitiveCache;function It(ht){return Ht[p.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(ht,vt).then(function(X){return ve(X,ht,vt)})}const zt=[];for(let ht=0,X=Et.length;ht<X;ht++){const tt=Et[ht],Tt=Ve(tt),Qt=St[Tt];if(Qt)zt.push(Qt.promise);else{let Zt;tt.extensions&&tt.extensions[p.KHR_DRACO_MESH_COMPRESSION]?Zt=It(tt):Zt=ve(new h.BufferGeometry,tt,vt),St[Tt]={primitive:tt,promise:Zt},zt.push(Zt)}}return Promise.all(zt)}loadMesh(Et){const vt=this,Ht=this.json,St=this.extensions,It=Ht.meshes[Et],zt=It.primitives,ht=[];for(let X=0,tt=zt.length;X<tt;X++){const Tt=zt[X].material===void 0?Dt(this.cache):this.getDependency("material",zt[X].material);ht.push(Tt)}return ht.push(vt.loadGeometries(zt)),Promise.all(ht).then(function(X){const tt=X.slice(0,X.length-1),Tt=X[X.length-1],Qt=[];for(let ce=0,ye=Tt.length;ce<ye;ce++){const $e=Tt[ce],ge=zt[ce];let He;const _e=tt[ce];if(ge.mode===wt.TRIANGLES||ge.mode===wt.TRIANGLE_STRIP||ge.mode===wt.TRIANGLE_FAN||ge.mode===void 0)He=It.isSkinnedMesh===!0?new h.SkinnedMesh($e,_e):new h.Mesh($e,_e),He.isSkinnedMesh===!0&&He.normalizeSkinWeights(),ge.mode===wt.TRIANGLE_STRIP?He.geometry=(0,g.toTrianglesDrawMode)(He.geometry,h.TriangleStripDrawMode):ge.mode===wt.TRIANGLE_FAN&&(He.geometry=(0,g.toTrianglesDrawMode)(He.geometry,h.TriangleFanDrawMode));else if(ge.mode===wt.LINES)He=new h.LineSegments($e,_e);else if(ge.mode===wt.LINE_STRIP)He=new h.Line($e,_e);else if(ge.mode===wt.LINE_LOOP)He=new h.LineLoop($e,_e);else if(ge.mode===wt.POINTS)He=new h.Points($e,_e);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+ge.mode);Object.keys(He.geometry.morphAttributes).length>0&&le(He,It),He.name=vt.createUniqueName(It.name||"mesh_"+Et),ae(He,It),ge.extensions&&Xt(St,He,ge),vt.assignFinalMaterial(He),Qt.push(He)}for(let ce=0,ye=Qt.length;ce<ye;ce++)vt.associations.set(Qt[ce],{meshes:Et,primitives:ce});if(Qt.length===1)return It.extensions&&Xt(St,Qt[0],It),Qt[0];const Zt=new h.Group;It.extensions&&Xt(St,Zt,It),vt.associations.set(Zt,{meshes:Et});for(let ce=0,ye=Qt.length;ce<ye;ce++)Zt.add(Qt[ce]);return Zt})}loadCamera(Et){let vt;const Ht=this.json.cameras[Et],St=Ht[Ht.type];if(!St){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return Ht.type==="perspective"?vt=new h.PerspectiveCamera(h.MathUtils.radToDeg(St.yfov),St.aspectRatio||1,St.znear||1,St.zfar||2e6):Ht.type==="orthographic"&&(vt=new h.OrthographicCamera(-St.xmag,St.xmag,St.ymag,-St.ymag,St.znear,St.zfar)),Ht.name&&(vt.name=this.createUniqueName(Ht.name)),ae(vt,Ht),Promise.resolve(vt)}loadSkin(Et){const vt=this.json.skins[Et],Ht=[];for(let St=0,It=vt.joints.length;St<It;St++)Ht.push(this._loadNodeShallow(vt.joints[St]));return vt.inverseBindMatrices!==void 0?Ht.push(this.getDependency("accessor",vt.inverseBindMatrices)):Ht.push(null),Promise.all(Ht).then(function(St){const It=St.pop(),zt=St,ht=[],X=[];for(let tt=0,Tt=zt.length;tt<Tt;tt++){const Qt=zt[tt];if(Qt){ht.push(Qt);const Zt=new h.Matrix4;It!==null&&Zt.fromArray(It.array,tt*16),X.push(Zt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',vt.joints[tt])}return new h.Skeleton(ht,X)})}loadAnimation(Et){const vt=this.json,Ht=this,St=vt.animations[Et],It=St.name?St.name:"animation_"+Et,zt=[],ht=[],X=[],tt=[],Tt=[];for(let Qt=0,Zt=St.channels.length;Qt<Zt;Qt++){const ce=St.channels[Qt],ye=St.samplers[ce.sampler],$e=ce.target,ge=$e.node,He=St.parameters!==void 0?St.parameters[ye.input]:ye.input,_e=St.parameters!==void 0?St.parameters[ye.output]:ye.output;$e.node!==void 0&&(zt.push(this.getDependency("node",ge)),ht.push(this.getDependency("accessor",He)),X.push(this.getDependency("accessor",_e)),tt.push(ye),Tt.push($e))}return Promise.all([Promise.all(zt),Promise.all(ht),Promise.all(X),Promise.all(tt),Promise.all(Tt)]).then(function(Qt){const Zt=Qt[0],ce=Qt[1],ye=Qt[2],$e=Qt[3],ge=Qt[4],He=[];for(let _e=0,Pi=Zt.length;_e<Pi;_e++){const Le=Zt[_e],ke=ce[_e],Oe=ye[_e],Ii=$e[_e],wn=ge[_e];if(Le===void 0)continue;Le.updateMatrix&&Le.updateMatrix();const ze=Ht._createAnimationTracks(Le,ke,Oe,Ii,wn);if(ze)for(let Zi=0;Zi<ze.length;Zi++)He.push(ze[Zi])}return new h.AnimationClip(It,void 0,He)})}createNodeMesh(Et){const vt=this.json,Ht=this,St=vt.nodes[Et];return St.mesh===void 0?null:Ht.getDependency("mesh",St.mesh).then(function(It){const zt=Ht._getNodeRef(Ht.meshCache,St.mesh,It);return St.weights!==void 0&&zt.traverse(function(ht){if(ht.isMesh)for(let X=0,tt=St.weights.length;X<tt;X++)ht.morphTargetInfluences[X]=St.weights[X]}),zt})}loadNode(Et){const vt=this.json,Ht=this,St=vt.nodes[Et],It=Ht._loadNodeShallow(Et),zt=[],ht=St.children||[];for(let tt=0,Tt=ht.length;tt<Tt;tt++)zt.push(Ht.getDependency("node",ht[tt]));const X=St.skin===void 0?Promise.resolve(null):Ht.getDependency("skin",St.skin);return Promise.all([It,Promise.all(zt),X]).then(function(tt){const Tt=tt[0],Qt=tt[1],Zt=tt[2];Zt!==null&&Tt.traverse(function(ce){ce.isSkinnedMesh&&ce.bind(Zt,ei)});for(let ce=0,ye=Qt.length;ce<ye;ce++)Tt.add(Qt[ce]);return Tt})}_loadNodeShallow(Et){const vt=this.json,Ht=this.extensions,St=this;if(this.nodeCache[Et]!==void 0)return this.nodeCache[Et];const It=vt.nodes[Et],zt=It.name?St.createUniqueName(It.name):"",ht=[],X=St._invokeOne(function(tt){return tt.createNodeMesh&&tt.createNodeMesh(Et)});return X&&ht.push(X),It.camera!==void 0&&ht.push(St.getDependency("camera",It.camera).then(function(tt){return St._getNodeRef(St.cameraCache,It.camera,tt)})),St._invokeAll(function(tt){return tt.createNodeAttachment&&tt.createNodeAttachment(Et)}).forEach(function(tt){ht.push(tt)}),this.nodeCache[Et]=Promise.all(ht).then(function(tt){let Tt;if(It.isBone===!0?Tt=new h.Bone:tt.length>1?Tt=new h.Group:tt.length===1?Tt=tt[0]:Tt=new h.Object3D,Tt!==tt[0])for(let Qt=0,Zt=tt.length;Qt<Zt;Qt++)Tt.add(tt[Qt]);if(It.name&&(Tt.userData.name=It.name,Tt.name=zt),ae(Tt,It),It.extensions&&Xt(Ht,Tt,It),It.matrix!==void 0){const Qt=new h.Matrix4;Qt.fromArray(It.matrix),Tt.applyMatrix4(Qt)}else It.translation!==void 0&&Tt.position.fromArray(It.translation),It.rotation!==void 0&&Tt.quaternion.fromArray(It.rotation),It.scale!==void 0&&Tt.scale.fromArray(It.scale);return St.associations.has(Tt)||St.associations.set(Tt,{}),St.associations.get(Tt).nodes=Et,Tt}),this.nodeCache[Et]}loadScene(Et){const vt=this.extensions,Ht=this.json.scenes[Et],St=this,It=new h.Group;Ht.name&&(It.name=St.createUniqueName(Ht.name)),ae(It,Ht),Ht.extensions&&Xt(vt,It,Ht);const zt=Ht.nodes||[],ht=[];for(let X=0,tt=zt.length;X<tt;X++)ht.push(St.getDependency("node",zt[X]));return Promise.all(ht).then(function(X){for(let Tt=0,Qt=X.length;Tt<Qt;Tt++)It.add(X[Tt]);const tt=Tt=>{const Qt=new Map;for(const[Zt,ce]of St.associations)(Zt instanceof h.Material||Zt instanceof h.Texture)&&Qt.set(Zt,ce);return Tt.traverse(Zt=>{const ce=St.associations.get(Zt);ce!=null&&Qt.set(Zt,ce)}),Qt};return St.associations=tt(It),It})}_createAnimationTracks(Et,vt,Ht,St,It){const zt=[],ht=Et.name?Et.name:Et.uuid,X=[];jt[It.path]===jt.weights?Et.traverse(function(Zt){Zt.morphTargetInfluences&&X.push(Zt.name?Zt.name:Zt.uuid)}):X.push(ht);let tt;switch(jt[It.path]){case jt.weights:tt=h.NumberKeyframeTrack;break;case jt.rotation:tt=h.QuaternionKeyframeTrack;break;case jt.position:case jt.scale:tt=h.VectorKeyframeTrack;break;default:switch(Ht.itemSize){case 1:tt=h.NumberKeyframeTrack;break;case 2:case 3:default:tt=h.VectorKeyframeTrack;break}break}const Tt=St.interpolation!==void 0?bt[St.interpolation]:h.InterpolateLinear,Qt=this._getArrayFromAccessor(Ht);for(let Zt=0,ce=X.length;Zt<ce;Zt++){const ye=new tt(X[Zt]+"."+jt[It.path],vt.array,Qt,Tt);St.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(ye),zt.push(ye)}return zt}_getArrayFromAccessor(Et){let vt=Et.array;if(Et.normalized){const Ht=Ye(vt.constructor),St=new Float32Array(vt.length);for(let It=0,zt=vt.length;It<zt;It++)St[It]=vt[It]*Ht;vt=St}return vt}_createCubicSplineTrackInterpolant(Et){Et.createInterpolant=function(Ht){const St=this instanceof h.QuaternionKeyframeTrack?pt:mt;return new St(this.times,this.values,this.getValueSize()/3,Ht)},Et.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function be(re,Et,vt){const Ht=Et.attributes,St=new h.Box3;if(Ht.POSITION!==void 0){const ht=vt.json.accessors[Ht.POSITION],X=ht.min,tt=ht.max;if(X!==void 0&&tt!==void 0){if(St.set(new h.Vector3(X[0],X[1],X[2]),new h.Vector3(tt[0],tt[1],tt[2])),ht.normalized){const Tt=Ye(Mt[ht.componentType]);St.min.multiplyScalar(Tt),St.max.multiplyScalar(Tt)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const It=Et.targets;if(It!==void 0){const ht=new h.Vector3,X=new h.Vector3;for(let tt=0,Tt=It.length;tt<Tt;tt++){const Qt=It[tt];if(Qt.POSITION!==void 0){const Zt=vt.json.accessors[Qt.POSITION],ce=Zt.min,ye=Zt.max;if(ce!==void 0&&ye!==void 0){if(X.setX(Math.max(Math.abs(ce[0]),Math.abs(ye[0]))),X.setY(Math.max(Math.abs(ce[1]),Math.abs(ye[1]))),X.setZ(Math.max(Math.abs(ce[2]),Math.abs(ye[2]))),Zt.normalized){const $e=Ye(Mt[Zt.componentType]);X.multiplyScalar($e)}ht.max(X)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}St.expandByVector(ht)}re.boundingBox=St;const zt=new h.Sphere;St.getCenter(zt.center),zt.radius=St.min.distanceTo(St.max)/2,re.boundingSphere=zt}function ve(re,Et,vt){const Ht=Et.attributes,St=[];function It(zt,ht){return vt.getDependency("accessor",zt).then(function(X){re.setAttribute(ht,X)})}for(const zt in Ht){const ht=At[zt]||zt.toLowerCase();ht in re.attributes||St.push(It(Ht[zt],ht))}if(Et.indices!==void 0&&!re.index){const zt=vt.getDependency("accessor",Et.indices).then(function(ht){re.setIndex(ht)});St.push(zt)}return h.ColorManagement.workingColorSpace!==h.LinearSRGBColorSpace&&"COLOR_0"in Ht&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${h.ColorManagement.workingColorSpace}" not supported.`),ae(re,Et),be(re,Et,vt),Promise.all(St).then(function(){return Et.targets!==void 0?Jt(re,Et.targets,vt):re})}},"./node_modules/three/examples/jsm/loaders/KTX2Loader.js":(c,d,u)=>{u.r(d),u.d(d,{KTX2Loader:()=>v});var h=u("./node_modules/three/build/three.module.js"),g=u("./node_modules/three/examples/jsm/utils/WorkerPool.js"),m=u("./node_modules/three/examples/jsm/libs/ktx-parse.module.js"),M=u("./node_modules/three/examples/jsm/libs/zstddec.module.js");const p=new WeakMap;let A=0,b;class v extends h.Loader{constructor(T){super(T),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new g.WorkerPool,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(T){return this.transcoderPath=T,this}setWorkerLimit(T){return this.workerPool.setWorkerLimit(T),this}async detectSupportAsync(T){return this.workerConfig={astcSupported:await T.hasFeatureAsync("texture-compression-astc"),etc1Supported:await T.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await T.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await T.hasFeatureAsync("texture-compression-bc"),bptcSupported:await T.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await T.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(T){return T.isWebGPURenderer===!0?this.workerConfig={astcSupported:T.hasFeature("texture-compression-astc"),etc1Supported:T.hasFeature("texture-compression-etc1"),etc2Supported:T.hasFeature("texture-compression-etc2"),dxtSupported:T.hasFeature("texture-compression-bc"),bptcSupported:T.hasFeature("texture-compression-bptc"),pvrtcSupported:T.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:T.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:T.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:T.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:T.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:T.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:T.extensions.has("WEBGL_compressed_texture_pvrtc")||T.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const T=new h.FileLoader(this.manager);T.setPath(this.transcoderPath),T.setWithCredentials(this.withCredentials);const D=T.loadAsync("basis_transcoder.js"),P=new h.FileLoader(this.manager);P.setPath(this.transcoderPath),P.setResponseType("arraybuffer"),P.setWithCredentials(this.withCredentials);const L=P.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([D,L]).then(([N,U])=>{const $=v.BasisWorker.toString(),F=["/* constants */","let _EngineFormat = "+JSON.stringify(v.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(v.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(v.BasisFormat),"/* basis_transcoder.js */",N,"/* worker */",$.substring($.indexOf("{")+1,$.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([F])),this.transcoderBinary=U,this.workerPool.setWorkerCreator(()=>{const j=new Worker(this.workerSourceURL),z=this.transcoderBinary.slice(0);return j.postMessage({type:"init",config:this.workerConfig,transcoderBinary:z},[z]),j})}),A>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),A++}return this.transcoderPending}load(T,D,P,L){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const N=new h.FileLoader(this.manager);N.setResponseType("arraybuffer"),N.setWithCredentials(this.withCredentials),N.load(T,U=>{if(p.has(U))return p.get(U).promise.then(D).catch(L);this._createTexture(U).then($=>D?D($):null).catch(L)},P,L)}_createTextureFrom(T,D){const{faces:P,width:L,height:N,format:U,type:$,error:F,dfdFlags:j}=T;if($==="error")return Promise.reject(F);let z;if(D.faceCount===6)z=new h.CompressedCubeTexture(P,U,h.UnsignedByteType);else{const Q=P[0].mipmaps;z=D.layerCount>1?new h.CompressedArrayTexture(Q,L,N,D.layerCount,U,h.UnsignedByteType):new h.CompressedTexture(Q,L,N,U,h.UnsignedByteType)}return z.minFilter=P[0].mipmaps.length===1?h.LinearFilter:h.LinearMipmapLinearFilter,z.magFilter=h.LinearFilter,z.generateMipmaps=!1,z.needsUpdate=!0,z.colorSpace=O(D),z.premultiplyAlpha=!!(j&m.KHR_DF_FLAG_ALPHA_PREMULTIPLIED),z}async _createTexture(T,D={}){const P=(0,m.read)(new Uint8Array(T));if(P.vkFormat!==m.VK_FORMAT_UNDEFINED)return C(P);const L=D,N=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:T,taskConfig:L},[T])).then(U=>this._createTextureFrom(U.data,P));return p.set(T,{promise:N}),N}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),A--,this}}v.BasisFormat={ETC1S:0,UASTC_4x4:1},v.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},v.EngineFormat={RGBAFormat:h.RGBAFormat,RGBA_ASTC_4x4_Format:h.RGBA_ASTC_4x4_Format,RGBA_BPTC_Format:h.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:h.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:h.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:h.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:h.RGB_ETC1_Format,RGB_ETC2_Format:h.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:h.RGB_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format:h.RGBA_S3TC_DXT1_Format},v.BasisWorker=function(){let I,T,D;const P=_EngineFormat,L=_TranscoderFormat,N=_BasisFormat;self.addEventListener("message",function(J){const W=J.data;switch(W.type){case"init":I=W.config,U(W.transcoderBinary);break;case"transcode":T.then(()=>{try{const{faces:et,buffers:mt,width:ot,height:pt,hasAlpha:wt,format:Mt,dfdFlags:xt}=$(W.buffer);self.postMessage({type:"transcode",id:W.id,faces:et,width:ot,height:pt,hasAlpha:wt,format:Mt,dfdFlags:xt},mt)}catch(et){console.error(et),self.postMessage({type:"error",id:W.id,error:et.message})}});break}});function U(J){T=new Promise(W=>{D={wasmBinary:J,onRuntimeInitialized:W},BASIS(D)}).then(()=>{D.initializeBasis(),D.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function $(J){const W=new D.KTX2File(new Uint8Array(J));function et(){W.close(),W.delete()}if(!W.isValid())throw et(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const mt=W.isUASTC()?N.UASTC_4x4:N.ETC1S,ot=W.getWidth(),pt=W.getHeight(),wt=W.getLayers()||1,Mt=W.getLevels(),xt=W.getFaces(),dt=W.getHasAlpha(),Ot=W.getDFDFlags(),{transcoderFormat:At,engineFormat:jt}=Q(mt,ot,pt,dt);if(!ot||!pt||!Mt)throw et(),new Error("THREE.KTX2Loader:	Invalid texture");if(!W.startTranscoding())throw et(),new Error("THREE.KTX2Loader: .startTranscoding failed");const bt=[],kt=[];for(let Dt=0;Dt<xt;Dt++){const Xt=[];for(let ae=0;ae<Mt;ae++){const Jt=[];let le,Ve;for(let Ye=0;Ye<wt;Ye++){const ci=W.getImageLevelInfo(ae,Ye,Dt);Dt===0&&ae===0&&Ye===0&&(ci.origWidth%4!==0||ci.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),Mt>1?(le=ci.origWidth,Ve=ci.origHeight):(le=ci.width,Ve=ci.height);const ei=new Uint8Array(W.getImageTranscodedSizeInBytes(ae,Ye,0,At));if(!W.transcodeImage(ei,ae,Ye,Dt,At,0,-1,-1))throw et(),new Error("THREE.KTX2Loader: .transcodeImage failed.");Jt.push(ei)}const ai=q(Jt);Xt.push({data:ai,width:le,height:Ve}),kt.push(ai.buffer)}bt.push({mipmaps:Xt,width:ot,height:pt,format:jt})}return et(),{faces:bt,buffers:kt,width:ot,height:pt,hasAlpha:dt,format:jt,dfdFlags:Ot}}const F=[{if:"astcSupported",basisFormat:[N.UASTC_4x4],transcoderFormat:[L.ASTC_4x4,L.ASTC_4x4],engineFormat:[P.RGBA_ASTC_4x4_Format,P.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[N.ETC1S,N.UASTC_4x4],transcoderFormat:[L.BC7_M5,L.BC7_M5],engineFormat:[P.RGBA_BPTC_Format,P.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[N.ETC1S,N.UASTC_4x4],transcoderFormat:[L.BC1,L.BC3],engineFormat:[P.RGBA_S3TC_DXT1_Format,P.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[N.ETC1S,N.UASTC_4x4],transcoderFormat:[L.ETC1,L.ETC2],engineFormat:[P.RGB_ETC2_Format,P.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[N.ETC1S,N.UASTC_4x4],transcoderFormat:[L.ETC1],engineFormat:[P.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[N.ETC1S,N.UASTC_4x4],transcoderFormat:[L.PVRTC1_4_RGB,L.PVRTC1_4_RGBA],engineFormat:[P.RGB_PVRTC_4BPPV1_Format,P.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],j=F.sort(function(J,W){return J.priorityETC1S-W.priorityETC1S}),z=F.sort(function(J,W){return J.priorityUASTC-W.priorityUASTC});function Q(J,W,et,mt){let ot,pt;const wt=J===N.ETC1S?j:z;for(let Mt=0;Mt<wt.length;Mt++){const xt=wt[Mt];if(I[xt.if]&&xt.basisFormat.includes(J)&&!(mt&&xt.transcoderFormat.length<2)&&!(xt.needsPowerOfTwo&&!(V(W)&&V(et))))return ot=xt.transcoderFormat[mt?1:0],pt=xt.engineFormat[mt?1:0],{transcoderFormat:ot,engineFormat:pt}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),ot=L.RGBA32,pt=P.RGBAFormat,{transcoderFormat:ot,engineFormat:pt}}function V(J){return J<=2?!0:(J&J-1)===0&&J!==0}function q(J){if(J.length===1)return J[0];let W=0;for(let ot=0;ot<J.length;ot++){const pt=J[ot];W+=pt.byteLength}const et=new Uint8Array(W);let mt=0;for(let ot=0;ot<J.length;ot++){const pt=J[ot];et.set(pt,mt),mt+=pt.byteLength}return et}};const E=new Set([h.RGBAFormat,h.RGFormat,h.RedFormat]),x={[m.VK_FORMAT_R32G32B32A32_SFLOAT]:h.RGBAFormat,[m.VK_FORMAT_R16G16B16A16_SFLOAT]:h.RGBAFormat,[m.VK_FORMAT_R8G8B8A8_UNORM]:h.RGBAFormat,[m.VK_FORMAT_R8G8B8A8_SRGB]:h.RGBAFormat,[m.VK_FORMAT_R32G32_SFLOAT]:h.RGFormat,[m.VK_FORMAT_R16G16_SFLOAT]:h.RGFormat,[m.VK_FORMAT_R8G8_UNORM]:h.RGFormat,[m.VK_FORMAT_R8G8_SRGB]:h.RGFormat,[m.VK_FORMAT_R32_SFLOAT]:h.RedFormat,[m.VK_FORMAT_R16_SFLOAT]:h.RedFormat,[m.VK_FORMAT_R8_SRGB]:h.RedFormat,[m.VK_FORMAT_R8_UNORM]:h.RedFormat,[m.VK_FORMAT_ASTC_6x6_SRGB_BLOCK]:h.RGBA_ASTC_6x6_Format,[m.VK_FORMAT_ASTC_6x6_UNORM_BLOCK]:h.RGBA_ASTC_6x6_Format},_={[m.VK_FORMAT_R32G32B32A32_SFLOAT]:h.FloatType,[m.VK_FORMAT_R16G16B16A16_SFLOAT]:h.HalfFloatType,[m.VK_FORMAT_R8G8B8A8_UNORM]:h.UnsignedByteType,[m.VK_FORMAT_R8G8B8A8_SRGB]:h.UnsignedByteType,[m.VK_FORMAT_R32G32_SFLOAT]:h.FloatType,[m.VK_FORMAT_R16G16_SFLOAT]:h.HalfFloatType,[m.VK_FORMAT_R8G8_UNORM]:h.UnsignedByteType,[m.VK_FORMAT_R8G8_SRGB]:h.UnsignedByteType,[m.VK_FORMAT_R32_SFLOAT]:h.FloatType,[m.VK_FORMAT_R16_SFLOAT]:h.HalfFloatType,[m.VK_FORMAT_R8_SRGB]:h.UnsignedByteType,[m.VK_FORMAT_R8_UNORM]:h.UnsignedByteType,[m.VK_FORMAT_ASTC_6x6_SRGB_BLOCK]:h.UnsignedByteType,[m.VK_FORMAT_ASTC_6x6_UNORM_BLOCK]:h.UnsignedByteType};async function C(I){const{vkFormat:T}=I;if(x[T]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let D;I.supercompressionScheme===m.KHR_SUPERCOMPRESSION_ZSTD&&(b||(b=new Promise(async N=>{const U=new M.ZSTDDecoder;await U.init(),N(U)})),D=await b);const P=[];for(let N=0;N<I.levels.length;N++){const U=Math.max(1,I.pixelWidth>>N),$=Math.max(1,I.pixelHeight>>N),F=I.pixelDepth?Math.max(1,I.pixelDepth>>N):0,j=I.levels[N];let z;if(I.supercompressionScheme===m.KHR_SUPERCOMPRESSION_NONE)z=j.levelData;else if(I.supercompressionScheme===m.KHR_SUPERCOMPRESSION_ZSTD)z=D.decode(j.levelData,j.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let Q;_[T]===h.FloatType?Q=new Float32Array(z.buffer,z.byteOffset,z.byteLength/Float32Array.BYTES_PER_ELEMENT):_[T]===h.HalfFloatType?Q=new Uint16Array(z.buffer,z.byteOffset,z.byteLength/Uint16Array.BYTES_PER_ELEMENT):Q=z,P.push({data:Q,width:U,height:$,depth:F})}let L;if(E.has(x[T]))L=I.pixelDepth===0?new h.DataTexture(P[0].data,I.pixelWidth,I.pixelHeight):new h.Data3DTexture(P[0].data,I.pixelWidth,I.pixelHeight,I.pixelDepth);else{if(I.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");L=new h.CompressedTexture(P,I.pixelWidth,I.pixelHeight)}return L.mipmaps=P,L.type=_[T],L.format=x[T],L.colorSpace=O(I),L.needsUpdate=!0,Promise.resolve(L)}function O(I){const T=I.dataFormatDescriptor[0];return T.colorPrimaries===m.KHR_DF_PRIMARIES_BT709?T.transferFunction===m.KHR_DF_TRANSFER_SRGB?h.SRGBColorSpace:h.LinearSRGBColorSpace:T.colorPrimaries===m.KHR_DF_PRIMARIES_DISPLAYP3?T.transferFunction===m.KHR_DF_TRANSFER_SRGB?h.DisplayP3ColorSpace:h.LinearDisplayP3ColorSpace:(T.colorPrimaries===m.KHR_DF_PRIMARIES_UNSPECIFIED||console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${T.colorPrimaries}"`),h.NoColorSpace)}},"./node_modules/three/examples/jsm/loaders/MTLLoader.js":(c,d,u)=>{u.r(d),u.d(d,{MTLLoader:()=>g});var h=u("./node_modules/three/build/three.module.js");class g extends h.Loader{constructor(p){super(p)}load(p,A,b,v){const E=this,x=this.path===""?h.LoaderUtils.extractUrlBase(p):this.path,_=new h.FileLoader(this.manager);_.setPath(this.path),_.setRequestHeader(this.requestHeader),_.setWithCredentials(this.withCredentials),_.load(p,function(C){try{A(E.parse(C,x))}catch(O){v?v(O):console.error(O),E.manager.itemError(p)}},b,v)}setMaterialOptions(p){return this.materialOptions=p,this}parse(p,A){const b=p.split(`
`);let v={};const E=/\s+/,x={};for(let C=0;C<b.length;C++){let O=b[C];if(O=O.trim(),O.length===0||O.charAt(0)==="#")continue;const I=O.indexOf(" ");let T=I>=0?O.substring(0,I):O;T=T.toLowerCase();let D=I>=0?O.substring(I+1):"";if(D=D.trim(),T==="newmtl")v={name:D},x[D]=v;else if(T==="ka"||T==="kd"||T==="ks"||T==="ke"){const P=D.split(E,3);v[T]=[parseFloat(P[0]),parseFloat(P[1]),parseFloat(P[2])]}else v[T]=D}const _=new m(this.resourcePath||A,this.materialOptions);return _.setCrossOrigin(this.crossOrigin),_.setManager(this.manager),_.setMaterials(x),_}}class m{constructor(p="",A={}){this.baseUrl=p,this.options=A,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:h.FrontSide,this.wrap=this.options.wrap!==void 0?this.options.wrap:h.RepeatWrapping}setCrossOrigin(p){return this.crossOrigin=p,this}setManager(p){this.manager=p}setMaterials(p){this.materialsInfo=this.convert(p),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(p){if(!this.options)return p;const A={};for(const b in p){const v=p[b],E={};A[b]=E;for(const x in v){let _=!0,C=v[x];const O=x.toLowerCase();switch(O){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(C=[C[0]/255,C[1]/255,C[2]/255]),this.options&&this.options.ignoreZeroRGBs&&C[0]===0&&C[1]===0&&C[2]===0&&(_=!1);break}_&&(E[O]=C)}}return A}preload(){for(const p in this.materialsInfo)this.create(p)}getIndex(p){return this.nameLookup[p]}getAsArray(){let p=0;for(const A in this.materialsInfo)this.materialsArray[p]=this.create(A),this.nameLookup[A]=p,p++;return this.materialsArray}create(p){return this.materials[p]===void 0&&this.createMaterial_(p),this.materials[p]}createMaterial_(p){const A=this,b=this.materialsInfo[p],v={name:p,side:this.side};function E(_,C){return typeof C!="string"||C===""?"":/^https?:\/\//i.test(C)?C:_+C}function x(_,C){if(v[_])return;const O=A.getTextureParams(C,v),I=A.loadTexture(E(A.baseUrl,O.url));I.repeat.copy(O.scale),I.offset.copy(O.offset),I.wrapS=A.wrap,I.wrapT=A.wrap,(_==="map"||_==="emissiveMap")&&(I.colorSpace=h.SRGBColorSpace),v[_]=I}for(const _ in b){const C=b[_];let O;if(C!=="")switch(_.toLowerCase()){case"kd":v.color=new h.Color().fromArray(C).convertSRGBToLinear();break;case"ks":v.specular=new h.Color().fromArray(C).convertSRGBToLinear();break;case"ke":v.emissive=new h.Color().fromArray(C).convertSRGBToLinear();break;case"map_kd":x("map",C);break;case"map_ks":x("specularMap",C);break;case"map_ke":x("emissiveMap",C);break;case"norm":x("normalMap",C);break;case"map_bump":case"bump":x("bumpMap",C);break;case"map_d":x("alphaMap",C),v.transparent=!0;break;case"ns":v.shininess=parseFloat(C);break;case"d":O=parseFloat(C),O<1&&(v.opacity=O,v.transparent=!0);break;case"tr":O=parseFloat(C),this.options&&this.options.invertTrProperty&&(O=1-O),O>0&&(v.opacity=1-O,v.transparent=!0);break}}return this.materials[p]=new h.MeshPhongMaterial(v),this.materials[p]}getTextureParams(p,A){const b={scale:new h.Vector2(1,1),offset:new h.Vector2(0,0)},v=p.split(/\s+/);let E;return E=v.indexOf("-bm"),E>=0&&(A.bumpScale=parseFloat(v[E+1]),v.splice(E,2)),E=v.indexOf("-s"),E>=0&&(b.scale.set(parseFloat(v[E+1]),parseFloat(v[E+2])),v.splice(E,4)),E=v.indexOf("-o"),E>=0&&(b.offset.set(parseFloat(v[E+1]),parseFloat(v[E+2])),v.splice(E,4)),b.url=v.join(" ").trim(),b}loadTexture(p,A,b,v,E){const x=this.manager!==void 0?this.manager:h.DefaultLoadingManager;let _=x.getHandler(p);_===null&&(_=new h.TextureLoader(x)),_.setCrossOrigin&&_.setCrossOrigin(this.crossOrigin);const C=_.load(p,b,v,E);return A!==void 0&&(C.mapping=A),C}}},"./node_modules/three/examples/jsm/loaders/OBJLoader.js":(c,d,u)=>{u.r(d),u.d(d,{OBJLoader:()=>I});var h=u("./node_modules/three/build/three.module.js");const g=/^[og]\s*(.+)?/,m=/^mtllib /,M=/^usemtl /,p=/^usemap /,A=/\s+/,b=new h.Vector3,v=new h.Vector3,E=new h.Vector3,x=new h.Vector3,_=new h.Vector3,C=new h.Color;function O(){const T={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(D,P){if(this.object&&this.object.fromDeclaration===!1){this.object.name=D,this.object.fromDeclaration=P!==!1;return}const L=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:D||"",fromDeclaration:P!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(N,U){const $=this._finalize(!1);$&&($.inherited||$.groupCount<=0)&&this.materials.splice($.index,1);const F={index:this.materials.length,name:N||"",mtllib:Array.isArray(U)&&U.length>0?U[U.length-1]:"",smooth:$!==void 0?$.smooth:this.smooth,groupStart:$!==void 0?$.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(j){const z={index:typeof j=="number"?j:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return z.clone=this.clone.bind(z),z}};return this.materials.push(F),F},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(N){const U=this.currentMaterial();if(U&&U.groupEnd===-1&&(U.groupEnd=this.geometry.vertices.length/3,U.groupCount=U.groupEnd-U.groupStart,U.inherited=!1),N&&this.materials.length>1)for(let $=this.materials.length-1;$>=0;$--)this.materials[$].groupCount<=0&&this.materials.splice($,1);return N&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),U}},L&&L.name&&typeof L.clone=="function"){const N=L.clone(0);N.inherited=!0,this.object.materials.push(N)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(D,P){const L=parseInt(D,10);return(L>=0?L-1:L+P/3)*3},parseNormalIndex:function(D,P){const L=parseInt(D,10);return(L>=0?L-1:L+P/3)*3},parseUVIndex:function(D,P){const L=parseInt(D,10);return(L>=0?L-1:L+P/2)*2},addVertex:function(D,P,L){const N=this.vertices,U=this.object.geometry.vertices;U.push(N[D+0],N[D+1],N[D+2]),U.push(N[P+0],N[P+1],N[P+2]),U.push(N[L+0],N[L+1],N[L+2])},addVertexPoint:function(D){const P=this.vertices;this.object.geometry.vertices.push(P[D+0],P[D+1],P[D+2])},addVertexLine:function(D){const P=this.vertices;this.object.geometry.vertices.push(P[D+0],P[D+1],P[D+2])},addNormal:function(D,P,L){const N=this.normals,U=this.object.geometry.normals;U.push(N[D+0],N[D+1],N[D+2]),U.push(N[P+0],N[P+1],N[P+2]),U.push(N[L+0],N[L+1],N[L+2])},addFaceNormal:function(D,P,L){const N=this.vertices,U=this.object.geometry.normals;b.fromArray(N,D),v.fromArray(N,P),E.fromArray(N,L),_.subVectors(E,v),x.subVectors(b,v),_.cross(x),_.normalize(),U.push(_.x,_.y,_.z),U.push(_.x,_.y,_.z),U.push(_.x,_.y,_.z)},addColor:function(D,P,L){const N=this.colors,U=this.object.geometry.colors;N[D]!==void 0&&U.push(N[D+0],N[D+1],N[D+2]),N[P]!==void 0&&U.push(N[P+0],N[P+1],N[P+2]),N[L]!==void 0&&U.push(N[L+0],N[L+1],N[L+2])},addUV:function(D,P,L){const N=this.uvs,U=this.object.geometry.uvs;U.push(N[D+0],N[D+1]),U.push(N[P+0],N[P+1]),U.push(N[L+0],N[L+1])},addDefaultUV:function(){const D=this.object.geometry.uvs;D.push(0,0),D.push(0,0),D.push(0,0)},addUVLine:function(D){const P=this.uvs;this.object.geometry.uvs.push(P[D+0],P[D+1])},addFace:function(D,P,L,N,U,$,F,j,z){const Q=this.vertices.length;let V=this.parseVertexIndex(D,Q),q=this.parseVertexIndex(P,Q),J=this.parseVertexIndex(L,Q);if(this.addVertex(V,q,J),this.addColor(V,q,J),F!==void 0&&F!==""){const W=this.normals.length;V=this.parseNormalIndex(F,W),q=this.parseNormalIndex(j,W),J=this.parseNormalIndex(z,W),this.addNormal(V,q,J)}else this.addFaceNormal(V,q,J);if(N!==void 0&&N!==""){const W=this.uvs.length;V=this.parseUVIndex(N,W),q=this.parseUVIndex(U,W),J=this.parseUVIndex($,W),this.addUV(V,q,J),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(D){this.object.geometry.type="Points";const P=this.vertices.length;for(let L=0,N=D.length;L<N;L++){const U=this.parseVertexIndex(D[L],P);this.addVertexPoint(U),this.addColor(U)}},addLineGeometry:function(D,P){this.object.geometry.type="Line";const L=this.vertices.length,N=this.uvs.length;for(let U=0,$=D.length;U<$;U++)this.addVertexLine(this.parseVertexIndex(D[U],L));for(let U=0,$=P.length;U<$;U++)this.addUVLine(this.parseUVIndex(P[U],N))}};return T.startObject("",!1),T}class I extends h.Loader{constructor(D){super(D),this.materials=null}load(D,P,L,N){const U=this,$=new h.FileLoader(this.manager);$.setPath(this.path),$.setRequestHeader(this.requestHeader),$.setWithCredentials(this.withCredentials),$.load(D,function(F){try{P(U.parse(F))}catch(j){N?N(j):console.error(j),U.manager.itemError(D)}},L,N)}setMaterials(D){return this.materials=D,this}parse(D){const P=new O;D.indexOf(`\r
`)!==-1&&(D=D.replace(/\r\n/g,`
`)),D.indexOf(`\\
`)!==-1&&(D=D.replace(/\\\n/g,""));const L=D.split(`
`);let N=[];for(let F=0,j=L.length;F<j;F++){const z=L[F].trimStart();if(z.length===0)continue;const Q=z.charAt(0);if(Q!=="#")if(Q==="v"){const V=z.split(A);switch(V[0]){case"v":P.vertices.push(parseFloat(V[1]),parseFloat(V[2]),parseFloat(V[3])),V.length>=7?(C.setRGB(parseFloat(V[4]),parseFloat(V[5]),parseFloat(V[6])).convertSRGBToLinear(),P.colors.push(C.r,C.g,C.b)):P.colors.push(void 0,void 0,void 0);break;case"vn":P.normals.push(parseFloat(V[1]),parseFloat(V[2]),parseFloat(V[3]));break;case"vt":P.uvs.push(parseFloat(V[1]),parseFloat(V[2]));break}}else if(Q==="f"){const q=z.slice(1).trim().split(A),J=[];for(let et=0,mt=q.length;et<mt;et++){const ot=q[et];if(ot.length>0){const pt=ot.split("/");J.push(pt)}}const W=J[0];for(let et=1,mt=J.length-1;et<mt;et++){const ot=J[et],pt=J[et+1];P.addFace(W[0],ot[0],pt[0],W[1],ot[1],pt[1],W[2],ot[2],pt[2])}}else if(Q==="l"){const V=z.substring(1).trim().split(" ");let q=[];const J=[];if(z.indexOf("/")===-1)q=V;else for(let W=0,et=V.length;W<et;W++){const mt=V[W].split("/");mt[0]!==""&&q.push(mt[0]),mt[1]!==""&&J.push(mt[1])}P.addLineGeometry(q,J)}else if(Q==="p"){const q=z.slice(1).trim().split(" ");P.addPointGeometry(q)}else if((N=g.exec(z))!==null){const V=(" "+N[0].slice(1).trim()).slice(1);P.startObject(V)}else if(M.test(z))P.object.startMaterial(z.substring(7).trim(),P.materialLibraries);else if(m.test(z))P.materialLibraries.push(z.substring(7).trim());else if(p.test(z))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(Q==="s"){if(N=z.split(" "),N.length>1){const q=N[1].trim().toLowerCase();P.object.smooth=q!=="0"&&q!=="off"}else P.object.smooth=!0;const V=P.object.currentMaterial();V&&(V.smooth=P.object.smooth)}else{if(z==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+z+'"')}}P.finalize();const U=new h.Group;if(U.materialLibraries=[].concat(P.materialLibraries),!(P.objects.length===1&&P.objects[0].geometry.vertices.length===0)===!0)for(let F=0,j=P.objects.length;F<j;F++){const z=P.objects[F],Q=z.geometry,V=z.materials,q=Q.type==="Line",J=Q.type==="Points";let W=!1;if(Q.vertices.length===0)continue;const et=new h.BufferGeometry;et.setAttribute("position",new h.Float32BufferAttribute(Q.vertices,3)),Q.normals.length>0&&et.setAttribute("normal",new h.Float32BufferAttribute(Q.normals,3)),Q.colors.length>0&&(W=!0,et.setAttribute("color",new h.Float32BufferAttribute(Q.colors,3))),Q.hasUVIndices===!0&&et.setAttribute("uv",new h.Float32BufferAttribute(Q.uvs,2));const mt=[];for(let pt=0,wt=V.length;pt<wt;pt++){const Mt=V[pt],xt=Mt.name+"_"+Mt.smooth+"_"+W;let dt=P.materials[xt];if(this.materials!==null){if(dt=this.materials.create(Mt.name),q&&dt&&!(dt instanceof h.LineBasicMaterial)){const Ot=new h.LineBasicMaterial;h.Material.prototype.copy.call(Ot,dt),Ot.color.copy(dt.color),dt=Ot}else if(J&&dt&&!(dt instanceof h.PointsMaterial)){const Ot=new h.PointsMaterial({size:10,sizeAttenuation:!1});h.Material.prototype.copy.call(Ot,dt),Ot.color.copy(dt.color),Ot.map=dt.map,dt=Ot}}dt===void 0&&(q?dt=new h.LineBasicMaterial:J?dt=new h.PointsMaterial({size:1,sizeAttenuation:!1}):dt=new h.MeshPhongMaterial,dt.name=Mt.name,dt.flatShading=!Mt.smooth,dt.vertexColors=W,P.materials[xt]=dt),mt.push(dt)}let ot;if(mt.length>1){for(let pt=0,wt=V.length;pt<wt;pt++){const Mt=V[pt];et.addGroup(Mt.groupStart,Mt.groupCount,pt)}q?ot=new h.LineSegments(et,mt):J?ot=new h.Points(et,mt):ot=new h.Mesh(et,mt)}else q?ot=new h.LineSegments(et,mt[0]):J?ot=new h.Points(et,mt[0]):ot=new h.Mesh(et,mt[0]);ot.name=z.name,U.add(ot)}else if(P.vertices.length>0){const F=new h.PointsMaterial({size:1,sizeAttenuation:!1}),j=new h.BufferGeometry;j.setAttribute("position",new h.Float32BufferAttribute(P.vertices,3)),P.colors.length>0&&P.colors[0]!==void 0&&(j.setAttribute("color",new h.Float32BufferAttribute(P.colors,3)),F.vertexColors=!0);const z=new h.Points(j,F);U.add(z)}return U}}},"./node_modules/three/examples/jsm/math/OBB.js":(c,d,u)=>{u.r(d),u.d(d,{OBB:()=>L});var h=u("./node_modules/three/build/three.module.js");const g={c:null,u:[new h.Vector3,new h.Vector3,new h.Vector3],e:[]},m={c:null,u:[new h.Vector3,new h.Vector3,new h.Vector3],e:[]},M=[[],[],[]],p=[[],[],[]],A=[],b=new h.Vector3,v=new h.Vector3,E=new h.Vector3,x=new h.Vector3,_=new h.Vector3,C=new h.Vector3,O=new h.Matrix3,I=new h.Box3,T=new h.Matrix4,D=new h.Matrix4,P=new h.Ray;class L{constructor($=new h.Vector3,F=new h.Vector3,j=new h.Matrix3){this.center=$,this.halfSize=F,this.rotation=j}set($,F,j){return this.center=$,this.halfSize=F,this.rotation=j,this}copy($){return this.center.copy($.center),this.halfSize.copy($.halfSize),this.rotation.copy($.rotation),this}clone(){return new this.constructor().copy(this)}getSize($){return $.copy(this.halfSize).multiplyScalar(2)}clampPoint($,F){const j=this.halfSize;x.subVectors($,this.center),this.rotation.extractBasis(b,v,E),F.copy(this.center);const z=h.MathUtils.clamp(x.dot(b),-j.x,j.x);F.add(b.multiplyScalar(z));const Q=h.MathUtils.clamp(x.dot(v),-j.y,j.y);F.add(v.multiplyScalar(Q));const V=h.MathUtils.clamp(x.dot(E),-j.z,j.z);return F.add(E.multiplyScalar(V)),F}containsPoint($){return x.subVectors($,this.center),this.rotation.extractBasis(b,v,E),Math.abs(x.dot(b))<=this.halfSize.x&&Math.abs(x.dot(v))<=this.halfSize.y&&Math.abs(x.dot(E))<=this.halfSize.z}intersectsBox3($){return this.intersectsOBB(N.fromBox3($))}intersectsSphere($){return this.clampPoint($.center,C),C.distanceToSquared($.center)<=$.radius*$.radius}intersectsOBB($,F=Number.EPSILON){g.c=this.center,g.e[0]=this.halfSize.x,g.e[1]=this.halfSize.y,g.e[2]=this.halfSize.z,this.rotation.extractBasis(g.u[0],g.u[1],g.u[2]),m.c=$.center,m.e[0]=$.halfSize.x,m.e[1]=$.halfSize.y,m.e[2]=$.halfSize.z,$.rotation.extractBasis(m.u[0],m.u[1],m.u[2]);for(let Q=0;Q<3;Q++)for(let V=0;V<3;V++)M[Q][V]=g.u[Q].dot(m.u[V]);x.subVectors(m.c,g.c),A[0]=x.dot(g.u[0]),A[1]=x.dot(g.u[1]),A[2]=x.dot(g.u[2]);for(let Q=0;Q<3;Q++)for(let V=0;V<3;V++)p[Q][V]=Math.abs(M[Q][V])+F;let j,z;for(let Q=0;Q<3;Q++)if(j=g.e[Q],z=m.e[0]*p[Q][0]+m.e[1]*p[Q][1]+m.e[2]*p[Q][2],Math.abs(A[Q])>j+z)return!1;for(let Q=0;Q<3;Q++)if(j=g.e[0]*p[0][Q]+g.e[1]*p[1][Q]+g.e[2]*p[2][Q],z=m.e[Q],Math.abs(A[0]*M[0][Q]+A[1]*M[1][Q]+A[2]*M[2][Q])>j+z)return!1;return j=g.e[1]*p[2][0]+g.e[2]*p[1][0],z=m.e[1]*p[0][2]+m.e[2]*p[0][1],!(Math.abs(A[2]*M[1][0]-A[1]*M[2][0])>j+z||(j=g.e[1]*p[2][1]+g.e[2]*p[1][1],z=m.e[0]*p[0][2]+m.e[2]*p[0][0],Math.abs(A[2]*M[1][1]-A[1]*M[2][1])>j+z)||(j=g.e[1]*p[2][2]+g.e[2]*p[1][2],z=m.e[0]*p[0][1]+m.e[1]*p[0][0],Math.abs(A[2]*M[1][2]-A[1]*M[2][2])>j+z)||(j=g.e[0]*p[2][0]+g.e[2]*p[0][0],z=m.e[1]*p[1][2]+m.e[2]*p[1][1],Math.abs(A[0]*M[2][0]-A[2]*M[0][0])>j+z)||(j=g.e[0]*p[2][1]+g.e[2]*p[0][1],z=m.e[0]*p[1][2]+m.e[2]*p[1][0],Math.abs(A[0]*M[2][1]-A[2]*M[0][1])>j+z)||(j=g.e[0]*p[2][2]+g.e[2]*p[0][2],z=m.e[0]*p[1][1]+m.e[1]*p[1][0],Math.abs(A[0]*M[2][2]-A[2]*M[0][2])>j+z)||(j=g.e[0]*p[1][0]+g.e[1]*p[0][0],z=m.e[1]*p[2][2]+m.e[2]*p[2][1],Math.abs(A[1]*M[0][0]-A[0]*M[1][0])>j+z)||(j=g.e[0]*p[1][1]+g.e[1]*p[0][1],z=m.e[0]*p[2][2]+m.e[2]*p[2][0],Math.abs(A[1]*M[0][1]-A[0]*M[1][1])>j+z)||(j=g.e[0]*p[1][2]+g.e[1]*p[0][2],z=m.e[0]*p[2][1]+m.e[1]*p[2][0],Math.abs(A[1]*M[0][2]-A[0]*M[1][2])>j+z))}intersectsPlane($){this.rotation.extractBasis(b,v,E);const F=this.halfSize.x*Math.abs($.normal.dot(b))+this.halfSize.y*Math.abs($.normal.dot(v))+this.halfSize.z*Math.abs($.normal.dot(E)),j=$.normal.dot(this.center)-$.constant;return Math.abs(j)<=F}intersectRay($,F){return this.getSize(_),I.setFromCenterAndSize(x.set(0,0,0),_),T.setFromMatrix3(this.rotation),T.setPosition(this.center),D.copy(T).invert(),P.copy($).applyMatrix4(D),P.intersectBox(I,F)?F.applyMatrix4(T):null}intersectsRay($){return this.intersectRay($,x)!==null}fromBox3($){return $.getCenter(this.center),$.getSize(this.halfSize).multiplyScalar(.5),this.rotation.identity(),this}equals($){return $.center.equals(this.center)&&$.halfSize.equals(this.halfSize)&&$.rotation.equals(this.rotation)}applyMatrix4($){const F=$.elements;let j=x.set(F[0],F[1],F[2]).length();const z=x.set(F[4],F[5],F[6]).length(),Q=x.set(F[8],F[9],F[10]).length();$.determinant()<0&&(j=-j),O.setFromMatrix4($);const q=1/j,J=1/z,W=1/Q;return O.elements[0]*=q,O.elements[1]*=q,O.elements[2]*=q,O.elements[3]*=J,O.elements[4]*=J,O.elements[5]*=J,O.elements[6]*=W,O.elements[7]*=W,O.elements[8]*=W,this.rotation.multiply(O),this.halfSize.x*=j,this.halfSize.y*=z,this.halfSize.z*=Q,x.setFromMatrixPosition($),this.center.add(x),this}}const N=new L},"./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js":(c,d,u)=>{u.r(d),u.d(d,{computeMikkTSpaceTangents:()=>g,computeMorphedAttributes:()=>C,deepCloneAttribute:()=>p,deinterleaveAttribute:()=>b,deinterleaveGeometry:()=>v,estimateBytesUsed:()=>E,interleaveAttributes:()=>A,mergeAttributes:()=>M,mergeGeometries:()=>m,mergeGroups:()=>O,mergeVertices:()=>x,toCreasedNormals:()=>I,toTrianglesDrawMode:()=>_});var h=u("./node_modules/three/build/three.module.js");function g(T,D,P=!0){if(!D||!D.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!T.hasAttribute("position")||!T.hasAttribute("normal")||!T.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function L($){if($.normalized||$.isInterleavedBufferAttribute){const F=new Float32Array($.count*$.itemSize);for(let j=0,z=0;j<$.count;j++)F[z++]=$.getX(j),F[z++]=$.getY(j),$.itemSize>2&&(F[z++]=$.getZ(j));return F}return $.array instanceof Float32Array?$.array:new Float32Array($.array)}const N=T.index?T.toNonIndexed():T,U=D.generateTangents(L(N.attributes.position),L(N.attributes.normal),L(N.attributes.uv));if(P)for(let $=3;$<U.length;$+=4)U[$]*=-1;return N.setAttribute("tangent",new h.BufferAttribute(U,4)),T!==N&&T.copy(N),T}function m(T,D=!1){const P=T[0].index!==null,L=new Set(Object.keys(T[0].attributes)),N=new Set(Object.keys(T[0].morphAttributes)),U={},$={},F=T[0].morphTargetsRelative,j=new h.BufferGeometry;let z=0;for(let Q=0;Q<T.length;++Q){const V=T[Q];let q=0;if(P!==(V.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const J in V.attributes){if(!L.has(J))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+'. All geometries must have compatible attributes; make sure "'+J+'" attribute exists among all geometries, or in none of them.'),null;U[J]===void 0&&(U[J]=[]),U[J].push(V.attributes[J]),q++}if(q!==L.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+". Make sure all geometries have the same number of attributes."),null;if(F!==V.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const J in V.morphAttributes){if(!N.has(J))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+".  .morphAttributes must be consistent throughout all geometries."),null;$[J]===void 0&&($[J]=[]),$[J].push(V.morphAttributes[J])}if(D){let J;if(P)J=V.index.count;else if(V.attributes.position!==void 0)J=V.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+Q+". The geometry must have either an index or a position attribute"),null;j.addGroup(z,J,Q),z+=J}}if(P){let Q=0;const V=[];for(let q=0;q<T.length;++q){const J=T[q].index;for(let W=0;W<J.count;++W)V.push(J.getX(W)+Q);Q+=T[q].attributes.position.count}j.setIndex(V)}for(const Q in U){const V=M(U[Q]);if(!V)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+Q+" attribute."),null;j.setAttribute(Q,V)}for(const Q in $){const V=$[Q][0].length;if(V===0)break;j.morphAttributes=j.morphAttributes||{},j.morphAttributes[Q]=[];for(let q=0;q<V;++q){const J=[];for(let et=0;et<$[Q].length;++et)J.push($[Q][et][q]);const W=M(J);if(!W)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+Q+" morphAttribute."),null;j.morphAttributes[Q].push(W)}}return j}function M(T){let D,P,L,N=-1,U=0;for(let z=0;z<T.length;++z){const Q=T[z];if(D===void 0&&(D=Q.array.constructor),D!==Q.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(P===void 0&&(P=Q.itemSize),P!==Q.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(L===void 0&&(L=Q.normalized),L!==Q.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(N===-1&&(N=Q.gpuType),N!==Q.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;U+=Q.count*P}const $=new D(U),F=new h.BufferAttribute($,P,L);let j=0;for(let z=0;z<T.length;++z){const Q=T[z];if(Q.isInterleavedBufferAttribute){const V=j/P;for(let q=0,J=Q.count;q<J;q++)for(let W=0;W<P;W++){const et=Q.getComponent(q,W);F.setComponent(q+V,W,et)}}else $.set(Q.array,j);j+=Q.count*P}return N!==void 0&&(F.gpuType=N),F}function p(T){return T.isInstancedInterleavedBufferAttribute||T.isInterleavedBufferAttribute?b(T):T.isInstancedBufferAttribute?new h.InstancedBufferAttribute().copy(T):new h.BufferAttribute().copy(T)}function A(T){let D,P=0,L=0;for(let z=0,Q=T.length;z<Q;++z){const V=T[z];if(D===void 0&&(D=V.array.constructor),D!==V.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;P+=V.array.length,L+=V.itemSize}const N=new h.InterleavedBuffer(new D(P),L);let U=0;const $=[],F=["getX","getY","getZ","getW"],j=["setX","setY","setZ","setW"];for(let z=0,Q=T.length;z<Q;z++){const V=T[z],q=V.itemSize,J=V.count,W=new h.InterleavedBufferAttribute(N,q,U,V.normalized);$.push(W),U+=q;for(let et=0;et<J;et++)for(let mt=0;mt<q;mt++)W[j[mt]](et,V[F[mt]](et))}return $}function b(T){const D=T.data.array.constructor,P=T.count,L=T.itemSize,N=T.normalized,U=new D(P*L);let $;T.isInstancedInterleavedBufferAttribute?$=new h.InstancedBufferAttribute(U,L,N,T.meshPerAttribute):$=new h.BufferAttribute(U,L,N);for(let F=0;F<P;F++)$.setX(F,T.getX(F)),L>=2&&$.setY(F,T.getY(F)),L>=3&&$.setZ(F,T.getZ(F)),L>=4&&$.setW(F,T.getW(F));return $}function v(T){const D=T.attributes,P=T.morphTargets,L=new Map;for(const N in D){const U=D[N];U.isInterleavedBufferAttribute&&(L.has(U)||L.set(U,b(U)),D[N]=L.get(U))}for(const N in P){const U=P[N];U.isInterleavedBufferAttribute&&(L.has(U)||L.set(U,b(U)),P[N]=L.get(U))}}function E(T){let D=0;for(const L in T.attributes){const N=T.getAttribute(L);D+=N.count*N.itemSize*N.array.BYTES_PER_ELEMENT}const P=T.getIndex();return D+=P?P.count*P.itemSize*P.array.BYTES_PER_ELEMENT:0,D}function x(T,D=1e-4){D=Math.max(D,Number.EPSILON);const P={},L=T.getIndex(),N=T.getAttribute("position"),U=L?L.count:N.count;let $=0;const F=Object.keys(T.attributes),j={},z={},Q=[],V=["getX","getY","getZ","getW"],q=["setX","setY","setZ","setW"];for(let pt=0,wt=F.length;pt<wt;pt++){const Mt=F[pt],xt=T.attributes[Mt];j[Mt]=new h.BufferAttribute(new xt.array.constructor(xt.count*xt.itemSize),xt.itemSize,xt.normalized);const dt=T.morphAttributes[Mt];dt&&(z[Mt]=new h.BufferAttribute(new dt.array.constructor(dt.count*dt.itemSize),dt.itemSize,dt.normalized))}const J=D*.5,W=Math.log10(1/D),et=Math.pow(10,W),mt=J*et;for(let pt=0;pt<U;pt++){const wt=L?L.getX(pt):pt;let Mt="";for(let xt=0,dt=F.length;xt<dt;xt++){const Ot=F[xt],At=T.getAttribute(Ot),jt=At.itemSize;for(let bt=0;bt<jt;bt++)Mt+=`${~~(At[V[bt]](wt)*et+mt)},`}if(Mt in P)Q.push(P[Mt]);else{for(let xt=0,dt=F.length;xt<dt;xt++){const Ot=F[xt],At=T.getAttribute(Ot),jt=T.morphAttributes[Ot],bt=At.itemSize,kt=j[Ot],Dt=z[Ot];for(let Xt=0;Xt<bt;Xt++){const ae=V[Xt],Jt=q[Xt];if(kt[Jt]($,At[ae](wt)),jt)for(let le=0,Ve=jt.length;le<Ve;le++)Dt[le][Jt]($,jt[le][ae](wt))}}P[Mt]=$,Q.push($),$++}}const ot=T.clone();for(const pt in T.attributes){const wt=j[pt];if(ot.setAttribute(pt,new h.BufferAttribute(wt.array.slice(0,$*wt.itemSize),wt.itemSize,wt.normalized)),pt in z)for(let Mt=0;Mt<z[pt].length;Mt++){const xt=z[pt][Mt];ot.morphAttributes[pt][Mt]=new h.BufferAttribute(xt.array.slice(0,$*xt.itemSize),xt.itemSize,xt.normalized)}}return ot.setIndex(Q),ot}function _(T,D){if(D===h.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),T;if(D===h.TriangleFanDrawMode||D===h.TriangleStripDrawMode){let P=T.getIndex();if(P===null){const $=[],F=T.getAttribute("position");if(F!==void 0){for(let j=0;j<F.count;j++)$.push(j);T.setIndex($),P=T.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),T}const L=P.count-2,N=[];if(D===h.TriangleFanDrawMode)for(let $=1;$<=L;$++)N.push(P.getX(0)),N.push(P.getX($)),N.push(P.getX($+1));else for(let $=0;$<L;$++)$%2===0?(N.push(P.getX($)),N.push(P.getX($+1)),N.push(P.getX($+2))):(N.push(P.getX($+2)),N.push(P.getX($+1)),N.push(P.getX($)));N.length/3!==L&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const U=T.clone();return U.setIndex(N),U.clearGroups(),U}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",D),T}function C(T){const D=new h.Vector3,P=new h.Vector3,L=new h.Vector3,N=new h.Vector3,U=new h.Vector3,$=new h.Vector3,F=new h.Vector3,j=new h.Vector3,z=new h.Vector3;function Q(Ye,ci,ei,Ze,be,ve,re,Et){D.fromBufferAttribute(ci,be),P.fromBufferAttribute(ci,ve),L.fromBufferAttribute(ci,re);const vt=Ye.morphTargetInfluences;if(ei&&vt){F.set(0,0,0),j.set(0,0,0),z.set(0,0,0);for(let Ht=0,St=ei.length;Ht<St;Ht++){const It=vt[Ht],zt=ei[Ht];It!==0&&(N.fromBufferAttribute(zt,be),U.fromBufferAttribute(zt,ve),$.fromBufferAttribute(zt,re),Ze?(F.addScaledVector(N,It),j.addScaledVector(U,It),z.addScaledVector($,It)):(F.addScaledVector(N.sub(D),It),j.addScaledVector(U.sub(P),It),z.addScaledVector($.sub(L),It)))}D.add(F),P.add(j),L.add(z)}Ye.isSkinnedMesh&&(Ye.applyBoneTransform(be,D),Ye.applyBoneTransform(ve,P),Ye.applyBoneTransform(re,L)),Et[be*3+0]=D.x,Et[be*3+1]=D.y,Et[be*3+2]=D.z,Et[ve*3+0]=P.x,Et[ve*3+1]=P.y,Et[ve*3+2]=P.z,Et[re*3+0]=L.x,Et[re*3+1]=L.y,Et[re*3+2]=L.z}const V=T.geometry,q=T.material;let J,W,et;const mt=V.index,ot=V.attributes.position,pt=V.morphAttributes.position,wt=V.morphTargetsRelative,Mt=V.attributes.normal,xt=V.morphAttributes.position,dt=V.groups,Ot=V.drawRange;let At,jt,bt,kt,Dt,Xt,ae;const Jt=new Float32Array(ot.count*ot.itemSize),le=new Float32Array(Mt.count*Mt.itemSize);if(mt!==null)if(Array.isArray(q))for(At=0,bt=dt.length;At<bt;At++)for(Dt=dt[At],Xt=Math.max(Dt.start,Ot.start),ae=Math.min(Dt.start+Dt.count,Ot.start+Ot.count),jt=Xt,kt=ae;jt<kt;jt+=3)J=mt.getX(jt),W=mt.getX(jt+1),et=mt.getX(jt+2),Q(T,ot,pt,wt,J,W,et,Jt),Q(T,Mt,xt,wt,J,W,et,le);else for(Xt=Math.max(0,Ot.start),ae=Math.min(mt.count,Ot.start+Ot.count),At=Xt,bt=ae;At<bt;At+=3)J=mt.getX(At),W=mt.getX(At+1),et=mt.getX(At+2),Q(T,ot,pt,wt,J,W,et,Jt),Q(T,Mt,xt,wt,J,W,et,le);else if(Array.isArray(q))for(At=0,bt=dt.length;At<bt;At++)for(Dt=dt[At],Xt=Math.max(Dt.start,Ot.start),ae=Math.min(Dt.start+Dt.count,Ot.start+Ot.count),jt=Xt,kt=ae;jt<kt;jt+=3)J=jt,W=jt+1,et=jt+2,Q(T,ot,pt,wt,J,W,et,Jt),Q(T,Mt,xt,wt,J,W,et,le);else for(Xt=Math.max(0,Ot.start),ae=Math.min(ot.count,Ot.start+Ot.count),At=Xt,bt=ae;At<bt;At+=3)J=At,W=At+1,et=At+2,Q(T,ot,pt,wt,J,W,et,Jt),Q(T,Mt,xt,wt,J,W,et,le);const Ve=new h.Float32BufferAttribute(Jt,3),ai=new h.Float32BufferAttribute(le,3);return{positionAttribute:ot,normalAttribute:Mt,morphedPositionAttribute:Ve,morphedNormalAttribute:ai}}function O(T){if(T.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),T;let D=T.groups;if(D=D.sort(($,F)=>$.materialIndex!==F.materialIndex?$.materialIndex-F.materialIndex:$.start-F.start),T.getIndex()===null){const $=T.getAttribute("position"),F=[];for(let j=0;j<$.count;j+=3)F.push(j,j+1,j+2);T.setIndex(F)}const P=T.getIndex(),L=[];for(let $=0;$<D.length;$++){const F=D[$],j=F.start,z=j+F.count;for(let Q=j;Q<z;Q++)L.push(P.getX(Q))}T.dispose(),T.setIndex(L);let N=0;for(let $=0;$<D.length;$++){const F=D[$];F.start=N,N+=F.count}let U=D[0];T.groups=[U];for(let $=1;$<D.length;$++){const F=D[$];U.materialIndex===F.materialIndex?U.count+=F.count:(U=F,T.groups.push(U))}return T}function I(T,D=Math.PI/3){const P=Math.cos(D),L=(1+1e-10)*100,N=[new h.Vector3,new h.Vector3,new h.Vector3],U=new h.Vector3,$=new h.Vector3,F=new h.Vector3,j=new h.Vector3;function z(et){const mt=~~(et.x*L),ot=~~(et.y*L),pt=~~(et.z*L);return`${mt},${ot},${pt}`}const Q=T.index?T.toNonIndexed():T,V=Q.attributes.position,q={};for(let et=0,mt=V.count/3;et<mt;et++){const ot=3*et,pt=N[0].fromBufferAttribute(V,ot+0),wt=N[1].fromBufferAttribute(V,ot+1),Mt=N[2].fromBufferAttribute(V,ot+2);U.subVectors(Mt,wt),$.subVectors(pt,wt);const xt=new h.Vector3().crossVectors(U,$).normalize();for(let dt=0;dt<3;dt++){const Ot=N[dt],At=z(Ot);At in q||(q[At]=[]),q[At].push(xt)}}const J=new Float32Array(V.count*3),W=new h.BufferAttribute(J,3,!1);for(let et=0,mt=V.count/3;et<mt;et++){const ot=3*et,pt=N[0].fromBufferAttribute(V,ot+0),wt=N[1].fromBufferAttribute(V,ot+1),Mt=N[2].fromBufferAttribute(V,ot+2);U.subVectors(Mt,wt),$.subVectors(pt,wt),F.crossVectors(U,$).normalize();for(let xt=0;xt<3;xt++){const dt=N[xt],Ot=z(dt),At=q[Ot];j.set(0,0,0);for(let jt=0,bt=At.length;jt<bt;jt++){const kt=At[jt];F.dot(kt)>P&&j.add(kt)}j.normalize(),W.setXYZ(ot+xt,j.x,j.y,j.z)}}return Q.setAttribute("normal",W),Q}},"./node_modules/three/examples/jsm/utils/WorkerPool.js":(c,d,u)=>{u.r(d),u.d(d,{WorkerPool:()=>h});class h{constructor(m=4){this.pool=m,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(m){if(!this.workers[m]){const M=this.workerCreator();M.addEventListener("message",this._onMessage.bind(this,m)),this.workers[m]=M}}_getIdleWorker(){for(let m=0;m<this.pool;m++)if(!(this.workerStatus&1<<m))return m;return-1}_onMessage(m,M){const p=this.workersResolve[m];if(p&&p(M),this.queue.length){const{resolve:A,msg:b,transfer:v}=this.queue.shift();this.workersResolve[m]=A,this.workers[m].postMessage(b,v)}else this.workerStatus^=1<<m}setWorkerCreator(m){this.workerCreator=m}setWorkerLimit(m){this.pool=m}postMessage(m,M){return new Promise(p=>{const A=this._getIdleWorker();A!==-1?(this._initWorker(A),this.workerStatus|=1<<A,this.workersResolve[A]=p,this.workers[A].postMessage(m,M)):this.queue.push({resolve:p,msg:m,transfer:M})})}dispose(){this.workers.forEach(m=>m.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}},"./src/lib/three.mjs":(c,d,u)=>{u.r(d),u.d(d,{default:()=>_});var h=u("./node_modules/three/build/three.module.js"),g=u("./node_modules/three/examples/jsm/loaders/DRACOLoader.js"),m=u("./node_modules/three/examples/jsm/loaders/GLTFLoader.js"),M=u("./node_modules/three/examples/jsm/loaders/KTX2Loader.js"),p=u("./node_modules/three/examples/jsm/math/OBB.js"),A=u("./node_modules/three/examples/jsm/loaders/OBJLoader.js"),b=u("./node_modules/three/examples/jsm/loaders/MTLLoader.js"),v=u("./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js"),E=u("./node_modules/three/examples/jsm/lights/LightProbeGenerator.js"),x={...h};x.DRACOLoader=g.DRACOLoader,x.GLTFLoader=m.GLTFLoader,x.KTX2Loader=M.KTX2Loader,x.OBJLoader=A.OBJLoader,x.MTLLoader=b.MTLLoader,x.OBB=p.OBB,x.BufferGeometryUtils=v,x.LightProbeGenerator=E.LightProbeGenerator;const _=x},"./package.json":c=>{c.exports=JSON.parse('{"name":"aframe","version":"1.6.0","description":"A web framework for building virtual reality experiences.","homepage":"https://aframe.io/","main":"dist/aframe-master.js","scripts":{"dev":"cross-env INSPECTOR_VERSION=dev webpack serve --port 8080","dist":"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"webpack --config webpack.config.js","dist:min":"webpack --config webpack.prod.config.js","docs":"markserv --dir docs --port 9001","preghpages":"node ./scripts/preghpages.js","ghpages":"ghpages -p gh-pages/","lint":"standardx -v | snazzy","lint:fix":"standardx --fix","precommit":"npm run lint","prepush":"node scripts/testOnlyCheck.js","prerelease":"node scripts/release.js 1.5.0 1.6.0","start":"npm run dev","start:https":"npm run dev -- --server-type https","test":"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"node --experimental-require-module ./node_modules/mocha/bin/mocha --ui tdd tests/node"},"repository":"aframevr/aframe","license":"MIT","files":["dist/*","docs/**/*","src/**/*","vendor/**/*"],"dependencies":{"buffer":"^6.0.3","debug":"^4.3.4","deep-assign":"^2.0.0","load-bmfont":"^1.2.3","super-animejs":"^3.1.0","three":"npm:super-three@0.164.0","three-bmfont-text":"dmarcos/three-bmfont-text#eed4878795be9b3e38cf6aec6b903f56acd1f695","webvr-polyfill":"^0.10.12"},"devDependencies":{"@babel/core":"^7.17.10","babel-loader":"^8.2.5","babel-plugin-istanbul":"^6.1.1","chai":"^4.3.6","chai-shallow-deep-equal":"^1.4.0","chalk":"^1.1.3","cross-env":"^7.0.3","css-loader":"^6.7.1","eslint":"^8.45.0","eslint-config-semistandard":"^17.0.0","eslint-config-standard-jsx":"^11.0.0","ghpages":"0.0.8","git-rev":"^0.2.1","glob":"^8.0.3","husky":"^0.11.7","jsdom":"^24.0.0","jsdom-global":"^3.0.2","karma":"^6.4.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-sinon-chai":"^2.0.2","karma-webpack":"^5.0.0","markserv":"github:sukima/markserv#feature/fix-broken-websoketio-link","mocha":"^10.0.0","replace-in-file":"^2.5.3","shelljs":"^0.7.7","shx":"^0.2.2","sinon":"<12.0.0","sinon-chai":"^3.7.0","snazzy":"^5.0.0","standardx":"^7.0.0","style-loader":"^3.3.1","too-wordy":"ngokevin/too-wordy","webpack":"^5.73.0","webpack-cli":"^4.10.0","webpack-dev-server":"^4.11.0","webpack-merge":"^5.8.0","write-good":"^1.0.8"},"link":true,"standardx":{"ignore":["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},"keywords":["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","quest","meta","web-components","webvr","webxr"],"engines":{"node":">= 4.6.0","npm":">= 2.15.9"}}')}},a={};function s(c){var d=a[c];if(d!==void 0)return d.exports;var u=a[c]={id:c,exports:{}};return n[c].call(u.exports,u,u.exports,s),u.exports}s.m=n,s.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return s.d(d,{a:d}),d},s.d=(c,d)=>{for(var u in d)s.o(d,u)&&!s.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:d[u]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),s.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},s.b=document.baseURI||self.location.href,s.nc=void 0;var l=s("./src/index.js");return l})())})(GF);var k1t=GF.exports;const N1t={},F1t={};AFRAME.registerComponent("svelte",{multiple:!0,schema:{props:{default:{},parse(e){switch(typeof e){case"string":return JSON.parse(e);default:return e}},serialize(e){return JSON.stringify(e)}},component:{parse(e){return N1t[e]},serialize(e){return e.name}},gather:{parse(e){return F1t[e]},serialize(e){return e.name},default:function(){return this.data.props}}},update(){this.remove(),this.data.component&&requestAnimationFrame(()=>{this.svelte=new this.data.component({target:this.el,props:this.data.gather.call(this)})})},remove(){this.svelte&&(this.svelte.$destroy(),delete this.svelte)}});function iS(e,t,i){const n=e.slice();return n[17]=t[i],n}function nS(e,t,i){const n=e.slice();return n[20]=t[i],n}function U1t(e,t,i){const n=e.slice();return n[23]=t[i],n}function $1t(e,t,i){const n=e.slice();return n[23]=t[i],n}function rS(e,t,i){const n=e.slice();return n[28]=t[i],n}function aS(e,t,i){const n=e.slice();return n[31]=t[i],n}function sS(e){let t,i,n;return{c(){t=K("a-cylinder"),i=Y(),n=K("a-entity"),tn(t,"position",`${T2/2} 0 ${e[31]-5}`),tn(t,"radius",.02*(e[31]/6+1)),tn(t,"height","26"),tn(t,"rotation","0 0 90"),tn(t,"color",e[7][S2-e[31]-1]),tn(n,"text","value: "+e[6][e[31]]+"; color: #666"),tn(n,"position",`2.5 0 ${e[31]-5}`),tn(n,"scale","10 10 10")},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function oS(e){let t,i,n;return{c(){t=K("a-cylinder"),i=Y(),n=K("a-entity"),tn(t,"position",`${e[28]} 0 -2.5`),tn(t,"radius",.02),tn(t,"height","5"),tn(t,"rotation","90 0 0"),tn(t,"color","#ddd"),tn(n,"text","value: "+e[28]+"; color: #666"),tn(n,"position",`${e[28]+4.5} 0 1`),tn(n,"scale","10 10 10")},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function G1t(e){let t;return{c(){t=K("a-sphere"),tn(t,"position",e[23]-.5+" 0 -2.5"),tn(t,"color","silver"),tn(t,"scale","0.25 0.1 0.25")},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function V1t(e){let t,i,n;return{c(){t=K("a-sphere"),i=Y(),n=K("a-sphere"),tn(t,"position",e[23]-.5+" 0 -1.5"),tn(t,"color","silver"),tn(t,"scale","0.25 0.1 0.25"),tn(n,"position",e[23]-.5+" 0 -3.5"),tn(n,"color","silver"),tn(n,"scale","0.25 0.1 0.25")},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function lS(e){let t,i,n,a,s,l;return{c(){t=K("a-cylinder"),n=Y(),a=K("a-entity"),tn(t,"position",i=`${T2/2} ${e[5](e[20])} -6`),tn(t,"radius","0.02"),tn(t,"height","26"),tn(t,"rotation","0 0 90"),tn(t,"color","#ccc"),tn(a,"text",s="value: "+e[20].toFixed()+"s; color: #666"),tn(a,"position",l=`2.5 ${e[5](e[20])} -6 `),tn(a,"scale","10 10 10")},m(c,d){_t(c,t,d),_t(c,n,d),_t(c,a,d)},p(c,d){d[0]&38&&i!==(i=`${T2/2} ${c[5](c[20])} -6`)&&tn(t,"position",i),d[0]&6&&s!==(s="value: "+c[20].toFixed()+"s; color: #666")&&tn(a,"text",s),d[0]&38&&l!==(l=`2.5 ${c[5](c[20])} -6 `)&&tn(a,"position",l)},d(c){c&&(Ct(t),Ct(n),Ct(a))}}}function cS(e){let t,i,n,a,s,l;return{c(){t=K("a-box"),i=K("a-entity"),a=Y(),tn(i,"text",n="value: "+e[17].note+"\\n"+e[17].fret+"; color: #666"),tn(i,"position","2.35 0 0.201"),tn(i,"scale","5 5 5"),tn(t,"position",s=`${e[17].fret-.3} ${e[5](e[17].time)} ${e[17].string-5}`),tn(t,"color",l=e[7][S2-e[17].string-1]),tn(t,"opacity","0.5"),tn(t,"width","0.4"),tn(t,"height","0.4"),tn(t,"depth","0.4")},m(c,d){_t(c,t,d),R(t,i),R(t,a)},p(c,d){d[0]&16&&n!==(n="value: "+c[17].note+"\\n"+c[17].fret+"; color: #666")&&tn(i,"text",n),d[0]&48&&s!==(s=`${c[17].fret-.3} ${c[5](c[17].time)} ${c[17].string-5}`)&&tn(t,"position",s),d[0]&16&&l!==(l=c[7][S2-c[17].string-1])&&tn(t,"color",l)},d(c){c&&Ct(t)}}}function H1t(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$=Ge(Ci(S2)),F=[];for(let pt=0;pt<$.length;pt+=1)F[pt]=sS(aS(e,$,pt));let j=Ge(Ci(T2+1)),z=[];for(let pt=0;pt<j.length;pt+=1)z[pt]=oS(rS(e,j,pt));let Q=Ge([3,5,7,9,15,17,19,21]),V=[];for(let pt=0;pt<8;pt+=1)V[pt]=G1t($1t(e,Q,pt));let q=Ge([12,24]),J=[];for(let pt=0;pt<2;pt+=1)J[pt]=V1t(U1t(e,q,pt));let W=Ge(Ci($w(e[2],5),e[1]+1,5)),et=[];for(let pt=0;pt<W.length;pt+=1)et[pt]=lS(nS(e,W,pt));let mt=Ge(e[4]),ot=[];for(let pt=0;pt<mt.length;pt+=1)ot[pt]=cS(iS(e,mt,pt));return N=new $r({props:{noteOn:e[8],controlChange:e[9]}}),{c(){t=K("main"),i=K("a-scene"),n=K("a-entity"),a=Y(),s=K("a-entity"),l=Y(),c=K("a-entity"),d=Y(),u=K("a-entity"),h=Y(),g=K("a-sky"),m=Y(),M=K("a-entity"),A=Y(),b=K("a-entity"),v=Y(),E=K("a-entity"),_=Y(),C=K("a-box");for(let pt=0;pt<F.length;pt+=1)F[pt].c();O=Y();for(let pt=0;pt<z.length;pt+=1)z[pt].c();I=Y();for(let pt=0;pt<8;pt+=1)V[pt].c();T=Y();for(let pt=0;pt<2;pt+=1)J[pt].c();D=Y();for(let pt=0;pt<et.length;pt+=1)et[pt].c();P=Y();for(let pt=0;pt<ot.length;pt+=1)ot[pt].c();L=Y(),Ut(N.$$.fragment),tn(n,"oculus-touch-controls","hand: left"),tn(s,"oculus-touch-controls","hand: right"),tn(c,"id","leftHand"),tn(c,"hand-tracking-controls","hand: left;"),tn(u,"id","rightHand"),tn(u,"hand-tracking-controls","hand: right;"),tn(g,"color","white"),tn(M,"text",p="value: "+e[0].title+"; color: #666; width: 5"),tn(M,"position","-1.75 1.85 -3"),tn(M,"scale",".35 .35 .35"),tn(b,"text","value: Connect a MIDI guitar and start playing. Notes are positioned based on their string (forward), fret (right), and time (up). They are colored by string and labelled with note name and fret number.\\n\\nRandom notes are shown until you play.\\n\\nGo back in your browser to return to the main page.; color: #666; width: 5"),tn(b,"position","-2 1.5 -3"),tn(b,"scale",".25 .25 .25"),tn(E,"text",x="value: "+e[3]+"; color: #666; width: 5"),tn(E,"position","-2 1 -3"),tn(E,"scale",".25 .25 .25"),tn(C,"position","-1 .5 -3"),tn(C,"rotation","0 0 0"),tn(C,"scale",".1 .1 .1"),tn(C,"visible","true"),tn(C,"opacity","0"),ut(t,"class","app")},m(pt,wt){_t(pt,t,wt),R(t,i),R(i,n),R(i,a),R(i,s),R(i,l),R(i,c),R(i,d),R(i,u),R(i,h),R(i,g),R(i,m),R(i,M),R(i,A),R(i,b),R(i,v),R(i,E),R(i,_),R(i,C);for(let Mt=0;Mt<F.length;Mt+=1)F[Mt]&&F[Mt].m(C,null);R(C,O);for(let Mt=0;Mt<z.length;Mt+=1)z[Mt]&&z[Mt].m(C,null);R(C,I);for(let Mt=0;Mt<8;Mt+=1)V[Mt]&&V[Mt].m(C,null);R(C,T);for(let Mt=0;Mt<2;Mt+=1)J[Mt]&&J[Mt].m(C,null);R(C,D);for(let Mt=0;Mt<et.length;Mt+=1)et[Mt]&&et[Mt].m(C,null);R(C,P);for(let Mt=0;Mt<ot.length;Mt+=1)ot[Mt]&&ot[Mt].m(C,null);R(t,L),Nt(N,t,null),U=!0},p(pt,wt){if((!U||wt[0]&1&&p!==(p="value: "+pt[0].title+"; color: #666; width: 5"))&&tn(M,"text",p),(!U||wt[0]&8&&x!==(x="value: "+pt[3]+"; color: #666; width: 5"))&&tn(E,"text",x),wt[0]&192){$=Ge(Ci(S2));let Mt;for(Mt=0;Mt<$.length;Mt+=1){const xt=aS(pt,$,Mt);F[Mt]?F[Mt].p(xt,wt):(F[Mt]=sS(xt),F[Mt].c(),F[Mt].m(C,O))}for(;Mt<F.length;Mt+=1)F[Mt].d(1);F.length=$.length}if(wt&0){j=Ge(Ci(T2+1));let Mt;for(Mt=0;Mt<j.length;Mt+=1){const xt=rS(pt,j,Mt);z[Mt]?z[Mt].p(xt,wt):(z[Mt]=oS(xt),z[Mt].c(),z[Mt].m(C,I))}for(;Mt<z.length;Mt+=1)z[Mt].d(1);z.length=j.length}if(wt[0]&38){W=Ge(Ci($w(pt[2],5),pt[1]+1,5));let Mt;for(Mt=0;Mt<W.length;Mt+=1){const xt=nS(pt,W,Mt);et[Mt]?et[Mt].p(xt,wt):(et[Mt]=lS(xt),et[Mt].c(),et[Mt].m(C,P))}for(;Mt<et.length;Mt+=1)et[Mt].d(1);et.length=W.length}if(wt[0]&176){mt=Ge(pt[4]);let Mt;for(Mt=0;Mt<mt.length;Mt+=1){const xt=iS(pt,mt,Mt);ot[Mt]?ot[Mt].p(xt,wt):(ot[Mt]=cS(xt),ot[Mt].c(),ot[Mt].m(C,null))}for(;Mt<ot.length;Mt+=1)ot[Mt].d(1);ot.length=mt.length}},i(pt){U||(Bt(N.$$.fragment,pt),U=!0)},o(pt){Rt(N.$$.fragment,pt),U=!1},d(pt){pt&&Ct(t),Oi(F,pt),Oi(z,pt),Oi(V,pt),Oi(J,pt),Oi(et,pt),Oi(ot,pt),Ft(N)}}}let S2=6,T2=24;function Q1t(e,t,i){let n,a,s,{appInfo:l}=t,c=[64,59,55,50,45,40];const d=c.map(Ts),u=U0;let h=1,g=60,m=0,M=60,p=[];const A=_=>{const C=Math.floor(Math.random()*6),O=Math.round(Math.random()*24),I=Math.round(Math.random()*127),T=c[C]+O;return _=_??Math.round(Math.random()*60),i(1,M=_),{string:C,fret:O,time:_,note:F9[T%12],velocity:I}};let b=setInterval(()=>i(12,p=[...p,A(performance.now()/1e3)]),500),v="";const E=_=>{b&&(clearInterval(b),b=null,i(12,p=[])),p.length===0&&(m=_.timestamp);const C=(_.timestamp-m)/1e3,O=_.message.channel-1,I=_.note.number-c[O];if(I<0)return;const T={number:_.note.number,note:F9[_.note.number%12],velocity:_.rawVelocity,time:C,channel:_.message.channel,string:O,fret:I};i(12,p=[...p,T]),i(1,M=C)},x=_=>{const C=_.controller.number;C===14?i(10,h=_.value):C===15&&i(11,g=_.value*120)};return sr(()=>{k1t.registerComponent("thumbstick-logging",{init(){this.el.addEventListener("thumbstickmoved",this.logThumbstick)},logThumbstick(_){_.detail.y>.95&&console.log("DOWN"),_.detail.y<-.95&&console.log("UP"),_.detail.x<-.95&&console.log("LEFT"),_.detail.x>.95&&console.log("RIGHT"),i(3,v=`x ${_.detail.x} y ${_.detail.y}`)}})}),or(()=>{clearInterval(b),window.location.reload()}),e.$$set=_=>{"appInfo"in _&&i(0,l=_.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&2050&&i(2,n=M-g),e.$$.dirty[0]&3078&&i(5,a=im().domain([M,n]).range([.5,g*h])),e.$$.dirty[0]&6146&&i(4,s=p.filter(_=>_.time>M-g))},[l,M,n,v,s,a,d,u,E,x,h,g,p]}class z1t extends qi{constructor(t){super(),Wi(this,t,Q1t,H1t,Ji,{appInfo:0},null,[-1,-1])}}const j1t=!0,J1t=!0,W1t=[{number:72,velocity:34,time:290372.10000014305,channel:1},{number:79,velocity:66,time:290628.10000014305,channel:1},{number:77,velocity:48,time:292438.10000014305,channel:1},{number:76,velocity:98,time:292732.10000014305,channel:1},{number:81,velocity:42,time:294628.10000014305,channel:1},{number:81,velocity:127,time:295494.10000014305,channel:1},{number:81,velocity:127,time:295679.10000014305,channel:1},{number:83,velocity:20,time:297681.10000014305,channel:1},{number:71,velocity:45,time:299932.10000014305,channel:1},{number:64,velocity:55,time:300356.10000014305,channel:1},{number:76,velocity:54,time:302248.10000014305,channel:1},{number:72,velocity:80,time:302624.10000014305,channel:1},{number:67,velocity:69,time:304313.10000014305,channel:1},{number:69,velocity:37,time:307079.2000000477,channel:1},{number:71,velocity:58,time:307343.10000014305,channel:1},{number:72,velocity:55,time:307629.10000014305,channel:1},{number:66,velocity:51,time:309766.10000014305,channel:1},{number:68,velocity:48,time:309968.10000014305,channel:1},{number:70,velocity:76,time:310370.10000014305,channel:1},{number:72,velocity:49,time:312700.10000014305,channel:1},{number:76,velocity:70,time:313177.10000014305,channel:1},{number:77,velocity:60,time:314654.10000014305,channel:1},{number:79,velocity:79,time:315093.10000014305,channel:1},{number:71,velocity:73,time:317319.10000014305,channel:1},{number:69,velocity:99,time:318431.10000014305,channel:1},{number:67,velocity:60,time:318848.10000014305,channel:1},{number:65,velocity:110,time:319800.10000014305,channel:1},{number:60,velocity:62,time:320876.10000014305,channel:1},{number:72,velocity:105,time:324679.10000014305,channel:1},{number:76,velocity:63,time:327670.2000000477,channel:1},{number:79,velocity:72,time:329615.10000014305,channel:1},{number:84,velocity:64,time:330978.10000014305,channel:1},{number:86,velocity:73,time:335036.10000014305,channel:1},{number:88,velocity:99,time:335408.10000014305,channel:1},{number:82,velocity:46,time:337702.10000014305,channel:1},{number:80,velocity:26,time:337932.10000014305,channel:1},{number:77,velocity:57,time:339103.10000014305,channel:1},{number:83,velocity:69,time:343022.10000014305,channel:1},{number:81,velocity:115,time:343185.10000014305,channel:1},{number:76,velocity:79,time:345086.10000014305,channel:1},{number:72,velocity:65,time:345298.10000014305,channel:1}],q1t="improvisation-intervals",K1t="2024-09-04T12:05:22.821Z",uS={showUnison:j1t,useColors:J1t,notes:W1t,_appId:q1t,_date:K1t};function X1t(e){let t,i,n,a,s,l,c;return{c(){t=K("p"),t.textContent="1) Play different notes and see which intervals are between them.",i=Y(),n=K("p"),n.textContent=`2) Try to play only perfect 5ths (for example, go through the circle of
        fifths).`,a=Y(),s=K("p"),s.textContent="3) Try to play only perfect 5ths and major intervals.",l=Y(),c=K("p"),c.textContent="4) Try to play only perfect 5ths and minor intervals."},m(d,u){_t(d,t,u),_t(d,i,u),_t(d,n,u),_t(d,a,u),_t(d,s,u),_t(d,l,u),_t(d,c,u)},p:Fe,d(d){d&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c))}}}function Y1t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J;function W(dt){e[10](dt)}let et={label:"unison",title:"Toggle filtering unison intervals",callback:e[6]};e[2]!==void 0&&(et.checked=e[2]),u=new Tr({props:et}),me.push(()=>Te(u,"checked",W));function mt(dt){e[11](dt)}let ot={title:"The number of most recent notes that are shown as bars.",label:"bars",callback:e[6],step:10,min:40};e[3]!==void 0&&(ot.value=e[3]),m=new ia({props:ot}),me.push(()=>Te(m,"value",mt));function pt(dt){e[13](dt)}let wt={saveToStorage:e[9],callback:e[6]};e[4]!==void 0&&(wt.notes=e[4]),E=new aa({props:wt}),me.push(()=>Te(E,"notes",pt)),I=new Ma({props:{appId:e[0].id,loadData:e[8]}});function Mt(dt){e[15](dt)}let xt={callback:e[6]};return e[4]!==void 0&&(xt.notes=e[4]),D=new Ps({props:xt}),me.push(()=>Te(D,"notes",Mt)),N=new ua({props:{loadData:e[8],getExportData:e[7],appId:e[0].id}}),$=new Kr({props:{$$slots:{default:[X1t]},$$scope:{ctx:e}}}),j=new $r({props:{noteOn:e[5],pcKeyAllowed:!0}}),Q=new Xr({props:{appId:e[0].id}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing intervals between notes in a melody. You can
      play a note, then another one some interval apart, and so on. The bar
      chart below shows how often you played each interval: when you go up in
      pitch, the bar of the played interval in the top half will increase. If
      you go down, it will show up in the bottom half. Colors denote the type of
      interval, so you can quickly see if you play, for example, more major or
      minor intervals. The intervals are labelled by their name and the number
      of semitones (negative when going from higher to lower notes). The second
      chart on the bottom shows the intervals over time with the same colors.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),A=K("div"),b=Y(),v=K("div"),Ut(E.$$.fragment),_=Y(),C=K("button"),C.textContent="example",O=Y(),Ut(I.$$.fragment),T=Y(),Ut(D.$$.fragment),L=Y(),Ut(N.$$.fragment),U=Y(),Ut($.$$.fragment),F=Y(),Ut(j.$$.fragment),z=Y(),Ut(Q.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(A,"class","visualization"),ut(v,"class","control"),ut(t,"class","app")},m(dt,Ot){_t(dt,t,Ot),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(t,p),R(t,A),e[12](A),R(t,b),R(t,v),Nt(E,v,null),R(v,_),R(v,C),R(v,O),Nt(I,v,null),R(v,T),Nt(D,v,null),R(v,L),Nt(N,v,null),R(t,U),Nt($,t,null),R(t,F),Nt(j,t,null),R(t,z),Nt(Q,t,null),V=!0,q||(J=Qe(C,"click",e[14]),q=!0)},p(dt,Ot){(!V||Ot&1)&&n!==(n=dt[0].title+"")&&Ue(a,n);const At={};!h&&Ot&4&&(h=!0,At.checked=dt[2],Se(()=>h=!1)),u.$set(At);const jt={};!M&&Ot&8&&(M=!0,jt.value=dt[3],Se(()=>M=!1)),m.$set(jt);const bt={};!x&&Ot&16&&(x=!0,bt.notes=dt[4],Se(()=>x=!1)),E.$set(bt);const kt={};Ot&1&&(kt.appId=dt[0].id),I.$set(kt);const Dt={};!P&&Ot&16&&(P=!0,Dt.notes=dt[4],Se(()=>P=!1)),D.$set(Dt);const Xt={};Ot&1&&(Xt.appId=dt[0].id),N.$set(Xt);const ae={};Ot&131072&&(ae.$$scope={dirty:Ot,ctx:dt}),$.$set(ae);const Jt={};Ot&1&&(Jt.appId=dt[0].id),Q.$set(Jt)},i(dt){V||(Bt(u.$$.fragment,dt),Bt(m.$$.fragment,dt),Bt(E.$$.fragment,dt),Bt(I.$$.fragment,dt),Bt(D.$$.fragment,dt),Bt(N.$$.fragment,dt),Bt($.$$.fragment,dt),Bt(j.$$.fragment,dt),Bt(Q.$$.fragment,dt),V=!0)},o(dt){Rt(u.$$.fragment,dt),Rt(m.$$.fragment,dt),Rt(E.$$.fragment,dt),Rt(I.$$.fragment,dt),Rt(D.$$.fragment,dt),Rt(N.$$.fragment,dt),Rt($.$$.fragment,dt),Rt(j.$$.fragment,dt),Rt(Q.$$.fragment,dt),V=!1},d(dt){dt&&Ct(t),Ft(u),Ft(m),e[12](null),Ft(E),Ft(I),Ft(D),Ft(N),Ft($),Ft(j),Ft(Q),q=!1,J()}}}function Z1t(e){let t,i;return t=new da({props:{loadData:e[8],$$slots:{default:[Y1t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&131103&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let dS=900,hS=400;function t2t(e,t,i){let{appInfo:n}=t,a,s=!0,l=40,c,d=[];const u=_=>{d.length===0&&(c=_.timestamp);const C=(_.timestamp-c)/1e3,O={number:_.note.number,velocity:_.rawVelocity,time:C};i(4,d=[...d,O]),h()},h=()=>{let _=d.map((D,P)=>P===0?0:D.number-d[P-1].number);s||(_=_.filter(D=>D!==0)),_=_.map(D=>{if(Math.abs(D)<=12)return D;{const P=D>0?12:-12;for(;Math.abs(D)>12;)D-=P;return D}});const C=Sl(_,D=>D).map(([D,P])=>({interval:D,count:P.length})),O=" ".repeat(20);i(1,a.textContent="",a);const I=Sn({width:dS,height:hS,marginLeft:125,marginRight:10,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',color:{domain:["minor","major","perfect","tritone"],range:["#7da2e8","#ed796a","gold","#ccc"],marginLeft:100},y:{label:`🡸 going down ${O}|${O} going up 🡺     `,reverse:!0,domain:Ci(-12,13,1),tickFormat:D=>D>=0?`${Bu[D].name} (${D})`:`${Bu[-D].name} (${D})`,type:"band"},marks:[zr([-12,0,12],{stroke:"#888",strokeWidth:1.5}),Nu(C,{x:"count",y:"interval",fill:D=>Bu[Math.abs(D.interval)].type,dx:.5,rx:4})]});a.appendChild(I);const T=Sn({width:dS,height:hS,marginLeft:125,marginRight:10,marginTop:30,color:{legend:!0,domain:["minor","major","perfect","tritone"],range:["#7da2e8","#ed796a","gold","#ccc"],marginLeft:100},x:{nice:!0,label:"intervals sorted by time",ticks:[]},y:{label:`🡸 going down ${O}|${O} going up 🡺     `,reverse:!0,domain:Ci(-12,13,1),tickFormat:D=>D>=0?`${Bu[D].name} (${D})`:`${Bu[-D].name} (${D})`,type:"band"},marks:[zr([-12,0,12],{stroke:"#888",strokeWidth:1.5}),Bo(_.slice(-l),{x:(D,P)=>P,fill:D=>Bu[Math.abs(D)].type,rx:4}),l<=40?uv(_.slice(-l),{x:(D,P)=>P,y:D=>D>0?D+1:D-1,text:D=>Bu[Math.abs(D)].short,fill:"black",stroke:"white",strokeWidth:3}):null]});a.appendChild(T)};sr(h);const g=()=>({showUnison:s,notes:d}),m=_=>{M(),i(2,s=_.showUnison),i(4,d=_.notes),h()},M=()=>{d.length>0&&JSON.stringify(d)!==JSON.stringify(uS.notes)&&ga(n.id,g())};or(M);function p(_){s=_,i(2,s)}function A(_){l=_,i(3,l)}function b(_){me[_?"unshift":"push"](()=>{a=_,i(1,a)})}function v(_){d=_,i(4,d)}const E=()=>m(uS);function x(_){d=_,i(4,d)}return e.$$set=_=>{"appInfo"in _&&i(0,n=_.appInfo)},[n,a,s,l,d,u,h,g,m,M,p,A,b,v,E,x]}class e2t extends qi{constructor(t){super(),Wi(this,t,t2t,Z1t,Ji,{appInfo:0})}}const i2t="D",n2t=50,r2t=[{name:"D",number:62,velocity:.5354330708661418,time:0,channel:1,duration:1.629,end:1.629},{name:"F",number:65,velocity:.4881889763779528,time:1.55,channel:1,duration:2.9720000000000004,end:4.522},{name:"E",number:64,velocity:.4251968503937008,time:4.48,channel:1,duration:.4289999999999994,end:4.909},{name:"C",number:60,velocity:.5354330708661418,time:4.755,channel:1,duration:2.3950000000000005,end:7.15},{name:"A",number:69,velocity:.5984251968503937,time:7.105,channel:1,duration:3.530999999999999,end:10.636},{name:"G",number:67,velocity:.4881889763779528,time:10.668,channel:1,duration:.3490000000000002,end:11.017},{name:"A",number:69,velocity:.5433070866141733,time:10.95,channel:1,duration:2.373900000095368,end:13.323900000095367},{name:"G#",number:68,velocity:.6299212598425197,time:13.292,channel:1,duration:.33800000000000097,end:13.63},{name:"F",number:65,velocity:.7322834645669292,time:13.572,channel:1,duration:2.817,end:16.389},{name:"E",number:64,velocity:.31496062992125984,time:16.355,channel:1,duration:.5560000000000009,end:16.911},{name:"D",number:62,velocity:.6850393700787402,time:16.859,channel:1,duration:3.4619999999999997,end:20.321},{name:"D",number:62,velocity:.3779527559055118,time:21.237,channel:1,duration:2.759900000095371,end:23.99690000009537},{name:"A",number:57,velocity:.5196850393700787,time:24.006,channel:1,duration:.13700000000000045,end:24.143},{name:"D",number:62,velocity:.49606299212598426,time:24.139,channel:1,duration:.14700000000000202,end:24.286},{name:"A",number:57,velocity:.7007874015748031,time:24.241,channel:1,duration:2.2029999999999994,end:26.444},{name:"C#",number:61,velocity:.4015748031496063,time:26.479,channel:1,duration:.277000000000001,end:26.756},{name:"C",number:60,velocity:.8031496062992126,time:26.706,channel:1,duration:3.649000000000001,end:30.355},{name:"G",number:55,velocity:.7165354330708661,time:30.122900000095367,channel:1,duration:.5470999999046349,end:30.67},{name:"A",number:69,velocity:.30708661417322836,time:30.395,channel:1,duration:3.032,end:33.427},{name:"F",number:65,velocity:.6377952755905512,time:33.351,channel:1,duration:.37599999999999767,end:33.727},{name:"E",number:64,velocity:.8031496062992126,time:33.663,channel:1,duration:3.436,end:37.099},{name:"B",number:71,velocity:.3464566929133858,time:37.075,channel:1,duration:.26200000000000045,end:37.337},{name:"A",number:69,velocity:.4094488188976378,time:37.253,channel:1,duration:.07590000009536624,end:37.328900000095366},{name:"G",number:67,velocity:.8740157480314961,time:37.305,channel:1,duration:.6509000000953691,end:37.95590000009537},{name:"D",number:62,velocity:.49606299212598426,time:37.883,channel:1,duration:4.606999999999999,end:42.49},{name:"F#",number:66,velocity:.9763779527559056,time:42.417,channel:1,duration:1.0379999999999967,end:43.455},{name:"F",number:65,velocity:.47244094488188976,time:43.424,channel:1,duration:2.2310000000000016,end:45.655},{name:"D",number:62,velocity:.6062992125984252,time:45.6,channel:1,duration:3.9039999999999964,end:49.504},{name:"A",number:57,velocity:.7559055118110236,time:49.5,channel:1,duration:.11399999999999721,end:49.614},{name:"D",number:62,velocity:.5354330708661418,time:49.644,channel:1,duration:.142000000000003,end:49.786},{name:"A",number:57,velocity:.7637795275590551,time:49.741,channel:1,duration:4.308,end:54.049},{name:"G",number:55,velocity:.5511811023622047,time:54.021900000095364,channel:1,duration:.2460999999046365,end:54.268},{name:"A#",number:58,velocity:.7480314960629921,time:54.214,channel:1,duration:3.301000000000002,end:57.515},{name:"C",number:60,velocity:.5748031496062992,time:57.491,channel:1,duration:.347999999999999,end:57.839},{name:"D",number:62,velocity:.6141732283464567,time:57.768,channel:1,duration:2.8569999999999993,end:60.625},{name:"D",number:50,velocity:.7716535433070866,time:60.559,channel:1,duration:3.4399000000953706,end:63.99890000009537},{name:"F",number:53,velocity:.5748031496062992,time:63.945,channel:1,duration:.3309000000953617,end:64.27590000009536},{name:"A",number:57,velocity:.7795275590551181,time:64.24290000009536,channel:1,duration:3.494099999904634,end:67.737},{name:"F",number:65,velocity:.6614173228346457,time:67.747,channel:1,duration:.3719999999999999,end:68.119},{name:"D",number:62,velocity:.8582677165354331,time:68.088,channel:1,duration:2.8290000000000077,end:70.917},{name:"C",number:60,velocity:.5669291338582677,time:70.871,channel:1,duration:.36299999999999955,end:71.234},{name:"A#",number:58,velocity:.9606299212598425,time:71.195,channel:1,duration:2.3940000000000055,end:73.589},{name:"G",number:55,velocity:.5196850393700787,time:73.504,channel:1,duration:4.411999999999992,end:77.916},{name:"E",number:52,velocity:.4330708661417323,time:77.835,channel:1,duration:.3719999999999999,end:78.207},{name:"D",number:62,velocity:.4015748031496063,time:78.11590000009537,channel:1,duration:2.52209999990464,end:80.638}],a2t="improvisation-note-colors",s2t="0.17.0",o2t="2024-10-11T15:21:23.731Z",of={root:i2t,pastNoteCount:n2t,notes:r2t,_appId:a2t,_softwareVersion:s2t,_date:o2t};function l2t(e,t,i){const n=e.slice();return n[35]=t[i],n}function fS(e,t,i){const n=e.slice();return n[38]=t[i],n}function c2t(e,t,i){const n=e.slice();return n[38]=t[i],n}function u2t(e){let t;return{c(){t=K("option"),t.textContent=`${e[38]}`,t.__value=e[38],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function d2t(e){let t,i=Ge(["major","minor"]),n=[];for(let a=0;a<2;a+=1)n[a]=u2t(c2t(e,i,a));return{c(){for(let a=0;a<2;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<2;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function mS(e){let t,i=e[38]+"",n,a;return{c(){t=K("option"),n=se(i),t.__value=a=e[38],Vi(t,t.__value)},m(s,l){_t(s,t,l),R(t,n)},p(s,l){l[0]&4&&i!==(i=s[38]+"")&&Ue(n,i),l[0]&4&&a!==(a=s[38])&&(t.__value=a,Vi(t,t.__value))},d(s){s&&Ct(t)}}}function h2t(e){let t,i=Ge(["pentatonic","blues"].map(e[21])),n=[];for(let a=0;a<i.length;a+=1)n[a]=mS(fS(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p(a,s){if(s[0]&4){i=Ge(["pentatonic","blues"].map(a[21]));let l;for(l=0;l<i.length;l+=1){const c=fS(a,i,l);n[l]?n[l].p(c,s):(n[l]=mS(c),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=i.length}},d(a){a&&Ct(t),Oi(n,a)}}}function f2t(e){let t;return{c(){t=K("option"),t.textContent=`${e[35]}`,t.__value=e[35],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function m2t(e){let t,i=Ge(F9),n=[];for(let a=0;a<i.length;a+=1)n[a]=f2t(l2t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function p2t(e){let t,i,n,a,s,l,c;return{c(){t=K("p"),t.textContent=`1) Improvise something in the scale of C major pentatonic. Check if you
        only used this scale's notes using the colors.`,i=Y(),n=K("p"),n.textContent=`2) Improvise something in A minor pentatonic. Check if you only used
        this scale's notes using the colors and how often and when you used the
        tonic A.`,a=Y(),s=K("p"),s.textContent=`3) Improvise in A minor blues, see how often and when you used the blue
        note (D#).`,l=Y(),c=K("p"),c.textContent="4) Improvise in a scale you do not know yet."},m(d,u){_t(d,t,u),_t(d,i,u),_t(d,n,u),_t(d,a,u),_t(d,s,u),_t(d,l,u),_t(d,c,u)},p:Fe,d(d){d&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c))}}}function g2t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt=[...u0(e[12],[e[1]])].join(", ")+"",Mt,xt,dt,Ot,At,jt,bt=[...u0(e[11],e[12])].join(", ")+"",kt,Dt,Xt,ae,Jt=[...u0(F9,e[11])].join(", ")+"",le,Ve,ai,Ye,ci,ei,Ze,be,ve,re,Et,vt,Ht,St,It,zt,ht,X,tt,Tt,Qt,Zt,ce,ye,$e;function ge(wi){e[20](wi)}let He={label:"scale type 1",callback:e[16],style:"background-color: "+yA+";",$$slots:{default:[d2t]},$$scope:{ctx:e}};e[2]!==void 0&&(He.value=e[2]),u=new qr({props:He}),me.push(()=>Te(u,"value",ge));function _e(wi){e[22](wi)}let Pi={label:"scale type 2",callback:e[16],style:"background-color: "+vA+";",$$slots:{default:[h2t]},$$scope:{ctx:e}};e[3]!==void 0&&(Pi.value=e[3]),m=new qr({props:Pi}),me.push(()=>Te(m,"value",_e));function Le(wi){e[23](wi)}let ke={label:"root note",callback:e[16],style:"background-color: "+AA+";",$$slots:{default:[m2t]},$$scope:{ctx:e}};e[1]!==void 0&&(ke.value=e[1]),A=new qr({props:ke}),me.push(()=>Te(A,"value",Le));function Oe(wi){e[24](wi)}let Ii={callback:e[16]};e[6]!==void 0&&(Ii.value=e[6]),x=new Kc({props:Ii}),me.push(()=>Te(x,"value",Oe));function wn(wi){e[25](wi)}let ze={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio",label:"max. note distance",callback:e[16],min:.05,max:2,step:.05};e[5]!==void 0&&(ze.value=e[5]),O=new ia({props:ze}),me.push(()=>Te(O,"value",wn));function Zi(wi){e[26](wi)}let Re={label:"show duration",title:"Show duration in the bar's height?",callback:e[16]};e[7]!==void 0&&(Re.checked=e[7]),D=new Tr({props:Re}),me.push(()=>Te(D,"checked",Zi));function bn(wi){e[27](wi)}let Ir={label:"show loudness",title:"Show loudness in the bar's opacity?",callback:e[16]};e[8]!==void 0&&(Ir.checked=e[8]),N=new Tr({props:Ir}),me.push(()=>Te(N,"checked",bn));function dr(wi){e[30](wi)}let si={saveToStorage:e[19],callback:e[29]};e[9]!==void 0&&(si.notes=e[9]),ei=new aa({props:si}),me.push(()=>Te(ei,"notes",dr)),Et=new Ma({props:{appId:e[0].id,loadData:e[18]}});function Ki(wi){e[32](wi)}let jn={callback:e[16]};return e[9]!==void 0&&(jn.notes=e[9]),Ht=new Ps({props:jn}),me.push(()=>Te(Ht,"notes",Ki)),zt=new ua({props:{loadData:e[18],getExportData:e[17],appId:e[0].id}}),X=new Kr({props:{$$slots:{default:[p2t]},$$scope:{ctx:e}}}),Tt=new $r({props:{noteOn:e[13],noteOff:e[14],controlChange:e[15],pcKeyAllowed:!0}}),Zt=new Xr({props:{appId:e[0].id}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing improvising in a scale that is a sub-set of
      another scale. Notes that you play are shown as bars. The color shows
      which scale subset a note belongs to. For example, when improvising in C
      major pentatonic, the note C would be the darkest, followed by the notes
      of the pentatonic in a brighter color, the rest of the major scale even
      brighter, and all remaining notes of the chromatic scale in gray. The
      bars' height encodes the notes' durations.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),E=K("div"),Ut(x.$$.fragment),C=Y(),Ut(O.$$.fragment),T=Y(),Ut(D.$$.fragment),L=Y(),Ut(N.$$.fragment),$=Y(),F=K("div"),j=K("div"),z=K("div"),Q=K("div"),V=K("div"),q=se("root: "),J=se(e[1]),W=Y(),et=se(e[3]),mt=se(":"),ot=K("br"),pt=Y(),Mt=se(wt),xt=Y(),dt=se(e[2]),Ot=se(":"),At=K("br"),jt=Y(),kt=se(bt),Dt=se(`
        chromatic:`),Xt=K("br"),ae=Y(),le=se(Jt),Ve=Y(),ai=K("div"),Ye=Y(),ci=K("div"),Ut(ei.$$.fragment),be=Y(),ve=K("button"),ve.textContent="example",re=Y(),Ut(Et.$$.fragment),vt=Y(),Ut(Ht.$$.fragment),It=Y(),Ut(zt.$$.fragment),ht=Y(),Ut(X.$$.fragment),tt=Y(),Ut(Tt.$$.fragment),Qt=Y(),Ut(Zt.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(E,"class","control"),un(V,"background",AA),un(V,"color","white"),ut(V,"class","svelte-1ph1sn"),un(Q,"background",vA),un(Q,"color","white"),ut(Q,"class","svelte-1ph1sn"),un(z,"background",yA),ut(z,"class","svelte-1ph1sn"),un(j,"background",VF),un(j,"width","250px"),ut(j,"class","svelte-1ph1sn"),ut(F,"class","legend svelte-1ph1sn"),ut(ai,"class","visualization"),ut(ci,"class","control"),ut(t,"class","app")},m(wi,On){_t(wi,t,On),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(t,v),R(t,E),Nt(x,E,null),R(E,C),Nt(O,E,null),R(E,T),Nt(D,E,null),R(E,L),Nt(N,E,null),R(t,$),R(t,F),R(F,j),R(j,z),R(z,Q),R(Q,V),R(V,q),R(V,J),R(Q,W),R(Q,et),R(Q,mt),R(Q,ot),R(Q,pt),R(Q,Mt),R(z,xt),R(z,dt),R(z,Ot),R(z,At),R(z,jt),R(z,kt),R(j,Dt),R(j,Xt),R(j,ae),R(j,le),R(t,Ve),R(t,ai),e[28](ai),R(t,Ye),R(t,ci),Nt(ei,ci,null),R(ci,be),R(ci,ve),R(ci,re),Nt(Et,ci,null),R(ci,vt),Nt(Ht,ci,null),R(ci,It),Nt(zt,ci,null),R(t,ht),Nt(X,t,null),R(t,tt),Nt(Tt,t,null),R(t,Qt),Nt(Zt,t,null),ce=!0,ye||($e=Qe(ve,"click",e[31]),ye=!0)},p(wi,On){(!ce||On[0]&1)&&n!==(n=wi[0].title+"")&&Ue(a,n);const Ha={};On[1]&4096&&(Ha.$$scope={dirty:On,ctx:wi}),!h&&On[0]&4&&(h=!0,Ha.value=wi[2],Se(()=>h=!1)),u.$set(Ha);const Oa={};On[0]&4|On[1]&4096&&(Oa.$$scope={dirty:On,ctx:wi}),!M&&On[0]&8&&(M=!0,Oa.value=wi[3],Se(()=>M=!1)),m.$set(Oa);const Kt={};On[1]&4096&&(Kt.$$scope={dirty:On,ctx:wi}),!b&&On[0]&2&&(b=!0,Kt.value=wi[1],Se(()=>b=!1)),A.$set(Kt);const ue={};!_&&On[0]&64&&(_=!0,ue.value=wi[6],Se(()=>_=!1)),x.$set(ue);const Ee={};!I&&On[0]&32&&(I=!0,Ee.value=wi[5],Se(()=>I=!1)),O.$set(Ee);const qe={};!P&&On[0]&128&&(P=!0,qe.checked=wi[7],Se(()=>P=!1)),D.$set(qe);const Ne={};!U&&On[0]&256&&(U=!0,Ne.checked=wi[8],Se(()=>U=!1)),N.$set(Ne),(!ce||On[0]&2)&&Ue(J,wi[1]),(!ce||On[0]&8)&&Ue(et,wi[3]),(!ce||On[0]&4098)&&wt!==(wt=[...u0(wi[12],[wi[1]])].join(", ")+"")&&Ue(Mt,wt),(!ce||On[0]&4)&&Ue(dt,wi[2]),(!ce||On[0]&6144)&&bt!==(bt=[...u0(wi[11],wi[12])].join(", ")+"")&&Ue(kt,bt),(!ce||On[0]&2048)&&Jt!==(Jt=[...u0(F9,wi[11])].join(", ")+"")&&Ue(le,Jt);const oi={};On[0]&1024&&(oi.callback=wi[29]),!Ze&&On[0]&512&&(Ze=!0,oi.notes=wi[9],Se(()=>Ze=!1)),ei.$set(oi);const yi={};On[0]&1&&(yi.appId=wi[0].id),Et.$set(yi);const ji={};!St&&On[0]&512&&(St=!0,ji.notes=wi[9],Se(()=>St=!1)),Ht.$set(ji);const Ui={};On[0]&1&&(Ui.appId=wi[0].id),zt.$set(Ui);const ii={};On[1]&4096&&(ii.$$scope={dirty:On,ctx:wi}),X.$set(ii);const ln={};On[0]&1&&(ln.appId=wi[0].id),Zt.$set(ln)},i(wi){ce||(Bt(u.$$.fragment,wi),Bt(m.$$.fragment,wi),Bt(A.$$.fragment,wi),Bt(x.$$.fragment,wi),Bt(O.$$.fragment,wi),Bt(D.$$.fragment,wi),Bt(N.$$.fragment,wi),Bt(ei.$$.fragment,wi),Bt(Et.$$.fragment,wi),Bt(Ht.$$.fragment,wi),Bt(zt.$$.fragment,wi),Bt(X.$$.fragment,wi),Bt(Tt.$$.fragment,wi),Bt(Zt.$$.fragment,wi),ce=!0)},o(wi){Rt(u.$$.fragment,wi),Rt(m.$$.fragment,wi),Rt(A.$$.fragment,wi),Rt(x.$$.fragment,wi),Rt(O.$$.fragment,wi),Rt(D.$$.fragment,wi),Rt(N.$$.fragment,wi),Rt(ei.$$.fragment,wi),Rt(Et.$$.fragment,wi),Rt(Ht.$$.fragment,wi),Rt(zt.$$.fragment,wi),Rt(X.$$.fragment,wi),Rt(Tt.$$.fragment,wi),Rt(Zt.$$.fragment,wi),ce=!1},d(wi){wi&&Ct(t),Ft(u),Ft(m),Ft(A),Ft(x),Ft(O),Ft(D),Ft(N),e[28](null),Ft(ei),Ft(Et),Ft(Ht),Ft(zt),Ft(X),Ft(Tt),Ft(Zt),ye=!1,$e()}}}function M2t(e){let t,i;return t=new da({props:{loadData:e[18],$$slots:{default:[g2t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&8191|a[1]&4096&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let A2t=250;const AA="#1B5E20",yA="#D4E157",vA="#689F38",VF="lightgray";function y2t(e,t,i){let n,a,s,{appInfo:l}=t,c;const d=F9;let u="C",h="major",g=.1,m=50,M=!1,p=!1,A,b=[],v=new Map;const E=W=>{b.length===0&&(A=W.timestamp);const et=(W.timestamp-A)/1e3,mt={name:W.note.name+(W.note.accidental??""),number:W.note.number,velocity:W.velocity,time:et,channel:W.message.channel,duration:0};if(v.has(W.note.number)){const ot=v.get(W.note.number);ot.end===void 0&&(ot.end=et)}i(9,b=[...b,mt]),v.set(W.note.number,mt),C()},x=W=>{if(v.has(W.note.number)){const et=v.get(W.note.number),mt=(W.timestamp-A)/1e3;et.end=mt,et.duration=et.end-et.time}C()},_=W=>{const et=qa(W.rawValue*2,20,250);i(6,m=et),C()},C=()=>{const W=window.innerWidth<1200?900:window.innerWidth-200,et=d.map(Ot=>Ot===u?AA:s.has(Ot)?vA:a.has(Ot)?yA:VF),mt=b.slice(-m),ot=1,pt=Sn({width:W,height:A2t,marginLeft:50,marginBottom:50,padding:0,x:{axis:!1},y:{axis:M,domain:[0,ot],label:"duration in seconds",labelAnchor:"center"},color:{domain:Ci(12),range:et},opacity:{domain:[0,127],range:[.3,1]},marks:[zr([0],{stroke:"#ddd"}),Md(mt,{x:(Ot,At)=>At,y:Ot=>M&&Ot.duration>0?Ot.duration:ot,fill:Ot=>Ot.number%12,stroke:Ot=>Ot.number%12,opacity:p?Ot=>Ot.velocity:1,fillOpacity:Ot=>M&&Ot.duration===0?0:1,inset:1.5,rx:4}),Qr(mt,{x:(Ot,At)=>At,y:0,text:Ot=>Ot.name.split("").join(`
`),fontSize:12,dy:16})]});i(4,c.textContent="",c),c.appendChild(pt);const wt=_f(b,g).slice(-m).map(Ot=>Ot.sort((At,jt)=>At.number-jt.number)),Mt=wt.map(Ot=>fm(Ot.map(At=>At.name))),xt=wt.flatMap((Ot,At)=>Ot.map((jt,bt)=>({...jt,chordIndex:At,noteIndex:bt}))),dt=Sn({width:W,height:300,marginLeft:30,marginRight:50,marginBottom:120,padding:0,x:{axis:!1},y:{ticks:[],label:"chord notes sorted by pitch",labelAnchor:"center"},color:{domain:Ci(12),range:et},marks:[zr([0],{stroke:"#ddd"}),Bo(xt,{y1:Ot=>Ot.noteIndex,y2:Ot=>Ot.noteIndex+1,x:"chordIndex",fill:Ot=>Ot.number%12,stroke:Ot=>Ot.number%12,offset:"normalize",rx:4,inset:1.5}),Qr(xt,{x:"chordIndex",y:"noteIndex",text:Ot=>Ot.name.split("").join(`
`),fontSize:10,fill:"black",stroke:"#eee",strokeWidth:2,dy:-12}),Qr(Mt,{x:(Ot,At)=>At,y:0,text:Ot=>Ot.join("   "),fontSize:10,dy:8,rotate:45,textAnchor:"start"})]});c.appendChild(dt)};sr(C);const O=()=>({root:u,scaleType1:h,scaleType2:n,barCount:m,showDuration:M,showLoudness:p,notes:b}),I=W=>{T(),i(1,u=W.root),i(2,h=W.scaleType1),i(3,n=W.scaleType2),i(6,m=W.barCount??50),i(7,M=W.showDuration??!1),i(8,p=W.showLoudness??!1),i(9,b=W.notes),C()},T=()=>{b.length>0&&JSON.stringify(b)!==JSON.stringify(of.notes)&&ga(l.id,O())};or(T);function D(W){h=W,i(2,h)}const P=W=>`${h} ${W}`;function L(W){n=W,i(3,n),i(2,h)}function N(W){u=W,i(1,u)}function U(W){m=W,i(6,m)}function $(W){g=W,i(5,g)}function F(W){M=W,i(7,M)}function j(W){p=W,i(8,p)}function z(W){me[W?"unshift":"push"](()=>{c=W,i(4,c)})}const Q=()=>{i(10,v=new Map),C()};function V(W){b=W,i(9,b)}const q=()=>I(of);function J(W){b=W,i(9,b)}return e.$$set=W=>{"appInfo"in W&&i(0,l=W.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&4&&i(3,n=`${h} pentatonic`),e.$$.dirty[0]&6&&i(11,a=new Set(q9(`${u} ${h}`).notes.map(W=>d[Ro.get(W)]))),e.$$.dirty[0]&10&&i(12,s=new Set(q9(`${u} ${n}`).notes.map(W=>d[Ro.get(W)])))},[l,u,h,n,c,g,m,M,p,b,v,a,s,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J]}class v2t extends qi{constructor(t){super(),Wi(this,t,y2t,M2t,Ji,{appInfo:0},null,[-1,-1])}}const b2t="C",C2t="major pentatonic",_2t=!0,E2t=!0,w2t=[{number:60,velocity:28,time:368361.90000009537,channel:1},{number:67,velocity:22,time:369318.90000009537,channel:1},{number:69,velocity:23,time:370665.90000009537,channel:1},{number:64,velocity:32,time:372451.90000009537,channel:1},{number:62,velocity:40,time:372714.90000009537,channel:1},{number:60,velocity:53,time:374098,channel:1},{number:57,velocity:36,time:375437.90000009537,channel:1},{number:55,velocity:32,time:375751.90000009537,channel:1},{number:48,velocity:33,time:376917.90000009537,channel:1},{number:60,velocity:30,time:377811.90000009537,channel:1},{number:65,velocity:45,time:380359,channel:1},{number:64,velocity:85,time:380491.90000009537,channel:1},{number:65,velocity:55,time:380696,channel:1},{number:64,velocity:62,time:380868.90000009537,channel:1},{number:65,velocity:75,time:381073.90000009537,channel:1},{number:66,velocity:22,time:382357.90000009537,channel:1},{number:62,velocity:35,time:385011.90000009537,channel:1},{number:60,velocity:43,time:385457.90000009537,channel:1},{number:52,velocity:36,time:387174.90000009537,channel:1},{number:55,velocity:68,time:388009.90000009537,channel:1},{number:67,velocity:37,time:389847.90000009537,channel:1},{number:52,velocity:38,time:392573.90000009537,channel:1},{number:48,velocity:55,time:393137.90000009537,channel:1},{number:49,velocity:62,time:395960.90000009537,channel:1},{number:50,velocity:88,time:396157.90000009537,channel:1},{number:59,velocity:61,time:399249.90000009537,channel:1},{number:60,velocity:100,time:399445.90000009537,channel:1},{number:72,velocity:29,time:404650,channel:1},{number:74,velocity:67,time:407511.90000009537,channel:1},{number:81,velocity:48,time:408827.90000009537,channel:1},{number:79,velocity:70,time:410352.90000009537,channel:1},{number:76,velocity:89,time:411115,channel:1},{number:72,velocity:65,time:411454.90000009537,channel:1},{number:67,velocity:62,time:412677.90000009537,channel:1},{number:71,velocity:65,time:416872.90000009537,channel:1},{number:76,velocity:50,time:418128,channel:1},{number:78,velocity:44,time:419986,channel:1},{number:75,velocity:66,time:421073.90000009537,channel:1},{number:73,velocity:94,time:421417,channel:1},{number:72,velocity:55,time:421892.90000009537,channel:1}],O2t="improvisation-scale-degrees",x2t="2024-09-04T12:13:35.595Z",pS={root:b2t,scale:C2t,useColors:_2t,showOutsideScale:E2t,notes:w2t,_appId:O2t,_date:x2t};function S2t(e){let t,i,n;return{c(){t=K("p"),t.textContent="1) Improvise in A minor pentatonic.",i=Y(),n=K("p"),n.textContent="2) Improvise in a scale you did not know before."},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function T2t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et;function mt(jt){e[12](jt)}function ot(jt){e[13](jt)}let pt={callback:e[8]};e[2]!==void 0&&(pt.scaleRoot=e[2]),e[3]!==void 0&&(pt.scaleType=e[3]),u=new Ef({props:pt}),me.push(()=>Te(u,"scaleRoot",mt)),me.push(()=>Te(u,"scaleType",ot));function wt(jt){e[14](jt)}let Mt={label:"colors",title:"Use colors for root, in-scale, outside-scale",callback:e[8]};e[4]!==void 0&&(Mt.checked=e[4]),p=new Tr({props:Mt}),me.push(()=>Te(p,"checked",wt));function xt(jt){e[15](jt)}let dt={label:"non-scale notes",title:"Show notes outside the scale",callback:e[8]};e[5]!==void 0&&(dt.checked=e[5]),v=new Tr({props:dt}),me.push(()=>Te(v,"checked",xt));function Ot(jt){e[17](jt)}let At={saveToStorage:e[11],callback:e[8]};return e[6]!==void 0&&(At.notes=e[6]),I=new aa({props:At}),me.push(()=>Te(I,"notes",Ot)),N=new Ma({props:{appId:e[0].id,loadData:e[10]}}),$=new ua({props:{loadData:e[10],getExportData:e[9],appId:e[0].id}}),j=new Kr({props:{$$slots:{default:[S2t]},$$scope:{ctx:e}}}),Q=new Xr({props:{appId:e[0].id}}),q=new $r({props:{noteOn:e[7],pcKeyAllowed:!0}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing how to use the different degrees of a scale. The
      bar chart below shows how often you played each scale degree.`,c=Y(),d=K("div"),Ut(u.$$.fragment),m=Y(),M=K("div"),Ut(p.$$.fragment),b=Y(),Ut(v.$$.fragment),x=Y(),_=K("div"),C=Y(),O=K("div"),Ut(I.$$.fragment),D=Y(),P=K("button"),P.textContent="example",L=Y(),Ut(N.$$.fragment),U=Y(),Ut($.$$.fragment),F=Y(),Ut(j.$$.fragment),z=Y(),Ut(Q.$$.fragment),V=Y(),Ut(q.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(M,"class","control"),ut(_,"class","visualization"),ut(O,"class","control"),ut(t,"class","app")},m(jt,bt){_t(jt,t,bt),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(t,m),R(t,M),Nt(p,M,null),R(M,b),Nt(v,M,null),R(t,x),R(t,_),e[16](_),R(t,C),R(t,O),Nt(I,O,null),R(O,D),R(O,P),R(O,L),Nt(N,O,null),R(O,U),Nt($,O,null),R(t,F),Nt(j,t,null),R(t,z),Nt(Q,t,null),R(t,V),Nt(q,t,null),J=!0,W||(et=Qe(P,"click",e[18]),W=!0)},p(jt,bt){(!J||bt&1)&&n!==(n=jt[0].title+"")&&Ue(a,n);const kt={};!h&&bt&4&&(h=!0,kt.scaleRoot=jt[2],Se(()=>h=!1)),!g&&bt&8&&(g=!0,kt.scaleType=jt[3],Se(()=>g=!1)),u.$set(kt);const Dt={};!A&&bt&16&&(A=!0,Dt.checked=jt[4],Se(()=>A=!1)),p.$set(Dt);const Xt={};!E&&bt&32&&(E=!0,Xt.checked=jt[5],Se(()=>E=!1)),v.$set(Xt);const ae={};!T&&bt&64&&(T=!0,ae.notes=jt[6],Se(()=>T=!1)),I.$set(ae);const Jt={};bt&1&&(Jt.appId=jt[0].id),N.$set(Jt);const le={};bt&1&&(le.appId=jt[0].id),$.$set(le);const Ve={};bt&2097152&&(Ve.$$scope={dirty:bt,ctx:jt}),j.$set(Ve);const ai={};bt&1&&(ai.appId=jt[0].id),Q.$set(ai)},i(jt){J||(Bt(u.$$.fragment,jt),Bt(p.$$.fragment,jt),Bt(v.$$.fragment,jt),Bt(I.$$.fragment,jt),Bt(N.$$.fragment,jt),Bt($.$$.fragment,jt),Bt(j.$$.fragment,jt),Bt(Q.$$.fragment,jt),Bt(q.$$.fragment,jt),J=!0)},o(jt){Rt(u.$$.fragment,jt),Rt(p.$$.fragment,jt),Rt(v.$$.fragment,jt),Rt(I.$$.fragment,jt),Rt(N.$$.fragment,jt),Rt($.$$.fragment,jt),Rt(j.$$.fragment,jt),Rt(Q.$$.fragment,jt),Rt(q.$$.fragment,jt),J=!1},d(jt){jt&&Ct(t),Ft(u),Ft(p),Ft(v),e[16](null),Ft(I),Ft(N),Ft($),Ft(j),Ft(Q),Ft(q),W=!1,et()}}}function I2t(e){let t,i;return t=new da({props:{loadData:e[10],$$slots:{default:[T2t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&2097279&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let B2t=900,R2t=300;const D2t="#1B5E20",P2t="#689F38",L2t="lightgray";function k2t(e,t,i){let{appInfo:n}=t,a,s="C",l="major pentatonic",c=!0,d=!0,u,h=[];const g=dy,m=T=>{h.length===0&&(u=T.timestamp);const D=(T.timestamp-u)/1e3,P={number:T.note.number,velocity:T.rawVelocity,time:D};i(6,h=[...h,P]),M()},M=()=>{if(h.length===0)return;const T=g.indexOf(s),D=q9(`${s} ${l}`),P=D.notes.map((j,z)=>{const Q=Ro.get(j);let V=Q-T;return V=V>=0?V:V+12,{name:j,chroma:Q,interval:D.intervals[z],degree:z,offset:V}}),L=new Set(P.map(j=>j.offset)),U=h.map(j=>j.number%12).map(j=>{const z=j-T;return z>=0?z:z+12}),$=Sl(U,j=>j).map(([j,z])=>({value:j,count:z.length})),F=Sn({width:B2t,height:R2t,marginLeft:70,marginRight:10,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',color:{legend:c,domain:["root","scale","outside scale"],range:[D2t,P2t,L2t],marginLeft:100},y:{tickFormat:j=>g[(j+T)%12],domain:d?Ci(0,12,1):[...L],reverse:!0,label:"notes, increasing from tonic 🡺"},marks:[Nu($,{x:"count",y:"value",fill:j=>c?j.value===0?"root":L.has(j.value)?"scale":"outside scale":"#ddd",dx:.5,rx:4})]});i(1,a.textContent="",a),a.appendChild(F)};sr(M);const p=()=>({root:s,scale:l,useColors:c,showOutsideScale:d,notes:h}),A=T=>{b(),i(2,s=T.root),i(3,l=T.scale),i(4,c=T.useColors),i(5,d=T.showOutsideScale),i(6,h=T.notes),M()},b=()=>{h.length>0&&JSON.stringify(h)!==JSON.stringify(pS.notes)&&ga(n.id,p())};or(b);function v(T){s=T,i(2,s)}function E(T){l=T,i(3,l)}function x(T){c=T,i(4,c)}function _(T){d=T,i(5,d)}function C(T){me[T?"unshift":"push"](()=>{a=T,i(1,a)})}function O(T){h=T,i(6,h)}const I=()=>A(pS);return e.$$set=T=>{"appInfo"in T&&i(0,n=T.appInfo)},[n,a,s,l,c,d,h,m,M,p,A,b,v,E,x,_,C,O,I]}class N2t extends qi{constructor(t){super(),Wi(this,t,k2t,I2t,Ji,{appInfo:0})}}const F2t="A",U2t="minor pentatonic",$2t=!0,G2t=!0,V2t=120,H2t=[{number:57,velocity:120,time:0},{number:60,velocity:79,time:9.863799999952317},{number:62,velocity:102,time:10.05589999985695},{number:64,velocity:74,time:11.08189999985695},{number:60,velocity:124,time:12.088899999856949},{number:59,velocity:79,time:13.06189999985695},{number:57,velocity:105,time:13.52089999985695},{number:55,velocity:101,time:13.765899999856948},{number:53,velocity:75,time:14.003899999856948},{number:62,velocity:97,time:16.09589999985695},{number:53,velocity:107,time:16.206899999856947},{number:62,velocity:106,time:16.345799999952316},{number:53,velocity:110,time:16.427899999856947},{number:62,velocity:105,time:16.62489999985695},{number:64,velocity:74,time:17.84189999985695},{number:65,velocity:43,time:17.86289999985695},{number:65,velocity:108,time:18.102899999856948},{number:62,velocity:96,time:19.53789999985695},{number:60,velocity:90,time:19.53989999985695},{number:59,velocity:83,time:20.06089999985695},{number:62,velocity:100,time:20.22589999985695},{number:59,velocity:68,time:20.354799999952316},{number:62,velocity:98,time:20.471899999856948},{number:61,velocity:123,time:21.82789999985695},{number:69,velocity:70,time:21.99089999985695},{number:67,velocity:55,time:22.000899999856948},{number:61,velocity:127,time:23.01089999985695},{number:61,velocity:126,time:23.564899999856948},{number:65,velocity:72,time:24.07289999985695},{number:67,velocity:59,time:24.08289999985695},{number:65,velocity:101,time:24.968899999856948},{number:65,velocity:93,time:25.517899999856947},{number:64,velocity:72,time:25.69789999985695},{number:62,velocity:82,time:26.08589999985695},{number:60,velocity:109,time:27.881799999952317},{number:57,velocity:109,time:28.122899999856948},{number:50,velocity:70,time:30.046899999856947},{number:52,velocity:67,time:31.81989999985695},{number:53,velocity:87,time:32.02489999985695},{number:55,velocity:98,time:34.376899999856946},{number:55,velocity:103,time:35.25089999985695},{number:55,velocity:111,time:35.81389999985695},{number:60,velocity:112,time:36.02679999995232},{number:59,velocity:107,time:36.02889999985695},{number:62,velocity:75,time:37.59589999985695},{number:60,velocity:93,time:37.84589999985695},{number:62,velocity:96,time:38.00889999985695},{number:60,velocity:109,time:38.120899999856945},{number:62,velocity:94,time:38.283799999952315},{number:60,velocity:108,time:38.43589999985695},{number:64,velocity:70,time:39.56089999985695},{number:57,velocity:102,time:39.80889999985695},{number:65,velocity:101,time:40.09789999985695},{number:64,velocity:90,time:41.55389999985695},{number:62,velocity:109,time:42.04089999985695},{number:57,velocity:71,time:43.81389999985695},{number:55,velocity:52,time:43.96689999985695},{number:55,velocity:93,time:44.565899999856946},{number:57,velocity:88,time:45.38189999985695},{number:69,velocity:82,time:45.86179999995232},{number:57,velocity:89,time:46.02079999995232},{number:69,velocity:102,time:46.12189999985695},{number:57,velocity:97,time:46.22489999985695},{number:65,velocity:117,time:46.72389999985695},{number:59,velocity:108,time:47.501899999856946},{number:64,velocity:70,time:47.884799999952314},{number:57,velocity:98,time:48.072799999952316},{number:69,velocity:107,time:48.55189999985695},{number:57,velocity:88,time:48.83189999985695},{number:69,velocity:88,time:49.03289999985695},{number:64,velocity:60,time:49.54689999985695},{number:62,velocity:92,time:50.04689999985695},{number:59,velocity:55,time:50.52089999985695},{number:62,velocity:68,time:50.78789999985695},{number:59,velocity:62,time:50.975799999952315},{number:62,velocity:97,time:51.30189999985695},{number:57,velocity:85,time:51.57589999985695},{number:64,velocity:80,time:51.84589999985695},{number:55,velocity:87,time:52.01189999985695},{number:64,velocity:98,time:52.64089999985695},{number:57,velocity:96,time:53.06489999985695},{number:65,velocity:109,time:53.32779999995232},{number:59,velocity:74,time:53.54089999985695},{number:62,velocity:65,time:53.78889999985695},{number:53,velocity:98,time:54.06489999985695}],Q2t="improvisation-scale-degrees-bar",z2t="2024-09-04T12:28:19.393Z",gS={root:F2t,scale:U2t,useColors:$2t,showOutsideScale:G2t,tempo:V2t,notes:H2t,_appId:Q2t,_date:z2t};function j2t(e){let t,i,n,a,s;return{c(){t=K("p"),t.textContent="1) Improvise in A minor pentatonic.",i=Y(),n=K("p"),n.textContent="2) Improvise in a scale you did not know before.",a=Y(),s=K("p"),s.textContent="3) Try to change the key, for example in every fourth bar."},m(l,c){_t(l,t,c),_t(l,i,c),_t(l,n,c),_t(l,a,c),_t(l,s,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s))}}}function J2t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt;function xt(le){e[13](le)}function dt(le){e[14](le)}let Ot={callback:e[9]};e[2]!==void 0&&(Ot.scaleRoot=e[2]),e[3]!==void 0&&(Ot.scaleType=e[3]),u=new Ef({props:Ot}),me.push(()=>Te(u,"scaleRoot",xt)),me.push(()=>Te(u,"scaleType",dt));function At(le){e[15](le)}let jt={callback:e[9]};e[6]!==void 0&&(jt.value=e[6]),p=new ts({props:jt}),me.push(()=>Te(p,"value",At));function bt(le){e[16](le)}let kt={label:"colors",title:"Use colors for root, in-scale, outside-scale",callback:e[9]};e[4]!==void 0&&(kt.checked=e[4]),v=new Tr({props:kt}),me.push(()=>Te(v,"checked",bt));function Dt(le){e[17](le)}let Xt={label:"non-scale notes",title:"Show notes outside the scale",callback:e[9]};e[5]!==void 0&&(Xt.checked=e[5]),_=new Tr({props:Xt}),me.push(()=>Te(_,"checked",Dt)),P=new t0({props:{tempo:e[6],accent:4}});function ae(le){e[19](le)}let Jt={saveToStorage:e[12],callback:e[9]};return e[7]!==void 0&&(Jt.notes=e[7]),N=new aa({props:Jt}),me.push(()=>Te(N,"notes",ae)),z=new Ma({props:{appId:e[0].id,loadData:e[11]}}),V=new ua({props:{loadData:e[11],getExportData:e[10],appId:e[0].id}}),J=new Kr({props:{$$slots:{default:[j2t]},$$scope:{ctx:e}}}),et=new $r({props:{noteOn:e[8],pcKeyAllowed:!0}}),ot=new Xr({props:{appId:e[0].id}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing how to use the different degrees of a scale. The
      bar chart below shows how often you played each scale degree.`,c=Y(),d=K("div"),Ut(u.$$.fragment),m=Y(),M=K("div"),Ut(p.$$.fragment),b=Y(),Ut(v.$$.fragment),x=Y(),Ut(_.$$.fragment),O=Y(),I=K("div"),T=Y(),D=K("div"),Ut(P.$$.fragment),L=Y(),Ut(N.$$.fragment),$=Y(),F=K("button"),F.textContent="example",j=Y(),Ut(z.$$.fragment),Q=Y(),Ut(V.$$.fragment),q=Y(),Ut(J.$$.fragment),W=Y(),Ut(et.$$.fragment),mt=Y(),Ut(ot.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(M,"class","control"),ut(I,"class","visualization"),ut(D,"class","control"),ut(t,"class","app")},m(le,Ve){_t(le,t,Ve),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(t,m),R(t,M),Nt(p,M,null),R(M,b),Nt(v,M,null),R(M,x),Nt(_,M,null),R(t,O),R(t,I),e[18](I),R(t,T),R(t,D),Nt(P,D,null),R(D,L),Nt(N,D,null),R(D,$),R(D,F),R(D,j),Nt(z,D,null),R(D,Q),Nt(V,D,null),R(t,q),Nt(J,t,null),R(t,W),Nt(et,t,null),R(t,mt),Nt(ot,t,null),pt=!0,wt||(Mt=Qe(F,"click",e[20]),wt=!0)},p(le,Ve){(!pt||Ve&1)&&n!==(n=le[0].title+"")&&Ue(a,n);const ai={};!h&&Ve&4&&(h=!0,ai.scaleRoot=le[2],Se(()=>h=!1)),!g&&Ve&8&&(g=!0,ai.scaleType=le[3],Se(()=>g=!1)),u.$set(ai);const Ye={};!A&&Ve&64&&(A=!0,Ye.value=le[6],Se(()=>A=!1)),p.$set(Ye);const ci={};!E&&Ve&16&&(E=!0,ci.checked=le[4],Se(()=>E=!1)),v.$set(ci);const ei={};!C&&Ve&32&&(C=!0,ei.checked=le[5],Se(()=>C=!1)),_.$set(ei);const Ze={};Ve&64&&(Ze.tempo=le[6]),P.$set(Ze);const be={};!U&&Ve&128&&(U=!0,be.notes=le[7],Se(()=>U=!1)),N.$set(be);const ve={};Ve&1&&(ve.appId=le[0].id),z.$set(ve);const re={};Ve&1&&(re.appId=le[0].id),V.$set(re);const Et={};Ve&8388608&&(Et.$$scope={dirty:Ve,ctx:le}),J.$set(Et);const vt={};Ve&1&&(vt.appId=le[0].id),ot.$set(vt)},i(le){pt||(Bt(u.$$.fragment,le),Bt(p.$$.fragment,le),Bt(v.$$.fragment,le),Bt(_.$$.fragment,le),Bt(P.$$.fragment,le),Bt(N.$$.fragment,le),Bt(z.$$.fragment,le),Bt(V.$$.fragment,le),Bt(J.$$.fragment,le),Bt(et.$$.fragment,le),Bt(ot.$$.fragment,le),pt=!0)},o(le){Rt(u.$$.fragment,le),Rt(p.$$.fragment,le),Rt(v.$$.fragment,le),Rt(_.$$.fragment,le),Rt(P.$$.fragment,le),Rt(N.$$.fragment,le),Rt(z.$$.fragment,le),Rt(V.$$.fragment,le),Rt(J.$$.fragment,le),Rt(et.$$.fragment,le),Rt(ot.$$.fragment,le),pt=!1},d(le){le&&Ct(t),Ft(u),Ft(p),Ft(v),Ft(_),e[18](null),Ft(P),Ft(N),Ft(z),Ft(V),Ft(J),Ft(et),Ft(ot),wt=!1,Mt()}}}function W2t(e){let t,i;return t=new da({props:{loadData:e[11],$$slots:{default:[J2t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&8388863&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let q2t=900,K2t=350;const X2t="#1B5E20",Y2t="#689F38",Z2t="lightgray";function tmt(e,t,i){let{appInfo:n}=t,a,s="C",l="major pentatonic",c=!0,d=!0,u=120,h,g=[];const m=F9,M=P=>{g.length===0&&(h=P.timestamp);const L=(P.timestamp-h)/1e3,N={number:P.note.number,velocity:P.rawVelocity,time:L};i(7,g=[...g,N]),p()},p=()=>{if(g.length===0)return;const P=m.indexOf(s),L=q9(`${s} ${l}`),N=L.notes.map((q,J)=>{const W=Ro.get(q);let et=W-P;return et=et>=0?et:et+12,{name:q,chroma:W,interval:L.intervals[J],degree:J,offset:et}}),U=new Set(N.map(q=>q.offset)),$=ta(u)*4,F=Sl(g,q=>Math.floor(q.time/$));let j=[];for(const[q,J]of F){const W=J.map(mt=>{const pt=mt.number%12-P;return pt>=0?pt:pt+12}),et=Sl(W,mt=>mt).map(([mt,ot])=>({value:mt,count:ot.length,barId:q}));j=j.concat(et)}const Q=Math.floor(g.at(-1).time/$)-7;j=j.filter(q=>q.barId>=Q);const V=Sn({width:q2t,height:K2t,marginLeft:50,marginRight:50,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',color:{legend:c,domain:["root","scale","outside scale"],range:[X2t,Y2t,Z2t],marginLeft:100},y:{domain:d?Ci(0,12,1):[...U],reverse:!0,label:"notes, increasing from tonic 🡺",grid:!0},fx:{label:null,axis:!1},marks:[Io({tickFormat:q=>m[(q+P)%12],anchor:"left"}),Io({anchor:"right",tickFormat:q=>m[(q+P)%12]}),k9([0],{strokeWidth:2,stroke:"darkgray"}),Nu(j,{x:"count",y:"value",fx:"barId",fill:q=>c?q.value===0?"root":U.has(q.value)?"scale":"outside scale":"#ddd",dx:.5,rx:4})]});i(1,a.textContent="",a),a.appendChild(V)};sr(p);const A=()=>({root:s,scale:l,useColors:c,showOutsideScale:d,tempo:u,notes:g}),b=P=>{v(),i(2,s=P.root),i(3,l=P.scale),i(4,c=P.useColors),i(5,d=P.showOutsideScale),i(6,u=P.tempo),i(7,g=P.notes),p()},v=()=>{g.length>0&&JSON.stringify(g)!==JSON.stringify(gS.notes)&&ga(n.id,A())};or(v);function E(P){s=P,i(2,s)}function x(P){l=P,i(3,l)}function _(P){u=P,i(6,u)}function C(P){c=P,i(4,c)}function O(P){d=P,i(5,d)}function I(P){me[P?"unshift":"push"](()=>{a=P,i(1,a)})}function T(P){g=P,i(7,g)}const D=()=>b(gS);return e.$$set=P=>{"appInfo"in P&&i(0,n=P.appInfo)},[n,a,s,l,c,d,u,g,M,p,A,b,v,E,x,_,C,O,I,T,D]}class emt extends qi{constructor(t){super(),Wi(this,t,tmt,W2t,Ji,{appInfo:0})}}const imt=50,nmt="D",rmt="minor",amt=[{name:"D",number:62,velocity:.5354330708661418,time:0,channel:1,duration:1.629,end:1.629},{name:"F",number:65,velocity:.4881889763779528,time:1.55,channel:1,duration:2.9720000000000004,end:4.522},{name:"E",number:64,velocity:.4251968503937008,time:4.48,channel:1,duration:.4289999999999994,end:4.909},{name:"C",number:60,velocity:.5354330708661418,time:4.755,channel:1,duration:2.3950000000000005,end:7.15},{name:"A",number:69,velocity:.5984251968503937,time:7.105,channel:1,duration:3.530999999999999,end:10.636},{name:"G",number:67,velocity:.4881889763779528,time:10.668,channel:1,duration:.3490000000000002,end:11.017},{name:"A",number:69,velocity:.5433070866141733,time:10.95,channel:1,duration:2.373900000095368,end:13.323900000095367},{name:"G#",number:68,velocity:.6299212598425197,time:13.292,channel:1,duration:.33800000000000097,end:13.63},{name:"F",number:65,velocity:.7322834645669292,time:13.572,channel:1,duration:2.817,end:16.389},{name:"E",number:64,velocity:.31496062992125984,time:16.355,channel:1,duration:.5560000000000009,end:16.911},{name:"D",number:62,velocity:.6850393700787402,time:16.859,channel:1,duration:3.4619999999999997,end:20.321},{name:"D",number:62,velocity:.3779527559055118,time:21.237,channel:1,duration:2.759900000095371,end:23.99690000009537},{name:"A",number:57,velocity:.5196850393700787,time:24.006,channel:1,duration:.13700000000000045,end:24.143},{name:"D",number:62,velocity:.49606299212598426,time:24.139,channel:1,duration:.14700000000000202,end:24.286},{name:"A",number:57,velocity:.7007874015748031,time:24.241,channel:1,duration:2.2029999999999994,end:26.444},{name:"C#",number:61,velocity:.4015748031496063,time:26.479,channel:1,duration:.277000000000001,end:26.756},{name:"C",number:60,velocity:.8031496062992126,time:26.706,channel:1,duration:3.649000000000001,end:30.355},{name:"G",number:55,velocity:.7165354330708661,time:30.122900000095367,channel:1,duration:.5470999999046349,end:30.67},{name:"A",number:69,velocity:.30708661417322836,time:30.395,channel:1,duration:3.032,end:33.427},{name:"F",number:65,velocity:.6377952755905512,time:33.351,channel:1,duration:.37599999999999767,end:33.727},{name:"E",number:64,velocity:.8031496062992126,time:33.663,channel:1,duration:3.436,end:37.099},{name:"B",number:71,velocity:.3464566929133858,time:37.075,channel:1,duration:.26200000000000045,end:37.337},{name:"A",number:69,velocity:.4094488188976378,time:37.253,channel:1,duration:.07590000009536624,end:37.328900000095366},{name:"G",number:67,velocity:.8740157480314961,time:37.305,channel:1,duration:.6509000000953691,end:37.95590000009537},{name:"D",number:62,velocity:.49606299212598426,time:37.883,channel:1,duration:4.606999999999999,end:42.49},{name:"F#",number:66,velocity:.9763779527559056,time:42.417,channel:1,duration:1.0379999999999967,end:43.455},{name:"F",number:65,velocity:.47244094488188976,time:43.424,channel:1,duration:2.2310000000000016,end:45.655},{name:"D",number:62,velocity:.6062992125984252,time:45.6,channel:1,duration:3.9039999999999964,end:49.504},{name:"A",number:57,velocity:.7559055118110236,time:49.5,channel:1,duration:.11399999999999721,end:49.614},{name:"D",number:62,velocity:.5354330708661418,time:49.644,channel:1,duration:.142000000000003,end:49.786},{name:"A",number:57,velocity:.7637795275590551,time:49.741,channel:1,duration:4.308,end:54.049},{name:"G",number:55,velocity:.5511811023622047,time:54.021900000095364,channel:1,duration:.2460999999046365,end:54.268},{name:"A#",number:58,velocity:.7480314960629921,time:54.214,channel:1,duration:3.301000000000002,end:57.515},{name:"C",number:60,velocity:.5748031496062992,time:57.491,channel:1,duration:.347999999999999,end:57.839},{name:"D",number:62,velocity:.6141732283464567,time:57.768,channel:1,duration:2.8569999999999993,end:60.625},{name:"D",number:50,velocity:.7716535433070866,time:60.559,channel:1,duration:3.4399000000953706,end:63.99890000009537},{name:"F",number:53,velocity:.5748031496062992,time:63.945,channel:1,duration:.3309000000953617,end:64.27590000009536},{name:"A",number:57,velocity:.7795275590551181,time:64.24290000009536,channel:1,duration:3.494099999904634,end:67.737},{name:"F",number:65,velocity:.6614173228346457,time:67.747,channel:1,duration:.3719999999999999,end:68.119},{name:"D",number:62,velocity:.8582677165354331,time:68.088,channel:1,duration:2.8290000000000077,end:70.917},{name:"C",number:60,velocity:.5669291338582677,time:70.871,channel:1,duration:.36299999999999955,end:71.234},{name:"A#",number:58,velocity:.9606299212598425,time:71.195,channel:1,duration:2.3940000000000055,end:73.589},{name:"G",number:55,velocity:.5196850393700787,time:73.504,channel:1,duration:4.411999999999992,end:77.916},{name:"E",number:52,velocity:.4330708661417323,time:77.835,channel:1,duration:.3719999999999999,end:78.207},{name:"D",number:62,velocity:.4015748031496063,time:78.11590000009537,channel:1,duration:2.52209999990464,end:80.638}],smt="keyboard-histogram",omt="0.16.2",lmt="2024-10-09T17:09:18.391Z",MS={pastNoteCount:imt,scaleRoot:nmt,scaleType:rmt,notes:amt,_appId:smt,_softwareVersion:omt,_date:lmt};function cmt(e){let t,i,n;return{c(){t=K("p"),t.textContent=`1) Improvise something while trying to use the whole range of the
        keyboard.`,i=Y(),n=K("p"),n.textContent=`2) Improvise something while trying to use both hands (far enough apart)
        for the same amount of notes.`},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function umt(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt;function wt(Jt){e[14](Jt)}let Mt={callback:e[10]};e[3]!==void 0&&(Mt.value=e[3]),u=new Kc({props:Mt}),me.push(()=>Te(u,"value",wt));function xt(Jt){e[15](Jt)}let dt={label:"show scale",title:"If active, the color hue will show whether notes are in the selected scale or not",callback:e[10]};e[6]!==void 0&&(dt.checked=e[6]),m=new Tr({props:dt}),me.push(()=>Te(m,"checked",xt));function Ot(Jt){e[16](Jt)}function At(Jt){e[17](Jt)}function jt(Jt){e[18](Jt)}let bt={disabled:!e[6],callback:e[10]};e[1]!==void 0&&(bt.scaleInfo=e[1]),e[4]!==void 0&&(bt.scaleRoot=e[4]),e[5]!==void 0&&(bt.scaleType=e[5]),A=new Ef({props:bt}),me.push(()=>Te(A,"scaleInfo",Ot)),me.push(()=>Te(A,"scaleRoot",At)),me.push(()=>Te(A,"scaleType",jt));function kt(Jt){e[20](Jt)}let Dt={saveToStorage:e[13],callback:e[10]};e[7]!==void 0&&(Dt.notes=e[7]),I=new aa({props:Dt}),me.push(()=>Te(I,"notes",kt)),N=new Ma({props:{appId:e[0].id,loadData:e[12]}});function Xt(Jt){e[22](Jt)}let ae={callback:e[10]};return e[7]!==void 0&&(ae.notes=e[7]),$=new Ps({props:ae}),me.push(()=>Te($,"notes",Xt)),z=new ua({props:{loadData:e[12],getExportData:e[11],appId:e[0].id}}),V=new Kr({props:{$$slots:{default:[cmt]},$$scope:{ctx:e}}}),J=new Xr({props:{appId:e[0].id}}),et=new $r({props:{noteOn:e[8],controlChange:e[9],pcKeyAllowed:!0}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing scales on a keyboard. The heatmap below shows
      how often you played each keyboard key. You can color notes depending on
      whether they belong to the chosen scale or not, so you can see how often
      you played one outside the scale (on purpose or by accident).`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),x=Y(),_=K("div"),C=Y(),O=K("div"),Ut(I.$$.fragment),D=Y(),P=K("button"),P.textContent="example",L=Y(),Ut(N.$$.fragment),U=Y(),Ut($.$$.fragment),j=Y(),Ut(z.$$.fragment),Q=Y(),Ut(V.$$.fragment),q=Y(),Ut(J.$$.fragment),W=Y(),Ut(et.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(_,"class","visualization"),ut(O,"class","control"),ut(t,"class","app")},m(Jt,le){_t(Jt,t,le),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(t,x),R(t,_),e[19](_),R(t,C),R(t,O),Nt(I,O,null),R(O,D),R(O,P),R(O,L),Nt(N,O,null),R(O,U),Nt($,O,null),R(O,j),Nt(z,O,null),R(t,Q),Nt(V,t,null),R(t,q),Nt(J,t,null),R(t,W),Nt(et,t,null),mt=!0,ot||(pt=Qe(P,"click",e[21]),ot=!0)},p(Jt,le){(!mt||le&1)&&n!==(n=Jt[0].title+"")&&Ue(a,n);const Ve={};!h&&le&8&&(h=!0,Ve.value=Jt[3],Se(()=>h=!1)),u.$set(Ve);const ai={};!M&&le&64&&(M=!0,ai.checked=Jt[6],Se(()=>M=!1)),m.$set(ai);const Ye={};le&64&&(Ye.disabled=!Jt[6]),!b&&le&2&&(b=!0,Ye.scaleInfo=Jt[1],Se(()=>b=!1)),!v&&le&16&&(v=!0,Ye.scaleRoot=Jt[4],Se(()=>v=!1)),!E&&le&32&&(E=!0,Ye.scaleType=Jt[5],Se(()=>E=!1)),A.$set(Ye);const ci={};!T&&le&128&&(T=!0,ci.notes=Jt[7],Se(()=>T=!1)),I.$set(ci);const ei={};le&1&&(ei.appId=Jt[0].id),N.$set(ei);const Ze={};!F&&le&128&&(F=!0,Ze.notes=Jt[7],Se(()=>F=!1)),$.$set(Ze);const be={};le&1&&(be.appId=Jt[0].id),z.$set(be);const ve={};le&33554432&&(ve.$$scope={dirty:le,ctx:Jt}),V.$set(ve);const re={};le&1&&(re.appId=Jt[0].id),J.$set(re)},i(Jt){mt||(Bt(u.$$.fragment,Jt),Bt(m.$$.fragment,Jt),Bt(A.$$.fragment,Jt),Bt(I.$$.fragment,Jt),Bt(N.$$.fragment,Jt),Bt($.$$.fragment,Jt),Bt(z.$$.fragment,Jt),Bt(V.$$.fragment,Jt),Bt(J.$$.fragment,Jt),Bt(et.$$.fragment,Jt),mt=!0)},o(Jt){Rt(u.$$.fragment,Jt),Rt(m.$$.fragment,Jt),Rt(A.$$.fragment,Jt),Rt(I.$$.fragment,Jt),Rt(N.$$.fragment,Jt),Rt($.$$.fragment,Jt),Rt(z.$$.fragment,Jt),Rt(V.$$.fragment,Jt),Rt(J.$$.fragment,Jt),Rt(et.$$.fragment,Jt),mt=!1},d(Jt){Jt&&Ct(t),Ft(u),Ft(m),Ft(A),e[19](null),Ft(I),Ft(N),Ft($),Ft(z),Ft(V),Ft(J),Ft(et),ot=!1,pt()}}}function dmt(e){let t,i;return t=new da({props:{loadData:e[12],$$slots:{default:[umt]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&33554687&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let AS=900,hmt=300;const Xg=21,Yg=108;function fmt(e,t,i){let n,{appInfo:a}=t,s,l,c=500,d="C",u="major",h=!0,g,m=[];const M=N=>{m.length===0&&(g=N.timestamp);const U=(N.timestamp-g)/1e3,$={number:N.note.number,velocity:N.rawVelocity,time:U,channel:N.message.channel};i(7,m=[...m,$]),A()},p=N=>{const U=qa(N.rawValue*2,20,250);i(3,c=U),A()},A=()=>{const N=m.slice(-c),U=Sl(N,z=>z.number),$=Ca(U,z=>z[1].length);i(2,s.textContent="",s);const F=Sn({width:AS,height:hmt,marginLeft:30,marginBottom:28,marginRight:5,padding:0,x:{label:"",domain:Ci(Xg,Yg+1),tickFormat:z=>hc(z)?"":z%12===0?`
`+Ts(z):Ts(z).slice(0,-1)},y:{label:"count",interval:1,nice:!0},color:{legend:h,domain:["in scale","not in scale"],range:Hs,marginLeft:380},marks:[zr([0],{stroke:"#ddd"}),Md(Ci(Xg,Yg+1).filter(z=>hc(z)),{x:z=>z,y:()=>$,fill:"#f8f8f8",inset:.5}),sct(N,g9t({y:"count"},{x:"number",fill:h?z=>n.has(z.number%12)?"in scale":"not in scale":z=>hc(z.number)?"#444":"#ccc",inset:.5,rx:4,tip:!0}))]});s.appendChild(F);const j=Sn({width:AS,height:60,marginLeft:h?65:30,marginRight:h?40:5,marginBottom:10,padding:0,x:{axis:!1,interval:1},y:{axis:!1},marks:[Bo(Ci(Xg,Yg+1),{x:z=>z,y1:z=>hc(z)?2:1.5,y2:z=>hc(z)?.5:0,fill:z=>hc(z)?"#333":"white",stroke:"#bbb",inset:1,rx:2.5,clip:!1})]});s.appendChild(j)};sr(A);const b=()=>({pastNoteCount:c,scaleRoot:d,scaleType:u,notes:m}),v=N=>{E(),i(3,c=N.pastNoteCount),i(4,d=N.scaleRoot),i(5,u=N.scaleType),i(7,m=N.notes),A()},E=()=>{m.length>0&&JSON.stringify(m)!==JSON.stringify(MS.notes)&&ga(a.id,b())};or(E);function x(N){c=N,i(3,c)}function _(N){h=N,i(6,h)}function C(N){l=N,i(1,l)}function O(N){d=N,i(4,d)}function I(N){u=N,i(5,u)}function T(N){me[N?"unshift":"push"](()=>{s=N,i(2,s)})}function D(N){m=N,i(7,m)}const P=()=>v(MS);function L(N){m=N,i(7,m)}return e.$$set=N=>{"appInfo"in N&&i(0,a=N.appInfo)},e.$$.update=()=>{e.$$.dirty&2&&(n=new Set(l?l.notes.map(N=>Ro.get(N)):[]))},[a,l,s,c,d,u,h,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L]}class mmt extends qi{constructor(t){super(),Wi(this,t,fmt,dmt,Ji,{appInfo:0})}}const pmt=20,gmt=268290.80000000005,Mmt=-20,Amt=!0,ymt=[{time:6.866100000000094,pitch:164.84394981764146,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.8558387003551999},{time:6.882699999999954,pitch:165.13856985862867,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.8717938546740882},{time:6.899399999999907,pitch:168.62434413709184,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9550674496646963},{time:6.916100000000093,pitch:166.47566607514122,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9892278466152646},{time:6.9326999999999535,pitch:165.50585321263233,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9985202891473897},{time:6.9493999999999065,pitch:164.99543357303352,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.998910431492817},{time:6.966100000000093,pitch:164.8487478097934,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9990359914436446},{time:6.982800000000046,pitch:164.95743237248462,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994584921478911},{time:6.9995,pitch:164.80896988770772,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9992993320414669},{time:7.016100000000093,pitch:164.841824151065,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9989685956499592},{time:7.032800000000046,pitch:164.85334356864416,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9992501424627882},{time:7.0495,pitch:164.866500940062,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9992278286807306},{time:7.066100000000093,pitch:164.9950305803836,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9987453238050286},{time:7.082800000000047,pitch:164.94150244683595,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9985164754781799},{time:7.099399999999907,pitch:165.0572032559152,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9992148272991805},{time:7.116100000000094,pitch:164.8610917153099,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9988873273261767},{time:7.132899999999907,pitch:165.0984178548978,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9984405615214733},{time:7.151899999999907,pitch:164.94967400278276,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9987463365972289},{time:7.166100000000093,pitch:164.81419903812036,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9987159745650764},{time:7.1826999999999535,pitch:164.90151204025747,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9986094038283042},{time:7.1995,pitch:164.78527366479423,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9982966174686894},{time:7.216100000000093,pitch:165.03819567012926,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9987167405897956},{time:7.232699999999953,pitch:164.77597239369763,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9981829247023377},{time:7.249399999999907,pitch:165.0629985434194,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9977194747458284},{time:7.266100000000093,pitch:165.08961565904517,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985446299963563},{time:7.282800000000046,pitch:165.14883112356247,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9981114660209442},{time:7.299399999999907,pitch:163.9517820760354,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9931167050345593},{time:7.316100000000093,pitch:163.81234068839808,noteMidi:52,actualMidi:51.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9881696274460765},{time:7.332699999999954,pitch:165.69085168456365,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9743155662962835},{time:7.349399999999907,pitch:163.6914381640926,noteMidi:52,actualMidi:51.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9500692155729453},{time:7.366100000000094,pitch:162.2325439731973,noteMidi:52,actualMidi:51.73,actualMidiChroma:3.729999999999997,centsOffset:-27.000000000000313,clarity:.8873816464558963},{time:7.382699999999954,pitch:161.73750038958147,noteMidi:52,actualMidi:51.67,actualMidiChroma:3.6700000000000017,centsOffset:-32.99999999999983,clarity:.86465913358645},{time:7.399399999999907,pitch:152.82987217031967,noteMidi:51,actualMidi:50.69,actualMidiChroma:2.6899999999999977,centsOffset:-31.000000000000227,clarity:.4891711867699211},{time:7.416100000000093,pitch:155.24270348486192,noteMidi:51,actualMidi:50.96,actualMidiChroma:2.960000000000001,centsOffset:-3.9999999999999147,clarity:.6306220024590541},{time:7.4326999999999535,pitch:161.8269658172597,noteMidi:52,actualMidi:51.68,actualMidiChroma:3.6799999999999997,centsOffset:-32.00000000000003,clarity:.6914854286082885},{time:7.4493999999999065,pitch:164.78687538436128,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.7315233545188917},{time:7.466100000000093,pitch:164.51599485204596,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9312925520659476},{time:7.482699999999953,pitch:164.56655461757478,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9975351172510756},{time:7.499399999999907,pitch:164.6091096975178,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999728817947485},{time:7.518600000000093,pitch:164.60448306937226,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997637395205743},{time:7.532800000000046,pitch:164.6021324768012,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997767661574102},{time:7.549399999999907,pitch:164.61430798885218,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998081201834026},{time:7.566100000000093,pitch:164.5966987735068,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998238892243236},{time:7.582800000000047,pitch:164.583513443727,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998474338232768},{time:7.5995,pitch:164.55118862232186,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998562822041208},{time:7.616100000000094,pitch:164.54775693070215,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998733775956552},{time:7.632699999999954,pitch:164.55287782522797,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998697881286063},{time:7.649399999999907,pitch:164.57993399437402,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998807215246472},{time:7.666,pitch:164.62599768003454,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998862841845693},{time:7.6826999999999535,pitch:164.62633525776772,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998926206189438},{time:7.6993999999999065,pitch:164.63117779162107,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999083887412894},{time:7.716100000000093,pitch:164.6217692113757,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999048298632474},{time:7.732699999999953,pitch:164.62298099777067,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999064967878866},{time:7.749399999999907,pitch:164.64627519220136,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998998459822062},{time:7.766100000000093,pitch:164.69291928303588,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998851241170215},{time:7.782800000000046,pitch:164.76414528652464,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998674813727533},{time:7.799399999999907,pitch:164.9039124696968,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998659451371452},{time:7.816100000000093,pitch:165.09595006695162,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998508547546976},{time:7.832699999999954,pitch:165.21236391966048,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998501269187727},{time:7.849399999999907,pitch:165.59909371193066,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9997168184625096},{time:7.866100000000094,pitch:166.32959674748992,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9996002451489829},{time:7.885199999999953,pitch:166.95005672321903,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9995674358182214},{time:7.8995,pitch:167.30822520388563,noteMidi:52,actualMidi:52.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9995460139737204},{time:7.916100000000093,pitch:167.96869061390035,noteMidi:52,actualMidi:52.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.9992575823123317},{time:7.9326999999999535,pitch:168.42974787165807,noteMidi:52,actualMidi:52.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9988347989439674},{time:7.9493999999999065,pitch:169.69146990273828,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9969885331529795},{time:7.966100000000093,pitch:171.25631625699404,noteMidi:53,actualMidi:52.66,actualMidiChroma:4.659999999999997,centsOffset:-34.00000000000034,clarity:.9929487160522186},{time:7.982699999999953,pitch:172.3707299352859,noteMidi:53,actualMidi:52.78,actualMidiChroma:4.780000000000001,centsOffset:-21.999999999999886,clarity:.9913604806097283},{time:7.999399999999907,pitch:173.45397592440486,noteMidi:53,actualMidi:52.88,actualMidiChroma:4.880000000000003,centsOffset:-11.999999999999744,clarity:.9911117339865996},{time:8.016100000000094,pitch:173.58105402136647,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9913338229458546},{time:8.032699999999954,pitch:173.6323235849193,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9922206622500909},{time:8.049399999999906,pitch:173.6185964608792,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9944782262746585},{time:8.066100000000093,pitch:173.15416900152098,noteMidi:53,actualMidi:52.85,actualMidiChroma:4.850000000000001,centsOffset:-14.999999999999858,clarity:.995203740044488},{time:8.082699999999953,pitch:173.25198025412067,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.9937208794896861},{time:8.099399999999907,pitch:174.1311707063476,noteMidi:53,actualMidi:52.95,actualMidiChroma:4.950000000000003,centsOffset:-4.999999999999716,clarity:.9883601213378483},{time:8.116100000000094,pitch:172.82310265013388,noteMidi:53,actualMidi:52.82,actualMidiChroma:4.82,centsOffset:-17.99999999999997,clarity:.986285733678173},{time:8.132699999999954,pitch:171.48070740457166,noteMidi:53,actualMidi:52.69,actualMidiChroma:4.689999999999998,centsOffset:-31.000000000000227,clarity:.9899169337489582},{time:8.149300000000046,pitch:169.697948578165,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.996847439023206},{time:8.166100000000093,pitch:168.66735385929246,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9981152319323741},{time:8.182800000000046,pitch:168.05758001719303,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9985024094434252},{time:8.199399999999907,pitch:167.05123138099424,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9989938470060906},{time:8.216100000000093,pitch:166.38371693034617,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.999509127897042},{time:8.232800000000047,pitch:166.1269850402358,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9996331147481996},{time:8.251699999999953,pitch:165.6685333591511,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9996724018451957},{time:8.266100000000094,pitch:165.14962450335688,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998590675734533},{time:8.282699999999954,pitch:165.0717615825231,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998738842335939},{time:8.299399999999906,pitch:164.9279133573899,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9999057670331482},{time:8.316,pitch:164.93212260038686,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9999131890453299},{time:8.332699999999953,pitch:164.92347146272655,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9999231240141029},{time:8.349399999999907,pitch:164.97450531958546,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999072588426401},{time:8.366,pitch:165.15897932688134,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998485492188394},{time:8.382800000000046,pitch:165.32536336264081,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997492275956077},{time:8.399399999999908,pitch:165.90951513260146,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9995347198668654},{time:8.416100000000093,pitch:166.46650082048882,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9994799374476457},{time:8.432699999999953,pitch:166.77875843523165,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9994846219575919},{time:8.449399999999907,pitch:167.21741274129107,noteMidi:52,actualMidi:52.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9993352694181681},{time:8.466100000000093,pitch:167.8834258809413,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9982656364979121},{time:8.482800000000047,pitch:168.11538904071602,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9980810644853264},{time:8.499399999999907,pitch:169.2328567090309,noteMidi:52,actualMidi:52.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.9931708717753978},{time:8.516100000000094,pitch:170.63571142124826,noteMidi:53,actualMidi:52.6,actualMidiChroma:4.600000000000001,centsOffset:-39.99999999999986,clarity:.9848737299755683},{time:8.532699999999954,pitch:171.4389763130013,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.976238655929123},{time:8.549399999999906,pitch:171.4310832497451,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.9778200538953712},{time:8.566100000000093,pitch:170.5180356340411,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.9889662790078333},{time:8.582699999999953,pitch:170.43058152497653,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.9927388886325517},{time:8.599399999999907,pitch:169.9080704023652,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9955827277791869},{time:8.618399999999907,pitch:168.9995379704416,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9969674259488954},{time:8.632699999999954,pitch:168.42667788359935,noteMidi:52,actualMidi:52.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9978202310170872},{time:8.649399999999908,pitch:167.15582143002482,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9987653272755246},{time:8.666100000000093,pitch:166.09050347337185,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9995995763451901},{time:8.682800000000046,pitch:165.87465410744227,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9996424773777051},{time:8.699399999999907,pitch:165.3534795084119,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997655162181331},{time:8.716100000000093,pitch:164.984884753777,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994715088380985},{time:8.732699999999953,pitch:164.8245410794315,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.999512930167981},{time:8.749399999999907,pitch:164.7207070591235,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998817083187461},{time:8.766100000000094,pitch:164.64659978959494,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998772790801418},{time:8.782699999999954,pitch:164.71407577372304,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998890539555383},{time:8.799399999999906,pitch:164.66590845176603,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998875932531526},{time:8.816100000000093,pitch:164.73662181616334,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998739480376813},{time:8.832699999999953,pitch:164.8525857386244,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9995090709635548},{time:8.849399999999907,pitch:165.0826442074827,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9992637761081724},{time:8.866,pitch:165.6740243015302,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9995195579426692},{time:8.882699999999954,pitch:165.74978285617087,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9994388275967054},{time:8.899399999999908,pitch:166.48677382649606,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9992100552002796},{time:8.916100000000093,pitch:167.1076192118069,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9985475958831067},{time:8.932800000000046,pitch:167.65459050773455,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9977380928952151},{time:8.949399999999907,pitch:168.63518660042632,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9907558074830476},{time:8.966100000000093,pitch:170.58319863199816,noteMidi:53,actualMidi:52.6,actualMidiChroma:4.600000000000001,centsOffset:-39.99999999999986,clarity:.9553077129905745},{time:8.985100000000093,pitch:172.05277576137826,noteMidi:53,actualMidi:52.74,actualMidiChroma:4.740000000000002,centsOffset:-25.9999999999998,clarity:.9194256710938689},{time:8.999399999999907,pitch:170.98417004058112,noteMidi:53,actualMidi:52.64,actualMidiChroma:4.640000000000001,centsOffset:-35.99999999999994,clarity:.9399612675385001},{time:9.016100000000094,pitch:170.36704863131982,noteMidi:53,actualMidi:52.57,actualMidiChroma:4.57,centsOffset:-42.99999999999997,clarity:.9831707372620571},{time:9.032699999999954,pitch:170.13882509361062,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9871076528192191},{time:9.049399999999906,pitch:169.69540228209473,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9915116048877266},{time:9.066,pitch:169.05893495241105,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9921280372532024},{time:9.082699999999953,pitch:168.74648795639789,noteMidi:52,actualMidi:52.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.9924070653775559},{time:9.099399999999907,pitch:167.6830133905739,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.990465699078527},{time:9.116,pitch:166.65325408413136,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9903528820599945},{time:9.132699999999954,pitch:166.23699225640473,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.988907364964831},{time:9.149399999999908,pitch:165.5622709441096,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9913537136596986},{time:9.166100000000093,pitch:165.22312077190833,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9966486026359718},{time:9.182699999999953,pitch:165.1399288232579,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985897293870778},{time:9.199399999999907,pitch:164.88233655796014,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9993198256611109},{time:9.216100000000093,pitch:164.6600828663795,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990255529635306},{time:9.232699999999953,pitch:164.62335189211518,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991440116177372},{time:9.249399999999907,pitch:164.67595654446146,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993777889130584},{time:9.266,pitch:164.71651627097233,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993470217003022},{time:9.282699999999954,pitch:164.72896324446975,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990619944315782},{time:9.299399999999906,pitch:164.97747703320175,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9977693631834512},{time:9.316,pitch:165.75001027182515,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9965839168588957},{time:9.332699999999953,pitch:165.99927080703412,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9964715988682258},{time:9.351699999999953,pitch:167.0659050426878,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9919009463752033},{time:9.366,pitch:168.26587195782554,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.9797269577048056},{time:9.382699999999954,pitch:169.34312222183863,noteMidi:52,actualMidi:52.47,actualMidiChroma:4.469999999999999,centsOffset:46.999999999999886,clarity:.9638938319865531},{time:9.399300000000046,pitch:170.1678883326128,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9430821418404562},{time:9.416,pitch:170.01430859937165,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.9744575301589435},{time:9.432699999999953,pitch:169.94504987608735,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9852338418709685},{time:9.449399999999907,pitch:169.6497293432335,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9926115060415235},{time:9.466,pitch:169.5985685999916,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9922799111601108},{time:9.482699999999953,pitch:169.65375984588474,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.992723744401502},{time:9.499399999999907,pitch:169.07131699408137,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9865183460268199},{time:9.516,pitch:168.0972758463785,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9772078129089792},{time:9.532699999999954,pitch:167.5682595577913,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9759038123749235},{time:9.549399999999906,pitch:166.12520106416568,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9763967440546821},{time:9.566100000000093,pitch:165.64998344842908,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9852065984185714},{time:9.582800000000047,pitch:165.51943218727814,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9922176721904208},{time:9.599399999999907,pitch:164.98825779187862,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9924823669119007},{time:9.616,pitch:164.60217164673278,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9807802833970527},{time:9.632699999999954,pitch:164.83698110997156,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9825379258077049},{time:9.649399999999908,pitch:164.63474094254883,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.997060225410273},{time:9.666,pitch:164.7260982893437,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9980249238046426},{time:9.682699999999953,pitch:164.6657384449429,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9978444502666264},{time:9.701699999999953,pitch:164.98565134462098,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9965799200352947},{time:9.716,pitch:165.05236705028852,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.983006061158477},{time:9.732800000000047,pitch:165.3890936476649,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9777208156034405},{time:9.749399999999907,pitch:165.58999374381565,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9783472680551171},{time:9.766100000000094,pitch:166.86780501763303,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9644738741329277},{time:9.782699999999954,pitch:167.67902923697974,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9672960957388312},{time:9.799300000000047,pitch:168.09866906086964,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9594326654171823},{time:9.816100000000093,pitch:168.9694989976726,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9677405818198608},{time:9.832699999999953,pitch:168.8575859106849,noteMidi:52,actualMidi:52.42,actualMidiChroma:4.420000000000002,centsOffset:42.00000000000017,clarity:.9738915202702074},{time:9.849399999999907,pitch:169.17723905819736,noteMidi:52,actualMidi:52.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9821519944541066},{time:9.866,pitch:169.29232387294206,noteMidi:52,actualMidi:52.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.9882856925358325},{time:9.882699999999954,pitch:168.94799882079442,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.988974822156365},{time:9.899399999999908,pitch:168.99347003062866,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9812760653675561},{time:9.916100000000093,pitch:169.16510838169606,noteMidi:52,actualMidi:52.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9689671237469177},{time:9.932699999999953,pitch:168.5293676207821,noteMidi:52,actualMidi:52.39,actualMidiChroma:4.390000000000001,centsOffset:39.00000000000006,clarity:.9367946230635447},{time:9.949199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.965899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.982600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.999199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.015899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.049199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.068399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.099300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.115899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.1325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.149199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.165899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.1825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.199199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.215899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.232600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.249199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.265899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.2825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.299300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.315899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.3325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.349199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.365800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.382600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.399199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.415899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.435199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.449300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.465899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.482600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.499300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.515899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.532600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.549199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.565899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.5825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.599199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.615800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.6325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.649300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.665899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.682600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.699199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.715899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.732600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.749199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.765899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.782600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.801600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.815899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.832600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.849199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.865899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.8825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.899199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.915899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.932600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.949300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.965899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.9825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.999199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.015899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.0325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.049199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.065899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.0825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.099300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.115899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.132600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.149199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.168399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.182600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.199199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.215800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.232600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.249199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.265800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.2825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.299199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.315800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.332600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.349199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.365800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.382600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.399199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.415899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.432600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.449199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.465899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.4825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.499199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.515800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.535199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.549300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.565800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.5825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.599199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.615899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.6325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.649199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.665899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.6825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.699199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.715800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.7325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.749199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.765899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.7825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.799199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.815899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.832600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.849199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.865899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.882600000000092,pitch:122.99971404694507,noteMidi:47,actualMidi:46.93,actualMidiChroma:10.93,centsOffset:-7.000000000000028,clarity:.22237098169316383},{time:11.901699999999954,pitch:158.07340275858212,noteMidi:51,actualMidi:51.28,actualMidiChroma:3.280000000000001,centsOffset:28.000000000000114,clarity:.3794272410180053},{time:11.916100000000093,pitch:165.47234417598042,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.7220560826078994},{time:11.932699999999953,pitch:165.24102216474537,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.8417470226440003},{time:11.949399999999907,pitch:164.91299942464866,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9971877262032791},{time:11.966,pitch:164.87568493678106,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996251686185076},{time:11.982699999999953,pitch:164.86963256676034,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996613988714813},{time:11.999300000000046,pitch:164.85060616947288,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997231937070552},{time:12.016,pitch:164.80474989435524,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997932752779803},{time:12.032600000000093,pitch:164.78955396509568,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9998167876406967},{time:12.049300000000047,pitch:164.76806716445725,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9998382793698397},{time:12.065899999999907,pitch:164.75406595268652,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998444207794535},{time:12.082699999999953,pitch:164.75673196447767,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998568463410891},{time:12.099300000000046,pitch:164.76132698567326,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998642070386836},{time:12.116,pitch:164.7599415929434,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998745190893032},{time:12.132600000000092,pitch:164.7506830773582,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998762562625245},{time:12.149300000000046,pitch:164.7383580992646,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998898641161631},{time:12.166,pitch:164.7416464508854,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998978884198522},{time:12.182600000000093,pitch:164.76165570263183,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998952432946595},{time:12.199300000000047,pitch:164.86287146138318,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998899689868566},{time:12.216,pitch:164.95859291058477,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999080117683832},{time:12.232600000000094,pitch:164.9791938813049,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999135973180557},{time:12.249399999999907,pitch:165.00760802829015,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999194956776662},{time:12.268600000000093,pitch:165.06960784854692,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9999207640101702},{time:12.282600000000093,pitch:165.13080901636337,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9999107818479587},{time:12.299300000000047,pitch:165.28936313648663,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9999102115855081},{time:12.316,pitch:165.4964278600309,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9998858470831351},{time:12.332600000000093,pitch:165.65369203423543,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9998408498919602},{time:12.349300000000046,pitch:166.02861243044143,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9997800566134529},{time:12.366,pitch:166.31627146361407,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9997546818203844},{time:12.382600000000092,pitch:166.49068221116875,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996897098282247},{time:12.399300000000046,pitch:166.8427732150061,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9996153493309521},{time:12.416,pitch:167.3894408302328,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9994756116351553},{time:12.432600000000093,pitch:167.73142602922553,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9993223127299871},{time:12.449399999999907,pitch:168.3645214576296,noteMidi:52,actualMidi:52.37,actualMidiChroma:4.369999999999997,centsOffset:36.999999999999744,clarity:.9985561142493182},{time:12.466,pitch:169.43647741383396,noteMidi:52,actualMidi:52.48,actualMidiChroma:4.479999999999997,centsOffset:47.99999999999969,clarity:.99624246217018},{time:12.482600000000094,pitch:169.9867167796157,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.9948881897144233},{time:12.499300000000046,pitch:171.60990828566023,noteMidi:53,actualMidi:52.7,actualMidiChroma:4.700000000000003,centsOffset:-29.999999999999716,clarity:.9931344371906619},{time:12.516,pitch:172.08588772594808,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.9927442831063047},{time:12.532699999999954,pitch:172.2321352845652,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.9928908174880036},{time:12.549300000000047,pitch:172.73607892274683,noteMidi:53,actualMidi:52.81,actualMidiChroma:4.810000000000002,centsOffset:-18.999999999999773,clarity:.9920640177391604},{time:12.566,pitch:173.24069505521152,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.9936870420610688},{time:12.582699999999953,pitch:173.20361801957,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.9945483208836663},{time:12.599399999999907,pitch:173.12705041047704,noteMidi:53,actualMidi:52.85,actualMidiChroma:4.850000000000001,centsOffset:-14.999999999999858,clarity:.9934031762708244},{time:12.6185,pitch:174.77530175576314,noteMidi:53,actualMidi:53.02,actualMidiChroma:5.020000000000003,centsOffset:2.0000000000003126,clarity:.9841012773140534},{time:12.632699999999954,pitch:175.26404850040137,noteMidi:53,actualMidi:53.06,actualMidiChroma:5.060000000000002,centsOffset:6.000000000000227,clarity:.9822435739459223},{time:12.649399999999908,pitch:174.63629436596383,noteMidi:53,actualMidi:53,actualMidiChroma:5,centsOffset:0,clarity:.9868766288684867},{time:12.666,pitch:174.29026792475238,noteMidi:53,actualMidi:52.97,actualMidiChroma:4.969999999999999,centsOffset:-3.0000000000001137,clarity:.9917270322447962},{time:12.682600000000093,pitch:174.0637455277285,noteMidi:53,actualMidi:52.95,actualMidiChroma:4.950000000000003,centsOffset:-4.999999999999716,clarity:.9928826823691494},{time:12.699300000000047,pitch:173.87239914293505,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.992273598010037},{time:12.716,pitch:174.73475052519015,noteMidi:53,actualMidi:53.01,actualMidiChroma:5.009999999999998,centsOffset:.999999999999801,clarity:.9859587106853738},{time:12.732699999999953,pitch:175.24020160912042,noteMidi:53,actualMidi:53.06,actualMidiChroma:5.060000000000002,centsOffset:6.000000000000227,clarity:.9815880842788118},{time:12.749399999999907,pitch:174.3603189169219,noteMidi:53,actualMidi:52.97,actualMidiChroma:4.969999999999999,centsOffset:-3.0000000000001137,clarity:.9870553855781736},{time:12.766,pitch:173.80799851091464,noteMidi:53,actualMidi:52.92,actualMidiChroma:4.920000000000002,centsOffset:-7.9999999999998295,clarity:.9919719199465078},{time:12.782699999999954,pitch:173.7396026782135,noteMidi:53,actualMidi:52.91,actualMidiChroma:4.909999999999997,centsOffset:-9.000000000000341,clarity:.9929966404166493},{time:12.799399999999906,pitch:173.3838860088675,noteMidi:53,actualMidi:52.88,actualMidiChroma:4.880000000000003,centsOffset:-11.999999999999744,clarity:.993641802509444},{time:12.816,pitch:173.87839139242186,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9879404665678848},{time:12.832600000000093,pitch:174.42277110483084,noteMidi:53,actualMidi:52.98,actualMidiChroma:4.979999999999997,centsOffset:-2.0000000000003126,clarity:.983568348834865},{time:12.849300000000046,pitch:173.9391404907044,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9832787731692321},{time:12.866,pitch:172.14373155966902,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.9929482009900283},{time:12.882600000000092,pitch:171.72990348246213,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9948651799283894},{time:12.899300000000046,pitch:171.02297536743802,noteMidi:53,actualMidi:52.64,actualMidiChroma:4.640000000000001,centsOffset:-35.99999999999994,clarity:.996447381238049},{time:12.915899999999906,pitch:170.42345857860482,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.9971628295995458},{time:12.932600000000093,pitch:170.08476078947328,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.99700320834976},{time:12.949300000000047,pitch:169.39413852411047,noteMidi:52,actualMidi:52.47,actualMidiChroma:4.469999999999999,centsOffset:46.999999999999886,clarity:.9969980514072745},{time:12.966,pitch:169.02426391169752,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9965993075577444},{time:12.985199999999953,pitch:168.67231413855737,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9966534863021792},{time:12.999300000000046,pitch:168.5207640347269,noteMidi:52,actualMidi:52.39,actualMidiChroma:4.390000000000001,centsOffset:39.00000000000006,clarity:.9968482891196118},{time:13.015899999999906,pitch:167.92464193116618,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9976491054710124},{time:13.032600000000093,pitch:167.61483567921258,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9980503690941305},{time:13.049300000000047,pitch:167.09129784408603,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9988878303043407},{time:13.066,pitch:166.6829552590152,noteMidi:52,actualMidi:52.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9993186997678123},{time:13.082600000000093,pitch:166.58317265915653,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9993564214868798},{time:13.099300000000046,pitch:166.4514631287783,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9994600422887459},{time:13.116,pitch:166.21271719795286,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9995356609317128},{time:13.132699999999954,pitch:166.0325330874872,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9995281016834383},{time:13.149300000000046,pitch:165.61337287991176,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9997349583266484},{time:13.166,pitch:165.4480044454292,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9998340115880993},{time:13.182600000000093,pitch:165.4012574552898,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9998300271252987},{time:13.199300000000047,pitch:165.27553403620354,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997589306951085},{time:13.216,pitch:165.0906997268016,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997629228747371},{time:13.232699999999953,pitch:164.97919779476177,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9998238237108055},{time:13.249399999999907,pitch:164.92303771364152,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998275582155998},{time:13.266,pitch:164.85622243336738,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997845330453572},{time:13.282600000000093,pitch:164.84259926678848,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997956247800914},{time:13.299399999999906,pitch:164.72670793960103,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998012658377817},{time:13.316,pitch:164.641405023088,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997091293004772},{time:13.335,pitch:164.637110613443,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997088875487776},{time:13.349300000000046,pitch:164.59122699206978,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996793912388497},{time:13.365899999999908,pitch:164.57947265406804,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995687888261173},{time:13.382699999999954,pitch:164.56030023328938,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9995399120996709},{time:13.399300000000046,pitch:164.51639960802152,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994165082193405},{time:13.415899999999906,pitch:164.48359106117042,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993899801025847},{time:13.432600000000093,pitch:164.43112458806115,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992696440699049},{time:13.449300000000047,pitch:164.4425323765353,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993623287569733},{time:13.466,pitch:164.40605840518236,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993468355192903},{time:13.482699999999953,pitch:164.39781468249478,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992525615174088},{time:13.499399999999907,pitch:164.3410826468068,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991928274286295},{time:13.516,pitch:164.26876940089196,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991876664441008},{time:13.532600000000093,pitch:164.26672190246717,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992320413191038},{time:13.549300000000047,pitch:164.21794330654635,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990156914919055},{time:13.566,pitch:164.24060574267608,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990411018327308},{time:13.582699999999953,pitch:164.2447384453097,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992094731190662},{time:13.599300000000046,pitch:164.22971176769647,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9989939239932681},{time:13.615899999999908,pitch:164.24091735167738,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992433094639068},{time:13.632600000000092,pitch:164.21003383787328,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991090206632975},{time:13.649199999999954,pitch:164.2556155991957,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993112338180481},{time:13.666,pitch:164.29162817498033,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9994627584294449},{time:13.685100000000093,pitch:164.29970896619275,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992528862222088},{time:13.699300000000047,pitch:164.32959235634198,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991774315972464},{time:13.716,pitch:164.31640222820613,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992310713122237},{time:13.732600000000094,pitch:164.36255583671883,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9995523300291751},{time:13.749300000000046,pitch:164.35342987798222,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9993532281192188},{time:13.765899999999906,pitch:164.36085012487695,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9994437565953831},{time:13.782699999999954,pitch:164.38226521492422,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9995137500092142},{time:13.799300000000047,pitch:164.36217898011918,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9993684728012227},{time:13.815899999999907,pitch:164.3620880396468,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992878482371026},{time:13.832600000000093,pitch:164.31081347948037,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9993046951839801},{time:13.849199999999954,pitch:164.31280475561084,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9990824134482068},{time:13.866,pitch:164.3092896873149,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9987750238061466},{time:13.882699999999954,pitch:164.26407209423783,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990447205735364},{time:13.899300000000046,pitch:164.26781961681317,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991600074539093},{time:13.915899999999906,pitch:164.21415818918268,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990426000864403},{time:13.932699999999953,pitch:164.23438217716568,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991991439029348},{time:13.949300000000047,pitch:164.2092557689644,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993184035342395},{time:13.965899999999907,pitch:164.19466961887287,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9990780851586791},{time:13.982699999999953,pitch:164.23892996661354,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990728958285615},{time:13.999300000000046,pitch:164.21134227891287,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999346645964593},{time:14.015899999999906,pitch:164.30335765031938,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991206855691885},{time:14.035,pitch:164.30873597708282,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992484194013684},{time:14.049300000000047,pitch:164.3469586308741,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.999386699475167},{time:14.066,pitch:164.41417191807906,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992802703053769},{time:14.082600000000093,pitch:164.4153658135478,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992038078464063},{time:14.099300000000046,pitch:164.43129277952977,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993975555990531},{time:14.116,pitch:164.41905008114782,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993548362102374},{time:14.132600000000092,pitch:164.46025832427284,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992115273028901},{time:14.149300000000046,pitch:164.46826097384925,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992652576446446},{time:14.166,pitch:164.48139191155713,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994216745291453},{time:14.182600000000093,pitch:164.50005733807768,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994705719196233},{time:14.199199999999953,pitch:164.50851278743286,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993325487670646},{time:14.216,pitch:164.51017648379926,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994818457615651},{time:14.232600000000094,pitch:164.47787761903572,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9994177051864455},{time:14.249300000000046,pitch:164.49826987829263,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9990872126857155},{time:14.266,pitch:164.4763328130946,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9988359269634088},{time:14.282600000000093,pitch:164.40913999678048,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9984127702426591},{time:14.299399999999906,pitch:164.42182486344177,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9962046883178388},{time:14.315899999999907,pitch:164.2911837270567,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9960264698730228},{time:14.332699999999953,pitch:164.38519088269106,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9971910778496209},{time:14.349300000000046,pitch:164.36555778499675,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9978360686914414},{time:14.368300000000046,pitch:164.2613950230256,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9969157547704413},{time:14.382600000000092,pitch:164.29481095338707,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9969762286552566},{time:14.399199999999954,pitch:164.12739376041603,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9958686635816747},{time:14.415800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.4325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.449199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.465800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.4825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.499100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.515899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.532399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.549100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.565800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.599100000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.615800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.632399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.649199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.665800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.6825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.699100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.718300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.7325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.749100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.765800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.7825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.799100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.815800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.8325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.849199999999954,pitch:290.9140056137336,noteMidi:62,actualMidi:61.84,actualMidiChroma:1.8400000000000034,centsOffset:-15.999999999999659,clarity:.2421313985819058},{time:14.865899999999908,pitch:164.57012995428374,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.8161532855289124},{time:14.882600000000092,pitch:164.59298841329377,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.8698257839050854},{time:14.899300000000046,pitch:164.63586749164165,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995485340638623},{time:14.916,pitch:164.63383497695725,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997147633418848},{time:14.932600000000093,pitch:164.64071969565765,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997367593636852},{time:14.949199999999953,pitch:164.65980504316636,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999782768953807},{time:14.966,pitch:164.64064530521335,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998257550867891},{time:14.982600000000094,pitch:164.6344279350128,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998262423623743},{time:14.999399999999907,pitch:164.62870798109938,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998356210945047},{time:15.016,pitch:164.62814794109997,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998081349558277},{time:15.032600000000093,pitch:164.62949132452215,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998020798130369},{time:15.051699999999954,pitch:164.62829554202895,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997970145577852},{time:15.066,pitch:164.630218059076,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997956739972551},{time:15.082600000000093,pitch:164.63879695193455,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998118981975921},{time:15.099199999999954,pitch:164.65117001408288,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998110556905004},{time:15.115899999999908,pitch:164.68160178066645,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998106616520133},{time:15.132600000000092,pitch:164.71784052003287,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998145140247914},{time:15.149199999999954,pitch:164.85377336740225,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9998154542374422},{time:15.165899999999906,pitch:165.03377061189093,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.999843429535126},{time:15.1825,pitch:165.13854308818927,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998452151946537},{time:15.199300000000047,pitch:165.33102314013576,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998616350365239},{time:15.215899999999907,pitch:165.63137576129907,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.999832274931471},{time:15.232600000000094,pitch:165.7837934414672,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9997788083299142},{time:15.249300000000046,pitch:166.08544101027576,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9997690124005914},{time:15.265899999999906,pitch:166.46274937407688,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9996731555713652},{time:15.282600000000093,pitch:166.6370431408558,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996250258911132},{time:15.299199999999953,pitch:167.1052915495754,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9995911963624025},{time:15.316,pitch:167.581455773751,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9994859710838071},{time:15.332600000000093,pitch:167.86512732593093,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9993876619500384},{time:15.349300000000046,pitch:168.6245858564438,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9983964587898271},{time:15.365899999999908,pitch:169.70874392975196,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9961058049698011},{time:15.385100000000094,pitch:171.66495337432676,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9925077706296719},{time:15.399300000000046,pitch:172.40644266397334,noteMidi:53,actualMidi:52.78,actualMidiChroma:4.780000000000001,centsOffset:-21.999999999999886,clarity:.9924732277651884},{time:15.415899999999906,pitch:173.48726713804393,noteMidi:53,actualMidi:52.89,actualMidiChroma:4.890000000000001,centsOffset:-10.999999999999943,clarity:.9916148206848874},{time:15.432600000000093,pitch:173.963511164248,noteMidi:53,actualMidi:52.94,actualMidiChroma:4.939999999999998,centsOffset:-6.000000000000227,clarity:.9896689706848463},{time:15.449300000000047,pitch:175.16036943900133,noteMidi:53,actualMidi:53.05,actualMidiChroma:5.049999999999997,centsOffset:4.999999999999716,clarity:.9907720181884017},{time:15.466,pitch:175.6584190101521,noteMidi:53,actualMidi:53.1,actualMidiChroma:5.100000000000001,centsOffset:10.000000000000142,clarity:.9921100629148185},{time:15.482600000000094,pitch:175.81819853608042,noteMidi:53,actualMidi:53.12,actualMidiChroma:5.119999999999997,centsOffset:11.999999999999744,clarity:.9900103829605271},{time:15.499199999999954,pitch:177.47569149438309,noteMidi:53,actualMidi:53.28,actualMidiChroma:5.280000000000001,centsOffset:28.000000000000114,clarity:.9821667798021849},{time:15.516,pitch:177.85746860743478,noteMidi:53,actualMidi:53.32,actualMidiChroma:5.32,centsOffset:32.00000000000003,clarity:.9822603927675857},{time:15.532600000000093,pitch:177.7305141963233,noteMidi:53,actualMidi:53.31,actualMidiChroma:5.310000000000002,centsOffset:31.000000000000227,clarity:.986045796150151},{time:15.549300000000047,pitch:177.92672222634016,noteMidi:53,actualMidi:53.33,actualMidiChroma:5.329999999999998,centsOffset:32.99999999999983,clarity:.9870553053559306},{time:15.565899999999907,pitch:178.9528408841786,noteMidi:53,actualMidi:53.42,actualMidiChroma:5.420000000000002,centsOffset:42.00000000000017,clarity:.979806463977944},{time:15.582600000000093,pitch:179.5221695955171,noteMidi:53,actualMidi:53.48,actualMidiChroma:5.479999999999997,centsOffset:47.99999999999969,clarity:.9771490056626959},{time:15.599199999999954,pitch:179.1673950280054,noteMidi:53,actualMidi:53.45,actualMidiChroma:5.450000000000003,centsOffset:45.000000000000284,clarity:.9825840230796743},{time:15.616,pitch:178.72440821034422,noteMidi:53,actualMidi:53.4,actualMidiChroma:5.399999999999999,centsOffset:39.99999999999986,clarity:.9866950393541387},{time:15.6325,pitch:179.30692986338647,noteMidi:53,actualMidi:53.46,actualMidiChroma:5.460000000000001,centsOffset:46.000000000000085,clarity:.9826147241884229},{time:15.649300000000046,pitch:180.47615780704726,noteMidi:54,actualMidi:53.57,actualMidiChroma:5.57,centsOffset:-42.99999999999997,clarity:.9736180940988106},{time:15.665899999999906,pitch:179.9556847611114,noteMidi:54,actualMidi:53.52,actualMidiChroma:5.520000000000003,centsOffset:-47.99999999999969,clarity:.9831329414000791},{time:15.682600000000093,pitch:179.89652600468818,noteMidi:54,actualMidi:53.52,actualMidiChroma:5.520000000000003,centsOffset:-47.99999999999969,clarity:.9840994032757209},{time:15.699199999999953,pitch:181.11645824795818,noteMidi:54,actualMidi:53.63,actualMidiChroma:5.630000000000003,centsOffset:-36.999999999999744,clarity:.975128993526809},{time:15.718300000000047,pitch:182.10848209627042,noteMidi:54,actualMidi:53.73,actualMidiChroma:5.729999999999997,centsOffset:-27.000000000000313,clarity:.9727933440239411},{time:15.732600000000094,pitch:181.68479145332344,noteMidi:54,actualMidi:53.69,actualMidiChroma:5.689999999999998,centsOffset:-31.000000000000227,clarity:.9787736678922485},{time:15.749300000000046,pitch:181.5577754482416,noteMidi:54,actualMidi:53.68,actualMidiChroma:5.68,centsOffset:-32.00000000000003,clarity:.9786507611462625},{time:15.765899999999906,pitch:182.36748846015303,noteMidi:54,actualMidi:53.75,actualMidiChroma:5.75,centsOffset:-25,clarity:.9712378016005658},{time:15.782600000000093,pitch:182.26210996180527,noteMidi:54,actualMidi:53.74,actualMidiChroma:5.740000000000002,centsOffset:-25.9999999999998,clarity:.9727220947547579},{time:15.799199999999953,pitch:180.82489419714184,noteMidi:54,actualMidi:53.61,actualMidiChroma:5.609999999999999,centsOffset:-39.00000000000006,clarity:.981265437623982},{time:15.815899999999907,pitch:181.78412403084377,noteMidi:54,actualMidi:53.7,actualMidiChroma:5.700000000000003,centsOffset:-29.999999999999716,clarity:.9740195968928731},{time:15.8325,pitch:182.14308730495148,noteMidi:54,actualMidi:53.73,actualMidiChroma:5.729999999999997,centsOffset:-27.000000000000313,clarity:.968022192538811},{time:15.849300000000046,pitch:181.0743062334016,noteMidi:54,actualMidi:53.63,actualMidiChroma:5.630000000000003,centsOffset:-36.999999999999744,clarity:.9794905094546493},{time:15.865899999999908,pitch:180.96524965056975,noteMidi:54,actualMidi:53.62,actualMidiChroma:5.619999999999997,centsOffset:-38.000000000000256,clarity:.9788311902833797},{time:15.882600000000092,pitch:181.22669918505758,noteMidi:54,actualMidi:53.64,actualMidiChroma:5.640000000000001,centsOffset:-35.99999999999994,clarity:.9780995164753676},{time:15.899199999999954,pitch:181.04540937765643,noteMidi:54,actualMidi:53.63,actualMidiChroma:5.630000000000003,centsOffset:-36.999999999999744,clarity:.9730196600587107},{time:15.915899999999906,pitch:179.37990877061884,noteMidi:53,actualMidi:53.47,actualMidiChroma:5.469999999999999,centsOffset:46.999999999999886,clarity:.9832734268029455},{time:15.932600000000093,pitch:179.1655569708442,noteMidi:53,actualMidi:53.45,actualMidiChroma:5.450000000000003,centsOffset:45.000000000000284,clarity:.9836109636626347},{time:15.949199999999953,pitch:179.7265060932876,noteMidi:54,actualMidi:53.5,actualMidiChroma:5.5,centsOffset:-50,clarity:.9772443902440102},{time:15.965899999999907,pitch:178.12473526829396,noteMidi:53,actualMidi:53.34,actualMidiChroma:5.340000000000003,centsOffset:34.00000000000034,clarity:.9786240854316546},{time:15.982600000000094,pitch:176.58710134283783,noteMidi:53,actualMidi:53.19,actualMidiChroma:5.189999999999998,centsOffset:18.999999999999773,clarity:.9862545657755959},{time:15.999199999999954,pitch:174.0578246980628,noteMidi:53,actualMidi:52.94,actualMidiChroma:4.939999999999998,centsOffset:-6.000000000000227,clarity:.9908591509370837},{time:16.015899999999906,pitch:172.57986228893117,noteMidi:53,actualMidi:52.8,actualMidiChroma:4.799999999999997,centsOffset:-20.000000000000284,clarity:.9911189512797094},{time:16.032600000000095,pitch:172.57715731370683,noteMidi:53,actualMidi:52.8,actualMidiChroma:4.799999999999997,centsOffset:-20.000000000000284,clarity:.9859343972285828},{time:16.051600000000093,pitch:172.6973310566844,noteMidi:53,actualMidi:52.81,actualMidiChroma:4.810000000000002,centsOffset:-18.999999999999773,clarity:.9831621103904382},{time:16.066,pitch:171.7537433769402,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9837132304895135},{time:16.08260000000009,pitch:171.18076907456629,noteMidi:53,actualMidi:52.66,actualMidiChroma:4.659999999999997,centsOffset:-34.00000000000034,clarity:.9873499495040079},{time:16.099199999999954,pitch:169.65290825954716,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9917157825764633},{time:16.115899999999908,pitch:169.08842489845517,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9936791588650138},{time:16.1325,pitch:168.8543860482823,noteMidi:52,actualMidi:52.42,actualMidiChroma:4.420000000000002,centsOffset:42.00000000000017,clarity:.9943031374838256},{time:16.149199999999954,pitch:168.2533860507679,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.9943735297103089},{time:16.16589999999991,pitch:168.10895951079405,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9950852633783995},{time:16.1825,pitch:167.88870429414325,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9946549322413034},{time:16.199300000000047,pitch:167.5414404316285,noteMidi:52,actualMidi:52.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9943736488862456},{time:16.215899999999905,pitch:167.39093757729333,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9929152654336022},{time:16.232600000000094,pitch:167.04477240607747,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9924381580804322},{time:16.249300000000048,pitch:166.9030006274428,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9918287158560517},{time:16.265899999999906,pitch:166.64922107662372,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9901634557768375},{time:16.282600000000095,pitch:166.52317812132702,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9897762314990715},{time:16.299300000000045,pitch:166.55574962002436,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9882995059442337},{time:16.315899999999907,pitch:166.14069773425553,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9867146377900795},{time:16.33260000000009,pitch:166.4010516945281,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9872918224744964},{time:16.349199999999954,pitch:165.81423696109044,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9845739560435618},{time:16.366,pitch:165.89841010934978,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9830363592428384},{time:16.385,pitch:166.07727465239654,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9809857788645502},{time:16.399199999999954,pitch:165.7760672219568,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9799340897605404},{time:16.41589999999991,pitch:165.95531350853008,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9792327503982392},{time:16.4325,pitch:165.69011936094003,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9779035418244106},{time:16.449199999999955,pitch:166.03583863829118,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9781225427776121},{time:16.465899999999905,pitch:165.35493338383029,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.975252786098352},{time:16.482600000000094,pitch:165.99540945817478,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.974701476490111},{time:16.499300000000048,pitch:165.2762453195656,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9733510664492329},{time:16.515899999999906,pitch:165.62961527079156,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9730420622325511},{time:16.532600000000095,pitch:165.0826041311463,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9723120499144926},{time:16.549199999999953,pitch:165.59348400504587,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9703490821784655},{time:16.565899999999907,pitch:164.9925357453912,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.969573980743391},{time:16.58260000000009,pitch:165.40895280035508,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9714670973299491},{time:16.599199999999954,pitch:164.6091744737456,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9695280051537978},{time:16.615899999999908,pitch:164.74234044580953,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9714951260245854},{time:16.632600000000092,pitch:164.2763204116287,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9689488776002051},{time:16.649300000000046,pitch:164.52003772077492,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9715520733761238},{time:16.66589999999991,pitch:164.31221103783005,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9732129306843973},{time:16.682600000000093,pitch:164.50513720389506,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9739552509479736},{time:16.699199999999955,pitch:164.08311359632793,noteMidi:52,actualMidi:51.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9749666715345526},{time:16.718199999999953,pitch:164.493114738392,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.97298635220492},{time:16.732600000000094,pitch:164.2812436673432,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.97418951544973},{time:16.749199999999952,pitch:164.70486357217123,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9748809594906476},{time:16.765899999999906,pitch:164.32320486302282,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9744087512066173},{time:16.782600000000095,pitch:164.8442799201956,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9757426113209533},{time:16.799199999999953,pitch:163.98532547859693,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9749200377585439},{time:16.815800000000046,pitch:164.43892121743576,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9777309271296843},{time:16.8325,pitch:163.97845924960347,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9776095106905132},{time:16.849300000000046,pitch:164.3025656584806,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9789039412166431},{time:16.865899999999908,pitch:163.88619311270043,noteMidi:52,actualMidi:51.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9789124387957031},{time:16.882600000000092,pitch:164.5972019494292,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9765877996930215},{time:16.899300000000046,pitch:164.16604024716332,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9745155261679557},{time:16.91589999999991,pitch:164.42141677570973,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9719924726658604},{time:16.9325,pitch:164.2823726393027,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9706357914766883},{time:16.949199999999955,pitch:164.9310903712281,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9685338288299477},{time:16.965899999999905,pitch:163.97034415772086,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.964452584747292},{time:16.982600000000094,pitch:164.9828934533351,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9655245442445519},{time:16.999199999999952,pitch:163.47886469388828,noteMidi:52,actualMidi:51.86,actualMidiChroma:3.8599999999999994,centsOffset:-14.000000000000057,clarity:.9650959486634463},{time:17.016,pitch:164.40767478547127,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9650638561715112},{time:17.032600000000095,pitch:164.1138124977332,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9590824975024361},{time:17.051600000000093,pitch:164.78423332122753,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9484419636517885},{time:17.066,pitch:163.97846169559966,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.93807170864455},{time:17.08260000000009,pitch:165.17572554039168,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9321226597723253},{time:17.099300000000046,pitch:164.38572972521004,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9164446683576486},{time:17.115899999999908,pitch:165.1442444149234,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9054764180555992},{time:17.132399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.149,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.165699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.182399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.199100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.215699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.232399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.249100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.282399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.29910000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.315800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.332399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.365699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.384800000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.415699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.432399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.449100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.465800000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.4825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.499100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.515699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.532399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.549,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.565699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.599,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.615800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.632399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.649,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.665800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.682399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.699199999999955,pitch:164.57998956916842,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.7727720442789803},{time:17.718300000000045,pitch:164.47721978676518,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9246529358668312},{time:17.7325,pitch:164.45578935925158,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9969270385712719},{time:17.749199999999952,pitch:164.4149330328975,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996402448748398},{time:17.765899999999906,pitch:164.44192272643383,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996589550079591},{time:17.7825,pitch:164.4825083325738,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996502675211758},{time:17.799199999999953,pitch:164.55517540086996,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996484187045525},{time:17.815899999999907,pitch:164.88169234767184,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995704376009229},{time:17.8325,pitch:165.10641321497263,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9994829198074342},{time:17.849300000000046,pitch:165.6676152815397,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9992742112508068},{time:17.865899999999908,pitch:166.4060070391678,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.999037556667389},{time:17.8825,pitch:166.91940569218582,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9990396778874029},{time:17.899199999999954,pitch:167.96361774512616,noteMidi:52,actualMidi:52.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.998317130348795},{time:17.91589999999991,pitch:169.23796065493778,noteMidi:52,actualMidi:52.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.9977794218778726},{time:17.932600000000093,pitch:170.06654866910802,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.997127260606419},{time:17.949199999999955,pitch:172.25072570902444,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.9943001882427893},{time:17.965899999999905,pitch:173.7199575445278,noteMidi:53,actualMidi:52.91,actualMidiChroma:4.909999999999997,centsOffset:-9.000000000000341,clarity:.9961581555997299},{time:17.9825,pitch:173.91781227503608,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9968169905550468},{time:17.999300000000048,pitch:173.88446138127503,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9965775740244567},{time:18.015899999999906,pitch:173.63387104701584,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9966155610723106},{time:18.032600000000095,pitch:172.78384867194669,noteMidi:53,actualMidi:52.82,actualMidiChroma:4.82,centsOffset:-17.99999999999997,clarity:.9951105908396514},{time:18.051100000000094,pitch:170.08775804537447,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9916798371994133},{time:18.066,pitch:166.86389856475975,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9957191318935585},{time:18.0825,pitch:165.98736315145183,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9981692907414512},{time:18.099199999999954,pitch:164.88311284756796,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9992467871283992},{time:18.115899999999908,pitch:164.51474133474554,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994753958775817},{time:18.1325,pitch:164.45115317740897,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996266073228526},{time:18.149100000000093,pitch:164.43862086254407,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9995002523822976},{time:18.16589999999991,pitch:164.48732682994628,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9995730223335499},{time:18.182600000000093,pitch:164.63361382583108,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995562954528978},{time:18.199199999999955,pitch:165.14742332810414,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9990159644724628},{time:18.215899999999905,pitch:166.62436970045832,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9974683968552043},{time:18.232399999999906,pitch:167.66486934881792,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9975439322931408},{time:18.249199999999952,pitch:169.72913251036255,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9952223978808945},{time:18.265800000000045,pitch:172.46704755161718,noteMidi:53,actualMidi:52.79,actualMidiChroma:4.789999999999999,centsOffset:-21.000000000000085,clarity:.9865751326285022},{time:18.282600000000095,pitch:173.73037148108455,noteMidi:53,actualMidi:52.91,actualMidiChroma:4.909999999999997,centsOffset:-9.000000000000341,clarity:.9851265790425643},{time:18.299199999999953,pitch:174.84464473761142,noteMidi:53,actualMidi:53.02,actualMidiChroma:5.020000000000003,centsOffset:2.0000000000003126,clarity:.9857757586510871},{time:18.315800000000046,pitch:174.2640528707011,noteMidi:53,actualMidi:52.97,actualMidiChroma:4.969999999999999,centsOffset:-3.0000000000001137,clarity:.9883993225014152},{time:18.3325,pitch:173.98260702768584,noteMidi:53,actualMidi:52.94,actualMidiChroma:4.939999999999998,centsOffset:-6.000000000000227,clarity:.9910026034929444},{time:18.349300000000046,pitch:171.74792071135678,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9902939780493085},{time:18.365899999999908,pitch:168.67651283378117,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9929500045224557},{time:18.384899999999906,pitch:166.13627783624412,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9977212136227536},{time:18.399199999999954,pitch:165.7675233679335,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.998050684530206},{time:18.41589999999991,pitch:164.735494526045,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988547892763933},{time:18.4325,pitch:164.67257705113946,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99905210500593},{time:18.449199999999955,pitch:164.5490994686062,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9995279523206548},{time:18.465800000000048,pitch:164.71409764890294,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995310718626484},{time:18.482600000000094,pitch:164.76666142715274,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9994748400759903},{time:18.499199999999952,pitch:165.66144596266213,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9986019406279709},{time:18.515899999999906,pitch:167.13261781341328,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9974949761015992},{time:18.5325,pitch:168.1067615925246,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9972864128409924},{time:18.549300000000045,pitch:170.04599456947807,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.9934944731182185},{time:18.565800000000046,pitch:172.06570133883574,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.984860053159224},{time:18.5825,pitch:173.29296687972533,noteMidi:53,actualMidi:52.87,actualMidiChroma:4.869999999999997,centsOffset:-13.000000000000256,clarity:.9807336000324796},{time:18.599199999999954,pitch:172.9932802447196,noteMidi:53,actualMidi:52.84,actualMidiChroma:4.840000000000003,centsOffset:-15.999999999999659,clarity:.9799297298676635},{time:18.615899999999908,pitch:171.36492150324185,noteMidi:53,actualMidi:52.67,actualMidiChroma:4.670000000000002,centsOffset:-32.99999999999983,clarity:.9897893074874844},{time:18.6325,pitch:170.14980006791941,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9910362643511021},{time:18.649199999999954,pitch:167.44384117714105,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.993051792624172},{time:18.665800000000047,pitch:165.22582272657877,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9981739872805448},{time:18.6825,pitch:164.78879069527054,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9983012373363778},{time:18.699199999999955,pitch:164.32625733635055,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991416024744311},{time:18.718300000000045,pitch:164.3903231521565,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999189560110139},{time:18.732600000000094,pitch:164.46385047142346,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9990973850110692},{time:18.749199999999952,pitch:164.53049698340166,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9988266088829292},{time:18.765899999999906,pitch:164.92667230794933,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9984491645588633},{time:18.7825,pitch:165.30675676679945,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.997597406277599},{time:18.799199999999953,pitch:166.90761095332266,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9969923746601381},{time:18.815800000000046,pitch:168.73573424861826,noteMidi:52,actualMidi:52.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.9961034421286357},{time:18.832399999999907,pitch:169.6041950565177,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9962297700892222},{time:18.849199999999954,pitch:170.57338648094893,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.9943968837526143},{time:18.865899999999908,pitch:171.31291330076056,noteMidi:53,actualMidi:52.67,actualMidiChroma:4.670000000000002,centsOffset:-32.99999999999983,clarity:.9891469652018898},{time:18.8825,pitch:171.22883686892695,noteMidi:53,actualMidi:52.66,actualMidiChroma:4.659999999999997,centsOffset:-34.00000000000034,clarity:.9869853479615216},{time:18.899199999999954,pitch:170.27383423140733,noteMidi:53,actualMidi:52.56,actualMidiChroma:4.560000000000002,centsOffset:-43.99999999999977,clarity:.9775011954684771},{time:18.915800000000047,pitch:167.71592374224616,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9812556826286993},{time:18.932600000000093,pitch:166.22138186738889,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9887732968119707},{time:18.949199999999955,pitch:164.8982681101341,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9948917420969394},{time:18.965899999999905,pitch:164.55115053891606,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9966348282612216},{time:18.9825,pitch:164.4735597470431,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9964157800242077},{time:18.999199999999952,pitch:164.55622824203806,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9965722272201418},{time:19.015899999999906,pitch:164.92072315029398,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9957028177327061},{time:19.032600000000095,pitch:165.33281593048216,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9935828708774466},{time:19.049399999999906,pitch:166.9967368371517,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9881827871475082},{time:19.065899999999907,pitch:168.95780132726878,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9902845598306982},{time:19.0825,pitch:169.40737836787082,noteMidi:52,actualMidi:52.48,actualMidiChroma:4.479999999999997,centsOffset:47.99999999999969,clarity:.9867912160503352},{time:19.099100000000092,pitch:170.44965854250455,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.9849351718486687},{time:19.115800000000046,pitch:170.29193324934093,noteMidi:53,actualMidi:52.57,actualMidiChroma:4.57,centsOffset:-42.99999999999997,clarity:.9899208990849857},{time:19.1325,pitch:169.68642079390094,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9930653730752823},{time:19.149199999999954,pitch:167.49688798620843,noteMidi:52,actualMidi:52.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9955527264094499},{time:19.16589999999991,pitch:165.679074452243,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.997882574260359},{time:19.1825,pitch:165.01335564073892,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9981803240697786},{time:19.199199999999955,pitch:164.51865397590194,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.998665138074692},{time:19.215800000000048,pitch:164.4397190427387,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9985661489071589},{time:19.2325,pitch:164.4685504202222,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9985983274136956},{time:19.249199999999952,pitch:164.56773279425377,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9980672886831776},{time:19.265800000000045,pitch:165.8627174266473,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9970910370976291},{time:19.282600000000095,pitch:166.3648561719326,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9959837252060488},{time:19.299199999999953,pitch:168.47476615320636,noteMidi:52,actualMidi:52.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9943038072476327},{time:19.315800000000046,pitch:169.94072689004724,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9912736468743546},{time:19.3325,pitch:170.76862209908052,noteMidi:53,actualMidi:52.61,actualMidiChroma:4.609999999999999,centsOffset:-39.00000000000006,clarity:.9860803610243991},{time:19.349100000000092,pitch:172.89948735302,noteMidi:53,actualMidi:52.83,actualMidiChroma:4.829999999999998,centsOffset:-17.00000000000017,clarity:.9638011170199903},{time:19.365800000000046,pitch:173.0498734715289,noteMidi:53,actualMidi:52.84,actualMidiChroma:4.840000000000003,centsOffset:-15.999999999999659,clarity:.9571045928507687},{time:19.384699999999953,pitch:170.79729802886033,noteMidi:53,actualMidi:52.62,actualMidiChroma:4.619999999999997,centsOffset:-38.000000000000256,clarity:.9668708445818055},{time:19.399100000000093,pitch:169.4903012884934,noteMidi:52,actualMidi:52.48,actualMidiChroma:4.479999999999997,centsOffset:47.99999999999969,clarity:.9653903824279766},{time:19.41589999999991,pitch:166.36512838538366,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9848366052161452},{time:19.4325,pitch:165.2705057508452,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9935585702064742},{time:19.449199999999955,pitch:164.56252860615638,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9968436529344586},{time:19.465899999999905,pitch:164.47170713626528,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.998098569218655},{time:19.4825,pitch:164.36083845120723,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9978143175691159},{time:19.499199999999952,pitch:164.9048148927852,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9974313589979005},{time:19.515800000000045,pitch:165.74402273235313,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9955778571276994},{time:19.5325,pitch:166.50940026992177,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9951580883332056},{time:19.549199999999953,pitch:167.994426537849,noteMidi:52,actualMidi:52.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.9940050512762646},{time:19.565800000000046,pitch:168.96705826010216,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9928928361282168},{time:19.5825,pitch:168.94884520002324,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9943650482001516},{time:19.599199999999954,pitch:169.18202330666264,noteMidi:52,actualMidi:52.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9926188576843415},{time:19.615800000000046,pitch:168.0969240532466,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.988447193970373},{time:19.6325,pitch:167.40196788959187,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9858606810899531},{time:19.649199999999954,pitch:165.71655037734524,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9914006918700835},{time:19.665800000000047,pitch:164.88612499065755,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9952268350780074},{time:19.6825,pitch:165.11697692775184,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9955985416050908},{time:19.699300000000047,pitch:164.92967109458556,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9936953873331547},{time:19.718199999999953,pitch:165.8139785784379,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9893994698099462},{time:19.732600000000094,pitch:166.01761581422676,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.986286924307457},{time:19.749199999999952,pitch:168.1032622945923,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9799163663223496},{time:19.765899999999906,pitch:169.976861329392,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9757273795520405},{time:19.782300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.799,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.815699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.832300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.849199999999954,pitch:165.27472527472528,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9815936240744065},{time:19.865800000000046,pitch:164.66410132903746,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9938913691267004},{time:19.8825,pitch:164.36341042779847,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9949264360666135},{time:19.899199999999954,pitch:164.6708455564373,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9956311543627621},{time:19.915699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.932300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.949100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.965800000000048,pitch:167.87580053135977,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.991443034661522},{time:19.9825,pitch:168.3522347794266,noteMidi:52,actualMidi:52.37,actualMidiChroma:4.369999999999997,centsOffset:36.999999999999744,clarity:.9922386423190233},{time:19.999199999999952,pitch:169.03958168031645,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9900293494549324},{time:20.015800000000045,pitch:169.0567393273612,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9832601877331157},{time:20.0325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.05139999999991,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.065699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.082300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.099100000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.115699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.132300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.149,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.165699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.182399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.199,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.215600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.232399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.249,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.282399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.299,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.315699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.332300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.368100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.382399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.415699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.432300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.449,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.465699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.482300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.499100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.51560000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.532399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.549,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.565699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.599,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.615600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.632300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.649,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.665699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.682399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.7015,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.715699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.732399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.749,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.765699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.782300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.799,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.815699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.832399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.849100000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.865699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.882300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.899,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.915600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.932300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.949,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.965699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.982399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.999,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.015699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.0345,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.049,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.065600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.082399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.099,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.115699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.132300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.149,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.165699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.182300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.199,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.215600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.232300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.249100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.282300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.29910000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.315699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.332300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.365699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.382399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.415699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.432399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.449,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.465699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.482399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.499199999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.515699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.532300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.54910000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.565699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.599,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.615699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.632399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.649,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.665699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.684300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.699199999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.715600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.732300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.749,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.765699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.782399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.799,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.815699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.832300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.849,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.865699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.882399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.899199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.915600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.932300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.949100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.965699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.982300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.001199999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.015699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.032399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.049,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.065699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.082399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.099199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.115699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.132399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.149100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.165600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.182300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.199100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.215699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.232399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.249,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.282399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.299,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.318100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.332399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.365699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.382399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.415600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.432300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.449,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.465800000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0}],vmt="pitch-bend-audio",bmt="2024-07-03T13:38:52.148Z",Cmt={pastTime:pmt,firstTimeStamp:gmt,minVolumeDecibels:Mmt,ignoreOctave:Amt,bendValues:ymt,_appId:vmt,_date:bmt};function _mt(e){let t,i,n,a,s,l,c,d,u;return{c(){t=K("p"),t.textContent="1) Play/sing a bend by one semitone (for example, A to A#).",i=Y(),n=K("p"),n.textContent="2) Play/sing a bend by two semitones (for example, A to B).",a=Y(),s=K("p"),s.textContent="3) Play/sing a vibrato where you always bend by one semitone.",l=Y(),c=K("p"),c.textContent=`4) Play/sing a vibrato and then a second one with twice the
                frequency of modulation.`,d=Y(),u=K("p"),u.textContent=`5) Slide from one note to a much higher one as smoothly as
                possible.`},m(h,g){_t(h,t,g),_t(h,i,g),_t(h,n,g),_t(h,a,g),_t(h,s,g),_t(h,l,g),_t(h,c,g),_t(h,d,g),_t(h,u,g)},p:Fe,d(h){h&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c),Ct(d),Ct(u))}}}function Emt(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h=e[3]?"play":"pause",g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot;function pt(bt){e[15](bt)}let wt={label:"past seconds",callback:e[10],min:5,max:60,step:5};e[5]!==void 0&&(wt.value=e[5]),M=new ia({props:wt}),me.push(()=>Te(M,"value",pt));function Mt(bt){e[17](bt)}let xt={title:"The minimum loudness in decibels for a sound to be registered as input. Lower means fainter notes will be registered but there will be more noise such as octave errors.",label:"min. decibels",callback:e[16],min:-40,max:-5,step:5};e[7]!==void 0&&(xt.value=e[7]),b=new ia({props:xt}),me.push(()=>Te(b,"value",Mt));function dt(bt){e[18](bt)}let Ot={label:"ignore octave",title:"When ignoring the octave, the lower visualization will only show the note's chroma from C to B",callback:e[10]};e[6]!==void 0&&(Ot.checked=e[6]),x=new Tr({props:Ot}),me.push(()=>Te(x,"checked",dt));function At(bt){e[22](bt)}let jt={saveToStorage:Smt,callback:e[21]};return e[8]!==void 0&&(jt.notes=e[8]),L=new aa({props:jt}),me.push(()=>Te(L,"notes",At)),j=new ua({props:{loadData:e[13],getExportData:e[12],appId:e[0].id}}),Q=new Kr({props:{$$slots:{default:[_mt]},$$scope:{ctx:e}}}),q=new Xr({props:{appId:e[0].id}}),W=new Ga({props:{key:" ",keyDown:e[14]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing pitch bends or vibratos with any
            instrument that supports pitch modulation or with you singing voice.
            The line chart below shows how far you bend up and down over time.`,c=Y(),d=K("div"),u=K("button"),g=se(h),m=Y(),Ut(M.$$.fragment),A=Y(),Ut(b.$$.fragment),E=Y(),Ut(x.$$.fragment),C=Y(),O=K("button"),O.textContent="resume",I=Y(),T=K("div"),D=Y(),P=K("div"),Ut(L.$$.fragment),U=Y(),$=K("button"),$.textContent="example",F=Y(),Ut(j.$$.fragment),z=Y(),Ut(Q.$$.fragment),V=Y(),Ut(q.$$.fragment),J=Y(),Ut(W.$$.fragment),ut(l,"class","explanation"),ut(u,"title","Pause the moving visualization (shortcut: space)"),un(u,"width","75px"),ut(O,"title","Press this button if your browser prevents audio access because there needs to be a user interaction first"),ut(d,"class","control"),ut(T,"class","visualization"),ut(P,"class","control"),ut(t,"class","app")},m(bt,kt){_t(bt,t,kt),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),R(d,u),R(u,g),R(d,m),Nt(M,d,null),R(d,A),Nt(b,d,null),R(d,E),Nt(x,d,null),R(d,C),R(d,O),R(t,I),R(t,T),e[20](T),R(t,D),R(t,P),Nt(L,P,null),R(P,U),R(P,$),R(P,F),Nt(j,P,null),R(t,z),Nt(Q,t,null),R(t,V),Nt(q,t,null),R(t,J),Nt(W,t,null),et=!0,mt||(ot=[Qe(u,"click",e[14]),Qe(O,"click",e[19]),Qe($,"click",e[23])],mt=!0)},p(bt,kt){(!et||kt&1)&&n!==(n=bt[0].title+"")&&Ue(a,n),(!et||kt&8)&&h!==(h=bt[3]?"play":"pause")&&Ue(g,h);const Dt={};!p&&kt&32&&(p=!0,Dt.value=bt[5],Se(()=>p=!1)),M.$set(Dt);const Xt={};kt&132&&(Xt.callback=bt[16]),!v&&kt&128&&(v=!0,Xt.value=bt[7],Se(()=>v=!1)),b.$set(Xt);const ae={};!_&&kt&64&&(_=!0,ae.checked=bt[6],Se(()=>_=!1)),x.$set(ae);const Jt={};kt&16&&(Jt.callback=bt[21]),!N&&kt&256&&(N=!0,Jt.notes=bt[8],Se(()=>N=!1)),L.$set(Jt);const le={};kt&1&&(le.appId=bt[0].id),j.$set(le);const Ve={};kt&268435456&&(Ve.$$scope={dirty:kt,ctx:bt}),Q.$set(Ve);const ai={};kt&1&&(ai.appId=bt[0].id),q.$set(ai)},i(bt){et||(Bt(M.$$.fragment,bt),Bt(b.$$.fragment,bt),Bt(x.$$.fragment,bt),Bt(L.$$.fragment,bt),Bt(j.$$.fragment,bt),Bt(Q.$$.fragment,bt),Bt(q.$$.fragment,bt),Bt(W.$$.fragment,bt),et=!0)},o(bt){Rt(M.$$.fragment,bt),Rt(b.$$.fragment,bt),Rt(x.$$.fragment,bt),Rt(L.$$.fragment,bt),Rt(j.$$.fragment,bt),Rt(Q.$$.fragment,bt),Rt(q.$$.fragment,bt),Rt(W.$$.fragment,bt),et=!1},d(bt){bt&&Ct(t),Ft(M),Ft(b),Ft(x),e[20](null),Ft(L),Ft(j),Ft(Q),Ft(q),Ft(W),mt=!1,ar(ot)}}}function wmt(e){let t,i;return t=new da({props:{loadData:e[13],$$slots:{default:[Emt]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&268435967&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let Omt=900,xmt=600;const yS=16,Smt=()=>{};function Tmt(e,t,i){let{appInfo:n}=t,a,s,l,c,d=!1,u=performance.now(),h=new window.AudioContext,g=10,m=!0,M=-20,p=[],A=0;function b(F,j){s.getFloatTimeDomainData(F);const z=l.findPitch(F,j),Q=z[0],V=z[1],q=mm(Q),W={time:(performance.now()-u)/1e3,pitch:Q,actualMidi:q,actualMidiChroma:q%12,clarity:V};if(p.push(W),p.length>3){const et=q,mt=p.at(-2).actualMidi,ot=p.at(-3).actualMidi;Math.abs(et-ot)<1.5&&Math.abs(et-mt)>1.5&&p.splice(-2,1)}v(),c=requestAnimationFrame(()=>b(F,j))}const v=()=>{if(!a)return;i(1,a.textContent="",a);let F;p.length>0?F=p.at(-1).time:F=(performance.now()-u)/1e3;const j=p.filter((W,et)=>et===0||Math.abs(p[et-1].pitch-W.pitch)<3),z=F-g,Q=1e3/yS;let V=Math.round(Uh(j.slice(-Q),W=>W.actualMidi));isNaN(V)?V=A:A=V;const q=W=>Math.floor(W)===W?Oy(W,{pitchClass:m,sharps:!0}):"",J=Sn({width:Omt,height:xmt,marginBottom:50,padding:0,x:{domain:[z,F-yS/1e3],label:"time in seconds"},y:{domain:m?[0,12]:[V-5,V+5],label:m?"chroma":"pitch",grid:!0},marks:[vv(j,{x:"time",y:m?"actualMidiChroma":"actualMidi",clip:!0,curve:"basis",stroke:"#666",strokeWidth:2}),Io({anchor:"left",tickFormat:q}),Io({anchor:"right",tickFormat:q})]});a.appendChild(J)},E=()=>{s=h.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(F=>{h.createMediaStreamSource(F).connect(s),i(2,l=Sc.forFloat32Array(s.fftSize)),i(2,l.minVolumeDecibels=M,l);const j=new Float32Array(l.inputLength);b(j,h.sampleRate)}),v()};sr(E);const x=()=>({pastTime:g,firstTimeStamp:u,minVolumeDecibels:M,ignoreOctave:m,bendValues:p}),_=F=>{i(3,d=!0),cancelAnimationFrame(c),i(5,g=F.pastTime),i(4,u=F.firstTimeStamp),i(7,M=F.minVolumeDecibels),i(6,m=F.ignoreOctave??!1),i(8,p=F.bendValues),v()};or(()=>{clearTimeout(c),cancelAnimationFrame(c)});const C=()=>{i(3,d=!d),d?cancelAnimationFrame(c):E()};function O(F){g=F,i(5,g)}const I=()=>i(2,l.minVolumeDecibels=M,l);function T(F){M=F,i(7,M)}function D(F){m=F,i(6,m)}const P=()=>{h.resume(),E()};function L(F){me[F?"unshift":"push"](()=>{a=F,i(1,a)})}const N=()=>{i(4,u=performance.now()),v()};function U(F){p=F,i(8,p)}const $=()=>_(Cmt);return e.$$set=F=>{"appInfo"in F&&i(0,n=F.appInfo)},[n,a,l,d,u,g,m,M,p,h,v,E,x,_,C,O,I,T,D,P,L,N,U,$]}class Imt extends qi{constructor(t){super(),Wi(this,t,Tmt,wmt,Ji,{appInfo:0})}}const Bmt=15,Rmt=33129.90000009537,Dmt=-25,Pmt=!0,Lmt=[{time:.017299999952316285,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.028,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.044899999856948855,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.061399999856948856,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.078,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.09459999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.11129999995231628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.128,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.14459999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.16129999995231628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.17809999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.19459999990463256,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.21139999985694885,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.228,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.24459999990463258,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.2612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.278,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.2945999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.3112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.328,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.3445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.36129999995231626,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.378,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.39459999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.4112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.4278999998569489,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.44459999990463256,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.4612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.478,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.49459999990463255,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5113999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.528,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5611999998092652,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5778999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6781999998092652,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6945999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7278999998569489,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7612999999523162,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7778999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7946999998092651,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.828,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8778999998569489,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8945999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9278999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9616999998092651,note:"E2",pitch:83.56865000290836,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.36734256884756533},{time:.9781999998092651,note:"E2",pitch:84.03204558710574,noteMidi:40,actualMidi:40.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.28548823458057093},{time:.9946999998092652,note:"A0",pitch:28.20510072559441,noteMidi:21,actualMidi:21.44,actualMidiChroma:9.440000000000001,centsOffset:44.00000000000013,clarity:.42969844868787277},{time:1.011399999856949,note:"A4",pitch:432.3990181924554,noteMidi:69,actualMidi:68.7,actualMidiChroma:8.700000000000003,centsOffset:-29.999999999999716,clarity:.5012674832709241},{time:1.0280999999046325,note:"A4",pitch:435.98698398196944,noteMidi:69,actualMidi:68.84,actualMidiChroma:8.840000000000003,centsOffset:-15.999999999999659,clarity:.4880171096876236},{time:1.0445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.0612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.0945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.1111999998092652,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.1278999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.144699999809265,note:"C1",pitch:32.88495963522127,noteMidi:24,actualMidi:24.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.01257515143433352},{time:1.1613999998569489,note:"E2",pitch:83.98191350111632,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.5921441079905208},{time:1.178,note:"E2",pitch:83.04846868191989,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.7619197261586379},{time:1.1946999998092651,note:"E2",pitch:83.2911415442013,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9367037292415432},{time:1.211399999856949,note:"E2",pitch:83.30867749556846,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9399263496657966},{time:1.2280999999046325,note:"E2",pitch:83.36697963878561,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9331100178867757},{time:1.2446999998092652,note:"E2",pitch:83.43869868690359,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9455124740793508},{time:1.261399999856949,note:"E2",pitch:83.62552594670407,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9391197029899274},{time:1.2780999999046325,note:"E2",pitch:83.47807978976537,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9403479105035331},{time:1.2946999998092652,note:"E2",pitch:83.44869772383375,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9474955656462214},{time:1.3115,note:"E2",pitch:83.28262142389825,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9263490800501586},{time:1.3280999999046326,note:"E2",pitch:83.46467844703064,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.924952996526855},{time:1.3446999998092652,note:"E2",pitch:83.43813604409073,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9390574832663958},{time:1.3612999999523163,note:"E2",pitch:83.30289849240798,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9497658143106804},{time:1.3780999999046326,note:"E2",pitch:83.77077445245168,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9486261197398846},{time:1.394699999809265,note:"E2",pitch:83.60887316340514,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9396027646618279},{time:1.4112999999523164,note:"E2",pitch:83.4535191090718,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9465869610037174},{time:1.4280999999046327,note:"E2",pitch:83.38011614718087,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9473009955986953},{time:1.444899999856949,note:"E2",pitch:83.61773277489769,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9296394976345681},{time:1.461399999856949,note:"E2",pitch:83.62131786648243,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9437911256281666},{time:1.478,note:"E2",pitch:83.26970350630133,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.954638121325587},{time:1.4946999998092652,note:"E2",pitch:83.15623457376218,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9432576344602666},{time:1.511399999856949,note:"E2",pitch:83.28585273152603,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9397615489091606},{time:1.5280999999046325,note:"E2",pitch:83.31928462149796,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9476775552848551},{time:1.5446999998092652,note:"E2",pitch:83.28338544999899,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9512859884175668},{time:1.5613999998569488,note:"E2",pitch:83.19967165400541,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9271788353989336},{time:1.578,note:"E2",pitch:83.40734840777999,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9368849255423299},{time:1.5946999998092652,note:"E2",pitch:83.40162684752946,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9481471282774407},{time:1.6113999998569488,note:"E2",pitch:83.186290776606,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9375809588908055},{time:1.6280999999046326,note:"E2",pitch:83.53880651492764,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9276889982759542},{time:1.644699999809265,note:"E2",pitch:83.36444105959293,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9415344515684296},{time:1.6613999998569489,note:"E2",pitch:83.38330870913661,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9417691553971395},{time:1.6780999999046327,note:"E2",pitch:83.56476039767564,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9179823898515451},{time:1.6945999999046326,note:"E2",pitch:83.54962783126022,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9308430738161064},{time:1.711399999856949,note:"E2",pitch:83.51359812741026,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9394064386730463},{time:1.7280999999046325,note:"E2",pitch:83.40472879923547,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9255064518656866},{time:1.7445999999046327,note:"E2",pitch:83.59429349333952,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9064287560612456},{time:1.761399999856949,note:"E2",pitch:83.46710406415164,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9272216124665249},{time:1.7780999999046325,note:"E2",pitch:83.27141744797525,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9280671429026199},{time:1.7946999998092652,note:"E2",pitch:83.24783112336945,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9035475899777623},{time:1.8113999998569488,note:"E2",pitch:83.47427346673234,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.8989598105267191},{time:1.8280999999046326,note:"E2",pitch:83.61727930125453,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9007445372366192},{time:1.8446999998092652,note:"E2",pitch:83.5452111891312,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.913247792575163},{time:1.8613999998569488,note:"E2",pitch:83.33915393103493,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9018297703991607},{time:1.8780999999046326,note:"E2",pitch:83.73295973153097,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9132557012659106},{time:1.894699999809265,note:"E2",pitch:83.51103711110177,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9286626628310728},{time:1.9113999998569489,note:"E2",pitch:83.76430699400564,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9111753493920105},{time:1.928,note:"E2",pitch:83.34634689495516,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9066889748682456},{time:1.9445999999046326,note:"E2",pitch:83.57996073187275,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9215394476626102},{time:1.961399999856949,note:"E2",pitch:83.4905322790394,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9349760579533495},{time:1.978,note:"E2",pitch:83.29576461640528,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9373431425422041},{time:1.9947999999523163,note:"E2",pitch:83.39819301947443,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9295593447502313},{time:2.0113999998569487,note:"E2",pitch:83.16901808987956,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9345636201971104},{time:2.028,note:"E2",pitch:83.31142552776856,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9356322405107278},{time:2.044699999809265,note:"E2",pitch:83.23829500743575,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9193349789077274},{time:2.061399999856949,note:"E2",pitch:83.24011282803359,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9337831432988537},{time:2.078,note:"E2",pitch:83.18052875381633,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9435693605477979},{time:2.094699999809265,note:"E2",pitch:83.30390339563503,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9348399769655771},{time:2.111399999856949,note:"E2",pitch:83.24911081154517,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9368836293864149},{time:2.128,note:"E2",pitch:83.36825976054297,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9507427650053728},{time:2.1446999998092653,note:"E2",pitch:83.31737344415194,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9809750071235896},{time:2.1613999998569486,note:"E2",pitch:83.53329308567467,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9902614241587173},{time:2.178199999809265,note:"E2",pitch:83.57119064617795,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9865470940608247},{time:2.1947999999523162,note:"E2",pitch:83.44934533317509,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9684382703887877},{time:2.211399999856949,note:"E2",pitch:83.4885454054069,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9649892810028291},{time:2.2280999999046327,note:"E2",pitch:83.4839793053308,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9677360675792954},{time:2.244699999809265,note:"B3",pitch:249.52266480609734,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9381800244286538},{time:2.2613999998569487,note:"B3",pitch:250.38838215289945,noteMidi:59,actualMidi:59.24,actualMidiChroma:11.240000000000002,centsOffset:24.0000000000002,clarity:.9928115789267586},{time:2.2780999999046325,note:"B3",pitch:249.98304251430082,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9980025586206125},{time:2.294699999809265,note:"B3",pitch:249.6865563284747,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9995758980641938},{time:2.311399999856949,note:"B3",pitch:249.6224180842238,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9996501992621383},{time:2.328099999904633,note:"B3",pitch:249.55794483980125,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9997110949690189},{time:2.344699999809265,note:"B3",pitch:249.5168144422139,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998584703777347},{time:2.361399999856949,note:"B3",pitch:249.55012258575695,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998815757110222},{time:2.378199999809265,note:"B3",pitch:249.54316407331524,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998768286449469},{time:2.3946999998092653,note:"B3",pitch:249.5911381509047,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998731337561431},{time:2.4113999998569486,note:"B3",pitch:249.63021665560973,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9998803354656758},{time:2.428,note:"B3",pitch:249.66793380022318,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9998897110094376},{time:2.444699999809265,note:"B3",pitch:249.71574035152838,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9999011673404361},{time:2.461399999856949,note:"B3",pitch:249.76743022608997,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999095353011036},{time:2.4780999999046327,note:"B3",pitch:249.779877523333,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999103074670295},{time:2.4945999999046324,note:"B3",pitch:249.82147029917567,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999093489904176},{time:2.5113999998569487,note:"B3",pitch:249.87838203235717,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999109131351815},{time:2.5280999999046325,note:"B3",pitch:249.90013590683114,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999141989584821},{time:2.544699999809265,note:"B3",pitch:249.91655907015183,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999188748797572},{time:2.5612999999523165,note:"B3",pitch:249.925070548409,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999308631840265},{time:2.578,note:"B3",pitch:249.90557998857597,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999364183353556},{time:2.594699999809265,note:"B3",pitch:249.87891129168378,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.999932393955671},{time:2.6112999999523163,note:"B3",pitch:249.83545961236936,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999266730021752},{time:2.6280999999046326,note:"B3",pitch:249.82327134403556,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999243911676601},{time:2.6445999999046323,note:"B3",pitch:249.80826991676832,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999255598549297},{time:2.661299999952316,note:"B3",pitch:249.7950962728168,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999311724040787},{time:2.6780999999046324,note:"B3",pitch:249.78957891429255,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.999931465680028},{time:2.694699999809265,note:"B3",pitch:249.76248672512088,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999387760066654},{time:2.711399999856949,note:"B3",pitch:249.75221935265432,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.999939524803068},{time:2.7280999999046327,note:"B3",pitch:249.75419122276648,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999397547078921},{time:2.7445999999046324,note:"B3",pitch:249.75542295031113,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999368012897492},{time:2.7612999999523162,note:"B3",pitch:249.78232643397234,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999413699524062},{time:2.778,note:"B3",pitch:249.7823059027025,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999431639054102},{time:2.794699999809265,note:"B3",pitch:249.79059692753478,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999432776488248},{time:2.811399999856949,note:"B3",pitch:249.82376530805655,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999466245066699},{time:2.828099999904633,note:"B3",pitch:249.83675653504255,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999458194858768},{time:2.844699999809265,note:"B3",pitch:249.86383519955552,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999485841882247},{time:2.8612999999523163,note:"B3",pitch:249.89608981603743,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999547853611439},{time:2.8780999999046326,note:"B3",pitch:249.90768984729434,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999551497698498},{time:2.8946999998092653,note:"B3",pitch:249.92761266935085,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999493733064533},{time:2.911299999952316,note:"B3",pitch:249.95288411637264,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999431138352186},{time:2.928,note:"B3",pitch:249.9640702140536,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999410372030617},{time:2.9447999999523162,note:"B3",pitch:249.9800773570908,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999318168890845},{time:2.961399999856949,note:"B3",pitch:249.99640678270364,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999348561531853},{time:2.978,note:"B3",pitch:249.98836914955922,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999342405318146},{time:2.994699999809265,note:"B3",pitch:249.98657188619651,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999321069521372},{time:3.0112999999523162,note:"B3",pitch:249.9739104871976,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999190403350582},{time:3.0280999999046325,note:"B3",pitch:249.95834496936303,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999133400306768},{time:3.044699999809265,note:"B3",pitch:249.9448503429846,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.99991237630719},{time:3.061399999856949,note:"B3",pitch:249.91215527723327,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999025737841372},{time:3.078099999904633,note:"B3",pitch:249.8852793645268,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999019514463576},{time:3.094699999809265,note:"B3",pitch:249.86668114999503,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998809734119938},{time:3.1112999999523163,note:"B3",pitch:249.86322519522028,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998562527635677},{time:3.128,note:"B3",pitch:249.87425830060812,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998661599227887},{time:3.1446999998092653,note:"B3",pitch:249.87654537368303,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998514163739749},{time:3.1613999998569486,note:"B3",pitch:249.8879720710945,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.999840461984693},{time:3.1780999999046324,note:"B3",pitch:249.8810361578343,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998383705667067},{time:3.194699999809265,note:"B3",pitch:249.9010965299323,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997980387683683},{time:3.211399999856949,note:"B3",pitch:249.92265641912311,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997678786712747},{time:3.228,note:"B3",pitch:249.95395467220885,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997427584668408},{time:3.244699999809265,note:"B3",pitch:249.9904664352006,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997211380167386},{time:3.2612999999523162,note:"B3",pitch:249.9834008655377,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.999679175410936},{time:3.2780999999046325,note:"B3",pitch:249.95646438205495,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9996668114658078},{time:3.294699999809265,note:"B3",pitch:249.97796495287034,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9996474175852441},{time:3.3112999999523165,note:"B3",pitch:249.97176960865565,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9995380173575406},{time:3.328,note:"B3",pitch:250.01993634277667,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9995188750629254},{time:3.344699999809265,note:"B3",pitch:250.0076493120332,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9994328802752186},{time:3.361399999856949,note:"B3",pitch:250.04279323434523,noteMidi:59,actualMidi:59.22,actualMidiChroma:11.219999999999999,centsOffset:21.999999999999886,clarity:.9994019565831671},{time:3.3780999999046326,note:"B3",pitch:250.0248164532874,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9993590926421696},{time:3.3945999999046323,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.411199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4277999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4612999999523164,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.478,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.5112999999523162,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.561199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.578,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.5945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.611199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.627899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.6445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.661199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.677899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.6945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7111999998092653,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7445999999046324,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.761199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.777899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8112999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8278999998569487,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.861399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.877899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8945999999046323,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9113999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9277999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9611999998092653,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.978,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.011199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.027899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.044599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.0612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.0945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.111199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.1278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.1445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.161299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.177899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.1945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.211199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.227899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.2445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.261199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.277899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.294599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.327899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.361299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.3778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.412099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.427899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.444599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.461199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.477899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.494599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.5612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.577899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.5945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.611299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.6278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.644599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.677899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.694599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.711199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.727899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.761299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.777899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.7945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.827899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.8945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.9111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.927899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.977899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.011199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.027899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.061199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.0945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.111199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.177899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.211199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.227899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.2445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.261199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.277799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.294599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.327899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.361399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.3778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.4111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.427899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.4445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.461199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.477899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.4945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.5612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.577899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.5945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.611199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.6445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.677799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.6945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.711199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.727899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.761199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.794599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.827799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.8945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.9111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.927899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.977899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.011199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.027799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.061199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.0945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.111199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.177799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.211199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.228,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.244599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.261199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.277899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.2945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.328,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.361199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.377799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.4111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.427899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.4445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.461199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.477899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.4945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.561199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.577799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.5945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.611199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.644399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.677899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.6945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.711299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.727899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.761199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.7945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.827799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.8778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.8945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.9111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.927799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.978,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.011399999856949,note:"Db4",pitch:271.06362728332886,noteMidi:61,actualMidi:60.61,actualMidiChroma:.6099999999999994,centsOffset:-39.00000000000006,clarity:.08040075813761538},{time:7.028,note:"F3",pitch:169.85649763095245,noteMidi:53,actualMidi:52.52,actualMidiChroma:4.520000000000003,centsOffset:-47.99999999999969,clarity:.7818871198568331},{time:7.044599999904633,note:"F3",pitch:169.72477189912775,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.8121939736008414},{time:7.0612999999523165,note:"E3",pitch:168.2727382189103,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.8064913792516109},{time:7.078099999904633,note:"E3",pitch:168.08179308768607,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.6857714637934009},{time:7.094699999809265,note:"F3",pitch:178.67248721021238,noteMidi:53,actualMidi:53.4,actualMidiChroma:5.399999999999999,centsOffset:39.99999999999986,clarity:.8124283236965084},{time:7.111299999952316,note:"F3",pitch:177.999685389489,noteMidi:53,actualMidi:53.33,actualMidiChroma:5.329999999999998,centsOffset:32.99999999999983,clarity:.9503452882862575},{time:7.128,note:"F3",pitch:177.97116376244952,noteMidi:53,actualMidi:53.33,actualMidiChroma:5.329999999999998,centsOffset:32.99999999999983,clarity:.9430279422282979},{time:7.144699999809265,note:"F3",pitch:178.2320150375641,noteMidi:53,actualMidi:53.36,actualMidiChroma:5.359999999999999,centsOffset:35.99999999999994,clarity:.9441299092914051},{time:7.161399999856949,note:"F3",pitch:178.6106398691054,noteMidi:53,actualMidi:53.39,actualMidiChroma:5.390000000000001,centsOffset:39.00000000000006,clarity:.9335209896674428},{time:7.177899999856949,note:"F3",pitch:178.85801101262834,noteMidi:53,actualMidi:53.42,actualMidiChroma:5.420000000000002,centsOffset:42.00000000000017,clarity:.9227312057840891},{time:7.194699999809266,note:"F3",pitch:179.33779359664553,noteMidi:53,actualMidi:53.46,actualMidiChroma:5.460000000000001,centsOffset:46.000000000000085,clarity:.9237773952430075},{time:7.2113999998569485,note:"Gb3",pitch:179.87678323274235,noteMidi:54,actualMidi:53.51,actualMidiChroma:5.509999999999998,centsOffset:-49.0000000000002,clarity:.9234556953728088},{time:7.227899999856949,note:"Gb3",pitch:180.19252463188346,noteMidi:54,actualMidi:53.54,actualMidiChroma:5.539999999999999,centsOffset:-46.000000000000085,clarity:.9286744275160572},{time:7.244699999809265,note:"Gb3",pitch:181.02461061605996,noteMidi:54,actualMidi:53.62,actualMidiChroma:5.619999999999997,centsOffset:-38.000000000000256,clarity:.9165656342985926},{time:7.261299999952317,note:"Gb3",pitch:182.6711380455531,noteMidi:54,actualMidi:53.78,actualMidiChroma:5.780000000000001,centsOffset:-21.999999999999886,clarity:.8425687125230183},{time:7.277899999856949,note:"Gb3",pitch:183.19474065981416,noteMidi:54,actualMidi:53.83,actualMidiChroma:5.829999999999998,centsOffset:-17.00000000000017,clarity:.8070065069124439},{time:7.294599999904633,note:"F3",pitch:171.3845854122462,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.8626372300479659},{time:7.3112999999523165,note:"F3",pitch:171.93295478243638,noteMidi:53,actualMidi:52.73,actualMidiChroma:4.729999999999997,centsOffset:-27.000000000000313,clarity:.9018536533558859},{time:7.328,note:"F3",pitch:172.07543528475193,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.8768688782174081},{time:7.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.361199999809265,note:"F3",pitch:172.20308702893945,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.8690860650982586},{time:7.378,note:"F3",pitch:172.05858161897024,noteMidi:53,actualMidi:52.74,actualMidiChroma:4.740000000000002,centsOffset:-25.9999999999998,clarity:.9029524129360595},{time:7.394699999809265,note:"F3",pitch:170.75965870541697,noteMidi:53,actualMidi:52.61,actualMidiChroma:4.609999999999999,centsOffset:-39.00000000000006,clarity:.8516494571662321},{time:7.4111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.427799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.444599999904632,note:"E3",pitch:165.39698192348558,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.8786491126944469},{time:7.461299999952316,note:"E3",pitch:165.4914769158506,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9325141064955389},{time:7.478,note:"E3",pitch:165.38151238024753,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9395410841602185},{time:7.494599999904633,note:"E3",pitch:165.51182335594999,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9326510312881169},{time:7.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.527799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.5612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.577899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.5945999999046325,note:"E3",pitch:167.66105756453007,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9316236031343053},{time:7.611299999952316,note:"E3",pitch:168.28999494413193,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.9306105360878192},{time:7.628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.6445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.677799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.694399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.711299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.727799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.761099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.778,note:"E3",pitch:166.58744276712162,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9113997721521514},{time:7.794599999904633,note:"E3",pitch:166.93139482595817,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9128077148477871},{time:7.811099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.828,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.8778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.894599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.911299999952316,note:"E3",pitch:167.55774741567868,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.8974041656857992},{time:7.927899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.977799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.011299999952316,note:"E2",pitch:83.19365364648253,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9698783200147432},{time:8.028,note:"E2",pitch:83.3360770189433,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.980146451901291},{time:8.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.077799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.0945,note:"E2",pitch:83.80783704710825,noteMidi:40,actualMidi:40.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9695941456862442},{time:8.111299999952315,note:"E2",pitch:83.49509334756333,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9944641822980174},{time:8.128,note:"E2",pitch:83.21782046523856,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.998028178280407},{time:8.144599999904633,note:"E2",pitch:83.36913366831975,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.998554656555271},{time:8.161099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.177799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.194599999904632,note:"E2",pitch:83.31114968108781,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9990628281254033},{time:8.211299999952317,note:"E2",pitch:83.50948860963466,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9970373404913744},{time:8.228099999904632,note:"E2",pitch:83.49918272597772,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9907585435884982},{time:8.244599999904633,note:"E3",pitch:166.60208683546534,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9091201557837394},{time:8.261299999952316,note:"E2",pitch:83.18714921279305,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9928336565264857},{time:8.278,note:"E2",pitch:83.10713839178656,noteMidi:40,actualMidi:40.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9944495310200239},{time:8.294599999904632,note:"E2",pitch:83.29558613649449,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9989964191388481},{time:8.311399999856949,note:"E2",pitch:83.24707110704878,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9989015965839343},{time:8.328,note:"E2",pitch:83.42665365553933,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9978977627574466},{time:8.344699999809265,note:"E2",pitch:83.44022058356474,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9953843850545212},{time:8.36139999985695,note:"Gb4",pitch:377.19050289080735,noteMidi:66,actualMidi:66.33,actualMidiChroma:6.329999999999998,centsOffset:32.99999999999983,clarity:.18216382935662723},{time:8.377899999856949,note:"F3",pitch:174.5690951081058,noteMidi:53,actualMidi:53,actualMidiChroma:5,centsOffset:0,clarity:.6258386485877665},{time:8.394599999904633,note:"F3",pitch:172.62533155925195,noteMidi:53,actualMidi:52.8,actualMidiChroma:4.799999999999997,centsOffset:-20.000000000000284,clarity:.8598827117467067},{time:8.411399999856949,note:"F3",pitch:172.21997738583175,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.9033507580080595},{time:8.428,note:"F3",pitch:172.08992870587514,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.8388006226238076},{time:8.444599999904632,note:"F3",pitch:170.53760291546797,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.8400651396792114},{time:8.461299999952317,note:"F3",pitch:170.45382293768034,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.8691572346070018},{time:8.478,note:"F3",pitch:171.0018170771062,noteMidi:53,actualMidi:52.64,actualMidiChroma:4.640000000000001,centsOffset:-35.99999999999994,clarity:.8709567760186587},{time:8.494599999904633,note:"Gb3",pitch:182.71878175835238,noteMidi:54,actualMidi:53.79,actualMidiChroma:5.789999999999999,centsOffset:-21.000000000000085,clarity:.9363432164074936},{time:8.511299999952316,note:"Gb3",pitch:184.3897147113502,noteMidi:54,actualMidi:53.94,actualMidiChroma:5.939999999999998,centsOffset:-6.000000000000227,clarity:.9631368530200319},{time:8.528,note:"Gb3",pitch:184.48438185492353,noteMidi:54,actualMidi:53.95,actualMidiChroma:5.950000000000003,centsOffset:-4.999999999999716,clarity:.9644609328700398},{time:8.544599999904632,note:"Gb3",pitch:184.91566303244994,noteMidi:54,actualMidi:53.99,actualMidiChroma:5.990000000000002,centsOffset:-.999999999999801,clarity:.9475553102848835},{time:8.561299999952316,note:"Gb3",pitch:187.02763018042535,noteMidi:54,actualMidi:54.19,actualMidiChroma:6.189999999999998,centsOffset:18.999999999999773,clarity:.9151423220461226},{time:8.57789999985695,note:"Gb3",pitch:187.2513932564633,noteMidi:54,actualMidi:54.21,actualMidiChroma:6.210000000000001,centsOffset:21.000000000000085,clarity:.9261743991103941},{time:8.594599999904633,note:"Gb3",pitch:187.19928742004018,noteMidi:54,actualMidi:54.2,actualMidiChroma:6.200000000000003,centsOffset:20.000000000000284,clarity:.9250986192861959},{time:8.611299999952315,note:"Gb3",pitch:189.35157298564798,noteMidi:54,actualMidi:54.4,actualMidiChroma:6.399999999999999,centsOffset:39.99999999999986,clarity:.8937435530741169},{time:8.628,note:"Gb3",pitch:189.32956419997714,noteMidi:54,actualMidi:54.4,actualMidiChroma:6.399999999999999,centsOffset:39.99999999999986,clarity:.8886805340433028},{time:8.644599999904633,note:"F3",pitch:177.05022710561988,noteMidi:53,actualMidi:53.24,actualMidiChroma:5.240000000000002,centsOffset:24.0000000000002,clarity:.8862540838475041},{time:8.661199999809265,note:"F3",pitch:176.47972280180585,noteMidi:53,actualMidi:53.18,actualMidiChroma:5.18,centsOffset:17.99999999999997,clarity:.7982107112744217},{time:8.67789999985695,note:"F3",pitch:176.54781281925537,noteMidi:53,actualMidi:53.19,actualMidiChroma:5.189999999999998,centsOffset:18.999999999999773,clarity:.8115945291019528},{time:8.694599999904632,note:"G0",pitch:23.836295567173778,noteMidi:19,actualMidi:18.52,actualMidiChroma:6.52,centsOffset:-48.00000000000004,clarity:.9690810186075396},{time:8.711299999952317,note:"F3",pitch:174.9109314561057,noteMidi:53,actualMidi:53.03,actualMidiChroma:5.030000000000001,centsOffset:3.0000000000001137,clarity:.7918201297121499},{time:8.727899999856948,note:"F3",pitch:174.07771529884945,noteMidi:53,actualMidi:52.95,actualMidiChroma:4.950000000000003,centsOffset:-4.999999999999716,clarity:.8084391795277668},{time:8.744599999904633,note:"F3",pitch:172.53725223758343,noteMidi:53,actualMidi:52.79,actualMidiChroma:4.789999999999999,centsOffset:-21.000000000000085,clarity:.8681668810506267},{time:8.761299999952316,note:"F3",pitch:170.53654974913266,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.7320937827541769},{time:8.777899999856949,note:"F3",pitch:169.81858812188838,noteMidi:53,actualMidi:52.52,actualMidiChroma:4.520000000000003,centsOffset:-47.99999999999969,clarity:.8376796080263915},{time:8.794599999904632,note:"F3",pitch:169.753446134875,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9164382067307528},{time:8.811299999952316,note:"E3",pitch:168.30382118369525,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.8773505561648136},{time:8.828,note:"E3",pitch:167.17015751238046,noteMidi:52,actualMidi:52.25,actualMidiChroma:4.25,centsOffset:25,clarity:.8247883831664637},{time:8.844599999904633,note:"E3",pitch:165.6312923106978,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.7931297994577164},{time:8.861299999952315,note:"E3",pitch:166.92191676165763,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.8984869621231084},{time:8.877899999856949,note:"E3",pitch:167.2033800797346,noteMidi:52,actualMidi:52.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9197061871177112},{time:8.894599999904633,note:"E3",pitch:167.26233023588279,noteMidi:52,actualMidi:52.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9369667371114048},{time:8.911299999952316,note:"E3",pitch:166.2319644744594,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9235298584980853},{time:8.928,note:"E3",pitch:165.64499897409843,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.8842860309413467},{time:8.944599999904632,note:"E2",pitch:82.95606287181089,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9406593366718994},{time:8.961299999952317,note:"E2",pitch:83.0557679042339,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9485758347457818},{time:8.977899999856948,note:"E3",pitch:166.25317914709373,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.8634979258388356},{time:8.994699999809265,note:"E3",pitch:166.66395953597615,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9039883697235567},{time:9.011299999952316,note:"E3",pitch:167.0593121682053,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9286429081727547},{time:9.028,note:"E3",pitch:166.9731736579849,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9350220424886757},{time:9.044599999904632,note:"E3",pitch:166.40219079638265,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9191025864924995},{time:9.061299999952316,note:"E3",pitch:166.33700864977118,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.8863633544763516},{time:9.078,note:"E2",pitch:82.84814829451665,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9738648030651973},{time:9.094599999904633,note:"E2",pitch:83.00098111345571,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9692138030310105},{time:9.111299999952315,note:"E3",pitch:166.84023124667107,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.8841741234765763},{time:9.127899999856949,note:"E3",pitch:166.98311799482317,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.891384057321666},{time:9.1445,note:"E3",pitch:166.97209847260174,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.8840548309707188},{time:9.161299999952316,note:"E2",pitch:82.92332844456688,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9840790345847381},{time:9.17789999985695,note:"E2",pitch:83.01704943570131,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9849427649875508},{time:9.194599999904632,note:"E2",pitch:83.1835159042653,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9865294966244562},{time:9.211199999809265,note:"E2",pitch:82.9558247534857,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.984555845117228},{time:9.228,note:"E2",pitch:82.89287880889094,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9835091808501772},{time:9.244599999904633,note:"E2",pitch:83.07487139073281,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9850288314833335},{time:9.261299999952316,note:"E2",pitch:82.96484316699964,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.989976889046261},{time:9.278,note:"E2",pitch:82.8895380542204,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9907621751790714},{time:9.294599999904632,note:"E2",pitch:83.04769195532513,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9882381956278437},{time:9.311299999952316,note:"E2",pitch:83.04030540553406,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9869489724885057},{time:9.327799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.344599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.361099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.377799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.39439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.411199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.427799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.444399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.461099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.477799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.494399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.511199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.527799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.54439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.561099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.577799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.594399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.611099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.64439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.661099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.677799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.694399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.711099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.727799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.744399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.761199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.79439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.811099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.827799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.844599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.861099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.89439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.911199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.927799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.961099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.977799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.994399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.011299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.027799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.077799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.111099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.127799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.14439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.161199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.178,note:"B3",pitch:248.71590222203193,noteMidi:59,actualMidi:59.12,actualMidiChroma:11.119999999999997,centsOffset:11.999999999999744,clarity:.5840499150733507},{time:10.194599999904632,note:"F3",pitch:172.45101721435643,noteMidi:53,actualMidi:52.78,actualMidiChroma:4.780000000000001,centsOffset:-21.999999999999886,clarity:.764106955670087},{time:10.211299999952317,note:"F3",pitch:171.6922375799798,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.8530905320258171},{time:10.227899999856948,note:"F3",pitch:171.43177822885116,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.9220854327745087},{time:10.244599999904633,note:"F3",pitch:170.8429731862728,noteMidi:53,actualMidi:52.62,actualMidiChroma:4.619999999999997,centsOffset:-38.000000000000256,clarity:.8026087540077924},{time:10.261399999856948,note:"F3",pitch:170.22412125950723,noteMidi:53,actualMidi:52.56,actualMidiChroma:4.560000000000002,centsOffset:-43.99999999999977,clarity:.8134539923845523},{time:10.277899999856949,note:"F3",pitch:170.46022716786885,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.788898232445149},{time:10.294599999904632,note:"Gb3",pitch:182.74636277809245,noteMidi:54,actualMidi:53.79,actualMidiChroma:5.789999999999999,centsOffset:-21.000000000000085,clarity:.7828808897170347},{time:10.311399999856949,note:"Gb3",pitch:182.01489298316457,noteMidi:54,actualMidi:53.72,actualMidiChroma:5.719999999999999,centsOffset:-28.000000000000114,clarity:.92626491408015},{time:10.328,note:"Gb3",pitch:183.12740132755812,noteMidi:54,actualMidi:53.82,actualMidiChroma:5.82,centsOffset:-17.99999999999997,clarity:.9493449146960984},{time:10.344599999904633,note:"Gb3",pitch:184.9134569354542,noteMidi:54,actualMidi:53.99,actualMidiChroma:5.990000000000002,centsOffset:-.999999999999801,clarity:.9490766037212097},{time:10.361299999952315,note:"Gb3",pitch:186.5743710685163,noteMidi:54,actualMidi:54.15,actualMidiChroma:6.149999999999999,centsOffset:14.999999999999858,clarity:.932044078662642},{time:10.378099999904633,note:"Gb3",pitch:188.0137260004386,noteMidi:54,actualMidi:54.28,actualMidiChroma:6.280000000000001,centsOffset:28.000000000000114,clarity:.9173624087522967},{time:10.394599999904633,note:"Gb3",pitch:189.35529176205063,noteMidi:54,actualMidi:54.4,actualMidiChroma:6.399999999999999,centsOffset:39.99999999999986,clarity:.9193492461791379},{time:10.411299999952316,note:"Gb3",pitch:190.11857200013085,noteMidi:54,actualMidi:54.47,actualMidiChroma:6.469999999999999,centsOffset:46.999999999999886,clarity:.9204204694571274},{time:10.428,note:"G3",pitch:190.7655683486787,noteMidi:55,actualMidi:54.53,actualMidiChroma:6.530000000000001,centsOffset:-46.999999999999886,clarity:.9114416657444337},{time:10.444599999904632,note:"G3",pitch:191.49746208529152,noteMidi:55,actualMidi:54.6,actualMidiChroma:6.600000000000001,centsOffset:-39.99999999999986,clarity:.8994993463661842},{time:10.461299999952317,note:"G3",pitch:191.91244359060283,noteMidi:55,actualMidi:54.64,actualMidiChroma:6.640000000000001,centsOffset:-35.99999999999994,clarity:.8617443199403851},{time:10.477899999856948,note:"G3",pitch:192.1806120360001,noteMidi:55,actualMidi:54.66,actualMidiChroma:6.659999999999997,centsOffset:-34.00000000000034,clarity:.8332309223862353},{time:10.4945,note:"G3",pitch:192.06818530361744,noteMidi:55,actualMidi:54.65,actualMidiChroma:6.649999999999999,centsOffset:-35.00000000000014,clarity:.8244714752007667},{time:10.511199999809266,note:"Gb0",pitch:23.763078509836912,noteMidi:18,actualMidi:18.47,actualMidiChroma:6.469999999999999,centsOffset:46.999999999999886,clarity:.8853665351271047},{time:10.527899999856949,note:"G3",pitch:191.93202708372894,noteMidi:55,actualMidi:54.64,actualMidiChroma:6.640000000000001,centsOffset:-35.99999999999994,clarity:.7326660369460569},{time:10.544599999904632,note:"F3",pitch:173.19635614672922,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.7832540571276354},{time:10.561299999952316,note:"Gb0",pitch:23.50385492659778,noteMidi:18,actualMidi:18.28,actualMidiChroma:6.280000000000001,centsOffset:28.000000000000114,clarity:.9005270437919535},{time:10.577799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.594599999904633,note:"Gb0",pitch:23.64654595005964,noteMidi:18,actualMidi:18.39,actualMidiChroma:6.390000000000001,centsOffset:39.00000000000006,clarity:.9393869334890042},{time:10.611099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.64439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.661099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.677699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.694399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.711,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.727799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.761099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.79439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.811099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.827799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.861199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.877699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.89439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.911099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.927699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.944399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.961099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.977899999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.994399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.011099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.027799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.077699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.094399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.111199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.127799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.14439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.161399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.177799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.194399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.211099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.227799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.244399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.261299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.277699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.29439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.327799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.344399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.361099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.377799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.411099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.427799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.444399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.461099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.477799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.494399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.511099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.527799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.54439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.561199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.577799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.594399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.611199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.64439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.661099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.677699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.694399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.711099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.727699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.744399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.761099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.777899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.79439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.827799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.844399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.861099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.89439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.911099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.927699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.961099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.977799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.994399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.011099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.027899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.04439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.077799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.094399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.111,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.127699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.14439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.161199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.177699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.194399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.211099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.227799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.244399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.261,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.277699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.29439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.327699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.344399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.361199999809266,note:"Db3",pitch:138.9776562481823,noteMidi:49,actualMidi:49.05,actualMidiChroma:1.0499999999999972,centsOffset:4.999999999999716,clarity:.5692454597053214},{time:12.377899999856949,note:"C3",pitch:132.82012461181446,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.827786727332672},{time:12.394699999809266,note:"C3",pitch:132.51671296883308,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9501402702940993},{time:12.411299999952316,note:"C3",pitch:132.60452326897047,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9978847574416108},{time:12.427799999952317,note:"C3",pitch:132.6419669219357,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9975007496057273},{time:12.444599999904632,note:"C3",pitch:132.60438329435672,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9971238136692548},{time:12.461199999809265,note:"C3",pitch:132.61585185030646,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9971346393179346},{time:12.477799999952316,note:"C3",pitch:132.6473023082439,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9972020905154153},{time:12.4945,note:"C3",pitch:132.67496463269816,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9970560742768697},{time:12.511199999809266,note:"C3",pitch:132.73522884463398,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9974392958051297},{time:12.527799999952316,note:"C3",pitch:132.75616648557158,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9975873120360603},{time:12.5445,note:"C3",pitch:132.88060683841323,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9978846580018548},{time:12.561199999809265,note:"C3",pitch:132.8498672374689,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9981718883480113},{time:12.57789999985695,note:"C3",pitch:133.0357773293992,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9983663240076659},{time:12.5945,note:"C3",pitch:133.04975703655973,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.998682668435336},{time:12.611199999809266,note:"C3",pitch:133.24098555158727,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9989693724273678},{time:12.627799999952316,note:"C3",pitch:133.38528113116172,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9991628850212066},{time:12.64439999985695,note:"C3",pitch:133.68890087220774,noteMidi:48,actualMidi:48.38,actualMidiChroma:.38000000000000256,centsOffset:38.000000000000256,clarity:.999318782589512},{time:12.661099999904632,note:"C3",pitch:134.25621954544823,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9994078078053832},{time:12.67789999985695,note:"C3",pitch:134.48529019986356,noteMidi:48,actualMidi:48.48,actualMidiChroma:.4799999999999969,centsOffset:47.99999999999969,clarity:.999507378191204},{time:12.6945,note:"Db3",pitch:135.08030953019122,noteMidi:49,actualMidi:48.56,actualMidiChroma:.5600000000000023,centsOffset:-43.99999999999977,clarity:.9996096899189411},{time:12.711199999809265,note:"Db3",pitch:135.83929094721572,noteMidi:49,actualMidi:48.65,actualMidiChroma:.6499999999999986,centsOffset:-35.00000000000014,clarity:.9989916426512622},{time:12.727899999856948,note:"Db3",pitch:136.55215861960346,noteMidi:49,actualMidi:48.74,actualMidiChroma:.740000000000002,centsOffset:-25.9999999999998,clarity:.9979794337995997},{time:12.744599999904633,note:"Db3",pitch:138.70461894513718,noteMidi:49,actualMidi:49.01,actualMidiChroma:1.009999999999998,centsOffset:.999999999999801,clarity:.9974080136793049},{time:12.761199999809266,note:"Db3",pitch:140.42060544095722,noteMidi:49,actualMidi:49.23,actualMidiChroma:1.2299999999999969,centsOffset:22.999999999999687,clarity:.9988884470055268},{time:12.777899999856949,note:"Db3",pitch:140.93444867191957,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.9993278559015906},{time:12.7945,note:"Db3",pitch:141.65120845784614,noteMidi:49,actualMidi:49.38,actualMidiChroma:1.3800000000000026,centsOffset:38.000000000000256,clarity:.9995788995679646},{time:12.811199999809265,note:"Db3",pitch:142.0885791883037,noteMidi:49,actualMidi:49.43,actualMidiChroma:1.4299999999999997,centsOffset:42.99999999999997,clarity:.9996991189088931},{time:12.82789999985695,note:"Db3",pitch:142.22368933836913,noteMidi:49,actualMidi:49.45,actualMidiChroma:1.4500000000000028,centsOffset:45.000000000000284,clarity:.9997363954694336},{time:12.844599999904633,note:"Db3",pitch:142.2998212878994,noteMidi:49,actualMidi:49.46,actualMidiChroma:1.4600000000000009,centsOffset:46.000000000000085,clarity:.9997351686485842},{time:12.861199999809266,note:"Db3",pitch:142.25313857260224,noteMidi:49,actualMidi:49.45,actualMidiChroma:1.4500000000000028,centsOffset:45.000000000000284,clarity:.9997038916588963},{time:12.877899999856949,note:"Db3",pitch:142.19292494271684,noteMidi:49,actualMidi:49.44,actualMidiChroma:1.4399999999999977,centsOffset:43.99999999999977,clarity:.9996803246968184},{time:12.8945,note:"Db3",pitch:141.87596199606526,noteMidi:49,actualMidi:49.41,actualMidiChroma:1.4099999999999966,centsOffset:40.99999999999966,clarity:.9995855613629345},{time:12.911199999809265,note:"Db3",pitch:141.4346320828793,noteMidi:49,actualMidi:49.35,actualMidiChroma:1.3500000000000014,centsOffset:35.00000000000014,clarity:.9994587538248041},{time:12.927799999952317,note:"Db3",pitch:140.9358508542775,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.99898138237171},{time:12.9445,note:"Db3",pitch:139.37059179917466,noteMidi:49,actualMidi:49.1,actualMidiChroma:1.1000000000000014,centsOffset:10.000000000000142,clarity:.9967514308770831},{time:12.961199999809265,note:"Db3",pitch:137.64847293370377,noteMidi:49,actualMidi:48.88,actualMidiChroma:.8800000000000026,centsOffset:-11.999999999999744,clarity:.996183450127269},{time:12.977799999952316,note:"Db3",pitch:136.19825941374978,noteMidi:49,actualMidi:48.7,actualMidiChroma:.7000000000000028,centsOffset:-29.999999999999716,clarity:.9961706734031068},{time:12.9945,note:"Db3",pitch:134.72888521435246,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9982588804594386},{time:13.011199999809266,note:"C3",pitch:133.43933234597137,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9991077683665708},{time:13.028,note:"C3",pitch:132.99324902117453,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9996447217331053},{time:13.04439999985695,note:"C3",pitch:132.71697226754773,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997654995534901},{time:13.061199999809265,note:"C3",pitch:132.55156244753292,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998433346675881},{time:13.07789999985695,note:"C3",pitch:132.53400141699007,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998448938440561},{time:13.0945,note:"C3",pitch:132.5521438105791,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.999876257709893},{time:13.111299999952315,note:"C3",pitch:132.5737470645916,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998827449811714},{time:13.127899999856949,note:"C3",pitch:132.6129479007038,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999876265821193},{time:13.1445,note:"C3",pitch:132.86678848339452,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9997497671619442},{time:13.161299999952316,note:"C3",pitch:133.45391155032752,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9994048540768858},{time:13.17789999985695,note:"C3",pitch:133.8233381698133,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9992914026803916},{time:13.1945,note:"Db3",pitch:134.6110819816604,noteMidi:49,actualMidi:48.5,actualMidiChroma:.5,centsOffset:-50,clarity:.9994484483197468},{time:13.211199999809265,note:"Db3",pitch:135.69281418851074,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9988136144055133},{time:13.227899999856948,note:"Db3",pitch:136.26655021451302,noteMidi:49,actualMidi:48.71,actualMidiChroma:.7100000000000009,centsOffset:-28.999999999999915,clarity:.9986373058258096},{time:13.2445,note:"Db3",pitch:137.80447397935652,noteMidi:49,actualMidi:48.9,actualMidiChroma:.8999999999999986,centsOffset:-10.000000000000142,clarity:.9978018025117237},{time:13.261299999952316,note:"Db3",pitch:139.5277980708673,noteMidi:49,actualMidi:49.12,actualMidiChroma:1.1199999999999974,centsOffset:11.999999999999744,clarity:.9986204023603662},{time:13.277899999856949,note:"Db3",pitch:140.00034666798848,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9989884827259345},{time:13.2945,note:"Db3",pitch:140.85728391170588,noteMidi:49,actualMidi:49.28,actualMidiChroma:1.2800000000000011,centsOffset:28.000000000000114,clarity:.9997819488621928},{time:13.311199999809265,note:"Db3",pitch:141.06309416538343,noteMidi:49,actualMidi:49.31,actualMidiChroma:1.3100000000000023,centsOffset:31.000000000000227,clarity:.9998476954783015},{time:13.32789999985695,note:"Db3",pitch:141.0715447750383,noteMidi:49,actualMidi:49.31,actualMidiChroma:1.3100000000000023,centsOffset:31.000000000000227,clarity:.9998566413795658},{time:13.3445,note:"Gb0",pitch:23.483204872334596,noteMidi:18,actualMidi:18.27,actualMidiChroma:6.27,centsOffset:26.999999999999957,clarity:1},{time:13.361299999952315,note:"Db3",pitch:140.93623414575245,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.9998916380900624},{time:13.377899999856949,note:"Db3",pitch:140.8729226852274,noteMidi:49,actualMidi:49.28,actualMidiChroma:1.2800000000000011,centsOffset:28.000000000000114,clarity:.9969514986730985},{time:13.3945,note:"Db3",pitch:139.90507447741274,noteMidi:49,actualMidi:49.16,actualMidiChroma:1.1599999999999966,centsOffset:15.999999999999659,clarity:.9879963408269745},{time:13.411199999809265,note:"Db3",pitch:136.8579632359689,noteMidi:49,actualMidi:48.78,actualMidiChroma:.7800000000000011,centsOffset:-21.999999999999886,clarity:.9953559082321632},{time:13.42789999985695,note:"Db3",pitch:135.87654670698376,noteMidi:49,actualMidi:48.66,actualMidiChroma:.6599999999999966,centsOffset:-34.00000000000034,clarity:.9977335206957534},{time:13.444599999904632,note:"C3",pitch:134.49834093912793,noteMidi:48,actualMidi:48.48,actualMidiChroma:.4799999999999969,centsOffset:47.99999999999969,clarity:.9991153405848223},{time:13.461199999809265,note:"C3",pitch:133.5007658412193,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9995475723442624},{time:13.477899999856948,note:"C3",pitch:133.25163861414177,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9996543035072349},{time:13.4945,note:"C3",pitch:132.89521324257208,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999319946488541},{time:13.511099999904632,note:"C3",pitch:132.87750122335663,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.999947449367113},{time:13.527799999952316,note:"C3",pitch:132.89936742069838,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999445682157955},{time:13.544599999904632,note:"C3",pitch:133.03390378249708,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9998997045113853},{time:13.561199999809265,note:"C3",pitch:133.5149316469505,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9996033320897695},{time:13.577799999952317,note:"C3",pitch:133.86154920559076,noteMidi:48,actualMidi:48.4,actualMidiChroma:.3999999999999986,centsOffset:39.99999999999986,clarity:.9993845634777543},{time:13.5945,note:"Db3",pitch:134.74486023239604,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9995286245925925},{time:13.611199999809266,note:"Db3",pitch:135.72551003210668,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.999106792664378},{time:13.627799999952316,note:"Db3",pitch:136.3170722025591,noteMidi:49,actualMidi:48.71,actualMidiChroma:.7100000000000009,centsOffset:-28.999999999999915,clarity:.9990954062669601},{time:13.6445,note:"Db3",pitch:137.54600260159324,noteMidi:49,actualMidi:48.87,actualMidiChroma:.8699999999999974,centsOffset:-13.000000000000256,clarity:.9983359840738473},{time:13.661099999904632,note:"Db3",pitch:139.04522674208738,noteMidi:49,actualMidi:49.06,actualMidiChroma:1.0600000000000023,centsOffset:6.000000000000227,clarity:.9989733289563247},{time:13.677799999952317,note:"Db3",pitch:139.4627280839928,noteMidi:49,actualMidi:49.11,actualMidiChroma:1.1099999999999994,centsOffset:10.999999999999943,clarity:.9994658192738655},{time:13.694599999904632,note:"Db3",pitch:140.01577313785683,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9999065498110369},{time:13.711199999809265,note:"Db3",pitch:140.07812909571624,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9999497402448654},{time:13.727899999856948,note:"Db3",pitch:140.02119068585807,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.999945130552959},{time:13.7445,note:"Db3",pitch:139.70514250191675,noteMidi:49,actualMidi:49.14,actualMidiChroma:1.1400000000000006,centsOffset:14.000000000000057,clarity:.9997015578740616},{time:13.761199999809266,note:"Db3",pitch:138.57834788563173,noteMidi:49,actualMidi:49,actualMidiChroma:1,centsOffset:0,clarity:.9968497726215091},{time:13.777899999856949,note:"Db3",pitch:137.0375476263259,noteMidi:49,actualMidi:48.8,actualMidiChroma:.7999999999999972,centsOffset:-20.000000000000284,clarity:.9958399323277476},{time:13.7945,note:"Db3",pitch:135.21275252178592,noteMidi:49,actualMidi:48.57,actualMidiChroma:.5700000000000003,centsOffset:-42.99999999999997,clarity:.9983299421055705},{time:13.811299999952316,note:"C3",pitch:133.79830881421302,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9989185392721822},{time:13.82789999985695,note:"C3",pitch:133.1547887517991,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9995185085062772},{time:13.8445,note:"C3",pitch:132.69399894234456,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9998197806115954},{time:13.861199999809266,note:"C3",pitch:132.57187783225413,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998903132083541},{time:13.877799999952316,note:"C3",pitch:132.58384692613365,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998806617416847},{time:13.8945,note:"C3",pitch:132.6859548717525,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9998653438154719},{time:13.911199999809265,note:"C3",pitch:133.05551338165066,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9995584048390924},{time:13.92789999985695,note:"C3",pitch:133.576906273501,noteMidi:48,actualMidi:48.36,actualMidiChroma:.35999999999999943,centsOffset:35.99999999999994,clarity:.9991171910185059},{time:13.9445,note:"Db3",pitch:134.64362270074125,noteMidi:49,actualMidi:48.5,actualMidiChroma:.5,centsOffset:-50,clarity:.9994605141074615},{time:13.961199999809265,note:"Db3",pitch:135.38522440496808,noteMidi:49,actualMidi:48.59,actualMidiChroma:.5900000000000034,centsOffset:-40.99999999999966,clarity:.9994313497292353},{time:13.977899999856948,note:"Db3",pitch:135.97802110009897,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9994778642113786},{time:13.9945,note:"Db3",pitch:136.83661943032118,noteMidi:49,actualMidi:48.78,actualMidiChroma:.7800000000000011,centsOffset:-21.999999999999886,clarity:.9993867132899865},{time:14.011299999952316,note:"Db3",pitch:138.0782913592546,noteMidi:49,actualMidi:48.94,actualMidiChroma:.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992491521874882},{time:14.027899999856949,note:"Db3",pitch:138.80745465350117,noteMidi:49,actualMidi:49.03,actualMidiChroma:1.0300000000000011,centsOffset:3.0000000000001137,clarity:.9993191071750793},{time:14.0445,note:"Db3",pitch:139.559025679126,noteMidi:49,actualMidi:49.12,actualMidiChroma:1.1199999999999974,centsOffset:11.999999999999744,clarity:.9997243690653619},{time:14.061199999809265,note:"Db3",pitch:139.99897743643314,noteMidi:49,actualMidi:49.17,actualMidiChroma:1.1700000000000017,centsOffset:17.00000000000017,clarity:.9999174455489808},{time:14.078,note:"Db3",pitch:140.0318245108386,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9999226057563639},{time:14.0945,note:"Db3",pitch:139.9342407188639,noteMidi:49,actualMidi:49.17,actualMidiChroma:1.1700000000000017,centsOffset:17.00000000000017,clarity:.9999031688375624},{time:14.111199999809266,note:"Db3",pitch:139.40231925500817,noteMidi:49,actualMidi:49.1,actualMidiChroma:1.1000000000000014,centsOffset:10.000000000000142,clarity:.9994129170518207},{time:14.127899999856949,note:"Db3",pitch:138.80215448097957,noteMidi:49,actualMidi:49.03,actualMidiChroma:1.0300000000000011,centsOffset:3.0000000000001137,clarity:.9985313984608375},{time:14.1445,note:"Db3",pitch:136.731141090701,noteMidi:49,actualMidi:48.77,actualMidiChroma:.7700000000000031,centsOffset:-22.999999999999687,clarity:.997987220727083},{time:14.161199999809265,note:"Db3",pitch:134.908222975801,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9986711445290091},{time:14.17789999985695,note:"C3",pitch:134.15805896219024,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9986173571746448},{time:14.1945,note:"C3",pitch:133.04456553145465,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9994222734852016},{time:14.211099999904633,note:"C3",pitch:132.47987527191682,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.999501606791199},{time:14.227799999952316,note:"C3",pitch:132.34336102803053,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.999737200730209},{time:14.244399999856949,note:"C3",pitch:132.33759501932457,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999124312875516},{time:14.261099999904632,note:"C3",pitch:132.3813476981442,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999043443177555},{time:14.277799999952316,note:"C3",pitch:132.39436340436416,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999100695157317},{time:14.294599999904632,note:"C3",pitch:132.50133992668546,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.999870919468318},{time:14.311199999809265,note:"C3",pitch:133.07717730978663,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9995288112626604},{time:14.328,note:"C3",pitch:133.49000555384345,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9993697709684},{time:14.3445,note:"C3",pitch:134.48457496811545,noteMidi:48,actualMidi:48.48,actualMidiChroma:.4799999999999969,centsOffset:47.99999999999969,clarity:.9995919850086281},{time:14.361199999809266,note:"Db3",pitch:135.2660977793798,noteMidi:49,actualMidi:48.58,actualMidiChroma:.5799999999999983,centsOffset:-42.00000000000017,clarity:.9995859084949821},{time:14.378,note:"Db3",pitch:135.7181931101811,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.9995883422137979},{time:14.3945,note:"Db3",pitch:136.7606298416048,noteMidi:49,actualMidi:48.77,actualMidiChroma:.7700000000000031,centsOffset:-22.999999999999687,clarity:.9993849149815155},{time:14.411299999952316,note:"Db3",pitch:138.04404071737352,noteMidi:49,actualMidi:48.93,actualMidiChroma:.9299999999999997,centsOffset:-7.000000000000028,clarity:.999385939719609},{time:14.42789999985695,note:"Db3",pitch:138.65728403270276,noteMidi:49,actualMidi:49.01,actualMidiChroma:1.009999999999998,centsOffset:.999999999999801,clarity:.9994624312105032},{time:14.444599999904632,note:"Db3",pitch:139.6195528780777,noteMidi:49,actualMidi:49.13,actualMidiChroma:1.1300000000000026,centsOffset:13.000000000000256,clarity:.9995231429901388},{time:14.461199999809265,note:"Db3",pitch:140.33594439957974,noteMidi:49,actualMidi:49.22,actualMidiChroma:1.2199999999999989,centsOffset:21.999999999999886,clarity:.999807297868351},{time:14.477899999856948,note:"Db3",pitch:140.51773896128915,noteMidi:49,actualMidi:49.24,actualMidiChroma:1.240000000000002,centsOffset:24.0000000000002,clarity:.9998307097742689},{time:14.4945,note:"Db3",pitch:140.68902075572944,noteMidi:49,actualMidi:49.26,actualMidiChroma:1.259999999999998,centsOffset:25.9999999999998,clarity:.9998481113941864},{time:14.511199999809266,note:"Db3",pitch:140.60289054775922,noteMidi:49,actualMidi:49.25,actualMidiChroma:1.25,centsOffset:25,clarity:.9997664092748906},{time:14.527899999856949,note:"Db3",pitch:140.54139794277518,noteMidi:49,actualMidi:49.24,actualMidiChroma:1.240000000000002,centsOffset:24.0000000000002,clarity:.999735969694239},{time:14.5445,note:"Db3",pitch:139.70155512601355,noteMidi:49,actualMidi:49.14,actualMidiChroma:1.1400000000000006,centsOffset:14.000000000000057,clarity:.9986967617683469},{time:14.561299999952316,note:"Db3",pitch:138.00250213441603,noteMidi:49,actualMidi:48.93,actualMidiChroma:.9299999999999997,centsOffset:-7.000000000000028,clarity:.9973197703715044},{time:14.57789999985695,note:"Db3",pitch:136.85748986031703,noteMidi:49,actualMidi:48.78,actualMidiChroma:.7800000000000011,centsOffset:-21.999999999999886,clarity:.997362681120709},{time:14.5945,note:"Db3",pitch:135.26775233097686,noteMidi:49,actualMidi:48.58,actualMidiChroma:.5799999999999983,centsOffset:-42.00000000000017,clarity:.9985951348770072},{time:14.611099999904633,note:"C3",pitch:134.27034774147197,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9994151374559195},{time:14.627899999856949,note:"C3",pitch:133.77338020771444,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9996547705785517},{time:14.644599999904633,note:"C3",pitch:133.39779372701975,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.999798911055418},{time:14.661199999809265,note:"C3",pitch:133.3040141191138,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9998466231850216},{time:14.67789999985695,note:"C3",pitch:133.31175247072693,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9997624584335156},{time:14.6945,note:"C3",pitch:133.31715121090087,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9994795447594278},{time:14.711299999952317,note:"C3",pitch:133.42229429082317,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9997805673601938},{time:14.727899999856948,note:"C3",pitch:133.50066996005785,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9997523308226945},{time:14.7445,note:"C3",pitch:134.1501606408276,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9995150081787152},{time:14.761199999809266,note:"Db3",pitch:135.02399726070496,noteMidi:49,actualMidi:48.55,actualMidiChroma:.5499999999999972,centsOffset:-45.000000000000284,clarity:.9994295579025021},{time:14.777899999856949,note:"Db3",pitch:135.62817864092037,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9994620395345706},{time:14.7945,note:"Db3",pitch:136.50023147081785,noteMidi:49,actualMidi:48.74,actualMidiChroma:.740000000000002,centsOffset:-25.9999999999998,clarity:.9995815163010349},{time:14.811199999809265,note:"Db3",pitch:137.2872646250798,noteMidi:49,actualMidi:48.84,actualMidiChroma:.8400000000000034,centsOffset:-15.999999999999659,clarity:.9996733011793744},{time:14.828,note:"Db3",pitch:137.53353944562502,noteMidi:49,actualMidi:48.87,actualMidiChroma:.8699999999999974,centsOffset:-13.000000000000256,clarity:.9997476415974482},{time:14.8445,note:"Db3",pitch:137.71873709017572,noteMidi:49,actualMidi:48.89,actualMidiChroma:.8900000000000006,centsOffset:-10.999999999999943,clarity:.9998163459313325},{time:14.861199999809266,note:"Db3",pitch:137.74328906305618,noteMidi:49,actualMidi:48.89,actualMidiChroma:.8900000000000006,centsOffset:-10.999999999999943,clarity:.9998382580255303},{time:14.877899999856949,note:"Db3",pitch:137.68611228860013,noteMidi:49,actualMidi:48.89,actualMidiChroma:.8900000000000006,centsOffset:-10.999999999999943,clarity:.9998219617370232},{time:14.8945,note:"Db3",pitch:137.43398919887068,noteMidi:49,actualMidi:48.85,actualMidiChroma:.8500000000000014,centsOffset:-14.999999999999858,clarity:.9998163639191695},{time:14.911199999809265,note:"Db3",pitch:136.57791627414318,noteMidi:49,actualMidi:48.75,actualMidiChroma:.75,centsOffset:-25,clarity:.9989253522082002},{time:14.928,note:"Db3",pitch:135.842239951829,noteMidi:49,actualMidi:48.65,actualMidiChroma:.6499999999999986,centsOffset:-35.00000000000014,clarity:.9988114540564226},{time:14.944599999904632,note:"C3",pitch:134.287211923551,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9984588070186398},{time:14.961199999809265,note:"C3",pitch:133.19076330007945,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9983646461795388},{time:14.977899999856948,note:"C3",pitch:132.86153651080144,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9987892986726337},{time:14.9945,note:"C3",pitch:132.80894511126075,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9988191319652593},{time:15.011299999952316,note:"C3",pitch:132.719823510873,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9988622811699344},{time:15.027799999952316,note:"C3",pitch:132.7689609454652,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9987669549643847},{time:15.0445,note:"C3",pitch:132.74455985390796,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9984752511555968},{time:15.061199999809265,note:"C3",pitch:132.949032454723,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9977138387616016},{time:15.077699999809266,note:"C3",pitch:133.1927150854756,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.997324701930264},{time:15.094399999856948,note:"C3",pitch:133.92559689061633,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.9971003565029086},{time:15.111199999809266,note:"Db3",pitch:134.70623422550958,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9966231068835363},{time:15.127799999952316,note:"Db3",pitch:134.85854680781875,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9968042896730935},{time:15.1445,note:"Db3",pitch:135.6919518567696,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9963888645623662},{time:15.161199999809265,note:"Db3",pitch:135.94102519384674,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9966946309812315},{time:15.177799999952317,note:"Db3",pitch:136.2103657004436,noteMidi:49,actualMidi:48.7,actualMidiChroma:.7000000000000028,centsOffset:-29.999999999999716,clarity:.9969607366327793},{time:15.1945,note:"Db3",pitch:136.10522426981106,noteMidi:49,actualMidi:48.69,actualMidiChroma:.6899999999999977,centsOffset:-31.000000000000227,clarity:.9969440903443463},{time:15.211099999904633,note:"Db3",pitch:135.94277494974082,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9967889897255944},{time:15.227799999952316,note:"Db3",pitch:135.94095956324122,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.996563340136742},{time:15.244599999904633,note:"Db3",pitch:134.90421646864522,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9944369514541656},{time:15.261099999904632,note:"C3",pitch:133.75545207935147,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9955186396980196},{time:15.277799999952316,note:"C3",pitch:133.38233281531896,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9946261620670569},{time:15.2945,note:"C3",pitch:132.91993449696142,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.994653354578336},{time:15.311199999809265,note:"C3",pitch:132.8965282133997,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9936336224459055},{time:15.328,note:"C3",pitch:132.75130371455697,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9943668935506302},{time:15.3445,note:"C3",pitch:133.07411866677347,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9939807367826461},{time:15.361199999809266,note:"C3",pitch:133.0997213793348,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9929165703283687},{time:15.377799999952316,note:"C3",pitch:133.57868017578176,noteMidi:48,actualMidi:48.36,actualMidiChroma:.35999999999999943,centsOffset:35.99999999999994,clarity:.9921666386235763},{time:15.3945,note:"C3",pitch:134.0678550132667,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9913215683003322},{time:15.411199999809265,note:"Db3",pitch:134.71655138859435,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9924029721420702},{time:15.427799999952317,note:"Db3",pitch:135.45453664799973,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9929021698850633},{time:15.444599999904632,note:"Db3",pitch:135.34507641499886,noteMidi:49,actualMidi:48.59,actualMidiChroma:.5900000000000034,centsOffset:-40.99999999999966,clarity:.9927714038516484},{time:15.461199999809265,note:"Db3",pitch:136.15815701037164,noteMidi:49,actualMidi:48.69,actualMidiChroma:.6899999999999977,centsOffset:-31.000000000000227,clarity:.9926743299878211},{time:15.477799999952316,note:"Db3",pitch:135.77636878463386,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.9926965529730758},{time:15.4945,note:"Db3",pitch:136.32210010741542,noteMidi:49,actualMidi:48.71,actualMidiChroma:.7100000000000009,centsOffset:-28.999999999999915,clarity:.9921755528445075},{time:15.511099999904632,note:"Db3",pitch:136.6442282170498,noteMidi:49,actualMidi:48.76,actualMidiChroma:.759999999999998,centsOffset:-24.0000000000002,clarity:.9905393493259993},{time:15.527799999952316,note:"Db3",pitch:136.12368016641153,noteMidi:49,actualMidi:48.69,actualMidiChroma:.6899999999999977,centsOffset:-31.000000000000227,clarity:.9908332192592546},{time:15.54439999985695,note:"Db3",pitch:135.9794075865065,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9895263379122063},{time:15.561099999904632,note:"Db3",pitch:134.80344773647036,noteMidi:49,actualMidi:48.52,actualMidiChroma:.5200000000000031,centsOffset:-47.99999999999969,clarity:.9886965251282192},{time:15.577799999952317,note:"C3",pitch:134.32506581483824,noteMidi:48,actualMidi:48.46,actualMidiChroma:.46000000000000085,centsOffset:46.000000000000085,clarity:.9896758576220819},{time:15.5945,note:"C3",pitch:133.37420712443912,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9867587282202024},{time:15.611199999809266,note:"C3",pitch:132.6572287567036,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9854942680712284},{time:15.627799999952316,note:"C3",pitch:132.7412673680641,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9851913759465205},{time:15.64439999985695,note:"C3",pitch:132.0545076446563,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9844968123987918},{time:15.661099999904632,note:"C3",pitch:132.45031426525577,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9835204100612955},{time:15.677799999952317,note:"C3",pitch:132.06492627487782,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9836052482379287},{time:15.6945,note:"C3",pitch:133.0569698894612,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.981335663387231},{time:15.711199999809265,note:"C3",pitch:134.10512635367206,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9824881891564239},{time:15.727799999952316,note:"C3",pitch:134.24382494222834,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.982461377641016},{time:15.7445,note:"Db3",pitch:135.45686913542522,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9810919357049066},{time:15.761099999904632,note:"Db3",pitch:135.23255831904078,noteMidi:49,actualMidi:48.58,actualMidiChroma:.5799999999999983,centsOffset:-42.00000000000017,clarity:.9810008049991019},{time:15.777799999952316,note:"Db3",pitch:136.20600632739084,noteMidi:49,actualMidi:48.7,actualMidiChroma:.7000000000000028,centsOffset:-29.999999999999716,clarity:.9823258104641717},{time:15.79439999985695,note:"Db3",pitch:135.9031543781941,noteMidi:49,actualMidi:48.66,actualMidiChroma:.6599999999999966,centsOffset:-34.00000000000034,clarity:.9813881317039872},{time:15.811199999809265,note:"Db3",pitch:136.0477658789484,noteMidi:49,actualMidi:48.68,actualMidiChroma:.6799999999999997,centsOffset:-32.00000000000003,clarity:.9835732324664797},{time:15.827799999952317,note:"Db3",pitch:136.9595445270959,noteMidi:49,actualMidi:48.79,actualMidiChroma:.7899999999999991,centsOffset:-21.000000000000085,clarity:.9821920152047952},{time:15.8445,note:"Db3",pitch:135.8365414503576,noteMidi:49,actualMidi:48.65,actualMidiChroma:.6499999999999986,centsOffset:-35.00000000000014,clarity:.9826240696631139},{time:15.861099999904633,note:"Db3",pitch:135.15551009495812,noteMidi:49,actualMidi:48.57,actualMidiChroma:.5700000000000003,centsOffset:-42.99999999999997,clarity:.9822862475583136},{time:15.877699999809264,note:"C3",pitch:134.41158124824577,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.9823353667539081},{time:15.8945,note:"C3",pitch:133.34848355812818,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9835922803458956},{time:15.911199999809265,note:"C3",pitch:132.97320504679072,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.980080302525387},{time:15.927699999809265,note:"C3",pitch:132.69931992430614,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9785345468521598},{time:15.9445,note:"C3",pitch:132.84633517899238,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9770230213321405},{time:15.961199999809265,note:"C3",pitch:132.51404300880566,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9746369632676277},{time:15.977699999809266,note:"C3",pitch:132.83605059351063,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9742593342764181},{time:15.9945,note:"C3",pitch:132.4208839138319,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9745486453674239},{time:16.011299999952318,note:"C3",pitch:133.19636419514427,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9720375794661145},{time:16.027799999952315,note:"C3",pitch:134.08757446187835,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9709723572991784},{time:16.04439999985695,note:"C3",pitch:134.42532973155272,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.9727891292313053},{time:16.061099999904634,note:"Db3",pitch:135.61726400896973,noteMidi:49,actualMidi:48.62,actualMidiChroma:.6199999999999974,centsOffset:-38.000000000000256,clarity:.9719588286379448},{time:16.077699999809266,note:"Db3",pitch:135.378910728753,noteMidi:49,actualMidi:48.59,actualMidiChroma:.5900000000000034,centsOffset:-40.99999999999966,clarity:.9722599249191823},{time:16.09439999985695,note:"Db3",pitch:135.7463137296998,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.9733795405569943},{time:16.11109999990463,note:"Db3",pitch:136.34201883319253,noteMidi:49,actualMidi:48.72,actualMidiChroma:.7199999999999989,centsOffset:-28.000000000000114,clarity:.971549599638756},{time:16.127799999952316,note:"Db3",pitch:135.5321257997657,noteMidi:49,actualMidi:48.61,actualMidiChroma:.6099999999999994,centsOffset:-39.00000000000006,clarity:.9734564051032066},{time:16.144399999856947,note:"Db3",pitch:135.8882068591285,noteMidi:49,actualMidi:48.66,actualMidiChroma:.6599999999999966,centsOffset:-34.00000000000034,clarity:.9738399415666734},{time:16.161099999904632,note:"Db3",pitch:135.41891500093058,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9719529824179389},{time:16.177799999952317,note:"Db3",pitch:134.667116077926,noteMidi:49,actualMidi:48.5,actualMidiChroma:.5,centsOffset:-50,clarity:.9753579959490928},{time:16.1945,note:"C3",pitch:134.13568142775662,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9703149305665519},{time:16.211,note:"C3",pitch:132.54592004201405,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9691492638838675},{time:16.227699999809264,note:"C3",pitch:132.64060508814742,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9672394679098346},{time:16.244299999952315,note:"C3",pitch:131.8183030325596,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9688373009782403},{time:16.261099999904634,note:"C3",pitch:132.06738098555445,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9662612154860035},{time:16.277799999952315,note:"C3",pitch:131.70068079112346,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.965389921038895},{time:16.2945,note:"C3",pitch:131.2605200429957,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9672793532365134},{time:16.311099999904634,note:"C3",pitch:131.17118983977198,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9613940682108719},{time:16.327699999809266,note:"C3",pitch:130.90036362067917,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9538792589150837},{time:16.34439999985695,note:"C3",pitch:134.03007468648292,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.8887675054401818},{time:16.361,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.377599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.394299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.411,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.427599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.444399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.461,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.477599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.494299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.511,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.527599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.544299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.561,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.57759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.594299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.611199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.627599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.644299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.661,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.677699999809263,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.694299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.71089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.727599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.744299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.761099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.777599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.794299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.811,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.827699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.84439999985695,note:"C3",pitch:133.16818398303806,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.6015556636363826},{time:16.86109999990463,note:"C3",pitch:131.8994334149491,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9062431912168449},{time:16.877699999809266,note:"C3",pitch:131.809002729845,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9648108326958962},{time:16.894399999856947,note:"C3",pitch:131.6575007313411,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9984406108407029},{time:16.911099999904632,note:"C3",pitch:131.62367587314688,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9985856674680065},{time:16.927899999856947,note:"C3",pitch:131.62286417629966,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.99840655473335},{time:16.944299999952317,note:"C3",pitch:131.65018054017168,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9983774062932156},{time:16.961,note:"C3",pitch:131.68451783842627,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9983586228025416},{time:16.977799999952317,note:"C3",pitch:131.65347971587806,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9983956642591139},{time:16.994299999952315,note:"C3",pitch:131.7242424823377,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9984764614219799},{time:17.011099999904634,note:"C3",pitch:131.7024679719076,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9986850134019605},{time:17.027799999952315,note:"C3",pitch:131.69338356791127,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9988427333104042},{time:17.0445,note:"C3",pitch:131.69869536557124,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9990017909864903},{time:17.061099999904634,note:"C3",pitch:131.65064710398994,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9990209368752652},{time:17.077799999952315,note:"C3",pitch:131.65385878600333,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9990751486642466},{time:17.0945,note:"C3",pitch:131.70635461556805,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999135640039281},{time:17.11109999990463,note:"C3",pitch:131.75954867785813,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9991679710151402},{time:17.127699999809266,note:"C3",pitch:131.76307544346443,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.999183195502745},{time:17.144399999856947,note:"C3",pitch:131.76187521747164,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9993354955235105},{time:17.161199999809266,note:"C3",pitch:131.68092042214772,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9994532686497983},{time:17.177799999952317,note:"C3",pitch:131.7215604517747,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995120414900747},{time:17.194399999856948,note:"C3",pitch:131.6995048581183,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995759283975687},{time:17.211,note:"C3",pitch:131.77469839444743,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9996231828471736},{time:17.227799999952317,note:"C3",pitch:131.7740769026921,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.999664226337778},{time:17.2445,note:"C3",pitch:131.8813702602198,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.999653472552879},{time:17.261099999904634,note:"C3",pitch:131.88615697280198,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9997096113269208},{time:17.277799999952315,note:"C3",pitch:131.87957267215447,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.999736141207471},{time:17.294299999952315,note:"C3",pitch:131.9122947106379,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998231395468231},{time:17.311099999904634,note:"C3",pitch:131.93845795637407,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998211520077973},{time:17.327699999809266,note:"C3",pitch:131.93638225645563,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998504078686423},{time:17.34439999985695,note:"C3",pitch:131.98464335544472,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998694173638683},{time:17.36109999990463,note:"C3",pitch:132.05815592665914,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9998645727059099},{time:17.377699999809266,note:"C3",pitch:132.08853892239583,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998715679702741},{time:17.394399999856947,note:"C3",pitch:132.13792884924626,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998882085283896},{time:17.411099999904632,note:"C3",pitch:132.18267867922992,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999049698604949},{time:17.427899999856947,note:"C3",pitch:132.23423535401653,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9999142457041259},{time:17.444299999952317,note:"C3",pitch:132.3865169159113,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999087617080633},{time:17.461,note:"C3",pitch:132.6343989119493,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999910504934256},{time:17.477699999809264,note:"C3",pitch:132.72844590764535,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999157130369554},{time:17.494599999904633,note:"C3",pitch:132.86513728624743,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999198732610068},{time:17.511099999904634,note:"C3",pitch:132.9168413426133,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999175204627875},{time:17.527699999809265,note:"C3",pitch:132.93740615611304,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999044866007765},{time:17.5445,note:"C3",pitch:132.9756984815868,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999262609304509},{time:17.561,note:"C3",pitch:132.9565304215249,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.999934495992143},{time:17.577699999809266,note:"C3",pitch:132.95696697786954,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999448462138929},{time:17.594299999952316,note:"C3",pitch:132.91410617459434,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999509675718627},{time:17.61109999990463,note:"C3",pitch:132.72507751474663,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.999873666102296},{time:17.627699999809266,note:"C3",pitch:132.588757613995,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.99987109624022},{time:17.644399999856947,note:"C3",pitch:132.40892139125933,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9998784805496612},{time:17.661199999809266,note:"C3",pitch:132.25614469456897,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9998662664264444},{time:17.677699999809263,note:"C3",pitch:132.18611447658535,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9998668251818117},{time:17.694399999856948,note:"C3",pitch:131.96733074653622,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998752945030986},{time:17.711,note:"C3",pitch:131.82517784988028,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999118769731368},{time:17.727699999809264,note:"C3",pitch:131.78400145484318,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999342378088798},{time:17.74439999985695,note:"C3",pitch:131.7182843979575,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999505500022252},{time:17.761,note:"C3",pitch:131.66815002174093,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.999956261907613},{time:17.777699999809265,note:"C3",pitch:131.65230348979728,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999601776938079},{time:17.7945,note:"C3",pitch:131.62402379454386,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999657941809801},{time:17.811,note:"C3",pitch:131.58798864915696,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999603521650684},{time:17.827799999952315,note:"C3",pitch:131.57963132151022,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999593340562498},{time:17.84439999985695,note:"C3",pitch:131.51690957095983,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999552293982248},{time:17.86109999990463,note:"C3",pitch:131.47749528854624,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999607170200733},{time:17.877799999952316,note:"C3",pitch:131.48144319493903,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999661969571605},{time:17.8945,note:"C3",pitch:131.50227628371402,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.999948547926266},{time:17.911099999904632,note:"C3",pitch:131.51825683792038,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999549489225927},{time:17.927799999952317,note:"C3",pitch:131.5249840574442,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999597070692019},{time:17.944399999856948,note:"C3",pitch:131.50854743801432,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999688332320247},{time:17.961099999904633,note:"C3",pitch:131.52423572019563,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999491437070347},{time:17.977799999952317,note:"C3",pitch:131.5594782270102,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999951484829964},{time:17.99439999985695,note:"C3",pitch:131.65015750526968,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999318930316932},{time:18.011099999904634,note:"C3",pitch:131.70823472142055,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999455710311622},{time:18.027699999809265,note:"C3",pitch:131.75553593214104,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999607788786022},{time:18.04439999985695,note:"C3",pitch:131.8482922776368,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9999673175173456},{time:18.061099999904634,note:"C3",pitch:132.00507107033,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9999479178234978},{time:18.077799999952315,note:"C3",pitch:132.08025582343785,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999293681434054},{time:18.094799999952315,note:"C3",pitch:132.33190525815075,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999351974993189},{time:18.11109999990463,note:"C3",pitch:132.51212952150266,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999294171809154},{time:18.127699999809266,note:"C3",pitch:132.65465480900343,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999938649012762},{time:18.144399999856947,note:"C3",pitch:132.9245196631058,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.999922969398213},{time:18.161199999809266,note:"C3",pitch:133.09420442984273,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9999426541624103},{time:18.177799999952317,note:"C3",pitch:133.1633039086572,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999443313202292},{time:18.194299999952317,note:"C3",pitch:133.30517997575984,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9999465129940717},{time:18.211,note:"C3",pitch:133.43624290418163,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9999538542361464},{time:18.227799999952317,note:"C3",pitch:133.46496723653928,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999549375990924},{time:18.2445,note:"C3",pitch:133.4996424743408,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999693474888005},{time:18.26209999990463,note:"C3",pitch:133.47232085629605,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999632914592311},{time:18.277799999952315,note:"C3",pitch:133.4512175990561,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999622921886555},{time:18.2945,note:"C3",pitch:133.17073448565878,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9998283397243171},{time:18.311,note:"C3",pitch:132.6907099102131,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997839553065688},{time:18.327699999809266,note:"C3",pitch:132.49069677916077,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9998102991402007},{time:18.34439999985695,note:"C3",pitch:132.15501890012337,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999014820626861},{time:18.361,note:"C3",pitch:131.93275995446868,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9999311566138367},{time:18.377799999952316,note:"C3",pitch:131.8287964443266,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999263066470903},{time:18.394399999856947,note:"C3",pitch:131.6849842246889,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999166367598811},{time:18.4115,note:"C3",pitch:131.64481789316366,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999094452897701},{time:18.427699999809263,note:"C3",pitch:131.64865370574324,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999318915633033},{time:18.444299999952317,note:"C3",pitch:131.67910975633058,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999533996606615},{time:18.461199999809264,note:"C3",pitch:131.71078513971725,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999608267918312},{time:18.477699999809264,note:"C3",pitch:131.72390961880842,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999596290658523},{time:18.49439999985695,note:"C3",pitch:131.75673113957836,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999606196707518},{time:18.511,note:"C3",pitch:131.74123478907003,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999582374112244},{time:18.527599999904634,note:"C3",pitch:131.74249342662733,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999968506983727},{time:18.5445,note:"C3",pitch:131.73342987923144,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999743380591468},{time:18.561099999904634,note:"C3",pitch:131.78189927366378,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999622641794979},{time:18.577699999809266,note:"C3",pitch:131.85262044192936,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9999452185694047},{time:18.59439999985695,note:"C3",pitch:131.96408821315026,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9999632286779381},{time:18.61109999990463,note:"C3",pitch:132.0775721194497,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999424697183557},{time:18.627699999809266,note:"C3",pitch:132.1280788197331,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999389229555184},{time:18.644299999952317,note:"C3",pitch:132.30191762986766,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999585092142595},{time:18.661,note:"C3",pitch:132.42224468157895,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999628131353475},{time:18.677699999809263,note:"C3",pitch:132.48118344935224,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999581484645823},{time:18.694399999856948,note:"C3",pitch:132.6368650743773,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9999578657582404},{time:18.711099999904633,note:"C3",pitch:132.72415171267636,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.999965232806975},{time:18.727799999952317,note:"C3",pitch:132.74847912319754,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999633247908264},{time:18.74439999985695,note:"C3",pitch:132.77172757596037,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9999595786607394},{time:18.761199999809264,note:"C3",pitch:132.73288048153776,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999540721640692},{time:18.777699999809265,note:"C3",pitch:132.73575703760102,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9998199766089151},{time:18.794299999952315,note:"C3",pitch:132.69723478327188,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.99960226944129},{time:18.811,note:"C3",pitch:132.4642168922775,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9996498807667678},{time:18.82789999985695,note:"C3",pitch:132.18991326010826,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9998167531552937},{time:18.844299999952316,note:"C3",pitch:131.8794699522541,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998773795090194},{time:18.861,note:"C3",pitch:131.67200978286016,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999087287718993},{time:18.877699999809266,note:"C3",pitch:131.63942101017741,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999155319111956},{time:18.894299999952317,note:"C3",pitch:131.6045729570649,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999535777796034},{time:18.911199999809266,note:"C3",pitch:131.60175243672765,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9997796211551453},{time:18.927699999809263,note:"C3",pitch:131.61190378502326,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9997433790995736},{time:18.944399999856948,note:"C3",pitch:131.59536395574088,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9994938366427384},{time:18.961,note:"C3",pitch:131.57973179302556,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9991032774295725},{time:18.977799999952317,note:"C3",pitch:131.60329134127278,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999074661031603},{time:18.994299999952315,note:"C3",pitch:131.69414663556057,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.998940632553996},{time:19.011,note:"C3",pitch:131.82775453349927,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9983829193870299},{time:19.027699999809265,note:"C3",pitch:131.87234944925524,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9978299943409183},{time:19.04439999985695,note:"C3",pitch:131.99467891486927,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9969257479970643},{time:19.061099999904634,note:"C3",pitch:132.1174183658524,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9956385681382933},{time:19.077699999809266,note:"C3",pitch:132.17557018860234,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9961513559858091},{time:19.094299999952316,note:"C3",pitch:132.20182129149666,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9957938946225333},{time:19.11109999990463,note:"C3",pitch:132.3378935423361,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9952538467512468},{time:19.129299999952316,note:"C3",pitch:132.36141550419143,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9949053851870104},{time:19.144299999952317,note:"C3",pitch:132.52143759857117,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9947368808532246},{time:19.161099999904632,note:"C3",pitch:132.40748512434755,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9945269659357621},{time:19.177799999952317,note:"C3",pitch:132.28293335199993,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9937289348185026},{time:19.194299999952317,note:"C3",pitch:131.92194573458025,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9933818673729036},{time:19.211,note:"C3",pitch:131.71529992307399,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9953563929220373},{time:19.227699999809264,note:"C3",pitch:131.8060797080413,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9980446050124385},{time:19.244299999952315,note:"C3",pitch:131.65017959310316,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9998012886415459},{time:19.261199999809264,note:"C3",pitch:131.6381446620517,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9998279608248666},{time:19.277699999809265,note:"C3",pitch:131.70277353876602,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999825201669438},{time:19.29439999985695,note:"C3",pitch:131.67587895193412,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9998468571644779},{time:19.311,note:"C3",pitch:131.7031405620321,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9998378614082348},{time:19.327699999809266,note:"C3",pitch:131.74666811343022,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9998263128383975},{time:19.344299999952316,note:"C3",pitch:131.99307160427716,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9997917878056377},{time:19.361,note:"C3",pitch:132.23626081802308,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9998027382214865},{time:19.377599999904632,note:"C3",pitch:132.33511909481146,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9998582251387838},{time:19.394399999856947,note:"C3",pitch:132.4613915683652,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9998219288613726},{time:19.411,note:"C3",pitch:132.5417436597141,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998928560321652},{time:19.427699999809263,note:"C3",pitch:132.49902004578627,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999027477410998},{time:19.444399999856948,note:"C3",pitch:132.50054727271882,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999022477623853},{time:19.461,note:"C3",pitch:132.29277519399852,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9997931591693003},{time:19.477699999809264,note:"C3",pitch:132.2078479288892,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9997626157925978},{time:19.4955,note:"C3",pitch:131.84613257568608,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998437124643509},{time:19.511,note:"C3",pitch:131.7332209366319,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999168863158232},{time:19.5275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.544199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.561,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.577699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.594199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.610899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.627599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.644299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.661,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.677599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.694299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.71089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.727599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.744199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.761,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.777699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.794199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.811,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.828199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.844199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.860899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.877699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.894299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.911,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.927599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.944199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.961,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.9775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.994199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.01089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.0275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.044199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.06089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.07759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.094299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.110899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.127599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.144199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.161,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.177799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.19739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.21089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.227599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.24439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.26089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.2775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.294199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.311,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.32759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.344299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.361,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.377599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.394299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.410899999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.427599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.444299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.461,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.478,note:"D4",pitch:291.8398106416368,noteMidi:62,actualMidi:61.89,actualMidiChroma:1.8900000000000006,centsOffset:-10.999999999999943,clarity:.1178841495547367},{time:20.494299999952315,note:"E2",pitch:83.76978036378426,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.6376876238600602},{time:20.511,note:"E2",pitch:83.2446448913192,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9394686281037679},{time:20.527699999809265,note:"E2",pitch:83.33747634161404,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993226079566853},{time:20.544299999952315,note:"E2",pitch:83.33879898190835,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999441705254867},{time:20.562699999809265,note:"E2",pitch:83.30197030378594,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993778251826484},{time:20.577699999809266,note:"E2",pitch:83.29169437568979,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9994132197846852},{time:20.59439999985695,note:"E2",pitch:83.31455832594962,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9995190827251861},{time:20.61109999990463,note:"E2",pitch:83.3408628817681,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9995154951183167},{time:20.627699999809266,note:"E2",pitch:83.32737834387008,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9994961172219092},{time:20.644299999952317,note:"E2",pitch:83.33684675285988,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996001489284652},{time:20.661199999809266,note:"E2",pitch:83.34986507607783,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9995931335377719},{time:20.677699999809263,note:"E2",pitch:83.35638176853686,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9995428219793467},{time:20.694399999856948,note:"E2",pitch:83.32526760983069,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9995223789823768},{time:20.711,note:"E2",pitch:83.3203555350386,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999657007810157},{time:20.727699999809264,note:"E2",pitch:83.31469679135498,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996922032386379},{time:20.744299999952315,note:"E2",pitch:83.30337676786104,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996822461699111},{time:20.761099999904634,note:"E2",pitch:83.2865237506789,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999718704993569},{time:20.777699999809265,note:"E2",pitch:83.27995831658176,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997246759333791},{time:20.794299999952315,note:"E2",pitch:83.27791470683019,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997100035268858},{time:20.811,note:"E2",pitch:83.27551606547658,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997451233893315},{time:20.82759999990463,note:"E2",pitch:83.27359520753657,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997786147804959},{time:20.844299999952316,note:"E2",pitch:83.28366274413709,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998043113312463},{time:20.861,note:"E2",pitch:83.27545924080452,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997814822504694},{time:20.877699999809266,note:"E2",pitch:83.28123752617584,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998270716973536},{time:20.894299999952317,note:"E2",pitch:83.28683078136528,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998203773458698},{time:20.911099999904632,note:"E2",pitch:83.29128325499735,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998207006811128},{time:20.929699999809266,note:"E2",pitch:83.2830458844166,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997964776308947},{time:20.944299999952317,note:"E2",pitch:83.27943903147802,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997660738281979},{time:20.961,note:"E2",pitch:83.2702603005351,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997962690992352},{time:20.977799999952317,note:"E2",pitch:83.26602112685192,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998181630220557},{time:20.994299999952315,note:"E2",pitch:83.24784355090631,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999836216522425},{time:21.011,note:"E2",pitch:83.26379002238656,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997762474028065},{time:21.027699999809265,note:"E2",pitch:83.2607068065159,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999812247326247},{time:21.044299999952315,note:"E2",pitch:83.23980306338349,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9998435147148683},{time:21.061099999904634,note:"E2",pitch:83.24614019538883,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997445211475053},{time:21.077699999809266,note:"E2",pitch:83.25660652529783,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997333981450396},{time:21.094299999952316,note:"E2",pitch:83.26300156083664,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998143689324621},{time:21.11109999990463,note:"E2",pitch:83.25389059588815,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998405535185242},{time:21.127699999809266,note:"E2",pitch:83.2651572993744,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997453868260635},{time:21.144299999952317,note:"E2",pitch:83.28171449423259,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997335754543286},{time:21.160899999856948,note:"E2",pitch:83.25593343423459,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998436875571457},{time:21.177699999809263,note:"E2",pitch:83.2521545981479,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997431057259121},{time:21.194299999952317,note:"E2",pitch:83.28012102109336,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999621480171669},{time:21.211099999904633,note:"E2",pitch:83.27056928352123,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996939643020823},{time:21.227599999904633,note:"E2",pitch:83.25086895021383,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997872809857},{time:21.24439999985695,note:"E2",pitch:83.26746393822351,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996403080215543},{time:21.261,note:"E2",pitch:83.27838216645532,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9995534434573585},{time:21.277599999904634,note:"E2",pitch:83.27742070299327,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999528418573874},{time:21.294299999952315,note:"E2",pitch:83.26177397704154,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996975364609},{time:21.313299999952317,note:"E2",pitch:83.27830858855343,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999447479040839},{time:21.327699999809266,note:"E2",pitch:83.27463220778351,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9993971313089105},{time:21.344299999952316,note:"E2",pitch:83.22615141400141,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9996819008087812},{time:21.36109999990463,note:"E2",pitch:83.26890742120023,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9995155051942106},{time:21.377699999809266,note:"E2",pitch:83.29552530489175,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993422533799077},{time:21.394299999952317,note:"E2",pitch:83.28261121148864,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9992695825230697},{time:21.411,note:"E2",pitch:83.25021649522192,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999595801776195},{time:21.427699999809263,note:"E2",pitch:83.26989439627971,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9991699846616768},{time:21.444199999809264,note:"E2",pitch:83.28445594432291,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999037603482094},{time:21.461,note:"E2",pitch:83.22127586745216,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9995016337251315},{time:21.477599999904633,note:"E2",pitch:83.22947980537451,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9995729678195033},{time:21.494299999952315,note:"E2",pitch:83.28347697418734,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9989977464806827},{time:21.511099999904634,note:"E2",pitch:83.29107721759146,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.99819291381651},{time:21.527699999809265,note:"E2",pitch:83.3093769156211,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9934269035826162},{time:21.544299999952315,note:"E2",pitch:83.41839424378429,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9386731322364454},{time:21.561,note:"E2",pitch:84.40436949016457,noteMidi:40,actualMidi:40.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.8131299251171455},{time:21.577699999809266,note:"F2",pitch:86.25563232085959,noteMidi:41,actualMidi:40.79,actualMidiChroma:4.789999999999999,centsOffset:-21.000000000000085,clarity:.8060052095244004},{time:21.594299999952316,note:"F2",pitch:85.75254996794689,noteMidi:41,actualMidi:40.69,actualMidiChroma:4.689999999999998,centsOffset:-31.000000000000227,clarity:.8279213849463929},{time:21.610899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.627699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.644299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.661,note:"C3",pitch:134.3840509846314,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.46229527054739705},{time:21.677699999809263,note:"E2",pitch:84.11879722927574,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.46122493351665383},{time:21.696299999952316,note:"E2",pitch:83.48292389612538,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.8930284360513383},{time:21.711,note:"E2",pitch:83.3755605139034,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9991821562884695},{time:21.727599999904633,note:"E2",pitch:83.37546923687533,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9994905827583409},{time:21.7445,note:"E2",pitch:83.36027950718234,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9994265572268688},{time:21.76089999985695,note:"E2",pitch:83.32889565782327,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992765499038825},{time:21.777599999904634,note:"E2",pitch:83.3178620975538,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993285510295209},{time:21.794299999952315,note:"E2",pitch:83.31914234147065,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9995902392659985},{time:21.811,note:"E2",pitch:83.33880714190033,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993327655576394},{time:21.827799999952315,note:"E2",pitch:83.32632281911103,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993069716570488},{time:21.844299999952316,note:"E2",pitch:83.30015454271184,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993386436994172},{time:21.861,note:"E2",pitch:83.335693380576,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992892429979321},{time:21.877699999809266,note:"E2",pitch:83.34275510225473,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9992749893298054},{time:21.894299999952317,note:"E2",pitch:83.31369689832023,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992027379564945},{time:21.911,note:"E2",pitch:83.30728768861427,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999554637541678},{time:21.927699999809263,note:"E2",pitch:83.3332475378031,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999403357629518},{time:21.944299999952317,note:"E2",pitch:83.33023164058244,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992832424187981},{time:21.961,note:"E2",pitch:83.2802158513508,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9994096713286638},{time:21.977699999809264,note:"E2",pitch:83.30315451783667,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993982260125733},{time:21.994299999952315,note:"E2",pitch:83.31823041552694,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992430362958657},{time:22.011,note:"E2",pitch:83.27797714270558,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9991905196035589},{time:22.027699999809265,note:"E2",pitch:83.24619534857538,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9994166975383791},{time:22.044299999952315,note:"E2",pitch:83.32795763426638,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9991307826086882},{time:22.061,note:"E2",pitch:83.67278408248544,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9397035477649354},{time:22.07989999985695,note:"E2",pitch:84.36089231721324,noteMidi:40,actualMidi:40.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.7369575964699848},{time:22.094199999809266,note:"F2",pitch:85.03941740978176,noteMidi:41,actualMidi:40.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.6404448166435728},{time:22.111,note:"F2",pitch:86.54222026817521,noteMidi:41,actualMidi:40.85,actualMidiChroma:4.850000000000001,centsOffset:-14.999999999999858,clarity:.7140539838999302},{time:22.127799999952316,note:"E2",pitch:84.51857640144159,noteMidi:40,actualMidi:40.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.6221999837102743},{time:22.144299999952317,note:"E2",pitch:83.97875063834303,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.5264648753553729},{time:22.161,note:"E2",pitch:83.50356556213895,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.8577109123824016},{time:22.177699999809263,note:"E2",pitch:83.24758583815357,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9886014634309532},{time:22.194299999952317,note:"E2",pitch:83.33424584298179,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.998944118097441},{time:22.211,note:"E2",pitch:83.32825986067155,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9986470700155365},{time:22.227599999904633,note:"E2",pitch:83.28640891557824,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9989692268078016},{time:22.244299999952315,note:"E2",pitch:83.27496311410881,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9992124915449949},{time:22.261,note:"E2",pitch:83.32882799334728,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9986829033337159},{time:22.277599999904634,note:"E2",pitch:83.32183322442758,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.998296144484641},{time:22.294299999952315,note:"E2",pitch:83.265052572176,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9990421563071266},{time:22.31089999985695,note:"E2",pitch:83.32292859337656,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9991557851390809},{time:22.32759999990463,note:"E2",pitch:83.35443498561021,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9987312246037305},{time:22.344199999809266,note:"E2",pitch:83.31193122705217,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9989395263546612},{time:22.360899999856947,note:"E2",pitch:83.28747275788463,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9992419423153365},{time:22.377599999904632,note:"E2",pitch:83.29515236815872,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988556637347017},{time:22.394299999952317,note:"E2",pitch:83.28338016082577,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9982991030199599},{time:22.411,note:"E2",pitch:83.36811566022702,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9965694364887696},{time:22.427699999809263,note:"E2",pitch:83.73718529726668,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9381473557561719},{time:22.444299999952317,note:"E2",pitch:84.75498207212998,noteMidi:40,actualMidi:40.49,actualMidiChroma:4.490000000000002,centsOffset:49.0000000000002,clarity:.7467139887398986},{time:22.463599999904634,note:"G2",pitch:95.92124519429103,noteMidi:43,actualMidi:42.63,actualMidiChroma:6.630000000000003,centsOffset:-36.999999999999744,clarity:.6016363129721505},{time:22.477699999809264,note:"C4",pitch:262.35900115297244,noteMidi:60,actualMidi:60.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.21298559101615755},{time:22.494199999809265,note:"E2",pitch:83.89391781718287,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.7809203028915732},{time:22.511,note:"E2",pitch:83.09336893847902,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9818022692466002},{time:22.527599999904634,note:"E2",pitch:83.28815033797832,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9980873650640802},{time:22.544299999952315,note:"E2",pitch:83.34495340872985,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9989629134530986},{time:22.561,note:"E2",pitch:83.292318155597,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988138655252641},{time:22.577699999809266,note:"E2",pitch:83.3005765616181,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992219942608358},{time:22.594199999809266,note:"E2",pitch:83.36520505386414,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9992382151294521},{time:22.611,note:"E2",pitch:83.39989945939087,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9987969113590651},{time:22.627599999904632,note:"E2",pitch:83.38471530373577,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9989385443012111},{time:22.644299999952317,note:"E2",pitch:83.41063511746978,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9994796208014805},{time:22.661,note:"E2",pitch:83.49294378438249,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9989732058342327},{time:22.677599999904633,note:"E2",pitch:83.50597491333919,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9984399146998157},{time:22.694299999952317,note:"E2",pitch:83.47375545002055,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9992423291413957},{time:22.71089999985695,note:"E2",pitch:83.5267255368791,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9992739161167066},{time:22.727599999904633,note:"E2",pitch:83.54543984906974,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.99877137252399},{time:22.744299999952315,note:"E2",pitch:83.50568919149936,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9986581397426733},{time:22.76089999985695,note:"E2",pitch:83.48034606208135,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9995224543269217},{time:22.777699999809265,note:"E2",pitch:83.5882986920573,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9949809648628332},{time:22.794299999952315,note:"E2",pitch:84.12260467333765,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.8926733168556211},{time:22.811,note:"F2",pitch:88.15010869351057,noteMidi:41,actualMidi:41.17,actualMidiChroma:5.170000000000002,centsOffset:17.00000000000017,clarity:.5777317421426744},{time:22.82759999990463,note:"F2",pitch:89.72615617892343,noteMidi:41,actualMidi:41.47,actualMidiChroma:5.469999999999999,centsOffset:46.999999999999886,clarity:.536405821808895},{time:22.844099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.861,note:"G0",pitch:23.82476698908005,noteMidi:19,actualMidi:18.52,actualMidiChroma:6.52,centsOffset:-48.00000000000004,clarity:.4305725403382894},{time:22.881299999952315,note:"E2",pitch:84.14335924831931,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.7692796130478428},{time:22.894199999809267,note:"E2",pitch:83.69653200444137,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.8804764673944874},{time:22.911,note:"E2",pitch:83.50431119281987,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9985873869699731},{time:22.927699999809263,note:"E2",pitch:83.56781668963598,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993431524851673},{time:22.944199999809264,note:"E2",pitch:83.556720744926,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992715784929658},{time:22.96089999985695,note:"E2",pitch:83.49840056505563,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994646336243562},{time:22.977599999904633,note:"E2",pitch:83.52071856231457,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994389782713995},{time:22.994299999952315,note:"E2",pitch:83.57525513232063,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992611145019623},{time:23.01089999985695,note:"E2",pitch:83.54761775236113,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992232506510561},{time:23.027599999904634,note:"E2",pitch:83.50476939499036,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993675077185458},{time:23.044199999809265,note:"E2",pitch:83.52817703541841,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994123841526346},{time:23.06089999985695,note:"E2",pitch:83.52921028161455,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999348253139658},{time:23.07759999990463,note:"E2",pitch:83.52166358835588,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999115271492883},{time:23.094199999809266,note:"E2",pitch:83.49642191110256,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993405952135959},{time:23.110899999856947,note:"E2",pitch:83.52525786093581,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9992714021548323},{time:23.127599999904632,note:"E2",pitch:83.52338251651788,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9992123367668881},{time:23.144199999809267,note:"E2",pitch:83.48840287227621,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993722985883693},{time:23.160899999856948,note:"E2",pitch:83.5155225185833,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994051612484611},{time:23.177599999904633,note:"E2",pitch:83.53658670980796,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993158276546694},{time:23.194299999952317,note:"E2",pitch:83.54098954843417,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9990058211578798},{time:23.21089999985695,note:"E2",pitch:83.52030460823991,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993615810067098},{time:23.227599999904633,note:"E2",pitch:83.53878407906063,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993790857930662},{time:23.244299999952315,note:"E2",pitch:83.57122424025494,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9991505813139128},{time:23.261,note:"E2",pitch:83.54652536977687,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9991206378209796},{time:23.277699999809265,note:"E2",pitch:83.55792859804444,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9994385169356121},{time:23.2975,note:"E2",pitch:83.56551889822563,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.999295339641435},{time:23.31089999985695,note:"E2",pitch:83.570713812633,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9986701809883982},{time:23.32759999990463,note:"E2",pitch:83.54885968747911,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9988870710831748},{time:23.344299999952316,note:"E2",pitch:83.56122470046272,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993378764272052},{time:23.360899999856947,note:"E2",pitch:83.58459724619047,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9988990784671472},{time:23.377599999904632,note:"E2",pitch:83.57471817779955,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9986610509713927},{time:23.394199999809267,note:"E2",pitch:83.55369989659114,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992226219738569},{time:23.411099999904632,note:"E2",pitch:83.57022292341152,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9991035614621069},{time:23.427599999904633,note:"E2",pitch:83.58174617142843,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9987632079371735},{time:23.444199999809264,note:"E2",pitch:83.55417495291258,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9982801076832999},{time:23.46089999985695,note:"E2",pitch:83.55009457656485,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9990798870642976},{time:23.477599999904633,note:"E2",pitch:83.56639427006795,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9990833421282019},{time:23.494199999809265,note:"E2",pitch:83.57329827853881,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9979687782789739},{time:23.51089999985695,note:"E2",pitch:83.5392621510604,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9988105090917969},{time:23.527599999904634,note:"E2",pitch:83.52999364763824,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993228757673194},{time:23.544199999809265,note:"E2",pitch:83.57876994446347,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9982074300403667},{time:23.56089999985695,note:"E2",pitch:83.53398733254865,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.997363018920467},{time:23.57759999990463,note:"E2",pitch:83.50217786273758,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9985027864070588},{time:23.594299999952316,note:"E2",pitch:83.56235624293043,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9989148991190575},{time:23.610899999856947,note:"E2",pitch:83.57821298601561,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9973190346569254},{time:23.627599999904632,note:"E2",pitch:83.53478519166043,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.99726471775314},{time:23.644199999809267,note:"E2",pitch:83.51394161868605,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999005582506598},{time:23.660899999856948,note:"E2",pitch:83.56594208208702,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9971345412944004},{time:23.677599999904633,note:"E2",pitch:83.54178345884053,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9953862232218142},{time:23.694299999952317,note:"E2",pitch:83.4438324331234,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9977559865949246},{time:23.710799999952318,note:"E2",pitch:83.49017714473483,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9983330388731417},{time:23.73159999990463,note:"E2",pitch:83.49135541084762,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9951893782478862},{time:23.744199999809265,note:"E2",pitch:83.45255489171305,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9952401281047543},{time:23.76089999985695,note:"E2",pitch:83.41012781184807,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9985223120101097},{time:23.777699999809265,note:"E2",pitch:83.41503699553185,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.998004517300302},{time:23.794199999809265,note:"E2",pitch:83.41154384929258,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9954192509794524},{time:23.811,note:"E2",pitch:83.33100931347977,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9974517470373172},{time:23.82759999990463,note:"E2",pitch:83.34820182602765,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9975710135127969},{time:23.84439999985695,note:"E2",pitch:83.35543798637623,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9970832890661541},{time:23.860899999856947,note:"E2",pitch:83.28080371887141,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9967602141990994},{time:23.877599999904632,note:"E2",pitch:83.25094692062758,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9973037578077282},{time:23.894299999952317,note:"E2",pitch:83.32603922210721,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9977209585743907},{time:23.910899999856948,note:"E2",pitch:83.43034554564365,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9946059881267502},{time:23.927599999904633,note:"E2",pitch:83.60541794755643,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9734857259985716},{time:23.944199999809264,note:"E2",pitch:84.12060384916495,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.7445802789743112},{time:23.96089999985695,note:"F2",pitch:87.52704073625232,noteMidi:41,actualMidi:41.04,actualMidiChroma:5.039999999999999,centsOffset:3.9999999999999147,clarity:.6061479499515663},{time:23.9775,note:"F2",pitch:88.06918113333914,noteMidi:41,actualMidi:41.15,actualMidiChroma:5.149999999999999,centsOffset:14.999999999999858,clarity:.691122379496786},{time:23.994099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.010799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.0275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.044199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.061,note:"F2",pitch:84.95125653006257,noteMidi:41,actualMidi:40.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.46818263155333284},{time:24.07759999990463,note:"F2",pitch:84.92906259609326,noteMidi:41,actualMidi:40.52,actualMidiChroma:4.520000000000003,centsOffset:-47.99999999999969,clarity:.5553899921074219},{time:24.094199999809266,note:"E2",pitch:83.36103117340218,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.8891230397209},{time:24.110899999856947,note:"E2",pitch:83.45280067244157,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9688998650279927},{time:24.127599999904632,note:"E2",pitch:83.43728811505858,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9765928647015159},{time:24.144199999809267,note:"E2",pitch:83.20768998681989,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9762780166214213},{time:24.164799999952315,note:"E2",pitch:83.24262790680538,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9879114246406289},{time:24.177599999904633,note:"E2",pitch:83.3201989406603,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9833416022588182},{time:24.194299999952317,note:"E2",pitch:83.24320252735494,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9691407398097596},{time:24.211,note:"E2",pitch:83.08685427291029,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9786190312437526},{time:24.2275,note:"E2",pitch:83.17734130661688,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9820665800306756},{time:24.244199999809265,note:"E2",pitch:83.28169185898219,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9805750515389917},{time:24.26089999985695,note:"E2",pitch:83.09374116069206,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9781979374943433},{time:24.277699999809265,note:"E2",pitch:83.18398054084368,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9842713148140092},{time:24.294199999809265,note:"E2",pitch:83.35253892393601,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9842121419618337},{time:24.31089999985695,note:"E2",pitch:84.11187749079687,noteMidi:40,actualMidi:40.35,actualMidiChroma:4.350000000000001,centsOffset:35.00000000000014,clarity:.9054351062649602},{time:24.32759999990463,note:"F2",pitch:85.26159728316594,noteMidi:41,actualMidi:40.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.7324437539323725},{time:24.344099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.360899999856947,note:"F2",pitch:88.57933601497851,noteMidi:41,actualMidi:41.25,actualMidiChroma:5.25,centsOffset:25,clarity:.28742340109027964},{time:24.3775,note:"E2",pitch:84.585940349349,noteMidi:40,actualMidi:40.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.45415277426783973},{time:24.394199999809267,note:"E2",pitch:83.36511421586059,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.8956628395027053},{time:24.410899999856948,note:"E2",pitch:83.38640843210696,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9980988128987747},{time:24.427599999904633,note:"E2",pitch:83.37616229165307,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9984078161867558},{time:24.444199999809264,note:"E2",pitch:83.31226609646681,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988607027067644},{time:24.46089999985695,note:"E2",pitch:83.335131985064,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988510605431316},{time:24.477599999904633,note:"E2",pitch:83.34474726272052,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9986174255419371},{time:24.494199999809265,note:"E2",pitch:83.31658267690467,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9982902805957821},{time:24.51089999985695,note:"E2",pitch:83.2932848142969,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993544889486259},{time:24.527599999904634,note:"E2",pitch:83.31898502709569,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9991165953300651},{time:24.544199999809265,note:"E2",pitch:83.341172160192,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9983774762823572},{time:24.56089999985695,note:"E2",pitch:83.31408621113277,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988841067676901},{time:24.57759999990463,note:"E2",pitch:83.32392088833846,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992213221118362},{time:24.594199999809266,note:"E2",pitch:83.3650893420049,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9984613487189904},{time:24.610899999856947,note:"E2",pitch:83.33929396648162,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9979218386079083},{time:24.627599999904632,note:"E2",pitch:83.32575507613439,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988166447379285},{time:24.648299999952318,note:"E2",pitch:83.36027271498736,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9991516439029624},{time:24.661,note:"E2",pitch:83.36087974610838,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.997935140761598},{time:24.677599999904633,note:"E2",pitch:83.33578934292683,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9976434540011354},{time:24.694199999809264,note:"E2",pitch:83.35589094569958,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9993097249728038},{time:24.71089999985695,note:"E2",pitch:83.36799997615798,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9982591085313715},{time:24.7275,note:"E2",pitch:83.36572554613271,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9972495350248494},{time:24.744299999952315,note:"E2",pitch:83.32956647006915,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9985418344949721},{time:24.76089999985695,note:"E2",pitch:83.38957290732735,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.999083317879311},{time:24.7775,note:"E2",pitch:83.40610132959071,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9980788924100068},{time:24.794199999809265,note:"E2",pitch:83.3760135196718,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9969760558858525},{time:24.81089999985695,note:"E2",pitch:83.41066214387644,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.999270605399488},{time:24.82759999990463,note:"E2",pitch:83.44272405726245,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.998414302234778},{time:24.844199999809266,note:"E2",pitch:83.42671463011199,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.996272356097208},{time:24.860899999856947,note:"E2",pitch:83.37959112200674,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.998026120446383},{time:24.877599999904632,note:"E2",pitch:83.39104129460218,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9993260056822493},{time:24.894199999809267,note:"E2",pitch:83.45773478055897,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9973254028528089},{time:24.910899999856948,note:"E2",pitch:83.4092882723182,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9956191029817063},{time:24.927599999904633,note:"E2",pitch:83.42220412391788,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9977302565432637},{time:24.944299999952317,note:"E2",pitch:83.45831441802773,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9978247205700228},{time:24.96089999985695,note:"E2",pitch:83.44596766277833,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9950357999633894},{time:24.977599999904633,note:"E2",pitch:83.41095343000335,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9950493813934713},{time:24.994099999904634,note:"E2",pitch:83.40886909060599,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9992011715690836},{time:25.01089999985695,note:"E2",pitch:83.47272720085458,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9962465351727161},{time:25.027599999904634,note:"E2",pitch:83.44710669640367,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9950925468098291},{time:25.044199999809265,note:"E2",pitch:83.40769528433208,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9972801299928733},{time:25.06089999985695,note:"E2",pitch:83.45656192236599,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.997512151236549},{time:25.07759999990463,note:"E2",pitch:83.47372655178792,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.996297882695302},{time:25.099,note:"E2",pitch:83.42081263972982,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9947786054698895},{time:25.1115,note:"E2",pitch:83.42448996361529,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9989354466744516},{time:25.127599999904632,note:"E2",pitch:83.4708781322753,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9974239477821243},{time:25.144399999856947,note:"E2",pitch:83.46216026994969,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9947796191823102},{time:25.160899999856948,note:"E2",pitch:83.40313788991331,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9974294478578969},{time:25.177599999904633,note:"E2",pitch:83.43841062032705,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9982649357214513},{time:25.194399999856948,note:"E2",pitch:83.50462917541094,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9949615440309572},{time:25.211,note:"E2",pitch:83.44409921728447,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9955616195351809},{time:25.227599999904633,note:"E2",pitch:83.418880444203,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.997512546591409},{time:25.244299999952315,note:"E2",pitch:83.49129703615269,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9968161114411771},{time:25.26089999985695,note:"E2",pitch:83.48741121083017,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9943530485965368},{time:25.277599999904634,note:"E2",pitch:83.44710452257945,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9948582740990446},{time:25.294299999952315,note:"E2",pitch:83.43902741269459,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9978767648711226},{time:25.31089999985695,note:"E2",pitch:83.50801698566303,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9951486787578006},{time:25.32759999990463,note:"E2",pitch:83.49366196852982,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9939947391152941},{time:25.344299999952316,note:"E2",pitch:83.41142437271657,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.996870102824829},{time:25.361,note:"E2",pitch:83.48185648556225,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9967824499121747},{time:25.377699999809266,note:"E2",pitch:83.509395700356,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9949176673405589},{time:25.394299999952317,note:"E2",pitch:83.45488942228786,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9930137372507772},{time:25.411,note:"E2",pitch:83.44792253346023,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9970818622207815},{time:25.427599999904633,note:"E2",pitch:83.4646799949509,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9965935375474544},{time:25.444199999809264,note:"E2",pitch:83.49551250805642,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9927635821872371},{time:25.461,note:"E2",pitch:83.40269288266212,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9953262213976757},{time:25.477599999904633,note:"E2",pitch:83.44734448415521,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9974540847844651},{time:25.494199999809265,note:"E2",pitch:83.50465996259176,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9943488299358734},{time:25.51089999985695,note:"E2",pitch:83.46584182838708,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9905381892730389},{time:25.527599999904634,note:"E2",pitch:83.39627380096901,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9942208163468393},{time:25.544299999952315,note:"E2",pitch:83.44146396097526,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.996388314369753},{time:25.561,note:"E2",pitch:83.47564949797457,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9924779913952761},{time:25.577699999809266,note:"E2",pitch:83.46054404955233,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.990931782536407},{time:25.594299999952316,note:"E2",pitch:83.40773649766427,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9964991647559742},{time:25.616,note:"E2",pitch:83.45876822113318,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9946455248458506},{time:25.629799999952315,note:"E2",pitch:83.44110241111916,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9895768968136451},{time:25.644199999809267,note:"E2",pitch:83.38716433154997,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9922707648727851},{time:25.661,note:"E2",pitch:83.41836642805941,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9959057257508874},{time:25.677799999952317,note:"E2",pitch:83.44001182152833,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9945578053948054},{time:25.694299999952317,note:"E2",pitch:83.43221967810405,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9899238190398734},{time:25.711,note:"E2",pitch:83.41279076718135,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9951127435394511},{time:25.727599999904633,note:"E2",pitch:83.41967771082047,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9961177610505558},{time:25.744199999809265,note:"E2",pitch:83.47161590415648,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.992205126442343},{time:25.761,note:"E2",pitch:83.40600395320624,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9901497300634787},{time:25.777599999904634,note:"E2",pitch:83.38604943227946,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9930807328308191},{time:25.794199999809265,note:"E2",pitch:83.41474254745313,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9942272518898818},{time:25.81089999985695,note:"E2",pitch:83.42014853715058,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9890469408999536},{time:25.827699999809266,note:"E2",pitch:83.37229229760885,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9907229366403669},{time:25.844299999952316,note:"E2",pitch:83.41795742727192,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9949289033662012},{time:25.861,note:"E2",pitch:83.49054710392166,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9925649524881237},{time:25.877599999904632,note:"E2",pitch:83.46042481709877,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9889343748405821},{time:25.894299999952317,note:"E2",pitch:83.40777487978177,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9918985210286735},{time:25.910899999856948,note:"E2",pitch:83.42446654676819,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9944737253203328},{time:25.927599999904633,note:"E2",pitch:83.4571791602768,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9925388162909456},{time:25.944299999952317,note:"E2",pitch:83.39623380570625,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9918322209745014},{time:25.961,note:"E2",pitch:83.4181796839289,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9950987629690502},{time:25.977599999904633,note:"E2",pitch:83.46463463240403,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9938937861052608},{time:25.994299999952315,note:"E2",pitch:83.4705853969309,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9906101900631228},{time:26.011,note:"E2",pitch:83.41452985853749,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9925310925093243},{time:26.027699999809265,note:"E2",pitch:83.45541303077961,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9942863642076389},{time:26.044299999952315,note:"E2",pitch:83.5378847853618,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.992822565746522},{time:26.06089999985695,note:"E2",pitch:83.87850870944747,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.9459521076933299},{time:26.077699999809266,note:"E2",pitch:84.32554471090754,noteMidi:40,actualMidi:40.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.8833188797476481},{time:26.094299999952316,note:"F2",pitch:85.64221037467217,noteMidi:41,actualMidi:40.67,actualMidiChroma:4.670000000000002,centsOffset:-32.99999999999983,clarity:.6125509599302035},{time:26.110799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.1275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.144099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.160799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.1775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.194199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.210799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.232299999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.247699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.260799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.277599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.29409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.310799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.32759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.344099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.360799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.3775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.394199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.410799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.4275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.444099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.460799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.4775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.494099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.510799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.5275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.54409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.560799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.5775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.594199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.610699999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.6275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.644199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.660799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.6775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.694099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.710799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.7275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.744199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.761099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.782,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.795299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.810799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.8275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.844199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.860799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.877399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.894199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.910799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.927599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.944099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.960799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.9775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.994099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.01089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.02739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.04409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.060799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.077399999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.094099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.110799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.1275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.144199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.160799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.17739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.194099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.210799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.22739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.244199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.260799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.2775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.29409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.310799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.3275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.344099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.360799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.3775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.39909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.41459999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.4275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.444199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.460799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.4775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.494199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.510699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.52739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.54409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.560799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.577399999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.594099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.610699999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.627399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.644099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.660799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.6775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.694099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.710799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.7275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.744099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.760799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.77739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.794199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.810799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.8275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.844099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.860799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.8775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.894099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.910899999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.92739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.944099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.960699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.97739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.994099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.010799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.027699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.046899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.062599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.0775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.094099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.110699999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.127399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.144099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.160699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.17739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.194099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.210799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.227599999904633,note:"C3",pitch:133.85532566871504,noteMidi:48,actualMidi:48.4,actualMidiChroma:.3999999999999986,centsOffset:39.99999999999986,clarity:.2498412962849894},{time:28.244199999809265,note:"E2",pitch:81.56200252752028,noteMidi:40,actualMidi:39.82,actualMidiChroma:3.8200000000000003,centsOffset:-17.99999999999997,clarity:.5976108843739851},{time:28.26089999985695,note:"E2",pitch:83.18896133686496,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9317721724950019},{time:28.277599999904634,note:"E2",pitch:83.48686865793223,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9962837007934269},{time:28.294199999809265,note:"E2",pitch:83.52266158305758,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9996097151373675},{time:28.310799999952316,note:"E2",pitch:83.49298992024758,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999701348955611},{time:28.32759999990463,note:"E2",pitch:83.4677621026803,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9996728658040155},{time:28.344299999952316,note:"E2",pitch:83.44411494017793,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9995997407857118},{time:28.360899999856947,note:"E2",pitch:83.44929600613598,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997500491743239},{time:28.377599999904632,note:"E2",pitch:83.45177897447533,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997660395937231},{time:28.394199999809267,note:"E2",pitch:83.44316209659628,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997025965715949},{time:28.410899999856948,note:"E2",pitch:83.44620319587212,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997342455432232},{time:28.427599999904633,note:"E2",pitch:83.45810339954258,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997949140307583},{time:28.444199999809264,note:"E2",pitch:83.46076578265365,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998079838756411},{time:28.461,note:"E2",pitch:83.46868623750056,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997618878225012},{time:28.4775,note:"E2",pitch:83.47723284948871,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998364014996639},{time:28.494199999809265,note:"E2",pitch:83.48033453777015,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998676849141361},{time:28.51089999985695,note:"E2",pitch:83.47389025380997,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998117128260873},{time:28.5275,note:"E2",pitch:83.46360311289743,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998192256806817},{time:28.544199999809265,note:"E2",pitch:83.44665413648441,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998466385406317},{time:28.56089999985695,note:"E2",pitch:83.40707632315153,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998629830000851},{time:28.57759999990463,note:"E2",pitch:83.38237489296891,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998592762726588},{time:28.594199999809266,note:"E2",pitch:83.34815217732404,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998592330389755},{time:28.610799999952317,note:"E2",pitch:83.32550907993317,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998837666762483},{time:28.6275,note:"E2",pitch:83.30922322738117,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998824165930102},{time:28.644299999952317,note:"E2",pitch:83.27939799428464,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998591815265172},{time:28.662,note:"E2",pitch:83.26121638364032,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998888824328986},{time:28.682699999809266,note:"E2",pitch:83.26212774517518,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998925509243577},{time:28.69839999985695,note:"E2",pitch:83.25629860945519,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998856346261391},{time:28.711399999856948,note:"E2",pitch:83.2570161818252,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999906246254028},{time:28.727599999904633,note:"E2",pitch:83.25994164864431,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999097921302678},{time:28.744199999809265,note:"E2",pitch:83.26722896643193,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999132027488145},{time:28.76089999985695,note:"E2",pitch:83.2651808049249,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998921240777321},{time:28.777599999904634,note:"E2",pitch:83.26137849793773,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999115184254066},{time:28.794199999809265,note:"E2",pitch:83.26111235347665,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999295026511561},{time:28.81089999985695,note:"E2",pitch:83.28865623576189,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.99455034713543},{time:28.82759999990463,note:"E2",pitch:83.54084443522045,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.963003049305982},{time:28.844199999809266,note:"E2",pitch:83.91734029051271,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.8485152304012047},{time:28.860899999856947,note:"F2",pitch:88.39206165321349,noteMidi:41,actualMidi:41.21,actualMidiChroma:5.210000000000001,centsOffset:21.000000000000085,clarity:.6260963466844238},{time:28.878,note:"Gb2",pitch:93.23346415409817,noteMidi:42,actualMidi:42.14,actualMidiChroma:6.140000000000001,centsOffset:14.000000000000057,clarity:.7913983924751786},{time:28.894,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.910699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.92739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.944199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.960699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.9775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.994,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.010799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.02739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.04409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.060699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.077399999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.094099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.110899999856947,note:"D3",pitch:149.5089559724154,noteMidi:50,actualMidi:50.31,actualMidiChroma:2.3100000000000023,centsOffset:31.000000000000227,clarity:.4532607054971898},{time:29.1275,note:"E2",pitch:83.51285506227376,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.6581503455619355},{time:29.144199999809267,note:"E2",pitch:83.29403926202833,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9784504493561599},{time:29.160899999856948,note:"E2",pitch:83.51221177925463,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9997779891852616},{time:29.177599999904633,note:"E2",pitch:83.5044372908564,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9997815942153778},{time:29.194199999809264,note:"E2",pitch:83.46598249974066,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.999823784740272},{time:29.21089999985695,note:"E2",pitch:83.4511392493092,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998234250955278},{time:29.2275,note:"E2",pitch:83.46178653117616,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998154108102},{time:29.244199999809265,note:"E2",pitch:83.46878261253717,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997921605350939},{time:29.26089999985695,note:"E2",pitch:83.42832887564778,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998584554884502},{time:29.278099999904633,note:"E2",pitch:83.41745208724373,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998723947799704},{time:29.298299999952317,note:"E2",pitch:83.42379570200801,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998384952168067},{time:29.314299999952315,note:"E2",pitch:83.42191890566598,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998762696793335},{time:29.327399999856947,note:"E2",pitch:83.40463514618854,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998924700788052},{time:29.344299999952316,note:"E2",pitch:83.39064962854654,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998832067824992},{time:29.360799999952317,note:"E2",pitch:83.39129552542734,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998740530417507},{time:29.3775,note:"E2",pitch:83.37648946317618,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998925047052154},{time:29.394199999809267,note:"E2",pitch:83.34299293821171,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999030719891664},{time:29.411,note:"E2",pitch:83.33421551295216,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998907570431896},{time:29.427599999904633,note:"E2",pitch:83.346253306618,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998980862639968},{time:29.444299999952317,note:"E2",pitch:83.3541259058011,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999439523907654},{time:29.46089999985695,note:"E2",pitch:83.36554068804412,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999362554391382},{time:29.4775,note:"E2",pitch:83.3742658284445,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999160283189781},{time:29.494199999809265,note:"E2",pitch:83.3235900782468,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998784932953555},{time:29.510799999952315,note:"E2",pitch:83.09526527858131,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.999621590692584},{time:29.527599999904634,note:"E2",pitch:82.95135996781414,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9997148494745289},{time:29.544299999952315,note:"E2",pitch:82.73427241992977,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9998322973151517},{time:29.56089999985695,note:"E2",pitch:82.59318402519841,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998761300178103},{time:29.5775,note:"E2",pitch:82.5363516570246,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9999083396801041},{time:29.594199999809266,note:"E2",pitch:82.48384399243218,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999255995349756},{time:29.610899999856947,note:"E2",pitch:82.44705272311855,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.999935383879162},{time:29.6275,note:"E2",pitch:82.42607588998155,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999374145031368},{time:29.644199999809267,note:"E2",pitch:82.38845189954681,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999288741501573},{time:29.660899999856948,note:"E2",pitch:82.3419284533236,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999283137684785},{time:29.677599999904633,note:"E2",pitch:82.32311383072938,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999325585666128},{time:29.694199999809264,note:"E2",pitch:82.27286198430714,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999342310237864},{time:29.71089999985695,note:"E2",pitch:82.24652624948264,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999300673863729},{time:29.7275,note:"E2",pitch:82.2345099545153,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999264391112206},{time:29.744299999952315,note:"E2",pitch:82.19430411483188,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999297030893501},{time:29.760799999952315,note:"E2",pitch:82.15628666892329,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999265350968187},{time:29.777599999904634,note:"E2",pitch:82.12068542253074,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999326784388813},{time:29.794199999809265,note:"E2",pitch:82.0537441795839,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999147363903944},{time:29.810799999952316,note:"E2",pitch:81.9934530087355,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999124659344432},{time:29.8275,note:"E2",pitch:81.97818338767348,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999293940761476},{time:29.844099999904632,note:"E2",pitch:81.93792173130826,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9999342090511618},{time:29.860899999856947,note:"E2",pitch:81.89791181217204,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.999927517939696},{time:29.8775,note:"E2",pitch:81.8868142675283,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999264778201677},{time:29.894199999809267,note:"E2",pitch:81.88265761567966,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999347112177475},{time:29.910899999856948,note:"E2",pitch:81.86786533491427,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999402581679533},{time:29.9275,note:"E2",pitch:81.86063529598952,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999469804133412},{time:29.945799999952317,note:"E2",pitch:81.85172041274329,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999569195223472},{time:29.965599999904633,note:"E2",pitch:81.84084513584895,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999483055621141},{time:29.98389999985695,note:"E2",pitch:81.83582986431789,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.999941517789253},{time:29.997599999904633,note:"E2",pitch:81.84206005714589,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.999936102001854},{time:30.011299999952318,note:"E2",pitch:81.8480416724357,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999381073029809},{time:30.0275,note:"E2",pitch:81.84446901991056,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999449416461346},{time:30.044199999809265,note:"E2",pitch:81.8382641087548,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999381200650532},{time:30.06089999985695,note:"E2",pitch:81.82511594525006,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999367101491714},{time:30.07759999990463,note:"E2",pitch:81.8149161759209,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999403545162124},{time:30.094299999952316,note:"E2",pitch:81.80294856510594,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999442898658089},{time:30.110899999856947,note:"E2",pitch:81.79894930544835,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999421487665359},{time:30.1275,note:"E2",pitch:81.79082033292032,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999412628518058},{time:30.144199999809267,note:"E2",pitch:81.78981551855179,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999566068937185},{time:30.160899999856948,note:"E2",pitch:81.80113677693683,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999530319631589},{time:30.1775,note:"E2",pitch:81.80848571255397,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999477131383117},{time:30.194199999809264,note:"E2",pitch:81.80451623945018,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999479430773306},{time:30.21089999985695,note:"E2",pitch:81.80509036343027,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999493175474612},{time:30.227599999904633,note:"E2",pitch:81.81132672283051,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999531441319647},{time:30.244099999904634,note:"E2",pitch:81.83061236358522,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999526036679356},{time:30.260799999952315,note:"E2",pitch:81.85938415128179,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999561264570787},{time:30.2775,note:"E2",pitch:81.86884819240942,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999414252651206},{time:30.294199999809265,note:"E2",pitch:81.8679633523228,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999297868414345},{time:30.310799999952316,note:"E2",pitch:81.87729109249993,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999566922000866},{time:30.3275,note:"E2",pitch:81.88541745476175,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999582998206336},{time:30.344199999809266,note:"E2",pitch:81.91257755546347,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9999569901139722},{time:30.360799999952317,note:"E2",pitch:81.93720067481465,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9999611656842688},{time:30.3775,note:"E2",pitch:81.95619594937268,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999598149197766},{time:30.394199999809267,note:"E2",pitch:81.98513078679458,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999357835274765},{time:30.410899999856948,note:"E2",pitch:82.00248971070744,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999497125158854},{time:30.4275,note:"E2",pitch:82.00571807535033,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999515156265915},{time:30.444199999809264,note:"E2",pitch:81.99759348930746,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999564566088566},{time:30.46089999985695,note:"E2",pitch:82.00296594463686,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999559372903661},{time:30.4775,note:"E2",pitch:82.00624785926223,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999567539507694},{time:30.494199999809265,note:"E2",pitch:82.00903080565655,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999523657330371},{time:30.510799999952315,note:"E2",pitch:82.01353208894014,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999557552345522},{time:30.5275,note:"E2",pitch:82.02020042740357,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999485208009133},{time:30.544199999809265,note:"E2",pitch:82.02781085453672,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999398317455643},{time:30.56089999985695,note:"E2",pitch:82.0184193600529,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999471146367256},{time:30.5775,note:"E2",pitch:82.01112117672197,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999531934939228},{time:30.594199999809266,note:"E2",pitch:82.01370887170772,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999613436293515},{time:30.6125,note:"E2",pitch:82.01066600961948,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.99995837678388},{time:30.6325,note:"E2",pitch:81.99958887020033,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999510728793126},{time:30.651099999904634,note:"E2",pitch:81.99891141968686,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999527028758308},{time:30.665199999809264,note:"E2",pitch:81.9966047167371,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999407368566011},{time:30.678299999952316,note:"E2",pitch:81.99366838167313,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999408818367783},{time:30.694099999904633,note:"E2",pitch:81.99684781345921,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999433491758083},{time:30.710799999952318,note:"E2",pitch:82.0202796678903,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999484121913014},{time:30.727599999904633,note:"E2",pitch:82.02388546407732,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999526230878644},{time:30.744199999809265,note:"E2",pitch:82.04246629774502,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.999939115872678},{time:30.76089999985695,note:"E2",pitch:82.08011541771023,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999623916279887},{time:30.7775,note:"E2",pitch:82.08392449237203,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999587750892402},{time:30.794199999809265,note:"E2",pitch:82.0927573976778,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999571019923224},{time:30.810799999952316,note:"E2",pitch:82.09730363935883,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999948788911226},{time:30.827399999856947,note:"E2",pitch:82.10494795155279,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999433802280606},{time:30.844199999809266,note:"E2",pitch:82.12806509098536,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999936276414644},{time:30.860899999856947,note:"E2",pitch:82.1437064513631,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999532699871878},{time:30.8775,note:"E2",pitch:82.15231977134258,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999466621270585},{time:30.894099999904633,note:"E2",pitch:82.14919208303718,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999414258418682},{time:30.910799999952317,note:"E2",pitch:82.15210129242816,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999274172962913},{time:30.9275,note:"E2",pitch:82.16927676076085,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999228926668451},{time:30.944199999809264,note:"E2",pitch:82.17270947669115,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999348045396914},{time:30.96089999985695,note:"E2",pitch:82.16372030744832,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999400592739676},{time:30.9775,note:"E2",pitch:82.16365356241798,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.999945895673477},{time:30.994199999809265,note:"E2",pitch:82.16945535475818,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999391322904359},{time:31.01089999985695,note:"E2",pitch:82.17822120240812,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999311401271598},{time:31.02739999985695,note:"E2",pitch:82.19288965676395,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999335585483777},{time:31.044199999809265,note:"E2",pitch:82.20711172909635,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999442401498868},{time:31.06089999985695,note:"E2",pitch:82.19845690828008,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999382340557332},{time:31.0775,note:"E2",pitch:82.18977655585572,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999441492015819},{time:31.094099999904632,note:"E2",pitch:82.20639751899611,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999327455941796},{time:31.110899999856947,note:"E2",pitch:82.21469548373854,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999944667967128},{time:31.1275,note:"E2",pitch:82.21438166049006,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999306299148145},{time:31.144099999904633,note:"E2",pitch:82.22694208973178,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.99994589017885},{time:31.160799999952317,note:"E2",pitch:82.22299301660875,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999331854829165},{time:31.1775,note:"E2",pitch:82.23299537233716,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999164427270415},{time:31.194099999904633,note:"E2",pitch:82.22971884585517,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999083869665242},{time:31.211,note:"E2",pitch:82.23486637998691,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999273219099223},{time:31.2275,note:"E2",pitch:82.2262666154996,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999341962738697},{time:31.244199999809265,note:"E2",pitch:82.2178759251138,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999932093065766},{time:31.26089999985695,note:"E2",pitch:82.23769460501394,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999288008155958},{time:31.282799999952317,note:"E2",pitch:82.24362576006672,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999330387441177},{time:31.302599999904633,note:"E2",pitch:82.2433743089876,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999190683097936},{time:31.319599999904632,note:"E2",pitch:82.24165354992829,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999367788228},{time:31.33389999985695,note:"E2",pitch:82.23321543184323,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999341447102381},{time:31.34759999990463,note:"E2",pitch:82.23841252746357,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999924707544082},{time:31.36139999985695,note:"E2",pitch:82.22981440713322,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999083514426417},{time:31.377599999904632,note:"E2",pitch:82.23033359130335,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998997344705316},{time:31.394099999904633,note:"E2",pitch:82.23748342385176,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998987790927742},{time:31.410799999952317,note:"E2",pitch:82.23351448559515,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999008312002502},{time:31.4275,note:"E2",pitch:82.23886035331869,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999172557635205},{time:31.444199999809264,note:"E2",pitch:82.22980749859177,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999262866985958},{time:31.4655,note:"E2",pitch:82.21132602139392,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998726194247354},{time:31.479699999809267,note:"E2",pitch:82.21746139816165,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998930087715507},{time:31.494099999904634,note:"E2",pitch:82.22587312800643,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999216921047775},{time:31.510799999952315,note:"E2",pitch:82.23038199617842,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999221500004154},{time:31.5275,note:"E2",pitch:82.2263571683442,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999217888182415},{time:31.54409999990463,note:"E2",pitch:82.23377464756081,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999106149741834},{time:31.560799999952316,note:"E2",pitch:82.21638708449576,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998802100808319},{time:31.5775,note:"E2",pitch:82.20625220331773,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998632046122538},{time:31.594199999809266,note:"E2",pitch:82.22923172960184,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998882109458123},{time:31.610699999809267,note:"E2",pitch:82.23480562102465,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999149181638813},{time:31.6275,note:"E2",pitch:82.23043784142858,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998886293746239},{time:31.644099999904633,note:"E2",pitch:82.22344132334061,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998703129627842},{time:31.660799999952317,note:"E2",pitch:82.23252714818798,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998732043705303},{time:31.677599999904633,note:"E2",pitch:82.24097980636134,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998801744268775},{time:31.694099999904633,note:"E2",pitch:82.22734689477704,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998862108301836},{time:31.710799999952318,note:"E2",pitch:82.24065286938307,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998902223473607},{time:31.727599999904633,note:"E2",pitch:82.24036937983713,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998333718593244},{time:31.744199999809265,note:"E2",pitch:82.21450868525572,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997925946348829},{time:31.76089999985695,note:"E2",pitch:82.23827196925801,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998463085167089},{time:31.7775,note:"E2",pitch:82.24997717040051,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998672085050799},{time:31.79409999990463,note:"E2",pitch:82.25900076810491,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9997952102018388},{time:31.81089999985695,note:"E2",pitch:82.2608359426805,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998690403004105},{time:31.8275,note:"E2",pitch:82.28242446226918,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999898420204417},{time:31.844099999904632,note:"E2",pitch:82.29170107779909,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998504758472677},{time:31.860799999952317,note:"E2",pitch:82.27253137921998,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998037494600993},{time:31.8775,note:"E2",pitch:82.29857129781409,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995406652179213},{time:31.894199999809267,note:"E2",pitch:82.5038312451979,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9927503586669104},{time:31.910799999952317,note:"E2",pitch:82.72129255252935,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9646766224341405},{time:31.9275,note:"E2",pitch:82.88197537367954,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9495315179474488},{time:31.944199999809264,note:"E2",pitch:82.86406126816082,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9359955582900668},{time:31.960799999952318,note:"E2",pitch:83.16304659805498,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9498640544161105},{time:31.977299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:31.994,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.01069999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.02759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.04969999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.070099999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.088099999904635,note:"Eb3",pitch:151.23207583543928,noteMidi:51,actualMidi:50.51,actualMidiChroma:2.509999999999998,centsOffset:-49.0000000000002,clarity:.19849424696199858},{time:32.102299999952315,note:"E2",pitch:82.28090947481762,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.8156429127778608},{time:32.116,note:"E2",pitch:82.3161984410137,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9105312045023197},{time:32.129899999856946,note:"E2",pitch:82.37544992669586,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999715988427738},{time:32.14419999980927,note:"E2",pitch:82.3917308038144,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997555761719497},{time:32.16089999985695,note:"E2",pitch:82.36666541968395,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998377194406913},{time:32.1775,note:"E2",pitch:82.3445392945485,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998377404289727},{time:32.19409999990463,note:"E2",pitch:82.32496149908742,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998023550788275},{time:32.211,note:"E2",pitch:82.33388045572393,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998256182958016},{time:32.2275,note:"E2",pitch:82.33952374261055,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998269401678073},{time:32.244099999904634,note:"E2",pitch:82.3260545132346,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997964474400618},{time:32.260899999856946,note:"E2",pitch:82.28233190535353,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998416272758277},{time:32.2775,note:"E2",pitch:82.27743068787748,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998633220152016},{time:32.294199999809265,note:"E2",pitch:82.28796532427938,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999819761683753},{time:32.310799999952316,note:"E2",pitch:82.31080304260296,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998644681921149},{time:32.3275,note:"E2",pitch:82.3025599758182,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998853131009469},{time:32.344099999904635,note:"E2",pitch:82.29234610896825,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998894773047482},{time:32.36089999985695,note:"E2",pitch:82.2876140802944,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998643803656506},{time:32.37739999985695,note:"E2",pitch:82.29500471253534,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998738447470146},{time:32.39419999980927,note:"E2",pitch:82.29795388376702,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999032378263877},{time:32.41079999995232,note:"E2",pitch:82.29584786319514,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998862699648043},{time:32.4275,note:"E2",pitch:82.29294914962168,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998843155747466},{time:32.44409999990463,note:"E2",pitch:82.28396922669761,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998959280647028},{time:32.460799999952314,note:"E2",pitch:82.27817015549945,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998878425035258},{time:32.4775,note:"E2",pitch:82.27056691560341,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999002395478414},{time:32.49419999980927,note:"E2",pitch:82.26968730589371,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999216733529437},{time:32.51079999995232,note:"E2",pitch:82.27720322239811,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999098430987772},{time:32.52739999985695,note:"E2",pitch:82.28688721578138,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999900389909854},{time:32.54409999990463,note:"E2",pitch:82.28668169406262,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999153496631976},{time:32.560799999952316,note:"E2",pitch:82.27468053410108,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999248309254796},{time:32.57739999985695,note:"E2",pitch:82.27782901423866,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999208324671685},{time:32.59419999980926,note:"E2",pitch:82.2871879388496,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999306971346158},{time:32.61079999995231,note:"E2",pitch:82.29308102213822,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999931684235591},{time:32.6275,note:"E2",pitch:82.2891004886441,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999286459876231},{time:32.64409999990463,note:"E2",pitch:82.27423395998227,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.99992036734659},{time:32.66079999995232,note:"E2",pitch:82.27908631500021,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999929652319139},{time:32.6775,note:"E2",pitch:82.28240693183997,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999928807616854},{time:32.69409999990463,note:"E2",pitch:82.29534743778949,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999218833067829},{time:32.710799999952314,note:"E2",pitch:82.28839088990954,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999470715149528},{time:32.7275,note:"E2",pitch:82.28042342622518,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999371497136735},{time:32.74419999980927,note:"E2",pitch:82.26565780113799,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999283011448057},{time:32.76079999995232,note:"E2",pitch:82.25905808264065,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999324288474156},{time:32.7775,note:"E2",pitch:82.26323260338923,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999446884044829},{time:32.79409999990463,note:"E2",pitch:82.26110985299799,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999377010317403},{time:32.810799999952316,note:"E2",pitch:82.27569494740692,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999312722599996},{time:32.8275,note:"E2",pitch:82.2733673445832,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999507880371397},{time:32.84429999995232,note:"E2",pitch:82.26359218673677,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999431818551869},{time:32.86789999985695,note:"E2",pitch:82.27054660325815,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999501158398658},{time:32.88819999980927,note:"E2",pitch:82.28655978630759,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999466978827627},{time:32.90839999985695,note:"E2",pitch:82.30000492793215,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999437322965434},{time:32.923099999904636,note:"E2",pitch:82.30814191038155,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999366783016086},{time:32.937599999904634,note:"E2",pitch:82.31632385409588,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999453737189299},{time:32.95269999980926,note:"E2",pitch:82.28382413080048,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999267807338299},{time:32.96709999990463,note:"E2",pitch:82.27079236812374,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999258769296517},{time:32.981799999952315,note:"E2",pitch:82.26836408555224,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999428046330081},{time:32.99639999985695,note:"E2",pitch:82.27572031240129,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999552230709412},{time:33.010899999856946,note:"E2",pitch:82.28880729366855,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999944830320203},{time:33.0275,note:"E2",pitch:82.29767767881023,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999389878500722},{time:33.04409999990463,note:"E2",pitch:82.30839979052293,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999401919542237},{time:33.060799999952316,note:"E2",pitch:82.30186645506713,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999356148794618},{time:33.07739999985695,note:"E2",pitch:82.2938872533131,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999360412995486},{time:33.094099999904635,note:"E2",pitch:82.29520005590706,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999465190970653},{time:33.11079999995231,note:"E2",pitch:82.30262130370403,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999949623773702},{time:33.12739999985695,note:"E2",pitch:82.31382773770984,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999434078147971},{time:33.14409999990463,note:"E2",pitch:82.32904304162456,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999390441791007},{time:33.16069999980927,note:"E2",pitch:82.31939394926275,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999395378818576},{time:33.1775,note:"E2",pitch:82.30650258572425,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999355620929009},{time:33.19409999990463,note:"E2",pitch:82.30159095253218,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999171413406458},{time:33.210799999952314,note:"E2",pitch:82.31712389159694,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999409134385928},{time:33.2275,note:"E2",pitch:82.30770304940671,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999361167390077},{time:33.244,note:"E2",pitch:82.32006937084498,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999316662884752},{time:33.26079999995232,note:"E2",pitch:82.34242453704442,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999569371838106},{time:33.2775,note:"E2",pitch:82.34686527297683,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999617752503553},{time:33.29409999990463,note:"E2",pitch:82.33945802062924,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999414809561955},{time:33.310799999952316,note:"E2",pitch:82.32742684865093,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999146212803112},{time:33.32739999985695,note:"E2",pitch:82.34466877519519,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998887072268445},{time:33.344099999904635,note:"E2",pitch:82.3473301864114,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999899850260789},{time:33.36079999995231,note:"E2",pitch:82.36105099710967,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999164986781182},{time:33.37759999990463,note:"E2",pitch:82.36538835104966,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999364152544388},{time:33.39409999990463,note:"E2",pitch:82.35852181327711,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999440101376962},{time:33.41069999980927,note:"E2",pitch:82.35534993867422,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999179557826352},{time:33.42739999985695,note:"E2",pitch:82.35507968246081,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999344890492097},{time:33.444,note:"E2",pitch:82.37688400861778,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999511586677698},{time:33.460799999952314,note:"E2",pitch:82.38635395966926,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999302465495958},{time:33.4775,note:"E2",pitch:82.38674830541696,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999910807838333},{time:33.494,note:"E2",pitch:82.39441081529972,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998977714003701},{time:33.51079999995232,note:"E2",pitch:82.36533725838,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999025919135676},{time:33.5275,note:"E2",pitch:82.36239453595822,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99990191750409},{time:33.54409999990463,note:"E2",pitch:82.38027669759434,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999911575699727},{time:33.560699999809266,note:"E2",pitch:82.39531654924619,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999383174742036},{time:33.57739999985695,note:"E2",pitch:82.39418032101182,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999079020469992},{time:33.594099999904635,note:"E2",pitch:82.38882342238225,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998825770666997},{time:33.61079999995231,note:"E2",pitch:82.38039671148191,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999902848425009},{time:33.6275,note:"E2",pitch:82.36907595462888,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998840188046074},{time:33.64409999990463,note:"E2",pitch:82.37909304932609,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998725659743855},{time:33.66069999980927,note:"E2",pitch:82.40841240618039,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999172150723012},{time:33.67739999985695,note:"E2",pitch:82.41526315871916,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999279791909714},{time:33.69409999990463,note:"E2",pitch:82.39390439443747,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998562538967661},{time:33.710699999809265,note:"E2",pitch:82.38580998958942,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998304415906176},{time:33.7275,note:"E2",pitch:82.38660458804466,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999909032770816},{time:33.744099999904634,note:"E2",pitch:82.36830290395503,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998930680672515},{time:33.7685,note:"E2",pitch:82.40122170323816,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997951016266882},{time:33.789,note:"E2",pitch:82.41203468765296,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998397637183842},{time:33.808399999856945,note:"E2",pitch:82.37447698744771,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998080463636398},{time:33.82439999985695,note:"E2",pitch:82.37077702938416,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999813287090447},{time:33.8385,note:"E2",pitch:82.37638327875224,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998466678661373},{time:33.85359999990463,note:"E2",pitch:82.33825542240832,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999852048052901},{time:33.86809999990463,note:"E2",pitch:82.34609760968425,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997260068285385},{time:33.88309999990463,note:"E2",pitch:82.37529021828495,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996682869769842},{time:33.89739999985695,note:"E2",pitch:82.36921249706991,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997874816560852},{time:33.912599999904636,note:"E2",pitch:82.32739714472997,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999804583101664},{time:33.92739999985695,note:"E2",pitch:82.32908803539874,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996467761700671},{time:33.94409999990463,note:"E2",pitch:82.37646201987644,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999435900507919},{time:33.960699999809265,note:"E2",pitch:82.34613959967956,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999769650555848},{time:33.9775,note:"E2",pitch:82.33633622142386,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997112147033818},{time:33.994099999904634,note:"E2",pitch:82.36953418396948,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994882125191538},{time:34.01079999995232,note:"E2",pitch:82.38766129256854,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9996178246304623},{time:34.02739999985695,note:"E2",pitch:82.32780369902011,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.99970068605775},{time:34.04409999990463,note:"E2",pitch:82.34068467101193,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994176175254381},{time:34.060699999809266,note:"E2",pitch:82.47841022291809,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9957110617841067},{time:34.0775,note:"E2",pitch:82.56958040338908,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9693906509694727},{time:34.094099999904635,note:"E2",pitch:83.36423727457307,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.8444447805676774},{time:34.11069999980926,note:"F2",pitch:86.47109223645941,noteMidi:41,actualMidi:40.83,actualMidiChroma:4.829999999999998,centsOffset:-17.00000000000017,clarity:.7865511659642195},{time:34.12739999985695,note:"F2",pitch:88.3583304858632,noteMidi:41,actualMidi:41.21,actualMidiChroma:5.210000000000001,centsOffset:21.000000000000085,clarity:.8669940730759862},{time:34.14389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:34.16079999995232,note:"E2",pitch:82.99660549688696,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.3772884661543827},{time:34.17729999995232,note:"E2",pitch:82.55645180158807,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.7845067782985495},{time:34.194,note:"E2",pitch:82.40075407430261,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9917642179644872},{time:34.210699999809265,note:"E2",pitch:82.37543626873692,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996195372996084},{time:34.22739999985695,note:"E2",pitch:82.37802011159448,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996627601922654},{time:34.244099999904634,note:"E2",pitch:82.33999944909749,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995613321127337},{time:34.26069999980926,note:"E2",pitch:82.31547483075695,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999605421447086},{time:34.2775,note:"E2",pitch:82.32162166319047,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997328469679445},{time:34.29409999990463,note:"E2",pitch:82.3256437230474,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994197182211195},{time:34.310699999809266,note:"E2",pitch:82.29256583806618,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994139771708035},{time:34.3275,note:"E2",pitch:82.30175830157279,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996113499565098},{time:34.344099999904635,note:"E2",pitch:82.30792709655144,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994980541374758},{time:34.36069999980926,note:"E2",pitch:82.31916252033501,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9993309562327966},{time:34.3775,note:"E2",pitch:82.31586610254769,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995524777811653},{time:34.39409999990463,note:"E2",pitch:82.33100909274704,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999555402051655},{time:34.41069999980927,note:"E2",pitch:82.3118563042361,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999140110855194},{time:34.42739999985695,note:"E2",pitch:82.29333905594878,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992562977778903},{time:34.44409999990463,note:"E2",pitch:82.31598089838087,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996919834481304},{time:34.460799999952314,note:"E2",pitch:82.31243713428668,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987729281013316},{time:34.47739999985695,note:"E2",pitch:82.32030996057539,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9980678056411278},{time:34.494099999904634,note:"E2",pitch:82.34066731402977,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992544652521218},{time:34.51079999995232,note:"E2",pitch:82.33359906371456,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992524509165719},{time:34.52739999985695,note:"E2",pitch:82.31026963181013,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989925956370485},{time:34.54409999990463,note:"E2",pitch:82.2957026823459,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992747205778869},{time:34.560699999809266,note:"E2",pitch:82.33088645120951,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992145319207566},{time:34.57739999985695,note:"E2",pitch:82.31446039761963,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9983883181226929},{time:34.594,note:"E2",pitch:82.2768150861973,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9976312657882858},{time:34.61069999980926,note:"E2",pitch:82.31629603382353,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999194715628235},{time:34.62759999990463,note:"E2",pitch:82.31572100174448,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987447297778687},{time:34.65219999980926,note:"E2",pitch:82.29111668797309,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9981606108506327},{time:34.67339999985695,note:"E2",pitch:82.2996318199665,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999177525123315},{time:34.69489999985695,note:"E2",pitch:82.2791598424398,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.998287002564993},{time:34.71019999980926,note:"E2",pitch:82.26803478596092,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9986018078937633},{time:34.725,note:"E2",pitch:82.3124946872314,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991429279470196},{time:34.73979999995232,note:"E2",pitch:82.2935001077256,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9974994851196044},{time:34.754899999856946,note:"E2",pitch:82.28187882659705,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.996128417403753},{time:34.76969999980926,note:"E2",pitch:82.29499226334104,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9980643643346383},{time:34.785,note:"E2",pitch:82.31692852701235,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9984212963173036},{time:34.79989999985695,note:"E2",pitch:82.29973350414485,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975847055242468},{time:34.815199999809266,note:"E2",pitch:82.30780221842045,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9967305930807555},{time:34.83009999990463,note:"E2",pitch:82.30815640637066,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9986031150572074},{time:34.84539999985695,note:"E2",pitch:82.32901851352449,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987221468275465},{time:34.86069999980926,note:"E2",pitch:82.31304665762813,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9971290025120823},{time:34.87739999985695,note:"E2",pitch:82.30638752822084,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9961333269515222},{time:34.89409999990463,note:"E2",pitch:82.32618237779,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9985306741378679},{time:34.91069999980927,note:"E2",pitch:82.32655446029742,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9963525088278544},{time:34.92739999985695,note:"E2",pitch:82.33846286800235,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9942356998943893},{time:34.94409999990463,note:"E2",pitch:82.32562851152284,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9968689394209065},{time:34.960699999809265,note:"E2",pitch:82.39705208541724,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9965762131868559},{time:34.97739999985695,note:"E2",pitch:82.5158525506318,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9902402021229477},{time:34.994099999904634,note:"E2",pitch:82.98487927174452,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9174545824432556},{time:35.01069999980926,note:"E2",pitch:83.87613859810227,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.7218601782635972},{time:35.02739999985695,note:"F2",pitch:85.82801215672511,noteMidi:41,actualMidi:40.7,actualMidiChroma:4.700000000000003,centsOffset:-29.999999999999716,clarity:.5268517320793578},{time:35.04389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.06059999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.07729999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.094,note:"C3",pitch:131.70190634180844,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.5982418961995464},{time:35.11069999980926,note:"E2",pitch:82.43424111897691,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.781085270689232},{time:35.1275,note:"E2",pitch:82.36352931294721,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.8971018043529995},{time:35.144,note:"E2",pitch:82.39840322099646,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973628982142202},{time:35.16069999980927,note:"E2",pitch:82.39841754710197,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9991976427785971},{time:35.17739999985695,note:"E2",pitch:82.37763802492515,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994411875392757},{time:35.19409999990463,note:"E2",pitch:82.34040785222486,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9987601757595712},{time:35.210699999809265,note:"E2",pitch:82.3402921214343,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989934322569667},{time:35.22739999985695,note:"E2",pitch:82.3468678328552,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992186147028974},{time:35.244,note:"E2",pitch:82.35835368019836,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9981629298270036},{time:35.26069999980926,note:"E2",pitch:82.36018708287351,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979390937400439},{time:35.27739999985695,note:"E2",pitch:82.35808494711617,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9987988050890948},{time:35.294,note:"E2",pitch:82.35774246740716,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9986798446127096},{time:35.310699999809266,note:"E2",pitch:82.38510471629769,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9971926093760288},{time:35.32729999995232,note:"E2",pitch:82.38188473274468,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9978431440833333},{time:35.344099999904635,note:"E2",pitch:82.371429248307,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990449905659773},{time:35.36069999980926,note:"E2",pitch:82.3634657737181,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998532648912331},{time:35.37739999985695,note:"E2",pitch:82.39261582463945,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9982429933548218},{time:35.394,note:"E2",pitch:82.40403125728882,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999250283669781},{time:35.41069999980927,note:"E2",pitch:82.35474781263703,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9983459584238261},{time:35.42729999995232,note:"E2",pitch:82.34514568577761,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9980114168413223},{time:35.44409999990463,note:"E2",pitch:82.35899509219738,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998765402454552},{time:35.46059999990463,note:"E2",pitch:82.37443399600956,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982358937181033},{time:35.477299999952315,note:"E2",pitch:82.38021898910975,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9974484994386899},{time:35.494,note:"E2",pitch:82.42329774115295,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9974496053227568},{time:35.51109999990463,note:"E2",pitch:82.36932352526665,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988831846613095},{time:35.53629999995232,note:"E2",pitch:82.36954216213525,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998060590030903},{time:35.55909999990463,note:"E2",pitch:82.3968255698222,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983639357680119},{time:35.57989999985695,note:"E2",pitch:82.36713089478677,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982659317789171},{time:35.59659999990463,note:"E2",pitch:82.38191655920323,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975530548000933},{time:35.61179999995232,note:"E2",pitch:82.39673408261274,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9986423453597979},{time:35.62739999985695,note:"E2",pitch:82.39499589984621,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9988671099134336},{time:35.646799999952314,note:"E2",pitch:82.36015008603466,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9969510091580958},{time:35.662,note:"E2",pitch:82.42896005546741,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9969140480564818},{time:35.67769999980926,note:"E2",pitch:82.40132822038977,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980559476850317},{time:35.69409999990463,note:"E2",pitch:82.36397773748448,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9973138075882702},{time:35.71059999990463,note:"E2",pitch:82.40194149334957,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9960653485379822},{time:35.727299999952315,note:"E2",pitch:82.42781317812036,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9976073880333445},{time:35.744,note:"E2",pitch:82.39148404597547,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9972620749391155},{time:35.76069999980926,note:"E2",pitch:82.3830670347711,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9958520876693768},{time:35.77729999995232,note:"E2",pitch:82.49173842845599,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9947160508601058},{time:35.794,note:"E2",pitch:82.87117702950957,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9052183086809578},{time:35.810699999809266,note:"E2",pitch:84.29271299512659,noteMidi:40,actualMidi:40.39,actualMidiChroma:4.390000000000001,centsOffset:39.00000000000006,clarity:.5492001624822151},{time:35.82729999995232,note:"F3",pitch:178.3731909068759,noteMidi:53,actualMidi:53.37,actualMidiChroma:5.369999999999997,centsOffset:36.999999999999744,clarity:.5073908275175771},{time:35.84389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.860599999904636,note:"Bb3",pitch:229.62633536540923,noteMidi:58,actualMidi:57.74,actualMidiChroma:9.740000000000002,centsOffset:-25.9999999999998,clarity:.3764694465405718},{time:35.877299999952314,note:"E2",pitch:83.86363753222084,noteMidi:40,actualMidi:40.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.6737958812825724},{time:35.894,note:"E2",pitch:82.45816008773483,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9384725107144618},{time:35.91059999990463,note:"E2",pitch:82.47507406462054,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9981467862829447},{time:35.92729999995232,note:"E2",pitch:82.46328168922327,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.998281083205768},{time:35.944,note:"E2",pitch:82.3849593517507,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9986517203434175},{time:35.96059999990463,note:"E2",pitch:82.39716963652371,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9995109670306448},{time:35.977299999952315,note:"E2",pitch:82.41408657969582,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9989708098543133},{time:35.994,note:"E2",pitch:82.40386935599147,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.998027842255965},{time:36.01069999980926,note:"E2",pitch:82.38185767183374,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992151828769664},{time:36.02739999985695,note:"E2",pitch:82.39024756717615,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9993035029454234},{time:36.044,note:"E2",pitch:82.39110480185438,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9988718063690385},{time:36.060699999809266,note:"E2",pitch:82.36562733148274,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990930612393925},{time:36.07729999995232,note:"E2",pitch:82.40264149052268,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9994266212792837},{time:36.094,note:"E2",pitch:82.42395807819287,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9982430879751121},{time:36.11079999995231,note:"E2",pitch:82.36987483096074,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9976645119468088},{time:36.127299999952314,note:"E2",pitch:82.37130838807018,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988400320407322},{time:36.144,note:"E2",pitch:82.41273286383871,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983315672739081},{time:36.16069999980927,note:"E2",pitch:82.40014372118091,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9962461178385809},{time:36.17729999995232,note:"E2",pitch:82.36517506452162,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9976465271182491},{time:36.194,note:"E2",pitch:82.4065677906996,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9991301678487048},{time:36.210699999809265,note:"E2",pitch:82.38628975632591,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980151305596081},{time:36.227299999952315,note:"E2",pitch:82.3703223241908,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9978495168585084},{time:36.244099999904634,note:"E2",pitch:82.39025199768442,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9989980913485255},{time:36.260599999904635,note:"E2",pitch:82.4228913121043,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9966801232286429},{time:36.27729999995232,note:"E2",pitch:82.42572859948083,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9949048821980568},{time:36.294,note:"E2",pitch:82.36670630429167,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979110387087928},{time:36.310699999809266,note:"E2",pitch:82.41874230478588,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964104105247458},{time:36.327599999904635,note:"E2",pitch:82.3936987699521,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948211276223873},{time:36.35319999980926,note:"E2",pitch:82.38140961080101,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9978157653664397},{time:36.374799999952316,note:"E2",pitch:82.41333615374243,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9958890671640575},{time:36.39569999980927,note:"E2",pitch:82.38249897515182,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9942894756585758},{time:36.41139999985695,note:"E2",pitch:82.39671798002023,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.998131179661911},{time:36.42789999985695,note:"E2",pitch:82.43934785361706,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9958411613464051},{time:36.44439999985695,note:"E2",pitch:82.42988578745314,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9928735257144439},{time:36.460699999809265,note:"E2",pitch:82.3793925689011,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965657831132688},{time:36.477299999952315,note:"E2",pitch:82.39898367504809,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9974957782981733},{time:36.494,note:"E2",pitch:82.39851564204318,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9929894992620092},{time:36.510599999904635,note:"E2",pitch:82.36161091915297,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9942705360724347},{time:36.52729999995232,note:"E2",pitch:82.3818568308865,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9967115535516058},{time:36.544,note:"E2",pitch:82.40770223796733,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948313628189425},{time:36.560699999809266,note:"E2",pitch:82.36424026406137,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9927968310556992},{time:36.57729999995232,note:"E2",pitch:82.36040232413163,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9960611700899165},{time:36.594,note:"E2",pitch:82.42621676872179,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9956041292636257},{time:36.61069999980926,note:"E2",pitch:82.38475749062647,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9920920829475932},{time:36.627299999952314,note:"E2",pitch:82.33677701695949,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9939688151302164},{time:36.644,note:"E2",pitch:82.36859972593443,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9969275452763071},{time:36.66069999980927,note:"E2",pitch:82.39945434022853,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9910673294661763},{time:36.67729999995232,note:"E2",pitch:82.40931259198668,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9863893260398413},{time:36.694,note:"E2",pitch:82.38530275880883,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9950061872072951},{time:36.710699999809265,note:"E2",pitch:82.4004446431074,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9933284748950797},{time:36.727299999952315,note:"E2",pitch:82.38797776084434,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9917298721083512},{time:36.744,note:"E2",pitch:82.3552380244492,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9947443651268202},{time:36.76069999980926,note:"E2",pitch:82.40276485711533,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940883525866013},{time:36.77729999995232,note:"E2",pitch:82.38417905316773,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9930472236216872},{time:36.794,note:"E2",pitch:82.35342836064638,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9917984213386148},{time:36.810699999809266,note:"E2",pitch:82.34695229863522,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9960784778834864},{time:36.82739999985695,note:"E2",pitch:82.3907816721339,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9926510994720843},{time:36.844,note:"E2",pitch:82.39311906249773,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9873789789045304},{time:36.86069999980926,note:"E2",pitch:82.37846129308979,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.994540357083622},{time:36.87739999985695,note:"E2",pitch:82.37940933025729,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9953094560384841},{time:36.894,note:"E2",pitch:82.37186833623555,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9911126551474894},{time:36.91079999995232,note:"E2",pitch:82.36192604296421,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9924306857524243},{time:36.92739999985695,note:"E2",pitch:82.37414765704453,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9950466966061242},{time:36.944,note:"E2",pitch:82.36244728000904,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.992407520943928},{time:36.960699999809265,note:"E2",pitch:82.36321609432109,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.990448532385642},{time:36.97739999985695,note:"E2",pitch:82.36481135002258,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9932946234632425},{time:36.99419999980927,note:"E2",pitch:82.35926779612373,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9933946415610109},{time:37.01079999995232,note:"E2",pitch:82.40096479580475,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9891939811870145},{time:37.02729999995232,note:"E2",pitch:82.39092564088092,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9926329100572673},{time:37.044,note:"E2",pitch:82.48002702922108,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9908392634699652},{time:37.06089999985695,note:"E2",pitch:82.86681960942613,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.865595134407755},{time:37.08789999985695,note:"E2",pitch:84.15617759316306,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.44560019495531833},{time:37.1095,note:"E2",pitch:82.23800890454747,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.5276207642939852},{time:37.129,note:"E2",pitch:82.37667432186967,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.7517943650737067},{time:37.145,note:"E2",pitch:82.53081149914135,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9513206175775508},{time:37.16089999985695,note:"E2",pitch:82.49378924634533,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9865961513565367},{time:37.17729999995232,note:"E2",pitch:82.41546237748081,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9912229013816898},{time:37.194,note:"E2",pitch:82.44551414079008,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9942633252539963},{time:37.21059999990463,note:"E2",pitch:82.45515805477338,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9914810184567386},{time:37.22739999985695,note:"E2",pitch:82.41022783527676,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9942958597352458},{time:37.244,note:"E2",pitch:82.41798656163787,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9967348917793402},{time:37.26069999980926,note:"E2",pitch:82.4080632061651,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940553245477304},{time:37.27729999995232,note:"E2",pitch:82.39761981383135,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99194782048599},{time:37.294,note:"E2",pitch:82.41296805340427,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964128543414006},{time:37.310699999809266,note:"E2",pitch:82.44582485472509,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934416008982794},{time:37.32729999995232,note:"E2",pitch:82.479838812994,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9913243880903906},{time:37.344,note:"E2",pitch:82.39416490621907,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948396371009096},{time:37.360599999904636,note:"E2",pitch:82.38750686923147,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9943312759785101},{time:37.37739999985695,note:"E2",pitch:82.41185847150227,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.992157505973239},{time:37.394,note:"E2",pitch:82.4763587539136,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9919581097707351},{time:37.41069999980927,note:"E2",pitch:82.40937378374078,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951462457837295},{time:37.42729999995232,note:"E2",pitch:82.39199592430697,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9942568737989461},{time:37.444,note:"E2",pitch:82.43172126317656,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9915582990690552},{time:37.460799999952314,note:"E2",pitch:82.44316656100173,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959597855158648},{time:37.47769999980927,note:"E2",pitch:82.41860291833473,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948693541257114},{time:37.49419999980927,note:"E2",pitch:82.42377835852268,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9920987084080366},{time:37.51069999980926,note:"E2",pitch:82.40870745369874,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.994660035596155},{time:37.52729999995232,note:"E2",pitch:82.40922650932636,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9962506549108667},{time:37.544,note:"E2",pitch:82.41770576568831,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9929813864704329},{time:37.56059999990463,note:"E2",pitch:82.49711034786162,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9929355853149673},{time:37.57729999995232,note:"E2",pitch:82.43986401462011,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9949207494295536},{time:37.594,note:"E2",pitch:82.38484848730839,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9935952887425401},{time:37.61069999980926,note:"E2",pitch:82.47889270347264,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9912114060317379},{time:37.627299999952314,note:"E2",pitch:82.51053471063301,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9944362191662037},{time:37.644,note:"E2",pitch:82.4529847051143,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934937322154269},{time:37.66079999995232,note:"E2",pitch:82.42869986669271,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9910661552331419},{time:37.67729999995232,note:"E2",pitch:82.4642687873824,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9919662067627542},{time:37.69409999990463,note:"E2",pitch:82.43857537580521,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9950026415836817},{time:37.710799999952314,note:"E2",pitch:82.4134068148682,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9919298635154234},{time:37.727299999952315,note:"E2",pitch:82.45965230440312,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.989833015113021},{time:37.744,note:"E2",pitch:82.4746161978185,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943624170360295},{time:37.76069999980926,note:"E2",pitch:82.37636060174223,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9923606129763414},{time:37.77729999995232,note:"E2",pitch:82.40876992666988,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9911457217723978},{time:37.794,note:"E2",pitch:82.48586202976033,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9936534033606677},{time:37.810699999809266,note:"E2",pitch:82.41157024227194,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9903539756104891},{time:37.8275,note:"E2",pitch:82.38844397595138,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9874826747438163},{time:37.84589999985695,note:"E2",pitch:82.31711092384508,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9898001397349816},{time:37.86169999980927,note:"E2",pitch:82.37239993275017,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9960955679959795},{time:37.87819999980927,note:"E2",pitch:82.35951173570773,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.996882598543138},{time:37.894899999856946,note:"E2",pitch:82.3552774555303,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9972218758695135},{time:37.922,note:"E2",pitch:82.37395702848936,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998863175438402},{time:37.943899999856946,note:"E2",pitch:82.37544678066216,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998778707749381},{time:37.9655,note:"E2",pitch:82.35470174687552,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998878606619712},{time:37.982599999904636,note:"E2",pitch:82.3609869358568,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999254799004689},{time:37.999199999809264,note:"E2",pitch:82.34963048610624,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998971195151967},{time:38.015799999952314,note:"E2",pitch:82.34115960287157,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998829935239684},{time:38.0315,note:"E2",pitch:82.32813601965998,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999225000099727},{time:38.048,note:"E2",pitch:82.32149505114026,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999208354124249},{time:38.06429999995232,note:"E2",pitch:82.30028568887957,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999102828033415},{time:38.08079999995232,note:"E2",pitch:82.2818045049358,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999894465769259},{time:38.097799999952315,note:"E2",pitch:82.2906892241667,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999188287376768},{time:38.11369999980926,note:"E2",pitch:82.29236704895477,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999214970894599},{time:38.130299999952314,note:"E2",pitch:82.30746400338472,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999071704349234},{time:38.146399999856946,note:"E2",pitch:82.29396214729076,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999912877981572},{time:38.16289999985695,note:"E2",pitch:82.27200518440632,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999208193572571},{time:38.1795,note:"E2",pitch:82.2538614549947,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998675986178966},{time:38.1955,note:"E2",pitch:82.24136723797588,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998826807251362},{time:38.21239999985695,note:"E2",pitch:82.23244314126089,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999266111151002},{time:38.22919999980927,note:"E2",pitch:82.19748844559585,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998682098309786},{time:38.24509999990463,note:"E2",pitch:82.14721609058375,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998286402456102},{time:38.26229999995232,note:"E2",pitch:82.10619045547483,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999031608203666},{time:38.279,note:"E2",pitch:82.06103648749456,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998820434222608},{time:38.29479999995232,note:"E2",pitch:82.01972137382218,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.999879832904341},{time:38.311799999952314,note:"E2",pitch:82.02555978865098,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999027884869918},{time:38.32839999985695,note:"E2",pitch:82.02883846096941,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9998993710528197},{time:38.34429999995232,note:"E2",pitch:82.0468156603187,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999093128496384},{time:38.361299999952315,note:"E2",pitch:82.04874173919427,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9998912563810904},{time:38.3785,note:"E2",pitch:82.09110847963198,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998860150479914},{time:38.39439999985695,note:"E2",pitch:82.12371741583397,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999173787260673},{time:38.41159999990463,note:"E2",pitch:82.14682242415188,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998753591938936},{time:38.42869999980927,note:"E2",pitch:82.1349227821273,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998738315107545},{time:38.4445,note:"E2",pitch:82.12191045103052,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999091279695875},{time:38.4615,note:"E2",pitch:82.1521833382176,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998544933210667},{time:38.47829999995231,note:"E2",pitch:82.14802985850633,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998790905229811},{time:38.49429999995232,note:"E2",pitch:82.1430291951726,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999203192722774},{time:38.51159999990463,note:"E2",pitch:82.13425014581253,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999267324068768},{time:38.528599999904635,note:"E2",pitch:82.10846914754374,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998850432446744},{time:38.5445,note:"E2",pitch:82.1188587591198,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999228910508151},{time:38.56189999985695,note:"E2",pitch:82.09995664918624,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999327659885893},{time:38.57889999985695,note:"E2",pitch:82.10714634425065,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999094402235045},{time:38.59509999990463,note:"E2",pitch:82.10047187716985,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999237505254541},{time:38.61209999990463,note:"E2",pitch:82.10424688752427,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999251949190011},{time:38.62909999990463,note:"E2",pitch:82.11540401644886,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999268097570564},{time:38.64539999985695,note:"E2",pitch:82.11263979537102,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999046113031511},{time:38.67389999985695,note:"E2",pitch:82.15956493574103,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9996430126946336},{time:38.696,note:"E2",pitch:82.16876469913439,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9990697859346085},{time:38.71769999980926,note:"E2",pitch:82.13650687463691,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999860710261288},{time:38.7355,note:"E2",pitch:82.13576391050323,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999360186881745},{time:38.752,note:"E2",pitch:82.129552393099,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998670018114524},{time:38.76909999990463,note:"E2",pitch:82.11682361832985,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998414055686169},{time:38.786,note:"E2",pitch:82.10129991582187,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998923938438367},{time:38.80279999995231,note:"E2",pitch:82.08668507623963,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998954027407336},{time:38.81939999985695,note:"E2",pitch:82.0828188004235,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998752433779146},{time:38.8365,note:"E2",pitch:82.07058036297516,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998366699144015},{time:38.85339999985695,note:"E2",pitch:82.08527694977536,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998613569752166},{time:38.87,note:"E2",pitch:82.07798847576626,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998395038883672},{time:38.88689999985695,note:"E2",pitch:82.07272860240333,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998082302613795},{time:38.90379999995232,note:"E2",pitch:82.07993368683324,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998718542128131},{time:38.92059999990463,note:"E2",pitch:82.09161002696395,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997924939302294},{time:38.93769999980927,note:"E2",pitch:82.08749327965731,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996987751817983},{time:38.95459999990463,note:"E2",pitch:82.05225737665013,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997062206219596},{time:38.97139999985695,note:"E2",pitch:82.09164904969732,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998532239369524},{time:38.98879999995231,note:"E2",pitch:82.08404142038914,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997834586817902},{time:39.005799999952316,note:"E2",pitch:82.06456074897193,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996337537372142},{time:39.02279999995232,note:"E2",pitch:82.11468004115798,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997663869451401},{time:39.04009999990463,note:"E2",pitch:82.11122242575944,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9995890350809162},{time:39.05729999995231,note:"E2",pitch:82.10341141425047,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9995035364676568},{time:39.0745,note:"E2",pitch:82.10677909433022,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997238590314623},{time:39.091699999809265,note:"E2",pitch:82.14044728981705,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996545630040288},{time:39.10879999995232,note:"E2",pitch:82.11212627506674,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993715141934132},{time:39.125799999952314,note:"E2",pitch:82.0713673351546,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9993105166036571},{time:39.143099999904635,note:"E2",pitch:82.14104476305496,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996704429886165},{time:39.16,note:"E2",pitch:82.09258210211907,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996171684512234},{time:39.176799999952316,note:"E2",pitch:82.08767861827074,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9995126194460511},{time:39.194,note:"E2",pitch:82.09211721937686,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999496660411836},{time:39.21089999985695,note:"E2",pitch:82.08879788218512,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9992515416769407},{time:39.22779999995232,note:"E2",pitch:82.06598532941257,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9990145891546405},{time:39.24479999995231,note:"E2",pitch:82.06444933350588,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999573393756819},{time:39.26189999985695,note:"E2",pitch:82.11963837316874,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9995395537405329},{time:39.27889999985695,note:"E2",pitch:82.09559644903212,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9995013340028436},{time:39.2965,note:"E2",pitch:82.09011298237586,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9992427176220531},{time:39.31309999990463,note:"E2",pitch:82.12180662530895,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999502570930531},{time:39.32989999985695,note:"E2",pitch:82.07349898837049,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9991089494175753},{time:39.34729999995232,note:"E2",pitch:82.0619150923767,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999280890356232},{time:39.36409999990463,note:"E2",pitch:82.1018711420549,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9994652078176216},{time:39.38089999985695,note:"E2",pitch:82.08098863871196,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9986138999342558},{time:39.39869999980927,note:"E2",pitch:82.0589415870949,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9983680935544328},{time:39.4275,note:"E2",pitch:82.11494193912425,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993923633866189},{time:39.449599999904635,note:"E2",pitch:82.07852659436908,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9988172010524181},{time:39.47109999990463,note:"E2",pitch:82.31632779605167,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9923054084346035},{time:39.48839999985695,note:"E2",pitch:82.66308448318809,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9700588284231628},{time:39.50539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.52229999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.5395,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.55609999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.57329999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.590299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.6075,note:"E2",pitch:82.95564765011905,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.8245476996715979},{time:39.6245,note:"E2",pitch:82.47394096320211,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9420477171708797},{time:39.6415,note:"E2",pitch:82.29185760031962,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9795272486421993},{time:39.65909999990463,note:"E2",pitch:82.32793393952693,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9869113890272558},{time:39.67609999990463,note:"E2",pitch:82.34725962038958,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9857316547785615},{time:39.693599999904635,note:"E2",pitch:82.23859148873575,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9886190233548007},{time:39.71109999990463,note:"E2",pitch:82.282012212177,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9890771429059271},{time:39.7285,note:"E2",pitch:82.30089484265989,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9875333407815674},{time:39.7455,note:"E2",pitch:82.15082771966603,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9872923700345098},{time:39.76259999990463,note:"E2",pitch:82.23138786299502,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9896989433334511},{time:39.78,note:"E2",pitch:82.25079860095296,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9862163824018921},{time:39.797199999809266,note:"E2",pitch:82.16505731566556,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9852432405966169},{time:39.814399999856946,note:"E2",pitch:82.21045081629977,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9915474899355274},{time:39.83259999990463,note:"E2",pitch:82.25516866283772,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9880314964811134},{time:39.850099999904636,note:"E2",pitch:82.16152243902935,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9872910435153415},{time:39.8675,note:"E2",pitch:82.17694328360223,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9889734542760493},{time:39.885299999952316,note:"E2",pitch:82.26173075966088,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.985839394744346},{time:39.9025,note:"E2",pitch:82.20155084206378,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9828578837761484},{time:39.920099999904636,note:"E2",pitch:82.22473617121288,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9904399755965017},{time:39.938299999952314,note:"E2",pitch:82.25296843443685,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9876242433783773},{time:39.9555,note:"E2",pitch:82.31442537254466,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9772630398441038},{time:39.97289999985695,note:"E2",pitch:82.31305103267304,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9860239360019136},{time:39.991099999904634,note:"E2",pitch:82.29724650312878,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9844707410990168},{time:40.00859999990463,note:"E2",pitch:82.34623557063571,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9821597837905358},{time:40.02659999990463,note:"E2",pitch:82.33417587152542,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9898957406551574},{time:40.044299999952315,note:"E2",pitch:82.3202092792015,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9919478273392031},{time:40.0615,note:"E2",pitch:82.29905233388608,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9921352008080646},{time:40.079699999809264,note:"E2",pitch:82.3492057334437,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9922299811303219},{time:40.09809999990463,note:"E2",pitch:82.3644020314569,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.994008595840981},{time:40.116,note:"E2",pitch:82.32009611828283,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9945552497620156},{time:40.13339999985695,note:"E2",pitch:82.31143941072384,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.994463663758566},{time:40.15069999980926,note:"E2",pitch:82.29794690433656,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.994818447377142},{time:40.16839999985695,note:"E2",pitch:82.29800030158471,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9947940032473355},{time:40.186,note:"E2",pitch:82.26900106103624,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9952655357261904},{time:40.20359999990463,note:"E2",pitch:82.220592695895,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.997016801355727},{time:40.221,note:"E2",pitch:82.21950019232658,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9968059978669714},{time:40.23889999985695,note:"E2",pitch:82.26078980323223,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9959844231208734},{time:40.27009999990463,note:"E2",pitch:82.17855810926429,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9980481037212598},{time:40.29289999985695,note:"E2",pitch:82.20229063323038,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9977489496748291},{time:40.316199999809264,note:"E2",pitch:82.16787910828242,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9984030564442037},{time:40.3355,note:"E2",pitch:82.13958168472655,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9987578734871363},{time:40.35319999980926,note:"E2",pitch:82.11459771047448,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9988049082898698},{time:40.370599999904634,note:"E2",pitch:82.08638727488612,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9992196876650752},{time:40.38959999990463,note:"E2",pitch:82.1022502286711,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992569858158049},{time:40.40789999985695,note:"E2",pitch:82.11779618852593,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993654567193744},{time:40.426699999809266,note:"E2",pitch:82.0745201504514,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9995291004551348},{time:40.444699999809266,note:"E2",pitch:82.09125786417884,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996604143207435},{time:40.462199999809265,note:"E2",pitch:82.10011862108381,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996782943597822},{time:40.47979999995231,note:"E2",pitch:82.10357896945614,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998153511140089},{time:40.49729999995232,note:"E2",pitch:82.10219496003752,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998357958379955},{time:40.5145,note:"E2",pitch:82.09943608961086,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999747119992989},{time:40.532,note:"E2",pitch:82.08807227975004,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998522847968729},{time:40.54969999980926,note:"E2",pitch:82.09844893391353,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998562426174118},{time:40.56719999980926,note:"E2",pitch:82.10053618046136,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997511335487559},{time:40.5845,note:"E2",pitch:82.08325754876998,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997425898209684},{time:40.602199999809265,note:"E2",pitch:82.09508780715969,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998854892688627},{time:40.61989999985695,note:"E2",pitch:82.11277783686586,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998425854145978},{time:40.6375,note:"E2",pitch:82.11335890258466,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998106948224006},{time:40.65479999995232,note:"E2",pitch:82.09377462440214,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999900159060104},{time:40.6725,note:"E2",pitch:82.09904417394014,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998044403204602},{time:40.69039999985695,note:"E2",pitch:82.09160144946708,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998092792881295},{time:40.708,note:"E2",pitch:82.08804013659798,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998677768615352},{time:40.726,note:"E2",pitch:82.10828793299343,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999018573174254},{time:40.743699999809266,note:"E2",pitch:82.08940585212993,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999812713668419},{time:40.761299999952314,note:"E2",pitch:82.09277284816028,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998596719758552},{time:40.77909999990463,note:"E2",pitch:82.1003446386572,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998679687581529},{time:40.79679999995231,note:"E2",pitch:82.11899017505655,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997906221898489},{time:40.814699999809264,note:"E2",pitch:82.1043024238254,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998283153993128},{time:40.83219999980926,note:"E2",pitch:82.12033665116279,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998373067477928},{time:40.85,note:"E2",pitch:82.1288470376085,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997331196308323},{time:40.86819999980926,note:"E2",pitch:82.1161366452535,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997692475681248},{time:40.88609999990463,note:"E2",pitch:82.12939730298486,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998744625262646},{time:40.90379999995232,note:"E2",pitch:82.12835303768331,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998440366446033},{time:40.92139999985695,note:"E2",pitch:82.12577212182904,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998005690648171},{time:40.939399999856946,note:"E2",pitch:82.10717342744702,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998553070944922},{time:40.9575,note:"E2",pitch:82.10739518309542,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998137140414087},{time:40.97519999980926,note:"E2",pitch:82.10126427752998,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997824895649785},{time:40.993,note:"E2",pitch:82.09700841238464,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998608994117006},{time:41.01069999980926,note:"E2",pitch:82.09609247805422,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998316328604488},{time:41.02879999995232,note:"E2",pitch:82.08847852226687,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998148626264083},{time:41.04709999990463,note:"E2",pitch:82.0875486971686,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998743496691702},{time:41.06509999990463,note:"E2",pitch:82.09460672867765,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999874805183623},{time:41.082799999952314,note:"E2",pitch:82.10339827390447,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998351569589232},{time:41.1005,note:"E2",pitch:82.09302829816966,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998368548695424},{time:41.13129999995232,note:"E2",pitch:82.11904122881269,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997581534105677},{time:41.15539999985695,note:"E2",pitch:82.10692100857703,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997701086731468},{time:41.17869999980927,note:"E2",pitch:82.10979844782153,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998064304150063},{time:41.19709999990463,note:"E2",pitch:82.1095194712464,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999777950808749},{time:41.21489999985695,note:"E2",pitch:82.09535005674198,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998294435910111},{time:41.23239999985695,note:"E2",pitch:82.11128198056106,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999707311185233},{time:41.25019999980927,note:"E2",pitch:82.09478979644784,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997735106709769},{time:41.26819999980926,note:"E2",pitch:82.10434921750952,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998180816832729},{time:41.286,note:"E2",pitch:82.12246479472721,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998193601016823},{time:41.304,note:"E2",pitch:82.11084688697493,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998443215395127},{time:41.32209999990463,note:"E2",pitch:82.09628531314378,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998031658579123},{time:41.33969999980926,note:"E2",pitch:82.10687918030168,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997068689224449},{time:41.35779999995231,note:"E2",pitch:82.12468326402272,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997125426129401},{time:41.375799999952314,note:"E2",pitch:82.09952555422939,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998624199361359},{time:41.39359999990463,note:"E2",pitch:82.11404764082293,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997313352962465},{time:41.41139999985695,note:"E2",pitch:82.11046594548799,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996368237256377},{time:41.42889999985695,note:"E2",pitch:82.07659382531861,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997324673812074},{time:41.447,note:"E2",pitch:82.09278158955355,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997858874530863},{time:41.46509999990463,note:"E2",pitch:82.11532639035114,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997018304199798},{time:41.48309999990463,note:"E2",pitch:82.10223980772261,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997799082135543},{time:41.500799999952314,note:"E2",pitch:82.11110751664879,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996131175597895},{time:41.518399999856946,note:"E2",pitch:82.1091969748525,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9994729625622938},{time:41.53629999995232,note:"E2",pitch:82.09299552464687,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996598883217445},{time:41.5545,note:"E2",pitch:82.10158881308803,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999840978648848},{time:41.57329999995232,note:"E2",pitch:82.11184568657893,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999613973833263},{time:41.59129999995232,note:"E2",pitch:82.10416718312302,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996657371520996},{time:41.60939999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.628099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.646699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.66489999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.683099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.701099999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.71919999980926,note:"E2",pitch:81.95544157717583,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.3454884644042622},{time:41.7375,note:"E2",pitch:82.18991279251233,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.7349241813032847},{time:41.755799999952316,note:"E2",pitch:82.44791720814334,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9430563140098087},{time:41.774099999904635,note:"E2",pitch:82.12815657023056,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9911876630525001},{time:41.7925,note:"E2",pitch:82.16898849716472,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9942964035985682},{time:41.810799999952316,note:"E2",pitch:82.172184608515,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9915896715254746},{time:41.82929999995232,note:"E2",pitch:82.10515359759371,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9961774926163258},{time:41.8475,note:"E2",pitch:82.09908401741936,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9969224093723739},{time:41.865799999952316,note:"E2",pitch:82.12440126503193,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9944216939363315},{time:41.88419999980926,note:"E2",pitch:82.09817533559489,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9953228369711553},{time:41.9025,note:"E2",pitch:82.08768281292689,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.994066742555674},{time:41.920699999809266,note:"E2",pitch:82.14654676440536,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9915630969915554},{time:41.939699999809264,note:"E2",pitch:82.1018725040694,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9959981989593132},{time:41.96939999985695,note:"E2",pitch:82.15816221505165,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.992386668815783},{time:41.99569999980927,note:"E2",pitch:82.11717859370583,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.993498671383449},{time:42.01939999985695,note:"E2",pitch:82.11903155848267,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9937141454080916},{time:42.03889999985695,note:"E2",pitch:82.12125010765482,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9910532318113638},{time:42.05739999985695,note:"E2",pitch:82.04966660850104,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9953451532483513},{time:42.07579999995232,note:"E2",pitch:82.06217241520841,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9937866924118026},{time:42.0945,note:"E2",pitch:82.07734547319387,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9909826751029982},{time:42.11319999980927,note:"E2",pitch:82.05897794867582,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9956339143831059},{time:42.13159999990463,note:"E2",pitch:82.06521222427007,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9934422103945622},{time:42.15,note:"E2",pitch:82.06243713146421,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9892195110934239},{time:42.16839999985695,note:"E2",pitch:82.10998044078296,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9918600256779087},{time:42.186799999952314,note:"E2",pitch:82.63544837159492,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.8891483099279611},{time:42.20519999980927,note:"E2",pitch:83.87951950905163,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.604426249900829},{time:42.22369999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.24189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.260299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.278599999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.29689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.31539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.333599999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.352,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.370599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.389,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.407299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.4255,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.443899999856946,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.46239999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.48059999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.499,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.51739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.536,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.55439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.57269999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.591,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.60939999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.627699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.64589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.66429999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.6825,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.70089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.71929999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.737699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.756099999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.77429999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.792799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.811399999856945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.83029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.86219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.88869999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.91229999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.9315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.94979999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.96809999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.98679999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.0055,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.02429999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.042799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.061699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.08029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.09959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.11819999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.13659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.155,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.173699999809266,note:"Eb3",pitch:153.14008665240564,noteMidi:51,actualMidi:50.73,actualMidiChroma:2.729999999999997,centsOffset:-27.000000000000313,clarity:.6791587644235761},{time:43.1925,note:"E2",pitch:82.11661646105976,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.7751587545434546},{time:43.21109999990463,note:"E2",pitch:82.24613765969731,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9981448204747068},{time:43.229599999904636,note:"E2",pitch:82.25409902599843,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996605151943925},{time:43.24809999990463,note:"E2",pitch:82.26074657297455,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9997366336726969},{time:43.2665,note:"E2",pitch:82.22809406209312,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997551618660907},{time:43.28479999995232,note:"E2",pitch:82.20468057341911,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996705480542545},{time:43.30309999990463,note:"E2",pitch:82.2117861547224,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996773565946597},{time:43.32179999995232,note:"E2",pitch:82.23402708028264,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997033286095842},{time:43.340299999952315,note:"E2",pitch:82.219402993738,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997111531229734},{time:43.359,note:"E2",pitch:82.22359712086832,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997328260029832},{time:43.37759999990463,note:"E2",pitch:82.21850366740662,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999678252505035},{time:43.396399999856946,note:"E2",pitch:82.22884949003426,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996701267653378},{time:43.415,note:"E2",pitch:82.22964161726777,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997931938751208},{time:43.43389999985695,note:"E2",pitch:82.21992377085058,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999790740016195},{time:43.452599999904635,note:"E2",pitch:82.22313688123974,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997739549739464},{time:43.471299999952315,note:"E2",pitch:82.23301046507729,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998057271214407},{time:43.48979999995232,note:"E2",pitch:82.23054456861777,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998009840859794},{time:43.5085,note:"E2",pitch:82.21531875475647,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998110276972483},{time:43.52729999995232,note:"E2",pitch:82.2180797130223,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998252621496135},{time:43.546099999904634,note:"E2",pitch:82.21960277305838,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997773139332509},{time:43.564799999952314,note:"E2",pitch:82.22111865406144,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997918665311971},{time:43.58369999980926,note:"E2",pitch:82.2141644459832,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998346833491922},{time:43.60279999995232,note:"E2",pitch:82.21190365086306,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997874109134699},{time:43.62159999990463,note:"E2",pitch:82.19974323364211,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997961667564255},{time:43.6405,note:"E2",pitch:82.20956783267827,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998299223965006},{time:43.659,note:"E2",pitch:82.21524896709847,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998181677530482},{time:43.67779999995231,note:"E2",pitch:82.21294824749171,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.99981292914606},{time:43.69669999980926,note:"E2",pitch:82.21073689435546,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998866174067018},{time:43.71539999985695,note:"E2",pitch:82.21221239001581,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996811153754237},{time:43.734799999952315,note:"E2",pitch:82.20790768473205,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9995702457156028},{time:43.76619999980927,note:"E2",pitch:82.23041192116968,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999880528901059},{time:43.79289999985695,note:"E2",pitch:82.23787245629401,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998903303702349},{time:43.81639999985695,note:"E2",pitch:82.2531280769317,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998313573272526},{time:43.83609999990463,note:"E2",pitch:82.25728385822126,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996705656454026},{time:43.85479999995231,note:"E2",pitch:82.24893498356494,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999829301399032},{time:43.87339999985695,note:"E2",pitch:82.26605299263397,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999865729138989},{time:43.892199999809264,note:"E2",pitch:82.274661933324,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998033242667361},{time:43.911099999904636,note:"E2",pitch:82.28656650697889,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998672249298579},{time:43.929799999952316,note:"E2",pitch:82.29623147377124,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998580652953706},{time:43.94859999990463,note:"E2",pitch:82.2915630232528,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999856088581268},{time:43.96729999995232,note:"E2",pitch:82.27658045557315,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998851094265291},{time:43.986199999809266,note:"E2",pitch:82.298783155331,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995043607041652},{time:44.005199999809264,note:"E2",pitch:82.29331476629001,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987499924465908},{time:44.02459999990463,note:"E2",pitch:82.30575339771666,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.99945785863639},{time:44.043599999904636,note:"E2",pitch:82.31403477359575,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998493659489753},{time:44.06269999980927,note:"E2",pitch:82.31553261615427,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997671831596193},{time:44.08179999995232,note:"E2",pitch:82.30803750360273,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998392503007949},{time:44.10139999985695,note:"E2",pitch:82.32222949245946,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998261502473724},{time:44.120299999952316,note:"E2",pitch:82.31956086343743,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998066901059559},{time:44.138899999856946,note:"E2",pitch:82.32098800668297,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998437462173513},{time:44.15779999995232,note:"E2",pitch:82.35980331769267,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997001629236024},{time:44.176699999809266,note:"E2",pitch:82.3461318617823,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989819668020345},{time:44.195799999952314,note:"E2",pitch:82.35332856701451,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994838709141618},{time:44.214599999904635,note:"E2",pitch:82.36180336188575,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997824918488618},{time:44.233299999952315,note:"E2",pitch:82.3813228271697,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995440588411668},{time:44.252,note:"E2",pitch:82.37513337348551,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997747898137135},{time:44.27089999985695,note:"E2",pitch:82.40414899688034,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998116337539216},{time:44.289699999809265,note:"E2",pitch:82.39886534311955,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999730416433394},{time:44.30879999995231,note:"E2",pitch:82.40630527058654,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997516396744004},{time:44.32769999980926,note:"E2",pitch:82.4407917801939,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997110019716331},{time:44.34669999980927,note:"E2",pitch:82.4355337919948,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9993952129016321},{time:44.366,note:"E2",pitch:82.42933462968905,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9996880413477243},{time:44.384699999809264,note:"E2",pitch:82.4686859419097,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995112016753751},{time:44.40369999980926,note:"E2",pitch:82.45087096051815,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9987465474662542},{time:44.42269999980927,note:"E2",pitch:82.42241726348739,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99947161680889},{time:44.44159999990463,note:"E2",pitch:82.45569988239491,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997811399973386},{time:44.461,note:"E2",pitch:82.45490580084973,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995038885592749},{time:44.48,note:"E2",pitch:82.44893632399355,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997404822895675},{time:44.499,note:"E2",pitch:82.47252125942194,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997543433716913},{time:44.518,note:"E2",pitch:82.46656922266203,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996470879951431},{time:44.53689999985695,note:"E2",pitch:82.4441809420491,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998050499554125},{time:44.55589999985695,note:"E2",pitch:82.48140835391922,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994664959204158},{time:44.57469999980926,note:"E2",pitch:82.467277011062,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9974815001034614},{time:44.59389999985695,note:"E2",pitch:82.40402414919602,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9989997044298917},{time:44.613,note:"E2",pitch:82.46840749900115,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9994100149947087},{time:44.631799999952314,note:"E2",pitch:82.42835104593551,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9977550634529138},{time:44.651199999809265,note:"E2",pitch:82.42352125417108,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9992123876034782},{time:44.682199999809264,note:"E2",pitch:82.43543839048714,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996553184108592},{time:44.707799999952314,note:"E2",pitch:82.38207641347448,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995364052643367},{time:44.732,note:"E2",pitch:82.35335111606682,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999248736358112},{time:44.75139999985695,note:"E2",pitch:82.28775523688113,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9992084462862749},{time:44.770199999809265,note:"E2",pitch:82.32460840358257,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997242565805777},{time:44.78929999995232,note:"E2",pitch:82.3720516777738,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.997431135764991},{time:44.80829999995232,note:"E2",pitch:82.3348682450928,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9958018535732833},{time:44.82739999985695,note:"E2",pitch:82.34725263796352,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988078175213388},{time:44.84639999985695,note:"E2",pitch:82.35556902611141,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997359635858061},{time:44.86539999985695,note:"E2",pitch:82.3070630912128,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999349003004582},{time:44.8845,note:"E2",pitch:82.30476234142702,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996504264731527},{time:44.9035,note:"E2",pitch:82.30902905037259,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996549698200852},{time:44.922599999904634,note:"E2",pitch:82.3316810469033,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989672408092858},{time:44.941799999952316,note:"E2",pitch:82.66315100969597,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.962279772026271},{time:44.961,note:"E2",pitch:83.54253159391601,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9151634055484124},{time:44.98009999990463,note:"F2",pitch:85.92365727515521,noteMidi:41,actualMidi:40.72,actualMidiChroma:4.719999999999999,centsOffset:-28.000000000000114,clarity:.9415842373985015},{time:44.999699999809266,note:"F2",pitch:88.32377773676028,noteMidi:41,actualMidi:41.2,actualMidiChroma:5.200000000000003,centsOffset:20.000000000000284,clarity:.9047037486329828},{time:45.01889999985695,note:"F2",pitch:89.24030647828357,noteMidi:41,actualMidi:41.38,actualMidiChroma:5.380000000000003,centsOffset:38.000000000000256,clarity:.8709586329088026},{time:45.0385,note:"Bb0",pitch:28.79192897216877,noteMidi:22,actualMidi:21.79,actualMidiChroma:9.79,centsOffset:-21.000000000000085,clarity:.42759448621541907},{time:45.057699999809266,note:"E2",pitch:83.16962052508103,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.4981635804089706},{time:45.077,note:"E2",pitch:82.65105786975674,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.8572695698154007},{time:45.096299999952315,note:"E2",pitch:82.50751166550565,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994214815318401},{time:45.11529999995231,note:"E2",pitch:82.5070415762576,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9995542047072945},{time:45.13419999980926,note:"E2",pitch:82.4742638589799,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9994418621335797},{time:45.15339999985695,note:"E2",pitch:82.45304402004015,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996063964827044},{time:45.1725,note:"E2",pitch:82.46821159944338,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995696522559427},{time:45.191699999809266,note:"E2",pitch:82.48234880887964,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9995263738634748},{time:45.21059999990463,note:"E2",pitch:82.45680430449792,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996214957107981},{time:45.22979999995231,note:"E2",pitch:82.4479165553099,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997149650479145},{time:45.24909999990463,note:"E2",pitch:82.45812366351424,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996947366745843},{time:45.2685,note:"E2",pitch:82.46048647630637,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997366983875509},{time:45.287599999904636,note:"E2",pitch:82.43711028790453,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998127351876036},{time:45.30669999980927,note:"E2",pitch:82.42381961226971,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999789941417049},{time:45.32579999995232,note:"E2",pitch:82.42507955190949,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997815502209306},{time:45.34489999985695,note:"E2",pitch:82.4148010008443,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998341630384573},{time:45.364199999809266,note:"E2",pitch:82.40233345125183,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998054626871493},{time:45.383799999952316,note:"E2",pitch:82.39535018781342,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998185598911107},{time:45.403,note:"E2",pitch:82.39533290602775,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998486582046269},{time:45.42239999985695,note:"E2",pitch:82.39786286458343,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999857204481529},{time:45.44159999990463,note:"E2",pitch:82.38809625365053,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998692830913427},{time:45.46089999985695,note:"E2",pitch:82.38558958267978,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999807246950212},{time:45.480299999952315,note:"E2",pitch:82.38587368132295,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997622554626986},{time:45.499299999952314,note:"E2",pitch:82.39126608131086,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998618719513814},{time:45.51889999985695,note:"E2",pitch:82.3838109204246,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998635117175354},{time:45.538,note:"E2",pitch:82.37989467315028,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999863088147805},{time:45.55729999995231,note:"E2",pitch:82.36890656867406,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999087164698182},{time:45.5775,note:"E2",pitch:82.36687943256872,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999038776982587},{time:45.60919999980926,note:"E2",pitch:82.3683492143009,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998820583781765},{time:45.634799999952314,note:"E2",pitch:82.34958518956174,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996991681616123},{time:45.659,note:"E2",pitch:82.36916402710447,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996163546647239},{time:45.68019999980927,note:"E2",pitch:82.3711837513428,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99989537040058},{time:45.69919999980927,note:"E2",pitch:82.35823100639033,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998822614125942},{time:45.71839999985695,note:"E2",pitch:82.35951334493647,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998676386006196},{time:45.737799999952315,note:"E2",pitch:82.36585876288758,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998807099946845},{time:45.75709999990463,note:"E2",pitch:82.3737812588782,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998577596866056},{time:45.77659999990463,note:"E2",pitch:82.36877495261074,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998566056846983},{time:45.79629999995232,note:"E2",pitch:82.36919725323764,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998494802947988},{time:45.81579999995232,note:"E2",pitch:82.36716506497832,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999874434196542},{time:45.83519999980926,note:"E2",pitch:82.38182008181434,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998590254495241},{time:45.854599999904636,note:"E2",pitch:82.37128263533015,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998632314798783},{time:45.873899999856945,note:"E2",pitch:82.3742563782405,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998806808404197},{time:45.893,note:"E2",pitch:82.37144111038432,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998771738893311},{time:45.91239999985695,note:"E2",pitch:82.37296433843431,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999892864100346},{time:45.93189999985695,note:"E2",pitch:82.36689592286369,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998739302375981},{time:45.951099999904635,note:"E2",pitch:82.36383788498786,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998569688084729},{time:45.9705,note:"E2",pitch:82.3627454783559,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998788314241125},{time:45.99009999990463,note:"E2",pitch:82.36860589436002,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998558928985091},{time:46.009699999809264,note:"E2",pitch:82.36034638305327,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998033706294933},{time:46.02939999985695,note:"E2",pitch:82.36375679360538,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998403966717149},{time:46.049,note:"E2",pitch:82.37117258462413,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998724265647354},{time:46.06869999980926,note:"E2",pitch:82.3714938891035,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998252875531506},{time:46.08829999995232,note:"E2",pitch:82.36149567763886,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998494683240864},{time:46.10779999995231,note:"E2",pitch:82.35769932603496,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999844021245508},{time:46.12709999990463,note:"E2",pitch:82.35853716339116,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999828289476099},{time:46.14659999990463,note:"E2",pitch:82.36168665798048,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999861425708815},{time:46.166199999809265,note:"E2",pitch:82.36359028595267,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998499480361431},{time:46.185699999809266,note:"E2",pitch:82.36349364009867,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997048695787072},{time:46.20519999980927,note:"E2",pitch:82.35910695610747,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997978461135091},{time:46.22469999980927,note:"E2",pitch:82.3742869698776,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99983118811042},{time:46.24419999980927,note:"E2",pitch:82.35731292751069,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999777725832999},{time:46.2635,note:"E2",pitch:82.36507080258241,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998214489139059},{time:46.284599999904636,note:"E2",pitch:82.36557739411812,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999821469573007},{time:46.30439999985695,note:"E2",pitch:82.35600902192401,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997850909502546},{time:46.324,note:"E2",pitch:82.3600036956412,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998256708211102},{time:46.34359999990463,note:"E2",pitch:82.37608578880072,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995320784575199},{time:46.363099999904634,note:"E2",pitch:82.35984779690406,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995239589541711},{time:46.382599999904635,note:"E2",pitch:82.36208263782953,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999825970860897},{time:46.40219999980926,note:"E2",pitch:82.35637755082887,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997515513547341},{time:46.422,note:"E2",pitch:82.34659272542908,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999677144261085},{time:46.44139999985695,note:"E2",pitch:82.36162578041599,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997504666467165},{time:46.46119999980927,note:"E2",pitch:82.3543671719154,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997345447787893},{time:46.48089999985695,note:"E2",pitch:82.3335159617247,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997627213117966},{time:46.500699999809264,note:"E2",pitch:82.36101413743589,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997836017608961},{time:46.533,note:"E2",pitch:82.33829023514761,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995919996309084},{time:46.559,note:"E2",pitch:82.34342657722526,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997240751189906},{time:46.583599999904635,note:"E2",pitch:82.33725055990337,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999552163197535},{time:46.60409999990463,note:"E2",pitch:82.34582081599386,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995026595133538},{time:46.62339999985695,note:"E2",pitch:82.36751019267899,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996704131299623},{time:46.64279999995232,note:"E2",pitch:82.33935542331332,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996070149157816},{time:46.66229999995232,note:"E2",pitch:82.34865340685364,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996881394367847},{time:46.68189999985695,note:"E2",pitch:82.37285158331913,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995771998571144},{time:46.7015,note:"E2",pitch:82.33703476395611,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999438247952753},{time:46.721,note:"E2",pitch:82.3448960053564,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996203192496864},{time:46.74059999990463,note:"E2",pitch:82.35731044691529,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994887823470435},{time:46.76009999990463,note:"E2",pitch:82.33326005033445,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999319735555332},{time:46.77959999990463,note:"E2",pitch:82.35898965165933,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995936051261367},{time:46.79889999985695,note:"E2",pitch:82.3527280177394,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999664865646011},{time:46.8185,note:"E2",pitch:82.33056385109653,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994280428665832},{time:46.83789999985695,note:"E2",pitch:82.32659541110215,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995357958803766},{time:46.85739999985695,note:"E2",pitch:82.368849753511,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994690689453734},{time:46.877,note:"E2",pitch:82.32876490671673,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992690449053327},{time:46.896399999856946,note:"E2",pitch:82.34717938662624,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995707984968618},{time:46.91589999985695,note:"E2",pitch:82.36486143789281,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994757653277873},{time:46.9355,note:"E2",pitch:82.31913625904603,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990343135383455},{time:46.95519999980927,note:"E2",pitch:82.3475821337141,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993895857259361},{time:46.975,note:"E2",pitch:82.34648331956227,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993462181480623},{time:46.995,note:"E2",pitch:82.31442053349295,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990268301898055},{time:47.01479999995232,note:"E2",pitch:82.36446388639094,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994890929928033},{time:47.034599999904636,note:"E2",pitch:82.34553753733948,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992909614300629},{time:47.05459999990463,note:"E2",pitch:82.31160551750561,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992519345192363},{time:47.07439999985695,note:"E2",pitch:82.34597728586665,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994857202785852},{time:47.09439999985695,note:"E2",pitch:82.32802212686977,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990526588240982},{time:47.11379999995231,note:"E2",pitch:82.30383492857192,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990678941914268},{time:47.133299999952314,note:"E2",pitch:82.3574978552735,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994425656674792},{time:47.152799999952315,note:"E2",pitch:82.31364316919176,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9985310271343764},{time:47.1725,note:"E2",pitch:82.31194193299035,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987189823262526},{time:47.192,note:"E2",pitch:82.36931011449848,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993463255094781},{time:47.211599999904635,note:"E2",pitch:82.30406882141605,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9988352682957924},{time:47.23129999995231,note:"E2",pitch:82.3028538959441,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990777138131932},{time:47.251,note:"E2",pitch:82.34987582793396,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9991011314162535},{time:47.27039999985695,note:"E2",pitch:82.29686891864797,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9988332843172998},{time:47.29,note:"E2",pitch:82.33105460803733,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992515779770201},{time:47.30969999980927,note:"E2",pitch:82.35953811580498,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990636092354919},{time:47.32929999995232,note:"E2",pitch:82.30823144450875,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987761309621419},{time:47.34879999995232,note:"E2",pitch:82.3241933950118,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991772636797123},{time:47.3685,note:"E2",pitch:82.3655584495174,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999257140393766},{time:47.38829999995232,note:"E2",pitch:82.31438281638083,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9982286987049065},{time:47.40789999985695,note:"E2",pitch:82.33588425309026,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988258379504771},{time:47.42809999990463,note:"E2",pitch:82.38087798036132,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989085528815735},{time:47.4605,note:"E2",pitch:82.35575060234584,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9991461519558413},{time:47.486599999904634,note:"E2",pitch:82.35846663856852,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990785565308471},{time:47.510899999856946,note:"E2",pitch:82.29648760920733,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991932375642563},{time:47.5315,note:"E2",pitch:82.38232267819365,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999106867075028},{time:47.55089999985695,note:"E2",pitch:82.43652484925283,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.99220262533035},{time:47.57059999990463,note:"E2",pitch:83.22709779672216,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.8702620764665383},{time:47.590199999809265,note:"F2",pitch:84.98845024401673,noteMidi:41,actualMidi:40.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.618631966961388},{time:47.609799999952315,note:"F2",pitch:89.27129014021556,noteMidi:41,actualMidi:41.39,actualMidiChroma:5.390000000000001,centsOffset:39.00000000000006,clarity:.8760432177460338},{time:47.629299999952316,note:"Gb2",pitch:90.70940764584971,noteMidi:42,actualMidi:41.66,actualMidiChroma:5.659999999999997,centsOffset:-34.00000000000034,clarity:.8490108992181611},{time:47.64889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.66809999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.6875,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.707,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.72679999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.746,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.765699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.7855,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.805099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.82469999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.86409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.883799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.904,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.92389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.943599999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.9635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.983299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:48.0035,note:"C3",pitch:132.03388235514623,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.23444728342400367},{time:48.02379999995232,note:"E2",pitch:82.62399344611376,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.7630464612192469},{time:48.04389999985695,note:"E2",pitch:82.53343282372974,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9786130916457694},{time:48.06389999985695,note:"E2",pitch:82.44862578533242,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9986760556429886},{time:48.083899999856946,note:"E2",pitch:82.44411914596708,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9991855283692388},{time:48.103799999952315,note:"E2",pitch:82.42144251136845,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987357467437619},{time:48.12379999995232,note:"E2",pitch:82.41208974982801,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987482201407971},{time:48.144,note:"E2",pitch:82.44062801110923,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9989210563289532},{time:48.16379999995232,note:"E2",pitch:82.43471407100604,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9983336498418112},{time:48.1835,note:"E2",pitch:82.41461054010082,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987590776924833},{time:48.203199999809264,note:"E2",pitch:82.43751020334467,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9988961749613168},{time:48.22309999990463,note:"E2",pitch:82.43136602949066,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9989251670715049},{time:48.24289999985695,note:"E2",pitch:82.42584963990059,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999191002365734},{time:48.2625,note:"E2",pitch:82.431486826816,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9988469706230632},{time:48.282299999952315,note:"E2",pitch:82.42193621961998,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983990491776922},{time:48.302,note:"E2",pitch:82.42475254323465,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9990522573204146},{time:48.32179999995232,note:"E2",pitch:82.40488199395273,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981536017963748},{time:48.341699999809265,note:"E2",pitch:82.38241931830949,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979596104053172},{time:48.36189999985695,note:"E2",pitch:82.39844464831236,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999270036081569},{time:48.39479999995232,note:"E2",pitch:82.40455920892352,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980373879800766},{time:48.42139999985695,note:"E2",pitch:82.40349114668464,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.998503416825244},{time:48.4465,note:"E2",pitch:82.40793585121392,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9978563424550941},{time:48.467599999904635,note:"E2",pitch:82.36837713892803,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99891614865966},{time:48.48739999985695,note:"E2",pitch:82.406055548544,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975095339764124},{time:48.507199999809266,note:"E2",pitch:82.40360785595875,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9956602980134477},{time:48.527099999904635,note:"E2",pitch:82.40898250461584,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981289885248117},{time:48.547,note:"E2",pitch:82.40634777959893,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973220605083952},{time:48.566699999809266,note:"E2",pitch:82.38386304624132,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9960009542043196},{time:48.586599999904635,note:"E2",pitch:82.38696596370971,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983817380999085},{time:48.6065,note:"E2",pitch:82.39742632302925,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968995134668006},{time:48.62669999980927,note:"E2",pitch:82.37142271702753,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975802536627469},{time:48.64659999990463,note:"E2",pitch:82.36457177884262,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9985924402139119},{time:48.66639999985695,note:"E2",pitch:82.39306397831389,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9963338349132016},{time:48.68629999995232,note:"E2",pitch:82.40403522724708,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9976842459190465},{time:48.70639999985695,note:"E2",pitch:82.38756233718449,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9978469408887207},{time:48.7265,note:"E2",pitch:82.3944980670793,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.996295313127689},{time:48.74659999990463,note:"E2",pitch:82.39158040151844,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9979767566149462},{time:48.766899999856946,note:"E2",pitch:82.41899430809694,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9974241135599016},{time:48.786799999952315,note:"E2",pitch:82.41601692479064,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9961208735615799},{time:48.80669999980927,note:"E2",pitch:82.42708841887678,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99810884403675},{time:48.8265,note:"E2",pitch:82.42727448553917,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964762472059903},{time:48.8465,note:"E2",pitch:82.44753658930657,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944339848896675},{time:48.86639999985695,note:"E2",pitch:82.4332014506643,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9981596091046043},{time:48.88609999990463,note:"E2",pitch:82.42671949065979,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.996876466247528},{time:48.90619999980927,note:"E2",pitch:82.47780766626374,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9955565986244892},{time:48.92619999980926,note:"E2",pitch:82.47858669269796,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979784598294117},{time:48.94619999980927,note:"E2",pitch:82.45603123513966,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9964105638678546},{time:48.96629999995232,note:"E2",pitch:82.444465618939,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9957780133540979},{time:48.98639999985695,note:"E2",pitch:82.44660175538782,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9977119668588301},{time:49.00659999990463,note:"E2",pitch:82.43737309063674,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9956486832719378},{time:49.027099999904635,note:"E2",pitch:82.4687460363161,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9964090549266302},{time:49.047599999904634,note:"E2",pitch:82.4442832017001,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9979392396213029},{time:49.068,note:"E2",pitch:82.46066182893613,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9950391891525925},{time:49.0885,note:"E2",pitch:82.51307029085594,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9958378899207219},{time:49.10939999985695,note:"E2",pitch:82.44524224977462,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9962017385316386},{time:49.131399999856946,note:"E2",pitch:82.48341833477674,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9942447969615955},{time:49.1515,note:"E2",pitch:82.48176578408224,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9978237067171847},{time:49.17139999985695,note:"E2",pitch:82.45956918203143,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959205015519359},{time:49.19159999990463,note:"E2",pitch:82.51804813128655,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9944961263917804},{time:49.211899999856946,note:"E2",pitch:82.46333639106089,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9973079650371801},{time:49.232,note:"E2",pitch:82.447089171056,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9945640855123941},{time:49.25179999995232,note:"E2",pitch:82.54566579074827,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9949023540782491},{time:49.272,note:"E2",pitch:82.48871523141486,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9972253681229972},{time:49.292,note:"E2",pitch:82.465767047282,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9938677914638134},{time:49.312599999904634,note:"E2",pitch:82.51137313537711,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9937226680777655},{time:49.346,note:"E2",pitch:82.46075274354232,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9951933808937667},{time:49.37229999995232,note:"E2",pitch:82.53043636011203,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9943156643073223},{time:49.39729999995232,note:"E2",pitch:82.43010554280045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9954581629111203},{time:49.41839999985695,note:"E2",pitch:82.48787429718729,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9923481641711902},{time:49.43859999990463,note:"E2",pitch:82.54033688804412,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9950678614402761},{time:49.459,note:"E2",pitch:82.43040454808533,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940693267830909},{time:49.47909999990463,note:"E2",pitch:82.49376317850805,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.992232382371327},{time:49.499199999809264,note:"E2",pitch:82.46759913289365,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9946219002918326},{time:49.51939999985695,note:"E2",pitch:82.46111927716072,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9927685805021298},{time:49.53959999990463,note:"E2",pitch:82.56607643953464,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9927236166017792},{time:49.56009999990463,note:"E2",pitch:82.46269462094958,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9942617047922937},{time:49.58019999980927,note:"E2",pitch:82.48707509237327,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9933713906254695},{time:49.60039999985695,note:"E2",pitch:82.53511118710735,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9947637455338452},{time:49.6205,note:"E2",pitch:82.43544286879879,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9941481803913632},{time:49.6405,note:"E2",pitch:82.51236622016373,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9925762808770457},{time:49.66069999980927,note:"E2",pitch:82.55617053312845,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9955027448718852},{time:49.68089999985695,note:"E2",pitch:82.42584821156721,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9949886141877329},{time:49.70089999985695,note:"E2",pitch:82.51062628741191,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9941138818294206},{time:49.72109999990463,note:"E2",pitch:82.58401007875293,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9963350593969409},{time:49.7415,note:"E2",pitch:82.45481661500109,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9948641518689385},{time:49.76159999990463,note:"E2",pitch:82.56586598255458,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9947232331010412},{time:49.782,note:"E2",pitch:82.53863402039904,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.996360144884818},{time:49.80219999980927,note:"E2",pitch:82.45656611800311,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943469120524924},{time:49.82239999985695,note:"E2",pitch:82.57872508042104,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9963476985143274},{time:49.84269999980926,note:"E2",pitch:82.5257448760215,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9968214892447378},{time:49.863,note:"E2",pitch:82.44547168554378,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.993740913950802},{time:49.883299999952314,note:"E2",pitch:82.60036555011618,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9959797829796742},{time:49.90389999985695,note:"E2",pitch:82.47942451668997,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9961365038183203},{time:49.92439999985695,note:"E2",pitch:82.41821474778045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952224922169677},{time:49.944799999952316,note:"E2",pitch:82.56290770483778,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9968456178941381},{time:49.96509999990463,note:"E2",pitch:82.44682495734472,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9967292235904495},{time:49.9855,note:"E2",pitch:82.47459454365502,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9967817678453912},{time:50.00629999995232,note:"E2",pitch:82.5136532396202,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9978278707270789},{time:50.02679999995232,note:"E2",pitch:82.43445333532645,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9968008701004152},{time:50.04739999985695,note:"E2",pitch:82.43870032539618,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9965141659126999},{time:50.06789999985695,note:"E2",pitch:82.50370981252672,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9969309819603893},{time:50.08859999990463,note:"E2",pitch:82.41593694222499,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952462831208777},{time:50.10879999995232,note:"E2",pitch:82.42768595467155,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9965921284535213},{time:50.129,note:"E2",pitch:82.48438612987955,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945302195216783},{time:50.149399999856946,note:"E2",pitch:82.35699488401193,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9926295555392741},{time:50.17,note:"E2",pitch:82.56337485750207,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9949834981297556},{time:50.19039999985695,note:"E2",pitch:82.43351763602215,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934066065181355},{time:50.210699999809265,note:"E2",pitch:82.30414003789163,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9900314510850663},{time:50.23119999980926,note:"E2",pitch:82.51371794273618,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9968541516866765},{time:50.25169999980927,note:"E2",pitch:82.43399643427429,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9947131257703461},{time:50.272899999856946,note:"E2",pitch:82.35991667772146,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9954989554713904},{time:50.3065,note:"E2",pitch:82.48488882644138,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9957458488185154},{time:50.33329999995232,note:"E2",pitch:82.41641241994968,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968694376994378},{time:50.3585,note:"E2",pitch:82.49820978502004,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979752032999443},{time:50.3805,note:"E2",pitch:82.36929714338527,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9969736378415064},{time:50.400599999904635,note:"E2",pitch:82.45617481532366,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.998530328987286},{time:50.42089999985695,note:"E2",pitch:82.40358426940004,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9971556889254458},{time:50.4415,note:"E2",pitch:82.34818262989361,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9983794297868513},{time:50.46179999995232,note:"E2",pitch:82.48316433160461,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9981758546184878},{time:50.482099999904634,note:"E2",pitch:82.42362313944619,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9969389034220839},{time:50.502699999809266,note:"E2",pitch:82.36086217797481,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9987270953214704},{time:50.523,note:"E2",pitch:82.45060749754428,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9984395396383974},{time:50.54329999995232,note:"E2",pitch:82.38534220836783,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9965120591686727},{time:50.563799999952316,note:"E2",pitch:82.35565287541777,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975993365524758},{time:50.584299999952314,note:"E2",pitch:82.44658285695085,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9980467434159905},{time:50.60469999980926,note:"E2",pitch:82.3609413288585,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975301266109113},{time:50.6255,note:"E2",pitch:82.38063571837249,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9984263288921085},{time:50.64709999990463,note:"E2",pitch:82.41649574339954,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973510247980641},{time:50.667799999952315,note:"E2",pitch:82.32665358261265,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9981836345406663},{time:50.68809999990463,note:"E2",pitch:82.36162065984102,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989929942537401},{time:50.70809999990463,note:"E2",pitch:82.40545367625207,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973345564822793},{time:50.72839999985695,note:"E2",pitch:82.33771206266556,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975686698887856},{time:50.74869999980927,note:"E2",pitch:82.39251386405512,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99851778679718},{time:50.76919999980927,note:"E2",pitch:82.35831823480457,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9974607491441532},{time:50.7895,note:"E2",pitch:82.33696964944474,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979691013754675},{time:50.80969999980927,note:"E2",pitch:82.43026889888031,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975362748227212},{time:50.83019999980927,note:"E2",pitch:82.34095241680266,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9977357415336385},{time:50.85059999990463,note:"E2",pitch:82.33001456678494,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987476390892382},{time:50.870899999856945,note:"E2",pitch:82.39757200463791,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9977782453079129},{time:50.891899999856946,note:"E2",pitch:82.33476991166847,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9980638292072399},{time:50.9125,note:"E2",pitch:82.32351919593007,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989033621914132},{time:50.933099999904634,note:"E2",pitch:82.36286941383017,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9980182684867884},{time:50.95389999985695,note:"E2",pitch:82.28797176770992,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9981001014243276},{time:50.974299999952315,note:"E2",pitch:82.38208939086836,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9985592549103472},{time:50.995299999952316,note:"E2",pitch:82.43032245562532,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9979186809480467},{time:51.01609999990463,note:"E2",pitch:82.3168888953788,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9984306283351359},{time:51.037,note:"E2",pitch:82.40975821632279,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9986919224581499},{time:51.058,note:"E2",pitch:82.41248752652304,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975807672281292},{time:51.07869999980927,note:"E2",pitch:82.33923153683551,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990938638523872},{time:51.09969999980927,note:"E2",pitch:82.36084800422869,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979554941286892},{time:51.12039999985695,note:"E2",pitch:82.29885307644088,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9982247837124234},{time:51.14119999980927,note:"E2",pitch:82.37816660931254,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9985425473791807},{time:51.16239999985695,note:"E2",pitch:82.42402304748258,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980832036447111},{time:51.182799999952316,note:"E2",pitch:82.30639376391227,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9983409784755537},{time:51.20339999985695,note:"E2",pitch:82.36089551410576,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998644006353743},{time:51.2245,note:"E2",pitch:82.39341327779357,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975686779328541},{time:51.259699999809264,note:"E2",pitch:82.38513871048774,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987719850561874},{time:51.2865,note:"E2",pitch:82.39365643129767,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9978673853691049},{time:51.312899999856945,note:"E2",pitch:82.29239473578615,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989049325279566},{time:51.3355,note:"E2",pitch:82.3683181381829,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982109595341839},{time:51.35629999995231,note:"E2",pitch:82.29243728393882,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9985178526568532},{time:51.376899999856946,note:"E2",pitch:82.31867709488249,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9986536407560251},{time:51.39779999995232,note:"E2",pitch:82.39764502894323,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981110706125094},{time:51.41819999980927,note:"E2",pitch:82.28574405301308,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9990719027041806},{time:51.438799999952316,note:"E2",pitch:82.38577394122056,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9990639626074582},{time:51.45969999980927,note:"E2",pitch:82.297688334339,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.998605745200031},{time:51.48039999985695,note:"E2",pitch:82.27210536602968,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9989225720627246},{time:51.50109999990463,note:"E2",pitch:82.34108100867824,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982122321039029},{time:51.521799999952314,note:"E2",pitch:82.28492757045346,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9986825223736702},{time:51.54259999990463,note:"E2",pitch:82.33919538141286,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9986591175950963},{time:51.563299999952314,note:"E2",pitch:82.40467230416164,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981490989104458},{time:51.584,note:"E2",pitch:82.29167745074695,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989063361488704},{time:51.606,note:"E2",pitch:82.37233067227115,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990810692790788},{time:51.62709999990463,note:"E2",pitch:82.36187612325854,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982652136249257},{time:51.64879999995232,note:"E2",pitch:82.28373605032438,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9991433120434436},{time:51.66969999980927,note:"E2",pitch:82.65474962800543,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9968974893723157},{time:51.6905,note:"E2",pitch:83.18381542208593,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9818082132307637},{time:51.71129999995232,note:"E2",pitch:84.22833123066819,noteMidi:40,actualMidi:40.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9516504849659526},{time:51.732,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:51.7525,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:51.773299999952314,note:"E2",pitch:83.4021613408394,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.376000205425683},{time:51.79559999990463,note:"E2",pitch:82.77953791461218,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.7639516029821607},{time:51.81659999990463,note:"E2",pitch:82.31737873195503,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9802543009492695},{time:51.83839999985695,note:"E2",pitch:82.40712301613362,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968407086608408},{time:51.859099999904636,note:"E2",pitch:82.35394693645136,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982287885250827},{time:51.87979999995232,note:"E2",pitch:82.34669602602732,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982854882503744},{time:51.901299999952315,note:"E2",pitch:82.36466448901513,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975801772679773},{time:51.922299999952315,note:"E2",pitch:82.36184117249921,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9984652433280132},{time:51.943199999809266,note:"E2",pitch:82.33181298587974,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9977700877450673},{time:51.96419999980927,note:"E2",pitch:82.3438943873764,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9972285937544427},{time:51.98529999995232,note:"E2",pitch:82.35796007304272,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9984184321981076},{time:52.007899999856946,note:"E2",pitch:82.35789436190394,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965057529411183},{time:52.02939999985695,note:"E2",pitch:82.3356908852333,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9977999145532692},{time:52.05159999990463,note:"E2",pitch:82.33926125364422,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9970424826676094},{time:52.07269999980927,note:"E2",pitch:82.35222232209999,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.994534336438619},{time:52.09369999980927,note:"E2",pitch:82.33770466494558,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9976230849325702},{time:52.11469999980927,note:"E2",pitch:82.32489303351495,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9963764914496949},{time:52.136,note:"E2",pitch:82.32368006304176,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9962483438730771},{time:52.17129999995232,note:"E2",pitch:82.33168780894556,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9952245566524738},{time:52.198099999904635,note:"E2",pitch:82.34711274561543,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9959676498789776},{time:52.225,note:"E2",pitch:82.32421296455253,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.996146013642047},{time:52.2465,note:"E2",pitch:82.33170333462014,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9936605322538128},{time:52.267,note:"E2",pitch:82.3266242713232,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9974413582869488},{time:52.28869999980927,note:"E2",pitch:82.33200943110776,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9960484013413549},{time:52.30969999980927,note:"E2",pitch:82.3448594435589,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9971202231440088},{time:52.33069999980926,note:"E2",pitch:82.34611741263463,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9957572537036583},{time:52.35279999995232,note:"E2",pitch:82.3531060904596,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9926512563174015},{time:52.37379999995232,note:"E2",pitch:82.34498276693394,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9973353117749042},{time:52.39559999990463,note:"E2",pitch:82.34460350102475,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9955440332195735},{time:52.4165,note:"E2",pitch:82.3834419781596,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9928081321322395},{time:52.43769999980927,note:"E2",pitch:82.34989462619576,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9968834701126355},{time:52.458599999904635,note:"E2",pitch:82.35275741491498,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9956333254239809},{time:52.47939999985695,note:"E2",pitch:82.37347469036584,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.996788990494224},{time:52.50179999995232,note:"E2",pitch:82.38825933099936,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951643198037488},{time:52.52279999995232,note:"E2",pitch:82.42677693105071,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.992534473040422},{time:52.544599999904634,note:"E2",pitch:82.39344559265511,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9970572654240186},{time:52.56539999985695,note:"E2",pitch:82.39996027550124,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948969263767822},{time:52.587,note:"E2",pitch:82.42511603221524,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9925392200932066},{time:52.60769999980926,note:"E2",pitch:82.44790546917704,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9969328125065715},{time:52.628799999952314,note:"E2",pitch:82.42123835952586,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951652547251797},{time:52.6515,note:"E2",pitch:82.40864453611918,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9966311846479528},{time:52.67239999985695,note:"E2",pitch:82.40770773653445,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.994847964700341},{time:52.694199999809264,note:"E2",pitch:82.41935151517552,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9924569320352816},{time:52.715,note:"E2",pitch:82.42067773156654,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9970306370794617},{time:52.736199999809266,note:"E2",pitch:82.4349544449235,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943235105498047},{time:52.757299999952316,note:"E2",pitch:82.42034562389026,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9908175636969361},{time:52.77979999995232,note:"E2",pitch:82.40240739325426,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.995684697056646},{time:52.80129999995231,note:"E2",pitch:82.40884618547604,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9934587912606787},{time:52.82329999995232,note:"E2",pitch:82.42810093416752,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9969674262479771},{time:52.84419999980926,note:"E2",pitch:82.44399570647983,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944866653997053},{time:52.865699999809266,note:"E2",pitch:82.40312566405571,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9924830441907773},{time:52.886799999952316,note:"E2",pitch:82.41309634550915,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9972458351612374},{time:52.90969999980926,note:"E2",pitch:82.42557701789491,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9930251662384251},{time:52.93089999985695,note:"E2",pitch:82.4271305280365,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.996869657051775},{time:52.952899999856946,note:"E2",pitch:82.43096021641344,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9968800142338807},{time:52.97409999990463,note:"E2",pitch:82.41798991478976,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9943973148664611},{time:52.995899999856945,note:"E2",pitch:82.4379262716461,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9971377089413238},{time:53.01739999985695,note:"E2",pitch:82.44803033193585,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9948747291613245},{time:53.04029999995232,note:"E2",pitch:82.40936793735051,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964565985880824},{time:53.062,note:"E2",pitch:82.45422758472827,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9977035949057722},{time:53.0985,note:"E2",pitch:82.4439466240537,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9935637861204896},{time:53.12519999980927,note:"E2",pitch:82.4431897148038,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970679987706887},{time:53.152099999904635,note:"E2",pitch:82.45472046066052,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943356808385602},{time:53.17389999985695,note:"E2",pitch:82.483448580256,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9972917664132694},{time:53.195099999904635,note:"E2",pitch:82.47833628427472,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945685575800951},{time:53.21629999995232,note:"E2",pitch:82.44174673636176,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9963047289525377},{time:53.23909999990463,note:"E2",pitch:82.47140523467606,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.995194557694191},{time:53.26019999980927,note:"E2",pitch:82.45839017823985,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944290572364309},{time:53.282,note:"E2",pitch:82.45625669057115,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9971151517375461},{time:53.30339999985695,note:"E2",pitch:82.47204996615099,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.994634620565165},{time:53.32479999995232,note:"E2",pitch:82.47351780727011,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934701449506065},{time:53.34609999990463,note:"E2",pitch:82.5010365674202,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9964831358695676},{time:53.36859999990463,note:"E2",pitch:82.4859296060652,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.99400570167154},{time:53.38969999980927,note:"E2",pitch:82.46622881256656,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9954575573643751},{time:53.4115,note:"E2",pitch:82.50573442195066,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9942728052910184},{time:53.43239999985695,note:"E2",pitch:82.48318286582645,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9919430395909501},{time:53.45389999985695,note:"E2",pitch:82.48462072291721,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9943449897329231},{time:53.47519999980926,note:"E2",pitch:82.5179718965147,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945840793110108},{time:53.498,note:"E2",pitch:82.510640402924,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9941407948544452},{time:53.51919999980927,note:"E2",pitch:82.5337512767407,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9948180811722409},{time:53.54109999990463,note:"E2",pitch:82.51207378065095,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948995283311604},{time:53.562199999809266,note:"E2",pitch:82.5419214321507,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9950182548432167},{time:53.5835,note:"E2",pitch:82.57254476113634,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9951841727531985},{time:53.60469999980926,note:"E2",pitch:82.53048471092687,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9945201876227259},{time:53.62709999990463,note:"E2",pitch:82.57664465026248,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9943535488680766},{time:53.6485,note:"E2",pitch:82.59971826342661,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9950216575540765},{time:53.670699999809266,note:"E2",pitch:82.55954532424315,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9942945920038824},{time:53.691699999809266,note:"E2",pitch:82.62265187769069,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9944832067616574},{time:53.713,note:"E2",pitch:82.57118484660266,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9942921399679392},{time:53.73419999980926,note:"E2",pitch:82.57751416753652,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9948853852622506},{time:53.75709999990463,note:"E2",pitch:82.59775355270538,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9955036703126723},{time:53.779299999952315,note:"E2",pitch:82.48355558631005,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9953880649777318},{time:53.80069999980927,note:"E2",pitch:82.5643563995507,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9956445359281645},{time:53.82209999990463,note:"E2",pitch:82.47225598804096,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9952744534413114},{time:53.84359999990463,note:"E2",pitch:82.4368918614192,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944208506230723},{time:53.8665,note:"E2",pitch:82.52858323224487,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9944071569542245},{time:53.88869999980926,note:"E2",pitch:82.46296205205297,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9945763925690869},{time:53.91009999990463,note:"E2",pitch:82.50010925649748,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9955644324643629},{time:53.933,note:"E2",pitch:82.48649411970477,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.995298438082898},{time:53.97159999990463,note:"E2",pitch:83.6055311157199,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.8634317154406261},{time:53.99959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:54.02659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:54.04889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:54.07059999990463,note:"E2",pitch:83.5742714474353,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.32986541218696175},{time:54.09389999985695,note:"E2",pitch:82.8460047837486,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.8797800899542381},{time:54.11619999980927,note:"E2",pitch:82.6725835202908,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9960850668934569},{time:54.13829999995232,note:"E2",pitch:82.66623343314747,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9991207336009467},{time:54.15989999985695,note:"E2",pitch:82.64522056396005,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989305607555536},{time:54.182699999809266,note:"E2",pitch:82.63157890970744,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989600489940358},{time:54.204099999904635,note:"E2",pitch:82.62229363484983,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989630090720709},{time:54.2265,note:"E2",pitch:82.60555246409885,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9988753526002654},{time:54.2495,note:"E2",pitch:82.57853186950402,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9987550742492601},{time:54.283099999904636,note:"E2",pitch:82.63246959500948,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9987340796965327},{time:54.3095,note:"E2",pitch:82.56808354028043,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9988035390931032},{time:54.33189999985695,note:"E2",pitch:82.57229240059876,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9987277929386948},{time:54.3535,note:"E2",pitch:82.59504310085022,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9989528529419545},{time:54.375099999904634,note:"E2",pitch:82.5622348838363,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9987405800403621},{time:54.397899999856946,note:"E2",pitch:82.58194552216023,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9986785795830144},{time:54.41989999985695,note:"E2",pitch:82.55622217489442,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985102888333728},{time:54.4415,note:"E2",pitch:82.5483441045895,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9984502291085846},{time:54.46279999995232,note:"E2",pitch:82.56736316909748,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.998872309508144},{time:54.4855,note:"E2",pitch:82.54206937971995,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985530803499927},{time:54.507299999952316,note:"E2",pitch:82.56718093671671,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985416769704187},{time:54.529,note:"E2",pitch:82.57747123211405,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9987644814775791},{time:54.55039999985695,note:"E2",pitch:82.5438075209454,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978040601914699},{time:54.573,note:"E2",pitch:82.59363690235261,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9979377005791719},{time:54.59519999980927,note:"E2",pitch:82.55278019380263,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985792897444838},{time:54.61709999990463,note:"E2",pitch:82.53681696772665,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9982778396054073},{time:54.6385,note:"E2",pitch:82.55358178199903,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9986432169934574},{time:54.66129999995232,note:"E2",pitch:82.53401088875968,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9979960920976083},{time:54.68389999985695,note:"E2",pitch:82.57832950762955,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9980948647301204},{time:54.705899999856946,note:"E2",pitch:82.54951366238886,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9983457521135506},{time:54.72789999985695,note:"E2",pitch:82.52464485778603,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9981230382567077},{time:54.75059999990463,note:"E2",pitch:82.5587010321724,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9986041874058458},{time:54.77309999990463,note:"E2",pitch:82.50932639109881,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979084599860073},{time:54.795,note:"E2",pitch:82.53098162147822,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978225755855448},{time:54.817099999904634,note:"E2",pitch:82.56273466525082,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9983145225972123},{time:54.84009999990463,note:"E2",pitch:82.51994324863276,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9975573595501714},{time:54.86209999990463,note:"E2",pitch:82.55537872801567,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9986265935699805},{time:54.884399999856946,note:"E2",pitch:82.51629538540986,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.998074165153298},{time:54.90709999990463,note:"E2",pitch:82.51181964325023,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9976770233198948},{time:54.92959999990463,note:"E2",pitch:82.52311043837997,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9983276054367423},{time:54.9525,note:"E2",pitch:82.50150891051366,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9974118404644798},{time:54.995199999809266,note:"E2",pitch:82.52279565917723,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979826814143564},{time:55.02419999980926,note:"E2",pitch:82.50447651898118,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9977711396120554},{time:55.051699999809266,note:"E2",pitch:82.50273277704416,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971826175643201},{time:55.075199999809264,note:"E2",pitch:82.49660580641145,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9955119624363107},{time:55.09829999995232,note:"E2",pitch:82.54023585514045,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.998112836063882},{time:55.120899999856945,note:"E2",pitch:82.48464963878439,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.996311743979021},{time:55.143,note:"E2",pitch:82.55322100024753,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9976360795789105},{time:55.1665,note:"E2",pitch:82.51577167832647,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971609457407027},{time:55.188699999809266,note:"E2",pitch:82.46986793017389,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9958749967496203},{time:55.21059999990463,note:"E2",pitch:82.5528979387942,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9976922187897515},{time:55.23419999980926,note:"E2",pitch:82.48342464556019,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9957062370524881},{time:55.256399999856946,note:"E2",pitch:82.51277699251355,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9967687565406607},{time:55.27839999985695,note:"E2",pitch:82.5363491865707,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9977178718827275},{time:55.3015,note:"E2",pitch:82.4743812027817,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9960058930945479},{time:55.323799999952314,note:"E2",pitch:82.5341826189072,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9981285869087628},{time:55.34589999985695,note:"E2",pitch:82.46433706111108,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9963614451623641},{time:55.369099999904634,note:"E2",pitch:82.54548292863794,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9976914019960077},{time:55.39179999995232,note:"E2",pitch:82.51127558911628,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.99713235682934},{time:55.41379999995232,note:"E2",pitch:82.45465004923521,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9956687192183864},{time:55.437,note:"E2",pitch:82.53098334253333,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978033042119421},{time:55.45939999985695,note:"E2",pitch:82.45624333705724,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959631893977985},{time:55.4815,note:"E2",pitch:82.50206330162149,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9967692459335211},{time:55.50469999980926,note:"E2",pitch:82.51512391838986,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9973569388705243},{time:55.527,note:"E2",pitch:82.45630588977465,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9958443322031343},{time:55.549,note:"E2",pitch:82.54378028368548,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9975583951028995},{time:55.5725,note:"E2",pitch:82.45692918746586,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9962079790982443},{time:55.594699999809265,note:"E2",pitch:82.45456614368173,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9966189698753851},{time:55.61669999980926,note:"E2",pitch:82.55262375202506,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978805222560396},{time:55.64019999980926,note:"E2",pitch:82.46471088593621,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.995147424868918},{time:55.66339999985695,note:"E2",pitch:82.56752819472564,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978775406133309},{time:55.68529999995231,note:"E2",pitch:82.51015441827985,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9965170822907368},{time:55.708599999904635,note:"E2",pitch:82.46750676869569,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9957002973168869},{time:55.731099999904636,note:"E2",pitch:82.53493452531998,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9974102524494839},{time:55.75319999980927,note:"E2",pitch:82.47278182610242,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9956485301982383},{time:55.77639999985695,note:"E2",pitch:82.54653735930363,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978939996735505},{time:55.799099999904634,note:"E2",pitch:82.49024995240319,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9958499915388046},{time:55.821299999952316,note:"E2",pitch:82.50938525595635,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9969736590690559},{time:55.845,note:"E2",pitch:82.58108770040371,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9978986687641225},{time:55.882199999809266,note:"E2",pitch:82.48109176193395,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9968277792086155},{time:55.91159999990463,note:"E2",pitch:82.55751723701407,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9967940722779502},{time:55.938699999809266,note:"E2",pitch:82.47300250734236,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9965394331114368},{time:55.961,note:"E2",pitch:82.59043311823125,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9977458815254607},{time:55.984699999809266,note:"E2",pitch:82.48332198987266,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9965258913960184},{time:56.0075,note:"E2",pitch:82.5357802086117,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9983790545303748},{time:56.030099999904635,note:"E2",pitch:82.53594169930274,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9958619382258007},{time:56.05389999985695,note:"E2",pitch:82.47336045947608,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970498773990784},{time:56.07659999990463,note:"E2",pitch:82.6205097060535,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9979067415850693},{time:56.09909999990463,note:"E2",pitch:82.46739425516918,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959805847894643},{time:56.12279999995231,note:"E2",pitch:82.57893741577732,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9980757236515245},{time:56.145299999952314,note:"E3",pitch:165.02613008658565,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9014186589573825},{time:56.16729999995231,note:"E3",pitch:164.98837042604544,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9068272482472288},{time:56.19079999995232,note:"E3",pitch:165.15611332339574,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.91290486901406},{time:56.21329999995232,note:"E3",pitch:165.20184304243253,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9149175264927898},{time:56.2355,note:"E3",pitch:164.73669858677457,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9134073478241724},{time:56.25889999985695,note:"E3",pitch:165.15332761157197,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9180713084409575},{time:56.28129999995232,note:"E3",pitch:164.40543149349085,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9068981097256845},{time:56.30339999985695,note:"E3",pitch:165.29037508196754,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.907419570306665},{time:56.327,note:"E3",pitch:165.26475245296757,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9059009438351886},{time:56.3495,note:"E2",pitch:82.54828834663118,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.997991411064973},{time:56.372,note:"E3",pitch:165.0080218810867,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9024920135086347},{time:56.39539999985695,note:"E2",pitch:82.4319055603247,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970599291099518},{time:56.418,note:"E2",pitch:82.64619575140097,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9979315253783625},{time:56.44009999990463,note:"E2",pitch:82.49274400505065,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9963272252347082},{time:56.46339999985695,note:"E2",pitch:82.58525898306044,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9970275524250951},{time:56.486,note:"E2",pitch:82.65633357464539,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9965830622521992},{time:56.508,note:"E2",pitch:82.51721282942069,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948604977767843},{time:56.53169999980926,note:"E2",pitch:82.65568142257462,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9942425804954524},{time:56.55409999990463,note:"E2",pitch:82.54842487642289,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9917641919751219},{time:56.57659999990463,note:"E2",pitch:82.59972713766373,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9946517335751395},{time:56.600099999904636,note:"E2",pitch:83.22337687998314,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9778649357319154},{time:56.622699999809264,note:"E2",pitch:83.01830436230304,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9520097771288789},{time:56.64479999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.66829999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.69069999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.71269999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.736299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.7735,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.802099999904634,note:"F4",pitch:343.9892163821738,noteMidi:65,actualMidi:64.74,actualMidiChroma:4.739999999999995,centsOffset:-26.00000000000051,clarity:.7047990557248056},{time:56.82919999980926,note:"E2",pitch:83.52068513966194,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.7574987446279806},{time:56.85209999990463,note:"E2",pitch:83.05904795357816,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9947832344192875},{time:56.875799999952314,note:"E2",pitch:82.96108237491764,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9987990417729122},{time:56.89839999985695,note:"E2",pitch:82.92220238223427,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9988090038622488},{time:56.92059999990463,note:"E2",pitch:82.87033236972574,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9985530263930968},{time:56.94409999990463,note:"E2",pitch:82.86605528295932,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.999013378975576},{time:56.966799999952315,note:"E2",pitch:82.86366129929512,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9988297123262839},{time:56.98939999985695,note:"E2",pitch:82.84925823453831,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.998901519784539},{time:57.01319999980927,note:"E2",pitch:82.83941644866994,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9987745932717473},{time:57.03629999995232,note:"E2",pitch:82.83734175927182,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.998845611582226},{time:57.05879999995231,note:"E2",pitch:82.82565763451883,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9993142767142729},{time:57.082799999952314,note:"E2",pitch:82.81836179793618,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9991189386977339},{time:57.10579999995232,note:"E2",pitch:82.80421836796125,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9992413398258435},{time:57.128099999904634,note:"E2",pitch:82.78530986016985,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9992586203021574},{time:57.15179999995232,note:"E2",pitch:82.77427154945666,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9993126466991953},{time:57.17429999995232,note:"E2",pitch:82.76862509291864,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9995502737475874},{time:57.196899999856946,note:"E2",pitch:82.76182545340178,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9991111891572189},{time:57.22069999980926,note:"E2",pitch:82.76208072260854,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9995098089274563},{time:57.2435,note:"E2",pitch:82.75464104737044,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9995729335300609},{time:57.266,note:"E2",pitch:82.75364703886787,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9994502937702521},{time:57.28929999995232,note:"E2",pitch:82.7417435402428,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9996168571742601},{time:57.31189999985695,note:"E2",pitch:82.74417757422779,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9995363148776732},{time:57.33409999990463,note:"E2",pitch:82.73631320488353,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9996459509779925},{time:57.35739999985695,note:"E2",pitch:82.71918769191089,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9994945236371962},{time:57.38009999990463,note:"E2",pitch:82.72871761637138,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9994354094076954},{time:57.4025,note:"E2",pitch:82.71813838856735,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9996872216731134},{time:57.426,note:"E2",pitch:82.70480210986015,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9993841358051725},{time:57.44909999990463,note:"E2",pitch:82.70274422270289,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997357682179882},{time:57.471299999952315,note:"E2",pitch:82.68716723900916,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997297232399234},{time:57.49479999995231,note:"E2",pitch:82.69775314238609,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9996231840955119},{time:57.5175,note:"E2",pitch:82.68625650944496,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997559854158595},{time:57.54019999980927,note:"E2",pitch:82.68624271662438,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9996961335740906},{time:57.563799999952316,note:"E2",pitch:82.69830112438727,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997133879358273},{time:57.58639999985695,note:"E2",pitch:82.67574087932898,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9995761597206467},{time:57.6085,note:"E2",pitch:82.67777577871819,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9994087318691669},{time:57.632299999952316,note:"E2",pitch:82.66463043665767,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997162407466931},{time:57.66979999995232,note:"E2",pitch:82.6810056716948,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.999579855100734},{time:57.70039999985695,note:"E2",pitch:82.66864549873699,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997201971745113},{time:57.7285,note:"E2",pitch:82.68170288514999,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9996153885771122},{time:57.75259999990463,note:"E2",pitch:82.64458831740836,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997630882529762},{time:57.77509999990463,note:"E2",pitch:82.66246303841719,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9996149307464606},{time:57.79779999995232,note:"E2",pitch:82.65560436212067,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998044031749487},{time:57.821,note:"E2",pitch:82.63587031429356,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9996053179764175},{time:57.8435,note:"E2",pitch:82.65235420826045,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.99972226875974},{time:57.865799999952316,note:"E2",pitch:82.61003909086374,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997429005182852},{time:57.8895,note:"E2",pitch:82.65213089949758,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9993731477544401},{time:57.91209999990463,note:"E2",pitch:82.61730228576693,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998518427461391},{time:57.9345,note:"E2",pitch:82.62020635044388,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995713440941927},{time:57.95789999985695,note:"E2",pitch:82.64634686025619,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9995209681435284},{time:57.98069999980927,note:"E2",pitch:82.59915880163413,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997148950837556},{time:58.00359999990463,note:"E2",pitch:82.63515142649767,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9994397666731203},{time:58.02739999985695,note:"E2",pitch:82.6192709449479,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997925424987244},{time:58.05039999985695,note:"E2",pitch:82.6164709588491,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995185149644925},{time:58.07319999980926,note:"E2",pitch:82.6364481138381,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9996338499222048},{time:58.097,note:"E2",pitch:82.58536509737198,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999750413162019},{time:58.119699999809264,note:"E2",pitch:82.64789954472701,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.999340602085951},{time:58.142299999952314,note:"E2",pitch:82.61360439067302,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997303426975037},{time:58.16569999980926,note:"E2",pitch:82.60595825098294,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9989734648477082},{time:58.188299999952314,note:"E2",pitch:82.6666595436078,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.998837367491717},{time:58.210799999952314,note:"E2",pitch:82.58803486676557,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994697511964006},{time:58.23429999995231,note:"E2",pitch:82.63898247668443,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.998667553264383},{time:58.25769999980926,note:"E2",pitch:82.628810272115,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9994348134246422},{time:58.28019999980926,note:"E2",pitch:82.59871913291164,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9989618122412622},{time:58.30419999980926,note:"E2",pitch:82.63320241759968,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9991179923337654},{time:58.327,note:"E2",pitch:82.56690974041916,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9995035824990026},{time:58.34969999980927,note:"E2",pitch:82.64199670988626,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9987985102893617},{time:58.373299999952316,note:"E2",pitch:82.59744057404322,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994286711698948},{time:58.3965,note:"E2",pitch:82.5726459070439,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9992470654726446},{time:58.419,note:"E2",pitch:82.64354455602805,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989871680311637},{time:58.44289999985695,note:"E2",pitch:82.57219785978909,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9991331572007169},{time:58.466099999904635,note:"E2",pitch:82.63627620875012,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9988479304685569},{time:58.48889999985695,note:"E2",pitch:82.62530547369508,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9988867074005015},{time:58.512799999952314,note:"E2",pitch:82.58008684073764,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.998213357290922},{time:58.5505,note:"E2",pitch:82.54305320751538,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9987394446346087},{time:58.5815,note:"E2",pitch:82.65823847297372,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9975880012170677},{time:58.608599999904634,note:"E2",pitch:82.55987512482989,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9982990619125331},{time:58.632199999809266,note:"E2",pitch:82.63227718879854,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9972135665664865},{time:58.65489999985695,note:"E2",pitch:82.61658404507095,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.997071983976781},{time:58.67789999985695,note:"E2",pitch:82.5527828672699,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9974206408242736},{time:58.7015,note:"E2",pitch:82.61200019699949,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9969386736828483},{time:58.72439999985695,note:"E2",pitch:82.51877131340292,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9970101258750077},{time:58.747099999904634,note:"E2",pitch:82.57002658791225,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9956233927801748},{time:58.77079999995232,note:"E2",pitch:82.63077154655622,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9957043451754544},{time:58.79389999985695,note:"E2",pitch:82.55574787670024,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9948644475525015},{time:58.817099999904634,note:"E2",pitch:82.66972326838055,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9936526246138015},{time:58.84059999990463,note:"E2",pitch:82.54170913860622,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9953899675947611},{time:58.86379999995231,note:"E2",pitch:82.59334285698961,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9937939151985233},{time:58.88719999980926,note:"E2",pitch:82.65844171520403,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9921150534264882},{time:58.91059999990463,note:"E2",pitch:82.48531332886428,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9953166152583037},{time:58.93409999990463,note:"E2",pitch:82.59861904639843,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9930983067497863},{time:58.95729999995232,note:"E2",pitch:82.50350381589432,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9934194023969241},{time:58.98089999985695,note:"E2",pitch:82.65926045330465,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9843161580812563},{time:59.004599999904634,note:"E2",pitch:82.69907051554905,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9843660066820803},{time:59.02829999995232,note:"E2",pitch:83.13374425845664,noteMidi:40,actualMidi:40.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9162248386831493},{time:59.051699999809266,note:"E2",pitch:83.56332254086612,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.7204481108360881},{time:59.075199999809264,note:"E2",pitch:84.00873558992173,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.7908633633067126},{time:59.0985,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.12189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.145,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.16789999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.191,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.21419999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.23729999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.26079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.28419999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.3075,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.331,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.35409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.37819999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.41609999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.446299999952316,note:"Eb3",pitch:159.76647693534275,noteMidi:51,actualMidi:51.46,actualMidiChroma:3.460000000000001,centsOffset:46.000000000000085,clarity:.30216439008276597},{time:59.474,note:"E2",pitch:82.50058046219291,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.915682376403467},{time:59.49719999980927,note:"E2",pitch:82.64421464277889,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9937526540895618},{time:59.5205,note:"E2",pitch:82.56313241957349,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9970504622888967},{time:59.54379999995231,note:"E2",pitch:82.59286942725134,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9961000861776199},{time:59.56729999995232,note:"E2",pitch:82.6034679433255,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9941790609346839},{time:59.5905,note:"E2",pitch:82.5850902889132,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9975664826638138},{time:59.61409999990463,note:"E2",pitch:82.58517462168669,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.994091506222361},{time:59.63759999990463,note:"E2",pitch:82.56911441791688,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9955224210613522},{time:59.66129999995232,note:"E2",pitch:82.59353348782707,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9953388530474854},{time:59.68469999980927,note:"E2",pitch:82.56775854148623,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9927969952966009},{time:59.70829999995232,note:"E2",pitch:82.58144966254606,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9965422195893581},{time:59.731699999809265,note:"E2",pitch:82.59333422155919,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9940606402043812},{time:59.755199999809264,note:"E2",pitch:82.54904544082734,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9962782496029519},{time:59.778599999904635,note:"E2",pitch:82.56873402411169,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9953647720360834},{time:59.802,note:"E2",pitch:82.6053537974305,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9956037389943049},{time:59.82559999990463,note:"E2",pitch:82.56098994174928,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9958343847960833},{time:59.849199999809265,note:"E2",pitch:82.59352314445562,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9932739010162237},{time:59.8725,note:"E2",pitch:82.55640622934999,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9968369275043898},{time:59.89619999980926,note:"E2",pitch:82.54308362044283,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9949303597956884},{time:59.9195,note:"E2",pitch:82.58223294188524,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9969907762692571},{time:59.943,note:"E2",pitch:82.5872059405624,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9898207227551978},{time:59.96659999990463,note:"E2",pitch:82.56459523447178,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9781928117876078},{time:59.99029999995231,note:"E2",pitch:82.55721331665575,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9947784890862295},{time:60.014,note:"E2",pitch:82.62130968190009,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9770242866449053},{time:60.03809999990463,note:"E2",pitch:82.65071530524412,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9705279728728158},{time:60.062,note:"E2",pitch:82.57762998560327,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.993648857298183},{time:60.08589999985695,note:"E2",pitch:82.56474997682706,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9919876253469511},{time:60.109799999952315,note:"E2",pitch:82.74923521623238,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.970347270658479},{time:60.1335,note:"E2",pitch:84.09205415887133,noteMidi:40,actualMidi:40.35,actualMidiChroma:4.350000000000001,centsOffset:35.00000000000014,clarity:.7695245978562042},{time:60.15709999990463,note:"C1",pitch:32.3470884275573,noteMidi:24,actualMidi:23.81,actualMidiChroma:11.809999999999999,centsOffset:-19.000000000000128,clarity:.2790133261763117},{time:60.181,note:"E2",pitch:82.76497512689484,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.7580361046046846},{time:60.20459999990463,note:"E2",pitch:82.76032063440769,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9462087074941223},{time:60.22789999985695,note:"E2",pitch:82.70042077385048,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9927524790720383},{time:60.2525,note:"E2",pitch:82.60135150293455,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9941140756635178},{time:60.28989999985695,note:"E2",pitch:82.56538018627792,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9935919621543547},{time:60.31939999985695,note:"E2",pitch:82.61328442942548,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.991768154787124},{time:60.3475,note:"E2",pitch:82.56577182063133,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9924111861290328},{time:60.371,note:"E2",pitch:82.61265440052226,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9913940246936903},{time:60.39429999995232,note:"E2",pitch:82.61703893691467,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9849766633421666},{time:60.417799999952315,note:"E2",pitch:82.53206710134543,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9941600436794573},{time:60.44139999985695,note:"E2",pitch:82.60276889138974,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9900310612863308},{time:60.46509999990463,note:"E2",pitch:82.52705691002568,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9929875942755615},{time:60.489,note:"E2",pitch:82.56150008366117,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9948062819234025},{time:60.51229999995232,note:"E2",pitch:82.5399327234328,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9902908456362098},{time:60.536099999904636,note:"E2",pitch:82.54119962506465,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9950936287181804},{time:60.55939999985695,note:"E2",pitch:82.58188782128221,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9926852141685316},{time:60.58339999985695,note:"E2",pitch:82.50575308306247,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9952316674278734},{time:60.607,note:"E2",pitch:82.56745558852062,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9934641881864934},{time:60.63059999990463,note:"E2",pitch:83.05630788250136,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9355199647258274},{time:60.654199999809265,note:"F2",pitch:84.95586245018873,noteMidi:41,actualMidi:40.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.6873081327358648},{time:60.67809999990463,note:"Bb0",pitch:29.83809604643441,noteMidi:22,actualMidi:22.41,actualMidiChroma:10.41,centsOffset:41.000000000000014,clarity:.6416665659839396},{time:60.701699999809264,note:"E2",pitch:82.78488229293471,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.8821270102615415},{time:60.72559999990463,note:"E2",pitch:82.62638835494137,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9730407413646702},{time:60.749199999809264,note:"E2",pitch:82.74555256524268,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9722261928287992},{time:60.77309999990463,note:"E2",pitch:82.58319862583032,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9861575084956087},{time:60.79689999985695,note:"E2",pitch:82.63891319584654,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9852224922278765},{time:60.820699999809264,note:"E2",pitch:82.56783531604668,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9840279193157642},{time:60.84439999985695,note:"E2",pitch:82.57264309933153,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9874159220452725},{time:60.86809999990463,note:"E2",pitch:82.60774511508772,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9818010271211932},{time:60.89179999995232,note:"E2",pitch:82.61202148759259,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9853035868557498},{time:60.91569999980926,note:"E2",pitch:82.65105834565094,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9801795199388152},{time:60.9395,note:"E2",pitch:82.58001096878208,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.983978521510636},{time:60.96339999985695,note:"E2",pitch:82.60284203092137,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9852446864252329},{time:60.9875,note:"E2",pitch:82.61480313936408,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9826823716645663},{time:61.012099999904635,note:"E2",pitch:82.58381615490578,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9889337138892955},{time:61.036099999904636,note:"E2",pitch:82.72045153936646,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9581447693711738},{time:61.0605,note:"E2",pitch:82.3443799130625,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.5490324904361046},{time:61.08439999985695,note:"F2",pitch:85.24792682751833,noteMidi:41,actualMidi:40.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.40627094712837675},{time:61.108599999904634,note:"E2",pitch:82.34197340279378,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9041153105901856},{time:61.132199999809266,note:"E2",pitch:82.68784041266224,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9896371337343055},{time:61.15609999990463,note:"E2",pitch:82.58965867681559,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9883734382030127},{time:61.17989999985695,note:"E2",pitch:82.60404400446727,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9917536620705079},{time:61.21839999985695,note:"E2",pitch:82.54098444442926,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9902327104067865},{time:61.2485,note:"E2",pitch:82.63562691356267,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.991211580580611},{time:61.277099999904635,note:"E2",pitch:82.57581463628935,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9927287404184426},{time:61.30139999985695,note:"E2",pitch:82.66375150026592,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9927630494456992},{time:61.325,note:"E2",pitch:82.62164752279617,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9902478828144723},{time:61.3485,note:"E2",pitch:82.62766914287617,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9957883046569549},{time:61.37229999995232,note:"E2",pitch:82.61646764557801,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9933994426638577},{time:61.39569999980927,note:"E2",pitch:82.7084052188416,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9933663790272504},{time:61.41969999980927,note:"E2",pitch:84.6179394946251,noteMidi:40,actualMidi:40.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.8304130766831435},{time:61.443299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.46719999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.49089999985695,note:"E2",pitch:83.97916174240441,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.7370726933826859},{time:61.51489999985695,note:"E2",pitch:83.85671786121331,noteMidi:40,actualMidi:40.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9504760479222796},{time:61.53869999980927,note:"E2",pitch:83.83406065578536,noteMidi:40,actualMidi:40.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.953754958029208},{time:61.56269999980927,note:"E2",pitch:83.7422621335407,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9596897225594034},{time:61.58629999995232,note:"E2",pitch:83.64721228875798,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9586383791637445},{time:61.61019999980927,note:"E2",pitch:83.61587906160005,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9640589430970863},{time:61.63389999985695,note:"E2",pitch:83.46619208173347,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9631812471329795},{time:61.6585,note:"E2",pitch:83.57840699431463,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9573055590300896},{time:61.682,note:"E2",pitch:83.51329362945097,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9672869217988307},{time:61.7065,note:"E2",pitch:83.50565058965606,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9635454052832699},{time:61.730299999952315,note:"E2",pitch:83.56231163566136,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.965269529469623},{time:61.755199999809264,note:"E2",pitch:83.56183128167613,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.957490765119303},{time:61.77869999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.803299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.8265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.85109999990463,note:"E2",pitch:83.65479258228008,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.8624105879377453},{time:61.874699999809266,note:"E2",pitch:83.58549660390747,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9670941269196476},{time:61.899399999856946,note:"E2",pitch:83.69678601233092,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.961036497043068},{time:61.923,note:"E2",pitch:83.47296405902145,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9693760111181291},{time:61.94769999980927,note:"E2",pitch:83.18539767900187,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.974624039622384},{time:61.9715,note:"E2",pitch:83.08421156757795,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9762086691020784},{time:61.996699999809266,note:"E2",pitch:82.88019705611202,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9817875974645176},{time:62.02159999990463,note:"E2",pitch:82.80563111167771,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9855343870184896},{time:62.0465,note:"E2",pitch:82.63451156817389,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9916522924081903},{time:62.07089999985695,note:"E2",pitch:82.58621256433244,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9946213282277938},{time:62.095599999904636,note:"E2",pitch:82.50477842121624,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9974406399010007},{time:62.13579999995232,note:"E2",pitch:82.49663381258377,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9978149648946157},{time:62.16539999985695,note:"E2",pitch:82.46119876876955,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9987549952132184},{time:62.19459999990463,note:"E2",pitch:82.90169306621011,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9916145803997409},{time:62.218,note:"E2",pitch:84.57786527147223,noteMidi:40,actualMidi:40.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9425558132396645},{time:62.242299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.2665,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.29179999995232,note:"E2",pitch:83.53495805488615,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.6252527246159616},{time:62.31569999980927,note:"E2",pitch:83.49008640165191,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.881286514522742},{time:62.34059999990463,note:"E2",pitch:83.58715922892179,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9488106618366032},{time:62.36439999985695,note:"E2",pitch:83.57370917062302,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9352082467793821},{time:62.3895,note:"E2",pitch:83.72001790869332,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9545932024700505},{time:62.414099999904636,note:"E2",pitch:83.63971045688079,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9480526995916989},{time:62.43859999990463,note:"E2",pitch:83.70195724246774,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9596117935362827},{time:62.46319999980926,note:"E2",pitch:83.48877096493456,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9603594318110993},{time:62.48759999990463,note:"E2",pitch:83.47741164271902,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9592164345354206},{time:62.511799999952316,note:"E2",pitch:83.24667692804123,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9701889396260128},{time:62.537,note:"E2",pitch:83.24854985034067,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9671390224464318},{time:62.561,note:"E2",pitch:83.08133401539429,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9777829166385601},{time:62.58489999985695,note:"E2",pitch:82.93162590884522,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9811259451277436},{time:62.61,note:"E2",pitch:82.93767050234825,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9829474755050143},{time:62.63419999980926,note:"E2",pitch:82.8205112473183,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9855447373150952},{time:62.65889999985695,note:"E2",pitch:84.2234204223355,noteMidi:40,actualMidi:40.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9281076157176358},{time:62.682799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.70689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.7315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.756,note:"E3",pitch:163.0949614196495,noteMidi:52,actualMidi:51.82,actualMidiChroma:3.8200000000000003,centsOffset:-17.99999999999997,clarity:.8166110012083934},{time:62.78119999980927,note:"E3",pitch:165.53795352416245,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9353063620431215},{time:62.80539999985695,note:"E3",pitch:164.86130973502077,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.925689698676539},{time:62.82919999980926,note:"E3",pitch:164.89138449322215,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9126251257574687},{time:62.85409999990463,note:"E3",pitch:165.64381455904788,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.8855159055395525},{time:62.878399999856946,note:"E2",pitch:82.64460625253605,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.994103376870882},{time:62.9035,note:"E2",pitch:82.46060861946985,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9939665319015631},{time:62.928,note:"E2",pitch:82.56159597011268,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9944059510753078},{time:62.952,note:"E2",pitch:82.61556264370284,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9965375709646906},{time:62.97689999985695,note:"E2",pitch:82.63363072125686,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9942007314710679},{time:63.00169999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:63.02739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:63.067799999952314,note:"C4",pitch:266.22214732232726,noteMidi:60,actualMidi:60.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.3558298091020813},{time:63.09839999985695,note:"E2",pitch:82.80712824560713,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.7653124590933373},{time:63.12909999990463,note:"E2",pitch:82.64988866597557,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9953124933102941},{time:63.154,note:"E2",pitch:82.5764030864101,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9955305450505563},{time:63.179,note:"E2",pitch:82.62946105532791,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9940254182297252},{time:63.20309999990463,note:"E2",pitch:82.60191447324557,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9954281732836847},{time:63.22709999990463,note:"E2",pitch:82.61750322881585,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.994199127268999},{time:63.252199999809264,note:"E2",pitch:82.57035848716353,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9930220421325942},{time:63.27679999995232,note:"E2",pitch:82.54897467990062,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9959616469394632},{time:63.302,note:"E2",pitch:82.60832303548092,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9911641757576604},{time:63.32659999990463,note:"E2",pitch:82.5286716744456,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9934223031089573},{time:63.350799999952315,note:"E2",pitch:82.65467940461576,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9883739446279378},{time:63.375699999809264,note:"E2",pitch:82.53714023402665,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9935071102686521},{time:63.40029999995232,note:"E2",pitch:82.64245417504142,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9818787177250812},{time:63.4255,note:"E2",pitch:82.53616916863434,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9763707590081054},{time:63.44969999980926,note:"E2",pitch:82.6456898322779,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9848072900407345},{time:63.47369999980926,note:"E2",pitch:82.73493767836429,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9634191039152995},{time:63.49879999995232,note:"E2",pitch:82.58614528337907,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.987445668849432},{time:63.52339999985695,note:"E2",pitch:82.66203357109669,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9913671728359503},{time:63.54829999995231,note:"E2",pitch:82.59037095140197,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9944210648774288},{time:63.57259999990463,note:"E2",pitch:82.64187204890042,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9977283388693223},{time:63.5965,note:"E2",pitch:82.65362842017407,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9969912285316838},{time:63.620899999856945,note:"E2",pitch:82.6110188646513,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9991056574295101},{time:63.64589999985695,note:"E2",pitch:82.61769458480626,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9991739194870206},{time:63.671099999904634,note:"E2",pitch:82.57711404245822,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995216501015562},{time:63.69519999980926,note:"E2",pitch:82.59581020482784,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9993945762160195},{time:63.719099999904635,note:"E2",pitch:82.6013385528476,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996052023643216},{time:63.744,note:"E2",pitch:82.61300253809243,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994376064861257},{time:63.768399999856946,note:"E2",pitch:82.6251980371578,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9992840644350309},{time:63.79369999980926,note:"E2",pitch:82.59402453772884,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995646577075092},{time:63.81809999990463,note:"E2",pitch:82.62672120690675,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9993182820557678},{time:63.84219999980927,note:"E2",pitch:82.58398865277476,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994953368524335},{time:63.8675,note:"E2",pitch:82.59399622445923,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995566110731318},{time:63.892199999809264,note:"E2",pitch:82.5951893179298,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9993354990554195},{time:63.91729999995231,note:"E2",pitch:82.59943183476192,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996032545798954},{time:63.94159999990463,note:"E2",pitch:82.59586384963265,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995000447552513},{time:63.966099999904635,note:"E2",pitch:82.60262676270236,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995390076780666},{time:64.01059999990463,note:"E2",pitch:82.58415895446129,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995154196084144},{time:64.04129999995232,note:"E2",pitch:82.61301333776116,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995390736326897},{time:64.07229999995232,note:"E2",pitch:82.59790097772004,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996311318631115},{time:64.09789999985695,note:"E2",pitch:82.59632658638468,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997150360644298},{time:64.12309999990464,note:"E2",pitch:82.60245144590151,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996387587801365},{time:64.14759999990463,note:"E2",pitch:82.59371095843179,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999766944856546},{time:64.17189999985695,note:"E2",pitch:82.59818908808447,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.99943208086151},{time:64.197,note:"E2",pitch:82.59546583503634,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999792006764892},{time:64.22179999995231,note:"E2",pitch:82.60248050885893,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996850320646189},{time:64.247,note:"E2",pitch:82.56913842119403,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997776168765427},{time:64.27159999990464,note:"E2",pitch:82.60269863730078,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998079556529262},{time:64.29589999985694,note:"E2",pitch:82.61797757861585,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998091438072549},{time:64.32159999990463,note:"E2",pitch:82.5830182572338,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998950855934936},{time:64.34659999990463,note:"E2",pitch:82.59214402533229,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999880027722611},{time:64.372,note:"E2",pitch:82.57612207556642,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9999132923820184},{time:64.39669999980927,note:"E2",pitch:82.56217234647308,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998743846425668},{time:64.42119999980926,note:"E2",pitch:82.58299141893211,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998680975121772},{time:64.44639999985695,note:"E2",pitch:82.57828678226916,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998280461645095},{time:64.47139999985694,note:"E2",pitch:82.58675727150981,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998411099663684},{time:64.497,note:"E2",pitch:82.60239432324066,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998877596899547},{time:64.52169999980927,note:"E2",pitch:82.5996077718564,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998367934552164},{time:64.54609999990463,note:"E2",pitch:82.58285054001172,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999879510808114},{time:64.57139999985695,note:"E2",pitch:82.58772707079255,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998821616266866},{time:64.5965,note:"E2",pitch:82.6059129014951,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999872274006151},{time:64.62179999995232,note:"E2",pitch:82.59808112420797,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998949227257441},{time:64.64639999985695,note:"E2",pitch:82.62846101671634,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998815051952761},{time:64.671,note:"E2",pitch:82.58955314814501,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997599016782175},{time:64.69679999995232,note:"E2",pitch:82.5961711268845,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996546487651301},{time:64.72159999990463,note:"E2",pitch:82.60610709665607,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998789683325953},{time:64.74709999990463,note:"E2",pitch:82.59325140805825,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999855853950578},{time:64.77189999985696,note:"E2",pitch:82.59748242151669,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998786975322389},{time:64.79659999990463,note:"E2",pitch:82.60377166648443,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998789978728979},{time:64.83809999990463,note:"E2",pitch:82.62597288824932,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.999881841555947},{time:64.86879999995232,note:"E2",pitch:82.60933710422901,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998675470864669},{time:64.89869999980927,note:"E2",pitch:82.60606940758454,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998307952245256},{time:64.92389999985694,note:"E2",pitch:82.6041942994518,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997014330326124},{time:64.94939999985695,note:"E2",pitch:82.60814618109853,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998721017196459},{time:64.97439999985694,note:"E2",pitch:82.60437206289315,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998495442473256},{time:64.99909999990463,note:"E2",pitch:82.61248567394628,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998498593882204},{time:65.02519999980926,note:"E2",pitch:82.63402046975172,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998796340805143},{time:65.05059999990463,note:"E2",pitch:82.6340046814268,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.999837658877027},{time:65.07659999990463,note:"E2",pitch:82.61315863422473,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998642133613203},{time:65.10169999980927,note:"E2",pitch:82.6189238441658,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998622206803702},{time:65.1265,note:"E2",pitch:82.61570985639598,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998103421500559},{time:65.15189999985695,note:"E2",pitch:82.60131006278812,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996054118255984},{time:65.17729999995231,note:"E2",pitch:82.61481185240264,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998170505608641},{time:65.20259999990463,note:"E2",pitch:82.61158852747965,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997565759335316},{time:65.22719999980926,note:"E2",pitch:82.59378137527266,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997365470214561},{time:65.25189999985695,note:"E2",pitch:82.56926279116043,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998422105552152},{time:65.27769999980927,note:"E2",pitch:82.5666674678763,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997675689401149},{time:65.303,note:"E2",pitch:82.58054611356455,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998490458309703},{time:65.3285,note:"E2",pitch:82.58673113899394,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998363359502775},{time:65.35319999980926,note:"E2",pitch:82.56875703885129,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.999772442757461},{time:65.37769999980927,note:"E2",pitch:82.57018417243432,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997559253259283},{time:65.40309999990463,note:"E2",pitch:82.57181963681687,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997355761508118},{time:65.42829999995232,note:"E2",pitch:82.92078115044785,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9917559139360463},{time:65.45379999995231,note:"E2",pitch:84.39007798507006,noteMidi:40,actualMidi:40.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.7800887321767789},{time:65.47879999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:65.5035,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:65.529,note:"E3",pitch:166.2599770177619,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.46910930482043867},{time:65.554,note:"E2",pitch:82.97696446957578,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.882074812115988},{time:65.57989999985695,note:"E2",pitch:82.70934910674502,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9939922649221415},{time:65.60559999990463,note:"E2",pitch:82.67143305307015,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9952704617573289},{time:65.64629999995232,note:"E2",pitch:82.64382752862126,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9925483867862681},{time:65.67659999990464,note:"E2",pitch:82.67975524383762,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9952189370005158},{time:65.70539999985695,note:"E2",pitch:82.58853892845194,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9938156712386359},{time:65.73029999995232,note:"E2",pitch:82.71893410494218,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9947315855242778},{time:65.75569999980927,note:"E2",pitch:82.72963215039712,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9908536702456701},{time:65.781,note:"E2",pitch:82.65114039311824,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.994155117263233},{time:65.80569999980926,note:"E2",pitch:82.70474945036966,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9921012891369827},{time:65.83139999985696,note:"E2",pitch:82.54662543051093,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9951269903818201},{time:65.85639999985695,note:"E2",pitch:82.68723302820753,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9936038182509748},{time:65.88239999985694,note:"E2",pitch:82.57402487713308,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9940482204059435},{time:65.908,note:"E2",pitch:82.68526425125776,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9942144865094917},{time:65.93329999995231,note:"E2",pitch:82.5551125658335,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9924651619092657},{time:65.9595,note:"E2",pitch:82.67403088452069,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9942784362581278},{time:65.98579999995232,note:"E2",pitch:82.62389045279247,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9925178762751017},{time:66.0115,note:"E2",pitch:82.58675935427576,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9946529026843081},{time:66.03759999990463,note:"E2",pitch:82.73685218401933,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9916449450317657},{time:66.06359999990464,note:"E2",pitch:82.51036188353473,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948233809209626},{time:66.08929999995232,note:"E2",pitch:82.66188832821008,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9909362425060522},{time:66.11539999985695,note:"E2",pitch:82.50307414334411,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948450090820131},{time:66.14119999980926,note:"E2",pitch:82.64478074396791,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9932600572346502},{time:66.16629999995232,note:"E2",pitch:82.54615733112975,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9928965394168756},{time:66.192,note:"E2",pitch:82.60425577635662,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9945779791111704},{time:66.21789999985695,note:"E2",pitch:82.61129482629457,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9926176842309218},{time:66.24359999990463,note:"E2",pitch:82.50922551546762,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9958320988825449},{time:66.26969999980926,note:"E2",pitch:82.54648391559276,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9904496150112863},{time:66.296,note:"E2",pitch:82.4615545114306,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9955338416959165},{time:66.3215,note:"E2",pitch:82.59143928950965,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9912879461409005},{time:66.34739999985695,note:"E2",pitch:82.40395963319544,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952387395971982},{time:66.37359999990463,note:"E2",pitch:82.55288476858524,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.992670619428651},{time:66.39939999985695,note:"E2",pitch:82.39981635148048,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9958421135090845},{time:66.42489999985695,note:"E2",pitch:82.51854049348066,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9928263110345483},{time:66.45089999985694,note:"E2",pitch:82.43507450429837,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.993957174026022},{time:66.47669999980927,note:"E2",pitch:82.45454305977184,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943575455961735},{time:66.50189999985695,note:"E2",pitch:82.47709848471015,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9923574063339231},{time:66.54359999990463,note:"E2",pitch:82.50860418590025,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9909922571998209},{time:66.57429999995232,note:"E2",pitch:82.39277627202924,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9929542004961434},{time:66.6045,note:"E2",pitch:83.64536303966408,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.8094396093705498},{time:66.63,note:"F2",pitch:85.34469152079589,noteMidi:41,actualMidi:40.61,actualMidiChroma:4.609999999999999,centsOffset:-39.00000000000006,clarity:.7777695455972307},{time:66.65459999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:66.68009999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:66.70559999990463,note:"E3",pitch:166.47004811400447,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.3156980830503784},{time:66.73059999990463,note:"E2",pitch:82.45995166905954,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9102326722524907},{time:66.7565,note:"E2",pitch:82.5624764129636,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9936215746311632},{time:66.78219999980927,note:"E2",pitch:82.44493779399481,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9991418593193515},{time:66.80719999980927,note:"E2",pitch:82.48644484607864,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9985762939884779},{time:66.83369999980927,note:"E2",pitch:82.46341589214246,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9982505731010747},{time:66.85979999995232,note:"E2",pitch:82.50534575436211,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9984256529439364},{time:66.88559999990463,note:"E2",pitch:82.45287332250777,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970806186010464},{time:66.91079999995232,note:"E2",pitch:82.5004252206262,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9984336191640324},{time:66.9365,note:"E2",pitch:82.50023437566584,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971266342588763},{time:66.96229999995232,note:"E2",pitch:82.44465737245602,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9984749668312247},{time:66.98759999990463,note:"E2",pitch:82.53801575061375,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9965118824809878},{time:67.0145,note:"E2",pitch:82.40353054772731,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980857969557348},{time:67.04,note:"E2",pitch:82.49608325529462,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9954637003707774},{time:67.06509999990463,note:"E2",pitch:82.41877801438677,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9967787718891117},{time:67.0925,note:"E2",pitch:82.51147914628788,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971785841324419},{time:67.11839999985695,note:"E2",pitch:82.46040838389926,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9961250634298153},{time:67.14419999980926,note:"E2",pitch:82.50057951344645,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9973413892394234},{time:67.16909999990463,note:"E2",pitch:82.39760093678892,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9971237185182957},{time:67.19569999980926,note:"E2",pitch:82.43037571733419,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981421178349024},{time:67.2215,note:"E2",pitch:82.45631669142293,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9951691846660253},{time:67.24719999980927,note:"E2",pitch:82.36565137790522,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975802694185063},{time:67.27219999980926,note:"E2",pitch:82.51958262000632,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945926932366689},{time:67.29869999980926,note:"E2",pitch:82.32509321820429,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9967354722994486},{time:67.32539999985696,note:"E2",pitch:82.47060097806876,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9962938374637247},{time:67.367,note:"E2",pitch:82.31956736541261,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975601331315005},{time:67.39859999990463,note:"E2",pitch:82.38636617746283,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.993887796696896},{time:67.429,note:"E2",pitch:82.38852268321054,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952155331890395},{time:67.45509999990463,note:"E2",pitch:82.31591314936644,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9948747019045214},{time:67.481,note:"E2",pitch:82.3568683469327,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9963962540338969},{time:67.506,note:"E2",pitch:82.38382646091098,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9946360388396727},{time:67.53259999990463,note:"E2",pitch:82.26520901963605,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9966447481227334},{time:67.55859999990463,note:"E2",pitch:82.43536322721265,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944467422680532},{time:67.58439999985696,note:"E2",pitch:82.20015614066774,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9964306594809074},{time:67.60939999985695,note:"E2",pitch:82.4265709129976,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9906128270628614},{time:67.63619999980926,note:"E2",pitch:82.22318072586111,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9981426995435214},{time:67.66229999995231,note:"E2",pitch:82.77923978884753,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.8495277596919308},{time:67.68819999980927,note:"F2",pitch:87.51037468156026,noteMidi:41,actualMidi:41.04,actualMidiChroma:5.039999999999999,centsOffset:3.9999999999999147,clarity:.5766176539268351},{time:67.714,note:"E2",pitch:84.06364586674744,noteMidi:40,actualMidi:40.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.6729198147862974},{time:67.73979999995231,note:"E2",pitch:82.43256083476417,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.959838044891896},{time:67.76589999985696,note:"E2",pitch:82.47697029820554,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9912504596392608},{time:67.79209999990464,note:"E2",pitch:82.35149708938928,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9953203057186073},{time:67.8175,note:"E2",pitch:82.41047299761011,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9937924599835526},{time:67.84439999985695,note:"E2",pitch:82.35092514440818,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9943042031539591},{time:67.8705,note:"E2",pitch:82.42027369596201,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9935449683480044},{time:67.89689999985696,note:"E2",pitch:82.3590639191281,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9927182423289764},{time:67.92279999995232,note:"E2",pitch:82.41029985810147,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940738796511113},{time:67.94889999985695,note:"E2",pitch:82.38478799824045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9909649129914584},{time:67.97509999990463,note:"E2",pitch:82.35665009384778,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9955498329186838},{time:68.00179999995231,note:"E2",pitch:82.39215571946396,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9857347569930823},{time:68.02819999980926,note:"E2",pitch:82.34106252350983,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.995201418557258},{time:68.05479999995232,note:"E2",pitch:82.4008666778096,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9907329826935296},{time:68.08129999995232,note:"E2",pitch:82.36702365346666,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9956178347181748},{time:68.10819999980926,note:"E2",pitch:82.43086156660029,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9914170937068718},{time:68.13389999985695,note:"E2",pitch:82.36830079928004,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9947798091030506},{time:68.15989999985695,note:"E2",pitch:82.44705281507188,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.989029538857892},{time:68.18629999995231,note:"E2",pitch:82.39130704416543,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9923910317798885},{time:68.21259999990463,note:"E2",pitch:82.4554776393791,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9831784311940481},{time:68.23869999980927,note:"E2",pitch:82.45120584105655,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9736027107900043},{time:68.26519999980927,note:"E2",pitch:82.49984015974059,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9863251036962737},{time:68.30739999985695,note:"E2",pitch:82.44261771530432,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9880400184407421},{time:68.34089999985694,note:"E2",pitch:82.3861380289082,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9931712702771875},{time:68.37169999980927,note:"E2",pitch:82.4313391263533,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9927170540582892},{time:68.39759999990463,note:"E2",pitch:82.41902013841496,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9918017240647572},{time:68.4235,note:"E2",pitch:83.18945731712415,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.8471586133749298},{time:68.44959999990463,note:"F2",pitch:89.27141982013418,noteMidi:41,actualMidi:41.39,actualMidiChroma:5.390000000000001,centsOffset:39.00000000000006,clarity:.7939084522656579},{time:68.476,note:"A3",pitch:223.56502511908496,noteMidi:57,actualMidi:57.28,actualMidiChroma:9.280000000000001,centsOffset:28.000000000000114,clarity:.23194061597463733},{time:68.50239999985695,note:"E2",pitch:82.72304954319137,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.7444575933080557},{time:68.5285,note:"E2",pitch:82.4850107157395,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9501172500875725},{time:68.5545,note:"E2",pitch:82.42534195395034,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9953329375076407},{time:68.58079999995232,note:"E2",pitch:82.43689845818382,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959688796449484},{time:68.60709999990463,note:"E2",pitch:82.428647955897,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9927318325635497},{time:68.6335,note:"E2",pitch:82.43928101674578,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9967422247403306},{time:68.65979999995231,note:"E2",pitch:82.41957593686095,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9955005751065755},{time:68.68609999990463,note:"E2",pitch:82.39749035962197,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973641590991633},{time:68.71229999995232,note:"E2",pitch:82.43113652992183,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9912005775643422},{time:68.7385,note:"E2",pitch:82.36463226204856,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965756531354089},{time:68.76429999995231,note:"E2",pitch:82.39783728587231,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9923731297737532},{time:68.7905,note:"E2",pitch:82.33029020073107,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9961747477229608},{time:68.81709999990463,note:"E2",pitch:82.37098549060745,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9948567602469751},{time:68.84339999985694,note:"E2",pitch:82.31788345246082,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9953528320730101},{time:68.8695,note:"E2",pitch:82.37330677441285,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9943562861201087},{time:68.89589999985695,note:"E2",pitch:82.31722236947667,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9943945617775398},{time:68.92219999980927,note:"E2",pitch:82.39266072270495,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9938181544583102},{time:68.94839999985695,note:"E2",pitch:82.36240928562741,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9906735850932904},{time:68.97459999990463,note:"E2",pitch:82.37123394340763,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.995241836140039},{time:69.00139999985694,note:"E2",pitch:82.33491784585841,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9921389420121045},{time:69.02819999980926,note:"E2",pitch:82.37281212834714,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9958428403952695},{time:69.05479999995232,note:"E2",pitch:82.36747728273393,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9936656899471501},{time:69.08169999980926,note:"E2",pitch:82.36243436109913,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9963970779453177},{time:69.12479999995232,note:"E2",pitch:82.32660434715653,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9927816466532136},{time:69.15829999995232,note:"E2",pitch:82.38673498707239,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940051509967276},{time:69.18779999995232,note:"E2",pitch:82.32489615174887,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.994489827188545},{time:69.21529999995232,note:"E2",pitch:82.37586452553013,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9939842793630476},{time:69.24189999985695,note:"E2",pitch:82.30991759924706,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9955228382474672},{time:69.26809999990463,note:"E2",pitch:82.38560042983792,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9928816914558354},{time:69.29419999980927,note:"E2",pitch:82.29720211460382,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9921081225936348},{time:69.32009999990463,note:"E2",pitch:82.3734350175703,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9924810385148817},{time:69.34729999995231,note:"E2",pitch:82.35071796969751,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9905187012807062},{time:69.37359999990463,note:"E2",pitch:82.37857857670616,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.993378651239567},{time:69.39979999995232,note:"E2",pitch:82.34082009035339,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9911331834620825},{time:69.426,note:"E2",pitch:82.61325431292539,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9301838933231608},{time:69.45239999985695,note:"F2",pitch:88.44465982127204,noteMidi:41,actualMidi:41.22,actualMidiChroma:5.219999999999999,centsOffset:21.999999999999886,clarity:.39742007402585955},{time:69.47969999980927,note:"G2",pitch:96.16448881599558,noteMidi:43,actualMidi:42.67,actualMidiChroma:6.670000000000002,centsOffset:-32.99999999999983,clarity:.18558182415535462},{time:69.50609999990463,note:"E2",pitch:83.06221481323776,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.8073113790544539},{time:69.53259999990463,note:"E2",pitch:82.60119777217938,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9563383858015584},{time:69.5585,note:"E2",pitch:82.4822857658961,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9841957079017902},{time:69.5845,note:"E2",pitch:82.48023267136709,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9867511880154609},{time:69.61209999990463,note:"E2",pitch:82.45683127072566,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9906048994868399},{time:69.6385,note:"E2",pitch:82.43990875094492,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9878730228336678},{time:69.6645,note:"E2",pitch:82.43778479661341,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9905496863027565},{time:69.69069999980927,note:"E2",pitch:82.40043035530859,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9837653533159312},{time:69.71679999995231,note:"E2",pitch:82.33637239822093,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9900983331024236},{time:69.7445,note:"E2",pitch:82.3928902684589,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9849015161341015},{time:69.771,note:"E2",pitch:82.36454809514443,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.990111002195647},{time:69.79789999985695,note:"E2",pitch:82.4135055405154,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9890847559122449},{time:69.82409999990463,note:"E2",pitch:82.31966355620268,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9895547721527009},{time:69.85059999990463,note:"E2",pitch:82.42894793290122,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9869969519990605},{time:69.87809999990463,note:"E2",pitch:82.29055838175685,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.987385522218517},{time:69.90569999980927,note:"E2",pitch:82.44245625197867,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9857548021138314},{time:69.9335,note:"E2",pitch:82.29019163350456,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9862328908791653},{time:69.9615,note:"E2",pitch:82.44994529924466,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9884559160352921},{time:69.99009999990463,note:"E2",pitch:82.27618900609156,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9899003103134163},{time:70.03579999995232,note:"E2",pitch:82.40453956763045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9843462137705785},{time:70.069,note:"E2",pitch:82.45301834156886,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.989979724991926},{time:70.09979999995231,note:"E2",pitch:82.31904530018636,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9923108088473924},{time:70.12739999985695,note:"E2",pitch:82.40517447759079,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9927767014916782},{time:70.15539999985695,note:"E2",pitch:82.34852999222247,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9912258181551437},{time:70.1835,note:"E2",pitch:82.45155248789341,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9929899385461027},{time:70.21179999995232,note:"E2",pitch:82.31421581613209,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9918743520113509},{time:70.23969999980926,note:"E2",pitch:82.4278435021353,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9949800087768637},{time:70.26759999990463,note:"E2",pitch:82.32511515643408,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9965332117832872},{time:70.29539999985695,note:"E2",pitch:82.39866199622283,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964215178418101},{time:70.32309999990463,note:"E2",pitch:82.32818667428528,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9970023924860811},{time:70.35119999980927,note:"E2",pitch:82.37964056968818,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988125636542975},{time:70.37869999980927,note:"E2",pitch:82.33840858689395,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965644429207572},{time:70.4065,note:"E2",pitch:82.38102726016311,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993314544511378},{time:70.43429999995232,note:"E2",pitch:82.34766243619123,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995010462332488},{time:70.4625,note:"E2",pitch:82.35945829143435,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997986636215899},{time:70.49039999985695,note:"E2",pitch:82.3449123542824,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997444686441526},{time:70.51819999980927,note:"E2",pitch:82.34369872763149,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998669166595562},{time:70.54589999985694,note:"E2",pitch:82.36010183037534,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999739390258199},{time:70.57369999980926,note:"E2",pitch:82.37579601188247,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998893217386922},{time:70.60159999990464,note:"E2",pitch:82.37932533257975,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998184094429377},{time:70.62979999995231,note:"E2",pitch:82.37243322940513,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998839002623185},{time:70.65789999985695,note:"E2",pitch:82.46051799165939,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9558498868710075},{time:70.68569999980926,note:"E2",pitch:83.59188615444664,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.8085188527595264},{time:70.71369999980926,note:"F2",pitch:89.18326810449862,noteMidi:41,actualMidi:41.37,actualMidiChroma:5.369999999999997,centsOffset:36.999999999999744,clarity:.8990466342320218},{time:70.74159999990464,note:"B2",pitch:122.97253423946107,noteMidi:47,actualMidi:46.93,actualMidiChroma:10.93,centsOffset:-7.000000000000028,clarity:.3677742588861541},{time:70.7695,note:"E2",pitch:82.70508168233565,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9037444704107429},{time:70.79689999985695,note:"E2",pitch:82.66107442553054,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9694544778859324},{time:70.82469999980927,note:"E2",pitch:82.4287208977717,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9915594785940129},{time:70.85279999995231,note:"E2",pitch:82.38598164987667,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9882533403086597},{time:70.88029999995231,note:"E2",pitch:82.39377721538222,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9931144181605589},{time:70.90869999980927,note:"E2",pitch:82.37454554886538,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9896163464289316},{time:70.95369999980926,note:"E2",pitch:82.4584844435961,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9900521636009216},{time:70.98639999985694,note:"E2",pitch:82.377116814274,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9938896008410154},{time:71.018,note:"E2",pitch:82.44118700681818,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9886246453420426},{time:71.04619999980926,note:"E2",pitch:82.35224126331381,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9944962763477179},{time:71.07409999990463,note:"E2",pitch:82.42668935734463,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9867618502752009},{time:71.10219999980926,note:"E2",pitch:82.38589958876763,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9934726933787204},{time:71.13069999980927,note:"E2",pitch:82.4041923647424,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9890655677902629},{time:71.15929999995231,note:"E2",pitch:82.37042531440014,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.991311180859114},{time:71.1875,note:"E2",pitch:82.40089956786859,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9793198878545724},{time:71.21539999985694,note:"E2",pitch:82.37153946301612,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9924148606923922},{time:71.2435,note:"E2",pitch:82.41355354268231,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.967978395981433},{time:71.27139999985695,note:"E2",pitch:82.44369122151845,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9926113070645641},{time:71.29939999985694,note:"E2",pitch:82.30020964607426,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9914160053517236},{time:71.327,note:"E2",pitch:82.36672725366297,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9930010498641764},{time:71.35459999990464,note:"E2",pitch:82.47694493069517,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9886729825605585},{time:71.38259999990463,note:"E2",pitch:82.37423672652564,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979001717804721},{time:71.41059999990463,note:"E2",pitch:82.4155136013669,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968144441559446},{time:71.43859999990464,note:"E2",pitch:82.37223707025369,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988287841083832},{time:71.4665,note:"E2",pitch:82.43181726814565,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9992060927614403},{time:71.49479999995232,note:"E2",pitch:82.40905107420062,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9995777710587106},{time:71.523,note:"E2",pitch:82.40278337852233,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997076830441927},{time:71.55089999985695,note:"E2",pitch:82.35942132210586,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998593312775768},{time:71.57869999980926,note:"E2",pitch:82.36365202280972,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998078113450362},{time:71.60669999980927,note:"E2",pitch:82.3804624497764,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998759351408637},{time:71.63469999980927,note:"E2",pitch:82.36717912489507,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999267827233211},{time:71.66259999990463,note:"E2",pitch:82.36297610514565,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999320118341899},{time:71.69039999985695,note:"E2",pitch:82.35601994429877,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999505046341142},{time:71.7185,note:"E2",pitch:82.35530005685548,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999455923697553},{time:71.7465,note:"E2",pitch:82.36027684041213,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999948228777157},{time:71.77439999985695,note:"E2",pitch:82.37628687173925,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999472707372234},{time:71.80219999980926,note:"E2",pitch:82.35621878994186,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999560681872168},{time:71.83019999980927,note:"E2",pitch:82.35111377351859,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999507580896534},{time:71.87539999985695,note:"E2",pitch:82.33718584815051,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999611497060386},{time:71.90879999995232,note:"E2",pitch:82.34748269415131,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999603817326346},{time:71.93989999985695,note:"E2",pitch:82.33007516298059,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999619153137189},{time:71.96809999990464,note:"E2",pitch:82.32505456661023,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999661399907893},{time:71.99609999990463,note:"E2",pitch:82.32335709720877,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999534930137628},{time:72.02439999985695,note:"E2",pitch:82.40932341809597,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.8972250467376739},{time:72.05289999985695,note:"G0",pitch:24.71605952403583,noteMidi:19,actualMidi:19.15,actualMidiChroma:7.149999999999999,centsOffset:14.999999999999858,clarity:.38630681595032},{time:72.081,note:"E2",pitch:82.54364345491597,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.8406108284841878},{time:72.10929999995231,note:"E2",pitch:82.43296245318287,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9802500447674731},{time:72.13759999990464,note:"E2",pitch:82.4271615593277,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9941882826235542},{time:72.16579999995231,note:"E2",pitch:82.32548003774919,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9949419251448859},{time:72.19409999990464,note:"E2",pitch:82.44166611384108,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9825967264186772},{time:72.22189999985694,note:"E2",pitch:82.40507627301031,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9938752198297891},{time:72.24989999985695,note:"E2",pitch:82.43792343138884,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9860922399171841},{time:72.27779999995232,note:"E2",pitch:82.39246307904773,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951978662739265},{time:72.30559999990463,note:"E2",pitch:82.43783557707359,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9899140904576882},{time:72.33329999995232,note:"E2",pitch:82.41397477141334,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9935425043434947},{time:72.36119999980926,note:"E2",pitch:82.47296369875383,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9851591868650047},{time:72.389,note:"E2",pitch:82.40766480287444,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951175018993723},{time:72.41709999990464,note:"E2",pitch:82.49037048341667,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9865866256266571},{time:72.44479999995232,note:"E2",pitch:82.34677349942488,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9932024945826754},{time:72.4725,note:"E2",pitch:82.49960664824496,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.986088001070641},{time:72.50079999995232,note:"E2",pitch:82.37680492286091,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9927391897146975},{time:72.52869999980926,note:"E2",pitch:82.4700099001872,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9902007459797915},{time:72.55689999985695,note:"E2",pitch:82.25813889085003,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9930193418856135},{time:72.58459999990463,note:"E2",pitch:82.48002557158995,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9880826187780798},{time:72.61279999995232,note:"E2",pitch:82.29971170874425,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9932543005879779},{time:72.64069999980927,note:"E2",pitch:82.47623137391689,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.987210269995515},{time:72.66889999985695,note:"E2",pitch:82.25779810457486,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9922325950763451},{time:72.69779999995231,note:"E2",pitch:82.48977510185209,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9903684448080838},{time:72.72609999990463,note:"E2",pitch:82.24148886606658,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9928654098184495},{time:72.7545,note:"E2",pitch:82.66813383006533,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9700272034936717},{time:72.80059999990463,note:"E2",pitch:83.2591876151722,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9268025155163286},{time:72.83519999980926,note:"E2",pitch:84.31874351354018,noteMidi:40,actualMidi:40.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9652600425985831},{time:72.86679999995232,note:"F2",pitch:85.76314146889614,noteMidi:41,actualMidi:40.69,actualMidiChroma:4.689999999999998,centsOffset:-31.000000000000227,clarity:.9738684682471224},{time:72.89369999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:72.92079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:72.94809999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:72.97519999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.00319999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.03059999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.05839999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.08589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.1135,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.14089999985696,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.16839999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.1955,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.223,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.2505,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.27769999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.30489999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.33229999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.35969999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.38689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.41409999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.44119999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.46859999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.49579999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.52319999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.55069999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.57819999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.60539999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.6325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.66039999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.70479999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.73939999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.77079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.7985,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.82539999985696,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.8525,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.87959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.90709999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.93409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.96129999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.98889999985695,note:"G0",pitch:24.40172431627982,noteMidi:19,actualMidi:18.93,actualMidiChroma:6.93,centsOffset:-7.000000000000028,clarity:.0024795603146685607},{time:74.01689999985695,note:"C3",pitch:130.1364414860251,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.7811231455440719},{time:74.04439999985695,note:"C3",pitch:130.3549945055354,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9997016626049842},{time:74.07189999985695,note:"C3",pitch:130.35972722613084,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9997733887954467},{time:74.09959999990463,note:"C3",pitch:130.39319465877642,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9996679716266996},{time:74.12709999990463,note:"C3",pitch:130.44179301685287,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9995467561144409},{time:74.15439999985695,note:"C3",pitch:130.54583649733152,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9995158265398913},{time:74.1815,note:"C3",pitch:130.5798532889092,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.999535261922432},{time:74.20879999995232,note:"C3",pitch:130.64971863202135,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994558370470408},{time:74.236,note:"C3",pitch:130.8125769393012,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9994929267752646},{time:74.263,note:"C3",pitch:131.03456286648668,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9994175313678966},{time:74.29,note:"C3",pitch:131.1290739669394,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.99953573371414},{time:74.31729999995231,note:"C3",pitch:131.20598983866654,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9995937107697763},{time:74.34439999985695,note:"C3",pitch:131.5733890012716,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999527380043375},{time:74.37139999985695,note:"C3",pitch:131.8353693688385,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.999552402159857},{time:74.39869999980927,note:"C3",pitch:131.9911052150588,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9995395467772603},{time:74.426,note:"C3",pitch:132.50901630428632,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9992823852981836},{time:74.45319999980927,note:"C3",pitch:133.32486256806197,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9991401168901533},{time:74.48039999985694,note:"C3",pitch:134.12289409055595,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9991593992165306},{time:74.508,note:"C3",pitch:134.359159684644,noteMidi:48,actualMidi:48.46,actualMidiChroma:.46000000000000085,centsOffset:46.000000000000085,clarity:.9990784193759339},{time:74.53559999990463,note:"Db3",pitch:135.06365159659555,noteMidi:49,actualMidi:48.55,actualMidiChroma:.5499999999999972,centsOffset:-45.000000000000284,clarity:.9991011729383565},{time:74.56259999990463,note:"Db3",pitch:136.02752054298847,noteMidi:49,actualMidi:48.68,actualMidiChroma:.6799999999999997,centsOffset:-32.00000000000003,clarity:.999216295602583},{time:74.59,note:"Db3",pitch:137.23827392311827,noteMidi:49,actualMidi:48.83,actualMidiChroma:.8299999999999983,centsOffset:-17.00000000000017,clarity:.9993086251765604},{time:74.61779999995231,note:"Db3",pitch:137.93427897207923,noteMidi:49,actualMidi:48.92,actualMidiChroma:.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9988245486320295},{time:74.661,note:"Db3",pitch:140.02107546400632,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9987374981061024},{time:74.69529999995231,note:"Db3",pitch:141.36037739730386,noteMidi:49,actualMidi:49.34,actualMidiChroma:1.3400000000000034,centsOffset:34.00000000000034,clarity:.9973562500446214},{time:74.72869999980927,note:"D3",pitch:142.87921533170433,noteMidi:50,actualMidi:49.53,actualMidiChroma:1.5300000000000011,centsOffset:-46.999999999999886,clarity:.9978764300849043},{time:74.75709999990464,note:"D3",pitch:143.3407438867229,noteMidi:50,actualMidi:49.58,actualMidiChroma:1.5799999999999983,centsOffset:-42.00000000000017,clarity:.9977965386847423},{time:74.785,note:"D3",pitch:143.35168764487122,noteMidi:50,actualMidi:49.58,actualMidiChroma:1.5799999999999983,centsOffset:-42.00000000000017,clarity:.999208908990795},{time:74.81259999990463,note:"D3",pitch:143.51996406523037,noteMidi:50,actualMidi:49.6,actualMidiChroma:1.6000000000000014,centsOffset:-39.99999999999986,clarity:.9975489987489823},{time:74.84039999985694,note:"D3",pitch:143.41980689238605,noteMidi:50,actualMidi:49.59,actualMidiChroma:1.5900000000000034,centsOffset:-40.99999999999966,clarity:.9986697220482448},{time:74.86769999980926,note:"D3",pitch:142.91222875782643,noteMidi:50,actualMidi:49.53,actualMidiChroma:1.5300000000000011,centsOffset:-46.999999999999886,clarity:.9984041707843652},{time:74.89529999995231,note:"Db3",pitch:140.2637577505204,noteMidi:49,actualMidi:49.21,actualMidiChroma:1.2100000000000009,centsOffset:21.000000000000085,clarity:.9961816634763387},{time:74.923,note:"Db3",pitch:137.9781275605608,noteMidi:49,actualMidi:48.92,actualMidiChroma:.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9977958541260072},{time:74.95029999995232,note:"Db3",pitch:136.66854354769083,noteMidi:49,actualMidi:48.76,actualMidiChroma:.759999999999998,centsOffset:-24.0000000000002,clarity:.9980099394652555},{time:74.97789999985694,note:"Db3",pitch:135.58339291485882,noteMidi:49,actualMidi:48.62,actualMidiChroma:.6199999999999974,centsOffset:-38.000000000000256,clarity:.9979813321494859},{time:75.00579999995232,note:"C3",pitch:134.18924304156147,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9982265692692742},{time:75.03379999995232,note:"C3",pitch:133.44204882365207,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9982467381692501},{time:75.06159999990463,note:"C3",pitch:132.7570804841408,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9981130434936745},{time:75.08929999995232,note:"C3",pitch:132.25349989658932,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9980347757500247},{time:75.11709999990464,note:"C3",pitch:132.00844031987467,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9978204838533138},{time:75.1445,note:"C3",pitch:131.3357776267379,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9975882658905526},{time:75.172,note:"C3",pitch:131.36793924106786,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9979498530946032},{time:75.19929999995232,note:"C3",pitch:131.14900422113544,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9977461728529349},{time:75.2265,note:"C3",pitch:130.8790299664779,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9975669813926729},{time:75.25369999980927,note:"C3",pitch:130.62580177456735,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975583482982131},{time:75.281,note:"C3",pitch:130.26691976133603,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9971198081806207},{time:75.30839999985695,note:"C3",pitch:130.18721296152876,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9974448639224249},{time:75.33569999980926,note:"C3",pitch:130.1249847115752,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9968791895180722},{time:75.36309999990463,note:"C3",pitch:129.9471625516687,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9968910778195301},{time:75.39059999990464,note:"C3",pitch:129.87517932079317,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9967737452243277},{time:75.41789999985694,note:"C3",pitch:129.76805073864008,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9971229314855208},{time:75.446,note:"C3",pitch:129.7430584402438,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9966798538373887},{time:75.47389999985695,note:"C3",pitch:129.76908046631058,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9902814614099107},{time:75.50179999995231,note:"C3",pitch:128.85581231213254,noteMidi:48,actualMidi:47.74,actualMidiChroma:11.740000000000002,centsOffset:-25.9999999999998,clarity:.8678887518288931},{time:75.52929999995231,note:"D3",pitch:146.89617621741255,noteMidi:50,actualMidi:50.01,actualMidiChroma:2.009999999999998,centsOffset:.999999999999801,clarity:.3469336757549133},{time:75.55689999985695,note:"E4",pitch:320.4811420323986,noteMidi:64,actualMidi:63.51,actualMidiChroma:3.509999999999998,centsOffset:-49.0000000000002,clarity:.5230640395360666},{time:75.58539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.62919999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.66419999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.696,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.72339999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.75079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.77839999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.80589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.83329999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.86089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.88829999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.91589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.94359999990463,note:"Db3",pitch:137.12757359265908,noteMidi:49,actualMidi:48.82,actualMidiChroma:.8200000000000003,centsOffset:-17.99999999999997,clarity:.017290512267051472},{time:75.97119999980927,note:"C3",pitch:129.97846208350447,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.8803844376069563},{time:75.99909999990463,note:"C3",pitch:130.48218499186956,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9997164837922554},{time:76.02709999990464,note:"C3",pitch:130.4901015463832,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9997388837108758},{time:76.05519999980926,note:"C3",pitch:130.51670422270416,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9996903094444249},{time:76.08309999990463,note:"C3",pitch:130.53507545817035,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9996586793583901},{time:76.11109999990464,note:"C3",pitch:130.46529823814788,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996431987959085},{time:76.13859999990463,note:"C3",pitch:130.35403452305405,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9996462348417445},{time:76.16589999985695,note:"C3",pitch:130.44085446348348,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996805271421536},{time:76.1935,note:"C3",pitch:130.87022826724902,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9997370702088695},{time:76.22079999995232,note:"C3",pitch:131.27385753473837,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9997831423408883},{time:76.2485,note:"C3",pitch:131.47990380571343,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9997753957359805},{time:76.27569999980926,note:"C3",pitch:131.7460313888682,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9998080163722598},{time:76.30309999990463,note:"C3",pitch:132.16284273440922,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9997854196747831},{time:76.3305,note:"C3",pitch:132.70621941029006,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997048052687312},{time:76.35779999995232,note:"C3",pitch:133.03347722401665,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9997266211665519},{time:76.38519999980926,note:"C3",pitch:133.53770197083304,noteMidi:48,actualMidi:48.36,actualMidiChroma:.35999999999999943,centsOffset:35.99999999999994,clarity:.9997356525075283},{time:76.41279999995231,note:"C3",pitch:134.1042533354951,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9997191485659407},{time:76.44019999980927,note:"Db3",pitch:134.91357949967278,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9996143905984916},{time:76.46779999995232,note:"Db3",pitch:135.43815397112107,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9995170667993278},{time:76.49529999995232,note:"Db3",pitch:135.68384311137345,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9996603725576669},{time:76.52389999985695,note:"Db3",pitch:135.46998112592712,noteMidi:49,actualMidi:48.61,actualMidiChroma:.6099999999999994,centsOffset:-39.00000000000006,clarity:.99973316649465},{time:76.55269999980926,note:"C3",pitch:134.08033801499428,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9990519935376874},{time:76.5985,note:"C3",pitch:131.65883420630684,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9995566099786224},{time:76.63419999980927,note:"C3",pitch:130.81716920583114,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9996562066768071},{time:76.66739999985695,note:"C3",pitch:130.54163362757774,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9996094569047109},{time:76.69519999980926,note:"C3",pitch:130.47076330689734,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9995659525295189},{time:76.72319999980927,note:"C3",pitch:130.44593274328494,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9995611270207618},{time:76.75089999985695,note:"C3",pitch:130.4888009839236,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9994588255344787},{time:76.77889999985695,note:"C3",pitch:130.6176388698313,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993333343085773},{time:76.80669999980927,note:"C3",pitch:130.87365546223043,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9992514375164099},{time:76.8345,note:"C3",pitch:131.57233453719246,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999151934281489},{time:76.86269999980927,note:"C3",pitch:132.183923616285,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9991429547284625},{time:76.89069999980927,note:"C3",pitch:132.7277997874191,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9990871032102184},{time:76.919,note:"C3",pitch:133.1040662614129,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9991285704629362},{time:76.947,note:"C3",pitch:133.11033761567128,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9991746303068254},{time:76.97519999980926,note:"C3",pitch:133.0550785893541,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9991218036530576},{time:77.00359999990464,note:"C3",pitch:132.58906579820163,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9989070062036127},{time:77.03169999980926,note:"C3",pitch:131.43051790604127,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9985114453187727},{time:77.06009999990464,note:"C3",pitch:130.68819402373205,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9986559968684539},{time:77.0885,note:"C3",pitch:130.47904918733562,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9984315536035737},{time:77.11659999990464,note:"C3",pitch:130.41485010562272,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9984119816985988},{time:77.14419999980926,note:"C3",pitch:130.37609427150346,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9981612482663067},{time:77.17179999995231,note:"C3",pitch:130.53957283474716,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9982900361203662},{time:77.19979999995232,note:"C3",pitch:130.89988843759508,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9980106671223119},{time:77.22729999995232,note:"C3",pitch:131.4114680294554,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9982118210947206},{time:77.25509999990463,note:"C3",pitch:131.90125278839352,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9985088056371438},{time:77.28269999980927,note:"C3",pitch:132.08581783581118,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9983040666605092},{time:77.31059999990464,note:"C3",pitch:132.06644215055422,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9981931780831523},{time:77.3385,note:"C3",pitch:132.019346211736,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9981483570964365},{time:77.36619999980927,note:"C3",pitch:131.60904986858304,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9982084047737381},{time:77.39429999995231,note:"C3",pitch:130.7835555881623,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9979285723122899},{time:77.42229999995232,note:"C3",pitch:130.20979120820905,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9973177102505346},{time:77.44989999985695,note:"C3",pitch:130.04475076813975,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9974256048869776},{time:77.47769999980926,note:"C3",pitch:130.13382080828524,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9973062123579197},{time:77.5055,note:"C3",pitch:130.24863978740757,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.997446715367353},{time:77.53439999985694,note:"C3",pitch:130.62472643959137,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9973628977862745},{time:77.57979999995231,note:"C3",pitch:131.5970662079883,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9972972683710104},{time:77.61419999980926,note:"C3",pitch:131.94053700288137,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.997571351539964},{time:77.647,note:"C3",pitch:132.14076651620584,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9976894783100079},{time:77.67509999990463,note:"C3",pitch:132.20463191649992,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9977773521805098},{time:77.70289999985695,note:"C3",pitch:131.60582121486163,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9976338764559358},{time:77.7305,note:"C3",pitch:130.68289310296197,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975355545027078},{time:77.7585,note:"C3",pitch:130.28963037818352,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9972178176284601},{time:77.78669999980926,note:"C3",pitch:130.06898473351848,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9968409252299573},{time:77.81489999985695,note:"C3",pitch:130.1892482698399,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9968239437182298},{time:77.843,note:"C3",pitch:130.36736128742456,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.997323777944505},{time:77.87119999980926,note:"C3",pitch:130.94840995611904,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9973230474030643},{time:77.89919999980927,note:"C3",pitch:131.52087501851813,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9974546970235814},{time:77.92729999995231,note:"C3",pitch:132.03492979047758,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9977705038707718},{time:77.95539999985695,note:"C3",pitch:132.21462999608784,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9973902564374555},{time:77.98379999995231,note:"C3",pitch:131.8592825583887,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9971490809070112},{time:78.01239999985695,note:"C3",pitch:130.89783171549828,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9974649147925128},{time:78.04089999985695,note:"C3",pitch:130.3577970781534,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.998115209753994},{time:78.06929999995232,note:"C3",pitch:130.25090333718802,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9979807553636704},{time:78.09769999980927,note:"C3",pitch:130.2037557890306,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9975811255236522},{time:78.12629999995232,note:"C3",pitch:130.39079988840837,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9977946771509494},{time:78.15469999980927,note:"C3",pitch:130.92904563075786,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9981236836944376},{time:78.183,note:"C3",pitch:131.7806361281761,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9980772451042519},{time:78.21119999980927,note:"C3",pitch:132.22757441217158,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9981351660889786},{time:78.23929999995232,note:"C3",pitch:132.20272018749927,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9983183732331469},{time:78.2675,note:"C3",pitch:132.1110334985013,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9975698071137344},{time:78.29569999980926,note:"C3",pitch:131.5068493150685,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9970072507858276},{time:78.324,note:"C3",pitch:130.44125470085865,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9968892207823998},{time:78.35189999985695,note:"C3",pitch:130.08832015505584,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9969902024042412},{time:78.37979999995231,note:"C3",pitch:129.99634019312518,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9964547678983138},{time:78.40769999980927,note:"C3",pitch:130.13538375563257,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9965289722178277},{time:78.43569999980926,note:"C3",pitch:130.73975800447775,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9959937360855307},{time:78.46369999980926,note:"C3",pitch:131.74094172947375,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9965706528590665},{time:78.49259999990463,note:"C3",pitch:132.38512668946058,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.994911201639745},{time:78.53789999985695,note:"C3",pitch:132.55680170805857,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9949042914767077},{time:78.57229999995232,note:"C3",pitch:132.0817789035668,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9943894472108852},{time:78.60479999995232,note:"C3",pitch:131.275892581275,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9928538647982705},{time:78.6335,note:"C3",pitch:130.5197757484671,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9885967793658956},{time:78.66209999990463,note:"C3",pitch:130.30996978700296,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9933103523353957},{time:78.69029999995232,note:"C3",pitch:130.46351772714334,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9933263712595704},{time:78.71859999990463,note:"C3",pitch:130.54796057696902,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9973140458509384},{time:78.74709999990463,note:"C3",pitch:131.498144694371,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9989065849955523},{time:78.77529999995231,note:"C3",pitch:132.4892972081337,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9996298898813301},{time:78.80379999995232,note:"C3",pitch:133.42812019769022,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9997407696331067},{time:78.83239999985695,note:"C3",pitch:133.97775928612398,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.9998669228997912},{time:78.86079999995232,note:"C3",pitch:133.9659765913497,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.9998709598192015},{time:78.88939999985695,note:"C3",pitch:133.388774855017,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9996910403900543},{time:78.91789999985694,note:"C3",pitch:132.34290498014795,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9991038479033882},{time:78.94619999980927,note:"C3",pitch:130.93168172041226,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.999227628138744},{time:78.97469999980926,note:"C3",pitch:130.49784553221153,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9998682210185628},{time:79.0035,note:"C3",pitch:130.44611812176692,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9998951891823502},{time:79.03209999990463,note:"C3",pitch:130.47276215849254,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9998218514862174},{time:79.06079999995232,note:"C3",pitch:131.3386259636343,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9995750510426262},{time:79.08919999980927,note:"C3",pitch:132.48384906887134,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9994540190448937},{time:79.11759999990463,note:"C3",pitch:132.8737662218173,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9998104760552486},{time:79.14579999995232,note:"C3",pitch:133.22871450631305,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9998116873653267},{time:79.17379999995232,note:"C3",pitch:133.36250486192142,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9998620753952316},{time:79.20179999995231,note:"C3",pitch:133.27154519624153,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9998617660763003},{time:79.23,note:"C3",pitch:132.6471581547279,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999499984649578},{time:79.25809999990463,note:"C3",pitch:131.51162921862328,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9985835838855017},{time:79.28629999995232,note:"C3",pitch:130.5218723077897,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9990386565350242},{time:79.31459999990463,note:"C3",pitch:129.93142049824266,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9996100847914171},{time:79.343,note:"C3",pitch:130.01842080518972,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9998239060238276},{time:79.37129999995231,note:"C3",pitch:130.22750677441263,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.999621120879862},{time:79.3995,note:"C3",pitch:130.943596436129,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9991483788731905},{time:79.42789999985695,note:"C3",pitch:131.4586694649226,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9992982618315516},{time:79.457,note:"C3",pitch:132.72903510116677,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9994599141768354},{time:79.5095,note:"C3",pitch:133.16449367548395,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999210091849342},{time:79.54559999990464,note:"C3",pitch:132.1851570922144,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9990946228963153},{time:79.5785,note:"C3",pitch:130.8493809653112,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.999459886787804},{time:79.60709999990463,note:"C3",pitch:130.2374768666117,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9997065308716273},{time:79.63529999995231,note:"C3",pitch:130.23499205206696,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999023921145174},{time:79.66379999995232,note:"C3",pitch:130.21688392293152,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999499204853919},{time:79.69239999985695,note:"C3",pitch:130.53973906611066,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9997878258880384},{time:79.721,note:"C3",pitch:131.12126983367665,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9996313893503626},{time:79.74969999980927,note:"C3",pitch:131.67622204711571,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9996766656070442},{time:79.77859999990463,note:"C3",pitch:132.26131577522636,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9997050630210467},{time:79.80729999995232,note:"C3",pitch:133.1364347803019,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9998749027090028},{time:79.83559999990463,note:"C3",pitch:133.30631213809144,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9999387283465424},{time:79.864,note:"C3",pitch:133.1471748236014,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999019222444971},{time:79.89259999990463,note:"C3",pitch:132.40151485573733,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.999587398383607},{time:79.92119999980926,note:"C3",pitch:130.97387552126867,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9985849164735754},{time:79.94969999980927,note:"C3",pitch:130.27759173221236,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9993725279489318},{time:79.97819999980926,note:"C3",pitch:129.86303713427495,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9997931650451264},{time:80.00709999990464,note:"C3",pitch:130.03722445688874,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9998945030391972},{time:80.036,note:"C3",pitch:130.2439938549255,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9996489258755936},{time:80.065,note:"C3",pitch:131.0156362009115,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.999220384125497},{time:80.09409999990463,note:"C3",pitch:132.03673166752336,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.999143229569512},{time:80.12279999995232,note:"C3",pitch:133.07157554321955,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9992362320380828},{time:80.15159999990463,note:"C3",pitch:133.44134757893644,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9998026484120786},{time:80.18019999980926,note:"C3",pitch:133.28561083411714,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9998283725526704},{time:80.20869999980927,note:"C3",pitch:132.49359117101167,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9987515842624077},{time:80.23729999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.26579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.29439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.32279999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.35139999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.37979999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.40839999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.4375,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.48309999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.5185,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.551,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.57959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.608,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.63669999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.66509999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.69379999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.72219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.75109999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.78,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.80839999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.83689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.86519999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.89339999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.922,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.95059999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.97919999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.00819999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.03709999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.06579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.09439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.12309999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.15189999985695,note:"C3",pitch:129.43072464596725,noteMidi:48,actualMidi:47.82,actualMidiChroma:11.82,centsOffset:-17.99999999999997,clarity:.5732621903954076},{time:81.18039999985695,note:"C3",pitch:129.55318324079823,noteMidi:48,actualMidi:47.83,actualMidiChroma:11.829999999999998,centsOffset:-17.00000000000017,clarity:.9888406156879341},{time:81.20919999980927,note:"C3",pitch:130.07367094943055,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9997888431261615},{time:81.23789999985695,note:"C3",pitch:130.08153590166813,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.99978739036127},{time:81.26639999985694,note:"C3",pitch:130.0763604820101,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9996963692585794},{time:81.29519999980927,note:"C3",pitch:130.053456091158,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9995874910935498},{time:81.32359999990463,note:"C3",pitch:129.98029284084868,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9996306108227486},{time:81.35209999990464,note:"C3",pitch:129.9588908254307,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.999738048868462},{time:81.38089999985695,note:"C3",pitch:130.12952482689374,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9998301240236067},{time:81.41009999990463,note:"C3",pitch:130.3665538285122,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998548787546113},{time:81.45659999990463,note:"C3",pitch:130.6883533100996,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997789373344936},{time:81.49719999980927,note:"C3",pitch:131.01000784937622,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998054007397812},{time:81.53039999985695,note:"C3",pitch:131.19322026377966,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9999134551443447},{time:81.55889999985695,note:"C3",pitch:131.3294368504119,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9999171726975575},{time:81.58759999990463,note:"C3",pitch:131.40739568282712,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999254012329075},{time:81.61629999995232,note:"C3",pitch:131.44591378519806,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999191043363815},{time:81.645,note:"C3",pitch:131.4171553910885,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9998921734599158},{time:81.6735,note:"C3",pitch:131.32268349558805,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9999366653852633},{time:81.70219999980927,note:"C3",pitch:131.04707321881966,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998635789492418},{time:81.73129999995231,note:"C3",pitch:130.75393405033537,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9998820027009359},{time:81.76009999990464,note:"C3",pitch:130.44868686727713,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9999100771009104},{time:81.78889999985695,note:"C3",pitch:130.10779681112402,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9999345849489103},{time:81.81769999980926,note:"C3",pitch:129.99211340961767,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9999410135206297},{time:81.84629999995232,note:"C3",pitch:129.8854867410476,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999546247701794},{time:81.87529999995232,note:"C3",pitch:129.8379902736612,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999618912313828},{time:81.90439999985695,note:"C3",pitch:129.87486844530665,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999599527822092},{time:81.93359999990463,note:"C3",pitch:129.91373557065924,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999652732096749},{time:81.96209999990464,note:"C3",pitch:129.9975514036747,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9999716478117513},{time:81.99109999990463,note:"C3",pitch:130.31858387806125,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9999537117910258},{time:82.02039999985695,note:"C3",pitch:130.88134740533758,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9999290930457541},{time:82.0495,note:"C3",pitch:131.39864495836696,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999575070125033},{time:82.07809999990464,note:"C3",pitch:131.59660341288176,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999704847294382},{time:82.10669999980927,note:"C3",pitch:131.82792158357896,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999015942045766},{time:82.13509999990464,note:"C3",pitch:131.9650826852782,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998428131227435},{time:82.164,note:"C3",pitch:131.82378937176944,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999125263483535},{time:82.19259999990463,note:"C3",pitch:131.04144108672114,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9996623842481185},{time:82.22109999990464,note:"C3",pitch:130.24570157542377,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9998922770814147},{time:82.24959999990463,note:"C3",pitch:130.03535607643775,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.999954203239497},{time:82.27839999985694,note:"C3",pitch:130.0550049287606,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999634031332363},{time:82.30679999995232,note:"C3",pitch:130.1986407471304,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999467665490549},{time:82.33589999985695,note:"C3",pitch:130.6871529419585,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998491957318372},{time:82.36479999995231,note:"C3",pitch:131.7009103486414,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995439811687881},{time:82.39469999980926,note:"C3",pitch:132.8662983307451,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9997153722591321},{time:82.442,note:"C3",pitch:133.1658736426278,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9995386352051092},{time:82.48179999995232,note:"C3",pitch:131.66288360331686,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.999327532738338},{time:82.51489999985695,note:"C3",pitch:130.49264239710664,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.999858718970998},{time:82.54369999980926,note:"C3",pitch:130.0817458542944,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999336603501625},{time:82.57289999985694,note:"C3",pitch:130.01618793473997,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9999557477132051},{time:82.6015,note:"C3",pitch:130.1098107722208,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9999381895581259},{time:82.63029999995231,note:"C3",pitch:130.5097034812004,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9999148034430156},{time:82.65929999995231,note:"C3",pitch:131.31532972018152,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9997720344241152},{time:82.68829999995232,note:"C3",pitch:131.8969264654777,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9997764525039834},{time:82.71719999980927,note:"C3",pitch:132.55121396321059,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9999097023598331},{time:82.74629999995231,note:"C3",pitch:132.68892102906622,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997534422225627},{time:82.7755,note:"C3",pitch:132.48728590270872,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9994491099658127},{time:82.8045,note:"C3",pitch:131.38239085807612,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9995156230600486},{time:82.8335,note:"C3",pitch:130.24902315543326,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9996910943519346},{time:82.86259999990463,note:"C3",pitch:129.8296432786506,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9998465948480231},{time:82.89139999985694,note:"C3",pitch:129.8406577865055,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.999890359834982},{time:82.92019999980927,note:"C3",pitch:130.01344552346094,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.999699848172444},{time:82.949,note:"C3",pitch:130.25296987753413,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9992657281651418},{time:82.97789999985694,note:"C3",pitch:130.67646569187855,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996384407720527},{time:83.00709999990464,note:"C3",pitch:131.53122247995532,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9998257524778218},{time:83.0365,note:"C3",pitch:131.9432693669085,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.999904263558701},{time:83.066,note:"C3",pitch:132.12597132450443,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999676654568681},{time:83.09489999985695,note:"C3",pitch:131.79058328960332,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9997889575926564},{time:83.12419999980926,note:"C3",pitch:130.70267120376582,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9995397660315675},{time:83.15309999990463,note:"C3",pitch:129.93685041131474,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9998308193286682},{time:83.18189999985695,note:"C3",pitch:129.7892688841941,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9999166130605808},{time:83.21079999995231,note:"C3",pitch:129.88661088847059,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999548758314027},{time:83.2395,note:"C3",pitch:130.0332471370521,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999365535649396},{time:83.26839999985695,note:"C3",pitch:130.23200740659837,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.999852815837766},{time:83.29729999995232,note:"C3",pitch:131.02218229516245,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998618083498059},{time:83.326,note:"C3",pitch:131.72431956063988,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995638047794309},{time:83.35529999995232,note:"C3",pitch:132.1848252579758,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9997678404324475},{time:83.38569999980926,note:"C3",pitch:132.33473341382378,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999478540254003},{time:83.43169999980927,note:"C3",pitch:131.54439194617902,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999624766163631},{time:83.467,note:"C3",pitch:130.2910058431589,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9996375519295739},{time:83.50019999980927,note:"C3",pitch:129.86181004957174,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.999895562683534},{time:83.529,note:"C3",pitch:129.85866463836908,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999030316586648},{time:83.55809999990463,note:"C3",pitch:129.91898291996227,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999210669130711},{time:83.58719999980927,note:"C3",pitch:130.19149064529645,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9997082405078359},{time:83.61579999995232,note:"C3",pitch:131.2650513494843,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9993273332703083},{time:83.64509999990463,note:"C3",pitch:132.1946520562132,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9994727150979124},{time:83.67419999980926,note:"C3",pitch:132.8273597192754,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.999235483579703},{time:83.70329999995232,note:"C3",pitch:132.81310972477146,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9986651785151608},{time:83.73279999995232,note:"C3",pitch:132.53944017688283,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9977867232244115},{time:83.76179999995232,note:"C3",pitch:131.57798535514644,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9970423423292374},{time:83.79109999990463,note:"C3",pitch:130.46966918311426,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9971165061639979},{time:83.82069999980926,note:"C3",pitch:129.54513289676214,noteMidi:48,actualMidi:47.83,actualMidiChroma:11.829999999999998,centsOffset:-17.00000000000017,clarity:.9974241748331067},{time:83.85,note:"C3",pitch:129.5824079405555,noteMidi:48,actualMidi:47.84,actualMidiChroma:11.840000000000003,centsOffset:-15.999999999999659,clarity:.9977742509724905},{time:83.8795,note:"C3",pitch:129.67416905046449,noteMidi:48,actualMidi:47.85,actualMidiChroma:11.850000000000001,centsOffset:-14.999999999999858,clarity:.9975974722180929},{time:83.9085,note:"C3",pitch:129.7378282208796,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9971636105677604},{time:83.938,note:"C3",pitch:130.32946214351765,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9971998334812611},{time:83.96739999985695,note:"C3",pitch:131.54051694974547,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9959080110879874},{time:83.99689999985695,note:"C3",pitch:132.43910581941958,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9947632314895039},{time:84.02629999995231,note:"C3",pitch:132.3211517794819,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9946299031081018},{time:84.05579999995231,note:"C3",pitch:132.16321404628502,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9950754952220571},{time:84.0855,note:"C3",pitch:131.13193285149552,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.995435943338709},{time:84.11509999990463,note:"C3",pitch:130.1127680162053,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9949801622379617},{time:84.14429999995231,note:"C3",pitch:129.5218369460415,noteMidi:48,actualMidi:47.83,actualMidiChroma:11.829999999999998,centsOffset:-17.00000000000017,clarity:.995929468309118},{time:84.17409999990463,note:"C3",pitch:129.594961415978,noteMidi:48,actualMidi:47.84,actualMidiChroma:11.840000000000003,centsOffset:-15.999999999999659,clarity:.9963969270892257},{time:84.20379999995231,note:"C3",pitch:129.8211268901263,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9964231599918953},{time:84.23329999995232,note:"C3",pitch:130.0423063614795,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9950817301263761},{time:84.26259999990464,note:"C3",pitch:130.78981050964632,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9938588144143843},{time:84.29209999990464,note:"C3",pitch:131.6165336827071,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9944653712777161},{time:84.3215,note:"C3",pitch:132.59913308170113,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9964317148089776},{time:84.35139999985695,note:"C3",pitch:133.1664555307044,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.997281850786063},{time:84.39929999995232,note:"C3",pitch:132.51404213573755,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9994129513729568},{time:84.43429999995232,note:"C3",pitch:130.76076622057064,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9994946166468246},{time:84.46909999990463,note:"C3",pitch:130.1003040719027,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9995630201102088},{time:84.501,note:"C3",pitch:129.74082543045483,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9998165146340163},{time:84.53019999980927,note:"C3",pitch:129.8806986613202,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9998472068735573},{time:84.5595,note:"C3",pitch:130.0997428274062,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9996765378274901},{time:84.58889999985695,note:"C3",pitch:130.58170281931126,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993095847385653},{time:84.61819999980926,note:"C3",pitch:131.20824375597604,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9989910849044605},{time:84.64729999995231,note:"C3",pitch:131.8497437529174,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998120411628832},{time:84.67669999980926,note:"C3",pitch:132.22189316442163,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9999113650314158},{time:84.70589999985695,note:"C3",pitch:132.26538560782313,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.999956828870566},{time:84.73519999980927,note:"C3",pitch:131.8065878814358,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9996657686235793},{time:84.76439999985695,note:"C3",pitch:130.61184406369784,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993624093165074},{time:84.79379999995231,note:"C3",pitch:130.09412298084257,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9994082109790234},{time:84.82289999985694,note:"C3",pitch:129.8475874980886,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9998298760800104},{time:84.8525,note:"C3",pitch:129.80583629163658,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999390520840201},{time:84.88189999985696,note:"C3",pitch:129.83471870504889,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999326736694378},{time:84.91159999990464,note:"C3",pitch:130.07396402411908,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9997003155424764},{time:84.94089999985695,note:"C3",pitch:130.41649544344799,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9991525849095417},{time:84.97029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:84.99979999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.0295,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.05929999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.08889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.1185,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.14769999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.17689999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.20579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.23469999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.26389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.29279999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.3225,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.35219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.4005,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.43539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.46959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.50089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.5305,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.56,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.58919999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.6185,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.64769999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.677,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.70639999985696,note:"C3",pitch:130.1690476109279,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.8895896676950272},{time:85.73579999995232,note:"C3",pitch:130.0447488864072,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9994082721074733},{time:85.7655,note:"C3",pitch:129.97955966602026,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.999605488925063},{time:85.79509999990464,note:"C3",pitch:130.02409329558841,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9994246232234083},{time:85.8245,note:"C3",pitch:129.98185518407868,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9989771235694072},{time:85.854,note:"C3",pitch:129.93103805043464,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9994661511115339},{time:85.88359999990463,note:"C3",pitch:129.88009380632874,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999560455895466},{time:85.91309999990463,note:"C3",pitch:129.9053837933992,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999575085956014},{time:85.94229999995231,note:"C3",pitch:130.05978519024137,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9995863098107698},{time:85.97159999990463,note:"C3",pitch:130.25061840948533,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9994315454677647},{time:86.00119999980926,note:"C3",pitch:130.44190133839587,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9994957006109715},{time:86.03089999985694,note:"C3",pitch:130.69774130222746,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996507470551634},{time:86.06059999990464,note:"C3",pitch:131.10804747326034,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9997474096322669},{time:86.09019999980927,note:"C3",pitch:131.47031690538202,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9997452957194071},{time:86.12179999995232,note:"C3",pitch:131.86516352489943,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998020046029978},{time:86.15209999990464,note:"C3",pitch:132.12098093697304,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9996236191300838},{time:86.1835,note:"C3",pitch:132.1503723137375,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9991243290541512},{time:86.213,note:"C3",pitch:132.07950083625204,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998238998383648},{time:86.24239999985694,note:"C3",pitch:132.0588900345859,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9997713650460867},{time:86.2725,note:"C3",pitch:132.09914680936487,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9996050749008134},{time:86.32089999985695,note:"C3",pitch:132.09293719867608,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9993307886757634},{time:86.35609999990463,note:"C3",pitch:132.0359644989856,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9998221096123565},{time:86.38919999980926,note:"C3",pitch:131.41855890109557,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.999750094148748},{time:86.42039999985695,note:"C3",pitch:130.7733987896671,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9996436572493863},{time:86.44989999985695,note:"C3",pitch:130.35664363592795,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9997142027406163},{time:86.4795,note:"C3",pitch:130.16034524810308,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9996939806911271},{time:86.50909999990463,note:"C3",pitch:129.9540998667191,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9996767550668544},{time:86.54059999990463,note:"C3",pitch:129.86146517280486,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9996410212643845},{time:86.571,note:"C3",pitch:129.87256325745545,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9993754076221855},{time:86.60239999985694,note:"C3",pitch:129.93566088690355,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9994686704525186},{time:86.63209999990464,note:"C3",pitch:129.9516470481635,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9988978564678774},{time:86.66189999985694,note:"C3",pitch:129.96265058905675,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9988950641732011},{time:86.69389999985695,note:"C3",pitch:129.90317958747053,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999030654819169},{time:86.72439999985694,note:"C3",pitch:129.89280464344247,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9993308961701608},{time:86.756,note:"C3",pitch:129.8156884121825,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9992274362228777},{time:86.78569999980927,note:"C3",pitch:129.79514573316902,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9990029441356967},{time:86.81539999985695,note:"C3",pitch:129.78149429111912,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9994317606810412},{time:86.84769999980927,note:"C3",pitch:129.78920891825885,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.999136238100963},{time:86.87819999980927,note:"C3",pitch:129.7825225272838,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9987636176145465},{time:86.90969999980926,note:"C3",pitch:131.90509874219197,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9596373990694538},{time:86.93959999990463,note:"Db3",pitch:140.95898506014944,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.6653973985282189},{time:86.96909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:87.00109999990464,note:"Bb3",pitch:229.6926223113825,noteMidi:58,actualMidi:57.75,actualMidiChroma:9.75,centsOffset:-25,clarity:.02321549320556171},{time:87.03189999985695,note:"C3",pitch:130.16854278276128,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9142103459962101},{time:87.06389999985694,note:"C3",pitch:129.92065244141577,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9983322057047843},{time:87.09369999980926,note:"C3",pitch:129.91104242929626,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9991079448103903},{time:87.12359999990463,note:"C3",pitch:129.86444750205467,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9991013105883297},{time:87.15559999990464,note:"C3",pitch:129.87269423401742,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9990480988629926},{time:87.18659999990463,note:"C3",pitch:129.83333081751783,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9991925963847308},{time:87.23659999990463,note:"C3",pitch:129.9226890005417,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999086955984982},{time:87.27159999990464,note:"C3",pitch:129.98215446701425,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9993114338523732},{time:87.30479999995232,note:"C3",pitch:130.0003947363846,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9993490928387629},{time:87.33579999995231,note:"C3",pitch:130.1916454067025,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9993937610540407},{time:87.36539999985695,note:"C3",pitch:130.33951650264865,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9992658085148491},{time:87.39519999980926,note:"C3",pitch:130.48933280032315,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9993967526763221},{time:87.42669999980926,note:"C3",pitch:130.63614316055646,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994374996685345},{time:87.45729999995231,note:"C3",pitch:130.74026309001806,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.999414982895054},{time:87.489,note:"C3",pitch:131.0544904137235,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9995516235146873},{time:87.51869999980927,note:"C3",pitch:131.2165293998828,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9994517782143753},{time:87.54879999995232,note:"C3",pitch:131.51906098784187,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9996715879618456},{time:87.58019999980927,note:"C3",pitch:131.61878675711282,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.99947580975196},{time:87.61059999990464,note:"C3",pitch:131.74772182981505,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9992688563788299},{time:87.642,note:"C3",pitch:131.9337619358694,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9987819038032377},{time:87.67169999980926,note:"C3",pitch:132.11761216337504,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.999074752562624},{time:87.7035,note:"C3",pitch:132.39626201220253,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9994072771072382},{time:87.73409999990463,note:"C3",pitch:132.58356452733506,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9993286937189758},{time:87.7655,note:"C3",pitch:132.83703665515287,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.999289541059742},{time:87.79509999990464,note:"C3",pitch:133.22157905398427,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9992411342469616},{time:87.82689999985695,note:"C3",pitch:133.2867344209024,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9990868713898102},{time:87.85779999995232,note:"C3",pitch:133.42334504355327,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9990669627153288},{time:87.88919999980926,note:"C3",pitch:133.67150542804043,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9990866843765609},{time:87.91909999990463,note:"C3",pitch:133.7892086706009,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9989910559760204},{time:87.95109999990463,note:"C3",pitch:133.8845041050841,noteMidi:48,actualMidi:48.4,actualMidiChroma:.3999999999999986,centsOffset:39.99999999999986,clarity:.9988899914925611},{time:87.98169999980927,note:"C3",pitch:133.96058209062457,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.998711320673582},{time:88.01389999985695,note:"C3",pitch:134.06786169470456,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9986348832863108},{time:88.04429999995232,note:"C3",pitch:134.0763915880449,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9987611212977612},{time:88.07669999980926,note:"C3",pitch:134.08068106123378,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9988914198910592},{time:88.11059999990464,note:"C3",pitch:134.03008115953713,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.9981159782774789},{time:88.15879999995232,note:"C3",pitch:134.04230126801536,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.9974200649274714},{time:88.19459999990464,note:"C3",pitch:134.0614159247188,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.9977735240370613},{time:88.23029999995232,note:"C3",pitch:134.07759517849243,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9984739427217768},{time:88.26009999990464,note:"C3",pitch:133.9421987794151,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.998560953240542},{time:88.292,note:"C3",pitch:133.98520638626385,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.99893445749046},{time:88.32439999985695,note:"C3",pitch:134.06796682494436,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9976688805186704},{time:88.35409999990463,note:"C3",pitch:134.13606442046623,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9941796198967552},{time:88.38619999980926,note:"C3",pitch:133.63341608147311,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9890342372065355},{time:88.41819999980926,note:"C3",pitch:133.6817547231097,noteMidi:48,actualMidi:48.38,actualMidiChroma:.38000000000000256,centsOffset:38.000000000000256,clarity:.9841264392286817},{time:88.448,note:"C3",pitch:133.76326429090935,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9824464402159876},{time:88.47989999985695,note:"C3",pitch:133.64930849487652,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9858034133594771},{time:88.5105,note:"C3",pitch:133.5142278989381,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9903085593102787},{time:88.54229999995232,note:"C3",pitch:133.32326917896583,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9926325060191274},{time:88.57209999990464,note:"C3",pitch:133.1522494309247,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9949989417994871},{time:88.60409999990463,note:"C3",pitch:133.0912510327167,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9968410550606812},{time:88.63609999990463,note:"C3",pitch:133.15475779210593,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9985707573037779},{time:88.66609999990463,note:"C3",pitch:133.1860991960026,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9994908722334266},{time:88.69789999985694,note:"C3",pitch:133.19383862608444,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999110403961211},{time:88.73029999995232,note:"C3",pitch:133.15650960700177,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999503727742294},{time:88.76009999990464,note:"C3",pitch:133.14367980909321,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999499603137245},{time:88.792,note:"C3",pitch:133.11752247436036,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9999555097022323},{time:88.82419999980927,note:"C3",pitch:133.06684436967504,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9999572952869364},{time:88.85429999995232,note:"C3",pitch:133.0017377446405,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9999613178805298},{time:88.88629999995231,note:"C3",pitch:132.88483875465192,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999599156663663},{time:88.91869999980926,note:"C3",pitch:132.79356281547155,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9999671111449473},{time:88.956,note:"C3",pitch:132.74664613609846,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999643362909723},{time:88.99529999995232,note:"C3",pitch:132.58575097777438,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9999529977475774},{time:89.02809999990463,note:"C3",pitch:132.45454785910258,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999534453081296},{time:89.059,note:"C3",pitch:132.15941982070052,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999445017859863},{time:89.11059999990464,note:"C3",pitch:132.01584237647532,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9999635593256642},{time:89.14709999990463,note:"C3",pitch:131.8909237364915,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9999561395044942},{time:89.18259999990464,note:"C3",pitch:131.81063482667514,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999561266568158},{time:89.2125,note:"C3",pitch:131.81969503945828,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999595613231911},{time:89.2445,note:"C3",pitch:131.75159065246075,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999958408851942},{time:89.27689999985695,note:"C3",pitch:131.6798074696672,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999553931770073},{time:89.30689999985695,note:"C3",pitch:131.70582683782052,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999601491697021},{time:89.33929999995232,note:"C3",pitch:131.57968710470342,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999561602517844},{time:89.37179999995232,note:"C3",pitch:131.44924503278412,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999456536296769},{time:89.40169999980927,note:"C3",pitch:131.3037633804693,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9999564679478112},{time:89.43379999995231,note:"C3",pitch:131.1789783000874,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9999593108498068},{time:89.46669999980926,note:"C3",pitch:131.1839121113604,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9999538979293945},{time:89.49679999995232,note:"C3",pitch:131.0726067155647,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9999513253776477},{time:89.52859999990463,note:"C3",pitch:130.9799920788173,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999581091610885},{time:89.561,note:"C3",pitch:131.0005107738657,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999575956675102},{time:89.59129999995231,note:"C3",pitch:130.9419490366748,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999552591507879},{time:89.62329999995232,note:"C3",pitch:130.90205157087104,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9999546966905548},{time:89.656,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.686,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.71809999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.75039999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.78029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.812,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.84479999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.87509999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.90719999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.94009999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.97059999990464,note:"C3",pitch:131.7163516122135,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.8550514318343261},{time:90.00309999990463,note:"C3",pitch:131.25275899631913,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9905657251899953},{time:90.03629999995232,note:"C3",pitch:131.10067265316056,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.999428387666562},{time:90.06789999985695,note:"C3",pitch:131.09588594336807,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9994096103587964},{time:90.1195,note:"C3",pitch:131.07724499383914,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9992789707806438},{time:90.15829999995232,note:"C3",pitch:131.13393592082087,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9994055430508269},{time:90.192,note:"C3",pitch:131.1213677454967,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9991555289836818},{time:90.225,note:"C3",pitch:131.10795498746955,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9991354082174659},{time:90.25769999980926,note:"C3",pitch:131.161613442175,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9992968105487385},{time:90.28759999990463,note:"C3",pitch:131.30190873023113,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9993555296266585},{time:90.31959999990464,note:"C3",pitch:131.58099586314978,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9994314207312911},{time:90.35179999995232,note:"C3",pitch:131.7758022791766,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9991700099769041},{time:90.382,note:"C3",pitch:131.86763218024942,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9993057850311544},{time:90.41379999995232,note:"C3",pitch:131.95499290336,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9994259260453617},{time:90.44629999995232,note:"C3",pitch:132.153638670821,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.999546634380124},{time:90.47889999985695,note:"C3",pitch:132.42227746879567,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.999290806150313},{time:90.51109999990463,note:"C3",pitch:132.44296355450302,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9993722700995384},{time:90.54139999985695,note:"C3",pitch:132.46134886991317,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9992006039682124},{time:90.57309999990463,note:"C3",pitch:132.60899181452112,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9992157144783036},{time:90.60579999995231,note:"C3",pitch:132.74172017306518,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9991059477407198},{time:90.636,note:"C3",pitch:132.8087014140001,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9989572697533511},{time:90.668,note:"C3",pitch:132.79176687458352,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9990295169865959},{time:90.7005,note:"C3",pitch:132.7738325226028,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9984534456605516},{time:90.73279999995232,note:"C3",pitch:132.7883229648017,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9980525438282548},{time:90.76839999985695,note:"C3",pitch:132.83194695100528,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9978896060112952},{time:90.80669999980927,note:"C3",pitch:132.79881931930427,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9980209602360723},{time:90.84,note:"C3",pitch:132.740726026717,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9973231230922011},{time:90.8735,note:"C3",pitch:132.81812413985656,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9967333360474129},{time:90.90679999995231,note:"C3",pitch:132.64329949067937,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9963684228830729},{time:90.93959999990463,note:"C3",pitch:132.67708524595423,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.995323632817879},{time:90.97219999980926,note:"C3",pitch:132.73603526104674,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9947693373563204},{time:91.00489999985695,note:"C3",pitch:132.78628184803807,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9947868029422722},{time:91.03719999980926,note:"C3",pitch:132.8133224009139,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9948914204649384},{time:91.07009999990463,note:"C3",pitch:132.80681103925414,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9953242421594695},{time:91.10329999995231,note:"C3",pitch:132.73378763052315,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9967482259413245},{time:91.1555,note:"C3",pitch:132.81806444271436,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9962118238342796},{time:91.194,note:"C3",pitch:132.74327437408414,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9947957038987099},{time:91.23139999985695,note:"C3",pitch:132.8508911840896,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9919391144222729},{time:91.26419999980926,note:"C3",pitch:132.6033813462675,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9901852755331788},{time:91.29659999990463,note:"C3",pitch:132.63775254680056,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9912067462516774},{time:91.32929999995231,note:"C3",pitch:132.65881857912,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9920255956352761},{time:91.36179999995231,note:"C3",pitch:132.70948731496424,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9929622873752102},{time:91.39459999990463,note:"C3",pitch:132.82230409395345,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9939570120582175},{time:91.42679999995232,note:"C3",pitch:132.6629742161958,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9954231575187471},{time:91.45919999980927,note:"C3",pitch:132.6807117295336,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9962879314698156},{time:91.49139999985695,note:"C3",pitch:132.62663445066704,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9971658290576499},{time:91.524,note:"C3",pitch:132.4649631096671,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9982245960237393},{time:91.55659999990463,note:"C3",pitch:132.2319909874056,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.999246299746261},{time:91.58939999985695,note:"C3",pitch:131.9416875631291,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9996762363958602},{time:91.622,note:"C3",pitch:131.81733043822103,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9993523018263382},{time:91.65489999985695,note:"C3",pitch:131.50094172481914,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9990392828205543},{time:91.68719999980927,note:"C3",pitch:131.30822772610884,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9990942810159211},{time:91.71969999980927,note:"C3",pitch:131.14241513129235,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9997496956648355},{time:91.7525,note:"C3",pitch:130.99202417114734,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999218478444085},{time:91.78529999995231,note:"C3",pitch:130.8819132440457,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9999332773446632},{time:91.81819999980927,note:"C3",pitch:130.8327944772433,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9999249039121452},{time:91.851,note:"C3",pitch:130.74640332038496,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9999358060561576},{time:91.88369999980927,note:"C3",pitch:130.65445798637452,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999443660409106},{time:91.91629999995232,note:"C3",pitch:130.70517277622366,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9999644123106286},{time:91.94939999985695,note:"C3",pitch:130.66762363175914,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999542690451442},{time:91.9825,note:"C3",pitch:130.60467245886457,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999505353864571},{time:92.01539999985695,note:"C3",pitch:130.60687338308682,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999534028513466},{time:92.0485,note:"C3",pitch:130.57154160798663,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999569895445255},{time:92.0815,note:"C3",pitch:130.59334515059723,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.999956057534714},{time:92.11439999985694,note:"C3",pitch:130.6178721558263,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.999959830267251},{time:92.14769999980926,note:"C3",pitch:130.60654451139058,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999551951091377},{time:92.20109999990463,note:"C3",pitch:130.72633459899586,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9999347822592455},{time:92.2415,note:"C3",pitch:131.0572211433047,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998808436633873},{time:92.27819999980926,note:"C3",pitch:131.31900463701388,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9999229498099851},{time:92.3105,note:"C3",pitch:131.45353671520905,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999365846663899},{time:92.34359999990463,note:"C3",pitch:131.60833581074525,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999243329582583},{time:92.377,note:"C3",pitch:131.89017836787426,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.999925873888099},{time:92.40969999980926,note:"C3",pitch:132.19996095898918,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999479798542481},{time:92.44239999985695,note:"C3",pitch:132.3670308591541,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.999939425083344},{time:92.475,note:"C3",pitch:132.476573272638,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.999943776995952},{time:92.50739999985694,note:"C3",pitch:132.66147128967557,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9999436321707265},{time:92.54069999980926,note:"C3",pitch:132.808704,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9999500154886398},{time:92.57379999995231,note:"C3",pitch:132.89711722401634,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999482882952968},{time:92.6065,note:"C3",pitch:132.94485033246332,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999529511958585},{time:92.63939999985695,note:"C3",pitch:132.94922198856653,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999494737640156},{time:92.67239999985695,note:"C3",pitch:132.95113853922166,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999413641523383},{time:92.70539999985695,note:"C3",pitch:132.92363510593097,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999415899871096},{time:92.73789999985695,note:"C3",pitch:132.90534128124142,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.999930791548092},{time:92.771,note:"C3",pitch:132.29718181637296,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9996404562005061},{time:92.80389999985695,note:"C3",pitch:131.71619163129168,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9997959644096319},{time:92.8375,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.87019999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.90339999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.93659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.96919999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.00189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.03529999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.06879999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.10219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.15429999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.19359999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.22969999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.26269999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.29509999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.32809999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.3605,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.39319999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.42569999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.45889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.49139999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.52459999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.55779999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.59059999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.6235,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.65609999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.68909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.72179999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.754,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.78689999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.8195,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.85219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.88459999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.91729999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.94979999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.983,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:94.01609999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:94.04969999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:94.08309999990463,note:"D3",pitch:142.69587717205525,noteMidi:50,actualMidi:49.51,actualMidiChroma:1.509999999999998,centsOffset:-49.0000000000002,clarity:.29788434170722766},{time:94.1165,note:"C3",pitch:130.00190845824918,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9167995073213149},{time:94.15019999980926,note:"C3",pitch:130.46211389867682,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996291399078743},{time:94.20309999990464,note:"C3",pitch:131.16928926452735,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9997391388233225},{time:94.24379999995232,note:"C3",pitch:131.9618310954713,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9996525811257513},{time:94.281,note:"C3",pitch:132.8780326550286,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9997556087465611},{time:94.31409999990463,note:"C3",pitch:133.11982841648717,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.999873141571257},{time:94.34689999985694,note:"C3",pitch:132.7300778482547,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9995971740839416},{time:94.37929999995232,note:"C3",pitch:130.84544886920366,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9995197656497545},{time:94.412,note:"C3",pitch:130.11723571475775,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9998647744667544},{time:94.44509999990463,note:"C3",pitch:130.13073643162045,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.999907710368138},{time:94.47779999995231,note:"C3",pitch:130.35864842077956,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998332423950309},{time:94.511,note:"C3",pitch:131.83322371702496,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9993050421230834},{time:94.54369999980926,note:"C3",pitch:133.31926421160492,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9997564558990142},{time:94.57669999980926,note:"C3",pitch:133.62270311079152,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.999912903453879},{time:94.60939999985695,note:"C3",pitch:132.4538172250806,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9993553028734183},{time:94.64239999985695,note:"C3",pitch:130.900359524163,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9996713906350223},{time:94.67519999980927,note:"C3",pitch:129.94860329369126,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9998858464137328},{time:94.70859999990464,note:"C3",pitch:129.92412691953328,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999299275747724},{time:94.74169999980927,note:"C3",pitch:130.43467655182675,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9998407364025361},{time:94.77479999995232,note:"C3",pitch:131.28948451542794,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9997139767666496},{time:94.80789999985694,note:"C3",pitch:132.19626903628554,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.999882965082957},{time:94.84129999995231,note:"C3",pitch:132.40469935061716,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.999952310660678},{time:94.87439999985695,note:"C3",pitch:132.0793719656844,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998707769317505},{time:94.90729999995231,note:"C3",pitch:130.96525855304316,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9997072274382539},{time:94.94009999990463,note:"C3",pitch:130.11620647733372,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9998541028812689},{time:94.97329999995232,note:"C3",pitch:130.10968364740114,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9995510029202492},{time:95.00629999995232,note:"C3",pitch:130.46593266398642,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996078112554869},{time:95.03969999980926,note:"C3",pitch:132.0134917788598,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9994391561508174},{time:95.07309999990463,note:"C3",pitch:133.19567584070833,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9998292611251891},{time:95.107,note:"C3",pitch:133.6804102716013,noteMidi:48,actualMidi:48.38,actualMidiChroma:.38000000000000256,centsOffset:38.000000000000256,clarity:.999961914788841},{time:95.15929999995231,note:"C3",pitch:132.445139449053,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9995771014578985},{time:95.19859999990463,note:"C3",pitch:130.99807088973577,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9996672986125361},{time:95.23389999985694,note:"C3",pitch:130.17365515926133,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.999922602441579},{time:95.268,note:"C3",pitch:130.21960218540613,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999264712541525},{time:95.30079999995232,note:"C3",pitch:130.96381951813203,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9996973741577762},{time:95.33419999980927,note:"C3",pitch:132.43720449924913,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9994116394164898},{time:95.367,note:"C3",pitch:133.66413358349158,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9997951639588614},{time:95.39989999985696,note:"C3",pitch:134.25501315071034,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9999788883390224},{time:95.43259999990464,note:"C3",pitch:134.14186833058218,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9999477047021088},{time:95.46539999985694,note:"C3",pitch:132.84715689662713,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9990598931665353},{time:95.49819999980926,note:"C3",pitch:130.82480061572468,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9993676410699877},{time:95.53129999995231,note:"C3",pitch:129.97402797726946,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9997051541956772},{time:95.56469999980926,note:"C3",pitch:130.08934188087022,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.999783500722458},{time:95.59739999985695,note:"C3",pitch:130.87511884585177,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9995290380223061},{time:95.63009999990463,note:"C3",pitch:132.99220402169274,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9995579254222591},{time:95.66319999980927,note:"C3",pitch:134.44425002521857,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.9996869620308928},{time:95.696,note:"Db3",pitch:134.81597071748288,noteMidi:49,actualMidi:48.52,actualMidiChroma:.5200000000000031,centsOffset:-47.99999999999969,clarity:.9999017296423673},{time:95.7295,note:"C3",pitch:134.15176677627286,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9995942406910387},{time:95.76239999985695,note:"C3",pitch:132.21261185870472,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9988988313268514},{time:95.7955,note:"C3",pitch:130.63428982614863,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996736533216755},{time:95.82839999985696,note:"C3",pitch:130.0771982499312,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9998348036719698},{time:95.86169999980926,note:"C3",pitch:130.03975272775529,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999364862095952},{time:95.89519999980926,note:"C3",pitch:130.38702697817743,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998337124702168},{time:95.92859999990463,note:"C3",pitch:131.27868533541687,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9996186650232985},{time:95.96179999995232,note:"C3",pitch:132.36717454920043,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.999909962988287},{time:95.99529999995232,note:"C3",pitch:132.66922623478507,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9999651202234183},{time:96.02819999980926,note:"C3",pitch:132.5079215306246,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9998808642182553},{time:96.06169999980926,note:"C3",pitch:131.03394137100676,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9996627109406333},{time:96.095,note:"C3",pitch:130.37901022852822,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998426523637356},{time:96.12889999985696,note:"C3",pitch:130.28848562957455,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9999216691358832},{time:96.18279999995232,note:"C3",pitch:130.76861852344462,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9995799906989795},{time:96.22319999980927,note:"C3",pitch:132.22371356796603,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9992780923190345},{time:96.26009999990464,note:"C3",pitch:132.93632319716036,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9996124776109028},{time:96.29319999980926,note:"C3",pitch:132.66185583498452,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9992941887295999},{time:96.32589999985694,note:"C3",pitch:131.6602521200452,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9992602632515002},{time:96.35909999990463,note:"C3",pitch:130.3916085512424,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9980280182692205},{time:96.3925,note:"C3",pitch:130.28674373217234,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.997390697751424},{time:96.42539999985695,note:"C3",pitch:130.4889918148063,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9957800339751266},{time:96.45869999980927,note:"C3",pitch:131.2620738602981,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9984161066779507},{time:96.491,note:"C3",pitch:131.77616596835628,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.997796236448238},{time:96.52429999995232,note:"C3",pitch:131.7160988367074,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9962135371360539},{time:96.557,note:"C3",pitch:131.67651653525397,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9946504971685535},{time:96.591,note:"C3",pitch:131.2022299448803,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9914982300385979},{time:96.62379999995231,note:"C3",pitch:130.30145617239472,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9945327634060845},{time:96.657,note:"C3",pitch:128.31727572011937,noteMidi:48,actualMidi:47.67,actualMidiChroma:11.670000000000002,centsOffset:-32.99999999999983,clarity:.985559039234527},{time:96.68989999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.7235,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.75639999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.78959999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.82229999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.85619999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.88909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.92319999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.956,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.99019999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.04439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.08519999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.12219999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.15469999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.188,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.22019999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.25339999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.28589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.3195,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.35189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.38539999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.41829999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.45179999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.48489999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.51879999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.551,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.5845,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.61709999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.65119999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.68389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.71779999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.75059999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.78389999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.81679999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.85069999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.88369999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.91789999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.95089999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.00539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.04579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.08359999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.11689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.15039999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.183,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.21659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.249,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.28219999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.31529999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.34859999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0}],kmt="pitch-offset-cents",Nmt="0.13.3",Fmt="2024-09-06T16:50:35.256Z",Umt={pastTime:Bmt,firstTimeStamp:Rmt,minVolumeDecibels:Dmt,colorArea:Pmt,bendValues:Lmt,_appId:kmt,_softwareVersion:Nmt,_date:Fmt};function vS(e){let t,i,n;return{c(){t=K("p"),i=se("Current closest note: "),n=se(e[5])},m(a,s){_t(a,t,s),R(t,i),R(t,n)},p(a,s){s&32&&Ue(n,a[5])},d(a){a&&Ct(t)}}}function $mt(e){let t,i,n;return{c(){t=K("p"),t.textContent="1) Play or sing a note as accurately as possible.",i=Y(),n=K("p"),n.textContent="2) Bend/sing a note 25 cents higher (for example as a vibrato)."},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function Gmt(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g=e[3]?"play":"pause",m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt=e[9].length>0&&vS(e);function Mt(Dt){e[16](Dt)}let xt={label:"past seconds",callback:e[11],min:5,max:60,step:5};e[6]!==void 0&&(xt.value=e[6]),p=new ia({props:xt}),me.push(()=>Te(p,"value",Mt));function dt(Dt){e[18](Dt)}let Ot={title:"The minimum loudness in decibels for a sound to be registered as input. Lower means fainter notes will be registered but there will be more noise such as octave errors.",label:"min. decibels",callback:e[17],min:-40,max:-5,step:5};e[7]!==void 0&&(Ot.value=e[7]),v=new ia({props:Ot}),me.push(()=>Te(v,"value",dt));function At(Dt){e[19](Dt)}let jt={label:"colors",title:"Use blue for low and red for high",callback:e[11]};e[8]!==void 0&&(jt.checked=e[8]),_=new Tr({props:jt}),me.push(()=>Te(_,"checked",At));function bt(Dt){e[23](Dt)}let kt={saveToStorage:zmt,callback:e[22]};return e[9]!==void 0&&(kt.notes=e[9]),N=new aa({props:kt}),me.push(()=>Te(N,"notes",bt)),z=new ua({props:{loadData:e[14],getExportData:e[13],appId:e[0].id}}),V=new Kr({props:{$$slots:{default:[$mt]},$$scope:{ctx:e}}}),J=new Xr({props:{appId:e[0].id}}),et=new Ga({props:{key:" ",keyDown:e[15]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing hitting the correct pitch (for example an
            exact C) or playing/singing off-tune. The line chart below shows how
            far you bend up and down over time.`,c=Y(),wt&&wt.c(),d=Y(),u=K("div"),h=K("button"),m=se(g),M=Y(),Ut(p.$$.fragment),b=Y(),Ut(v.$$.fragment),x=Y(),Ut(_.$$.fragment),O=Y(),I=K("button"),I.textContent="resume",T=Y(),D=K("div"),P=Y(),L=K("div"),Ut(N.$$.fragment),$=Y(),F=K("button"),F.textContent="example",j=Y(),Ut(z.$$.fragment),Q=Y(),Ut(V.$$.fragment),q=Y(),Ut(J.$$.fragment),W=Y(),Ut(et.$$.fragment),ut(l,"class","explanation"),ut(h,"title","Pause the moving visualization (shortcut: space)"),un(h,"width","75px"),ut(I,"title","Press this button if your browser prevents audio access because there needs to be a user interaction first"),ut(u,"class","control"),ut(D,"class","visualization"),ut(L,"class","control"),ut(t,"class","app")},m(Dt,Xt){_t(Dt,t,Xt),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),wt&&wt.m(t,null),R(t,d),R(t,u),R(u,h),R(h,m),R(u,M),Nt(p,u,null),R(u,b),Nt(v,u,null),R(u,x),Nt(_,u,null),R(u,O),R(u,I),R(t,T),R(t,D),e[21](D),R(t,P),R(t,L),Nt(N,L,null),R(L,$),R(L,F),R(L,j),Nt(z,L,null),R(t,Q),Nt(V,t,null),R(t,q),Nt(J,t,null),R(t,W),Nt(et,t,null),mt=!0,ot||(pt=[Qe(h,"click",e[15]),Qe(I,"click",e[20]),Qe(F,"click",e[24])],ot=!0)},p(Dt,Xt){(!mt||Xt&1)&&n!==(n=Dt[0].title+"")&&Ue(a,n),Dt[9].length>0?wt?wt.p(Dt,Xt):(wt=vS(Dt),wt.c(),wt.m(t,d)):wt&&(wt.d(1),wt=null),(!mt||Xt&8)&&g!==(g=Dt[3]?"play":"pause")&&Ue(m,g);const ae={};!A&&Xt&64&&(A=!0,ae.value=Dt[6],Se(()=>A=!1)),p.$set(ae);const Jt={};Xt&132&&(Jt.callback=Dt[17]),!E&&Xt&128&&(E=!0,Jt.value=Dt[7],Se(()=>E=!1)),v.$set(Jt);const le={};!C&&Xt&256&&(C=!0,le.checked=Dt[8],Se(()=>C=!1)),_.$set(le);const Ve={};Xt&16&&(Ve.callback=Dt[22]),!U&&Xt&512&&(U=!0,Ve.notes=Dt[9],Se(()=>U=!1)),N.$set(Ve);const ai={};Xt&1&&(ai.appId=Dt[0].id),z.$set(ai);const Ye={};Xt&268435456&&(Ye.$$scope={dirty:Xt,ctx:Dt}),V.$set(Ye);const ci={};Xt&1&&(ci.appId=Dt[0].id),J.$set(ci)},i(Dt){mt||(Bt(p.$$.fragment,Dt),Bt(v.$$.fragment,Dt),Bt(_.$$.fragment,Dt),Bt(N.$$.fragment,Dt),Bt(z.$$.fragment,Dt),Bt(V.$$.fragment,Dt),Bt(J.$$.fragment,Dt),Bt(et.$$.fragment,Dt),mt=!0)},o(Dt){Rt(p.$$.fragment,Dt),Rt(v.$$.fragment,Dt),Rt(_.$$.fragment,Dt),Rt(N.$$.fragment,Dt),Rt(z.$$.fragment,Dt),Rt(V.$$.fragment,Dt),Rt(J.$$.fragment,Dt),Rt(et.$$.fragment,Dt),mt=!1},d(Dt){Dt&&Ct(t),wt&&wt.d(),Ft(p),Ft(v),Ft(_),e[21](null),Ft(N),Ft(z),Ft(V),Ft(J),Ft(et),ot=!1,ar(pt)}}}function Vmt(e){let t,i;return t=new da({props:{loadData:e[14],$$slots:{default:[Gmt]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&268436479&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let Hmt=900,Qmt=500;const zmt=()=>{};function jmt(e,t,i){let{appInfo:n}=t,a,s,l,c,d=!1,u=performance.now(),h=new window.AudioContext,g,m=10,M=-25,p=!1,A=[];function b(F,j){s.getFloatTimeDomainData(F);const z=l.findPitch(F,j),Q=z[0],V=z[1],q=Sy(Q),J=xy(q),W=mm(Q),et=(W-J)*100,ot={time:(performance.now()-u)/1e3,note:q,pitch:Q,noteMidi:J,actualMidi:W,actualMidiChroma:W%12,centsOffset:et,clarity:V};A.push(ot),v(),c=requestAnimationFrame(()=>b(F,j))}const v=()=>{if(!a)return;i(5,g=S8(A.slice(-30),Q=>Q.note)),i(1,a.textContent="",a);let F;A.length>0?F=A.at(-1).time:F=(performance.now()-u)/1e3;const j=F-m,z=Sn({width:Hmt,height:Qmt,marginBottom:50,padding:0,x:{domain:[j,F],label:"time in seconds"},y:{domain:[-50,50],label:"offset in cents",grid:!0},marks:[Io({anchor:"left",tickSize:0}),Io({anchor:"right",tickSize:0}),zr([0]),vv(A,{x:"time",y:"centsOffset",clip:!0,curve:"basis"}),p?ect(A,{x:"time",y1:"centsOffset",y2:0,clip:!0,curve:"basis",positiveFill:"var(--accent)",negativeFill:"#eeccbb"}):null]});a.appendChild(z)},E=()=>{s=h.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(F=>{h.createMediaStreamSource(F).connect(s),i(2,l=Sc.forFloat32Array(s.fftSize)),i(2,l.minVolumeDecibels=M,l);const j=new Float32Array(l.inputLength);b(j,h.sampleRate)}),v()};sr(E);const x=()=>({pastTime:m,firstTimeStamp:u,minVolumeDecibels:M,colorArea:p,bendValues:A}),_=F=>{i(3,d=!0),cancelAnimationFrame(c),i(6,m=F.pastTime),i(4,u=F.firstTimeStamp),i(7,M=F.minVolumeDecibels),i(8,p=F.colorArea??!1),i(9,A=F.bendValues),v()};or(()=>{clearTimeout(c),cancelAnimationFrame(c)});const C=()=>{i(3,d=!d),d?cancelAnimationFrame(c):E()};function O(F){m=F,i(6,m)}const I=()=>i(2,l.minVolumeDecibels=M,l);function T(F){M=F,i(7,M)}function D(F){p=F,i(8,p)}const P=()=>{h.resume(),E()};function L(F){me[F?"unshift":"push"](()=>{a=F,i(1,a)})}const N=()=>{i(4,u=performance.now()),v()};function U(F){A=F,i(9,A)}const $=()=>_(Umt);return e.$$set=F=>{"appInfo"in F&&i(0,n=F.appInfo)},[n,a,l,d,u,g,m,M,p,A,h,v,E,x,_,C,O,I,T,D,P,L,N,U,$]}class Jmt extends qi{constructor(t){super(),Wi(this,t,jmt,Vmt,Ji,{appInfo:0})}}const Wmt=125,qmt=15,Kmt=!1,Xmt=[0,.40389999997615816,.887,1.354,1.845,2.3038999999761582,2.764,3.228,3.625,4.083,4.359,4.696,5.132,5.571,6.018899999976158,6.485899999976158,6.937,7.421899999976159,7.91,8.359,8.859,9.326,9.778899999976158,10.255,10.721,11.172,11.682899999976158,12.072,12.543,13.01,13.49,13.986,14.497,14.933,15.43,15.881899999976158,16.372,16.749,17.225,17.712,18.239,18.682,19.137,19.599,20.08489999997616,20.542899999976157,20.999,21.485,21.958,22.442,22.889,23.123,23.376899999976157,23.853,24.349,24.809,25.02689999997616,25.26,25.724,26.18689999997616,26.663,26.883,27.128,27.61,28.056,28.537,28.744,28.985,29.497,29.931899999976157,30.434,30.656,30.863,31.094,31.326,31.563,31.81789999997616,32.046899999976155,32.272,32.509,32.738,33.218,33.437,33.696,34.175,34.64,35.19,35.58,36.039,36.24689999997616,36.493,37.474,38.43289999997616,39.328,40.297,40.5,40.767,41.181,42.123,43.051,51.08889999997616,51.289,51.491899999976155,52.462,53.41189999997616,53.614,53.854,54.062,54.293,54.812,55.03,55.256,55.76,55.983,56.198899999976156,56.69089999997616,56.898,57.139],Ymt="rhythm-sheet-music",Zmt="0.16.1",t3t="2024-10-07T17:37:00.193Z",bS={tempo:Wmt,pastNoteCount:qmt,useDotted:Kmt,notes:Xmt,_appId:Ymt,_softwareVersion:Zmt,_date:t3t};function e3t(e,t,i){let{element:n}=t,{touchStart:a=()=>{}}=t,{touchEnd:s=()=>{}}=t;const l=h=>{a()},c=h=>{s()},d=()=>{n.addEventListener("touchstart",l),n.addEventListener("touchend",c)};return or(()=>{n.removeEventListener("touchstart",l),n.removeEventListener("touchend",c)}),e.$$set=h=>{"element"in h&&i(0,n=h.element),"touchStart"in h&&i(1,a=h.touchStart),"touchEnd"in h&&i(2,s=h.touchEnd)},e.$$.update=()=>{e.$$.dirty&1&&n&&d()},[n,a,s]}class Xc extends qi{constructor(t){super(),Wi(this,t,e3t,null,Ji,{element:0,touchStart:1,touchEnd:2})}}function i3t(e,t,i){const n=e.slice();return n[29]=t[i],n}function n3t(e,t,i){const n=e.slice();return n[32]=t[i],n}function r3t(e){let t;return{c(){t=K("option"),t.textContent=`1/${e[32]} note`,t.__value=e[32],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function a3t(e){let t,i=Ge(xF),n=[];for(let a=0;a<i.length;a+=1)n[a]=r3t(n3t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function s3t(e){let t;return{c(){t=K("option"),t.textContent=`${e[29].symbol} ${e[29].name}`,t.__value=e[29].name,Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function o3t(e){let t,i,n,a=Ge(x2),s=[];for(let l=0;l<a.length;l+=1)s[l]=s3t(i3t(e,a,l));return{c(){t=K("option"),t.textContent="auto",i=Y();for(let l=0;l<s.length;l+=1)s[l].c();n=kr(),t.__value="auto",Vi(t,t.__value)},m(l,c){_t(l,t,c),_t(l,i,c);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(l,c);_t(l,n,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n)),Oi(s,l)}}}function l3t(e){let t,i,n,a,s;return{c(){t=K("p"),t.textContent="1) Switch back and forth between quarters and eighths.",i=Y(),n=K("p"),n.textContent="2) Switch between eighths and eighth triplets.",a=Y(),s=K("p"),s.textContent=`3) Set the target to dotted-half notes and try to play them
                accurately.`},m(l,c){_t(l,t,c),_t(l,i,c),_t(l,n,c),_t(l,a,c),_t(l,s,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s))}}}function c3t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt,Xt,ae,Jt,le,Ve;function ai(It){e[15](It)}let Ye={callback:e[11]};e[1]!==void 0&&(Ye.value=e[1]),b=new ts({props:Ye}),me.push(()=>Te(b,"value",ai));function ci(It){e[16](It)}let ei={callback:e[11]};e[4]!==void 0&&(ei.value=e[4]),x=new Kc({props:ei}),me.push(()=>Te(x,"value",ci));function Ze(It){e[17](It)}let be={label:"dotted notes",title:"Use dotted notes? If not, the closest non-dotted note will be taken.",callback:e[11]};e[5]!==void 0&&(be.checked=e[5]),O=new Tr({props:be}),me.push(()=>Te(O,"checked",Ze));function ve(It){e[18](It)}let re={label:"filtering",title:"You can filter out notes that are shorter than a given note duration.",callback:e[11],$$slots:{default:[a3t]},$$scope:{ctx:e}};e[2]!==void 0&&(re.value=e[2]),P=new qr({props:re}),me.push(()=>Te(P,"value",ve));function Et(It){e[19](It)}let vt={label:"target",title:"You can choose a single duration you want to practice and turn of automaticly guessing the closest one.",callback:e[11],$$slots:{default:[o3t]},$$scope:{ctx:e}};e[6]!==void 0&&(vt.value=e[6]),U=new qr({props:vt}),me.push(()=>Te(U,"value",Et)),V=new t0({props:{tempo:e[1],accent:4}});function Ht(It){e[21](It)}let St={saveToStorage:e[14],callback:e[11]};return e[7]!==void 0&&(St.notes=e[7]),J=new aa({props:St}),me.push(()=>Te(J,"notes",Ht)),pt=new Ma({props:{appId:e[0].id,loadData:e[13]}}),Mt=new ua({props:{loadData:e[13],getExportData:e[12],appId:e[0].id}}),dt=new Kr({props:{$$slots:{default:[l3t]},$$scope:{ctx:e}}}),At=new Xr({props:{appId:e[0].id}}),bt=new $r({props:{noteOn:e[10]}}),Dt=new Ga({props:{key:" ",keyDown:e[23]}}),ae=new Xc({props:{element:e[3],touchStart:e[24]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),c=se(`This app helps practicing the timing of notes. Set a tempo and start
            playing. The time between the notes you play will be displayed as
            note symbols, so you can see whether you play, for example, correct
            quarter notes. Bars and numbers show you how many percent of the
            detected note duration you played, for example a -5 means your note
            was 5% too short. `),d=K("span"),u=se("Blue stands for notes that were too long (playing too slow)"),h=se(`
            and
            `),g=K("span"),m=se("orange for short (fast) ones"),M=se("."),p=Y(),A=K("div"),Ut(b.$$.fragment),E=Y(),Ut(x.$$.fragment),C=Y(),Ut(O.$$.fragment),T=Y(),D=K("div"),Ut(P.$$.fragment),N=Y(),Ut(U.$$.fragment),F=Y(),j=K("div"),z=Y(),Q=K("div"),Ut(V.$$.fragment),q=Y(),Ut(J.$$.fragment),et=Y(),mt=K("button"),mt.textContent="example",ot=Y(),Ut(pt.$$.fragment),wt=Y(),Ut(Mt.$$.fragment),xt=Y(),Ut(dt.$$.fragment),Ot=Y(),Ut(At.$$.fragment),jt=Y(),Ut(bt.$$.fragment),kt=Y(),Ut(Dt.$$.fragment),Xt=Y(),Ut(ae.$$.fragment),un(d,"color",e[9]),un(g,"color",e[8]),ut(l,"class","explanation"),ut(A,"class","control"),ut(D,"class","control"),ut(j,"class","visualization"),ut(Q,"class","control"),ut(t,"class","app")},m(It,zt){_t(It,t,zt),R(t,i),R(i,a),R(t,s),R(t,l),R(l,c),R(l,d),R(d,u),R(l,h),R(l,g),R(g,m),R(l,M),R(t,p),R(t,A),Nt(b,A,null),R(A,E),Nt(x,A,null),R(A,C),Nt(O,A,null),R(t,T),R(t,D),Nt(P,D,null),R(D,N),Nt(U,D,null),R(t,F),R(t,j),e[20](j),R(t,z),R(t,Q),Nt(V,Q,null),R(Q,q),Nt(J,Q,null),R(Q,et),R(Q,mt),R(Q,ot),Nt(pt,Q,null),R(Q,wt),Nt(Mt,Q,null),R(t,xt),Nt(dt,t,null),R(t,Ot),Nt(At,t,null),R(t,jt),Nt(bt,t,null),R(t,kt),Nt(Dt,t,null),R(t,Xt),Nt(ae,t,null),Jt=!0,le||(Ve=Qe(mt,"click",e[22]),le=!0)},p(It,zt){(!Jt||zt[0]&1)&&n!==(n=It[0].title+"")&&Ue(a,n);const ht={};!v&&zt[0]&2&&(v=!0,ht.value=It[1],Se(()=>v=!1)),b.$set(ht);const X={};!_&&zt[0]&16&&(_=!0,X.value=It[4],Se(()=>_=!1)),x.$set(X);const tt={};!I&&zt[0]&32&&(I=!0,tt.checked=It[5],Se(()=>I=!1)),O.$set(tt);const Tt={};zt[1]&16&&(Tt.$$scope={dirty:zt,ctx:It}),!L&&zt[0]&4&&(L=!0,Tt.value=It[2],Se(()=>L=!1)),P.$set(Tt);const Qt={};zt[1]&16&&(Qt.$$scope={dirty:zt,ctx:It}),!$&&zt[0]&64&&($=!0,Qt.value=It[6],Se(()=>$=!1)),U.$set(Qt);const Zt={};zt[0]&2&&(Zt.tempo=It[1]),V.$set(Zt);const ce={};!W&&zt[0]&128&&(W=!0,ce.notes=It[7],Se(()=>W=!1)),J.$set(ce);const ye={};zt[0]&1&&(ye.appId=It[0].id),pt.$set(ye);const $e={};zt[0]&1&&($e.appId=It[0].id),Mt.$set($e);const ge={};zt[1]&16&&(ge.$$scope={dirty:zt,ctx:It}),dt.$set(ge);const He={};zt[0]&1&&(He.appId=It[0].id),At.$set(He);const _e={};zt[0]&8&&(_e.element=It[3]),ae.$set(_e)},i(It){Jt||(Bt(b.$$.fragment,It),Bt(x.$$.fragment,It),Bt(O.$$.fragment,It),Bt(P.$$.fragment,It),Bt(U.$$.fragment,It),Bt(V.$$.fragment,It),Bt(J.$$.fragment,It),Bt(pt.$$.fragment,It),Bt(Mt.$$.fragment,It),Bt(dt.$$.fragment,It),Bt(At.$$.fragment,It),Bt(bt.$$.fragment,It),Bt(Dt.$$.fragment,It),Bt(ae.$$.fragment,It),Jt=!0)},o(It){Rt(b.$$.fragment,It),Rt(x.$$.fragment,It),Rt(O.$$.fragment,It),Rt(P.$$.fragment,It),Rt(U.$$.fragment,It),Rt(V.$$.fragment,It),Rt(J.$$.fragment,It),Rt(pt.$$.fragment,It),Rt(Mt.$$.fragment,It),Rt(dt.$$.fragment,It),Rt(At.$$.fragment,It),Rt(bt.$$.fragment,It),Rt(Dt.$$.fragment,It),Rt(ae.$$.fragment,It),Jt=!1},d(It){It&&Ct(t),Ft(b),Ft(x),Ft(O),Ft(P),Ft(U),e[20](null),Ft(V),Ft(J),Ft(pt),Ft(Mt),Ft(dt),Ft(At),Ft(bt),Ft(Dt),Ft(ae),le=!1,Ve()}}}function u3t(e){let t,i;return t=new da({props:{loadData:e[13],$$slots:{default:[c3t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&255|a[1]&16&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let CS=900;function d3t(e,t,i){let n,{appInfo:a}=t,s,l=90,c=10,d=!1,u=16,h="auto",g=0,m=[];const M=U0[1],p=U0[0],A=x2,b=A.filter(j=>!j.dotted),v=async j=>{m.length===0&&(g=j.timestamp);const z=(j.timestamp-g)/1e3;m.length>0&&z-m.at(-1)<n||(i(7,m=[...m,z]),E())},E=()=>{if(i(3,s.textContent="",s),m.length===0)return;let j=ta(l);const z=m.slice(-(c+1)),V=z.map((et,mt)=>mt===0?0:et-z[mt-1]).map(et=>et/j);let q;if(h==="auto"){const et=d?A:b;q=V.map(mt=>{const ot=xc(et,wt=>Math.abs(mt-wt.beats)),pt=et[ot];return{...pt,beats:mt,offsetPercent:(mt/pt.beats*100).toFixed()}})}else{const et=x2.filter(mt=>mt.name===h)[0];q=V.map(mt=>({...et,beats:mt,offsetPercent:(mt/et.beats*100).toFixed()}))}const J=Sn({width:CS,height:100,marginTop:10,marginBottom:0,marginLeft:50,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:"",domain:Ci(1,c),ticks:[]},y:{},marks:[Qr(q,{text:"symbol",x:(et,mt)=>mt,fontSize:40})]});s.appendChild(J);const W=Sn({width:CS,height:180,marginLeft:50,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:null,domain:Ci(1,c),tickSize:0,ticks:[]},y:{label:"percent too long",domain:[-30,30],ticks:Ci(-30,31,10),grid:!0},color:{domain:["short","long"],range:[p,M]},marks:[Md(q,{x:(et,mt)=>mt,y:et=>et.offsetPercent-100,fill:et=>et.offsetPercent<100?"long":"short",ry:4}),uv(q,{x:(et,mt)=>mt,y:et=>et.offsetPercent-100+(et.offsetPercent<100?-4:4),text:et=>et.offsetPercent-100,fill:"#666",stroke:"white",strokeWidth:8}),zr([0])]});s.appendChild(W)};sr(E);const x=()=>({tempo:l,pastNoteCount:c,useDotted:d,notes:m}),_=j=>{C(),i(1,l=j.tempo),i(4,c=j.pastNoteCount),i(5,d=j.useDotted),i(7,m=j.notes),E()},C=()=>{m.length>0&&JSON.stringify(m)!==JSON.stringify(bS.notes)&&ga(a.id,x())};or(C);function O(j){l=j,i(1,l)}function I(j){c=j,i(4,c)}function T(j){d=j,i(5,d)}function D(j){u=j,i(2,u)}function P(j){h=j,i(6,h)}function L(j){me[j?"unshift":"push"](()=>{s=j,i(3,s)})}function N(j){m=j,i(7,m)}const U=()=>_(bS),$=()=>v({timestamp:performance.now()}),F=()=>v({timestamp:performance.now()});return e.$$set=j=>{"appInfo"in j&&i(0,a=j.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&6&&(n=ta(l)*4/u)},[a,l,u,s,c,d,h,m,M,p,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F]}class h3t extends qi{constructor(t){super(),Wi(this,t,d3t,u3t,Ji,{appInfo:0},null,[-1,-1])}}const f3t=60,m3t=120,p3t=10,g3t="off",M3t="",A3t=120,y3t=122.60000002384186,v3t=[0,.3333333333333333,.6666666666666666,1,1.3333333333333333,1.6666666666666665,2,2.333333333333333,2.6666666666666665,3,3.333333333333333,3.6666666666666665,4,4.333333333333333,4.666666666666666,5,5.333333333333333,5.666666666666666,6,6.333333333333333,6.666666666666666,7,7.333333333333333,7.666666666666666],b3t=9,C3t={dataType:"Map",value:[[60,[15.741799999952317,16.069,16.380899999976158,16.66889999997616,17.04489999997616,17.405,17.717,18.092899999976158,18.42910000002384,18.740899999976158,19.117,19.428799999952318,19.740899999976158,20.093,20.429,20.716899999976157,21.093,21.429299999952317,21.765100000023843,22.11689999997616,22.428899999976156,22.789,23.14089999997616,23.47689999997616,23.813]],[70,[32.40529999995232,32.692899999976156,32.97270000004768,33.26079999995232,33.548799999952315,33.860899999976155,34.11679999995231,34.40479999995232,34.692799999952314,34.95679999995232,35.188799999952316,35.500799999952314,35.78879999995232,36.09279999995232,36.40470000004768,36.692899999976156,36.996799999952316,37.28479999995232,37.572799999952316,37.884799999952314,38.164799999952315,38.45279999995232,38.76470000004768,39.02110000002384,39.308700000047686]],[80,[47.237100000023844,47.47679999995232,47.74070000004768,48.028700000047685,48.23660000002384,48.500700000047686,48.71660000002384,48.95660000002384,49.23660000002384,49.47660000002384,49.76470000004768,50.052600000023844,50.26060000002384,50.500600000023844,50.76489999997616,50.98079999995232,51.237,51.500700000047686,51.74060000002384,51.95660000002384,52.23670000004768,52.47660000002384,52.74070000004768,53.00460000002384,53.23660000002384,53.47660000002384]],[90,[60.813299999952314,61.02879999995232,61.23660000002384,61.476700000047686,61.71660000002384,61.90860000002384,62.14860000002384,62.35660000002384,62.57260000002384,62.78860000002384,63.02860000002384,63.26060000002384,63.47660000002384,63.69270000004769,63.90870000004768,64.1485,64.35660000002385,64.57260000002384,64.78839999997616,65.0285,65.21270000004769,65.47660000002384,65.69270000004768,65.9325,66.17260000002385,66.3805]],[100,[73.357,73.57239999997616,73.7885,74.0045,74.19639999997615,74.38039999997616,74.5725,74.7885,74.98060000002384,75.1965,75.4045,75.5965,75.7885,76.0045,76.1965,76.40439999997616,76.6205,76.7885,76.98039999997616,77.1725,77.35639999997616,77.5725,77.76439999997616,77.95639999997616,78.14839999997616,78.35639999997616]],[110,[85.07689999997616,85.29239999997615,85.45239999997615,85.64429999995231,85.83629999995232,86.02839999997616,86.2205,86.4045,86.59629999995232,86.76429999995231,86.95629999995232,87.12439999997616,87.31629999995232,87.50039999997615,87.6685,87.83620000004768,88.02839999997616,88.2205,88.38029999995231,88.57229999995232,88.76439999997616,88.93239999997616,89.12439999997616,89.29229999995232,89.45229999995232,89.64439999997616]],[120,[98.14920000004768,98.31639999997616,98.45229999995232,98.62029999995232,98.81220000004768,98.98029999995232,99.14820000004768,99.3165,99.47620000004768,99.64420000004769,99.78839999997616,99.98020000004769,100.12420000004768,100.3165,100.47639999997615,100.64410000002384,100.83620000004768,101.00420000004769,101.17229999995232,101.34010000002384,101.52429999995232,101.69220000004768,101.88429999995232,102.02829999995231,102.19620000004768,102.34010000002384]]]},_3t="speed-up",E3t="0.16.2",w3t="2024-10-09T13:23:03.740Z",Zg={initialTempo:f3t,targetTempo:m3t,tempoIncrease:p3t,quantize:g3t,currentStep:M3t,currentTempo:A3t,firstTimeStamp:y3t,exerciseNotes:v3t,exerciseBeatCount:b3t,practiceRecordings:C3t,_appId:_3t,_softwareVersion:E3t,_date:w3t},O3t=60,x3t=120,S3t=10,T3t="off",I3t="",B3t=120,R3t=1.0217684000000954e6,D3t=[0,.7,1,1.7,2,2.7,3,3.7,4,4.7,5,5.7,6,6.7,7,7.7],P3t=9,L3t={dataType:"Map",value:[[60,[7.783699999928475,8.471799999952315,8.6635,9.5675,9.855199999928475,10.615799999952316,10.879199999928474,11.591699999928474,11.8555,12.519399999976159,12.759199999928475,13.479399999976158,13.711099999904633,14.4075,14.735299999952316,15.431599999904632,15.783199999928474]],[70,[24.359699999928473,24.903299999952317,25.143399999976157,25.759399999976157,26.047199999928473,26.6155,26.95109999990463,27.5275,27.83139999997616,28.359299999952317,28.66309999990463,29.2635,29.575199999928476,30.095199999928475,30.383299999952317,30.927299999952318,31.239199999928474]],[80,[39.239599999904634,39.69519999992848,39.95119999992848,40.47929999995232,40.735,41.21519999992847,41.52739999997616,41.97519999992848,42.23909999990463,42.69539999997616,42.97489999997616,43.479199999928476,43.735199999928476,44.215299999952315,44.52719999992848,44.99919999992847,45.263199999928474]],[90,[55.4555,55.90329999995232,56.167099999904636,56.598899999976155,56.831,57.238899999976155,57.479199999928476,57.85519999992847,58.119,58.527099999904635,58.76719999992847,59.23879999995231,59.47889999997616,59.92729999995232,60.167,60.57519999992847,60.839]],[100,[67.97529999995231,68.359,68.551,68.99889999997616,69.19109999990464,69.62319999992847,69.81489999997616,70.23889999997616,70.38289999997616,70.76679999995231,70.97479999995231,71.43079999995231,71.59879999995232,71.99879999995231,72.21519999992847,72.647,72.81519999992848]],[110,[79.6955,80.04679999995231,80.21469999992847,80.64679999995232,80.79079999995231,81.11869999992848,81.28669999992847,81.71879999995231,81.887,82.23869999992847,82.40689999997616,82.79079999995231,82.95869999992847,83.33509999990463,83.50279999995232,83.911,84.07069999992848]],[120,[90.69539999997616,91.00689999997616,91.143,91.55069999992847,91.6945,92.05479999995232,92.21479999995232,92.55089999997615,92.7185,93.03059999990464,93.19059999990463,93.55069999992847,93.7185,94.05469999992847,94.21459999990464,94.55059999990463,94.71859999990463]]]},k3t="speed-up",N3t="0.16.2",F3t="2024-10-09T13:50:16.093Z",_S={initialTempo:O3t,targetTempo:x3t,tempoIncrease:S3t,quantize:T3t,currentStep:I3t,currentTempo:B3t,firstTimeStamp:R3t,exerciseNotes:D3t,exerciseBeatCount:P3t,practiceRecordings:L3t,_appId:k3t,_softwareVersion:N3t,_date:F3t};function U3t(e,t,i){const n=e.slice();return n[37]=t[i],n}function $3t(e,t,i){const n=e.slice();return n[37]=t[i],n}function G3t(e){let t;return{c(){t=K("option"),t.textContent=`${e[37]}`,t.__value=e[37],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function V3t(e){let t,i=Ge(["off","32nd","16th","8th","triplet","quintuplet"]),n=[];for(let a=0;a<6;a+=1)n[a]=G3t($3t(e,i,a));return{c(){for(let a=0;a<6;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<6;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function H3t(e){let t;return{c(){t=K("option"),t.textContent=`${e[37]}`,t.__value=e[37],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Q3t(e){let t;return{c(){t=se("triplet example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function z3t(e){let t;return{c(){t=se("swing example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function j3t(e){let t,i,n,a,s,l,c,d,u,h;return s=new M0({props:{onclick:e[29],$$slots:{default:[Q3t]},$$scope:{ctx:e}}}),c=new M0({props:{onclick:e[30],$$slots:{default:[z3t]},$$scope:{ctx:e}}}),{c(){t=K("p"),i=se("1) Select a pre-defined below and play it from 60 to 120 bpm."),n=K("br"),a=Y(),Ut(s.$$.fragment),l=Y(),Ut(c.$$.fragment),d=Y(),u=K("p"),u.textContent=`2) Input your own exercise, optionally quantize it, and practice
                it.`},m(g,m){_t(g,t,m),R(t,i),R(t,n),R(t,a),Nt(s,t,null),R(t,l),Nt(c,t,null),_t(g,d,m),_t(g,u,m),h=!0},p(g,m){const M={};m[1]&2048&&(M.$$scope={dirty:m,ctx:g}),s.$set(M);const p={};m[1]&2048&&(p.$$scope={dirty:m,ctx:g}),c.$set(p)},i(g){h||(Bt(s.$$.fragment,g),Bt(c.$$.fragment,g),h=!0)},o(g){Rt(s.$$.fragment,g),Rt(c.$$.fragment,g),h=!1},d(g){g&&(Ct(t),Ct(d),Ct(u)),Ft(s),Ft(c)}}}function J3t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt,Xt,ae,Jt,le,Ve,ai,Ye,ci,ei,Ze,be,ve,re,Et,vt,Ht,St,It,zt,ht,X,tt;function Tt(Le){e[22](Le)}let Qt={label:"initial tempo",title:"Set a tempo at which you are able to input the exercise precisely (in BPM)",callback:e[17]};e[2]!==void 0&&(Qt.value=e[2]),u=new ts({props:Qt}),me.push(()=>Te(u,"value",Tt));function Zt(Le){e[23](Le)}let ce={label:"target tempo",title:"Set the tempo you want to be able to play the exercise at (in BPM)",callback:e[17]};e[3]!==void 0&&(ce.value=e[3]),m=new ts({props:ce}),me.push(()=>Te(m,"value",Zt));function ye(Le){e[24](Le)}let $e={title:"Set the tempo increase between practice runs (in BPM)",label:"step",min:1,max:20,step:1};e[4]!==void 0&&($e.value=e[4]),A=new ia({props:$e}),me.push(()=>Te(A,"value",ye));function ge(Le){e[25](Le)}let He={label:"quantize exercise",callback:e[17],$$slots:{default:[V3t]},$$scope:{ctx:e}};e[5]!==void 0&&(He.value=e[5]),E=new qr({props:He}),me.push(()=>Te(E,"value",ge));let _e=Ge(["quarter","eighth","triplets","quintuplets","swing"]),Pi=[];for(let Le=0;Le<5;Le+=1)Pi[Le]=H3t(U3t(e,_e,Le));return Jt=new aa({props:{saveToStorage:e[21],title:"Clear practice but not exercise",disabled:e[6]!=="",callback:e[27]}}),Ye=new Ma({props:{appId:e[0].id,loadData:e[20]}}),ei=new ua({props:{loadData:e[20],getExportData:e[19],appId:e[0].id}}),be=new Kr({props:{$$slots:{default:[j3t]},$$scope:{ctx:e}}}),re=new Xr({props:{appId:e[0].id}}),vt=new $r({props:{noteOn:e[12]}}),St=new Ga({props:{key:" ",keyDown:e[31]}}),zt=new Xc({props:{element:e[1],touchStart:e[32]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing playing faster. Adjust the initial and
            target tempo, record an exercise at the inital tempo, and then
            practice it with increasing speed until you reach your target tempo.
            All repetitions will be shown time-aligned, so you can see at which
            tempo you start to struggle keeping up.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),Ut(E.$$.fragment),_=Y(),C=K("div"),O=K("label"),I=se(`pre-defined exercise
                `),T=K("select"),D=K("option");for(let Le=0;Le<5;Le+=1)Pi[Le].c();P=Y(),L=K("button"),N=se("input exercise"),$=Y(),F=K("button"),j=se("save exercise"),Q=Y(),V=K("button"),q=se("start practice"),W=Y(),et=K("button"),mt=se("stop practice"),pt=Y(),wt=K("div"),Mt=se("current step: "),xt=K("b"),dt=se(e[6]),Ot=se(` current tempo:
            `),At=K("b"),jt=se(e[7]),bt=se(" BPM"),kt=Y(),Dt=K("div"),Xt=Y(),ae=K("div"),Ut(Jt.$$.fragment),le=Y(),Ve=K("button"),Ve.textContent="example",ai=Y(),Ut(Ye.$$.fragment),ci=Y(),Ut(ei.$$.fragment),Ze=Y(),Ut(be.$$.fragment),ve=Y(),Ut(re.$$.fragment),Et=Y(),Ut(vt.$$.fragment),Ht=Y(),Ut(St.$$.fragment),It=Y(),Ut(zt.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),D.selected=!0,D.disabled=!0,D.__value="",Vi(D,D.__value),ut(L,"title","Start recording the exercise."),L.disabled=U=e[6]==="input exercise"||e[6]==="practice",ut(F,"title","Stop recording the exercise."),F.disabled=z=e[6]!=="input exercise",ut(V,"title","Start recording the practice with speed-up."),V.disabled=J=e[9].length===0,ut(et,"title","Stop recording the practice with speed-up."),et.disabled=ot=e[6]!=="practice",ut(C,"class","control"),ut(Dt,"class","visualization"),ut(ae,"class","control"),ut(t,"class","app")},m(Le,ke){_t(Le,t,ke),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(d,v),Nt(E,d,null),R(t,_),R(t,C),R(C,O),R(O,I),R(O,T),R(T,D);for(let Oe=0;Oe<5;Oe+=1)Pi[Oe]&&Pi[Oe].m(T,null);R(C,P),R(C,L),R(L,N),R(C,$),R(C,F),R(F,j),R(C,Q),R(C,V),R(V,q),R(C,W),R(C,et),R(et,mt),R(t,pt),R(t,wt),R(wt,Mt),R(wt,xt),R(xt,dt),R(wt,Ot),R(wt,At),R(At,jt),R(wt,bt),R(t,kt),R(t,Dt),e[26](Dt),R(t,Xt),R(t,ae),Nt(Jt,ae,null),R(ae,le),R(ae,Ve),R(ae,ai),Nt(Ye,ae,null),R(ae,ci),Nt(ei,ae,null),R(t,Ze),Nt(be,t,null),R(t,ve),Nt(re,t,null),R(t,Et),Nt(vt,t,null),R(t,Ht),Nt(St,t,null),R(t,It),Nt(zt,t,null),ht=!0,X||(tt=[Qe(T,"change",e[18]),Qe(L,"click",e[13]),Qe(F,"click",e[14]),Qe(V,"click",e[15]),Qe(et,"click",e[16]),Qe(Ve,"click",e[28])],X=!0)},p(Le,ke){(!ht||ke[0]&1)&&n!==(n=Le[0].title+"")&&Ue(a,n);const Oe={};!h&&ke[0]&4&&(h=!0,Oe.value=Le[2],Se(()=>h=!1)),u.$set(Oe);const Ii={};!M&&ke[0]&8&&(M=!0,Ii.value=Le[3],Se(()=>M=!1)),m.$set(Ii);const wn={};!b&&ke[0]&16&&(b=!0,wn.value=Le[4],Se(()=>b=!1)),A.$set(wn);const ze={};ke[1]&2048&&(ze.$$scope={dirty:ke,ctx:Le}),!x&&ke[0]&32&&(x=!0,ze.value=Le[5],Se(()=>x=!1)),E.$set(ze),(!ht||ke[0]&64&&U!==(U=Le[6]==="input exercise"||Le[6]==="practice"))&&(L.disabled=U),(!ht||ke[0]&64&&z!==(z=Le[6]!=="input exercise"))&&(F.disabled=z),(!ht||ke[0]&512&&J!==(J=Le[9].length===0))&&(V.disabled=J),(!ht||ke[0]&64&&ot!==(ot=Le[6]!=="practice"))&&(et.disabled=ot),(!ht||ke[0]&64)&&Ue(dt,Le[6]),(!ht||ke[0]&128)&&Ue(jt,Le[7]);const Zi={};ke[0]&64&&(Zi.disabled=Le[6]!==""),ke[0]&1280&&(Zi.callback=Le[27]),Jt.$set(Zi);const Re={};ke[0]&1&&(Re.appId=Le[0].id),Ye.$set(Re);const bn={};ke[0]&1&&(bn.appId=Le[0].id),ei.$set(bn);const Ir={};ke[1]&2048&&(Ir.$$scope={dirty:ke,ctx:Le}),be.$set(Ir);const dr={};ke[0]&1&&(dr.appId=Le[0].id),re.$set(dr);const si={};ke[0]&2&&(si.element=Le[1]),zt.$set(si)},i(Le){ht||(Bt(u.$$.fragment,Le),Bt(m.$$.fragment,Le),Bt(A.$$.fragment,Le),Bt(E.$$.fragment,Le),Bt(Jt.$$.fragment,Le),Bt(Ye.$$.fragment,Le),Bt(ei.$$.fragment,Le),Bt(be.$$.fragment,Le),Bt(re.$$.fragment,Le),Bt(vt.$$.fragment,Le),Bt(St.$$.fragment,Le),Bt(zt.$$.fragment,Le),ht=!0)},o(Le){Rt(u.$$.fragment,Le),Rt(m.$$.fragment,Le),Rt(A.$$.fragment,Le),Rt(E.$$.fragment,Le),Rt(Jt.$$.fragment,Le),Rt(Ye.$$.fragment,Le),Rt(ei.$$.fragment,Le),Rt(be.$$.fragment,Le),Rt(re.$$.fragment,Le),Rt(vt.$$.fragment,Le),Rt(St.$$.fragment,Le),Rt(zt.$$.fragment,Le),ht=!1},d(Le){Le&&Ct(t),Ft(u),Ft(m),Ft(A),Ft(E),Oi(Pi,Le),e[26](null),Ft(Jt),Ft(Ye),Ft(ei),Ft(be),Ft(re),Ft(vt),Ft(St),Ft(zt),X=!1,ar(tt)}}}function W3t(e){let t,i;return t=new da({props:{loadData:e[20],$$slots:{default:[J3t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&2047|a[1]&2048&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let ES=900;function q3t(e,t,i){const n=e[0];return e.map(s=>{let l=s-n;if(t!=="off"){let c;t==="8th"&&(c=i/2),t==="16th"&&(c=i/4),t==="32nd"&&(c=i/8),t==="triplet"&&(c=i/3),t==="quintuplet"&&(c=i/5),l=Math.round(l/c)*c}return l/i})}function K3t(e,t,i){let{appInfo:n}=t,a,s=new bv,l=60,c=120,d=10,u="off",h="",g=c,m=performance.now(),M=[],p,A=new Map,b=!0,v;const E=async mt=>{const pt=(mt.timestamp-m)/1e3;if(h==="input exercise")i(9,M=[...M,pt]);else if(h==="practice"){A.has(g)||A.set(g,[]);const wt=A.get(g);b&&wt.push(pt)}T()},x=async()=>{const mt=A.get(g);if(!mt||!mt.length)return;const ot=Y9(mt),wt=(performance.now()-m)/1e3-ot;let Mt=ta(g);wt/Mt>=p&&(console.log("increasing bpm"),s.stop(),g<c?(i(7,g+=d),b=!1,await XM(1),s.start(240,1,3),await XM(3),s.start(g,4),A.has(g)&&A.set(g,[]),b=!0):I())},_=()=>{i(6,h="input exercise"),i(9,M=[]),i(10,A=new Map),s.start(l,4),T()},C=()=>{if(i(6,h=""),s.stop(),M.length>0){const mt=Ca(M)-Y9(M);let ot=ta(l);p=Math.ceil(mt/ot)}},O=async()=>{if(M.length===0){alert("You need to input an exercise first");return}i(6,h="practice"),i(7,g=l),i(10,A=new Map),s.start(g,4),v=setInterval(x,100)},I=()=>{console.log("stop practice"),i(6,h=""),i(7,g=c),clearInterval(v),s.stop()},T=()=>{if(i(1,a.textContent="",a),M.length===0)return;let mt=ta(l);const ot=q3t(M,u,mt);let pt=Math.ceil(Ca(ot)/4*4)+1;const wt=Sn({width:ES,height:70,marginTop:5,marginLeft:40,marginBottom:35,x:{label:"time in beats",domain:[0,pt],tickSize:0},y:{label:"exercise",ticks:[],labelAnchor:"center"},marks:[Qr([0],{text:""}),k9(Ci(0,pt,1),{stroke:"#ccc"}),k9(Ci(0,pt+1,4),{stroke:"#c8c8c8",strokeWidth:3}),L9(ot,{stroke:"#333",strokeWidth:.89,inset:8})]});a.appendChild(wt);for(const[Mt,xt]of A){const dt=xt[0];mt=ta(Mt);const Ot=xt.map(jt=>(jt-dt)/mt),At=Sn({width:ES,height:40,marginTop:0,marginLeft:40,marginBottom:5,x:{domain:[0,pt],tickSize:0,ticks:[]},y:{label:`${Mt}
bpm`,ticks:[],labelAnchor:"center"},marks:[Qr([0],{text:""}),k9(Ci(0,pt+1,4),{stroke:"#c8c8c8",strokeWidth:3}),L9(ot,{stroke:"#ddd",strokeWidth:.8}),L9(Ot,{stroke:"#000",strokeWidth:.9,x:jt=>jt,inset:10})]});a.appendChild(At)}};sr(T);const D=mt=>{const ot=mt.target.value,pt=8,wt=new Map([["quarter",Ci(0,pt,1)],["eighth",Ci(0,pt,.5)],["triplets",Ci(0,pt,1/3)],["quintuplets",Ci(0,pt,1/5)],["swing",Ci(0,pt,.5).map((dt,Ot)=>Ot%2===0?dt:dt+.2)]]),Mt=ta(l);i(5,u="off");const xt=wt.get(ot);i(9,M=xt.map(dt=>dt*Mt)),p=Math.ceil(Ca(xt)+1),T()},P=()=>({initialTempo:l,targetTempo:c,tempoIncrease:d,quantize:u,currentStep:h,currentTempo:g,firstTimeStamp:m,exerciseNotes:M,exerciseBeatCount:p,practiceRecordings:A}),L=mt=>{N(),i(2,l=mt.initialTempo),i(3,c=mt.targetTempo),i(4,d=mt.tempoIncrease),i(5,u=mt.quantize),i(6,h=mt.currentStep),i(7,g=mt.currentTempo),i(8,m=mt.firstTimeStamp),i(9,M=mt.exerciseNotes),p=mt.exerciseBeatCount,i(10,A=mt.practiceRecordings),A.dataType&&i(10,A=new Map(A.value)),T()},N=()=>{const mt=JSON.stringify(A,t2);M.length>0&&mt!==JSON.stringify(Zg.practiceRecordings,t2)&&mt!==JSON.stringify(_S.practiceRecordings,t2)&&ga(n.id,P())};or(()=>{clearInterval(v),s.stop(),N()});function U(mt){l=mt,i(2,l)}function $(mt){c=mt,i(3,c)}function F(mt){d=mt,i(4,d)}function j(mt){u=mt,i(5,u)}function z(mt){me[mt?"unshift":"push"](()=>{a=mt,i(1,a)})}const Q=()=>{s.stop(),i(10,A=new Map),i(8,m=performance.now()),T()},V=()=>L(Zg),q=()=>L(Zg),J=()=>L(_S),W=()=>E({timestamp:performance.now()}),et=()=>E({timestamp:performance.now()});return e.$$set=mt=>{"appInfo"in mt&&i(0,n=mt.appInfo)},[n,a,l,c,d,u,h,g,m,M,A,s,E,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et]}class X3t extends qi{constructor(t){super(),Wi(this,t,K3t,W3t,Ji,{appInfo:0},null,[-1,-1])}}function Y3t(e,t,i){const n=e.slice();return n[34]=t[i],n}function Z3t(e,t,i){const n=e.slice();return n[34]=t[i],n}function t4t(e){let t;return{c(){t=K("option"),t.textContent=`${e[34]}`,t.__value=e[34],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function e4t(e){let t,i=Ge(["off","32nd","16th","8th","triplet","quintuplet"]),n=[];for(let a=0;a<6;a+=1)n[a]=t4t(Z3t(e,i,a));return{c(){for(let a=0;a<6;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<6;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function i4t(e){let t;return{c(){t=K("option"),t.textContent=`${e[34]}`,t.__value=e[34],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function n4t(e){let t,i,n;return{c(){t=K("p"),t.textContent="1) Select a pre-defined below and play it from 60 to 120 bpm.",i=Y(),n=K("p"),n.textContent=`2) Input your own exercise, optionally quantize it, and practice
                it.`},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function r4t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt,Xt,ae,Jt,le,Ve,ai,Ye,ci,ei,Ze,be,ve,re,Et,vt,Ht;function St(ye){e[21](ye)}let It={label:"initial tempo",title:"Set a tempo at which you are able to input the exercise precisely (in BPM)",callback:e[16]};e[2]!==void 0&&(It.value=e[2]),u=new ts({props:It}),me.push(()=>Te(u,"value",St));function zt(ye){e[22](ye)}let ht={label:"target tempo",title:"Set the tempo you want to be able to play the exercise at (in BPM)",callback:e[16]};e[3]!==void 0&&(ht.value=e[3]),m=new ts({props:ht}),me.push(()=>Te(m,"value",zt));function X(ye){e[23](ye)}let tt={title:"Set the tempo increase between practice runs (in BPM)",label:"step",min:1,max:20,step:1};e[4]!==void 0&&(tt.value=e[4]),A=new ia({props:tt}),me.push(()=>Te(A,"value",X));function Tt(ye){e[24](ye)}let Qt={label:"quantize exercise",callback:e[16],$$slots:{default:[e4t]},$$scope:{ctx:e}};e[5]!==void 0&&(Qt.value=e[5]),E=new qr({props:Qt}),me.push(()=>Te(E,"value",Tt));let Zt=Ge(["quarter","eighth","triplets","swing"]),ce=[];for(let ye=0;ye<4;ye+=1)ce[ye]=i4t(Y3t(e,Zt,ye));return Jt=new aa({props:{saveToStorage:e[20],title:"Clear practice but not exercise",disabled:e[6]!=="",callback:e[26]}}),Ve=new Ma({props:{appId:e[0].id,loadData:e[19]}}),Ye=new ua({props:{loadData:e[19],getExportData:e[18],appId:e[0].id}}),ei=new Kr({props:{$$slots:{default:[n4t]},$$scope:{ctx:e}}}),be=new Xr({props:{appId:e[0].id}}),re=new $r({props:{noteOn:e[11]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing playing faster on guitar. Adjust the
            initial and target tempo, record an exercise at the inital tempo,
            and then practice it with increasing speed until you reach your
            target tempo. All repetitions will be shown time-aligned, so you can
            see at which tempo you start to struggle keeping up. The notes you
            play are displayed in a tablature-like visualization with crosses,
            numbers above notes indicate the fret. The darkness (white to black)
            encodes the notes' velocities, so eventual noise (unintended notes)
            is less distracting.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),Ut(E.$$.fragment),_=Y(),C=K("div"),O=K("label"),I=se(`exercise
                `),T=K("select"),D=K("option");for(let ye=0;ye<4;ye+=1)ce[ye].c();P=Y(),L=K("button"),N=se("input exercise"),$=Y(),F=K("button"),j=se("save exercise"),Q=Y(),V=K("button"),q=se("start practice"),W=Y(),et=K("button"),mt=se("stop practice"),pt=Y(),wt=K("div"),Mt=se("current step: "),xt=K("b"),dt=se(e[6]),Ot=se(` current tempo:
            `),At=K("b"),jt=se(e[7]),bt=se(" BPM"),kt=Y(),Dt=K("div"),Xt=Y(),ae=K("div"),Ut(Jt.$$.fragment),le=Y(),Ut(Ve.$$.fragment),ai=Y(),Ut(Ye.$$.fragment),ci=Y(),Ut(ei.$$.fragment),Ze=Y(),Ut(be.$$.fragment),ve=Y(),Ut(re.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),D.selected=!0,D.disabled=!0,D.__value="",Vi(D,D.__value),ut(L,"title","Start recording the exercise."),L.disabled=U=e[6]==="input exercise"||e[6]==="practice",ut(F,"title","Stop recording the exercise."),F.disabled=z=e[6]!=="input exercise",ut(V,"title","Start recording the practice with speed-up."),V.disabled=J=e[9].length===0,ut(et,"title","Stop recording the practice with speed-up."),et.disabled=ot=e[6]!=="practice",ut(C,"class","control"),ut(Dt,"class","visualization"),ut(ae,"class","control"),ut(t,"class","app")},m(ye,$e){_t(ye,t,$e),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(d,v),Nt(E,d,null),R(t,_),R(t,C),R(C,O),R(O,I),R(O,T),R(T,D);for(let ge=0;ge<4;ge+=1)ce[ge]&&ce[ge].m(T,null);R(C,P),R(C,L),R(L,N),R(C,$),R(C,F),R(F,j),R(C,Q),R(C,V),R(V,q),R(C,W),R(C,et),R(et,mt),R(t,pt),R(t,wt),R(wt,Mt),R(wt,xt),R(xt,dt),R(wt,Ot),R(wt,At),R(At,jt),R(wt,bt),R(t,kt),R(t,Dt),e[25](Dt),R(t,Xt),R(t,ae),Nt(Jt,ae,null),R(ae,le),Nt(Ve,ae,null),R(ae,ai),Nt(Ye,ae,null),R(t,ci),Nt(ei,t,null),R(t,Ze),Nt(be,t,null),R(t,ve),Nt(re,t,null),Et=!0,vt||(Ht=[Qe(T,"change",e[17]),Qe(L,"click",e[12]),Qe(F,"click",e[13]),Qe(V,"click",e[14]),Qe(et,"click",e[15])],vt=!0)},p(ye,$e){(!Et||$e[0]&1)&&n!==(n=ye[0].title+"")&&Ue(a,n);const ge={};!h&&$e[0]&4&&(h=!0,ge.value=ye[2],Se(()=>h=!1)),u.$set(ge);const He={};!M&&$e[0]&8&&(M=!0,He.value=ye[3],Se(()=>M=!1)),m.$set(He);const _e={};!b&&$e[0]&16&&(b=!0,_e.value=ye[4],Se(()=>b=!1)),A.$set(_e);const Pi={};$e[1]&256&&(Pi.$$scope={dirty:$e,ctx:ye}),!x&&$e[0]&32&&(x=!0,Pi.value=ye[5],Se(()=>x=!1)),E.$set(Pi),(!Et||$e[0]&64&&U!==(U=ye[6]==="input exercise"||ye[6]==="practice"))&&(L.disabled=U),(!Et||$e[0]&64&&z!==(z=ye[6]!=="input exercise"))&&(F.disabled=z),(!Et||$e[0]&512&&J!==(J=ye[9].length===0))&&(V.disabled=J),(!Et||$e[0]&64&&ot!==(ot=ye[6]!=="practice"))&&(et.disabled=ot),(!Et||$e[0]&64)&&Ue(dt,ye[6]),(!Et||$e[0]&128)&&Ue(jt,ye[7]);const Le={};$e[0]&64&&(Le.disabled=ye[6]!==""),$e[0]&1280&&(Le.callback=ye[26]),Jt.$set(Le);const ke={};$e[0]&1&&(ke.appId=ye[0].id),Ve.$set(ke);const Oe={};$e[0]&1&&(Oe.appId=ye[0].id),Ye.$set(Oe);const Ii={};$e[1]&256&&(Ii.$$scope={dirty:$e,ctx:ye}),ei.$set(Ii);const wn={};$e[0]&1&&(wn.appId=ye[0].id),be.$set(wn)},i(ye){Et||(Bt(u.$$.fragment,ye),Bt(m.$$.fragment,ye),Bt(A.$$.fragment,ye),Bt(E.$$.fragment,ye),Bt(Jt.$$.fragment,ye),Bt(Ve.$$.fragment,ye),Bt(Ye.$$.fragment,ye),Bt(ei.$$.fragment,ye),Bt(be.$$.fragment,ye),Bt(re.$$.fragment,ye),Et=!0)},o(ye){Rt(u.$$.fragment,ye),Rt(m.$$.fragment,ye),Rt(A.$$.fragment,ye),Rt(E.$$.fragment,ye),Rt(Jt.$$.fragment,ye),Rt(Ve.$$.fragment,ye),Rt(Ye.$$.fragment,ye),Rt(ei.$$.fragment,ye),Rt(be.$$.fragment,ye),Rt(re.$$.fragment,ye),Et=!1},d(ye){ye&&Ct(t),Ft(u),Ft(m),Ft(A),Ft(E),Oi(ce,ye),e[25](null),Ft(Jt),Ft(Ve),Ft(Ye),Ft(ei),Ft(be),Ft(re),vt=!1,ar(Ht)}}}function a4t(e){let t,i;return t=new da({props:{loadData:e[19],$$slots:{default:[r4t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&2047|a[1]&256&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let wS=900,OS=150,z4=6;function s4t(e,t,i){const n=e[0].time;return e.map(s=>{let l=s.time-n;if(t!=="off"){let d;t==="8th"&&(d=i/2),t==="16th"&&(d=i/4),t==="32nd"&&(d=i/8),l=Math.round(l/d)*d}const c=l/i;return{...s,time:c}})}function o4t(e,t,i){let{appInfo:n}=t,a,s=new bv,l=!0,c,d=60,u=120,h=10,g="off",m="",M=u,p=performance.now(),A=[],b,v=new Map,E=[64,59,55,50,45,40];const x=E.map(Ts),_=async J=>{const W=(J.timestamp-p)/1e3,et=J.message.channel-1,mt={time:W,string:et,fret:J.note.number-E[et],velocity:J.rawVelocity};if(m==="input exercise")i(9,A=[...A,mt]);else if(m==="practice"){v.has(M)||v.set(M,[]);const ot=v.get(M);l&&ot.push(mt)}P()},C=async()=>{const J=v.get(M);if(!J||!J.length)return;const W=Y9(J,wt=>wt.time),mt=(performance.now()-p)/1e3-W;let ot=ta(M);mt/ot>=b&&(console.log("increasing bpm"),s.stop(),M<=u?(i(7,M+=h),l=!1,await XM(1),s.start(M,4),v.has(M)&&v.set(M,[]),l=!0):D())},O=()=>{i(6,m="input exercise"),i(9,A=[]),i(10,v=new Map),s.start(d,4),P()},I=()=>{if(i(6,m=""),s.stop(),A.length>0){const J=Ca(A,et=>et.time)-Y9(A,et=>et.time);let W=ta(d);b=Math.ceil(J/W)}},T=async()=>{if(A.length===0){alert("You need to input an exercise first");return}i(6,m="practice"),i(7,M=d),i(10,v=new Map),s.start(M,4),c=setInterval(C,100)},D=()=>{i(6,m=""),i(7,M=u),clearInterval(c),s.stop()},P=()=>{if(i(1,a.textContent="",a),A.length===0)return;let J=ta(d);const W=s4t(A,g,J);let et=Math.ceil(Ca(W,ot=>ot.time)/4*4)+.5;const mt=Sn({width:wS,height:OS,marginLeft:40,x:{label:"time in beats",domain:[0,et]},y:{domain:Ci(0,z4),tickFormat:ot=>x[ot],tickSize:0},marks:[zr(Ci(0,z4),{stroke:"#eee",strokeDasharray:"6 6"}),k9(Ci(0,et,1),{stroke:"#ccc"}),k9(Ci(0,et,4),{stroke:"#aaa"}),L9(W,{stroke:"#333",x:ot=>ot.time,y:ot=>ot.string,strokeWidth:2}),Qr(W,{text:"fret",fill:"velocity",x:ot=>ot.time,y:ot=>ot.string,textAnchor:"middle",dy:-10})]});a.appendChild(mt);for(const[ot,pt]of v){if(pt.length===0)continue;const wt=pt[0].time;J=ta(ot);const Mt=pt.map(dt=>({...dt,time:(dt.time-wt)/J})),xt=Sn({width:wS,height:OS,marginLeft:40,x:{label:"time in beats",domain:[0,et]},y:{label:`${ot} BPM`,domain:Ci(0,z4),tickFormat:dt=>x[dt],tickSize:0},color:{domain:[0,100],scheme:"Greys"},marks:[zr(Ci(0,z4),{stroke:"#eee",strokeDasharray:"6 6"}),k9(Ci(0,et,1),{stroke:"#ccc"}),k9(Ci(0,et,4),{stroke:"#aaa"}),L9(Mt,{stroke:"velocity",x:dt=>dt.time,y:dt=>dt.string,strokeWidth:1.2}),Qr(Mt,{text:"fret",fill:"velocity",x:dt=>dt.time,y:dt=>dt.string,textAnchor:"middle",dy:-10})]});a.appendChild(xt)}};sr(P);const L=J=>{const W=J.target.value,et=new Map([["quarter",Ci(0,8,1)],["eighth",Ci(0,8,.5)],["triplets",Ci(0,8,1/3)],["swing",Ci(0,8,.5).map((pt,wt)=>wt%2===0?pt:pt+.2)]]),mt=ta(d);i(5,g="off");const ot=et.get(W);i(9,A=ot.map(pt=>pt*mt)),b=Math.ceil(Ca(ot)+1),i(9,A=A.map(pt=>({time:pt,string:5,fret:0}))),P()},N=()=>({initialTempo:d,targetTempo:u,tempoIncrease:h,quantize:g,currentStep:m,currentTempo:M,firstTimeStamp:p,exerciseNotes:A,exerciseBeatCount:b,practiceRecordings:v}),U=J=>{$(),i(2,d=J.initialTempo),i(3,u=J.targetTempo),i(4,h=J.tempoIncrease),i(5,g=J.quantize),i(6,m=J.currentStep),i(7,M=J.currentTempo),i(8,p=J.firstTimeStamp),i(9,A=J.exerciseNotes),b=J.exerciseBeatCount,i(10,v=J.practiceRecordings),v.dataType&&i(10,v=new Map(v.value)),P()},$=()=>{A.length>0&&ga(n.id,N())};or(()=>{clearInterval(c),s.stop(),$()});function F(J){d=J,i(2,d)}function j(J){u=J,i(3,u)}function z(J){h=J,i(4,h)}function Q(J){g=J,i(5,g)}function V(J){me[J?"unshift":"push"](()=>{a=J,i(1,a)})}const q=()=>{i(10,v=new Map),i(8,p=performance.now()),P()};return e.$$set=J=>{"appInfo"in J&&i(0,n=J.appInfo)},[n,a,d,u,h,g,m,M,p,A,v,_,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q]}class l4t extends qi{constructor(t){super(),Wi(this,t,o4t,a4t,Ji,{appInfo:0},null,[-1,-1])}}const c4t=17,u4t=.07,d4t=[{number:40,velocity:98,time:13.264099999999628,channel:6,string:5,fret:0,end:20.250099999999627,duration:6.985999999999999},{number:45,velocity:90,time:13.475099999999628,channel:5,string:4,fret:0,end:14.705199999999255,duration:1.2300999999996272},{number:52,velocity:127,time:13.714099999999627,channel:4,string:3,fret:2,end:14.728099999999628,duration:1.0140000000000011},{number:45,velocity:92,time:14.710099999999628,channel:5,string:4,fret:0,end:15.473199999999254,duration:.7630999999996266},{number:53,velocity:127,time:14.732099999999628,channel:4,string:3,fret:3,end:15.475099999999628,duration:.7430000000000003},{number:72,velocity:61,time:14.744199999999255,channel:2,string:1,fret:13,end:14.747199999999255,duration:.0030000000000001137},{number:61,velocity:127,time:14.751099999999628,channel:2,string:1,fret:2,end:15.505099999999628,duration:.7539999999999996},{number:57,velocity:127,time:14.754099999999628,channel:3,string:2,fret:2,end:15.495099999999628,duration:.7409999999999997},{number:64,velocity:115,time:14.759099999999627,channel:1,string:0,fret:0,end:15.794199999999256,duration:1.0350999999996287},{number:45,velocity:90,time:15.481099999999627,channel:5,string:4,fret:0,end:16.439099999999627,duration:.9580000000000002},{number:68,velocity:113,time:15.498199999999255,channel:3,string:2,fret:13,end:15.506099999999627,duration:.007900000000372387},{number:52,velocity:126,time:15.502199999999254,channel:4,string:3,fret:2,end:15.834199999999255,duration:.33200000000000074},{number:78,velocity:68,time:15.508099999999628,channel:2,string:1,fret:19,end:15.517099999999628,duration:.009000000000000341},{number:58,velocity:122,time:15.510199999999255,channel:3,string:2,fret:3,end:15.820099999999627,duration:.309900000000372},{number:60,velocity:111,time:15.520099999999628,channel:2,string:1,fret:1,end:15.807099999999627,duration:.28699999999999903},{number:64,velocity:127,time:15.800199999999254,channel:1,string:0,fret:0,end:16.744199999999253,duration:.9439999999999991},{number:61,velocity:127,time:15.812099999999628,channel:2,string:1,fret:2,end:16.376099999999628,duration:.5640000000000001},{number:58,velocity:127,time:15.824099999999628,channel:3,string:2,fret:3,end:16.398199999999257,duration:.5740999999996284},{number:52,velocity:121,time:15.839199999999256,channel:4,string:3,fret:2,end:16.416199999999254,duration:.5769999999999982},{number:60,velocity:90,time:16.381099999999627,channel:2,string:1,fret:1,end:16.726099999999626,duration:.34499999999999886},{number:58,velocity:120,time:16.402199999999254,channel:3,string:2,fret:3,end:16.715099999999627,duration:.3129000000003721},{number:52,velocity:114,time:16.425199999999254,channel:4,string:3,fret:2,end:16.700099999999626,duration:.27490000000037185},{number:45,velocity:72,time:16.44909999999963,channel:5,string:4,fret:0,end:16.67909999999963,duration:.23000000000000043},{number:45,velocity:94,time:16.686199999999253,channel:5,string:4,fret:0,end:17.004099999999628,duration:.31790000000037466},{number:53,velocity:127,time:16.704099999999627,channel:4,string:3,fret:3,end:17.00209999999963,duration:.2980000000000018},{number:58,velocity:127,time:16.718099999999627,channel:3,string:2,fret:3,end:17.311099999999627,duration:.593},{number:61,velocity:121,time:16.73109999999963,channel:2,string:1,fret:2,end:17.320099999999627,duration:.5889999999999986},{number:64,velocity:120,time:16.747199999999253,channel:1,string:0,fret:0,end:17.329099999999627,duration:.581900000000374},{number:52,velocity:107,time:17.007099999999628,channel:4,string:3,fret:2,end:17.297199999999254,duration:.2900999999996259},{number:45,velocity:103,time:17.012099999999627,channel:5,string:4,fret:0,end:18.284199999999256,duration:1.2720999999996287},{number:53,velocity:127,time:17.303099999999628,channel:4,string:3,fret:3,end:18.267099999999626,duration:.9639999999999986},{number:58,velocity:127,time:17.317099999999627,channel:3,string:2,fret:3,end:17.882099999999628,duration:.5650000000000013},{number:61,velocity:127,time:17.324199999999255,channel:2,string:1,fret:2,end:17.902099999999628,duration:.5779000000003727},{number:64,velocity:117,time:17.33309999999963,channel:1,string:0,fret:0,end:17.92009999999963,duration:.5869999999999997},{number:57,velocity:80,time:17.887099999999627,channel:3,string:2,fret:2,end:18.257099999999628,duration:.370000000000001},{number:61,velocity:121,time:17.907099999999627,channel:2,string:1,fret:2,end:18.243199999999256,duration:.3360999999996288},{number:65,velocity:118,time:17.924199999999257,channel:1,string:0,fret:1,end:19.152099999999628,duration:1.2279000000003713},{number:61,velocity:127,time:18.248199999999255,channel:2,string:1,fret:2,end:18.800099999999627,duration:.5519000000003729},{number:58,velocity:127,time:18.260199999999255,channel:3,string:2,fret:3,end:18.818199999999255,duration:.5579999999999998},{number:53,velocity:127,time:18.27209999999963,channel:4,string:3,fret:3,end:18.83609999999963,duration:.5640000000000001},{number:45,velocity:80,time:18.293099999999626,channel:5,string:4,fret:0,end:18.857099999999626,duration:.5640000000000001},{number:61,velocity:114,time:18.806099999999628,channel:2,string:1,fret:2,end:19.141199999999255,duration:.3350999999996276},{number:58,velocity:127,time:18.823099999999627,channel:3,string:2,fret:3,end:19.120199999999254,duration:.29709999999962733},{number:52,velocity:120,time:18.840099999999627,channel:4,string:3,fret:2,end:19.105199999999254,duration:.2650999999996273},{number:45,velocity:80,time:18.864199999999254,channel:5,string:4,fret:0,end:19.099099999999627,duration:.2349000000003727},{number:45,velocity:96,time:19.10609999999963,channel:5,string:4,fret:0,end:19.708199999999255,duration:.602099999999627},{number:71,velocity:100,time:19.125099999999627,channel:3,string:2,fret:16,end:19.149099999999628,duration:.02400000000000091},{number:52,velocity:126,time:19.130099999999626,channel:4,string:3,fret:2,end:19.709099999999626,duration:.5790000000000006},{number:57,velocity:127,time:19.146099999999628,channel:3,string:2,fret:2,end:19.413099999999627,duration:.26699999999999946},{number:61,velocity:124,time:19.146099999999628,channel:2,string:1,fret:2,end:19.405099999999628,duration:.25900000000000034},{number:64,velocity:108,time:19.15609999999963,channel:1,string:0,fret:0,end:19.750099999999627,duration:.5939999999999976},{number:60,velocity:98,time:19.407099999999627,channel:2,string:1,fret:1,end:19.742099999999628,duration:.33500000000000085},{number:57,velocity:111,time:19.417199999999255,channel:3,string:2,fret:2,end:19.729099999999626,duration:.3119000000003709},{number:45,velocity:96,time:19.71409999999963,channel:5,string:4,fret:0,end:20.270199999999257,duration:.5560999999996277},{number:67,velocity:69,time:19.71409999999963,channel:4,string:3,fret:17,end:19.719099999999628,duration:.004999999999999005},{number:53,velocity:127,time:19.723099999999626,channel:4,string:3,fret:3,end:20.273099999999626,duration:.5500000000000007},{number:58,velocity:125,time:19.733199999999254,channel:3,string:2,fret:3,end:20.291199999999254,duration:.5579999999999998},{number:61,velocity:121,time:19.744199999999253,channel:2,string:1,fret:2,end:20.30409999999963,duration:.5599000000003755},{number:64,velocity:116,time:19.756099999999627,channel:1,string:0,fret:0,end:20.559099999999628,duration:.8030000000000008},{number:40,velocity:71,time:20.26309999999963,channel:6,string:5,fret:0,end:22.244099999999627,duration:1.980999999999998},{number:62,velocity:92,time:20.277099999999628,channel:4,string:3,fret:12,end:20.29509999999963,duration:.018000000000000682},{number:45,velocity:99,time:20.279099999999627,channel:5,string:4,fret:0,end:21.784199999999256,duration:1.5050999999996293},{number:53,velocity:114,time:20.29209999999963,channel:4,string:3,fret:3,end:20.610199999999256,duration:.3180999999996281},{number:58,velocity:103,time:20.297199999999254,channel:3,string:2,fret:3,end:20.588099999999628,duration:.29090000000037364},{number:60,velocity:86,time:20.309099999999628,channel:2,string:1,fret:1,end:20.576099999999627,duration:.26699999999999946},{number:64,velocity:69,time:20.564099999999627,channel:1,string:0,fret:0,end:21.309099999999628,duration:.745000000000001},{number:61,velocity:119,time:20.58009999999963,channel:2,string:1,fret:2,end:21.29809999999963,duration:.718},{number:58,velocity:124,time:20.595199999999256,channel:3,string:2,fret:3,end:21.287099999999626,duration:.6919000000003699},{number:52,velocity:114,time:20.617099999999628,channel:4,string:3,fret:2,end:21.273099999999626,duration:.6559999999999988},{number:52,velocity:110,time:21.277099999999628,channel:4,string:3,fret:2,end:21.793199999999256,duration:.5160999999996285},{number:58,velocity:124,time:21.29209999999963,channel:3,string:2,fret:3,end:21.543099999999626,duration:.25099999999999767},{number:61,velocity:115,time:21.302099999999626,channel:2,string:1,fret:2,end:21.532099999999627,duration:.23000000000000043},{number:64,velocity:90,time:21.314199999999254,channel:1,string:0,fret:0,end:21.518099999999627,duration:.2039000000003739},{number:64,velocity:109,time:21.523099999999626,channel:1,string:0,fret:0,end:21.824199999999255,duration:.30109999999962866},{number:61,velocity:113,time:21.537199999999256,channel:2,string:1,fret:2,end:21.812099999999628,duration:.27490000000037185},{number:58,velocity:104,time:21.547099999999627,channel:3,string:2,fret:3,end:21.800199999999254,duration:.25309999999962685},{number:45,velocity:105,time:21.791099999999627,channel:5,string:4,fret:0,end:23.228199999999255,duration:1.437099999999628},{number:53,velocity:125,time:21.79809999999963,channel:4,string:3,fret:3,end:22.270099999999626,duration:.47199999999999775},{number:57,velocity:117,time:21.813199999999256,channel:3,string:2,fret:2,end:22.283199999999255,duration:.46999999999999886},{number:61,velocity:121,time:21.817099999999627,channel:2,string:1,fret:2,end:22.288199999999254,duration:.4710999999996268},{number:64,velocity:103,time:21.82709999999963,channel:1,string:0,fret:0,end:22.523099999999626,duration:.695999999999998},{number:49,velocity:39,time:22.251199999999255,channel:6,string:5,fret:9,end:22.285099999999627,duration:.03390000000037219},{number:52,velocity:113,time:22.279099999999627,channel:4,string:3,fret:2,end:22.561099999999627,duration:.28200000000000003},{number:40,velocity:56,time:22.282099999999627,channel:6,string:5,fret:0,end:23.213199999999254,duration:.9310999999996277},{number:57,velocity:107,time:22.286099999999628,channel:3,string:2,fret:2,end:22.544099999999627,duration:.2579999999999991},{number:61,velocity:109,time:22.293099999999626,channel:2,string:1,fret:2,end:22.533199999999255,duration:.24009999999962872},{number:64,velocity:87,time:22.527199999999254,channel:1,string:0,fret:0,end:22.986199999999254,duration:.45899999999999963},{number:60,velocity:120,time:22.538199999999254,channel:2,string:1,fret:1,end:23.006099999999627,duration:.46790000000037324},{number:58,velocity:127,time:22.549099999999626,channel:3,string:2,fret:3,end:23.024099999999628,duration:.4750000000000014},{number:52,velocity:123,time:22.565099999999628,channel:4,string:3,fret:2,end:23.039099999999628,duration:.4740000000000002},{number:64,velocity:88,time:22.989099999999627,channel:1,string:0,fret:0,end:23.288199999999254,duration:.2990999999996262},{number:61,velocity:110,time:23.01009999999963,channel:2,string:1,fret:2,end:23.26909999999963,duration:.25900000000000034},{number:57,velocity:106,time:23.02809999999963,channel:3,string:2,fret:2,end:23.258099999999626,duration:.22999999999999687},{number:52,velocity:96,time:23.049099999999626,channel:4,string:3,fret:2,end:23.231199999999255,duration:.1820999999996289},{number:40,velocity:58,time:23.224199999999254,channel:6,string:5,fret:0,end:23.697199999999256,duration:.47300000000000253},{number:45,velocity:101,time:23.237199999999255,channel:5,string:4,fret:0,end:23.500099999999627,duration:.2629000000003714},{number:52,velocity:127,time:23.256199999999254,channel:4,string:3,fret:2,end:23.402199999999254,duration:.1460000000000008},{number:58,velocity:127,time:23.261099999999626,channel:3,string:2,fret:3,end:23.371199999999256,duration:.11009999999962972},{number:60,velocity:120,time:23.27509999999963,channel:2,string:1,fret:1,end:23.356199999999255,duration:.08109999999962625},{number:64,velocity:104,time:23.292199999999255,channel:1,string:0,fret:0,end:23.437099999999628,duration:.14490000000037284},{number:64,velocity:83,time:23.44109999999963,channel:1,string:0,fret:0,end:23.741099999999626,duration:.29999999999999716},{number:59,velocity:107,time:23.459099999999626,channel:2,string:1,fret:0,end:23.732199999999256,duration:.27309999999962997},{number:55,velocity:104,time:23.477099999999627,channel:3,string:2,fret:0,end:23.723099999999626,duration:.24599999999999866},{number:50,velocity:108,time:23.491099999999626,channel:4,string:3,fret:0,end:23.619099999999627,duration:.1280000000000001},{number:45,velocity:106,time:23.508199999999256,channel:5,string:4,fret:0,end:23.604099999999626,duration:.0959000000003698},{number:53,velocity:69,time:23.702199999999255,channel:5,string:4,fret:8,end:23.736199999999254,duration:.03399999999999892},{number:40,velocity:111,time:23.707099999999627,channel:6,string:5,fret:0,end:23.72009999999963,duration:.013000000000001677},{number:62,velocity:110,time:23.71709999999963,channel:6,string:5,fret:22,end:23.736199999999254,duration:.019099999999625084},{number:56,velocity:127,time:23.727199999999254,channel:3,string:2,fret:1,end:24.213099999999628,duration:.4859000000003739},{number:52,velocity:127,time:23.730099999999627,channel:4,string:3,fret:2,end:24.19909999999963,duration:.4690000000000012},{number:47,velocity:91,time:23.73409999999963,channel:5,string:4,fret:2,end:24.194099999999626,duration:.4599999999999973},{number:40,velocity:108,time:23.73409999999963,channel:6,string:5,fret:0,end:25.178099999999628,duration:1.443999999999999},{number:60,velocity:125,time:23.73709999999963,channel:2,string:1,fret:1,end:24.483099999999627,duration:.7459999999999987},{number:64,velocity:101,time:23.74309999999963,channel:1,string:0,fret:0,end:24.47009999999963,duration:.7270000000000003},{number:47,velocity:100,time:24.201099999999627,channel:5,string:4,fret:2,end:24.976199999999256,duration:.7750999999996289},{number:53,velocity:119,time:24.203099999999626,channel:4,string:3,fret:3,end:24.508099999999626,duration:.3049999999999997},{number:55,velocity:123,time:24.21709999999963,channel:3,string:2,fret:0,end:24.50209999999963,duration:.28500000000000014},{number:64,velocity:120,time:24.474199999999254,channel:1,string:0,fret:0,end:24.913199999999254,duration:.43900000000000006},{number:59,velocity:121,time:24.488099999999626,channel:2,string:1,fret:0,end:24.939099999999627,duration:.4510000000000005},{number:55,velocity:124,time:24.506199999999254,channel:3,string:2,fret:0,end:25.21109999999963,duration:.7049000000003751},{number:52,velocity:112,time:24.517099999999626,channel:4,string:3,fret:2,end:25.190099999999628,duration:.6730000000000018},{number:64,velocity:101,time:24.918099999999626,channel:1,string:0,fret:0,end:25.23709999999963,duration:.3190000000000026},{number:59,velocity:92,time:24.942199999999254,channel:2,string:1,fret:0,end:25.224099999999627,duration:.2819000000003733},{number:47,velocity:91,time:24.982199999999256,channel:5,string:4,fret:2,end:25.195199999999254,duration:.2129999999999974},{number:40,velocity:88,time:25.18809999999963,channel:6,string:5,fret:0,end:25.64709999999963,duration:.45899999999999963},{number:47,velocity:103,time:25.201099999999627,channel:5,string:4,fret:2,end:25.42909999999963,duration:.22800000000000153},{number:53,velocity:116,time:25.208199999999255,channel:4,string:3,fret:3,end:25.415099999999626,duration:.20690000000037045},{number:55,velocity:115,time:25.215099999999627,channel:3,string:2,fret:0,end:25.395099999999626,duration:.17999999999999972},{number:59,velocity:126,time:25.227199999999254,channel:2,string:1,fret:0,end:25.384099999999627,duration:.1569000000003733},{number:64,velocity:116,time:25.242099999999628,channel:1,string:0,fret:0,end:25.370199999999254,duration:.12809999999962685},{number:64,velocity:94,time:25.373199999999255,channel:1,string:0,fret:0,end:25.696199999999255,duration:.3230000000000004},{number:59,velocity:113,time:25.389099999999626,channel:2,string:1,fret:0,end:25.687099999999628,duration:.2980000000000018},{number:55,velocity:113,time:25.401199999999253,channel:3,string:2,fret:0,end:25.674099999999626,duration:.27290000000037296},{number:52,velocity:115,time:25.42009999999963,channel:4,string:3,fret:2,end:25.66709999999963,duration:.2469999999999999},{number:47,velocity:102,time:25.43509999999963,channel:5,string:4,fret:2,end:25.65609999999963,duration:.22100000000000009},{number:40,velocity:101,time:25.658099999999628,channel:6,string:5,fret:0,end:26.134099999999627,duration:.4759999999999991},{number:48,velocity:112,time:25.664199999999255,channel:5,string:4,fret:3,end:26.157099999999627,duration:.4929000000003718},{number:53,velocity:127,time:25.670199999999255,channel:4,string:3,fret:3,end:26.15009999999963,duration:.4799000000003737},{number:56,velocity:127,time:25.681099999999628,channel:3,string:2,fret:1,end:26.17009999999963,duration:.48900000000000077},{number:59,velocity:121,time:25.69109999999963,channel:2,string:1,fret:0,end:26.193099999999628,duration:.5019999999999989},{number:64,velocity:100,time:25.701099999999627,channel:1,string:0,fret:0,end:26.401099999999627,duration:.6999999999999993},{number:40,velocity:97,time:26.143199999999254,channel:6,string:5,fret:0,end:26.944099999999626,duration:.8009000000003716},{number:67,velocity:92,time:26.15309999999963,channel:4,string:3,fret:17,end:26.172099999999627,duration:.01899999999999835},{number:47,velocity:96,time:26.162099999999626,channel:5,string:4,fret:2,end:26.461199999999256,duration:.2990999999996298},{number:53,velocity:115,time:26.169099999999627,channel:4,string:3,fret:3,end:26.444099999999626,duration:.2749999999999986},{number:55,velocity:115,time:26.175099999999627,channel:3,string:2,fret:0,end:26.43509999999963,duration:.26000000000000156},{number:59,velocity:114,time:26.198099999999627,channel:2,string:1,fret:0,end:26.415099999999626,duration:.21699999999999875},{number:64,velocity:81,time:26.404099999999627,channel:1,string:0,fret:0,end:26.867199999999254,duration:.4630999999996277},{number:59,velocity:111,time:26.42009999999963,channel:2,string:1,fret:0,end:26.883199999999256,duration:.4630999999996277},{number:55,velocity:121,time:26.43809999999963,channel:3,string:2,fret:0,end:26.898199999999257,duration:.4600999999996276},{number:53,velocity:124,time:26.448199999999254,channel:4,string:3,fret:3,end:26.915099999999626,duration:.466900000000372},{number:47,velocity:102,time:26.469099999999628,channel:5,string:4,fret:2,end:26.928099999999628,duration:.45899999999999963},{number:64,velocity:58,time:26.87109999999963,channel:1,string:0,fret:0,end:29.29209999999963,duration:2.4209999999999994},{number:59,velocity:102,time:26.888199999999255,channel:2,string:1,fret:0,end:27.17909999999963,duration:.29090000000037364},{number:55,velocity:110,time:26.904199999999253,channel:3,string:2,fret:0,end:27.163199999999254,duration:.25900000000000034},{number:53,velocity:122,time:26.919099999999627,channel:4,string:3,fret:3,end:27.15309999999963,duration:.23400000000000176},{number:47,velocity:96,time:26.937099999999628,channel:5,string:4,fret:2,end:27.145199999999257,duration:.2080999999996287},{number:40,velocity:88,time:26.951099999999627,channel:6,string:5,fret:0,end:27.123099999999628,duration:.1720000000000006},{number:40,velocity:92,time:27.133099999999626,channel:6,string:5,fret:0,end:27.38809999999963,duration:.25500000000000256},{number:47,velocity:101,time:27.15009999999963,channel:5,string:4,fret:2,end:27.739099999999627,duration:.5889999999999986},{number:52,velocity:113,time:27.158099999999628,channel:4,string:3,fret:2,end:27.360099999999626,duration:.20199999999999818},{number:55,velocity:118,time:27.16709999999963,channel:3,string:2,fret:0,end:27.349199999999254,duration:.18209999999962534},{number:59,velocity:113,time:27.183099999999627,channel:2,string:1,fret:0,end:29.132099999999628,duration:1.9490000000000016},{number:55,velocity:114,time:27.35309999999963,channel:3,string:2,fret:0,end:28.959099999999626,duration:1.605999999999998},{number:53,velocity:118,time:27.364099999999627,channel:4,string:3,fret:3,end:28.770199999999257,duration:1.406099999999629},{number:40,velocity:94,time:27.398199999999257,channel:6,string:5,fret:0,end:27.652099999999628,duration:.25390000000037105},{number:40,velocity:87,time:27.70209999999963,channel:6,string:5,fret:0,end:28.407099999999627,duration:.7049999999999983},{number:47,velocity:64,time:27.753099999999627,channel:5,string:4,fret:2,end:28.59509999999963,duration:.8420000000000023},{number:40,velocity:84,time:28.538099999999627,channel:6,string:5,fret:0,end:31.107099999999626,duration:2.568999999999999},{number:47,velocity:81,time:28.722199999999255,channel:5,string:4,fret:2,end:30.264199999999256,duration:1.5420000000000016},{number:52,velocity:124,time:28.903199999999256,channel:4,string:3,fret:2,end:30.250199999999253,duration:1.3469999999999978},{number:55,velocity:106,time:29.085099999999628,channel:3,string:2,fret:0,end:31.09209999999963,duration:2.0070000000000014},{number:59,velocity:101,time:29.254099999999628,channel:2,string:1,fret:0,end:31.078099999999626,duration:1.823999999999998},{number:64,velocity:95,time:29.42009999999963,channel:1,string:0,fret:0,end:30.960099999999628,duration:1.5399999999999991}],h4t="strumming-pattern",f4t="2024-07-03T17:17:43.861Z",xS={pastSeconds:c4t,maxNoteDistance:u4t,notes:d4t,_appId:h4t,_date:f4t};function m4t(e){let t,i,n,a,s;return{c(){t=K("p"),t.innerHTML="1) Strum up and down alternating: <code>U D U D</code>.",i=Y(),n=K("p"),n.innerHTML=`2) Strumming a pattern like <code>D U U D</code> or
                <code>D D U D</code>.`,a=Y(),s=K("p"),s.textContent=`3) Strum chords like Am, E, G, D and make sure you only strum
                the strings you intend.`},m(l,c){_t(l,t,c),_t(l,i,c),_t(l,n,c),_t(l,a,c),_t(l,s,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s))}}}function p4t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J;function W(dt){e[13](dt)}let et={title:"time in seconds for past notes to be shown",label:"time",callback:e[9],min:10,max:300,step:10};e[2]!==void 0&&(et.value=e[2]),u=new ia({props:et}),me.push(()=>Te(u,"value",W));function mt(dt){e[14](dt)}let ot={title:"maximum distance between notes such that they still count as beloning to the same chord",label:"max. note distance",callback:e[9],min:.01,max:5,step:.01};e[3]!==void 0&&(ot.value=e[3]),m=new ia({props:ot}),me.push(()=>Te(m,"value",mt));function pt(dt){e[17](dt)}let wt={saveToStorage:e[12],callback:e[16]};e[5]!==void 0&&(wt.notes=e[5]),E=new aa({props:wt}),me.push(()=>Te(E,"notes",pt)),I=new Ma({props:{appId:e[0].id,loadData:e[11]}});function Mt(dt){e[19](dt)}let xt={callback:e[9]};return e[5]!==void 0&&(xt.notes=e[5]),D=new Ps({props:xt}),me.push(()=>Te(D,"notes",Mt)),N=new ua({props:{loadData:e[11],getExportData:e[10],appId:e[0].id}}),$=new Kr({props:{$$slots:{default:[m4t]},$$scope:{ctx:e}}}),j=new Xr({props:{appId:e[0].id}}),Q=new $r({props:{noteOn:e[7],noteOff:e[8]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app shows you how you strummed (up or down? which strings?), so
            you can make sure you strumm a pattern as intended. The upper chart
            shows you the when you played a note on which string. The lower
            chart shows you the time between the start of the first and last
            note of the chord (rectangle width) and which strings it spanned
            (rectangle y and height). Blue chords were strummed upward and
            orange ones downward. The strumming direction is further indicated
            by arrow heads. Due to how guitar tabs are drawn from the point of
            view of the guitarist, downward strumming will result in upward
            arrows in the lower visualization. Single notes are drawn in red.
            The opactiy encodes the notes' mean velocity (loudness).`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),A=K("div"),b=Y(),v=K("div"),Ut(E.$$.fragment),_=Y(),C=K("button"),C.textContent="example",O=Y(),Ut(I.$$.fragment),T=Y(),Ut(D.$$.fragment),L=Y(),Ut(N.$$.fragment),U=Y(),Ut($.$$.fragment),F=Y(),Ut(j.$$.fragment),z=Y(),Ut(Q.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(A,"class","visualization"),ut(v,"class","control"),ut(t,"class","app")},m(dt,Ot){_t(dt,t,Ot),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(t,p),R(t,A),e[15](A),R(t,b),R(t,v),Nt(E,v,null),R(v,_),R(v,C),R(v,O),Nt(I,v,null),R(v,T),Nt(D,v,null),R(v,L),Nt(N,v,null),R(t,U),Nt($,t,null),R(t,F),Nt(j,t,null),R(t,z),Nt(Q,t,null),V=!0,q||(J=Qe(C,"click",e[18]),q=!0)},p(dt,Ot){(!V||Ot&1)&&n!==(n=dt[0].title+"")&&Ue(a,n);const At={};!h&&Ot&4&&(h=!0,At.value=dt[2],Se(()=>h=!1)),u.$set(At);const jt={};!M&&Ot&8&&(M=!0,jt.value=dt[3],Se(()=>M=!1)),m.$set(jt);const bt={};Ot&80&&(bt.callback=dt[16]),!x&&Ot&32&&(x=!0,bt.notes=dt[5],Se(()=>x=!1)),E.$set(bt);const kt={};Ot&1&&(kt.appId=dt[0].id),I.$set(kt);const Dt={};!P&&Ot&32&&(P=!0,Dt.notes=dt[5],Se(()=>P=!1)),D.$set(Dt);const Xt={};Ot&1&&(Xt.appId=dt[0].id),N.$set(Xt);const ae={};Ot&16777216&&(ae.$$scope={dirty:Ot,ctx:dt}),$.$set(ae);const Jt={};Ot&1&&(Jt.appId=dt[0].id),j.$set(Jt)},i(dt){V||(Bt(u.$$.fragment,dt),Bt(m.$$.fragment,dt),Bt(E.$$.fragment,dt),Bt(I.$$.fragment,dt),Bt(D.$$.fragment,dt),Bt(N.$$.fragment,dt),Bt($.$$.fragment,dt),Bt(j.$$.fragment,dt),Bt(Q.$$.fragment,dt),V=!0)},o(dt){Rt(u.$$.fragment,dt),Rt(m.$$.fragment,dt),Rt(E.$$.fragment,dt),Rt(I.$$.fragment,dt),Rt(D.$$.fragment,dt),Rt(N.$$.fragment,dt),Rt($.$$.fragment,dt),Rt(j.$$.fragment,dt),Rt(Q.$$.fragment,dt),V=!1},d(dt){dt&&Ct(t),Ft(u),Ft(m),e[15](null),Ft(E),Ft(I),Ft(D),Ft(N),Ft($),Ft(j),Ft(Q),q=!1,J()}}}function g4t(e){let t,i;return t=new da({props:{loadData:e[11],$$slots:{default:[p4t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&16777343&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let M4t=900,A4t=200,tM=6;function y4t(e,t,i){let{appInfo:n}=t,a=[64,59,55,50,45,40];const s=a.map(Ts);let l,c=10,d=.05;const u=gA("guitarMidiMinVelocity")??0,h=gA("guitarMidiMinDuration")??0;console.log({minVelo:u,minDur:h});let g,m=[],M=new Map;const p=L=>{m.length===0&&i(4,g=L.timestamp);const N=(L.timestamp-g)/1e3,U=L.message.channel-1,$={number:L.note.number,velocity:L.rawVelocity,time:N,channel:L.message.channel,string:U,fret:L.note.number-a[U]};if(M.has(L.note.number)){const F=M.get(L.note.number);F.end===void 0&&(F.end=N)}i(5,m=[...m,$]),M.set(L.note.number,$),b()},A=L=>{if(M.has(L.note.number)){const N=M.get(L.note.number),U=(L.timestamp-g)/1e3;N.end=U,N.duration=N.end-N.time}b()},b=()=>{const L=m.filter(q=>q.velocity>=u&&(q.duration===void 0||q.duration>=h));let N=.5;L.length>0&&(N=m.at(-1).time+.5);const U=N-c,$=m.filter(q=>q.end>U||q.end===void 0),j=_f($,d).map(q=>{const J=Ua(q,ot=>ot.string),W=Ua(q,ot=>ot.time),et=q.slice(1).map((ot,pt)=>ot.string-q[pt].string);let mt;return J[0]===J[1]?mt="single note":mt=Uh(et)>0?"up":"down",{minString:J[0],maxString:J[1],minTime:W[0],maxTime:W[1],direction:mt,meanVelocity:Bc(q,ot=>ot.velocity)}}),z={width:M4t,height:A4t,marginTop:0,marginLeft:45,marginBottom:35},Q=Sn({...z,x:{label:"time in seconds",domain:[U,N]},y:{label:"string",grid:!0,domain:Ci(0,tM),tickFormat:q=>s[q]},color:{label:"string",type:"categorical",scheme:"observable10",reverse:!0,legend:!0,marginLeft:100,width:300,domain:Ci(1,tM+1)},opacity:{domain:[0,127]},marks:[L9($,{clip:!0,x:"time",y:"string",stroke:"channel",opacity:"velocity",strokeWidth:3})]}),V=Sn({...z,x:{label:"time in seconds",domain:[U,N]},y:{label:"string",grid:!0,domain:Ci(0,tM),tickFormat:q=>s[q],padding:.7},color:{label:"strumming",type:"categorical",scheme:"observable10",legend:!0,marginLeft:100,width:300,domain:["up","down","single note"]},marks:[ZN(j,{clip:!0,x1:"minTime",x2:"maxTime",y1:"minString",y2:"maxString",fill:"direction",opacity:"meanVelocity",rx:5}),js(j,{clip:!0,x:q=>(q.minTime+q.maxTime)/2,y:q=>q.direction==="down"?q.minString:q.maxString,fill:"direction",symbol:"diamond",r:8})]});i(1,l.textContent="",l),l.appendChild(Q),l.appendChild(V)};sr(()=>{b()});const v=()=>({pastSeconds:c,maxNoteDistance:d,notes:m}),E=L=>{x(),i(2,c=L.pastSeconds),i(3,d=L.maxNoteDistance),i(5,m=L.notes),b()},x=()=>{m.length>0&&JSON.stringify(m)!==JSON.stringify(xS.notes)&&ga(n.id,v())};or(x);function _(L){c=L,i(2,c)}function C(L){d=L,i(3,d)}function O(L){me[L?"unshift":"push"](()=>{l=L,i(1,l)})}const I=()=>{i(6,M=new Map),i(4,g=performance.now()),b()};function T(L){m=L,i(5,m)}const D=()=>E(xS);function P(L){m=L,i(5,m)}return e.$$set=L=>{"appInfo"in L&&i(0,n=L.appInfo)},[n,l,c,d,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P]}class v4t extends qi{constructor(t){super(),Wi(this,t,y4t,g4t,Ji,{appInfo:0})}}function SS(e,t){return e==null?t:typeof e=="function"?e:i=>i[e]}function b4t(e,t,i,n,a,s){const l=new Float64Array(s),c=(s-1)/(a-n);for(let d=0;d<e.length;++d){const u=e[d],h=t(u,d,e),g=i(u,d,e);if(!(Number.isFinite(h)&&Number.isFinite(g)))continue;const m=(h-n)*c,M=Math.floor(m),p=M+1;0<=M&&p<s?(l[M]+=(p-m)*g,l[p]+=(m-M)*g):M===-1?l[p]+=(m-M)*g:p===s&&(l[M]+=(p-m)*g)}return l}function TS(e,t=!1){const i=new Float64Array(5),n=new Float64Array(4);C4t(i,n,e);const a=Float64Array.of(0,n[1]-i[1]*n[0],n[2]-i[2]*n[0],n[3]-i[3]*n[0],-i[4]*n[0]),s=1+i[1]+i[2]+i[3]+i[4],l=(n[0]+n[1]+n[2]+n[3])/s,c=(a[1]+a[2]+a[3]+a[4])/s;return{sigma:e,negative:t,a:i,b_causal:n,b_anticausal:a,sum_causal:l,sum_anticausal:c}}function C4t(e,t,i){const a=Float64Array.of(.84,1.8675,.84,-1.8675,-.34015,-.1299,-.34015,.1299),s=Math.exp(-1.783/i),l=Math.exp(-1.723/i),c=.6318/i,d=1.997/i,u=Float64Array.of(-s*Math.cos(c),s*Math.sin(c),-s*Math.cos(-c),s*Math.sin(-c),-l*Math.cos(d),l*Math.sin(d),-l*Math.cos(-d),l*Math.sin(-d)),h=i*2.5066282746310007,g=Float64Array.of(a[0],a[1],0,0,0,0,0,0),m=Float64Array.of(1,0,u[0],u[1],0,0,0,0,0,0);let M,p;for(p=2;p<8;p+=2){for(g[p]=u[p]*g[p-2]-u[p+1]*g[p-1],g[p+1]=u[p]*g[p-1]+u[p+1]*g[p-2],M=p-2;M>0;M-=2)g[M]+=u[p]*g[M-2]-u[p+1]*g[M-1],g[M+1]+=u[p]*g[M-1]+u[p+1]*g[M-2];for(M=0;M<=p;M+=2)g[M]+=a[p]*m[M]-a[p+1]*m[M+1],g[M+1]+=a[p]*m[M+1]+a[p+1]*m[M];for(m[p+2]=u[p]*m[p]-u[p+1]*m[p+1],m[p+3]=u[p]*m[p+1]+u[p+1]*m[p],M=p;M>0;M-=2)m[M]+=u[p]*m[M-2]-u[p+1]*m[M-1],m[M+1]+=u[p]*m[M-1]+u[p+1]*m[M-2]}for(p=0;p<4;++p)M=p<<1,t[p]=g[M]/h,e[p+1]=m[M+2]}function _4t(e,t,i,n=1,a=new Float64Array(i),s=new Float64Array(i),l=new Float64Array(5),c=a,d=E4t){const u=n*2,h=n*3,g=n*4,m=n*i;let M,p;for(d(a,t,i,n,e.b_causal,3,e.a,4,e.sum_causal,l,e.sigma),p=4,M=g;p<i;++p,M+=n)a[p]=e.b_causal[0]*t[M]+e.b_causal[1]*t[M-n]+e.b_causal[2]*t[M-u]+e.b_causal[3]*t[M-h]-e.a[1]*a[p-1]-e.a[2]*a[p-2]-e.a[3]*a[p-3]-e.a[4]*a[p-4];for(d(s,t,i,-n,e.b_anticausal,4,e.a,4,e.sum_anticausal,l,e.sigma),p=4,M=m-n*5;p<i;++p,M-=n)s[p]=e.b_anticausal[1]*t[M+n]+e.b_anticausal[2]*t[M+u]+e.b_anticausal[3]*t[M+h]+e.b_anticausal[4]*t[M+g]-e.a[1]*s[p-1]-e.a[2]*s[p-2]-e.a[3]*s[p-3]-e.a[4]*s[p-4];if(e.negative)for(p=0,M=0;p<i;++p,M+=n)c[M]=a[p]+s[i-p-1];else for(p=0,M=0;p<i;++p,M+=n)c[M]=Math.max(0,a[p]+s[i-p-1]);return c}function E4t(e,t,i,n,a,s,l,c,d,u,h,g=.5){const m=Math.abs(n)*i,M=n<0?m+n:0;let p,A,b;for(A=0;A<c;++A)for(u[A]=A<=s?a[A]:0,b=1;b<=c&&b<=A;++b)u[A]-=l[b]*u[A-b];for(b=0;b<c;++b)for(e[b]=0,A=1;A<=b;++A)p=M+n*A,p>=0&&p<m&&(e[b]+=u[b-A]*t[p]);const v=t[M],E=Math.ceil(h*10);for(A=0;A<E;++A){for(b=0;b<c;++b)e[b]+=u[b]*v;if(d-=Math.abs(u[0]),d<=g)break;for(u[c]=A+c<=s?a[A+c]:0,b=1;b<=c;++b)u[c]-=l[b]*u[c-b];for(b=0;b<c;++b)u[b]=u[b+1]}}function w4t(e,t,i=0){const n=e.length;let a,s;for(let l=0;l<n;++l){const c=t(e[l],l,e);c!=null&&(a===void 0?c>=c&&(a=s=c):(c<a&&(a=c),c>s&&(s=c)))}return[a-i,s+i]}function O4t(e,t){const i=e.map(t).filter(u=>u!=null&&u>=u);i.sort((u,h)=>u-h);const n=x4t(i),a=IS(i,.25),s=IS(i,.75),l=i.length,c=(s-a)/1.34;return 1.06*(Math.min(n,c)||n||Math.abs(a)||1)*Math.pow(l,-.2)}function x4t(e){const t=e.length;let i=0,n,a=0,s=0;for(let l=0;l<t;++l){const c=e[l];n=c-a,a+=n/++i,s+=n*(c-a)}return i>1?Math.sqrt(s/(i-1)):NaN}function IS(e,t){const i=e.length;if(!i)return NaN;if((t=+t)<=0||i<2)return e[0];if(t>=1)return e[i-1];const n=(i-1)*t,a=Math.floor(n),s=e[a];return s+(e[a+1]-s)*(n-a)}function wm(e,t={}){const{adjust:i=1,pad:n=3,bins:a=512}=t,s=SS(t.x,v=>v),l=SS(t.weight,()=>1/e.length);let c=t.bandwidth??i*O4t(e,s);const[d,u]=t.extent??w4t(e,s,n*c),h=b4t(e,s,l,d,u,a),g=(u-d)/(a-1),m=h.some(v=>v<0);let M=TS(c/g,m),p;function*A(v="x",E="y"){const x=b.grid(),_=1/g;for(let C=0;C<a;++C)yield{[v]:d+C*g,[E]:x[C]*_}}const b={[Symbol.iterator]:A,points:A,grid:()=>p||(p=_4t(M,h,a)),extent:()=>[d,u],bandwidth(v){return arguments.length?(v!==c&&(c=v,p=null,M=TS(c/g,m)),b):c}};return b}const S4t=60,T4t="4:3",I4t=96,B4t=-.05,R4t=8,D4t=[{time:0,velocity:.5},{time:.416,velocity:.5},{time:.787,velocity:.5},{time:1.166,velocity:.5},{time:1.502,velocity:.5},{time:1.820099999964237,velocity:.5},{time:2.16,velocity:.5},{time:2.448099999964237,velocity:.5},{time:2.751,velocity:.5},{time:3.069,velocity:.5},{time:3.449099999964237,velocity:.5},{time:3.749,velocity:.5},{time:4.069099999964237,velocity:.5},{time:4.415,velocity:.5},{time:4.7320999999642375,velocity:.5},{time:5.065,velocity:.5},{time:5.42,velocity:.5},{time:5.730099999964237,velocity:.5},{time:6.050099999964237,velocity:.5},{time:6.405,velocity:.5},{time:6.705,velocity:.5},{time:7.041099999964238,velocity:.5},{time:7.373,velocity:.5},{time:7.674,velocity:.5},{time:8.022099999964237,velocity:.5},{time:8.385,velocity:.5},{time:8.7,velocity:.5},{time:9.024099999964237,velocity:.5},{time:9.392,velocity:.5},{time:9.709,velocity:.5},{time:10.026,velocity:.5},{time:10.378,velocity:.5},{time:10.691099999964237,velocity:.5},{time:11.024099999964237,velocity:.5},{time:11.372099999964238,velocity:.5},{time:11.683099999964238,velocity:.5},{time:12.021099999964237,velocity:.5},{time:12.367099999964237,velocity:.5},{time:12.701099999964237,velocity:.5},{time:13.033099999964238,velocity:.5},{time:13.353099999964238,velocity:.5},{time:13.679,velocity:.5},{time:14.011099999964237,velocity:.5},{time:14.352099999964237,velocity:.5},{time:14.688099999964237,velocity:.5},{time:15.012099999964237,velocity:.5},{time:15.374099999964237,velocity:.5},{time:15.68,velocity:.5},{time:16.011,velocity:.5},{time:16.372,velocity:.5},{time:17.028,velocity:.5},{time:18.033099999964236,velocity:.5},{time:18.042099999964236,velocity:.5},{time:19.030099999964236,velocity:.5},{time:19.692,velocity:.5},{time:20.024,velocity:.5},{time:21.01809999996424,velocity:.5},{time:21.38109999996424,velocity:.5},{time:21.73609999996424,velocity:.5},{time:22.065099999964236,velocity:.5},{time:22.386,velocity:.5},{time:22.694099999964237,velocity:.5},{time:23.030099999964236,velocity:.5},{time:23.347,velocity:.5},{time:23.63109999996424,velocity:.5},{time:23.997,velocity:.5},{time:24.34909999996424,velocity:.5},{time:24.687,velocity:.5},{time:25.028099999964237,velocity:.5},{time:25.385,velocity:.5},{time:25.683,velocity:.5},{time:26.014099999964237,velocity:.5},{time:26.378,velocity:.5},{time:26.697099999964237,velocity:.5},{time:27.027099999964236,velocity:.5},{time:27.373099999964236,velocity:.5},{time:27.692,velocity:.5},{time:28.049099999964238,velocity:.5},{time:28.404,velocity:.5},{time:28.70709999996424,velocity:.5},{time:29.045,velocity:.5},{time:29.397099999964237,velocity:.5},{time:29.709099999964238,velocity:.5},{time:30.055,velocity:.5},{time:30.41609999996424,velocity:.5},{time:30.726,velocity:.5},{time:31.062099999964236,velocity:.5},{time:31.418099999964237,velocity:.5},{time:31.745099999964236,velocity:.5}],P4t="sub-division-linear",L4t="0.15.1",k4t="2024-10-02T14:24:44.616Z",e2={tempo:S4t,grid:T4t,binNote:I4t,adjustTime:B4t,pastBars:R4t,notes:D4t,_appId:P4t,_softwareVersion:L4t,_date:k4t};function N4t(e){let t,i,n,a,s,l,c;return{c(){t=K("label"),i=se(`adjust
    `),n=K("input"),a=Y(),s=K("button"),s.textContent="auto",ut(n,"type","number"),ut(n,"step",bA),ut(n,"min",e[2]),ut(n,"max",HF),un(n,"width","55px"),ut(n,"class","svelte-pqwly5"),ut(t,"title","Shift all notes by an amount in seconds"),ut(s,"class","svelte-pqwly5")},m(d,u){_t(d,t,u),R(t,i),R(t,n),Vi(n,e[0]),_t(d,a,u),_t(d,s,u),l||(c=[Qe(n,"input",e[7]),Qe(n,"change",function(){V0(e[1])&&e[1].apply(this,arguments)}),Qe(n,"mousewheel",e[8]),Qe(s,"click",e[3])],l=!0)},p(d,[u]){e=d,u&1&&S9(n.value)!==e[0]&&Vi(n,e[0])},i:Fe,o:Fe,d(d){d&&(Ct(t),Ct(a),Ct(s)),l=!1,ar(c)}}}const HF=2,bA=.01;function F4t(e,t,i){let{adjustTime:n}=t,{notes:a}=t,{grid:s}=t,{tempo:l}=t,{draw:c}=t;const d=-2,u=()=>{if(!a||a.length===0){i(0,n=0);return}const[m,M]=s.split(":").map(C=>+C),p=ta(l)*m,A=p/(m*M),b=Ci(0,p+A,A),v=a.map(C=>{const O=C%p;let I=1/0;for(const T of b){const D=T-O;Math.abs(D)<Math.abs(I)&&(I=D)}return I}),E=Bc(v),x=Math.round(E*100)/100,_=()=>{i(0,n=n+(x-n)/20),Math.abs(n-x)>.001?setTimeout(_,1e3/60):i(0,n=x),c()};setTimeout(_,1e3/60)};function h(){n=S9(this.value),i(0,n)}const g=m=>{m.preventDefault();const M=m.deltaY<0?bA:-bA,p=Math.min(HF,Math.max(d,n+M));i(0,n=+p.toFixed(12)),c()};return e.$$set=m=>{"adjustTime"in m&&i(0,n=m.adjustTime),"notes"in m&&i(4,a=m.notes),"grid"in m&&i(5,s=m.grid),"tempo"in m&&i(6,l=m.tempo),"draw"in m&&i(1,c=m.draw)},[n,c,d,u,a,s,l,h,g]}class Om extends qi{constructor(t){super(),Wi(this,t,F4t,N4t,Ji,{adjustTime:0,notes:4,grid:5,tempo:6,draw:1})}}function U4t(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p;return u=new Ga({props:{key:"z",ctrlKey:!0,keyDown:e[2]}}),g=new Ga({props:{key:"y",ctrlKey:!0,keyDown:e[3]}}),{c(){t=K("button"),i=se("↺"),a=Y(),s=K("button"),l=se("↻"),d=Y(),Ut(u.$$.fragment),h=Y(),Ut(g.$$.fragment),ut(t,"title","undo the last note (shortcut: CTRL+Z)"),t.disabled=n=!e[0]||e[0].length===0,ut(t,"class","left svelte-1s8rvm6"),ut(s,"title","redo the last undone note (shortcut: CTRL+Y)"),s.disabled=c=!e[0]||e[1].length===0,ut(s,"class","right svelte-1s8rvm6")},m(A,b){_t(A,t,b),R(t,i),_t(A,a,b),_t(A,s,b),R(s,l),_t(A,d,b),Nt(u,A,b),_t(A,h,b),Nt(g,A,b),m=!0,M||(p=[Qe(t,"click",e[2]),Qe(s,"click",e[3])],M=!0)},p(A,[b]){(!m||b&1&&n!==(n=!A[0]||A[0].length===0))&&(t.disabled=n),(!m||b&3&&c!==(c=!A[0]||A[1].length===0))&&(s.disabled=c)},i(A){m||(Bt(u.$$.fragment,A),Bt(g.$$.fragment,A),m=!0)},o(A){Rt(u.$$.fragment,A),Rt(g.$$.fragment,A),m=!1},d(A){A&&(Ct(t),Ct(a),Ct(s),Ct(d),Ct(h)),Ft(u,A),Ft(g,A),M=!1,ar(p)}}}function $4t(e,t,i){let{data:n=[]}=t,{callback:a=()=>{}}=t,s=[];const l=()=>{!n||n.length===0||(s.push(n.at(-1)),i(0,n=[...n.slice(0,-1)]),a())},c=()=>{!n||s.length===0||(i(0,n=[...n,s.at(-1)]),i(1,s=s.slice(0,-1)),a())};return e.$$set=d=>{"data"in d&&i(0,n=d.data),"callback"in d&&i(4,a=d.callback)},[n,s,l,c,a]}class w5 extends qi{constructor(t){super(),Wi(this,t,$4t,U4t,Ji,{data:0,callback:4})}}function G4t(e,t,i){let{callback:n=()=>{}}=t,{element:a=document.body}=t;const s=new ResizeObserver(n);return sr(()=>{document.addEventListener("resize",n),s.observe(a)}),or(()=>{document.removeEventListener("resize",n),s.unobserve(a)}),e.$$set=l=>{"callback"in l&&i(0,n=l.callback),"element"in l&&i(1,a=l.element)},[n,a]}class _v extends qi{constructor(t){super(),Wi(this,t,G4t,null,Ji,{callback:0,element:1})}}function V4t(e,t,i){const n=e.slice();return n[34]=t[i],n}function H4t(e,t,i){const n=e.slice();return n[34]=t[i],n}function Q4t(e){let t;return{c(){t=K("option"),t.textContent=`${e[34].label}`,t.__value=e[34].divisions,Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function z4t(e){let t,i=Ge(K9),n=[];for(let a=0;a<i.length;a+=1)n[a]=Q4t(H4t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function j4t(e){let t;return{c(){t=K("option"),t.textContent=`1/${e[34]} note`,t.__value=e[34],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function J4t(e){let t,i=Ge(ms),n=[];for(let a=0;a<i.length;a+=1)n[a]=j4t(V4t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function W4t(e){let t,i,n,a,s;return{c(){t=K("p"),t.textContent="1) Play triplets.",i=Y(),n=K("p"),n.textContent=`2) Switch back and forth between a half bar of eighths and a
                half bar of triplets.`,a=Y(),s=K("p"),s.textContent=`3) Play a swing feel, where you shift every second note a bit
                late. Try to do this consistently!`},m(l,c){_t(l,t,c),_t(l,i,c),_t(l,n,c),_t(l,a,c),_t(l,s,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s))}}}function q4t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I=e[7]?"area":"bars",T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt,Xt,ae,Jt,le,Ve,ai,Ye,ci,ei,Ze,be,ve,re,Et,vt,Ht;function St(Oe){e[17](Oe)}let It={callback:e[13]};e[3]!==void 0&&(It.value=e[3]),u=new ts({props:It}),me.push(()=>Te(u,"value",St));function zt(Oe){e[18](Oe)}let ht={label:"grid",title:"The whole circle is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:e[13],$$slots:{default:[z4t]},$$scope:{ctx:e}};e[4]!==void 0&&(ht.value=e[4]),m=new qr({props:ht}),me.push(()=>Te(m,"value",zt));function X(Oe){e[19](Oe)}let tt={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",callback:e[13],$$slots:{default:[J4t]},$$scope:{ctx:e}};e[5]!==void 0&&(tt.value=e[5]),A=new qr({props:tt}),me.push(()=>Te(A,"value",X));function Tt(Oe){e[20](Oe)}let Qt={tempo:e[3],grid:e[4],notes:e[10].map(BS),draw:e[13]};e[6]!==void 0&&(Qt.adjustTime=e[6]),x=new Om({props:Qt}),me.push(()=>Te(x,"adjustTime",Tt));function Zt(Oe){e[22](Oe)}let ce={label:"bar scores",title:"Show scores (percentage of notes within gray areas) per bar",callback:e[13]};e[9]!==void 0&&(ce.checked=e[9]),P=new Tr({props:ce}),me.push(()=>Te(P,"checked",Zt));function ye(Oe){e[23](Oe)}let $e={label:"loudness",title:"Show loudness in the note tick width, for example to see if you set accents correctly",callback:e[13]};e[8]!==void 0&&($e.checked=e[8]),U=new Tr({props:$e}),me.push(()=>Te(U,"checked",ye)),W=new t0({props:{tempo:e[3],accent:+e[4].split(":")[0]}});function ge(Oe){e[26](Oe)}let He={callback:e[13]};e[10]!==void 0&&(He.data=e[10]),mt=new w5({props:He}),me.push(()=>Te(mt,"data",ge));function _e(Oe){e[27](Oe)}let Pi={saveToStorage:e[16],callback:e[13]};e[10]!==void 0&&(Pi.notes=e[10]),wt=new aa({props:Pi}),me.push(()=>Te(wt,"notes",_e)),At=new Ma({props:{appId:e[0].id,loadData:e[15]}});function Le(Oe){e[29](Oe)}let ke={callback:e[13]};return e[10]!==void 0&&(ke.notes=e[10]),bt=new Ps({props:ke}),me.push(()=>Te(bt,"notes",Le)),Xt=new ua({props:{loadData:e[15],getExportData:e[14],appId:e[0].id}}),Jt=new Kr({props:{$$slots:{default:[W4t]},$$scope:{ctx:e}}}),Ve=new Xr({props:{appId:e[0].id}}),Ye=new $r({props:{noteOn:e[11],controlChange:e[12]}}),ei=new Ga({props:{key:" ",keyDown:e[30]}}),be=new Xc({props:{element:e[1],touchStart:e[31]}}),re=new _v({props:{callback:e[13]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
            triplets. Choose your tempo and subdivision, and start playing. The
            bar or area chart will show you a summary of when you played notes.
            Use the integrated metronome. All notes will be timed relative to
            the first one, but you can adjust all notes to make them earlier or
            later in case you messed up the first. Each bar you play will be
            shown its own layer around the circle. The lightgray areas show
            where a note would have to be to be timed well (depending on the
            binning setting), the score in the center shows the percentage of
            notes that are inside these areas.<br/> <i>Try playing without looking and focus on the metronome. Try to
                play all notes such that they are within a gray area!</i>`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),E=K("div"),Ut(x.$$.fragment),C=Y(),O=K("button"),T=se(I),D=Y(),Ut(P.$$.fragment),N=Y(),Ut(U.$$.fragment),F=Y(),j=K("div"),z=K("canvas"),Q=Y(),V=K("div"),q=Y(),J=K("div"),Ut(W.$$.fragment),et=Y(),Ut(mt.$$.fragment),pt=Y(),Ut(wt.$$.fragment),xt=Y(),dt=K("button"),dt.textContent="example",Ot=Y(),Ut(At.$$.fragment),jt=Y(),Ut(bt.$$.fragment),Dt=Y(),Ut(Xt.$$.fragment),ae=Y(),Ut(Jt.$$.fragment),le=Y(),Ut(Ve.$$.fragment),ai=Y(),Ut(Ye.$$.fragment),ci=Y(),Ut(ei.$$.fragment),Ze=Y(),Ut(be.$$.fragment),ve=Y(),Ut(re.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(O,"title","Toggle between bars and area"),ut(E,"class","control"),un(z,"width",U1+"px"),un(z,"height",$1+"px"),ut(j,"class","visualization"),ut(J,"class","control"),ut(t,"class","app")},m(Oe,Ii){_t(Oe,t,Ii),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(t,v),R(t,E),Nt(x,E,null),R(E,C),R(E,O),R(O,T),R(E,D),Nt(P,E,null),R(E,N),Nt(U,E,null),R(t,F),R(t,j),R(j,z),e[24](z),R(t,Q),R(t,V),e[25](V),R(t,q),R(t,J),Nt(W,J,null),R(J,et),Nt(mt,J,null),R(J,pt),Nt(wt,J,null),R(J,xt),R(J,dt),R(J,Ot),Nt(At,J,null),R(J,jt),Nt(bt,J,null),R(J,Dt),Nt(Xt,J,null),R(t,ae),Nt(Jt,t,null),R(t,le),Nt(Ve,t,null),R(t,ai),Nt(Ye,t,null),R(t,ci),Nt(ei,t,null),R(t,Ze),Nt(be,t,null),R(t,ve),Nt(re,t,null),Et=!0,vt||(Ht=[Qe(O,"click",e[21]),Qe(dt,"click",e[28])],vt=!0)},p(Oe,Ii){(!Et||Ii[0]&1)&&n!==(n=Oe[0].title+"")&&Ue(a,n);const wn={};!h&&Ii[0]&8&&(h=!0,wn.value=Oe[3],Se(()=>h=!1)),u.$set(wn);const ze={};Ii[1]&256&&(ze.$$scope={dirty:Ii,ctx:Oe}),!M&&Ii[0]&16&&(M=!0,ze.value=Oe[4],Se(()=>M=!1)),m.$set(ze);const Zi={};Ii[1]&256&&(Zi.$$scope={dirty:Ii,ctx:Oe}),!b&&Ii[0]&32&&(b=!0,Zi.value=Oe[5],Se(()=>b=!1)),A.$set(Zi);const Re={};Ii[0]&8&&(Re.tempo=Oe[3]),Ii[0]&16&&(Re.grid=Oe[4]),Ii[0]&1024&&(Re.notes=Oe[10].map(BS)),!_&&Ii[0]&64&&(_=!0,Re.adjustTime=Oe[6],Se(()=>_=!1)),x.$set(Re),(!Et||Ii[0]&128)&&I!==(I=Oe[7]?"area":"bars")&&Ue(T,I);const bn={};!L&&Ii[0]&512&&(L=!0,bn.checked=Oe[9],Se(()=>L=!1)),P.$set(bn);const Ir={};!$&&Ii[0]&256&&($=!0,Ir.checked=Oe[8],Se(()=>$=!1)),U.$set(Ir);const dr={};Ii[0]&8&&(dr.tempo=Oe[3]),Ii[0]&16&&(dr.accent=+Oe[4].split(":")[0]),W.$set(dr);const si={};!ot&&Ii[0]&1024&&(ot=!0,si.data=Oe[10],Se(()=>ot=!1)),mt.$set(si);const Ki={};!Mt&&Ii[0]&1024&&(Mt=!0,Ki.notes=Oe[10],Se(()=>Mt=!1)),wt.$set(Ki);const jn={};Ii[0]&1&&(jn.appId=Oe[0].id),At.$set(jn);const wi={};!kt&&Ii[0]&1024&&(kt=!0,wi.notes=Oe[10],Se(()=>kt=!1)),bt.$set(wi);const On={};Ii[0]&1&&(On.appId=Oe[0].id),Xt.$set(On);const Ha={};Ii[1]&256&&(Ha.$$scope={dirty:Ii,ctx:Oe}),Jt.$set(Ha);const Oa={};Ii[0]&1&&(Oa.appId=Oe[0].id),Ve.$set(Oa);const Kt={};Ii[0]&2&&(Kt.element=Oe[1]),be.$set(Kt)},i(Oe){Et||(Bt(u.$$.fragment,Oe),Bt(m.$$.fragment,Oe),Bt(A.$$.fragment,Oe),Bt(x.$$.fragment,Oe),Bt(P.$$.fragment,Oe),Bt(U.$$.fragment,Oe),Bt(W.$$.fragment,Oe),Bt(mt.$$.fragment,Oe),Bt(wt.$$.fragment,Oe),Bt(At.$$.fragment,Oe),Bt(bt.$$.fragment,Oe),Bt(Xt.$$.fragment,Oe),Bt(Jt.$$.fragment,Oe),Bt(Ve.$$.fragment,Oe),Bt(Ye.$$.fragment,Oe),Bt(ei.$$.fragment,Oe),Bt(be.$$.fragment,Oe),Bt(re.$$.fragment,Oe),Et=!0)},o(Oe){Rt(u.$$.fragment,Oe),Rt(m.$$.fragment,Oe),Rt(A.$$.fragment,Oe),Rt(x.$$.fragment,Oe),Rt(P.$$.fragment,Oe),Rt(U.$$.fragment,Oe),Rt(W.$$.fragment,Oe),Rt(mt.$$.fragment,Oe),Rt(wt.$$.fragment,Oe),Rt(At.$$.fragment,Oe),Rt(bt.$$.fragment,Oe),Rt(Xt.$$.fragment,Oe),Rt(Jt.$$.fragment,Oe),Rt(Ve.$$.fragment,Oe),Rt(Ye.$$.fragment,Oe),Rt(ei.$$.fragment,Oe),Rt(be.$$.fragment,Oe),Rt(re.$$.fragment,Oe),Et=!1},d(Oe){Oe&&Ct(t),Ft(u),Ft(m),Ft(A),Ft(x),Ft(P),Ft(U),e[24](null),e[25](null),Ft(W),Ft(mt),Ft(wt),Ft(At),Ft(bt),Ft(Xt),Ft(Jt),Ft(Ve),Ft(Ye),Ft(ei),Ft(be),Ft(re),vt=!1,ar(Ht)}}}function K4t(e){let t,i;return t=new da({props:{loadData:e[15],$$slots:{default:[q4t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&2047|a[1]&256&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let U1=900,$1=800;const BS=e=>e.time;function X4t(e,t,i){let{appInfo:n}=t;const a=Math.PI*2;let s,l,c=120,d=K9[0].divisions,u=64,h=0,g=!1,m=!1,M=!1,p=0,A=[];const b=J=>{A.length===0&&(p=J.timestamp);const et={time:(J.timestamp-p)/1e3,velocity:J.velocity};i(10,A=[...A,et]),E()},v=J=>{const W=J.controller.number;W===14?i(3,c=qa(J.rawValue,0,120)+60):W===15?i(4,d=K9[qa(Math.floor(J.rawValue/5),0,K9.length-1)]):W===16?i(5,u=ms[qa(Math.floor(J.rawValue/5),0,ms.length-1)]):W===17&&i(6,h=(qa(J.rawValue,0,100)-50)/100),E()},E=()=>{var ei;const J=U1/2,W=$1/2,et=U1*.18,mt=et*.8,ot=et*.9,pt=et*.95,wt=et*.68,Mt=Math.PI/2,xt=s.getContext("2d"),dt=window.devicePixelRatio,Ot=s.getBoundingClientRect();i(1,s.width=Ot.width*dt,s),i(1,s.height=Ot.height*dt,s),xt.scale(dt,dt),i(1,s.style.width=`${Ot.width}px`,s),i(1,s.style.height=`${Ot.height}px`,s),xt.clearRect(0,0,U1,$1);const[At,jt]=d.split(":").map(Ze=>+Ze),bt=ta(c)*At,kt=A.map(Ze=>({...Ze,time:Ze.time+h})),Xt=kt.map(Ze=>Ze.time%bt).map(Ze=>Ze/bt*a),ae=et*.2,Jt=u*At/4;if(kt.length>0){xt.lineWidth=2,xt.strokeStyle="#888";const Ze=Math.floor(kt.at(-1).time/bt)+1,be=($1/2-et-ae-10)/Ze;for(const[ve,re]of kt.entries()){m&&(xt.lineWidth=re.velocity*4);const Et=re.time/bt*a-Mt,vt=Math.cos(Et),Ht=Math.sin(Et),St=Math.max(0,Math.floor(re.time/bt)),It=et+ae+St*be+5,zt=It+be;xt.beginPath(),xt.moveTo(J+vt*It,W+Ht*It),xt.lineTo(J+vt*zt,W+Ht*zt),xt.stroke()}xt.lineWidth=1,xt.strokeStyle="#eee",xt.fillStyle="transparent";for(let ve=0;ve<Ze;ve++){const re=et+ae+ve*be+5;xt.beginPath(),xt.arc(J,W,re,0,2*Math.PI),xt.closePath(),xt.stroke()}}xt.fillStyle="#f8f8f8aa";const le=a/Jt,Ve=Ci(At*jt).map(Ze=>a/(At*jt)*Ze-Mt),ai=$1/2;xt.beginPath();for(const Ze of Ve){const be=Math.cos(Ze-le),ve=Math.sin(Ze-le),re=Math.cos(Ze+le),Et=Math.sin(Ze+le);xt.moveTo(J,W),xt.lineTo(J+be*ai,W+ve*ai),xt.lineTo(J+re*ai,W+Et*ai),xt.closePath()}if(xt.fill(),!g){xt.fillStyle="#f8f8f8",xt.strokeStyle="#aaa";const be=Ap().domain([0,a]).thresholds(Ci(Jt).map(re=>re/Jt*a))(Xt),ve=Ca(be,re=>re.length);for(const re of be){if(re.length===0)continue;const Et=re.length/ve*ae,vt=et+Et,Ht=re.x0-Mt,St=Math.cos(Ht),It=Math.sin(Ht),zt=re.x1-Mt,ht=Math.cos(zt),X=Math.sin(zt);xt.beginPath(),xt.moveTo(J+St*et,W+It*et),xt.lineTo(J+St*vt,W+It*vt),xt.arc(J,W,vt,Ht,zt),xt.lineTo(J+ht*et,W+X*et),xt.closePath(),xt.fill(),xt.stroke()}}if(g&&Xt.length>1){let Ze=4/u,Et=wm(Xt,{bandwidth:Ze,pad:0,bins:360,extent:[0,a]}).bandwidth(Ze);const vt=Ca([...Et],Ht=>Ht.y);Et=[...Et].map(Ht=>({...Ht,x:Ht.x<0?Ht.x+a:Ht.x})),Et.sort((Ht,St)=>Ht.x-St.x),xt.beginPath();for(const[Ht,St]of Et.entries()){const It=St.x-Mt;let zt=St.y;(Ht===0||Ht===Et.length-1)&&(zt=(Et.at(0).y+Et.at(-1).y)/2);const ht=et+zt/vt*ae,X=Math.cos(It),tt=Math.sin(It);Ht===0?xt.moveTo(J+X*ht,W+tt*ht):xt.lineTo(J+X*ht,W+tt*ht)}xt.closePath(),xt.fillStyle=L0.accent,xt.fill(),xt.strokeStyle="#aaa",xt.stroke()}xt.strokeStyle="#aaa",xt.fillStyle="white",Z8(xt,J,W,et),xt.lineWidth=2,xt.fill(),xt.stroke();const Ye=Ci(At).map(Ze=>a/At*Ze-Mt),ci=Ci(At*jt).map(Ze=>a/(At*jt)*Ze-Mt);xt.beginPath(),xt.lineWidth=2,xt.fillStyle="#ccc",xt.font="18px sans-serif",xt.textAlign="center",xt.textBaseline="center";for(const[Ze,be]of Ye.entries()){const ve=Math.cos(be),re=Math.sin(be);xt.moveTo(J+ve*mt,W+re*mt),xt.lineTo(J+ve*pt,W+re*pt),xt.fillText(Ze+1,J+ve*wt,W+re*wt+7)}xt.stroke(),xt.lineWidth=1,xt.beginPath();for(const Ze of ci){const be=Math.cos(Ze),ve=Math.sin(Ze);xt.moveTo(J+be*ot,W+ve*ot),xt.lineTo(J+be*pt,W+ve*pt)}if(xt.stroke(),A.length>0){const Ze=A2(A.map(be=>be.time),d,c,u,h);xt.fillText((Ze/A.length*100).toFixed()+"%",J,W+7)}if(i(2,l.innerText="",l),M){const Ze=Math.ceil((((ei=A.at(-1))==null?void 0:ei.time)??0)/At),be=Ze,re=Sl(A,vt=>Math.floor(vt.time/At)).map(([vt,Ht])=>A2(Ht.map(It=>It.time),d,c,u,h)/Ht.length*100),Et=Sn({width:U1,height:110,x:{label:"bar",domain:Ci(Ze-be,Ze),tickFormat:vt=>vt+1},y:{label:"percent of notes in gray areas, per bar",domain:[0,100]},marks:[Bo(re,{y:ra,x:(vt,Ht)=>Ht,fill:"var(--accent)",tip:!0}),zr([0]),zr([100])]});l.appendChild(Et)}};sr(E);const x=()=>({tempo:c,grid:d,binNote:u,adjustTime:h,showKde:g,showLoudness:m,showBarScores:M,notes:A}),_=J=>{C(),i(3,c=J.tempo),i(4,d=J.grid),i(5,u=J.binNote),i(6,h=J.adjustTime),i(7,g=J.showKde??!1),i(8,m=J.showLoudness??!1),i(9,M=J.showBarScores??!1),i(10,A=J.notes),E()},C=()=>{A.length>0&&JSON.stringify(A)!==JSON.stringify(e2.notes)&&ga(n.id,x())};or(C);function O(J){c=J,i(3,c)}function I(J){d=J,i(4,d)}function T(J){u=J,i(5,u)}function D(J){h=J,i(6,h)}const P=()=>{i(7,g=!g),E()};function L(J){M=J,i(9,M)}function N(J){m=J,i(8,m)}function U(J){me[J?"unshift":"push"](()=>{s=J,i(1,s)})}function $(J){me[J?"unshift":"push"](()=>{l=J,i(2,l)})}function F(J){A=J,i(10,A)}function j(J){A=J,i(10,A)}const z=()=>_(e2);function Q(J){A=J,i(10,A)}const V=()=>b({timestamp:performance.now(),velocity:.5}),q=()=>b({timestamp:performance.now(),velocity:.5});return e.$$set=J=>{"appInfo"in J&&i(0,n=J.appInfo)},[n,s,l,c,d,u,h,g,m,M,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q]}class Y4t extends qi{constructor(t){super(),Wi(this,t,X4t,K4t,Ji,{appInfo:0},null,[-1,-1])}}function Z4t(e,t,i){const n=e.slice();return n[33]=t[i],n}function tpt(e,t,i){const n=e.slice();return n[33]=t[i],n}function ept(e){let t;return{c(){t=K("option"),t.textContent=`${e[33].label}`,t.__value=e[33].divisions,Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function ipt(e){let t,i=Ge(K9),n=[];for(let a=0;a<i.length;a+=1)n[a]=ept(tpt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function npt(e){let t;return{c(){t=K("option"),t.textContent=`1/${e[33]} note`,t.__value=e[33],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function rpt(e){let t,i=Ge(ms),n=[];for(let a=0;a<i.length;a+=1)n[a]=npt(Z4t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function apt(e){let t;return{c(){t=se("example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function spt(e){let t,i,n,a,s,l,c,d;return n=new M0({props:{onclick:e[29],$$slots:{default:[apt]},$$scope:{ctx:e}}}),{c(){t=K("p"),i=se(`1) Play triplets.
                `),Ut(n.$$.fragment),a=Y(),s=K("p"),s.textContent=`2) Switch back and forth between a half bar of eighths and a
                half bar of triplets.`,l=Y(),c=K("p"),c.textContent=`3) Play a swing feel, where you shift every second note a bit
                late. Try to do this consistently!`},m(u,h){_t(u,t,h),R(t,i),Nt(n,t,null),_t(u,a,h),_t(u,s,h),_t(u,l,h),_t(u,c,h),d=!0},p(u,h){const g={};h[1]&128&&(g.$$scope={dirty:h,ctx:u}),n.$set(g)},i(u){d||(Bt(n.$$.fragment,u),d=!0)},o(u){Rt(n.$$.fragment,u),d=!1},d(u){u&&(Ct(t),Ct(a),Ct(s),Ct(l),Ct(c)),Ft(n)}}}function opt(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt,Xt,ae,Jt,le,Ve,ai,Ye,ci,ei,Ze,be,ve,re;function Et(ke){e[17](ke)}let vt={callback:e[13]};e[2]!==void 0&&(vt.value=e[2]),u=new ts({props:vt}),me.push(()=>Te(u,"value",Et));function Ht(ke){e[18](ke)}let St={label:"grid",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:e[13],$$slots:{default:[ipt]},$$scope:{ctx:e}};e[3]!==void 0&&(St.value=e[3]),m=new qr({props:St}),me.push(()=>Te(m,"value",Ht));function It(ke){e[19](ke)}let zt={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",callback:e[13],$$slots:{default:[rpt]},$$scope:{ctx:e}};e[4]!==void 0&&(zt.value=e[4]),A=new qr({props:zt}),me.push(()=>Te(A,"value",It));function ht(ke){e[20](ke)}let X={tempo:e[2],grid:e[3],notes:e[9].map(RS),draw:e[13]};e[5]!==void 0&&(X.adjustTime=e[5]),x=new Om({props:X}),me.push(()=>Te(x,"adjustTime",ht));function tt(ke){e[21](ke)}let Tt={title:"The number of most recent bars that are shown in the rows at the bottom.",label:"past bars",callback:e[13],step:1,min:8,max:32};e[6]!==void 0&&(Tt.value=e[6]),O=new ia({props:Tt}),me.push(()=>Te(O,"value",tt));function Qt(ke){e[22](ke)}let Zt={label:"bar scores",title:"Show scores (percentage of notes within gray areas) per bar",callback:e[13]};e[8]!==void 0&&(Zt.checked=e[8]),D=new Tr({props:Zt}),me.push(()=>Te(D,"checked",Qt));function ce(ke){e[23](ke)}let ye={label:"loudness",title:"Show loudness in the note tick width, for example to see if you set accents correctly",callback:e[13]};e[7]!==void 0&&(ye.checked=e[7]),N=new Tr({props:ye}),me.push(()=>Te(N,"checked",ce)),J=new t0({props:{tempo:e[2],accent:+e[3].split(":")[0]}});function $e(ke){e[25](ke)}let ge={callback:e[13]};e[9]!==void 0&&(ge.data=e[9]),et=new w5({props:ge}),me.push(()=>Te(et,"data",$e));function He(ke){e[26](ke)}let _e={saveToStorage:e[16],callback:e[13]};e[9]!==void 0&&(_e.notes=e[9]),pt=new aa({props:_e}),me.push(()=>Te(pt,"notes",He)),Ot=new Ma({props:{appId:e[0].id,loadData:e[15]}});function Pi(ke){e[28](ke)}let Le={callback:e[13]};return e[9]!==void 0&&(Le.notes=e[9]),jt=new Ps({props:Le}),me.push(()=>Te(jt,"notes",Pi)),Dt=new ua({props:{loadData:e[15],getExportData:e[14],appId:e[0].id}}),ae=new Kr({props:{$$slots:{default:[spt]},$$scope:{ctx:e}}}),le=new Xr({props:{appId:e[0].id}}),ai=new Ga({props:{key:" ",keyDown:e[30]}}),ci=new Xc({props:{element:e[1],touchStart:e[31]}}),Ze=new $r({props:{noteOn:e[11],controlChange:e[12]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
            triplets. Choose your tempo and subdivision, and start playing. The
            bar and area charts will show you a summary of when you played
            notes. Use the integrated metronome. All notes will be timed
            relative to the first one, but you can adjust all notes to make them
            earlier or later in case you messed up the first. The last few bars
            you play will be shown in a row below.<br/> <i>Try playing without looking and focus on the metronome. Try to
                play all notes such that they are within a gray area!</i>`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),E=K("div"),Ut(x.$$.fragment),C=Y(),Ut(O.$$.fragment),T=Y(),Ut(D.$$.fragment),L=Y(),Ut(N.$$.fragment),$=Y(),F=K("div"),j=Y(),z=K("div"),Q=se(e[10]),V=Y(),q=K("div"),Ut(J.$$.fragment),W=Y(),Ut(et.$$.fragment),ot=Y(),Ut(pt.$$.fragment),Mt=Y(),xt=K("button"),xt.textContent="example",dt=Y(),Ut(Ot.$$.fragment),At=Y(),Ut(jt.$$.fragment),kt=Y(),Ut(Dt.$$.fragment),Xt=Y(),Ut(ae.$$.fragment),Jt=Y(),Ut(le.$$.fragment),Ve=Y(),Ut(ai.$$.fragment),Ye=Y(),Ut(ci.$$.fragment),ei=Y(),Ut(Ze.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(E,"class","control"),ut(F,"class","visualization"),ut(q,"class","control"),ut(t,"class","app")},m(ke,Oe){_t(ke,t,Oe),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(t,v),R(t,E),Nt(x,E,null),R(E,C),Nt(O,E,null),R(E,T),Nt(D,E,null),R(E,L),Nt(N,E,null),R(t,$),R(t,F),e[24](F),R(t,j),R(t,z),R(z,Q),R(t,V),R(t,q),Nt(J,q,null),R(q,W),Nt(et,q,null),R(q,ot),Nt(pt,q,null),R(q,Mt),R(q,xt),R(q,dt),Nt(Ot,q,null),R(q,At),Nt(jt,q,null),R(q,kt),Nt(Dt,q,null),R(t,Xt),Nt(ae,t,null),R(t,Jt),Nt(le,t,null),R(t,Ve),Nt(ai,t,null),R(t,Ye),Nt(ci,t,null),R(t,ei),Nt(Ze,t,null),be=!0,ve||(re=Qe(xt,"click",e[27]),ve=!0)},p(ke,Oe){(!be||Oe[0]&1)&&n!==(n=ke[0].title+"")&&Ue(a,n);const Ii={};!h&&Oe[0]&4&&(h=!0,Ii.value=ke[2],Se(()=>h=!1)),u.$set(Ii);const wn={};Oe[1]&128&&(wn.$$scope={dirty:Oe,ctx:ke}),!M&&Oe[0]&8&&(M=!0,wn.value=ke[3],Se(()=>M=!1)),m.$set(wn);const ze={};Oe[1]&128&&(ze.$$scope={dirty:Oe,ctx:ke}),!b&&Oe[0]&16&&(b=!0,ze.value=ke[4],Se(()=>b=!1)),A.$set(ze);const Zi={};Oe[0]&4&&(Zi.tempo=ke[2]),Oe[0]&8&&(Zi.grid=ke[3]),Oe[0]&512&&(Zi.notes=ke[9].map(RS)),!_&&Oe[0]&32&&(_=!0,Zi.adjustTime=ke[5],Se(()=>_=!1)),x.$set(Zi);const Re={};!I&&Oe[0]&64&&(I=!0,Re.value=ke[6],Se(()=>I=!1)),O.$set(Re);const bn={};!P&&Oe[0]&256&&(P=!0,bn.checked=ke[8],Se(()=>P=!1)),D.$set(bn);const Ir={};!U&&Oe[0]&128&&(U=!0,Ir.checked=ke[7],Se(()=>U=!1)),N.$set(Ir),(!be||Oe[0]&1024)&&Ue(Q,ke[10]);const dr={};Oe[0]&4&&(dr.tempo=ke[2]),Oe[0]&8&&(dr.accent=+ke[3].split(":")[0]),J.$set(dr);const si={};!mt&&Oe[0]&512&&(mt=!0,si.data=ke[9],Se(()=>mt=!1)),et.$set(si);const Ki={};!wt&&Oe[0]&512&&(wt=!0,Ki.notes=ke[9],Se(()=>wt=!1)),pt.$set(Ki);const jn={};Oe[0]&1&&(jn.appId=ke[0].id),Ot.$set(jn);const wi={};!bt&&Oe[0]&512&&(bt=!0,wi.notes=ke[9],Se(()=>bt=!1)),jt.$set(wi);const On={};Oe[0]&1&&(On.appId=ke[0].id),Dt.$set(On);const Ha={};Oe[1]&128&&(Ha.$$scope={dirty:Oe,ctx:ke}),ae.$set(Ha);const Oa={};Oe[0]&1&&(Oa.appId=ke[0].id),le.$set(Oa);const Kt={};Oe[0]&2&&(Kt.element=ke[1]),ci.$set(Kt)},i(ke){be||(Bt(u.$$.fragment,ke),Bt(m.$$.fragment,ke),Bt(A.$$.fragment,ke),Bt(x.$$.fragment,ke),Bt(O.$$.fragment,ke),Bt(D.$$.fragment,ke),Bt(N.$$.fragment,ke),Bt(J.$$.fragment,ke),Bt(et.$$.fragment,ke),Bt(pt.$$.fragment,ke),Bt(Ot.$$.fragment,ke),Bt(jt.$$.fragment,ke),Bt(Dt.$$.fragment,ke),Bt(ae.$$.fragment,ke),Bt(le.$$.fragment,ke),Bt(ai.$$.fragment,ke),Bt(ci.$$.fragment,ke),Bt(Ze.$$.fragment,ke),be=!0)},o(ke){Rt(u.$$.fragment,ke),Rt(m.$$.fragment,ke),Rt(A.$$.fragment,ke),Rt(x.$$.fragment,ke),Rt(O.$$.fragment,ke),Rt(D.$$.fragment,ke),Rt(N.$$.fragment,ke),Rt(J.$$.fragment,ke),Rt(et.$$.fragment,ke),Rt(pt.$$.fragment,ke),Rt(Ot.$$.fragment,ke),Rt(jt.$$.fragment,ke),Rt(Dt.$$.fragment,ke),Rt(ae.$$.fragment,ke),Rt(le.$$.fragment,ke),Rt(ai.$$.fragment,ke),Rt(ci.$$.fragment,ke),Rt(Ze.$$.fragment,ke),be=!1},d(ke){ke&&Ct(t),Ft(u),Ft(m),Ft(A),Ft(x),Ft(O),Ft(D),Ft(N),e[24](null),Ft(J),Ft(et),Ft(pt),Ft(Ot),Ft(jt),Ft(Dt),Ft(ae),Ft(le),Ft(ai),Ft(ci),Ft(Ze),ve=!1,re()}}}function lpt(e){let t,i;return t=new da({props:{loadData:e[15],$$slots:{default:[opt]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&2047|a[1]&128&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let j4=900;const RS=e=>e.time;function cpt(e,t,i){let{appInfo:n}=t,a,s=120,l=K9[0].divisions,c=64,d=0,u=8,h=!1,g=!1,m=0,M=[],p="";const A=q=>{M.length===0&&(m=q.timestamp);const W={time:(q.timestamp-m)/1e3,velocity:q.velocity};i(9,M=[...M,W]),v()},b=q=>{const J=q.controller.number;J===14?i(2,s=qa(q.rawValue,0,120)+60):J===15?i(3,l=K9[qa(Math.floor(q.rawValue/5),0,K9.length-1)]):J===16?i(4,c=ms[qa(Math.floor(q.rawValue/5),0,ms.length-1)]):J===17&&i(5,d=(qa(q.rawValue,0,100)-50)/100),v()},v=()=>{var kt;const[q,J]=l.split(":").map(Dt=>+Dt),W=ta(s),et=M.map(Dt=>{const Xt=(Dt.time+d)/W;return{...Dt,time:Xt}}),mt=Math.ceil((((kt=et.at(-1))==null?void 0:kt.time)??0)/q),ot=et.map(Dt=>({...Dt,time:Dt.time%q}));let pt=[];if(ot.length>0){let Dt=4/c,Xt=1,ae=j4/2;pt=wm(ot.map(le=>le.time),{bandwidth:Dt,pad:Xt,bins:ae,extent:[0,q]}).bandwidth(Dt)}const wt=Ci(0,q+1,1),Mt=Ci(0,q,1/J),xt=[L9(Mt,{stroke:"#888"}),L9(wt,{stroke:"#888",strokeWidth:3})],dt={width:j4,height:100,marginTop:0,marginLeft:40,marginBottom:10,padding:0,x:{label:null,domain:[0,q],ticks:[]},y:{axis:!1}},Ot=Sn({...dt,marks:[Bo(ot,_5({y:"count"},{x:"time",fill:"#ccc",thresholds:Ci(0,q+1,4/c)})),zr([0]),...xt]}),At=Sn({...dt,marks:[E5(pt,{x:"x",y:"y",fill:Dt=>L0.accent,clip:!0}),zr([0]),...xt]}),jt=Sn({...dt,height:50,marginBottom:30,x:{ticks:[...Mt,q],label:"time in beats",domain:[0,q]},marks:[L9(ot,{x:"time",stroke:"#0002",clip:!0})]}),bt=Sn({...dt,height:180,marginBottom:30,x:{ticks:[...Mt,q],label:"time in beats",domain:[0,q]},y:{domain:Ci(mt-u,mt),tickFormat:Dt=>Dt+1,label:"recent bars"},marks:[L9(et,{x:Dt=>Dt.time%q,y:(Dt,Xt)=>Math.floor(Dt.time/q),strokeWidth:h?Dt=>Dt.velocity*4:1,clip:!0}),L9([...Mt,q],{x:Dt=>Dt,stroke:"#ccc",opacity:.7,clip:!0,strokeWidth:j4/c*2})]});if(i(1,a.textContent="",a),a.appendChild(Ot),a.appendChild(At),a.appendChild(jt),a.appendChild(bt),M.length>0){const Xt=(A2(M.map(ae=>ae.time),l,s,c,d)/M.length*100).toFixed();i(10,p=`${Xt}% of notes are within the gray areas`)}if(g){const Xt=Sl(M,Jt=>Math.floor(Jt.time/q)).map(([Jt,le])=>A2(le.map(ai=>ai.time),l,s,c,d)/le.length*100),ae=Sn({width:j4,height:110,x:{label:"bar",domain:Ci(mt-u,mt),tickFormat:Jt=>Jt+1},y:{label:"percent of notes in gray areas, per bar",domain:[0,100]},marks:[Bo(Xt,{y:ra,x:(Jt,le)=>le,fill:"var(--accent)"}),zr([0]),zr([100])]});a.appendChild(ae)}};sr(v);const E=()=>({tempo:s,grid:l,binNote:c,adjustTime:d,pastBars:u,showLoudness:h,showBarScores:g,notes:M}),x=q=>{_(),i(2,s=q.tempo),i(3,l=q.grid),i(4,c=q.binNote),i(5,d=q.adjustTime),i(6,u=q.pastBars),i(7,h=q.showLoudness??!1),i(8,g=q.showBarScores??!1),i(9,M=q.notes),v()},_=()=>{M.length>0&&JSON.stringify(M)!==JSON.stringify(e2.notes)&&ga(n.id,E())};or(_);function C(q){s=q,i(2,s)}function O(q){l=q,i(3,l)}function I(q){c=q,i(4,c)}function T(q){d=q,i(5,d)}function D(q){u=q,i(6,u)}function P(q){g=q,i(8,g)}function L(q){h=q,i(7,h)}function N(q){me[q?"unshift":"push"](()=>{a=q,i(1,a)})}function U(q){M=q,i(9,M)}function $(q){M=q,i(9,M)}const F=()=>x(e2);function j(q){M=q,i(9,M)}const z=()=>x(e2),Q=()=>A({timestamp:performance.now(),velocity:.5}),V=()=>A({timestamp:performance.now(),velocity:.5});return e.$$set=q=>{"appInfo"in q&&i(0,n=q.appInfo)},[n,a,s,l,c,d,u,h,g,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V]}class upt extends qi{constructor(t){super(),Wi(this,t,cpt,lpt,Ji,{appInfo:0},null,[-1,-1])}}const dpt=120,hpt=0,fpt=0,mpt=500,ppt=[0,.224,.4748999999761581,.712,.982,1.238,1.472,1.726899999976158,2.222,2.425,2.67,2.918899999976158,3.191,3.5288999999761583,3.768,4.046,4.327,4.585,4.848,5.068,5.331,5.565899999976158,5.819,6.364899999976158,6.593,6.843,7.0838999999761585,7.366899999976158,7.673899999976158,7.966,8.201,8.472899999976159,8.762,8.895,9.198,9.494,9.715899999976157,9.977,10.497,10.748,10.969,11.241,11.508,11.845,12.11,12.385,12.634,12.943,13.154,13.431,13.699,13.945,14.187,14.802,15.013,15.305899999976159,15.526899999976159,15.845899999976158,16.117899999976157,16.381,16.639,16.91889999997616,17.193899999976157,17.405,17.67,17.947,18.178899999976156,18.444,18.988,19.215,19.50689999997616,19.715,19.97989999997616,20.293,20.595899999976158,20.914899999976157,21.209,21.501,21.75389999997616,21.988,22.284,22.539899999976157,22.763,23.233,23.460899999976156,23.691,23.705,24.171,24.46,24.754,24.975899999976157,25.239,25.50689999997616,25.779,26.03289999997616,26.255,26.478,26.767,27.045899999976157,27.576,27.801,28.07389999997616,28.308,28.604,28.86,29.104,29.344899999976157,29.638899999976157,29.911899999976157,30.23389999997616,30.391899999976157,30.754,31.048,31.306,31.876,32.140899999976156,32.392,32.648,32.921,33.266,33.451,33.805899999976155,34.13,34.38989999997616,34.60589999997616,34.874,35.12,35.355,35.65289999997616,36.23,36.481,36.737,36.974,37.291,37.576899999976156,37.871,38.142,38.451899999976156,38.708,38.919,39.184,39.473,39.72889999997616,39.98689999997616,40.54,40.76489999997616,41.009,41.267,41.56289999997616,41.852,42.088,42.34289999997616,42.61589999997616,42.86,43.149,43.429,43.729,43.954,44.23389999997616,44.794,45.031,45.335,45.545,45.881,46.165,46.44,46.67989999997616,46.95689999997616,46.97089999997616,47.298,47.471,47.821,48.13589999997616,48.373,48.64489999997616,49.23389999997616,49.462,49.751,50.03489999997616,50.312,50.719,50.984,51.256,51.552,51.826,52.111,52.354899999976155,52.616899999976155,52.878,53.134,53.662,53.917,54.21089999997616,54.471,54.776,55.113,55.366,55.621,55.887,55.894,56.427,56.558,56.853,57.152,57.44389999997616,57.673,58.428,58.65989999997616,58.91989999997616,59.13089999997616,59.444,59.782,60.05,60.35,60.59,60.91189999997616,61.134,61.40789999997616,61.677899999976155,61.918,62.18,62.708,62.952,63.206,63.514,63.819,64.152,64.415,64.725,65.014,65.319,65.537,65.83089999997615,66.101,66.31389999997616,66.598,67.11,67.431,67.715,67.987,68.286,68.619,68.87989999997616,69.25389999997616,69.561,69.81,70.11,70.404,70.648,70.954,71.181,71.435,72.06089999997616,72.31,72.521,72.84789999997616,73.12989999997616,73.489,73.71889999997616,73.984,74.164,74.422,74.612,74.84189999997616,75.116,75.325,75.54789999997615,76.00689999997616,76.21789999997615,76.443,76.675,76.886,77.177,77.359,77.627,77.85389999997616,78.12689999997616,78.29789999997615,78.485,78.69589999997616,78.895,79.134,79.556,79.748,79.98889999997616,80.19989999997615,80.42,80.671,80.903,81.09689999997616,81.35789999997615,81.572,81.745,81.92689999997616,82.14789999997616,82.384,82.58,83.026,83.227,83.43089999997616,83.687,83.92789999997616,84.191,84.41889999997616,84.643,84.874,85.11,85.3,85.492,85.74,85.961,86.167,86.619,86.818,87.072,87.368,87.619,87.928,88.17689999997616,88.39989999997616,88.595,88.85289999997616,89.073,89.26689999997616,89.535,89.71689999997616,89.931,90.288,90.525,90.743,91.003,91.24,91.543,91.76389999997616,91.97889999997616,92.226,92.517,92.706,92.962,93.20089999997616,93.438,93.68,94.183,94.39589999997615,94.662,94.87689999997616,95.168,95.5,95.819,96.016,96.25489999997616,96.57989999997616,96.81589999997615,97.08589999997616,97.335,97.551,97.814,98.31789999997616,98.54089999997616,98.82189999997615,99.03789999997616,99.377,99.705,99.99589999997616,100.24189999997616,100.515,100.809,101.081,101.327,101.604,101.834,102.13189999997616,102.672,102.925,103.183,103.42689999997616,103.70589999997615,104.049,104.288,104.563,104.776,105.115,105.385,105.601,105.909,106.112,106.39389999997616,106.945,107.25989999997616,107.594,107.82089999997616,108.101,108.47,108.77,109.083,109.42389999997616,109.762,110.02989999997615,110.45589999997615,110.788,111.074,111.353,111.827,112.078,112.416,112.629,112.942,113.304,113.57589999997616,113.83889999997616,114.094,114.378,114.596,114.866,115.194,115.43789999997615,115.667],gpt="tempo-drift",Mpt="0.17.3",Apt="2024-10-23T16:53:41.890Z",DS={tempo:dpt,binNote:hpt,filterNote:fpt,barLimit:mpt,notes:ppt,_appId:gpt,_softwareVersion:Mpt,_date:Apt};function ypt(e,t,i){const n=e.slice();return n[26]=t[i],n}function vpt(e,t,i){const n=e.slice();return n[26]=t[i],n}function bpt(e){let t;return{c(){t=K("option"),t.textContent=`1/${e[26]} note`,t.__value=e[26],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Cpt(e){let t,i,n,a=Ge(ms),s=[];for(let l=0;l<a.length;l+=1)s[l]=bpt(vpt(e,a,l));return{c(){t=K("option"),t.textContent="off",i=Y();for(let l=0;l<s.length;l+=1)s[l].c();n=kr(),t.__value=0,Vi(t,t.__value)},m(l,c){_t(l,t,c),_t(l,i,c);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(l,c);_t(l,n,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n)),Oi(s,l)}}}function _pt(e){let t;return{c(){t=K("option"),t.textContent=`1/${e[26]} note`,t.__value=e[26],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Ept(e){let t,i,n,a=Ge(ms),s=[];for(let l=0;l<a.length;l+=1)s[l]=_pt(ypt(e,a,l));return{c(){t=K("option"),t.textContent="off",i=Y();for(let l=0;l<s.length;l+=1)s[l].c();n=kr(),t.__value=0,Vi(t,t.__value)},m(l,c){_t(l,t,c),_t(l,i,c);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(l,c);_t(l,n,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n)),Oi(s,l)}}}function wpt(e){let t,i,n,a,s;return{c(){t=K("p"),t.textContent=`1) Choose a tempo and play only quarter notes. After the
                count-in, keep the tempo as constant as possible for a few
                minutes.`,i=Y(),n=K("p"),n.textContent=`2) Play a piece/song (that has constant tempo). After the
                count-in, keep the tempo as constant as possible for a few
                minutes.`,a=Y(),s=K("p"),s.textContent=`3) Try to play at a given tempo without count-in, just by
                guessing how fast it is supposed to be played. You can use the
                randomize tempo button (⚂) to get challenged for a random tempo.`},m(l,c){_t(l,t,c),_t(l,i,c),_t(l,n,c),_t(l,a,c),_t(l,s,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s))}}}function Opt(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt,Xt,ae;function Jt(St){e[13](St)}let le={};e[2]!==void 0&&(le.value=e[2]),u=new ts({props:le}),me.push(()=>Te(u,"value",Jt)),u.$on("change",e[9]);function Ve(St){e[15](St)}let ai={label:"rounding",title:"You can change between seeing exact bar heights and binned (rounded) heights.",callback:e[9],$$slots:{default:[Cpt]},$$scope:{ctx:e}};e[3]!==void 0&&(ai.value=e[3]),p=new qr({props:ai}),me.push(()=>Te(p,"value",Ve));function Ye(St){e[16](St)}let ci={label:"filtering",title:"You can filter out notes that are shorter than a given note duration.",callback:e[9],$$slots:{default:[Ept]},$$scope:{ctx:e}};e[4]!==void 0&&(ci.value=e[4]),v=new qr({props:ci}),me.push(()=>Te(v,"value",Ye));function ei(St){e[17](St)}let Ze={title:"The number of most recent notes that are shown as bars.",label:"bars",callback:e[9],step:25,min:25,max:1e3};e[5]!==void 0&&(Ze.value=e[5]),_=new ia({props:Ze}),me.push(()=>Te(_,"value",ei));function be(St){e[18](St)}let ve={label:jL+" line",title:"Show a line for the (likely) eighth notes' duration over time.",callback:e[9]};e[6]!==void 0&&(ve.checked=e[6]),I=new Tr({props:ve}),me.push(()=>Te(I,"checked",be)),U=new t0({props:{tempo:e[2],accent:4,beepCount:8,showBeepCountInput:!0}});function re(St){e[20](St)}let Et={saveToStorage:e[12],callback:e[9]};e[7]!==void 0&&(Et.notes=e[7]),F=new aa({props:Et}),me.push(()=>Te(F,"notes",re)),q=new Ma({props:{appId:e[0].id,loadData:e[11]}});function vt(St){e[22](St)}let Ht={callback:e[9],allowSound:!1};return e[7]!==void 0&&(Ht.notes=e[7]),W=new Ps({props:Ht}),me.push(()=>Te(W,"notes",vt)),ot=new ua({props:{loadData:e[11],getExportData:e[10],appId:e[0].id}}),wt=new Kr({props:{$$slots:{default:[wpt]},$$scope:{ctx:e}}}),xt=new Xr({props:{appId:e[0].id}}),Ot=new $r({props:{noteOn:e[8]}}),jt=new Ga({props:{key:" ",keyDown:e[23]}}),kt=new Xc({props:{element:e[1],touchStart:e[24]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`This app helps practicing keeping a constant tempo. Choose your
            tempo, activate the metronome, and start playing. Once the metronome
            stops, try to keep a constant tempo as long as possible. The time
            between two note onsets will be shown as a bar, so you can see how
            well you still hit, for example, quarter notes after playing for
            some time. Bar heights are either exact or rounded to a certain
            duration precision for a clearer overview when monitoring live. You
            can filter very short inter-note times, which happen when playing
            two notes at roughly the same time, for example in a chord.
            <i>Try playing without looking, so you don&#39;t correct based on what
                you see!</i>`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),m=K("button"),m.textContent="⚂",M=Y(),Ut(p.$$.fragment),b=Y(),Ut(v.$$.fragment),x=Y(),Ut(_.$$.fragment),O=Y(),Ut(I.$$.fragment),D=Y(),P=K("div"),L=Y(),N=K("div"),Ut(U.$$.fragment),$=Y(),Ut(F.$$.fragment),z=Y(),Q=K("button"),Q.textContent="example",V=Y(),Ut(q.$$.fragment),J=Y(),Ut(W.$$.fragment),mt=Y(),Ut(ot.$$.fragment),pt=Y(),Ut(wt.$$.fragment),Mt=Y(),Ut(xt.$$.fragment),dt=Y(),Ut(Ot.$$.fragment),At=Y(),Ut(jt.$$.fragment),bt=Y(),Ut(kt.$$.fragment),ut(l,"class","explanation"),ut(m,"title","randomize tempo"),ut(d,"class","control"),ut(P,"class","visualization"),ut(N,"class","control"),ut(t,"class","app")},m(St,It){_t(St,t,It),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),R(d,m),R(d,M),Nt(p,d,null),R(d,b),Nt(v,d,null),R(d,x),Nt(_,d,null),R(d,O),Nt(I,d,null),R(t,D),R(t,P),e[19](P),R(t,L),R(t,N),Nt(U,N,null),R(N,$),Nt(F,N,null),R(N,z),R(N,Q),R(N,V),Nt(q,N,null),R(N,J),Nt(W,N,null),R(N,mt),Nt(ot,N,null),R(t,pt),Nt(wt,t,null),R(t,Mt),Nt(xt,t,null),R(t,dt),Nt(Ot,t,null),R(t,At),Nt(jt,t,null),R(t,bt),Nt(kt,t,null),Dt=!0,Xt||(ae=[Qe(m,"click",e[14]),Qe(Q,"click",e[21])],Xt=!0)},p(St,It){(!Dt||It[0]&1)&&n!==(n=St[0].title+"")&&Ue(a,n);const zt={};!h&&It[0]&4&&(h=!0,zt.value=St[2],Se(()=>h=!1)),u.$set(zt);const ht={};It[1]&1&&(ht.$$scope={dirty:It,ctx:St}),!A&&It[0]&8&&(A=!0,ht.value=St[3],Se(()=>A=!1)),p.$set(ht);const X={};It[1]&1&&(X.$$scope={dirty:It,ctx:St}),!E&&It[0]&16&&(E=!0,X.value=St[4],Se(()=>E=!1)),v.$set(X);const tt={};!C&&It[0]&32&&(C=!0,tt.value=St[5],Se(()=>C=!1)),_.$set(tt);const Tt={};!T&&It[0]&64&&(T=!0,Tt.checked=St[6],Se(()=>T=!1)),I.$set(Tt);const Qt={};It[0]&4&&(Qt.tempo=St[2]),U.$set(Qt);const Zt={};!j&&It[0]&128&&(j=!0,Zt.notes=St[7],Se(()=>j=!1)),F.$set(Zt);const ce={};It[0]&1&&(ce.appId=St[0].id),q.$set(ce);const ye={};!et&&It[0]&128&&(et=!0,ye.notes=St[7],Se(()=>et=!1)),W.$set(ye);const $e={};It[0]&1&&($e.appId=St[0].id),ot.$set($e);const ge={};It[1]&1&&(ge.$$scope={dirty:It,ctx:St}),wt.$set(ge);const He={};It[0]&1&&(He.appId=St[0].id),xt.$set(He);const _e={};It[0]&2&&(_e.element=St[1]),kt.$set(_e)},i(St){Dt||(Bt(u.$$.fragment,St),Bt(p.$$.fragment,St),Bt(v.$$.fragment,St),Bt(_.$$.fragment,St),Bt(I.$$.fragment,St),Bt(U.$$.fragment,St),Bt(F.$$.fragment,St),Bt(q.$$.fragment,St),Bt(W.$$.fragment,St),Bt(ot.$$.fragment,St),Bt(wt.$$.fragment,St),Bt(xt.$$.fragment,St),Bt(Ot.$$.fragment,St),Bt(jt.$$.fragment,St),Bt(kt.$$.fragment,St),Dt=!0)},o(St){Rt(u.$$.fragment,St),Rt(p.$$.fragment,St),Rt(v.$$.fragment,St),Rt(_.$$.fragment,St),Rt(I.$$.fragment,St),Rt(U.$$.fragment,St),Rt(F.$$.fragment,St),Rt(q.$$.fragment,St),Rt(W.$$.fragment,St),Rt(ot.$$.fragment,St),Rt(wt.$$.fragment,St),Rt(xt.$$.fragment,St),Rt(Ot.$$.fragment,St),Rt(jt.$$.fragment,St),Rt(kt.$$.fragment,St),Dt=!1},d(St){St&&Ct(t),Ft(u),Ft(p),Ft(v),Ft(_),Ft(I),e[19](null),Ft(U),Ft(F),Ft(q),Ft(W),Ft(ot),Ft(wt),Ft(xt),Ft(Ot),Ft(jt),Ft(kt),Xt=!1,ar(ae)}}}function xpt(e){let t,i;return t=new da({props:{loadData:e[11],$$slots:{default:[Opt]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&255|a[1]&1&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let Spt=900,Tpt=400;function Ipt(e,t,i){let{appInfo:n}=t,a,s=120,l=0,c=64,d=50,u=!1,h=0,g=[];const m=U=>{g.length===0&&(h=U.timestamp);const $=(U.timestamp-h)/1e3;i(7,g=[...g,$]),M()},M=()=>{const U=ta(s),$=U/4,F=U/2,j=U*2,z=U*4,Q=[0,$,F,F*1.5,U,U*1.5,j,j*1.5],V=["0","𝅘𝅥𝅯","𝅘𝅥𝅮","𝅘𝅥𝅮.","𝅘𝅥","𝅘𝅥.","𝅗𝅥","𝅗𝅥."];let q=g.map((pt,wt)=>wt===0?0:pt-g[wt-1]);if(c!==0){const pt=z/c;q=q.filter(wt=>wt>=pt)}let J=q;if(l!==0){const pt=z/l;J=q.map(wt=>Math.round(wt/pt)*pt)}const W=J.slice(-d),mt=W.map((pt,wt)=>({index:wt,duration:pt})).filter(pt=>pt.duration>.75*F&&pt.duration<1.25*F),ot=Sn({width:Spt,height:Tpt,marginLeft:45,marginRight:1,style:'font-size: 24px; font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{axis:!1},y:{label:null,ticks:Q,tickFormat:pt=>{const wt=Q.indexOf(pt);return V[wt]},domain:[0,j*1.1],tickSize:0},marks:[Md(W,{x:(pt,wt)=>wt,y:pt=>pt,fill:"#ddd",inset:0,dx:.5,ry1:4}),zr(Q,{stroke:"#aaa"}),u?Dlt(mt,$lt({k:20,anchor:"middle"},{x:"index",y:"duration",strokeWidth:2})):null]});i(1,a.textContent="",a),a.appendChild(ot)},p=()=>({tempo:s,binNote:l,filterNote:c,barLimit:d,showEighthLine:u,notes:g}),A=U=>{b(),i(2,s=U.tempo),i(3,l=U.binNote??"off"),i(4,c=U.filterNote??"off"),i(5,d=U.barLimit),i(6,u=U.showEighthLine??!1),i(7,g=U.notes),M()},b=()=>{g.length>0&&JSON.stringify(g)!==JSON.stringify(DS.notes)&&ga(n.id,p())};sr(M),or(b);function v(U){s=U,i(2,s)}const E=()=>{let U=s;for(;U===s;)U=Math.round(Math.random()*12+6)*10;i(2,s=U)};function x(U){l=U,i(3,l)}function _(U){c=U,i(4,c)}function C(U){d=U,i(5,d)}function O(U){u=U,i(6,u)}function I(U){me[U?"unshift":"push"](()=>{a=U,i(1,a)})}function T(U){g=U,i(7,g)}const D=()=>A(DS);function P(U){g=U,i(7,g)}const L=()=>m({timestamp:performance.now()}),N=()=>m({timestamp:performance.now()});return e.$$set=U=>{"appInfo"in U&&i(0,n=U.appInfo)},[n,a,s,l,c,d,u,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N]}class Bpt extends qi{constructor(t){super(),Wi(this,t,Ipt,xpt,Ji,{appInfo:0},null,[-1,-1])}}var bc,Ph,U2,Cc,_c,$2,fl,Lh,Hu,po,ml,Qu,P0,kh,go,pl;class Rpt{constructor(){Ln(this,bc,null);Ln(this,Ph,null);Ln(this,U2,1);Ln(this,Cc,null);Ln(this,_c,!1);Ln(this,$2,!1);In(this,"currentPlayTime",null);Ln(this,fl,new AudioContext);Ln(this,Lh,null);Ln(this,Hu,null);Ln(this,po,0);Ln(this,ml,-1);Ln(this,Qu,[]);Ln(this,P0,[]);Ln(this,kh,null);Ln(this,go,!1);Ln(this,pl,!1);In(this,"onTimeChange",t=>(En(this,bc,t),this));In(this,"onStop",t=>(En(this,Ph,t),this));In(this,"setVolume",t=>(En(this,U2,t),this));In(this,"setLogging",t=>(En(this,$2,t),this));In(this,"isPlaying",()=>je(this,go));In(this,"isPaused",()=>je(this,pl));In(this,"playNotes",(t,i=0,n=-1,a=1,s=!1)=>{if(je(this,go)&&!je(this,pl)&&!je(this,_c)&&this.stop(),!t||t.length===0){console.warn("[PLAYER] Was called with no data");return}En(this,Qu,[...t]);let l=new ku(t).sortByTime();En(this,kh,l.getDuration()),i>0&&(l=l.filter(c=>c.start>=i).shiftTime(-i),console.log(`[Player] Will start at ${i.toFixed(2)} seconds with ${l.length()} notes left`)),a!==1&&a>0&&(l=l.scaleTime(1/a),En(this,kh,je(this,kh)/a)),t=l.getNotes(),console.log(`[Player] Playing ${t.length} notes, speed ${a}, and volume ${je(this,U2)}`),je(this,fl).state==="suspended"&&je(this,fl).resume(),En(this,po,i),En(this,ml,n),En(this,Cc,a),En(this,_c,s),En(this,P0,[...t]),this._start()});In(this,"_start",()=>{console.log("[Player] Starting"),En(this,go,!0),En(this,pl,!1),En(this,Hu,je(this,fl).currentTime),this._scheduler()});In(this,"_updateTime",t=>{const i=(t-je(this,Hu))*je(this,Cc)+je(this,po);this.currentPlayTime=i,je(this,bc)&&je(this,bc).call(this,i)});In(this,"_playNote",(t,i)=>{const n=t.getDuration();je(this,$2)&&console.log(`[Player] Playing ${t.getName()} for ${n}s`);const a=je(this,fl).createOscillator();a.connect(je(this,fl).destination);const s=xo[t.pitch].frequency;a.frequency.value=s,a.start(i),a.stop(i+n)});In(this,"_scheduler",()=>{const n=je(this,fl).currentTime;this._updateTime(n);const a=(je(this,ml)-je(this,po))/je(this,Cc)+je(this,po);for(;je(this,P0).length>0;){const l=je(this,Hu)+je(this,P0)[0].start;if(l>n+.1||je(this,ml)!==-1&&je(this,P0)[0].start+je(this,po)>=a)break;const c=je(this,P0).shift();this._playNote(c,l)}const s=n-je(this,Hu)+je(this,po);je(this,ml)!==-1&&s>=a?this._stopOrLoop():s>=je(this,kh)?this._stopOrLoop():En(this,Lh,setTimeout(this._scheduler,33))});In(this,"_stopOrLoop",()=>{je(this,_c)?this.playNotes(je(this,Qu),je(this,po),je(this,ml),je(this,Cc),je(this,_c)):this.stop()});In(this,"stop",(t=!0)=>{if(je(this,go))return console.log("[Player] Stopping player"),clearTimeout(je(this,Lh)),this.currentPlayTime=null,En(this,go,!1),En(this,pl,!1),En(this,Qu,[]),En(this,P0,[]),je(this,bc)&&je(this,bc).call(this,null),t&&je(this,Ph)&&je(this,Ph).call(this),this});In(this,"pause",()=>(console.log("[Player] Pausing player"),clearTimeout(je(this,Lh)),En(this,pl,!0),this));In(this,"resume",()=>{if(console.log("[Player] Resuming player"),!je(this,P0)||je(this,P0).length===0){console.warn("[Player] Cannot resume player since it has not been started!");return}return this.playNotes(je(this,Qu),this.currentPlayTime,je(this,ml),je(this,Cc),je(this,_c)),this});In(this,"pauseOrResume",()=>{if(!je(this,go)){console.warn("[Player] Cannot pause / resume when player is not playing!");return}return je(this,pl)?this.resume():this.pause(),this})}toggle(t,i=0,n=-1,a=1,s=!1){je(this,go)?this.stop():this.playNotes(t,i,n,a,s)}}bc=new WeakMap,Ph=new WeakMap,U2=new WeakMap,Cc=new WeakMap,_c=new WeakMap,$2=new WeakMap,fl=new WeakMap,Lh=new WeakMap,Hu=new WeakMap,po=new WeakMap,ml=new WeakMap,Qu=new WeakMap,P0=new WeakMap,kh=new WeakMap,go=new WeakMap,pl=new WeakMap;function Dpt(e){let t,i,n;return{c(){t=K("button"),t.textContent="play rhythm",ut(t,"title","Play the current rhythm grid")},m(a,s){_t(a,t,s),i||(n=Qe(t,"click",e[7]),i=!0)},p:Fe,i:Fe,o:Fe,d(a){a&&Ct(t),i=!1,n()}}}function Ppt(e,t,i){let n,{notes:a=[]}=t,{startAt:s=0}=t,{endAt:l=-1}=t,{speed:c=1}=t,{loop:d=!1}=t;const u=new Rpt;or(()=>{u.stop()});const h=()=>{u.toggle(n,s,l,c,d)};return e.$$set=g=>{"notes"in g&&i(6,a=g.notes),"startAt"in g&&i(0,s=g.startAt),"endAt"in g&&i(1,l=g.endAt),"speed"in g&&i(2,c=g.speed),"loop"in g&&i(3,d=g.loop)},e.$$.update=()=>{e.$$.dirty&64&&i(4,n=a.map(g=>({pitch:g.number,start:g.time,duration:g.duration??.075,velocity:127})))},[s,l,c,d,n,u,a,h]}class Lpt extends qi{constructor(t){super(),Wi(this,t,Ppt,Dpt,Ji,{notes:6,startAt:0,endAt:1,speed:2,loop:3})}}const kpt=60,Npt="4:3",Fpt="4:2",Upt=48,$pt=.01,Gpt=6,Vpt=[{time:0,number:74},{time:.388,number:74},{time:.851,number:74},{time:1.496,number:74},{time:1.9820999999996274,number:74},{time:2.4810999999996275,number:74},{time:2.9740999999996274,number:74},{time:3.5200999999996276,number:74},{time:3.976,number:74},{time:4.474099999999628,number:74},{time:4.972099999999627,number:74},{time:5.51,number:74},{time:6.013,number:74},{time:6.492,number:74},{time:6.970099999999627,number:74},{time:7.5130999999996275,number:74},{time:7.989,number:74},{time:8.473,number:74},{time:8.965099999999627,number:74},{time:9.478,number:74},{time:9.991,number:74},{time:10.514,number:74},{time:10.983,number:74},{time:11.489099999999627,number:74},{time:11.972,number:74},{time:12.48,number:74},{time:12.991,number:74},{time:13.505099999999628,number:74},{time:13.984,number:74},{time:14.496,number:74},{time:14.975,number:74},{time:15.46,number:74},{time:15.991,number:59},{time:16.202,number:59},{time:16.487,number:59},{time:16.748099999999628,number:59},{time:16.997,number:59},{time:17.233099999999627,number:59},{time:17.494,number:59},{time:17.738,number:59},{time:18.019,number:59},{time:18.259,number:59},{time:18.5,number:59},{time:18.752,number:59},{time:18.992,number:59},{time:19.227,number:59},{time:19.494,number:59},{time:19.748,number:59},{time:19.993,number:59},{time:20.232099999999626,number:59},{time:20.484,number:59},{time:20.726,number:59},{time:24.053,number:59},{time:24.291,number:59},{time:24.537,number:59},{time:24.896,number:59},{time:25.164,number:59},{time:25.421099999999626,number:59},{time:25.691,number:59},{time:25.96,number:59},{time:26.286,number:59},{time:40.02609999999963,number:59},{time:40.499,number:59},{time:40.758,number:59},{time:41.004,number:59},{time:41.484,number:59},{time:41.753,number:59},{time:41.992,number:59},{time:42.553,number:59},{time:42.774,number:59},{time:43.002,number:59},{time:43.542,number:59},{time:43.772,number:59},{time:44.086,number:59},{time:48.038,number:59},{time:48.31,number:59},{time:48.609,number:59},{time:48.924099999999626,number:59},{time:49.286,number:59},{time:49.614099999999624,number:59},{time:50,number:59},{time:50.29,number:59},{time:50.628,number:59},{time:50.964,number:59},{time:51.318,number:59},{time:51.677,number:59},{time:51.98409999999963,number:59},{time:52.323,number:59},{time:52.647099999999625,number:59},{time:52.994,number:59},{time:53.353,number:59},{time:53.665099999999626,number:59},{time:54.002,number:59},{time:54.383,number:59},{time:54.67,number:59},{time:55.031099999999626,number:59},{time:55.353,number:59},{time:55.687,number:59},{time:56.001,number:59},{time:56.35509999999963,number:59},{time:56.650099999999625,number:59},{time:56.967,number:59},{time:57.333099999999625,number:59},{time:57.66109999999963,number:59},{time:57.98609999999963,number:59},{time:58.297,number:59},{time:58.622,number:59},{time:58.934,number:59},{time:59.309,number:59},{time:59.668,number:59},{time:59.993,number:59},{time:60.363,number:59},{time:60.649,number:59},{time:60.974,number:59},{time:61.309,number:59},{time:61.644,number:59},{time:61.979,number:59},{time:62.31,number:59},{time:62.63909999999963,number:59},{time:62.999,number:59},{time:63.323,number:59},{time:63.671099999999626,number:59},{time:63.988099999999626,number:59},{time:64.363,number:59},{time:64.657,number:59},{time:64.99,number:59},{time:65.353,number:59},{time:65.655,number:59},{time:65.94509999999963,number:59},{time:66.25909999999963,number:59},{time:66.607,number:59},{time:66.94709999999962,number:59},{time:67.293,number:59},{time:67.67009999999962,number:59},{time:67.958,number:59},{time:71.93,number:74},{time:72.32509999999962,number:74},{time:72.74,number:74},{time:73.24709999999963,number:74},{time:73.655,number:74},{time:74.10109999999963,number:74},{time:74.37109999999963,number:74},{time:74.63909999999963,number:74},{time:74.94009999999963,number:74},{time:75.343,number:74},{time:75.716,number:74},{time:76.091,number:74},{time:76.353,number:74},{time:76.678,number:74},{time:77.019,number:74},{time:77.34609999999962,number:74},{time:77.663,number:74},{time:78.011,number:74},{time:78.33609999999963,number:74},{time:78.662,number:74},{time:79.00009999999963,number:74},{time:79.356,number:74},{time:79.708,number:74},{time:80.073,number:74},{time:84.018,number:59},{time:84.302,number:59},{time:84.645,number:59},{time:85.002,number:59},{time:85.315,number:59},{time:85.61509999999963,number:59},{time:85.987,number:59},{time:86.343,number:59},{time:86.624,number:59},{time:86.99309999999963,number:59},{time:87.358,number:59},{time:87.65909999999963,number:59},{time:87.989,number:59},{time:88.3,number:59},{time:88.64309999999963,number:59},{time:88.966,number:59},{time:89.299,number:59},{time:89.618,number:59},{time:90.00409999999962,number:59},{time:90.345,number:59},{time:90.635,number:59},{time:90.992,number:59},{time:91.328,number:59},{time:91.66,number:59},{time:92.027,number:59},{time:92.421,number:74},{time:93.034,number:74},{time:93.458,number:74},{time:93.88209999999962,number:74},{time:94.41309999999963,number:74},{time:94.96709999999963,number:74},{time:95.531,number:74},{time:96.016,number:74},{time:96.49,number:74},{time:97.007,number:74},{time:97.51609999999962,number:74},{time:98.023,number:74},{time:98.527,number:74},{time:99.033,number:74},{time:99.538,number:74},{time:100,number:74},{time:100.506,number:74},{time:101.006,number:74},{time:101.517,number:74},{time:101.988,number:74},{time:102.495,number:74},{time:103.001,number:74},{time:103.497,number:74},{time:103.975,number:74}],Hpt="two-handed-timing",Qpt="0.13.3",zpt="2024-09-12T14:48:10.466Z",PS={tempo:kpt,gridLeft:Npt,gridRight:Fpt,binNote:Upt,adjustTime:$pt,pastBars:Gpt,notes:Vpt,_appId:Hpt,_softwareVersion:Qpt,_date:zpt};function jpt(e,t,i){const n=e.slice();return n[36]=t[i],n}function Jpt(e,t,i){const n=e.slice();return n[36]=t[i],n}function Wpt(e,t,i){const n=e.slice();return n[36]=t[i],n}function qpt(e){let t;return{c(){t=K("option"),t.textContent=`${e[36].label}`,t.__value=e[36].divisions,Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Kpt(e){let t,i=Ge(K9),n=[];for(let a=0;a<i.length;a+=1)n[a]=qpt(Wpt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function Xpt(e){let t;return{c(){t=K("option"),t.textContent=`${e[36].label}`,t.__value=e[36].divisions,Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Ypt(e){let t,i=Ge(K9),n=[];for(let a=0;a<i.length;a+=1)n[a]=Xpt(Jpt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function Zpt(e){let t;return{c(){t=K("option"),t.textContent=`1/${e[36]} note`,t.__value=e[36],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function t8t(e){let t,i=Ge(ms),n=[];for(let a=0;a<i.length;a+=1)n[a]=Zpt(jpt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function e8t(e){let t,i,n;return{c(){t=K("p"),t.innerHTML=`1) Only single notes. Play triplets with your right and eighths
                with your left hand.
                <i>Try playing without looking, focus on the metronome.</i>`,i=Y(),n=K("p"),n.textContent=`2) Play the same rhythm as in 1) but using different notes, to
                form a melody.`},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function i8t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q=e[9]?"density area":"histogram",V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt,Xt,ae,Jt,le,Ve,ai,Ye,ci,ei,Ze,be,ve,re,Et;function vt(_e){e[19](_e)}let Ht={callback:e[14]};e[3]!==void 0&&(Ht.value=e[3]),g=new ts({props:Ht}),me.push(()=>Te(g,"value",vt));function St(_e){e[20](_e)}let It={label:"drum mode",title:"Toggle between piano keyboard and drum mode"};e[8]!==void 0&&(It.checked=e[8]),p=new Tr({props:It}),me.push(()=>Te(p,"checked",St));function zt(_e){e[21](_e)}let ht={label:"grid left",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:e[14],$$slots:{default:[Kpt]},$$scope:{ctx:e}};e[4]!==void 0&&(ht.value=e[4]),v=new qr({props:ht}),me.push(()=>Te(v,"value",zt));function X(_e){e[22](_e)}let tt={label:"right",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:e[14],$$slots:{default:[Ypt]},$$scope:{ctx:e}};e[5]!==void 0&&(tt.value=e[5]),_=new qr({props:tt}),me.push(()=>Te(_,"value",X));function Tt(_e){e[23](_e)}let Qt={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",callback:e[14],$$slots:{default:[t8t]},$$scope:{ctx:e}};e[6]!==void 0&&(Qt.value=e[6]),T=new qr({props:Qt}),me.push(()=>Te(T,"value",Tt));function Zt(_e){e[24](_e)}let ce={tempo:e[3],grid:e[4],notes:e[11].map(kS),draw:e[14]};e[7]!==void 0&&(ce.adjustTime=e[7]),L=new Om({props:ce}),me.push(()=>Te(L,"adjustTime",Zt));function ye(_e){e[25](_e)}let $e={title:"The number of past bars to be shown. Allows to 'forget' mistakes in the beginning.",label:"bars",callback:e[14],min:1,max:100};e[10]!==void 0&&($e.value=e[10]),$=new ia({props:$e}),me.push(()=>Te($,"value",ye)),pt=new t0({props:{tempo:e[3],accent:+e[4].split(":")[0]}}),Mt=new Lpt({props:{notes:e[18](e[4],e[5],e[3])}});function ge(_e){e[29](_e)}let He={saveToStorage:e[17],callback:e[14]};return e[11]!==void 0&&(He.notes=e[11]),dt=new aa({props:He}),me.push(()=>Te(dt,"notes",ge)),kt=new Ma({props:{appId:e[0].id,loadData:e[16]}}),Xt=new ua({props:{loadData:e[16],getExportData:e[15],appId:e[0].id}}),Jt=new Kr({props:{$$slots:{default:[e8t]},$$scope:{ctx:e}}}),Ve=new Xr({props:{appId:e[0].id}}),Ye=new Ga({props:{key:"f",keyDown:e[31]}}),ei=new Ga({props:{key:"j",keyDown:e[32]}}),be=new $r({props:{noteOn:e[12],controlChange:e[13]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing beat sub-divisions such as eighths or
            triplets on a piano or drum. You can choose a different sub-division
            for each hand. The chart will show you how a summary of where your
            notes started, the top one is for your right hand and the bottom one
            for your left hand.`,c=Y(),d=K("p"),d.innerHTML=`<b>Keyboard mode:</b> Left hand plays keys left of the middle A,
            right hand others.
            <b>Drum mode:</b> Left hand plays snare, right hand any other drum.
            <b>PC keyboard:</b> <code>f</code>
            for left and <code>j</code> for right.`,u=Y(),h=K("div"),Ut(g.$$.fragment),M=Y(),Ut(p.$$.fragment),b=Y(),Ut(v.$$.fragment),x=Y(),Ut(_.$$.fragment),O=Y(),I=K("div"),Ut(T.$$.fragment),P=Y(),Ut(L.$$.fragment),U=Y(),Ut($.$$.fragment),j=Y(),z=K("button"),V=se(Q),q=Y(),J=K("div"),W=Y(),et=K("div"),mt=Y(),ot=K("div"),Ut(pt.$$.fragment),wt=Y(),Ut(Mt.$$.fragment),xt=Y(),Ut(dt.$$.fragment),At=Y(),jt=K("button"),jt.textContent="example",bt=Y(),Ut(kt.$$.fragment),Dt=Y(),Ut(Xt.$$.fragment),ae=Y(),Ut(Jt.$$.fragment),le=Y(),Ut(Ve.$$.fragment),ai=Y(),Ut(Ye.$$.fragment),ci=Y(),Ut(ei.$$.fragment),Ze=Y(),Ut(be.$$.fragment),ut(l,"class","explanation"),ut(d,"class","explanation"),ut(h,"class","control"),ut(z,"title","Toggle between an area chart and a histogram of the note density"),un(z,"width","120px"),ut(I,"class","control"),ut(J,"class","visualization"),ut(et,"class","visualization"),ut(ot,"class","control"),ut(t,"class","app")},m(_e,Pi){_t(_e,t,Pi),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),R(t,u),R(t,h),Nt(g,h,null),R(h,M),Nt(p,h,null),R(h,b),Nt(v,h,null),R(h,x),Nt(_,h,null),R(t,O),R(t,I),Nt(T,I,null),R(I,P),Nt(L,I,null),R(I,U),Nt($,I,null),R(I,j),R(I,z),R(z,V),R(t,q),R(t,J),e[27](J),R(t,W),R(t,et),e[28](et),R(t,mt),R(t,ot),Nt(pt,ot,null),R(ot,wt),Nt(Mt,ot,null),R(ot,xt),Nt(dt,ot,null),R(ot,At),R(ot,jt),R(ot,bt),Nt(kt,ot,null),R(ot,Dt),Nt(Xt,ot,null),R(t,ae),Nt(Jt,t,null),R(t,le),Nt(Ve,t,null),R(t,ai),Nt(Ye,t,null),R(t,ci),Nt(ei,t,null),R(t,Ze),Nt(be,t,null),ve=!0,re||(Et=[Qe(z,"click",e[26]),Qe(jt,"click",e[30])],re=!0)},p(_e,Pi){(!ve||Pi[0]&1)&&n!==(n=_e[0].title+"")&&Ue(a,n);const Le={};!m&&Pi[0]&8&&(m=!0,Le.value=_e[3],Se(()=>m=!1)),g.$set(Le);const ke={};!A&&Pi[0]&256&&(A=!0,ke.checked=_e[8],Se(()=>A=!1)),p.$set(ke);const Oe={};Pi[1]&4096&&(Oe.$$scope={dirty:Pi,ctx:_e}),!E&&Pi[0]&16&&(E=!0,Oe.value=_e[4],Se(()=>E=!1)),v.$set(Oe);const Ii={};Pi[1]&4096&&(Ii.$$scope={dirty:Pi,ctx:_e}),!C&&Pi[0]&32&&(C=!0,Ii.value=_e[5],Se(()=>C=!1)),_.$set(Ii);const wn={};Pi[1]&4096&&(wn.$$scope={dirty:Pi,ctx:_e}),!D&&Pi[0]&64&&(D=!0,wn.value=_e[6],Se(()=>D=!1)),T.$set(wn);const ze={};Pi[0]&8&&(ze.tempo=_e[3]),Pi[0]&16&&(ze.grid=_e[4]),Pi[0]&2048&&(ze.notes=_e[11].map(kS)),!N&&Pi[0]&128&&(N=!0,ze.adjustTime=_e[7],Se(()=>N=!1)),L.$set(ze);const Zi={};!F&&Pi[0]&1024&&(F=!0,Zi.value=_e[10],Se(()=>F=!1)),$.$set(Zi),(!ve||Pi[0]&512)&&Q!==(Q=_e[9]?"density area":"histogram")&&Ue(V,Q);const Re={};Pi[0]&8&&(Re.tempo=_e[3]),Pi[0]&16&&(Re.accent=+_e[4].split(":")[0]),pt.$set(Re);const bn={};Pi[0]&56&&(bn.notes=_e[18](_e[4],_e[5],_e[3])),Mt.$set(bn);const Ir={};!Ot&&Pi[0]&2048&&(Ot=!0,Ir.notes=_e[11],Se(()=>Ot=!1)),dt.$set(Ir);const dr={};Pi[0]&1&&(dr.appId=_e[0].id),kt.$set(dr);const si={};Pi[0]&1&&(si.appId=_e[0].id),Xt.$set(si);const Ki={};Pi[1]&4096&&(Ki.$$scope={dirty:Pi,ctx:_e}),Jt.$set(Ki);const jn={};Pi[0]&1&&(jn.appId=_e[0].id),Ve.$set(jn)},i(_e){ve||(Bt(g.$$.fragment,_e),Bt(p.$$.fragment,_e),Bt(v.$$.fragment,_e),Bt(_.$$.fragment,_e),Bt(T.$$.fragment,_e),Bt(L.$$.fragment,_e),Bt($.$$.fragment,_e),Bt(pt.$$.fragment,_e),Bt(Mt.$$.fragment,_e),Bt(dt.$$.fragment,_e),Bt(kt.$$.fragment,_e),Bt(Xt.$$.fragment,_e),Bt(Jt.$$.fragment,_e),Bt(Ve.$$.fragment,_e),Bt(Ye.$$.fragment,_e),Bt(ei.$$.fragment,_e),Bt(be.$$.fragment,_e),ve=!0)},o(_e){Rt(g.$$.fragment,_e),Rt(p.$$.fragment,_e),Rt(v.$$.fragment,_e),Rt(_.$$.fragment,_e),Rt(T.$$.fragment,_e),Rt(L.$$.fragment,_e),Rt($.$$.fragment,_e),Rt(pt.$$.fragment,_e),Rt(Mt.$$.fragment,_e),Rt(dt.$$.fragment,_e),Rt(kt.$$.fragment,_e),Rt(Xt.$$.fragment,_e),Rt(Jt.$$.fragment,_e),Rt(Ve.$$.fragment,_e),Rt(Ye.$$.fragment,_e),Rt(ei.$$.fragment,_e),Rt(be.$$.fragment,_e),ve=!1},d(_e){_e&&Ct(t),Ft(g),Ft(p),Ft(v),Ft(_),Ft(T),Ft(L),Ft($),e[27](null),e[28](null),Ft(pt),Ft(Mt),Ft(dt),Ft(kt),Ft(Xt),Ft(Jt),Ft(Ve),Ft(Ye),Ft(ei),Ft(be),re=!1,ar(Et)}}}function n8t(e){let t,i;return t=new da({props:{loadData:e[16],$$slots:{default:[i8t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&4095|a[1]&4096&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let LS=900;const kS=e=>e.time;function r8t(e,t,i){let{appInfo:n}=t,a,s,l=60,c=K9[0].divisions,d=K9[1].divisions,u=96,h=0,g=!1,m=g?40:69,M=!0,p=4,A=0,b=[];const v=et=>{b.length===0&&(A=et.timestamp);const ot={time:(et.timestamp-A)/1e3,number:et.note.number};i(11,b=[...b,ot]),_()},E=et=>{const mt=et.controller.number;mt===14?i(3,l=qa(et.rawValue,0,120)+60):mt===15?i(6,u=ms[qa(Math.floor(et.rawValue/5),0,ms.length-1)]):mt===16?i(7,h=(qa(et.rawValue,0,100)-50)/100):mt===17&&i(10,p=qa(et.rawValue,0,99)+1),_()},x=(et=!0)=>{const mt=et?c:d,[ot,pt]=mt.split(":").map(bt=>+bt),wt=ta(l);let Mt=b.filter(bt=>et&&bt.number<m||!et&&bt.number>=m);if(Mt=Mt.map(bt=>(bt.time+h)/wt),p>0&&Mt.length>0){const bt=(b.at(-1).time+h)/wt,kt=Math.ceil(bt/ot);Mt=Mt.filter(Dt=>Dt/ot>=kt-p)}Mt=Mt.map(bt=>bt%ot);let xt=[];if(Mt.length>0){let bt=4/u,kt=1,Dt=LS/2;xt=wm(Mt,{bandwidth:bt,pad:kt,bins:Dt,extent:[0,ot]}).bandwidth(bt)}const dt=Ci(0,ot+1,1),Ot=Ci(0,ot*pt,1/pt),At=Sn({width:LS,height:et?170:183,marginTop:15,marginLeft:30,marginRight:10,marginBottom:15,padding:0,x:{label:"time in beats",domain:[0,4],ticks:[]},y:{label:et?"left hand":"right hand",reverse:et,ticks:[],labelOffset:-10,labelAnchor:"top",labelArrow:null},marks:[M?E5(xt,{x:"x",y:"y",fill:bt=>"#e4f0fa",clip:!0}):Bo(Mt,_5({y:"count"},{x:bt=>bt,fill:"#eee",thresholds:Ci(0,ot+1,4/u),ry2:4})),zr([0]),L9(Ot,{stroke:"#888"}),L9(dt,{stroke:"#888",strokeWidth:3})]}),jt=et?a:s;jt.textContent="",jt.appendChild(At)},_=()=>{x(!1),x(!0)},C=()=>({tempo:l,gridLeft:c,gridRight:d,binNote:u,adjustTime:h,pastBars:p,notes:b}),O=et=>{I(),i(3,l=et.tempo),i(4,c=et.gridLeft),i(5,d=et.gridRight),i(6,u=et.binNote),i(7,h=et.adjustTime??0),i(10,p=et.pastBars),i(11,b=et.notes),_()},I=()=>{b.length>0&&JSON.stringify(b)!==JSON.stringify(PS.notes)&&ga(n.id,C())};sr(_),or(I);const T=(et,mt,ot)=>{if(!et)return[];const pt=ta(ot);let wt=[et,mt].flatMap((Mt,xt)=>{const[dt,Ot]=Mt.split(":").map(jt=>+jt);return Ci(0,dt,1/Ot).map(jt=>({time:jt*pt,number:69}))});return wt.sort((Mt,xt)=>Mt.time-xt.time),wt};function D(et){l=et,i(3,l)}function P(et){g=et,i(8,g)}function L(et){c=et,i(4,c)}function N(et){d=et,i(5,d)}function U(et){u=et,i(6,u)}function $(et){h=et,i(7,h)}function F(et){p=et,i(10,p)}const j=()=>{i(9,M=!M),_()};function z(et){me[et?"unshift":"push"](()=>{s=et,i(2,s)})}function Q(et){me[et?"unshift":"push"](()=>{a=et,i(1,a)})}function V(et){b=et,i(11,b)}const q=()=>O(PS),J=()=>v({timestamp:performance.now(),note:{number:0}}),W=()=>v({timestamp:performance.now(),note:{number:127}});return e.$$set=et=>{"appInfo"in et&&i(0,n=et.appInfo)},[n,a,s,l,c,d,u,h,g,M,p,b,v,E,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W]}class a8t extends qi{constructor(t){super(),Wi(this,t,r8t,n8t,Ji,{appInfo:0},null,[-1,-1])}}const s8t=60,o8t="4:2",l8t=128,c8t=-.08,u8t=4,d8t=!0,h8t=[{time:0,number:42,drum:"HH"},{time:2.121100000023842,number:42,drum:"HH"},{time:2.503,number:42,drum:"HH"},{time:2.684,number:42,drum:"HH"},{time:3.197,number:22,drum:"HH"},{time:3.525100000023842,number:42,drum:"HH"},{time:3.705,number:42,drum:"HH"},{time:4.178,number:22,drum:"HH"},{time:4.507100000023842,number:42,drum:"HH"},{time:4.702100000023842,number:42,drum:"HH"},{time:5.12,number:42,drum:"HH"},{time:5.470100000023842,number:42,drum:"HH"},{time:5.633,number:42,drum:"HH"},{time:6.127,number:42,drum:"HH"},{time:6.135100000023842,number:36,drum:"KD"},{time:6.457100000023842,number:42,drum:"HH"},{time:6.624100000023842,number:42,drum:"HH"},{time:7.113,number:42,drum:"HH"},{time:7.121,number:38,drum:"SN"},{time:7.502,number:42,drum:"HH"},{time:7.67,number:42,drum:"HH"},{time:8.134,number:42,drum:"HH"},{time:8.137100000023842,number:36,drum:"KD"},{time:8.472,number:42,drum:"HH"},{time:8.637,number:42,drum:"HH"},{time:9.118,number:42,drum:"HH"},{time:9.119100000023842,number:38,drum:"SN"},{time:9.48,number:42,drum:"HH"},{time:9.661,number:42,drum:"HH"},{time:10.112100000023842,number:36,drum:"KD"},{time:10.122100000023842,number:42,drum:"HH"},{time:10.456,number:42,drum:"HH"},{time:10.636,number:42,drum:"HH"},{time:11.107,number:42,drum:"HH"},{time:11.11,number:38,drum:"SN"},{time:11.459,number:42,drum:"HH"},{time:11.633,number:42,drum:"HH"},{time:12.121,number:42,drum:"HH"},{time:12.123,number:36,drum:"KD"},{time:12.470100000023843,number:42,drum:"HH"},{time:12.62,number:42,drum:"HH"},{time:13.105,number:42,drum:"HH"},{time:13.107,number:38,drum:"SN"},{time:13.453,number:42,drum:"HH"},{time:13.614100000023841,number:42,drum:"HH"},{time:14.069,number:36,drum:"KD"},{time:14.081100000023842,number:42,drum:"HH"},{time:14.432,number:42,drum:"HH"},{time:14.596,number:42,drum:"HH"},{time:15.08,number:42,drum:"HH"},{time:15.082,number:38,drum:"SN"},{time:15.444100000023841,number:42,drum:"HH"},{time:15.614,number:42,drum:"HH"},{time:16.11,number:36,drum:"KD"},{time:16.11,number:42,drum:"HH"},{time:16.463,number:42,drum:"HH"},{time:16.625,number:42,drum:"HH"},{time:17.075,number:42,drum:"HH"},{time:17.077,number:38,drum:"SN"},{time:17.414,number:42,drum:"HH"},{time:17.574,number:42,drum:"HH"},{time:18.05510000002384,number:42,drum:"HH"},{time:18.067,number:36,drum:"KD"},{time:18.394,number:42,drum:"HH"},{time:18.585,number:42,drum:"HH"},{time:19.065,number:38,drum:"SN"},{time:19.066,number:42,drum:"HH"},{time:19.433,number:42,drum:"HH"},{time:19.603100000023844,number:42,drum:"HH"},{time:20.061,number:36,drum:"KD"},{time:20.068,number:42,drum:"HH"},{time:20.427,number:42,drum:"HH"},{time:20.593100000023842,number:42,drum:"HH"},{time:21.090100000023842,number:42,drum:"HH"},{time:21.091,number:38,drum:"SN"},{time:21.445100000023842,number:42,drum:"HH"},{time:21.616,number:42,drum:"HH"},{time:22.105,number:36,drum:"KD"},{time:22.11,number:42,drum:"HH"},{time:22.45,number:42,drum:"HH"},{time:22.617,number:42,drum:"HH"},{time:23.089,number:38,drum:"SN"},{time:23.094100000023843,number:42,drum:"HH"},{time:23.462,number:42,drum:"HH"},{time:23.61310000002384,number:42,drum:"HH"},{time:24.1,number:36,drum:"KD"},{time:24.10910000002384,number:42,drum:"HH"},{time:24.441,number:42,drum:"HH"},{time:24.609,number:42,drum:"HH"},{time:25.061,number:42,drum:"HH"},{time:25.071,number:38,drum:"SN"},{time:25.429,number:42,drum:"HH"},{time:25.586,number:42,drum:"HH"},{time:26.085,number:42,drum:"HH"},{time:26.087,number:36,drum:"KD"},{time:26.428,number:42,drum:"HH"},{time:26.594,number:42,drum:"HH"},{time:27.083,number:42,drum:"HH"},{time:27.088,number:38,drum:"SN"},{time:27.440100000023843,number:42,drum:"HH"},{time:27.611,number:42,drum:"HH"},{time:28.103,number:36,drum:"KD"},{time:28.111,number:42,drum:"HH"},{time:28.475100000023843,number:42,drum:"HH"},{time:28.623,number:42,drum:"HH"},{time:29.108,number:42,drum:"HH"},{time:29.112,number:38,drum:"SN"},{time:29.449,number:42,drum:"HH"},{time:29.60710000002384,number:42,drum:"HH"},{time:30.073100000023842,number:36,drum:"KD"},{time:30.088,number:42,drum:"HH"},{time:30.474,number:42,drum:"HH"},{time:30.629,number:42,drum:"HH"},{time:31.117,number:42,drum:"HH"},{time:31.124,number:38,drum:"SN"},{time:31.45910000002384,number:42,drum:"HH"},{time:31.62,number:42,drum:"HH"},{time:32.09810000002384,number:36,drum:"KD"},{time:32.109,number:42,drum:"HH"},{time:32.41910000002384,number:42,drum:"HH"},{time:32.592,number:42,drum:"HH"},{time:33.087,number:42,drum:"HH"},{time:33.09010000002384,number:38,drum:"SN"},{time:33.38810000002384,number:42,drum:"HH"},{time:33.53710000002384,number:42,drum:"HH"},{time:34.05,number:36,drum:"KD"},{time:34.072,number:42,drum:"HH"},{time:34.43110000002384,number:42,drum:"HH"},{time:34.59410000002384,number:42,drum:"HH"},{time:35.112100000023844,number:42,drum:"HH"},{time:35.112100000023844,number:38,drum:"SN"},{time:35.454,number:42,drum:"HH"},{time:35.608,number:42,drum:"HH"},{time:36.113,number:36,drum:"KD"},{time:36.121100000023844,number:42,drum:"HH"},{time:36.46,number:42,drum:"HH"},{time:36.629,number:42,drum:"HH"},{time:37.112,number:42,drum:"HH"},{time:37.115,number:38,drum:"SN"},{time:37.473,number:42,drum:"HH"},{time:37.65,number:42,drum:"HH"},{time:38.088,number:36,drum:"KD"},{time:38.10510000002384,number:42,drum:"HH"}],f8t="sub-division-drums",m8t="0.13.3",p8t="2024-09-12T14:35:35.243Z",NS={tempo:s8t,grid:o8t,binNote:l8t,adjustTime:c8t,pastBars:u8t,showKde:d8t,notes:h8t,_appId:f8t,_softwareVersion:m8t,_date:p8t},g8t=60,M8t="4:1",A8t=64,y8t=0,v8t=4,b8t=!0,C8t=[{time:0,number:36,drum:"KD"},{time:1.072,number:38,drum:"SN"},{time:1.9997999999523164,number:36,drum:"KD"},{time:3.023700000047684,number:38,drum:"SN"},{time:4.0477000000476835,number:36,drum:"KD"},{time:5.0477000000476835,number:38,drum:"SN"},{time:6.047799999952316,number:36,drum:"KD"},{time:7.0957000000476835,number:38,drum:"SN"},{time:8.023700000047684,number:36,drum:"KD"},{time:8.999799999952316,number:38,drum:"SN"},{time:9.975799999952317,number:36,drum:"KD"},{time:11.047700000047683,number:38,drum:"SN"},{time:12.0235,number:36,drum:"KD"},{time:13.047799999952316,number:38,drum:"SN"},{time:13.999700000047683,number:36,drum:"KD"},{time:15.047600000023841,number:38,drum:"SN"},{time:16.0235,number:36,drum:"KD"},{time:17.023799999952317,number:38,drum:"SN"},{time:18.11960000002384,number:36,drum:"KD"},{time:19.0235,number:38,drum:"SN"},{time:20.0075,number:36,drum:"KD"},{time:21.031600000023843,number:38,drum:"SN"},{time:22.03139999997616,number:36,drum:"KD"},{time:23.00739999997616,number:38,drum:"SN"}],_8t="sub-division-drums",E8t="0.19.4",w8t="2024-10-31T10:20:28.495Z",FS={tempo:g8t,grid:M8t,binNote:A8t,adjustTime:y8t,pastBars:v8t,showKde:b8t,notes:C8t,_appId:_8t,_softwareVersion:E8t,_date:w8t},O8t=60,x8t="4:1",S8t=64,T8t=0,I8t=4,B8t=!0,R8t=[{time:0,number:46,drum:"HH"},{time:.003799999952316284,number:36,drum:"KD"},{time:.9996000000238419,number:46,drum:"HH"},{time:1.0232999999523162,number:38,drum:"SN"},{time:1.9276000000238418,number:46,drum:"HH"},{time:1.9512999999523162,number:36,drum:"KD"},{time:3.023600000023842,number:46,drum:"HH"},{time:3.0713999999761583,number:38,drum:"SN"},{time:3.975899999976158,number:46,drum:"HH"},{time:3.9993999999761582,number:36,drum:"KD"},{time:4.951600000023842,number:46,drum:"HH"},{time:4.999600000023841,number:38,drum:"SN"},{time:5.999600000023841,number:46,drum:"HH"},{time:6.004399999976158,number:36,drum:"KD"},{time:6.951399999976158,number:46,drum:"HH"},{time:6.999299999952316,number:38,drum:"SN"},{time:7.975700000047683,number:46,drum:"HH"},{time:7.980399999976158,number:36,drum:"KD"},{time:8.975299999952316,number:46,drum:"HH"},{time:9.0235,number:38,drum:"SN"},{time:10.024200000047683,number:46,drum:"HH"},{time:10.028899999976158,number:36,drum:"KD"},{time:11.047600000023841,number:38,drum:"SN"},{time:11.052200000047684,number:46,drum:"HH"},{time:11.9755,number:46,drum:"HH"},{time:11.999799999952316,number:36,drum:"KD"},{time:12.999399999976157,number:46,drum:"HH"},{time:13.023200000047684,number:38,drum:"SN"},{time:13.975600000023842,number:46,drum:"HH"},{time:13.9805,number:36,drum:"KD"},{time:15.031200000047683,number:46,drum:"HH"},{time:15.055100000023842,number:38,drum:"SN"},{time:15.935600000023841,number:46,drum:"HH"},{time:15.940299999952316,number:36,drum:"KD"},{time:16.983299999952315,number:46,drum:"HH"},{time:17.007200000047682,number:38,drum:"SN"},{time:18.0075,number:46,drum:"HH"},{time:18.01189999997616,number:36,drum:"KD"},{time:19.055299999952318,number:46,drum:"HH"},{time:19.079200000047685,number:38,drum:"SN"},{time:20.007600000023842,number:46,drum:"HH"},{time:20.01189999997616,number:36,drum:"KD"},{time:20.983799999952318,number:38,drum:"SN"},{time:20.988200000047684,number:46,drum:"HH"},{time:21.983399999976157,number:46,drum:"HH"},{time:21.987799999952315,number:36,drum:"KD"},{time:23.007600000023842,number:38,drum:"SN"},{time:23.011799999952316,number:46,drum:"HH"},{time:23.9835,number:46,drum:"HH"},{time:23.987899999976158,number:36,drum:"KD"},{time:25.055399999976157,number:46,drum:"HH"},{time:25.079100000023843,number:38,drum:"SN"},{time:26.0315,number:46,drum:"HH"},{time:26.035799999952317,number:36,drum:"KD"},{time:27.0075,number:38,drum:"SN"},{time:27.012700000047683,number:46,drum:"HH"},{time:27.9835,number:46,drum:"HH"},{time:27.987799999952315,number:36,drum:"KD"},{time:28.991200000047684,number:46,drum:"HH"},{time:29.015200000047685,number:38,drum:"SN"},{time:29.9915,number:46,drum:"HH"},{time:29.996,number:36,drum:"KD"},{time:31.039799999952315,number:38,drum:"SN"},{time:31.044100000023843,number:46,drum:"HH"},{time:31.9915,number:46,drum:"HH"},{time:31.995700000047684,number:36,drum:"KD"},{time:33.039200000047686,number:46,drum:"HH"},{time:33.063100000023844,number:38,drum:"SN"},{time:33.991200000047684,number:46,drum:"HH"},{time:34.01529999995232,number:36,drum:"KD"},{time:35.01539999997616,number:38,drum:"SN"},{time:35.02,number:46,drum:"HH"}],D8t="sub-division-drums",P8t="0.19.4",L8t="2024-10-31T10:21:56.015Z",US={tempo:O8t,grid:x8t,binNote:S8t,adjustTime:T8t,pastBars:I8t,showKde:B8t,notes:R8t,_appId:D8t,_softwareVersion:P8t,_date:L8t},k8t=60,N8t="4:3",F8t=64,U8t=-.05,$8t=4,G8t=!0,V8t=[{time:0,number:36,drum:"KD"},{time:.7118999999761582,number:38,drum:"SN"},{time:1.0957999999523163,number:36,drum:"KD"},{time:1.7841000000238418,number:38,drum:"SN"},{time:2.0957999999523165,number:36,drum:"KD"},{time:2.759899999976158,number:38,drum:"SN"},{time:3.0961000000238417,number:36,drum:"KD"},{time:3.784,number:38,drum:"SN"},{time:4.095799999952316,number:36,drum:"KD"},{time:4.696100000023842,number:38,drum:"SN"},{time:5.0237000000476835,number:36,drum:"KD"},{time:5.791899999976158,number:38,drum:"SN"},{time:6.095899999976158,number:36,drum:"KD"},{time:6.815799999952317,number:38,drum:"SN"},{time:7.0957000000476835,number:36,drum:"KD"},{time:7.815700000047683,number:38,drum:"SN"},{time:8.095700000047684,number:36,drum:"KD"},{time:8.767799999952317,number:38,drum:"SN"},{time:9.071899999976159,number:36,drum:"KD"},{time:9.743899999976158,number:38,drum:"SN"},{time:10.047600000023841,number:36,drum:"KD"},{time:10.767899999976159,number:38,drum:"SN"},{time:11.071799999952317,number:36,drum:"KD"},{time:11.743899999976158,number:38,drum:"SN"},{time:12.047799999952316,number:36,drum:"KD"},{time:12.647799999952316,number:38,drum:"SN"},{time:13.023700000047684,number:36,drum:"KD"},{time:13.671700000047684,number:38,drum:"SN"},{time:14.007700000047684,number:36,drum:"KD"},{time:14.767799999952317,number:38,drum:"SN"},{time:15.071799999952317,number:36,drum:"KD"},{time:15.767700000047684,number:38,drum:"SN"},{time:16.071700000047684,number:36,drum:"KD"},{time:16.8395,number:38,drum:"SN"},{time:17.119799999952317,number:36,drum:"KD"},{time:17.79160000002384,number:38,drum:"SN"},{time:18.103799999952315,number:36,drum:"KD"},{time:18.76760000002384,number:38,drum:"SN"},{time:19.07960000002384,number:36,drum:"KD"},{time:19.767700000047682,number:38,drum:"SN"},{time:20.05560000002384,number:36,drum:"KD"},{time:20.743700000047685,number:38,drum:"SN"},{time:21.05560000002384,number:36,drum:"KD"},{time:21.767700000047682,number:38,drum:"SN"},{time:22.07960000002384,number:36,drum:"KD"},{time:22.767700000047682,number:38,drum:"SN"},{time:23.079700000047684,number:36,drum:"KD"},{time:23.767799999952317,number:38,drum:"SN"},{time:24.079700000047684,number:36,drum:"KD"},{time:24.767799999952317,number:38,drum:"SN"},{time:25.055799999952317,number:36,drum:"KD"},{time:25.719700000047684,number:38,drum:"SN"},{time:26.05560000002384,number:36,drum:"KD"},{time:26.695700000047683,number:38,drum:"SN"},{time:27.031700000047685,number:36,drum:"KD"},{time:27.6955,number:38,drum:"SN"},{time:28.031700000047685,number:36,drum:"KD"},{time:28.719700000047684,number:38,drum:"SN"},{time:29.031600000023843,number:36,drum:"KD"},{time:29.6715,number:38,drum:"SN"},{time:30.0075,number:36,drum:"KD"},{time:30.647600000023843,number:38,drum:"SN"},{time:31.00739999997616,number:36,drum:"KD"},{time:31.719600000023842,number:38,drum:"SN"},{time:32.031700000047685,number:36,drum:"KD"},{time:32.74389999997616,number:38,drum:"SN"},{time:33.05529999995232,number:36,drum:"KD"},{time:33.79179999995232,number:38,drum:"SN"},{time:34.05539999997616,number:36,drum:"KD"},{time:34.7915,number:38,drum:"SN"},{time:35.127799999952316,number:36,drum:"KD"},{time:35.69539999997616,number:38,drum:"SN"},{time:36.0555,number:36,drum:"KD"}],H8t="sub-division-drums",Q8t="0.19.4",z8t="2024-10-31T10:25:09.807Z",$S={tempo:k8t,grid:N8t,binNote:F8t,adjustTime:U8t,pastBars:$8t,showKde:G8t,notes:V8t,_appId:H8t,_softwareVersion:Q8t,_date:z8t};function j8t(e,t,i){const n=e.slice();return n[35]=t[i],n}function J8t(e,t,i){const n=e.slice();return n[35]=t[i],n}function W8t(e){let t;return{c(){t=K("option"),t.textContent=`${e[35].label}`,t.__value=e[35].divisions,Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function q8t(e){let t,i=Ge(K9),n=[];for(let a=0;a<i.length;a+=1)n[a]=W8t(J8t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function K8t(e){let t;return{c(){t=K("option"),t.textContent=`1/${e[35]} note`,t.__value=e[35],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function X8t(e){let t,i=Ge(ms),n=[];for(let a=0;a<i.length;a+=1)n[a]=K8t(j8t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function Y8t(e){let t;return{c(){t=se("example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function Z8t(e){let t;return{c(){t=se("example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function t5t(e){let t;return{c(){t=se("example")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function e5t(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p;return n=new M0({props:{onclick:e[26],$$slots:{default:[Y8t]},$$scope:{ctx:e}}}),c=new M0({props:{onclick:e[27],$$slots:{default:[Z8t]},$$scope:{ctx:e}}}),M=new M0({props:{onclick:e[28],$$slots:{default:[t5t]},$$scope:{ctx:e}}}),{c(){t=K("p"),i=se(`1) Play the kick on beat 1 and 3 and the snare on 2 and 4.
                `),Ut(n.$$.fragment),a=Y(),s=K("p"),l=se("2) Play 1) and add the hi-hat on beat 1, 2, 3, 4. "),Ut(c.$$.fragment),d=Y(),u=K("p"),u.textContent="3) Play 2) and sometimes add a fill on the toms.",h=Y(),g=K("p"),m=se(`4) Play a swing feel, where you shift every second note a bit
                late. Try to do this consistently!
                `),Ut(M.$$.fragment)},m(A,b){_t(A,t,b),R(t,i),Nt(n,t,null),_t(A,a,b),_t(A,s,b),R(s,l),Nt(c,s,null),_t(A,d,b),_t(A,u,b),_t(A,h,b),_t(A,g,b),R(g,m),Nt(M,g,null),p=!0},p(A,b){const v={};b[1]&512&&(v.$$scope={dirty:b,ctx:A}),n.$set(v);const E={};b[1]&512&&(E.$$scope={dirty:b,ctx:A}),c.$set(E);const x={};b[1]&512&&(x.$$scope={dirty:b,ctx:A}),M.$set(x)},i(A){p||(Bt(n.$$.fragment,A),Bt(c.$$.fragment,A),Bt(M.$$.fragment,A),p=!0)},o(A){Rt(n.$$.fragment,A),Rt(c.$$.fragment,A),Rt(M.$$.fragment,A),p=!1},d(A){A&&(Ct(t),Ct(a),Ct(s),Ct(d),Ct(u),Ct(h),Ct(g)),Ft(n),Ft(c),Ft(M)}}}function i5t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P=e[6]?"density area":"histogram",L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt,Xt,ae,Jt,le,Ve,ai,Ye,ci,ei,Ze,be,ve;function re(ge){e[15](ge)}let Et={callback:e[11]};e[2]!==void 0&&(Et.value=e[2]),u=new ts({props:Et}),me.push(()=>Te(u,"value",re));function vt(ge){e[16](ge)}let Ht={label:"grid",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:e[11],$$slots:{default:[q8t]},$$scope:{ctx:e}};e[3]!==void 0&&(Ht.value=e[3]),m=new qr({props:Ht}),me.push(()=>Te(m,"value",vt));function St(ge){e[17](ge)}let It={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",callback:e[11],$$slots:{default:[X8t]},$$scope:{ctx:e}};e[4]!==void 0&&(It.value=e[4]),A=new qr({props:It}),me.push(()=>Te(A,"value",St));function zt(ge){e[18](ge)}let ht={tempo:e[2],grid:e[3],notes:e[8].map(VS),draw:e[11]};e[5]!==void 0&&(ht.adjustTime=e[5]),x=new Om({props:ht}),me.push(()=>Te(x,"adjustTime",zt));function X(ge){e[19](ge)}let tt={title:"The number of past bars to be shown. Allows to 'forget' mistakes in the beginning.",label:"last bars",callback:e[11],min:1,max:100,step:4};e[7]!==void 0&&(tt.value=e[7]),O=new ia({props:tt}),me.push(()=>Te(O,"value",X)),j=new t0({props:{tempo:e[2],accent:+e[3].split(":")[0]}});function Tt(ge){e[22](ge)}let Qt={callback:e[11]};e[8]!==void 0&&(Qt.data=e[8]),Q=new w5({props:Qt}),me.push(()=>Te(Q,"data",Tt));function Zt(ge){e[23](ge)}let ce={saveToStorage:e[14],callback:e[11]};e[8]!==void 0&&(ce.notes=e[8]),J=new aa({props:ce}),me.push(()=>Te(J,"notes",Zt)),pt=new Ma({props:{appId:e[0].id,loadData:e[13]}});function ye(ge){e[25](ge)}let $e={callback:e[11]};return e[8]!==void 0&&($e.notes=e[8]),Mt=new Ps({props:$e}),me.push(()=>Te(Mt,"notes",ye)),Ot=new ua({props:{loadData:e[13],getExportData:e[12],appId:e[0].id}}),jt=new Kr({props:{$$slots:{default:[e5t]},$$scope:{ctx:e}}}),kt=new Xr({props:{appId:e[0].id}}),Xt=new Ga({props:{key:"s",keyDown:e[29]}}),Jt=new Ga({props:{key:"h",keyDown:e[30]}}),Ve=new Ga({props:{key:"t",keyDown:e[31]}}),Ye=new Ga({props:{key:"k",keyDown:e[32]}}),ei=new $r({props:{noteOn:e[9],controlChange:e[10]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
            triplets on drums. Connect a MIDI drum kit and start playing to the
            metronome. The chart will show you how a summary of where your notes
            started, one for each type of drum. If you do not have a MIDI drum
            kit, you can press keys:
            <code>h</code>, <code>s</code>, <code>t</code>, and <code>k</code>
            for hi-hat, snare, tom, and kick drum.
            <i>Try playing without looking, focus on the metronome.</i>`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),E=K("div"),Ut(x.$$.fragment),C=Y(),Ut(O.$$.fragment),T=Y(),D=K("button"),L=se(P),N=Y(),U=K("div"),$=Y(),F=K("div"),Ut(j.$$.fragment),z=Y(),Ut(Q.$$.fragment),q=Y(),Ut(J.$$.fragment),et=Y(),mt=K("button"),mt.textContent="example",ot=Y(),Ut(pt.$$.fragment),wt=Y(),Ut(Mt.$$.fragment),dt=Y(),Ut(Ot.$$.fragment),At=Y(),Ut(jt.$$.fragment),bt=Y(),Ut(kt.$$.fragment),Dt=Y(),Ut(Xt.$$.fragment),ae=Y(),Ut(Jt.$$.fragment),le=Y(),Ut(Ve.$$.fragment),ai=Y(),Ut(Ye.$$.fragment),ci=Y(),Ut(ei.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(D,"title","Toggle between an area chart and a histogram of the note density"),un(D,"width","120px"),ut(E,"class","control"),ut(U,"class","visualization"),ut(F,"class","control"),ut(t,"class","app")},m(ge,He){_t(ge,t,He),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(t,v),R(t,E),Nt(x,E,null),R(E,C),Nt(O,E,null),R(E,T),R(E,D),R(D,L),R(t,N),R(t,U),e[21](U),R(t,$),R(t,F),Nt(j,F,null),R(F,z),Nt(Q,F,null),R(F,q),Nt(J,F,null),R(F,et),R(F,mt),R(F,ot),Nt(pt,F,null),R(F,wt),Nt(Mt,F,null),R(F,dt),Nt(Ot,F,null),R(t,At),Nt(jt,t,null),R(t,bt),Nt(kt,t,null),R(t,Dt),Nt(Xt,t,null),R(t,ae),Nt(Jt,t,null),R(t,le),Nt(Ve,t,null),R(t,ai),Nt(Ye,t,null),R(t,ci),Nt(ei,t,null),Ze=!0,be||(ve=[Qe(D,"click",e[20]),Qe(mt,"click",e[24])],be=!0)},p(ge,He){(!Ze||He[0]&1)&&n!==(n=ge[0].title+"")&&Ue(a,n);const _e={};!h&&He[0]&4&&(h=!0,_e.value=ge[2],Se(()=>h=!1)),u.$set(_e);const Pi={};He[1]&512&&(Pi.$$scope={dirty:He,ctx:ge}),!M&&He[0]&8&&(M=!0,Pi.value=ge[3],Se(()=>M=!1)),m.$set(Pi);const Le={};He[1]&512&&(Le.$$scope={dirty:He,ctx:ge}),!b&&He[0]&16&&(b=!0,Le.value=ge[4],Se(()=>b=!1)),A.$set(Le);const ke={};He[0]&4&&(ke.tempo=ge[2]),He[0]&8&&(ke.grid=ge[3]),He[0]&256&&(ke.notes=ge[8].map(VS)),!_&&He[0]&32&&(_=!0,ke.adjustTime=ge[5],Se(()=>_=!1)),x.$set(ke);const Oe={};!I&&He[0]&128&&(I=!0,Oe.value=ge[7],Se(()=>I=!1)),O.$set(Oe),(!Ze||He[0]&64)&&P!==(P=ge[6]?"density area":"histogram")&&Ue(L,P);const Ii={};He[0]&4&&(Ii.tempo=ge[2]),He[0]&8&&(Ii.accent=+ge[3].split(":")[0]),j.$set(Ii);const wn={};!V&&He[0]&256&&(V=!0,wn.data=ge[8],Se(()=>V=!1)),Q.$set(wn);const ze={};!W&&He[0]&256&&(W=!0,ze.notes=ge[8],Se(()=>W=!1)),J.$set(ze);const Zi={};He[0]&1&&(Zi.appId=ge[0].id),pt.$set(Zi);const Re={};!xt&&He[0]&256&&(xt=!0,Re.notes=ge[8],Se(()=>xt=!1)),Mt.$set(Re);const bn={};He[0]&1&&(bn.appId=ge[0].id),Ot.$set(bn);const Ir={};He[1]&512&&(Ir.$$scope={dirty:He,ctx:ge}),jt.$set(Ir);const dr={};He[0]&1&&(dr.appId=ge[0].id),kt.$set(dr)},i(ge){Ze||(Bt(u.$$.fragment,ge),Bt(m.$$.fragment,ge),Bt(A.$$.fragment,ge),Bt(x.$$.fragment,ge),Bt(O.$$.fragment,ge),Bt(j.$$.fragment,ge),Bt(Q.$$.fragment,ge),Bt(J.$$.fragment,ge),Bt(pt.$$.fragment,ge),Bt(Mt.$$.fragment,ge),Bt(Ot.$$.fragment,ge),Bt(jt.$$.fragment,ge),Bt(kt.$$.fragment,ge),Bt(Xt.$$.fragment,ge),Bt(Jt.$$.fragment,ge),Bt(Ve.$$.fragment,ge),Bt(Ye.$$.fragment,ge),Bt(ei.$$.fragment,ge),Ze=!0)},o(ge){Rt(u.$$.fragment,ge),Rt(m.$$.fragment,ge),Rt(A.$$.fragment,ge),Rt(x.$$.fragment,ge),Rt(O.$$.fragment,ge),Rt(j.$$.fragment,ge),Rt(Q.$$.fragment,ge),Rt(J.$$.fragment,ge),Rt(pt.$$.fragment,ge),Rt(Mt.$$.fragment,ge),Rt(Ot.$$.fragment,ge),Rt(jt.$$.fragment,ge),Rt(kt.$$.fragment,ge),Rt(Xt.$$.fragment,ge),Rt(Jt.$$.fragment,ge),Rt(Ve.$$.fragment,ge),Rt(Ye.$$.fragment,ge),Rt(ei.$$.fragment,ge),Ze=!1},d(ge){ge&&Ct(t),Ft(u),Ft(m),Ft(A),Ft(x),Ft(O),e[21](null),Ft(j),Ft(Q),Ft(J),Ft(pt),Ft(Mt),Ft(Ot),Ft(jt),Ft(kt),Ft(Xt),Ft(Jt),Ft(Ve),Ft(Ye),Ft(ei),be=!1,ar(ve)}}}function n5t(e){let t,i;return t=new da({props:{loadData:e[13],$$slots:{default:[i5t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&511|a[1]&512&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let GS=900;const VS=e=>e.time;function r5t(e,t,i){let{appInfo:n}=t,a,s=60,l=K9[0].divisions,c=64,d=0,u=!0,h=4,g=0,m=[];const M=W=>{var ot;m.length===0&&(g=W.timestamp);const mt={time:(W.timestamp-g)/1e3,number:W.note.number,drum:((ot=s8.get(W.note.number))==null?void 0:ot.label)??W.note.number};i(8,m=[...m,mt]),b()},p=W=>{const et=W.controller.number;et===14?i(2,s=qa(W.rawValue,0,120)+60):et===15?i(4,c=ms[qa(Math.floor(W.rawValue/5),0,ms.length-1)]):et===16?i(5,d=(qa(W.rawValue,0,100)-50)/100):et===17&&i(7,h=qa(W.rawValue,0,99)+1),b()},A=(W="KD",et="Kick Drum",mt=null)=>{const[ot,pt]=l.split(":").map(bt=>+bt),wt=ta(s);let Mt=m.filter(bt=>bt.drum===W);if(Mt=Mt.map(bt=>(bt.time+d)/wt),h>0&&Mt.length>0){const bt=Math.floor(Mt.at(-1)/ot);Mt=Mt.filter(kt=>kt/ot>=bt-h)}Mt=Mt.map(bt=>bt%ot);let xt=[];if(Mt.length>0){let bt=4/c,kt=1,Dt=GS/2;xt=wm(Mt,{bandwidth:bt,pad:kt,bins:Dt,extent:[0,ot]}).bandwidth(bt)}const dt=Ci(0,ot+1,1),Ot=Ci(0,ot,1/pt),At=Sn({width:GS,height:mt?120:110,marginLeft:20,marginBottom:mt?30:20,padding:0,x:{label:mt,domain:[0,4],ticks:dt.slice(0,-1),round:!0,tickFormat:bt=>(bt+1).toFixed()},y:{axis:!1},marks:[u?E5(xt,{x:"x",y:"y",fill:bt=>L0.accent,clip:!0}):Bo(Mt,_5({y:"count"},{x:bt=>bt,fill:"#ccc",thresholds:Ci(0,ot+1,4/c)})),zr([0]),L9(Ot,{stroke:"#888"}),L9(dt,{stroke:"#888",strokeWidth:3})]}),jt=document.createElement("span");jt.innerText=et,a.appendChild(jt),a.appendChild(At)},b=()=>{i(1,a.textContent="",a),A("HH","Hi-Hat"),A("SN","Snare"),A("TO","Toms"),A("KD","Kick Drum","beats")};sr(b);const v=()=>({tempo:s,grid:l,binNote:c,adjustTime:d,pastBars:h,showKde:u,notes:m}),E=W=>{x(),i(2,s=W.tempo),i(3,l=W.grid),i(4,c=W.binNote),i(5,d=W.adjustTime),i(7,h=W.pastBars??100),i(6,u=W.showKde??!1),i(8,m=W.notes),b()},x=()=>{const W=JSON.stringify(m);m.length>0&&W!==JSON.stringify(NS.notes)&&W!==JSON.stringify(FS.notes)&&W!==JSON.stringify(US.notes)&&W!==JSON.stringify($S.notes)&&ga(n.id,v())};or(x);function _(W){s=W,i(2,s)}function C(W){l=W,i(3,l)}function O(W){c=W,i(4,c)}function I(W){d=W,i(5,d)}function T(W){h=W,i(7,h)}const D=()=>{i(6,u=!u),b()};function P(W){me[W?"unshift":"push"](()=>{a=W,i(1,a)})}function L(W){m=W,i(8,m)}function N(W){m=W,i(8,m)}const U=()=>E(NS);function $(W){m=W,i(8,m)}const F=()=>E(FS),j=()=>E(US),z=()=>E($S),Q=()=>M({timestamp:performance.now(),note:{number:38}}),V=()=>M({timestamp:performance.now(),note:{number:46}}),q=()=>M({timestamp:performance.now(),note:{number:48}}),J=()=>M({timestamp:performance.now(),note:{number:36}});return e.$$set=W=>{"appInfo"in W&&i(0,n=W.appInfo)},[n,a,s,l,c,d,u,h,m,M,p,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J]}class a5t extends qi{constructor(t){super(),Wi(this,t,r5t,n5t,Ji,{appInfo:0},null,[-1,-1])}}function s5t(e,t,i){const n=e.slice();return n[30]=t[i],n}function o5t(e,t,i){const n=e.slice();return n[30]=t[i],n}function l5t(e){let t;return{c(){t=K("option"),t.textContent=`${e[30].label}`,t.__value=e[30].divisions,Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function c5t(e){let t,i=Ge(K9),n=[];for(let a=0;a<i.length;a+=1)n[a]=l5t(o5t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function u5t(e){let t;return{c(){t=K("option"),t.textContent=`1/${e[30]} note`,t.__value=e[30],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function d5t(e){let t,i=Ge(ms),n=[];for(let a=0;a<i.length;a+=1)n[a]=u5t(s5t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function h5t(e){let t,i,n,a,s;return{c(){t=K("p"),t.textContent="1) Play triplets.",i=Y(),n=K("p"),n.textContent=`2) Switch back and forth between a half bar of eighths and a half
            bar of triplets.`,a=Y(),s=K("p"),s.textContent=`3) Play a swing feel, where you shift every second note a bit late.
            Try to do this consistently!`},m(l,c){_t(l,t,c),_t(l,i,c),_t(l,n,c),_t(l,a,c),_t(l,s,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s))}}}function f5t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O=e[7]?"area":"bars",I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt;function Xt(be){e[14](be)}let ae={callback:e[11]};e[3]!==void 0&&(ae.value=e[3]),u=new ts({props:ae}),me.push(()=>Te(u,"value",Xt));function Jt(be){e[15](be)}let le={label:"grid",title:"The whole circle is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",callback:e[11],$$slots:{default:[c5t]},$$scope:{ctx:e}};e[4]!==void 0&&(le.value=e[4]),m=new qr({props:le}),me.push(()=>Te(m,"value",Jt));function Ve(be){e[17](be)}let ai={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",callback:e[16],$$slots:{default:[d5t]},$$scope:{ctx:e}};e[5]!==void 0&&(ai.value=e[5]),A=new qr({props:ai}),me.push(()=>Te(A,"value",Ve));function Ye(be){e[18](be)}let ci={tempo:e[3],grid:e[4],notes:e[8],draw:e[11]};e[6]!==void 0&&(ci.adjustTime=e[6]),E=new Om({props:ci}),me.push(()=>Te(E,"adjustTime",Ye)),U=new t0({props:{tempo:e[3],accent:+e[4].split(":")[0]}});function ei(be){e[22](be)}let Ze={saveToStorage:e[13],callback:e[21]};return e[8]!==void 0&&(Ze.notes=e[8]),F=new aa({props:Ze}),me.push(()=>Te(F,"notes",ei)),Q=new Ma({props:{appId:e[0].id,loadData:m5t}}),ot=new Kr({props:{$$slots:{default:[h5t]},$$scope:{ctx:e}}}),wt=new Xr({props:{appId:e[0].id}}),xt=new $r({props:{noteOn:e[10]}}),Ot=new Ga({props:{key:" ",keyDown:e[24]}}),jt=new Xc({props:{element:e[1],touchStart:e[25]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
        triplets. In this version, you can compare to earlier takes below.
        Choose your tempo and subdivision, and start playing. The bar or area
        chart will show you a summary of when you played notes. Use the
        integrated metronome. All notes will be timed relative to the first one,
        but you can adjust all notes to make them earlier or later in case you
        messed up the first. Your most recent earlier takes will be shown
        smaller below (new to old, left to right and top to bottom).<br/> <i>Try playing without looking and focus on the metronome.</i>`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),Ut(E.$$.fragment),_=Y(),C=K("button"),I=se(O),T=Y(),D=K("div"),P=K("canvas"),L=Y(),N=K("div"),Ut(U.$$.fragment),$=Y(),Ut(F.$$.fragment),z=Y(),Ut(Q.$$.fragment),V=Y(),q=K("div"),J=K("h3"),J.textContent="History",W=Y(),et=K("canvas"),mt=Y(),Ut(ot.$$.fragment),pt=Y(),Ut(wt.$$.fragment),Mt=Y(),Ut(xt.$$.fragment),dt=Y(),Ut(Ot.$$.fragment),At=Y(),Ut(jt.$$.fragment),ut(l,"class","explanation"),ut(C,"title","Toggle between bars and area"),ut(d,"class","control"),un(P,"width",pc/2+"px"),un(P,"height",pc/2+"px"),ut(D,"class","visualization"),ut(N,"class","control"),un(et,"width",pc+"px"),un(et,"height",e[9]/2+"px"),ut(q,"class","visualization"),ut(t,"class","app")},m(be,ve){_t(be,t,ve),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(d,v),Nt(E,d,null),R(d,_),R(d,C),R(C,I),R(t,T),R(t,D),R(D,P),e[20](P),R(t,L),R(t,N),Nt(U,N,null),R(N,$),Nt(F,N,null),R(N,z),Nt(Q,N,null),R(t,V),R(t,q),R(q,J),R(q,W),R(q,et),e[23](et),R(t,mt),Nt(ot,t,null),R(t,pt),Nt(wt,t,null),R(t,Mt),Nt(xt,t,null),R(t,dt),Nt(Ot,t,null),R(t,At),Nt(jt,t,null),bt=!0,kt||(Dt=Qe(C,"click",e[19]),kt=!0)},p(be,ve){(!bt||ve[0]&1)&&n!==(n=be[0].title+"")&&Ue(a,n);const re={};!h&&ve[0]&8&&(h=!0,re.value=be[3],Se(()=>h=!1)),u.$set(re);const Et={};ve[1]&16&&(Et.$$scope={dirty:ve,ctx:be}),!M&&ve[0]&16&&(M=!0,Et.value=be[4],Se(()=>M=!1)),m.$set(Et);const vt={};ve[1]&16&&(vt.$$scope={dirty:ve,ctx:be}),!b&&ve[0]&32&&(b=!0,vt.value=be[5],Se(()=>b=!1)),A.$set(vt);const Ht={};ve[0]&8&&(Ht.tempo=be[3]),ve[0]&16&&(Ht.grid=be[4]),ve[0]&256&&(Ht.notes=be[8]),!x&&ve[0]&64&&(x=!0,Ht.adjustTime=be[6],Se(()=>x=!1)),E.$set(Ht),(!bt||ve[0]&128)&&O!==(O=be[7]?"area":"bars")&&Ue(I,O);const St={};ve[0]&8&&(St.tempo=be[3]),ve[0]&16&&(St.accent=+be[4].split(":")[0]),U.$set(St);const It={};!j&&ve[0]&256&&(j=!0,It.notes=be[8],Se(()=>j=!1)),F.$set(It);const zt={};ve[0]&1&&(zt.appId=be[0].id),Q.$set(zt);const ht={};ve[1]&16&&(ht.$$scope={dirty:ve,ctx:be}),ot.$set(ht);const X={};ve[0]&1&&(X.appId=be[0].id),wt.$set(X);const tt={};ve[0]&2&&(tt.element=be[1]),jt.$set(tt)},i(be){bt||(Bt(u.$$.fragment,be),Bt(m.$$.fragment,be),Bt(A.$$.fragment,be),Bt(E.$$.fragment,be),Bt(U.$$.fragment,be),Bt(F.$$.fragment,be),Bt(Q.$$.fragment,be),Bt(ot.$$.fragment,be),Bt(wt.$$.fragment,be),Bt(xt.$$.fragment,be),Bt(Ot.$$.fragment,be),Bt(jt.$$.fragment,be),bt=!0)},o(be){Rt(u.$$.fragment,be),Rt(m.$$.fragment,be),Rt(A.$$.fragment,be),Rt(E.$$.fragment,be),Rt(U.$$.fragment,be),Rt(F.$$.fragment,be),Rt(Q.$$.fragment,be),Rt(ot.$$.fragment,be),Rt(wt.$$.fragment,be),Rt(xt.$$.fragment,be),Rt(Ot.$$.fragment,be),Rt(jt.$$.fragment,be),bt=!1},d(be){be&&Ct(t),Ft(u),Ft(m),Ft(A),Ft(E),e[20](null),Ft(U),Ft(F),Ft(Q),e[23](null),Ft(ot),Ft(wt),Ft(xt),Ft(Ot),Ft(jt),kt=!1,Dt()}}}let pc=850;const m5t=()=>{};function p5t(e,t,i){let{appInfo:n}=t;const a=Math.PI*2;let s,l,c=pc,d=120,u=K9[0].divisions,h=64,g=0,m=!0,M=0,p=[];const A=z=>{p.length===0&&(M=z.timestamp);const Q=(z.timestamp-M)/1e3;i(8,p=[...p,Q]),v()},b=(z,Q,V,q,J,W,et,mt,ot,pt)=>{const wt=mt,Mt=mt,xt=ot+wt/2,dt=pt+Mt/2,Ot=wt*.4,At=Ot*.8,jt=Ot*.9,bt=Ot*.95,kt=Ot*.68,Dt=Math.PI/2,Xt=z.getContext("2d"),[ae,Jt]=q.split(":").map(be=>+be),le=ta(V)*ae,Ye=Q.map(be=>be+W).map(be=>be%le).map(be=>be/le*a),ci=wt*.08;if(!et){const be=J*ae/4;Xt.fillStyle="#f8f8f8",Xt.strokeStyle="#aaa";const re=Ap().domain([0,a]).thresholds(Ci(be).map(vt=>vt/be*a))(Ye),Et=Ca(re,vt=>vt.length);for(const vt of re){if(vt.length===0)continue;const Ht=vt.length/Et*ci,St=Ot+Ht,It=vt.x0-Dt,zt=Math.cos(It),ht=Math.sin(It),X=vt.x1-Dt,tt=Math.cos(X),Tt=Math.sin(X);Xt.beginPath(),Xt.moveTo(xt+zt*Ot,dt+ht*Ot),Xt.lineTo(xt+zt*St,dt+ht*St),Xt.arc(xt,dt,St,It,X),Xt.lineTo(xt+tt*Ot,dt+Tt*Ot),Xt.closePath(),Xt.fill(),Xt.stroke()}}if(et&&Ye.length>1){let be=4/J,vt=wm(Ye,{bandwidth:be,pad:0,bins:360,extent:[0,a]}).bandwidth(be);const Ht=Ca([...vt],St=>St.y);vt=[...vt].map(St=>({...St,x:St.x<0?St.x+a:St.x})),vt.sort((St,It)=>St.x-It.x);for(const[St,It]of vt.entries()){const zt=It.x-Dt;let ht=It.y;(St===0||St===vt.length-1)&&(ht=(vt.at(0).y+vt.at(-1).y)/2);const X=Ot+ht/Ht*ci,tt=Math.cos(zt),Tt=Math.sin(zt);St===0?Xt.moveTo(xt+tt*X,dt+Tt*X):Xt.lineTo(xt+tt*X,dt+Tt*X)}Xt.closePath(),Xt.fillStyle=L0.accent,Xt.fill(),Xt.strokeStyle="#aaa",Xt.stroke()}Xt.strokeStyle="#aaa",Xt.fillStyle="white",Z8(Xt,xt,dt,Ot),Xt.lineWidth=2,Xt.fill(),Xt.stroke();const ei=Ci(ae).map(be=>a/ae*be-Dt),Ze=Ci(ae*Jt).map(be=>a/(ae*Jt)*be-Dt);Xt.beginPath(),Xt.lineWidth=2,Xt.fillStyle="#ccc",Xt.font=`${mt*.08}px sans-serif`,Xt.textAlign="center",Xt.textBaseline="middle";for(const[be,ve]of ei.entries()){const re=Math.cos(ve),Et=Math.sin(ve);Xt.moveTo(xt+re*At,dt+Et*At),Xt.lineTo(xt+re*bt,dt+Et*bt),Xt.fillText(be+1,xt+re*kt,dt+Et*kt)}Xt.stroke(),Xt.lineWidth=1,Xt.beginPath();for(const be of Ze){const ve=Math.cos(be),re=Math.sin(be);Xt.moveTo(xt+ve*jt,dt+re*jt),Xt.lineTo(xt+ve*bt,dt+re*bt)}if(Xt.stroke(),Q.length>0){const be=A2(Q,q,V,J,W);Xt.fillText((be/Q.length*100).toFixed()+"%",xt,dt)}},v=()=>{const z=s.getContext("2d"),Q=window.devicePixelRatio,V=s.getBoundingClientRect();i(1,s.width=V.width*Q,s),i(1,s.height=V.height*Q,s),z.scale(Q,Q),i(1,s.style.width=`${V.width}px`,s),i(1,s.style.height=`${V.height}px`,s),z.clearRect(0,0,pc,c),b(s,p,d,u,h,g,m,pc/2,0,0)},E=()=>{const Q=OF(n.id).slice(-8),V=l.getContext("2d"),q=window.devicePixelRatio,J=l.getBoundingClientRect();i(2,l.width=J.width*q,l),i(2,l.height=J.height*q,l),V.scale(q,q),i(2,l.style.width=`${J.width}px`,l),i(2,l.style.height=`${J.height}px`,l),V.fillStyle="white",V.fillRect(0,0,pc,c);const W=4;for(const[et,mt]of Q.entries()){const ot=mt.data,pt=ot.tempo,wt=ot.grid,Mt=ot.adjustTime,xt=ot.notes,dt=pc/W,Ot=et%W*dt,At=Math.floor(et/W)*dt;V.font="12px sans-serif",V.textBaseline="top",V.textAlign="center",V.fillStyle="#333",V.fillText(mt.date.slice(0,16).replace("T","  "),Ot+dt/2,At),V.fillText(`tempo: ${pt} grid: ${wt} adjust: ${Mt}`,Ot+dt/2,At+12),b(l,xt,pt,wt,h,Mt,m,dt*.8,Ot+dt*.1,At+22)}};sr(()=>{v(),E()});const x=()=>({tempo:d,grid:u,binNote:h,adjustTime:g,showKde:m,notes:p}),_=()=>{p.length>0&&ga(n.id,x())};or(_);function C(z){d=z,i(3,d)}function O(z){u=z,i(4,u)}const I=()=>{v(),E()};function T(z){h=z,i(5,h)}function D(z){g=z,i(6,g)}const P=()=>{i(7,m=!m),v(),E()};function L(z){me[z?"unshift":"push"](()=>{s=z,i(1,s)})}const N=()=>{v(),E()};function U(z){p=z,i(8,p)}function $(z){me[z?"unshift":"push"](()=>{l=z,i(2,l)})}const F=()=>A({timestamp:performance.now()}),j=()=>A({timestamp:performance.now()});return e.$$set=z=>{"appInfo"in z&&i(0,n=z.appInfo)},[n,s,l,d,u,h,g,m,p,c,A,v,E,_,C,O,I,T,D,P,L,N,U,$,F,j]}class g5t extends qi{constructor(t){super(),Wi(this,t,p5t,f5t,Ji,{appInfo:0},null,[-1,-1])}}function M5t(e){let t,i,n;return{c(){t=K("p"),t.textContent="1) Play or sing a note as accurately as possible.",i=Y(),n=K("p"),n.textContent="2) Bend/sing a note 25 cents higher (for example as a vibrato)."},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function A5t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L;function N(j){e[8](j)}let U={label:"past seconds",callback:e[7],min:.05,max:1,step:.05};e[5]!==void 0&&(U.value=e[5]),u=new ia({props:U}),me.push(()=>Te(u,"value",N));function $(j){e[10](j)}let F={title:"The minimum loudness in decibels for a sound to be registered as input. Lower means fainter notes will be registered but there will be more noise such as octave errors.",label:"min. decibels",callback:e[9],min:-40,max:-5,step:5};return e[6]!==void 0&&(F.value=e[6]),m=new ia({props:F}),me.push(()=>Te(m,"value",$)),_=new Kr({props:{$$slots:{default:[M5t]},$$scope:{ctx:e}}}),O=new Xr({props:{appId:e[0].id}}),T=new _v({props:{callback:e[7]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing hitting the correct pitch (for example an
        exact C) or playing/singing off-tune. Similar to a tuner, the needle
        shows you how far you are off the closest note in cents (0 is perfectly
        on the note, +/-50% is extactly between two valid notes).`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),A=K("button"),A.textContent="resume",b=Y(),v=K("div"),E=K("canvas"),x=Y(),Ut(_.$$.fragment),C=Y(),Ut(O.$$.fragment),I=Y(),Ut(T.$$.fragment),ut(l,"class","explanation"),ut(A,"title","Press this button if your browser prevents audio access because there needs to be a user interaction first"),ut(d,"class","control"),un(E,"width",uo+"px"),un(E,"height",G1+"px"),ut(v,"class","visualization"),ut(t,"class","app")},m(j,z){_t(j,t,z),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),R(d,A),R(t,b),R(t,v),R(v,E),e[12](E),e[13](v),R(t,x),Nt(_,t,null),R(t,C),Nt(O,t,null),R(t,I),Nt(T,t,null),D=!0,P||(L=Qe(A,"click",e[11]),P=!0)},p(j,[z]){(!D||z&1)&&n!==(n=j[0].title+"")&&Ue(a,n);const Q={};!h&&z&32&&(h=!0,Q.value=j[5],Se(()=>h=!1)),u.$set(Q);const V={};z&80&&(V.callback=j[9]),!M&&z&64&&(M=!0,V.value=j[6],Se(()=>M=!1)),m.$set(V);const q={};z&524288&&(q.$$scope={dirty:z,ctx:j}),_.$set(q);const J={};z&1&&(J.appId=j[0].id),O.$set(J)},i(j){D||(Bt(u.$$.fragment,j),Bt(m.$$.fragment,j),Bt(_.$$.fragment,j),Bt(O.$$.fragment,j),Bt(T.$$.fragment,j),D=!0)},o(j){Rt(u.$$.fragment,j),Rt(m.$$.fragment,j),Rt(_.$$.fragment,j),Rt(O.$$.fragment,j),Rt(T.$$.fragment,j),D=!1},d(j){j&&Ct(t),Ft(u),Ft(m),e[12](null),e[13](null),Ft(_),Ft(O),Ft(T),P=!1,L()}}}let uo=700,G1=360;const y5t=16;function v5t(e,t,i){let{appInfo:n}=t,a,s,l,c,d,u,h=.25,g=-25,m=0,M=[];function p(O,I){c.getFloatTimeDomainData(O);const T=d.findPitch(O,I),D=T[0],P=T[1],L=Sy(D),N=xy(L),U=mm(D),$=(U-N)*100,j={time:(performance.now()-m)/1e3,pitch:D,note:L,noteMidi:N,actualMidi:U,actualMidiChroma:U%12,centsOffset:$,clarity:P};M.push(j),M=M.slice(-(1e3/y5t)*h),A(),u=requestAnimationFrame(()=>p(O,I))}const A=()=>{const O=uo/2,I=G1-10,T=uo*.45,D=uo*.35,P=uo*.4,L=uo*.3,N=uo*.1,U=s.getContext("2d"),$=window.devicePixelRatio,F=s.getBoundingClientRect();i(2,s.width=F.width*$,s),i(2,s.height=F.height*$,s),U.scale($,$),i(2,s.style.width=`${F.width}px`,s),i(2,s.style.height=`${F.height}px`,s),U.clearRect(0,0,uo,G1);const j=im().domain([-50,50]).range([-Math.PI,0]),z=Bc(M,q=>q.centsOffset);if(U.lineWidth=10,U.lineCap="round",U.strokeStyle="#aaa",z>-100){const q=j(z),J=Math.cos(q),W=Math.sin(q);U.beginPath(),U.moveTo(O+J*N,I+W*N),U.lineTo(O+J*T,I+W*T),U.stroke()}U.fillStyle="white",Z8(U,O,I,N),U.lineWidth=2,U.stroke(),U.lineWidth=2,U.fill(),U.stroke();const Q=Ci(-50,51,25).map(j),V=Ci(-50,51,5).map(j);U.beginPath(),U.lineWidth=2;for(const q of Q){const J=Math.cos(q),W=Math.sin(q);U.moveTo(O+J*D,I+W*D),U.lineTo(O+J*T,I+W*T)}U.stroke(),U.lineWidth=1,U.beginPath();for(const q of V){const J=Math.cos(q),W=Math.sin(q);U.moveTo(O+J*P,I+W*P),U.lineTo(O+J*T,I+W*T)}U.stroke(),U.fillStyle="#888",U.font="30px Arial",U.textAlign="center",U.textBaseline="middle",U.fillText("too low",O-uo*.35,G1*.15),U.fillText("too high",O+uo*.35,G1*.15);for(const q of[-50,-25,0,25,50]){const J=j(q),W=Math.cos(J),et=Math.sin(J);U.fillText(q,O+W*L,I+et*L)}if(U.font="60px Arial",M.length>0){const q=S8(M,J=>J.note);U.fillText(q,O,I-20)}};sr(()=>{m=performance.now(),i(3,l=new window.AudioContext),c=l.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(O=>{l.createMediaStreamSource(O).connect(c),i(4,d=Sc.forFloat32Array(c.fftSize)),i(4,d.minVolumeDecibels=g,d);const I=new Float32Array(d.inputLength);p(I,l.sampleRate)}),A()}),or(()=>{clearTimeout(u),cancelAnimationFrame(u)});function b(O){h=O,i(5,h)}const v=()=>i(4,d.minVolumeDecibels=g,d);function E(O){g=O,i(6,g)}const x=()=>l.resume();function _(O){me[O?"unshift":"push"](()=>{s=O,i(2,s)})}function C(O){me[O?"unshift":"push"](()=>{a=O,i(1,a)})}return e.$$set=O=>{"appInfo"in O&&i(0,n=O.appInfo)},[n,a,s,l,d,h,g,A,b,v,E,x,_,C]}class b5t extends qi{constructor(t){super(),Wi(this,t,v5t,A5t,Ji,{appInfo:0})}}const C5t=60,_5t=5,E5t=!1,w5t=[{number:59,time:0,duration:1.213523544,end:1.213523544},{number:59,time:5.473900000095368,duration:2.108099999904632,end:7.582},{number:59,time:19.631,duration:3.041999999999998,end:22.673},{number:59,time:25.201,duration:4.341000000000001,end:29.542},{number:59,time:31.323,duration:3.8810000000000002,end:35.204}],O5t="duration-bars",x5t="0.13.3",S5t="2024-09-06T16:40:29.988Z",HS={tempo:C5t,pastNoteCount:_5t,showClosestDuration:E5t,notes:w5t,_appId:O5t,_softwareVersion:x5t,_date:S5t};function T5t(e){let t;return{c(){t=K("p"),t.innerHTML=`1) Play a quarter note <span class="icon">𝅘𝅥 ◔</span>, a half note
        <span class="icon">𝅗𝅥 ◑</span>, a dotted half note
        <span class="icon">𝅗𝅥. ◕</span>
        , and a whole note <span class="icon">𝅝</span> <span class="icon" style="font-size: 14px">⬤</span>.`},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function I5t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt;function Xt(re){e[17](re)}let ae={callback:e[12]};e[1]!==void 0&&(ae.value=e[1]),u=new ts({props:ae}),me.push(()=>Te(u,"value",Xt));function Jt(re){e[18](re)}let le={callback:e[12],step:1,min:1,max:12};e[3]!==void 0&&(le.value=e[3]),m=new Kc({props:le}),me.push(()=>Te(m,"value",Jt));function Ve(re){e[19](re)}let ai={callback:e[12],label:"pies",title:"Toggles between pie and bar chart encoding"};e[4]!==void 0&&(ai.checked=e[4]),A=new Tr({props:ai}),me.push(()=>Te(A,"checked",Ve));function Ye(re){e[20](re)}let ci={callback:e[12],label:"show closest duration",title:"Show the closest note duration as an inner piece"};e[5]!==void 0&&(ci.checked=e[5]),E=new Tr({props:ci}),me.push(()=>Te(E,"checked",Ye)),D=new t0({props:{tempo:e[1],accent:4}});function ei(re){e[22](re)}let Ze={callback:e[12]};e[7]!==void 0&&(Ze.data=e[7]),L=new w5({props:Ze}),me.push(()=>Te(L,"data",ei));function be(re){e[24](re)}let ve={saveToStorage:e[15],callback:e[23]};return e[7]!==void 0&&(ve.notes=e[7]),$=new aa({props:ve}),me.push(()=>Te($,"notes",be)),V=new Ma({props:{appId:e[0].id,loadData:e[14]}}),J=new ua({props:{loadData:e[14],getExportData:e[13],appId:e[0].id}}),et=new Kr({props:{$$slots:{default:[T5t]},$$scope:{ctx:e}}}),ot=new Xr({props:{appId:e[0].id}}),wt=new $r({props:{noteOn:e[9],noteOff:e[10],controlChange:e[11]}}),xt=new Ga({props:{key:" ",keyDown:e[26],keyUp:e[27]}}),Ot=new Xc({props:{element:e[2],touchStart:e[28],touchEnd:e[29]}}),jt=new _v({props:{callback:e[12]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing how long you hold notes. Set a tempo, start the
      metronome, and try to play different note durations (whole, half, quarter,
      eighth). You can also try dotted notes. Each note will be shown as a pie
      chart, that shows how much of a whole note you played. For example, if you
      tried to play a half note, the pie chart should be half full. If you play
      longer than a whole note, the addtional time will be shown in red. You can
      also switch to a bar ('test tube') encoding.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),Ut(E.$$.fragment),_=Y(),C=K("div"),O=K("canvas"),I=Y(),T=K("div"),Ut(D.$$.fragment),P=Y(),Ut(L.$$.fragment),U=Y(),Ut($.$$.fragment),j=Y(),z=K("button"),z.textContent="example",Q=Y(),Ut(V.$$.fragment),q=Y(),Ut(J.$$.fragment),W=Y(),Ut(et.$$.fragment),mt=Y(),Ut(ot.$$.fragment),pt=Y(),Ut(wt.$$.fragment),Mt=Y(),Ut(xt.$$.fragment),dt=Y(),Ut(Ot.$$.fragment),At=Y(),Ut(jt.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),un(O,"width",V1+"px"),un(O,"height",l0+"px"),ut(C,"class","visualization"),ut(T,"class","control"),ut(t,"class","app")},m(re,Et){_t(re,t,Et),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(d,v),Nt(E,d,null),R(t,_),R(t,C),R(C,O),e[21](O),R(t,I),R(t,T),Nt(D,T,null),R(T,P),Nt(L,T,null),R(T,U),Nt($,T,null),R(T,j),R(T,z),R(T,Q),Nt(V,T,null),R(T,q),Nt(J,T,null),R(t,W),Nt(et,t,null),R(t,mt),Nt(ot,t,null),R(t,pt),Nt(wt,t,null),R(t,Mt),Nt(xt,t,null),R(t,dt),Nt(Ot,t,null),R(t,At),Nt(jt,t,null),bt=!0,kt||(Dt=Qe(z,"click",e[25]),kt=!0)},p(re,Et){(!bt||Et[0]&1)&&n!==(n=re[0].title+"")&&Ue(a,n);const vt={};!h&&Et[0]&2&&(h=!0,vt.value=re[1],Se(()=>h=!1)),u.$set(vt);const Ht={};!M&&Et[0]&8&&(M=!0,Ht.value=re[3],Se(()=>M=!1)),m.$set(Ht);const St={};!b&&Et[0]&16&&(b=!0,St.checked=re[4],Se(()=>b=!1)),A.$set(St);const It={};!x&&Et[0]&32&&(x=!0,It.checked=re[5],Se(()=>x=!1)),E.$set(It);const zt={};Et[0]&2&&(zt.tempo=re[1]),D.$set(zt);const ht={};!N&&Et[0]&128&&(N=!0,ht.data=re[7],Se(()=>N=!1)),L.$set(ht);const X={};Et[0]&256&&(X.callback=re[23]),!F&&Et[0]&128&&(F=!0,X.notes=re[7],Se(()=>F=!1)),$.$set(X);const tt={};Et[0]&1&&(tt.appId=re[0].id),V.$set(tt);const Tt={};Et[0]&1&&(Tt.appId=re[0].id),J.$set(Tt);const Qt={};Et[1]&16&&(Qt.$$scope={dirty:Et,ctx:re}),et.$set(Qt);const Zt={};Et[0]&1&&(Zt.appId=re[0].id),ot.$set(Zt);const ce={};Et[0]&64&&(ce.keyDown=re[26]),Et[0]&64&&(ce.keyUp=re[27]),xt.$set(ce);const ye={};Et[0]&4&&(ye.element=re[2]),Ot.$set(ye)},i(re){bt||(Bt(u.$$.fragment,re),Bt(m.$$.fragment,re),Bt(A.$$.fragment,re),Bt(E.$$.fragment,re),Bt(D.$$.fragment,re),Bt(L.$$.fragment,re),Bt($.$$.fragment,re),Bt(V.$$.fragment,re),Bt(J.$$.fragment,re),Bt(et.$$.fragment,re),Bt(ot.$$.fragment,re),Bt(wt.$$.fragment,re),Bt(xt.$$.fragment,re),Bt(Ot.$$.fragment,re),Bt(jt.$$.fragment,re),bt=!0)},o(re){Rt(u.$$.fragment,re),Rt(m.$$.fragment,re),Rt(A.$$.fragment,re),Rt(E.$$.fragment,re),Rt(D.$$.fragment,re),Rt(L.$$.fragment,re),Rt($.$$.fragment,re),Rt(V.$$.fragment,re),Rt(J.$$.fragment,re),Rt(et.$$.fragment,re),Rt(ot.$$.fragment,re),Rt(wt.$$.fragment,re),Rt(xt.$$.fragment,re),Rt(Ot.$$.fragment,re),Rt(jt.$$.fragment,re),bt=!1},d(re){re&&Ct(t),Ft(u),Ft(m),Ft(A),Ft(E),e[21](null),Ft(D),Ft(L),Ft($),Ft(V),Ft(J),Ft(et),Ft(ot),Ft(wt),Ft(xt),Ft(Ot),Ft(jt),kt=!1,Dt()}}}function B5t(e){let t,i;return t=new da({props:{loadData:e[14],$$slots:{default:[I5t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&511|a[1]&16&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let V1=900,l0=400;function R5t(e,t,i){let n,a,{appInfo:s}=t,l;const c=2*Math.PI;let d=60,u=4,h=!0,g=!1,m=!1,M,p=[],A=new Map;const b=W=>{p.length===0&&(M=W.timestamp);const et=(W.timestamp-M)/1e3,mt={number:W.note.number,time:et,duration:0};if(A.has(W.note.number)){const ot=A.get(W.note.number);ot.end===void 0&&(ot.end=et)}i(7,p=[...p,mt]),A.set(W.note.number,mt),C()},v=W=>{if(A.has(W.note.number)){const et=A.get(W.note.number),mt=(W.timestamp-M)/1e3;et.end=mt,et.duration=et.end-et.time}C()},E=W=>{const et=qa(W.rawValue*2,20,250);i(3,u=et),C()},x=()=>{const W=(l0-50)/2,et=(V1-30)/u,mt=Math.min(et*.4,l0*.3),ot=mt*.5,pt=mt*.75,wt=mt+15,Mt=l.getContext("2d"),xt=window.devicePixelRatio,dt=l.getBoundingClientRect();i(2,l.width=dt.width*xt,l),i(2,l.height=dt.height*xt,l),Mt.scale(xt,xt),i(2,l.style.width=`${dt.width}px`,l),i(2,l.style.height=`${dt.height}px`,l),Mt.clearRect(0,0,V1,l0);for(const[Ot,At]of p.slice(-u).entries()){const jt=et*(Ot+.5)+15;Mt.fillStyle=L0.accent;const bt=Math.min(At.duration/n,1);Mt.beginPath(),Mt.moveTo(jt,W),Mt.arc(jt,W,mt,-Math.PI/2,bt*c-Math.PI/2),Mt.closePath(),Mt.fill();let kt=null;if(At.duration>0){const ae=xc(a,Jt=>Math.abs(At.duration-Jt.seconds));if(kt=a[ae],g){Mt.fillStyle=L0.accentDark;const Jt=Math.min(kt.seconds/n,1);Mt.beginPath(),Mt.moveTo(jt,W),Mt.arc(jt,W,pt,-Math.PI/2,Jt*c-Math.PI/2),Mt.closePath(),Mt.fill()}}if(At.duration>n){Mt.fillStyle=L0.wrong;const ae=Math.min((At.duration-n)/n,1);Mt.beginPath(),Mt.moveTo(jt,W),Mt.arc(jt,W,mt,-Math.PI/2,ae*c-Math.PI/2),Mt.closePath(),Mt.fill()}Mt.lineWidth=2,Mt.strokeStyle="#aaa",Z8(Mt,jt,W,mt);const Dt=Ci(4).map(ae=>ae*c/4),Xt=Ci(8).map(ae=>ae*c/8);Mt.beginPath();for(const ae of Dt){const Jt=Math.cos(ae),le=Math.sin(ae);Mt.moveTo(jt+Jt*ot,W+le*ot),Mt.lineTo(jt+Jt*mt,W+le*mt)}Mt.lineWidth=1;for(const ae of Xt){const Jt=Math.cos(ae),le=Math.sin(ae);Mt.moveTo(jt+Jt*pt,W+le*pt),Mt.lineTo(jt+Jt*mt,W+le*mt)}if(Mt.stroke(),Mt.fillStyle="#666",Mt.font='20px "Noto Music", sans-serif',Mt.textAlign="center",Mt.textBaseline="bottom",Mt.textBaseline="middle",Ot===0&&u<=8&&(Mt.fillText(jw,jt,W-wt),Mt.fillText(Jw,jt+wt,W),Mt.fillText(I4,jt,W+wt),Mt.fillText(I4+".",jt-wt,W)),Mt.font='16px "Noto Music", sans-serif',At.duration>0){Mt.fillText(`closest: ${kt.symbol}`,jt,l0-50);const ae=At.duration/kt.seconds*100;Mt.fillText(`${ae.toFixed()}%`,jt,l0-30);let Jt="";ae<80?Jt="too short":ae<90?Jt="short":ae<110?Jt="good!":ae<120?Jt="long":Jt="too long",Mt.fillText(`${Jt}`,jt,l0-10)}}},_=()=>{const W=(V1-10)/u,et=W*.8,mt=l0*.7,ot=10,pt=ot+mt,wt=l.getContext("2d"),Mt=window.devicePixelRatio,xt=l.getBoundingClientRect();i(2,l.width=xt.width*Mt,l),i(2,l.height=xt.height*Mt,l),wt.scale(Mt,Mt),i(2,l.style.width=`${xt.width}px`,l),i(2,l.style.height=`${xt.height}px`,l),wt.clearRect(0,0,V1,l0),wt.textBaseline="middle";for(const[dt,Ot]of p.slice(-u).entries()){const At=W*(dt+.1)+10;wt.fillStyle=L0.accent;const jt=Math.min(Ot.duration/n,1),bt=mt*jt;wt.fillRect(At,pt-bt,et,bt);let kt=null;if(Ot.duration>0){const Dt=xc(a,Xt=>Math.abs(Ot.duration-Xt.seconds));if(kt=a[Dt],g){wt.fillStyle=L0.accentDark;const Xt=Math.min(kt.seconds/n,1),ae=mt*Xt;wt.fillRect(At,pt-ae,et/2,ae)}}if(Ot.duration>n){wt.fillStyle=L0.wrong;const Dt=Math.min((Ot.duration-n)/n,1),Xt=mt*Dt;wt.fillRect(At,pt-Xt,et,Xt)}wt.lineWidth=2,wt.strokeStyle="#aaa",wt.fillStyle="#aaa",wt.strokeRect(At,ot,et,mt),wt.fillRect(At,ot+mt/2,et*.4,1);for(const Dt of Ci(ot,ot+mt,mt/4))wt.fillRect(At,Dt,et*.2,1);for(const Dt of Ci(ot,ot+mt,mt/8))wt.fillRect(At,Dt,et*.1,1);if(wt.font='16px "Noto Music", sans-serif',wt.fillStyle="#666",Ot.duration>0){const Dt=xc(a,Ve=>Math.abs(Ot.duration-Ve.seconds)),Xt=a[Dt];wt.textAlign="center";const ae=At+et/2;wt.fillText(`closest: ${Xt.symbol}`,ae,l0-50);const Jt=Ot.duration/Xt.seconds*100;wt.fillText(`${Jt.toFixed()}%`,ae,l0-30);let le="";Jt<80?le="too short":Jt<90?le="short":Jt<110?le="good!":Jt<120?le="long":le="too long",wt.fillText(`${le}`,ae,l0-10)}wt.font='20px "Noto Music", sans-serif',dt===0&&(wt.textAlign="right",wt.fillText(jw,At-5,ot),wt.fillText(I4+".",At-5,ot+mt*.25),wt.fillText(I4,At-5,ot+mt*.5),wt.fillText(Jw,At-5,ot+mt*.75),wt.fillText(jL,At-5,ot+mt*.875))}},C=()=>{h?x():_()},O=()=>({tempo:d,pastNoteCount:u,usePies:h,showClosestDuration:g,notes:p}),I=W=>{T(),i(1,d=W.tempo),i(3,u=W.pastNoteCount),i(4,h=W.usePies??!0),i(5,g=W.showClosestDuration),i(7,p=W.notes),C()},T=()=>{p.length>0&&JSON.stringify(p)!==JSON.stringify(HS.notes)&&ga(s.id,O())};or(T);function D(W){d=W,i(1,d)}function P(W){u=W,i(3,u)}function L(W){h=W,i(4,h)}function N(W){g=W,i(5,g)}function U(W){me[W?"unshift":"push"](()=>{l=W,i(2,l)})}function $(W){p=W,i(7,p)}const F=()=>{i(8,A=new Map),C()};function j(W){p=W,i(7,p)}const z=()=>I(HS),Q=()=>{m||(i(6,m=!0),b({note:{number:0},timestamp:performance.now()}))},V=()=>{i(6,m=!1),v({note:{number:0},timestamp:performance.now()})},q=()=>{b({note:{number:0},timestamp:performance.now()})},J=()=>{v({note:{number:0},timestamp:performance.now()})};return e.$$set=W=>{"appInfo"in W&&i(0,s=W.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&2&&i(16,n=ta(d)*4),e.$$.dirty[0]&65536&&(a=x2.filter(W=>!W.tuplet).map(W=>({...W,seconds:W.beats*(n/4)})))},[s,d,l,u,h,g,m,p,A,b,v,E,C,O,I,T,n,D,P,L,N,U,$,F,j,z,Q,V,q,J]}class D5t extends qi{constructor(t){super(),Wi(this,t,R5t,B5t,Ji,{appInfo:0},null,[-1,-1])}}const P5t=2,L5t=5,k5t=[0,.265,.538,.8090999999046325,1.081,1.32,1.596,1.853,2.136,2.41,2.677,2.93,3.206,3.472,3.735,4.007,4.259,4.522,4.781,5.056,5.331,5.599,5.834,6.078,6.344,6.613,6.881,7.171,7.426,7.71,7.994,8.26,8.525,8.804,9.061,9.315,9.599,9.872,10.136,10.41,10.673,10.941,11.209,11.466,11.714,11.978099999904632,12.251099999904632,12.524,12.811,13.068,13.279,13.488,13.681,13.873,14.077,14.269,14.468,14.664,14.869,15.070099999904633,15.267,15.484,15.694,15.896,16.099,16.308099999904634,16.513,16.73,16.934,17.32909999990463,17.532,17.756,17.98,18.187,18.399,18.635,18.851,19.077,19.283099999904632,19.475,19.690099999904632,19.902,20.101,20.303,20.508,20.71,20.906,21.110099999904634,21.298,21.494,21.687,21.871,22.066,22.258,22.449,22.647,22.845,23.043,23.247,23.438,23.631,23.821,24.014,24.217,24.415,24.609,24.808,25.007,25.208,25.407,25.603,25.799,25.999,26.19,26.396,26.584,26.784,26.974,27.158,27.338],N5t="tempo-change",F5t="2024-09-02T18:50:05.143Z",QS={timeBinSize:P5t,tempoBinSize:L5t,notes:k5t,_appId:N5t,_date:F5t};function U5t(e){let t,i,n,a,s,l,c;return{c(){t=K("p"),t.textContent="1) Play at a contant tempo.",i=Y(),n=K("p"),n.textContent=`2) Start with tempo 90 and smoothly increase until you reach
                150.`,a=Y(),s=K("p"),s.textContent="3) Start with tempo 90 and suddenly jump to 150.",l=Y(),c=K("p"),c.textContent=`4) Switch back and forth between two tempi, try to always hit
                the same two BPM values.`},m(d,u){_t(d,t,u),_t(d,i,u),_t(d,n,u),_t(d,a,u),_t(d,s,u),_t(d,l,u),_t(d,c,u)},p:Fe,d(d){d&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c))}}}function $5t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt;function Mt(Dt){e[10](Dt)}let xt={title:"Size of the time bins in seconds",label:"time step",callback:e[6],min:1,max:10,step:1};e[2]!==void 0&&(xt.value=e[2]),u=new ia({props:xt}),me.push(()=>Te(u,"value",Mt));function dt(Dt){e[11](Dt)}let Ot={title:"Size of the tempo bins in BPM",label:"tempo step",callback:e[6],min:2,max:20,step:1};e[3]!==void 0&&(Ot.value=e[3]),m=new ia({props:Ot}),me.push(()=>Te(m,"value",dt)),E=new t0({props:{tempo:120,accent:4,beepCount:8,showBeepCountInput:!0}});function At(Dt){e[13](Dt)}let jt={saveToStorage:e[9],callback:e[6]};e[4]!==void 0&&(jt.notes=e[4]),_=new aa({props:jt}),me.push(()=>Te(_,"notes",At)),D=new Ma({props:{appId:e[0].id,loadData:e[8]}});function bt(Dt){e[15](Dt)}let kt={callback:e[6]};return e[4]!==void 0&&(kt.notes=e[4]),L=new Ps({props:kt}),me.push(()=>Te(L,"notes",bt)),$=new ua({props:{loadData:e[8],getExportData:e[7],appId:e[0].id}}),j=new Kr({props:{$$slots:{default:[U5t]},$$scope:{ctx:e}}}),Q=new Xr({props:{appId:e[0].id}}),q=new $r({props:{noteOn:e[5]}}),W=new Ga({props:{key:" ",keyDown:e[16]}}),mt=new Xc({props:{element:e[1],touchStart:e[17]}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.innerHTML=`This app helps practicing tempo changes. Start playing at one tempo
            then change to another one as accurately as you can. The chart shows
            you the tempo over time, so can see whether you changed correctly. <i>This app assumes tempi between 60 and 180 bpm. Try playing
                without looking!</i>`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),A=K("div"),b=Y(),v=K("div"),Ut(E.$$.fragment),x=Y(),Ut(_.$$.fragment),O=Y(),I=K("button"),I.textContent="example",T=Y(),Ut(D.$$.fragment),P=Y(),Ut(L.$$.fragment),U=Y(),Ut($.$$.fragment),F=Y(),Ut(j.$$.fragment),z=Y(),Ut(Q.$$.fragment),V=Y(),Ut(q.$$.fragment),J=Y(),Ut(W.$$.fragment),et=Y(),Ut(mt.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(A,"class","visualization"),ut(v,"class","control"),ut(t,"class","app")},m(Dt,Xt){_t(Dt,t,Xt),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(t,p),R(t,A),e[12](A),R(t,b),R(t,v),Nt(E,v,null),R(v,x),Nt(_,v,null),R(v,O),R(v,I),R(v,T),Nt(D,v,null),R(v,P),Nt(L,v,null),R(v,U),Nt($,v,null),R(t,F),Nt(j,t,null),R(t,z),Nt(Q,t,null),R(t,V),Nt(q,t,null),R(t,J),Nt(W,t,null),R(t,et),Nt(mt,t,null),ot=!0,pt||(wt=Qe(I,"click",e[14]),pt=!0)},p(Dt,Xt){(!ot||Xt&1)&&n!==(n=Dt[0].title+"")&&Ue(a,n);const ae={};!h&&Xt&4&&(h=!0,ae.value=Dt[2],Se(()=>h=!1)),u.$set(ae);const Jt={};!M&&Xt&8&&(M=!0,Jt.value=Dt[3],Se(()=>M=!1)),m.$set(Jt);const le={};!C&&Xt&16&&(C=!0,le.notes=Dt[4],Se(()=>C=!1)),_.$set(le);const Ve={};Xt&1&&(Ve.appId=Dt[0].id),D.$set(Ve);const ai={};!N&&Xt&16&&(N=!0,ai.notes=Dt[4],Se(()=>N=!1)),L.$set(ai);const Ye={};Xt&1&&(Ye.appId=Dt[0].id),$.$set(Ye);const ci={};Xt&1048576&&(ci.$$scope={dirty:Xt,ctx:Dt}),j.$set(ci);const ei={};Xt&1&&(ei.appId=Dt[0].id),Q.$set(ei);const Ze={};Xt&2&&(Ze.element=Dt[1]),mt.$set(Ze)},i(Dt){ot||(Bt(u.$$.fragment,Dt),Bt(m.$$.fragment,Dt),Bt(E.$$.fragment,Dt),Bt(_.$$.fragment,Dt),Bt(D.$$.fragment,Dt),Bt(L.$$.fragment,Dt),Bt($.$$.fragment,Dt),Bt(j.$$.fragment,Dt),Bt(Q.$$.fragment,Dt),Bt(q.$$.fragment,Dt),Bt(W.$$.fragment,Dt),Bt(mt.$$.fragment,Dt),ot=!0)},o(Dt){Rt(u.$$.fragment,Dt),Rt(m.$$.fragment,Dt),Rt(E.$$.fragment,Dt),Rt(_.$$.fragment,Dt),Rt(D.$$.fragment,Dt),Rt(L.$$.fragment,Dt),Rt($.$$.fragment,Dt),Rt(j.$$.fragment,Dt),Rt(Q.$$.fragment,Dt),Rt(q.$$.fragment,Dt),Rt(W.$$.fragment,Dt),Rt(mt.$$.fragment,Dt),ot=!1},d(Dt){Dt&&Ct(t),Ft(u),Ft(m),e[12](null),Ft(E),Ft(_),Ft(D),Ft(L),Ft($),Ft(j),Ft(Q),Ft(q),Ft(W),Ft(mt),pt=!1,wt()}}}function G5t(e){let t,i;return t=new da({props:{loadData:e[8],$$slots:{default:[$5t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,[a]){const s={};a&1048607&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let eM=900,V5t=600;const H5t=.025;function Q5t(e,t,i){let{appInfo:n}=t,a,s,l=5,c=5,d=[];const u=I=>{const T=[],P=Ap().domain([0,I.at(-1)]).thresholds(Ci(0,I.at(-1)+l,l))(I);for(const L of P){const U=L.map((Q,V)=>V===0?0:Q-L[V-1]).filter(Q=>Q>.0125&&Q<1.5),$=U.map(Q=>{for(Q=hat(Q);Q>180;)Q/=2;for(;Q<60;)Q*=2;return Q=Math.round(Q),Q}),j=Ap().domain([60,180]).thresholds(Ci(60,181,c))($),z=UA(j,Q=>Q.length);console.log(z);for(const[Q,V]of j.entries())V.length>0&&T.push({time0:L.x0,time1:L.x1,tempo0:V.x0,tempo1:V.x1,count:V.length,confidence:V.length/U.length,max:Q===z})}return T},h=I=>{d.length===0&&(s=I.timestamp);const T=(I.timestamp-s)/1e3;(d.length===0||Math.abs(T-d.at(-1))>H5t)&&i(4,d=[...d,T]),g()},g=()=>{i(1,a.textContent="",a);const I=u(d);I.length>0&&I.at(-1).time1;const T=Sn({width:eM,height:V5t,marginBottom:50,padding:0,x:{label:"time in seconds"},y:{label:"tempo in BPM",grid:!0},color:{label:"confidence",scheme:"Blues",legend:!0,marginLeft:eM*.3,width:eM*.6,type:"sqrt",domain:[0,1]},marks:[ZN(I,{x1:"time0",x2:"time1",y1:"tempo0",y2:"tempo1",fill:"confidence",clip:!0,tip:!0,stroke:"max",strokeWidth:1,rx:3,inset:1}),zr([60,90,120,150,180]),k9([d.at(-1)],{opacity:0})]});a.appendChild(T)},m=()=>({timeBinSize:l,tempoBinSize:c,notes:d}),M=I=>{i(2,l=I.timeBinSize),i(3,c=I.tempoBinSize),i(4,d=I.notes),g()},p=()=>{d.length>0&&JSON.stringify(d)!==JSON.stringify(QS.notes)&&ga(n.id,m())};sr(g),or(p);function A(I){l=I,i(2,l)}function b(I){c=I,i(3,c)}function v(I){me[I?"unshift":"push"](()=>{a=I,i(1,a)})}function E(I){d=I,i(4,d)}const x=()=>M(QS);function _(I){d=I,i(4,d)}const C=()=>h({timestamp:performance.now()}),O=()=>h({timestamp:performance.now()});return e.$$set=I=>{"appInfo"in I&&i(0,n=I.appInfo)},[n,a,l,c,d,h,g,m,M,p,A,b,v,E,x,_,C,O]}class z5t extends qi{constructor(t){super(),Wi(this,t,Q5t,G5t,Ji,{appInfo:0})}}function zS(e,t,i){const n=e.slice();return n[35]=t[i],n[37]=i,n}function jS(e,t,i){const n=e.slice();return n[38]=t[i],n[37]=i,n}function JS(e){let t;return{c(){t=K("option"),t.textContent=`${e[38].label}`,t.__value=e[37],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function j5t(e){let t,i=Ge(e[12]),n=[];for(let a=0;a<i.length;a+=1)n[a]=JS(jS(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p(a,s){if(s[0]&4096){i=Ge(a[12]);let l;for(l=0;l<i.length;l+=1){const c=jS(a,i,l);n[l]?n[l].p(c,s):(n[l]=JS(c),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=i.length}},d(a){a&&Ct(t),Oi(n,a)}}}function WS(e){let t,i,n,a,s=e[35].name+"",l,c,d,u;function h(...g){return e[26](e[37],...g)}return{c(){var g;t=K("label"),i=K("input"),a=Y(),l=se(s),c=Y(),ut(i,"type","color"),i.value=n=(g=e[10].colors)==null?void 0:g[e[37]+1],ut(i,"class","svelte-17kk98k"),ut(t,"title","change color"),ut(t,"class","svelte-17kk98k")},m(g,m){_t(g,t,m),R(t,i),R(t,a),R(t,l),R(t,c),d||(u=Qe(i,"change",h),d=!0)},p(g,m){var M;e=g,m[0]&1024&&n!==(n=(M=e[10].colors)==null?void 0:M[e[37]+1])&&(i.value=n),m[0]&2048&&s!==(s=e[35].name+"")&&Ue(l,s)},d(g){g&&Ct(t),d=!1,u()}}}function J5t(e){let t,i,n,a,s,l,c;return{c(){t=K("p"),t.textContent=`1) Improvise something in the scale of C major pentatonic. Check if you
        only used this scale's notes using the colors.`,i=Y(),n=K("p"),n.textContent=`2) Improvise something in A minor pentatonic. Check if you only used
        this scale's notes using the colors and how often and when you used the
        tonic A.`,a=Y(),s=K("p"),s.textContent=`3) Improvise in A minor blues, see how often and when you used the blue
        note (D#).`,l=Y(),c=K("p"),c.textContent="4) Improvise in a scale you do not know yet."},m(d,u){_t(d,t,u),_t(d,i,u),_t(d,n,u),_t(d,a,u),_t(d,s,u),_t(d,l,u),_t(d,c,u)},p:Fe,d(d){d&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c))}}}function W5t(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt;function bt(vt){e[20](vt)}function kt(vt){e[21](vt)}let Dt={callback:e[16],allowedScales:["major","minor"]};e[1]!==void 0&&(Dt.scaleRoot=e[1]),e[2]!==void 0&&(Dt.scaleType=e[2]),u=new Ef({props:Dt}),me.push(()=>Te(u,"scaleRoot",bt)),me.push(()=>Te(u,"scaleType",kt));function Xt(vt){e[22](vt)}let ae={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio",label:"max. note distance",callback:e[16],min:.05,max:2,step:.05};e[6]!==void 0&&(ae.value=e[6]),M=new ia({props:ae}),me.push(()=>Te(M,"value",Xt));function Jt(vt){e[23](vt)}let le={title:"The number of played chords that is displayed",label:"chord count",callback:e[16],min:10,max:100,step:10};e[5]!==void 0&&(le.value=e[5]),b=new ia({props:le}),me.push(()=>Te(b,"value",Jt));function Ve(vt){e[24](vt)}let ai={label:"show duration",title:"Show duration in the bar's height?",callback:e[16]};e[7]!==void 0&&(ai.checked=e[7]),x=new Tr({props:ai}),me.push(()=>Te(x,"checked",Ve));function Ye(vt){e[25](vt)}let ci={label:"colors",title:"Choose a color map",callback:e[16],$$slots:{default:[j5t]},$$scope:{ctx:e}};e[3]!==void 0&&(ci.value=e[3]),O=new qr({props:ci}),me.push(()=>Te(O,"value",Ye));let ei=Ge(e[11]),Ze=[];for(let vt=0;vt<ei.length;vt+=1)Ze[vt]=WS(zS(e,ei,vt));function be(vt){e[29](vt)}let ve={saveToStorage:e[19],callback:e[28]};e[8]!==void 0&&(ve.notes=e[8]),$=new aa({props:ve}),me.push(()=>Te($,"notes",be)),V=new Ma({props:{appId:e[0].id,loadData:e[18]}});function re(vt){e[31](vt)}let Et={callback:e[16]};return e[8]!==void 0&&(Et.notes=e[8]),J=new Ps({props:Et}),me.push(()=>Te(J,"notes",re)),mt=new ua({props:{loadData:e[18],getExportData:e[17],appId:e[0].id}}),pt=new Kr({props:{$$slots:{default:[J5t]},$$scope:{ctx:e}}}),Mt=new $r({props:{noteOn:e[13],noteOff:e[14],controlChange:e[15],pcKeyAllowed:!0}}),dt=new Xr({props:{appId:e[0].id}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing improvising in a scale by coloring the different
      scale degrees to show you which you play when. Notes that you play are
      shown as bars. Optionally, the bars' height encodes the notes' durations.
      You can change the colors if you like.`,c=Y(),d=K("div"),Ut(u.$$.fragment),m=Y(),Ut(M.$$.fragment),A=Y(),Ut(b.$$.fragment),E=Y(),Ut(x.$$.fragment),C=Y(),Ut(O.$$.fragment),T=Y(),D=K("div");for(let vt=0;vt<Ze.length;vt+=1)Ze[vt].c();P=Y(),L=K("div"),N=Y(),U=K("div"),Ut($.$$.fragment),j=Y(),z=K("button"),z.textContent="example",Q=Y(),Ut(V.$$.fragment),q=Y(),Ut(J.$$.fragment),et=Y(),Ut(mt.$$.fragment),ot=Y(),Ut(pt.$$.fragment),wt=Y(),Ut(Mt.$$.fragment),xt=Y(),Ut(dt.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(D,"class","legend svelte-17kk98k"),ut(L,"class","visualization"),ut(U,"class","control"),ut(t,"class","app")},m(vt,Ht){_t(vt,t,Ht),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,m),Nt(M,d,null),R(d,A),Nt(b,d,null),R(d,E),Nt(x,d,null),R(d,C),Nt(O,d,null),R(t,T),R(t,D);for(let St=0;St<Ze.length;St+=1)Ze[St]&&Ze[St].m(D,null);R(t,P),R(t,L),e[27](L),R(t,N),R(t,U),Nt($,U,null),R(U,j),R(U,z),R(U,Q),Nt(V,U,null),R(U,q),Nt(J,U,null),R(U,et),Nt(mt,U,null),R(t,ot),Nt(pt,t,null),R(t,wt),Nt(Mt,t,null),R(t,xt),Nt(dt,t,null),Ot=!0,At||(jt=Qe(z,"click",e[30]),At=!0)},p(vt,Ht){(!Ot||Ht[0]&1)&&n!==(n=vt[0].title+"")&&Ue(a,n);const St={};!h&&Ht[0]&2&&(h=!0,St.scaleRoot=vt[1],Se(()=>h=!1)),!g&&Ht[0]&4&&(g=!0,St.scaleType=vt[2],Se(()=>g=!1)),u.$set(St);const It={};!p&&Ht[0]&64&&(p=!0,It.value=vt[6],Se(()=>p=!1)),M.$set(It);const zt={};!v&&Ht[0]&32&&(v=!0,zt.value=vt[5],Se(()=>v=!1)),b.$set(zt);const ht={};!_&&Ht[0]&128&&(_=!0,ht.checked=vt[7],Se(()=>_=!1)),x.$set(ht);const X={};if(Ht[1]&512&&(X.$$scope={dirty:Ht,ctx:vt}),!I&&Ht[0]&8&&(I=!0,X.value=vt[3],Se(()=>I=!1)),O.$set(X),Ht[0]&68608){ei=Ge(vt[11]);let $e;for($e=0;$e<ei.length;$e+=1){const ge=zS(vt,ei,$e);Ze[$e]?Ze[$e].p(ge,Ht):(Ze[$e]=WS(ge),Ze[$e].c(),Ze[$e].m(D,null))}for(;$e<Ze.length;$e+=1)Ze[$e].d(1);Ze.length=ei.length}const tt={};Ht[0]&512&&(tt.callback=vt[28]),!F&&Ht[0]&256&&(F=!0,tt.notes=vt[8],Se(()=>F=!1)),$.$set(tt);const Tt={};Ht[0]&1&&(Tt.appId=vt[0].id),V.$set(Tt);const Qt={};!W&&Ht[0]&256&&(W=!0,Qt.notes=vt[8],Se(()=>W=!1)),J.$set(Qt);const Zt={};Ht[0]&1&&(Zt.appId=vt[0].id),mt.$set(Zt);const ce={};Ht[1]&512&&(ce.$$scope={dirty:Ht,ctx:vt}),pt.$set(ce);const ye={};Ht[0]&1&&(ye.appId=vt[0].id),dt.$set(ye)},i(vt){Ot||(Bt(u.$$.fragment,vt),Bt(M.$$.fragment,vt),Bt(b.$$.fragment,vt),Bt(x.$$.fragment,vt),Bt(O.$$.fragment,vt),Bt($.$$.fragment,vt),Bt(V.$$.fragment,vt),Bt(J.$$.fragment,vt),Bt(mt.$$.fragment,vt),Bt(pt.$$.fragment,vt),Bt(Mt.$$.fragment,vt),Bt(dt.$$.fragment,vt),Ot=!0)},o(vt){Rt(u.$$.fragment,vt),Rt(M.$$.fragment,vt),Rt(b.$$.fragment,vt),Rt(x.$$.fragment,vt),Rt(O.$$.fragment,vt),Rt($.$$.fragment,vt),Rt(V.$$.fragment,vt),Rt(J.$$.fragment,vt),Rt(mt.$$.fragment,vt),Rt(pt.$$.fragment,vt),Rt(Mt.$$.fragment,vt),Rt(dt.$$.fragment,vt),Ot=!1},d(vt){vt&&Ct(t),Ft(u),Ft(M),Ft(b),Ft(x),Ft(O),Oi(Ze,vt),e[27](null),Ft($),Ft(V),Ft(J),Ft(mt),Ft(pt),Ft(Mt),Ft(dt),At=!1,jt()}}}function q5t(e){let t,i;return t=new da({props:{loadData:e[18],$$slots:{default:[W5t]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&4095|a[1]&512&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}function K5t(e,t,i){let n,a,s,{appInfo:l}=t,c;const d=F9;let u="C",h="major",g=50,m=.1,M=!0,p,A=[],b=new Map,v=0;const E=[{label:"all",colors:["#eeeeee",...Hs]},{label:"1 3 7",colors:["#eeeeee",Hs[0],"#dddddd",Hs[1],"#dddddd","#dddddd","#dddddd",Hs[2]]},{label:"1 4 7",colors:["#eeeeee",Hs[0],"#dddddd","#dddddd",Hs[1],"#dddddd","#dddddd",Hs[2]]},{label:"1 4 5 7",colors:["#eeeeee",Hs[0],"#dddddd","#dddddd",Hs[1],Hs[2],"#dddddd",Hs[3]]}],x=W=>{A.length===0&&(p=W.timestamp);const et=(W.timestamp-p)/1e3,mt={name:W.note.name+(W.note.accidental??""),number:W.note.number,velocity:W.velocity,time:et,channel:W.message.channel,duration:0};if(b.has(W.note.number)){const ot=b.get(W.note.number);ot.end===void 0&&(ot.end=et)}i(8,A=[...A,mt]),b.set(W.note.number,mt),O()},_=W=>{if(b.has(W.note.number)){const et=b.get(W.note.number),mt=(W.timestamp-p)/1e3;et.end=mt,et.duration=et.end-et.time}O()},C=W=>{const et=qa(W.rawValue*2,20,250);i(5,g=et),O()},O=()=>{const W=window.innerWidth<1200?900:window.innerWidth-200,et=A.slice(-g),mt=1;i(4,c.textContent="",c);const ot=Sn({width:W,height:250,marginLeft:45,marginRight:10,marginBottom:50,padding:0,x:{axis:!1},y:{axis:M,domain:[0,mt],label:"duration in seconds",labelAnchor:"center"},color:{domain:Ci(-1,7),range:s.colors,legend:!0,tickFormat:dt=>dt===-1?"non-scale":n[dt],width:500,marginLeft:W/2-250},marks:[zr([0],{stroke:"#ddd"}),Md(et,{x:(dt,Ot)=>Ot,y:dt=>M&&dt.duration>0?dt.duration:mt,fill:dt=>n.indexOf(dt.name),stroke:dt=>n.indexOf(dt.name),fillOpacity:dt=>M&&dt.duration===0?0:1,inset:1.5,rx:4}),Qr(et,{x:(dt,Ot)=>Ot,y:0,text:dt=>dt.name.split("").join(`
`),fontSize:12,dy:16})]});c.appendChild(ot);const pt=_f(A,m).slice(-g).map(dt=>dt.sort((Ot,At)=>Ot.number-At.number)),wt=pt.map(dt=>fm(dt.map(Ot=>Ot.name))),Mt=pt.flatMap((dt,Ot)=>dt.map((At,jt)=>({...At,chordIndex:Ot,noteIndex:jt}))),xt=Sn({width:W,height:300,marginLeft:30,marginRight:50,marginBottom:120,padding:0,x:{axis:!1},y:{ticks:[],label:"chord notes sorted by pitch",labelAnchor:"center"},color:{domain:Ci(-1,7),range:s.colors},marks:[zr([0],{stroke:"#ddd"}),Bo(Mt,{y1:dt=>dt.noteIndex,y2:dt=>dt.noteIndex+1,x:"chordIndex",fill:dt=>n.indexOf(dt.name),stroke:dt=>n.indexOf(dt.name),offset:"normalize",rx:4,inset:1.5}),Qr(Mt,{x:"chordIndex",y:"noteIndex",text:dt=>dt.name.split("").join(`
`),fontSize:10,fill:"black",stroke:"#eee",strokeWidth:2,dy:-12}),Qr(wt,{x:(dt,Ot)=>Ot,y:0,text:dt=>dt.join("   "),fontSize:10,dy:8,rotate:45,textAnchor:"start"})]});c.appendChild(xt)};sr(O);const I=()=>({root:u,scaleType:h,barCount:g,showDuration:M,notes:A}),T=W=>{D(),i(1,u=W.root),i(2,h=W.scaleType),i(5,g=W.barCount??50),i(7,M=W.showDuration??!1),i(8,A=W.notes),O()},D=()=>{A.length>0&&JSON.stringify(A)!==JSON.stringify(of.notes)&&ga(l.id,I())};or(D);function P(W){u=W,i(1,u)}function L(W){h=W,i(2,h)}function N(W){m=W,i(6,m)}function U(W){g=W,i(5,g)}function $(W){M=W,i(7,M)}function F(W){v=W,i(3,v)}const j=(W,et)=>{i(10,s.colors[W+1]=et.target.value,s),i(10,s={...s,colors:[...s.colors]}),O()};function z(W){me[W?"unshift":"push"](()=>{c=W,i(4,c)})}const Q=()=>{i(9,b=new Map),O()};function V(W){A=W,i(8,A)}const q=()=>T(of);function J(W){A=W,i(8,A)}return e.$$set=W=>{"appInfo"in W&&i(0,l=W.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&6&&(n=q9(`${u} ${h}`).notes.map(W=>d[Ro.get(W)])),e.$$.dirty[0]&4&&i(11,a=[...(h==="major"?mdt:pdt).values()]),e.$$.dirty[0]&8&&i(10,s=E[v])},[l,u,h,v,c,g,m,M,A,b,s,a,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J]}class X5t extends qi{constructor(t){super(),Wi(this,t,K5t,q5t,Ji,{appInfo:0},null,[-1,-1])}}const QF="15.0.4",qS=(e,t,i)=>({endTime:t,insertTime:i,type:"exponentialRampToValue",value:e}),KS=(e,t,i)=>({endTime:t,insertTime:i,type:"linearRampToValue",value:e}),CA=(e,t)=>({startTime:t,type:"setValue",value:e}),zF=(e,t,i)=>({duration:i,startTime:t,type:"setValueCurve",values:e}),jF=(e,t,{startTime:i,target:n,timeConstant:a})=>n+(t-n)*Math.exp((i-e)/a),fh=e=>e.type==="exponentialRampToValue",o8=e=>e.type==="linearRampToValue",mc=e=>fh(e)||o8(e),Ev=e=>e.type==="setValue",ll=e=>e.type==="setValueCurve",l8=(e,t,i,n)=>{const a=e[t];return a===void 0?n:mc(a)||Ev(a)?a.value:ll(a)?a.values[a.values.length-1]:jF(i,l8(e,t-1,a.startTime,n),a)},XS=(e,t,i,n,a)=>i===void 0?[n.insertTime,a]:mc(i)?[i.endTime,i.value]:Ev(i)?[i.startTime,i.value]:ll(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,l8(e,t-1,i.startTime,a)],_A=e=>e.type==="cancelAndHold",EA=e=>e.type==="cancelScheduledValues",cc=e=>_A(e)||EA(e)?e.cancelTime:fh(e)||o8(e)?e.endTime:e.startTime,YS=(e,t,i,{endTime:n,value:a})=>i===a?a:0<i&&0<a||i<0&&a<0?i*(a/i)**((e-t)/(n-t)):0,ZS=(e,t,i,{endTime:n,value:a})=>i+(e-t)/(n-t)*(a-i),Y5t=(e,t)=>{const i=Math.floor(t),n=Math.ceil(t);return i===n?e[i]:(1-(t-i))*e[i]+(1-(n-t))*e[n]},Z5t=(e,{duration:t,startTime:i,values:n})=>{const a=(e-i)/t*(n.length-1);return Y5t(n,a)},J4=e=>e.type==="setTarget";class t6t{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const i=cc(t);if(_A(t)||EA(t)){const n=this._automationEvents.findIndex(s=>EA(t)&&ll(s)?s.startTime+s.duration>=i:cc(s)>=i),a=this._automationEvents[n];if(n!==-1&&(this._automationEvents=this._automationEvents.slice(0,n)),_A(t)){const s=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&mc(a)){if(s!==void 0&&J4(s))throw new Error("The internal list is malformed.");const l=s===void 0?a.insertTime:ll(s)?s.startTime+s.duration:cc(s),c=s===void 0?this._defaultValue:ll(s)?s.values[s.values.length-1]:s.value,d=fh(a)?YS(i,l,c,a):ZS(i,l,c,a),u=fh(a)?qS(d,i,this._currenTime):KS(d,i,this._currenTime);this._automationEvents.push(u)}if(s!==void 0&&J4(s)&&this._automationEvents.push(CA(this.getValue(i),i)),s!==void 0&&ll(s)&&s.startTime+s.duration>i){const l=i-s.startTime,c=(s.values.length-1)/s.duration,d=Math.max(2,1+Math.ceil(l*c)),u=l/(d-1)*c,h=s.values.slice(0,d);if(u<1)for(let g=1;g<d;g+=1){const m=u*g%1;h[g]=s.values[g-1]*(1-m)+s.values[g]*m}this._automationEvents[this._automationEvents.length-1]=zF(h,s.startTime,l)}}}else{const n=this._automationEvents.findIndex(l=>cc(l)>i),a=n===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[n-1];if(a!==void 0&&ll(a)&&cc(a)+a.duration>i)return!1;const s=fh(t)?qS(t.value,t.endTime,this._currenTime):o8(t)?KS(t.value,i,this._currenTime):t;if(n===-1)this._automationEvents.push(s);else{if(ll(t)&&i+t.duration>cc(this._automationEvents[n]))return!1;this._automationEvents.splice(n,0,s)}}return!0}flush(t){const i=this._automationEvents.findIndex(n=>cc(n)>t);if(i>1){const n=this._automationEvents.slice(i-1),a=n[0];J4(a)&&n.unshift(CA(l8(this._automationEvents,i-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=n}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const i=this._automationEvents.findIndex(l=>cc(l)>t),n=this._automationEvents[i],a=(i===-1?this._automationEvents.length:i)-1,s=this._automationEvents[a];if(s!==void 0&&J4(s)&&(n===void 0||!mc(n)||n.insertTime>t))return jF(t,l8(this._automationEvents,a-1,s.startTime,this._defaultValue),s);if(s!==void 0&&Ev(s)&&(n===void 0||!mc(n)))return s.value;if(s!==void 0&&ll(s)&&(n===void 0||!mc(n)||s.startTime+s.duration>t))return t<s.startTime+s.duration?Z5t(t,s):s.values[s.values.length-1];if(s!==void 0&&mc(s)&&(n===void 0||!mc(n)))return s.value;if(n!==void 0&&fh(n)){const[l,c]=XS(this._automationEvents,a,s,n,this._defaultValue);return YS(t,l,c,n)}if(n!==void 0&&o8(n)){const[l,c]=XS(this._automationEvents,a,s,n,this._defaultValue);return ZS(t,l,c,n)}return this._defaultValue}}const e6t=e=>({cancelTime:e,type:"cancelAndHold"}),i6t=e=>({cancelTime:e,type:"cancelScheduledValues"}),n6t=(e,t)=>({endTime:t,type:"exponentialRampToValue",value:e}),r6t=(e,t)=>({endTime:t,type:"linearRampToValue",value:e}),a6t=(e,t,i)=>({startTime:t,target:e,timeConstant:i,type:"setTarget"}),s6t=()=>new DOMException("","AbortError"),o6t=e=>(t,i,[n,a,s],l)=>{e(t[a],[i,n,s],c=>c[0]===i&&c[1]===n,l)},l6t=e=>(t,i,n)=>{const a=[];for(let s=0;s<n.numberOfInputs;s+=1)a.push(new Set);e.set(t,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:i})},c6t=e=>(t,i)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})},lf=new WeakSet,JF=new WeakMap,wv=new WeakMap,WF=new WeakMap,Ov=new WeakMap,O5=new WeakMap,qF=new WeakMap,wA=new WeakMap,OA=new WeakMap,xA=new WeakMap,KF={construct(){return KF}},u6t=e=>{try{const t=new Proxy(e,KF);new t}catch{return!1}return!0},tT=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,eT=(e,t)=>{const i=[];let n=e.replace(/^[\s]+/,""),a=n.match(tT);for(;a!==null;){const s=a[1].slice(1,-1),l=a[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,t).toString());i.push(l),n=n.slice(a[0].length).replace(/^[\s]+/,""),a=n.match(tT)}return[i.join(";"),n]},iT=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},nT=e=>{if(!u6t(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},d6t=(e,t,i,n,a,s,l,c,d,u,h,g,m)=>{let M=0;return(p,A,b={credentials:"omit"})=>{const v=h.get(p);if(v!==void 0&&v.has(A))return Promise.resolve();const E=u.get(p);if(E!==void 0){const C=E.get(A);if(C!==void 0)return C}const x=s(p),_=x.audioWorklet===void 0?a(A).then(([C,O])=>{const[I,T]=eT(C,O),D=`${I};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${T}
})})(window,'_AWGS')`;return i(D)}).then(()=>{const C=m._AWGS.pop();if(C===void 0)throw new SyntaxError;n(x.currentTime,x.sampleRate,()=>C(class{},void 0,(O,I)=>{if(O.trim()==="")throw t();const T=OA.get(x);if(T!==void 0){if(T.has(O))throw t();nT(I),iT(I.parameterDescriptors),T.set(O,I)}else nT(I),iT(I.parameterDescriptors),OA.set(x,new Map([[O,I]]))},x.sampleRate,void 0,void 0))}):Promise.all([a(A),Promise.resolve(e(g,g))]).then(([[C,O],I])=>{const T=M+1;M=T;const[D,P]=eT(C,O),$=`${D};((AudioWorkletProcessor,registerProcessor)=>{${P}
})(${I?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${I?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${I?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${T}',class extends AudioWorkletProcessor{process(){return !1}})`,F=new Blob([$],{type:"application/javascript; charset=utf-8"}),j=URL.createObjectURL(F);return x.audioWorklet.addModule(j,b).then(()=>{if(c(x))return x;const z=l(x);return z.audioWorklet.addModule(j,b).then(()=>z)}).then(z=>{if(d===null)throw new SyntaxError;try{new d(z,`__sac${T}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(j))});return E===void 0?u.set(p,new Map([[A,_]])):E.set(A,_),_.then(()=>{const C=h.get(p);C===void 0?h.set(p,new Set([A])):C.add(A)}).finally(()=>{const C=u.get(p);C!==void 0&&C.delete(A)}),_}},J0=(e,t)=>{const i=e.get(t);if(i===void 0)throw new Error("A value with the given key could not be found.");return i},x5=(e,t)=>{const i=Array.from(e).filter(t);if(i.length>1)throw Error("More than one element was found.");if(i.length===0)throw Error("No element was found.");const[n]=i;return e.delete(n),n},XF=(e,t,i,n)=>{const a=J0(e,t),s=x5(a,l=>l[0]===i&&l[1]===n);return a.size===0&&e.delete(t),s},xm=e=>J0(qF,e),cf=e=>{if(lf.has(e))throw new Error("The AudioNode is already stored.");lf.add(e),xm(e).forEach(t=>t(!0))},YF=e=>"port"in e,Sm=e=>{if(!lf.has(e))throw new Error("The AudioNode is not stored.");lf.delete(e),xm(e).forEach(t=>t(!1))},SA=(e,t)=>{!YF(e)&&t.every(i=>i.size===0)&&Sm(e)},h6t=(e,t,i,n,a,s,l,c,d,u,h,g,m)=>{const M=new WeakMap;return(p,A,b,v,E)=>{const{activeInputs:x,passiveInputs:_}=s(A),{outputs:C}=s(p),O=c(p),I=T=>{const D=d(A),P=d(p);if(T){const L=XF(_,p,b,v);e(x,p,L,!1),!E&&!g(p)&&i(P,D,b,v),m(A)&&cf(A)}else{const L=n(x,p,b,v);t(_,v,L,!1),!E&&!g(p)&&a(P,D,b,v);const N=l(A);if(N===0)h(A)&&SA(A,x);else{const U=M.get(A);U!==void 0&&clearTimeout(U),M.set(A,setTimeout(()=>{h(A)&&SA(A,x)},N*1e3))}}};return u(C,[A,b,v],T=>T[0]===A&&T[1]===b&&T[2]===v,!0)?(O.add(I),h(p)?e(x,p,[b,v,I],!0):t(_,v,[p,b,I],!0),!0):!1}},f6t=e=>(t,i,[n,a,s],l)=>{const c=t.get(n);c===void 0?t.set(n,new Set([[a,i,s]])):e(c,[a,i,s],d=>d[0]===a&&d[1]===i,l)},m6t=e=>(t,i)=>{const n=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(n).connect(t.destination);const a=()=>{i.removeEventListener("ended",a),i.disconnect(n),n.disconnect()};i.addEventListener("ended",a)},p6t=e=>(t,i)=>{e(t).add(i)},g6t={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},M6t=(e,t,i,n,a,s)=>class extends e{constructor(c,d){const u=a(c),h={...g6t,...d},g=n(u,h),m=s(u)?t():null;super(c,!1,g,m),this._nativeAnalyserNode=g}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=d,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},is=(e,t)=>e.context===t,A6t=(e,t,i)=>()=>{const n=new WeakMap,a=async(s,l)=>{let c=t(s);if(!is(c,l)){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=e(l,u)}return n.set(l,c),await i(s,l,c),c};return{render(s,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},c8=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},No=()=>new DOMException("","IndexSizeError"),xv=e=>{e.getChannelData=(t=>i=>{try{return t.call(e,i)}catch(n){throw n.code===12?No():n}})(e.getChannelData)},y6t={numberOfChannels:1},v6t=(e,t,i,n,a,s,l,c)=>{let d=null;return class ZF{constructor(h){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:g,numberOfChannels:m,sampleRate:M}={...y6t,...h};d===null&&(d=new a(1,1,44100));const p=n!==null&&t(s,s)?new n({length:g,numberOfChannels:m,sampleRate:M}):d.createBuffer(m,g,M);if(p.numberOfChannels===0)throw i();return typeof p.copyFromChannel!="function"?(l(p),xv(p)):t(c8,()=>c8(p))||c(p),e.add(p),p}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===ZF.prototype||e.has(h)}}},Es=-34028234663852886e22,us=-Es,Ol=e=>lf.has(e),b6t={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},C6t=(e,t,i,n,a,s,l,c)=>class extends e{constructor(u,h){const g=s(u),m={...b6t,...h},M=a(g,m),p=l(g),A=p?t():null;super(u,!1,M,A),this._audioBufferSourceNodeRenderer=A,this._isBufferNullified=!1,this._isBufferSet=m.buffer!==null,this._nativeAudioBufferSourceNode=M,this._onended=null,this._playbackRate=i(this,p,M.playbackRate,us,Es)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const h=typeof u=="function"?c(this,u):null;this._nativeAudioBufferSourceNode.onended=h;const g=this._nativeAudioBufferSourceNode.onended;this._onended=g!==null&&g===h?u:g}get playbackRate(){return this._playbackRate}start(u=0,h=0,g){if(this._nativeAudioBufferSourceNode.start(u,h,g),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=g===void 0?[u,h]:[u,h,g]),this.context.state!=="closed"){cf(this);const m=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",m),Ol(this)&&Sm(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",m)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},_6t=(e,t,i,n,a)=>()=>{const s=new WeakMap;let l=null,c=null;const d=async(u,h)=>{let g=i(u);const m=is(g,h);if(!m){const M={buffer:g.buffer,channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,loop:g.loop,loopEnd:g.loopEnd,loopStart:g.loopStart,playbackRate:g.playbackRate.value};g=t(h,M),l!==null&&g.start(...l),c!==null&&g.stop(c)}return s.set(h,g),m?await e(h,u.playbackRate,g.playbackRate):await n(h,u.playbackRate,g.playbackRate),await a(u,h,g),g};return{set start(u){l=u},set stop(u){c=u},render(u,h){const g=s.get(h);return g!==void 0?Promise.resolve(g):d(u,h)}}},E6t=e=>"playbackRate"in e,w6t=e=>"frequency"in e&&"gain"in e,O6t=e=>"offset"in e,x6t=e=>!("frequency"in e)&&"gain"in e,S6t=e=>"detune"in e&&"frequency"in e&&!("gain"in e),T6t=e=>"pan"in e,fs=e=>J0(JF,e),Tm=e=>J0(WF,e),TA=(e,t)=>{const{activeInputs:i}=fs(e);i.forEach(a=>a.forEach(([s])=>{t.includes(e)||TA(s,[...t,e])}));const n=E6t(e)?[e.playbackRate]:YF(e)?Array.from(e.parameters.values()):w6t(e)?[e.Q,e.detune,e.frequency,e.gain]:O6t(e)?[e.offset]:x6t(e)?[e.gain]:S6t(e)?[e.detune,e.frequency]:T6t(e)?[e.pan]:[];for(const a of n){const s=Tm(a);s!==void 0&&s.activeInputs.forEach(([l])=>TA(l,t))}Ol(e)&&Sm(e)},tU=e=>{TA(e.destination,[])},I6t=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback"),B6t=(e,t,i,n,a,s,l,c,d)=>class extends e{constructor(h={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let g;try{g=new d(h)}catch(p){throw p.code===12&&p.message==="sampleRate is not in range"?i():p}if(g===null)throw n();if(!I6t(h.latencyHint))throw new TypeError(`The provided value '${h.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(h.sampleRate!==void 0&&g.sampleRate!==h.sampleRate)throw i();super(g,2);const{latencyHint:m}=h,{sampleRate:M}=g;if(this._baseLatency=typeof g.baseLatency=="number"?g.baseLatency:m==="balanced"?512/M:m==="interactive"||m===void 0?256/M:m==="playback"?1024/M:Math.max(2,Math.min(128,Math.round(m*M/128)))*128/M,this._nativeAudioContext=g,d.name==="webkitAudioContext"?(this._nativeGainNode=g.createGain(),this._nativeOscillatorNode=g.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(g.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,g.state==="running"){this._state="suspended";const p=()=>{this._state==="suspended"&&(this._state=null),g.removeEventListener("statechange",p)};g.addEventListener("statechange",p)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),tU(this)}))}createMediaElementSource(h){return new a(this,{mediaElement:h})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(h){return new l(this,{mediaStream:h})}createMediaStreamTrackSource(h){return new c(this,{mediaStreamTrack:h})}resume(){return this._state==="suspended"?new Promise((h,g)=>{const m=()=>{this._nativeAudioContext.removeEventListener("statechange",m),this._nativeAudioContext.state==="running"?h():this.resume().then(h,g)};this._nativeAudioContext.addEventListener("statechange",m)}):this._nativeAudioContext.resume().catch(h=>{throw h===void 0||h.code===15?t():h})}suspend(){return this._nativeAudioContext.suspend().catch(h=>{throw h===void 0?t():h})}},R6t=(e,t,i,n,a,s,l,c)=>class extends e{constructor(u,h){const g=s(u),m=l(g),M=a(g,h,m),p=m?t(c):null;super(u,!1,M,p),this._isNodeOfNativeOfflineAudioContext=m,this._nativeAudioDestinationNode=M}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw n();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw n();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},D6t=e=>{const t=new WeakMap,i=async(n,a)=>{const s=a.destination;return t.set(a,s),await e(n,a,s),s};return{render(n,a){const s=t.get(a);return s!==void 0?Promise.resolve(s):i(n,a)}}},P6t=(e,t,i,n,a,s,l,c)=>(d,u)=>{const h=u.listener,g=()=>{const C=new Float32Array(1),O=t(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),I=l(u);let T=!1,D=[0,0,-1,0,1,0],P=[0,0,0];const L=()=>{if(T)return;T=!0;const F=n(u,256,9,0);F.onaudioprocess=({inputBuffer:j})=>{const z=[s(j,C,0),s(j,C,1),s(j,C,2),s(j,C,3),s(j,C,4),s(j,C,5)];z.some((V,q)=>V!==D[q])&&(h.setOrientation(...z),D=z);const Q=[s(j,C,6),s(j,C,7),s(j,C,8)];Q.some((V,q)=>V!==P[q])&&(h.setPosition(...Q),P=Q)},O.connect(F)},N=F=>j=>{j!==D[F]&&(D[F]=j,h.setOrientation(...D))},U=F=>j=>{j!==P[F]&&(P[F]=j,h.setPosition(...P))},$=(F,j,z)=>{const Q=i(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:j});Q.connect(O,0,F),Q.start(),Object.defineProperty(Q.offset,"defaultValue",{get(){return j}});const V=e({context:d},I,Q.offset,us,Es);return c(V,"value",q=>()=>q.call(V),q=>J=>{try{q.call(V,J)}catch(W){if(W.code!==9)throw W}L(),I&&z(J)}),V.cancelAndHoldAtTime=(q=>I?()=>{throw a()}:(...J)=>{const W=q.apply(V,J);return L(),W})(V.cancelAndHoldAtTime),V.cancelScheduledValues=(q=>I?()=>{throw a()}:(...J)=>{const W=q.apply(V,J);return L(),W})(V.cancelScheduledValues),V.exponentialRampToValueAtTime=(q=>I?()=>{throw a()}:(...J)=>{const W=q.apply(V,J);return L(),W})(V.exponentialRampToValueAtTime),V.linearRampToValueAtTime=(q=>I?()=>{throw a()}:(...J)=>{const W=q.apply(V,J);return L(),W})(V.linearRampToValueAtTime),V.setTargetAtTime=(q=>I?()=>{throw a()}:(...J)=>{const W=q.apply(V,J);return L(),W})(V.setTargetAtTime),V.setValueAtTime=(q=>I?()=>{throw a()}:(...J)=>{const W=q.apply(V,J);return L(),W})(V.setValueAtTime),V.setValueCurveAtTime=(q=>I?()=>{throw a()}:(...J)=>{const W=q.apply(V,J);return L(),W})(V.setValueCurveAtTime),V};return{forwardX:$(0,0,N(0)),forwardY:$(1,0,N(1)),forwardZ:$(2,-1,N(2)),positionX:$(6,0,U(0)),positionY:$(7,0,U(1)),positionZ:$(8,0,U(2)),upX:$(3,0,N(3)),upY:$(4,1,N(4)),upZ:$(5,0,N(5))}},{forwardX:m,forwardY:M,forwardZ:p,positionX:A,positionY:b,positionZ:v,upX:E,upY:x,upZ:_}=h.forwardX===void 0?g():h;return{get forwardX(){return m},get forwardY(){return M},get forwardZ(){return p},get positionX(){return A},get positionY(){return b},get positionZ(){return v},get upX(){return E},get upY(){return x},get upZ(){return _}}},u8=e=>"context"in e,Im=e=>u8(e[0]),Ad=(e,t,i,n)=>{for(const a of e)if(i(a)){if(n)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},rT=(e,t,[i,n],a)=>{Ad(e,[t,i,n],s=>s[0]===t&&s[1]===i,a)},aT=(e,[t,i,n],a)=>{const s=e.get(t);s===void 0?e.set(t,new Set([[i,n]])):Ad(s,[i,n],l=>l[0]===i,a)},wf=e=>"inputs"in e,d8=(e,t,i,n)=>{if(wf(t)){const a=t.inputs[n];return e.connect(a,i,0),[a,i,0]}return e.connect(t,i,n),[t,i,n]},eU=(e,t,i)=>{for(const n of e)if(n[0]===t&&n[1]===i)return e.delete(n),n;return null},L6t=(e,t,i)=>x5(e,n=>n[0]===t&&n[1]===i),iU=(e,t)=>{if(!xm(e).delete(t))throw new Error("Missing the expected event listener.")},nU=(e,t,i)=>{const n=J0(e,t),a=x5(n,s=>s[0]===i);return n.size===0&&e.delete(t),a},h8=(e,t,i,n)=>{wf(t)?e.disconnect(t.inputs[n],i,0):e.disconnect(t,i,n)},_a=e=>J0(wv,e),I2=e=>J0(Ov,e),cd=e=>wA.has(e),dp=e=>!lf.has(e),sT=(e,t)=>new Promise(i=>{if(t!==null)i(!0);else{const n=e.createScriptProcessor(256,1,1),a=e.createGain(),s=e.createBuffer(1,2,44100),l=s.getChannelData(0);l[0]=1,l[1]=1;const c=e.createBufferSource();c.buffer=s,c.loop=!0,c.connect(n).connect(e.destination),c.connect(a),c.disconnect(a),n.onaudioprocess=d=>{const u=d.inputBuffer.getChannelData(0);Array.prototype.some.call(u,h=>h===1)?i(!0):i(!1),c.stop(),n.onaudioprocess=null,c.disconnect(n),n.disconnect(e.destination)},c.start()}}),iM=(e,t)=>{const i=new Map;for(const n of e)for(const a of n){const s=i.get(a);i.set(a,s===void 0?1:s+1)}i.forEach((n,a)=>t(a,n))},f8=e=>"context"in e,k6t=e=>{const t=new Map;e.connect=(i=>(n,a=0,s=0)=>{const l=f8(n)?i(n,a,s):i(n,a),c=t.get(n);return c===void 0?t.set(n,[{input:s,output:a}]):c.every(d=>d.input!==s||d.output!==a)&&c.push({input:s,output:a}),l})(e.connect.bind(e)),e.disconnect=(i=>(n,a,s)=>{if(i.apply(e),n===void 0)t.clear();else if(typeof n=="number")for(const[l,c]of t){const d=c.filter(u=>u.output!==n);d.length===0?t.delete(l):t.set(l,d)}else if(t.has(n))if(a===void 0)t.delete(n);else{const l=t.get(n);if(l!==void 0){const c=l.filter(d=>d.output!==a&&(d.input!==s||s===void 0));c.length===0?t.delete(n):t.set(n,c)}}for(const[l,c]of t)c.forEach(d=>{f8(l)?e.connect(l,d.output,d.input):e.connect(l,d.output)})})(e.disconnect)},N6t=(e,t,i,n)=>{const{activeInputs:a,passiveInputs:s}=Tm(t),{outputs:l}=fs(e),c=xm(e),d=u=>{const h=_a(e),g=I2(t);if(u){const m=nU(s,e,i);rT(a,e,m,!1),!n&&!cd(e)&&h.connect(g,i)}else{const m=L6t(a,e,i);aT(s,m,!1),!n&&!cd(e)&&h.disconnect(g,i)}};return Ad(l,[t,i],u=>u[0]===t&&u[1]===i,!0)?(c.add(d),Ol(e)?rT(a,e,[i,d],!0):aT(s,[e,i,d],!0),!0):!1},F6t=(e,t,i,n)=>{const{activeInputs:a,passiveInputs:s}=fs(t),l=eU(a[n],e,i);return l===null?[XF(s,e,i,n)[2],!1]:[l[2],!0]},U6t=(e,t,i)=>{const{activeInputs:n,passiveInputs:a}=Tm(t),s=eU(n,e,i);return s===null?[nU(a,e,i)[1],!1]:[s[2],!0]},Sv=(e,t,i,n,a)=>{const[s,l]=F6t(e,i,n,a);if(s!==null&&(iU(e,s),l&&!t&&!cd(e)&&h8(_a(e),_a(i),n,a)),Ol(i)){const{activeInputs:c}=fs(i);SA(i,c)}},Tv=(e,t,i,n)=>{const[a,s]=U6t(e,i,n);a!==null&&(iU(e,a),s&&!t&&!cd(e)&&_a(e).disconnect(I2(i),n))},$6t=(e,t)=>{const i=fs(e),n=[];for(const a of i.outputs)Im(a)?Sv(e,t,...a):Tv(e,t,...a),n.push(a[0]);return i.outputs.clear(),n},G6t=(e,t,i)=>{const n=fs(e),a=[];for(const s of n.outputs)s[1]===i&&(Im(s)?Sv(e,t,...s):Tv(e,t,...s),a.push(s[0]),n.outputs.delete(s));return a},V6t=(e,t,i,n,a)=>{const s=fs(e);return Array.from(s.outputs).filter(l=>l[0]===i&&(n===void 0||l[1]===n)&&(a===void 0||l[2]===a)).map(l=>(Im(l)?Sv(e,t,...l):Tv(e,t,...l),s.outputs.delete(l),l[0]))},H6t=(e,t,i,n,a,s,l,c,d,u,h,g,m,M,p,A)=>class extends u{constructor(v,E,x,_){super(x),this._context=v,this._nativeAudioNode=x;const C=h(v);g(C)&&i(sT,()=>sT(C,A))!==!0&&k6t(x),wv.set(this,x),qF.set(this,new Set),v.state!=="closed"&&E&&cf(this),e(this,_,x)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,E=0,x=0){if(E<0||E>=this._nativeAudioNode.numberOfOutputs)throw a();const _=h(this._context),C=p(_);if(m(v)||M(v))throw s();if(u8(v)){const T=_a(v);try{const P=d8(this._nativeAudioNode,T,E,x),L=dp(this);(C||L)&&this._nativeAudioNode.disconnect(...P),this.context.state!=="closed"&&!L&&dp(v)&&cf(v)}catch(P){throw P.code===12?s():P}if(t(this,v,E,x,C)){const P=d([this],v);iM(P,n(C))}return v}const O=I2(v);if(O.name==="playbackRate"&&O.maxValue===1024)throw l();try{this._nativeAudioNode.connect(O,E),(C||dp(this))&&this._nativeAudioNode.disconnect(O,E)}catch(T){throw T.code===12?s():T}if(N6t(this,v,E,C)){const T=d([this],v);iM(T,n(C))}}disconnect(v,E,x){let _;const C=h(this._context),O=p(C);if(v===void 0)_=$6t(this,O);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw a();_=G6t(this,O,v)}else{if(E!==void 0&&(E<0||E>=this.numberOfOutputs)||u8(v)&&x!==void 0&&(x<0||x>=v.numberOfInputs))throw a();if(_=V6t(this,O,v,E,x),_.length===0)throw s()}for(const I of _){const T=d([this],I);iM(T,c)}}},Q6t=(e,t,i,n,a,s,l,c,d,u,h,g,m)=>(M,p,A,b=null,v=null)=>{const E=A.value,x=new t6t(E),_=p?n(x):null,C={get defaultValue(){return E},get maxValue(){return b===null?A.maxValue:b},get minValue(){return v===null?A.minValue:v},get value(){return A.value},set value(O){A.value=O,C.setValueAtTime(O,M.context.currentTime)},cancelAndHoldAtTime(O){if(typeof A.cancelAndHoldAtTime=="function")_===null&&x.flush(M.context.currentTime),x.add(a(O)),A.cancelAndHoldAtTime(O);else{const I=Array.from(x).pop();_===null&&x.flush(M.context.currentTime),x.add(a(O));const T=Array.from(x).pop();A.cancelScheduledValues(O),I!==T&&T!==void 0&&(T.type==="exponentialRampToValue"?A.exponentialRampToValueAtTime(T.value,T.endTime):T.type==="linearRampToValue"?A.linearRampToValueAtTime(T.value,T.endTime):T.type==="setValue"?A.setValueAtTime(T.value,T.startTime):T.type==="setValueCurve"&&A.setValueCurveAtTime(T.values,T.startTime,T.duration))}return C},cancelScheduledValues(O){return _===null&&x.flush(M.context.currentTime),x.add(s(O)),A.cancelScheduledValues(O),C},exponentialRampToValueAtTime(O,I){if(O===0)throw new RangeError;if(!Number.isFinite(I)||I<0)throw new RangeError;const T=M.context.currentTime;return _===null&&x.flush(T),Array.from(x).length===0&&(x.add(u(E,T)),A.setValueAtTime(E,T)),x.add(l(O,I)),A.exponentialRampToValueAtTime(O,I),C},linearRampToValueAtTime(O,I){const T=M.context.currentTime;return _===null&&x.flush(T),Array.from(x).length===0&&(x.add(u(E,T)),A.setValueAtTime(E,T)),x.add(c(O,I)),A.linearRampToValueAtTime(O,I),C},setTargetAtTime(O,I,T){return _===null&&x.flush(M.context.currentTime),x.add(d(O,I,T)),A.setTargetAtTime(O,I,T),C},setValueAtTime(O,I){return _===null&&x.flush(M.context.currentTime),x.add(u(O,I)),A.setValueAtTime(O,I),C},setValueCurveAtTime(O,I,T){const D=O instanceof Float32Array?O:new Float32Array(O);if(g!==null&&g.name==="webkitAudioContext"){const P=I+T,L=M.context.sampleRate,N=Math.ceil(I*L),U=Math.floor(P*L),$=U-N,F=new Float32Array($);for(let z=0;z<$;z+=1){const Q=(D.length-1)/T*((N+z)/L-I),V=Math.floor(Q),q=Math.ceil(Q);F[z]=V===q?D[V]:(1-(Q-V))*D[V]+(1-(q-Q))*D[q]}_===null&&x.flush(M.context.currentTime),x.add(h(F,I,T)),A.setValueCurveAtTime(F,I,T);const j=U/L;j<P&&m(C,F[F.length-1],j),m(C,D[D.length-1],P)}else _===null&&x.flush(M.context.currentTime),x.add(h(D,I,T)),A.setValueCurveAtTime(D,I,T);return C}};return i.set(C,A),t.set(C,M),e(C,_),C},z6t=e=>({replay(t){for(const i of e)if(i.type==="exponentialRampToValue"){const{endTime:n,value:a}=i;t.exponentialRampToValueAtTime(a,n)}else if(i.type==="linearRampToValue"){const{endTime:n,value:a}=i;t.linearRampToValueAtTime(a,n)}else if(i.type==="setTarget"){const{startTime:n,target:a,timeConstant:s}=i;t.setTargetAtTime(a,n,s)}else if(i.type==="setValue"){const{startTime:n,value:a}=i;t.setValueAtTime(a,n)}else if(i.type==="setValueCurve"){const{duration:n,startTime:a,values:s}=i;t.setValueCurveAtTime(s,a,n)}else throw new Error("Can't apply an unknown automation.")}});class rU{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,i=null){return this._map.forEach((n,a)=>t.call(i,n,a,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const j6t={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},J6t=(e,t,i,n,a,s,l,c,d,u,h,g,m,M)=>class extends t{constructor(A,b,v){var E;const x=c(A),_=d(x),C=h({...j6t,...v});m(C);const O=OA.get(x),I=O==null?void 0:O.get(b),T=_||x.state!=="closed"?x:(E=l(x))!==null&&E!==void 0?E:x,D=a(T,_?null:A.baseLatency,u,b,I,C),P=_?n(b,C,I):null;super(A,!0,D,P);const L=[];D.parameters.forEach((U,$)=>{const F=i(this,_,U);L.push([$,F])}),this._nativeAudioWorkletNode=D,this._onprocessorerror=null,this._parameters=new rU(L),_&&e(x,this);const{activeInputs:N}=s(this);g(D,N)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(A){const b=typeof A=="function"?M(this,A):null;this._nativeAudioWorkletNode.onprocessorerror=b;const v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===b?A:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function m8(e,t,i,n,a){if(typeof e.copyFromChannel=="function")t[i].byteLength===0&&(t[i]=new Float32Array(128)),e.copyFromChannel(t[i],n,a);else{const s=e.getChannelData(n);if(t[i].byteLength===0)t[i]=s.slice(a,a+128);else{const l=new Float32Array(s.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);t[i].set(l)}}}const aU=(e,t,i,n,a)=>{typeof e.copyToChannel=="function"?t[i].byteLength!==0&&e.copyToChannel(t[i],n,a):t[i].byteLength!==0&&e.getChannelData(n).set(t[i],a)},p8=(e,t)=>{const i=[];for(let n=0;n<e;n+=1){const a=[],s=typeof t=="number"?t:t[n];for(let l=0;l<s;l+=1)a.push(new Float32Array(128));i.push(a)}return i},W6t=(e,t)=>{const i=J0(xA,e),n=_a(t);return J0(i,n)},q6t=async(e,t,i,n,a,s,l)=>{const c=t===null?Math.ceil(e.context.length/128)*128:t.length,d=n.channelCount*n.numberOfInputs,u=a.reduce((b,v)=>b+v,0),h=u===0?null:i.createBuffer(u,c,i.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const g=fs(e),m=await W6t(i,e),M=p8(n.numberOfInputs,n.channelCount),p=p8(n.numberOfOutputs,a),A=Array.from(e.parameters.keys()).reduce((b,v)=>({...b,[v]:new Float32Array(128)}),{});for(let b=0;b<c;b+=128){if(n.numberOfInputs>0&&t!==null)for(let v=0;v<n.numberOfInputs;v+=1)for(let E=0;E<n.channelCount;E+=1)m8(t,M[v],E,E,b);s.parameterDescriptors!==void 0&&t!==null&&s.parameterDescriptors.forEach(({name:v},E)=>{m8(t,A,v,d+E,b)});for(let v=0;v<n.numberOfInputs;v+=1)for(let E=0;E<a[v];E+=1)p[v][E].byteLength===0&&(p[v][E]=new Float32Array(128));try{const v=M.map((x,_)=>g.activeInputs[_].size===0?[]:x),E=l(b/i.sampleRate,i.sampleRate,()=>m.process(v,p,A));if(h!==null)for(let x=0,_=0;x<n.numberOfOutputs;x+=1){for(let C=0;C<a[x];C+=1)aU(h,p[x],C,_+C,b);_+=a[x]}if(!E)break}catch(v){e.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return h},K6t=(e,t,i,n,a,s,l,c,d,u,h,g,m,M,p,A)=>(b,v,E)=>{const x=new WeakMap;let _=null;const C=async(O,I)=>{let T=h(O),D=null;const P=is(T,I),L=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(g===null){const N=L.reduce((j,z)=>j+z,0),U=a(I,{channelCount:Math.max(1,N),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,N)}),$=[];for(let j=0;j<O.numberOfOutputs;j+=1)$.push(n(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:L[j]}));const F=l(I,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});F.connect=t.bind(null,$),F.disconnect=d.bind(null,$),D=[U,$,F]}else P||(T=new g(I,b));if(x.set(I,D===null?T:D[2]),D!==null){if(_===null){if(E===void 0)throw new Error("Missing the processor constructor.");if(m===null)throw new Error("Missing the native OfflineAudioContext constructor.");const z=O.channelCount*O.numberOfInputs,Q=E.parameterDescriptors===void 0?0:E.parameterDescriptors.length,V=z+Q;_=q6t(O,V===0?null:await(async()=>{const J=new m(V,Math.ceil(O.context.length/128)*128,I.sampleRate),W=[],et=[];for(let pt=0;pt<v.numberOfInputs;pt+=1)W.push(l(J,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),et.push(a(J,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const mt=await Promise.all(Array.from(O.parameters.values()).map(async pt=>{const wt=s(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:pt.value});return await M(J,pt,wt.offset),wt})),ot=n(J,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,z+Q)});for(let pt=0;pt<v.numberOfInputs;pt+=1){W[pt].connect(et[pt]);for(let wt=0;wt<v.channelCount;wt+=1)et[pt].connect(ot,wt,pt*v.channelCount+wt)}for(const[pt,wt]of mt.entries())wt.connect(ot,0,z+pt),wt.start(0);return ot.connect(J.destination),await Promise.all(W.map(pt=>p(O,J,pt))),A(J)})(),I,v,L,E,u)}const N=await _,U=i(I,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,F,j]=D;N!==null&&(U.buffer=N,U.start(0)),U.connect($);for(let z=0,Q=0;z<O.numberOfOutputs;z+=1){const V=F[z];for(let q=0;q<L[z];q+=1)$.connect(V,Q+q,q);Q+=L[z]}return j}if(P)for(const[N,U]of O.parameters.entries())await e(I,U,T.parameters.get(N));else for(const[N,U]of O.parameters.entries())await M(I,U,T.parameters.get(N));return await p(O,I,T),T};return{render(O,I){c(I,O);const T=x.get(I);return T!==void 0?Promise.resolve(T):C(O,I)}}},X6t=(e,t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x)=>class extends p{constructor(C,O){super(C,O),this._nativeContext=C,this._audioWorklet=e===void 0?void 0:{addModule:(I,T)=>e(this,I,T)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new a(this)}createBuffer(C,O,I){return new i({length:O,numberOfChannels:C,sampleRate:I})}createBufferSource(){return new n(this)}createChannelMerger(C=6){return new s(this,{numberOfInputs:C})}createChannelSplitter(C=6){return new l(this,{numberOfOutputs:C})}createConstantSource(){return new c(this)}createConvolver(){return new d(this)}createDelay(C=1){return new h(this,{maxDelayTime:C})}createDynamicsCompressor(){return new g(this)}createGain(){return new m(this)}createIIRFilter(C,O){return new M(this,{feedback:O,feedforward:C})}createOscillator(){return new A(this)}createPanner(){return new b(this)}createPeriodicWave(C,O,I={disableNormalization:!1}){return new v(this,{...I,imag:O,real:C})}createStereoPanner(){return new E(this)}createWaveShaper(){return new x(this)}decodeAudioData(C,O,I){return u(this._nativeContext,C).then(T=>(typeof O=="function"&&O(T),T),T=>{throw typeof I=="function"&&I(T),T})}},Y6t={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Z6t=(e,t,i,n,a,s,l,c)=>class extends e{constructor(u,h){const g=s(u),m={...Y6t,...h},M=a(g,m),p=l(g),A=p?i():null;super(u,!1,M,A),this._Q=t(this,p,M.Q,us,Es),this._detune=t(this,p,M.detune,1200*Math.log2(us),-1200*Math.log2(us)),this._frequency=t(this,p,M.frequency,u.sampleRate/2,0),this._gain=t(this,p,M.gain,40*Math.log10(us),Es),this._nativeBiquadFilterNode=M,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,h,g){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,h,g)}catch(m){throw m.code===11?n():m}if(u.length!==h.length||h.length!==g.length)throw n()}},t7t=(e,t,i,n,a)=>()=>{const s=new WeakMap,l=async(c,d)=>{let u=i(c);const h=is(u,d);if(!h){const g={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=t(d,g)}return s.set(d,u),h?(await e(d,c.Q,u.Q),await e(d,c.detune,u.detune),await e(d,c.frequency,u.frequency),await e(d,c.gain,u.gain)):(await n(d,c.Q,u.Q),await n(d,c.detune,u.detune),await n(d,c.frequency,u.frequency),await n(d,c.gain,u.gain)),await a(c,d,u),u};return{render(c,d){const u=s.get(d);return u!==void 0?Promise.resolve(u):l(c,d)}}},e7t=(e,t)=>(i,n)=>{const a=t.get(i);if(a!==void 0)return a;const s=e.get(i);if(s!==void 0)return s;try{const l=n();return l instanceof Promise?(e.set(i,l),l.catch(()=>!1).then(c=>(e.delete(i),t.set(i,c),c))):(t.set(i,l),l)}catch{return t.set(i,!1),!1}},i7t={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},n7t=(e,t,i,n,a)=>class extends e{constructor(l,c){const d=n(l),u={...i7t,...c},h=i(d,u),g=a(d)?t():null;super(l,!1,h,g)}},r7t=(e,t,i)=>()=>{const n=new WeakMap,a=async(s,l)=>{let c=t(s);if(!is(c,l)){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=e(l,u)}return n.set(l,c),await i(s,l,c),c};return{render(s,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},a7t={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},s7t=(e,t,i,n,a,s)=>class extends e{constructor(c,d){const u=n(c),h=s({...a7t,...d}),g=i(u,h),m=a(u)?t():null;super(c,!1,g,m)}},o7t=(e,t,i)=>()=>{const n=new WeakMap,a=async(s,l)=>{let c=t(s);if(!is(c,l)){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=e(l,u)}return n.set(l,c),await i(s,l,c),c};return{render(s,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},l7t=e=>(t,i,n)=>e(i,t,n),c7t=e=>(t,i,n=0,a=0)=>{const s=t[n];if(s===void 0)throw e();return f8(i)?s.connect(i,0,a):s.connect(i,0)},u7t=e=>(t,i)=>{const n=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=t.createBuffer(1,2,44100);return n.buffer=a,n.loop=!0,n.connect(i),n.start(),()=>{n.stop(),n.disconnect(i)}},d7t={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},h7t=(e,t,i,n,a,s,l)=>class extends e{constructor(d,u){const h=a(d),g={...d7t,...u},m=n(h,g),M=s(h),p=M?i():null;super(d,!1,m,p),this._constantSourceNodeRenderer=p,this._nativeConstantSourceNode=m,this._offset=t(this,M,m.offset,us,Es),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const u=typeof d=="function"?l(this,d):null;this._nativeConstantSourceNode.onended=u;const h=this._nativeConstantSourceNode.onended;this._onended=h!==null&&h===u?d:h}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){cf(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),Ol(this)&&Sm(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},f7t=(e,t,i,n,a)=>()=>{const s=new WeakMap;let l=null,c=null;const d=async(u,h)=>{let g=i(u);const m=is(g,h);if(!m){const M={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,offset:g.offset.value};g=t(h,M),l!==null&&g.start(l),c!==null&&g.stop(c)}return s.set(h,g),m?await e(h,u.offset,g.offset):await n(h,u.offset,g.offset),await a(u,h,g),g};return{set start(u){l=u},set stop(u){c=u},render(u,h){const g=s.get(h);return g!==void 0?Promise.resolve(g):d(u,h)}}},m7t=e=>t=>(e[0]=t,e[0]),p7t={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},g7t=(e,t,i,n,a,s)=>class extends e{constructor(c,d){const u=n(c),h={...p7t,...d},g=i(u,h),M=a(u)?t():null;super(c,!1,g,M),this._isBufferNullified=!1,this._nativeConvolverNode=g,h.buffer!==null&&s(this,h.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},M7t=(e,t,i)=>()=>{const n=new WeakMap,a=async(s,l)=>{let c=t(s);if(!is(c,l)){const u={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=e(l,u)}return n.set(l,c),wf(c)?await i(s,l,c.inputs[0]):await i(s,l,c),c};return{render(s,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},A7t=(e,t)=>(i,n,a)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(i,n,a)}catch(s){throw s.name==="SyntaxError"?e():s}},y7t=()=>new DOMException("","DataCloneError"),oT=e=>{const{port1:t,port2:i}=new MessageChannel;return new Promise(n=>{const a=()=>{i.onmessage=null,t.close(),i.close(),n()};i.onmessage=()=>a();try{t.postMessage(e,[e])}catch{}finally{a()}})},v7t=(e,t,i,n,a,s,l,c,d,u,h)=>(g,m)=>{const M=l(g)?g:s(g);if(a.has(m)){const p=i();return Promise.reject(p)}try{a.add(m)}catch{}return t(d,()=>d(M))?M.decodeAudioData(m).then(p=>(oT(m).catch(()=>{}),t(c,()=>c(p))||h(p),e.add(p),p)):new Promise((p,A)=>{const b=async()=>{try{await oT(m)}catch{}},v=E=>{A(E),b()};try{M.decodeAudioData(m,E=>{typeof E.copyFromChannel!="function"&&(u(E),xv(E)),e.add(E),b().then(()=>p(E))},E=>{v(E===null?n():E)})}catch(E){v(E)}})},b7t=(e,t,i,n,a,s,l,c)=>(d,u)=>{const h=t.get(d);if(h===void 0)throw new Error("Missing the expected cycle count.");const g=s(d.context),m=c(g);if(h===u){if(t.delete(d),!m&&l(d)){const M=n(d),{outputs:p}=i(d);for(const A of p)if(Im(A)){const b=n(A[0]);e(M,b,A[1],A[2])}else{const b=a(A[0]);M.connect(b,A[1])}}}else t.set(d,h-u)},C7t={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},_7t=(e,t,i,n,a,s,l)=>class extends e{constructor(d,u){const h=a(d),g={...C7t,...u},m=n(h,g),M=s(h),p=M?i(g.maxDelayTime):null;super(d,!1,m,p),this._delayTime=t(this,M,m.delayTime),l(this,g.maxDelayTime)}get delayTime(){return this._delayTime}},E7t=(e,t,i,n,a)=>s=>{const l=new WeakMap,c=async(d,u)=>{let h=i(d);const g=is(h,u);if(!g){const m={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:s};h=t(u,m)}return l.set(u,h),g?await e(u,d.delayTime,h.delayTime):await n(u,d.delayTime,h.delayTime),await a(d,u,h),h};return{render(d,u){const h=l.get(u);return h!==void 0?Promise.resolve(h):c(d,u)}}},w7t=e=>(t,i,n,a)=>e(t[a],s=>s[0]===i&&s[1]===n),O7t=e=>(t,i)=>{e(t).delete(i)},x7t=e=>"delayTime"in e,S7t=(e,t,i)=>function n(a,s){const l=u8(s)?s:i(e,s);if(x7t(l))return[];if(a[0]===l)return[a];if(a.includes(l))return[];const{outputs:c}=t(l);return Array.from(c).map(d=>n([...a,l],d[0])).reduce((d,u)=>d.concat(u),[])},W4=(e,t,i)=>{const n=t[i];if(n===void 0)throw e();return n},T7t=e=>(t,i=void 0,n=void 0,a=0)=>i===void 0?t.forEach(s=>s.disconnect()):typeof i=="number"?W4(e,t,i).disconnect():f8(i)?n===void 0?t.forEach(s=>s.disconnect(i)):a===void 0?W4(e,t,n).disconnect(i,0):W4(e,t,n).disconnect(i,0,a):n===void 0?t.forEach(s=>s.disconnect(i)):W4(e,t,n).disconnect(i,0),I7t={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},B7t=(e,t,i,n,a,s,l,c)=>class extends e{constructor(u,h){const g=s(u),m={...I7t,...h},M=n(g,m),p=l(g),A=p?i():null;super(u,!1,M,A),this._attack=t(this,p,M.attack),this._knee=t(this,p,M.knee),this._nativeDynamicsCompressorNode=M,this._ratio=t(this,p,M.ratio),this._release=t(this,p,M.release),this._threshold=t(this,p,M.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const h=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=h,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const h=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=h,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},R7t=(e,t,i,n,a)=>()=>{const s=new WeakMap,l=async(c,d)=>{let u=i(c);const h=is(u,d);if(!h){const g={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=t(d,g)}return s.set(d,u),h?(await e(d,c.attack,u.attack),await e(d,c.knee,u.knee),await e(d,c.ratio,u.ratio),await e(d,c.release,u.release),await e(d,c.threshold,u.threshold)):(await n(d,c.attack,u.attack),await n(d,c.knee,u.knee),await n(d,c.ratio,u.ratio),await n(d,c.release,u.release),await n(d,c.threshold,u.threshold)),await a(c,d,u),u};return{render(c,d){const u=s.get(d);return u!==void 0?Promise.resolve(u):l(c,d)}}},D7t=()=>new DOMException("","EncodingError"),P7t=e=>t=>new Promise((i,n)=>{if(e===null){n(new SyntaxError);return}const a=e.document.head;if(a===null)n(new SyntaxError);else{const s=e.document.createElement("script"),l=new Blob([t],{type:"application/javascript"}),c=URL.createObjectURL(l),d=e.onerror,u=()=>{e.onerror=d,URL.revokeObjectURL(c)};e.onerror=(h,g,m,M,p)=>{if(g===c||g===e.location.href&&m===1&&M===1)return u(),n(p),!1;if(d!==null)return d(h,g,m,M,p)},s.onerror=()=>{u(),n(new SyntaxError)},s.onload=()=>{u(),i()},s.src=c,s.type="module",a.appendChild(s)}}),L7t=e=>class{constructor(i){this._nativeEventTarget=i,this._listeners=new WeakMap}addEventListener(i,n,a){if(n!==null){let s=this._listeners.get(n);s===void 0&&(s=e(this,n),typeof n=="function"&&this._listeners.set(n,s)),this._nativeEventTarget.addEventListener(i,s,a)}}dispatchEvent(i){return this._nativeEventTarget.dispatchEvent(i)}removeEventListener(i,n,a){const s=n===null?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(i,s===void 0?null:s,a)}},k7t=e=>(t,i,n)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(t*i)}},currentTime:{configurable:!0,get(){return t}}});try{return n()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}},N7t=e=>async t=>{try{const i=await fetch(t);if(i.ok)return[await i.text(),i.url]}catch{}throw e()},F7t={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},U7t=(e,t,i,n,a,s)=>class extends e{constructor(c,d){const u=a(c),h={...F7t,...d},g=n(u,h),m=s(u),M=m?i():null;super(c,!1,g,M),this._gain=t(this,m,g.gain,us,Es)}get gain(){return this._gain}},$7t=(e,t,i,n,a)=>()=>{const s=new WeakMap,l=async(c,d)=>{let u=i(c);const h=is(u,d);if(!h){const g={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=t(d,g)}return s.set(d,u),h?await e(d,c.gain,u.gain):await n(d,c.gain,u.gain),await a(c,d,u),u};return{render(c,d){const u=s.get(d);return u!==void 0?Promise.resolve(u):l(c,d)}}},G7t=(e,t)=>i=>t(e,i),V7t=e=>t=>{const i=e(t);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer},H7t=e=>t=>{var i;return(i=e.get(t))!==null&&i!==void 0?i:0},Q7t=e=>t=>{const i=e(t);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return i.renderer},z7t=e=>t=>e.get(t),x9=()=>new DOMException("","InvalidStateError"),j7t=e=>t=>{const i=e.get(t);if(i===void 0)throw x9();return i},J7t=(e,t)=>i=>{let n=e.get(i);if(n!==void 0)return n;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return n=new t(1,1,44100),e.set(i,n),n},W7t=e=>t=>{const i=e.get(t);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i},S5=()=>new DOMException("","InvalidAccessError"),q7t=e=>{e.getFrequencyResponse=(t=>(i,n,a)=>{if(i.length!==n.length||n.length!==a.length)throw S5();return t.call(e,i,n,a)})(e.getFrequencyResponse)},K7t={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},X7t=(e,t,i,n,a,s)=>class extends e{constructor(c,d){const u=n(c),h=a(u),g={...K7t,...d},m=t(u,h?null:c.baseLatency,g),M=h?i(g.feedback,g.feedforward):null;super(c,!1,m,M),q7t(m),this._nativeIIRFilterNode=m,s(this,1)}getFrequencyResponse(c,d,u){return this._nativeIIRFilterNode.getFrequencyResponse(c,d,u)}},sU=(e,t,i,n,a,s,l,c,d,u,h)=>{const g=u.length;let m=c;for(let M=0;M<g;M+=1){let p=i[0]*u[M];for(let A=1;A<a;A+=1){const b=m-A&d-1;p+=i[A]*s[b],p-=e[A]*l[b]}for(let A=a;A<n;A+=1)p+=i[A]*s[m-A&d-1];for(let A=a;A<t;A+=1)p-=e[A]*l[m-A&d-1];s[m]=u[M],l[m]=p,m=m+1&d-1,h[M]=p}return m},Y7t=(e,t,i,n)=>{const a=i instanceof Float64Array?i:new Float64Array(i),s=n instanceof Float64Array?n:new Float64Array(n),l=a.length,c=s.length,d=Math.min(l,c);if(a[0]!==1){for(let p=0;p<l;p+=1)s[p]/=a[0];for(let p=1;p<c;p+=1)a[p]/=a[0]}const u=32,h=new Float32Array(u),g=new Float32Array(u),m=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),M=e.numberOfChannels;for(let p=0;p<M;p+=1){const A=e.getChannelData(p),b=m.getChannelData(p);h.fill(0),g.fill(0),sU(a,l,s,c,d,h,g,0,u,A,b)}return m},Z7t=(e,t,i,n,a)=>(s,l)=>{const c=new WeakMap;let d=null;const u=async(h,g)=>{let m=null,M=t(h);const p=is(M,g);if(g.createIIRFilter===void 0?m=e(g,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(M=g.createIIRFilter(l,s)),c.set(g,m===null?M:m),m!==null){if(d===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new i(h.context.destination.channelCount,h.context.length,g.sampleRate);d=(async()=>{await n(h,b,b.destination);const v=await a(b);return Y7t(v,g,s,l)})()}const A=await d;return m.buffer=A,m.start(0),m}return await n(h,g,M),M};return{render(h,g){const m=c.get(g);return m!==void 0?Promise.resolve(m):u(h,g)}}},tgt=(e,t,i,n,a,s)=>l=>(c,d)=>{const u=e.get(c);if(u===void 0){if(!l&&s(c)){const h=n(c),{outputs:g}=i(c);for(const m of g)if(Im(m)){const M=n(m[0]);t(h,M,m[1],m[2])}else{const M=a(m[0]);h.disconnect(M,m[1])}}e.set(c,d)}else e.set(c,u+d)},egt=(e,t)=>i=>{const n=e.get(i);return t(n)||t(i)},igt=(e,t)=>i=>e.has(i)||t(i),ngt=(e,t)=>i=>e.has(i)||t(i),rgt=(e,t)=>i=>{const n=e.get(i);return t(n)||t(i)},agt=e=>t=>e!==null&&t instanceof e,sgt=e=>t=>e!==null&&typeof e.AudioNode=="function"&&t instanceof e.AudioNode,ogt=e=>t=>e!==null&&typeof e.AudioParam=="function"&&t instanceof e.AudioParam,lgt=(e,t)=>i=>e(i)||t(i),cgt=e=>t=>e!==null&&t instanceof e,ugt=e=>e!==null&&e.isSecureContext,dgt=(e,t,i,n)=>class extends e{constructor(s,l){const c=i(s),d=t(c,l);if(n(c))throw TypeError();super(s,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},hgt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},fgt=(e,t,i,n)=>class extends e{constructor(s,l){const c=i(s);if(n(c))throw new TypeError;const d={...hgt,...l},u=t(c,d);super(s,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},mgt=(e,t,i,n)=>class extends e{constructor(s,l){const c=i(s),d=t(c,l);if(n(c))throw new TypeError;super(s,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},pgt=(e,t,i)=>class extends e{constructor(a,s){const l=i(a),c=t(l,s);super(a,!0,c,null)}},ggt=(e,t,i,n,a,s)=>class extends i{constructor(c,d){super(c),this._nativeContext=c,O5.set(this,c),n(c)&&a.set(c,new Set),this._destination=new e(this,d),this._listener=t(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const d=typeof c=="function"?s(this,c):null;this._nativeContext.onstatechange=d;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===d?c:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},B2=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=e.decodeAudioData(t.buffer,()=>{});return i===void 0?!1:(i.catch(()=>{}),!0)}catch{}return!1},Mgt=(e,t)=>(i,n,a)=>{const s=new Set;return i.connect=(l=>(c,d=0,u=0)=>{const h=s.size===0;if(t(c))return l.call(i,c,d,u),e(s,[c,d,u],g=>g[0]===c&&g[1]===d&&g[2]===u,!0),h&&n(),c;l.call(i,c,d),e(s,[c,d],g=>g[0]===c&&g[1]===d,!0),h&&n()})(i.connect),i.disconnect=(l=>(c,d,u)=>{const h=s.size>0;if(c===void 0)l.apply(i),s.clear();else if(typeof c=="number"){l.call(i,c);for(const m of s)m[1]===c&&s.delete(m)}else{t(c)?l.call(i,c,d,u):l.call(i,c,d);for(const m of s)m[0]===c&&(d===void 0||m[1]===d)&&(u===void 0||m[2]===u)&&s.delete(m)}const g=s.size===0;h&&g&&a()})(i.disconnect),i},wa=(e,t,i)=>{const n=t[i];n!==void 0&&n!==e[i]&&(e[i]=n)},f9=(e,t)=>{wa(e,t,"channelCount"),wa(e,t,"channelCountMode"),wa(e,t,"channelInterpretation")},lT=e=>typeof e.getFloatTimeDomainData=="function",Agt=e=>{e.getFloatTimeDomainData=t=>{const i=new Uint8Array(t.length);e.getByteTimeDomainData(i);const n=Math.max(i.length,e.fftSize);for(let a=0;a<n;a+=1)t[a]=(i[a]-128)*.0078125;return t}},ygt=(e,t)=>(i,n)=>{const a=i.createAnalyser();if(f9(a,n),!(n.maxDecibels>n.minDecibels))throw t();return wa(a,n,"fftSize"),wa(a,n,"maxDecibels"),wa(a,n,"minDecibels"),wa(a,n,"smoothingTimeConstant"),e(lT,()=>lT(a))||Agt(a),a},vgt=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null,Na=(e,t,i)=>{const n=t[i];n!==void 0&&n!==e[i].value&&(e[i].value=n)},bgt=e=>{e.start=(t=>{let i=!1;return(n=0,a=0,s)=>{if(i)throw x9();t.call(e,n,a,s),i=!0}})(e.start)},Iv=e=>{e.start=(t=>(i=0,n=0,a)=>{if(typeof a=="number"&&a<0||n<0||i<0)throw new RangeError("The parameters can't be negative.");t.call(e,i,n,a)})(e.start)},Bv=e=>{e.stop=(t=>(i=0)=>{if(i<0)throw new RangeError("The parameter can't be negative.");t.call(e,i)})(e.stop)},Cgt=(e,t,i,n,a,s,l,c,d,u,h)=>(g,m)=>{const M=g.createBufferSource();return f9(M,m),Na(M,m,"playbackRate"),wa(M,m,"buffer"),wa(M,m,"loop"),wa(M,m,"loopEnd"),wa(M,m,"loopStart"),t(i,()=>i(g))||bgt(M),t(n,()=>n(g))||d(M),t(a,()=>a(g))||u(M,g),t(s,()=>s(g))||Iv(M),t(l,()=>l(g))||h(M,g),t(c,()=>c(g))||Bv(M),e(g,M),M},_gt=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null,Egt=(e,t)=>(i,n,a)=>{const s=i.destination;if(s.channelCount!==n)try{s.channelCount=n}catch{}a&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:n});const l=e(i,{channelCount:n,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return t(l,"channelCount",c=>()=>c.call(l),c=>d=>{c.call(l,d);try{s.channelCount=d}catch(u){if(d>s.maxChannelCount)throw u}}),t(l,"channelCountMode",c=>()=>c.call(l),c=>d=>{c.call(l,d),s.channelCountMode=d}),t(l,"channelInterpretation",c=>()=>c.call(l),c=>d=>{c.call(l,d),s.channelInterpretation=d}),Object.defineProperty(l,"maxChannelCount",{get:()=>s.maxChannelCount}),l.connect(s),l},wgt=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null,Ogt=e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}},xgt=(e,t,i,n,a)=>(s,l,c,d,u,h)=>{if(c!==null)try{const g=new c(s,d,h),m=new Map;let M=null;if(Object.defineProperties(g,{channelCount:{get:()=>h.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>M,set:p=>{typeof M=="function"&&g.removeEventListener("processorerror",M),M=typeof p=="function"?p:null,typeof M=="function"&&g.addEventListener("processorerror",M)}}}),g.addEventListener=(p=>(...A)=>{if(A[0]==="processorerror"){const b=typeof A[1]=="function"?A[1]:typeof A[1]=="object"&&A[1]!==null&&typeof A[1].handleEvent=="function"?A[1].handleEvent:null;if(b!==null){const v=m.get(A[1]);v!==void 0?A[1]=v:(A[1]=E=>{E.type==="error"?(Object.defineProperties(E,{type:{value:"processorerror"}}),b(E)):b(new ErrorEvent(A[0],{...E}))},m.set(b,A[1]))}}return p.call(g,"error",A[1],A[2]),p.call(g,...A)})(g.addEventListener),g.removeEventListener=(p=>(...A)=>{if(A[0]==="processorerror"){const b=m.get(A[1]);b!==void 0&&(m.delete(A[1]),A[1]=b)}return p.call(g,"error",A[1],A[2]),p.call(g,A[0],A[1],A[2])})(g.removeEventListener),h.numberOfOutputs!==0){const p=i(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return g.connect(p).connect(s.destination),a(g,()=>p.disconnect(),()=>p.connect(s.destination))}return g}catch(g){throw g.code===11?n():g}if(u===void 0)throw n();return Ogt(h),t(s,l,u,h)},oU=(e,t)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Sgt=e=>new Promise((t,i)=>{const{port1:n,port2:a}=new MessageChannel;n.onmessage=({data:s})=>{n.close(),a.close(),t(s)},n.onmessageerror=({data:s})=>{n.close(),a.close(),i(s)},a.postMessage(e)}),Tgt=async(e,t)=>{const i=await Sgt(t);return new e(i)},Igt=(e,t,i,n)=>{let a=xA.get(e);a===void 0&&(a=new WeakMap,xA.set(e,a));const s=Tgt(i,n);return a.set(t,s),s},Bgt=(e,t,i,n,a,s,l,c,d,u,h,g,m)=>(M,p,A,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw d();const v=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(v.some(kt=>kt<1))throw d();if(v.length!==b.numberOfOutputs)throw t();if(b.channelCountMode!=="explicit")throw d();const E=b.channelCount*b.numberOfInputs,x=v.reduce((kt,Dt)=>kt+Dt,0),_=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length;if(E+_>6||x>6)throw d();const C=new MessageChannel,O=[],I=[];for(let kt=0;kt<b.numberOfInputs;kt+=1)O.push(l(M,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),I.push(a(M,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const T=[];if(A.parameterDescriptors!==void 0)for(const{defaultValue:kt,maxValue:Dt,minValue:Xt,name:ae}of A.parameterDescriptors){const Jt=s(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[ae]!==void 0?b.parameterData[ae]:kt===void 0?0:kt});Object.defineProperties(Jt.offset,{defaultValue:{get:()=>kt===void 0?0:kt},maxValue:{get:()=>Dt===void 0?us:Dt},minValue:{get:()=>Xt===void 0?Es:Xt}}),T.push(Jt)}const D=n(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,E+_)}),P=oU(p,M.sampleRate),L=c(M,P,E+_,Math.max(1,x)),N=a(M,{channelCount:Math.max(1,x),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,x)}),U=[];for(let kt=0;kt<b.numberOfOutputs;kt+=1)U.push(n(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[kt]}));for(let kt=0;kt<b.numberOfInputs;kt+=1){O[kt].connect(I[kt]);for(let Dt=0;Dt<b.channelCount;Dt+=1)I[kt].connect(D,Dt,kt*b.channelCount+Dt)}const $=new rU(A.parameterDescriptors===void 0?[]:A.parameterDescriptors.map(({name:kt},Dt)=>{const Xt=T[Dt];return Xt.connect(D,0,E+Dt),Xt.start(0),[kt,Xt.offset]}));D.connect(L);let F=b.channelInterpretation,j=null;const z=b.numberOfOutputs===0?[L]:U,Q={get bufferSize(){return P},get channelCount(){return b.channelCount},set channelCount(kt){throw i()},get channelCountMode(){return b.channelCountMode},set channelCountMode(kt){throw i()},get channelInterpretation(){return F},set channelInterpretation(kt){for(const Dt of O)Dt.channelInterpretation=kt;F=kt},get context(){return L.context},get inputs(){return O},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return j},set onprocessorerror(kt){typeof j=="function"&&Q.removeEventListener("processorerror",j),j=typeof kt=="function"?kt:null,typeof j=="function"&&Q.addEventListener("processorerror",j)},get parameters(){return $},get port(){return C.port2},addEventListener(...kt){return L.addEventListener(kt[0],kt[1],kt[2])},connect:e.bind(null,z),disconnect:u.bind(null,z),dispatchEvent(...kt){return L.dispatchEvent(kt[0])},removeEventListener(...kt){return L.removeEventListener(kt[0],kt[1],kt[2])}},V=new Map;C.port1.addEventListener=(kt=>(...Dt)=>{if(Dt[0]==="message"){const Xt=typeof Dt[1]=="function"?Dt[1]:typeof Dt[1]=="object"&&Dt[1]!==null&&typeof Dt[1].handleEvent=="function"?Dt[1].handleEvent:null;if(Xt!==null){const ae=V.get(Dt[1]);ae!==void 0?Dt[1]=ae:(Dt[1]=Jt=>{h(M.currentTime,M.sampleRate,()=>Xt(Jt))},V.set(Xt,Dt[1]))}}return kt.call(C.port1,Dt[0],Dt[1],Dt[2])})(C.port1.addEventListener),C.port1.removeEventListener=(kt=>(...Dt)=>{if(Dt[0]==="message"){const Xt=V.get(Dt[1]);Xt!==void 0&&(V.delete(Dt[1]),Dt[1]=Xt)}return kt.call(C.port1,Dt[0],Dt[1],Dt[2])})(C.port1.removeEventListener);let q=null;Object.defineProperty(C.port1,"onmessage",{get:()=>q,set:kt=>{typeof q=="function"&&C.port1.removeEventListener("message",q),q=typeof kt=="function"?kt:null,typeof q=="function"&&(C.port1.addEventListener("message",q),C.port1.start())}}),A.prototype.port=C.port1;let J=null;Igt(M,Q,A,b).then(kt=>J=kt);const et=p8(b.numberOfInputs,b.channelCount),mt=p8(b.numberOfOutputs,v),ot=A.parameterDescriptors===void 0?[]:A.parameterDescriptors.reduce((kt,{name:Dt})=>({...kt,[Dt]:new Float32Array(128)}),{});let pt=!0;const wt=()=>{b.numberOfOutputs>0&&L.disconnect(N);for(let kt=0,Dt=0;kt<b.numberOfOutputs;kt+=1){const Xt=U[kt];for(let ae=0;ae<v[kt];ae+=1)N.disconnect(Xt,Dt+ae,ae);Dt+=v[kt]}},Mt=new Map;L.onaudioprocess=({inputBuffer:kt,outputBuffer:Dt})=>{if(J!==null){const Xt=g(Q);for(let ae=0;ae<P;ae+=128){for(let Jt=0;Jt<b.numberOfInputs;Jt+=1)for(let le=0;le<b.channelCount;le+=1)m8(kt,et[Jt],le,le,ae);A.parameterDescriptors!==void 0&&A.parameterDescriptors.forEach(({name:Jt},le)=>{m8(kt,ot,Jt,E+le,ae)});for(let Jt=0;Jt<b.numberOfInputs;Jt+=1)for(let le=0;le<v[Jt];le+=1)mt[Jt][le].byteLength===0&&(mt[Jt][le]=new Float32Array(128));try{const Jt=et.map((Ve,ai)=>{if(Xt[ai].size>0)return Mt.set(ai,P/128),Ve;const ci=Mt.get(ai);return ci===void 0?[]:(Ve.every(ei=>ei.every(Ze=>Ze===0))&&(ci===1?Mt.delete(ai):Mt.set(ai,ci-1)),Ve)});pt=h(M.currentTime+ae/M.sampleRate,M.sampleRate,()=>J.process(Jt,mt,ot));for(let Ve=0,ai=0;Ve<b.numberOfOutputs;Ve+=1){for(let Ye=0;Ye<v[Ve];Ye+=1)aU(Dt,mt[Ve],Ye,ai+Ye,ae);ai+=v[Ve]}}catch(Jt){pt=!1,Q.dispatchEvent(new ErrorEvent("processorerror",{colno:Jt.colno,filename:Jt.filename,lineno:Jt.lineno,message:Jt.message}))}if(!pt){for(let Jt=0;Jt<b.numberOfInputs;Jt+=1){O[Jt].disconnect(I[Jt]);for(let le=0;le<b.channelCount;le+=1)I[ae].disconnect(D,le,Jt*b.channelCount+le)}if(A.parameterDescriptors!==void 0){const Jt=A.parameterDescriptors.length;for(let le=0;le<Jt;le+=1){const Ve=T[le];Ve.disconnect(D,0,E+le),Ve.stop()}}D.disconnect(L),L.onaudioprocess=null,xt?wt():At();break}}}};let xt=!1;const dt=l(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ot=()=>L.connect(dt).connect(M.destination),At=()=>{L.disconnect(dt),dt.disconnect()},jt=()=>{if(pt){At(),b.numberOfOutputs>0&&L.connect(N);for(let kt=0,Dt=0;kt<b.numberOfOutputs;kt+=1){const Xt=U[kt];for(let ae=0;ae<v[kt];ae+=1)N.connect(Xt,Dt+ae,ae);Dt+=v[kt]}}xt=!0},bt=()=>{pt&&(Ot(),wt()),xt=!1};return Ot(),m(Q,jt,bt)},lU=(e,t)=>{const i=e.createBiquadFilter();return f9(i,t),Na(i,t,"Q"),Na(i,t,"detune"),Na(i,t,"frequency"),Na(i,t,"gain"),wa(i,t,"type"),i},Rgt=(e,t)=>(i,n)=>{const a=i.createChannelMerger(n.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&t(i,a),f9(a,n),a},Dgt=e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:i=>{if(i!==t)throw x9()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:i=>{if(i!=="explicit")throw x9()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:i=>{if(i!=="discrete")throw x9()}})},Bm=(e,t)=>{const i=e.createChannelSplitter(t.numberOfOutputs);return f9(i,t),Dgt(i),i},Pgt=(e,t,i,n,a)=>(s,l)=>{if(s.createConstantSource===void 0)return i(s,l);const c=s.createConstantSource();return f9(c,l),Na(c,l,"offset"),t(n,()=>n(s))||Iv(c),t(a,()=>a(s))||Bv(c),e(s,c),c},Of=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Lgt=(e,t,i,n)=>(a,{offset:s,...l})=>{const c=a.createBuffer(1,2,44100),d=t(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=i(a,{...l,gain:s}),h=c.getChannelData(0);h[0]=1,h[1]=1,d.buffer=c,d.loop=!0;const g={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(p){u.channelCount=p},get channelCountMode(){return u.channelCountMode},set channelCountMode(p){u.channelCountMode=p},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(p){u.channelInterpretation=p},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return d.onended},set onended(p){d.onended=p},addEventListener(...p){return d.addEventListener(p[0],p[1],p[2])},dispatchEvent(...p){return d.dispatchEvent(p[0])},removeEventListener(...p){return d.removeEventListener(p[0],p[1],p[2])},start(p=0){d.start.call(d,p)},stop(p=0){d.stop.call(d,p)}},m=()=>d.connect(u),M=()=>d.disconnect(u);return e(a,d),n(Of(g,u),m,M)},kgt=(e,t)=>(i,n)=>{const a=i.createConvolver();if(f9(a,n),n.disableNormalization===a.normalize&&(a.normalize=!n.disableNormalization),wa(a,n,"buffer"),n.channelCount>2||(t(a,"channelCount",s=>()=>s.call(a),s=>l=>{if(l>2)throw e();return s.call(a,l)}),n.channelCountMode==="max"))throw e();return t(a,"channelCountMode",s=>()=>s.call(a),s=>l=>{if(l==="max")throw e();return s.call(a,l)}),a},cU=(e,t)=>{const i=e.createDelay(t.maxDelayTime);return f9(i,t),Na(i,t,"delayTime"),i},Ngt=e=>(t,i)=>{const n=t.createDynamicsCompressor();if(f9(n,i),i.channelCount>2||i.channelCountMode==="max")throw e();return Na(n,i,"attack"),Na(n,i,"knee"),Na(n,i,"ratio"),Na(n,i,"release"),Na(n,i,"threshold"),n},Bs=(e,t)=>{const i=e.createGain();return f9(i,t),Na(i,t,"gain"),i},Fgt=e=>(t,i,n)=>{if(t.createIIRFilter===void 0)return e(t,i,n);const a=t.createIIRFilter(n.feedforward,n.feedback);return f9(a,n),a};function Ugt(e,t){const i=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/i,(e[1]*t[0]-e[0]*t[1])/i]}function $gt(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]}function cT(e,t){let i=[0,0];for(let n=e.length-1;n>=0;n-=1)i=$gt(i,t),i[0]+=e[n];return i}const Ggt=(e,t,i,n)=>(a,s,{channelCount:l,channelCountMode:c,channelInterpretation:d,feedback:u,feedforward:h})=>{const g=oU(s,a.sampleRate),m=u instanceof Float64Array?u:new Float64Array(u),M=h instanceof Float64Array?h:new Float64Array(h),p=m.length,A=M.length,b=Math.min(p,A);if(p===0||p>20)throw n();if(m[0]===0)throw t();if(A===0||A>20)throw n();if(M[0]===0)throw t();if(m[0]!==1){for(let T=0;T<A;T+=1)M[T]/=m[0];for(let T=1;T<p;T+=1)m[T]/=m[0]}const v=i(a,g,l,l);v.channelCount=l,v.channelCountMode=c,v.channelInterpretation=d;const E=32,x=[],_=[],C=[];for(let T=0;T<l;T+=1){x.push(0);const D=new Float32Array(E),P=new Float32Array(E);D.fill(0),P.fill(0),_.push(D),C.push(P)}v.onaudioprocess=T=>{const D=T.inputBuffer,P=T.outputBuffer,L=D.numberOfChannels;for(let N=0;N<L;N+=1){const U=D.getChannelData(N),$=P.getChannelData(N);x[N]=sU(m,p,M,A,b,_[N],C[N],x[N],E,U,$)}};const O=a.sampleRate/2;return Of({get bufferSize(){return g},get channelCount(){return v.channelCount},set channelCount(T){v.channelCount=T},get channelCountMode(){return v.channelCountMode},set channelCountMode(T){v.channelCountMode=T},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(T){v.channelInterpretation=T},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...T){return v.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return v.dispatchEvent(T[0])},getFrequencyResponse(T,D,P){if(T.length!==D.length||D.length!==P.length)throw e();const L=T.length;for(let N=0;N<L;N+=1){const U=-Math.PI*(T[N]/O),$=[Math.cos(U),Math.sin(U)],F=cT(M,$),j=cT(m,$),z=Ugt(F,j);D[N]=Math.sqrt(z[0]*z[0]+z[1]*z[1]),P[N]=Math.atan2(z[1],z[0])}},removeEventListener(...T){return v.removeEventListener(T[0],T[1],T[2])}},v)},Vgt=(e,t)=>e.createMediaElementSource(t.mediaElement),Hgt=(e,t)=>{const i=e.createMediaStreamDestination();return f9(i,t),i.numberOfOutputs===1&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i},Qgt=(e,{mediaStream:t})=>{const i=t.getAudioTracks();i.sort((s,l)=>s.id<l.id?-1:s.id>l.id?1:0);const n=i.slice(0,1),a=e.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(a,"mediaStream",{value:t}),a},zgt=(e,t)=>(i,{mediaStreamTrack:n})=>{if(typeof i.createMediaStreamTrackSource=="function")return i.createMediaStreamTrackSource(n);const a=new MediaStream([n]),s=i.createMediaStreamSource(a);if(n.kind!=="audio")throw e();if(t(i))throw new TypeError;return s},jgt=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null,Jgt=(e,t,i,n,a,s)=>(l,c)=>{const d=l.createOscillator();return f9(d,c),Na(d,c,"detune"),Na(d,c,"frequency"),c.periodicWave!==void 0?d.setPeriodicWave(c.periodicWave):wa(d,c,"type"),t(i,()=>i(l))||Iv(d),t(n,()=>n(l))||s(d,l),t(a,()=>a(l))||Bv(d),e(l,d),d},Wgt=e=>(t,i)=>{const n=t.createPanner();return n.orientationX===void 0?e(t,i):(f9(n,i),Na(n,i,"orientationX"),Na(n,i,"orientationY"),Na(n,i,"orientationZ"),Na(n,i,"positionX"),Na(n,i,"positionY"),Na(n,i,"positionZ"),wa(n,i,"coneInnerAngle"),wa(n,i,"coneOuterAngle"),wa(n,i,"coneOuterGain"),wa(n,i,"distanceModel"),wa(n,i,"maxDistance"),wa(n,i,"panningModel"),wa(n,i,"refDistance"),wa(n,i,"rolloffFactor"),n)},qgt=(e,t,i,n,a,s,l,c,d,u)=>(h,{coneInnerAngle:g,coneOuterAngle:m,coneOuterGain:M,distanceModel:p,maxDistance:A,orientationX:b,orientationY:v,orientationZ:E,panningModel:x,positionX:_,positionY:C,positionZ:O,refDistance:I,rolloffFactor:T,...D})=>{const P=h.createPanner();if(D.channelCount>2||D.channelCountMode==="max")throw l();f9(P,D);const L={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},N=i(h,{...L,channelInterpretation:"speakers",numberOfInputs:6}),U=n(h,{...D,gain:1}),$=n(h,{...L,gain:1}),F=n(h,{...L,gain:0}),j=n(h,{...L,gain:0}),z=n(h,{...L,gain:0}),Q=n(h,{...L,gain:0}),V=n(h,{...L,gain:0}),q=a(h,256,6,1),J=s(h,{...L,curve:new Float32Array([1,1]),oversample:"none"});let W=[b,v,E],et=[_,C,O];const mt=new Float32Array(1);q.onaudioprocess=({inputBuffer:Mt})=>{const xt=[d(Mt,mt,0),d(Mt,mt,1),d(Mt,mt,2)];xt.some((Ot,At)=>Ot!==W[At])&&(P.setOrientation(...xt),W=xt);const dt=[d(Mt,mt,3),d(Mt,mt,4),d(Mt,mt,5)];dt.some((Ot,At)=>Ot!==et[At])&&(P.setPosition(...dt),et=dt)},Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0});const ot={get bufferSize(){},get channelCount(){return P.channelCount},set channelCount(Mt){if(Mt>2)throw l();U.channelCount=Mt,P.channelCount=Mt},get channelCountMode(){return P.channelCountMode},set channelCountMode(Mt){if(Mt==="max")throw l();U.channelCountMode=Mt,P.channelCountMode=Mt},get channelInterpretation(){return P.channelInterpretation},set channelInterpretation(Mt){U.channelInterpretation=Mt,P.channelInterpretation=Mt},get coneInnerAngle(){return P.coneInnerAngle},set coneInnerAngle(Mt){P.coneInnerAngle=Mt},get coneOuterAngle(){return P.coneOuterAngle},set coneOuterAngle(Mt){P.coneOuterAngle=Mt},get coneOuterGain(){return P.coneOuterGain},set coneOuterGain(Mt){if(Mt<0||Mt>1)throw t();P.coneOuterGain=Mt},get context(){return P.context},get distanceModel(){return P.distanceModel},set distanceModel(Mt){P.distanceModel=Mt},get inputs(){return[U]},get maxDistance(){return P.maxDistance},set maxDistance(Mt){if(Mt<0)throw new RangeError;P.maxDistance=Mt},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return F.gain},get orientationZ(){return j.gain},get panningModel(){return P.panningModel},set panningModel(Mt){P.panningModel=Mt},get positionX(){return z.gain},get positionY(){return Q.gain},get positionZ(){return V.gain},get refDistance(){return P.refDistance},set refDistance(Mt){if(Mt<0)throw new RangeError;P.refDistance=Mt},get rolloffFactor(){return P.rolloffFactor},set rolloffFactor(Mt){if(Mt<0)throw new RangeError;P.rolloffFactor=Mt},addEventListener(...Mt){return U.addEventListener(Mt[0],Mt[1],Mt[2])},dispatchEvent(...Mt){return U.dispatchEvent(Mt[0])},removeEventListener(...Mt){return U.removeEventListener(Mt[0],Mt[1],Mt[2])}};g!==ot.coneInnerAngle&&(ot.coneInnerAngle=g),m!==ot.coneOuterAngle&&(ot.coneOuterAngle=m),M!==ot.coneOuterGain&&(ot.coneOuterGain=M),p!==ot.distanceModel&&(ot.distanceModel=p),A!==ot.maxDistance&&(ot.maxDistance=A),b!==ot.orientationX.value&&(ot.orientationX.value=b),v!==ot.orientationY.value&&(ot.orientationY.value=v),E!==ot.orientationZ.value&&(ot.orientationZ.value=E),x!==ot.panningModel&&(ot.panningModel=x),_!==ot.positionX.value&&(ot.positionX.value=_),C!==ot.positionY.value&&(ot.positionY.value=C),O!==ot.positionZ.value&&(ot.positionZ.value=O),I!==ot.refDistance&&(ot.refDistance=I),T!==ot.rolloffFactor&&(ot.rolloffFactor=T),(W[0]!==1||W[1]!==0||W[2]!==0)&&P.setOrientation(...W),(et[0]!==0||et[1]!==0||et[2]!==0)&&P.setPosition(...et);const pt=()=>{U.connect(P),e(U,J,0,0),J.connect($).connect(N,0,0),J.connect(F).connect(N,0,1),J.connect(j).connect(N,0,2),J.connect(z).connect(N,0,3),J.connect(Q).connect(N,0,4),J.connect(V).connect(N,0,5),N.connect(q).connect(h.destination)},wt=()=>{U.disconnect(P),c(U,J,0,0),J.disconnect($),$.disconnect(N),J.disconnect(F),F.disconnect(N),J.disconnect(j),j.disconnect(N),J.disconnect(z),z.disconnect(N),J.disconnect(Q),Q.disconnect(N),J.disconnect(V),V.disconnect(N),N.disconnect(q),q.disconnect(h.destination)};return u(Of(ot,P),pt,wt)},Kgt=e=>(t,{disableNormalization:i,imag:n,real:a})=>{const s=n instanceof Float32Array?n:new Float32Array(n),l=a instanceof Float32Array?a:new Float32Array(a),c=t.createPeriodicWave(l,s,{disableNormalization:i});if(Array.from(n).length<2)throw e();return c},Rm=(e,t,i,n)=>e.createScriptProcessor(t,i,n),Xgt=(e,t)=>(i,n)=>{const a=n.channelCountMode;if(a==="clamped-max")throw t();if(i.createStereoPanner===void 0)return e(i,n);const s=i.createStereoPanner();return f9(s,n),Na(s,n,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>a,set:l=>{if(l!==a)throw t()}}),s},Ygt=(e,t,i,n,a,s)=>{const c=new Float32Array([1,1]),d=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},h={...u,oversample:"none"},g=(p,A,b,v)=>{const E=new Float32Array(16385),x=new Float32Array(16385);for(let D=0;D<16385;D+=1){const P=D/16384*d;E[D]=Math.cos(P),x[D]=Math.sin(P)}const _=i(p,{...u,gain:0}),C=n(p,{...h,curve:E}),O=n(p,{...h,curve:c}),I=i(p,{...u,gain:0}),T=n(p,{...h,curve:x});return{connectGraph(){A.connect(_),A.connect(O.inputs===void 0?O:O.inputs[0]),A.connect(I),O.connect(b),b.connect(C.inputs===void 0?C:C.inputs[0]),b.connect(T.inputs===void 0?T:T.inputs[0]),C.connect(_.gain),T.connect(I.gain),_.connect(v,0,0),I.connect(v,0,1)},disconnectGraph(){A.disconnect(_),A.disconnect(O.inputs===void 0?O:O.inputs[0]),A.disconnect(I),O.disconnect(b),b.disconnect(C.inputs===void 0?C:C.inputs[0]),b.disconnect(T.inputs===void 0?T:T.inputs[0]),C.disconnect(_.gain),T.disconnect(I.gain),_.disconnect(v,0,0),I.disconnect(v,0,1)}}},m=(p,A,b,v)=>{const E=new Float32Array(16385),x=new Float32Array(16385),_=new Float32Array(16385),C=new Float32Array(16385),O=Math.floor(16385/2);for(let z=0;z<16385;z+=1)if(z>O){const Q=(z-O)/(16384-O)*d;E[z]=Math.cos(Q),x[z]=Math.sin(Q),_[z]=0,C[z]=1}else{const Q=z/(16384-O)*d;E[z]=1,x[z]=0,_[z]=Math.cos(Q),C[z]=Math.sin(Q)}const I=t(p,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),T=i(p,{...u,gain:0}),D=n(p,{...h,curve:E}),P=i(p,{...u,gain:0}),L=n(p,{...h,curve:x}),N=n(p,{...h,curve:c}),U=i(p,{...u,gain:0}),$=n(p,{...h,curve:_}),F=i(p,{...u,gain:0}),j=n(p,{...h,curve:C});return{connectGraph(){A.connect(I),A.connect(N.inputs===void 0?N:N.inputs[0]),I.connect(T,0),I.connect(P,0),I.connect(U,1),I.connect(F,1),N.connect(b),b.connect(D.inputs===void 0?D:D.inputs[0]),b.connect(L.inputs===void 0?L:L.inputs[0]),b.connect($.inputs===void 0?$:$.inputs[0]),b.connect(j.inputs===void 0?j:j.inputs[0]),D.connect(T.gain),L.connect(P.gain),$.connect(U.gain),j.connect(F.gain),T.connect(v,0,0),U.connect(v,0,0),P.connect(v,0,1),F.connect(v,0,1)},disconnectGraph(){A.disconnect(I),A.disconnect(N.inputs===void 0?N:N.inputs[0]),I.disconnect(T,0),I.disconnect(P,0),I.disconnect(U,1),I.disconnect(F,1),N.disconnect(b),b.disconnect(D.inputs===void 0?D:D.inputs[0]),b.disconnect(L.inputs===void 0?L:L.inputs[0]),b.disconnect($.inputs===void 0?$:$.inputs[0]),b.disconnect(j.inputs===void 0?j:j.inputs[0]),D.disconnect(T.gain),L.disconnect(P.gain),$.disconnect(U.gain),j.disconnect(F.gain),T.disconnect(v,0,0),U.disconnect(v,0,0),P.disconnect(v,0,1),F.disconnect(v,0,1)}}},M=(p,A,b,v,E)=>{if(A===1)return g(p,b,v,E);if(A===2)return m(p,b,v,E);throw a()};return(p,{channelCount:A,channelCountMode:b,pan:v,...E})=>{if(b==="max")throw a();const x=e(p,{...E,channelCount:1,channelCountMode:b,numberOfInputs:2}),_=i(p,{...E,channelCount:A,channelCountMode:b,gain:1}),C=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:v});let{connectGraph:O,disconnectGraph:I}=M(p,A,_,C,x);Object.defineProperty(C.gain,"defaultValue",{get:()=>0}),Object.defineProperty(C.gain,"maxValue",{get:()=>1}),Object.defineProperty(C.gain,"minValue",{get:()=>-1});const T={get bufferSize(){},get channelCount(){return _.channelCount},set channelCount(N){_.channelCount!==N&&(D&&I(),{connectGraph:O,disconnectGraph:I}=M(p,N,_,C,x),D&&O()),_.channelCount=N},get channelCountMode(){return _.channelCountMode},set channelCountMode(N){if(N==="clamped-max"||N==="max")throw a();_.channelCountMode=N},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(N){_.channelInterpretation=N},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get pan(){return C.gain},addEventListener(...N){return _.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return _.dispatchEvent(N[0])},removeEventListener(...N){return _.removeEventListener(N[0],N[1],N[2])}};let D=!1;const P=()=>{O(),D=!0},L=()=>{I(),D=!1};return s(Of(T,x),P,L)}},Zgt=(e,t,i,n,a,s,l)=>(c,d)=>{const u=c.createWaveShaper();if(s!==null&&s.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return i(c,d);f9(u,d);const h=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(h!==null&&h.length<2)throw t();wa(u,{curve:h},"curve"),wa(u,d,"oversample");let g=null,m=!1;return l(u,"curve",A=>()=>A.call(u),A=>b=>(A.call(u,b),m&&(n(b)&&g===null?g=e(c,u):!n(b)&&g!==null&&(g(),g=null)),b)),a(u,()=>{m=!0,n(u.curve)&&(g=e(c,u))},()=>{m=!1,g!==null&&(g(),g=null)})},tMt=(e,t,i,n,a)=>(s,{curve:l,oversample:c,...d})=>{const u=s.createWaveShaper(),h=s.createWaveShaper();f9(u,d),f9(h,d);const g=i(s,{...d,gain:1}),m=i(s,{...d,gain:-1}),M=i(s,{...d,gain:1}),p=i(s,{...d,gain:-1});let A=null,b=!1,v=null;const E={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(C){g.channelCount=C,m.channelCount=C,u.channelCount=C,M.channelCount=C,h.channelCount=C,p.channelCount=C},get channelCountMode(){return u.channelCountMode},set channelCountMode(C){g.channelCountMode=C,m.channelCountMode=C,u.channelCountMode=C,M.channelCountMode=C,h.channelCountMode=C,p.channelCountMode=C},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(C){g.channelInterpretation=C,m.channelInterpretation=C,u.channelInterpretation=C,M.channelInterpretation=C,h.channelInterpretation=C,p.channelInterpretation=C},get context(){return u.context},get curve(){return v},set curve(C){if(C!==null&&C.length<2)throw t();if(C===null)u.curve=C,h.curve=C;else{const O=C.length,I=new Float32Array(O+2-O%2),T=new Float32Array(O+2-O%2);I[0]=C[0],T[0]=-C[O-1];const D=Math.ceil((O+1)/2),P=(O+1)/2-1;for(let L=1;L<D;L+=1){const N=L/D*P,U=Math.floor(N),$=Math.ceil(N);I[L]=U===$?C[U]:(1-(N-U))*C[U]+(1-($-N))*C[$],T[L]=U===$?-C[O-1-U]:-((1-(N-U))*C[O-1-U])-(1-($-N))*C[O-1-$]}I[D]=O%2===1?C[D-1]:(C[D-2]+C[D-1])/2,u.curve=I,h.curve=T}v=C,b&&(n(v)&&A===null?A=e(s,g):A!==null&&(A(),A=null))},get inputs(){return[g]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(C){u.oversample=C,h.oversample=C},addEventListener(...C){return g.addEventListener(C[0],C[1],C[2])},dispatchEvent(...C){return g.dispatchEvent(C[0])},removeEventListener(...C){return g.removeEventListener(C[0],C[1],C[2])}};l!==null&&(E.curve=l instanceof Float32Array?l:new Float32Array(l)),c!==E.oversample&&(E.oversample=c);const x=()=>{g.connect(u).connect(M),g.connect(m).connect(h).connect(p).connect(M),b=!0,n(v)&&(A=e(s,g))},_=()=>{g.disconnect(u),u.disconnect(M),g.disconnect(m),m.disconnect(h),h.disconnect(p),p.disconnect(M),b=!1,A!==null&&(A(),A=null)};return a(Of(E,M),x,_)},gs=()=>new DOMException("","NotSupportedError"),eMt={numberOfChannels:1},iMt=(e,t,i,n,a)=>class extends e{constructor(l,c,d){let u;if(typeof l=="number"&&c!==void 0&&d!==void 0)u={length:c,numberOfChannels:l,sampleRate:d};else if(typeof l=="object")u=l;else throw new Error("The given parameters are not valid.");const{length:h,numberOfChannels:g,sampleRate:m}={...eMt,...u},M=n(g,h,m);t(B2,()=>B2(M))||M.addEventListener("statechange",(()=>{let p=0;const A=b=>{this._state==="running"&&(p>0?(M.removeEventListener("statechange",A),b.stopImmediatePropagation(),this._waitForThePromiseToSettle(b)):p+=1)};return A})()),super(M,g),this._length=h,this._nativeOfflineAudioContext=M,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(i()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,tU(this)}))}_waitForThePromiseToSettle(l){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(l):setTimeout(()=>this._waitForThePromiseToSettle(l))}},nMt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},rMt=(e,t,i,n,a,s,l)=>class extends e{constructor(d,u){const h=a(d),g={...nMt,...u},m=i(h,g),M=s(h),p=M?n():null,A=d.sampleRate/2;super(d,!1,m,p),this._detune=t(this,M,m.detune,153600,-153600),this._frequency=t(this,M,m.frequency,A,-A),this._nativeOscillatorNode=m,this._onended=null,this._oscillatorNodeRenderer=p,this._oscillatorNodeRenderer!==null&&g.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=g.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const u=typeof d=="function"?l(this,d):null;this._nativeOscillatorNode.onended=u;const h=this._nativeOscillatorNode.onended;this._onended=h!==null&&h===u?d:h}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){cf(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),Ol(this)&&Sm(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},aMt=(e,t,i,n,a)=>()=>{const s=new WeakMap;let l=null,c=null,d=null;const u=async(h,g)=>{let m=i(h);const M=is(m,g);if(!M){const p={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,detune:m.detune.value,frequency:m.frequency.value,periodicWave:l===null?void 0:l,type:m.type};m=t(g,p),c!==null&&m.start(c),d!==null&&m.stop(d)}return s.set(g,m),M?(await e(g,h.detune,m.detune),await e(g,h.frequency,m.frequency)):(await n(g,h.detune,m.detune),await n(g,h.frequency,m.frequency)),await a(h,g,m),m};return{set periodicWave(h){l=h},set start(h){c=h},set stop(h){d=h},render(h,g){const m=s.get(g);return m!==void 0?Promise.resolve(m):u(h,g)}}},sMt={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},oMt=(e,t,i,n,a,s,l)=>class extends e{constructor(d,u){const h=a(d),g={...sMt,...u},m=i(h,g),M=s(h),p=M?n():null;super(d,!1,m,p),this._nativePannerNode=m,this._orientationX=t(this,M,m.orientationX,us,Es),this._orientationY=t(this,M,m.orientationY,us,Es),this._orientationZ=t(this,M,m.orientationZ,us,Es),this._positionX=t(this,M,m.positionX,us,Es),this._positionY=t(this,M,m.positionY,us,Es),this._positionZ=t(this,M,m.positionZ,us,Es),l(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},lMt=(e,t,i,n,a,s,l,c,d,u)=>()=>{const h=new WeakMap;let g=null;const m=async(M,p)=>{let A=null,b=s(M);const v={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},E={...v,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},x=is(b,p);if("bufferSize"in b)A=n(p,{...v,gain:1});else if(!x){const _={...E,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=a(p,_)}if(h.set(p,A===null?b:A),A!==null){if(g===null){if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");const L=new l(6,M.context.length,p.sampleRate),N=t(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});N.connect(L.destination),g=(async()=>{const U=await Promise.all([M.orientationX,M.orientationY,M.orientationZ,M.positionX,M.positionY,M.positionZ].map(async($,F)=>{const j=i(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F===0?1:0});return await c(L,$,j.offset),j}));for(let $=0;$<6;$+=1)U[$].connect(N,0,$),U[$].start(0);return u(L)})()}const _=await g,C=n(p,{...v,gain:1});await d(M,p,C);const O=[];for(let L=0;L<_.numberOfChannels;L+=1)O.push(_.getChannelData(L));let I=[O[0][0],O[1][0],O[2][0]],T=[O[3][0],O[4][0],O[5][0]],D=n(p,{...v,gain:1}),P=a(p,{...E,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:T[0],positionY:T[1],positionZ:T[2]});C.connect(D).connect(P.inputs[0]),P.connect(A);for(let L=128;L<_.length;L+=128){const N=[O[0][L],O[1][L],O[2][L]],U=[O[3][L],O[4][L],O[5][L]];if(N.some(($,F)=>$!==I[F])||U.some(($,F)=>$!==T[F])){I=N,T=U;const $=L/p.sampleRate;D.gain.setValueAtTime(0,$),D=n(p,{...v,gain:0}),P=a(p,{...E,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:T[0],positionY:T[1],positionZ:T[2]}),D.gain.setValueAtTime(1,$),C.connect(D).connect(P.inputs[0]),P.connect(A)}}return A}return x?(await e(p,M.orientationX,b.orientationX),await e(p,M.orientationY,b.orientationY),await e(p,M.orientationZ,b.orientationZ),await e(p,M.positionX,b.positionX),await e(p,M.positionY,b.positionY),await e(p,M.positionZ,b.positionZ)):(await c(p,M.orientationX,b.orientationX),await c(p,M.orientationY,b.orientationY),await c(p,M.orientationZ,b.orientationZ),await c(p,M.positionX,b.positionX),await c(p,M.positionY,b.positionY),await c(p,M.positionZ,b.positionZ)),wf(b)?await d(M,p,b.inputs[0]):await d(M,p,b),b};return{render(M,p){const A=h.get(p);return A!==void 0?Promise.resolve(A):m(M,p)}}},cMt={disableNormalization:!1},uMt=(e,t,i,n)=>class uU{constructor(s,l){const c=t(s),d=n({...cMt,...l}),u=e(c,d);return i.add(u),u}static[Symbol.hasInstance](s){return s!==null&&typeof s=="object"&&Object.getPrototypeOf(s)===uU.prototype||i.has(s)}},dMt=(e,t)=>(i,n,a)=>(e(n).replay(a),t(n,i,a)),hMt=(e,t,i)=>async(n,a,s)=>{const l=e(n);await Promise.all(l.activeInputs.map((c,d)=>Array.from(c).map(async([u,h])=>{const m=await t(u).render(u,a),M=n.context.destination;!i(u)&&(n!==M||!i(n))&&m.connect(s,h,d)})).reduce((c,d)=>[...c,...d],[]))},fMt=(e,t,i)=>async(n,a,s)=>{const l=t(n);await Promise.all(Array.from(l.activeInputs).map(async([c,d])=>{const h=await e(c).render(c,a);i(c)||h.connect(s,d)}))},mMt=(e,t,i,n)=>a=>e(B2,()=>B2(a))?Promise.resolve(e(n,n)).then(s=>{if(!s){const l=i(a,512,0,1);a.oncomplete=()=>{l.onaudioprocess=null,l.disconnect()},l.onaudioprocess=()=>a.currentTime,l.connect(a.destination)}return a.startRendering()}):new Promise(s=>{const l=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{l.disconnect(),s(c.renderedBuffer)},l.connect(a.destination),a.startRendering()}),pMt=e=>(t,i)=>{e.set(t,i)},gMt=e=>(t,i)=>e.set(t,i),MMt=(e,t,i,n,a,s,l,c)=>(d,u)=>i(d).render(d,u).then(()=>Promise.all(Array.from(n(u)).map(h=>i(h).render(h,u)))).then(()=>a(u)).then(h=>(typeof h.copyFromChannel!="function"?(l(h),xv(h)):t(s,()=>s(h))||c(h),e.add(h),h)),AMt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},yMt=(e,t,i,n,a,s)=>class extends e{constructor(c,d){const u=a(c),h={...AMt,...d},g=i(u,h),m=s(u),M=m?n():null;super(c,!1,g,M),this._pan=t(this,m,g.pan)}get pan(){return this._pan}},vMt=(e,t,i,n,a)=>()=>{const s=new WeakMap,l=async(c,d)=>{let u=i(c);const h=is(u,d);if(!h){const g={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=t(d,g)}return s.set(d,u),h?await e(d,c.pan,u.pan):await n(d,c.pan,u.pan),wf(u)?await a(c,d,u.inputs[0]):await a(c,d,u),u};return{render(c,d){const u=s.get(d);return u!==void 0?Promise.resolve(u):l(c,d)}}},bMt=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0},CMt=(e,t)=>async()=>{if(e===null)return!0;if(t===null)return!1;const i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new t(1,128,44100),a=URL.createObjectURL(i);let s=!1,l=!1;try{await n.audioWorklet.addModule(a);const c=new e(n,"a",{numberOfOutputs:0}),d=n.createOscillator();c.port.onmessage=()=>s=!0,c.onprocessorerror=()=>l=!0,d.connect(c),d.start(0),await n.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(a)}return s&&!l},_Mt=(e,t)=>()=>{if(t===null)return Promise.resolve(!1);const i=new t(1,1,44100),n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{i.oncomplete=()=>{n.disconnect(),a(i.currentTime!==0)},i.startRendering()})},EMt=()=>new DOMException("","UnknownError"),wMt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},OMt=(e,t,i,n,a,s,l)=>class extends e{constructor(d,u){const h=a(d),g={...wMt,...u},m=i(h,g),p=s(h)?n():null;super(d,!0,m,p),this._isCurveNullified=!1,this._nativeWaveShaperNode=m,l(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},xMt=(e,t,i)=>()=>{const n=new WeakMap,a=async(s,l)=>{let c=t(s);if(!is(c,l)){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=e(l,u)}return n.set(l,c),wf(c)?await i(s,l,c.inputs[0]):await i(s,l,c),c};return{render(s,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):a(s,l)}}},SMt=()=>typeof window>"u"?null:window,TMt=(e,t)=>i=>{i.copyFromChannel=(n,a,s=0)=>{const l=e(s),c=e(a);if(c>=i.numberOfChannels)throw t();const d=i.length,u=i.getChannelData(c),h=n.length;for(let g=l<0?-l:0;g+l<d&&g<h;g+=1)n[g]=u[g+l]},i.copyToChannel=(n,a,s=0)=>{const l=e(s),c=e(a);if(c>=i.numberOfChannels)throw t();const d=i.length,u=i.getChannelData(c),h=n.length;for(let g=l<0?-l:0;g+l<d&&g<h;g+=1)u[g+l]=n[g]}},IMt=e=>t=>{t.copyFromChannel=(i=>(n,a,s=0)=>{const l=e(s),c=e(a);if(l<t.length)return i.call(t,n,c,l)})(t.copyFromChannel),t.copyToChannel=(i=>(n,a,s=0)=>{const l=e(s),c=e(a);if(l<t.length)return i.call(t,n,c,l)})(t.copyToChannel)},BMt=e=>(t,i)=>{const n=i.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=n),e(t,"buffer",a=>()=>{const s=a.call(t);return s===n?null:s},a=>s=>a.call(t,s===null?n:s))},RMt=(e,t)=>(i,n)=>{n.channelCount=1,n.channelCountMode="explicit",Object.defineProperty(n,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const a=i.createBufferSource();t(n,()=>{const c=n.numberOfInputs;for(let d=0;d<c;d+=1)a.connect(n,0,d)},()=>a.disconnect(n))},dU=(e,t,i)=>e.copyFromChannel===void 0?e.getChannelData(i)[0]:(e.copyFromChannel(t,i),t[0]),hU=e=>{if(e===null)return!1;const t=e.length;return t%2!==0?e[Math.floor(t/2)]!==0:e[t/2-1]+e[t/2]!==0},Dm=(e,t,i,n)=>{let a=e;for(;!a.hasOwnProperty(t);)a=Object.getPrototypeOf(a);const{get:s,set:l}=Object.getOwnPropertyDescriptor(a,t);Object.defineProperty(e,t,{get:i(s),set:n(l)})},DMt=e=>({...e,outputChannelCount:e.outputChannelCount!==void 0?e.outputChannelCount:e.numberOfInputs===1&&e.numberOfOutputs===1?[e.channelCount]:Array.from({length:e.numberOfOutputs},()=>1)}),PMt=e=>({...e,channelCount:e.numberOfOutputs}),LMt=e=>{const{imag:t,real:i}=e;return t===void 0?i===void 0?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(i,()=>0),real:i}:i===void 0?{...e,imag:t,real:Array.from(t,()=>0)}:{...e,imag:t,real:i}},fU=(e,t,i)=>{try{e.setValueAtTime(t,i)}catch(n){if(n.code!==9)throw n;fU(e,t,i+1e-7)}},kMt=e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},NMt=e=>{const t=e.createBufferSource(),i=e.createBuffer(1,1,44100);t.buffer=i;try{t.start(0,1)}catch{return!1}return!0},FMt=e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},Rv=e=>{const t=e.createOscillator();try{t.start(-1)}catch(i){return i instanceof RangeError}return!1},mU=e=>{const t=e.createBuffer(1,1,44100),i=e.createBufferSource();i.buffer=t,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},Dv=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(i){return i instanceof RangeError}return!1},UMt=e=>{const{port1:t,port2:i}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),i.close()}},$Mt=e=>{e.start=(t=>(i=0,n=0,a)=>{const s=e.buffer,l=s===null?n:Math.min(s.duration,n);s!==null&&l>s.duration-.5/e.context.sampleRate?t.call(e,i,0,0):t.call(e,i,l,a)})(e.start)},pU=(e,t)=>{const i=t.createGain();e.connect(i);const n=(a=>()=>{a.call(e,i),e.removeEventListener("ended",n)})(e.disconnect);e.addEventListener("ended",n),Of(e,i),e.stop=(a=>{let s=!1;return(l=0)=>{if(s)try{a.call(e,l)}catch{i.gain.setValueAtTime(0,l)}else a.call(e,l),s=!0}})(e.stop)},xf=(e,t)=>i=>{const n={value:e};return Object.defineProperties(i,{currentTarget:n,target:n}),typeof t=="function"?t.call(e,i):t.handleEvent.call(e,i)},GMt=o6t(Ad),VMt=f6t(Ad),HMt=w7t(x5),gU=new WeakMap,QMt=H7t(gU),Z0=e7t(new Map,new WeakMap),Do=SMt(),MU=ygt(Z0,No),Pv=V7t(fs),U9=hMt(fs,Pv,cd),zMt=A6t(MU,_a,U9),pa=j7t(O5),$l=jgt(Do),na=cgt($l),AU=new WeakMap,yU=L7t(xf),Pm=_gt(Do),Lv=agt(Pm),kv=sgt(Do),vU=ogt(Do),R2=wgt(Do),Ka=H6t(l6t(JF),h6t(GMt,VMt,d8,HMt,h8,fs,QMt,xm,_a,Ad,Ol,cd,dp),Z0,tgt(wA,h8,fs,_a,I2,Ol),No,S5,gs,b7t(d8,wA,fs,_a,I2,pa,Ol,na),S7t(AU,fs,J0),yU,pa,Lv,kv,vU,na,R2),jMt=M6t(Ka,zMt,No,MU,pa,na),Nv=new WeakSet,uT=vgt(Do),bU=m7t(new Uint32Array(1)),Fv=TMt(bU,No),Uv=IMt(bU),CU=v6t(Nv,Z0,gs,uT,$l,bMt(uT),Fv,Uv),T5=m6t(Bs),_U=fMt(Pv,Tm,cd),Fo=l7t(_U),Sf=Cgt(T5,Z0,kMt,NMt,FMt,Rv,mU,Dv,$Mt,BMt(Dm),pU),Uo=dMt(Q7t(Tm),_U),JMt=_6t(Fo,Sf,_a,Uo,U9),to=Q6t(c6t(WF),AU,Ov,z6t,e6t,i6t,n6t,r6t,a6t,CA,zF,Pm,fU),WMt=C6t(Ka,JMt,to,x9,Sf,pa,na,xf),qMt=R6t(Ka,D6t,No,x9,Egt(Bs,Dm),pa,na,U9),KMt=t7t(Fo,lU,_a,Uo,U9),yd=gMt(gU),XMt=Z6t(Ka,to,KMt,S5,lU,pa,na,yd),Yc=Mgt(Ad,kv),YMt=RMt(x9,Yc),Zc=Rgt(Pm,YMt),ZMt=r7t(Zc,_a,U9),tAt=n7t(Ka,ZMt,Zc,pa,na),eAt=o7t(Bm,_a,U9),iAt=s7t(Ka,eAt,Bm,pa,na,PMt),nAt=Lgt(T5,Sf,Bs,Yc),Tf=Pgt(T5,Z0,nAt,Rv,Dv),rAt=f7t(Fo,Tf,_a,Uo,U9),aAt=h7t(Ka,to,rAt,Tf,pa,na,xf),EU=kgt(gs,Dm),sAt=M7t(EU,_a,U9),oAt=g7t(Ka,sAt,EU,pa,na,yd),lAt=E7t(Fo,cU,_a,Uo,U9),cAt=_7t(Ka,to,lAt,cU,pa,na,yd),wU=Ngt(gs),uAt=R7t(Fo,wU,_a,Uo,U9),dAt=B7t(Ka,to,uAt,wU,gs,pa,na,yd),hAt=$7t(Fo,Bs,_a,Uo,U9),fAt=U7t(Ka,to,hAt,Bs,pa,na),mAt=Ggt(S5,x9,Rm,gs),I5=mMt(Z0,Bs,Rm,_Mt(Bs,$l)),pAt=Z7t(Sf,_a,$l,U9,I5),gAt=Fgt(mAt),MAt=X7t(Ka,gAt,pAt,pa,na,yd),AAt=P6t(to,Zc,Tf,Rm,gs,dU,na,Dm),OU=new WeakMap,yAt=ggt(qMt,AAt,yU,na,OU,xf),xU=Jgt(T5,Z0,Rv,mU,Dv,pU),vAt=aMt(Fo,xU,_a,Uo,U9),bAt=rMt(Ka,to,xU,vAt,pa,na,xf),SU=u7t(Sf),CAt=tMt(SU,x9,Bs,hU,Yc),B5=Zgt(SU,x9,CAt,hU,Yc,Pm,Dm),_At=qgt(d8,x9,Zc,Bs,Rm,B5,gs,h8,dU,Yc),TU=Wgt(_At),EAt=lMt(Fo,Zc,Tf,Bs,TU,_a,$l,Uo,U9,I5),wAt=oMt(Ka,to,TU,EAt,pa,na,yd),OAt=Kgt(No),xAt=uMt(OAt,pa,new WeakSet,LMt),SAt=Ygt(Zc,Bm,Bs,B5,gs,Yc),IU=Xgt(SAt,gs),TAt=vMt(Fo,IU,_a,Uo,U9),IAt=yMt(Ka,to,IU,TAt,pa,na),BAt=xMt(B5,_a,U9),RAt=OMt(Ka,x9,B5,BAt,pa,na,yd),BU=ugt(Do),$v=k7t(Do),RU=new WeakMap,DAt=J7t(RU,$l),PAt=BU?d6t(Z0,gs,P7t(Do),$v,N7t(s6t),pa,DAt,na,R2,new WeakMap,new WeakMap,CMt(R2,$l),Do):void 0,LAt=lgt(Lv,na),kAt=v7t(Nv,Z0,y7t,D7t,new WeakSet,pa,LAt,c8,B2,Fv,Uv),DU=X6t(PAt,jMt,CU,WMt,XMt,tAt,iAt,aAt,oAt,kAt,cAt,dAt,fAt,MAt,yAt,bAt,wAt,xAt,IAt,RAt),NAt=dgt(Ka,Vgt,pa,na),FAt=fgt(Ka,Hgt,pa,na),UAt=mgt(Ka,Qgt,pa,na),$At=zgt(x9,na),GAt=pgt(Ka,$At,pa),VAt=B6t(DU,x9,gs,EMt,NAt,FAt,UAt,GAt,Pm),Gv=W7t(OU),HAt=p6t(Gv),PU=c7t(No),QAt=O7t(Gv),LU=T7t(No),kU=new WeakMap,zAt=G7t(kU,J0),jAt=Bgt(PU,No,x9,Zc,Bm,Tf,Bs,Rm,gs,LU,$v,zAt,Yc),JAt=xgt(x9,jAt,Bs,gs,Yc),WAt=K6t(Fo,PU,Sf,Zc,Bm,Tf,Bs,QAt,LU,$v,_a,R2,$l,Uo,U9,I5),qAt=z7t(RU),KAt=pMt(kU),dT=BU?J6t(HAt,Ka,to,WAt,JAt,fs,qAt,pa,na,R2,DMt,KAt,UMt,xf):void 0,XAt=A7t(gs,$l),YAt=MMt(Nv,Z0,Pv,Gv,I5,c8,Fv,Uv),ZAt=iMt(DU,Z0,x9,XAt,YAt),tyt=egt(O5,Lv),eyt=igt(wv,kv),iyt=ngt(Ov,vU),nyt=rgt(O5,na);function y0(e){return e===void 0}function br(e){return e!==void 0}function ryt(e){return typeof e=="function"}function $c(e){return typeof e=="number"}function Xu(e){return Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object}function ayt(e){return typeof e=="boolean"}function qs(e){return Array.isArray(e)}function Pl(e){return typeof e=="string"}function q4(e){return Pl(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)}function Fn(e,t){if(!e)throw new Error(t)}function Gc(e,t,i=1/0){if(!(t<=e&&e<=i))throw new RangeError(`Value must be within [${t}, ${i}], got: ${e}`)}function NU(e){!e.isOffline&&e.state!=="running"&&R5('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let FU=!1,hT=!1;function fT(e){FU=e}function syt(e){y0(e)&&FU&&!hT&&(hT=!0,R5("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let UU=console;function oyt(...e){UU.log(...e)}function R5(...e){UU.warn(...e)}function lyt(e){return new VAt(e)}function cyt(e,t,i){return new ZAt(e,t,i)}const Qs=typeof self=="object"?self:null,uyt=Qs&&(Qs.hasOwnProperty("AudioContext")||Qs.hasOwnProperty("webkitAudioContext"));function dyt(e,t,i){return Fn(br(dT),"AudioWorkletNode only works in a secure context (https or localhost)"),new(e instanceof(Qs==null?void 0:Qs.BaseAudioContext)?Qs==null?void 0:Qs.AudioWorkletNode:dT)(e,t,i)}function eo(e,t,i,n){var a=arguments.length,s=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,i,n);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(s=(a<3?l(s):a>3?l(t,i,s):l(t,i))||s);return a>3&&s&&Object.defineProperty(t,i,s),s}function n9(e,t,i,n){function a(s){return s instanceof i?s:new i(function(l){l(s)})}return new(i||(i=Promise))(function(s,l){function c(h){try{u(n.next(h))}catch(g){l(g)}}function d(h){try{u(n.throw(h))}catch(g){l(g)}}function u(h){h.done?s(h.value):a(h.value).then(c,d)}u((n=n.apply(e,t||[])).next())})}class hyt{constructor(t,i,n,a){this._callback=t,this._type=i,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),i=URL.createObjectURL(t),n=new Worker(i);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var i;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((i=this._worker)===null||i===void 0||i.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function ud(e){return iyt(e)}function Ic(e){return eyt(e)}function hp(e){return nyt(e)}function oh(e){return tyt(e)}function fyt(e){return e instanceof CU}function myt(e,t){return e==="value"||ud(t)||Ic(t)||fyt(t)}function Yu(e,...t){if(!t.length)return e;const i=t.shift();if(Xu(e)&&Xu(i))for(const n in i)myt(n,i[n])?e[n]=i[n]:Xu(i[n])?(e[n]||Object.assign(e,{[n]:{}}),Yu(e[n],i[n])):Object.assign(e,{[n]:i[n]});return Yu(e,...t)}function pyt(e,t){return e.length===t.length&&e.every((i,n)=>t[n]===i)}function Yn(e,t,i=[],n){const a={},s=Array.from(t);if(Xu(s[0])&&n&&!Reflect.has(s[0],n)&&(Object.keys(s[0]).some(c=>Reflect.has(e,c))||(Yu(a,{[n]:s[0]}),i.splice(i.indexOf(n),1),s.shift())),s.length===1&&Xu(s[0]))Yu(a,s[0]);else for(let l=0;l<i.length;l++)br(s[l])&&(a[i[l]]=s[l]);return Yu(e,a)}function gyt(e){return e.constructor.getDefaults()}function Oh(e,t){return y0(e)?t:e}function IA(e,t){return t.forEach(i=>{Reflect.has(e,i)&&delete e[i]}),e}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Gl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Qs&&this.toString()===Qs.TONE_DEBUG_CLASS)&&oyt(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Gl.version=QF;const Vv=1e-6;function uf(e,t){return e>t+Vv}function BA(e,t){return uf(e,t)||k0(e,t)}function g8(e,t){return e+Vv<t}function k0(e,t){return Math.abs(e-t)<Vv}function Myt(e,t,i){return Math.max(Math.min(e,i),t)}class v0 extends Gl{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Yn(v0.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Fn(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const i=this._timeline[this.length-1];Fn(BA(t.time,i.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const i=this._search(t.time);this._timeline.splice(i+1,0,t)}if(this.length>this.memory){const i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(t){const i=this._timeline.indexOf(t);return i!==-1&&this._timeline.splice(i,1),this}get(t,i="time"){const n=this._search(t,i);return n!==-1?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,i="time"){const n=this._search(t,i);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const i=this._timeline.length;if(i>0&&this._timeline[i-1].time<t)return this._timeline[i-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let i=this._search(t);if(i>=0)if(k0(this._timeline[i].time,t)){for(let n=i;n>=0&&k0(this._timeline[n].time,t);n--)i=n;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1&&BA(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const i=this._search(t);return i>=0&&(this._timeline=this._timeline.slice(i+1)),this}previousEvent(t){const i=this._timeline.indexOf(t);return i>0?this._timeline[i-1]:null}_search(t,i="time"){if(this._timeline.length===0)return-1;let n=0;const a=this._timeline.length;let s=a;if(a>0&&this._timeline[a-1][i]<=t)return a-1;for(;n<s;){let l=Math.floor(n+(s-n)/2);const c=this._timeline[l],d=this._timeline[l+1];if(k0(c[i],t)){for(let u=l;u<this._timeline.length;u++){const h=this._timeline[u];if(k0(h[i],t))l=u;else break}return l}else{if(g8(c[i],t)&&uf(d[i],t))return l;uf(c[i],t)?s=l:n=l+1}}return-1}_iterate(t,i=0,n=this._timeline.length-1){this._timeline.slice(i,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,i){const n=this._search(t);return n!==-1&&this._iterate(i,0,n),this}forEachAfter(t,i){const n=this._search(t);return this._iterate(i,n+1),this}forEachBetween(t,i,n){let a=this._search(t),s=this._search(i);return a!==-1&&s!==-1?(this._timeline[a].time!==t&&(a+=1),this._timeline[s].time===i&&(s-=1),this._iterate(n,a,s)):a===-1&&this._iterate(n,0,s),this}forEachFrom(t,i){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(i,n+1),this}forEachAtTime(t,i){const n=this._search(t);if(n!==-1&&k0(this._timeline[n].time,t)){let a=n;for(let s=n;s>=0&&k0(this._timeline[s].time,t);s--)a=s;this._iterate(s=>{i(s)},a,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const $U=[];function D5(e){$U.push(e)}function Ayt(e){$U.forEach(t=>t(e))}const GU=[];function P5(e){GU.push(e)}function yyt(e){GU.forEach(t=>t(e))}class Lm extends Gl{constructor(){super(...arguments),this.name="Emitter"}on(t,i){return t.split(/\W+/).forEach(a=>{y0(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(i)}),this}once(t,i){const n=(...a)=>{i(...a),this.off(t,n)};return this.on(t,n),this}off(t,i){return t.split(/\W+/).forEach(a=>{if(y0(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(y0(i))this._events[a]=[];else{const s=this._events[a];for(let l=s.length-1;l>=0;l--)s[l]===i&&s.splice(l,1)}}),this}emit(t,...i){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let a=0,s=n.length;a<s;a++)n[a].apply(this,i)}return this}static mixin(t){["on","once","off","emit"].forEach(i=>{const n=Object.getOwnPropertyDescriptor(Lm.prototype,i);Object.defineProperty(t.prototype,i,n)})}dispose(){return super.dispose(),this._events=void 0,this}}class VU extends Lm{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class km extends VU{constructor(){var t,i;super(),this.name="Context",this._constants=new Map,this._timeouts=new v0,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const n=Yn(km.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=lyt({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new hyt(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((i=arguments[0])===null||i===void 0)&&i.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(Ayt(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,i,n){return this._context.createBuffer(t,i,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,i){return this._context.createIIRFilter(t,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,i,n){return this._context.createPeriodicWave(t,i,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Fn(oh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Fn(oh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Fn(oh(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Fn(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Fn(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Fn(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Fn(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,i){return dyt(this.rawContext,t,i)}addAudioWorkletModule(t){return n9(this,void 0,void 0,function*(){Fn(br(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return n9(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return oh(this._context)?this._context.resume():Promise.resolve()}close(){return n9(this,void 0,void 0,function*(){oh(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&yyt(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const i=this._context.createBuffer(1,128,this._context.sampleRate),n=i.getChannelData(0);for(let s=0;s<n.length;s++)n[s]=t;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=i,a.loop=!0,a.start(0),this._constants.set(t,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();let i=this._timeouts.peek();for(;this._timeouts.length&&i&&i.time<=t;)i.callback(),this._timeouts.shift(),i=this._timeouts.peek()}setTimeout(t,i){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+i}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(i=>{i.id===t&&this._timeouts.remove(i)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,i){const n=++this._timeoutIds,a=()=>{const s=this.now();this._timeouts.add({callback:()=>{t(),a()},id:n,time:s+i})};return a(),n}}class vyt extends VU{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,i,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,i){return{}}createPanner(){return{}}createPeriodicWave(t,i,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,i){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return n9(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,i){return 0}clearTimeout(t){return this}setInterval(t,i){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function Va(e,t){qs(t)?t.forEach(i=>Va(e,i)):Object.defineProperty(e,t,{enumerable:!0,writable:!1})}function HU(e,t){qs(t)?t.forEach(i=>HU(e,i)):Object.defineProperty(e,t,{writable:!0})}const ea=()=>{};class ba extends Gl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=ea;const t=Yn(ba.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,Pl(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:ea,onload:ea,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:A0().sampleRate}set(t){return t instanceof ba?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return n9(this,void 0,void 0,function*(){const i=ba.load(t).then(n=>{this.set(n),this.onload(this)});ba.downloads.push(i);try{yield i}finally{const n=ba.downloads.indexOf(i);ba.downloads.splice(n,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const i=qs(t)&&t[0].length>0,n=i?t.length:1,a=i?t[0].length:t.length,s=A0(),l=s.createBuffer(n,a,s.sampleRate),c=!i&&n===1?[t]:t;for(let d=0;d<n;d++)l.copyToChannel(c[d],d);return this._buffer=l,this}toMono(t){if($c(t))this.fromArray(this.toArray(t));else{let i=new Float32Array(this.length);const n=this.numberOfChannels;for(let a=0;a<n;a++){const s=this.toArray(a);for(let l=0;l<s.length;l++)i[l]+=s[l]}i=i.map(a=>a/n),this.fromArray(i)}return this}toArray(t){if($c(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const i=[];for(let n=0;n<this.numberOfChannels;n++)i[n]=this.getChannelData(n);return i}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,i=this.duration){Fn(this.loaded,"Buffer is not loaded");const n=Math.floor(t*this.sampleRate),a=Math.floor(i*this.sampleRate);Fn(n<a,"The start time must be less than the end time");const s=a-n,l=A0().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)l.copyToChannel(this.getChannelData(c).subarray(n,a),c);return new ba(l)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new ba().fromArray(t)}static fromUrl(t){return n9(this,void 0,void 0,function*(){return yield new ba().load(t)})}static load(t){return n9(this,void 0,void 0,function*(){const i=t.match(/\[([^\]\[]+\|.+)\]$/);if(i){const d=i[1].split("|");let u=d[0];for(const h of d)if(ba.supportsType(h)){u=h;break}t=t.replace(i[0],u)}const n=ba.baseUrl===""||ba.baseUrl.endsWith("/")?ba.baseUrl:ba.baseUrl+"/",a=document.createElement("a");a.href=n+t,a.pathname=(a.pathname+a.hash).split("/").map(encodeURIComponent).join("/");const s=yield fetch(a.href);if(!s.ok)throw new Error(`could not load url: ${t}`);const l=yield s.arrayBuffer();return yield A0().decodeAudioData(l)})}static supportsType(t){const i=t.split("."),n=i[i.length-1];return document.createElement("audio").canPlayType("audio/"+n)!==""}static loaded(){return n9(this,void 0,void 0,function*(){for(yield Promise.resolve();ba.downloads.length;)yield ba.downloads[0]})}}ba.baseUrl="";ba.downloads=[];class Hv extends km{constructor(){super({clockSource:"offline",context:hp(arguments[0])?arguments[0]:cyt(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:hp(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=hp(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return n9(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,i++;const n=Math.floor(this.sampleRate/128);t&&i%n===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return n9(this,arguments,void 0,function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const i=yield this._context.startRendering();return new ba(i)})}close(){return Promise.resolve()}}const QU=new vyt;let mh=QU;function A0(){return mh===QU&&uyt&&byt(new km),mh}function byt(e,t=!1){t&&mh.dispose(),oh(e)?mh=new km(e):hp(e)?mh=new Hv(e):mh=e}if(Qs&&!Qs.TONE_SILENCE_LOGGING){const t=` * Tone.js v${QF} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function Cyt(e){return Math.pow(10,e/20)}function _yt(e){return 20*(Math.log(e)/Math.LN10)}function zU(e){return Math.pow(2,e/12)}let L5=440;function Eyt(){return L5}function wyt(e){L5=e}function Fu(e){return Math.round(jU(e))}function jU(e){return 69+12*Math.log2(e/L5)}function JU(e){return L5*Math.pow(2,(e-69)/12)}class Qv extends Gl{constructor(t,i,n){super(),this.defaultUnits="s",this._val=i,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,i)=>{const n=parseInt(t,10),a=i==="."?1.5:1;return n===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/n)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const i=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(i)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,i,n)=>{let a=0;return t&&t!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),i&&i!=="0"&&(a+=this._beatsToUnits(parseFloat(i))),n&&n!=="0"&&(a+=this._beatsToUnits(parseFloat(n)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Qv&&this.fromType(this._val),y0(this._val))return this._noArg();if(Pl(this._val)&&y0(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Xu(this._val)){let t=0;for(const i in this._val)if(br(this._val[i])){const n=this._val[i],a=new this.constructor(this.context,i).valueOf()*n;t+=a}return t}if(br(this._units)){const t=this._expressions[this._units],i=this._val.toString().trim().match(t.regexp);return i?t.method.apply(this,i.slice(1)):t.method.call(this,this._val)}else return Pl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class G0 extends Qv{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const i=new G0(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(t,i=1){const n=new this.constructor(this.context,t).valueOf(),a=this.valueOf(),c=Math.round(a/n)*n-a;return a+c*i}toNotation(){const t=this.toSeconds(),i=["1m"];for(let s=1;s<9;s++){const l=Math.pow(2,s);i.push(l+"n."),i.push(l+"n"),i.push(l+"t")}i.push("0");let n=i[0],a=new G0(this.context,i[0]).toSeconds();return i.forEach(s=>{const l=new G0(this.context,s).toSeconds();Math.abs(l-t)<Math.abs(a-t)&&(n=s,a=l)}),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let i=this.valueOf()/t;i=parseFloat(i.toFixed(4));const n=Math.floor(i/this._getTimeSignature());let a=i%1*4;i=Math.floor(i)%this._getTimeSignature();const s=a.toString();return s.length>3&&(a=parseFloat(parseFloat(s).toFixed(3))),[n,i,a].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Fu(this.toFrequency())}_now(){return this.context.now()}}class Js extends G0{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Eyt()}static set A4(t){wyt(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:Js.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,i){const a=Oyt[t.toLowerCase()]+(parseInt(i,10)+1)*12;return this.defaultUnits==="midi"?a:Js.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,i,n){let a=1;return t&&t!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),i&&i!=="0"&&(a*=this._beatsToUnits(parseFloat(i))),n&&n!=="0"&&(a*=this._beatsToUnits(parseFloat(n)/4)),a}}})}transpose(t){return new Js(this.context,this.valueOf()*zU(t))}harmonize(t){return t.map(i=>this.transpose(i))}toMidi(){return Fu(this.valueOf())}toNote(){const t=this.toFrequency(),i=Math.log2(t/Js.A4);let n=Math.round(12*i)+57;const a=Math.floor(n/12);return a<0&&(n+=-12*a),xyt[n%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),i=this.valueOf()/t;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return JU(t)}static ftom(t){return Fu(t)}}const Oyt={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},xyt=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class i2 extends G0{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Os extends Gl{constructor(){super();const t=Yn(Os.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:A0()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return syt(t),new G0(this.context,t).toSeconds()}toFrequency(t){return new Js(this.context,t).toFrequency()}toTicks(t){return new i2(this.context,t).toTicks()}_getPartialProperties(t){const i=this.get();return Object.keys(i).forEach(n=>{y0(t[n])&&delete i[n]}),i}get(){const t=gyt(this);return Object.keys(t).forEach(i=>{if(Reflect.has(this,i)){const n=this[i];br(n)&&br(n.value)&&br(n.setValueAtTime)?t[i]=n.value:n instanceof Os?t[i]=n._getPartialProperties(t[i]):qs(n)||$c(n)||Pl(n)||ayt(n)?t[i]=n:delete t[i]}}),t}set(t){return Object.keys(t).forEach(i=>{Reflect.has(this,i)&&br(this[i])&&(this[i]&&br(this[i].value)&&br(this[i].setValueAtTime)?this[i].value!==t[i]&&(this[i].value=t[i]):this[i]instanceof Os?this[i].set(t[i]):this[i]=t[i])}),this}}class zv extends v0{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const i=this.get(t);return i!==null?i.state:this._initial}setStateAtTime(t,i,n){return Gc(i,0),this.add(Object.assign({},n,{state:t,time:i})),this}getLastState(t,i){const n=this._search(i);for(let a=n;a>=0;a--){const s=this._timeline[a];if(s.state===t)return s}}getNextState(t,i){const n=this._search(i);if(n!==-1)for(let a=n;a<this._timeline.length;a++){const s=this._timeline[a];if(s.state===t)return s}}}class Ra extends Os{constructor(){const t=Yn(Ra.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Fn(br(t.param)&&(ud(t.param)||t.param instanceof Ra),"param must be an AudioParam");!ud(t.param);)t.param=t.param._param;this._swappable=br(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new v0(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,br(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Os.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return br(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return br(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,i){return this.units===i}_assertRange(t){return br(this.maxValue)&&br(this.minValue)&&Gc(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Cyt(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?_yt(t):t}setValueAtTime(t,i){const n=this.toSeconds(i),a=this._fromType(t);return Fn(isFinite(a)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,n),this}getValueAtTime(t){const i=Math.max(this.toSeconds(t),0),n=this._events.getAfter(i),a=this._events.get(i);let s=this._initialValue;if(a===null)s=this._initialValue;else if(a.type==="setTargetAtTime"&&(n===null||n.type==="setValueAtTime")){const l=this._events.getBefore(a.time);let c;l===null?c=this._initialValue:c=l.value,a.type==="setTargetAtTime"&&(s=this._exponentialApproach(a.time,c,a.value,a.constant,i))}else if(n===null)s=a.value;else if(n.type==="linearRampToValueAtTime"||n.type==="exponentialRampToValueAtTime"){let l=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?l=this._initialValue:l=c.value}n.type==="linearRampToValueAtTime"?s=this._linearInterpolate(a.time,l,n.time,n.value,i):s=this._exponentialInterpolate(a.time,l,n.time,n.value,i)}else s=a.value;return this._toType(s)}setRampPoint(t){t=this.toSeconds(t);let i=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(i)===0&&(i=this._toType(this._minOutput)),this.setValueAtTime(i,t),this}linearRampToValueAtTime(t,i){const n=this._fromType(t),a=this.toSeconds(i);return Fn(isFinite(n)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._assertRange(n),this._events.add({time:a,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,a),this._param.linearRampToValueAtTime(n,a),this}exponentialRampToValueAtTime(t,i){let n=this._fromType(t);n=k0(n,0)?this._minOutput:n,this._assertRange(n);const a=this.toSeconds(i);return Fn(isFinite(n)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,a),this._param.exponentialRampToValueAtTime(n,a),this}exponentialRampTo(t,i,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(i)),this}linearRampTo(t,i,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(i)),this}targetRampTo(t,i,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,i),this}exponentialApproachValueAtTime(t,i,n){i=this.toSeconds(i),n=this.toSeconds(n);const a=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,i,a),this.cancelAndHoldAtTime(i+n*.9),this.linearRampToValueAtTime(t,i+n),this}setTargetAtTime(t,i,n){const a=this._fromType(t);Fn(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const s=this.toSeconds(i);return this._assertRange(a),Fn(isFinite(a)&&isFinite(s),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._events.add({constant:n,time:s,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",t,s,n),this._param.setTargetAtTime(a,s,n),this}setValueCurveAtTime(t,i,n,a=1){n=this.toSeconds(n),i=this.toSeconds(i);const s=this._fromType(t[0])*a;this.setValueAtTime(this._toType(s),i);const l=n/(t.length-1);for(let c=1;c<t.length;c++){const d=this._fromType(t[c])*a;this.linearRampToValueAtTime(this._toType(d),i+c*l)}return this}cancelScheduledValues(t){const i=this.toSeconds(t);return Fn(isFinite(i),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,"cancelScheduledValues",i),this}cancelAndHoldAtTime(t){const i=this.toSeconds(t),n=this._fromType(this.getValueAtTime(i));Fn(isFinite(i),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",i,"value="+n);const a=this._events.get(i),s=this._events.getAfter(i);return a&&k0(a.time,i)?s?(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):s&&(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time),s.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(n),i):s.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(n),i)),this._events.add({time:i,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,i),this}rampTo(t,i=.1,n){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,i,n):this.linearRampTo(t,i,n),this}apply(t){const i=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(i),i);const n=this._events.get(i);if(n&&n.type==="setTargetAtTime"){const a=this._events.getAfter(n.time),s=a?a.time:i+2,l=(s-i)/10;for(let c=i;c<s;c+=l)t.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?t.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?t.setTargetAtTime(a.value,a.time,a.constant):t[a.type](a.value,a.time)}),this}setParam(t){Fn(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const i=this.input;return i.disconnect(this._param),this.apply(t),this._param=t,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,i,n,a,s){return n+(i-n)*Math.exp(-(s-t)/a)}_linearInterpolate(t,i,n,a,s){return i+(a-i)*((s-t)/(n-t))}_exponentialInterpolate(t,i,n,a,s){return i*Math.pow(a/i,(s-t)/(n-t))}}class yr extends Os{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return br(this.input)?ud(this.input)||this.input instanceof Ra?1:this.input.numberOfInputs:0}get numberOfOutputs(){return br(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return br(t)&&(t instanceof yr||Ic(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(n=>{n.channelCount=t.channelCount,n.channelCountMode=t.channelCountMode,n.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();Fn(t.length>0,"ToneAudioNode does not have any internal nodes");const i=t[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:t}))}connect(t,i=0,n=0){return If(this,t,i,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return R5("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,i=0,n=0){return Syt(this,t,i,n),this}chain(...t){return RA(this,...t),this}fan(...t){return t.forEach(i=>this.connect(i)),this}dispose(){return super.dispose(),br(this.input)&&(this.input instanceof yr?this.input.dispose():Ic(this.input)&&this.input.disconnect()),br(this.output)&&(this.output instanceof yr?this.output.dispose():Ic(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function RA(...e){const t=e.shift();e.reduce((i,n)=>(i instanceof yr?i.connect(n):Ic(i)&&If(i,n),n),t)}function If(e,t,i=0,n=0){for(Fn(br(e),"Cannot connect from undefined node"),Fn(br(t),"Cannot connect to undefined node"),(t instanceof yr||Ic(t))&&Fn(t.numberOfInputs>0,"Cannot connect to node with no inputs"),Fn(e.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof yr||t instanceof Ra;)br(t.input)&&(t=t.input);for(;e instanceof yr;)br(e.output)&&(e=e.output);ud(t)?e.connect(t,i):e.connect(t,i,n)}function Syt(e,t,i=0,n=0){if(br(t))for(;t instanceof yr;)t=t.input;for(;!Ic(e);)br(e.output)&&(e=e.output);ud(t)?e.disconnect(t,i):Ic(t)?e.disconnect(t,i,n):e.disconnect()}class X9 extends yr{constructor(){const t=Yn(X9.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Ra({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Va(this,"gain")}static getDefaults(){return Object.assign(yr.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class df extends yr{constructor(t){super(t),this.onended=ea,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new X9({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){const n=this.toSeconds(i);return this._startTime!==-1&&n>=this._startTime&&(this._stopTime===-1||n<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(yr.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:ea})}_startGain(t,i=1){Fn(this._startTime===-1,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(i,t+n):this._gainNode.gain.exponentialApproachValueAtTime(i,t,n)):this._gainNode.gain.setValueAtTime(i,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Fn(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+i,this._stopTime=Math.max(this._stopTime,this.now()),i>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,i,t):this._gainNode.gain.targetRampTo(0,i,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const n=this._curve==="exponential"?i*2:0;this._stopSource(this.now()+n),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==ea&&(this.onended(this),this.onended=ea,!this.context.isOffline)){const t=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Fn(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=ea,this}}class jv extends df{constructor(){const t=Yn(jv.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),If(this._source,this._gainNode),this.offset=new Ra({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(df.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const i=this.toSeconds(t);return this.log("start",i),this._startGain(i),this._source.start(i),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class T9 extends yr{constructor(){const t=Yn(T9.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new jv({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(yr.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,i=0,n=0){return Jv(this,t,i,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,i){return this._param.setValueAtTime(t,i),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,i){return this._param.linearRampToValueAtTime(t,i),this}exponentialRampToValueAtTime(t,i){return this._param.exponentialRampToValueAtTime(t,i),this}exponentialRampTo(t,i,n){return this._param.exponentialRampTo(t,i,n),this}linearRampTo(t,i,n){return this._param.linearRampTo(t,i,n),this}targetRampTo(t,i,n){return this._param.targetRampTo(t,i,n),this}exponentialApproachValueAtTime(t,i,n){return this._param.exponentialApproachValueAtTime(t,i,n),this}setTargetAtTime(t,i,n){return this._param.setTargetAtTime(t,i,n),this}setValueCurveAtTime(t,i,n,a){return this._param.setValueCurveAtTime(t,i,n,a),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,i,n){return this._param.rampTo(t,i,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Jv(e,t,i,n){(t instanceof Ra||ud(t)||t instanceof T9&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof T9&&(t.overridden=!0)),If(e,t,i,n)}class Wv extends Ra{constructor(){const t=Yn(Wv.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new v0(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ra.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,i,n){i=this.toSeconds(i),this.setRampPoint(i);const a=this._fromType(t),s=this._events.get(i),l=Math.round(Math.max(1/n,1));for(let c=0;c<=l;c++){const d=n*c+i,u=this._exponentialApproach(s.time,s.value,a,n,d);this.linearRampToValueAtTime(this._toType(u),d)}return this}setValueAtTime(t,i){const n=this.toSeconds(i);super.setValueAtTime(t,i);const a=this._events.get(n),s=this._events.previousEvent(a),l=this._getTicksUntilEvent(s,n);return a.ticks=Math.max(l,0),this}linearRampToValueAtTime(t,i){const n=this.toSeconds(i);super.linearRampToValueAtTime(t,i);const a=this._events.get(n),s=this._events.previousEvent(a),l=this._getTicksUntilEvent(s,n);return a.ticks=Math.max(l,0),this}exponentialRampToValueAtTime(t,i){i=this.toSeconds(i);const n=this._fromType(t),a=this._events.get(i),s=Math.round(Math.max((i-a.time)*10,1)),l=(i-a.time)/s;for(let c=0;c<=s;c++){const d=l*c+a.time,u=this._exponentialInterpolate(a.time,a.value,i,n,d);this.linearRampToValueAtTime(this._toType(u),d)}return this}_getTicksUntilEvent(t,i){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(y0(t.ticks)){const l=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(l,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let a=this._fromType(this.getValueAtTime(i));const s=this._events.get(i);return s&&s.time===i&&s.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-t.time)*(n+a)+t.ticks}getTicksAtTime(t){const i=this.toSeconds(t),n=this._events.get(i);return Math.max(this._getTicksUntilEvent(n,i),0)}getDurationOfTicks(t,i){const n=this.toSeconds(i),a=this.getTicksAtTime(i);return this.getTimeOfTick(a+t)-n}getTimeOfTick(t){const i=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(i&&i.ticks===t)return i.time;if(i&&n&&n.type==="linearRampToValueAtTime"&&i.value!==n.value){const a=this._fromType(this.getValueAtTime(i.time)),l=(this._fromType(this.getValueAtTime(n.time))-a)/(n.time-i.time),c=Math.sqrt(Math.pow(a,2)-2*l*(i.ticks-t)),d=(-a+c)/l,u=(-a-c)/l;return(d>0?d:u)+i.time}else return i?i.value===0?1/0:i.time+(t-i.ticks)/i.value:t/this._initialValue}ticksToTime(t,i){return this.getDurationOfTicks(t,i)}timeToTicks(t,i){const n=this.toSeconds(i),a=this.toSeconds(t),s=this.getTicksAtTime(n);return this.getTicksAtTime(n+a)-s}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const i=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class qv extends T9{constructor(){const t=Yn(qv.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new Wv({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(T9.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,i){return this._param.ticksToTime(t,i)}timeToTicks(t,i){return this._param.timeToTicks(t,i)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,i){return this._param.getDurationOfTicks(t,i)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Kv extends Os{constructor(){const t=Yn(Kv.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new zv,this._tickOffset=new v0,this._ticksAtTime=new v0,this._secondsAtTime=new v0,this.frequency=new qv({context:this.context,units:t.units,value:t.frequency}),Va(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Os.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,i){const n=this.toSeconds(t);return this._state.getValueAtTime(n)!=="started"&&(this._state.setStateAtTime("started",n),br(i)&&this.setTicksAtTime(i,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(t){const i=this.toSeconds(t);if(this._state.getValueAtTime(i)==="stopped"){const n=this._state.get(i);n&&n.time>0&&(this._tickOffset.cancel(n.time),this._state.cancel(n.time))}return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this.setTicksAtTime(0,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}pause(t){const i=this.toSeconds(t);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const i=this.toSeconds(t),n=this._state.getLastState("stopped",i),a=this._ticksAtTime.get(i),s={state:"paused",time:i};this._state.add(s);let l=a||n,c=a?a.ticks:0,d=null;return this._state.forEachBetween(l.time,i+this.sampleTime,u=>{let h=l.time;const g=this._tickOffset.get(u.time);g&&g.time>=l.time&&(c=g.ticks,h=g.time),l.state==="started"&&u.state!=="started"&&(c+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(h),u.time!==s.time&&(d={state:u.state,time:u.time,ticks:c})),l=u}),this._state.remove(s),d&&this._ticksAtTime.add(d),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const i=this.now(),n=this.frequency.timeToTicks(t,i);this.setTicksAtTime(n,i)}getSecondsAtTime(t){t=this.toSeconds(t);const i=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);const a=this._secondsAtTime.get(t);let s=a||i,l=a?a.seconds:0,c=null;return this._state.forEachBetween(s.time,t+this.sampleTime,d=>{let u=s.time;const h=this._tickOffset.get(d.time);h&&h.time>=s.time&&(l=h.seconds,u=h.time),s.state==="started"&&d.state!=="started"&&(l+=d.time-u,d.time!==n.time&&(c={state:d.state,time:d.time,seconds:l})),s=d}),this._state.remove(n),c&&this._secondsAtTime.add(c),l}setTicksAtTime(t,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,i),ticks:t,time:i}),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,i=this.now()){const n=this._tickOffset.get(i),a=this._state.get(i),s=Math.max(n.time,a.time),l=this.frequency.getTicksAtTime(s)+t-n.ticks;return this.frequency.getTimeOfTick(l)}forEachTickBetween(t,i,n){let a=this._state.get(t);this._state.forEachBetween(t,i,l=>{a&&a.state==="started"&&l.state!=="started"&&this.forEachTickBetween(Math.max(a.time,t),l.time-this.sampleTime,n),a=l});let s=null;if(a&&a.state==="started"){const l=Math.max(a.time,t),c=this.frequency.getTicksAtTime(l),d=this.frequency.getTicksAtTime(a.time),u=c-d;let h=Math.ceil(u)-u;h=k0(h,1)?0:h;let g=this.frequency.getTimeOfTick(c+h);for(;g<i;){try{n(g,Math.round(this.getTicksAtTime(g)))}catch(m){s=m;break}g+=this.frequency.getDurationOfTicks(1,g)}}if(s)throw s;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class k5 extends Os{constructor(){const t=Yn(k5.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=ea,this._lastUpdate=0,this._state=new zv("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new Kv({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Va(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Os.getDefaults(),{callback:ea,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,i){NU(this.context);const n=this.toSeconds(t);return this.log("start",n),this._state.getValueAtTime(n)!=="started"&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,i),n<this._lastUpdate&&this.emit("start",n,i)),this}stop(t){const i=this.toSeconds(t);return this.log("stop",i),this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._tickSource.stop(i),i<this._lastUpdate&&this.emit("stop",i),this}pause(t){const i=this.toSeconds(t);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._tickSource.pause(i),i<this._lastUpdate&&this.emit("pause",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,i){return this._tickSource.setTicksAtTime(t,i),this}getTimeOfTick(t,i=this.now()){return this._tickSource.getTimeOfTick(t,i)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,i){const n=this.toSeconds(i),a=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(a+t,n)}_loop(){const t=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log("loop",t,i),t!==i&&(this._state.forEachBetween(t,i,n=>{switch(n.state){case"started":const a=this._tickSource.getTicksAtTime(n.time);this.emit("start",n.time,a);break;case"stopped":n.time!==0&&this.emit("stop",n.time);break;case"paused":this.emit("pause",n.time);break}}),this._tickSource.forEachTickBetween(t,i,(n,a)=>{this.callback(n,a)}))}getStateAtTime(t){const i=this.toSeconds(t);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Lm.mixin(k5);class Bf extends yr{constructor(){const t=Yn(Bf.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new X9({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Va(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(yr.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Xv extends yr{constructor(){const t=Yn(Xv.getDefaults(),arguments);super(t),this.name="Destination",this.input=new Bf({context:this.context}),this.output=new X9({context:this.context}),this.volume=this.input.volume,RA(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(yr.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),RA(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}D5(e=>{e.destination=new Xv({context:e})});P5(e=>{e.destination.dispose()});class Tyt extends yr{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ra({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ra({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ra({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ra({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ra({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ra({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ra({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ra({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ra({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(yr.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}D5(e=>{e.listener=new Tyt({context:e})});P5(e=>{e.listener.dispose()});class Yv extends Gl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Yn(Yv.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(i=>{this._loadingCount++;const n=t.urls[i];this.add(i,n,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:ea,onload:ea,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Fn(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,i])=>i.loaded)}add(t,i,n=ea,a=ea){return Pl(i)?(this.baseUrl&&i.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new ba(this.baseUrl+i,n,a))):this._buffers.set(t.toString(),new ba(i,n,a)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class M8 extends Js{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return Fu(super._frequencyToUnits(t))}_ticksToUnits(t){return Fu(super._ticksToUnits(t))}_beatsToUnits(t){return Fu(super._beatsToUnits(t))}_secondsToUnits(t){return Fu(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return JU(this.toMidi())}transpose(t){return new M8(this.context,this.toMidi()+t)}}class ph extends i2{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Iyt extends Os{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new v0,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,i){return this._events.add({callback:t,time:this.toSeconds(i)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const i=this._events.shift();i&&t-i.time<=this.expiration&&i.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}D5(e=>{e.draw=new Iyt({context:e})});P5(e=>{e.draw.dispose()});class Byt extends Gl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Fn(br(t.time),"Events must have a time property"),Fn(br(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let i=new Ryt(t.time,t.time+t.duration,t);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(t){if(this._root!==null){const i=[];this._root.search(t.time,i);for(const n of i)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,i=>this.remove(i)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,i){t.parent!==null?(t.isLeftChild()?t.parent.left=i:t.parent.right=i,this._rebalance(t.parent)):this._setRoot(i)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const i=t.getBalance();let n,a=null;if(i>0)if(t.left.right===null)n=t.left,n.right=t.right,a=n;else{for(n=t.left.right;n.right!==null;)n=n.right;n.parent&&(n.parent.right=n.left,a=n.parent,n.left=t.left,n.right=t.right)}else if(t.right.left===null)n=t.right,n.left=t.left,a=n;else{for(n=t.right.left;n.left!==null;)n=n.left;n.parent&&(n.parent.left=n.right,a=n.parent,n.left=t.left,n.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=n:t.parent.right=n:this._setRoot(n),a&&this._rebalance(a)}t.dispose()}_rotateLeft(t){const i=t.parent,n=t.isLeftChild(),a=t.right;a&&(t.right=a.left,a.left=t),i!==null?n?i.left=a:i.right=a:this._setRoot(a)}_rotateRight(t){const i=t.parent,n=t.isLeftChild(),a=t.left;a&&(t.left=a.right,a.right=t),i!==null?n?i.left=a:i.right=a:this._setRoot(a)}_rebalance(t){const i=t.getBalance();i>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):i<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const i=[];if(this._root.search(t,i),i.length>0){let n=i[0];for(let a=1;a<i.length;a++)i[a].low>n.low&&(n=i[a]);return n.event}}return null}forEach(t){if(this._root!==null){const i=[];this._root.traverse(n=>i.push(n)),i.forEach(n=>{n.event&&t(n.event)})}return this}forEachAtTime(t,i){if(this._root!==null){const n=[];this._root.search(t,n),n.forEach(a=>{a.event&&i(a.event)})}return this}forEachFrom(t,i){if(this._root!==null){const n=[];this._root.searchAfter(t,n),n.forEach(a=>{a.event&&i(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class Ryt{constructor(t,i,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=i,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,i){t>this.max||(this.left!==null&&this.left.search(t,i),this.low<=t&&this.high>t&&i.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,i))}searchAfter(t,i){this.low>=t&&(i.push(this),this.left!==null&&this.left.searchAfter(t,i)),this.right!==null&&this.right.searchAfter(t,i)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Dyt extends Gl{constructor(t){super(),this.name="TimelineValue",this._timeline=new v0({memory:10}),this._initialValue=t}set(t,i){return this._timeline.add({value:t,time:i}),this}get(t){const i=this._timeline.get(t);return i?i.value:this._initialValue}}class hf extends yr{constructor(){super(Yn(hf.getDefaults(),arguments,["context"]))}connect(t,i=0,n=0){return Jv(this,t,i,n),this}}class Nm extends hf{constructor(){const t=Yn(Nm.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,qs(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):ryt(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(T9.getDefaults(),{length:1024})}setMap(t,i=1024){const n=new Float32Array(i);for(let a=0,s=i;a<s;a++){const l=a/(s-1)*2-1;n[a]=t(l,a)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const i=["none","2x","4x"].some(n=>n.includes(t));Fn(i,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Zv extends hf{constructor(){const t=Yn(Zv.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new Nm({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(hf.getDefaults(),{value:1})}_expFunc(t){return i=>Math.pow(Math.abs(i),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Vc{constructor(t,i){this.id=Vc._eventId++,this._remainderTime=0;const n=Object.assign(Vc.getDefaults(),i);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:ea,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const i=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*i),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Vc._eventId=0;class tb extends Vc{constructor(t,i){super(t,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(tb.getDefaults(),i);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Vc.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return g8(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new ph(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){g8(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ph(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const i=this.transport.getTicksAtTime(t);uf(i,this.time)&&(this._nextTick=this.floatTime+Math.ceil((i-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class N5 extends Os{constructor(){const t=Yn(N5.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new Dyt(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new v0,this._repeatedEvents=new Byt,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new k5({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Va(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Os.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,i){if(this._loop.get(t)&&i>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),i=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&i%this._ppq!==0&&i%(this._swingTicks*2)!==0){const n=i%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(n*Math.PI)*this._swingAmount;t+=new ph(this.context,this._swingTicks*2/3).toSeconds()*a}fT(!0),this._timeline.forEachAtTime(i,n=>n.invoke(t)),fT(!1)}schedule(t,i){const n=new Vc(this,{callback:t,time:new i2(this.context,i).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,i,n,a=1/0){const s=new tb(this,{callback:t,duration:new G0(this.context,a).toTicks(),interval:new G0(this.context,i).toTicks(),time:new i2(this.context,n).toTicks()});return this._addEvent(s,this._repeatedEvents)}scheduleOnce(t,i){const n=new Vc(this,{callback:t,once:!0,time:new i2(this.context,i).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const i=this._scheduledEvents[t.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,i){return this._scheduledEvents[t.id.toString()]={event:t,timeline:i},i.add(t),t.id}cancel(t=0){const i=this.toTicks(t);return this._timeline.forEachFrom(i,n=>this.clear(n.id)),this._repeatedEvents.forEachFrom(i,n=>this.clear(n.id)),this}_bindClockEvents(){this._clock.on("start",(t,i)=>{i=new ph(this.context,i).toSeconds(),this.emit("start",t,i)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,i){this.context.resume();let n;return br(i)&&(n=this.toTicks(i)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){qs(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new G0(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new G0(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,i){return this.loopStart=t,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new ph(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),i=this._clock.getTicksAtTime(t);return new ph(this.context,i).toBarsBeatsSixteenths()}set position(t){const i=this.toTicks(t);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(t){const i=this.now(),n=this._clock.frequency.timeToTicks(t,i);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const i=this.now();if(this.state==="started"){const n=this._clock.getTicksAtTime(i),a=this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,i),s=i+a;this.emit("stop",s),this._clock.setTicksAtTime(t,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",i),this._clock.setTicksAtTime(t,i)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const i=this.now(),n=this.getTicksAtTime(i),a=t-n%t;return this._clock.nextTickTime(a,i)}}syncSignal(t,i){const n=this.now();let a=this.bpm,s=1/(60/a.getValueAtTime(n)/this.PPQ),l=[];if(t.units==="time"){const d=.015625/s,u=new X9(d),h=new Zv(-1),g=new X9(d);a.chain(u,h,g),a=g,s=1/s,l=[u,h,g]}i||(t.getValueAtTime(n)!==0?i=t.getValueAtTime(n)/s:i=0);const c=new X9(i);return a.connect(c),c.connect(t._param),l.push(c),this._syncedSignals.push({initial:t.value,nodes:l,signal:t}),t.value=0,this}unsyncSignal(t){for(let i=this._syncedSignals.length-1;i>=0;i--){const n=this._syncedSignals[i];n.signal===t&&(n.nodes.forEach(a=>a.dispose()),n.signal.value=n.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),HU(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Lm.mixin(N5);D5(e=>{e.transport=new N5({context:e})});P5(e=>{e.transport.dispose()});class Zs extends yr{constructor(t){super(t),this.input=void 0,this._state=new zv("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=ea,this._syncedStop=ea,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Bf({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Va(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(yr.getDefaults(),{mute:!1,onstop:ea,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,i,n){let a=y0(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")Fn(uf(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,i,n);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const s=this._state.get(a);s&&(s.offset=this.toSeconds(Oh(i,0)),s.duration=n?this.toSeconds(n):void 0);const l=this.context.transport.schedule(c=>{this._start(c,i,n)},a);this._scheduled.push(l),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else NU(this.context),this._start(a,i,n);return this}stop(t){let i=y0(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)==="started"||br(this._state.getNextState("started",i))){if(this.log("stop",i),!this._synced)this._stop(i);else{const n=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(n)}this._state.cancel(i),this._state.setStateAtTime("stopped",i)}return this}restart(t,i,n){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,i,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,i)=>{if(uf(i,0)){const n=this._state.get(i);if(n&&n.state==="started"&&n.time!==i){const a=i-this.toSeconds(n.time);let s;n.duration&&(s=this.toSeconds(n.duration)-a),this._start(t,this.toSeconds(n.offset)+a,s)}}},this._syncedStop=t=>{const i=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(i)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=ea,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class F5 extends df{constructor(){const t=Yn(F5.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,If(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ra({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new ba(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(df.getDefaults(),{url:new ba,loop:!1,loopEnd:0,loopStart:0,onload:ea,onerror:ea,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,i,n,a=1){Fn(this.buffer.loaded,"buffer is either not set or not loaded");const s=this.toSeconds(t);this._startGain(s,a),this.loop?i=Oh(i,this.loopStart):i=Oh(i,0);let l=Math.max(this.toSeconds(i),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),u=c-d;BA(l,c)&&(l=(l-d)%u+d),k0(l,this.buffer.duration)&&(l=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,g8(l,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(s,l)),br(n)){let c=this.toSeconds(n);c=Math.max(c,0),this.stop(s+c)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function vd(e,t){return n9(this,void 0,void 0,function*(){const i=t/e.context.sampleRate,n=new Hv(1,i,e.context.sampleRate);return new e.constructor(Object.assign(e.get(),{frequency:2/i,detune:0,context:n})).toDestination().start(0),(yield n.render()).getChannelData(0)})}class eb extends df{constructor(){const t=Yn(eb.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],If(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ra({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Ra({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Va(this,["frequency","detune"])}static getDefaults(){return Object.assign(df.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const i=this.toSeconds(t);return this.log("start",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class i9 extends Zs{constructor(){const t=Yn(i9.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new T9({context:this.context,units:"frequency",value:t.frequency}),Va(this,"frequency"),this.detune=new T9({context:this.context,units:"cents",value:t.detune}),Va(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Zs.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const i=this.toSeconds(t),n=new eb({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(t){const i=this.toSeconds(t);this._oscillator&&this._oscillator.stop(i)}_restart(t){const i=this.toSeconds(t);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return i9._periodicWaveCache.find(i=>i.phase===this._phase&&pyt(i.partials,this._partials));{const t=i9._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const i=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&i)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const n=this._getCachedPeriodicWave();if(br(n)){const{partials:a,wave:s}=n;this._wave=s,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,s]=this._getRealImaginary(t,this._phase),l=this.context.createPeriodicWave(a,s);this._wave=l,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),i9._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),i9._periodicWaveCache.length>100&&i9._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Gc(t,0);let i=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(i=n[1]),this._type!=="custom")t===0?this.type=i:this.type=i+t.toString();else{const a=new Float32Array(t);this._partials.forEach((s,l)=>a[l]=s),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(t,i){let a=2048;const s=new Float32Array(a),l=new Float32Array(a);let c=1;if(t==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[s,l]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);d?(c=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),t=d[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let d=1;d<a;++d){const u=2/(d*Math.PI);let h;switch(t){case"sine":h=d<=c?1:0,this._partials[d-1]=h;break;case"square":h=d&1?2*u:0,this._partials[d-1]=h;break;case"sawtooth":h=u*(d&1?1:-1),this._partials[d-1]=h;break;case"triangle":d&1?h=2*(u*u)*(d-1>>1&1?-1:1):h=0,this._partials[d-1]=h;break;case"custom":h=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}h!==0?(s[d]=-h*Math.sin(i*d),l[d]=h*Math.cos(i*d)):(s[d]=0,l[d]=0)}return[s,l]}_inverseFFT(t,i,n){let a=0;const s=t.length;for(let l=0;l<s;l++)a+=t[l]*Math.cos(l*n)+i[l]*Math.sin(l*n);return a}getInitialValue(){const[t,i]=this._getRealImaginary(this._type,0);let n=0;const a=Math.PI*2,s=32;for(let l=0;l<s;l++)n=Math.max(this._inverseFFT(t,i,l/s*a),n);return Myt(-this._inverseFFT(t,i,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return n9(this,arguments,void 0,function*(t=1024){return vd(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}i9._periodicWaveCache=[];class Pyt extends hf{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Nm({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class ff extends T9{constructor(){const t=Yn(ff.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new X9({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(T9.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class U5 extends Zs{constructor(){const t=Yn(U5.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new Pyt({context:this.context}),this._modulationNode=new X9({context:this.context}),this._carrier=new i9({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new i9({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new ff({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Va(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(i9.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return n9(this,arguments,void 0,function*(t=1024){return vd(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class $5 extends Zs{constructor(){const t=Yn($5.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new X9({context:this.context,gain:0}),this._carrier=new i9({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new T9({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new i9({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new ff({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new ff({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Va(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(i9.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return n9(this,arguments,void 0,function*(t=1024){return vd(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Fm extends Zs{constructor(){const t=Yn(Fm.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new X9({context:this.context,gain:0}),this._thresh=new Nm({context:this.context,mapping:i=>i<=0?-1:1}),this.width=new T9({context:this.context,units:"audioRange",value:t.width}),this._triangle=new i9({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Va(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Zs.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return n9(this,arguments,void 0,function*(t=1024){return vd(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class G5 extends Zs{constructor(){const t=Yn(G5.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new T9({context:this.context,units:"frequency",value:t.frequency}),this.detune=new T9({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Va(this,["frequency","detune"])}static getDefaults(){return Object.assign(i9.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(i=>i.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(i=>i.stop(t))}_restart(t){this._forEach(i=>i.restart(t))}_forEach(t){for(let i=0;i<this._oscillators.length;i++)t(this._oscillators[i],i)}get type(){return this._type}set type(t){this._type=t,this._forEach(i=>i.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const i=-t/2,n=t/(this._oscillators.length-1);this._forEach((a,s)=>a.detune.value=i+n*s)}}get count(){return this._oscillators.length}set count(t){if(Gc(t,1),this._oscillators.length!==t){this._forEach(i=>i.dispose()),this._oscillators=[];for(let i=0;i<t;i++){const n=new i9({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+i/t*360,partialCount:this._partialCount,onstop:i===0?()=>this.onstop(this):ea});this.type==="custom"&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[i]=n}this.spread=this._spread,this.state==="started"&&this._forEach(i=>i.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((i,n)=>i.phase=this._phase+n/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(i=>i.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(i=>i.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(i=>i.partialCount=t),this._type=this._oscillators[0].type}asArray(){return n9(this,arguments,void 0,function*(t=1024){return vd(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class V5 extends Zs{constructor(){const t=Yn(V5.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new ff({context:this.context,value:2}),this._pulse=new Fm({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new i9({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Va(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Zs.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return n9(this,arguments,void 0,function*(t=1024){return vd(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const mT={am:U5,fat:G5,fm:$5,oscillator:i9,pulse:Fm,pwm:V5};class A8 extends Zs{constructor(){const t=Yn(A8.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new T9({context:this.context,units:"frequency",value:t.frequency}),this.detune=new T9({context:this.context,units:"cents",value:t.detune}),Va(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(i9.getDefaults(),$5.getDefaults(),U5.getDefaults(),G5.getDefaults(),Fm.getDefaults(),V5.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(i=>this._sourceType===i)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const i=mT[t],n=this.now();if(this._oscillator){const a=this._oscillator;a.stop(n),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let i="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(i=this._oscillator.type),t==="fm"?this.type="fm"+i:t==="am"?this.type="am"+i:t==="fat"?this.type="fat"+i:t==="oscillator"?this.type=i:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,i){return t instanceof mT[i]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&$c(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&$c(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Pl(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return n9(this,arguments,void 0,function*(t=1024){return vd(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function WU(e,t=1/0){const i=new WeakMap;return function(n,a){Reflect.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(s){Gc(s,e,t),i.set(this,s)}})}}function Vl(e,t=1/0){const i=new WeakMap;return function(n,a){Reflect.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(s){Gc(this.toSeconds(s),e,t),i.set(this,s)}})}}class H5 extends Zs{constructor(){const t=Yn(H5.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new ba({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Zs.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:ea,onerror:ea,playbackRate:1,reverse:!1})}load(t){return n9(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=ea){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,i,n){return super.start(t,i,n),this}_start(t,i,n){this._loop?i=Oh(i,this._loopStart):i=Oh(i,0);const a=this.toSeconds(i),s=n;n=Oh(n,Math.max(this._buffer.duration-a,0));let l=this.toSeconds(n);l=l/this._playbackRate,t=this.toSeconds(t);const c=new F5({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+l),this._state.setStateAtTime("stopped",t+l,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&y0(s)?c.start(t,a):c.start(t,a,l-this.toSeconds(this.fadeOut))}_stop(t){const i=this.toSeconds(t);this._activeSources.forEach(n=>n.stop(i))}restart(t,i,n){return super.restart(t,i,n),this}_restart(t,i,n){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(t),this._start(t,i,n)}seek(t,i){const n=this.toSeconds(i);if(this._state.getValueAtTime(n)==="started"){const a=this.toSeconds(t);this._stop(n),this._start(n,a)}return this}setLoopPoints(t,i){return this.loopStart=t,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Gc(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Gc(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(i=>{i.loop=t}),t)){const i=this._state.getNextState("stopped",this.now());i&&this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const i=this.now(),n=this._state.getNextState("stopped",i);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(t,i)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}eo([Vl(0)],H5.prototype,"fadeIn",void 0);eo([Vl(0)],H5.prototype,"fadeOut",void 0);class tu extends yr{constructor(){const t=Yn(tu.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new T9({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(yr.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,i){if(Pl(t))return t;{let n;for(n in K4)if(K4[n][i]===t)return n;return t}}_setCurve(t,i,n){if(Pl(n)&&Reflect.has(K4,n)){const a=K4[n];Xu(a)?t!=="_decayCurve"&&(this[t]=a[i]):this[t]=a}else if(qs(n)&&t!=="_decayCurve")this[t]=n;else throw new Error("Envelope: invalid curve: "+n)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,i=1){this.log("triggerAttack",t,i),t=this.toSeconds(t);let a=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),l=this.getValueAtTime(t);if(l>0){const c=1/a;a=(1-l)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(i,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(i,a,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(i,a,t);else{this._sig.cancelAndHoldAtTime(t);let c=this._attackCurve;for(let d=1;d<c.length;d++)if(c[d-1]<=l&&l<=c[d]){c=this._attackCurve.slice(d),c[0]=l;break}this._sig.setValueCurveAtTime(c,t,a,i)}if(s&&this.sustain<1){const c=i*this.sustain,d=t+a;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,s+d):this._sig.exponentialApproachValueAtTime(c,d,s)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const i=this.getValueAtTime(t);if(i>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,n,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,n,t):(Fn(qs(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,i))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,i,n=1){return i=this.toSeconds(i),this.triggerAttack(i,n),this.triggerRelease(i+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,i=0,n=0){return Jv(this,t,i,n),this}asArray(){return n9(this,arguments,void 0,function*(t=1024){const i=t/this.context.sampleRate,n=new Hv(1,i,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),s=a+this.toSeconds(this.release),l=s*.1,c=s+l,d=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/c,decay:i*this.toSeconds(this.decay)/c,release:i*this.toSeconds(this.release)/c,context:n}));return d._sig.toDestination(),d.triggerAttackRelease(i*(a+l)/c,0),(yield n.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}eo([Vl(0)],tu.prototype,"attack",void 0);eo([Vl(0)],tu.prototype,"decay",void 0);eo([WU(0,1)],tu.prototype,"sustain",void 0);eo([Vl(0)],tu.prototype,"release",void 0);const K4=(()=>{let t,i;const n=[];for(t=0;t<128;t++)n[t]=Math.sin(t/127*(Math.PI/2));const a=[],s=6.4;for(t=0;t<127;t++){i=t/127;const m=Math.sin(i*(Math.PI*2)*s-Math.PI/2)+1;a[t]=m/10+i*.83}a[127]=1;const l=[],c=5;for(t=0;t<128;t++)l[t]=Math.ceil(t/127*c)/c;const d=[];for(t=0;t<128;t++)i=t/127,d[t]=.5*(1-Math.cos(Math.PI*i));const u=[];for(t=0;t<128;t++){i=t/127;const m=Math.pow(i,3)*4+.2,M=Math.cos(m*Math.PI*2*i);u[t]=Math.abs(M*(1-i))}function h(m){const M=new Array(m.length);for(let p=0;p<m.length;p++)M[p]=1-m[p];return M}function g(m){return m.slice(0).reverse()}return{bounce:{In:h(u),Out:u},cosine:{In:n,Out:g(n)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:h(a)},sine:{In:d,Out:h(d)},step:{In:l,Out:h(l)}}})();class Hc extends yr{constructor(){const t=Yn(Hc.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=i=>this._original_triggerRelease(i),this._volume=this.output=new Bf({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Va(this,"volume")}static getDefaults(){return Object.assign(yr.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,i){const n=this["_original_"+t]=this[t];this[t]=(...a)=>{const s=a[i],l=this.context.transport.schedule(c=>{a[i]=c,n.apply(this,a)},s);this._scheduledEvents.push(l)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,i,n,a){const s=this.toSeconds(n),l=this.toSeconds(i);return this.triggerAttack(t,s,a),this.triggerRelease(s+l),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class dd extends Hc{constructor(){const t=Yn(dd.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Hc.getDefaults(),{detune:0,onsilence:ea,portamento:0})}triggerAttack(t,i,n=1){this.log("triggerAttack",t,i,n);const a=this.toSeconds(i);return this._triggerEnvelopeAttack(a,n),this.setNote(t,a),this}triggerRelease(t){this.log("triggerRelease",t);const i=this.toSeconds(t);return this._triggerEnvelopeRelease(i),this}setNote(t,i){const n=this.toSeconds(i),a=t instanceof Js?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const s=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,s,n)}else this.frequency.setValueAtTime(a,n);return this}}eo([Vl(0)],dd.prototype,"portamento",void 0);class ib extends tu{constructor(){super(Yn(ib.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new X9({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class D2 extends dd{constructor(){const t=Yn(D2.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new A8(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ib(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Va(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(dd.getDefaults(),{envelope:Object.assign(IA(tu.getDefaults(),Object.keys(yr.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(IA(A8.getDefaults(),[...Object.keys(Zs.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,i){if(this.envelope.triggerAttack(t,i),this.oscillator.start(t),this.envelope.sustain===0){const n=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+n+a)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Q5 extends D2{constructor(){const t=Yn(Q5.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Va(this,["oscillator","envelope"])}static getDefaults(){return Yu(dd.getDefaults(),D2.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,i){const n=this.toSeconds(i),a=this.toFrequency(t instanceof Js?t.toFrequency():t),s=a*this.octaves;return this.oscillator.frequency.setValueAtTime(s,n),this.oscillator.frequency.exponentialRampToValueAtTime(a,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}eo([WU(0)],Q5.prototype,"octaves",void 0);eo([Vl(0)],Q5.prototype,"pitchDecay",void 0);const qU=new Set;function nb(e){qU.add(e)}function KU(e,t){const i=`registerProcessor("${e}", ${t})`;qU.add(i)}const Lyt=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;nb(Lyt);const kyt=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;nb(kyt);const Nyt=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;nb(Nyt);const Fyt="feedback-comb-filter",Uyt=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;KU(Fyt,Uyt);class rb extends Hc{constructor(){const t=Yn(rb.getDefaults(),arguments,["voice","options"]);super(t),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),Fn(!$c(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const i=t.voice.getDefaults();this.options=Object.assign(i,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Hc.getDefaults(),{maxPolyphony:32,options:{},voice:D2})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const i=this._activeVoices.findIndex(n=>n.voice===t);this._activeVoices.splice(i,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return Fn(t instanceof dd,"Voice must extend Monophonic class"),t.connect(this.output),this._voices.push(t),t}else R5("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),i=this._voices.indexOf(t);this._voices.splice(i,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,i,n){t.forEach(a=>{const s=new M8(this.context,a).toMidi(),l=this._getNextAvailableVoice();l&&(l.triggerAttack(a,i,n),this._activeVoices.push({midi:s,voice:l,released:!1}),this.log("triggerAttack",a,i))})}_triggerRelease(t,i){t.forEach(n=>{const a=new M8(this.context,n).toMidi(),s=this._activeVoices.find(({midi:l,released:c})=>l===a&&!c);s&&(s.voice.triggerRelease(i),s.released=!0,this.log("triggerRelease",n,i))})}_scheduleEvent(t,i,n,a){Fn(!this.disposed,"Synth was already disposed"),n<=this.now()?t==="attack"?this._triggerAttack(i,n,a):this._triggerRelease(i,n):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(t,i,n,a)},n-this.now())}triggerAttack(t,i,n){Array.isArray(t)||(t=[t]);const a=this.toSeconds(i);return this._scheduleEvent("attack",t,a,n),this}triggerRelease(t,i){Array.isArray(t)||(t=[t]);const n=this.toSeconds(i);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,i,n,a){const s=this.toSeconds(n);if(this.triggerAttack(t,s,a),qs(i)){Fn(qs(t),"If the duration is an array, the notes must also be an array"),t=t;for(let l=0;l<t.length;l++){const c=i[Math.min(l,i.length-1)],d=this.toSeconds(c);Fn(d>0,"The duration must be greater than 0"),this.triggerRelease(t[l],s+d)}}else{const l=this.toSeconds(i);Fn(l>0,"The duration must be greater than 0"),this.triggerRelease(t,s+l)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(t){const i=IA(t,["onsilence","context"]);return this.options=Yu(this.options,i),this._voices.forEach(n=>n.set(i)),this._dummyVoice.set(i),this}get(){return this._dummyVoice.get()}releaseAll(t){const i=this.toSeconds(t);return this._activeVoices.forEach(({voice:n})=>{n.triggerRelease(i)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class z5 extends Hc{constructor(){const t=Yn(z5.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const i={};Object.keys(t.urls).forEach(n=>{const a=parseInt(n,10);if(Fn(q4(n)||$c(a)&&isFinite(a),`url key is neither a note or midi pitch: ${n}`),q4(n)){const s=new Js(this.context,n).toMidi();i[s]=t.urls[n]}else $c(a)&&isFinite(a)&&(i[a]=t.urls[a])}),this._buffers=new Yv({urls:i,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Hc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:ea,onerror:ea,release:.1,urls:{}})}_findClosest(t){let n=0;for(;n<96;){if(this._buffers.has(t+n))return-n;if(this._buffers.has(t-n))return n;n++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,i,n=1){return this.log("triggerAttack",t,i,n),Array.isArray(t)||(t=[t]),t.forEach(a=>{const s=jU(new Js(this.context,a).toFrequency()),l=Math.round(s),c=s-l,d=this._findClosest(l),u=l-d,h=this._buffers.get(u),g=zU(d+c),m=new F5({url:h,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:g}).connect(this.output);m.start(i,0,h.duration/g,n),qs(this._activeSources.get(l))||this._activeSources.set(l,[]),this._activeSources.get(l).push(m),m.onended=()=>{if(this._activeSources&&this._activeSources.has(l)){const M=this._activeSources.get(l),p=M.indexOf(m);p!==-1&&M.splice(p,1)}}}),this}triggerRelease(t,i){return this.log("triggerRelease",t,i),Array.isArray(t)||(t=[t]),t.forEach(n=>{const a=new Js(this.context,n).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const s=this._activeSources.get(a);i=this.toSeconds(i),s.forEach(l=>{l.stop(i)}),this._activeSources.set(a,[])}}),this}releaseAll(t){const i=this.toSeconds(t);return this._activeSources.forEach(n=>{for(;n.length;)n.shift().stop(i)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,i,n,a=1){const s=this.toSeconds(n);return this.triggerAttack(t,s,a),qs(i)?(Fn(qs(t),"notes must be an array when duration is array"),t.forEach((l,c)=>{const d=i[Math.min(c,i.length-1)];this.triggerRelease(l,s+this.toSeconds(d))})):this.triggerRelease(t,s+this.toSeconds(i)),this}add(t,i,n){if(Fn(q4(t)||isFinite(t),`note must be a pitch or midi: ${t}`),q4(t)){const a=new Js(this.context,t).toMidi();this._buffers.add(a,i,n)}else this._buffers.add(t,i,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(i=>i.dispose())}),this._activeSources.clear(),this}}eo([Vl(0)],z5.prototype,"attack",void 0);eo([Vl(0)],z5.prototype,"release",void 0);class ab extends yr{constructor(){const t=Yn(ab.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Ra({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Va(this,"pan")}static getDefaults(){return Object.assign(yr.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const $yt="bit-crusher",Gyt=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;KU($yt,Gyt);class e9 extends yr{constructor(){const t=Yn(e9.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new X9({context:this.context}),e9._allSolos.has(this.context)||e9._allSolos.set(this.context,new Set),e9._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(yr.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),e9._allSolos.get(this.context).forEach(i=>i._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){e9._soloed.has(this.context)||e9._soloed.set(this.context,new Set),e9._soloed.get(this.context).add(this)}_removeSolo(){e9._soloed.has(this.context)&&e9._soloed.get(this.context).delete(this)}_isSoloed(){return e9._soloed.has(this.context)&&e9._soloed.get(this.context).has(this)}_noSolos(){return!e9._soloed.has(this.context)||e9._soloed.has(this.context)&&e9._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),e9._allSolos.get(this.context).delete(this),this._removeSolo(),this}}e9._allSolos=new Map;e9._soloed=new Map;class sb extends yr{constructor(){const t=Yn(sb.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new ab({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Bf({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Va(this,["pan","volume"])}static getDefaults(){return Object.assign(yr.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class gh extends yr{constructor(){const t=Yn(gh.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new e9({solo:t.solo,context:this.context}),this._panVol=this.output=new sb({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Va(this,["pan","volume"])}static getDefaults(){return Object.assign(yr.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return gh.buses.has(t)||gh.buses.set(t,new X9({context:this.context})),gh.buses.get(t)}send(t,i=0){const n=this._getBus(t),a=new X9({context:this.context,units:"decibels",gain:i});return this.connect(a),a.connect(n),a}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}gh.buses=new Map;function pT(){return A0().now()}A0().transport;A0().destination;A0().destination;A0().listener;A0().draw;A0();function gT(e,t,i){const n=e.slice();return n[38]=t[i],n[40]=i,n}function Vyt(e,t,i){const n=e.slice();return n[41]=t[i],n}function MT(e,t,i){const n=e.slice();return n[44]=t[i],n}function Hyt(e,t,i){const n=e.slice();return n[47]=t[i],n}function Qyt(e){let t;return{c(){t=K("option"),t.textContent=`${e[47]}`,t.__value=e[47],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function zyt(e){let t,i=Ge(F9),n=[];for(let a=0;a<i.length;a+=1)n[a]=Qyt(Hyt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function AT(e){let t,i=e[44].label+"",n;return{c(){t=K("option"),n=se(i),t.__value=e[44].label,Vi(t,t.__value)},m(a,s){_t(a,t,s),R(t,n)},p:Fe,d(a){a&&Ct(t)}}}function jyt(e){let t,i=Ge(e[13]),n=[];for(let a=0;a<i.length;a+=1)n[a]=AT(MT(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p(a,s){if(s[0]&8192){i=Ge(a[13]);let l;for(l=0;l<i.length;l+=1){const c=MT(a,i,l);n[l]?n[l].p(c,s):(n[l]=AT(c),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=i.length}},d(a){a&&Ct(t),Oi(n,a)}}}function Jyt(e){let t;return{c(){t=K("option"),t.textContent=`${e[41]}`,t.__value=e[41],Vi(t,t.__value)},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Wyt(e){let t,i=Ge(["major","minor"]),n=[];for(let a=0;a<2;a+=1)n[a]=Jyt(Vyt(e,i,a));return{c(){for(let a=0;a<2;a+=1)n[a].c();t=kr()},m(a,s){for(let l=0;l<2;l+=1)n[l]&&n[l].m(a,s);_t(a,t,s)},p:Fe,d(a){a&&Ct(t),Oi(n,a)}}}function yT(e){let t,i=e[38]+"",n,a,s,l,c=[...e[11].chordNotes[e[40]]].join(", ")+"",d;return{c(){t=K("div"),n=se(i),a=se(":"),s=K("br"),l=Y(),d=se(c),un(t,"background",v8),ut(t,"class","svelte-15jh2l9")},m(u,h){_t(u,t,h),R(t,n),R(t,a),R(t,s),R(t,l),R(t,d)},p(u,h){h[0]&2048&&i!==(i=u[38]+"")&&Ue(n,i),h[0]&2048&&c!==(c=[...u[11].chordNotes[u[40]]].join(", ")+"")&&Ue(d,c)},d(u){u&&Ct(t)}}}function qyt(e){let t,i,n;return{c(){t=K("p"),t.textContent="1) Improvise something only using the notes of the pentatonic scale.",i=Y(),n=K("p"),n.textContent="2) Improvise something only using the notes of the current chord."},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function Kyt(e){let t,i,n=e[0].title+"",a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et=[...e[12]].join(", ")+"",mt,ot,pt,wt,Mt,xt,dt=[...u0(F9,e[12])].join(", ")+"",Ot,At,jt,bt,kt,Dt,Xt,ae,Jt,le,Ve,ai,Ye,ci,ei,Ze,be,ve,re,Et,vt,Ht,St,It,zt,ht,X,tt,Tt;function Qt(si){e[22](si)}let Zt={label:"root note",callback:e[16],$$slots:{default:[zyt]},$$scope:{ctx:e}};e[2]!==void 0&&(Zt.value=e[2]),u=new qr({props:Zt}),me.push(()=>Te(u,"value",Qt));function ce(si){e[23](si)}let ye={label:"progression",callback:e[16],style:"background-color: "+v8+";",$$slots:{default:[jyt]},$$scope:{ctx:e}};e[1]!==void 0&&(ye.value=e[1]),m=new qr({props:ye}),me.push(()=>Te(m,"value",ce));function $e(si){e[24](si)}let ge={label:"scale type",callback:e[16],style:"background-color: "+y8+";",$$slots:{default:[Wyt]},$$scope:{ctx:e}};e[3]!==void 0&&(ge.value=e[3]),A=new qr({props:ge}),me.push(()=>Te(A,"value",$e));function He(si){e[25](si)}let _e={callback:e[16]};e[5]!==void 0&&(_e.value=e[5]),x=new ts({props:_e}),me.push(()=>Te(x,"value",He));function Pi(si){e[26](si)}let Le={callback:e[16]};e[7]!==void 0&&(Le.value=e[7]),O=new Kc({props:Le}),me.push(()=>Te(O,"value",Pi));function ke(si){e[27](si)}let Oe={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio",label:"max. note distance",callback:e[16],min:.05,max:2,step:.05};e[6]!==void 0&&(Oe.value=e[6]),D=new ia({props:Oe}),me.push(()=>Te(D,"value",ke));function Ii(si){e[28](si)}let wn={label:"synth",title:"Use built-in synth while playing?",callback:e[16]};e[8]!==void 0&&(wn.checked=e[8]),N=new Tr({props:wn}),me.push(()=>Te(N,"checked",Ii));let ze=Ge(e[11].chords),Zi=[];for(let si=0;si<ze.length;si+=1)Zi[si]=yT(gT(e,ze,si));Dt=new t0({props:{tempo:e[5],accent:4,beepCount:8,showBeepCountInput:!0}});function Re(si){e[31](si)}let bn={saveToStorage:e[19],callback:e[30]};e[9]!==void 0&&(bn.notes=e[9]),le=new aa({props:bn}),me.push(()=>Te(le,"notes",Re)),ei=new Ma({props:{appId:e[0].id,loadData:e[18]}});function Ir(si){e[33](si)}let dr={callback:e[16]};return e[9]!==void 0&&(dr.notes=e[9]),be=new Ps({props:dr}),me.push(()=>Te(be,"notes",Ir)),Et=new ua({props:{loadData:e[18],getExportData:e[17],appId:e[0].id}}),Ht=new Kr({props:{$$slots:{default:[qyt]},$$scope:{ctx:e}}}),It=new $r({props:{noteOn:e[14],noteOff:e[15],pcKeyAllowed:!0}}),ht=new Xr({props:{appId:e[0].id}}),{c(){t=K("main"),i=K("h2"),a=se(n),s=Y(),l=K("p"),l.textContent=`This app helps practicing improvising in a scale over a chord progression.
      Notes that you play are shown as bars. The color shows whether a note
      belongs to the current chord, the scale, or neither. For example, when
      improvising in C Major over ii-V-I, the notes that fit the currently
      active chord will be dark green, notes that fit C Major will be light
      green, and all others will be gray. The bars' height encodes the notes'
      durations.`,c=Y(),d=K("div"),Ut(u.$$.fragment),g=Y(),Ut(m.$$.fragment),p=Y(),Ut(A.$$.fragment),v=Y(),E=K("div"),Ut(x.$$.fragment),C=Y(),Ut(O.$$.fragment),T=Y(),Ut(D.$$.fragment),L=Y(),Ut(N.$$.fragment),$=Y(),F=K("div"),j=K("div");for(let si=0;si<Zi.length;si+=1)Zi[si].c();z=Y(),Q=K("div"),V=se(e[3]),q=se(":"),J=K("br"),W=Y(),mt=se(et),ot=Y(),pt=K("div"),wt=se("chromatic:"),Mt=K("br"),xt=Y(),Ot=se(dt),At=Y(),jt=K("div"),bt=Y(),kt=K("div"),Ut(Dt.$$.fragment),Xt=Y(),ae=K("button"),ae.textContent="play backing track",Jt=Y(),Ut(le.$$.fragment),ai=Y(),Ye=K("button"),Ye.textContent="example",ci=Y(),Ut(ei.$$.fragment),Ze=Y(),Ut(be.$$.fragment),re=Y(),Ut(Et.$$.fragment),vt=Y(),Ut(Ht.$$.fragment),St=Y(),Ut(It.$$.fragment),zt=Y(),Ut(ht.$$.fragment),ut(l,"class","explanation"),ut(d,"class","control"),ut(E,"class","control"),un(Q,"background",y8),ut(Q,"class","svelte-15jh2l9"),un(pt,"background",DA),ut(pt,"class","svelte-15jh2l9"),ut(j,"class","legend svelte-15jh2l9"),ut(jt,"class","visualization"),ut(kt,"class","control"),ut(t,"class","app")},m(si,Ki){_t(si,t,Ki),R(t,i),R(i,a),R(t,s),R(t,l),R(t,c),R(t,d),Nt(u,d,null),R(d,g),Nt(m,d,null),R(d,p),Nt(A,d,null),R(t,v),R(t,E),Nt(x,E,null),R(E,C),Nt(O,E,null),R(E,T),Nt(D,E,null),R(E,L),Nt(N,E,null),R(t,$),R(t,F),R(F,j);for(let jn=0;jn<Zi.length;jn+=1)Zi[jn]&&Zi[jn].m(j,null);R(j,z),R(j,Q),R(Q,V),R(Q,q),R(Q,J),R(Q,W),R(Q,mt),R(j,ot),R(j,pt),R(pt,wt),R(pt,Mt),R(pt,xt),R(pt,Ot),R(F,At),R(F,jt),e[29](jt),R(F,bt),R(F,kt),Nt(Dt,kt,null),R(kt,Xt),R(kt,ae),R(kt,Jt),Nt(le,kt,null),R(kt,ai),R(kt,Ye),R(kt,ci),Nt(ei,kt,null),R(kt,Ze),Nt(be,kt,null),R(kt,re),Nt(Et,kt,null),R(F,vt),Nt(Ht,F,null),R(F,St),Nt(It,F,null),R(F,zt),Nt(ht,F,null),X=!0,tt||(Tt=[Qe(ae,"click",e[20]),Qe(Ye,"click",e[32])],tt=!0)},p(si,Ki){(!X||Ki[0]&1)&&n!==(n=si[0].title+"")&&Ue(a,n);const jn={};Ki[1]&524288&&(jn.$$scope={dirty:Ki,ctx:si}),!h&&Ki[0]&4&&(h=!0,jn.value=si[2],Se(()=>h=!1)),u.$set(jn);const wi={};Ki[1]&524288&&(wi.$$scope={dirty:Ki,ctx:si}),!M&&Ki[0]&2&&(M=!0,wi.value=si[1],Se(()=>M=!1)),m.$set(wi);const On={};Ki[1]&524288&&(On.$$scope={dirty:Ki,ctx:si}),!b&&Ki[0]&8&&(b=!0,On.value=si[3],Se(()=>b=!1)),A.$set(On);const Ha={};!_&&Ki[0]&32&&(_=!0,Ha.value=si[5],Se(()=>_=!1)),x.$set(Ha);const Oa={};!I&&Ki[0]&128&&(I=!0,Oa.value=si[7],Se(()=>I=!1)),O.$set(Oa);const Kt={};!P&&Ki[0]&64&&(P=!0,Kt.value=si[6],Se(()=>P=!1)),D.$set(Kt);const ue={};if(!U&&Ki[0]&256&&(U=!0,ue.checked=si[8],Se(()=>U=!1)),N.$set(ue),Ki[0]&2048){ze=Ge(si[11].chords);let ii;for(ii=0;ii<ze.length;ii+=1){const ln=gT(si,ze,ii);Zi[ii]?Zi[ii].p(ln,Ki):(Zi[ii]=yT(ln),Zi[ii].c(),Zi[ii].m(j,z))}for(;ii<Zi.length;ii+=1)Zi[ii].d(1);Zi.length=ze.length}(!X||Ki[0]&8)&&Ue(V,si[3]),(!X||Ki[0]&4096)&&et!==(et=[...si[12]].join(", ")+"")&&Ue(mt,et),(!X||Ki[0]&4096)&&dt!==(dt=[...u0(F9,si[12])].join(", ")+"")&&Ue(Ot,dt);const Ee={};Ki[0]&32&&(Ee.tempo=si[5]),Dt.$set(Ee);const qe={};Ki[0]&1024&&(qe.callback=si[30]),!Ve&&Ki[0]&512&&(Ve=!0,qe.notes=si[9],Se(()=>Ve=!1)),le.$set(qe);const Ne={};Ki[0]&1&&(Ne.appId=si[0].id),ei.$set(Ne);const oi={};!ve&&Ki[0]&512&&(ve=!0,oi.notes=si[9],Se(()=>ve=!1)),be.$set(oi);const yi={};Ki[0]&1&&(yi.appId=si[0].id),Et.$set(yi);const ji={};Ki[1]&524288&&(ji.$$scope={dirty:Ki,ctx:si}),Ht.$set(ji);const Ui={};Ki[0]&1&&(Ui.appId=si[0].id),ht.$set(Ui)},i(si){X||(Bt(u.$$.fragment,si),Bt(m.$$.fragment,si),Bt(A.$$.fragment,si),Bt(x.$$.fragment,si),Bt(O.$$.fragment,si),Bt(D.$$.fragment,si),Bt(N.$$.fragment,si),Bt(Dt.$$.fragment,si),Bt(le.$$.fragment,si),Bt(ei.$$.fragment,si),Bt(be.$$.fragment,si),Bt(Et.$$.fragment,si),Bt(Ht.$$.fragment,si),Bt(It.$$.fragment,si),Bt(ht.$$.fragment,si),X=!0)},o(si){Rt(u.$$.fragment,si),Rt(m.$$.fragment,si),Rt(A.$$.fragment,si),Rt(x.$$.fragment,si),Rt(O.$$.fragment,si),Rt(D.$$.fragment,si),Rt(N.$$.fragment,si),Rt(Dt.$$.fragment,si),Rt(le.$$.fragment,si),Rt(ei.$$.fragment,si),Rt(be.$$.fragment,si),Rt(Et.$$.fragment,si),Rt(Ht.$$.fragment,si),Rt(It.$$.fragment,si),Rt(ht.$$.fragment,si),X=!1},d(si){si&&Ct(t),Ft(u),Ft(m),Ft(A),Ft(x),Ft(O),Ft(D),Ft(N),Oi(Zi,si),e[29](null),Ft(Dt),Ft(le),Ft(ei),Ft(be),Ft(Et),Ft(Ht),Ft(It),Ft(ht),tt=!1,ar(Tt)}}}function Xyt(e){let t,i;return t=new da({props:{loadData:e[18],$$slots:{default:[Kyt]},$$scope:{ctx:e}}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&8191|a[1]&524288&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}let Yyt=250;const y8="#D4E157",v8="#689F38",DA="lightgray",vT=1;function Zyt(e,t,i){let n,a,s,{appInfo:l}=t,c;const d=F9,u=[{label:"ii V I (2-5-1) 7th",chords:["IIm7","V7","IMaj7","IMaj7"],chordsShort:["ii","V","I","I"]},{label:"ii V I (2-5-1)",chords:["IIm","V","I","I"],chordsShort:["ii","V","I","I"]},{label:"I ii V (1-2-7)",chords:["IMaj7","IIm7","V7","V7"],chordsShort:["I","ii","V","V"]}];let h=u[0].label;const g=new $F().setVolume(3);g.preloadInstrument("acoustic_grand_piano");let m,M="C",p="major",A=90,b=.1,v=50,E=!1,x,_=[],C=new Map;const O=ot=>{_.length===0&&(x=ot.timestamp);const pt=(ot.timestamp-x)/1e3,wt={name:ot.note.name+(ot.note.accidental??""),number:ot.note.number,velocity:ot.velocity,time:pt,channel:ot.message.channel,duration:0};if(C.has(ot.note.number)){const Mt=C.get(ot.note.number);Mt.end===void 0&&(Mt.end=pt)}i(9,_=[..._,wt]),C.set(ot.note.number,wt),E&&m.triggerAttack(`${wt.name}${Math.floor(wt.number/12)}`,pT(),wt.velocity),T()},I=ot=>{if(C.has(ot.note.number)){const pt=C.get(ot.note.number),wt=(ot.timestamp-x)/1e3;pt.end=wt,pt.duration=pt.end-pt.time,E&&m.triggerRelease(`${pt.name}${Math.floor(pt.number/12)}`,pT())}T()},T=()=>{const ot=window.innerWidth<1200?900:window.innerWidth-200,pt=ta(A)*4,wt=_.map(bt=>{const kt=Math.floor(bt.time/pt)%4,Dt=a.chordNotes[kt];let Xt="rest";return Dt.has(bt.name)?Xt="chord":s.has(bt.name)&&(Xt="scale"),{...bt,colorType:Xt,chord:a.chords[kt],chordShort:a.chordsShort[kt]}});i(4,c.textContent="",c);const Mt=wt.slice(-v),xt=Sn({width:ot,height:Yyt,marginLeft:50,marginBottom:50,padding:0,x:{axis:!1},y:{axis:!0,domain:[0,vT],label:"duration in seconds",labelAnchor:"center"},color:{domain:["chord","scale","rest"],range:[v8,y8,DA]},marks:[zr([0],{stroke:"#ddd"}),Md(Mt,{x:(bt,kt)=>kt,y:bt=>bt.duration>0?bt.duration:vT,fill:"colorType",stroke:"colorType",fillOpacity:bt=>bt.duration===0?0:1,inset:1.5,rx:4}),Qr(Mt,{x:(bt,kt)=>kt,y:0,text:bt=>bt.name.split("").join(`
`),fontSize:12,dy:16}),Qr(Mt,{x:(bt,kt)=>kt,y:0,text:(bt,kt,Dt)=>{if(kt===0||bt.chordShort!==Dt[kt-1].chordShort)return bt.chordShort},fontSize:12,dy:36})]});c.appendChild(xt);const dt=_f(wt,b).slice(-v).map(bt=>bt.sort((kt,Dt)=>kt.number-Dt.number)),Ot=dt.map(bt=>fm(bt.map(kt=>kt.name))),At=dt.flatMap((bt,kt)=>bt.map((Dt,Xt)=>({...Dt,chordIndex:kt,noteIndex:Xt}))),jt=Sn({width:ot,height:300,marginLeft:30,marginRight:50,marginTop:60,marginBottom:120,padding:0,x:{axis:!1},y:{ticks:[],label:"chord notes sorted by pitch",labelAnchor:"center"},color:{domain:["chord","scale","rest"],range:[v8,y8,DA]},marks:[Bo(At,{y1:bt=>bt.noteIndex,y2:bt=>bt.noteIndex+1,x:"chordIndex",fill:"colorType",stroke:"colorType",offset:"normalize",rx:4,inset:1.5}),Qr(At,{x:"chordIndex",y:"noteIndex",text:bt=>bt.name.split("").join(`
`),fontSize:10,fill:"black",stroke:"#eee",strokeWidth:3,dy:-12}),Qr(dt,{x:(bt,kt)=>kt,y:0,text:(bt,kt,Dt)=>{var Xt,ae;if(kt===0)return(Xt=bt[0])==null?void 0:Xt.chordShort;if(bt[0].chordShort!==Dt[kt-1][0].chordShort)return(ae=bt[0])==null?void 0:ae.chordShort},fontSize:12,dy:8,textAnchor:"middle"}),Qr(Ot,{x:(bt,kt)=>kt,y:0,text:bt=>bt.join("   "),fontSize:11,dy:28,rotate:90,textAnchor:"start"})]});c.appendChild(jt)};sr(()=>{T(),m=new rb().toDestination()});const D=()=>({root:M,scaleType:p,chordProgLabel:h,barCount:v,notes:_}),P=ot=>{L(),i(2,M=ot.root),i(3,p=ot.scaleType1),i(1,h=ot.chordProgLabel),i(7,v=ot.barCount),i(9,_=ot.notes),T()},L=()=>{_.length>0&&JSON.stringify(_)!==JSON.stringify(of.notes)&&ga(l.id,D())},N=()=>{if(g.isPlaying()){g.stop();return}const ot=4,pt=a.chordNotes,wt=ta(A),Mt=pt.flatMap((xt,dt)=>Ci(4).flatMap(Ot=>{const At=wt*(Ot+4*dt);return[...xt].map(jt=>{const bt=Ro.get(jt)+ot*12;return Ju.from({pitch:bt,start:At,end:At+wt,duration:wt,velocity:Ot===0?.7:.5,channel:0})})}));g.playNotes(Mt,"acoustic_grand_piano",0,void 0,1,!0)};or(()=>{L(),g.stop()});function U(ot){M=ot,i(2,M)}function $(ot){h=ot,i(1,h)}function F(ot){p=ot,i(3,p)}function j(ot){A=ot,i(5,A)}function z(ot){v=ot,i(7,v)}function Q(ot){b=ot,i(6,b)}function V(ot){E=ot,i(8,E)}function q(ot){me[ot?"unshift":"push"](()=>{c=ot,i(4,c)})}const J=()=>{i(10,C=new Map),T()};function W(ot){_=ot,i(9,_)}const et=()=>P(of);function mt(ot){_=ot,i(9,_)}return e.$$set=ot=>{"appInfo"in ot&&i(0,l=ot.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&4&&i(21,n=u.map(ot=>{const wt=Grt(M,ot.chords).map(Mt=>new Set(KM(Mt).notes));return{...ot,chordNotes:wt}})),e.$$.dirty[0]&2097154&&i(11,a=n.filter(ot=>ot.label===h)[0]),e.$$.dirty[0]&12&&i(12,s=new Set(q9(`${M} ${p}`).notes.map(ot=>d[Ro.get(ot)])))},[l,h,M,p,c,A,b,v,E,_,C,a,s,u,O,I,T,D,P,L,N,n,U,$,F,j,z,Q,V,q,J,W,et,mt]}class tvt extends qi{constructor(t){super(),Wi(this,t,Zyt,Xyt,Ji,{appInfo:0},null,[-1,-1])}}const _s=[{id:"accents",title:"Accents",description:"Practice accenting notes by playing them louder",input:"MIDI",instruments:["drum","guitar/bass","keyboard"],data:["order","ioi","dynamics"],skills:["accents"],patterns:["duration/ioi as symbol","dynamics as font-size","time is linear","time encoded non-linearly","update after note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:kdt},{id:"chord-arpeggio-timing",title:"Chord and Arpeggio Timing",description:"See how spaced out the notes in a chord or arpeggio are, and how much time lies between these",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","onset/time","ioi","pitch","chords"],skills:["chord-timing","arpeggio-timing"],patterns:["onset as tick","compressed pitches","chord detection","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:Xdt},{id:"chord-diagrams",title:"Chord Diagrams",description:"See what chords you play on a guitar/bass as chord diagrams",input:"MIDI",instruments:["guitar/bass"],data:["order","onset/time","pitch","dynamics","instrument","chords"],skills:["chord-notes"],patterns:["instrument layout","chord detection","time is linear","time is collapsed","update on note"],timeScale:["a few notes"],difficulty:["beginner","intermediate","advanced"],component:cht},{id:"dynamics",title:"Dynamics",description:"Practice controlling the loudness of notes",input:"MIDI",instruments:["drum","guitar/bass","keyboard"],data:["order","dynamics"],skills:["constant-dynamics","(de)crescendo","accents"],patterns:["dynamics as bar","baselines as grid","time is linear","time encoded linearly","update on note","musical units"],timeScale:["a few notes","a few bars"],difficulty:["beginner","intermediate","advanced"],component:t1t},{id:"duration-pies",title:"Duration Pies",description:"Practice holding notes for different durations",input:"MIDI",instruments:["guitar/bass","keyboard","pc-key","touch"],data:["order","duration/ioi"],skills:["duration"],patterns:["duration as bar","duration as pie","baselines as angle","time is circular","time encoded circular","time encoded linearly","update on note","musical units"],timeScale:["a single note","a few notes"],difficulty:["beginner"],component:D5t},{id:"fretboard-heatmap",title:"Fretboard Heatmap",description:"Learn improvising with a scale at different fretboard positions",input:"MIDI",instruments:["guitar/bass"],data:["instrument","pitch"],skills:["instrument-layout","scale-notes"],patterns:["distribution as heatmap","instrument layout","time is collapsed","update on note"],timeScale:["a few bars","a full song"],difficulty:["intermediate","advanced"],component:p1t},{id:"fretboard-improvisation-intervals",title:"Fretboard Improvisation Intervals",description:"Learn jumping through a scale in intervals of different size",input:"MIDI",instruments:["guitar/bass"],data:["order","pitch","instrument","pitch-interval"],skills:["instrument-layout","pitch-intervals"],patterns:["instrument layout","time is instant","update on note"],timeScale:["a few notes"],difficulty:["advanced"],component:w1t},{id:"fretboard-jitter",title:"Fretboard Jitter",description:"See how you play across different fretboard positions over time",input:"MIDI",instruments:["guitar/bass"],data:["order","instrument"],skills:["instrument-layout"],patterns:["distribution as jitter","instrument layout","time is linear","time encoded non-linearly","update on note"],timeScale:["a full song"],difficulty:["intermediate","advanced"],component:L1t},{id:"fretboard-spacetime-cube",title:"Fretboard Spacetime Cube",description:"See how you play across different fretboard positions over time (in 3D)",input:"MIDI",instruments:["guitar/bass"],data:["onset/time","instrument"],skills:["instrument-layout"],patterns:["spacetime cube","instrument layout","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:z1t},{id:"improvisation-intervals",title:"Improvisation Intervals",description:"See how often you use different intervals in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","pitch","pitch-interval"],skills:["pitch-intervals"],patterns:["distribution as histogram","time is collapsed","update on note"],timeScale:["a few bars"],difficulty:["advanced"],component:e2t},{id:"improvisation-chord-progression",title:"Improvisation Chord Progression",description:"See how much you stick to the notes of chords and scale while improvising over a chord progression",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","duration/ioi","pitch","chords","exercise"],skills:["pitch-intervals","scale-degrees","scale-notes","chord-progression"],patterns:["note role as color","duration/ioi as bar","time is circular","time encoded non-linearly","update on note","chords as stacked bars"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:tvt},{id:"improvisation-note-colors",title:"Improvisation Note Colors",description:"See how often you use different kinds of notes in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","duration/ioi","pitch","chords"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","duration/ioi as bar","time is linear","time encoded non-linearly","update on note","chords as stacked bars"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:v2t},{id:"improvisation-note-colors2",title:"Improvisation Note Colors 2",description:"See how often you use different kinds of notes in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","duration/ioi","pitch","chords"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","duration/ioi as bar","time is linear","time encoded non-linearly","update on note","chords as stacked bars"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:X5t},{id:"improvisation-scale-degrees",title:"Improvisation Scale Degrees",description:"See how often you use different scale degrees in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["pitch"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","distribution as histogram","time is collapsed","update on note"],timeScale:["a few bars","a full song"],difficulty:["advanced"],component:N2t},{id:"improvisation-scale-degrees-bar",title:"Improvisation Scale Degrees (Bar)",description:"See how often you use different scale degrees in improvisation, for each played bar",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["pitch","onset/time"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","distribution as histogram","facets","time segments","time is linear","time is collapsed","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["advanced"],component:emt},{id:"keyboard-histogram",title:"Keyboard Histogram",description:"See how often you play different keyboard keys and if they belong to a chosen scale",input:"MIDI",instruments:["keyboard"],data:["pitch","instrument"],skills:["instrument-layout","scale-notes"],patterns:["distribution as histogram","instrument layout","time is collapsed","update on note","instrument as color"],timeScale:["a few bars","a full song"],difficulty:["intermediate","advanced"],component:mmt},{id:"pitch-bend-audio",title:"Pitch Bend",description:"Practice pitch bends and vibratos",input:"audio",instruments:["guitar/bass","keyboard","singing"],data:["onset/time","pitch"],skills:["pitch-keeping","bending","vibrato","on-pitch"],patterns:["pitch as line","baselines as grid","time is linear","time encoded linearly","update real-time"],timeScale:["a few notes"],difficulty:["intermediate","advanced"],component:Imt},{id:"pitch-offset-cents",title:"Pitch Offset",description:"See how well you are on pitch over time",input:"audio",instruments:["guitar/bass","keyboard","singing"],data:["onset/time","pitch"],skills:["pitch-keeping","bending","vibrato","on-pitch"],patterns:["pitch as line","baselines as grid","explicit difference","difference as color","time is linear","time encoded linearly","update real-time","dual encoding"],timeScale:["a few notes"],difficulty:["intermediate","advanced"],component:Jmt},{id:"pitch-offset-cents-needle",title:"Pitch Offset (Tuner)",description:"See how well you are on pitch at a moment",input:"audio",instruments:["guitar/bass","keyboard","singing"],data:["onset/time","pitch"],skills:["pitch-keeping","on-pitch"],patterns:["pitch as angle","baselines as grid","explicit difference","time is instant","update real-time"],timeScale:["a single note"],difficulty:["intermediate","advanced"],component:b5t},{id:"rhythm-sheet-music",title:"Rhythm Sheet Music",description:"Practice note timing and get feedback as staff notation and offset in percent",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["order","duration/ioi"],skills:["sub-division","tempo-keeping"],patterns:["duration/ioi as symbol","time is linear","time encoded non-linearly","update after note"],timeScale:["a few notes"],difficulty:["intermediate","advanced"],component:h3t},{id:"speed-up",title:"Speed-Up",description:"Record/choose a short exercise then practice it with steadily increasing tempo",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time","exercise"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["phrase repetition","facets","increasing difficulty","comparison between takes","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["beginner","intermediate","advanced"],component:X3t},{id:"speed-up-tab",title:"Speed-Up Tab",description:"Record/choose a short guitar exercise then practice it with steadily increasing tempo",input:"MIDI",instruments:["guitar/bass"],data:["onset/time","exercise","instrument"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["phrase repetition","facets","increasing difficulty","comparison between takes","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["beginner","intermediate","advanced"],component:l4t},{id:"sub-division",title:"Sub-Division (Circular)",description:"Practice rhythmic playing in different sub-divisions",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["time is cyclic","time encoded circular","baselines as grid","distribution as histogram","distribution as density","target areas","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:Y4t},{id:"sub-division-drums",title:"Sub-Division (Drums)",description:"Practice rhythmic playing in different sub-divisions, separated by drum",input:"MIDI",instruments:["drum","pc-key"],data:["onset/time","instrument"],skills:["sub-division","timing-consistency","synchronized-body-parts","swing-feel"],patterns:["time is cyclic","time encoded linearly","baselines as grid","distribution as histogram","distribution as density","facets","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:a5t},{id:"sub-division-linear",title:"Sub-Division (Linear)",description:"Practice rhythmic playing in different sub-divisions",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["time is cyclic","time encoded linearly","baselines as grid","distribution as histogram","distribution as density","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:upt},{id:"sub-division-history",title:"Sub-Division (History)",description:"Practice rhythmic playing in different sub-divisions, compared to previous recordings",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["time is cyclic","time encoded circular","baselines as grid","distribution as histogram","distribution as density","facets","comparison between takes","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:g5t},{id:"strumming-pattern",title:"Strumming Pattern",description:"Practice up/down strumming patterns on guitar",input:"MIDI",instruments:["guitar/bass"],data:["onset/time","instrument"],skills:["strumming-direction","strumming-strings"],patterns:["direction as arrow","direction as color","chord detection","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["beginner","intermediate","advanced"],component:v4t},{id:"tempo-drift",title:"Tempo Drift",description:"Practice keeping your tempo constant over a longer stretch of playing",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["order","duration/ioi"],skills:["tempo-keeping"],patterns:["duration/ioi as bar","baselines as grid","time is linear","time encoded non-linearly","update on note"],timeScale:["a full song"],difficulty:["beginner","intermediate","advanced"],component:Bpt},{id:"tempo-change",title:"Tempo Change",description:"Practice changing the tempo as intended",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time","duration/ioi"],skills:["tempo-changing","tempo-keeping"],patterns:["baselines as grid","time is linear","time encoded linearly","update real-time"],timeScale:["a few bars","a full song"],difficulty:["intermediate","advanced"],component:z5t},{id:"two-handed-timing",title:"Two-Handed Timing",description:"Practice playing sub-divisions with a different rhythm for each hand",input:"MIDI",instruments:["keyboard","drum","pc-key"],data:["onset/time","instrument"],skills:["sub-division","timing-consistency","syncopation","synchronized-timing","synchronized-body-parts"],patterns:["time is cyclic","time encoded linearly","baselines as grid","distribution as histogram","distribution as density","facets","update on note"],timeScale:["a few bars"],difficulty:["advanced"],component:a8t}];new Map(_s.map(e=>[e.id,e]));function evt(e){let t,i,n,a,s,l,c,d,u;const h=e[3].default,g=G2(h,e,e[2],null);return{c(){t=K("main"),i=K("button"),n=K("h3"),a=se(e[0]),s=Y(),l=K("div"),g&&g.c(),ut(n,"class","svelte-10c9d6o"),ut(i,"class","svelte-10c9d6o"),un(l,"display",e[1]?"block":"none")},m(m,M){_t(m,t,M),R(t,i),R(i,n),R(n,a),R(t,s),R(t,l),g&&g.m(l,null),c=!0,d||(u=Qe(i,"click",e[4]),d=!0)},p(m,[M]){(!c||M&1)&&Ue(a,m[0]),g&&g.p&&(!c||M&4)&&H2(g,h,m,m[2],c?V2(h,m[2],M,null):Q2(m[2]),null),(!c||M&2)&&un(l,"display",m[1]?"block":"none")},i(m){c||(Bt(g,m),c=!0)},o(m){Rt(g,m),c=!1},d(m){m&&Ct(t),g&&g.d(m),d=!1,u()}}}function ivt(e,t,i){let{$$slots:n={},$$scope:a}=t,{heading:s=""}=t,l=!1;const c=()=>i(1,l=!l);return e.$$set=d=>{"heading"in d&&i(0,s=d.heading),"$$scope"in d&&i(2,a=d.$$scope)},[s,l,a,n,c]}class c0 extends qi{constructor(t){super(),Wi(this,t,ivt,evt,Ji,{heading:0})}}function bT(e,t,i){const n=e.slice();return n[18]=t[i],n}function nvt(e,t,i){const n=e.slice();return n[21]=t[i],n}function rvt(e,t,i){const n=e.slice();return n[24]=t[i],n}function avt(e,t,i){const n=e.slice();return n[27]=t[i],n}function svt(e,t,i){const n=e.slice();return n[21]=t[i],n[31]=i,n}function CT(e,t,i){const n=e.slice();return n[32]=t[i],n}function _T(e,t,i){const n=e.slice();return n[35]=t[i],n}function ET(e,t,i){const n=e.slice();return n[32]=t[i],n}function ovt(e,t,i){const n=e.slice();return n[35]=t[i],n}function wT(e,t,i){const n=e.slice();return n[32]=t[i],n}function OT(e,t,i){const n=e.slice();return n[35]=t[i],n}function xT(e,t,i){const n=e.slice();return n[32]=t[i],n}function ST(e,t,i){const n=e.slice();return n[35]=t[i],n}function TT(e,t,i){const n=e.slice();return n[18]=t[i],n}function IT(e,t,i){const n=e.slice();return n[21]=t[i],n}function BT(e,t,i){const n=e.slice();return n[35]=t[i],n}function RT(e,t,i){const n=e.slice();return n[18]=t[i],n}function DT(e,t,i){const n=e.slice();return n[21]=t[i],n}function lvt(e,t,i){const n=e.slice();return n[18]=t[i],n}function cvt(e,t,i){const n=e.slice();return n[21]=t[i],n}function uvt(e,t,i){const n=e.slice();return n[18]=t[i],n[31]=i,n}function PT(e,t,i){const n=e.slice();return n[32]=t[i],n}function LT(e,t,i){const n=e.slice();return n[32]=t[i],n}function kT(e,t,i){const n=e.slice();return n[32]=t[i],n}function NT(e,t,i){const n=e.slice();return n[35]=t[i],n}function FT(e,t,i){const n=e.slice();return n[32]=t[i],n}function UT(e,t,i){const n=e.slice();return n[32]=t[i],n}function $T(e,t,i){const n=e.slice();return n[32]=t[i],n}function GT(e,t,i){const n=e.slice();return n[35]=t[i],n}function VT(e,t,i){const n=e.slice();return n[35]=t[i],n}function HT(e,t,i){const n=e.slice();return n[32]=t[i],n}function QT(e){let t;return{c(){t=K("th"),t.textContent=`${e[32]}`,ut(t,"class","small svelte-12jgd06")},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function zT(e){let t,i=e[35]+"",n;return{c(){t=K("th"),n=se(i),ut(t,"class","small svelte-12jgd06")},m(a,s){_t(a,t,s),R(t,n)},p(a,s){s[0]&2&&i!==(i=a[35]+"")&&Ue(n,i)},d(a){a&&Ct(t)}}}function jT(e){let t;return{c(){t=K("th"),t.textContent=`${e[35]}`,ut(t,"class","small svelte-12jgd06")},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function JT(e){let t,i=e[35].instruments.includes(e[32])?"⬤":"",n;return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(a,s){_t(a,t,s),R(t,n)},p(a,s){s[0]&1&&i!==(i=a[35].instruments.includes(a[32])?"⬤":"")&&Ue(n,i)},d(a){a&&Ct(t)}}}function WT(e){let t,i=e[35].data.includes(e[32])?"⬤":"",n;return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(a,s){_t(a,t,s),R(t,n)},p(a,s){s[0]&3&&i!==(i=a[35].data.includes(a[32])?"⬤":"")&&Ue(n,i)},d(a){a&&Ct(t)}}}function qT(e){let t,i=e[35].timeScale.includes(e[32])?"⬤":"",n;return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(a,s){_t(a,t,s),R(t,n)},p(a,s){s[0]&1&&i!==(i=a[35].timeScale.includes(a[32])?"⬤":"")&&Ue(n,i)},d(a){a&&Ct(t)}}}function KT(e){let t,i,n=e[35].title+"",a,s,l,c=e[35].input==="MIDI"?"⬤":"",d,u,h,g=e[35].input==="audio"?"⬤":"",m,M,p,A,b,v,E,x,_,C,O,I=Ge([...e[4]]),T=[];for(let U=0;U<I.length;U+=1)T[U]=JT($T(e,I,U));let D=Ge([...e[1]]),P=[];for(let U=0;U<D.length;U+=1)P[U]=WT(UT(e,D,U));let L=Ge(e[5]),N=[];for(let U=0;U<L.length;U+=1)N[U]=qT(FT(e,L,U));return{c(){t=K("tr"),i=K("td"),a=se(n),s=Y(),l=K("td"),d=se(c),u=Y(),h=K("td"),m=se(g),M=Y(),p=K("td"),A=Y();for(let U=0;U<T.length;U+=1)T[U].c();b=Y(),v=K("td"),E=Y();for(let U=0;U<P.length;U+=1)P[U].c();x=Y(),_=K("td"),C=Y();for(let U=0;U<N.length;U+=1)N[U].c();O=Y(),un(i,"text-align","right"),ut(i,"class","svelte-12jgd06"),ut(l,"class","svelte-12jgd06"),ut(h,"class","svelte-12jgd06"),ut(p,"class","spacer svelte-12jgd06"),ut(v,"class","spacer svelte-12jgd06"),ut(_,"class","spacer svelte-12jgd06"),ut(t,"class","svelte-12jgd06")},m(U,$){_t(U,t,$),R(t,i),R(i,a),R(t,s),R(t,l),R(l,d),R(t,u),R(t,h),R(h,m),R(t,M),R(t,p),R(t,A);for(let F=0;F<T.length;F+=1)T[F]&&T[F].m(t,null);R(t,b),R(t,v),R(t,E);for(let F=0;F<P.length;F+=1)P[F]&&P[F].m(t,null);R(t,x),R(t,_),R(t,C);for(let F=0;F<N.length;F+=1)N[F]&&N[F].m(t,null);R(t,O)},p(U,$){if($[0]&1&&n!==(n=U[35].title+"")&&Ue(a,n),$[0]&1&&c!==(c=U[35].input==="MIDI"?"⬤":"")&&Ue(d,c),$[0]&1&&g!==(g=U[35].input==="audio"?"⬤":"")&&Ue(m,g),$[0]&17){I=Ge([...U[4]]);let F;for(F=0;F<I.length;F+=1){const j=$T(U,I,F);T[F]?T[F].p(j,$):(T[F]=JT(j),T[F].c(),T[F].m(t,b))}for(;F<T.length;F+=1)T[F].d(1);T.length=I.length}if($[0]&3){D=Ge([...U[1]]);let F;for(F=0;F<D.length;F+=1){const j=UT(U,D,F);P[F]?P[F].p(j,$):(P[F]=WT(j),P[F].c(),P[F].m(t,x))}for(;F<P.length;F+=1)P[F].d(1);P.length=D.length}if($[0]&33){L=Ge(U[5]);let F;for(F=0;F<L.length;F+=1){const j=FT(U,L,F);N[F]?N[F].p(j,$):(N[F]=qT(j),N[F].c(),N[F].m(t,O))}for(;F<N.length;F+=1)N[F].d(1);N.length=L.length}},d(U){U&&Ct(t),Oi(T,U),Oi(P,U),Oi(N,U)}}}function XT(e){let t,i=e[0].filter(a).length+"",n;function a(...s){return e[6](e[32],...s)}return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(s,l){_t(s,t,l),R(t,n)},p(s,l){e=s,l[0]&1&&i!==(i=e[0].filter(a).length+"")&&Ue(n,i)},d(s){s&&Ct(t)}}}function YT(e){let t,i=e[0].filter(a).length+"",n;function a(...s){return e[7](e[32],...s)}return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(s,l){_t(s,t,l),R(t,n)},p(s,l){e=s,l[0]&3&&i!==(i=e[0].filter(a).length+"")&&Ue(n,i)},d(s){s&&Ct(t)}}}function ZT(e){let t,i=e[0].filter(a).length+"",n;function a(...s){return e[8](e[32],...s)}return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(s,l){_t(s,t,l),R(t,n)},p(s,l){e=s,l[0]&1&&i!==(i=e[0].filter(a).length+"")&&Ue(n,i)},d(s){s&&Ct(t)}}}function dvt(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt,bt,kt,Dt,Xt,ae,Jt,le,Ve=e[0].length+"",ai,Ye,ci,ei=e[0].filter(fI).length+"",Ze,be,ve,re=e[0].filter(mI).length+"",Et,vt,Ht,St,It,zt,ht,X,tt,Tt,Qt=Ge([...e[4]]),Zt=[];for(let ze=0;ze<Qt.length;ze+=1)Zt[ze]=QT(HT(e,Qt,ze));let ce=Ge([...e[1]]),ye=[];for(let ze=0;ze<ce.length;ze+=1)ye[ze]=zT(VT(e,ce,ze));let $e=Ge(e[5]),ge=[];for(let ze=0;ze<$e.length;ze+=1)ge[ze]=jT(GT(e,$e,ze));let He=Ge(e[0]),_e=[];for(let ze=0;ze<He.length;ze+=1)_e[ze]=KT(NT(e,He,ze));let Pi=Ge([...e[4]]),Le=[];for(let ze=0;ze<Pi.length;ze+=1)Le[ze]=XT(kT(e,Pi,ze));let ke=Ge([...e[1]]),Oe=[];for(let ze=0;ze<ke.length;ze+=1)Oe[ze]=YT(LT(e,ke,ze));let Ii=Ge(e[5]),wn=[];for(let ze=0;ze<Ii.length;ze+=1)wn[ze]=ZT(PT(e,Ii,ze));return{c(){t=K("table"),i=K("thead"),n=K("tr"),a=K("th"),a.textContent="app",s=Y(),l=K("th"),l.textContent="input",c=Y(),d=K("th"),u=Y(),h=K("th"),g=se("instrument"),m=Y(),M=K("th"),p=Y(),A=K("th"),b=se("data"),E=Y(),x=K("th"),_=Y(),C=K("th"),O=se("time scale"),I=Y(),T=K("thead"),D=K("tr"),P=K("th"),L=Y(),N=K("th"),N.textContent="MIDI",U=Y(),$=K("th"),$.textContent="audio",F=Y(),j=K("th"),z=Y();for(let ze=0;ze<Zt.length;ze+=1)Zt[ze].c();Q=Y(),V=K("th"),q=Y();for(let ze=0;ze<ye.length;ze+=1)ye[ze].c();J=Y(),W=K("th"),et=Y();for(let ze=0;ze<ge.length;ze+=1)ge[ze].c();mt=Y(),ot=K("thead"),pt=K("tr"),wt=K("th"),Mt=Y(),xt=K("th"),dt=Y(),Ot=K("th"),At=Y(),jt=K("th"),bt=Y(),kt=K("th"),Dt=Y(),Xt=K("tbody");for(let ze=0;ze<_e.length;ze+=1)_e[ze].c();ae=Y(),Jt=K("tr"),le=K("td"),ai=se(Ve),Ye=Y(),ci=K("td"),Ze=se(ei),be=Y(),ve=K("td"),Et=se(re),vt=Y(),Ht=K("td"),St=Y();for(let ze=0;ze<Le.length;ze+=1)Le[ze].c();It=Y(),zt=K("td"),ht=Y();for(let ze=0;ze<Oe.length;ze+=1)Oe[ze].c();X=Y(),tt=K("td"),Tt=Y();for(let ze=0;ze<wn.length;ze+=1)wn[ze].c();un(a,"min-width","200px"),ut(l,"colspan","2"),un(l,"border-bottom","4px solid "+U0[0]),ut(d,"class","spacer svelte-12jgd06"),ut(h,"colspan",e[4].size),un(h,"border-bottom","4px solid "+U0[1]),ut(M,"class","spacer svelte-12jgd06"),ut(A,"colspan",v=e[1].size),un(A,"border-bottom","4px solid "+U0[2]),ut(x,"class","spacer svelte-12jgd06"),ut(C,"colspan",e[5].length),un(C,"border-bottom","4px solid "+U0[3]),ut(n,"class","svelte-12jgd06"),ut(N,"class","small svelte-12jgd06"),ut($,"class","small svelte-12jgd06"),ut(j,"class","spacer svelte-12jgd06"),ut(V,"class","spacer svelte-12jgd06"),ut(W,"class","spacer svelte-12jgd06"),ut(D,"class","svelte-12jgd06"),ut(xt,"colspan","2"),ut(Ot,"colspan",e[4].size),ut(jt,"colspan",e[4].size),ut(kt,"colspan",e[5].length),ut(pt,"class","svelte-12jgd06"),ut(le,"class","svelte-12jgd06"),ut(ci,"class","svelte-12jgd06"),ut(ve,"class","svelte-12jgd06"),ut(Ht,"class","spacer svelte-12jgd06"),ut(zt,"class","spacer svelte-12jgd06"),ut(tt,"class","spacer svelte-12jgd06"),ut(Jt,"class","svelte-12jgd06"),ut(t,"class","svelte-12jgd06")},m(ze,Zi){_t(ze,t,Zi),R(t,i),R(i,n),R(n,a),R(n,s),R(n,l),R(n,c),R(n,d),R(n,u),R(n,h),R(h,g),R(n,m),R(n,M),R(n,p),R(n,A),R(A,b),R(n,E),R(n,x),R(n,_),R(n,C),R(C,O),R(t,I),R(t,T),R(T,D),R(D,P),R(D,L),R(D,N),R(D,U),R(D,$),R(D,F),R(D,j),R(D,z);for(let Re=0;Re<Zt.length;Re+=1)Zt[Re]&&Zt[Re].m(D,null);R(D,Q),R(D,V),R(D,q);for(let Re=0;Re<ye.length;Re+=1)ye[Re]&&ye[Re].m(D,null);R(D,J),R(D,W),R(D,et);for(let Re=0;Re<ge.length;Re+=1)ge[Re]&&ge[Re].m(D,null);R(t,mt),R(t,ot),R(ot,pt),R(pt,wt),R(pt,Mt),R(pt,xt),R(pt,dt),R(pt,Ot),R(pt,At),R(pt,jt),R(pt,bt),R(pt,kt),R(t,Dt),R(t,Xt);for(let Re=0;Re<_e.length;Re+=1)_e[Re]&&_e[Re].m(Xt,null);R(Xt,ae),R(Xt,Jt),R(Jt,le),R(le,ai),R(Jt,Ye),R(Jt,ci),R(ci,Ze),R(Jt,be),R(Jt,ve),R(ve,Et),R(Jt,vt),R(Jt,Ht),R(Jt,St);for(let Re=0;Re<Le.length;Re+=1)Le[Re]&&Le[Re].m(Jt,null);R(Jt,It),R(Jt,zt),R(Jt,ht);for(let Re=0;Re<Oe.length;Re+=1)Oe[Re]&&Oe[Re].m(Jt,null);R(Jt,X),R(Jt,tt),R(Jt,Tt);for(let Re=0;Re<wn.length;Re+=1)wn[Re]&&wn[Re].m(Jt,null)},p(ze,Zi){if(Zi[0]&2&&v!==(v=ze[1].size)&&ut(A,"colspan",v),Zi[0]&16){Qt=Ge([...ze[4]]);let Re;for(Re=0;Re<Qt.length;Re+=1){const bn=HT(ze,Qt,Re);Zt[Re]?Zt[Re].p(bn,Zi):(Zt[Re]=QT(bn),Zt[Re].c(),Zt[Re].m(D,Q))}for(;Re<Zt.length;Re+=1)Zt[Re].d(1);Zt.length=Qt.length}if(Zi[0]&2){ce=Ge([...ze[1]]);let Re;for(Re=0;Re<ce.length;Re+=1){const bn=VT(ze,ce,Re);ye[Re]?ye[Re].p(bn,Zi):(ye[Re]=zT(bn),ye[Re].c(),ye[Re].m(D,J))}for(;Re<ye.length;Re+=1)ye[Re].d(1);ye.length=ce.length}if(Zi[0]&32){$e=Ge(ze[5]);let Re;for(Re=0;Re<$e.length;Re+=1){const bn=GT(ze,$e,Re);ge[Re]?ge[Re].p(bn,Zi):(ge[Re]=jT(bn),ge[Re].c(),ge[Re].m(D,null))}for(;Re<ge.length;Re+=1)ge[Re].d(1);ge.length=$e.length}if(Zi[0]&51){He=Ge(ze[0]);let Re;for(Re=0;Re<He.length;Re+=1){const bn=NT(ze,He,Re);_e[Re]?_e[Re].p(bn,Zi):(_e[Re]=KT(bn),_e[Re].c(),_e[Re].m(Xt,ae))}for(;Re<_e.length;Re+=1)_e[Re].d(1);_e.length=He.length}if(Zi[0]&1&&Ve!==(Ve=ze[0].length+"")&&Ue(ai,Ve),Zi[0]&1&&ei!==(ei=ze[0].filter(fI).length+"")&&Ue(Ze,ei),Zi[0]&1&&re!==(re=ze[0].filter(mI).length+"")&&Ue(Et,re),Zi[0]&17){Pi=Ge([...ze[4]]);let Re;for(Re=0;Re<Pi.length;Re+=1){const bn=kT(ze,Pi,Re);Le[Re]?Le[Re].p(bn,Zi):(Le[Re]=XT(bn),Le[Re].c(),Le[Re].m(Jt,It))}for(;Re<Le.length;Re+=1)Le[Re].d(1);Le.length=Pi.length}if(Zi[0]&3){ke=Ge([...ze[1]]);let Re;for(Re=0;Re<ke.length;Re+=1){const bn=LT(ze,ke,Re);Oe[Re]?Oe[Re].p(bn,Zi):(Oe[Re]=YT(bn),Oe[Re].c(),Oe[Re].m(Jt,X))}for(;Re<Oe.length;Re+=1)Oe[Re].d(1);Oe.length=ke.length}if(Zi[0]&33){Ii=Ge(ze[5]);let Re;for(Re=0;Re<Ii.length;Re+=1){const bn=PT(ze,Ii,Re);wn[Re]?wn[Re].p(bn,Zi):(wn[Re]=ZT(bn),wn[Re].c(),wn[Re].m(Jt,null))}for(;Re<wn.length;Re+=1)wn[Re].d(1);wn.length=Ii.length}},d(ze){ze&&Ct(t),Oi(Zt,ze),Oi(ye,ze),Oi(ge,ze),Oi(_e,ze),Oi(Le,ze),Oi(Oe,ze),Oi(wn,ze)}}}function hvt(e){let t,i,n;return{c(){t=K("th"),t.textContent=`${e[18].title}`,i=Y(),n=K("th"),ut(t,"colspan",e[18].children.length),un(t,"border-bottom","4px solid "+U0[e[31]]),ut(n,"class","spacer svelte-12jgd06")},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function fvt(e){let t;return{c(){t=K("th"),t.textContent=`${e[21].title}`,ut(t,"class","small svelte-12jgd06")},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function mvt(e){let t,i,n=Ge(e[18].children),a=[];for(let s=0;s<n.length;s+=1)a[s]=fvt(cvt(e,n,s));return{c(){for(let s=0;s<a.length;s+=1)a[s].c();t=Y(),i=K("th"),ut(i,"class","spacer svelte-12jgd06")},m(s,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(s,l);_t(s,t,l),_t(s,i,l)},p:Fe,d(s){s&&(Ct(t),Ct(i)),Oi(a,s)}}}function tI(e){let t,i=e[35].skills.includes(e[21].id)?"⬤":"",n;return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(a,s){_t(a,t,s),R(t,n)},p(a,s){s[0]&1&&i!==(i=a[35].skills.includes(a[21].id)?"⬤":"")&&Ue(n,i)},d(a){a&&Ct(t)}}}function eI(e){let t,i,n=Ge(e[18].children),a=[];for(let s=0;s<n.length;s+=1)a[s]=tI(DT(e,n,s));return{c(){for(let s=0;s<a.length;s+=1)a[s].c();t=Y(),i=K("th"),ut(i,"class","spacer svelte-12jgd06")},m(s,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(s,l);_t(s,t,l),_t(s,i,l)},p(s,l){if(l[0]&1){n=Ge(s[18].children);let c;for(c=0;c<n.length;c+=1){const d=DT(s,n,c);a[c]?a[c].p(d,l):(a[c]=tI(d),a[c].c(),a[c].m(t.parentNode,t))}for(;c<a.length;c+=1)a[c].d(1);a.length=n.length}},d(s){s&&(Ct(t),Ct(i)),Oi(a,s)}}}function iI(e){let t,i,n=e[35].title+"",a,s,l,c,d=e[35].skills.length+"",u,h,g=Ge(g0),m=[];for(let M=0;M<g.length;M+=1)m[M]=eI(RT(e,g,M));return{c(){t=K("tr"),i=K("td"),a=se(n),s=Y();for(let M=0;M<m.length;M+=1)m[M].c();l=Y(),c=K("td"),u=se(d),h=Y(),un(i,"text-align","right"),ut(i,"class","svelte-12jgd06"),ut(c,"class","svelte-12jgd06"),ut(t,"class","svelte-12jgd06")},m(M,p){_t(M,t,p),R(t,i),R(i,a),R(t,s);for(let A=0;A<m.length;A+=1)m[A]&&m[A].m(t,null);R(t,l),R(t,c),R(c,u),R(t,h)},p(M,p){if(p[0]&1&&n!==(n=M[35].title+"")&&Ue(a,n),p[0]&1){g=Ge(g0);let A;for(A=0;A<g.length;A+=1){const b=RT(M,g,A);m[A]?m[A].p(b,p):(m[A]=eI(b),m[A].c(),m[A].m(t,l))}for(;A<m.length;A+=1)m[A].d(1);m.length=g.length}p[0]&1&&d!==(d=M[35].skills.length+"")&&Ue(u,d)},d(M){M&&Ct(t),Oi(m,M)}}}function nI(e){let t,i=e[0].filter(a).length+"",n;function a(...s){return e[9](e[21],...s)}return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(s,l){_t(s,t,l),R(t,n)},p(s,l){e=s,l[0]&1&&i!==(i=e[0].filter(a).length+"")&&Ue(n,i)},d(s){s&&Ct(t)}}}function rI(e){let t,i,n=Ge(e[18].children),a=[];for(let s=0;s<n.length;s+=1)a[s]=nI(IT(e,n,s));return{c(){for(let s=0;s<a.length;s+=1)a[s].c();t=Y(),i=K("td"),ut(i,"class","spacer svelte-12jgd06")},m(s,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(s,l);_t(s,t,l),_t(s,i,l)},p(s,l){if(l[0]&1){n=Ge(s[18].children);let c;for(c=0;c<n.length;c+=1){const d=IT(s,n,c);a[c]?a[c].p(d,l):(a[c]=nI(d),a[c].c(),a[c].m(t.parentNode,t))}for(;c<a.length;c+=1)a[c].d(1);a.length=n.length}},d(s){s&&(Ct(t),Ct(i)),Oi(a,s)}}}function pvt(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b=e[0].length+"",v,E,x,_,C=Ge(g0),O=[];for(let U=0;U<C.length;U+=1)O[U]=hvt(uvt(e,C,U));let I=Ge(g0),T=[];for(let U=0;U<I.length;U+=1)T[U]=mvt(lvt(e,I,U));let D=Ge(e[0]),P=[];for(let U=0;U<D.length;U+=1)P[U]=iI(BT(e,D,U));let L=Ge(g0),N=[];for(let U=0;U<L.length;U+=1)N[U]=rI(TT(e,L,U));return{c(){t=K("table"),i=K("thead"),n=K("tr"),a=K("th"),a.textContent="app",s=Y();for(let U=0;U<O.length;U+=1)O[U].c();l=Y(),c=K("thead"),d=K("tr"),u=K("th"),h=Y();for(let U=0;U<T.length;U+=1)T[U].c();g=Y(),m=K("tbody");for(let U=0;U<P.length;U+=1)P[U].c();M=Y(),p=K("tr"),A=K("td"),v=se(b),E=Y();for(let U=0;U<N.length;U+=1)N[U].c();x=Y(),_=K("td"),un(a,"min-width","200px"),ut(n,"class","svelte-12jgd06"),ut(d,"class","svelte-12jgd06"),ut(A,"class","svelte-12jgd06"),ut(_,"class","svelte-12jgd06"),ut(p,"class","svelte-12jgd06"),ut(t,"class","svelte-12jgd06")},m(U,$){_t(U,t,$),R(t,i),R(i,n),R(n,a),R(n,s);for(let F=0;F<O.length;F+=1)O[F]&&O[F].m(n,null);R(t,l),R(t,c),R(c,d),R(d,u),R(d,h);for(let F=0;F<T.length;F+=1)T[F]&&T[F].m(d,null);R(t,g),R(t,m);for(let F=0;F<P.length;F+=1)P[F]&&P[F].m(m,null);R(m,M),R(m,p),R(p,A),R(A,v),R(p,E);for(let F=0;F<N.length;F+=1)N[F]&&N[F].m(p,null);R(p,x),R(p,_)},p(U,$){if($[0]&1){D=Ge(U[0]);let F;for(F=0;F<D.length;F+=1){const j=BT(U,D,F);P[F]?P[F].p(j,$):(P[F]=iI(j),P[F].c(),P[F].m(m,M))}for(;F<P.length;F+=1)P[F].d(1);P.length=D.length}if($[0]&1&&b!==(b=U[0].length+"")&&Ue(v,b),$[0]&1){L=Ge(g0);let F;for(F=0;F<L.length;F+=1){const j=TT(U,L,F);N[F]?N[F].p(j,$):(N[F]=rI(j),N[F].c(),N[F].m(p,x))}for(;F<N.length;F+=1)N[F].d(1);N.length=L.length}},d(U){U&&Ct(t),Oi(O,U),Oi(T,U),Oi(P,U),Oi(N,U)}}}function aI(e){let t,i=e[35]+"",n;return{c(){t=K("th"),n=se(i),ut(t,"class","small svelte-12jgd06")},m(a,s){_t(a,t,s),R(t,n)},p(a,s){s[0]&4&&i!==(i=a[35]+"")&&Ue(n,i)},d(a){a&&Ct(t)}}}function sI(e){let t,i=e[35].patterns.includes(e[32])?"⬤":"",n;return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(a,s){_t(a,t,s),R(t,n)},p(a,s){s[0]&5&&i!==(i=a[35].patterns.includes(a[32])?"⬤":"")&&Ue(n,i)},d(a){a&&Ct(t)}}}function oI(e){let t,i,n=e[35].title+"",a,s,l,c,d=e[35].patterns.length+"",u,h,g=Ge([...e[2]]),m=[];for(let M=0;M<g.length;M+=1)m[M]=sI(xT(e,g,M));return{c(){t=K("tr"),i=K("td"),a=se(n),s=Y();for(let M=0;M<m.length;M+=1)m[M].c();l=Y(),c=K("td"),u=se(d),h=Y(),un(i,"text-align","right"),ut(i,"class","svelte-12jgd06"),ut(c,"class","svelte-12jgd06"),ut(t,"class","svelte-12jgd06")},m(M,p){_t(M,t,p),R(t,i),R(i,a),R(t,s);for(let A=0;A<m.length;A+=1)m[A]&&m[A].m(t,null);R(t,l),R(t,c),R(c,u),R(t,h)},p(M,p){if(p[0]&1&&n!==(n=M[35].title+"")&&Ue(a,n),p[0]&5){g=Ge([...M[2]]);let A;for(A=0;A<g.length;A+=1){const b=xT(M,g,A);m[A]?m[A].p(b,p):(m[A]=sI(b),m[A].c(),m[A].m(t,l))}for(;A<m.length;A+=1)m[A].d(1);m.length=g.length}p[0]&1&&d!==(d=M[35].patterns.length+"")&&Ue(u,d)},d(M){M&&Ct(t),Oi(m,M)}}}function lI(e){let t,i=e[0].filter(a).length+"",n;function a(...s){return e[10](e[32],...s)}return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(s,l){_t(s,t,l),R(t,n)},p(s,l){e=s,l[0]&5&&i!==(i=e[0].filter(a).length+"")&&Ue(n,i)},d(s){s&&Ct(t)}}}function gvt(e){let t,i,n,a,s,l,c,d,u,h,g=e[0].length+"",m,M,p,A,b=Ge([...e[2]]),v=[];for(let O=0;O<b.length;O+=1)v[O]=aI(ST(e,b,O));let E=Ge(e[0]),x=[];for(let O=0;O<E.length;O+=1)x[O]=oI(OT(e,E,O));let _=Ge([...e[2]]),C=[];for(let O=0;O<_.length;O+=1)C[O]=lI(wT(e,_,O));return{c(){t=K("table"),i=K("thead"),n=K("tr"),a=K("th"),a.textContent="app",s=Y();for(let O=0;O<v.length;O+=1)v[O].c();l=Y(),c=K("tbody");for(let O=0;O<x.length;O+=1)x[O].c();d=Y(),u=K("tr"),h=K("td"),m=se(g),M=Y();for(let O=0;O<C.length;O+=1)C[O].c();p=Y(),A=K("td"),un(a,"min-width","200px"),ut(n,"class","svelte-12jgd06"),ut(h,"class","svelte-12jgd06"),ut(A,"class","svelte-12jgd06"),ut(u,"class","svelte-12jgd06"),ut(t,"class","svelte-12jgd06")},m(O,I){_t(O,t,I),R(t,i),R(i,n),R(n,a),R(n,s);for(let T=0;T<v.length;T+=1)v[T]&&v[T].m(n,null);R(t,l),R(t,c);for(let T=0;T<x.length;T+=1)x[T]&&x[T].m(c,null);R(c,d),R(c,u),R(u,h),R(h,m),R(u,M);for(let T=0;T<C.length;T+=1)C[T]&&C[T].m(u,null);R(u,p),R(u,A)},p(O,I){if(I[0]&4){b=Ge([...O[2]]);let T;for(T=0;T<b.length;T+=1){const D=ST(O,b,T);v[T]?v[T].p(D,I):(v[T]=aI(D),v[T].c(),v[T].m(n,null))}for(;T<v.length;T+=1)v[T].d(1);v.length=b.length}if(I[0]&5){E=Ge(O[0]);let T;for(T=0;T<E.length;T+=1){const D=OT(O,E,T);x[T]?x[T].p(D,I):(x[T]=oI(D),x[T].c(),x[T].m(c,d))}for(;T<x.length;T+=1)x[T].d(1);x.length=E.length}if(I[0]&1&&g!==(g=O[0].length+"")&&Ue(m,g),I[0]&5){_=Ge([...O[2]]);let T;for(T=0;T<_.length;T+=1){const D=wT(O,_,T);C[T]?C[T].p(D,I):(C[T]=lI(D),C[T].c(),C[T].m(u,p))}for(;T<C.length;T+=1)C[T].d(1);C.length=_.length}},d(O){O&&Ct(t),Oi(v,O),Oi(x,O),Oi(C,O)}}}function Mvt(e){let t;return{c(){t=K("th"),t.textContent=`${e[35]}`,ut(t,"class","small svelte-12jgd06")},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function cI(e){let t,i=e[35].difficulty.includes(e[32])?"⬤":"",n;return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(a,s){_t(a,t,s),R(t,n)},p(a,s){s[0]&1&&i!==(i=a[35].difficulty.includes(a[32])?"⬤":"")&&Ue(n,i)},d(a){a&&Ct(t)}}}function uI(e){let t,i,n=e[35].title+"",a,s,l,c=Ge(["beginner","intermediate","advanced"]),d=[];for(let u=0;u<3;u+=1)d[u]=cI(ET(e,c,u));return{c(){t=K("tr"),i=K("td"),a=se(n),s=Y();for(let u=0;u<3;u+=1)d[u].c();l=Y(),un(i,"text-align","right"),ut(i,"class","svelte-12jgd06"),ut(t,"class","svelte-12jgd06")},m(u,h){_t(u,t,h),R(t,i),R(i,a),R(t,s);for(let g=0;g<3;g+=1)d[g]&&d[g].m(t,null);R(t,l)},p(u,h){if(h[0]&1&&n!==(n=u[35].title+"")&&Ue(a,n),h[0]&1){c=Ge(["beginner","intermediate","advanced"]);let g;for(g=0;g<3;g+=1){const m=ET(u,c,g);d[g]?d[g].p(m,h):(d[g]=cI(m),d[g].c(),d[g].m(t,l))}for(;g<3;g+=1)d[g].d(1)}},d(u){u&&Ct(t),Oi(d,u)}}}function dI(e){let t,i=e[0].filter(a).length+"",n;function a(...s){return e[11](e[32],...s)}return{c(){t=K("td"),n=se(i),ut(t,"class","svelte-12jgd06")},m(s,l){_t(s,t,l),R(t,n)},p(s,l){e=s,l[0]&1&&i!==(i=e[0].filter(a).length+"")&&Ue(n,i)},d(s){s&&Ct(t)}}}function Avt(e){let t,i,n,a,s,l,c,d,u,h,g=e[0].length+"",m,M,p=Ge(["beginner","intermediate","advanced"]),A=[];for(let _=0;_<3;_+=1)A[_]=Mvt(ovt(e,p,_));let b=Ge(e[0]),v=[];for(let _=0;_<b.length;_+=1)v[_]=uI(_T(e,b,_));let E=Ge(["beginner","intermediate","advanced"]),x=[];for(let _=0;_<3;_+=1)x[_]=dI(CT(e,E,_));return{c(){t=K("table"),i=K("thead"),n=K("tr"),a=K("th"),a.textContent="app",s=Y();for(let _=0;_<3;_+=1)A[_].c();l=Y(),c=K("tbody");for(let _=0;_<v.length;_+=1)v[_].c();d=Y(),u=K("tr"),h=K("td"),m=se(g),M=Y();for(let _=0;_<3;_+=1)x[_].c();un(a,"min-width","200px"),ut(n,"class","svelte-12jgd06"),ut(h,"class","svelte-12jgd06"),ut(u,"class","svelte-12jgd06"),ut(t,"class","svelte-12jgd06")},m(_,C){_t(_,t,C),R(t,i),R(i,n),R(n,a),R(n,s);for(let O=0;O<3;O+=1)A[O]&&A[O].m(n,null);R(t,l),R(t,c);for(let O=0;O<v.length;O+=1)v[O]&&v[O].m(c,null);R(c,d),R(c,u),R(u,h),R(h,m),R(u,M);for(let O=0;O<3;O+=1)x[O]&&x[O].m(u,null)},p(_,C){if(C[0]&1){b=Ge(_[0]);let O;for(O=0;O<b.length;O+=1){const I=_T(_,b,O);v[O]?v[O].p(I,C):(v[O]=uI(I),v[O].c(),v[O].m(c,d))}for(;O<v.length;O+=1)v[O].d(1);v.length=b.length}if(C[0]&1&&g!==(g=_[0].length+"")&&Ue(m,g),C[0]&1){E=Ge(["beginner","intermediate","advanced"]);let O;for(O=0;O<3;O+=1){const I=CT(_,E,O);x[O]?x[O].p(I,C):(x[O]=dI(I),x[O].c(),x[O].m(u,null))}for(;O<3;O+=1)x[O].d(1)}},d(_){_&&Ct(t),Oi(A,_),Oi(v,_),Oi(x,_)}}}function yvt(e){let t,i,n,a,s,l;return{c(){t=K("tr"),i=K("td"),i.textContent=`${e[31]===0?e[27].title:""}`,n=Y(),a=K("td"),a.textContent=`${e[21].title}`,s=Y(),l=K("td"),l.textContent=`${e[21].description}`,ut(i,"class","svelte-12jgd06"),ut(a,"class","svelte-12jgd06"),un(l,"width","820px"),un(l,"padding","5px 0"),ut(l,"class","svelte-12jgd06"),ut(t,"class","svelte-12jgd06")},m(c,d){_t(c,t,d),R(t,i),R(t,n),R(t,a),R(t,s),R(t,l)},p:Fe,d(c){c&&Ct(t)}}}function vvt(e){let t,i,n,a,s=Ge(e[27].children),l=[];for(let c=0;c<s.length;c+=1)l[c]=yvt(svt(e,s,c));return{c(){for(let c=0;c<l.length;c+=1)l[c].c();t=Y(),i=K("tr"),n=Y(),a=K("tr"),un(i,"height","20px"),ut(i,"class","svelte-12jgd06"),ut(a,"class","svelte-12jgd06")},m(c,d){for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(c,d);_t(c,t,d),_t(c,i,d),_t(c,n,d),_t(c,a,d)},p:Fe,d(c){c&&(Ct(t),Ct(i),Ct(n),Ct(a)),Oi(l,c)}}}function bvt(e){let t,i,n,a,s=Ge(g0),l=[];for(let c=0;c<s.length;c+=1)l[c]=vvt(avt(e,s,c));return{c(){t=K("table"),i=K("thead"),i.innerHTML='<tr class="svelte-12jgd06"><th style="width: fit-content">category</th> <th style="width: fit-content">skill</th> <th>explanation</th></tr>',n=Y(),a=K("tbody");for(let c=0;c<l.length;c+=1)l[c].c();un(t,"text-align","left"),ut(t,"class","svelte-12jgd06")},m(c,d){_t(c,t,d),R(t,i),R(t,n),R(t,a);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(a,null)},p:Fe,d(c){c&&Ct(t),Oi(l,c)}}}function Cvt(e){let t;return{c(){t=K("li"),t.textContent=`${e[24].title} `,un(t,"font-size","12px")},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function _vt(e){let t,i,n,a,s;function l(...h){return e[13](e[21],...h)}function c(...h){return e[14](e[21],...h)}let d=Ge(_s.filter(c)),u=[];for(let h=0;h<d.length;h+=1)u[h]=Cvt(rvt(e,d,h));return{c(){t=K("li"),i=K("b"),i.textContent=`${e[21].title} (${_s.filter(l).length})`,n=Y(),a=K("ul");for(let h=0;h<u.length;h+=1)u[h].c();s=Y()},m(h,g){_t(h,t,g),R(t,i),R(t,n),R(t,a);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(a,null);R(t,s)},p(h,g){e=h},d(h){h&&Ct(t),Oi(u,h)}}}function hI(e){let t,i,n,a,s,l=Ge(e[18].children),c=[];for(let d=0;d<l.length;d+=1)c[d]=_vt(nvt(e,l,d));return{c(){t=K("li"),i=K("b"),i.textContent=`${e[18].title} (${new Set(e[18].children.flatMap(e[12])).size})`,n=Y(),a=K("ul");for(let d=0;d<c.length;d+=1)c[d].c();s=Y()},m(d,u){_t(d,t,u),R(t,i),R(t,n),R(t,a);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(a,null);R(t,s)},p:Fe,d(d){d&&Ct(t),Oi(c,d)}}}function Evt(e){let t,i=Ge(g0),n=[];for(let a=0;a<i.length;a+=1)n[a]=hI(bT(e,i,a));return{c(){t=K("ul");for(let a=0;a<n.length;a+=1)n[a].c();ut(t,"class","list svelte-12jgd06")},m(a,s){_t(a,t,s);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(t,null)},p(a,s){if(s&0){i=Ge(g0);let l;for(l=0;l<i.length;l+=1){const c=bT(a,i,l);n[l]?n[l].p(c,s):(n[l]=hI(c),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=i.length}},d(a){a&&Ct(t),Oi(n,a)}}}function wvt(e){let t,i;return{c(){t=K("div"),i=K("div"),ut(i,"class","visualization"),un(t,"width","1000px"),un(t,"margin","auto")},m(n,a){_t(n,t,a),R(t,i),e[15](i)},p:Fe,d(n){n&&Ct(t),e[15](null)}}}function Ovt(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b,v;return a=new c0({props:{heading:"Inputs and Instruments",$$slots:{default:[dvt]},$$scope:{ctx:e}}}),l=new c0({props:{heading:"Skills",$$slots:{default:[pvt]},$$scope:{ctx:e}}}),d=new c0({props:{heading:"Design Patterns",$$slots:{default:[gvt]},$$scope:{ctx:e}}}),h=new c0({props:{heading:"Difficulty",$$slots:{default:[Avt]},$$scope:{ctx:e}}}),m=new c0({props:{heading:"Skill Descriptions",$$slots:{default:[bvt]},$$scope:{ctx:e}}}),p=new c0({props:{heading:"Apps by Skill",$$slots:{default:[Evt]},$$scope:{ctx:e}}}),b=new c0({props:{heading:"App Meta Data Relations",$$slots:{default:[wvt]},$$scope:{ctx:e}}}),{c(){t=K("main"),i=K("p"),i.textContent="This page contains overviews over apps and skills.",n=Y(),Ut(a.$$.fragment),s=Y(),Ut(l.$$.fragment),c=Y(),Ut(d.$$.fragment),u=Y(),Ut(h.$$.fragment),g=Y(),Ut(m.$$.fragment),M=Y(),Ut(p.$$.fragment),A=Y(),Ut(b.$$.fragment),ut(i,"class","explanation"),ut(t,"class","svelte-12jgd06")},m(E,x){_t(E,t,x),R(t,i),R(t,n),Nt(a,t,null),R(t,s),Nt(l,t,null),R(t,c),Nt(d,t,null),R(t,u),Nt(h,t,null),R(t,g),Nt(m,t,null),R(t,M),Nt(p,t,null),R(t,A),Nt(b,t,null),v=!0},p(E,x){const _={};x[0]&3|x[2]&8388608&&(_.$$scope={dirty:x,ctx:E}),a.$set(_);const C={};x[0]&1|x[2]&8388608&&(C.$$scope={dirty:x,ctx:E}),l.$set(C);const O={};x[0]&5|x[2]&8388608&&(O.$$scope={dirty:x,ctx:E}),d.$set(O);const I={};x[0]&1|x[2]&8388608&&(I.$$scope={dirty:x,ctx:E}),h.$set(I);const T={};x[2]&8388608&&(T.$$scope={dirty:x,ctx:E}),m.$set(T);const D={};x[2]&8388608&&(D.$$scope={dirty:x,ctx:E}),p.$set(D);const P={};x[0]&8|x[2]&8388608&&(P.$$scope={dirty:x,ctx:E}),b.$set(P)},i(E){v||(Bt(a.$$.fragment,E),Bt(l.$$.fragment,E),Bt(d.$$.fragment,E),Bt(h.$$.fragment,E),Bt(m.$$.fragment,E),Bt(p.$$.fragment,E),Bt(b.$$.fragment,E),v=!0)},o(E){Rt(a.$$.fragment,E),Rt(l.$$.fragment,E),Rt(d.$$.fragment,E),Rt(h.$$.fragment,E),Rt(m.$$.fragment,E),Rt(p.$$.fragment,E),Rt(b.$$.fragment,E),v=!1},d(E){E&&Ct(t),Ft(a),Ft(l),Ft(d),Ft(h),Ft(m),Ft(p),Ft(b)}}}const fI=e=>e.input==="MIDI",mI=e=>e.input==="audio";function xvt(e,t,i){let{apps:n=[]}=t,a=new Set(["drum","guitar/bass","keyboard","singing","pc-key","touch"]),{allData:s=new Set}=t,{allPatterns:l=new Set}=t,c=["a single note","a few notes","a few bars","a full song"],d;const u=()=>{console.log("test");const C=[["skills","patterns"],["data","skills"],["data","patterns"],["instruments","skills"],["instruments","patterns"],["instruments","data"]];i(3,d.textContent="",d);for(const[O,I]of C)h(O,I)},h=(C,O)=>{console.log(C,O);const I=new Map;for(const P of n)for(const L of P[O]){I.has(L)||I.set(L,new Map);const N=I.get(L);for(const U of P[C])N.has(U)||N.set(U,new Set),N.get(U).add(P.title)}const T=[];for(const[P,L]of I.entries())for(const[N,U]of L.entries())T.push({k1:P,k2:N,apps:[...U]});const D=Sn({margin:10,marginLeft:150,marginRight:50,marginTop:50,marginBottom:100,width:1e3,aspectRatio:1.2,grid:!0,x:{label:O,tickRotate:45},y:{label:C},color:{label:"number of apps",scheme:"blues"},marks:[a8(T,{x:P=>P.k1,y:P=>P.k2,fill:P=>P.apps.length,title:P=>`${P.k1} | ${P.k2}

${P.apps.join(`
`)}`,rx:5}),Qr(T,{x:P=>P.k1,y:P=>P.k2,text:P=>P.apps.length,stroke:"#fffc",strokeWidth:2.5,fill:"black"})]});d.appendChild(D)};sr(u);const g=(C,O)=>O.instruments.includes(C),m=(C,O)=>O.data.includes(C),M=(C,O)=>O.timeScale.includes(C),p=(C,O)=>O.skills.includes(C.id),A=(C,O)=>O.patterns.includes(C),b=(C,O)=>O.difficulty.includes(C),v=C=>_s.filter(O=>O.skills.includes(C.id)),E=(C,O)=>O.skills.includes(C.id),x=(C,O)=>O.skills.includes(C.id);function _(C){me[C?"unshift":"push"](()=>{d=C,i(3,d)})}return e.$$set=C=>{"apps"in C&&i(0,n=C.apps),"allData"in C&&i(1,s=C.allData),"allPatterns"in C&&i(2,l=C.allPatterns)},[n,s,l,d,a,c,g,m,M,p,A,b,v,E,x,_]}class Svt extends qi{constructor(t){super(),Wi(this,t,xvt,Ovt,Ji,{apps:0,allData:1,allPatterns:2},null,[-1,-1,-1])}}function Tvt(e){let t;return{c(){t=K("p"),t.textContent=`This website contains a collection of small apps for learning
            musical instruments. They are each tailored to specific musical
            skills and sometimes also specific kind of musical data or
            instrument.`,ut(t,"class","explanation")},m(i,n){_t(i,t,n)},p:Fe,d(i){i&&Ct(t)}}}function Ivt(e){let t,i,n,a,s;return{c(){t=K("p"),t.textContent=`Many app require a MIDI instrument, such as a keyboard or electronic
            drum kit. Other MIDI instruments will work too, just try it! A few
            apps work with audio and should therefore supported any (pitched)
            instrument and singing. Some apps can also be used with a PC
            keyboard (spacebar if not explained otherwise) or a touch screen.
            The most tricky to use are the guitar (fretboard) apps, which
            require are MIDI guitar or a guitar with an added MIDI pickup.`,i=Y(),n=K("h4"),n.textContent="What if I only have a MIDI keyboard without synthesizer?",a=Y(),s=K("p"),s.innerHTML=`You can simply open a web synth in another tab! For example,
            <a href="https://midi.city/" target="_blank" referrerpolicy="no-referrer">midi.city</a>.`,ut(t,"class","explanation"),ut(s,"class","explanation")},m(l,c){_t(l,t,c),_t(l,i,c),_t(l,n,c),_t(l,a,c),_t(l,s,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s))}}}function Bvt(e){let t,i,n,a,s,l,c,d,u;return{c(){t=K("p"),t.innerHTML=`<b>App Menu (☰).</b>
            The app menu lists all apps with a short description and icons that indicate
            the supported instruments. You can filter and sort apps by different
            aspects with the sidebar on the left. Apps that you never used before
            are marked with a ✨.`,i=Y(),n=K("p"),n.innerHTML=`<b>Tools (🛠️).</b>
            The tools page contains smaller, but sometimes helpful tools. For example,
            you can see which MIDI messages your instrument sends.`,a=Y(),s=K("p"),s.innerHTML=`<b>Settings (⚙️).</b>
            Global settings that apply to multiple (but not all) apps. Here you can
            export and delete all locally stored data.`,l=Y(),c=K("p"),c.innerHTML=`<b>Data and Saving.</b>
            You can export and import a take in most apps. Whenever you leave an
            app, reset, or load from the history, your current take will be auto-saved
            and added to the history. Use the history button too see the modal with
            the auto-saved takes where you can load or delete them.
            <i>No data is sent anywhere, it all is saved in your browser. You
                can export or reset it in the settings.</i> <span class="warning">Warning:</span> Auto-save only works when you reset
            or exit the app by returning to the home screen. If you refresh the page
            or close the tab while in an app, its current data will be lost.`,d=Y(),u=K("p"),u.innerHTML=`<b>Importing.</b>
            Import a recorded take from a file through the import button or by dragging
            and dropping a file on the app (a blue background indicates that you
            can drop it).`,ut(t,"class","explanation"),ut(n,"class","explanation"),ut(s,"class","explanation"),ut(c,"class","explanation"),ut(u,"class","explanation")},m(h,g){_t(h,t,g),_t(h,i,g),_t(h,n,g),_t(h,a,g),_t(h,s,g),_t(h,l,g),_t(h,c,g),_t(h,d,g),_t(h,u,g)},p:Fe,d(h){h&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c),Ct(d),Ct(u))}}}function Rvt(e){let t,i,n,a,s,l,c;return{c(){t=K("h4"),t.textContent="General",i=Y(),n=K("ul"),n.innerHTML=`<li class="svelte-igm9sv"><code>CTRL</code>+<code>F</code> focuses the search bar in the app
                menu</li> <li class="svelte-igm9sv"><code>CTRL</code>+<code>+</code> and <code>CTRL</code>+<code>-</code> zooms in and out</li> <li class="svelte-igm9sv"><code>F11</code> toggles fullscreen.</li>`,a=Y(),s=K("h4"),s.textContent="App",l=Y(),c=K("ul"),c.innerHTML=`<li class="svelte-igm9sv"><code>m</code> toggles the metronome</li> <li class="svelte-igm9sv"><code>r</code> resets the played data</li> <li class="svelte-igm9sv">(history modal) <code>Escape</code> closes the modal</li> <li class="svelte-igm9sv">(some apps) <code>CTRL</code>+<code>Z</code> un-does the last note</li> <li class="svelte-igm9sv">(some apps) <code>CTRL</code>+<code>Y</code> re-does the last undone
                note</li>`,ut(n,"class","svelte-igm9sv"),ut(c,"class","svelte-igm9sv")},m(d,u){_t(d,t,u),_t(d,i,u),_t(d,n,u),_t(d,a,u),_t(d,s,u),_t(d,l,u),_t(d,c,u)},p:Fe,d(d){d&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s),Ct(l),Ct(c))}}}function Dvt(e){let t,i,n;return{c(){t=K("h4"),t.textContent="MIDI",i=Y(),n=K("p"),n.innerHTML=`If MIDI input does not work, make sure that the device is connected
            and works. The browser can also see MIDI devices that are <i>not in use in other software</i>, such as other browsers that you have opened this website in. Some
            MIDI software requires a MIDI loopback that simulates a hardware
            MIDI device. We recommend
            <a href="https://www.tobias-erichsen.de/software/loopmidi.html">loopMIDI</a> for Windows.`,ut(n,"class","explanation")},m(a,s){_t(a,t,s),_t(a,i,s),_t(a,n,s)},p:Fe,d(a){a&&(Ct(t),Ct(i),Ct(n))}}}function Pvt(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A;return l=new c0({props:{heading:"What is this website?",$$slots:{default:[Tvt]},$$scope:{ctx:e}}}),d=new c0({props:{heading:"What do I need to use the apps?",$$slots:{default:[Ivt]},$$scope:{ctx:e}}}),h=new c0({props:{heading:"How do I use this website?",$$slots:{default:[Bvt]},$$scope:{ctx:e}}}),m=new c0({props:{heading:"Keyboard Shortcuts",$$slots:{default:[Rvt]},$$scope:{ctx:e}}}),p=new c0({props:{heading:"Troubleshooting",$$slots:{default:[Dvt]},$$scope:{ctx:e}}}),{c(){t=K("main"),i=K("h2"),i.textContent="Help",n=Y(),a=K("p"),a.textContent="Click on a topic to show helpful information.",s=Y(),Ut(l.$$.fragment),c=Y(),Ut(d.$$.fragment),u=Y(),Ut(h.$$.fragment),g=Y(),Ut(m.$$.fragment),M=Y(),Ut(p.$$.fragment),ut(a,"class","explanation")},m(b,v){_t(b,t,v),R(t,i),R(t,n),R(t,a),R(t,s),Nt(l,t,null),R(t,c),Nt(d,t,null),R(t,u),Nt(h,t,null),R(t,g),Nt(m,t,null),R(t,M),Nt(p,t,null),A=!0},p(b,[v]){const E={};v&1&&(E.$$scope={dirty:v,ctx:b}),l.$set(E);const x={};v&1&&(x.$$scope={dirty:v,ctx:b}),d.$set(x);const _={};v&1&&(_.$$scope={dirty:v,ctx:b}),h.$set(_);const C={};v&1&&(C.$$scope={dirty:v,ctx:b}),m.$set(C);const O={};v&1&&(O.$$scope={dirty:v,ctx:b}),p.$set(O)},i(b){A||(Bt(l.$$.fragment,b),Bt(d.$$.fragment,b),Bt(h.$$.fragment,b),Bt(m.$$.fragment,b),Bt(p.$$.fragment,b),A=!0)},o(b){Rt(l.$$.fragment,b),Rt(d.$$.fragment,b),Rt(h.$$.fragment,b),Rt(m.$$.fragment,b),Rt(p.$$.fragment,b),A=!1},d(b){b&&Ct(t),Ft(l),Ft(d),Ft(h),Ft(m),Ft(p)}}}class Lvt extends qi{constructor(t){super(),Wi(this,t,null,Pvt,Ji,{})}}function pI(e,t,i){const n=e.slice();return n[10]=t[i],n[12]=i,n}function gI(e,t,i){const n=e.slice();return n[13]=t[i],n}function MI(e,t,i){const n=e.slice();return n[16]=t[i],n}function AI(e){let t;return{c(){t=K("div"),un(t,"background-color",e[16]<=e[1]?"var(--accent)":"#eee"),ut(t,"class","svelte-5546bh")},m(i,n){_t(i,t,n)},p(i,n){n&2&&un(t,"background-color",i[16]<=i[1]?"var(--accent)":"#eee")},d(i){i&&Ct(t)}}}function yI(e){let t,i,n=Ge(e[0].selection),a=[];for(let l=0;l<n.length;l+=1)a[l]=vI(gI(e,n,l));const s=l=>Rt(a[l],1,1,()=>{a[l]=null});return{c(){t=K("div");for(let l=0;l<a.length;l+=1)a[l].c();ut(t,"class","svelte-5546bh")},m(l,c){_t(l,t,c);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(t,null);i=!0},p(l,c){if(c&1){n=Ge(l[0].selection);let d;for(d=0;d<n.length;d+=1){const u=gI(l,n,d);a[d]?(a[d].p(u,c),Bt(a[d],1)):(a[d]=vI(u),a[d].c(),Bt(a[d],1),a[d].m(t,null))}for(W0(),d=n.length;d<a.length;d+=1)s(d);q0()}},i(l){if(!i){for(let c=0;c<n.length;c+=1)Bt(a[c]);i=!0}},o(l){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)Rt(a[c]);i=!1},d(l){l&&Ct(t),Oi(a,l)}}}function vI(e){let t,i;return t=new Tr({props:{label:e[13].text,title:e[13].title,checked:!1,callback:e[13].action}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a&1&&(s.label=n[13].text),a&1&&(s.title=n[13].title),a&1&&(s.callback=n[13].action),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}function bI(e){let t,i=e[10].text+"",n,a,s;return{c(){t=K("button"),n=se(i),ut(t,"style",e[12]===0?"background: var(--accent)":"")},m(l,c){_t(l,t,c),R(t,n),a||(s=Qe(t,"click",function(){V0(e[10].action)&&e[10].action.apply(this,arguments)}),a=!0)},p(l,c){e=l,c&1&&i!==(i=e[10].text+"")&&Ue(n,i)},d(l){l&&Ct(t),a=!1,s()}}}function kvt(e){let t,i,n,a,s,l=e[1]+1+"",c,d,u=e[2].length+"",h,g,m,M,p,A,b=e[0].text+"",v,E,x,_,C,O=Ge(Ci(e[2].length)),I=[];for(let L=0;L<O.length;L+=1)I[L]=AI(MI(e,O,L));let T=e[0].selection&&yI(e),D=Ge(e[0].options),P=[];for(let L=0;L<D.length;L+=1)P[L]=bI(pI(e,D,L));return{c(){t=K("main"),i=K("h2"),i.textContent="Welcome!",n=Y(),a=K("div"),s=se("step "),c=se(l),d=se(" of "),h=se(u),g=Y(),m=K("div");for(let L=0;L<I.length;L+=1)I[L].c();M=Y(),p=K("div"),A=K("p"),v=se(b),E=Y(),T&&T.c(),x=Y(),_=K("div");for(let L=0;L<P.length;L+=1)P[L].c();ut(a,"class","svelte-5546bh"),ut(m,"class","progress svelte-5546bh"),ut(A,"class","explanation"),ut(p,"class","svelte-5546bh"),ut(_,"class","svelte-5546bh")},m(L,N){_t(L,t,N),R(t,i),R(t,n),R(t,a),R(a,s),R(a,c),R(a,d),R(a,h),R(t,g),R(t,m);for(let U=0;U<I.length;U+=1)I[U]&&I[U].m(m,null);R(t,M),R(t,p),R(p,A),R(A,v),R(t,E),T&&T.m(t,null),R(t,x),R(t,_);for(let U=0;U<P.length;U+=1)P[U]&&P[U].m(_,null);C=!0},p(L,[N]){if((!C||N&2)&&l!==(l=L[1]+1+"")&&Ue(c,l),N&6){O=Ge(Ci(L[2].length));let U;for(U=0;U<O.length;U+=1){const $=MI(L,O,U);I[U]?I[U].p($,N):(I[U]=AI($),I[U].c(),I[U].m(m,null))}for(;U<I.length;U+=1)I[U].d(1);I.length=O.length}if((!C||N&1)&&b!==(b=L[0].text+"")&&Ue(v,b),L[0].selection?T?(T.p(L,N),N&1&&Bt(T,1)):(T=yI(L),T.c(),Bt(T,1),T.m(t,x)):T&&(W0(),Rt(T,1,1,()=>{T=null}),q0()),N&1){D=Ge(L[0].options);let U;for(U=0;U<D.length;U+=1){const $=pI(L,D,U);P[U]?P[U].p($,N):(P[U]=bI($),P[U].c(),P[U].m(_,null))}for(;U<P.length;U+=1)P[U].d(1);P.length=D.length}},i(L){C||(Bt(T),C=!0)},o(L){Rt(T),C=!1},d(L){L&&Ct(t),Oi(I,L),T&&T.d(),Oi(P,L)}}}function Nvt(e,t,i){let n,a,{finishWelcome:s}=t,{allInstruments:l=new Set}=t,{allDifficulties:c=["beginner","intermediate","advanced"]}=t,d="start",u=new Set,h=new Set,g=new Set;const m=[{id:"start",text:"This website contains a colelction of small apps that help you practice you instrument by giving you visual feedback. To make it easikser for you to get started, please answer the following few questions, so we can pick appropriate settings for you. You can repeat this process or adapt settings anytime.",options:[{text:"sure!",action:()=>{i(6,d="instrument")}},{text:"no thanks, take me to the full website now",action:s}]},{id:"instrument",text:"Please select all instruments that you have:",selection:[...l].map(M=>({text:M,action:()=>{u=K1(u,M)}})),options:[{text:"continue",action:()=>{i(6,d="difficulty")}},{text:"back",action:()=>{i(6,d="start")}}]},{id:"difficulty",text:"Please select you current levels of experience for which you want to see apps:",selection:c.map(M=>({text:M,action:()=>{g=K1(g,M)}})),options:[{text:"continue",action:()=>{i(6,d="skills")}},{text:"back",action:()=>{i(6,d="instrument")}}]},{id:"skills",text:"Please select a skill you want to practise:",selection:Aat.map(M=>({text:M.title,title:M.description,action:()=>{h=new Set([M.id])}})),options:[{text:"continue",action:()=>{i(6,d="end")}},{text:"back",action:()=>{i(6,d="difficulty")}}]},{id:"end",text:"All done! Remember that you can repeat this process and adapt settings anytime.",options:[{text:"show me the apps now!",action:()=>{s({skills:h,instruments:u,difficulties:g})}},{text:"back",action:()=>{i(6,d="skills")}}]}];return e.$$set=M=>{"finishWelcome"in M&&i(3,s=M.finishWelcome),"allInstruments"in M&&i(4,l=M.allInstruments),"allDifficulties"in M&&i(5,c=M.allDifficulties)},e.$$.update=()=>{e.$$.dirty&64&&i(0,n=m.filter(M=>M.id===d)[0]),e.$$.dirty&1&&i(1,a=m.indexOf(n))},[n,a,m,s,l,c,d]}class Fvt extends qi{constructor(t){super(),Wi(this,t,Nvt,kvt,Ji,{finishWelcome:3,allInstruments:4,allDifficulties:5})}}function CI(e){let t;return{c(){t=K("span"),t.textContent="audio",ut(t,"title","works with audio")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function _I(e){let t;return{c(){t=K("span"),t.textContent="MIDI",ut(t,"title","requires a MIDI instrument")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function EI(e){let t;return{c(){t=K("span"),t.textContent=`${zL}`,ut(t,"title","works with guitar/bass")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function wI(e){let t;return{c(){t=K("span"),t.textContent=`${QL}`,ut(t,"title","works with drum")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function OI(e){let t;return{c(){t=K("span"),t.textContent=`${HL}`,ut(t,"title","works with keyboard")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function xI(e){let t;return{c(){t=K("span"),t.textContent=`${mat}`,ut(t,"title","works with singing")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function SI(e){let t;return{c(){t=K("span"),t.textContent=`${pat}`,ut(t,"title","you can use PC keyboard if you don't have an instrument")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function TI(e){let t;return{c(){t=K("span"),t.textContent=`${gat}`,ut(t,"title","you can use touch screen if you don't have an instrument")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function Uvt(e){let t,i,n,a,s=e[0].instruments.includes("guitar/bass"),l,c=e[0].instruments.includes("drum"),d,u=e[0].instruments.includes("keyboard"),h,g=e[0].instruments.includes("singing"),m,M=e[0].instruments.includes("pc-key"),p,A=e[0].instruments.includes("touch"),b=e[0].input==="audio"&&CI(),v=e[0].input==="MIDI"&&_I(),E=s&&EI(),x=c&&wI(),_=u&&OI(),C=g&&xI(),O=M&&SI(),I=A&&TI();return{c(){t=K("div"),i=K("span"),b&&b.c(),n=Y(),v&&v.c(),a=Y(),E&&E.c(),l=Y(),x&&x.c(),d=Y(),_&&_.c(),h=Y(),C&&C.c(),m=Y(),O&&O.c(),p=Y(),I&&I.c(),ut(i,"class","data-type svelte-324j6v"),ut(t,"class","tags")},m(T,D){_t(T,t,D),R(t,i),b&&b.m(i,null),R(i,n),v&&v.m(i,null),R(t,a),E&&E.m(t,null),R(t,l),x&&x.m(t,null),R(t,d),_&&_.m(t,null),R(t,h),C&&C.m(t,null),R(t,m),O&&O.m(t,null),R(t,p),I&&I.m(t,null)},p(T,[D]){T[0].input==="audio"?b||(b=CI(),b.c(),b.m(i,n)):b&&(b.d(1),b=null),T[0].input==="MIDI"?v||(v=_I(),v.c(),v.m(i,null)):v&&(v.d(1),v=null),D&1&&(s=T[0].instruments.includes("guitar/bass")),s?E||(E=EI(),E.c(),E.m(t,l)):E&&(E.d(1),E=null),D&1&&(c=T[0].instruments.includes("drum")),c?x||(x=wI(),x.c(),x.m(t,d)):x&&(x.d(1),x=null),D&1&&(u=T[0].instruments.includes("keyboard")),u?_||(_=OI(),_.c(),_.m(t,h)):_&&(_.d(1),_=null),D&1&&(g=T[0].instruments.includes("singing")),g?C||(C=xI(),C.c(),C.m(t,m)):C&&(C.d(1),C=null),D&1&&(M=T[0].instruments.includes("pc-key")),M?O||(O=SI(),O.c(),O.m(t,p)):O&&(O.d(1),O=null),D&1&&(A=T[0].instruments.includes("touch")),A?I||(I=TI(),I.c(),I.m(t,null)):I&&(I.d(1),I=null)},i:Fe,o:Fe,d(T){T&&Ct(t),b&&b.d(),v&&v.d(),E&&E.d(),x&&x.d(),_&&_.d(),C&&C.d(),O&&O.d(),I&&I.d()}}}function $vt(e,t,i){let{app:n}=t;return e.$$set=a=>{"app"in a&&i(0,n=a.app)},[n]}class Gvt extends qi{constructor(t){super(),Wi(this,t,$vt,Uvt,Ji,{app:0})}}function II(e,{delay:t=0,duration:i=400,easing:n=WI}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:n,css:s=>`opacity: ${s*a}`}}const{Map:Vvt}=Ej;function BI(e,t,i){const n=e.slice();return n[47]=t[i],n}function RI(e,t,i){const n=e.slice();return n[50]=t[i],n}function DI(e,t,i){const n=e.slice();return n[50]=t[i],n}function PI(e,t,i){const n=e.slice();return n[50]=t[i],n}function Hvt(e){let t,i,n;var a=e[0].component;function s(l,c){return{props:{appInfo:l[0]}}}return a&&(t=fp(a,s(e))),{c(){t&&Ut(t.$$.fragment),i=kr()},m(l,c){t&&Nt(t,l,c),_t(l,i,c),n=!0},p(l,c){if(c[0]&1&&a!==(a=l[0].component)){if(t){W0();const d=t;Rt(d.$$.fragment,1,0,()=>{Ft(d,1)}),q0()}a?(t=fp(a,s(l)),Ut(t.$$.fragment),Bt(t.$$.fragment,1),Nt(t,i.parentNode,i)):t=null}else if(a){const d={};c[0]&1&&(d.appInfo=l[0]),t.$set(d)}},i(l){n||(t&&Bt(t.$$.fragment,l),n=!0)},o(l){t&&Rt(t.$$.fragment,l),n=!1},d(l){l&&Ct(i),t&&Ft(t,l)}}}function Qvt(e){let t,i;return t=new Fvt({props:{allInstruments:e[14],finishWelcome:e[43]}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p(n,a){const s={};a[0]&209&&(s.finishWelcome=n[43]),t.$set(s)},i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}function zvt(e){let t,i;return t=new Lvt({}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p:Fe,i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}function jvt(e){let t,i;return t=new Svt({props:{apps:_s,allData:e[15],allPatterns:e[18]}}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p:Fe,i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}function Jvt(e){let t,i;return t=new Cut({}),{c(){Ut(t.$$.fragment)},m(n,a){Nt(t,n,a),i=!0},p:Fe,i(n){i||(Bt(t.$$.fragment,n),i=!0)},o(n){Rt(t.$$.fragment,n),i=!1},d(n){Ft(t,n)}}}function Wvt(e){let t,i,n;function a(l){e[42](l)}let s={rows:e[11]};return e[10]!==void 0&&(s.currentTool=e[10]),t=new yut({props:s}),me.push(()=>Te(t,"currentTool",a)),{c(){Ut(t.$$.fragment)},m(l,c){Nt(t,l,c),n=!0},p(l,c){const d={};c[0]&2048&&(d.rows=l[11]),!i&&c[0]&1024&&(i=!0,d.currentTool=l[10],Se(()=>i=!1)),t.$set(d)},i(l){n||(Bt(t.$$.fragment,l),n=!0)},o(l){Rt(t.$$.fragment,l),n=!1},d(l){Ft(t,l)}}}function qvt(e){let t,i,n,a,s,l,c,d,u,h,g=e[11]?"☰ rows":"᎒᎒᎒ grid",m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L,N,U,$,F=[],j=new Vvt,z,Q,V,q;function J(bt){e[27](bt)}let W={callback:e[26],style:"margin-left: -10px",$$slots:{default:[Xvt]},$$scope:{ctx:e}};e[9]!==void 0&&(W.value=e[9]),c=new qr({props:W}),me.push(()=>Te(c,"value",J));function et(bt){e[29](bt)}let mt={};e[6]!==void 0&&(mt.currentSkills=e[6]),p=new bat({props:mt}),me.push(()=>Te(p,"currentSkills",et));let ot=Ge(e[14].values()),pt=[];for(let bt=0;bt<ot.length;bt+=1)pt[bt]=LI(PI(e,ot,bt));let wt=Ge(["beginner","intermediate","advanced"]),Mt=[];for(let bt=0;bt<3;bt+=1)Mt[bt]=kI(DI(e,wt,bt));let xt=Ge(e[13].values()),dt=[];for(let bt=0;bt<xt.length;bt+=1)dt[bt]=NI(RI(e,xt,bt));let Ot=(e[8]!==""||e[6].size===1||e[4].size<e[14].size||e[7].size<e[17].size||e[5].size<e[13].size)&&FI(e),At=Ge(e[12]);const jt=bt=>bt[47].id;for(let bt=0;bt<At.length;bt+=1){let kt=BI(e,At,bt),Dt=jt(kt);j.set(Dt,F[bt]=JI(Dt,kt))}return{c(){t=K("div"),i=K("div"),n=K("div"),a=K("input"),s=Y(),l=K("div"),Ut(c.$$.fragment),u=Y(),h=K("button"),m=se(g),M=Y(),Ut(p.$$.fragment),b=Y(),v=K("div"),E=K("h2"),E.textContent="instrument",x=Y();for(let bt=0;bt<pt.length;bt+=1)pt[bt].c();_=Y(),C=K("div"),O=K("h2"),O.textContent="difficulty",I=Y();for(let bt=0;bt<3;bt+=1)Mt[bt].c();T=Y(),D=K("div"),P=K("h2"),P.textContent="input",L=Y();for(let bt=0;bt<dt.length;bt+=1)dt[bt].c();N=Y(),U=K("div"),Ot&&Ot.c(),$=Y();for(let bt=0;bt<F.length;bt+=1)F[bt].c();ut(a,"class","search-box"),ut(a,"type","search"),ut(a,"placeholder","search by title"),ut(h,"class","row-button"),ut(i,"class","filter"),ut(U,"class",z="grid "+(e[11]?"rows":"")),ut(t,"class","grid-filter-app")},m(bt,kt){_t(bt,t,kt),R(t,i),R(i,n),R(n,a),Vi(a,e[8]),R(i,s),R(i,l),Nt(c,l,null),R(l,u),R(l,h),R(h,m),R(i,M),Nt(p,i,null),R(i,b),R(i,v),R(v,E),R(v,x);for(let Dt=0;Dt<pt.length;Dt+=1)pt[Dt]&&pt[Dt].m(v,null);R(i,_),R(i,C),R(C,O),R(C,I);for(let Dt=0;Dt<3;Dt+=1)Mt[Dt]&&Mt[Dt].m(C,null);R(i,T),R(i,D),R(D,P),R(D,L);for(let Dt=0;Dt<dt.length;Dt+=1)dt[Dt]&&dt[Dt].m(D,null);R(t,N),R(t,U),Ot&&Ot.m(U,null),R(U,$);for(let Dt=0;Dt<F.length;Dt+=1)F[Dt]&&F[Dt].m(U,null);Q=!0,V||(q=[Qe(a,"input",e[25]),Qe(h,"click",e[28])],V=!0)},p(bt,kt){kt[0]&256&&a.value!==bt[8]&&Vi(a,bt[8]);const Dt={};kt[1]&67108864&&(Dt.$$scope={dirty:kt,ctx:bt}),!d&&kt[0]&512&&(d=!0,Dt.value=bt[9],Se(()=>d=!1)),c.$set(Dt),(!Q||kt[0]&2048)&&g!==(g=bt[11]?"☰ rows":"᎒᎒᎒ grid")&&Ue(m,g);const Xt={};if(!A&&kt[0]&64&&(A=!0,Xt.currentSkills=bt[6],Se(()=>A=!1)),p.$set(Xt),kt[0]&16400){ot=Ge(bt[14].values());let ae;for(ae=0;ae<ot.length;ae+=1){const Jt=PI(bt,ot,ae);pt[ae]?pt[ae].p(Jt,kt):(pt[ae]=LI(Jt),pt[ae].c(),pt[ae].m(v,null))}for(;ae<pt.length;ae+=1)pt[ae].d(1);pt.length=ot.length}if(kt[0]&128){wt=Ge(["beginner","intermediate","advanced"]);let ae;for(ae=0;ae<3;ae+=1){const Jt=DI(bt,wt,ae);Mt[ae]?Mt[ae].p(Jt,kt):(Mt[ae]=kI(Jt),Mt[ae].c(),Mt[ae].m(C,null))}for(;ae<3;ae+=1)Mt[ae].d(1)}if(kt[0]&8224){xt=Ge(bt[13].values());let ae;for(ae=0;ae<xt.length;ae+=1){const Jt=RI(bt,xt,ae);dt[ae]?dt[ae].p(Jt,kt):(dt[ae]=NI(Jt),dt[ae].c(),dt[ae].m(D,null))}for(;ae<dt.length;ae+=1)dt[ae].d(1);dt.length=xt.length}bt[8]!==""||bt[6].size===1||bt[4].size<bt[14].size||bt[7].size<bt[17].size||bt[5].size<bt[13].size?Ot?Ot.p(bt,kt):(Ot=FI(bt),Ot.c(),Ot.m(U,$)):Ot&&(Ot.d(1),Ot=null),kt[0]&4109&&(At=Ge(bt[12]),W0(),F=nB(F,kt,jt,1,bt,At,j,U,iB,JI,null,BI),q0()),(!Q||kt[0]&2048&&z!==(z="grid "+(bt[11]?"rows":"")))&&ut(U,"class",z)},i(bt){if(!Q){Bt(c.$$.fragment,bt),Bt(p.$$.fragment,bt);for(let kt=0;kt<At.length;kt+=1)Bt(F[kt]);Q=!0}},o(bt){Rt(c.$$.fragment,bt),Rt(p.$$.fragment,bt);for(let kt=0;kt<F.length;kt+=1)Rt(F[kt]);Q=!1},d(bt){bt&&Ct(t),Ft(c),Ft(p),Oi(pt,bt),Oi(Mt,bt),Oi(dt,bt),Ot&&Ot.d();for(let kt=0;kt<F.length;kt+=1)F[kt].d();V=!1,ar(q)}}}function Kvt(e){let t,i,n;return{c(){t=K("input"),ut(t,"type","password"),ut(t,"placeholder","password")},m(a,s){_t(a,t,s),Vi(t,e[1]),i||(n=Qe(t,"input",e[24]),i=!0)},p(a,s){s[0]&2&&t.value!==a[1]&&Vi(t,a[1])},i:Fe,o:Fe,d(a){a&&Ct(t),i=!1,n()}}}function Xvt(e){let t,i,n,a,s;return{c(){t=K("option"),t.textContent=`${_g} title (A-Z)`,i=Y(),n=K("option"),n.textContent=`${_g} most used`,a=Y(),s=K("option"),s.textContent=`${_g} recently used`,t.__value="title",Vi(t,t.__value),n.__value="used",Vi(n,n.__value),s.__value="recent",Vi(s,s.__value)},m(l,c){_t(l,t,c),_t(l,i,c),_t(l,n,c),_t(l,a,c),_t(l,s,c)},p:Fe,d(l){l&&(Ct(t),Ct(i),Ct(n),Ct(a),Ct(s))}}}function LI(e){let t,i=e[50]+"",n,a,s,l,c;function d(){return e[30](e[50])}function u(){return e[31](e[50])}return{c(){t=K("button"),n=se(i),a=Y(),ut(t,"class",s=e[4].has(e[50])?"active":"hidden"),ut(t,"title","click to toggle, double-click to only show this")},m(h,g){_t(h,t,g),R(t,n),R(t,a),l||(c=[Qe(t,"click",d),Qe(t,"dblclick",u)],l=!0)},p(h,g){e=h,g[0]&16&&s!==(s=e[4].has(e[50])?"active":"hidden")&&ut(t,"class",s)},d(h){h&&Ct(t),l=!1,ar(c)}}}function kI(e){let t,i,n,a,s,l;function c(){return e[32](e[50])}function d(){return e[33](e[50])}return{c(){t=K("button"),i=se(e[50]),n=Y(),ut(t,"class",a=e[7].has(e[50])?"active":"hidden"),ut(t,"title","click to toggle, double-click to only show this")},m(u,h){_t(u,t,h),R(t,i),R(t,n),s||(l=[Qe(t,"click",c),Qe(t,"dblclick",d)],s=!0)},p(u,h){e=u,h[0]&128&&a!==(a=e[7].has(e[50])?"active":"hidden")&&ut(t,"class",a)},d(u){u&&Ct(t),s=!1,ar(l)}}}function NI(e){let t,i=e[50]+"",n,a,s,l,c;function d(){return e[34](e[50])}function u(){return e[35](e[50])}return{c(){t=K("button"),n=se(i),a=Y(),ut(t,"class",s=e[5].has(e[50])?"active":"hidden"),ut(t,"title","click to toggle, double-click to only show this")},m(h,g){_t(h,t,g),R(t,n),R(t,a),l||(c=[Qe(t,"click",d),Qe(t,"dblclick",u)],l=!0)},p(h,g){e=h,g[0]&32&&s!==(s=e[5].has(e[50])?"active":"hidden")&&ut(t,"class",s)},d(h){h&&Ct(t),l=!1,ar(c)}}}function FI(e){let t,i,n,a,s,l,c,d,u=e[12].length+"",h,g,m=_s.length+"",M,p,A=e[8]!==""&&UI(e),b=e[6].size===1&&$I(e),v=e[4].size<e[14].size&&GI(e),E=e[7].size<e[17].size&&VI(e),x=e[5].size<e[13].size&&HI(e);return{c(){t=K("div"),i=se(`current filters:
            `),A&&A.c(),n=Y(),b&&b.c(),a=Y(),v&&v.c(),s=Y(),E&&E.c(),l=Y(),x&&x.c(),c=Y(),d=K("div"),h=se(u),g=se(" of "),M=se(m),p=se(" apps shown"),un(d,"display","inline-block"),ut(t,"class","current-filters")},m(_,C){_t(_,t,C),R(t,i),A&&A.m(t,null),R(t,n),b&&b.m(t,null),R(t,a),v&&v.m(t,null),R(t,s),E&&E.m(t,null),R(t,l),x&&x.m(t,null),R(t,c),R(t,d),R(d,h),R(d,g),R(d,M),R(d,p)},p(_,C){_[8]!==""?A?A.p(_,C):(A=UI(_),A.c(),A.m(t,n)):A&&(A.d(1),A=null),_[6].size===1?b?b.p(_,C):(b=$I(_),b.c(),b.m(t,a)):b&&(b.d(1),b=null),_[4].size<_[14].size?v?v.p(_,C):(v=GI(_),v.c(),v.m(t,s)):v&&(v.d(1),v=null),_[7].size<_[17].size?E?E.p(_,C):(E=VI(_),E.c(),E.m(t,l)):E&&(E.d(1),E=null),_[5].size<_[13].size?x?x.p(_,C):(x=HI(_),x.c(),x.m(t,c)):x&&(x.d(1),x=null),C[0]&4096&&u!==(u=_[12].length+"")&&Ue(h,u)},d(_){_&&Ct(t),A&&A.d(),b&&b.d(),v&&v.d(),E&&E.d(),x&&x.d()}}}function UI(e){let t,i,n,a,s,l;return{c(){t=K("button"),i=se("search: "),n=se(e[8]),a=se(" ×"),ut(t,"title","click to remove this filter")},m(c,d){_t(c,t,d),R(t,i),R(t,n),R(t,a),s||(l=Qe(t,"click",e[36]),s=!0)},p(c,d){d[0]&256&&Ue(n,c[8])},d(c){c&&Ct(t),s=!1,l()}}}function $I(e){let t,i,n=[...e[6]]+"",a,s,l,c;return{c(){t=K("button"),i=se("skill: "),a=se(n),s=se(" ×"),ut(t,"title","click to remove this filter")},m(d,u){_t(d,t,u),R(t,i),R(t,a),R(t,s),l||(c=Qe(t,"click",e[37]),l=!0)},p(d,u){u[0]&64&&n!==(n=[...d[6]]+"")&&Ue(a,n)},d(d){d&&Ct(t),l=!1,c()}}}function GI(e){let t,i=e[4].size+"",n,a,s,l;return{c(){t=K("button"),n=se(i),a=se(" instruments ×"),ut(t,"title","click to remove this filter")},m(c,d){_t(c,t,d),R(t,n),R(t,a),s||(l=Qe(t,"click",e[38]),s=!0)},p(c,d){d[0]&16&&i!==(i=c[4].size+"")&&Ue(n,i)},d(c){c&&Ct(t),s=!1,l()}}}function VI(e){let t,i,n=[...e[7]].join(", ")+"",a,s,l,c;return{c(){t=K("button"),i=se("difficulty: "),a=se(n),s=se(" ×"),ut(t,"title","click to remove this filter")},m(d,u){_t(d,t,u),R(t,i),R(t,a),R(t,s),l||(c=Qe(t,"click",e[39]),l=!0)},p(d,u){u[0]&128&&n!==(n=[...d[7]].join(", ")+"")&&Ue(a,n)},d(d){d&&Ct(t),l=!1,c()}}}function HI(e){let t,i,n=[...e[5]]+"",a,s,l,c;return{c(){t=K("button"),i=se("input: "),a=se(n),s=se(" ×"),ut(t,"title","click to remove this filter")},m(d,u){_t(d,t,u),R(t,i),R(t,a),R(t,s),l||(c=Qe(t,"click",e[40]),l=!0)},p(d,u){u[0]&32&&n!==(n=[...d[5]]+"")&&Ue(a,n)},d(d){d&&Ct(t),l=!1,c()}}}function QI(e){let t;return{c(){t=K("span"),t.textContent="✨",ut(t,"title","You never used this app, try it!")},m(i,n){_t(i,t,n)},d(i){i&&Ct(t)}}}function zI(e){let t,i=e[2].get(e[47].id)+"",n,a;return{c(){t=se("Used "),n=se(i),a=se(" times.")},m(s,l){_t(s,t,l),_t(s,n,l),_t(s,a,l)},p(s,l){l[0]&4100&&i!==(i=s[2].get(s[47].id)+"")&&Ue(n,i)},d(s){s&&(Ct(t),Ct(n),Ct(a))}}}function jI(e){let t,i=Gw(new Date(e[3].get(e[47].id)))+"",n,a;return{c(){t=se("Last used "),n=se(i),a=se(".")},m(s,l){_t(s,t,l),_t(s,n,l),_t(s,a,l)},p(s,l){l[0]&4104&&i!==(i=Gw(new Date(s[3].get(s[47].id)))+"")&&Ue(n,i)},d(s){s&&(Ct(t),Ct(n),Ct(a))}}}function JI(e,t){let i,n,a=t[47].title+"",s,l,c=!t[2].get(t[47].id),d,u,h=t[47].description+"",g,m,M,p=t[2].get(t[47].id)>0,A,b=t[2].get(t[47].id)>0,v,E,x,_,C,O,I,T=c&&QI(),D=p&&zI(t),P=b&&jI(t);E=new Gvt({props:{app:t[47]}});function L(){return t[41](t[47])}return{key:e,first:null,c(){i=K("div"),n=K("h2"),s=se(a),l=Y(),T&&T.c(),d=Y(),u=K("div"),g=se(h),m=Y(),M=K("div"),D&&D.c(),A=Y(),P&&P.c(),v=Y(),Ut(E.$$.fragment),x=Y(),ut(u,"class","description"),ut(M,"class","usage"),ut(i,"class","card"),this.first=i},m(N,U){_t(N,i,U),R(i,n),R(n,s),R(n,l),T&&T.m(n,null),R(i,d),R(i,u),R(u,g),R(i,m),R(i,M),D&&D.m(M,null),R(M,A),P&&P.m(M,null),R(i,v),Nt(E,i,null),R(i,x),C=!0,O||(I=Qe(i,"click",L),O=!0)},p(N,U){t=N,(!C||U[0]&4096)&&a!==(a=t[47].title+"")&&Ue(s,a),U[0]&4100&&(c=!t[2].get(t[47].id)),c?T||(T=QI(),T.c(),T.m(n,null)):T&&(T.d(1),T=null),(!C||U[0]&4096)&&h!==(h=t[47].description+"")&&Ue(g,h),U[0]&4100&&(p=t[2].get(t[47].id)>0),p?D?D.p(t,U):(D=zI(t),D.c(),D.m(M,A)):D&&(D.d(1),D=null),U[0]&4100&&(b=t[2].get(t[47].id)>0),b?P?P.p(t,U):(P=jI(t),P.c(),P.m(M,null)):P&&(P.d(1),P=null);const $={};U[0]&4096&&($.app=t[47]),E.$set($)},i(N){C||(Bt(E.$$.fragment,N),N&&xs(()=>{C&&(_||(_=nE(i,II,{},!0)),_.run(1))}),C=!0)},o(N){Rt(E.$$.fragment,N),N&&(_||(_=nE(i,II,{},!1)),_.run(0)),C=!1},d(N){N&&Ct(i),T&&T.d(),D&&D.d(),P&&P.d(),Ft(E),N&&_&&_.end(),O=!1,I()}}}function Yvt(e){let t,i,n,a,s,l,c,d,u,h,g,m,M,p,A,b,v,E,x,_,C,O,I,T,D,P,L;const N=[Kvt,qvt,Wvt,Jvt,jvt,zvt,Qvt,Hvt],U=[];function $(F,j){return F[1]!==Zvt?0:F[0]?F[0]==="tools"?2:F[0]==="settings"?3:F[0]==="overview"?4:F[0]==="help"?5:F[0]==="welcome"?6:7:1}return p=$(e),A=U[p]=N[p](e),T=new Ga({props:{key:"f",ctrlKey:!0,keyDown:e[45]}}),{c(){t=K("main"),i=K("header"),n=K("h1"),n.textContent="Musical Instrument Learning Apps",a=Y(),s=K("nav"),l=K("button"),l.textContent="☰ apps",c=Y(),d=K("button"),d.textContent="🛠️ tools",u=Y(),h=K("button"),h.textContent="⚙️ settings",g=Y(),m=K("button"),m.textContent="❓help",M=Y(),A.c(),b=Y(),v=K("div"),E=K("span"),E.textContent=`version ${E8}`,x=Y(),_=K("button"),_.textContent="app overview",C=Y(),O=K("a"),O.textContent="GitHub",I=Y(),Ut(T.$$.fragment),un(_,"background","none"),un(_,"color","#aaa"),un(_,"font-weight","normal"),ut(O,"href","https://github.com/visvar/mila"),ut(v,"class","version-number")},m(F,j){_t(F,t,j),R(t,i),R(i,n),R(i,a),R(i,s),R(s,l),R(s,c),R(s,d),R(s,u),R(s,h),R(s,g),R(s,m),R(t,M),U[p].m(t,null),R(t,b),R(t,v),R(v,E),R(v,x),R(v,_),R(v,C),R(v,O),_t(F,I,j),Nt(T,F,j),D=!0,P||(L=[Qe(l,"click",e[20]),Qe(d,"click",e[21]),Qe(h,"click",e[22]),Qe(m,"click",e[23]),Qe(_,"click",e[44])],P=!0)},p(F,j){let z=p;p=$(F),p===z?U[p].p(F,j):(W0(),Rt(U[z],1,1,()=>{U[z]=null}),q0(),A=U[p],A?A.p(F,j):(A=U[p]=N[p](F),A.c()),Bt(A,1),A.m(t,b));const Q={};j[0]&1&&(Q.keyDown=F[45]),T.$set(Q)},i(F){D||(Bt(A),Bt(T.$$.fragment,F),D=!0)},o(F){Rt(A),Rt(T.$$.fragment,F),D=!1},d(F){F&&(Ct(t),Ct(I)),U[p].d(),Ft(T,F),P=!1,ar(L)}}}let Zvt="milamila";function tbt(e,t,i){let n,a,s=null;const l=rB(window,"d");l&&l!==""&&(s=_s.filter(bt=>bt.id===l)[0]);let c=localStorage.getItem("pwd")??"";window.onpopstate=bt=>{s!==null&&i(0,s=null)},window.onbeforeunload=function(){};let d=new Map,u=new Map;const h=new Set(_s.flatMap(bt=>bt.input).sort()),g=new Set(["drum","guitar/bass","keyboard","singing","pc-key","touch"]),m=new Set(_s.flatMap(bt=>bt.data)),M=new Set(_s.flatMap(bt=>bt.skills).sort()),p=new Set(["beginner","intermediate","advanced"]),A=new Set(_s.flatMap(bt=>bt.patterns).sort());let b=new Set(g),v=new Set(h),E=new Set(M),x=new Set(p),_="",C=localStorage.getItem("display-app-sorting")??"title",O=null,I=localStorage.getItem("display-app-rows")==="true"||!1;const T=()=>{i(0,s=null),Ru(window,"d","")},D=()=>{i(0,s="tools"),i(10,O=null),Ru(window,"d","tools")},P=()=>{i(0,s="settings"),Ru(window,"d","settings")},L=()=>{i(0,s="help"),Ru(window,"d","help")};function N(){c=this.value,i(1,c)}function U(){_=this.value,i(8,_)}const $=bt=>{localStorage.setItem("display-app-sorting",bt.target.value)};function F(bt){C=bt,i(9,C)}const j=()=>{i(11,I=!I),localStorage.setItem("display-app-rows",I.toString())};function z(bt){E=bt,i(6,E)}const Q=bt=>i(4,b=K1(b,bt)),V=bt=>i(4,b=new Set([bt])),q=bt=>i(7,x=K1(x,bt)),J=bt=>i(7,x=new Set([bt])),W=bt=>i(5,v=K1(v,bt)),et=bt=>i(5,v=new Set([bt])),mt=()=>{i(8,_="")},ot=()=>{i(6,E=new Set(M))},pt=()=>{i(4,b=new Set(g))},wt=()=>{i(7,x=new Set(p))},Mt=()=>{i(5,v=new Set(h))},xt=bt=>{i(0,s=bt),Ru(window,"d",bt.id)};function dt(bt){O=bt,i(10,O)}const Ot=bt=>{if(bt){const{instruments:kt,skills:Dt,difficulties:Xt}=bt;i(4,b=new Set([kt])),i(6,E=new Set([Dt])),i(7,x=new Set([Xt]))}i(0,s=null)},At=()=>{i(0,s="overview"),Ru(window,"d","overview")},jt=()=>{s||document.querySelector(".search-box").focus()};return e.$$.update=()=>{if(e.$$.dirty[0]&2&&localStorage.setItem("pwd",c),e.$$.dirty[0]&1){let bt;localStorage.getItem("usage")!==null?(bt=localStorage.getItem("usage"),bt=JSON.parse(bt)):bt={appClicks:{}};const kt=bt.appClicks;if(s&&s.id){const Dt=kt[s.id]??[];Dt.push(new Date().toISOString()),kt[s.id]=Dt,localStorage.setItem("usage",JSON.stringify(bt))}else i(2,d=new Map(_s.map(Dt=>{var Xt;return[Dt.id,((Xt=kt[Dt.id])==null?void 0:Xt.length)??0]}))),i(3,u=new Map(_s.map(Dt=>{var ae;const Xt=(ae=kt[Dt.id])==null?void 0:ae.at(-1);return[Dt.id,Xt||"never"]})))}e.$$.dirty[0]&496&&i(19,n=_s.filter(bt=>bt.title.toLowerCase().includes(_)&&Cg(b,bt.instruments)&&Cg(E,bt.skills)&&Cg(x,bt.difficulty)&&v.has(bt.input))),e.$$.dirty[0]&524812&&i(12,a=n.sort((bt,kt)=>{if(C==="title")return bt.title<kt.title?-1:1;if(C==="used")return d.get(kt.id)-d.get(bt.id);if(C==="recent"){const Dt=u.get(bt.id),Xt=u.get(kt.id);return Dt==="never"?1:Xt==="never"||Dt>Xt?-1:1}}))},[s,c,d,u,b,v,E,x,_,C,O,I,a,h,g,m,M,p,A,n,T,D,P,L,N,U,$,F,j,z,Q,V,q,J,W,et,mt,ot,pt,wt,Mt,xt,dt,Ot,At,jt]}class ebt extends qi{constructor(t){super(),Wi(this,t,tbt,Yvt,Ji,{},null,[-1,-1])}}new ebt({target:document.getElementById("app")});
