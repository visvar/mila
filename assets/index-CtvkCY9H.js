var Uz=Object.defineProperty;var uE=e=>{throw TypeError(e)};var Jz=(e,t,i)=>t in e?Uz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var In=(e,t,i)=>Jz(e,typeof t!="symbol"?t+"":t,i),dE=(e,t,i)=>t.has(e)||uE("Cannot "+i);var Ke=(e,t,i)=>(dE(e,t,"read from private field"),i?i.call(e):t.get(e)),Dn=(e,t,i)=>t.has(e)?uE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i),En=(e,t,i,n)=>(dE(e,t,"write to private field"),n?n.call(e,i):t.set(e,i),i);var hE=(e,t,i,n)=>({set _(a){En(e,t,a,i)},get _(){return Ke(e,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();function We(){}const uB=e=>e;function $z(e,t){for(const i in t)e[i]=t[i];return e}function dB(e){return e()}function fE(){return Object.create(null)}function t0(e){e.forEach(dB)}function Xo(e){return typeof e=="function"}function Xi(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Gz(e){return Object.keys(e).length===0}function zf(e,t,i,n){if(e){const a=hB(e,t,i,n);return e[0](a)}}function hB(e,t,i,n){return e[1]&&n?$z(i.ctx.slice(),e[1](n(t))):i.ctx}function jf(e,t,i,n){if(e[2]&&n){const a=e[2](n(i));if(t.dirty===void 0)return a;if(typeof a=="object"){const o=[],l=Math.max(t.dirty.length,a.length);for(let c=0;c<l;c+=1)o[c]=t.dirty[c]|a[c];return o}return t.dirty|a}return t.dirty}function Wf(e,t,i,n,a,o){if(a){const l=hB(t,i,n,o);e.p(l,a)}}function Kf(e){if(e.ctx.length>32){const t=[],i=e.ctx.length/32;for(let n=0;n<i;n++)t[n]=-1;return t}return-1}const fB=typeof window<"u";let Hz=fB?()=>window.performance.now():()=>Date.now(),Jy=fB?e=>requestAnimationFrame(e):We;const _d=new Set;function mB(e){_d.forEach(t=>{t.c(e)||(_d.delete(t),t.f())}),_d.size!==0&&Jy(mB)}function Vz(e){let t;return _d.size===0&&Jy(mB),{promise:new Promise(i=>{_d.add(t={c:e,f:i})}),abort(){_d.delete(t)}}}const Qc=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function B(e,t){e.appendChild(t)}function pB(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Qz(e){const t=q("style");return t.textContent="/* empty */",zz(pB(e),t),t.sheet}function zz(e,t){return B(e.head||e,t),t.sheet}function bt(e,t,i){e.insertBefore(t,i||null)}function vt(e){e.parentNode&&e.parentNode.removeChild(e)}function Ti(e,t){for(let i=0;i<e.length;i+=1)e[i]&&e[i].d(t)}function q(e){return document.createElement(e)}function Es(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function te(e){return document.createTextNode(e)}function K(){return te(" ")}function z0(){return te("")}function ze(e,t,i,n){return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)}function mt(e,t,i){i==null?e.removeAttribute(t):e.getAttribute(t)!==i&&e.setAttribute(t,i)}function nn(e,t,i){const n=t.toLowerCase();n in e?e[n]=typeof e[n]=="boolean"&&i===""?!0:i:t in e?e[t]=typeof e[t]=="boolean"&&i===""?!0:i:mt(e,t,i)}function Rr(e){return e===""?null:+e}function jz(e){return Array.from(e.childNodes)}function Qe(e,t){t=""+t,e.data!==t&&(e.data=t)}function qi(e,t){e.value=t??""}function sn(e,t,i,n){i==null?e.style.removeProperty(t):e.style.setProperty(t,i,"")}function xr(e,t,i){for(let n=0;n<e.options.length;n+=1){const a=e.options[n];if(a.__value===t){a.selected=!0;return}}(!i||t!==void 0)&&(e.selectedIndex=-1)}function Tl(e){const t=e.querySelector(":checked");return t&&t.__value}function Wz(e,t,{bubbles:i=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:i,cancelable:n})}function A6(e,t){return new e(t)}const v6=new Map;let b6=0;function Kz(e){let t=5381,i=e.length;for(;i--;)t=(t<<5)-t^e.charCodeAt(i);return t>>>0}function qz(e,t){const i={stylesheet:Qz(t),rules:{}};return v6.set(e,i),i}function mE(e,t,i,n,a,o,l,c=0){const d=16.666/n;let u=`{
`;for(let b=0;b<=1;b+=d){const v=t+(i-t)*o(b);u+=b*100+`%{${l(v,1-v)}}
`}const h=u+`100% {${l(i,1-i)}}
}`,p=`__svelte_${Kz(h)}_${c}`,f=pB(e),{stylesheet:M,rules:g}=v6.get(f)||qz(f,e);g[p]||(g[p]=!0,M.insertRule(`@keyframes ${p} ${h}`,M.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${p} ${n}ms linear ${a}ms 1 both`,b6+=1,p}function Xz(e,t){const i=(e.style.animation||"").split(", "),n=i.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),a=i.length-n.length;a&&(e.style.animation=n.join(", "),b6-=a,b6||Yz())}function Yz(){Jy(()=>{b6||(v6.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&vt(t)}),v6.clear())})}let df;function Y2(e){df=e}function $y(){if(!df)throw new Error("Function called outside component initialization");return df}function yr(e){$y().$$.on_mount.push(e)}function $9(e){$y().$$.after_update.push(e)}function c0(e){$y().$$.on_destroy.push(e)}const dd=[],he=[];let Ed=[];const sM=[],Zz=Promise.resolve();let lM=!1;function tj(){lM||(lM=!0,Zz.then(gB))}function J9(e){Ed.push(e)}function _e(e){sM.push(e)}const ng=new Set;let nd=0;function gB(){if(nd!==0)return;const e=df;do{try{for(;nd<dd.length;){const t=dd[nd];nd++,Y2(t),ej(t.$$)}}catch(t){throw dd.length=0,nd=0,t}for(Y2(null),dd.length=0,nd=0;he.length;)he.pop()();for(let t=0;t<Ed.length;t+=1){const i=Ed[t];ng.has(i)||(ng.add(i),i())}Ed.length=0}while(dd.length);for(;sM.length;)sM.pop()();lM=!1,ng.clear(),Y2(e)}function ej(e){if(e.fragment!==null){e.update(),t0(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J9)}}function ij(e){const t=[],i=[];Ed.forEach(n=>e.indexOf(n)===-1?t.push(n):i.push(n)),i.forEach(n=>n()),Ed=t}let _2;function nj(){return _2||(_2=Promise.resolve(),_2.then(()=>{_2=null})),_2}function rg(e,t,i){e.dispatchEvent(Wz(`${t?"intro":"outro"}${i}`))}const i6=new Set;let Al;function na(){Al={r:0,c:[],p:Al}}function ra(){Al.r||t0(Al.c),Al=Al.p}function wt(e,t){e&&e.i&&(i6.delete(e),e.i(t))}function It(e,t,i,n){if(e&&e.o){if(i6.has(e))return;i6.add(e),Al.c.push(()=>{i6.delete(e),n&&(i&&e.d(1),n())}),e.o(t)}else n&&n()}const rj={duration:0};function Gd(e,t,i,n){let o=t(e,i,{direction:"both"}),l=n?0:1,c=null,d=null,u=null,h;function p(){u&&Xz(e,u)}function f(g,y){const b=g.b-l;return y*=Math.abs(b),{a:l,b:g.b,d:b,duration:y,start:g.start,end:g.start+y,group:g.group}}function M(g){const{delay:y=0,duration:b=300,easing:v=uB,tick:C=We,css:w}=o||rj,_={start:Hz()+y,b:g};g||(_.group=Al,Al.r+=1),"inert"in e&&(g?h!==void 0&&(e.inert=h):(h=e.inert,e.inert=!0)),c||d?d=_:(w&&(p(),u=mE(e,l,g,b,y,v,w)),g&&C(0,1),c=f(_,b),J9(()=>rg(e,g,"start")),Vz(E=>{if(d&&E>d.start&&(c=f(d,b),d=null,rg(e,c.b,"start"),w&&(p(),u=mE(e,l,c.b,c.duration,0,v,o.css))),c){if(E>=c.end)C(l=c.b,1-l),rg(e,c.b,"end"),d||(c.b?p():--c.group.r||t0(c.group.c)),c=null;else if(E>=c.start){const S=E-c.start;l=c.a+c.d*v(S/c.duration),C(l,1-l)}}return!!(c||d)}))}return{run(g){Xo(o)?nj().then(()=>{o=o({direction:g?"in":"out"}),M(g)}):M(g)},end(){p(),c=d=null}}}function je(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function MB(e,t){It(e,1,1,()=>{t.delete(e.key)})}function yB(e,t,i,n,a,o,l,c,d,u,h,p){let f=e.length,M=o.length,g=f;const y={};for(;g--;)y[e[g].key]=g;const b=[],v=new Map,C=new Map,w=[];for(g=M;g--;){const I=p(a,o,g),T=i(I);let k=l.get(T);k?w.push(()=>k.p(I,t)):(k=u(T,I),k.c()),v.set(T,b[g]=k),T in y&&C.set(T,Math.abs(g-y[T]))}const _=new Set,E=new Set;function S(I){wt(I,1),I.m(c,h),l.set(I.key,I),h=I.first,M--}for(;f&&M;){const I=b[M-1],T=e[f-1],k=I.key,D=T.key;I===T?(h=I.first,f--,M--):v.has(D)?!l.has(k)||_.has(k)?S(I):E.has(D)?f--:C.get(k)>C.get(D)?(E.add(k),S(I)):(_.add(D),f--):(d(T,l),f--)}for(;f--;){const I=e[f];v.has(I.key)||d(I,l)}for(;M;)S(b[M-1]);return t0(w),b}function Ee(e,t,i){const n=e.$$.props[t];n!==void 0&&(e.$$.bound[n]=i,i(e.$$.ctx[n]))}function Pt(e){e&&e.c()}function Rt(e,t,i){const{fragment:n,after_update:a}=e.$$;n&&n.m(t,i),J9(()=>{const o=e.$$.on_mount.map(dB).filter(Xo);e.$$.on_destroy?e.$$.on_destroy.push(...o):t0(o),e.$$.on_mount=[]}),a.forEach(J9)}function Dt(e,t){const i=e.$$;i.fragment!==null&&(ij(i.after_update),t0(i.on_destroy),i.fragment&&i.fragment.d(t),i.on_destroy=i.fragment=null,i.ctx=[])}function aj(e,t){e.$$.dirty[0]===-1&&(dd.push(e),tj(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Yi(e,t,i,n,a,o,l=null,c=[-1]){const d=df;Y2(e);const u=e.$$={fragment:null,ctx:[],props:o,update:We,not_equal:a,bound:fE(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:fE(),dirty:c,skip_bound:!1,root:t.target||d.$$.root};l&&l(u.root);let h=!1;if(u.ctx=i?i(e,t.props||{},(p,f,...M)=>{const g=M.length?M[0]:f;return u.ctx&&a(u.ctx[p],u.ctx[p]=g)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](g),h&&aj(e,p)),f}):[],u.update(),h=!0,t0(u.before_update),u.fragment=n?n(u.ctx):!1,t.target){if(t.hydrate){const p=jz(t.target);u.fragment&&u.fragment.l(p),p.forEach(vt)}else u.fragment&&u.fragment.c();t.intro&&wt(e.$$.fragment),Rt(e,t.target,t.anchor),gB()}Y2(d)}class Zi{constructor(){In(this,"$$");In(this,"$$set")}$destroy(){Dt(this,1),this.$destroy=We}$on(t,i){if(!Xo(i))return We;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(i),()=>{const a=n.indexOf(i);a!==-1&&n.splice(a,1)}}$set(t){this.$$set&&!Gz(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const oj="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(oj);const D8="0.24.0";function n6(e,t,i){const n=new URLSearchParams(e.location.search);i!==void 0?n.set(t,i):n.delete(t);const a=`${e.location.protocol}//${e.location.host}${e.location.pathname}?${n.toString()}`;e.history.pushState({path:a},"",a)}function AB(e,t){return new URLSearchParams(e.location.search).get(t)}function Gr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qf(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function P8(e){let t,i,n;e.length!==2?(t=Gr,i=(c,d)=>Gr(e(c),d),n=(c,d)=>e(c)-d):(t=e===Gr||e===qf?e:sj,i=e,n=e);function a(c,d,u=0,h=c.length){if(u<h){if(t(d,d)!==0)return h;do{const p=u+h>>>1;i(c[p],d)<0?u=p+1:h=p}while(u<h)}return u}function o(c,d,u=0,h=c.length){if(u<h){if(t(d,d)!==0)return h;do{const p=u+h>>>1;i(c[p],d)<=0?u=p+1:h=p}while(u<h)}return u}function l(c,d,u=0,h=c.length){const p=a(c,d,u,h-1);return p>u&&n(c[p-1],d)>-n(c[p],d)?p-1:p}return{left:a,center:l,right:o}}function sj(){return 0}function vB(e){return e===null?NaN:+e}function*lj(e,t){if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(yield i);else{let i=-1;for(let n of e)(n=t(n,++i,e))!=null&&(n=+n)>=n&&(yield n)}}const cj=P8(Gr),Xf=cj.right;P8(vB).center;function k8(e,t){let i=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++i;else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(a=+a)>=a&&++i}return i}function uj(e){return e.length|0}function dj(e){return!(e>0)}function hj(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function fj(e){return t=>e(...t)}function mj(...e){const t=typeof e[e.length-1]=="function"&&fj(e.pop());e=e.map(hj);const i=e.map(uj),n=e.length-1,a=new Array(n+1).fill(0),o=[];if(n<0||i.some(dj))return o;for(;;){o.push(a.map((c,d)=>e[d][c]));let l=n;for(;++a[l]===i[l];){if(l===0)return t?o.map(t):o;a[l--]=0}}}function pj(e,t){var i=0;return Float64Array.from(e,n=>i+=+n||0)}function Gy(e,t){let i=0,n,a=0,o=0;if(t===void 0)for(let l of e)l!=null&&(l=+l)>=l&&(n=l-a,a+=n/++i,o+=n*(l-a));else{let l=-1;for(let c of e)(c=t(c,++l,e))!=null&&(c=+c)>=c&&(n=c-a,a+=n/++i,o+=n*(c-a))}if(i>1)return o/(i-1)}function Hy(e,t){const i=Gy(e,t);return i&&Math.sqrt(i)}function W9(e,t){let i,n;if(t===void 0)for(const a of e)a!=null&&(i===void 0?a>=a&&(i=n=a):(i>a&&(i=a),n<a&&(n=a)));else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(i===void 0?o>=o&&(i=n=o):(i>o&&(i=o),n<o&&(n=o)))}return[i,n]}class e1{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const i=this._partials;let n=0;for(let a=0;a<this._n&&a<32;a++){const o=i[a],l=t+o,c=Math.abs(t)<Math.abs(o)?t-(l-o):o-(l-t);c&&(i[n++]=c),t=l}return i[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let i=this._n,n,a,o,l=0;if(i>0){for(l=t[--i];i>0&&(n=l,a=t[--i],l=n+a,o=a-(l-n),!o););i>0&&(o<0&&t[i-1]<0||o>0&&t[i-1]>0)&&(a=o*2,n=l+a,a==n-l&&(l=n))}return l}}class i1 extends Map{constructor(t,i=_B){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(cM(this,t))}has(t){return super.has(cM(this,t))}set(t,i){return super.set(bB(this,t),i)}delete(t){return super.delete(CB(this,t))}}class Yf extends Set{constructor(t,i=_B){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(cM(this,t))}add(t){return super.add(bB(this,t))}delete(t){return super.delete(CB(this,t))}}function cM({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):i}function bB({_intern:e,_key:t},i){const n=t(i);return e.has(n)?e.get(n):(e.set(n,i),i)}function CB({_intern:e,_key:t},i){const n=t(i);return e.has(n)&&(i=e.get(n),e.delete(n)),i}function _B(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hf(e){return e}function Zf(e,...t){return L8(e,hf,hf,t)}function Aa(e,...t){return L8(e,Array.from,hf,t)}function wd(e,t,...i){return L8(e,hf,t,i)}function gj(e,t,...i){return L8(e,Array.from,t,i)}function L8(e,t,i,n){return function a(o,l){if(l>=n.length)return i(o);const c=new i1,d=n[l++];let u=-1;for(const h of o){const p=d(h,++u,o),f=c.get(p);f?f.push(h):c.set(p,[h])}for(const[h,p]of c)c.set(h,a(p,l));return t(c)}(e,0)}function Mj(e,t){return Array.from(t,i=>e[i])}function C6(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[i]=t;if(i&&i.length!==2||t.length>1){const n=Uint32Array.from(e,(a,o)=>o);return t.length>1?(t=t.map(a=>e.map(a)),n.sort((a,o)=>{for(const l of t){const c=ff(l[a],l[o]);if(c)return c}})):(i=e.map(i),n.sort((a,o)=>ff(i[a],i[o]))),Mj(e,n)}return e.sort(Vy(i))}function Vy(e=Gr){if(e===Gr)return ff;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,i)=>{const n=e(t,i);return n||n===0?n:(e(i,i)===0)-(e(t,t)===0)}}function ff(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Qy(e,t,i){return(t.length!==2?C6(wd(e,t,i),([n,a],[o,l])=>Gr(a,l)||Gr(n,o)):C6(Zf(e,i),([n,a],[o,l])=>t(a,l)||Gr(n,o))).map(([n])=>n)}var yj=Array.prototype,Aj=yj.slice;function ag(e){return()=>e}const vj=Math.sqrt(50),bj=Math.sqrt(10),Cj=Math.sqrt(2);function _6(e,t,i){const n=(t-e)/Math.max(0,i),a=Math.floor(Math.log10(n)),o=n/Math.pow(10,a),l=o>=vj?10:o>=bj?5:o>=Cj?2:1;let c,d,u;return a<0?(u=Math.pow(10,-a)/l,c=Math.round(e*u),d=Math.round(t*u),c/u<e&&++c,d/u>t&&--d,u=-u):(u=Math.pow(10,a)*l,c=Math.round(e/u),d=Math.round(t/u),c*u<e&&++c,d*u>t&&--d),d<c&&.5<=i&&i<2?_6(e,t,i*2):[c,d,u]}function Hd(e,t,i){if(t=+t,e=+e,i=+i,!(i>0))return[];if(e===t)return[e];const n=t<e,[a,o,l]=n?_6(t,e,i):_6(e,t,i);if(!(o>=a))return[];const c=o-a+1,d=new Array(c);if(n)if(l<0)for(let u=0;u<c;++u)d[u]=(o-u)/-l;else for(let u=0;u<c;++u)d[u]=(o-u)*l;else if(l<0)for(let u=0;u<c;++u)d[u]=(a+u)/-l;else for(let u=0;u<c;++u)d[u]=(a+u)*l;return d}function n1(e,t,i){return t=+t,e=+e,i=+i,_6(e,t,i)[2]}function uM(e,t,i){t=+t,e=+e,i=+i;const n=t<e,a=n?n1(t,e,i):n1(e,t,i);return(n?-1:1)*(a<0?1/-a:a)}function _j(e,t,i){let n;for(;;){const a=n1(e,t,i);if(a===n||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),n=a}}function EB(e){return Math.max(1,Math.ceil(Math.log(k8(e))/Math.LN2)+1)}function E6(){var e=hf,t=W9,i=EB;function n(a){Array.isArray(a)||(a=Array.from(a));var o,l=a.length,c,d,u=new Array(l);for(o=0;o<l;++o)u[o]=e(a[o],o,a);var h=t(u),p=h[0],f=h[1],M=i(u,p,f);if(!Array.isArray(M)){const w=f,_=+M;if(t===W9&&([p,f]=_j(p,f,_)),M=Hd(p,f,_),M[0]<=p&&(d=n1(p,f,_)),M[M.length-1]>=f)if(w>=f&&t===W9){const E=n1(p,f,_);isFinite(E)&&(E>0?f=(Math.floor(f/E)+1)*E:E<0&&(f=(Math.ceil(f*-E)+1)/-E))}else M.pop()}for(var g=M.length,y=0,b=g;M[y]<=p;)++y;for(;M[b-1]>f;)--b;(y||b<g)&&(M=M.slice(y,b),g=b-y);var v=new Array(g+1),C;for(o=0;o<=g;++o)C=v[o]=[],C.x0=o>0?M[o-1]:p,C.x1=o<g?M[o]:f;if(isFinite(d)){if(d>0)for(o=0;o<l;++o)(c=u[o])!=null&&p<=c&&c<=f&&v[Math.min(g,Math.floor((c-p)/d))].push(a[o]);else if(d<0){for(o=0;o<l;++o)if((c=u[o])!=null&&p<=c&&c<=f){const w=Math.floor((p-c)*d);v[Math.min(g,w+(M[w]<=c))].push(a[o])}}}else for(o=0;o<l;++o)(c=u[o])!=null&&p<=c&&c<=f&&v[Xf(M,c,0,g)].push(a[o]);return v}return n.value=function(a){return arguments.length?(e=typeof a=="function"?a:ag(a),n):e},n.domain=function(a){return arguments.length?(t=typeof a=="function"?a:ag([a[0],a[1]]),n):t},n.thresholds=function(a){return arguments.length?(i=typeof a=="function"?a:ag(Array.isArray(a)?Aj.call(a):a),n):i},n}function v9(e,t){let i;if(t===void 0)for(const n of e)n!=null&&(i<n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(i<a||i===void 0&&a>=a)&&(i=a)}return i}function zy(e,t){let i,n=-1,a=-1;if(t===void 0)for(const o of e)++a,o!=null&&(i<o||i===void 0&&o>=o)&&(i=o,n=a);else for(let o of e)(o=t(o,++a,e))!=null&&(i<o||i===void 0&&o>=o)&&(i=o,n=a);return n}function Hr(e,t){let i;if(t===void 0)for(const n of e)n!=null&&(i>n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(i>a||i===void 0&&a>=a)&&(i=a)}return i}function wl(e,t){let i,n=-1,a=-1;if(t===void 0)for(const o of e)++a,o!=null&&(i>o||i===void 0&&o>=o)&&(i=o,n=a);else for(let o of e)(o=t(o,++a,e))!=null&&(i>o||i===void 0&&o>=o)&&(i=o,n=a);return n}function wB(e,t,i=0,n=1/0,a){if(t=Math.floor(t),i=Math.floor(Math.max(0,i)),n=Math.floor(Math.min(e.length-1,n)),!(i<=t&&t<=n))return e;for(a=a===void 0?ff:Vy(a);n>i;){if(n-i>600){const d=n-i+1,u=t-i+1,h=Math.log(d),p=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*p*(d-p)/d)*(u-d/2<0?-1:1),M=Math.max(i,Math.floor(t-u*p/d+f)),g=Math.min(n,Math.floor(t+(d-u)*p/d+f));wB(e,t,M,g,a)}const o=e[t];let l=i,c=n;for(E2(e,i,t),a(e[n],o)>0&&E2(e,i,n);l<c;){for(E2(e,l,c),++l,--c;a(e[l],o)<0;)++l;for(;a(e[c],o)>0;)--c}a(e[i],o)===0?E2(e,i,c):(++c,E2(e,c,n)),c<=t&&(i=c+1),t<=c&&(n=c-1)}return e}function E2(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}function OB(e,t=Gr){let i,n=!1;if(t.length===1){let a;for(const o of e){const l=t(o);(n?Gr(l,a)>0:Gr(l,l)===0)&&(i=o,a=l,n=!0)}}else for(const a of e)(n?t(a,i)>0:t(a,a)===0)&&(i=a,n=!0);return i}function Vd(e,t,i){if(e=Float64Array.from(lj(e,i)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Hr(e);if(t>=1)return v9(e);var n,a=(n-1)*t,o=Math.floor(a),l=v9(wB(e,o).subarray(0,o+1)),c=Hr(e.subarray(o+1));return l+(c-l)*(a-o)}}function Ej(e,t,i=vB){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+i(e[0],0,e);if(t>=1)return+i(e[n-1],n-1,e);var n,a=(n-1)*t,o=Math.floor(a),l=+i(e[o],o,e),c=+i(e[o+1],o+1,e);return l+(c-l)*(a-o)}}function wj(e,t,i){const n=k8(e),a=Vd(e,.75)-Vd(e,.25);return n&&a?Math.ceil((i-t)/(2*a*Math.pow(n,-1/3))):1}function SB(e,t,i){const n=k8(e),a=Hy(e);return n&&a?Math.ceil((i-t)*Math.cbrt(n)/(3.49*a)):1}function Bc(e,t){let i=0,n=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++i,n+=a);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(o=+o)>=o&&(++i,n+=o)}if(i)return n/i}function Qd(e,t){return Vd(e,.5,t)}function*Oj(e){for(const t of e)yield*t}function xB(e){return Array.from(Oj(e))}function N8(e,t){const i=new i1;if(t===void 0)for(let o of e)o!=null&&o>=o&&i.set(o,(i.get(o)||0)+1);else{let o=-1;for(let l of e)(l=t(l,++o,e))!=null&&l>=l&&i.set(l,(i.get(l)||0)+1)}let n,a=0;for(const[o,l]of i)l>a&&(a=l,n=o);return n}function Sj(e,t=xj){const i=[];let n,a=!1;for(const o of e)a&&i.push(t(n,o)),n=o,a=!0;return i}function xj(e,t){return[e,t]}function fi(e,t,i){e=+e,t=+t,i=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+i;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/i))|0,o=new Array(a);++n<a;)o[n]=e+n*i;return o}function TB(e,t=Gr){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let i=Array.from(e);const n=new Float64Array(i.length);t.length!==2&&(i=i.map(t),t=Gr);const a=(c,d)=>t(i[c],i[d]);let o,l;return e=Uint32Array.from(i,(c,d)=>d),e.sort(t===Gr?(c,d)=>ff(i[c],i[d]):Vy(a)),e.forEach((c,d)=>{const u=a(c,o===void 0?c:o);u>=0?((o===void 0||u>0)&&(o=c,l=d),n[c]=l):n[c]=NaN}),n}function Rc(e,t){let i=0;if(t===void 0)for(let n of e)(n=+n)&&(i+=n);else{let n=-1;for(let a of e)(a=+t(a,++n,e))&&(i+=a)}return i}function w6(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Ao(e,...t){e=new Yf(e);for(const i of t)for(const n of i)e.delete(n);return e}function Tj(e){return e}var Ij=3,pE=1e-6;function Bj(e){return"translate("+e+",0)"}function Rj(e){return t=>+e(t)}function Dj(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),i=>+e(i)+t}function Pj(){return!this.__axis}function kj(e,t){var i=[],n=null,a=null,o=6,l=6,c=3,d=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1,h="y",p=Bj;function f(M){var g=n??(t.ticks?t.ticks.apply(t,i):t.domain()),y=a??(t.tickFormat?t.tickFormat.apply(t,i):Tj),b=Math.max(o,0)+c,v=t.range(),C=+v[0]+d,w=+v[v.length-1]+d,_=(t.bandwidth?Dj:Rj)(t.copy(),d),E=M.selection?M.selection():M,S=E.selectAll(".domain").data([null]),I=E.selectAll(".tick").data(g,t).order(),T=I.exit(),k=I.enter().append("g").attr("class","tick"),D=I.select("line"),N=I.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(k),D=D.merge(k.append("line").attr("stroke","currentColor").attr(h+"2",u*o)),N=N.merge(k.append("text").attr("fill","currentColor").attr(h,u*b).attr("dy","0.71em")),M!==E&&(S=S.transition(M),I=I.transition(M),D=D.transition(M),N=N.transition(M),T=T.transition(M).attr("opacity",pE).attr("transform",function(P){return isFinite(P=_(P))?p(P+d):this.getAttribute("transform")}),k.attr("opacity",pE).attr("transform",function(P){var F=this.parentNode.__axis;return p((F&&isFinite(F=F(P))?F:_(P))+d)})),T.remove(),S.attr("d",l?"M"+C+","+u*l+"V"+d+"H"+w+"V"+u*l:"M"+C+","+d+"H"+w),I.attr("opacity",1).attr("transform",function(P){return p(_(P)+d)}),D.attr(h+"2",u*o),N.attr(h,u*b).text(y),E.filter(Pj).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),E.each(function(){this.__axis=_})}return f.scale=function(M){return arguments.length?(t=M,f):t},f.ticks=function(){return i=Array.from(arguments),f},f.tickArguments=function(M){return arguments.length?(i=M==null?[]:Array.from(M),f):i.slice()},f.tickValues=function(M){return arguments.length?(n=M==null?null:Array.from(M),f):n&&n.slice()},f.tickFormat=function(M){return arguments.length?(a=M,f):a},f.tickSize=function(M){return arguments.length?(o=l=+M,f):o},f.tickSizeInner=function(M){return arguments.length?(o=+M,f):o},f.tickSizeOuter=function(M){return arguments.length?(l=+M,f):l},f.tickPadding=function(M){return arguments.length?(c=+M,f):c},f.offset=function(M){return arguments.length?(d=+M,f):d},f}function Lj(e){return kj(Ij,e)}var Nj={value:()=>{}};function IB(){for(var e=0,t=arguments.length,i={},n;e<t;++e){if(!(n=arguments[e]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new r6(i)}function r6(e){this._=e}function Fj(e,t){return e.trim().split(/^|\s+/).map(function(i){var n="",a=i.indexOf(".");if(a>=0&&(n=i.slice(a+1),i=i.slice(0,a)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}r6.prototype=IB.prototype={constructor:r6,on:function(e,t){var i=this._,n=Fj(e+"",i),a,o=-1,l=n.length;if(arguments.length<2){for(;++o<l;)if((a=(e=n[o]).type)&&(a=Uj(i[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(a=(e=n[o]).type)i[a]=gE(i[a],e.name,t);else if(t==null)for(a in i)i[a]=gE(i[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new r6(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var i=new Array(a),n=0,a,o;n<a;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,i)}};function Uj(e,t){for(var i=0,n=e.length,a;i<n;++i)if((a=e[i]).name===t)return a.value}function gE(e,t,i){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=Nj,e=e.slice(0,n).concat(e.slice(n+1));break}return i!=null&&e.push({name:t,value:i}),e}var dM="http://www.w3.org/1999/xhtml";const Dc={svg:"http://www.w3.org/2000/svg",xhtml:dM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function F8(e){var t=e+="",i=t.indexOf(":");return i>=0&&(t=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),Dc.hasOwnProperty(t)?{space:Dc[t],local:e}:e}function Jj(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===dM&&t.documentElement.namespaceURI===dM?t.createElement(e):t.createElementNS(i,e)}}function $j(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function U8(e){var t=F8(e);return(t.local?$j:Jj)(t)}function Gj(){}function jy(e){return e==null?Gj:function(){return this.querySelector(e)}}function Hj(e){typeof e!="function"&&(e=jy(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var o=t[a],l=o.length,c=n[a]=new Array(l),d,u,h=0;h<l;++h)(d=o[h])&&(u=e.call(d,d.__data__,h,o))&&("__data__"in d&&(u.__data__=d.__data__),c[h]=u);return new no(n,this._parents)}function Vj(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Qj(){return[]}function BB(e){return e==null?Qj:function(){return this.querySelectorAll(e)}}function zj(e){return function(){return Vj(e.apply(this,arguments))}}function jj(e){typeof e=="function"?e=zj(e):e=BB(e);for(var t=this._groups,i=t.length,n=[],a=[],o=0;o<i;++o)for(var l=t[o],c=l.length,d,u=0;u<c;++u)(d=l[u])&&(n.push(e.call(d,d.__data__,u,l)),a.push(d));return new no(n,a)}function RB(e){return function(){return this.matches(e)}}function DB(e){return function(t){return t.matches(e)}}var Wj=Array.prototype.find;function Kj(e){return function(){return Wj.call(this.children,e)}}function qj(){return this.firstElementChild}function Xj(e){return this.select(e==null?qj:Kj(typeof e=="function"?e:DB(e)))}var Yj=Array.prototype.filter;function Zj(){return Array.from(this.children)}function tW(e){return function(){return Yj.call(this.children,e)}}function eW(e){return this.selectAll(e==null?Zj:tW(typeof e=="function"?e:DB(e)))}function iW(e){typeof e!="function"&&(e=RB(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var o=t[a],l=o.length,c=n[a]=[],d,u=0;u<l;++u)(d=o[u])&&e.call(d,d.__data__,u,o)&&c.push(d);return new no(n,this._parents)}function PB(e){return new Array(e.length)}function nW(){return new no(this._enter||this._groups.map(PB),this._parents)}function O6(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}O6.prototype={constructor:O6,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function rW(e){return function(){return e}}function aW(e,t,i,n,a,o){for(var l=0,c,d=t.length,u=o.length;l<u;++l)(c=t[l])?(c.__data__=o[l],n[l]=c):i[l]=new O6(e,o[l]);for(;l<d;++l)(c=t[l])&&(a[l]=c)}function oW(e,t,i,n,a,o,l){var c,d,u=new Map,h=t.length,p=o.length,f=new Array(h),M;for(c=0;c<h;++c)(d=t[c])&&(f[c]=M=l.call(d,d.__data__,c,t)+"",u.has(M)?a[c]=d:u.set(M,d));for(c=0;c<p;++c)M=l.call(e,o[c],c,o)+"",(d=u.get(M))?(n[c]=d,d.__data__=o[c],u.delete(M)):i[c]=new O6(e,o[c]);for(c=0;c<h;++c)(d=t[c])&&u.get(f[c])===d&&(a[c]=d)}function sW(e){return e.__data__}function lW(e,t){if(!arguments.length)return Array.from(this,sW);var i=t?oW:aW,n=this._parents,a=this._groups;typeof e!="function"&&(e=rW(e));for(var o=a.length,l=new Array(o),c=new Array(o),d=new Array(o),u=0;u<o;++u){var h=n[u],p=a[u],f=p.length,M=cW(e.call(h,h&&h.__data__,u,n)),g=M.length,y=c[u]=new Array(g),b=l[u]=new Array(g),v=d[u]=new Array(f);i(h,p,y,b,v,M,t);for(var C=0,w=0,_,E;C<g;++C)if(_=y[C]){for(C>=w&&(w=C+1);!(E=b[w])&&++w<g;);_._next=E||null}}return l=new no(l,n),l._enter=c,l._exit=d,l}function cW(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uW(){return new no(this._exit||this._groups.map(PB),this._parents)}function dW(e,t,i){var n=this.enter(),a=this,o=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),i==null?o.remove():i(o),n&&a?n.merge(a).order():a}function hW(e){for(var t=e.selection?e.selection():e,i=this._groups,n=t._groups,a=i.length,o=n.length,l=Math.min(a,o),c=new Array(a),d=0;d<l;++d)for(var u=i[d],h=n[d],p=u.length,f=c[d]=new Array(p),M,g=0;g<p;++g)(M=u[g]||h[g])&&(f[g]=M);for(;d<a;++d)c[d]=i[d];return new no(c,this._parents)}function fW(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n=e[t],a=n.length-1,o=n[a],l;--a>=0;)(l=n[a])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function mW(e){e||(e=pW);function t(p,f){return p&&f?e(p.__data__,f.__data__):!p-!f}for(var i=this._groups,n=i.length,a=new Array(n),o=0;o<n;++o){for(var l=i[o],c=l.length,d=a[o]=new Array(c),u,h=0;h<c;++h)(u=l[h])&&(d[h]=u);d.sort(t)}return new no(a,this._parents).order()}function pW(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function gW(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function MW(){return Array.from(this)}function yW(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,o=n.length;a<o;++a){var l=n[a];if(l)return l}return null}function AW(){let e=0;for(const t of this)++e;return e}function vW(){return!this.node()}function bW(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var a=t[i],o=0,l=a.length,c;o<l;++o)(c=a[o])&&e.call(c,c.__data__,o,a);return this}function CW(e){return function(){this.removeAttribute(e)}}function _W(e){return function(){this.removeAttributeNS(e.space,e.local)}}function EW(e,t){return function(){this.setAttribute(e,t)}}function wW(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function OW(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function SW(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function xW(e,t){var i=F8(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((t==null?i.local?_W:CW:typeof t=="function"?i.local?SW:OW:i.local?wW:EW)(i,t))}function kB(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function TW(e){return function(){this.style.removeProperty(e)}}function IW(e,t,i){return function(){this.style.setProperty(e,t,i)}}function BW(e,t,i){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function RW(e,t,i){return arguments.length>1?this.each((t==null?TW:typeof t=="function"?BW:IW)(e,t,i??"")):zd(this.node(),e)}function zd(e,t){return e.style.getPropertyValue(t)||kB(e).getComputedStyle(e,null).getPropertyValue(t)}function DW(e){return function(){delete this[e]}}function PW(e,t){return function(){this[e]=t}}function kW(e,t){return function(){var i=t.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function LW(e,t){return arguments.length>1?this.each((t==null?DW:typeof t=="function"?kW:PW)(e,t)):this.node()[e]}function LB(e){return e.trim().split(/^|\s+/)}function Wy(e){return e.classList||new NB(e)}function NB(e){this._node=e,this._names=LB(e.getAttribute("class")||"")}NB.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function FB(e,t){for(var i=Wy(e),n=-1,a=t.length;++n<a;)i.add(t[n])}function UB(e,t){for(var i=Wy(e),n=-1,a=t.length;++n<a;)i.remove(t[n])}function NW(e){return function(){FB(this,e)}}function FW(e){return function(){UB(this,e)}}function UW(e,t){return function(){(t.apply(this,arguments)?FB:UB)(this,e)}}function JW(e,t){var i=LB(e+"");if(arguments.length<2){for(var n=Wy(this.node()),a=-1,o=i.length;++a<o;)if(!n.contains(i[a]))return!1;return!0}return this.each((typeof t=="function"?UW:t?NW:FW)(i,t))}function $W(){this.textContent=""}function GW(e){return function(){this.textContent=e}}function HW(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function VW(e){return arguments.length?this.each(e==null?$W:(typeof e=="function"?HW:GW)(e)):this.node().textContent}function QW(){this.innerHTML=""}function zW(e){return function(){this.innerHTML=e}}function jW(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function WW(e){return arguments.length?this.each(e==null?QW:(typeof e=="function"?jW:zW)(e)):this.node().innerHTML}function KW(){this.nextSibling&&this.parentNode.appendChild(this)}function qW(){return this.each(KW)}function XW(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function YW(){return this.each(XW)}function ZW(e){var t=typeof e=="function"?e:U8(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function tK(){return null}function eK(e,t){var i=typeof e=="function"?e:U8(e),n=t==null?tK:typeof t=="function"?t:jy(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function iK(){var e=this.parentNode;e&&e.removeChild(this)}function nK(){return this.each(iK)}function rK(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function aK(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function oK(e){return this.select(e?aK:rK)}function sK(e){return arguments.length?this.property("__data__",e):this.node().__data__}function lK(e){return function(t){e.call(this,t,this.__data__)}}function cK(e){return e.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");return n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),{type:t,name:i}})}function uK(e){return function(){var t=this.__on;if(t){for(var i=0,n=-1,a=t.length,o;i<a;++i)o=t[i],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function dK(e,t,i){return function(){var n=this.__on,a,o=lK(t);if(n){for(var l=0,c=n.length;l<c;++l)if((a=n[l]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=i),a.value=t;return}}this.addEventListener(e.type,o,i),a={type:e.type,name:e.name,value:t,listener:o,options:i},n?n.push(a):this.__on=[a]}}function hK(e,t,i){var n=cK(e+""),a,o=n.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,u=c.length,h;d<u;++d)for(a=0,h=c[d];a<o;++a)if((l=n[a]).type===h.type&&l.name===h.name)return h.value}return}for(c=t?dK:uK,a=0;a<o;++a)this.each(c(n[a],t,i));return this}function JB(e,t,i){var n=kB(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,i):(a=n.document.createEvent("Event"),i?(a.initEvent(t,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function fK(e,t){return function(){return JB(this,e,t)}}function mK(e,t){return function(){return JB(this,e,t.apply(this,arguments))}}function pK(e,t){return this.each((typeof t=="function"?mK:fK)(e,t))}function*gK(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,o=n.length,l;a<o;++a)(l=n[a])&&(yield l)}var $B=[null];function no(e,t){this._groups=e,this._parents=t}function t3(){return new no([[document.documentElement]],$B)}function MK(){return this}no.prototype=t3.prototype={constructor:no,select:Hj,selectAll:jj,selectChild:Xj,selectChildren:eW,filter:iW,data:lW,enter:nW,exit:uW,join:dW,merge:hW,selection:MK,order:fW,sort:mW,call:gW,nodes:MW,node:yW,size:AW,empty:vW,each:bW,attr:xW,style:RW,property:LW,classed:JW,text:VW,html:WW,raise:qW,lower:YW,append:ZW,insert:eK,remove:nK,clone:oK,datum:sK,on:hK,dispatch:pK,[Symbol.iterator]:gK};function Od(e){return typeof e=="string"?new no([[document.querySelector(e)]],[document.documentElement]):new no([[e]],$B)}function yK(e){let t;for(;t=e.sourceEvent;)e=t;return e}function AK(e,t){if(e=yK(e),t===void 0&&(t=e.currentTarget),t){var i=t.ownerSVGElement||t;if(i.createSVGPoint){var n=i.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}function vh(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function e3(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function zc(){}var r1=.7,jd=1/r1,Sd="\\s*([+-]?\\d+)\\s*",mf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vK=/^#([0-9a-f]{3,8})$/,bK=new RegExp(`^rgb\\(${Sd},${Sd},${Sd}\\)$`),CK=new RegExp(`^rgb\\(${xs},${xs},${xs}\\)$`),_K=new RegExp(`^rgba\\(${Sd},${Sd},${Sd},${mf}\\)$`),EK=new RegExp(`^rgba\\(${xs},${xs},${xs},${mf}\\)$`),wK=new RegExp(`^hsl\\(${mf},${xs},${xs}\\)$`),OK=new RegExp(`^hsla\\(${mf},${xs},${xs},${mf}\\)$`),ME={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vh(zc,Pc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yE,formatHex:yE,formatHex8:SK,formatHsl:xK,formatRgb:AE,toString:AE});function yE(){return this.rgb().formatHex()}function SK(){return this.rgb().formatHex8()}function xK(){return GB(this).formatHsl()}function AE(){return this.rgb().formatRgb()}function Pc(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=vK.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?vE(t):i===3?new Tr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?C4(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?C4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bK.exec(e))?new Tr(t[1],t[2],t[3],1):(t=CK.exec(e))?new Tr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_K.exec(e))?C4(t[1],t[2],t[3],t[4]):(t=EK.exec(e))?C4(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wK.exec(e))?_E(t[1],t[2]/100,t[3]/100,1):(t=OK.exec(e))?_E(t[1],t[2]/100,t[3]/100,t[4]):ME.hasOwnProperty(e)?vE(ME[e]):e==="transparent"?new Tr(NaN,NaN,NaN,0):null}function vE(e){return new Tr(e>>16&255,e>>8&255,e&255,1)}function C4(e,t,i,n){return n<=0&&(e=t=i=NaN),new Tr(e,t,i,n)}function Ky(e){return e instanceof zc||(e=Pc(e)),e?(e=e.rgb(),new Tr(e.r,e.g,e.b,e.opacity)):new Tr}function kc(e,t,i,n){return arguments.length===1?Ky(e):new Tr(e,t,i,n??1)}function Tr(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}vh(Tr,kc,e3(zc,{brighter(e){return e=e==null?jd:Math.pow(jd,e),new Tr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?r1:Math.pow(r1,e),new Tr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Tr(ju(this.r),ju(this.g),ju(this.b),S6(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bE,formatHex:bE,formatHex8:TK,formatRgb:CE,toString:CE}));function bE(){return`#${Lu(this.r)}${Lu(this.g)}${Lu(this.b)}`}function TK(){return`#${Lu(this.r)}${Lu(this.g)}${Lu(this.b)}${Lu((isNaN(this.opacity)?1:this.opacity)*255)}`}function CE(){const e=S6(this.opacity);return`${e===1?"rgb(":"rgba("}${ju(this.r)}, ${ju(this.g)}, ${ju(this.b)}${e===1?")":`, ${e})`}`}function S6(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ju(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lu(e){return e=ju(e),(e<16?"0":"")+e.toString(16)}function _E(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new zo(e,t,i,n)}function GB(e){if(e instanceof zo)return new zo(e.h,e.s,e.l,e.opacity);if(e instanceof zc||(e=Pc(e)),!e)return new zo;if(e instanceof zo)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,a=Math.min(t,i,n),o=Math.max(t,i,n),l=NaN,c=o-a,d=(o+a)/2;return c?(t===o?l=(i-n)/c+(i<n)*6:i===o?l=(n-t)/c+2:l=(t-i)/c+4,c/=d<.5?o+a:2-o-a,l*=60):c=d>0&&d<1?0:l,new zo(l,c,d,e.opacity)}function hM(e,t,i,n){return arguments.length===1?GB(e):new zo(e,t,i,n??1)}function zo(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}vh(zo,hM,e3(zc,{brighter(e){return e=e==null?jd:Math.pow(jd,e),new zo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?r1:Math.pow(r1,e),new zo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,a=2*i-n;return new Tr(og(e>=240?e-240:e+120,a,n),og(e,a,n),og(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new zo(EE(this.h),_4(this.s),_4(this.l),S6(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=S6(this.opacity);return`${e===1?"hsl(":"hsla("}${EE(this.h)}, ${_4(this.s)*100}%, ${_4(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EE(e){return e=(e||0)%360,e<0?e+360:e}function _4(e){return Math.max(0,Math.min(1,e||0))}function og(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const HB=Math.PI/180,VB=180/Math.PI,x6=18,QB=.96422,zB=1,jB=.82521,WB=4/29,xd=6/29,KB=3*xd*xd,IK=xd*xd*xd;function qB(e){if(e instanceof Ts)return new Ts(e.l,e.a,e.b,e.opacity);if(e instanceof vl)return XB(e);e instanceof Tr||(e=Ky(e));var t=ug(e.r),i=ug(e.g),n=ug(e.b),a=sg((.2225045*t+.7168786*i+.0606169*n)/zB),o,l;return t===i&&i===n?o=l=a:(o=sg((.4360747*t+.3850649*i+.1430804*n)/QB),l=sg((.0139322*t+.0971045*i+.7141733*n)/jB)),new Ts(116*a-16,500*(o-a),200*(a-l),e.opacity)}function fM(e,t,i,n){return arguments.length===1?qB(e):new Ts(e,t,i,n??1)}function Ts(e,t,i,n){this.l=+e,this.a=+t,this.b=+i,this.opacity=+n}vh(Ts,fM,e3(zc,{brighter(e){return new Ts(this.l+x6*(e??1),this.a,this.b,this.opacity)},darker(e){return new Ts(this.l-x6*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,i=isNaN(this.b)?e:e-this.b/200;return t=QB*lg(t),e=zB*lg(e),i=jB*lg(i),new Tr(cg(3.1338561*t-1.6168667*e-.4906146*i),cg(-.9787684*t+1.9161415*e+.033454*i),cg(.0719453*t-.2289914*e+1.4052427*i),this.opacity)}}));function sg(e){return e>IK?Math.pow(e,1/3):e/KB+WB}function lg(e){return e>xd?e*e*e:KB*(e-WB)}function cg(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function ug(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function BK(e){if(e instanceof vl)return new vl(e.h,e.c,e.l,e.opacity);if(e instanceof Ts||(e=qB(e)),e.a===0&&e.b===0)return new vl(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*VB;return new vl(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function mM(e,t,i,n){return arguments.length===1?BK(e):new vl(e,t,i,n??1)}function vl(e,t,i,n){this.h=+e,this.c=+t,this.l=+i,this.opacity=+n}function XB(e){if(isNaN(e.h))return new Ts(e.l,0,0,e.opacity);var t=e.h*HB;return new Ts(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}vh(vl,mM,e3(zc,{brighter(e){return new vl(this.h,this.c,this.l+x6*(e??1),this.opacity)},darker(e){return new vl(this.h,this.c,this.l-x6*(e??1),this.opacity)},rgb(){return XB(this).rgb()}}));var YB=-.14861,qy=1.78277,Xy=-.29227,J8=-.90649,pf=1.97294,wE=pf*J8,OE=pf*qy,SE=qy*Xy-J8*YB;function RK(e){if(e instanceof Wu)return new Wu(e.h,e.s,e.l,e.opacity);e instanceof Tr||(e=Ky(e));var t=e.r/255,i=e.g/255,n=e.b/255,a=(SE*n+wE*t-OE*i)/(SE+wE-OE),o=n-a,l=(pf*(i-a)-Xy*o)/J8,c=Math.sqrt(l*l+o*o)/(pf*a*(1-a)),d=c?Math.atan2(l,o)*VB-120:NaN;return new Wu(d<0?d+360:d,c,a,e.opacity)}function Bs(e,t,i,n){return arguments.length===1?RK(e):new Wu(e,t,i,n??1)}function Wu(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}vh(Wu,Bs,e3(zc,{brighter(e){return e=e==null?jd:Math.pow(jd,e),new Wu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?r1:Math.pow(r1,e),new Wu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*HB,t=+this.l,i=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new Tr(255*(t+i*(YB*n+qy*a)),255*(t+i*(Xy*n+J8*a)),255*(t+i*(pf*n)),this.opacity)}}));function DK(e,t,i,n,a){var o=e*e,l=o*e;return((1-3*e+3*o-l)*t+(4-6*o+3*l)*i+(1+3*e+3*o-3*l)*n+l*a)/6}function PK(e){var t=e.length-1;return function(i){var n=i<=0?i=0:i>=1?(i=1,t-1):Math.floor(i*t),a=e[n],o=e[n+1],l=n>0?e[n-1]:2*a-o,c=n<t-1?e[n+2]:2*o-a;return DK((i-n/t)*t,l,a,o,c)}}const $8=e=>()=>e;function ZB(e,t){return function(i){return e+i*t}}function kK(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function Yy(e,t){var i=t-e;return i?ZB(e,i>180||i<-180?i-360*Math.round(i/360):i):$8(isNaN(e)?t:e)}function LK(e){return(e=+e)==1?aa:function(t,i){return i-t?kK(t,i,e):$8(isNaN(t)?i:t)}}function aa(e,t){var i=t-e;return i?ZB(e,i):$8(isNaN(e)?t:e)}const a1=function e(t){var i=LK(t);function n(a,o){var l=i((a=kc(a)).r,(o=kc(o)).r),c=i(a.g,o.g),d=i(a.b,o.b),u=aa(a.opacity,o.opacity);return function(h){return a.r=l(h),a.g=c(h),a.b=d(h),a.opacity=u(h),a+""}}return n.gamma=e,n}(1);function NK(e){return function(t){var i=t.length,n=new Array(i),a=new Array(i),o=new Array(i),l,c;for(l=0;l<i;++l)c=kc(t[l]),n[l]=c.r||0,a[l]=c.g||0,o[l]=c.b||0;return n=e(n),a=e(a),o=e(o),c.opacity=1,function(d){return c.r=n(d),c.g=a(d),c.b=o(d),c+""}}}var FK=NK(PK);function UK(e,t){t||(t=[]);var i=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(o){for(a=0;a<i;++a)n[a]=e[a]*(1-o)+t[a]*o;return n}}function JK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $K(e,t){var i=t?t.length:0,n=e?Math.min(i,e.length):0,a=new Array(n),o=new Array(i),l;for(l=0;l<n;++l)a[l]=i3(e[l],t[l]);for(;l<i;++l)o[l]=t[l];return function(c){for(l=0;l<n;++l)o[l]=a[l](c);return o}}function GK(e,t){var i=new Date;return e=+e,t=+t,function(n){return i.setTime(e*(1-n)+t*n),i}}function ta(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}function HK(e,t){var i={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?i[a]=i3(e[a],t[a]):n[a]=t[a];return function(o){for(a in i)n[a]=i[a](o);return n}}var pM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dg=new RegExp(pM.source,"g");function VK(e){return function(){return e}}function QK(e){return function(t){return e(t)+""}}function tR(e,t){var i=pM.lastIndex=dg.lastIndex=0,n,a,o,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=pM.exec(e))&&(a=dg.exec(t));)(o=a.index)>i&&(o=t.slice(i,o),c[l]?c[l]+=o:c[++l]=o),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:ta(n,a)})),i=dg.lastIndex;return i<t.length&&(o=t.slice(i),c[l]?c[l]+=o:c[++l]=o),c.length<2?d[0]?QK(d[0].x):VK(t):(t=d.length,function(u){for(var h=0,p;h<t;++h)c[(p=d[h]).i]=p.x(u);return c.join("")})}function i3(e,t){var i=typeof t,n;return t==null||i==="boolean"?$8(t):(i==="number"?ta:i==="string"?(n=Pc(t))?(t=n,a1):tR:t instanceof Pc?a1:t instanceof Date?GK:JK(t)?UK:Array.isArray(t)?$K:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?HK:ta)(e,t)}function Zy(e,t){return e=+e,t=+t,function(i){return Math.round(e*(1-i)+t*i)}}var xE=180/Math.PI,gM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eR(e,t,i,n,a,o){var l,c,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*i+t*n)&&(i-=e*d,n-=t*d),(c=Math.sqrt(i*i+n*n))&&(i/=c,n/=c,d/=c),e*n<t*i&&(e=-e,t=-t,d=-d,l=-l),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*xE,skewX:Math.atan(d)*xE,scaleX:l,scaleY:c}}var E4;function zK(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?gM:eR(t.a,t.b,t.c,t.d,t.e,t.f)}function jK(e){return e==null||(E4||(E4=document.createElementNS("http://www.w3.org/2000/svg","g")),E4.setAttribute("transform",e),!(e=E4.transform.baseVal.consolidate()))?gM:(e=e.matrix,eR(e.a,e.b,e.c,e.d,e.e,e.f))}function iR(e,t,i,n){function a(u){return u.length?u.pop()+" ":""}function o(u,h,p,f,M,g){if(u!==p||h!==f){var y=M.push("translate(",null,t,null,i);g.push({i:y-4,x:ta(u,p)},{i:y-2,x:ta(h,f)})}else(p||f)&&M.push("translate("+p+t+f+i)}function l(u,h,p,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:p.push(a(p)+"rotate(",null,n)-2,x:ta(u,h)})):h&&p.push(a(p)+"rotate("+h+n)}function c(u,h,p,f){u!==h?f.push({i:p.push(a(p)+"skewX(",null,n)-2,x:ta(u,h)}):h&&p.push(a(p)+"skewX("+h+n)}function d(u,h,p,f,M,g){if(u!==p||h!==f){var y=M.push(a(M)+"scale(",null,",",null,")");g.push({i:y-4,x:ta(u,p)},{i:y-2,x:ta(h,f)})}else(p!==1||f!==1)&&M.push(a(M)+"scale("+p+","+f+")")}return function(u,h){var p=[],f=[];return u=e(u),h=e(h),o(u.translateX,u.translateY,h.translateX,h.translateY,p,f),l(u.rotate,h.rotate,p,f),c(u.skewX,h.skewX,p,f),d(u.scaleX,u.scaleY,h.scaleX,h.scaleY,p,f),u=h=null,function(M){for(var g=-1,y=f.length,b;++g<y;)p[(b=f[g]).i]=b.x(M);return p.join("")}}}var WK=iR(zK,"px, ","px)","deg)"),KK=iR(jK,", ",")",")");function qK(e){return function(t,i){var n=e((t=hM(t)).h,(i=hM(i)).h),a=aa(t.s,i.s),o=aa(t.l,i.l),l=aa(t.opacity,i.opacity);return function(c){return t.h=n(c),t.s=a(c),t.l=o(c),t.opacity=l(c),t+""}}}const XK=qK(Yy);function YK(e,t){var i=aa((e=fM(e)).l,(t=fM(t)).l),n=aa(e.a,t.a),a=aa(e.b,t.b),o=aa(e.opacity,t.opacity);return function(l){return e.l=i(l),e.a=n(l),e.b=a(l),e.opacity=o(l),e+""}}function ZK(e){return function(t,i){var n=e((t=mM(t)).h,(i=mM(i)).h),a=aa(t.c,i.c),o=aa(t.l,i.l),l=aa(t.opacity,i.opacity);return function(c){return t.h=n(c),t.c=a(c),t.l=o(c),t.opacity=l(c),t+""}}}const tq=ZK(Yy);function nR(e){return function t(i){i=+i;function n(a,o){var l=e((a=Bs(a)).h,(o=Bs(o)).h),c=aa(a.s,o.s),d=aa(a.l,o.l),u=aa(a.opacity,o.opacity);return function(h){return a.h=l(h),a.s=c(h),a.l=d(Math.pow(h,i)),a.opacity=u(h),a+""}}return n.gamma=t,n}(1)}nR(Yy);var tA=nR(aa);function G8(e,t){t===void 0&&(t=e,e=i3);for(var i=0,n=t.length-1,a=t[0],o=new Array(n<0?0:n);i<n;)o[i]=e(a,a=t[++i]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return o[c](l-c)}}function Yo(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e(n/(t-1));return i}var Wd=0,k2=0,w2=0,rR=1e3,T6,L2,I6=0,o1=0,H8=0,gf=typeof performance=="object"&&performance.now?performance:Date,aR=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function eA(){return o1||(aR(eq),o1=gf.now()+H8)}function eq(){o1=0}function B6(){this._call=this._time=this._next=null}B6.prototype=oR.prototype={constructor:B6,restart:function(e,t,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?eA():+i)+(t==null?0:+t),!this._next&&L2!==this&&(L2?L2._next=this:T6=this,L2=this),this._call=e,this._time=i,MM()},stop:function(){this._call&&(this._call=null,this._time=1/0,MM())}};function oR(e,t,i){var n=new B6;return n.restart(e,t,i),n}function iq(){eA(),++Wd;for(var e=T6,t;e;)(t=o1-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Wd}function TE(){o1=(I6=gf.now())+H8,Wd=k2=0;try{iq()}finally{Wd=0,rq(),o1=0}}function nq(){var e=gf.now(),t=e-I6;t>rR&&(H8-=t,I6=e)}function rq(){for(var e,t=T6,i,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:T6=i);L2=e,MM(n)}function MM(e){if(!Wd){k2&&(k2=clearTimeout(k2));var t=e-o1;t>24?(e<1/0&&(k2=setTimeout(TE,e-gf.now()-H8)),w2&&(w2=clearInterval(w2))):(w2||(I6=gf.now(),w2=setInterval(nq,rR)),Wd=1,aR(TE))}}function IE(e,t,i){var n=new B6;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,i),n}var aq=IB("start","end","cancel","interrupt"),oq=[],sR=0,BE=1,yM=2,a6=3,RE=4,AM=5,o6=6;function V8(e,t,i,n,a,o){var l=e.__transition;if(!l)e.__transition={};else if(i in l)return;sq(e,i,{name:t,index:n,group:a,on:aq,tween:oq,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:sR})}function iA(e,t){var i=ns(e,t);if(i.state>sR)throw new Error("too late; already scheduled");return i}function Fs(e,t){var i=ns(e,t);if(i.state>a6)throw new Error("too late; already running");return i}function ns(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function sq(e,t,i){var n=e.__transition,a;n[t]=i,i.timer=oR(o,0,i.time);function o(u){i.state=BE,i.timer.restart(l,i.delay,i.time),i.delay<=u&&l(u-i.delay)}function l(u){var h,p,f,M;if(i.state!==BE)return d();for(h in n)if(M=n[h],M.name===i.name){if(M.state===a6)return IE(l);M.state===RE?(M.state=o6,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete n[h]):+h<t&&(M.state=o6,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete n[h])}if(IE(function(){i.state===a6&&(i.state=RE,i.timer.restart(c,i.delay,i.time),c(u))}),i.state=yM,i.on.call("start",e,e.__data__,i.index,i.group),i.state===yM){for(i.state=a6,a=new Array(f=i.tween.length),h=0,p=-1;h<f;++h)(M=i.tween[h].value.call(e,e.__data__,i.index,i.group))&&(a[++p]=M);a.length=p+1}}function c(u){for(var h=u<i.duration?i.ease.call(null,u/i.duration):(i.timer.restart(d),i.state=AM,1),p=-1,f=a.length;++p<f;)a[p].call(e,h);i.state===AM&&(i.on.call("end",e,e.__data__,i.index,i.group),d())}function d(){i.state=o6,i.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function lq(e,t){var i=e.__transition,n,a,o=!0,l;if(i){t=t==null?null:t+"";for(l in i){if((n=i[l]).name!==t){o=!1;continue}a=n.state>yM&&n.state<AM,n.state=o6,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[l]}o&&delete e.__transition}}function cq(e){return this.each(function(){lq(this,e)})}function uq(e,t){var i,n;return function(){var a=Fs(this,e),o=a.tween;if(o!==i){n=i=o;for(var l=0,c=n.length;l<c;++l)if(n[l].name===t){n=n.slice(),n.splice(l,1);break}}a.tween=n}}function dq(e,t,i){var n,a;if(typeof i!="function")throw new Error;return function(){var o=Fs(this,e),l=o.tween;if(l!==n){a=(n=l).slice();for(var c={name:t,value:i},d=0,u=a.length;d<u;++d)if(a[d].name===t){a[d]=c;break}d===u&&a.push(c)}o.tween=a}}function hq(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n=ns(this.node(),i).tween,a=0,o=n.length,l;a<o;++a)if((l=n[a]).name===e)return l.value;return null}return this.each((t==null?uq:dq)(i,e,t))}function nA(e,t,i){var n=e._id;return e.each(function(){var a=Fs(this,n);(a.value||(a.value={}))[t]=i.apply(this,arguments)}),function(a){return ns(a,n).value[t]}}function lR(e,t){var i;return(typeof t=="number"?ta:t instanceof Pc?a1:(i=Pc(t))?(t=i,a1):tR)(e,t)}function fq(e){return function(){this.removeAttribute(e)}}function mq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function pq(e,t,i){var n,a=i+"",o;return function(){var l=this.getAttribute(e);return l===a?null:l===n?o:o=t(n=l,i)}}function gq(e,t,i){var n,a=i+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===n?o:o=t(n=l,i)}}function Mq(e,t,i){var n,a,o;return function(){var l,c=i(this),d;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=c+"",l===d?null:l===n&&d===a?o:(a=d,o=t(n=l,c)))}}function yq(e,t,i){var n,a,o;return function(){var l,c=i(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=c+"",l===d?null:l===n&&d===a?o:(a=d,o=t(n=l,c)))}}function Aq(e,t){var i=F8(e),n=i==="transform"?KK:lR;return this.attrTween(e,typeof t=="function"?(i.local?yq:Mq)(i,n,nA(this,"attr."+e,t)):t==null?(i.local?mq:fq)(i):(i.local?gq:pq)(i,n,t))}function vq(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function bq(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function Cq(e,t){var i,n;function a(){var o=t.apply(this,arguments);return o!==n&&(i=(n=o)&&bq(e,o)),i}return a._value=t,a}function _q(e,t){var i,n;function a(){var o=t.apply(this,arguments);return o!==n&&(i=(n=o)&&vq(e,o)),i}return a._value=t,a}function Eq(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;var n=F8(e);return this.tween(i,(n.local?Cq:_q)(n,t))}function wq(e,t){return function(){iA(this,e).delay=+t.apply(this,arguments)}}function Oq(e,t){return t=+t,function(){iA(this,e).delay=t}}function Sq(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?wq:Oq)(t,e)):ns(this.node(),t).delay}function xq(e,t){return function(){Fs(this,e).duration=+t.apply(this,arguments)}}function Tq(e,t){return t=+t,function(){Fs(this,e).duration=t}}function Iq(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?xq:Tq)(t,e)):ns(this.node(),t).duration}function Bq(e,t){if(typeof t!="function")throw new Error;return function(){Fs(this,e).ease=t}}function Rq(e){var t=this._id;return arguments.length?this.each(Bq(t,e)):ns(this.node(),t).ease}function Dq(e,t){return function(){var i=t.apply(this,arguments);if(typeof i!="function")throw new Error;Fs(this,e).ease=i}}function Pq(e){if(typeof e!="function")throw new Error;return this.each(Dq(this._id,e))}function kq(e){typeof e!="function"&&(e=RB(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var o=t[a],l=o.length,c=n[a]=[],d,u=0;u<l;++u)(d=o[u])&&e.call(d,d.__data__,u,o)&&c.push(d);return new Il(n,this._parents,this._name,this._id)}function Lq(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,a=i.length,o=Math.min(n,a),l=new Array(n),c=0;c<o;++c)for(var d=t[c],u=i[c],h=d.length,p=l[c]=new Array(h),f,M=0;M<h;++M)(f=d[M]||u[M])&&(p[M]=f);for(;c<n;++c)l[c]=t[c];return new Il(l,this._parents,this._name,this._id)}function Nq(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||t==="start"})}function Fq(e,t,i){var n,a,o=Nq(t)?iA:Fs;return function(){var l=o(this,e),c=l.on;c!==n&&(a=(n=c).copy()).on(t,i),l.on=a}}function Uq(e,t){var i=this._id;return arguments.length<2?ns(this.node(),i).on.on(e):this.each(Fq(i,e,t))}function Jq(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}function $q(){return this.on("end.remove",Jq(this._id))}function Gq(e){var t=this._name,i=this._id;typeof e!="function"&&(e=jy(e));for(var n=this._groups,a=n.length,o=new Array(a),l=0;l<a;++l)for(var c=n[l],d=c.length,u=o[l]=new Array(d),h,p,f=0;f<d;++f)(h=c[f])&&(p=e.call(h,h.__data__,f,c))&&("__data__"in h&&(p.__data__=h.__data__),u[f]=p,V8(u[f],t,i,f,u,ns(h,i)));return new Il(o,this._parents,t,i)}function Hq(e){var t=this._name,i=this._id;typeof e!="function"&&(e=BB(e));for(var n=this._groups,a=n.length,o=[],l=[],c=0;c<a;++c)for(var d=n[c],u=d.length,h,p=0;p<u;++p)if(h=d[p]){for(var f=e.call(h,h.__data__,p,d),M,g=ns(h,i),y=0,b=f.length;y<b;++y)(M=f[y])&&V8(M,t,i,y,f,g);o.push(f),l.push(h)}return new Il(o,l,t,i)}var Vq=t3.prototype.constructor;function Qq(){return new Vq(this._groups,this._parents)}function zq(e,t){var i,n,a;return function(){var o=zd(this,e),l=(this.style.removeProperty(e),zd(this,e));return o===l?null:o===i&&l===n?a:a=t(i=o,n=l)}}function cR(e){return function(){this.style.removeProperty(e)}}function jq(e,t,i){var n,a=i+"",o;return function(){var l=zd(this,e);return l===a?null:l===n?o:o=t(n=l,i)}}function Wq(e,t,i){var n,a,o;return function(){var l=zd(this,e),c=i(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),zd(this,e))),l===d?null:l===n&&d===a?o:(a=d,o=t(n=l,c))}}function Kq(e,t){var i,n,a,o="style."+t,l="end."+o,c;return function(){var d=Fs(this,e),u=d.on,h=d.value[o]==null?c||(c=cR(t)):void 0;(u!==i||a!==h)&&(n=(i=u).copy()).on(l,a=h),d.on=n}}function qq(e,t,i){var n=(e+="")=="transform"?WK:lR;return t==null?this.styleTween(e,zq(e,n)).on("end.style."+e,cR(e)):typeof t=="function"?this.styleTween(e,Wq(e,n,nA(this,"style."+e,t))).each(Kq(this._id,e)):this.styleTween(e,jq(e,n,t),i).on("end.style."+e,null)}function Xq(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}function Yq(e,t,i){var n,a;function o(){var l=t.apply(this,arguments);return l!==a&&(n=(a=l)&&Xq(e,l,i)),n}return o._value=t,o}function Zq(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Yq(e,t,i??""))}function tX(e){return function(){this.textContent=e}}function eX(e){return function(){var t=e(this);this.textContent=t??""}}function iX(e){return this.tween("text",typeof e=="function"?eX(nA(this,"text",e)):tX(e==null?"":e+""))}function nX(e){return function(t){this.textContent=e.call(this,t)}}function rX(e){var t,i;function n(){var a=e.apply(this,arguments);return a!==i&&(t=(i=a)&&nX(a)),t}return n._value=e,n}function aX(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,rX(e))}function oX(){for(var e=this._name,t=this._id,i=uR(),n=this._groups,a=n.length,o=0;o<a;++o)for(var l=n[o],c=l.length,d,u=0;u<c;++u)if(d=l[u]){var h=ns(d,t);V8(d,e,i,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Il(n,this._parents,e,i)}function sX(){var e,t,i=this,n=i._id,a=i.size();return new Promise(function(o,l){var c={value:l},d={value:function(){--a===0&&o()}};i.each(function(){var u=Fs(this,n),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(d)),u.on=t}),a===0&&o()})}var lX=0;function Il(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function uR(){return++lX}var al=t3.prototype;Il.prototype={constructor:Il,select:Gq,selectAll:Hq,selectChild:al.selectChild,selectChildren:al.selectChildren,filter:kq,merge:Lq,selection:Qq,transition:oX,call:al.call,nodes:al.nodes,node:al.node,size:al.size,empty:al.empty,each:al.each,on:Uq,attr:Aq,attrTween:Eq,style:qq,styleTween:Zq,text:iX,textTween:aX,remove:$q,tween:hq,delay:Sq,duration:Iq,ease:Rq,easeVarying:Pq,end:sX,[Symbol.iterator]:al[Symbol.iterator]};function cX(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var uX={time:null,delay:0,duration:250,ease:cX};function dX(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function hX(e){var t,i;e instanceof Il?(t=e._id,e=e._name):(t=uR(),(i=uX).time=eA(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,o=0;o<a;++o)for(var l=n[o],c=l.length,d,u=0;u<c;++u)(d=l[u])&&V8(d,e,t,u,l,i||dX(d,t));return new Il(n,this._parents,e,t)}t3.prototype.interrupt=cq;t3.prototype.transition=hX;const vM=Math.PI,bM=2*vM,Pu=1e-6,fX=bM-Pu;function dR(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function mX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dR;const i=10**t;return function(n){this._+=n[0];for(let a=1,o=n.length;a<o;++a)this._+=Math.round(arguments[a]*i)/i+n[a]}}class hR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dR:mX(t)}moveTo(t,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,i){this._append`L${this._x1=+t},${this._y1=+i}`}quadraticCurveTo(t,i,n,a){this._append`Q${+t},${+i},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,i,n,a,o,l){this._append`C${+t},${+i},${+n},${+a},${this._x1=+o},${this._y1=+l}`}arcTo(t,i,n,a,o){if(t=+t,i=+i,n=+n,a=+a,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,d=n-t,u=a-i,h=l-t,p=c-i,f=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=i}`;else if(f>Pu)if(!(Math.abs(p*d-u*h)>Pu)||!o)this._append`L${this._x1=t},${this._y1=i}`;else{let M=n-l,g=a-c,y=d*d+u*u,b=M*M+g*g,v=Math.sqrt(y),C=Math.sqrt(f),w=o*Math.tan((vM-Math.acos((y+f-b)/(2*v*C)))/2),_=w/C,E=w/v;Math.abs(_-1)>Pu&&this._append`L${t+_*h},${i+_*p}`,this._append`A${o},${o},0,0,${+(p*M>h*g)},${this._x1=t+E*d},${this._y1=i+E*u}`}}arc(t,i,n,a,o,l){if(t=+t,i=+i,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),u=t+c,h=i+d,p=1^l,f=l?a-o:o-a;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Pu||Math.abs(this._y1-h)>Pu)&&this._append`L${u},${h}`,n&&(f<0&&(f=f%bM+bM),f>fX?this._append`A${n},${n},0,1,${p},${t-c},${i-d}A${n},${n},0,1,${p},${this._x1=u},${this._y1=h}`:f>Pu&&this._append`A${n},${n},0,${+(f>=vM)},${p},${this._x1=t+n*Math.cos(o)},${this._y1=i+n*Math.sin(o)}`)}rect(t,i,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+i}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ec(e=3){return new hR(+e)}function pX(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function R6(e,t){if((i=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var i,n=e.slice(0,i);return[n.length>1?n[0]+n.slice(2):n,+e.slice(i+1)]}function Kd(e){return e=R6(Math.abs(e)),e?e[1]:NaN}function gX(e,t){return function(i,n){for(var a=i.length,o=[],l=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),o.push(i.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[l=(l+1)%e.length];return o.reverse().join(t)}}function MX(e){return function(t){return t.replace(/[0-9]/g,function(i){return e[+i]})}}var yX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mf(e){if(!(t=yX.exec(e)))throw new Error("invalid format: "+e);var t;return new rA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mf.prototype=rA.prototype;function rA(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function AX(e){t:for(var t=e.length,i=1,n=-1,a;i<t;++i)switch(e[i]){case".":n=a=i;break;case"0":n===0&&(n=i),a=i;break;default:if(!+e[i])break t;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var fR;function vX(e,t){var i=R6(e,t);if(!i)return e+"";var n=i[0],a=i[1],o=a-(fR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return o===l?n:o>l?n+new Array(o-l+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+R6(e,Math.max(0,t+o-1))[0]}function DE(e,t){var i=R6(e,t);if(!i)return e+"";var n=i[0],a=i[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const PE={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pX,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>DE(e*100,t),r:DE,s:vX,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kE(e){return e}var LE=Array.prototype.map,NE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bX(e){var t=e.grouping===void 0||e.thousands===void 0?kE:gX(LE.call(e.grouping,Number),e.thousands+""),i=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?kE:MX(LE.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(p){p=Mf(p);var f=p.fill,M=p.align,g=p.sign,y=p.symbol,b=p.zero,v=p.width,C=p.comma,w=p.precision,_=p.trim,E=p.type;E==="n"?(C=!0,E="g"):PE[E]||(w===void 0&&(w=12),_=!0,E="g"),(b||f==="0"&&M==="=")&&(b=!0,f="0",M="=");var S=y==="$"?i:y==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",I=y==="$"?n:/[%p]/.test(E)?l:"",T=PE[E],k=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(N){var P=S,F=I,U,V,z;if(E==="c")F=T(N)+F,N="";else{N=+N;var G=N<0||1/N<0;if(N=isNaN(N)?d:T(Math.abs(N),w),_&&(N=AX(N)),G&&+N==0&&g!=="+"&&(G=!1),P=(G?g==="("?g:c:g==="-"||g==="("?"":g)+P,F=(E==="s"?NE[8+fR/3]:"")+F+(G&&g==="("?")":""),k){for(U=-1,V=N.length;++U<V;)if(z=N.charCodeAt(U),48>z||z>57){F=(z===46?a+N.slice(U+1):N.slice(U))+F,N=N.slice(0,U);break}}}C&&!b&&(N=t(N,1/0));var H=P.length+N.length+F.length,J=H<v?new Array(v-H+1).join(f):"";switch(C&&b&&(N=t(J+N,J.length?v-F.length:1/0),J=""),M){case"<":N=P+N+F+J;break;case"=":N=P+J+N+F;break;case"^":N=J.slice(0,H=J.length>>1)+P+N+F+J.slice(H);break;default:N=J+P+N+F;break}return o(N)}return D.toString=function(){return p+""},D}function h(p,f){var M=u((p=Mf(p),p.type="f",p)),g=Math.max(-8,Math.min(8,Math.floor(Kd(f)/3)))*3,y=Math.pow(10,-g),b=NE[8+g/3];return function(v){return M(y*v)+b}}return{format:u,formatPrefix:h}}var w4,bh,mR;CX({thousands:",",grouping:[3],currency:["$",""]});function CX(e){return w4=bX(e),bh=w4.format,mR=w4.formatPrefix,w4}function _X(e){return Math.max(0,-Kd(Math.abs(e)))}function EX(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kd(t)/3)))*3-Kd(Math.abs(e)))}function wX(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kd(t)-Kd(e))+1}var l0=1e-6,pR=1e-12,A0=Math.PI,j9=A0/2,FE=A0/4,ro=A0*2,ya=180/A0,Q9=A0/180,Z0=Math.abs,Ch=Math.atan,Bl=Math.atan2,g0=Math.cos,gR=Math.exp,D6=Math.log,hg=Math.pow,Zn=Math.sin,bo=Math.sign||function(e){return e>0?1:e<0?-1:0},Na=Math.sqrt,aA=Math.tan;function MR(e){return e>1?0:e<-1?A0:Math.acos(e)}function To(e){return e>1?j9:e<-1?-j9:Math.asin(e)}function Co(){}function P6(e,t){e&&JE.hasOwnProperty(e.type)&&JE[e.type](e,t)}var UE={Feature:function(e,t){P6(e.geometry,t)},FeatureCollection:function(e,t){for(var i=e.features,n=-1,a=i.length;++n<a;)P6(i[n].geometry,t)}},JE={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var i=e.coordinates,n=-1,a=i.length;++n<a;)e=i[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){CM(e.coordinates,t,0)},MultiLineString:function(e,t){for(var i=e.coordinates,n=-1,a=i.length;++n<a;)CM(i[n],t,0)},Polygon:function(e,t){$E(e.coordinates,t)},MultiPolygon:function(e,t){for(var i=e.coordinates,n=-1,a=i.length;++n<a;)$E(i[n],t)},GeometryCollection:function(e,t){for(var i=e.geometries,n=-1,a=i.length;++n<a;)P6(i[n],t)}};function CM(e,t,i){var n=-1,a=e.length-i,o;for(t.lineStart();++n<a;)o=e[n],t.point(o[0],o[1],o[2]);t.lineEnd()}function $E(e,t){var i=-1,n=e.length;for(t.polygonStart();++i<n;)CM(e[i],t,1);t.polygonEnd()}function ku(e,t){e&&UE.hasOwnProperty(e.type)?UE[e.type](e,t):P6(e,t)}function _M(e){return[Bl(e[1],e[0]),To(e[2])]}function qd(e){var t=e[0],i=e[1],n=g0(i);return[n*g0(t),n*Zn(t),Zn(i)]}function O4(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function k6(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function fg(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function S4(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function EM(e){var t=Na(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function wM(e,t){function i(n,a){return n=e(n,a),t(n[0],n[1])}return e.invert&&t.invert&&(i.invert=function(n,a){return n=t.invert(n,a),n&&e.invert(n[0],n[1])}),i}function OM(e,t){return Z0(e)>A0&&(e-=Math.round(e/ro)*ro),[e,t]}OM.invert=OM;function yR(e,t,i){return(e%=ro)?t||i?wM(HE(e),VE(t,i)):HE(e):t||i?VE(t,i):OM}function GE(e){return function(t,i){return t+=e,Z0(t)>A0&&(t-=Math.round(t/ro)*ro),[t,i]}}function HE(e){var t=GE(e);return t.invert=GE(-e),t}function VE(e,t){var i=g0(e),n=Zn(e),a=g0(t),o=Zn(t);function l(c,d){var u=g0(d),h=g0(c)*u,p=Zn(c)*u,f=Zn(d),M=f*i+h*n;return[Bl(p*a-M*o,h*i-f*n),To(M*a+p*o)]}return l.invert=function(c,d){var u=g0(d),h=g0(c)*u,p=Zn(c)*u,f=Zn(d),M=f*a-p*o;return[Bl(p*a+f*o,h*i+M*n),To(M*i-h*n)]},l}function OX(e){e=yR(e[0]*Q9,e[1]*Q9,e.length>2?e[2]*Q9:0);function t(i){return i=e(i[0]*Q9,i[1]*Q9),i[0]*=ya,i[1]*=ya,i}return t.invert=function(i){return i=e.invert(i[0]*Q9,i[1]*Q9),i[0]*=ya,i[1]*=ya,i},t}function SX(e,t,i,n,a,o){if(i){var l=g0(t),c=Zn(t),d=n*i;a==null?(a=t+n*ro,o=t-d/2):(a=QE(l,a),o=QE(l,o),(n>0?a<o:a>o)&&(a+=n*ro));for(var u,h=a;n>0?h>o:h<o;h-=d)u=_M([l,-c*g0(h),-c*Zn(h)]),e.point(u[0],u[1])}}function QE(e,t){t=qd(t),t[0]-=e,EM(t);var i=MR(-t[1]);return((-t[2]<0?-i:i)+ro-l0)%ro}function AR(){var e=[],t;return{point:function(i,n,a){t.push([i,n,a])},lineStart:function(){e.push(t=[])},lineEnd:Co,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var i=e;return e=[],t=null,i}}}function s6(e,t){return Z0(e[0]-t[0])<l0&&Z0(e[1]-t[1])<l0}function x4(e,t,i,n){this.x=e,this.z=t,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function vR(e,t,i,n,a){var o=[],l=[],c,d;if(e.forEach(function(g){if(!((y=g.length-1)<=0)){var y,b=g[0],v=g[y],C;if(s6(b,v)){if(!b[2]&&!v[2]){for(a.lineStart(),c=0;c<y;++c)a.point((b=g[c])[0],b[1]);a.lineEnd();return}v[0]+=2*l0}o.push(C=new x4(b,g,null,!0)),l.push(C.o=new x4(b,null,C,!1)),o.push(C=new x4(v,g,null,!1)),l.push(C.o=new x4(v,null,C,!0))}}),!!o.length){for(l.sort(t),zE(o),zE(l),c=0,d=l.length;c<d;++c)l[c].e=i=!i;for(var u=o[0],h,p;;){for(var f=u,M=!0;f.v;)if((f=f.n)===u)return;h=f.z,a.lineStart();do{if(f.v=f.o.v=!0,f.e){if(M)for(c=0,d=h.length;c<d;++c)a.point((p=h[c])[0],p[1]);else n(f.x,f.n.x,1,a);f=f.n}else{if(M)for(h=f.p.z,c=h.length-1;c>=0;--c)a.point((p=h[c])[0],p[1]);else n(f.x,f.p.x,-1,a);f=f.p}f=f.o,h=f.z,M=!M}while(!f.v);a.lineEnd()}}}function zE(e){if(t=e.length){for(var t,i=0,n=e[0],a;++i<t;)n.n=a=e[i],a.p=n,n=a;n.n=a=e[0],a.p=n}}function mg(e){return Z0(e[0])<=A0?e[0]:bo(e[0])*((Z0(e[0])+A0)%ro-A0)}function xX(e,t){var i=mg(t),n=t[1],a=Zn(n),o=[Zn(i),-g0(i),0],l=0,c=0,d=new e1;a===1?n=j9+l0:a===-1&&(n=-j9-l0);for(var u=0,h=e.length;u<h;++u)if(f=(p=e[u]).length)for(var p,f,M=p[f-1],g=mg(M),y=M[1]/2+FE,b=Zn(y),v=g0(y),C=0;C<f;++C,g=_,b=S,v=I,M=w){var w=p[C],_=mg(w),E=w[1]/2+FE,S=Zn(E),I=g0(E),T=_-g,k=T>=0?1:-1,D=k*T,N=D>A0,P=b*S;if(d.add(Bl(P*k*Zn(D),v*I+P*g0(D))),l+=N?T+k*ro:T,N^g>=i^_>=i){var F=k6(qd(M),qd(w));EM(F);var U=k6(o,F);EM(U);var V=(N^T>=0?-1:1)*To(U[2]);(n>V||n===V&&(F[0]||F[1]))&&(c+=N^T>=0?1:-1)}}return(l<-l0||l<l0&&d<-pR)^c&1}function bR(e,t,i,n){return function(a){var o=t(a),l=AR(),c=t(l),d=!1,u,h,p,f={point:M,lineStart:y,lineEnd:b,polygonStart:function(){f.point=v,f.lineStart=C,f.lineEnd=w,h=[],u=[]},polygonEnd:function(){f.point=M,f.lineStart=y,f.lineEnd=b,h=xB(h);var _=xX(u,n);h.length?(d||(a.polygonStart(),d=!0),vR(h,IX,_,i,a)):_&&(d||(a.polygonStart(),d=!0),a.lineStart(),i(null,null,1,a),a.lineEnd()),d&&(a.polygonEnd(),d=!1),h=u=null},sphere:function(){a.polygonStart(),a.lineStart(),i(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function M(_,E){e(_,E)&&a.point(_,E)}function g(_,E){o.point(_,E)}function y(){f.point=g,o.lineStart()}function b(){f.point=M,o.lineEnd()}function v(_,E){p.push([_,E]),c.point(_,E)}function C(){c.lineStart(),p=[]}function w(){v(p[0][0],p[0][1]),c.lineEnd();var _=c.clean(),E=l.result(),S,I=E.length,T,k,D;if(p.pop(),u.push(p),p=null,!!I){if(_&1){if(k=E[0],(T=k.length-1)>0){for(d||(a.polygonStart(),d=!0),a.lineStart(),S=0;S<T;++S)a.point((D=k[S])[0],D[1]);a.lineEnd()}return}I>1&&_&2&&E.push(E.pop().concat(E.shift())),h.push(E.filter(TX))}}return f}}function TX(e){return e.length>1}function IX(e,t){return((e=e.x)[0]<0?e[1]-j9-l0:j9-e[1])-((t=t.x)[0]<0?t[1]-j9-l0:j9-t[1])}const jE=bR(function(){return!0},BX,DX,[-A0,-j9]);function BX(e){var t=NaN,i=NaN,n=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(o,l){var c=o>0?A0:-A0,d=Z0(o-t);Z0(d-A0)<l0?(e.point(t,i=(i+l)/2>0?j9:-j9),e.point(n,i),e.lineEnd(),e.lineStart(),e.point(c,i),e.point(o,i),a=0):n!==c&&d>=A0&&(Z0(t-n)<l0&&(t-=n*l0),Z0(o-c)<l0&&(o-=c*l0),i=RX(t,i,o,l),e.point(n,i),e.lineEnd(),e.lineStart(),e.point(c,i),a=0),e.point(t=o,i=l),n=c},lineEnd:function(){e.lineEnd(),t=i=NaN},clean:function(){return 2-a}}}function RX(e,t,i,n){var a,o,l=Zn(e-i);return Z0(l)>l0?Ch((Zn(t)*(o=g0(n))*Zn(i)-Zn(n)*(a=g0(t))*Zn(e))/(a*o*l)):(t+n)/2}function DX(e,t,i,n){var a;if(e==null)a=i*j9,n.point(-A0,a),n.point(0,a),n.point(A0,a),n.point(A0,0),n.point(A0,-a),n.point(0,-a),n.point(-A0,-a),n.point(-A0,0),n.point(-A0,a);else if(Z0(e[0]-t[0])>l0){var o=e[0]<t[0]?A0:-A0;a=i*o/2,n.point(-o,a),n.point(0,a),n.point(o,a)}else n.point(t[0],t[1])}function PX(e){var t=g0(e),i=2*Q9,n=t>0,a=Z0(t)>l0;function o(h,p,f,M){SX(M,e,i,f,h,p)}function l(h,p){return g0(h)*g0(p)>t}function c(h){var p,f,M,g,y;return{lineStart:function(){g=M=!1,y=1},point:function(b,v){var C=[b,v],w,_=l(b,v),E=n?_?0:u(b,v):_?u(b+(b<0?A0:-A0),v):0;if(!p&&(g=M=_)&&h.lineStart(),_!==M&&(w=d(p,C),(!w||s6(p,w)||s6(C,w))&&(C[2]=1)),_!==M)y=0,_?(h.lineStart(),w=d(C,p),h.point(w[0],w[1])):(w=d(p,C),h.point(w[0],w[1],2),h.lineEnd()),p=w;else if(a&&p&&n^_){var S;!(E&f)&&(S=d(C,p,!0))&&(y=0,n?(h.lineStart(),h.point(S[0][0],S[0][1]),h.point(S[1][0],S[1][1]),h.lineEnd()):(h.point(S[1][0],S[1][1]),h.lineEnd(),h.lineStart(),h.point(S[0][0],S[0][1],3)))}_&&(!p||!s6(p,C))&&h.point(C[0],C[1]),p=C,M=_,f=E},lineEnd:function(){M&&h.lineEnd(),p=null},clean:function(){return y|(g&&M)<<1}}}function d(h,p,f){var M=qd(h),g=qd(p),y=[1,0,0],b=k6(M,g),v=O4(b,b),C=b[0],w=v-C*C;if(!w)return!f&&h;var _=t*v/w,E=-t*C/w,S=k6(y,b),I=S4(y,_),T=S4(b,E);fg(I,T);var k=S,D=O4(I,k),N=O4(k,k),P=D*D-N*(O4(I,I)-1);if(!(P<0)){var F=Na(P),U=S4(k,(-D-F)/N);if(fg(U,I),U=_M(U),!f)return U;var V=h[0],z=p[0],G=h[1],H=p[1],J;z<V&&(J=V,V=z,z=J);var Z=z-V,j=Z0(Z-A0)<l0,W=j||Z<l0;if(!j&&H<G&&(J=G,G=H,H=J),W?j?G+H>0^U[1]<(Z0(U[0]-V)<l0?G:H):G<=U[1]&&U[1]<=H:Z>A0^(V<=U[0]&&U[0]<=z)){var et=S4(k,(-D+F)/N);return fg(et,I),[U,_M(et)]}}}function u(h,p){var f=n?e:A0-e,M=0;return h<-f?M|=1:h>f&&(M|=2),p<-f?M|=4:p>f&&(M|=8),M}return bR(l,c,o,n?[0,-e]:[-A0,e-A0])}function kX(e,t,i,n,a,o){var l=e[0],c=e[1],d=t[0],u=t[1],h=0,p=1,f=d-l,M=u-c,g;if(g=i-l,!(!f&&g>0)){if(g/=f,f<0){if(g<h)return;g<p&&(p=g)}else if(f>0){if(g>p)return;g>h&&(h=g)}if(g=a-l,!(!f&&g<0)){if(g/=f,f<0){if(g>p)return;g>h&&(h=g)}else if(f>0){if(g<h)return;g<p&&(p=g)}if(g=n-c,!(!M&&g>0)){if(g/=M,M<0){if(g<h)return;g<p&&(p=g)}else if(M>0){if(g>p)return;g>h&&(h=g)}if(g=o-c,!(!M&&g<0)){if(g/=M,M<0){if(g>p)return;g>h&&(h=g)}else if(M>0){if(g<h)return;g<p&&(p=g)}return h>0&&(e[0]=l+h*f,e[1]=c+h*M),p<1&&(t[0]=l+p*f,t[1]=c+p*M),!0}}}}}var N2=1e9,T4=-N2;function CR(e,t,i,n){function a(u,h){return e<=u&&u<=i&&t<=h&&h<=n}function o(u,h,p,f){var M=0,g=0;if(u==null||(M=l(u,p))!==(g=l(h,p))||d(u,h)<0^p>0)do f.point(M===0||M===3?e:i,M>1?n:t);while((M=(M+p+4)%4)!==g);else f.point(h[0],h[1])}function l(u,h){return Z0(u[0]-e)<l0?h>0?0:3:Z0(u[0]-i)<l0?h>0?2:1:Z0(u[1]-t)<l0?h>0?1:0:h>0?3:2}function c(u,h){return d(u.x,h.x)}function d(u,h){var p=l(u,1),f=l(h,1);return p!==f?p-f:p===0?h[1]-u[1]:p===1?u[0]-h[0]:p===2?u[1]-h[1]:h[0]-u[0]}return function(u){var h=u,p=AR(),f,M,g,y,b,v,C,w,_,E,S,I={point:T,lineStart:P,lineEnd:F,polygonStart:D,polygonEnd:N};function T(V,z){a(V,z)&&h.point(V,z)}function k(){for(var V=0,z=0,G=M.length;z<G;++z)for(var H=M[z],J=1,Z=H.length,j=H[0],W,et,dt=j[0],ht=j[1];J<Z;++J)W=dt,et=ht,j=H[J],dt=j[0],ht=j[1],et<=n?ht>n&&(dt-W)*(n-et)>(ht-et)*(e-W)&&++V:ht<=n&&(dt-W)*(n-et)<(ht-et)*(e-W)&&--V;return V}function D(){h=p,f=[],M=[],S=!0}function N(){var V=k(),z=S&&V,G=(f=xB(f)).length;(z||G)&&(u.polygonStart(),z&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),G&&vR(f,c,V,o,u),u.polygonEnd()),h=u,f=M=g=null}function P(){I.point=U,M&&M.push(g=[]),E=!0,_=!1,C=w=NaN}function F(){f&&(U(y,b),v&&_&&p.rejoin(),f.push(p.result())),I.point=T,_&&h.lineEnd()}function U(V,z){var G=a(V,z);if(M&&g.push([V,z]),E)y=V,b=z,v=G,E=!1,G&&(h.lineStart(),h.point(V,z));else if(G&&_)h.point(V,z);else{var H=[C=Math.max(T4,Math.min(N2,C)),w=Math.max(T4,Math.min(N2,w))],J=[V=Math.max(T4,Math.min(N2,V)),z=Math.max(T4,Math.min(N2,z))];kX(H,J,e,t,i,n)?(_||(h.lineStart(),h.point(H[0],H[1])),h.point(J[0],J[1]),G||h.lineEnd(),S=!1):G&&(h.lineStart(),h.point(V,z),S=!1)}C=V,w=z,_=G}return I}}const SM=e=>e;var pg=new e1,xM=new e1,_R,ER,TM,IM,yl={point:Co,lineStart:Co,lineEnd:Co,polygonStart:function(){yl.lineStart=LX,yl.lineEnd=FX},polygonEnd:function(){yl.lineStart=yl.lineEnd=yl.point=Co,pg.add(Z0(xM)),xM=new e1},result:function(){var e=pg/2;return pg=new e1,e}};function LX(){yl.point=NX}function NX(e,t){yl.point=wR,_R=TM=e,ER=IM=t}function wR(e,t){xM.add(IM*e-TM*t),TM=e,IM=t}function FX(){wR(_R,ER)}var Xd=1/0,L6=Xd,yf=-Xd,N6=yf,F6={point:UX,lineStart:Co,lineEnd:Co,polygonStart:Co,polygonEnd:Co,result:function(){var e=[[Xd,L6],[yf,N6]];return yf=N6=-(L6=Xd=1/0),e}};function UX(e,t){e<Xd&&(Xd=e),e>yf&&(yf=e),t<L6&&(L6=t),t>N6&&(N6=t)}var BM=0,RM=0,F2=0,U6=0,J6=0,fd=0,DM=0,PM=0,U2=0,OR,SR,bs,Cs,vo={point:s1,lineStart:WE,lineEnd:KE,polygonStart:function(){vo.lineStart=GX,vo.lineEnd=HX},polygonEnd:function(){vo.point=s1,vo.lineStart=WE,vo.lineEnd=KE},result:function(){var e=U2?[DM/U2,PM/U2]:fd?[U6/fd,J6/fd]:F2?[BM/F2,RM/F2]:[NaN,NaN];return BM=RM=F2=U6=J6=fd=DM=PM=U2=0,e}};function s1(e,t){BM+=e,RM+=t,++F2}function WE(){vo.point=JX}function JX(e,t){vo.point=$X,s1(bs=e,Cs=t)}function $X(e,t){var i=e-bs,n=t-Cs,a=Na(i*i+n*n);U6+=a*(bs+e)/2,J6+=a*(Cs+t)/2,fd+=a,s1(bs=e,Cs=t)}function KE(){vo.point=s1}function GX(){vo.point=VX}function HX(){xR(OR,SR)}function VX(e,t){vo.point=xR,s1(OR=bs=e,SR=Cs=t)}function xR(e,t){var i=e-bs,n=t-Cs,a=Na(i*i+n*n);U6+=a*(bs+e)/2,J6+=a*(Cs+t)/2,fd+=a,a=Cs*e-bs*t,DM+=a*(bs+e),PM+=a*(Cs+t),U2+=a*3,s1(bs=e,Cs=t)}function TR(e){this._context=e}TR.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ro);break}}},result:Co};var kM=new e1,gg,IR,BR,J2,$2,Af={point:Co,lineStart:function(){Af.point=QX},lineEnd:function(){gg&&RR(IR,BR),Af.point=Co},polygonStart:function(){gg=!0},polygonEnd:function(){gg=null},result:function(){var e=+kM;return kM=new e1,e}};function QX(e,t){Af.point=RR,IR=J2=e,BR=$2=t}function RR(e,t){J2-=e,$2-=t,kM.add(Na(J2*J2+$2*$2)),J2=e,$2=t}let qE,$6,XE,YE;class ZE{constructor(t){this._append=t==null?DR:zX(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,i){switch(this._point){case 0:{this._append`M${t},${i}`,this._point=1;break}case 1:{this._append`L${t},${i}`;break}default:{if(this._append`M${t},${i}`,this._radius!==XE||this._append!==$6){const n=this._radius,a=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,XE=n,$6=this._append,YE=this._,this._=a}this._+=YE;break}}}result(){const t=this._;return this._="",t.length?t:null}}function DR(e){let t=1;this._+=e[0];for(const i=e.length;t<i;++t)this._+=arguments[t]+e[t]}function zX(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return DR;if(t!==qE){const i=10**t;qE=t,$6=function(a){let o=1;this._+=a[0];for(const l=a.length;o<l;++o)this._+=Math.round(arguments[o]*i)/i+a[o]}}return $6}function n3(e,t){let i=3,n=4.5,a,o;function l(c){return c&&(typeof n=="function"&&o.pointRadius(+n.apply(this,arguments)),ku(c,a(o))),o.result()}return l.area=function(c){return ku(c,a(yl)),yl.result()},l.measure=function(c){return ku(c,a(Af)),Af.result()},l.bounds=function(c){return ku(c,a(F6)),F6.result()},l.centroid=function(c){return ku(c,a(vo)),vo.result()},l.projection=function(c){return arguments.length?(a=c==null?(e=null,SM):(e=c).stream,l):e},l.context=function(c){return arguments.length?(o=c==null?(t=null,new ZE(i)):new TR(t=c),typeof n!="function"&&o.pointRadius(n),l):t},l.pointRadius=function(c){return arguments.length?(n=typeof c=="function"?c:(o.pointRadius(+c),+c),l):n},l.digits=function(c){if(!arguments.length)return i;if(c==null)i=null;else{const d=Math.floor(c);if(!(d>=0))throw new RangeError(`invalid digits: ${c}`);i=d}return t===null&&(o=new ZE(i)),l},l.projection(e).digits(i).context(t)}function LM(e){return{stream:Q8(e)}}function Q8(e){return function(t){var i=new NM;for(var n in e)i[n]=e[n];return i.stream=t,i}}function NM(){}NM.prototype={constructor:NM,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function oA(e,t,i){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),ku(i,e.stream(F6)),t(F6.result()),n!=null&&e.clipExtent(n),e}function sA(e,t,i){return oA(e,function(n){var a=t[1][0]-t[0][0],o=t[1][1]-t[0][1],l=Math.min(a/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),c=+t[0][0]+(a-l*(n[1][0]+n[0][0]))/2,d=+t[0][1]+(o-l*(n[1][1]+n[0][1]))/2;e.scale(150*l).translate([c,d])},i)}function PR(e,t,i){return sA(e,[[0,0],t],i)}function kR(e,t,i){return oA(e,function(n){var a=+t,o=a/(n[1][0]-n[0][0]),l=(a-o*(n[1][0]+n[0][0]))/2,c=-o*n[0][1];e.scale(150*o).translate([l,c])},i)}function LR(e,t,i){return oA(e,function(n){var a=+t,o=a/(n[1][1]-n[0][1]),l=-o*n[0][0],c=(a-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([l,c])},i)}var tw=16,jX=g0(30*Q9);function ew(e,t){return+t?KX(e,t):WX(e)}function WX(e){return Q8({point:function(t,i){t=e(t,i),this.stream.point(t[0],t[1])}})}function KX(e,t){function i(n,a,o,l,c,d,u,h,p,f,M,g,y,b){var v=u-n,C=h-a,w=v*v+C*C;if(w>4*t&&y--){var _=l+f,E=c+M,S=d+g,I=Na(_*_+E*E+S*S),T=To(S/=I),k=Z0(Z0(S)-1)<l0||Z0(o-p)<l0?(o+p)/2:Bl(E,_),D=e(k,T),N=D[0],P=D[1],F=N-n,U=P-a,V=C*F-v*U;(V*V/w>t||Z0((v*F+C*U)/w-.5)>.3||l*f+c*M+d*g<jX)&&(i(n,a,o,l,c,d,N,P,k,_/=I,E/=I,S,y,b),b.point(N,P),i(N,P,k,_,E,S,u,h,p,f,M,g,y,b))}}return function(n){var a,o,l,c,d,u,h,p,f,M,g,y,b={point:v,lineStart:C,lineEnd:_,polygonStart:function(){n.polygonStart(),b.lineStart=E},polygonEnd:function(){n.polygonEnd(),b.lineStart=C}};function v(T,k){T=e(T,k),n.point(T[0],T[1])}function C(){p=NaN,b.point=w,n.lineStart()}function w(T,k){var D=qd([T,k]),N=e(T,k);i(p,f,h,M,g,y,p=N[0],f=N[1],h=T,M=D[0],g=D[1],y=D[2],tw,n),n.point(p,f)}function _(){b.point=v,n.lineEnd()}function E(){C(),b.point=S,b.lineEnd=I}function S(T,k){w(a=T,k),o=p,l=f,c=M,d=g,u=y,b.point=w}function I(){i(p,f,h,M,g,y,o,l,a,c,d,u,tw,n),b.lineEnd=_,_()}return b}}var qX=Q8({point:function(e,t){this.stream.point(e*Q9,t*Q9)}});function XX(e){return Q8({point:function(t,i){var n=e(t,i);return this.stream.point(n[0],n[1])}})}function YX(e,t,i,n,a){function o(l,c){return l*=n,c*=a,[t+e*l,i-e*c]}return o.invert=function(l,c){return[(l-t)/e*n,(i-c)/e*a]},o}function iw(e,t,i,n,a,o){if(!o)return YX(e,t,i,n,a);var l=g0(o),c=Zn(o),d=l*e,u=c*e,h=l/e,p=c/e,f=(c*i-l*t)/e,M=(c*t+l*i)/e;function g(y,b){return y*=n,b*=a,[d*y-u*b+t,i-u*y-d*b]}return g.invert=function(y,b){return[n*(h*y-p*b+f),a*(M-p*y-h*b)]},g}function jc(e){return NR(function(){return e})()}function NR(e){var t,i=150,n=480,a=250,o=0,l=0,c=0,d=0,u=0,h,p=0,f=1,M=1,g=null,y=jE,b=null,v,C,w,_=SM,E=.5,S,I,T,k,D;function N(V){return T(V[0]*Q9,V[1]*Q9)}function P(V){return V=T.invert(V[0],V[1]),V&&[V[0]*ya,V[1]*ya]}N.stream=function(V){return k&&D===V?k:k=qX(XX(h)(y(S(_(D=V)))))},N.preclip=function(V){return arguments.length?(y=V,g=void 0,U()):y},N.postclip=function(V){return arguments.length?(_=V,b=v=C=w=null,U()):_},N.clipAngle=function(V){return arguments.length?(y=+V?PX(g=V*Q9):(g=null,jE),U()):g*ya},N.clipExtent=function(V){return arguments.length?(_=V==null?(b=v=C=w=null,SM):CR(b=+V[0][0],v=+V[0][1],C=+V[1][0],w=+V[1][1]),U()):b==null?null:[[b,v],[C,w]]},N.scale=function(V){return arguments.length?(i=+V,F()):i},N.translate=function(V){return arguments.length?(n=+V[0],a=+V[1],F()):[n,a]},N.center=function(V){return arguments.length?(o=V[0]%360*Q9,l=V[1]%360*Q9,F()):[o*ya,l*ya]},N.rotate=function(V){return arguments.length?(c=V[0]%360*Q9,d=V[1]%360*Q9,u=V.length>2?V[2]%360*Q9:0,F()):[c*ya,d*ya,u*ya]},N.angle=function(V){return arguments.length?(p=V%360*Q9,F()):p*ya},N.reflectX=function(V){return arguments.length?(f=V?-1:1,F()):f<0},N.reflectY=function(V){return arguments.length?(M=V?-1:1,F()):M<0},N.precision=function(V){return arguments.length?(S=ew(I,E=V*V),U()):Na(E)},N.fitExtent=function(V,z){return sA(N,V,z)},N.fitSize=function(V,z){return PR(N,V,z)},N.fitWidth=function(V,z){return kR(N,V,z)},N.fitHeight=function(V,z){return LR(N,V,z)};function F(){var V=iw(i,0,0,f,M,p).apply(null,t(o,l)),z=iw(i,n-V[0],a-V[1],f,M,p);return h=yR(c,d,u),I=wM(t,z),T=wM(h,I),S=ew(I,E),U()}function U(){return k=D=null,N}return function(){return t=e.apply(this,arguments),N.invert=t.invert&&P,F()}}function lA(e){var t=0,i=A0/3,n=NR(e),a=n(t,i);return a.parallels=function(o){return arguments.length?n(t=o[0]*Q9,i=o[1]*Q9):[t*ya,i*ya]},a}function ZX(e){var t=g0(e);function i(n,a){return[n*t,Zn(a)/t]}return i.invert=function(n,a){return[n/t,To(a*t)]},i}function tY(e,t){var i=Zn(e),n=(i+Zn(t))/2;if(Z0(n)<l0)return ZX(e);var a=1+i*(2*n-i),o=Na(a)/n;function l(c,d){var u=Na(a-2*n*Zn(d))/n;return[u*Zn(c*=n),o-u*g0(c)]}return l.invert=function(c,d){var u=o-d,h=Bl(c,Z0(u))*bo(u);return u*n<0&&(h-=A0*bo(c)*bo(u)),[h/n,To((a-(c*c+u*u)*n*n)/(2*n))]},l}function G6(){return lA(tY).scale(155.424).center([0,33.6442])}function FR(){return G6().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function eY(e){var t=e.length;return{point:function(i,n){for(var a=-1;++a<t;)e[a].point(i,n)},sphere:function(){for(var i=-1;++i<t;)e[i].sphere()},lineStart:function(){for(var i=-1;++i<t;)e[i].lineStart()},lineEnd:function(){for(var i=-1;++i<t;)e[i].lineEnd()},polygonStart:function(){for(var i=-1;++i<t;)e[i].polygonStart()},polygonEnd:function(){for(var i=-1;++i<t;)e[i].polygonEnd()}}}function iY(){var e,t,i=FR(),n,a=G6().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,l=G6().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,d,u={point:function(f,M){d=[f,M]}};function h(f){var M=f[0],g=f[1];return d=null,n.point(M,g),d||(o.point(M,g),d)||(c.point(M,g),d)}h.invert=function(f){var M=i.scale(),g=i.translate(),y=(f[0]-g[0])/M,b=(f[1]-g[1])/M;return(b>=.12&&b<.234&&y>=-.425&&y<-.214?a:b>=.166&&b<.234&&y>=-.214&&y<-.115?l:i).invert(f)},h.stream=function(f){return e&&t===f?e:e=eY([i.stream(t=f),a.stream(f),l.stream(f)])},h.precision=function(f){return arguments.length?(i.precision(f),a.precision(f),l.precision(f),p()):i.precision()},h.scale=function(f){return arguments.length?(i.scale(f),a.scale(f*.35),l.scale(f),h.translate(i.translate())):i.scale()},h.translate=function(f){if(!arguments.length)return i.translate();var M=i.scale(),g=+f[0],y=+f[1];return n=i.translate(f).clipExtent([[g-.455*M,y-.238*M],[g+.455*M,y+.238*M]]).stream(u),o=a.translate([g-.307*M,y+.201*M]).clipExtent([[g-.425*M+l0,y+.12*M+l0],[g-.214*M-l0,y+.234*M-l0]]).stream(u),c=l.translate([g-.205*M,y+.212*M]).clipExtent([[g-.214*M+l0,y+.166*M+l0],[g-.115*M-l0,y+.234*M-l0]]).stream(u),p()},h.fitExtent=function(f,M){return sA(h,f,M)},h.fitSize=function(f,M){return PR(h,f,M)},h.fitWidth=function(f,M){return kR(h,f,M)},h.fitHeight=function(f,M){return LR(h,f,M)};function p(){return e=t=null,h}return h.scale(1070)}function UR(e){return function(t,i){var n=g0(t),a=g0(i),o=e(n*a);return o===1/0?[2,0]:[o*a*Zn(t),o*Zn(i)]}}function r3(e){return function(t,i){var n=Na(t*t+i*i),a=e(n),o=Zn(a),l=g0(a);return[Bl(t*o,n*l),To(n&&i*o/n)]}}var JR=UR(function(e){return Na(2/(1+e))});JR.invert=r3(function(e){return 2*To(e/2)});function nY(){return jc(JR).scale(124.75).clipAngle(180-.001)}var $R=UR(function(e){return(e=MR(e))&&e/Zn(e)});$R.invert=r3(function(e){return e});function rY(){return jc($R).scale(79.4188).clipAngle(180-.001)}function z8(e,t){return[e,D6(aA((j9+t)/2))]}z8.invert=function(e,t){return[e,2*Ch(gR(t))-j9]};function aY(){return GR(z8).scale(961/ro)}function GR(e){var t=jc(e),i=t.center,n=t.scale,a=t.translate,o=t.clipExtent,l=null,c,d,u;t.scale=function(p){return arguments.length?(n(p),h()):n()},t.translate=function(p){return arguments.length?(a(p),h()):a()},t.center=function(p){return arguments.length?(i(p),h()):i()},t.clipExtent=function(p){return arguments.length?(p==null?l=c=d=u=null:(l=+p[0][0],c=+p[0][1],d=+p[1][0],u=+p[1][1]),h()):l==null?null:[[l,c],[d,u]]};function h(){var p=A0*n(),f=t(OX(t.rotate()).invert([0,0]));return o(l==null?[[f[0]-p,f[1]-p],[f[0]+p,f[1]+p]]:e===z8?[[Math.max(f[0]-p,l),c],[Math.min(f[0]+p,d),u]]:[[l,Math.max(f[1]-p,c)],[d,Math.min(f[1]+p,u)]])}return h()}function I4(e){return aA((j9+e)/2)}function oY(e,t){var i=g0(e),n=e===t?Zn(e):D6(i/g0(t))/D6(I4(t)/I4(e)),a=i*hg(I4(e),n)/n;if(!n)return z8;function o(l,c){a>0?c<-j9+l0&&(c=-j9+l0):c>j9-l0&&(c=j9-l0);var d=a/hg(I4(c),n);return[d*Zn(n*l),a-d*g0(n*l)]}return o.invert=function(l,c){var d=a-c,u=bo(n)*Na(l*l+d*d),h=Bl(l,Z0(d))*bo(d);return d*n<0&&(h-=A0*bo(l)*bo(d)),[h/n,2*Ch(hg(a/u,1/n))-j9]},o}function sY(){return lA(oY).scale(109.5).parallels([30,30])}function H6(e,t){return[e,t]}H6.invert=H6;function lY(){return jc(H6).scale(152.63)}function cY(e,t){var i=g0(e),n=e===t?Zn(e):(i-g0(t))/(t-e),a=i/n+e;if(Z0(n)<l0)return H6;function o(l,c){var d=a-c,u=n*l;return[d*Zn(u),a-d*g0(u)]}return o.invert=function(l,c){var d=a-c,u=Bl(l,Z0(d))*bo(d);return d*n<0&&(u-=A0*bo(l)*bo(d)),[u/n,a-bo(n)*Na(l*l+d*d)]},o}function uY(){return lA(cY).scale(131.154).center([0,13.9389])}var Z2=1.340264,tf=-.081106,ef=893e-6,nf=.003796,V6=Na(3)/2,dY=12;function HR(e,t){var i=To(V6*Zn(t)),n=i*i,a=n*n*n;return[e*g0(i)/(V6*(Z2+3*tf*n+a*(7*ef+9*nf*n))),i*(Z2+tf*n+a*(ef+nf*n))]}HR.invert=function(e,t){for(var i=t,n=i*i,a=n*n*n,o=0,l,c,d;o<dY&&(c=i*(Z2+tf*n+a*(ef+nf*n))-t,d=Z2+3*tf*n+a*(7*ef+9*nf*n),i-=l=c/d,n=i*i,a=n*n*n,!(Z0(l)<pR));++o);return[V6*e*(Z2+3*tf*n+a*(7*ef+9*nf*n))/g0(i),To(Zn(i)/V6)]};function hY(){return jc(HR).scale(177.158)}function VR(e,t){var i=g0(t),n=g0(e)*i;return[i*Zn(e)/n,Zn(t)/n]}VR.invert=r3(Ch);function fY(){return jc(VR).scale(144.049).clipAngle(60)}function QR(e,t){return[g0(t)*Zn(e),Zn(t)]}QR.invert=r3(To);function mY(){return jc(QR).scale(249.5).clipAngle(90+l0)}function zR(e,t){var i=g0(t),n=1+g0(e)*i;return[i*Zn(e)/n,Zn(t)/n]}zR.invert=r3(function(e){return 2*Ch(e)});function pY(){return jc(zR).scale(250).clipAngle(142)}function jR(e,t){return[D6(aA((j9+t)/2)),-e]}jR.invert=function(e,t){return[-t,2*Ch(gR(e))-j9]};function gY(){var e=GR(jR),t=e.center,i=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?i([n[0],n[1],n.length>2?n[2]+90:90]):(n=i(),[n[0],n[1],n[2]-90])},i([0,0,90]).scale(159.155)}const MY=Math.random,yY=function e(t){function i(n,a){var o,l;return n=n==null?0:+n,a=a==null?1:+a,function(){var c;if(o!=null)c=o,o=null;else do o=t()*2-1,c=t()*2-1,l=o*o+c*c;while(!l||l>1);return n+a*c*Math.sqrt(-2*Math.log(l)/l)}}return i.source=e,i}(MY),AY=1664525,vY=1013904223,nw=1/4294967296;function bY(e=Math.random()){let t=(0<=e&&e<1?e/nw:Math.abs(e))|0;return()=>(t=AY*t+vY|0,nw*(t>>>0))}function Us(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function j8(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const FM=Symbol("implicit");function cA(){var e=new i1,t=[],i=[],n=FM;function a(o){let l=e.get(o);if(l===void 0){if(n!==FM)return n;e.set(o,l=t.push(o)-1)}return i[l%i.length]}return a.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new i1;for(const l of o)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(o){return arguments.length?(i=Array.from(o),a):i.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.copy=function(){return cA(t,i).unknown(n)},Us.apply(a,arguments),a}function W8(){var e=cA().unknown(void 0),t=e.domain,i=e.range,n=0,a=1,o,l,c=!1,d=0,u=0,h=.5;delete e.unknown;function p(){var f=t().length,M=a<n,g=M?a:n,y=M?n:a;o=(y-g)/Math.max(1,f-d+u*2),c&&(o=Math.floor(o)),g+=(y-g-o*(f-d))*h,l=o*(1-d),c&&(g=Math.round(g),l=Math.round(l));var b=fi(f).map(function(v){return g+o*v});return i(M?b.reverse():b)}return e.domain=function(f){return arguments.length?(t(f),p()):t()},e.range=function(f){return arguments.length?([n,a]=f,n=+n,a=+a,p()):[n,a]},e.rangeRound=function(f){return[n,a]=f,n=+n,a=+a,c=!0,p()},e.bandwidth=function(){return l},e.step=function(){return o},e.round=function(f){return arguments.length?(c=!!f,p()):c},e.padding=function(f){return arguments.length?(d=Math.min(1,u=+f),p()):d},e.paddingInner=function(f){return arguments.length?(d=Math.min(1,f),p()):d},e.paddingOuter=function(f){return arguments.length?(u=+f,p()):u},e.align=function(f){return arguments.length?(h=Math.max(0,Math.min(1,f)),p()):h},e.copy=function(){return W8(t(),[n,a]).round(c).paddingInner(d).paddingOuter(u).align(h)},Us.apply(p(),arguments)}function WR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return WR(t())},e}function CY(){return WR(W8.apply(null,arguments).paddingInner(1))}function _Y(e){return function(){return e}}function UM(e){return+e}var rw=[0,1];function _o(e){return e}function JM(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:_Y(isNaN(t)?NaN:.5)}function EY(e,t){var i;return e>t&&(i=e,e=t,t=i),function(n){return Math.max(e,Math.min(t,n))}}function wY(e,t,i){var n=e[0],a=e[1],o=t[0],l=t[1];return a<n?(n=JM(a,n),o=i(l,o)):(n=JM(n,a),o=i(o,l)),function(c){return o(n(c))}}function OY(e,t,i){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=JM(e[l],e[l+1]),o[l]=i(t[l],t[l+1]);return function(c){var d=Xf(e,c,1,n)-1;return o[d](a[d](c))}}function a3(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function K8(){var e=rw,t=rw,i=i3,n,a,o,l=_o,c,d,u;function h(){var f=Math.min(e.length,t.length);return l!==_o&&(l=EY(e[0],e[f-1])),c=f>2?OY:wY,d=u=null,p}function p(f){return f==null||isNaN(f=+f)?o:(d||(d=c(e.map(n),t,i)))(n(l(f)))}return p.invert=function(f){return l(a((u||(u=c(t,e.map(n),ta)))(f)))},p.domain=function(f){return arguments.length?(e=Array.from(f,UM),h()):e.slice()},p.range=function(f){return arguments.length?(t=Array.from(f),h()):t.slice()},p.rangeRound=function(f){return t=Array.from(f),i=Zy,h()},p.clamp=function(f){return arguments.length?(l=f?!0:_o,h()):l!==_o},p.interpolate=function(f){return arguments.length?(i=f,h()):i},p.unknown=function(f){return arguments.length?(o=f,p):o},function(f,M){return n=f,a=M,h()}}function KR(){return K8()(_o,_o)}function SY(e,t,i,n){var a=uM(e,t,i),o;switch(n=Mf(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=EX(a,l))&&(n.precision=o),mR(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=wX(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=_X(a))&&(n.precision=o-(n.type==="%")*2);break}}return bh(n)}function o3(e){var t=e.domain;return e.ticks=function(i){var n=t();return Hd(n[0],n[n.length-1],i??10)},e.tickFormat=function(i,n){var a=t();return SY(a[0],a[a.length-1],i??10,n)},e.nice=function(i){i==null&&(i=10);var n=t(),a=0,o=n.length-1,l=n[a],c=n[o],d,u,h=10;for(c<l&&(u=l,l=c,c=u,u=a,a=o,o=u);h-- >0;){if(u=n1(l,c,i),u===d)return n[a]=l,n[o]=c,t(n);if(u>0)l=Math.floor(l/u)*u,c=Math.ceil(c/u)*u;else if(u<0)l=Math.ceil(l*u)/u,c=Math.floor(c*u)/u;else break;d=u}return e},e}function s3(){var e=KR();return e.copy=function(){return a3(e,s3())},Us.apply(e,arguments),o3(e)}function qR(e){var t;function i(n){return n==null||isNaN(n=+n)?t:n}return i.invert=i,i.domain=i.range=function(n){return arguments.length?(e=Array.from(n,UM),i):e.slice()},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return qR(e).unknown(t)},e=arguments.length?Array.from(e,UM):[0,1],o3(i)}function XR(e,t){e=e.slice();var i=0,n=e.length-1,a=e[i],o=e[n],l;return o<a&&(l=i,i=n,n=l,l=a,a=o,o=l),e[i]=t.floor(a),e[n]=t.ceil(o),e}function aw(e){return Math.log(e)}function ow(e){return Math.exp(e)}function xY(e){return-Math.log(-e)}function TY(e){return-Math.exp(-e)}function IY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function BY(e){return e===10?IY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function RY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sw(e){return(t,i)=>-e(-t,i)}function YR(e){const t=e(aw,ow),i=t.domain;let n=10,a,o;function l(){return a=RY(n),o=BY(n),i()[0]<0?(a=sw(a),o=sw(o),e(xY,TY)):e(aw,ow),t}return t.base=function(c){return arguments.length?(n=+c,l()):n},t.domain=function(c){return arguments.length?(i(c),l()):i()},t.ticks=c=>{const d=i();let u=d[0],h=d[d.length-1];const p=h<u;p&&([u,h]=[h,u]);let f=a(u),M=a(h),g,y;const b=c==null?10:+c;let v=[];if(!(n%1)&&M-f<b){if(f=Math.floor(f),M=Math.ceil(M),u>0){for(;f<=M;++f)for(g=1;g<n;++g)if(y=f<0?g/o(-f):g*o(f),!(y<u)){if(y>h)break;v.push(y)}}else for(;f<=M;++f)for(g=n-1;g>=1;--g)if(y=f>0?g/o(-f):g*o(f),!(y<u)){if(y>h)break;v.push(y)}v.length*2<b&&(v=Hd(u,h,b))}else v=Hd(f,M,Math.min(M-f,b)).map(o);return p?v.reverse():v},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Mf(d)).precision==null&&(d.trim=!0),d=bh(d)),c===1/0)return d;const u=Math.max(1,n*c/t.ticks().length);return h=>{let p=h/o(Math.round(a(h)));return p*n<n-.5&&(p*=n),p<=u?d(h):""}},t.nice=()=>i(XR(i(),{floor:c=>o(Math.floor(a(c))),ceil:c=>o(Math.ceil(a(c)))})),t}function ZR(){const e=YR(K8()).domain([1,10]);return e.copy=()=>a3(e,ZR()).base(e.base()),Us.apply(e,arguments),e}function lw(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cw(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tD(e){var t=1,i=e(lw(t),cw(t));return i.constant=function(n){return arguments.length?e(lw(t=+n),cw(t)):t},o3(i)}function eD(){var e=tD(K8());return e.copy=function(){return a3(e,eD()).constant(e.constant())},Us.apply(e,arguments)}function uw(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function DY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function PY(e){return e<0?-e*e:e*e}function iD(e){var t=e(_o,_o),i=1;function n(){return i===1?e(_o,_o):i===.5?e(DY,PY):e(uw(i),uw(1/i))}return t.exponent=function(a){return arguments.length?(i=+a,n()):i},o3(t)}function nD(){var e=iD(K8());return e.copy=function(){return a3(e,nD()).exponent(e.exponent())},Us.apply(e,arguments),e}function rD(){var e=[],t=[],i=[],n;function a(){var l=0,c=Math.max(1,t.length);for(i=new Array(c-1);++l<c;)i[l-1]=Ej(e,l/c);return o}function o(l){return l==null||isNaN(l=+l)?n:t[Xf(i,l)]}return o.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?i[c-1]:e[0],c<i.length?i[c]:e[e.length-1]]},o.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Gr),a()},o.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},o.unknown=function(l){return arguments.length?(n=l,o):n},o.quantiles=function(){return i.slice()},o.copy=function(){return rD().domain(e).range(t).unknown(n)},Us.apply(o,arguments)}function aD(){var e=[.5],t=[0,1],i,n=1;function a(o){return o!=null&&o<=o?t[Xf(e,o,0,n)]:i}return a.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(o){var l=t.indexOf(o);return[e[l-1],e[l]]},a.unknown=function(o){return arguments.length?(i=o,a):i},a.copy=function(){return aD().domain(e).range(t).unknown(i)},Us.apply(a,arguments)}const Mg=new Date,yg=new Date;function Ar(e,t,i,n){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const l=a(o),c=a.ceil(o);return o-l<c-o?l:c},a.offset=(o,l)=>(t(o=new Date(+o),l==null?1:Math.floor(l)),o),a.range=(o,l,c)=>{const d=[];if(o=a.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return d;let u;do d.push(u=new Date(+o)),t(o,c),e(o);while(u<o&&o<l);return d},a.filter=o=>Ar(l=>{if(l>=l)for(;e(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!o(l););else for(;--c>=0;)for(;t(l,1),!o(l););}),i&&(a.count=(o,l)=>(Mg.setTime(+o),yg.setTime(+l),e(Mg),e(yg),Math.floor(i(Mg,yg))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(n?l=>n(l)%o===0:l=>a.count(0,l)%o===0):a)),a}const Q6=Ar(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Q6.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ar(t=>{t.setTime(Math.floor(t/e)*e)},(t,i)=>{t.setTime(+t+i*e)},(t,i)=>(i-t)/e):Q6);Q6.range;const bl=1e3,Eo=bl*60,Cl=Eo*60,Rl=Cl*24,uA=Rl*7,dw=Rl*30,Ag=Rl*365,jo=Ar(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bl)},(e,t)=>(t-e)/bl,e=>e.getUTCSeconds());jo.range;const l3=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bl)},(e,t)=>{e.setTime(+e+t*Eo)},(e,t)=>(t-e)/Eo,e=>e.getMinutes());l3.range;const c3=Ar(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Eo)},(e,t)=>(t-e)/Eo,e=>e.getUTCMinutes());c3.range;const u3=Ar(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bl-e.getMinutes()*Eo)},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getHours());u3.range;const d3=Ar(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getUTCHours());d3.range;const m1=Ar(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Eo)/Rl,e=>e.getDate()-1);m1.range;const q8=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rl,e=>e.getUTCDate()-1);q8.range;const X8=Ar(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Rl,e=>Math.floor(e/Rl));X8.range;function p1(e){return Ar(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,i)=>{t.setDate(t.getDate()+i*7)},(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*Eo)/uA)}const Yd=p1(0),vf=p1(1),oD=p1(2),sD=p1(3),l1=p1(4),lD=p1(5),cD=p1(6);Yd.range;vf.range;oD.range;sD.range;l1.range;lD.range;cD.range;function g1(e){return Ar(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+i*7)},(t,i)=>(i-t)/uA)}const Zd=g1(0),bf=g1(1),uD=g1(2),dD=g1(3),c1=g1(4),hD=g1(5),fD=g1(6);Zd.range;bf.range;uD.range;dD.range;c1.range;hD.range;fD.range;const h3=Ar(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());h3.range;const f3=Ar(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());f3.range;const Zo=Ar(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i*e)});Zo.range;const ts=Ar(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ts.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ar(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i*e)});ts.range;function mD(e,t,i,n,a,o){const l=[[jo,1,bl],[jo,5,5*bl],[jo,15,15*bl],[jo,30,30*bl],[o,1,Eo],[o,5,5*Eo],[o,15,15*Eo],[o,30,30*Eo],[a,1,Cl],[a,3,3*Cl],[a,6,6*Cl],[a,12,12*Cl],[n,1,Rl],[n,2,2*Rl],[i,1,uA],[t,1,dw],[t,3,3*dw],[e,1,Ag]];function c(u,h,p){const f=h<u;f&&([u,h]=[h,u]);const M=p&&typeof p.range=="function"?p:d(u,h,p),g=M?M.range(u,+h+1):[];return f?g.reverse():g}function d(u,h,p){const f=Math.abs(h-u)/p,M=P8(([,,b])=>b).right(l,f);if(M===l.length)return e.every(uM(u/Ag,h/Ag,p));if(M===0)return Q6.every(Math.max(uM(u,h,p),1));const[g,y]=l[f/l[M-1][2]<l[M][2]/f?M-1:M];return g.every(y)}return[c,d]}const[kY,pD]=mD(ts,f3,Zd,X8,d3,c3),[LY,NY]=mD(Zo,h3,Yd,m1,u3,l3);function vg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function O2(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}function FY(e){var t=e.dateTime,i=e.date,n=e.time,a=e.periods,o=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,u=S2(a),h=x2(a),p=S2(o),f=x2(o),M=S2(l),g=x2(l),y=S2(c),b=x2(c),v=S2(d),C=x2(d),w={a:G,A:H,b:J,B:Z,c:null,d:Mw,e:Mw,f:sZ,g:MZ,G:AZ,H:rZ,I:aZ,j:oZ,L:gD,m:lZ,M:cZ,p:j,q:W,Q:vw,s:bw,S:uZ,u:dZ,U:hZ,V:fZ,w:mZ,W:pZ,x:null,X:null,y:gZ,Y:yZ,Z:vZ,"%":Aw},_={a:et,A:dt,b:ht,B:st,c:null,d:yw,e:yw,f:EZ,g:PZ,G:LZ,H:bZ,I:CZ,j:_Z,L:yD,m:wZ,M:OZ,p:St,q:At,Q:vw,s:bw,S:SZ,u:xZ,U:TZ,V:IZ,w:BZ,W:RZ,x:null,X:null,y:DZ,Y:kZ,Z:NZ,"%":Aw},E={a:D,A:N,b:P,B:F,c:U,d:pw,e:pw,f:tZ,g:mw,G:fw,H:gw,I:gw,j:qY,L:ZY,m:KY,M:XY,p:k,q:WY,Q:iZ,s:nZ,S:YY,u:HY,U:VY,V:QY,w:GY,W:zY,x:V,X:z,y:mw,Y:fw,Z:jY,"%":eZ};w.x=S(i,w),w.X=S(n,w),w.c=S(t,w),_.x=S(i,_),_.X=S(n,_),_.c=S(t,_);function S(xt,gt){return function(yt){var lt=[],zt=-1,kt=0,Jt=xt.length,Gt,ce,ae;for(yt instanceof Date||(yt=new Date(+yt));++zt<Jt;)xt.charCodeAt(zt)===37&&(lt.push(xt.slice(kt,zt)),(ce=hw[Gt=xt.charAt(++zt)])!=null?Gt=xt.charAt(++zt):ce=Gt==="e"?" ":"0",(ae=gt[Gt])&&(Gt=ae(yt,ce)),lt.push(Gt),kt=zt+1);return lt.push(xt.slice(kt,zt)),lt.join("")}}function I(xt,gt){return function(yt){var lt=O2(1900,void 0,1),zt=T(lt,xt,yt+="",0),kt,Jt;if(zt!=yt.length)return null;if("Q"in lt)return new Date(lt.Q);if("s"in lt)return new Date(lt.s*1e3+("L"in lt?lt.L:0));if(gt&&!("Z"in lt)&&(lt.Z=0),"p"in lt&&(lt.H=lt.H%12+lt.p*12),lt.m===void 0&&(lt.m="q"in lt?lt.q:0),"V"in lt){if(lt.V<1||lt.V>53)return null;"w"in lt||(lt.w=1),"Z"in lt?(kt=bg(O2(lt.y,0,1)),Jt=kt.getUTCDay(),kt=Jt>4||Jt===0?bf.ceil(kt):bf(kt),kt=q8.offset(kt,(lt.V-1)*7),lt.y=kt.getUTCFullYear(),lt.m=kt.getUTCMonth(),lt.d=kt.getUTCDate()+(lt.w+6)%7):(kt=vg(O2(lt.y,0,1)),Jt=kt.getDay(),kt=Jt>4||Jt===0?vf.ceil(kt):vf(kt),kt=m1.offset(kt,(lt.V-1)*7),lt.y=kt.getFullYear(),lt.m=kt.getMonth(),lt.d=kt.getDate()+(lt.w+6)%7)}else("W"in lt||"U"in lt)&&("w"in lt||(lt.w="u"in lt?lt.u%7:"W"in lt?1:0),Jt="Z"in lt?bg(O2(lt.y,0,1)).getUTCDay():vg(O2(lt.y,0,1)).getDay(),lt.m=0,lt.d="W"in lt?(lt.w+6)%7+lt.W*7-(Jt+5)%7:lt.w+lt.U*7-(Jt+6)%7);return"Z"in lt?(lt.H+=lt.Z/100|0,lt.M+=lt.Z%100,bg(lt)):vg(lt)}}function T(xt,gt,yt,lt){for(var zt=0,kt=gt.length,Jt=yt.length,Gt,ce;zt<kt;){if(lt>=Jt)return-1;if(Gt=gt.charCodeAt(zt++),Gt===37){if(Gt=gt.charAt(zt++),ce=E[Gt in hw?gt.charAt(zt++):Gt],!ce||(lt=ce(xt,yt,lt))<0)return-1}else if(Gt!=yt.charCodeAt(lt++))return-1}return lt}function k(xt,gt,yt){var lt=u.exec(gt.slice(yt));return lt?(xt.p=h.get(lt[0].toLowerCase()),yt+lt[0].length):-1}function D(xt,gt,yt){var lt=M.exec(gt.slice(yt));return lt?(xt.w=g.get(lt[0].toLowerCase()),yt+lt[0].length):-1}function N(xt,gt,yt){var lt=p.exec(gt.slice(yt));return lt?(xt.w=f.get(lt[0].toLowerCase()),yt+lt[0].length):-1}function P(xt,gt,yt){var lt=v.exec(gt.slice(yt));return lt?(xt.m=C.get(lt[0].toLowerCase()),yt+lt[0].length):-1}function F(xt,gt,yt){var lt=y.exec(gt.slice(yt));return lt?(xt.m=b.get(lt[0].toLowerCase()),yt+lt[0].length):-1}function U(xt,gt,yt){return T(xt,t,gt,yt)}function V(xt,gt,yt){return T(xt,i,gt,yt)}function z(xt,gt,yt){return T(xt,n,gt,yt)}function G(xt){return l[xt.getDay()]}function H(xt){return o[xt.getDay()]}function J(xt){return d[xt.getMonth()]}function Z(xt){return c[xt.getMonth()]}function j(xt){return a[+(xt.getHours()>=12)]}function W(xt){return 1+~~(xt.getMonth()/3)}function et(xt){return l[xt.getUTCDay()]}function dt(xt){return o[xt.getUTCDay()]}function ht(xt){return d[xt.getUTCMonth()]}function st(xt){return c[xt.getUTCMonth()]}function St(xt){return a[+(xt.getUTCHours()>=12)]}function At(xt){return 1+~~(xt.getUTCMonth()/3)}return{format:function(xt){var gt=S(xt+="",w);return gt.toString=function(){return xt},gt},parse:function(xt){var gt=I(xt+="",!1);return gt.toString=function(){return xt},gt},utcFormat:function(xt){var gt=S(xt+="",_);return gt.toString=function(){return xt},gt},utcParse:function(xt){var gt=I(xt+="",!0);return gt.toString=function(){return xt},gt}}}var hw={"-":"",_:" ",0:"0"},kr=/^\s*\d+/,UY=/^%/,JY=/[\\^$*+?|[\]().{}]/g;function $0(e,t,i){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<i?new Array(i-o+1).join(t)+a:a)}function $Y(e){return e.replace(JY,"\\$&")}function S2(e){return new RegExp("^(?:"+e.map($Y).join("|")+")","i")}function x2(e){return new Map(e.map((t,i)=>[t.toLowerCase(),i]))}function GY(e,t,i){var n=kr.exec(t.slice(i,i+1));return n?(e.w=+n[0],i+n[0].length):-1}function HY(e,t,i){var n=kr.exec(t.slice(i,i+1));return n?(e.u=+n[0],i+n[0].length):-1}function VY(e,t,i){var n=kr.exec(t.slice(i,i+2));return n?(e.U=+n[0],i+n[0].length):-1}function QY(e,t,i){var n=kr.exec(t.slice(i,i+2));return n?(e.V=+n[0],i+n[0].length):-1}function zY(e,t,i){var n=kr.exec(t.slice(i,i+2));return n?(e.W=+n[0],i+n[0].length):-1}function fw(e,t,i){var n=kr.exec(t.slice(i,i+4));return n?(e.y=+n[0],i+n[0].length):-1}function mw(e,t,i){var n=kr.exec(t.slice(i,i+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function jY(e,t,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(i,i+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function WY(e,t,i){var n=kr.exec(t.slice(i,i+1));return n?(e.q=n[0]*3-3,i+n[0].length):-1}function KY(e,t,i){var n=kr.exec(t.slice(i,i+2));return n?(e.m=n[0]-1,i+n[0].length):-1}function pw(e,t,i){var n=kr.exec(t.slice(i,i+2));return n?(e.d=+n[0],i+n[0].length):-1}function qY(e,t,i){var n=kr.exec(t.slice(i,i+3));return n?(e.m=0,e.d=+n[0],i+n[0].length):-1}function gw(e,t,i){var n=kr.exec(t.slice(i,i+2));return n?(e.H=+n[0],i+n[0].length):-1}function XY(e,t,i){var n=kr.exec(t.slice(i,i+2));return n?(e.M=+n[0],i+n[0].length):-1}function YY(e,t,i){var n=kr.exec(t.slice(i,i+2));return n?(e.S=+n[0],i+n[0].length):-1}function ZY(e,t,i){var n=kr.exec(t.slice(i,i+3));return n?(e.L=+n[0],i+n[0].length):-1}function tZ(e,t,i){var n=kr.exec(t.slice(i,i+6));return n?(e.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function eZ(e,t,i){var n=UY.exec(t.slice(i,i+1));return n?i+n[0].length:-1}function iZ(e,t,i){var n=kr.exec(t.slice(i));return n?(e.Q=+n[0],i+n[0].length):-1}function nZ(e,t,i){var n=kr.exec(t.slice(i));return n?(e.s=+n[0],i+n[0].length):-1}function Mw(e,t){return $0(e.getDate(),t,2)}function rZ(e,t){return $0(e.getHours(),t,2)}function aZ(e,t){return $0(e.getHours()%12||12,t,2)}function oZ(e,t){return $0(1+m1.count(Zo(e),e),t,3)}function gD(e,t){return $0(e.getMilliseconds(),t,3)}function sZ(e,t){return gD(e,t)+"000"}function lZ(e,t){return $0(e.getMonth()+1,t,2)}function cZ(e,t){return $0(e.getMinutes(),t,2)}function uZ(e,t){return $0(e.getSeconds(),t,2)}function dZ(e){var t=e.getDay();return t===0?7:t}function hZ(e,t){return $0(Yd.count(Zo(e)-1,e),t,2)}function MD(e){var t=e.getDay();return t>=4||t===0?l1(e):l1.ceil(e)}function fZ(e,t){return e=MD(e),$0(l1.count(Zo(e),e)+(Zo(e).getDay()===4),t,2)}function mZ(e){return e.getDay()}function pZ(e,t){return $0(vf.count(Zo(e)-1,e),t,2)}function gZ(e,t){return $0(e.getFullYear()%100,t,2)}function MZ(e,t){return e=MD(e),$0(e.getFullYear()%100,t,2)}function yZ(e,t){return $0(e.getFullYear()%1e4,t,4)}function AZ(e,t){var i=e.getDay();return e=i>=4||i===0?l1(e):l1.ceil(e),$0(e.getFullYear()%1e4,t,4)}function vZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$0(t/60|0,"0",2)+$0(t%60,"0",2)}function yw(e,t){return $0(e.getUTCDate(),t,2)}function bZ(e,t){return $0(e.getUTCHours(),t,2)}function CZ(e,t){return $0(e.getUTCHours()%12||12,t,2)}function _Z(e,t){return $0(1+q8.count(ts(e),e),t,3)}function yD(e,t){return $0(e.getUTCMilliseconds(),t,3)}function EZ(e,t){return yD(e,t)+"000"}function wZ(e,t){return $0(e.getUTCMonth()+1,t,2)}function OZ(e,t){return $0(e.getUTCMinutes(),t,2)}function SZ(e,t){return $0(e.getUTCSeconds(),t,2)}function xZ(e){var t=e.getUTCDay();return t===0?7:t}function TZ(e,t){return $0(Zd.count(ts(e)-1,e),t,2)}function AD(e){var t=e.getUTCDay();return t>=4||t===0?c1(e):c1.ceil(e)}function IZ(e,t){return e=AD(e),$0(c1.count(ts(e),e)+(ts(e).getUTCDay()===4),t,2)}function BZ(e){return e.getUTCDay()}function RZ(e,t){return $0(bf.count(ts(e)-1,e),t,2)}function DZ(e,t){return $0(e.getUTCFullYear()%100,t,2)}function PZ(e,t){return e=AD(e),$0(e.getUTCFullYear()%100,t,2)}function kZ(e,t){return $0(e.getUTCFullYear()%1e4,t,4)}function LZ(e,t){var i=e.getUTCDay();return e=i>=4||i===0?c1(e):c1.ceil(e),$0(e.getUTCFullYear()%1e4,t,4)}function NZ(){return"+0000"}function Aw(){return"%"}function vw(e){return+e}function bw(e){return Math.floor(+e/1e3)}var rd,dA,m3;FZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FZ(e){return rd=FY(e),dA=rd.format,rd.parse,m3=rd.utcFormat,rd.utcParse,rd}function UZ(e){return new Date(e)}function JZ(e){return e instanceof Date?+e:+new Date(+e)}function hA(e,t,i,n,a,o,l,c,d,u){var h=KR(),p=h.invert,f=h.domain,M=u(".%L"),g=u(":%S"),y=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),C=u("%b %d"),w=u("%B"),_=u("%Y");function E(S){return(d(S)<S?M:c(S)<S?g:l(S)<S?y:o(S)<S?b:n(S)<S?a(S)<S?v:C:i(S)<S?w:_)(S)}return h.invert=function(S){return new Date(p(S))},h.domain=function(S){return arguments.length?f(Array.from(S,JZ)):f().map(UZ)},h.ticks=function(S){var I=f();return e(I[0],I[I.length-1],S??10)},h.tickFormat=function(S,I){return I==null?E:u(I)},h.nice=function(S){var I=f();return(!S||typeof S.range!="function")&&(S=t(I[0],I[I.length-1],S??10)),S?f(XR(I,S)):h},h.copy=function(){return a3(h,hA(e,t,i,n,a,o,l,c,d,u))},h}function $Z(){return Us.apply(hA(LY,NY,Zo,h3,Yd,m1,u3,l3,jo,dA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GZ(){return Us.apply(hA(kY,pD,ts,f3,Zd,q8,d3,c3,jo,m3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y8(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Z8(){var e=0,t=.5,i=1,n=1,a,o,l,c,d,u=_o,h,p=!1,f;function M(y){return isNaN(y=+y)?f:(y=.5+((y=+h(y))-o)*(n*y<n*o?c:d),u(p?Math.max(0,Math.min(1,y)):y))}M.domain=function(y){return arguments.length?([e,t,i]=y,a=h(e=+e),o=h(t=+t),l=h(i=+i),c=a===o?0:.5/(o-a),d=o===l?0:.5/(l-o),n=o<a?-1:1,M):[e,t,i]},M.clamp=function(y){return arguments.length?(p=!!y,M):p},M.interpolator=function(y){return arguments.length?(u=y,M):u};function g(y){return function(b){var v,C,w;return arguments.length?([v,C,w]=b,u=G8(y,[v,C,w]),M):[u(0),u(.5),u(1)]}}return M.range=g(i3),M.rangeRound=g(Zy),M.unknown=function(y){return arguments.length?(f=y,M):f},function(y){return h=y,a=y(e),o=y(t),l=y(i),c=a===o?0:.5/(o-a),d=o===l?0:.5/(l-o),n=o<a?-1:1,M}}function vD(){var e=o3(Z8()(_o));return e.copy=function(){return Y8(e,vD())},j8.apply(e,arguments)}function bD(){var e=YR(Z8()).domain([.1,1,10]);return e.copy=function(){return Y8(e,bD()).base(e.base())},j8.apply(e,arguments)}function CD(){var e=tD(Z8());return e.copy=function(){return Y8(e,CD()).constant(e.constant())},j8.apply(e,arguments)}function _D(){var e=iD(Z8());return e.copy=function(){return Y8(e,_D()).exponent(e.exponent())},j8.apply(e,arguments)}function e0(e){for(var t=e.length/6|0,i=new Array(t),n=0;n<t;)i[n]="#"+e.slice(n*6,++n*6);return i}const HZ=e0("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),VZ=e0("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),QZ=e0("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Wo=e0("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),zZ=e0("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),jZ=e0("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),WZ=e0("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),KZ=e0("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),qZ=e0("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),XZ=e0("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Zr=e0("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),d9=e=>FK(e[e.length-1]);var ED=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(e0);const wD=d9(ED);var OD=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(e0);const SD=d9(OD);var xD=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(e0);const TD=d9(xD);var ID=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(e0);const BD=d9(ID);var $M=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(e0);const z6=d9($M);var RD=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(e0);const DD=d9(RD);var GM=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(e0);const j6=d9(GM);var PD=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(e0);const kD=d9(PD);var LD=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(e0);const ND=d9(LD);var FD=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(e0);const UD=d9(FD);var JD=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(e0);const $D=d9(JD);var GD=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(e0);const HD=d9(GD);var VD=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(e0);const QD=d9(VD);var zD=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(e0);const jD=d9(zD);var WD=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(e0);const KD=d9(WD);var qD=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(e0);const XD=d9(qD);var YD=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(e0);const ZD=d9(YD);var tP=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(e0);const eP=d9(tP);var iP=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(e0);const nP=d9(iP);var rP=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(e0);const aP=d9(rP);var oP=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(e0);const sP=d9(oP);var lP=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(e0);const cP=d9(lP);var uP=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(e0);const dP=d9(uP);var hP=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(e0);const fP=d9(hP);var mP=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(e0);const pP=d9(mP);var gP=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(e0);const MP=d9(gP);var yP=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(e0);const AP=d9(yP);function vP(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const bP=tA(Bs(300,.5,0),Bs(-240,.5,1));var CP=tA(Bs(-100,.75,.35),Bs(80,1.5,.8)),_P=tA(Bs(260,.75,.35),Bs(80,1.5,.8)),B4=Bs();function EP(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return B4.h=360*e-100,B4.s=1.5-1.5*t,B4.l=.8-.9*t,B4+""}var R4=kc(),YZ=Math.PI/3,ZZ=Math.PI*2/3;function wP(e){var t;return e=(.5-e)*Math.PI,R4.r=255*(t=Math.sin(e))*t,R4.g=255*(t=Math.sin(e+YZ))*t,R4.b=255*(t=Math.sin(e+ZZ))*t,R4+""}function OP(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function t5(e){var t=e.length;return function(i){return e[Math.max(0,Math.min(t-1,Math.floor(i*t)))]}}const SP=t5(e0("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var xP=t5(e0("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),TP=t5(e0("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),IP=t5(e0("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Sr(e){return function(){return e}}const BP=Math.cos,fA=Math.min,W6=Math.sin,vr=Math.sqrt,Cw=1e-12,K6=Math.PI,e5=2*K6;function RP(e){let t=3;return e.digits=function(i){if(!arguments.length)return t;if(i==null)t=null;else{const n=Math.floor(i);if(!(n>=0))throw new RangeError(`invalid digits: ${i}`);t=n}return e},()=>new hR(t)}function DP(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PP(e){this._context=e}PP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function p3(e){return new PP(e)}function kP(e){return e[0]}function LP(e){return e[1]}function NP(e,t){var i=Sr(!0),n=null,a=p3,o=null,l=RP(c);e=typeof e=="function"?e:e===void 0?kP:Sr(e),t=typeof t=="function"?t:t===void 0?LP:Sr(t);function c(d){var u,h=(d=DP(d)).length,p,f=!1,M;for(n==null&&(o=a(M=l())),u=0;u<=h;++u)!(u<h&&i(p=d[u],u,d))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(p,u,d),+t(p,u,d));if(M)return o=null,M+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Sr(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Sr(+d),c):t},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Sr(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,n!=null&&(o=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=o=null:o=a(n=d),c):n},c}function ttt(e,t,i){var n=null,a=Sr(!0),o=null,l=p3,c=null,d=RP(u);e=typeof e=="function"?e:e===void 0?kP:Sr(+e),t=typeof t=="function"?t:Sr(t===void 0?0:+t),i=typeof i=="function"?i:i===void 0?LP:Sr(+i);function u(p){var f,M,g,y=(p=DP(p)).length,b,v=!1,C,w=new Array(y),_=new Array(y);for(o==null&&(c=l(C=d())),f=0;f<=y;++f){if(!(f<y&&a(b=p[f],f,p))===v)if(v=!v)M=f,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),g=f-1;g>=M;--g)c.point(w[g],_[g]);c.lineEnd(),c.areaEnd()}v&&(w[f]=+e(b,f,p),_[f]=+t(b,f,p),c.point(n?+n(b,f,p):w[f],i?+i(b,f,p):_[f]))}if(C)return c=null,C+""||null}function h(){return NP().defined(a).curve(l).context(o)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Sr(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Sr(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Sr(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:Sr(+p),i=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Sr(+p),u):t},u.y1=function(p){return arguments.length?(i=p==null?null:typeof p=="function"?p:Sr(+p),u):i},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(i)},u.lineX1=function(){return h().x(n).y(t)},u.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Sr(!!p),u):a},u.curve=function(p){return arguments.length?(l=p,o!=null&&(c=l(o)),u):l},u.context=function(p){return arguments.length?(p==null?o=c=null:c=l(o=p),u):o},u}class FP{constructor(t,i){this._context=t,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,i){switch(t=+t,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,i,t,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,t,this._y0,t,i);break}}this._x0=t,this._y0=i}}function ett(e){return new FP(e,!0)}function itt(e){return new FP(e,!1)}const ntt=vr(3),UP={draw(e,t){const i=vr(t+fA(t/28,.75))*.59436,n=i/2,a=n*ntt;e.moveTo(0,i),e.lineTo(0,-i),e.moveTo(-a,-n),e.lineTo(a,n),e.moveTo(-a,n),e.lineTo(a,-n)}},Cf={draw(e,t){const i=vr(t/K6);e.moveTo(i,0),e.arc(0,0,i,0,e5)}},JP={draw(e,t){const i=vr(t/5)/2;e.moveTo(-3*i,-i),e.lineTo(-i,-i),e.lineTo(-i,-3*i),e.lineTo(i,-3*i),e.lineTo(i,-i),e.lineTo(3*i,-i),e.lineTo(3*i,i),e.lineTo(i,i),e.lineTo(i,3*i),e.lineTo(-i,3*i),e.lineTo(-i,i),e.lineTo(-3*i,i),e.closePath()}},$P=vr(1/3),rtt=$P*2,GP={draw(e,t){const i=vr(t/rtt),n=i*$P;e.moveTo(0,-i),e.lineTo(n,0),e.lineTo(0,i),e.lineTo(-n,0),e.closePath()}},HP={draw(e,t){const i=vr(t)*.62625;e.moveTo(0,-i),e.lineTo(i,0),e.lineTo(0,i),e.lineTo(-i,0),e.closePath()}},VP={draw(e,t){const i=vr(t-fA(t/7,2))*.87559;e.moveTo(-i,0),e.lineTo(i,0),e.moveTo(0,i),e.lineTo(0,-i)}},QP={draw(e,t){const i=vr(t),n=-i/2;e.rect(n,n,i,i)}},zP={draw(e,t){const i=vr(t)*.4431;e.moveTo(i,i),e.lineTo(i,-i),e.lineTo(-i,-i),e.lineTo(-i,i),e.closePath()}},att=.8908130915292852,jP=W6(K6/10)/W6(7*K6/10),ott=W6(e5/10)*jP,stt=-BP(e5/10)*jP,WP={draw(e,t){const i=vr(t*att),n=ott*i,a=stt*i;e.moveTo(0,-i),e.lineTo(n,a);for(let o=1;o<5;++o){const l=e5*o/5,c=BP(l),d=W6(l);e.lineTo(d*i,-c*i),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},Cg=vr(3),KP={draw(e,t){const i=-vr(t/(Cg*3));e.moveTo(0,i*2),e.lineTo(-Cg*i,-i),e.lineTo(Cg*i,-i),e.closePath()}},ltt=vr(3),qP={draw(e,t){const i=vr(t)*.6824,n=i/2,a=i*ltt/2;e.moveTo(0,-i),e.lineTo(a,n),e.lineTo(-a,n),e.closePath()}},go=-.5,Mo=vr(3)/2,HM=1/vr(12),ctt=(HM/2+1)*3,XP={draw(e,t){const i=vr(t/ctt),n=i/2,a=i*HM,o=n,l=i*HM+i,c=-o,d=l;e.moveTo(n,a),e.lineTo(o,l),e.lineTo(c,d),e.lineTo(go*n-Mo*a,Mo*n+go*a),e.lineTo(go*o-Mo*l,Mo*o+go*l),e.lineTo(go*c-Mo*d,Mo*c+go*d),e.lineTo(go*n+Mo*a,go*a-Mo*n),e.lineTo(go*o+Mo*l,go*l-Mo*o),e.lineTo(go*c+Mo*d,go*d-Mo*c),e.closePath()}},YP={draw(e,t){const i=vr(t-fA(t/6,1.7))*.6189;e.moveTo(-i,-i),e.lineTo(i,i),e.moveTo(-i,i),e.lineTo(i,-i)}},utt=[Cf,JP,GP,QP,WP,KP,XP],dtt=[Cf,VP,YP,qP,UP,zP,HP];function Lc(){}function q6(e,t,i){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6)}function i5(e){this._context=e}i5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:q6(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:q6(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function htt(e){return new i5(e)}function ZP(e){this._context=e}ZP.prototype={areaStart:Lc,areaEnd:Lc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:q6(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ftt(e){return new ZP(e)}function tk(e){this._context=e}tk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(i,n):this._context.moveTo(i,n);break;case 3:this._point=4;default:q6(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mtt(e){return new tk(e)}function ek(e,t){this._basis=new i5(e),this._beta=t}ek.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,i=e.length-1;if(i>0)for(var n=e[0],a=t[0],o=e[i]-n,l=t[i]-a,c=-1,d;++c<=i;)d=c/i,this._basis.point(this._beta*e[c]+(1-this._beta)*(n+d*o),this._beta*t[c]+(1-this._beta)*(a+d*l));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const ptt=function e(t){function i(n){return t===1?new i5(n):new ek(n,t)}return i.beta=function(n){return e(+n)},i}(.85);function X6(e,t,i){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-i),e._x2,e._y2)}function mA(e,t){this._context=e,this._k=(1-t)/6}mA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:X6(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:X6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const gtt=function e(t){function i(n){return new mA(n,t)}return i.tension=function(n){return e(+n)},i}(0);function pA(e,t){this._context=e,this._k=(1-t)/6}pA.prototype={areaStart:Lc,areaEnd:Lc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:X6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Mtt=function e(t){function i(n){return new pA(n,t)}return i.tension=function(n){return e(+n)},i}(0);function gA(e,t){this._context=e,this._k=(1-t)/6}gA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:X6(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ytt=function e(t){function i(n){return new gA(n,t)}return i.tension=function(n){return e(+n)},i}(0);function MA(e,t,i){var n=e._x1,a=e._y1,o=e._x2,l=e._y2;if(e._l01_a>Cw){var c=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,d=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*c-e._x0*e._l12_2a+e._x2*e._l01_2a)/d,a=(a*c-e._y0*e._l12_2a+e._y2*e._l01_2a)/d}if(e._l23_a>Cw){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/h,l=(l*u+e._y1*e._l23_2a-i*e._l12_2a)/h}e._context.bezierCurveTo(n,a,o,l,e._x2,e._y2)}function ik(e,t){this._context=e,this._alpha=t}ik.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:MA(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Att=function e(t){function i(n){return t?new ik(n,t):new mA(n,0)}return i.alpha=function(n){return e(+n)},i}(.5);function nk(e,t){this._context=e,this._alpha=t}nk.prototype={areaStart:Lc,areaEnd:Lc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:MA(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vtt=function e(t){function i(n){return t?new nk(n,t):new pA(n,0)}return i.alpha=function(n){return e(+n)},i}(.5);function rk(e,t){this._context=e,this._alpha=t}rk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var i=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:MA(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const btt=function e(t){function i(n){return t?new rk(n,t):new gA(n,0)}return i.alpha=function(n){return e(+n)},i}(.5);function ak(e){this._context=e}ak.prototype={areaStart:Lc,areaEnd:Lc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ctt(e){return new ak(e)}function _w(e){return e<0?-1:1}function Ew(e,t,i){var n=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(n||a<0&&-0),l=(i-e._y1)/(a||n<0&&-0),c=(o*a+l*n)/(n+a);return(_w(o)+_w(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function ww(e,t){var i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function _g(e,t,i){var n=e._x0,a=e._y0,o=e._x1,l=e._y1,c=(o-n)/3;e._context.bezierCurveTo(n+c,a+c*t,o-c,l-c*i,o,l)}function Y6(e){this._context=e}Y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_g(this,this._t0,ww(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var i=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,_g(this,ww(this,i=Ew(this,e,t)),i);break;default:_g(this,this._t0,i=Ew(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=i}}};function ok(e){this._context=new sk(e)}(ok.prototype=Object.create(Y6.prototype)).point=function(e,t){Y6.prototype.point.call(this,t,e)};function sk(e){this._context=e}sk.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,i,n,a,o){this._context.bezierCurveTo(t,e,n,i,o,a)}};function _tt(e){return new Y6(e)}function Ett(e){return new ok(e)}function lk(e){this._context=e}lk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,i=e.length;if(i)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),i===2)this._context.lineTo(e[1],t[1]);else for(var n=Ow(e),a=Ow(t),o=0,l=1;l<i;++o,++l)this._context.bezierCurveTo(n[0][o],a[0][o],n[1][o],a[1][o],e[l],t[l]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ow(e){var t,i=e.length-1,n,a=new Array(i),o=new Array(i),l=new Array(i);for(a[0]=0,o[0]=2,l[0]=e[0]+2*e[1],t=1;t<i-1;++t)a[t]=1,o[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[i-1]=2,o[i-1]=7,l[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=a[t]/o[t-1],o[t]-=n,l[t]-=n*l[t-1];for(a[i-1]=l[i-1]/o[i-1],t=i-2;t>=0;--t)a[t]=(l[t]-a[t+1])/o[t];for(o[i-1]=(e[i]+a[i-1])/2,t=0;t<i-1;++t)o[t]=2*e[t+1]-a[t+1];return[a,o]}function wtt(e){return new lk(e)}function n5(e,t){this._context=e,this._t=t}n5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var i=this._x*(1-this._t)+e*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,t)}break}}this._x=e,this._y=t}};function Ott(e){return new n5(e,.5)}function Stt(e){return new n5(e,0)}function xtt(e){return new n5(e,1)}function G2(e,t,i){this.k=e,this.x=t,this.y=i}G2.prototype={constructor:G2,scale:function(e){return e===1?this:new G2(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new G2(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};G2.prototype;const ck=new Map,uk=new Map,Ttt=new Map,Itt=new Map;function l6(e){return ck.get(e)}function r5(e){return uk.get(e)}function hc(e){const t=e%12;return t===1||t===3||t===6||t===8||t===10}const Sw=new Map([["Cb","B"],["Db","C#"],["Eb","D#"],["Fb","E"],["Gb","F#"],["Ab","G#"],["Bb","A#"]]),Dr=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],yA=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Rs=[{pitch:0,name:"C",octave:-1,label:"C-1",frequency:8.176},{pitch:1,name:"C#",octave:-1,label:"C#-1",frequency:8.662},{pitch:2,name:"D",octave:-1,label:"D-1",frequency:9.177},{pitch:3,name:"D#",octave:-1,label:"D#-1",frequency:9.723},{pitch:4,name:"E",octave:-1,label:"E-1",frequency:10.301},{pitch:5,name:"F",octave:-1,label:"F-1",frequency:10.913},{pitch:6,name:"F#",octave:-1,label:"F#-1",frequency:11.562},{pitch:7,name:"G",octave:-1,label:"G-1",frequency:12.25},{pitch:8,name:"G#",octave:-1,label:"G#-1",frequency:12.978},{pitch:9,name:"A",octave:-1,label:"A-1",frequency:13.75},{pitch:10,name:"A#",octave:-1,label:"A#-1",frequency:14.568},{pitch:11,name:"B",octave:-1,label:"B-1",frequency:15.434},{pitch:12,name:"C",octave:0,label:"C0",frequency:16.352},{pitch:13,name:"C#",octave:0,label:"C#0",frequency:17.324},{pitch:14,name:"D",octave:0,label:"D0",frequency:18.354},{pitch:15,name:"D#",octave:0,label:"D#0",frequency:19.445},{pitch:16,name:"E",octave:0,label:"E0",frequency:20.602},{pitch:17,name:"F",octave:0,label:"F0",frequency:21.827},{pitch:18,name:"F#",octave:0,label:"F#0",frequency:23.125},{pitch:19,name:"G",octave:0,label:"G0",frequency:24.5},{pitch:20,name:"G#",octave:0,label:"G#0",frequency:25.957},{pitch:21,name:"A",octave:0,label:"A0",frequency:27.5},{pitch:22,name:"A#",octave:0,label:"A#0",frequency:29.135},{pitch:23,name:"B",octave:0,label:"B0",frequency:30.868},{pitch:24,name:"C",octave:1,label:"C1",frequency:32.703},{pitch:25,name:"C#",octave:1,label:"C#1",frequency:34.648},{pitch:26,name:"D",octave:1,label:"D1",frequency:36.708},{pitch:27,name:"D#",octave:1,label:"D#1",frequency:38.891},{pitch:28,name:"E",octave:1,label:"E1",frequency:41.203},{pitch:29,name:"F",octave:1,label:"F1",frequency:43.654},{pitch:30,name:"F#",octave:1,label:"F#1",frequency:46.249},{pitch:31,name:"G",octave:1,label:"G1",frequency:48.999},{pitch:32,name:"G#",octave:1,label:"G#1",frequency:51.913},{pitch:33,name:"A",octave:1,label:"A1",frequency:55},{pitch:34,name:"A#",octave:1,label:"A#1",frequency:58.27},{pitch:35,name:"B",octave:1,label:"B1",frequency:61.735},{pitch:36,name:"C",octave:2,label:"C2",frequency:65.406},{pitch:37,name:"C#",octave:2,label:"C#2",frequency:69.296},{pitch:38,name:"D",octave:2,label:"D2",frequency:73.416},{pitch:39,name:"D#",octave:2,label:"D#2",frequency:77.782},{pitch:40,name:"E",octave:2,label:"E2",frequency:82.407},{pitch:41,name:"F",octave:2,label:"F2",frequency:87.307},{pitch:42,name:"F#",octave:2,label:"F#2",frequency:92.499},{pitch:43,name:"G",octave:2,label:"G2",frequency:97.999},{pitch:44,name:"G#",octave:2,label:"G#2",frequency:103.826},{pitch:45,name:"A",octave:2,label:"A2",frequency:110},{pitch:46,name:"A#",octave:2,label:"A#2",frequency:116.541},{pitch:47,name:"B",octave:2,label:"B2",frequency:123.471},{pitch:48,name:"C",octave:3,label:"C3",frequency:130.813},{pitch:49,name:"C#",octave:3,label:"C#3",frequency:138.591},{pitch:50,name:"D",octave:3,label:"D3",frequency:146.832},{pitch:51,name:"D#",octave:3,label:"D#3",frequency:155.563},{pitch:52,name:"E",octave:3,label:"E3",frequency:164.814},{pitch:53,name:"F",octave:3,label:"F3",frequency:174.614},{pitch:54,name:"F#",octave:3,label:"F#3",frequency:184.997},{pitch:55,name:"G",octave:3,label:"G3",frequency:195.998},{pitch:56,name:"G#",octave:3,label:"G#3",frequency:207.652},{pitch:57,name:"A",octave:3,label:"A3",frequency:220},{pitch:58,name:"A#",octave:3,label:"A#3",frequency:233.082},{pitch:59,name:"B",octave:3,label:"B3",frequency:246.942},{pitch:60,name:"C",octave:4,label:"C4",frequency:261.626},{pitch:61,name:"C#",octave:4,label:"C#4",frequency:277.183},{pitch:62,name:"D",octave:4,label:"D4",frequency:293.665},{pitch:63,name:"D#",octave:4,label:"D#4",frequency:311.127},{pitch:64,name:"E",octave:4,label:"E4",frequency:329.628},{pitch:65,name:"F",octave:4,label:"F4",frequency:349.228},{pitch:66,name:"F#",octave:4,label:"F#4",frequency:369.994},{pitch:67,name:"G",octave:4,label:"G4",frequency:391.995},{pitch:68,name:"G#",octave:4,label:"G#4",frequency:415.305},{pitch:69,name:"A",octave:4,label:"A4",frequency:440},{pitch:70,name:"A#",octave:4,label:"A#4",frequency:466.164},{pitch:71,name:"B",octave:4,label:"B4",frequency:493.883},{pitch:72,name:"C",octave:5,label:"C5",frequency:523.251},{pitch:73,name:"C#",octave:5,label:"C#5",frequency:554.365},{pitch:74,name:"D",octave:5,label:"D5",frequency:587.33},{pitch:75,name:"D#",octave:5,label:"D#5",frequency:622.254},{pitch:76,name:"E",octave:5,label:"E5",frequency:659.255},{pitch:77,name:"F",octave:5,label:"F5",frequency:698.456},{pitch:78,name:"F#",octave:5,label:"F#5",frequency:739.989},{pitch:79,name:"G",octave:5,label:"G5",frequency:783.991},{pitch:80,name:"G#",octave:5,label:"G#5",frequency:830.609},{pitch:81,name:"A",octave:5,label:"A5",frequency:880},{pitch:82,name:"A#",octave:5,label:"A#5",frequency:932.328},{pitch:83,name:"B",octave:5,label:"B5",frequency:987.767},{pitch:84,name:"C",octave:6,label:"C6",frequency:1046.502},{pitch:85,name:"C#",octave:6,label:"C#6",frequency:1108.731},{pitch:86,name:"D",octave:6,label:"D6",frequency:1174.659},{pitch:87,name:"D#",octave:6,label:"D#6",frequency:1244.508},{pitch:88,name:"E",octave:6,label:"E6",frequency:1318.51},{pitch:89,name:"F",octave:6,label:"F6",frequency:1396.913},{pitch:90,name:"F#",octave:6,label:"F#6",frequency:1479.978},{pitch:91,name:"G",octave:6,label:"G6",frequency:1567.982},{pitch:92,name:"G#",octave:6,label:"G#6",frequency:1661.219},{pitch:93,name:"A",octave:6,label:"A6",frequency:1760},{pitch:94,name:"A#",octave:6,label:"A#6",frequency:1864.655},{pitch:95,name:"B",octave:6,label:"B6",frequency:1975.533},{pitch:96,name:"C",octave:7,label:"C7",frequency:2093.005},{pitch:97,name:"C#",octave:7,label:"C#7",frequency:2217.461},{pitch:98,name:"D",octave:7,label:"D7",frequency:2349.318},{pitch:99,name:"D#",octave:7,label:"D#7",frequency:2489.016},{pitch:100,name:"E",octave:7,label:"E7",frequency:2637.02},{pitch:101,name:"F",octave:7,label:"F7",frequency:2793.826},{pitch:102,name:"F#",octave:7,label:"F#7",frequency:2959.955},{pitch:103,name:"G",octave:7,label:"G7",frequency:3135.963},{pitch:104,name:"G#",octave:7,label:"G#7",frequency:3322.438},{pitch:105,name:"A",octave:7,label:"A7",frequency:3520},{pitch:106,name:"A#",octave:7,label:"A#7",frequency:3729.31},{pitch:107,name:"B",octave:7,label:"B7",frequency:3951.066},{pitch:108,name:"C",octave:8,label:"C8",frequency:4186.009},{pitch:109,name:"C#",octave:8,label:"C#8",frequency:4434.922},{pitch:110,name:"D",octave:8,label:"D8",frequency:4698.636},{pitch:111,name:"D#",octave:8,label:"D#8",frequency:4978.032},{pitch:112,name:"E",octave:8,label:"E8",frequency:5274.041},{pitch:113,name:"F",octave:8,label:"F8",frequency:5587.652},{pitch:114,name:"F#",octave:8,label:"F#8",frequency:5919.911},{pitch:115,name:"G",octave:8,label:"G8",frequency:6271.927},{pitch:116,name:"G#",octave:8,label:"G#8",frequency:6644.875},{pitch:117,name:"A",octave:8,label:"A8",frequency:7040},{pitch:118,name:"A#",octave:8,label:"A#8",frequency:7458.62},{pitch:119,name:"B",octave:8,label:"B8",frequency:7902.133},{pitch:120,name:"C",octave:9,label:"C9",frequency:8372.018},{pitch:121,name:"C#",octave:9,label:"C#9",frequency:8869.844},{pitch:122,name:"D",octave:9,label:"D9",frequency:9397.273},{pitch:123,name:"D#",octave:9,label:"D#9",frequency:9956.063},{pitch:124,name:"E",octave:9,label:"E9",frequency:10548.08},{pitch:125,name:"F",octave:9,label:"F9",frequency:11175.3},{pitch:126,name:"F#",octave:9,label:"F#9",frequency:11839.82},{pitch:127,name:"G",octave:9,label:"G9",frequency:12543.85}],Btt=[{number:0,group:"Piano",label:"Acoustic Grand Piano"},{number:1,group:"Piano",label:"Bright Acoustic Piano"},{number:2,group:"Piano",label:"Electric Grand Piano"},{number:3,group:"Piano",label:"Honky-tonk Piano"},{number:4,group:"Piano",label:"Electric Piano 1"},{number:5,group:"Piano",label:"Electric Piano 2"},{number:6,group:"Piano",label:"Harpsichord"},{number:7,group:"Piano",label:"Clavinet"},{number:8,group:"Chromatic Percussion",label:"Celesta"},{number:9,group:"Chromatic Percussion",label:"Glockenspiel"},{number:10,group:"Chromatic Percussion",label:"Music Box"},{number:11,group:"Chromatic Percussion",label:"Vibraphone"},{number:12,group:"Chromatic Percussion",label:"Marimba"},{number:13,group:"Chromatic Percussion",label:"Xylophone"},{number:14,group:"Chromatic Percussion",label:"Tubular Bells"},{number:15,group:"Chromatic Percussion",label:"Dulcimer"},{number:16,group:"Organ",label:"Drawbar Organ"},{number:17,group:"Organ",label:"Percussive Organ"},{number:18,group:"Organ",label:"Rock Organ"},{number:19,group:"Organ",label:"Church Organ"},{number:20,group:"Organ",label:"Reed Organ"},{number:21,group:"Organ",label:"Accordion"},{number:22,group:"Organ",label:"Harmonica"},{number:23,group:"Organ",label:"Tango Accordion"},{number:24,group:"Guitar",label:"Acoustic Guitar(nylon)"},{number:25,group:"Guitar",label:"Acoustic Guitar(steel)"},{number:26,group:"Guitar",label:"Electric Guitar(jazz)"},{number:27,group:"Guitar",label:"Electric Guitar(clean)"},{number:28,group:"Guitar",label:"Electric Guitar(muted)"},{number:29,group:"Guitar",label:"Overdriven Guitar"},{number:30,group:"Guitar",label:"Distortion Guitar"},{number:31,group:"Guitar",label:"Guitar harmonics"},{number:32,group:"Bass",label:"Acoustic Bass"},{number:33,group:"Bass",label:"Electric Bass(finger)"},{number:34,group:"Bass",label:"Electric Bass(pick)"},{number:35,group:"Bass",label:"Fretless Bass"},{number:36,group:"Bass",label:"Slap Bass 1"},{number:37,group:"Bass",label:"Slap Bass 2"},{number:38,group:"Bass",label:"Synth Bass 1"},{number:39,group:"Bass",label:"Synth Bass 2"},{number:40,group:"Strings",label:"Violin"},{number:41,group:"Strings",label:"Viola"},{number:42,group:"Strings",label:"Cello"},{number:43,group:"Strings",label:"Contrabass"},{number:44,group:"Strings",label:"Tremolo Strings"},{number:45,group:"Strings",label:"Pizzicato Strings"},{number:46,group:"Strings",label:"Orchestral Harp"},{number:47,group:"Strings",label:"Timpani"},{number:48,group:"Strings (continued)",label:"String Ensemble 1"},{number:49,group:"Strings (continued)",label:"String Ensemble 2"},{number:50,group:"Strings (continued)",label:"Synth Strings 1"},{number:51,group:"Strings (continued)",label:"Synth Strings 2"},{number:52,group:"Strings (continued)",label:"Choir Aahs"},{number:53,group:"Strings (continued)",label:"Voice Oohs"},{number:54,group:"Strings (continued)",label:"Synth Voice"},{number:55,group:"Strings (continued)",label:"Orchestra Hit"},{number:56,group:"Brass",label:"Trumpet"},{number:57,group:"Brass",label:"Trombone"},{number:58,group:"Brass",label:"Tuba"},{number:59,group:"Brass",label:"Muted Trumpet"},{number:60,group:"Brass",label:"French Horn"},{number:61,group:"Brass",label:"Brass Section"},{number:62,group:"Brass",label:"Synth Brass 1"},{number:63,group:"Brass",label:"Synth Brass 2"},{number:64,group:"Reed",label:"Soprano Sax"},{number:65,group:"Reed",label:"Alto Sax"},{number:66,group:"Reed",label:"Tenor Sax"},{number:67,group:"Reed",label:"Baritone Sax"},{number:68,group:"Reed",label:"Oboe"},{number:69,group:"Reed",label:"English Horn"},{number:70,group:"Reed",label:"Bassoon"},{number:71,group:"Reed",label:"Clarinet"},{number:72,group:"Pipe",label:"Piccolo"},{number:73,group:"Pipe",label:"Flute"},{number:74,group:"Pipe",label:"Recorder"},{number:75,group:"Pipe",label:"Pan Flute"},{number:76,group:"Pipe",label:"Blown Bottle"},{number:77,group:"Pipe",label:"Shakuhachi"},{number:78,group:"Pipe",label:"Whistle"},{number:79,group:"Pipe",label:"Ocarina"},{number:80,group:"Synth Lead",label:"Lead 1(square)"},{number:81,group:"Synth Lead",label:"Lead 2(sawtooth)"},{number:82,group:"Synth Lead",label:"Lead 3(calliope)"},{number:83,group:"Synth Lead",label:"Lead 4(chiff)"},{number:84,group:"Synth Lead",label:"Lead 5(charang)"},{number:85,group:"Synth Lead",label:"Lead 6(voice)"},{number:86,group:"Synth Lead",label:"Lead 7(fifths)"},{number:87,group:"Synth Lead",label:"Lead 8(bass + lead)"},{number:88,group:"Synth Pad",label:"Pad 1(new age)"},{number:89,group:"Synth Pad",label:"Pad 2(warm)"},{number:90,group:"Synth Pad",label:"Pad 3(polysynth)"},{number:91,group:"Synth Pad",label:"Pad 4(choir)"},{number:92,group:"Synth Pad",label:"Pad 5(bowed)"},{number:93,group:"Synth Pad",label:"Pad 6(metallic)"},{number:94,group:"Synth Pad",label:"Pad 7(halo)"},{number:95,group:"Synth Pad",label:"Pad 8(sweep)"},{number:96,group:"Synth Effects",label:"FX 1(rain)"},{number:97,group:"Synth Effects",label:"FX 2(soundtrack)"},{number:98,group:"Synth Effects",label:"FX 3(crystal)"},{number:99,group:"Synth Effects",label:"FX 4(atmosphere)"},{number:100,group:"Synth Effects",label:"FX 5(brightness)"},{number:101,group:"Synth Effects",label:"FX 6(goblins)"},{number:102,group:"Synth Effects",label:"FX 7(echoes)"},{number:103,group:"Synth Effects",label:"FX 8(sci-fi)"},{number:104,group:"Ethnic",label:"Sitar"},{number:105,group:"Ethnic",label:"Banjo"},{number:106,group:"Ethnic",label:"Shamisen"},{number:107,group:"Ethnic",label:"Koto"},{number:108,group:"Ethnic",label:"Kalimba"},{number:109,group:"Ethnic",label:"Bag pipe"},{number:110,group:"Ethnic",label:"Fiddle"},{number:111,group:"Ethnic",label:"Shanai"},{number:112,group:"Percussive",label:"Tinkle Bell"},{number:113,group:"Percussive",label:"Agogo"},{number:114,group:"Percussive",label:"Steel Drums"},{number:115,group:"Percussive",label:"Woodblock"},{number:116,group:"Percussive",label:"Taiko Drum"},{number:117,group:"Percussive",label:"Melodic Tom"},{number:118,group:"Percussive",label:"Synth Drum"},{number:119,group:"Sound Effects",label:"Reverse Cymbal"},{number:120,group:"Sound Effects",label:"Guitar Fret Noise"},{number:121,group:"Sound Effects",label:"Breath Noise"},{number:122,group:"Sound Effects",label:"Seashore"},{number:123,group:"Sound Effects",label:"Bird Tweet"},{number:124,group:"Sound Effects",label:"Telephone Ring"},{number:125,group:"Sound Effects",label:"Helicopter"},{number:126,group:"Sound Effects",label:"Applause"},{number:127,group:"Sound Effects",label:"Gunshot"}],Rtt=[{number:1,subnumber:0,group:"Piano",label:"Acoustic Grand Piano"},{number:1,subnumber:1,group:"Piano",label:"Wide Acoustic Grand"},{number:1,subnumber:2,group:"Piano",label:"Dark Acoustic Grand"},{number:2,subnumber:0,group:"Piano",label:"Bright Acoustic Piano"},{number:2,subnumber:1,group:"Piano",label:"Wide Bright Acoustic"},{number:3,subnumber:0,group:"Piano",label:"Electric Grand Piano"},{number:3,subnumber:1,group:"Piano",label:"Wide Electric Grand"},{number:4,subnumber:0,group:"Piano",label:"Honky-tonk Piano"},{number:4,subnumber:1,group:"Piano",label:"Wide Honky-tonk"},{number:5,subnumber:0,group:"Piano",label:"Rhodes Piano"},{number:5,subnumber:1,group:"Piano",label:"Detuned Electric Piano 1"},{number:5,subnumber:2,group:"Piano",label:"Electric Piano 1 Variation"},{number:5,subnumber:3,group:"Piano",label:"60's Electric Piano"},{number:6,subnumber:0,group:"Piano",label:"Chorused Electric Piano"},{number:6,subnumber:1,group:"Piano",label:"Detuned Electric Piano 2"},{number:6,subnumber:2,group:"Piano",label:"Electric Piano 2 Variation"},{number:6,subnumber:3,group:"Piano",label:"Electric Piano Legend"},{number:6,subnumber:4,group:"Piano",label:"Electric Piano Phase"},{number:7,subnumber:0,group:"Piano",label:"Harpsichord"},{number:7,subnumber:1,group:"Piano",label:"Coupled Harpsichord"},{number:7,subnumber:2,group:"Piano",label:"Wide Harpsichord"},{number:7,subnumber:3,group:"Piano",label:"Open Harpsichord"},{number:8,subnumber:0,group:"Piano",label:"Clavinet"},{number:8,subnumber:1,group:"Piano",label:"Pulse Clavinet"},{number:9,subnumber:0,group:"Chromatic Percussion",label:"Celesta"},{number:10,subnumber:0,group:"Chromatic Percussion",label:"Glockenspiel"},{number:11,subnumber:0,group:"Chromatic Percussion",label:"Music Box"},{number:12,subnumber:0,group:"Chromatic Percussion",label:"Vibraphone"},{number:12,subnumber:1,group:"Chromatic Percussion",label:"Wet Vibraphone"},{number:13,subnumber:0,group:"Chromatic Percussion",label:"Marimba"},{number:13,subnumber:1,group:"Chromatic Percussion",label:"Wide Marimba"},{number:14,subnumber:0,group:"Chromatic Percussion",label:"Xylophone"},{number:15,subnumber:0,group:"Chromatic Percussion",label:"Tubular Bells"},{number:15,subnumber:1,group:"Chromatic Percussion",label:"Church Bells"},{number:15,subnumber:2,group:"Chromatic Percussion",label:"Carillon"},{number:16,subnumber:0,group:"Chromatic Percussion",label:"Dulcimer / Santur"},{number:17,subnumber:0,group:"Organ",label:"Hammond Organ"},{number:17,subnumber:1,group:"Organ",label:"Detuned Organ 1"},{number:17,subnumber:2,group:"Organ",label:"60's Organ 1"},{number:17,subnumber:3,group:"Organ",label:"Organ 4"},{number:18,subnumber:0,group:"Organ",label:"Percussive Organ"},{number:18,subnumber:1,group:"Organ",label:"Detuned Organ 2"},{number:18,subnumber:2,group:"Organ",label:"Organ 5"},{number:19,subnumber:0,group:"Organ",label:"Rock Organ"},{number:20,subnumber:0,group:"Organ",label:"Church Organ 1"},{number:20,subnumber:1,group:"Organ",label:"Church Organ 2"},{number:20,subnumber:2,group:"Organ",label:"Church Organ 3"},{number:21,subnumber:0,group:"Organ",label:"Reed Organ"},{number:21,subnumber:1,group:"Organ",label:"Puff Organ"},{number:22,subnumber:0,group:"Organ",label:"French Accordion"},{number:22,subnumber:1,group:"Organ",label:"Italian Accordion"},{number:23,subnumber:0,group:"Organ",label:"Harmonica"},{number:24,subnumber:0,group:"Organ",label:"Bandoneon"},{number:25,subnumber:0,group:"Guitar",label:"Nylon-String Guitar"},{number:25,subnumber:1,group:"Guitar",label:"Ukelele"},{number:25,subnumber:2,group:"Guitar",label:"Open Nylon Guitar"},{number:25,subnumber:3,group:"Guitar",label:"Nylon Guitar 2"},{number:26,subnumber:0,group:"Guitar",label:"Steel-String Guitar"},{number:26,subnumber:1,group:"Guitar",label:"12-String Guitar"},{number:26,subnumber:2,group:"Guitar",label:"Mandolin"},{number:26,subnumber:3,group:"Guitar",label:"Steel + Body"},{number:27,subnumber:0,group:"Guitar",label:"Jazz Guitar"},{number:27,subnumber:1,group:"Guitar",label:"Hawaiian Guitar"},{number:28,subnumber:0,group:"Guitar",label:"Clean Electric Guitar"},{number:28,subnumber:1,group:"Guitar",label:"Chorus Guitar"},{number:28,subnumber:2,group:"Guitar",label:"Mid Tone Guitar"},{number:29,subnumber:0,group:"Guitar",label:"Muted Electric Guitar"},{number:29,subnumber:1,group:"Guitar",label:"Funk Guitar"},{number:29,subnumber:2,group:"Guitar",label:"Funk Guitar 2"},{number:29,subnumber:3,group:"Guitar",label:"Jazz Man"},{number:30,subnumber:0,group:"Guitar",label:"Overdriven Guitar"},{number:30,subnumber:1,group:"Guitar",label:"Guitar Pinch"},{number:31,subnumber:0,group:"Guitar",label:"Distortion Guitar"},{number:31,subnumber:1,group:"Guitar",label:"Feedback Guitar"},{number:31,subnumber:2,group:"Guitar",label:"Distortion Rtm Guitar"},{number:32,subnumber:0,group:"Guitar",label:"Guitar Harmonics"},{number:32,subnumber:1,group:"Guitar",label:"Guitar Feedback"},{number:33,subnumber:0,group:"Bass",label:"Acoustic Bass"},{number:34,subnumber:0,group:"Bass",label:"Fingered Bass"},{number:34,subnumber:1,group:"Bass",label:"Finger Slap"},{number:35,subnumber:0,group:"Bass",label:"Picked Bass"},{number:36,subnumber:0,group:"Bass",label:"Fretless Bass"},{number:37,subnumber:0,group:"Bass",label:"Slap Bass 1"},{number:38,subnumber:0,group:"Bass",label:"Slap Bass 2"},{number:39,subnumber:0,group:"Bass",label:"Synth Bass 1"},{number:39,subnumber:1,group:"Bass",label:"Synth Bass 101"},{number:39,subnumber:2,group:"Bass",label:"Synth Bass 3"},{number:39,subnumber:3,group:"Bass",label:"Clavi Bass"},{number:39,subnumber:4,group:"Bass",label:"Hammer"},{number:40,subnumber:0,group:"Bass",label:"Synth Bass 2"},{number:40,subnumber:1,group:"Bass",label:"Synth Bass 4"},{number:40,subnumber:2,group:"Bass",label:"Rubber Bass"},{number:40,subnumber:3,group:"Bass",label:"Attack Pulse"},{number:41,subnumber:0,group:"Strings",label:"Violin"},{number:41,subnumber:1,group:"Strings",label:"Slow Violin"},{number:42,subnumber:0,group:"Strings",label:"Viola"},{number:43,subnumber:0,group:"Strings",label:"Cello"},{number:44,subnumber:0,group:"Strings",label:"Contrabass"},{number:45,subnumber:0,group:"Strings",label:"Tremolo Strings"},{number:46,subnumber:0,group:"Strings",label:"Pizzicato Strings"},{number:47,subnumber:0,group:"Strings",label:"Harp"},{number:47,subnumber:1,group:"Strings",label:"Yang Qin"},{number:48,subnumber:0,group:"Strings",label:"Timpani"},{number:49,subnumber:0,group:"Orchestral Ensemble",label:"String Ensemble"},{number:49,subnumber:1,group:"Orchestral Ensemble",label:"Orchestra Strings"},{number:49,subnumber:2,group:"Orchestral Ensemble",label:"60's Strings"},{number:50,subnumber:0,group:"Orchestral Ensemble",label:"Slow String Ensemble"},{number:51,subnumber:0,group:"Orchestral Ensemble",label:"Synth Strings 1"},{number:51,subnumber:1,group:"Orchestral Ensemble",label:"Synth Strings 3"},{number:52,subnumber:0,group:"Orchestral Ensemble",label:"Synth Strings 2"},{number:53,subnumber:0,group:"Orchestral Ensemble",label:"Choir Aahs"},{number:53,subnumber:1,group:"Orchestral Ensemble",label:"Choir Aahs 2"},{number:54,subnumber:0,group:"Orchestral Ensemble",label:"Voice Oohs"},{number:54,subnumber:1,group:"Orchestral Ensemble",label:"Humming"},{number:55,subnumber:0,group:"Orchestral Ensemble",label:"Synth Voice"},{number:55,subnumber:1,group:"Orchestral Ensemble",label:"Analog Voice"},{number:56,subnumber:0,group:"Orchestral Ensemble",label:"Orchestra Hit"},{number:56,subnumber:1,group:"Orchestral Ensemble",label:"Bass Hit"},{number:56,subnumber:2,group:"Orchestral Ensemble",label:"6th Hit"},{number:56,subnumber:3,group:"Orchestral Ensemble",label:"Euro Hit"},{number:57,subnumber:0,group:"Brass",label:"Trumpet"},{number:57,subnumber:1,group:"Brass",label:"Dark Trumpet"},{number:58,subnumber:0,group:"Brass",label:"Trombone"},{number:58,subnumber:1,group:"Brass",label:"Trombone 2"},{number:58,subnumber:2,group:"Brass",label:"Bright Trombone"},{number:59,subnumber:0,group:"Brass",label:"Tuba"},{number:60,subnumber:0,group:"Brass",label:"Muted Trumpet"},{number:60,subnumber:1,group:"Brass",label:"Muted Trumpet 2"},{number:61,subnumber:0,group:"Brass",label:"French Horn"},{number:61,subnumber:1,group:"Brass",label:"French Horn 2"},{number:62,subnumber:0,group:"Brass",label:"Brass Section"},{number:62,subnumber:1,group:"Brass",label:"Brass Section"},{number:63,subnumber:0,group:"Brass",label:"Synth Brass 1"},{number:63,subnumber:1,group:"Brass",label:"Synth Brass 3"},{number:63,subnumber:2,group:"Brass",label:"Analog Brass 1"},{number:63,subnumber:3,group:"Brass",label:"Jump Brass"},{number:64,subnumber:0,group:"Brass",label:"Synth Brass 2"},{number:64,subnumber:1,group:"Brass",label:"Synth Brass 4"},{number:64,subnumber:2,group:"Brass",label:"Analog Brass 2"},{number:65,subnumber:0,group:"Reed",label:"Soprano Sax"},{number:66,subnumber:0,group:"Reed",label:"Alto Sax"},{number:67,subnumber:0,group:"Reed",label:"Tenor Sax"},{number:68,subnumber:0,group:"Reed",label:"Baritone Sax"},{number:69,subnumber:0,group:"Reed",label:"Oboe"},{number:70,subnumber:0,group:"Reed",label:"English Horn"},{number:71,subnumber:0,group:"Reed",label:"Bassoon"},{number:72,subnumber:0,group:"Reed",label:"Clarinet"},{number:73,subnumber:0,group:"Wind",label:"Piccolo"},{number:74,subnumber:0,group:"Wind",label:"Flute"},{number:75,subnumber:0,group:"Wind",label:"Recorder"},{number:76,subnumber:0,group:"Wind",label:"Pan Flute"},{number:77,subnumber:0,group:"Wind",label:"Blown Bottle"},{number:78,subnumber:0,group:"Wind",label:"Shakuhachi"},{number:79,subnumber:0,group:"Wind",label:"Whistle"},{number:80,subnumber:0,group:"Wind",label:"Ocarina"},{number:81,subnumber:0,group:"Lead",label:"Square Lead"},{number:81,subnumber:1,group:"Lead",label:"Square Wave"},{number:81,subnumber:2,group:"Lead",label:"Sine Wave"},{number:82,subnumber:0,group:"Lead",label:"Saw Lead"},{number:82,subnumber:1,group:"Lead",label:"Saw Wave"},{number:82,subnumber:2,group:"Lead",label:"Doctor Solo"},{number:82,subnumber:3,group:"Lead",label:"Natural Lead"},{number:82,subnumber:4,group:"Lead",label:"Sequenced Saw"},{number:83,subnumber:0,group:"Lead",label:"Synth Calliope"},{number:84,subnumber:0,group:"Lead",label:"Chiffer Lead"},{number:85,subnumber:0,group:"Lead",label:"Charang"},{number:85,subnumber:1,group:"Lead",label:"Wire Lead"},{number:86,subnumber:0,group:"Lead",label:"Solo Synth Vox"},{number:87,subnumber:0,group:"Lead",label:"5th Saw Wave"},{number:88,subnumber:0,group:"Lead",label:"Bass & Lead"},{number:88,subnumber:1,group:"Lead",label:"Delayed Lead"},{number:89,subnumber:0,group:"Synth Pad",label:"Fantasia Pad"},{number:90,subnumber:0,group:"Synth Pad",label:"Warm Pad"},{number:90,subnumber:1,group:"Synth Pad",label:"Sine Pad"},{number:91,subnumber:0,group:"Synth Pad",label:"Polysynth Pad"},{number:92,subnumber:0,group:"Synth Pad",label:"Space Voice Pad"},{number:92,subnumber:1,group:"Synth Pad",label:"Itopia"},{number:93,subnumber:0,group:"Synth Pad",label:"Bowed Glass Pad"},{number:94,subnumber:0,group:"Synth Pad",label:"Metal Pad"},{number:95,subnumber:0,group:"Synth Pad",label:"Halo Pad"},{number:96,subnumber:0,group:"Synth Pad",label:"Sweep Pad"},{number:97,subnumber:0,group:"Synth Effects",label:"Ice Rain"},{number:98,subnumber:0,group:"Synth Effects",label:"Soundtrack"},{number:99,subnumber:0,group:"Synth Effects",label:"Crystal"},{number:99,subnumber:1,group:"Synth Effects",label:"Synth Mallet"},{number:100,subnumber:0,group:"Synth Effects",label:"Atmosphere"},{number:101,subnumber:0,group:"Synth Effects",label:"Brightness"},{number:102,subnumber:0,group:"Synth Effects",label:"Goblin"},{number:103,subnumber:0,group:"Synth Effects",label:"Echo Drops"},{number:103,subnumber:1,group:"Synth Effects",label:"Echo Bell"},{number:103,subnumber:2,group:"Synth Effects",label:"Echo Pan"},{number:104,subnumber:0,group:"Synth Effects",label:"Star Theme"},{number:105,subnumber:0,group:"Ethnic",label:"Sitar"},{number:105,subnumber:1,group:"Ethnic",label:"Sitar 2"},{number:106,subnumber:0,group:"Ethnic",label:"Banjo"},{number:107,subnumber:0,group:"Ethnic",label:"Shamisen"},{number:108,subnumber:0,group:"Ethnic",label:"Koto"},{number:108,subnumber:1,group:"Ethnic",label:"Taisho Koto"},{number:109,subnumber:0,group:"Ethnic",label:"Kalimba"},{number:110,subnumber:0,group:"Ethnic",label:"Bagpipe"},{number:111,subnumber:0,group:"Ethnic",label:"Fiddle"},{number:112,subnumber:0,group:"Ethnic",label:"Shanai"},{number:113,subnumber:0,group:"Percussive",label:"Tinkle Bell"},{number:114,subnumber:0,group:"Percussive",label:"Agogo"},{number:115,subnumber:0,group:"Percussive",label:"Steel Drums"},{number:116,subnumber:0,group:"Percussive",label:"Woodblock"},{number:116,subnumber:1,group:"Percussive",label:"Castanets"},{number:117,subnumber:0,group:"Percussive",label:"Taiko Drum"},{number:117,subnumber:1,group:"Percussive",label:"Concert Bass Drum"},{number:118,subnumber:0,group:"Percussive",label:"Melodic Tom 1"},{number:118,subnumber:1,group:"Percussive",label:"Melodic Tom 2"},{number:119,subnumber:0,group:"Percussive",label:"Synth Drum"},{number:119,subnumber:1,group:"Percussive",label:"808 Tom"},{number:119,subnumber:2,group:"Percussive",label:"Electric Percussion"},{number:120,subnumber:0,group:"Percussive",label:"Reverse Cymbal"},{number:121,subnumber:0,group:"Sound Effects",label:"Guitar Fret Noise"},{number:121,subnumber:1,group:"Sound Effects",label:"Guitar Cut Noise"},{number:121,subnumber:2,group:"Sound Effects",label:"String Slap"},{number:122,subnumber:0,group:"Sound Effects",label:"Breath Noise"},{number:122,subnumber:1,group:"Sound Effects",label:"Flute Key Click"},{number:123,subnumber:0,group:"Sound Effects",label:"Seashore"},{number:123,subnumber:1,group:"Sound Effects",label:"Rain"},{number:123,subnumber:2,group:"Sound Effects",label:"Thunder"},{number:123,subnumber:3,group:"Sound Effects",label:"Wind"},{number:123,subnumber:4,group:"Sound Effects",label:"Stream"},{number:123,subnumber:5,group:"Sound Effects",label:"Bubble"},{number:124,subnumber:0,group:"Sound Effects",label:"Bird Tweet"},{number:124,subnumber:1,group:"Sound Effects",label:"Dog"},{number:124,subnumber:2,group:"Sound Effects",label:"Horse Gallop"},{number:124,subnumber:3,group:"Sound Effects",label:"Bird 2"},{number:125,subnumber:0,group:"Sound Effects",label:"Telephone 1"},{number:125,subnumber:1,group:"Sound Effects",label:"Telephone 2"},{number:125,subnumber:2,group:"Sound Effects",label:"Door Creaking"},{number:125,subnumber:3,group:"Sound Effects",label:"Door Closing"},{number:125,subnumber:4,group:"Sound Effects",label:"Scratch"},{number:125,subnumber:5,group:"Sound Effects",label:"Wind Chimes"},{number:126,subnumber:0,group:"Sound Effects",label:"Helicopter"},{number:126,subnumber:1,group:"Sound Effects",label:"Car Engine"},{number:126,subnumber:2,group:"Sound Effects",label:"Car Stop"},{number:126,subnumber:3,group:"Sound Effects",label:"Car Pass"},{number:126,subnumber:4,group:"Sound Effects",label:"Car Crash"},{number:126,subnumber:5,group:"Sound Effects",label:"Siren"},{number:126,subnumber:6,group:"Sound Effects",label:"Train"},{number:126,subnumber:7,group:"Sound Effects",label:"Jetplane"},{number:126,subnumber:8,group:"Sound Effects",label:"Starship"},{number:126,subnumber:9,group:"Sound Effects",label:"Burst Noise"},{number:127,subnumber:0,group:"Sound Effects",label:"Applause"},{number:127,subnumber:1,group:"Sound Effects",label:"Laughing"},{number:127,subnumber:2,group:"Sound Effects",label:"Screaming"},{number:127,subnumber:3,group:"Sound Effects",label:"Punch"},{number:127,subnumber:4,group:"Sound Effects",label:"Heart Beat"},{number:127,subnumber:5,group:"Sound Effects",label:"Footsteps"},{number:128,subnumber:0,group:"Sound Effects",label:"Gun Shot"},{number:128,subnumber:1,group:"Sound Effects",label:"Machine Gun"},{number:128,subnumber:2,group:"Sound Effects",label:"Lasergun"},{number:128,subnumber:3,group:"Sound Effects",label:"Explosion"}];for(const e of Rs)ck.set(e.pitch,e),uk.set(e.label,e);for(const e of Btt)Ttt.set(e.number,e);for(const e of Rtt){const t=`${e.number}-${e.subnumber}`;Itt.set(t,e)}let Ku=class c6{constructor(t=0,i=0,n=127,a=0,o=null){if(t<0||t>127)throw new Error(`Invalid pitch ${t}`);try{this.name=l6(t).label}catch{throw new Error(`Invalid pitch ${t}`)}this.pitch=t,this.start=i,this.velocity=n,this.channel=a,this.end=o}static from(t){let{pitch:i=0,start:n=0,velocity:a=127,channel:o=0,end:l=null,duration:c=null}=t;if(typeof i=="string"&&Number.isNaN(+i)){const d=r5(i);if(d==null)throw new Error("Invalid pitch for Note.from()");i=d.pitch}return l==null&&c!==null&&!Number.isNaN(c)&&(l=n+c),new c6(i,n,a,o,l)}static startPitchComparator(t,i){return t.start!==i.start?t.start-i.start:t.pitch-i.pitch}clone(){return new c6(this.pitch,this.start,this.velocity,this.channel,this.end)}getDuration(){return this.end===null?0:this.end-this.start}getName(){return this.name}getLetter(){return l6(this.pitch).name}getOctave(){return l6(this.pitch).octave}shiftTime(t){const i=this.clone();return i.start+=t,i.end=i.end===null?null:i.end+t,i}scaleTime(t){const i=this.clone();return i.start*=t,i.end=i.end===null?null:i.end*t,i}overlapsInTime(t){return this.start>=t.start&&this.start<=t.end||this.end>=t.start&&this.end<=t.end}overlapInSeconds(t){if(!this.overlapsInTime(t))return 0;const i=Math.max(this.start,t.start);return Math.min(this.end,t.end)-i}equals(t){return t instanceof c6?this.pitch===t.pitch&&this.start===t.start&&this.velocity===t.velocity&&this.channel===t.channel&&this.end===t.end:!1}toString(t=!1){return t?`Note(n: ${this.name}, p: ${this.pitch}, s: ${this.start}, e: ${this.end}, v: ${this.velocity}, c: ${this.channel})`:`Note(name: ${this.name}, pitch: ${this.pitch}, start: ${this.start}, end: ${this.end}, velocity: ${this.velocity}, channel: ${this.channel})`}};class md extends Ku{constructor(t=0,i=0,n=127,a=0,o=null,l=null,c=null){super(t,i,n,a,o),this.string=l,this.fret=c}static from(t){let{pitch:i=0,start:n=0,velocity:a=127,channel:o=0,end:l=null,string:c=null,fret:d=null}=t;if(typeof i=="string"&&Number.isNaN(+i)){const u=r5(i);if(u==null)throw new Error("Invalid pitch for GuitarNote.from()");i=u.pitch}return new md(i,n,a,o,l,c,d)}static fromNote(t,i,n){return new md(t.pitch,t.start,t.velocity,t.channel,t.end,i,n)}toNote(){return new Ku(this.pitch,this.start,this.velocity,this.channel,this.end)}clone(){return new md(this.pitch,this.start,this.velocity,this.channel,this.end,this.string,this.fret)}equals(t){return t instanceof md?this.pitch===t.pitch&&this.start===t.start&&this.velocity===t.velocity&&this.channel===t.channel&&this.end===t.end&&this.string===t.string&&this.fret===t.fret:!1}toString(t=!1){return t?`GuitarNote(n: ${this.name}, p: ${this.pitch}, s: ${this.start}, e: ${this.end}, v: ${this.velocity}, c: ${this.channel}, s: ${this.string}, f: ${this.fret})`:`GuitarNote(name: ${this.name}, pitch: ${this.pitch}, start: ${this.start}, end: ${this.end}, velocity: ${this.velocity}, channel: ${this.channel}, string: ${this.string}, fret: ${this.fret})`}}function Dtt(e,t){let i;if(t===void 0)for(const n of e)n!=null&&(i>n||i===void 0&&n>=n)&&(i=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(i>a||i===void 0&&a>=a)&&(i=a)}return i}var Ptt={value:()=>{}};function dk(){for(var e=0,t=arguments.length,i={},n;e<t;++e){if(!(n=arguments[e]+"")||n in i||/[\s.]/.test(n))throw new Error("illegal type: "+n);i[n]=[]}return new u6(i)}function u6(e){this._=e}function ktt(e,t){return e.trim().split(/^|\s+/).map(function(i){var n="",a=i.indexOf(".");if(a>=0&&(n=i.slice(a+1),i=i.slice(0,a)),i&&!t.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:n}})}u6.prototype=dk.prototype={constructor:u6,on:function(e,t){var i=this._,n=ktt(e+"",i),a,o=-1,l=n.length;if(arguments.length<2){for(;++o<l;)if((a=(e=n[o]).type)&&(a=Ltt(i[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(a=(e=n[o]).type)i[a]=xw(i[a],e.name,t);else if(t==null)for(a in i)i[a]=xw(i[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var i in t)e[i]=t[i].slice();return new u6(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var i=new Array(a),n=0,a,o;n<a;++n)i[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,a=o.length;n<a;++n)o[n].value.apply(t,i)},apply:function(e,t,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,o=n.length;a<o;++a)n[a].value.apply(t,i)}};function Ltt(e,t){for(var i=0,n=e.length,a;i<n;++i)if((a=e[i]).name===t)return a.value}function xw(e,t,i){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=Ptt,e=e.slice(0,n).concat(e.slice(n+1));break}return i!=null&&e.push({name:t,value:i}),e}var VM="http://www.w3.org/1999/xhtml";const Tw={svg:"http://www.w3.org/2000/svg",xhtml:VM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function a5(e){var t=e+="",i=t.indexOf(":");return i>=0&&(t=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),Tw.hasOwnProperty(t)?{space:Tw[t],local:e}:e}function Ntt(e){return function(){var t=this.ownerDocument,i=this.namespaceURI;return i===VM&&t.documentElement.namespaceURI===VM?t.createElement(e):t.createElementNS(i,e)}}function Ftt(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function hk(e){var t=a5(e);return(t.local?Ftt:Ntt)(t)}function Utt(){}function AA(e){return e==null?Utt:function(){return this.querySelector(e)}}function Jtt(e){typeof e!="function"&&(e=AA(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var o=t[a],l=o.length,c=n[a]=new Array(l),d,u,h=0;h<l;++h)(d=o[h])&&(u=e.call(d,d.__data__,h,o))&&("__data__"in d&&(u.__data__=d.__data__),c[h]=u);return new Io(n,this._parents)}function fk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $tt(){return[]}function mk(e){return e==null?$tt:function(){return this.querySelectorAll(e)}}function Gtt(e){return function(){var t=e.apply(this,arguments);return t==null?[]:fk(t)}}function Htt(e){typeof e=="function"?e=Gtt(e):e=mk(e);for(var t=this._groups,i=t.length,n=[],a=[],o=0;o<i;++o)for(var l=t[o],c=l.length,d,u=0;u<c;++u)(d=l[u])&&(n.push(e.call(d,d.__data__,u,l)),a.push(d));return new Io(n,a)}function pk(e){return function(){return this.matches(e)}}function gk(e){return function(t){return t.matches(e)}}var Vtt=Array.prototype.find;function Qtt(e){return function(){return Vtt.call(this.children,e)}}function ztt(){return this.firstElementChild}function jtt(e){return this.select(e==null?ztt:Qtt(typeof e=="function"?e:gk(e)))}var Wtt=Array.prototype.filter;function Ktt(){return this.children}function qtt(e){return function(){return Wtt.call(this.children,e)}}function Xtt(e){return this.selectAll(e==null?Ktt:qtt(typeof e=="function"?e:gk(e)))}function Ytt(e){typeof e!="function"&&(e=pk(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var o=t[a],l=o.length,c=n[a]=[],d,u=0;u<l;++u)(d=o[u])&&e.call(d,d.__data__,u,o)&&c.push(d);return new Io(n,this._parents)}function Mk(e){return new Array(e.length)}function Ztt(){return new Io(this._enter||this._groups.map(Mk),this._parents)}function Z6(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Z6.prototype={constructor:Z6,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function tet(e){return function(){return e}}function eet(e,t,i,n,a,o){for(var l=0,c,d=t.length,u=o.length;l<u;++l)(c=t[l])?(c.__data__=o[l],n[l]=c):i[l]=new Z6(e,o[l]);for(;l<d;++l)(c=t[l])&&(a[l]=c)}function iet(e,t,i,n,a,o,l){var c,d,u=new Map,h=t.length,p=o.length,f=new Array(h),M;for(c=0;c<h;++c)(d=t[c])&&(f[c]=M=l.call(d,d.__data__,c,t)+"",u.has(M)?a[c]=d:u.set(M,d));for(c=0;c<p;++c)M=l.call(e,o[c],c,o)+"",(d=u.get(M))?(n[c]=d,d.__data__=o[c],u.delete(M)):i[c]=new Z6(e,o[c]);for(c=0;c<h;++c)(d=t[c])&&u.get(f[c])===d&&(a[c]=d)}function net(e){return e.__data__}function ret(e,t){if(!arguments.length)return Array.from(this,net);var i=t?iet:eet,n=this._parents,a=this._groups;typeof e!="function"&&(e=tet(e));for(var o=a.length,l=new Array(o),c=new Array(o),d=new Array(o),u=0;u<o;++u){var h=n[u],p=a[u],f=p.length,M=fk(e.call(h,h&&h.__data__,u,n)),g=M.length,y=c[u]=new Array(g),b=l[u]=new Array(g),v=d[u]=new Array(f);i(h,p,y,b,v,M,t);for(var C=0,w=0,_,E;C<g;++C)if(_=y[C]){for(C>=w&&(w=C+1);!(E=b[w])&&++w<g;);_._next=E||null}}return l=new Io(l,n),l._enter=c,l._exit=d,l}function aet(){return new Io(this._exit||this._groups.map(Mk),this._parents)}function oet(e,t,i){var n=this.enter(),a=this,o=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(a=t(a)),i==null?o.remove():i(o),n&&a?n.merge(a).order():a}function set(e){if(!(e instanceof Io))throw new Error("invalid merge");for(var t=this._groups,i=e._groups,n=t.length,a=i.length,o=Math.min(n,a),l=new Array(n),c=0;c<o;++c)for(var d=t[c],u=i[c],h=d.length,p=l[c]=new Array(h),f,M=0;M<h;++M)(f=d[M]||u[M])&&(p[M]=f);for(;c<n;++c)l[c]=t[c];return new Io(l,this._parents)}function cet(){for(var e=this._groups,t=-1,i=e.length;++t<i;)for(var n=e[t],a=n.length-1,o=n[a],l;--a>=0;)(l=n[a])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function uet(e){e||(e=det);function t(p,f){return p&&f?e(p.__data__,f.__data__):!p-!f}for(var i=this._groups,n=i.length,a=new Array(n),o=0;o<n;++o){for(var l=i[o],c=l.length,d=a[o]=new Array(c),u,h=0;h<c;++h)(u=l[h])&&(d[h]=u);d.sort(t)}return new Io(a,this._parents).order()}function det(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function het(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function fet(){return Array.from(this)}function met(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,o=n.length;a<o;++a){var l=n[a];if(l)return l}return null}function pet(){let e=0;for(const t of this)++e;return e}function get(){return!this.node()}function Met(e){for(var t=this._groups,i=0,n=t.length;i<n;++i)for(var a=t[i],o=0,l=a.length,c;o<l;++o)(c=a[o])&&e.call(c,c.__data__,o,a);return this}function yet(e){return function(){this.removeAttribute(e)}}function Aet(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vet(e,t){return function(){this.setAttribute(e,t)}}function bet(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Cet(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function _et(e,t){return function(){var i=t.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function Eet(e,t){var i=a5(e);if(arguments.length<2){var n=this.node();return i.local?n.getAttributeNS(i.space,i.local):n.getAttribute(i)}return this.each((t==null?i.local?Aet:yet:typeof t=="function"?i.local?_et:Cet:i.local?bet:vet)(i,t))}function yk(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wet(e){return function(){this.style.removeProperty(e)}}function Oet(e,t,i){return function(){this.style.setProperty(e,t,i)}}function xet(e,t,i){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,i)}}function Tet(e,t,i){return arguments.length>1?this.each((t==null?wet:typeof t=="function"?xet:Oet)(e,t,i??"")):th(this.node(),e)}function th(e,t){return e.style.getPropertyValue(t)||yk(e).getComputedStyle(e,null).getPropertyValue(t)}function Iet(e){return function(){delete this[e]}}function Bet(e,t){return function(){this[e]=t}}function Ret(e,t){return function(){var i=t.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function Det(e,t){return arguments.length>1?this.each((t==null?Iet:typeof t=="function"?Ret:Bet)(e,t)):this.node()[e]}function Ak(e){return e.trim().split(/^|\s+/)}function vA(e){return e.classList||new vk(e)}function vk(e){this._node=e,this._names=Ak(e.getAttribute("class")||"")}vk.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function bk(e,t){for(var i=vA(e),n=-1,a=t.length;++n<a;)i.add(t[n])}function Ck(e,t){for(var i=vA(e),n=-1,a=t.length;++n<a;)i.remove(t[n])}function Pet(e){return function(){bk(this,e)}}function ket(e){return function(){Ck(this,e)}}function Let(e,t){return function(){(t.apply(this,arguments)?bk:Ck)(this,e)}}function Net(e,t){var i=Ak(e+"");if(arguments.length<2){for(var n=vA(this.node()),a=-1,o=i.length;++a<o;)if(!n.contains(i[a]))return!1;return!0}return this.each((typeof t=="function"?Let:t?Pet:ket)(i,t))}function Fet(){this.textContent=""}function Uet(e){return function(){this.textContent=e}}function Jet(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function $et(e){return arguments.length?this.each(e==null?Fet:(typeof e=="function"?Jet:Uet)(e)):this.node().textContent}function Get(){this.innerHTML=""}function Het(e){return function(){this.innerHTML=e}}function Vet(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Qet(e){return arguments.length?this.each(e==null?Get:(typeof e=="function"?Vet:Het)(e)):this.node().innerHTML}function zet(){this.nextSibling&&this.parentNode.appendChild(this)}function jet(){return this.each(zet)}function Wet(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ket(){return this.each(Wet)}function qet(e){var t=typeof e=="function"?e:hk(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Xet(){return null}function Yet(e,t){var i=typeof e=="function"?e:hk(e),n=t==null?Xet:typeof t=="function"?t:AA(t);return this.select(function(){return this.insertBefore(i.apply(this,arguments),n.apply(this,arguments)||null)})}function Zet(){var e=this.parentNode;e&&e.removeChild(this)}function tit(){return this.each(Zet)}function eit(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function iit(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nit(e){return this.select(e?iit:eit)}function rit(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ait(e){return function(t){e.call(this,t,this.__data__)}}function oit(e){return e.trim().split(/^|\s+/).map(function(t){var i="",n=t.indexOf(".");return n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),{type:t,name:i}})}function sit(e){return function(){var t=this.__on;if(t){for(var i=0,n=-1,a=t.length,o;i<a;++i)o=t[i],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function lit(e,t,i){return function(){var n=this.__on,a,o=ait(t);if(n){for(var l=0,c=n.length;l<c;++l)if((a=n[l]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=i),a.value=t;return}}this.addEventListener(e.type,o,i),a={type:e.type,name:e.name,value:t,listener:o,options:i},n?n.push(a):this.__on=[a]}}function cit(e,t,i){var n=oit(e+""),a,o=n.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,u=c.length,h;d<u;++d)for(a=0,h=c[d];a<o;++a)if((l=n[a]).type===h.type&&l.name===h.name)return h.value}return}for(c=t?lit:sit,a=0;a<o;++a)this.each(c(n[a],t,i));return this}function _k(e,t,i){var n=yk(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,i):(a=n.document.createEvent("Event"),i?(a.initEvent(t,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function uit(e,t){return function(){return _k(this,e,t)}}function dit(e,t){return function(){return _k(this,e,t.apply(this,arguments))}}function hit(e,t){return this.each((typeof t=="function"?dit:uit)(e,t))}function*fit(){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var n=e[t],a=0,o=n.length,l;a<o;++a)(l=n[a])&&(yield l)}var mit=[null];function Io(e,t){this._groups=e,this._parents=t}function g3(){return new Io([[document.documentElement]],mit)}function pit(){return this}Io.prototype=g3.prototype={constructor:Io,select:Jtt,selectAll:Htt,selectChild:jtt,selectChildren:Xtt,filter:Ytt,data:ret,enter:Ztt,exit:aet,join:oet,merge:set,selection:pit,order:cet,sort:uet,call:het,nodes:fet,node:met,size:pet,empty:get,each:Met,attr:Eet,style:Tet,property:Det,classed:Net,text:$et,html:Qet,raise:jet,lower:Ket,append:qet,insert:Yet,remove:tit,clone:nit,datum:rit,on:cit,dispatch:hit,[Symbol.iterator]:fit};function bA(e,t,i){e.prototype=t.prototype=i,i.constructor=e}function Ek(e,t){var i=Object.create(e.prototype);for(var n in t)i[n]=t[n];return i}function M3(){}var _f=.7,t8=1/_f,Td="\\s*([+-]?\\d+)\\s*",Ef="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Is="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",git=/^#([0-9a-f]{3,8})$/,Mit=new RegExp("^rgb\\("+[Td,Td,Td]+"\\)$"),yit=new RegExp("^rgb\\("+[Is,Is,Is]+"\\)$"),Ait=new RegExp("^rgba\\("+[Td,Td,Td,Ef]+"\\)$"),vit=new RegExp("^rgba\\("+[Is,Is,Is,Ef]+"\\)$"),bit=new RegExp("^hsl\\("+[Ef,Is,Is]+"\\)$"),Cit=new RegExp("^hsla\\("+[Ef,Is,Is,Ef]+"\\)$"),Iw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bA(M3,eh,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Bw,formatHex:Bw,formatHsl:_it,formatRgb:Rw,toString:Rw});function Bw(){return this.rgb().formatHex()}function _it(){return wk(this).formatHsl()}function Rw(){return this.rgb().formatRgb()}function eh(e){var t,i;return e=(e+"").trim().toLowerCase(),(t=git.exec(e))?(i=t[1].length,t=parseInt(t[1],16),i===6?Dw(t):i===3?new Za(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):i===8?D4(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):i===4?D4(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mit.exec(e))?new Za(t[1],t[2],t[3],1):(t=yit.exec(e))?new Za(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ait.exec(e))?D4(t[1],t[2],t[3],t[4]):(t=vit.exec(e))?D4(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bit.exec(e))?Lw(t[1],t[2]/100,t[3]/100,1):(t=Cit.exec(e))?Lw(t[1],t[2]/100,t[3]/100,t[4]):Iw.hasOwnProperty(e)?Dw(Iw[e]):e==="transparent"?new Za(NaN,NaN,NaN,0):null}function Dw(e){return new Za(e>>16&255,e>>8&255,e&255,1)}function D4(e,t,i,n){return n<=0&&(e=t=i=NaN),new Za(e,t,i,n)}function Eit(e){return e instanceof M3||(e=eh(e)),e?(e=e.rgb(),new Za(e.r,e.g,e.b,e.opacity)):new Za}function QM(e,t,i,n){return arguments.length===1?Eit(e):new Za(e,t,i,n??1)}function Za(e,t,i,n){this.r=+e,this.g=+t,this.b=+i,this.opacity=+n}bA(Za,QM,Ek(M3,{brighter:function(e){return e=e==null?t8:Math.pow(t8,e),new Za(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?_f:Math.pow(_f,e),new Za(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pw,formatHex:Pw,formatRgb:kw,toString:kw}));function Pw(){return"#"+Eg(this.r)+Eg(this.g)+Eg(this.b)}function kw(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Eg(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Lw(e,t,i,n){return n<=0?e=t=i=NaN:i<=0||i>=1?e=t=NaN:t<=0&&(e=NaN),new _s(e,t,i,n)}function wk(e){if(e instanceof _s)return new _s(e.h,e.s,e.l,e.opacity);if(e instanceof M3||(e=eh(e)),!e)return new _s;if(e instanceof _s)return e;e=e.rgb();var t=e.r/255,i=e.g/255,n=e.b/255,a=Math.min(t,i,n),o=Math.max(t,i,n),l=NaN,c=o-a,d=(o+a)/2;return c?(t===o?l=(i-n)/c+(i<n)*6:i===o?l=(n-t)/c+2:l=(t-i)/c+4,c/=d<.5?o+a:2-o-a,l*=60):c=d>0&&d<1?0:l,new _s(l,c,d,e.opacity)}function Ok(e,t,i,n){return arguments.length===1?wk(e):new _s(e,t,i,n??1)}function _s(e,t,i,n){this.h=+e,this.s=+t,this.l=+i,this.opacity=+n}bA(_s,Ok,Ek(M3,{brighter:function(e){return e=e==null?t8:Math.pow(t8,e),new _s(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?_f:Math.pow(_f,e),new _s(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,n=i+(i<.5?i:1-i)*t,a=2*i-n;return new Za(wg(e>=240?e-240:e+120,a,n),wg(e,a,n),wg(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function wg(e,t,i){return(e<60?t+(i-t)*e/60:e<180?i:e<240?t+(i-t)*(240-e)/60:t)*255}const Sk=e=>()=>e;function wit(e,t){return function(i){return e+i*t}}function Oit(e,t,i){return e=Math.pow(e,i),t=Math.pow(t,i)-e,i=1/i,function(n){return Math.pow(e+n*t,i)}}function Sit(e){return(e=+e)==1?xk:function(t,i){return i-t?Oit(t,i,e):Sk(isNaN(t)?i:t)}}function xk(e,t){var i=t-e;return i?wit(e,i):Sk(isNaN(e)?t:e)}const zM=function e(t){var i=Sit(t);function n(a,o){var l=i((a=QM(a)).r,(o=QM(o)).r),c=i(a.g,o.g),d=i(a.b,o.b),u=xk(a.opacity,o.opacity);return function(h){return a.r=l(h),a.g=c(h),a.b=d(h),a.opacity=u(h),a+""}}return n.gamma=e,n}(1);function fc(e,t){return e=+e,t=+t,function(i){return e*(1-i)+t*i}}var jM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Og=new RegExp(jM.source,"g");function xit(e){return function(){return e}}function Tit(e){return function(t){return e(t)+""}}function Iit(e,t){var i=jM.lastIndex=Og.lastIndex=0,n,a,o,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=jM.exec(e))&&(a=Og.exec(t));)(o=a.index)>i&&(o=t.slice(i,o),c[l]?c[l]+=o:c[++l]=o),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:fc(n,a)})),i=Og.lastIndex;return i<t.length&&(o=t.slice(i),c[l]?c[l]+=o:c[++l]=o),c.length<2?d[0]?Tit(d[0].x):xit(t):(t=d.length,function(u){for(var h=0,p;h<t;++h)c[(p=d[h]).i]=p.x(u);return c.join("")})}var Nw=180/Math.PI,WM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Tk(e,t,i,n,a,o){var l,c,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*i+t*n)&&(i-=e*d,n-=t*d),(c=Math.sqrt(i*i+n*n))&&(i/=c,n/=c,d/=c),e*n<t*i&&(e=-e,t=-t,d=-d,l=-l),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*Nw,skewX:Math.atan(d)*Nw,scaleX:l,scaleY:c}}var P4;function Bit(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?WM:Tk(t.a,t.b,t.c,t.d,t.e,t.f)}function Rit(e){return e==null||(P4||(P4=document.createElementNS("http://www.w3.org/2000/svg","g")),P4.setAttribute("transform",e),!(e=P4.transform.baseVal.consolidate()))?WM:(e=e.matrix,Tk(e.a,e.b,e.c,e.d,e.e,e.f))}function Ik(e,t,i,n){function a(u){return u.length?u.pop()+" ":""}function o(u,h,p,f,M,g){if(u!==p||h!==f){var y=M.push("translate(",null,t,null,i);g.push({i:y-4,x:fc(u,p)},{i:y-2,x:fc(h,f)})}else(p||f)&&M.push("translate("+p+t+f+i)}function l(u,h,p,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:p.push(a(p)+"rotate(",null,n)-2,x:fc(u,h)})):h&&p.push(a(p)+"rotate("+h+n)}function c(u,h,p,f){u!==h?f.push({i:p.push(a(p)+"skewX(",null,n)-2,x:fc(u,h)}):h&&p.push(a(p)+"skewX("+h+n)}function d(u,h,p,f,M,g){if(u!==p||h!==f){var y=M.push(a(M)+"scale(",null,",",null,")");g.push({i:y-4,x:fc(u,p)},{i:y-2,x:fc(h,f)})}else(p!==1||f!==1)&&M.push(a(M)+"scale("+p+","+f+")")}return function(u,h){var p=[],f=[];return u=e(u),h=e(h),o(u.translateX,u.translateY,h.translateX,h.translateY,p,f),l(u.rotate,h.rotate,p,f),c(u.skewX,h.skewX,p,f),d(u.scaleX,u.scaleY,h.scaleX,h.scaleY,p,f),u=h=null,function(M){for(var g=-1,y=f.length,b;++g<y;)p[(b=f[g]).i]=b.x(M);return p.join("")}}}var Dit=Ik(Bit,"px, ","px)","deg)"),Pit=Ik(Rit,", ",")",")"),ih=0,H2=0,T2=0,Bk=1e3,e8,V2,i8=0,u1=0,o5=0,wf=typeof performance=="object"&&performance.now?performance:Date,Rk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function CA(){return u1||(Rk(kit),u1=wf.now()+o5)}function kit(){u1=0}function n8(){this._call=this._time=this._next=null}n8.prototype=Dk.prototype={constructor:n8,restart:function(e,t,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?CA():+i)+(t==null?0:+t),!this._next&&V2!==this&&(V2?V2._next=this:e8=this,V2=this),this._call=e,this._time=i,KM()},stop:function(){this._call&&(this._call=null,this._time=1/0,KM())}};function Dk(e,t,i){var n=new n8;return n.restart(e,t,i),n}function Lit(){CA(),++ih;for(var e=e8,t;e;)(t=u1-e._time)>=0&&e._call.call(null,t),e=e._next;--ih}function Fw(){u1=(i8=wf.now())+o5,ih=H2=0;try{Lit()}finally{ih=0,Fit(),u1=0}}function Nit(){var e=wf.now(),t=e-i8;t>Bk&&(o5-=t,i8=e)}function Fit(){for(var e,t=e8,i,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(i=t._next,t._next=null,t=e?e._next=i:e8=i);V2=e,KM(n)}function KM(e){if(!ih){H2&&(H2=clearTimeout(H2));var t=e-u1;t>24?(e<1/0&&(H2=setTimeout(Fw,e-wf.now()-o5)),T2&&(T2=clearInterval(T2))):(T2||(i8=wf.now(),T2=setInterval(Nit,Bk)),ih=1,Rk(Fw))}}function Uw(e,t,i){var n=new n8;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,i),n}var Uit=dk("start","end","cancel","interrupt"),Jit=[],Pk=0,Jw=1,qM=2,d6=3,$w=4,XM=5,h6=6;function s5(e,t,i,n,a,o){var l=e.__transition;if(!l)e.__transition={};else if(i in l)return;$it(e,i,{name:t,index:n,group:a,on:Uit,tween:Jit,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Pk})}function _A(e,t){var i=rs(e,t);if(i.state>Pk)throw new Error("too late; already scheduled");return i}function Js(e,t){var i=rs(e,t);if(i.state>d6)throw new Error("too late; already running");return i}function rs(e,t){var i=e.__transition;if(!i||!(i=i[t]))throw new Error("transition not found");return i}function $it(e,t,i){var n=e.__transition,a;n[t]=i,i.timer=Dk(o,0,i.time);function o(u){i.state=Jw,i.timer.restart(l,i.delay,i.time),i.delay<=u&&l(u-i.delay)}function l(u){var h,p,f,M;if(i.state!==Jw)return d();for(h in n)if(M=n[h],M.name===i.name){if(M.state===d6)return Uw(l);M.state===$w?(M.state=h6,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete n[h]):+h<t&&(M.state=h6,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete n[h])}if(Uw(function(){i.state===d6&&(i.state=$w,i.timer.restart(c,i.delay,i.time),c(u))}),i.state=qM,i.on.call("start",e,e.__data__,i.index,i.group),i.state===qM){for(i.state=d6,a=new Array(f=i.tween.length),h=0,p=-1;h<f;++h)(M=i.tween[h].value.call(e,e.__data__,i.index,i.group))&&(a[++p]=M);a.length=p+1}}function c(u){for(var h=u<i.duration?i.ease.call(null,u/i.duration):(i.timer.restart(d),i.state=XM,1),p=-1,f=a.length;++p<f;)a[p].call(e,h);i.state===XM&&(i.on.call("end",e,e.__data__,i.index,i.group),d())}function d(){i.state=h6,i.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function Git(e,t){var i=e.__transition,n,a,o=!0,l;if(i){t=t==null?null:t+"";for(l in i){if((n=i[l]).name!==t){o=!1;continue}a=n.state>qM&&n.state<XM,n.state=h6,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[l]}o&&delete e.__transition}}function Hit(e){return this.each(function(){Git(this,e)})}function Vit(e,t){var i,n;return function(){var a=Js(this,e),o=a.tween;if(o!==i){n=i=o;for(var l=0,c=n.length;l<c;++l)if(n[l].name===t){n=n.slice(),n.splice(l,1);break}}a.tween=n}}function Qit(e,t,i){var n,a;if(typeof i!="function")throw new Error;return function(){var o=Js(this,e),l=o.tween;if(l!==n){a=(n=l).slice();for(var c={name:t,value:i},d=0,u=a.length;d<u;++d)if(a[d].name===t){a[d]=c;break}d===u&&a.push(c)}o.tween=a}}function zit(e,t){var i=this._id;if(e+="",arguments.length<2){for(var n=rs(this.node(),i).tween,a=0,o=n.length,l;a<o;++a)if((l=n[a]).name===e)return l.value;return null}return this.each((t==null?Vit:Qit)(i,e,t))}function EA(e,t,i){var n=e._id;return e.each(function(){var a=Js(this,n);(a.value||(a.value={}))[t]=i.apply(this,arguments)}),function(a){return rs(a,n).value[t]}}function kk(e,t){var i;return(typeof t=="number"?fc:t instanceof eh?zM:(i=eh(t))?(t=i,zM):Iit)(e,t)}function jit(e){return function(){this.removeAttribute(e)}}function Wit(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kit(e,t,i){var n,a=i+"",o;return function(){var l=this.getAttribute(e);return l===a?null:l===n?o:o=t(n=l,i)}}function qit(e,t,i){var n,a=i+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===n?o:o=t(n=l,i)}}function Xit(e,t,i){var n,a,o;return function(){var l,c=i(this),d;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=c+"",l===d?null:l===n&&d===a?o:(a=d,o=t(n=l,c)))}}function Yit(e,t,i){var n,a,o;return function(){var l,c=i(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=c+"",l===d?null:l===n&&d===a?o:(a=d,o=t(n=l,c)))}}function Zit(e,t){var i=a5(e),n=i==="transform"?Pit:kk;return this.attrTween(e,typeof t=="function"?(i.local?Yit:Xit)(i,n,EA(this,"attr."+e,t)):t==null?(i.local?Wit:jit)(i):(i.local?qit:Kit)(i,n,t))}function tnt(e,t){return function(i){this.setAttribute(e,t.call(this,i))}}function ent(e,t){return function(i){this.setAttributeNS(e.space,e.local,t.call(this,i))}}function int(e,t){var i,n;function a(){var o=t.apply(this,arguments);return o!==n&&(i=(n=o)&&ent(e,o)),i}return a._value=t,a}function nnt(e,t){var i,n;function a(){var o=t.apply(this,arguments);return o!==n&&(i=(n=o)&&tnt(e,o)),i}return a._value=t,a}function rnt(e,t){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(t==null)return this.tween(i,null);if(typeof t!="function")throw new Error;var n=a5(e);return this.tween(i,(n.local?int:nnt)(n,t))}function ant(e,t){return function(){_A(this,e).delay=+t.apply(this,arguments)}}function ont(e,t){return t=+t,function(){_A(this,e).delay=t}}function snt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ant:ont)(t,e)):rs(this.node(),t).delay}function lnt(e,t){return function(){Js(this,e).duration=+t.apply(this,arguments)}}function cnt(e,t){return t=+t,function(){Js(this,e).duration=t}}function unt(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lnt:cnt)(t,e)):rs(this.node(),t).duration}function dnt(e,t){if(typeof t!="function")throw new Error;return function(){Js(this,e).ease=t}}function hnt(e){var t=this._id;return arguments.length?this.each(dnt(t,e)):rs(this.node(),t).ease}function fnt(e,t){return function(){var i=t.apply(this,arguments);if(typeof i!="function")throw new Error;Js(this,e).ease=i}}function mnt(e){if(typeof e!="function")throw new Error;return this.each(fnt(this._id,e))}function pnt(e){typeof e!="function"&&(e=pk(e));for(var t=this._groups,i=t.length,n=new Array(i),a=0;a<i;++a)for(var o=t[a],l=o.length,c=n[a]=[],d,u=0;u<l;++u)(d=o[u])&&e.call(d,d.__data__,u,o)&&c.push(d);return new Dl(n,this._parents,this._name,this._id)}function gnt(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,i=e._groups,n=t.length,a=i.length,o=Math.min(n,a),l=new Array(n),c=0;c<o;++c)for(var d=t[c],u=i[c],h=d.length,p=l[c]=new Array(h),f,M=0;M<h;++M)(f=d[M]||u[M])&&(p[M]=f);for(;c<n;++c)l[c]=t[c];return new Dl(l,this._parents,this._name,this._id)}function Mnt(e){return(e+"").trim().split(/^|\s+/).every(function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||t==="start"})}function ynt(e,t,i){var n,a,o=Mnt(t)?_A:Js;return function(){var l=o(this,e),c=l.on;c!==n&&(a=(n=c).copy()).on(t,i),l.on=a}}function Ant(e,t){var i=this._id;return arguments.length<2?rs(this.node(),i).on.on(e):this.each(ynt(i,e,t))}function vnt(e){return function(){var t=this.parentNode;for(var i in this.__transition)if(+i!==e)return;t&&t.removeChild(this)}}function bnt(){return this.on("end.remove",vnt(this._id))}function Cnt(e){var t=this._name,i=this._id;typeof e!="function"&&(e=AA(e));for(var n=this._groups,a=n.length,o=new Array(a),l=0;l<a;++l)for(var c=n[l],d=c.length,u=o[l]=new Array(d),h,p,f=0;f<d;++f)(h=c[f])&&(p=e.call(h,h.__data__,f,c))&&("__data__"in h&&(p.__data__=h.__data__),u[f]=p,s5(u[f],t,i,f,u,rs(h,i)));return new Dl(o,this._parents,t,i)}function _nt(e){var t=this._name,i=this._id;typeof e!="function"&&(e=mk(e));for(var n=this._groups,a=n.length,o=[],l=[],c=0;c<a;++c)for(var d=n[c],u=d.length,h,p=0;p<u;++p)if(h=d[p]){for(var f=e.call(h,h.__data__,p,d),M,g=rs(h,i),y=0,b=f.length;y<b;++y)(M=f[y])&&s5(M,t,i,y,f,g);o.push(f),l.push(h)}return new Dl(o,l,t,i)}var Ent=g3.prototype.constructor;function wnt(){return new Ent(this._groups,this._parents)}function Ont(e,t){var i,n,a;return function(){var o=th(this,e),l=(this.style.removeProperty(e),th(this,e));return o===l?null:o===i&&l===n?a:a=t(i=o,n=l)}}function Lk(e){return function(){this.style.removeProperty(e)}}function Snt(e,t,i){var n,a=i+"",o;return function(){var l=th(this,e);return l===a?null:l===n?o:o=t(n=l,i)}}function xnt(e,t,i){var n,a,o;return function(){var l=th(this,e),c=i(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),th(this,e))),l===d?null:l===n&&d===a?o:(a=d,o=t(n=l,c))}}function Tnt(e,t){var i,n,a,o="style."+t,l="end."+o,c;return function(){var d=Js(this,e),u=d.on,h=d.value[o]==null?c||(c=Lk(t)):void 0;(u!==i||a!==h)&&(n=(i=u).copy()).on(l,a=h),d.on=n}}function Int(e,t,i){var n=(e+="")=="transform"?Dit:kk;return t==null?this.styleTween(e,Ont(e,n)).on("end.style."+e,Lk(e)):typeof t=="function"?this.styleTween(e,xnt(e,n,EA(this,"style."+e,t))).each(Tnt(this._id,e)):this.styleTween(e,Snt(e,n,t),i).on("end.style."+e,null)}function Bnt(e,t,i){return function(n){this.style.setProperty(e,t.call(this,n),i)}}function Rnt(e,t,i){var n,a;function o(){var l=t.apply(this,arguments);return l!==a&&(n=(a=l)&&Bnt(e,l,i)),n}return o._value=t,o}function Dnt(e,t,i){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Rnt(e,t,i??""))}function Pnt(e){return function(){this.textContent=e}}function knt(e){return function(){var t=e(this);this.textContent=t??""}}function Lnt(e){return this.tween("text",typeof e=="function"?knt(EA(this,"text",e)):Pnt(e==null?"":e+""))}function Nnt(e){return function(t){this.textContent=e.call(this,t)}}function Fnt(e){var t,i;function n(){var a=e.apply(this,arguments);return a!==i&&(t=(i=a)&&Nnt(a)),t}return n._value=e,n}function Unt(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Fnt(e))}function Jnt(){for(var e=this._name,t=this._id,i=Nk(),n=this._groups,a=n.length,o=0;o<a;++o)for(var l=n[o],c=l.length,d,u=0;u<c;++u)if(d=l[u]){var h=rs(d,t);s5(d,e,i,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Dl(n,this._parents,e,i)}function $nt(){var e,t,i=this,n=i._id,a=i.size();return new Promise(function(o,l){var c={value:l},d={value:function(){--a===0&&o()}};i.each(function(){var u=Js(this,n),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(d)),u.on=t}),a===0&&o()})}var Gnt=0;function Dl(e,t,i,n){this._groups=e,this._parents=t,this._name=i,this._id=n}function Nk(){return++Gnt}var Ru=g3.prototype;Dl.prototype={constructor:Dl,select:Cnt,selectAll:_nt,filter:pnt,merge:gnt,selection:wnt,transition:Jnt,call:Ru.call,nodes:Ru.nodes,node:Ru.node,size:Ru.size,empty:Ru.empty,each:Ru.each,on:Ant,attr:Zit,attrTween:rnt,style:Int,styleTween:Dnt,text:Lnt,textTween:Unt,remove:bnt,tween:zit,delay:snt,duration:unt,ease:hnt,easeVarying:mnt,end:$nt,[Symbol.iterator]:Ru[Symbol.iterator]};function Hnt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Vnt={time:null,delay:0,duration:250,ease:Hnt};function Qnt(e,t){for(var i;!(i=e.__transition)||!(i=i[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return i}function znt(e){var t,i;e instanceof Dl?(t=e._id,e=e._name):(t=Nk(),(i=Vnt).time=CA(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,o=0;o<a;++o)for(var l=n[o],c=l.length,d,u=0;u<c;++u)(d=l[u])&&s5(d,e,t,u,l,i||Qnt(d,t));return new Dl(n,this._parents,e,t)}g3.prototype.interrupt=Hit;g3.prototype.transition=znt;function Q2(e,t,i){this.k=e,this.x=t,this.y=i}Q2.prototype={constructor:Q2,scale:function(e){return e===1?this:new Q2(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Q2(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Q2.prototype;function jnt(e,t,i){return Math.max(t,Math.min(i,e))}class Nu{constructor(t=[],i=!1){i?this._notes=t:this._notes=t.map(n=>n.string!==void 0&&n.fret!==void 0?md.from(n):Ku.from(n))}getNotes(){return this._notes}setNotes(t){return this._notes=t,this}*[Symbol.iterator](){for(const t of this._notes)yield t}addNotes(t,i=!0){return this._notes=[...this._notes,...t],i&&this.sortByTime(),this}concat(t){return this._notes=[...this._notes,...t._notes],this}append(t,i=0){const n=this.getDuration(),a=t.clone();return a.shiftTime(n+i),this._notes=[...this._notes,...a._notes],this.sortByTime(),this}repeat(t){const i=this.clone();if(t<1)return new Nu;if(t===1)return i;const n=this.clone(),a=this.getDuration();for(let o=1;o<t;o++)n.shiftTime(a),i.concat(n);return i}length(){return this._notes.length}getStartTime(){return Dtt(this._notes,t=>t.start)}getDuration(){let t=0;for(const i of this._notes){const n=i.end===null?i.start:i.end;n>t&&(t=n)}return t}scaleTime(t){return this._notes=this._notes.map(i=>i.scaleTime(t)),this}shiftTime(t){return this._notes=this._notes.map(i=>i.shiftTime(t)),this}shiftToStartAt(t){this.sortByTime();const n=this._notes[0].start-t;return this._notes.forEach(a=>{a.start-=n,a.end!==null&&(a.end-=n)}),this}forEach(t){return this._notes.forEach((i,n,a)=>t(i,n,a)),this}sort(t){return this._notes=this._notes.sort(t),this}sortByTime(){return this._notes=this._notes.sort((t,i)=>t.start-i.start),this}map(t){return this._notes=this._notes.map((i,n,a)=>t(i,n,a)),this}slice(t,i){return this._notes=this._notes.slice(t,i),this}sliceTime(t,i,n="contained"){const a=t,o=i;let l;if(n==="start")l=c=>c.start>=a&&c.start<o;else if(n==="end")l=c=>c.end!==null&&c.end>=a&&c.end<o;else if(n==="contained")l=c=>c.end!==null&&c.start>=a&&c.end<o;else if(n==="touched")l=c=>c.start>=a&&c.start<=o||c.end!==null&&c.end>=a&&c.end<=o;else if(n==="touched-included")l=c=>c.start>=a&&c.start<=o||c.end!==null&&c.end>=a&&c.end<=o||c.end!==null&&c.start<=a&&c.end>=o;else throw new Error("Invalid slicing mode");return this._notes=this._notes.filter(l),this}sliceAtTimes(t,i,n=!1){if(t.length===0)return[this._notes];const a=this.getDuration();Math.max(...t)<=a&&t.push(a+1);const o=[];let l=0;for(const c of t)o.push(new Nu(this._notes,n).sliceTime(l,c,i).getNotes()),l=c;return o}segmentAtGaps(t,i){if(this._notes.length<2)return[this._notes];if(i==="start-start"){const n=this.clone().sortByTime().getNotes(),a=[];for(let o=1;o<n.length;o++)n[o].start-n[o-1].start>=t&&a.push(n[o].start);return this.sliceAtTimes(a,"start")}else{const n=[];for(const o of this._notes){const{start:l,end:c}=o,d=[];for(let u=0;u<n.length;u++){const[h,p]=n[u];(h>=l&&h<=c||p>=l&&p<=c)&&(n.splice(u,1),d.push([h,p]))}if(d.length===0)n.push([l,c]);else{const u=Math.min(l,...d.map(p=>p[0])),h=Math.max(c,...d.map(p=>p[1]));n.push([u,h])}}if(n.length===1)return[this._notes];const a=[];for(let o=1;o<n.length;o++){const l=n[o][0],c=n[o-1][1];l-c>=t&&a.push(l)}return this.sliceAtTimes(a,"start")}}segmentAtIndices(t){const i=[];let n=0;for(const a of t)i.push(this._notes.slice(n,a)),n=a;return i}filter(t){return this._notes=this._notes.filter((i,n,a)=>t(i,n,a)),this}filterPitches(t){return t instanceof Set||(t=new Set(t)),this._notes=this._notes.filter(i=>t.has(i.pitch)),this}transpose(t){return this._notes=this._notes.map(i=>Ku.from({...i,pitch:jnt(i.pitch+t,0,127)})),this}removeOctaves(){return this._notes=this._notes.map(t=>Ku.from({...t,pitch:t.pitch%12})),this}reverse(){const t=this.getDuration();return this._notes=this._notes.map(i=>{const n=i.clone();return n.start=t-i.end,n.end=n.start+i.getDuration(),n}),this.sortByTime(),this}equals(t){if(!(t instanceof Nu))return!1;const i=t.getNotes();if(this._notes.length!==i.length)return!1;for(const[n,a]of i.entries())if(!this._notes[n].equals(a))return!1;return!0}clone(){return new Nu(this._notes)}}var I2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wnt(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var i=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(i,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),i}var Knt={exports:{}};(function(e){(function(){const t=function(n){let a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;if(n=n.replace(/^.*?base64,/,""),n=String(n).replace(/[\t\n\f\r ]+/g,""),!o.test(n))throw new TypeError("Failed to execute _atob() : The string to be decoded is not correctly encoded.");n+="==".slice(2-(n.length&3));let l,c="",d,u,h=0;for(;h<n.length;)l=a.indexOf(n.charAt(h++))<<18|a.indexOf(n.charAt(h++))<<12|(d=a.indexOf(n.charAt(h++)))<<6|(u=a.indexOf(n.charAt(h++))),c+=d===64?String.fromCharCode(l>>16&255):u===64?String.fromCharCode(l>>16&255,l>>8&255):String.fromCharCode(l>>16&255,l>>8&255,l&255);return c},i={debug:!1,parse:function(n,a){if(n instanceof Uint8Array)return i.Uint8(n);if(typeof n=="string")return i.Base64(n);if(n instanceof HTMLElement&&n.type==="file")return i.addListener(n,a);throw new Error("MidiParser.parse() : Invalid input provided")},addListener:function(n,a){if(!File||!FileReader)throw new Error("The File|FileReader APIs are not supported in this browser. Use instead MidiParser.Base64() or MidiParser.Uint8()");if(n===void 0||!(n instanceof HTMLElement)||n.tagName!=="INPUT"||n.type.toLowerCase()!=="file")return console.warn("MidiParser.addListener() : Provided element is not a valid FILE INPUT element"),!1;a=a||function(){},n.addEventListener("change",function(o){if(!o.target.files.length)return!1;console.log("MidiParser.addListener() : File detected in INPUT ELEMENT processing data..");let l=new FileReader;l.readAsArrayBuffer(o.target.files[0]),l.onload=function(c){a(i.Uint8(new Uint8Array(c.target.result)))}})},Base64:function(n){n=String(n);let a=t(n),o=a.length,l=new Uint8Array(new ArrayBuffer(o));for(let c=0;c<o;c++)l[c]=a.charCodeAt(c);return i.Uint8(l)},Uint8:function(n){let a={data:null,pointer:0,movePointer:function(d){return this.pointer+=d,this.pointer},readInt:function(d){if(d=Math.min(d,this.data.byteLength-this.pointer),d<1)return-1;let u=0;if(d>1)for(let h=1;h<=d-1;h++)u+=this.data.getUint8(this.pointer)*Math.pow(256,d-h),this.pointer++;return u+=this.data.getUint8(this.pointer),this.pointer++,u},readStr:function(d){let u="";for(let h=1;h<=d;h++)u+=String.fromCharCode(this.readInt(1));return u},readIntVLV:function(){let d=0;if(this.pointer>=this.data.byteLength)return-1;if(this.data.getUint8(this.pointer)<128)d=this.readInt(1);else{let u=[];for(;this.data.getUint8(this.pointer)>=128;)u.push(this.readInt(1)-128);let h=this.readInt(1);for(let p=1;p<=u.length;p++)d+=u[u.length-p]*Math.pow(128,p);d+=h}return d}};if(a.data=new DataView(n.buffer,n.byteOffset,n.byteLength),a.readInt(4)!==1297377380)return console.warn("Header validation failed (not MIDI standard or file corrupt.)"),!1;a.readInt(4);let o={};o.formatType=a.readInt(2),o.tracks=a.readInt(2),o.track=[];let l=a.readInt(1),c=a.readInt(1);l>=128?(o.timeDivision=[],o.timeDivision[0]=l-128,o.timeDivision[1]=c):o.timeDivision=l*256+c;for(let d=1;d<=o.tracks;d++){o.track[d-1]={event:[]};let u=a.readInt(4);if(u===-1)break;if(u!==1297379947)return!1;a.readInt(4);let h=0,p=!1,f,M;for(;!p&&(h++,o.track[d-1].event[h-1]={},o.track[d-1].event[h-1].deltaTime=a.readIntVLV(),f=a.readInt(1),f!==-1);)if(f>=128?M=f:(f=M,a.movePointer(-1)),f===255){o.track[d-1].event[h-1].type=255,o.track[d-1].event[h-1].metaType=a.readInt(1);let g=a.readIntVLV();switch(o.track[d-1].event[h-1].metaType){case 47:case-1:p=!0;break;case 1:case 2:case 3:case 4:case 5:case 7:case 6:o.track[d-1].event[h-1].data=a.readStr(g);break;case 33:case 89:case 81:o.track[d-1].event[h-1].data=a.readInt(g);break;case 84:o.track[d-1].event[h-1].data=[],o.track[d-1].event[h-1].data[0]=a.readInt(1),o.track[d-1].event[h-1].data[1]=a.readInt(1),o.track[d-1].event[h-1].data[2]=a.readInt(1),o.track[d-1].event[h-1].data[3]=a.readInt(1),o.track[d-1].event[h-1].data[4]=a.readInt(1);break;case 88:o.track[d-1].event[h-1].data=[],o.track[d-1].event[h-1].data[0]=a.readInt(1),o.track[d-1].event[h-1].data[1]=a.readInt(1),o.track[d-1].event[h-1].data[2]=a.readInt(1),o.track[d-1].event[h-1].data[3]=a.readInt(1);break;default:this.customInterpreter!==null&&(o.track[d-1].event[h-1].data=this.customInterpreter(o.track[d-1].event[h-1].metaType,a,g)),(this.customInterpreter===null||o.track[d-1].event[h-1].data===!1)&&(a.readInt(g),o.track[d-1].event[h-1].data=a.readInt(g),this.debug&&console.info("Unimplemented 0xFF meta event! data block readed as Integer"))}}else switch(f=f.toString(16).split(""),f[1]||f.unshift("0"),o.track[d-1].event[h-1].type=parseInt(f[0],16),o.track[d-1].event[h-1].channel=parseInt(f[1],16),o.track[d-1].event[h-1].type){case 15:{if(this.customInterpreter!==null&&(o.track[d-1].event[h-1].data=this.customInterpreter(o.track[d-1].event[h-1].type,a,!1)),this.customInterpreter===null||o.track[d-1].event[h-1].data===!1){let g=a.readIntVLV();o.track[d-1].event[h-1].data=a.readInt(g),this.debug&&console.info("Unimplemented 0xF exclusive events! data block readed as Integer")}break}case 10:case 11:case 14:case 8:case 9:o.track[d-1].event[h-1].data=[],o.track[d-1].event[h-1].data[0]=a.readInt(1),o.track[d-1].event[h-1].data[1]=a.readInt(1);break;case 12:case 13:o.track[d-1].event[h-1].data=a.readInt(1);break;case-1:p=!0;break;default:if(this.customInterpreter!==null&&(o.track[d-1].event[h-1].data=this.customInterpreter(o.track[d-1].event[h-1].metaType,a,!1)),this.customInterpreter===null||o.track[d-1].event[h-1].data===!1)return console.log("Unknown EVENT detected... reading cancelled!"),!1}}return o},customInterpreter:null};e.exports=i})()})(Knt);function Q0(e){return 1/(e/60)}const Fk=[],qnt=[2,1,1/2,1/4,1/8,1/16,1/32,1/64];for(const e of qnt)for(let t=0;t<4;t++){let i=e,n=e;for(let a=0;a<t;a++)n/=2,i+=n;Fk.push({type:e,dots:t,duration:i})}Fk.sort((e,t)=>e.duration-t.duration);function l5(e,t,i,n){e.beginPath(),e.arc(t,i,n,0,2*Math.PI),e.stroke()}class qn{constructor(t,i){this.name=t,this.notes=i,this.short=i.join(" "),this.pitches=i.map(n=>r5(n).pitch),this.stringCount=i.length}}const Xnt=new Map([["Guitar",new Map([[6,[new qn("E stand.",["E2","A2","D3","G3","B3","E4"]),new qn("Drop D",["D2","A2","D3","G3","B3","E4"]),new qn("Drop C",["C2","G2","C3","F3","A3","D4"]),new qn("1/2 down",["D#2","G#2","C#3","F#3","A#3","D#4"]),new qn("1 down",["D2","G2","C3","F3","A3","D4"]),new qn("1 1/2 down",["C#2","F#2","B2","E3","G#3","C#4"]),new qn("2 down",["C2","F2","A#2","D#3","G3","C4"]),new qn("DADGAG",["D2","A2","D3","G3","A3","D4"])]],[7,[new qn("B stand.",["B1","E2","A2","D3","G3","B3","E4"]),new qn("Drop A",["A1","E2","A2","D3","G3","B3","E4"]),new qn("1/2 down",["A#1","D#2","G#2","C#3","F#3","A#3","D#4"]),new qn("1 down",["A1","D2","G2","C3","F3","A3","D4"]),new qn("1 1/2 down",["G#1","C#2","F#2","B2","E3","G#3","C#4"]),new qn("2 down",["G1","C2","F2","A#2","D#3","G3","C4"])]],[8,[new qn("F# stand.",["F#1","B1","E2","A2","D3","G3","B3","E4"]),new qn("Drop E",["E1","B1","E2","A2","D3","G3","B3","E4"]),new qn("1/2 down",["F1","A#1","D#2","G#2","C#3","F#3","A#3","D#4"]),new qn("1 down",["E1","A1","D2","G2","C3","F3","A3","D4"]),new qn("1 1/2 down",["D#1","G#1","C#2","F#2","B2","E3","G#3","C#4"]),new qn("2 down",["D1","G1","C2","F2","A#2","D#3","G3","C4"])]]])],["Bass",new Map([[4,[new qn("E stand.",["E1","A1","D2","G2"]),new qn("Drop D",["D1","A1","D2","G2"]),new qn("1/2 down",["D#1","G#1","C#2","F#2"]),new qn("1 down",["D1","G1","C2","F2"]),new qn("1 1/2 down",["C#1","F#1","B1","E2"]),new qn("2 down",["C1","F1","A#1","D#2"])]],[5,[new qn("B stand.",["B0","E1","A1","D2","G2"]),new qn("Drop A",["A0","D1","A1","D2","G2"]),new qn("1/2 down",["A#0","D#1","G#1","C#2","F#2"]),new qn("1 down",["A0","D1","G1","C2","F2"]),new qn("1 1/2 down",["G#0","C#1","F#1","B1","E2"]),new qn("2 down",["G0","C1","F1","A#1","D#2"])]],[6,[new qn("F# stand.",["F#0","B0","E1","A1","D2","G2"]),new qn("Drop E",["E0","A0","D1","A1","D2","G2"]),new qn("1/2 down",["F0","A#0","D#1","G#1","C#2","F#2"]),new qn("1 down",["E1","A0","D1","G1","C2","F2"]),new qn("1 1/2 down",["D#0","G#0","C#1","F#1","B1","E2"]),new qn("2 down",["D0","G0","C1","F1","A#1","D#2"])]]])],["Ukulele",new Map([[4,[new qn("Hawaii",["G4","C4","E4","A4"]),new qn("Low G",["G3","C4","E4","A4"]),new qn("D-tuning",["A4","D4","F#4","B4"]),new qn("Canadian",["A3","D4","F#4","B4"]),new qn("Bariton",["D3","G3","B3","E4"])]]])]]);function OA(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function SA(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var Uk=[0,2,4,-1,1,3,5],Jk=Uk.map(e=>Math.floor(e*7/12));function $k(e){const{step:t,alt:i,oct:n,dir:a=1}=e,o=Uk[t]+7*i;if(n===void 0)return[a*o];const l=n-Jk[t]-4*i;return[a*o,a*l]}var Ynt=[3,0,4,1,5,2,6];function Gk(e){const[t,i,n]=e,a=Ynt[Znt(t)],o=Math.floor((t+1)/7);if(i===void 0)return{step:a,alt:o,dir:n};const l=i+4*o+Jk[a];return{step:a,alt:o,oct:l,dir:n}}function Znt(e){const t=(e+1)%7;return t<0?7+t:t}var Gw=(e,t)=>Array(Math.abs(t)+1).join(e),YM=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),t0t="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",e0t="(AA|A|P|M|m|d|dd)([-+]?\\d+)",i0t=new RegExp("^"+t0t+"|"+e0t+"$");function n0t(e){const t=i0t.exec(`${e}`);return t===null?["",""]:t[1]?[t[1],t[2]]:[t[4],t[3]]}var Hw={};function Pl(e){return typeof e=="string"?Hw[e]||(Hw[e]=r0t(e)):SA(e)?Pl(o0t(e)):OA(e)?Pl(e.name):YM}var Vw=[0,2,4,5,7,9,11],Hk="PMMPPMM";function r0t(e){const t=n0t(e);if(t[0]==="")return YM;const i=+t[0],n=t[1],a=(Math.abs(i)-1)%7,o=Hk[a];if(o==="M"&&n==="P")return YM;const l=o==="M"?"majorable":"perfectable",c=""+i+n,d=i<0?-1:1,u=i===8||i===-8?i:d*(a+1),h=a0t(l,n),p=Math.floor((Math.abs(i)-1)/7),f=d*(Vw[a]+h+12*p),M=(d*(Vw[a]+h)%12+12)%12,g=$k({step:a,alt:h,oct:p,dir:d});return{empty:!1,name:c,num:i,q:n,step:a,alt:h,dir:d,type:l,simple:u,semitones:f,chroma:M,coord:g,oct:p}}function Vk(e,t){const[i,n=0]=e,a=i*7+n*12<0,o=t||a?[-i,-n,-1]:[i,n,1];return Pl(Gk(o))}function a0t(e,t){return t==="M"&&e==="majorable"||t==="P"&&e==="perfectable"?0:t==="m"&&e==="majorable"?-1:/^A+$/.test(t)?t.length:/^d+$/.test(t)?-1*(e==="perfectable"?t.length:t.length+1):0}function o0t(e){const{step:t,alt:i,oct:n=0,dir:a}=e;if(!a)return"";const o=t+1+7*n,l=o===0?t+1:o,c=a<0?"-":"",d=Hk[t]==="M"?"majorable":"perfectable";return c+l+s0t(d,i)}function s0t(e,t){return t===0?e==="majorable"?"M":"P":t===-1&&e==="majorable"?"m":t>0?Gw("A",t):Gw("d",e==="perfectable"?t:t+1)}var Qw=(e,t)=>Array(Math.abs(t)+1).join(e),Qk=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),zw=new Map,l0t=e=>"CDEFGAB".charAt(e),zk=e=>e<0?Qw("b",-e):Qw("#",e),jk=e=>e[0]==="b"?-e.length:e.length;function gr(e){const t=JSON.stringify(e),i=zw.get(t);if(i)return i;const n=typeof e=="string"?h0t(e):SA(e)?gr(f0t(e)):OA(e)?gr(e.name):Qk;return zw.set(t,n),n}var c0t=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function xA(e){const t=c0t.exec(e);return t?[t[1].toUpperCase(),t[2].replace(/x/g,"##"),t[3],t[4]]:["","","",""]}function u0t(e){return gr(Gk(e))}var d0t=(e,t)=>(e%t+t)%t,Sg=[0,2,4,5,7,9,11];function h0t(e){const t=xA(e);if(t[0]===""||t[3]!=="")return Qk;const i=t[0],n=t[1],a=t[2],o=(i.charCodeAt(0)+3)%7,l=jk(n),c=a.length?+a:void 0,d=$k({step:o,alt:l,oct:c}),u=i+n+a,h=i+n,p=(Sg[o]+l+120)%12,f=c===void 0?d0t(Sg[o]+l,12)-12*99:Sg[o]+l+12*(c+1),M=f>=0&&f<=127?f:null,g=c===void 0?null:Math.pow(2,(f-69)/12)*440;return{empty:!1,acc:n,alt:l,chroma:p,coord:d,freq:g,height:f,letter:i,midi:M,name:u,oct:c,pc:h,step:o}}function f0t(e){const{step:t,alt:i,oct:n}=e,a=l0t(t);if(!a)return"";const o=a+zk(i);return n||n===0?o+n:o}function c5(e,t){const i=gr(e),n=Array.isArray(t)?t:Pl(t).coord;if(i.empty||!n||n.length<2)return"";const a=i.coord,o=a.length===1?[a[0]+n[0]]:[a[0]+n[0],a[1]+n[1]];return u0t(o).name}function jw(e,t){const i=gr(e),n=gr(t);if(i.empty||n.empty)return"";const a=i.coord,o=n.coord,l=o[0]-a[0],c=a.length===2&&o.length===2?o[1]-a[1]:-Math.floor(l*7/12),d=n.height===i.height&&n.midi!==null&&i.oct===n.oct&&i.step>n.step;return Vk([l,c],d).name}function TA(e,t){const i=t.length,n=(e%i+i)%i;return t.slice(n,i).concat(t.slice(0,n))}function m0t(e){return e.filter(t=>t===0||t)}var Nc={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},Wk=e=>Number(e).toString(2).padStart(12,"0"),Ww=e=>parseInt(e,2),p0t=/^[01]{12}$/;function IA(e){return p0t.test(e)}var g0t=e=>typeof e=="number"&&e>=0&&e<=4095,M0t=e=>e&&IA(e.chroma),Kw={[Nc.chroma]:Nc};function Fc(e){const t=IA(e)?e:g0t(e)?Wk(e):Array.isArray(e)?E0t(e):M0t(e)?e.chroma:Nc.chroma;return Kw[t]=Kw[t]||_0t(t)}var y0t=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function A0t(e){const t=[];for(let i=0;i<12;i++)e.charAt(i)==="1"&&t.push(y0t[i]);return t}function v0t(e,t=!0){const n=Fc(e).chroma.split("");return m0t(n.map((a,o)=>{const l=TA(o,n);return t&&l[0]==="0"?null:l.join("")}))}function Kk(e){const t=Fc(e).setNum;return i=>{const n=Fc(i).setNum;return t&&t!==n&&(n&t)===n}}function b0t(e){const t=Fc(e).setNum;return i=>{const n=Fc(i).setNum;return t&&t!==n&&(n|t)===n}}function C0t(e){const t=e.split("");return t.map((i,n)=>TA(n,t).join(""))}function _0t(e){const t=Ww(e),i=C0t(e).map(Ww).filter(o=>o>=2048).sort()[0],n=Wk(i),a=A0t(e);return{empty:!1,name:"",setNum:t,chroma:e,normalized:n,intervals:a}}function E0t(e){if(e.length===0)return Nc.chroma;let t;const i=[0,0,0,0,0,0,0,0,0,0,0,0];for(let n=0;n<e.length;n++)t=gr(e[n]),t.empty&&(t=Pl(e[n])),t.empty||(i[t.chroma]=1);return i.join("")}var w0t=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],O0t=w0t,S0t={...Nc,name:"",quality:"Unknown",intervals:[],aliases:[]},BA=[],rf={};function x0t(e){return rf[e]||S0t}function qk(){return BA.slice()}function T0t(e,t,i){const n=B0t(e),a={...Fc(e),name:i||"",quality:n,intervals:e,aliases:t};BA.push(a),a.name&&(rf[a.name]=a),rf[a.setNum]=a,rf[a.chroma]=a,a.aliases.forEach(o=>I0t(a,o))}function I0t(e,t){rf[t]=e}function B0t(e){const t=i=>e.indexOf(i)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}O0t.forEach(([e,t,i])=>T0t(e.split(" "),i.split(" "),t));BA.sort((e,t)=>e.setNum-t.setNum);var R0t=e=>{const t=e.reduce((i,n)=>{const a=gr(n).chroma;return a!==void 0&&(i[a]=i[a]||gr(n).name),i},{});return i=>t[i]};function y3(e,t={}){const i=e.map(a=>gr(a).pc).filter(a=>a);return gr.length===0?[]:U0t(i,1,t).filter(a=>a.weight).sort((a,o)=>o.weight-a.weight).map(a=>a.name)}var u5={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},d5=e=>t=>!!(t&e),D0t=d5(u5.anyThirds),P0t=d5(u5.perfectFifth),k0t=d5(u5.anySeventh),L0t=d5(u5.nonPerfectFifths);function N0t(e){const t=parseInt(e.chroma,2);return D0t(t)&&P0t(t)&&k0t(t)}function F0t(e){const t=parseInt(e,2);return L0t(t)?e:(t|16).toString(2)}function U0t(e,t,i){const n=e[0],a=gr(n).chroma,o=R0t(e),l=v0t(e,!1),c=[];return l.forEach((d,u)=>{const h=i.assumePerfectFifth&&F0t(d);qk().filter(f=>i.assumePerfectFifth&&N0t(f)?f.chroma===h:f.chroma===d).forEach(f=>{const M=f.aliases[0],g=o(u);u!==a?c.push({weight:.5*t,name:`${g}${M}/${n}`}):c.push({weight:1*t,name:`${g}${M}`})})}),c}var J0t=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7  ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 #4 #11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -7 m -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim  o"],["1P 3m 5d 7d","diminished seventh","dim7 7 o7"],["1P 3m 5d 7m","half-diminished","m7b5  -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],$0t=J0t;({...Nc});var Xk=[],f6={};function G0t(e,t,i){const n=V0t(e),a={...Fc(e),name:i||"",quality:n,intervals:e,aliases:t};Xk.push(a),a.name&&(f6[a.name]=a),f6[a.setNum]=a,f6[a.chroma]=a,a.aliases.forEach(o=>H0t(a,o))}function H0t(e,t){f6[t]=e}function V0t(e){const t=i=>e.indexOf(i)!==-1;return t("5A")?"Augmented":t("3M")?"Major":t("5d")?"Diminished":t("3m")?"Minor":"Unknown"}$0t.forEach(([e,t,i])=>G0t(e.split(" "),i.split(" "),t));Xk.sort((e,t)=>e.setNum-t.setNum);var Q0t=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],z0t=Q0t,j0t={...Nc,intervals:[],aliases:[]},RA=[],af={};function W0t(){return RA.map(e=>e.name)}function Yk(e){return af[e]||j0t}function Zk(){return RA.slice()}function K0t(e,t,i=[]){const n={...Fc(e),name:t,intervals:e,aliases:i};return RA.push(n),af[n.name]=n,af[n.setNum]=n,af[n.chroma]=n,n.aliases.forEach(a=>q0t(n,a)),n}function q0t(e,t){af[t]=e}z0t.forEach(([e,t,...i])=>K0t(e.split(" "),t,i));var X0t=Math.log(2),Y0t=Math.log(440);function A3(e){const t=12*(Math.log(e)-Y0t)/X0t+69;return Math.round(t*100)/100}var Z0t="C C# D D# E F F# G G# A A# B".split(" "),t9t="C Db D Eb E F Gb G Ab A Bb B".split(" ");function DA(e,t={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const n=(t.sharps===!0?Z0t:t9t)[e%12];if(t.pitchClass)return n;const a=Math.floor(e/12)-1;return n+a}var e9t=gr,PA=e=>e9t(e).midi;function kA(e){return DA(A3(e))}function Fa(e){return DA(e,{sharps:!0})}var tL={empty:!0,name:"",chordType:""},qw={};function r8(e){return typeof e=="string"?qw[e]||(qw[e]=o9t(e)):typeof e=="number"?r8(LA[e]||""):SA(e)?i9t(e):OA(e)?r8(e.name):tL}function i9t(e){return r8(zk(e.alt)+LA[e.step])}var n9t=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function r9t(e){return n9t.exec(e)||["","","",""]}var a9t="I II III IV V VI VII",LA=a9t.split(" ");function o9t(e){const[t,i,n,a]=r9t(e);if(!n)return tL;const o=n.toUpperCase(),l=LA.indexOf(o),c=jk(i),d=1;return{empty:!1,name:t,roman:n,interval:Pl({step:l,alt:c,dir:d}).name,acc:i,chordType:a,alt:c,step:l,major:n===o,oct:0,dir:d}}var s9t=l9t((e,t)=>[e[0]-t[0],e[1]-t[1]]);function l9t(e){return(t,i)=>{const n=Pl(t).coord,a=Pl(i).coord;if(n&&a){const o=e(n,a);return Vk(o).name}}}var NA=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],Xw={...Nc,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},c9t=NA.map(u9t),ZM={};c9t.forEach(e=>{ZM[e.name]=e,e.aliases.forEach(t=>{ZM[t]=e})});function eL(e){return typeof e=="string"?ZM[e.toLowerCase()]||Xw:e&&e.name?eL(e.name):Xw}function u9t(e){const[t,i,n,a,o,l,c]=e,d=c?[c]:[],u=Number(i).toString(2);return{empty:!1,intervals:Yk(a).intervals,modeNum:t,chroma:u,normalized:u,name:a,setNum:i,alt:n,triad:o,seventh:l,aliases:d}}function iL(e){return(t,i)=>{const n=eL(t);if(n.empty)return[];const a=TA(n.modeNum,e),o=n.intervals.map(l=>c5(i,l));return a.map((l,c)=>o[c]+l)}}iL(NA.map(e=>e[4]));iL(NA.map(e=>e[5]));var nL={empty:!0,name:"",symbol:"",root:"",bass:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function d9t(e){const[t,i,n,a]=xA(e);return t===""?xg("",e):t==="A"&&a==="ug"?xg("","aug"):xg(t+i,n+a)}function xg(e,t){const i=t.split("/");if(i.length===1)return[e,i[0],""];const[n,a,o,l]=xA(i[1]);return n!==""&&o===""&&l===""?[e,i[0],n+a]:[e,t,""]}function ty(e){if(Array.isArray(e))return Tg(e[1]||"",e[0],e[2]);if(e==="")return nL;{const[t,i,n]=d9t(e),a=Tg(i,t,n);return a.empty?Tg(e):a}}function Tg(e,t,i){const n=x0t(e),a=gr(t||""),o=gr(i||"");if(n.empty||t&&a.empty||i&&o.empty)return nL;const l=jw(a.pc,o.pc),c=n.intervals.indexOf(l),d=c>=0,u=d?o:gr(""),h=c===-1?NaN:c+1,p=o.pc&&o.pc!==a.pc,f=Array.from(n.intervals);if(d)for(let b=1;b<h;b++){const v=f[0][0],C=f[0][1],w=parseInt(v,10)+7;f.push(`${w}${C}`),f.shift()}else if(p){const b=s9t(jw(a.pc,o.pc),"8P");b&&f.unshift(b)}const M=a.empty?[]:f.map(b=>c5(a.pc,b));e=n.aliases.indexOf(e)!==-1?e:n.aliases[0];const g=`${a.empty?"":a.pc}${e}${d&&h>1?"/"+u.pc:p?"/"+o.pc:""}`,y=`${t?a.pc+" ":""}${n.name}${d&&h>1?" over "+u.pc:p?" over "+o.pc:""}`;return{...n,name:y,symbol:g,tonic:a.pc,type:n.name,root:u.pc,bass:p?o.pc:"",intervals:f,rootDegree:h,notes:M}}function h9t(e,t){return t.map(r8).map(n=>c5(e,Pl(n))+n.chordType)}var f9t={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function m9t(e){if(typeof e!="string")return["",""];const t=e.indexOf(" "),i=gr(e.substring(0,t));if(i.empty){const a=gr(e);return a.empty?["",e]:[a.name,""]}const n=e.substring(i.name.length+1).toLowerCase();return[i.name,n.length?n:""]}var FA=W0t;function oa(e){const t=Array.isArray(e)?e:m9t(e),i=gr(t[0]).name,n=Yk(t[1]);if(n.empty)return f9t;const a=n.name,o=i?n.intervals.map(c=>c5(i,c)):[],l=i?i+" "+a:a;return{...n,name:l,type:a,tonic:i,notes:o}}function p9t(e){const t=oa(e),i=Kk(t.chroma);return qk().filter(n=>i(n.chroma)).map(n=>n.aliases[0])}function g9t(e){const t=IA(e)?e:oa(e).chroma,i=b0t(t);return Zk().filter(n=>i(n.chroma)).map(n=>n.name)}function M9t(e){const t=Kk(oa(e).chroma);return Zk().filter(i=>t(i.chroma)).map(i=>i.name)}class sc{constructor(t,i){this.name=t,this.notes=i,this.short=i.join(" "),this.pitches=i.map(n=>r5(n).pitch),this.pitchesSorted=[...this.pitches].sort((n,a)=>n-a),this.keyCount=i.length}getNumbers(){const t=this.pitchesSorted,i=new Map;for(const[n,a]of t.entries()){let o=n+1,l="",c=a-12;for(;c>0&&i.has(c);)o=i.get(c).number,l+="",c-=12;i.set(a,{number:o,numberString:`${o}${l}`})}return[...i.values()].map(n=>n.numberString)}getLetters(){const t=this.pitchesSorted,i=new Map;for(const[n,a]of t.entries()){let o=n+1,l="",c=a-12;for(;c>0&&i.has(c);)o=i.get(c).number,l+="",c-=12;const d=l6(a).name;i.set(a,{number:o,letterString:`${d}${l}`})}return[...i.values()].map(n=>n.letterString)}}new sc("9 A Major",["A5","C#6","C#5","A5","A4","F#5","E5","E6","B5"]),new sc("9 A Minor",["A5","C6","C5","A5","A4","F5","E5","E6","B5"]),new sc("9 A Minor 7",["A5","C6","C5","A5","A4","F#5","E5","E6","B5"]),new sc("9 A Ake Bono",["A5","D6","D5","A5","A4","F5","E5","E6","A#5"]),new sc("9 A Hijaz",["G5","D6","D5","A5","A4","F#5","D#5","D#6","A#5"]),new sc("9 A Pygmy",["G5","C6","C5","G5","G4","D#5","D5","D#6","A#5"]),new sc("17 C Major",["D6","B5","G5","E5","C5","A4","F4","D4","C4","E4","G4","B4","D5","F5","A5","C6","E6"]),new sc("21 C Major",["D6","B5","G5","E5","C5","A4","F4","D4","B3","G3","F3","A3","C4","E4","G4","B4","D5","F5","A5","C6","E6"]);function y9t(e){const{r:t,g:i,b:n}=eh(e).rgb();return(t+t+t+n+i+i+i+i>>3)/2.55}function A9t(e,t=1){const i=Ok(e);return i.s=t,i.toString()}const v9t=["#ff0000","#ff4e00","#db7b00","#ffcc00","#e4ed00","#81d700","#00ffb4","#00ffea","#00baff","#3c00ff","#a800ff","#ff00fd"].map(e=>A9t(e,.5)),b9t=["#6699ff","#66ffff","#000000","#647878","#993366","#ff0000","#ffcc99","#ffff01","#ff9900","#009900","#66ff99","#0000cc"],C9t=["#9aebff","#add5ff","#d6d6ff","#ebd5ff","#ffc2eb","#ffcbcc","#ffd5c2","#ffebc2","#ebffc2","#c2d599","#99ebbe","#adebeb"],_9t=["#FA0B0C","#FA0B0C","#F88010","#F88010","#F5F43C","#149033","#149033","#FA0B0C","#FA0B0C","#7F087C","#7F087C","#908791"],E9t=["#1C0D82","#F5F5F5","#149033","#709226","#F5F43C","#F5D23B","#F88010","#FA0B0C","#A00C09","#D71386","#4B0E7D","#7F087C"],w9t=["#1C0D82","#1C0D82","#7F087C","#7F087C","#FA0B0C","#F88010","#F88010","#F5F43C","#F5F43C","#709226","#709226","#149033"],O9t=["#FA0B0C","#F44712","#F88010","#F5D23B","#F5F43C","#149033","#1B9081","#1C0D82","#4B0E7D","#7F087C","#A61586","#D71386"],S9t=["#6A1C1C","#FA0B0C","#F88010","#F5D23B","#F5F43C","#709226","#1B9081","#1C0D82","#7F087C","#D71386","#6A1C1C","#070707"],x9t=["#FA0B0C","#A00C09","#F44712","#F88010","#F5F43C","#709226","#149033","#27A481","#1B9081","#7F087C","#1C0D82","#D71386"],T9t=["#FA0B0C","#A00C09","#F88010","#F6D111","#F5F43C","#BCE039","#149033","#27A481","#7F087C","#D71386","#D91951","#FA0B0C"],I9t=["#F5F43C","#149033","#1B9081","#1C5BA0","#7F087C","#D71386","#9D0E55","#FA0B0C","#D32C0A","#D32C0A","#F62E0D","#F17A0F"],B9t=["#FA0B0C","#D71386","#F5F43C","#5A5685","#1C5BA0","#A00C09","#1C0D82","#F88010","#7F087C","#149033","#5A5685","#1C5BA0"],R9t=["#C40A09","#FA0B0C","#F44712","#F88010","#F5F43C","#BCE039","#149033","#1B9081","#1C0D82","#781887","#D71386","#9D0E55"],D9t=["#FA0B0C","#FA0B0C","#F88010","#F88010","#F5F43C","#F5F43C","#149033","#1B9081","#1B9081","#1C5BA0","#4B0E7D","#7F087C"],P9t=["#FA0B0C","#F44712","#F88010","#F6D111","#F5F43C","#BCE039","#149033","#1B9081","#1C0D82","#A61586","#D71386","#AD0E48"],k9t=["#BCE039","#149033","#1B9081","#1C0D82","#7F087C","#D71386","#6F0D45","#A00C09","#FA0B0C","#F88010","#EDF087","#F5F43C"],L9t=zM("black","steelblue");Array.from({length:12}).map((e,t)=>L9t(t/11));function N9t(e){return 60*1/e}function F9t(e,t){return fi(Math.ceil(e/12)*12,t+1,12)}function ey(e){return new Promise(t=>{setTimeout(t,e*1e3)})}function Id(e,t){return e.has(t)?e.delete(t):e.add(t),new Set(e)}function Ig(e,t){for(const i of t)if(e.has(i))return!0;return!1}function Yw(e,t){return Math.round(e/t)*t}function Zw(e){const t=new Date,i=1e3*60*60*24,n=t.getTime()-e.getTime(),a=Math.round(n/i);return a===0?"today":a===1?"yesterday":a+" days ago"}function U9t(e,t,i,n,a){if(!e||e.length===0)return null;let o=0;const[l,c]=t.split(":").map(f=>+f),d=Q0(i)*l,u=d/(l*c),h=fi(0,d+u,u),p=d/n;for(const f of e){const M=(f+a)%d;let g=1/0;for(const y of h){const b=Math.abs(y-M);b<g&&(g=b)}g<=p&&o++}return o}function a8(e,t,i,n){if(!e||e.length===0)return null;let a=0;const o=t,l=o/(t*i),c=fi(0,o+l,l),d=4/n;for(const u of e){const h=u%o;let p=1/0;for(const f of c){const M=Math.abs(f-h);M<p&&(p=M)}p<=d&&a++}return a}const tO="",eO="",J9t="",ad="",Bg="",Of="",iO="",nO="",rL="",aL="",oL="",$9t="",G9t="",H9t="",rO="",z2="",iy="",UA="",wo=[{title:"timing",description:"Performing actions at the itended time",children:[{id:"duration",title:"duration",description:"Notes should be played according to the intended duration"},{id:"sub-division",title:"sub-division",description:"Note onsets should follow a sub-division of beats consistently, for example, playing straight eighths or triplets"},{id:"tempo-keeping",title:"tempo keeping",description:"The tempo should be kept constant over a longer stretch of time without the help of a metronome"},{id:"tempo-changing",title:"tempo changing",description:"The tempo should be changed as intended"},{id:"swing-feel",title:"swing feel",description:"Playing a swing feel, meaning that every even (sub)beat is shifted in time consistently by the intended amount"},{id:"timing-consistency",title:"timing consistency",description:"When playing the same musical pattern multiple times, the timing should be similar"},{id:"syncopation",title:"syncopation",description:"When playing different rhythms together, the timing should be on grid"},{id:"synchronized-body-parts",title:"synchronized body parts",description:"Notes played with different body parts (e.g., hands) should be played synchronized"}]},{title:"pitch",description:"Playing or modulating notes at the intended pitch (frequency in Hertz)",children:[{id:"on-pitch",title:"on pitch",description:"When playing a melody, the notes' pitches should be hit correctly"},{id:"pitch-keeping",title:"pitch keeping",description:"The pitch should start and stay at the intended note"},{id:"bending",title:"bending",description:"Bends should reach and stay at the intended semitone; the bend should start and end as quickly as intended"},{id:"vibrato",title:"vibrato",description:"Vibratos should have the intended shift in pitch and the intended frequency of modulation"}]},{title:"dynamics",description:"Playing notes at the intended loudness and changing or varying this loudness as intended",children:[{id:"constant-dynamics",title:"constant dynamics",description:"Notes should have the same loudness"},{id:"accents",title:"accents",description:"Important notes should be louder than others, for example, to highlight the first of a group of 3 or 4 notes"},{id:"(de)crescendo",title:"(de)crescendo",description:"When getting louder/quieter, the loudness should in- or decrease smoothly"}]},{title:"chords",description:"Playing chord or arpeggios",children:[{id:"chord-timing",title:"chord timing",description:"Notes in a chord should start at the same time and the time between chords should be consistent"},{id:"arpeggio-timing",title:"arpeggio timing",description:"Notes in an arpeggio should be spaced out evenly and the time between arpeggios should be consistent"},{id:"chord-notes",title:"chord notes",description:"The notes in a chord should be played as planned or chosen to match the intended harmony or dissonance"}]},{title:"improvisation",description:"Improvisation",children:[{id:"pitch-intervals",title:"intervals",description:"In improvisation, the intervals between consecutive notes should match the intended harmony or dissonance"},{id:"scale-notes",title:"scale notes",description:"The musicians should know which notes belong to a scale"},{id:"scale-degrees",title:"scale degrees",description:"In improvisation, scale degrees should be used to appropriate amounts"},{id:"chord-progression",title:"chord progression",description:"When improvising over a chord progression, notes should be picked appropriately"}]},{title:"instrument",description:"Knowing and correctly using the instrument and all its part",children:[{id:"instrument-layout",title:"instrument layout",description:"The musician should know where notes are played on the instrument and use different parts of it appropriately"},{id:"strumming-direction",title:"strumming direction",description:"Chords should be strummed in the intended direction"},{id:"strumming-strings",title:"strumming strings",description:"Only the intended strings should be strummed"}]}];for(const e of wo)for(const[t,i]of e.children.entries())i.label=`${e.title.at(0).toUpperCase()}${t+1}`;function sL(e){let t=[];for(const i of e)i.id?t.push(i):t=[...t,...sL(i.children)];return t}const V9t=sL(wo);function aO(e,t,i){const n=e.slice();return n[5]=t[i],n}function oO(e,t,i){const n=e.slice();return n[8]=t[i],n}function sO(e){let t,i=je(e[5].children),n=[];for(let a=0;a<i.length;a+=1)n[a]=lO(oO(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p(a,o){if(o&3){i=je(a[5].children);let l;for(l=0;l<i.length;l+=1){const c=oO(a,i,l);n[l]?n[l].p(c,o):(n[l]=lO(c),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=i.length}},d(a){a&&vt(t),Ti(n,a)}}}function lO(e){let t,i=e[8].title+"",n,a,o,l;function c(){return e[4](e[8])}return{c(){t=q("button"),n=te(i),a=K(),mt(t,"class","skill svelte-kxe9gu")},m(d,u){bt(d,t,u),B(t,n),B(t,a),o||(l=ze(t,"click",c),o=!0)},p(d,u){e=d,u&2&&i!==(i=e[8].title+"")&&Qe(n,i)},d(d){d&&vt(t),o=!1,l()}}}function cO(e){let t,i,n,a=(e[5].shown?tO:eO)+"",o,l,c=e[5].title+"",d,u,h,p,f;function M(){return e[3](e[5])}let g=e[5].shown&&sO(e);return{c(){t=q("button"),i=q("span"),i.textContent="",n=K(),o=te(a),l=K(),d=te(c),u=K(),g&&g.c(),h=z0(),mt(i,"class","icon svelte-kxe9gu"),mt(t,"class","node svelte-kxe9gu")},m(y,b){bt(y,t,b),B(t,i),B(t,n),B(t,o),B(t,l),B(t,d),bt(y,u,b),g&&g.m(y,b),bt(y,h,b),p||(f=ze(t,"click",M),p=!0)},p(y,b){e=y,b&2&&a!==(a=(e[5].shown?tO:eO)+"")&&Qe(o,a),b&2&&c!==(c=e[5].title+"")&&Qe(d,c),e[5].shown?g?g.p(e,b):(g=sO(e),g.c(),g.m(h.parentNode,h)):g&&(g.d(1),g=null)},d(y){y&&(vt(t),vt(u),vt(h)),g&&g.d(y),p=!1,f()}}}function Q9t(e){let t,i,n,a=je(e[1]),o=[];for(let l=0;l<a.length;l+=1)o[l]=cO(aO(e,a,l));return{c(){t=q("main"),i=q("h2"),i.textContent="skills",n=K();for(let l=0;l<o.length;l+=1)o[l].c();mt(t,"class","svelte-kxe9gu")},m(l,c){bt(l,t,c),B(t,i),B(t,n);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(t,null)},p(l,[c]){if(c&7){a=je(l[1]);let d;for(d=0;d<a.length;d+=1){const u=aO(l,a,d);o[d]?o[d].p(u,c):(o[d]=cO(u),o[d].c(),o[d].m(t,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=a.length}},i:We,o:We,d(l){l&&vt(t),Ti(o,l)}}}function z9t(e,t,i){let{currentSkills:n=new Set}=t,a=wo;const o=d=>{const u=!d.shown;u&&a.flat(1/0).forEach(h=>h.shown=!1),d.shown=u,i(1,a=[...a])},l=d=>o(d),c=d=>i(0,n=new Set([d.id]));return e.$$set=d=>{"currentSkills"in d&&i(0,n=d.currentSkills)},[n,a,o,l,c]}class j9t extends Zi{constructor(t){super(),Yi(this,t,z9t,Q9t,Xi,{currentSkills:0})}}class Ko{constructor(t=!1){this.eventMap={},this.eventsSuspended=t==!0}addListener(t,i,n={}){if(typeof t=="string"&&t.length<1||t instanceof String&&t.length<1||typeof t!="string"&&!(t instanceof String)&&t!==Ko.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(typeof i!="function")throw new TypeError("The callback must be a function.");const a=new uO(t,this,i,n);return this.eventMap[t]||(this.eventMap[t]=[]),n.prepend?this.eventMap[t].unshift(a):this.eventMap[t].push(a),a}addOneTimeListener(t,i,n={}){n.remaining=1,this.addListener(t,i,n)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(t,i){return t===void 0?this.eventMap[Ko.ANY_EVENT]&&this.eventMap[Ko.ANY_EVENT].length>0?!0:Object.entries(this.eventMap).some(([,n])=>n.length>0):this.eventMap[t]&&this.eventMap[t].length>0?i instanceof uO?this.eventMap[t].filter(a=>a===i).length>0:typeof i=="function"?this.eventMap[t].filter(a=>a.callback===i).length>0:i==null:!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(t){return this.eventMap[t]||[]}suspendEvent(t){this.getListeners(t).forEach(i=>{i.suspended=!0})}unsuspendEvent(t){this.getListeners(t).forEach(i=>{i.suspended=!1})}getListenerCount(t){return this.getListeners(t).length}emit(t,...i){if(typeof t!="string"&&!(t instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let n=[],a=this.eventMap[Ko.ANY_EVENT]||[];return this.eventMap[t]&&(a=a.concat(this.eventMap[t])),a.forEach(o=>{if(o.suspended)return;let l=[...i];Array.isArray(o.arguments)&&(l=l.concat(o.arguments)),o.remaining>0&&(n.push(o.callback.apply(o.context,l)),o.count++),--o.remaining<1&&o.remove()}),n}removeListener(t,i,n={}){if(t===void 0){this.eventMap={};return}else if(!this.eventMap[t])return;let a=this.eventMap[t].filter(o=>i&&o.callback!==i||n.remaining&&n.remaining!==o.remaining||n.context&&n.context!==o.context);a.length?this.eventMap[t]=a:delete this.eventMap[t]}async waitFor(t,i={}){return i.duration=parseInt(i.duration),(isNaN(i.duration)||i.duration<=0)&&(i.duration=1/0),new Promise((n,a)=>{let o,l=this.addListener(t,()=>{clearTimeout(o),n()},{remaining:1});i.duration!==1/0&&(o=setTimeout(()=>{l.remove(),a("The duration expired before the event was emitted.")},i.duration))})}get eventCount(){return Object.keys(this.eventMap).length}}class uO{constructor(t,i,n,a={}){if(typeof t!="string"&&!(t instanceof String)&&t!==Ko.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!i)throw new ReferenceError("The 'target' parameter is mandatory.");if(typeof n!="function")throw new TypeError("The 'callback' must be a function.");a.arguments!==void 0&&!Array.isArray(a.arguments)&&(a.arguments=[a.arguments]),a=Object.assign({context:i,remaining:1/0,arguments:void 0,duration:1/0},a),a.duration!==1/0&&setTimeout(()=>this.remove(),a.duration),this.arguments=a.arguments,this.callback=n,this.context=a.context,this.count=0,this.event=t,this.remaining=parseInt(a.remaining)>=1?parseInt(a.remaining):1/0,this.suspended=!1,this.target=i}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class mi{static get MIDI_CHANNEL_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MESSAGES enum instead."),mi.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation&&console.warn("The MIDI_CHANNEL_NUMBERS array has been deprecated. Use the Enumerations.CHANNEL_NUMBERS array instead."),[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been deprecated. Use the Enumerations.CHANNEL_MODE_MESSAGES enum instead."),mi.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been deprecated. Use the Enumerations.CONTROL_CHANGE_MESSAGES array instead."),{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETERS enum has been deprecated. Use the Enumerations.REGISTERED_PARAMETERS enum instead."),mi.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been deprecated. Use the Enumerations.SYSTEM_MESSAGES enum instead."),mi.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class pd{constructor(t,i={}){this.duration=Li.defaults.note.duration,this.attack=Li.defaults.note.attack,this.release=Li.defaults.note.release,i.duration!=null&&(this.duration=i.duration),i.attack!=null&&(this.attack=i.attack),i.rawAttack!=null&&(this.attack=Ji.from7bitToFloat(i.rawAttack)),i.release!=null&&(this.release=i.release),i.rawRelease!=null&&(this.release=Ji.from7bitToFloat(i.rawRelease)),Number.isInteger(t)?this.identifier=Ji.toNoteIdentifier(t):this.identifier=t}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(t){const i=Ji.getNoteDetails(t);if(Li.validation&&!t)throw new Error("Invalid note identifier");this._name=i.name,this._accidental=i.accidental,this._octave=i.octave}get name(){return this._name}set name(t){if(Li.validation&&(t=t.toUpperCase(),!["C","D","E","F","G","A","B"].includes(t)))throw new Error("Invalid name value");this._name=t}get accidental(){return this._accidental}set accidental(t){if(Li.validation&&(t=t.toLowerCase(),!["#","##","b","bb"].includes(t)))throw new Error("Invalid accidental value");this._accidental=t}get octave(){return this._octave}set octave(t){if(Li.validation&&(t=parseInt(t),isNaN(t)))throw new Error("Invalid octave value");this._octave=t}get duration(){return this._duration}set duration(t){if(Li.validation&&(t=parseFloat(t),isNaN(t)||t===null||t<0))throw new RangeError("Invalid duration value.");this._duration=t}get attack(){return this._attack}set attack(t){if(Li.validation&&(t=parseFloat(t),isNaN(t)||!(t>=0&&t<=1)))throw new RangeError("Invalid attack value.");this._attack=t}get release(){return this._release}set release(t){if(Li.validation&&(t=parseFloat(t),isNaN(t)||!(t>=0&&t<=1)))throw new RangeError("Invalid release value.");this._release=t}get rawAttack(){return Ji.fromFloatTo7Bit(this._attack)}set rawAttack(t){this._attack=Ji.from7bitToFloat(t)}get rawRelease(){return Ji.fromFloatTo7Bit(this._release)}set rawRelease(t){this._release=Ji.from7bitToFloat(t)}get number(){return Ji.toNoteNumber(this.identifier)}getOffsetNumber(t=0,i=0){return Li.validation&&(t=parseInt(t)||0,i=parseInt(i)||0),Math.min(Math.max(this.number+t*12+i,0),127)}}/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Ji{static toNoteNumber(t,i=0){if(i=i==null?0:parseInt(i),isNaN(i))throw new RangeError("Invalid 'octaveOffset' value");typeof t!="string"&&(t="");const n=this.getNoteDetails(t);if(!n)throw new TypeError("Invalid note identifier");const a={C:0,D:2,E:4,F:5,G:7,A:9,B:11};let o=(n.octave+1+i)*12;if(o+=a[n.name],n.accidental&&(n.accidental.startsWith("b")?o-=n.accidental.length:o+=n.accidental.length),o<0||o>127)throw new RangeError("Invalid octaveOffset value");return o}static getNoteDetails(t){Number.isInteger(t)&&(t=this.toNoteIdentifier(t));const i=t.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!i)throw new TypeError("Invalid note identifier");const n=i[1].toUpperCase(),a=parseInt(i[3]);let o=i[2].toLowerCase();return o=o===""?void 0:o,{accidental:o,identifier:n+(o||"")+a,name:n,octave:a}}static sanitizeChannels(t){let i;if(Li.validation){if(t==="all")i=["all"];else if(t==="none")return[]}return Array.isArray(t)?i=t:i=[t],i.indexOf("all")>-1&&(i=mi.MIDI_CHANNEL_NUMBERS),i.map(function(n){return parseInt(n)}).filter(function(n){return n>=1&&n<=16})}static toTimestamp(t){let i=!1;const n=parseFloat(t);return isNaN(n)?!1:(typeof t=="string"&&t.substring(0,1)==="+"?n>=0&&(i=Li.time+n):n>=0&&(i=n),i)}static guessNoteNumber(t,i){i=parseInt(i)||0;let n=!1;if(Number.isInteger(t)&&t>=0&&t<=127)n=parseInt(t);else if(parseInt(t)>=0&&parseInt(t)<=127)n=parseInt(t);else if(typeof t=="string"||t instanceof String)try{n=this.toNoteNumber(t.trim(),i)}catch{return!1}return n}static toNoteIdentifier(t,i){if(t=parseInt(t),isNaN(t)||t<0||t>127)throw new RangeError("Invalid note number");if(i=i==null?0:parseInt(i),isNaN(i))throw new RangeError("Invalid octaveOffset value");const n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],a=Math.floor(t/12-1)+i;return n[t%12]+a.toString()}static buildNote(t,i={}){if(i.octaveOffset=parseInt(i.octaveOffset)||0,t instanceof pd)return t;let n=this.guessNoteNumber(t,i.octaveOffset);if(n===!1)throw new TypeError(`The input could not be parsed as a note (${t})`);return i.octaveOffset=void 0,new pd(n,i)}static buildNoteArray(t,i={}){let n=[];return Array.isArray(t)||(t=[t]),t.forEach(a=>{n.push(this.buildNote(a,i))}),n}static from7bitToFloat(t){return t===1/0&&(t=127),t=parseInt(t)||0,Math.min(Math.max(t/127,0),1)}static fromFloatTo7Bit(t){return t===1/0&&(t=1),t=parseFloat(t)||0,Math.min(Math.max(Math.round(t*127),0),127)}static fromMsbLsbToFloat(t,i=0){Li.validation&&(t=Math.min(Math.max(parseInt(t)||0,0),127),i=Math.min(Math.max(parseInt(i)||0,0),127));const n=((t<<7)+i)/16383;return Math.min(Math.max(n,0),1)}static fromFloatToMsbLsb(t){Li.validation&&(t=Math.min(Math.max(parseFloat(t)||0,0),1));const i=Math.round(t*16383);return{msb:i>>7,lsb:i&127}}static offsetNumber(t,i=0,n=0){if(Li.validation){if(t=parseInt(t),isNaN(t))throw new Error("Invalid note number");i=parseInt(i)||0,n=parseInt(n)||0}return Math.min(Math.max(t+i*12+n,0),127)}static getPropertyByValue(t,i){return Object.keys(t).find(n=>t[n]===i)}static getCcNameByNumber(t){if(!(Li.validation&&(t=parseInt(t),!(t>=0&&t<=127))))return mi.CONTROL_CHANGE_MESSAGES[t].name}static getCcNumberByName(t){let i=mi.CONTROL_CHANGE_MESSAGES.find(n=>n.name===t);return i?i.number:mi.MIDI_CONTROL_CHANGE_MESSAGES[t]}static getChannelModeByNumber(t){if(!(t>=120&&t<=127))return!1;for(let i in mi.CHANNEL_MODE_MESSAGES)if(mi.CHANNEL_MODE_MESSAGES.hasOwnProperty(i)&&t===mi.CHANNEL_MODE_MESSAGES[i])return i;return!1}static get isNode(){return typeof process<"u"&&process.versions!=null&&process.versions.node!=null}static get isBrowser(){return typeof window<"u"&&typeof window.document<"u"}}/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class W9t extends Ko{constructor(t,i){super(),this._output=t,this._number=i,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(t,i={time:0}){return this.output.send(t,i),this}sendKeyAftertouch(t,i,n={}){if(Li.validation){if(n.useRawValue&&(n.rawValue=n.useRawValue),isNaN(parseFloat(i)))throw new RangeError("Invalid key aftertouch value.");if(n.rawValue){if(!(i>=0&&i<=127&&Number.isInteger(i)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(i>=0&&i<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}n.rawValue||(i=Ji.fromFloatTo7Bit(i));const a=Li.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(t)||(t=[t]),Ji.buildNoteArray(t).forEach(o=>{this.send([(mi.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),o.getOffsetNumber(a),i],{time:Ji.toTimestamp(n.time)})}),this}sendControlChange(t,i,n={}){if(typeof t=="string"&&(t=Ji.getCcNumberByName(t)),Array.isArray(i)||(i=[i]),Li.validation){if(t===void 0)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(i=i.map(a=>{const o=Math.min(Math.max(parseInt(a),0),127);if(isNaN(o))throw new TypeError("Values must be integers between 0 and 127");return o}),i.length===2&&t>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return i.forEach((a,o)=>{this.send([(mi.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),t+o*32,i[o]],{time:Ji.toTimestamp(n.time)})}),this}_selectNonRegisteredParameter(t,i={}){return this.sendControlChange(99,t[0],i),this.sendControlChange(98,t[1],i),this}_deselectRegisteredParameter(t={}){return this.sendControlChange(101,127,t),this.sendControlChange(100,127,t),this}_deselectNonRegisteredParameter(t={}){return this.sendControlChange(101,127,t),this.sendControlChange(100,127,t),this}_selectRegisteredParameter(t,i={}){return this.sendControlChange(101,t[0],i),this.sendControlChange(100,t[1],i),this}_setCurrentParameter(t,i={}){return t=[].concat(t),this.sendControlChange(6,t[0],i),t.length<2?this:(this.sendControlChange(38,t[1],i),this)}sendRpnDecrement(t,i={}){if(Array.isArray(t)||(t=mi.REGISTERED_PARAMETERS[t]),Li.validation){if(t===void 0)throw new TypeError("The specified registered parameter is invalid.");let n=!1;if(Object.getOwnPropertyNames(mi.REGISTERED_PARAMETERS).forEach(a=>{mi.REGISTERED_PARAMETERS[a][0]===t[0]&&mi.REGISTERED_PARAMETERS[a][1]===t[1]&&(n=!0)}),!n)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(t,i),this.sendControlChange(97,0,i),this._deselectRegisteredParameter(i),this}sendRpnIncrement(t,i={}){if(Array.isArray(t)||(t=mi.REGISTERED_PARAMETERS[t]),Li.validation){if(t===void 0)throw new TypeError("The specified registered parameter is invalid.");let n=!1;if(Object.getOwnPropertyNames(mi.REGISTERED_PARAMETERS).forEach(a=>{mi.REGISTERED_PARAMETERS[a][0]===t[0]&&mi.REGISTERED_PARAMETERS[a][1]===t[1]&&(n=!0)}),!n)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(t,i),this.sendControlChange(96,0,i),this._deselectRegisteredParameter(i),this}playNote(t,i={}){this.sendNoteOn(t,i);const n=Array.isArray(t)?t:[t];for(let a of n)if(parseInt(a.duration)>0){const o={time:(Ji.toTimestamp(i.time)||Li.time)+parseInt(a.duration),release:a.release,rawRelease:a.rawRelease};this.sendNoteOff(a,o)}else if(parseInt(i.duration)>0){const o={time:(Ji.toTimestamp(i.time)||Li.time)+parseInt(i.duration),release:i.release,rawRelease:i.rawRelease};this.sendNoteOff(a,o)}return this}sendNoteOff(t,i={}){if(Li.validation){if(i.rawRelease!=null&&!(i.rawRelease>=0&&i.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(i.release!=null&&!(i.release>=0&&i.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");i.rawVelocity&&(i.rawRelease=i.velocity,console.warn("The 'rawVelocity' option is deprecated. Use 'rawRelease' instead.")),i.velocity&&(i.release=i.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let n=64;i.rawRelease!=null?n=i.rawRelease:isNaN(i.release)||(n=Math.round(i.release*127));const a=Li.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Ji.buildNoteArray(t,{rawRelease:parseInt(n)}).forEach(o=>{this.send([(mi.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),o.getOffsetNumber(a),o.rawRelease],{time:Ji.toTimestamp(i.time)})}),this}stopNote(t,i={}){return this.sendNoteOff(t,i)}sendNoteOn(t,i={}){if(Li.validation){if(i.rawAttack!=null&&!(i.rawAttack>=0&&i.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(i.attack!=null&&!(i.attack>=0&&i.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");i.rawVelocity&&(i.rawAttack=i.velocity,i.rawRelease=i.release,console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' or 'rawRelease'.")),i.velocity&&(i.attack=i.velocity,console.warn("The 'velocity' option is deprecated. Use 'attack' instead."))}let n=64;i.rawAttack!=null?n=i.rawAttack:isNaN(i.attack)||(n=Math.round(i.attack*127));const a=Li.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Ji.buildNoteArray(t,{rawAttack:n}).forEach(o=>{this.send([(mi.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),o.getOffsetNumber(a),o.rawAttack],{time:Ji.toTimestamp(i.time)})}),this}sendChannelMode(t,i=0,n={}){if(typeof t=="string"&&(t=mi.CHANNEL_MODE_MESSAGES[t]),Li.validation){if(t===void 0)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(t)||!(t>=120&&t<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(i))||i<0||i>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(mi.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),t,i],{time:Ji.toTimestamp(n.time)}),this}sendOmniMode(t,i={}){return t===void 0||t?this.sendChannelMode("omnimodeon",0,i):this.sendChannelMode("omnimodeoff",0,i),this}sendChannelAftertouch(t,i={}){if(Li.validation){if(isNaN(parseFloat(t)))throw new RangeError("Invalid channel aftertouch value.");if(i.rawValue){if(!(t>=0&&t<=127&&Number.isInteger(t)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(t>=0&&t<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return i.rawValue||(t=Ji.fromFloatTo7Bit(t)),this.send([(mi.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(t)],{time:Ji.toTimestamp(i.time)}),this}sendMasterTuning(t,i={}){if(t=parseFloat(t)||0,Li.validation&&!(t>-65&&t<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let n=Math.floor(t)+64,a=t-Math.floor(t);a=Math.round((a+1)/2*16383);let o=a>>7&127,l=a&127;return this.sendRpnValue("channelcoarsetuning",n,i),this.sendRpnValue("channelfinetuning",[o,l],i),this}sendModulationRange(t,i,n={}){if(Li.validation){if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(i!=null&&(!Number.isInteger(i)||!(i>=0&&i<=127)))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return i>=0&&i<=127||(i=0),this.sendRpnValue("modulationrange",[t,i],n),this}sendNrpnValue(t,i,n={}){if(i=[].concat(i),Li.validation){if(!Array.isArray(t)||!Number.isInteger(t[0])||!Number.isInteger(t[1]))throw new TypeError("The specified NRPN is invalid.");if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");i.forEach(a=>{if(!(a>=0&&a<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")})}return this._selectNonRegisteredParameter(t,n),this._setCurrentParameter(i,n),this._deselectNonRegisteredParameter(n),this}sendPitchBend(t,i={}){if(Li.validation)if(i.rawValue&&Array.isArray(t)){if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(i.rawValue&&!Array.isArray(t)){if(!(t>=0&&t<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(t)||t===null)throw new RangeError("Invalid pitch bend value.");if(!(t>=-1&&t<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let n=0,a=0;if(i.rawValue&&Array.isArray(t))n=t[0],a=t[1];else if(i.rawValue&&!Array.isArray(t))n=t;else{const o=Ji.fromFloatToMsbLsb((t+1)/2);n=o.msb,a=o.lsb}return this.send([(mi.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),a,n],{time:Ji.toTimestamp(i.time)}),this}sendPitchBendRange(t,i,n={}){if(Li.validation){if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(i)||!(i>=0&&i<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[t,i],n),this}sendProgramChange(t,i={}){if(t=parseInt(t)||0,Li.validation&&!(t>=0&&t<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(mi.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),t],{time:Ji.toTimestamp(i.time)}),this}sendRpnValue(t,i,n={}){if(Array.isArray(t)||(t=mi.REGISTERED_PARAMETERS[t]),Li.validation){if(!Number.isInteger(t[0])||!Number.isInteger(t[1]))throw new TypeError("The specified NRPN is invalid.");if(!(t[0]>=0&&t[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(t[1]>=0&&t[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(i).forEach(a=>{if(!(a>=0&&a<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")})}return this._selectRegisteredParameter(t,n),this._setCurrentParameter(i,n),this._deselectRegisteredParameter(n),this}sendTuningBank(t,i={}){if(Li.validation&&(!Number.isInteger(t)||!(t>=0&&t<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",t,i),this}sendTuningProgram(t,i={}){if(Li.validation&&(!Number.isInteger(t)||!(t>=0&&t<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",t,i),this}sendLocalControl(t,i={}){return t?this.sendChannelMode("localcontrol",127,i):this.sendChannelMode("localcontrol",0,i)}sendAllNotesOff(t={}){return this.sendChannelMode("allnotesoff",0,t)}sendAllSoundOff(t={}){return this.sendChannelMode("allsoundoff",0,t)}sendResetAllControllers(t={}){return this.sendChannelMode("resetallcontrollers",0,t)}sendPolyphonicMode(t,i={}){return t==="mono"?this.sendChannelMode("monomodeon",0,i):this.sendChannelMode("polymodeon",0,i)}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get output(){return this._output}get number(){return this._number}}/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class ny extends Ko{constructor(t){super(),this._midiOutput=t,this._octaveOffset=0,this.channels=[];for(let i=1;i<=16;i++)this.channels[i]=new W9t(this,i);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(t=>t.destroy()),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(t){let i={timestamp:Li.time};t.port.connection==="open"?(i.type="opened",i.target=this,i.port=i.target,this.emit("opened",i)):t.port.connection==="closed"&&t.port.state==="connected"?(i.type="closed",i.target=this,i.port=i.target,this.emit("closed",i)):t.port.connection==="closed"&&t.port.state==="disconnected"?(i.type="disconnected",i.port={connection:t.port.connection,id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this.emit("disconnected",i)):t.port.connection==="pending"&&t.port.state==="disconnected"||console.warn("This statechange event was not caught:",t.port.connection,t.port.state)}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(t){return Promise.reject(t)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}send(t,i={time:0},n=0){if(t instanceof lL&&(t=Ji.isNode?t.data:t.rawData),t instanceof Uint8Array&&Ji.isNode&&(t=Array.from(t)),Li.validation){if(!Array.isArray(t)&&!(t instanceof Uint8Array)&&(t=[t],Array.isArray(i)&&(t=t.concat(i)),i=isNaN(n)?{time:0}:{time:n}),!(parseInt(t[0])>=128&&parseInt(t[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");t.slice(1).forEach(a=>{if(a=parseInt(a),!(a>=0&&a<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")}),i||(i={time:0})}return this._midiOutput.send(t,Ji.toTimestamp(i.time)),this}sendSysex(t,i=[],n={}){if(t=[].concat(t),i instanceof Uint8Array){const a=new Uint8Array(1+t.length+i.length+1);a[0]=mi.SYSTEM_MESSAGES.sysex,a.set(Uint8Array.from(t),1),a.set(i,1+t.length),a[a.length-1]=mi.SYSTEM_MESSAGES.sysexend,this.send(a,{time:n.time})}else{const a=t.concat(i,mi.SYSTEM_MESSAGES.sysexend);this.send([mi.SYSTEM_MESSAGES.sysex].concat(a),{time:n.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():Li.validation&&console.warn("The 'clear()' method has not yet been implemented in your environment."),this}sendTimecodeQuarterFrame(t,i={}){if(Li.validation&&(t=parseInt(t),isNaN(t)||!(t>=0&&t<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([mi.SYSTEM_MESSAGES.timecode,t],{time:i.time}),this}sendSongPosition(t=0,i={}){t=Math.floor(t)||0;var n=t>>7&127,a=t&127;return this.send([mi.SYSTEM_MESSAGES.songposition,n,a],{time:i.time}),this}sendSongSelect(t=0,i={}){if(Li.validation&&(t=parseInt(t),isNaN(t)||!(t>=0&&t<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([mi.SYSTEM_MESSAGES.songselect,t],{time:i.time}),this}sendTuneRequest(t={}){return this.send([mi.SYSTEM_MESSAGES.tunerequest],{time:t.time}),this}sendClock(t={}){return this.send([mi.SYSTEM_MESSAGES.clock],{time:t.time}),this}sendStart(t={}){return this.send([mi.SYSTEM_MESSAGES.start],{time:t.time}),this}sendContinue(t={}){return this.send([mi.SYSTEM_MESSAGES.continue],{time:t.time}),this}sendStop(t={}){return this.send([mi.SYSTEM_MESSAGES.stop],{time:t.time}),this}sendActiveSensing(t={}){return this.send([mi.SYSTEM_MESSAGES.activesensing],{time:t.time}),this}sendReset(t={}){return this.send([mi.SYSTEM_MESSAGES.reset],{time:t.time}),this}sendTuningRequest(t={}){return Li.validation&&console.warn("The sendTuningRequest() method has been deprecated. Use sendTuningRequest() instead."),this.sendTuneRequest(t)}sendKeyAftertouch(t,i,n={}){return n.channels==null&&(n.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendKeyAftertouch(t,i,n)}),this}sendControlChange(t,i,n={},a={}){if(Li.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const o=n;n=a,n.channels=o,n.channels==="all"&&(n.channels=mi.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(n.channels).forEach(o=>{this.channels[o].sendControlChange(t,i,n)}),this}sendPitchBendRange(t=0,i=0,n={}){return n.channels==null&&(n.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendPitchBendRange(t,i,n)}),this}setPitchBendRange(t=0,i=0,n="all",a={}){return Li.validation&&(console.warn("The setPitchBendRange() method is deprecated. Use sendPitchBendRange() instead."),a.channels=n,a.channels==="all"&&(a.channels=mi.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(t,i,a)}sendRpnValue(t,i,n={}){return n.channels==null&&(n.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendRpnValue(t,i,n)}),this}setRegisteredParameter(t,i=[],n="all",a={}){return Li.validation&&(console.warn("The setRegisteredParameter() method is deprecated. Use sendRpnValue() instead."),a.channels=n,a.channels==="all"&&(a.channels=mi.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(t,i,a)}sendChannelAftertouch(t,i={},n={}){if(Li.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=mi.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendChannelAftertouch(t,i)}),this}sendPitchBend(t,i={},n={}){if(Li.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=mi.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendPitchBend(t,i)}),this}sendProgramChange(t=0,i={},n={}){if(Li.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=mi.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendProgramChange(t,i)}),this}sendModulationRange(t,i,n={}){return n.channels==null&&(n.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendModulationRange(t,i,n)}),this}setModulationRange(t=0,i=0,n="all",a={}){return Li.validation&&(console.warn("The setModulationRange() method is deprecated. Use sendModulationRange() instead."),a.channels=n,a.channels==="all"&&(a.channels=mi.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(t,i,a)}sendMasterTuning(t,i={}){return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(n=>{this.channels[n].sendMasterTuning(t,i)}),this}setMasterTuning(t,i={},n={}){return Li.validation&&(console.warn("The setMasterTuning() method is deprecated. Use sendMasterTuning() instead."),n.channels=i,n.channels==="all"&&(n.channels=mi.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(t,n)}sendTuningProgram(t,i={}){return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(n=>{this.channels[n].sendTuningProgram(t,i)}),this}setTuningProgram(t,i="all",n={}){return Li.validation&&(console.warn("The setTuningProgram() method is deprecated. Use sendTuningProgram() instead."),n.channels=i,n.channels==="all"&&(n.channels=mi.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(t,n)}sendTuningBank(t=0,i={}){return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(n=>{this.channels[n].sendTuningBank(t,i)}),this}setTuningBank(t,i="all",n={}){return Li.validation&&(console.warn("The setTuningBank() method is deprecated. Use sendTuningBank() instead."),n.channels=i,n.channels==="all"&&(n.channels=mi.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(t,n)}sendChannelMode(t,i=0,n={},a={}){if(Li.validation&&(Array.isArray(n)||Number.isInteger(n)||n==="all")){const o=n;n=a,n.channels=o,n.channels==="all"&&(n.channels=mi.MIDI_CHANNEL_NUMBERS)}return n.channels==null&&(n.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(n.channels).forEach(o=>{this.channels[o].sendChannelMode(t,i,n)}),this}sendAllSoundOff(t={}){return t.channels==null&&(t.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(t.channels).forEach(i=>{this.channels[i].sendAllSoundOff(t)}),this}sendAllNotesOff(t={}){return t.channels==null&&(t.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(t.channels).forEach(i=>{this.channels[i].sendAllNotesOff(t)}),this}sendResetAllControllers(t={},i={}){if(Li.validation&&(Array.isArray(t)||Number.isInteger(t)||t==="all")){const n=t;t=i,t.channels=n,t.channels==="all"&&(t.channels=mi.MIDI_CHANNEL_NUMBERS)}return t.channels==null&&(t.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(t.channels).forEach(n=>{this.channels[n].sendResetAllControllers(t)}),this}sendPolyphonicMode(t,i={},n={}){if(Li.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=mi.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendPolyphonicMode(t,i)}),this}sendLocalControl(t,i={},n={}){if(Li.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=mi.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendLocalControl(t,i)}),this}sendOmniMode(t,i={},n={}){if(Li.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=mi.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendOmniMode(t,i)}),this}sendNrpnValue(t,i,n={}){return n.channels==null&&(n.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].sendNrpnValue(t,i,n)}),this}setNonRegisteredParameter(t,i=[],n="all",a={}){return Li.validation&&(console.warn("The setNonRegisteredParameter() method is deprecated. Use sendNrpnValue() instead."),a.channels=n,a.channels==="all"&&(a.channels=mi.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(t,i,a)}sendRpnIncrement(t,i={}){return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(n=>{this.channels[n].sendRpnIncrement(t,i)}),this}incrementRegisteredParameter(t,i="all",n={}){return Li.validation&&(console.warn("The incrementRegisteredParameter() method is deprecated. Use sendRpnIncrement() instead."),n.channels=i,n.channels==="all"&&(n.channels=mi.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(t,n)}sendRpnDecrement(t,i={}){return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(n=>{this.channels[n].sendRpnDecrement(t,i)}),this}decrementRegisteredParameter(t,i="all",n={}){return Li.validation&&(console.warn("The decrementRegisteredParameter() method is deprecated. Use sendRpnDecrement() instead."),n.channels=i,n.channels==="all"&&(n.channels=mi.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(t,n)}sendNoteOff(t,i={},n={}){if(Li.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=mi.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendNoteOff(t,i)}),this}stopNote(t,i){return this.sendNoteOff(t,i)}playNote(t,i={},n={}){if(Li.validation&&(i.rawVelocity&&console.warn("The 'rawVelocity' option is deprecated. Use 'rawAttack' instead."),i.velocity&&console.warn("The 'velocity' option is deprecated. Use 'velocity' instead."),Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=mi.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].playNote(t,i)}),this}sendNoteOn(t,i={},n={}){if(Li.validation&&(Array.isArray(i)||Number.isInteger(i)||i==="all")){const a=i;i=n,i.channels=a,i.channels==="all"&&(i.channels=mi.MIDI_CHANNEL_NUMBERS)}return i.channels==null&&(i.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(i.channels).forEach(a=>{this.channels[a].sendNoteOn(t,i)}),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}}/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class dO{constructor(t=[],i={}){this.destinations=[],this.types=[...Object.keys(mi.SYSTEM_MESSAGES),...Object.keys(mi.CHANNEL_MESSAGES)],this.channels=mi.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(t)||(t=[t]),i.types&&!Array.isArray(i.types)&&(i.types=[i.types]),i.channels&&!Array.isArray(i.channels)&&(i.channels=[i.channels]),Li.validation&&(t.forEach(n=>{if(!(n instanceof ny))throw new TypeError("Destinations must be of type 'Output'.")}),i.types!==void 0&&i.types.forEach(n=>{if(!mi.SYSTEM_MESSAGES.hasOwnProperty(n)&&!mi.CHANNEL_MESSAGES.hasOwnProperty(n))throw new TypeError("Type must be a valid message type.")}),i.channels!==void 0&&i.channels.forEach(n=>{if(!mi.MIDI_CHANNEL_NUMBERS.includes(n))throw new TypeError("MIDI channel must be between 1 and 16.")})),this.destinations=t,i.types&&(this.types=i.types),i.channels&&(this.channels=i.channels)}forward(t){this.suspended||this.types.includes(t.type)&&(t.channel&&!this.channels.includes(t.channel)||this.destinations.forEach(i=>{Li.validation&&!(i instanceof ny)||i.send(t)}))}}/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class K9t extends Ko{constructor(t,i){super(),this._input=t,this._number=i,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(t){const i=Object.assign({},t);i.port=this.input,i.target=this,i.type="midimessage",this.emit(i.type,i),this._parseEventForStandardMessages(i)}_parseEventForStandardMessages(t){const i=Object.assign({},t);i.type=i.message.type||"unknownmessage";const n=t.message.dataBytes[0],a=t.message.dataBytes[1];if(i.type==="noteoff"||i.type==="noteon"&&a===0)this.notesState[n]=!1,i.type="noteoff",i.note=new pd(Ji.offsetNumber(n,this.octaveOffset+this.input.octaveOffset+Li.octaveOffset),{rawAttack:0,rawRelease:a}),i.value=Ji.from7bitToFloat(a),i.rawValue=a,i.velocity=i.note.release,i.rawVelocity=i.note.rawRelease;else if(i.type==="noteon")this.notesState[n]=!0,i.note=new pd(Ji.offsetNumber(n,this.octaveOffset+this.input.octaveOffset+Li.octaveOffset),{rawAttack:a}),i.value=Ji.from7bitToFloat(a),i.rawValue=a,i.velocity=i.note.attack,i.rawVelocity=i.note.rawAttack;else if(i.type==="keyaftertouch")i.note=new pd(Ji.offsetNumber(n,this.octaveOffset+this.input.octaveOffset+Li.octaveOffset)),i.value=Ji.from7bitToFloat(a),i.rawValue=a,i.identifier=i.note.identifier,i.key=i.note.number,i.rawKey=n;else if(i.type==="controlchange"){i.controller={number:n,name:mi.CONTROL_CHANGE_MESSAGES[n].name,description:mi.CONTROL_CHANGE_MESSAGES[n].description,position:mi.CONTROL_CHANGE_MESSAGES[n].position},i.subtype=i.controller.name||"controller"+n,i.value=Ji.from7bitToFloat(a),i.rawValue=a;const o=Object.assign({},i);o.type=`${i.type}-controller${n}`,delete o.subtype,this.emit(o.type,o);const l=Object.assign({},i);l.type=`${i.type}-`+mi.CONTROL_CHANGE_MESSAGES[n].name,delete l.subtype,l.type.indexOf("controller")!==0&&this.emit(l.type,l),i.message.dataBytes[0]>=120&&this._parseChannelModeMessage(i),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(i.message.dataBytes[0])&&this._parseEventForParameterNumber(i)}else i.type==="programchange"?(i.value=n,i.rawValue=i.value):i.type==="channelaftertouch"?(i.value=Ji.from7bitToFloat(n),i.rawValue=n):i.type==="pitchbend"?(i.value=((a<<7)+n-8192)/8192,i.rawValue=(a<<7)+n):i.type="unknownmessage";this.emit(i.type,i)}_parseChannelModeMessage(t){const i=Object.assign({},t);i.type=i.controller.name,i.type==="localcontrol"&&(i.value=i.message.data[2]===127,i.rawValue=i.message.data[2]),i.type==="omnimodeon"?(i.type="omnimode",i.value=!0,i.rawValue=i.message.data[2]):i.type==="omnimodeoff"&&(i.type="omnimode",i.value=!1,i.rawValue=i.message.data[2]),i.type==="monomodeon"?(i.type="monomode",i.value=!0,i.rawValue=i.message.data[2]):i.type==="polymodeon"&&(i.type="monomode",i.value=!1,i.rawValue=i.message.data[2]),this.emit(i.type,i)}_parseEventForParameterNumber(t){const i=t.message.dataBytes[0],n=t.message.dataBytes[1];i===99||i===101?(this._nrpnBuffer=[],this._rpnBuffer=[],i===99?this._nrpnBuffer=[t.message]:n!==127&&(this._rpnBuffer=[t.message])):i===98||i===100?i===98?(this._rpnBuffer=[],this._nrpnBuffer.length===1?this._nrpnBuffer.push(t.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],this._rpnBuffer.length===1&&n!==127?this._rpnBuffer.push(t.message):this._rpnBuffer=[]):(i===6||i===38||i===96||i===97)&&(this._rpnBuffer.length===2?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],t):this._nrpnBuffer.length===2?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],t):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(t){return t===6||t===38||t===96||t===97||t===98||t===99||t===100||t===101}_dispatchParameterNumberEvent(t,i,n,a){t=t==="nrpn"?"nrpn":"rpn";const o={target:a.target,timestamp:a.timestamp,message:a.message,parameterMsb:i,parameterLsb:n,value:Ji.from7bitToFloat(a.message.dataBytes[1]),rawValue:a.message.dataBytes[1]};t==="rpn"?o.parameter=Object.keys(mi.REGISTERED_PARAMETERS).find(d=>mi.REGISTERED_PARAMETERS[d][0]===i&&mi.REGISTERED_PARAMETERS[d][1]===n):o.parameter=(i<<7)+n;const l=mi.CONTROL_CHANGE_MESSAGES[a.message.dataBytes[0]].name;o.type=`${t}-${l}`,this.emit(o.type,o);const c=Object.assign({},o);c.type==="nrpn-dataincrement"?c.type="nrpn-databuttonincrement":c.type==="nrpn-datadecrement"?c.type="nrpn-databuttondecrement":c.type==="rpn-dataincrement"?c.type="rpn-databuttonincrement":c.type==="rpn-datadecrement"&&(c.type="rpn-databuttondecrement"),this.emit(c.type,c),o.type=t,o.subtype=l,this.emit(o.type,o)}getChannelModeByNumber(t){return Li.validation&&(console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class."),t=Math.floor(t)),Ji.getChannelModeByNumber(t)}getCcNameByNumber(t){if(Li.validation&&(console.warn("The 'getCcNameByNumber()' method has been moved to the 'Utilities' class."),t=parseInt(t),!(t>=0&&t<=127)))throw new RangeError("Invalid control change number.");return Ji.getCcNameByNumber(t)}getNoteState(t){t instanceof pd&&(t=t.identifier);const i=Ji.guessNoteNumber(t,Li.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[i]}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(t){this.validation&&(t=!!t),this.parameterNumberEventsEnabled=t}}/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class lL{constructor(t){this.rawData=t,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=(this.statusByte&15)+1):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=Ji.getPropertyByValue(mi.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=Ji.getPropertyByValue(mi.SYSTEM_MESSAGES,this.command)),this.statusByte===mi.SYSTEM_MESSAGES.sysex&&(this.dataBytes[0]===0?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class q9t extends Ko{constructor(t){super(),this._midiInput=t,this._octaveOffset=0,this.channels=[];for(let i=1;i<=16;i++)this.channels[i]=new K9t(this,i);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach(t=>t.destroy()),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(t){let i={timestamp:Li.time,target:this,port:this};t.port.connection==="open"?(i.type="opened",this.emit("opened",i)):t.port.connection==="closed"&&t.port.state==="connected"?(i.type="closed",this.emit("closed",i)):t.port.connection==="closed"&&t.port.state==="disconnected"?(i.type="disconnected",i.port={connection:t.port.connection,id:t.port.id,manufacturer:t.port.manufacturer,name:t.port.name,state:t.port.state,type:t.port.type},this.emit("disconnected",i)):t.port.connection==="pending"&&t.port.state==="disconnected"||console.warn("This statechange event was not caught: ",t.port.connection,t.port.state)}_onMidiMessage(t){const i=new lL(t.data),n={port:this,target:this,message:i,timestamp:t.timeStamp,type:"midimessage",data:i.data,rawData:i.data,statusByte:i.data[0],dataBytes:i.dataBytes};this.emit("midimessage",n),i.isSystemMessage?this._parseEvent(n):i.isChannelMessage&&this.channels[i.channel]._processMidiMessageEvent(n),this._forwarders.forEach(a=>a.forward(i))}_parseEvent(t){const i=Object.assign({},t);i.type=i.message.type||"unknownmidimessage",i.type==="songselect"&&(i.song=t.data[1]+1,i.value=t.data[1],i.rawValue=i.value),this.emit(i.type,i)}async open(){try{await this._midiInput.open()}catch(t){return Promise.reject(t)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(t){return Promise.reject(t)}return Promise.resolve(this)}getChannelModeByNumber(){Li.validation&&console.warn("The 'getChannelModeByNumber()' method has been moved to the 'Utilities' class.")}addListener(t,i,n={}){if(Li.validation&&typeof n=="function"){let a=i!=null?[].concat(i):void 0;i=n,n={channels:a}}if(mi.CHANNEL_EVENTS.includes(t)){n.channels===void 0&&(n.channels=mi.MIDI_CHANNEL_NUMBERS);let a=[];return Ji.sanitizeChannels(n.channels).forEach(o=>{a.push(this.channels[o].addListener(t,i,n))}),a}else return super.addListener(t,i,n)}addOneTimeListener(t,i,n={}){return n.remaining=1,this.addListener(t,i,n)}on(t,i,n,a){return this.addListener(t,i,n,a)}hasListener(t,i,n={}){if(Li.validation&&typeof n=="function"){let a=[].concat(i);i=n,n={channels:a}}return mi.CHANNEL_EVENTS.includes(t)?(n.channels===void 0&&(n.channels=mi.MIDI_CHANNEL_NUMBERS),Ji.sanitizeChannels(n.channels).every(a=>this.channels[a].hasListener(t,i))):super.hasListener(t,i)}removeListener(t,i,n={}){if(Li.validation&&typeof n=="function"){let a=[].concat(i);i=n,n={channels:a}}if(n.channels===void 0&&(n.channels=mi.MIDI_CHANNEL_NUMBERS),t==null)return Ji.sanitizeChannels(n.channels).forEach(a=>{this.channels[a]&&this.channels[a].removeListener()}),super.removeListener();mi.CHANNEL_EVENTS.includes(t)?Ji.sanitizeChannels(n.channels).forEach(a=>{this.channels[a].removeListener(t,i,n)}):super.removeListener(t,i,n)}addForwarder(t,i={}){let n;return t instanceof dO?n=t:n=new dO(t,i),this._forwarders.push(n),n}removeForwarder(t){this._forwarders=this._forwarders.filter(i=>i!==t)}hasForwarder(t){return this._forwarders.includes(t)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return Li.validation&&console.warn("The 'nrpnEventsEnabled' property has been moved to the 'InputChannel' class."),!1}}/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class X9t extends Ko{constructor(){super(),this.defaults={note:{attack:Ji.from7bitToFloat(64),release:Ji.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(t={},i=!1){if(Ji.isNode){try{window.navigator}catch{let c=await Object.getPrototypeOf(async function(){}).constructor(`
        let jzz = await import("jzz");
        return jzz.default;
        `)();global.navigator||(global.navigator={}),Object.assign(global.navigator,c)}try{}catch{global.performance=await Object.getPrototypeOf(async function(){}).constructor(`
        let perf_hooks = await import("perf_hooks");
        return perf_hooks.performance;
        `)()}}if(this.validation=t.validation!==!1,this.validation&&(typeof t=="function"&&(t={callback:t,sysex:i}),i&&(t.sysex=!0)),this.enabled)return typeof t.callback=="function"&&t.callback(),Promise.resolve();const n={timestamp:this.time,target:this,type:"error",error:void 0},a={timestamp:this.time,target:this,type:"midiaccessgranted"},o={timestamp:this.time,target:this,type:"enabled"};try{typeof t.requestMIDIAccessFunction=="function"?this.interface=await t.requestMIDIAccessFunction({sysex:t.sysex,software:t.software}):this.interface=await navigator.requestMIDIAccess({sysex:t.sysex,software:t.software})}catch(l){return n.error=l,this.emit("error",n),typeof t.callback=="function"&&t.callback(l),Promise.reject(l)}this.emit("midiaccessgranted",a),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(l){return n.error=l,this.emit("error",n),typeof t.callback=="function"&&t.callback(l),Promise.reject(l)}return this.emit("enabled",o),typeof t.callback=="function"&&t.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then(()=>{navigator&&typeof navigator.close=="function"&&navigator.close(),this.interface=null;let t={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",t),this.removeListener()})}getInputById(t,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return}if(i.disconnected){for(let n=0;n<this._disconnectedInputs.length;n++)if(this._disconnectedInputs[n].id===t.toString())return this._disconnectedInputs[n]}else for(let n=0;n<this.inputs.length;n++)if(this.inputs[n].id===t.toString())return this.inputs[n]}getInputByName(t,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return;t=t.toString()}if(i.disconnected){for(let n=0;n<this._disconnectedInputs.length;n++)if(~this._disconnectedInputs[n].name.indexOf(t))return this._disconnectedInputs[n]}else for(let n=0;n<this.inputs.length;n++)if(~this.inputs[n].name.indexOf(t))return this.inputs[n]}getOutputByName(t,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return;t=t.toString()}if(i.disconnected){for(let n=0;n<this._disconnectedOutputs.length;n++)if(~this._disconnectedOutputs[n].name.indexOf(t))return this._disconnectedOutputs[n]}else for(let n=0;n<this.outputs.length;n++)if(~this.outputs[n].name.indexOf(t))return this.outputs[n]}getOutputById(t,i={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!t)return}if(i.disconnected){for(let n=0;n<this._disconnectedOutputs.length;n++)if(this._disconnectedOutputs[n].id===t.toString())return this._disconnectedOutputs[n]}else for(let n=0;n<this.outputs.length;n++)if(this.outputs[n].id===t.toString())return this.outputs[n]}noteNameToNumber(t){return this.validation&&console.warn("The noteNameToNumber() method is deprecated. Use Utilities.toNoteNumber() instead."),Ji.toNoteNumber(t,this.octaveOffset)}getOctave(t){return this.validation&&(console.warn("The getOctave()is deprecated. Use Utilities.getNoteDetails() instead"),t=parseInt(t)),!isNaN(t)&&t>=0&&t<=127?Ji.getNoteDetails(Ji.offsetNumber(t,this.octaveOffset)).octave:!1}sanitizeChannels(t){return this.validation&&console.warn("The sanitizeChannels() method has been moved to the utilities class."),Ji.sanitizeChannels(t)}toMIDIChannels(t){return this.validation&&console.warn("The toMIDIChannels() method has been deprecated. Use Utilities.sanitizeChannels() instead."),Ji.sanitizeChannels(t)}guessNoteNumber(t){return this.validation&&console.warn("The guessNoteNumber() method has been deprecated. Use Utilities.guessNoteNumber() instead."),Ji.guessNoteNumber(t,this.octaveOffset)}getValidNoteArray(t,i={}){return this.validation&&console.warn("The getValidNoteArray() method has been moved to the Utilities.buildNoteArray()"),Ji.buildNoteArray(t,i)}convertToTimestamp(t){return this.validation&&console.warn("The convertToTimestamp() method has been moved to Utilities.toTimestamp()."),Ji.toTimestamp(t)}async _destroyInputsAndOutputs(){let t=[];return this.inputs.forEach(i=>t.push(i.destroy())),this.outputs.forEach(i=>t.push(i.destroy())),Promise.all(t).then(()=>{this._inputs=[],this._outputs=[]})}_onInterfaceStateChange(t){this._updateInputsAndOutputs();let i={timestamp:t.timeStamp,type:t.port.state,target:this};if(t.port.state==="connected"&&t.port.connection==="open"){t.port.type==="output"?i.port=this.getOutputById(t.port.id):t.port.type==="input"&&(i.port=this.getInputById(t.port.id)),this.emit(t.port.state,i);const n=Object.assign({},i);n.type="portschanged",this.emit(n.type,n)}else if(t.port.state==="disconnected"&&t.port.connection==="pending"){t.port.type==="input"?i.port=this.getInputById(t.port.id,{disconnected:!0}):t.port.type==="output"&&(i.port=this.getOutputById(t.port.id,{disconnected:!0})),this.emit(t.port.state,i);const n=Object.assign({},i);n.type="portschanged",this.emit(n.type,n)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let i=this._inputs.length-1;i>=0;i--){const n=this._inputs[i];Array.from(this.interface.inputs.values()).find(o=>o===n._midiInput)||(this._disconnectedInputs.push(n),this._inputs.splice(i,1))}let t=[];return this.interface.inputs.forEach(i=>{if(!this._inputs.find(n=>n._midiInput===i)){let n=this._disconnectedInputs.find(a=>a._midiInput===i);n||(n=new q9t(i)),this._inputs.push(n),t.push(n.open())}}),Promise.all(t)}async _updateOutputs(){if(!this.interface)return;for(let i=this._outputs.length-1;i>=0;i--){const n=this._outputs[i];Array.from(this.interface.outputs.values()).find(o=>o===n._midiOutput)||(this._disconnectedOutputs.push(n),this._outputs.splice(i,1))}let t=[];return this.interface.outputs.forEach(i=>{if(!this._outputs.find(n=>n._midiOutput===i)){let n=this._disconnectedOutputs.find(a=>a._midiOutput===i);n||(n=new ny(i)),this._outputs.push(n),t.push(n.open())}}),Promise.all(t)}get enabled(){return this.interface!==null}get inputs(){return this._inputs}get isNode(){return this.validation&&console.warn("WebMidi.isNode has been deprecated. Use Utilities.isNode instead."),Ji.isNode}get isBrowser(){return this.validation&&console.warn("WebMidi.isBrowser has been deprecated. Use Utilities.isBrowser instead."),Ji.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(t){if(this.validation&&(t=parseInt(t),isNaN(t)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=t}get outputs(){return this._outputs}get supported(){return typeof navigator<"u"&&!!navigator.requestMIDIAccess}get sysexEnabled(){return!!(this.interface&&this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.11"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation&&console.warn("The CHANNEL_EVENTS enum has been moved to Enumerations.CHANNEL_EVENTS."),mi.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation&&console.warn("The MIDI_SYSTEM_MESSAGES enum has been moved to Enumerations.SYSTEM_MESSAGES."),mi.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation&&console.warn("The MIDI_CHANNEL_MODE_MESSAGES enum has been moved to Enumerations.CHANNEL_MODE_MESSAGES."),mi.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation&&console.warn("The MIDI_CONTROL_CHANGE_MESSAGES enum has been replaced by the Enumerations.CONTROL_CHANGE_MESSAGES array."),mi.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation&&console.warn("The MIDI_REGISTERED_PARAMETER enum has been moved to Enumerations.REGISTERED_PARAMETERS."),mi.REGISTERED_PARAMETERS}get NOTES(){return this.validation&&console.warn("The NOTES enum has been deprecated."),["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}}const Li=new X9t;Li.constructor=null;function Y9t(e){let t,i,n,a,o,l,c,d,u,h,p;return{c(){t=q("button"),i=q("div"),n=te(e[2]),a=K(),o=Es("svg"),l=Es("rect"),d=Es("circle"),mt(l,"x",lc),mt(l,"y",lc),mt(l,"width",k4-2*lc),mt(l,"height",Rg-2*lc),mt(l,"rx",8),mt(l,"fill",c=e[0]?"var(--accentDark)":"#aaa"),mt(l,"class","svelte-1ijr3d"),mt(d,"cx",u=e[0]?k4-lc-B2-2:lc+B2+2),mt(d,"cy",Rg/2),mt(d,"r",B2),mt(d,"fill","white"),mt(d,"class","svelte-1ijr3d"),mt(o,"class","indicator"),mt(o,"width",k4),mt(o,"height",Rg),mt(t,"title",e[3]),mt(t,"class","svelte-1ijr3d")},m(f,M){bt(f,t,M),B(t,i),B(i,n),B(t,a),B(t,o),B(o,l),B(o,d),h||(p=ze(t,"click",e[4]),h=!0)},p(f,[M]){M&4&&Qe(n,f[2]),M&1&&c!==(c=f[0]?"var(--accentDark)":"#aaa")&&mt(l,"fill",c),M&1&&u!==(u=f[0]?k4-lc-B2-2:lc+B2+2)&&mt(d,"cx",u),M&8&&mt(t,"title",f[3])},i:We,o:We,d(f){f&&vt(t),h=!1,p()}}}const k4=30,Rg=20,lc=2,B2=5;function Z9t(e,t,i){let{checked:n=!0}=t,{callback:a=d=>{}}=t,{label:o=""}=t,{title:l=""}=t;const c=()=>{i(0,n=!n),a(n)};return e.$$set=d=>{"checked"in d&&i(0,n=d.checked),"callback"in d&&i(1,a=d.callback),"label"in d&&i(2,o=d.label),"title"in d&&i(3,l=d.title)},[n,a,o,l,c]}class zn extends Zi{constructor(t){super(),Yi(this,t,Z9t,Y9t,Xi,{checked:0,callback:1,label:2,title:3})}}const cL="15.0.4",hO=(e,t,i)=>({endTime:t,insertTime:i,type:"exponentialRampToValue",value:e}),fO=(e,t,i)=>({endTime:t,insertTime:i,type:"linearRampToValue",value:e}),ry=(e,t)=>({startTime:t,type:"setValue",value:e}),uL=(e,t,i)=>({duration:i,startTime:t,type:"setValueCurve",values:e}),dL=(e,t,{startTime:i,target:n,timeConstant:a})=>n+(t-n)*Math.exp((i-e)/a),gd=e=>e.type==="exponentialRampToValue",o8=e=>e.type==="linearRampToValue",mc=e=>gd(e)||o8(e),JA=e=>e.type==="setValue",ul=e=>e.type==="setValueCurve",s8=(e,t,i,n)=>{const a=e[t];return a===void 0?n:mc(a)||JA(a)?a.value:ul(a)?a.values[a.values.length-1]:dL(i,s8(e,t-1,a.startTime,n),a)},mO=(e,t,i,n,a)=>i===void 0?[n.insertTime,a]:mc(i)?[i.endTime,i.value]:JA(i)?[i.startTime,i.value]:ul(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,s8(e,t-1,i.startTime,a)],ay=e=>e.type==="cancelAndHold",oy=e=>e.type==="cancelScheduledValues",cc=e=>ay(e)||oy(e)?e.cancelTime:gd(e)||o8(e)?e.endTime:e.startTime,pO=(e,t,i,{endTime:n,value:a})=>i===a?a:0<i&&0<a||i<0&&a<0?i*(a/i)**((e-t)/(n-t)):0,gO=(e,t,i,{endTime:n,value:a})=>i+(e-t)/(n-t)*(a-i),trt=(e,t)=>{const i=Math.floor(t),n=Math.ceil(t);return i===n?e[i]:(1-(t-i))*e[i]+(1-(n-t))*e[n]},ert=(e,{duration:t,startTime:i,values:n})=>{const a=(e-i)/t*(n.length-1);return trt(n,a)},L4=e=>e.type==="setTarget";class irt{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const i=cc(t);if(ay(t)||oy(t)){const n=this._automationEvents.findIndex(o=>oy(t)&&ul(o)?o.startTime+o.duration>=i:cc(o)>=i),a=this._automationEvents[n];if(n!==-1&&(this._automationEvents=this._automationEvents.slice(0,n)),ay(t)){const o=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&mc(a)){if(o!==void 0&&L4(o))throw new Error("The internal list is malformed.");const l=o===void 0?a.insertTime:ul(o)?o.startTime+o.duration:cc(o),c=o===void 0?this._defaultValue:ul(o)?o.values[o.values.length-1]:o.value,d=gd(a)?pO(i,l,c,a):gO(i,l,c,a),u=gd(a)?hO(d,i,this._currenTime):fO(d,i,this._currenTime);this._automationEvents.push(u)}if(o!==void 0&&L4(o)&&this._automationEvents.push(ry(this.getValue(i),i)),o!==void 0&&ul(o)&&o.startTime+o.duration>i){const l=i-o.startTime,c=(o.values.length-1)/o.duration,d=Math.max(2,1+Math.ceil(l*c)),u=l/(d-1)*c,h=o.values.slice(0,d);if(u<1)for(let p=1;p<d;p+=1){const f=u*p%1;h[p]=o.values[p-1]*(1-f)+o.values[p]*f}this._automationEvents[this._automationEvents.length-1]=uL(h,o.startTime,l)}}}else{const n=this._automationEvents.findIndex(l=>cc(l)>i),a=n===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[n-1];if(a!==void 0&&ul(a)&&cc(a)+a.duration>i)return!1;const o=gd(t)?hO(t.value,t.endTime,this._currenTime):o8(t)?fO(t.value,i,this._currenTime):t;if(n===-1)this._automationEvents.push(o);else{if(ul(t)&&i+t.duration>cc(this._automationEvents[n]))return!1;this._automationEvents.splice(n,0,o)}}return!0}flush(t){const i=this._automationEvents.findIndex(n=>cc(n)>t);if(i>1){const n=this._automationEvents.slice(i-1),a=n[0];L4(a)&&n.unshift(ry(s8(this._automationEvents,i-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=n}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const i=this._automationEvents.findIndex(l=>cc(l)>t),n=this._automationEvents[i],a=(i===-1?this._automationEvents.length:i)-1,o=this._automationEvents[a];if(o!==void 0&&L4(o)&&(n===void 0||!mc(n)||n.insertTime>t))return dL(t,s8(this._automationEvents,a-1,o.startTime,this._defaultValue),o);if(o!==void 0&&JA(o)&&(n===void 0||!mc(n)))return o.value;if(o!==void 0&&ul(o)&&(n===void 0||!mc(n)||o.startTime+o.duration>t))return t<o.startTime+o.duration?ert(t,o):o.values[o.values.length-1];if(o!==void 0&&mc(o)&&(n===void 0||!mc(n)))return o.value;if(n!==void 0&&gd(n)){const[l,c]=mO(this._automationEvents,a,o,n,this._defaultValue);return pO(t,l,c,n)}if(n!==void 0&&o8(n)){const[l,c]=mO(this._automationEvents,a,o,n,this._defaultValue);return gO(t,l,c,n)}return this._defaultValue}}const nrt=e=>({cancelTime:e,type:"cancelAndHold"}),rrt=e=>({cancelTime:e,type:"cancelScheduledValues"}),art=(e,t)=>({endTime:t,type:"exponentialRampToValue",value:e}),ort=(e,t)=>({endTime:t,type:"linearRampToValue",value:e}),srt=(e,t,i)=>({startTime:t,target:e,timeConstant:i,type:"setTarget"}),lrt=()=>new DOMException("","AbortError"),crt=e=>(t,i,[n,a,o],l)=>{e(t[a],[i,n,o],c=>c[0]===i&&c[1]===n,l)},urt=e=>(t,i,n)=>{const a=[];for(let o=0;o<n.numberOfInputs;o+=1)a.push(new Set);e.set(t,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:i})},drt=e=>(t,i)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})},nh=new WeakSet,hL=new WeakMap,$A=new WeakMap,fL=new WeakMap,GA=new WeakMap,h5=new WeakMap,mL=new WeakMap,sy=new WeakMap,ly=new WeakMap,cy=new WeakMap,pL={construct(){return pL}},hrt=e=>{try{const t=new Proxy(e,pL);new t}catch{return!1}return!0},MO=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,yO=(e,t)=>{const i=[];let n=e.replace(/^[\s]+/,""),a=n.match(MO);for(;a!==null;){const o=a[1].slice(1,-1),l=a[0].replace(/([\s]+)?;?$/,"").replace(o,new URL(o,t).toString());i.push(l),n=n.slice(a[0].length).replace(/^[\s]+/,""),a=n.match(MO)}return[i.join(";"),n]},AO=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},vO=e=>{if(!hrt(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},frt=(e,t,i,n,a,o,l,c,d,u,h,p,f)=>{let M=0;return(g,y,b={credentials:"omit"})=>{const v=h.get(g);if(v!==void 0&&v.has(y))return Promise.resolve();const C=u.get(g);if(C!==void 0){const E=C.get(y);if(E!==void 0)return E}const w=o(g),_=w.audioWorklet===void 0?a(y).then(([E,S])=>{const[I,T]=yO(E,S),k=`${I};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${T}
})})(window,'_AWGS')`;return i(k)}).then(()=>{const E=f._AWGS.pop();if(E===void 0)throw new SyntaxError;n(w.currentTime,w.sampleRate,()=>E(class{},void 0,(S,I)=>{if(S.trim()==="")throw t();const T=ly.get(w);if(T!==void 0){if(T.has(S))throw t();vO(I),AO(I.parameterDescriptors),T.set(S,I)}else vO(I),AO(I.parameterDescriptors),ly.set(w,new Map([[S,I]]))},w.sampleRate,void 0,void 0))}):Promise.all([a(y),Promise.resolve(e(p,p))]).then(([[E,S],I])=>{const T=M+1;M=T;const[k,D]=yO(E,S),U=`${k};((AudioWorkletProcessor,registerProcessor)=>{${D}
})(${I?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${I?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${I?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${T}',class extends AudioWorkletProcessor{process(){return !1}})`,V=new Blob([U],{type:"application/javascript; charset=utf-8"}),z=URL.createObjectURL(V);return w.audioWorklet.addModule(z,b).then(()=>{if(c(w))return w;const G=l(w);return G.audioWorklet.addModule(z,b).then(()=>G)}).then(G=>{if(d===null)throw new SyntaxError;try{new d(G,`__sac${T}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(z))});return C===void 0?u.set(g,new Map([[y,_]])):C.set(y,_),_.then(()=>{const E=h.get(g);E===void 0?h.set(g,new Set([y])):E.add(y)}).finally(()=>{const E=u.get(g);E!==void 0&&E.delete(y)}),_}},es=(e,t)=>{const i=e.get(t);if(i===void 0)throw new Error("A value with the given key could not be found.");return i},f5=(e,t)=>{const i=Array.from(e).filter(t);if(i.length>1)throw Error("More than one element was found.");if(i.length===0)throw Error("No element was found.");const[n]=i;return e.delete(n),n},gL=(e,t,i,n)=>{const a=es(e,t),o=f5(a,l=>l[0]===i&&l[1]===n);return a.size===0&&e.delete(t),o},v3=e=>es(mL,e),rh=e=>{if(nh.has(e))throw new Error("The AudioNode is already stored.");nh.add(e),v3(e).forEach(t=>t(!0))},ML=e=>"port"in e,b3=e=>{if(!nh.has(e))throw new Error("The AudioNode is not stored.");nh.delete(e),v3(e).forEach(t=>t(!1))},uy=(e,t)=>{!ML(e)&&t.every(i=>i.size===0)&&b3(e)},mrt=(e,t,i,n,a,o,l,c,d,u,h,p,f)=>{const M=new WeakMap;return(g,y,b,v,C)=>{const{activeInputs:w,passiveInputs:_}=o(y),{outputs:E}=o(g),S=c(g),I=T=>{const k=d(y),D=d(g);if(T){const N=gL(_,g,b,v);e(w,g,N,!1),!C&&!p(g)&&i(D,k,b,v),f(y)&&rh(y)}else{const N=n(w,g,b,v);t(_,v,N,!1),!C&&!p(g)&&a(D,k,b,v);const P=l(y);if(P===0)h(y)&&uy(y,w);else{const F=M.get(y);F!==void 0&&clearTimeout(F),M.set(y,setTimeout(()=>{h(y)&&uy(y,w)},P*1e3))}}};return u(E,[y,b,v],T=>T[0]===y&&T[1]===b&&T[2]===v,!0)?(S.add(I),h(g)?e(w,g,[b,v,I],!0):t(_,v,[g,b,I],!0),!0):!1}},prt=e=>(t,i,[n,a,o],l)=>{const c=t.get(n);c===void 0?t.set(n,new Set([[a,i,o]])):e(c,[a,i,o],d=>d[0]===a&&d[1]===i,l)},grt=e=>(t,i)=>{const n=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(n).connect(t.destination);const a=()=>{i.removeEventListener("ended",a),i.disconnect(n),n.disconnect()};i.addEventListener("ended",a)},Mrt=e=>(t,i)=>{e(t).add(i)},yrt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Art=(e,t,i,n,a,o)=>class extends e{constructor(c,d){const u=a(c),h={...yrt,...d},p=n(u,h),f=o(u)?t():null;super(c,!1,p,f),this._nativeAnalyserNode=p}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(c){this._nativeAnalyserNode.fftSize=c}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(c){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=c,!(c>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(c){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=c,!(this._nativeAnalyserNode.maxDecibels>c))throw this._nativeAnalyserNode.minDecibels=d,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(c){this._nativeAnalyserNode.smoothingTimeConstant=c}getByteFrequencyData(c){this._nativeAnalyserNode.getByteFrequencyData(c)}getByteTimeDomainData(c){this._nativeAnalyserNode.getByteTimeDomainData(c)}getFloatFrequencyData(c){this._nativeAnalyserNode.getFloatFrequencyData(c)}getFloatTimeDomainData(c){this._nativeAnalyserNode.getFloatTimeDomainData(c)}},ca=(e,t)=>e.context===t,vrt=(e,t,i)=>()=>{const n=new WeakMap,a=async(o,l)=>{let c=t(o);if(!ca(c,l)){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,fftSize:c.fftSize,maxDecibels:c.maxDecibels,minDecibels:c.minDecibels,smoothingTimeConstant:c.smoothingTimeConstant};c=e(l,u)}return n.set(l,c),await i(o,l,c),c};return{render(o,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):a(o,l)}}},l8=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},$s=()=>new DOMException("","IndexSizeError"),HA=e=>{e.getChannelData=(t=>i=>{try{return t.call(e,i)}catch(n){throw n.code===12?$s():n}})(e.getChannelData)},brt={numberOfChannels:1},Crt=(e,t,i,n,a,o,l,c)=>{let d=null;return class yL{constructor(h){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:p,numberOfChannels:f,sampleRate:M}={...brt,...h};d===null&&(d=new a(1,1,44100));const g=n!==null&&t(o,o)?new n({length:p,numberOfChannels:f,sampleRate:M}):d.createBuffer(f,p,M);if(g.numberOfChannels===0)throw i();return typeof g.copyFromChannel!="function"?(l(g),HA(g)):t(l8,()=>l8(g))||c(g),e.add(g),g}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===yL.prototype||e.has(h)}}},Pa=-34028234663852886e22,va=-Pa,Ol=e=>nh.has(e),_rt={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Ert=(e,t,i,n,a,o,l,c)=>class extends e{constructor(u,h){const p=o(u),f={..._rt,...h},M=a(p,f),g=l(p),y=g?t():null;super(u,!1,M,y),this._audioBufferSourceNodeRenderer=y,this._isBufferNullified=!1,this._isBufferSet=f.buffer!==null,this._nativeAudioBufferSourceNode=M,this._onended=null,this._playbackRate=i(this,g,M.playbackRate,va,Pa)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const h=typeof u=="function"?c(this,u):null;this._nativeAudioBufferSourceNode.onended=h;const p=this._nativeAudioBufferSourceNode.onended;this._onended=p!==null&&p===h?u:p}get playbackRate(){return this._playbackRate}start(u=0,h=0,p){if(this._nativeAudioBufferSourceNode.start(u,h,p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=p===void 0?[u,h]:[u,h,p]),this.context.state!=="closed"){rh(this);const f=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",f),Ol(this)&&b3(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",f)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},wrt=(e,t,i,n,a)=>()=>{const o=new WeakMap;let l=null,c=null;const d=async(u,h)=>{let p=i(u);const f=ca(p,h);if(!f){const M={buffer:p.buffer,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,loop:p.loop,loopEnd:p.loopEnd,loopStart:p.loopStart,playbackRate:p.playbackRate.value};p=t(h,M),l!==null&&p.start(...l),c!==null&&p.stop(c)}return o.set(h,p),f?await e(h,u.playbackRate,p.playbackRate):await n(h,u.playbackRate,p.playbackRate),await a(u,h,p),p};return{set start(u){l=u},set stop(u){c=u},render(u,h){const p=o.get(h);return p!==void 0?Promise.resolve(p):d(u,h)}}},Ort=e=>"playbackRate"in e,Srt=e=>"frequency"in e&&"gain"in e,xrt=e=>"offset"in e,Trt=e=>!("frequency"in e)&&"gain"in e,Irt=e=>"detune"in e&&"frequency"in e&&!("gain"in e),Brt=e=>"pan"in e,Ca=e=>es(hL,e),C3=e=>es(fL,e),dy=(e,t)=>{const{activeInputs:i}=Ca(e);i.forEach(a=>a.forEach(([o])=>{t.includes(e)||dy(o,[...t,e])}));const n=Ort(e)?[e.playbackRate]:ML(e)?Array.from(e.parameters.values()):Srt(e)?[e.Q,e.detune,e.frequency,e.gain]:xrt(e)?[e.offset]:Trt(e)?[e.gain]:Irt(e)?[e.detune,e.frequency]:Brt(e)?[e.pan]:[];for(const a of n){const o=C3(a);o!==void 0&&o.activeInputs.forEach(([l])=>dy(l,t))}Ol(e)&&b3(e)},AL=e=>{dy(e.destination,[])},Rrt=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback"),Drt=(e,t,i,n,a,o,l,c,d)=>class extends e{constructor(h={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let p;try{p=new d(h)}catch(g){throw g.code===12&&g.message==="sampleRate is not in range"?i():g}if(p===null)throw n();if(!Rrt(h.latencyHint))throw new TypeError(`The provided value '${h.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(h.sampleRate!==void 0&&p.sampleRate!==h.sampleRate)throw i();super(p,2);const{latencyHint:f}=h,{sampleRate:M}=p;if(this._baseLatency=typeof p.baseLatency=="number"?p.baseLatency:f==="balanced"?512/M:f==="interactive"||f===void 0?256/M:f==="playback"?1024/M:Math.max(2,Math.min(128,Math.round(f*M/128)))*128/M,this._nativeAudioContext=p,d.name==="webkitAudioContext"?(this._nativeGainNode=p.createGain(),this._nativeOscillatorNode=p.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(p.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,p.state==="running"){this._state="suspended";const g=()=>{this._state==="suspended"&&(this._state=null),p.removeEventListener("statechange",g)};p.addEventListener("statechange",g)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),AL(this)}))}createMediaElementSource(h){return new a(this,{mediaElement:h})}createMediaStreamDestination(){return new o(this)}createMediaStreamSource(h){return new l(this,{mediaStream:h})}createMediaStreamTrackSource(h){return new c(this,{mediaStreamTrack:h})}resume(){return this._state==="suspended"?new Promise((h,p)=>{const f=()=>{this._nativeAudioContext.removeEventListener("statechange",f),this._nativeAudioContext.state==="running"?h():this.resume().then(h,p)};this._nativeAudioContext.addEventListener("statechange",f)}):this._nativeAudioContext.resume().catch(h=>{throw h===void 0||h.code===15?t():h})}suspend(){return this._nativeAudioContext.suspend().catch(h=>{throw h===void 0?t():h})}},Prt=(e,t,i,n,a,o,l,c)=>class extends e{constructor(u,h){const p=o(u),f=l(p),M=a(p,h,f),g=f?t(c):null;super(u,!1,M,g),this._isNodeOfNativeOfflineAudioContext=f,this._nativeAudioDestinationNode=M}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw n();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw n();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},krt=e=>{const t=new WeakMap,i=async(n,a)=>{const o=a.destination;return t.set(a,o),await e(n,a,o),o};return{render(n,a){const o=t.get(a);return o!==void 0?Promise.resolve(o):i(n,a)}}},Lrt=(e,t,i,n,a,o,l,c)=>(d,u)=>{const h=u.listener,p=()=>{const E=new Float32Array(1),S=t(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),I=l(u);let T=!1,k=[0,0,-1,0,1,0],D=[0,0,0];const N=()=>{if(T)return;T=!0;const V=n(u,256,9,0);V.onaudioprocess=({inputBuffer:z})=>{const G=[o(z,E,0),o(z,E,1),o(z,E,2),o(z,E,3),o(z,E,4),o(z,E,5)];G.some((J,Z)=>J!==k[Z])&&(h.setOrientation(...G),k=G);const H=[o(z,E,6),o(z,E,7),o(z,E,8)];H.some((J,Z)=>J!==D[Z])&&(h.setPosition(...H),D=H)},S.connect(V)},P=V=>z=>{z!==k[V]&&(k[V]=z,h.setOrientation(...k))},F=V=>z=>{z!==D[V]&&(D[V]=z,h.setPosition(...D))},U=(V,z,G)=>{const H=i(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:z});H.connect(S,0,V),H.start(),Object.defineProperty(H.offset,"defaultValue",{get(){return z}});const J=e({context:d},I,H.offset,va,Pa);return c(J,"value",Z=>()=>Z.call(J),Z=>j=>{try{Z.call(J,j)}catch(W){if(W.code!==9)throw W}N(),I&&G(j)}),J.cancelAndHoldAtTime=(Z=>I?()=>{throw a()}:(...j)=>{const W=Z.apply(J,j);return N(),W})(J.cancelAndHoldAtTime),J.cancelScheduledValues=(Z=>I?()=>{throw a()}:(...j)=>{const W=Z.apply(J,j);return N(),W})(J.cancelScheduledValues),J.exponentialRampToValueAtTime=(Z=>I?()=>{throw a()}:(...j)=>{const W=Z.apply(J,j);return N(),W})(J.exponentialRampToValueAtTime),J.linearRampToValueAtTime=(Z=>I?()=>{throw a()}:(...j)=>{const W=Z.apply(J,j);return N(),W})(J.linearRampToValueAtTime),J.setTargetAtTime=(Z=>I?()=>{throw a()}:(...j)=>{const W=Z.apply(J,j);return N(),W})(J.setTargetAtTime),J.setValueAtTime=(Z=>I?()=>{throw a()}:(...j)=>{const W=Z.apply(J,j);return N(),W})(J.setValueAtTime),J.setValueCurveAtTime=(Z=>I?()=>{throw a()}:(...j)=>{const W=Z.apply(J,j);return N(),W})(J.setValueCurveAtTime),J};return{forwardX:U(0,0,P(0)),forwardY:U(1,0,P(1)),forwardZ:U(2,-1,P(2)),positionX:U(6,0,F(0)),positionY:U(7,0,F(1)),positionZ:U(8,0,F(2)),upX:U(3,0,P(3)),upY:U(4,1,P(4)),upZ:U(5,0,P(5))}},{forwardX:f,forwardY:M,forwardZ:g,positionX:y,positionY:b,positionZ:v,upX:C,upY:w,upZ:_}=h.forwardX===void 0?p():h;return{get forwardX(){return f},get forwardY(){return M},get forwardZ(){return g},get positionX(){return y},get positionY(){return b},get positionZ(){return v},get upX(){return C},get upY(){return w},get upZ(){return _}}},c8=e=>"context"in e,_3=e=>c8(e[0]),M1=(e,t,i,n)=>{for(const a of e)if(i(a)){if(n)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},bO=(e,t,[i,n],a)=>{M1(e,[t,i,n],o=>o[0]===t&&o[1]===i,a)},CO=(e,[t,i,n],a)=>{const o=e.get(t);o===void 0?e.set(t,new Set([[i,n]])):M1(o,[i,n],l=>l[0]===i,a)},_h=e=>"inputs"in e,u8=(e,t,i,n)=>{if(_h(t)){const a=t.inputs[n];return e.connect(a,i,0),[a,i,0]}return e.connect(t,i,n),[t,i,n]},vL=(e,t,i)=>{for(const n of e)if(n[0]===t&&n[1]===i)return e.delete(n),n;return null},Nrt=(e,t,i)=>f5(e,n=>n[0]===t&&n[1]===i),bL=(e,t)=>{if(!v3(e).delete(t))throw new Error("Missing the expected event listener.")},CL=(e,t,i)=>{const n=es(e,t),a=f5(n,o=>o[0]===i);return n.size===0&&e.delete(t),a},d8=(e,t,i,n)=>{_h(t)?e.disconnect(t.inputs[n],i,0):e.disconnect(t,i,n)},I9=e=>es($A,e),Sf=e=>es(GA,e),d1=e=>sy.has(e),m6=e=>!nh.has(e),_O=(e,t)=>new Promise(i=>{if(t!==null)i(!0);else{const n=e.createScriptProcessor(256,1,1),a=e.createGain(),o=e.createBuffer(1,2,44100),l=o.getChannelData(0);l[0]=1,l[1]=1;const c=e.createBufferSource();c.buffer=o,c.loop=!0,c.connect(n).connect(e.destination),c.connect(a),c.disconnect(a),n.onaudioprocess=d=>{const u=d.inputBuffer.getChannelData(0);Array.prototype.some.call(u,h=>h===1)?i(!0):i(!1),c.stop(),n.onaudioprocess=null,c.disconnect(n),n.disconnect(e.destination)},c.start()}}),Dg=(e,t)=>{const i=new Map;for(const n of e)for(const a of n){const o=i.get(a);i.set(a,o===void 0?1:o+1)}i.forEach((n,a)=>t(a,n))},h8=e=>"context"in e,Frt=e=>{const t=new Map;e.connect=(i=>(n,a=0,o=0)=>{const l=h8(n)?i(n,a,o):i(n,a),c=t.get(n);return c===void 0?t.set(n,[{input:o,output:a}]):c.every(d=>d.input!==o||d.output!==a)&&c.push({input:o,output:a}),l})(e.connect.bind(e)),e.disconnect=(i=>(n,a,o)=>{if(i.apply(e),n===void 0)t.clear();else if(typeof n=="number")for(const[l,c]of t){const d=c.filter(u=>u.output!==n);d.length===0?t.delete(l):t.set(l,d)}else if(t.has(n))if(a===void 0)t.delete(n);else{const l=t.get(n);if(l!==void 0){const c=l.filter(d=>d.output!==a&&(d.input!==o||o===void 0));c.length===0?t.delete(n):t.set(n,c)}}for(const[l,c]of t)c.forEach(d=>{h8(l)?e.connect(l,d.output,d.input):e.connect(l,d.output)})})(e.disconnect)},Urt=(e,t,i,n)=>{const{activeInputs:a,passiveInputs:o}=C3(t),{outputs:l}=Ca(e),c=v3(e),d=u=>{const h=I9(e),p=Sf(t);if(u){const f=CL(o,e,i);bO(a,e,f,!1),!n&&!d1(e)&&h.connect(p,i)}else{const f=Nrt(a,e,i);CO(o,f,!1),!n&&!d1(e)&&h.disconnect(p,i)}};return M1(l,[t,i],u=>u[0]===t&&u[1]===i,!0)?(c.add(d),Ol(e)?bO(a,e,[i,d],!0):CO(o,[e,i,d],!0),!0):!1},Jrt=(e,t,i,n)=>{const{activeInputs:a,passiveInputs:o}=Ca(t),l=vL(a[n],e,i);return l===null?[gL(o,e,i,n)[2],!1]:[l[2],!0]},$rt=(e,t,i)=>{const{activeInputs:n,passiveInputs:a}=C3(t),o=vL(n,e,i);return o===null?[CL(a,e,i)[1],!1]:[o[2],!0]},VA=(e,t,i,n,a)=>{const[o,l]=Jrt(e,i,n,a);if(o!==null&&(bL(e,o),l&&!t&&!d1(e)&&d8(I9(e),I9(i),n,a)),Ol(i)){const{activeInputs:c}=Ca(i);uy(i,c)}},QA=(e,t,i,n)=>{const[a,o]=$rt(e,i,n);a!==null&&(bL(e,a),o&&!t&&!d1(e)&&I9(e).disconnect(Sf(i),n))},Grt=(e,t)=>{const i=Ca(e),n=[];for(const a of i.outputs)_3(a)?VA(e,t,...a):QA(e,t,...a),n.push(a[0]);return i.outputs.clear(),n},Hrt=(e,t,i)=>{const n=Ca(e),a=[];for(const o of n.outputs)o[1]===i&&(_3(o)?VA(e,t,...o):QA(e,t,...o),a.push(o[0]),n.outputs.delete(o));return a},Vrt=(e,t,i,n,a)=>{const o=Ca(e);return Array.from(o.outputs).filter(l=>l[0]===i&&(n===void 0||l[1]===n)&&(a===void 0||l[2]===a)).map(l=>(_3(l)?VA(e,t,...l):QA(e,t,...l),o.outputs.delete(l),l[0]))},Qrt=(e,t,i,n,a,o,l,c,d,u,h,p,f,M,g,y)=>class extends u{constructor(v,C,w,_){super(w),this._context=v,this._nativeAudioNode=w;const E=h(v);p(E)&&i(_O,()=>_O(E,y))!==!0&&Frt(w),$A.set(this,w),mL.set(this,new Set),v.state!=="closed"&&C&&rh(this),e(this,_,w)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,C=0,w=0){if(C<0||C>=this._nativeAudioNode.numberOfOutputs)throw a();const _=h(this._context),E=g(_);if(f(v)||M(v))throw o();if(c8(v)){const T=I9(v);try{const D=u8(this._nativeAudioNode,T,C,w),N=m6(this);(E||N)&&this._nativeAudioNode.disconnect(...D),this.context.state!=="closed"&&!N&&m6(v)&&rh(v)}catch(D){throw D.code===12?o():D}if(t(this,v,C,w,E)){const D=d([this],v);Dg(D,n(E))}return v}const S=Sf(v);if(S.name==="playbackRate"&&S.maxValue===1024)throw l();try{this._nativeAudioNode.connect(S,C),(E||m6(this))&&this._nativeAudioNode.disconnect(S,C)}catch(T){throw T.code===12?o():T}if(Urt(this,v,C,E)){const T=d([this],v);Dg(T,n(E))}}disconnect(v,C,w){let _;const E=h(this._context),S=g(E);if(v===void 0)_=Grt(this,S);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw a();_=Hrt(this,S,v)}else{if(C!==void 0&&(C<0||C>=this.numberOfOutputs)||c8(v)&&w!==void 0&&(w<0||w>=v.numberOfInputs))throw a();if(_=Vrt(this,S,v,C,w),_.length===0)throw o()}for(const I of _){const T=d([this],I);Dg(T,c)}}},zrt=(e,t,i,n,a,o,l,c,d,u,h,p,f)=>(M,g,y,b=null,v=null)=>{const C=y.value,w=new irt(C),_=g?n(w):null,E={get defaultValue(){return C},get maxValue(){return b===null?y.maxValue:b},get minValue(){return v===null?y.minValue:v},get value(){return y.value},set value(S){y.value=S,E.setValueAtTime(S,M.context.currentTime)},cancelAndHoldAtTime(S){if(typeof y.cancelAndHoldAtTime=="function")_===null&&w.flush(M.context.currentTime),w.add(a(S)),y.cancelAndHoldAtTime(S);else{const I=Array.from(w).pop();_===null&&w.flush(M.context.currentTime),w.add(a(S));const T=Array.from(w).pop();y.cancelScheduledValues(S),I!==T&&T!==void 0&&(T.type==="exponentialRampToValue"?y.exponentialRampToValueAtTime(T.value,T.endTime):T.type==="linearRampToValue"?y.linearRampToValueAtTime(T.value,T.endTime):T.type==="setValue"?y.setValueAtTime(T.value,T.startTime):T.type==="setValueCurve"&&y.setValueCurveAtTime(T.values,T.startTime,T.duration))}return E},cancelScheduledValues(S){return _===null&&w.flush(M.context.currentTime),w.add(o(S)),y.cancelScheduledValues(S),E},exponentialRampToValueAtTime(S,I){if(S===0)throw new RangeError;if(!Number.isFinite(I)||I<0)throw new RangeError;const T=M.context.currentTime;return _===null&&w.flush(T),Array.from(w).length===0&&(w.add(u(C,T)),y.setValueAtTime(C,T)),w.add(l(S,I)),y.exponentialRampToValueAtTime(S,I),E},linearRampToValueAtTime(S,I){const T=M.context.currentTime;return _===null&&w.flush(T),Array.from(w).length===0&&(w.add(u(C,T)),y.setValueAtTime(C,T)),w.add(c(S,I)),y.linearRampToValueAtTime(S,I),E},setTargetAtTime(S,I,T){return _===null&&w.flush(M.context.currentTime),w.add(d(S,I,T)),y.setTargetAtTime(S,I,T),E},setValueAtTime(S,I){return _===null&&w.flush(M.context.currentTime),w.add(u(S,I)),y.setValueAtTime(S,I),E},setValueCurveAtTime(S,I,T){const k=S instanceof Float32Array?S:new Float32Array(S);if(p!==null&&p.name==="webkitAudioContext"){const D=I+T,N=M.context.sampleRate,P=Math.ceil(I*N),F=Math.floor(D*N),U=F-P,V=new Float32Array(U);for(let G=0;G<U;G+=1){const H=(k.length-1)/T*((P+G)/N-I),J=Math.floor(H),Z=Math.ceil(H);V[G]=J===Z?k[J]:(1-(H-J))*k[J]+(1-(Z-H))*k[Z]}_===null&&w.flush(M.context.currentTime),w.add(h(V,I,T)),y.setValueCurveAtTime(V,I,T);const z=F/N;z<D&&f(E,V[V.length-1],z),f(E,k[k.length-1],D)}else _===null&&w.flush(M.context.currentTime),w.add(h(k,I,T)),y.setValueCurveAtTime(k,I,T);return E}};return i.set(E,y),t.set(E,M),e(E,_),E},jrt=e=>({replay(t){for(const i of e)if(i.type==="exponentialRampToValue"){const{endTime:n,value:a}=i;t.exponentialRampToValueAtTime(a,n)}else if(i.type==="linearRampToValue"){const{endTime:n,value:a}=i;t.linearRampToValueAtTime(a,n)}else if(i.type==="setTarget"){const{startTime:n,target:a,timeConstant:o}=i;t.setTargetAtTime(a,n,o)}else if(i.type==="setValue"){const{startTime:n,value:a}=i;t.setValueAtTime(a,n)}else if(i.type==="setValueCurve"){const{duration:n,startTime:a,values:o}=i;t.setValueCurveAtTime(o,a,n)}else throw new Error("Can't apply an unknown automation.")}});class _L{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,i=null){return this._map.forEach((n,a)=>t.call(i,n,a,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Wrt={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Krt=(e,t,i,n,a,o,l,c,d,u,h,p,f,M)=>class extends t{constructor(y,b,v){var C;const w=c(y),_=d(w),E=h({...Wrt,...v});f(E);const S=ly.get(w),I=S==null?void 0:S.get(b),T=_||w.state!=="closed"?w:(C=l(w))!==null&&C!==void 0?C:w,k=a(T,_?null:y.baseLatency,u,b,I,E),D=_?n(b,E,I):null;super(y,!0,k,D);const N=[];k.parameters.forEach((F,U)=>{const V=i(this,_,F);N.push([U,V])}),this._nativeAudioWorkletNode=k,this._onprocessorerror=null,this._parameters=new _L(N),_&&e(w,this);const{activeInputs:P}=o(this);p(k,P)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(y){const b=typeof y=="function"?M(this,y):null;this._nativeAudioWorkletNode.onprocessorerror=b;const v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===b?y:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function f8(e,t,i,n,a){if(typeof e.copyFromChannel=="function")t[i].byteLength===0&&(t[i]=new Float32Array(128)),e.copyFromChannel(t[i],n,a);else{const o=e.getChannelData(n);if(t[i].byteLength===0)t[i]=o.slice(a,a+128);else{const l=new Float32Array(o.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);t[i].set(l)}}}const EL=(e,t,i,n,a)=>{typeof e.copyToChannel=="function"?t[i].byteLength!==0&&e.copyToChannel(t[i],n,a):t[i].byteLength!==0&&e.getChannelData(n).set(t[i],a)},m8=(e,t)=>{const i=[];for(let n=0;n<e;n+=1){const a=[],o=typeof t=="number"?t:t[n];for(let l=0;l<o;l+=1)a.push(new Float32Array(128));i.push(a)}return i},qrt=(e,t)=>{const i=es(cy,e),n=I9(t);return es(i,n)},Xrt=async(e,t,i,n,a,o,l)=>{const c=t===null?Math.ceil(e.context.length/128)*128:t.length,d=n.channelCount*n.numberOfInputs,u=a.reduce((b,v)=>b+v,0),h=u===0?null:i.createBuffer(u,c,i.sampleRate);if(o===void 0)throw new Error("Missing the processor constructor.");const p=Ca(e),f=await qrt(i,e),M=m8(n.numberOfInputs,n.channelCount),g=m8(n.numberOfOutputs,a),y=Array.from(e.parameters.keys()).reduce((b,v)=>({...b,[v]:new Float32Array(128)}),{});for(let b=0;b<c;b+=128){if(n.numberOfInputs>0&&t!==null)for(let v=0;v<n.numberOfInputs;v+=1)for(let C=0;C<n.channelCount;C+=1)f8(t,M[v],C,C,b);o.parameterDescriptors!==void 0&&t!==null&&o.parameterDescriptors.forEach(({name:v},C)=>{f8(t,y,v,d+C,b)});for(let v=0;v<n.numberOfInputs;v+=1)for(let C=0;C<a[v];C+=1)g[v][C].byteLength===0&&(g[v][C]=new Float32Array(128));try{const v=M.map((w,_)=>p.activeInputs[_].size===0?[]:w),C=l(b/i.sampleRate,i.sampleRate,()=>f.process(v,g,y));if(h!==null)for(let w=0,_=0;w<n.numberOfOutputs;w+=1){for(let E=0;E<a[w];E+=1)EL(h,g[w],E,_+E,b);_+=a[w]}if(!C)break}catch(v){e.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return h},Yrt=(e,t,i,n,a,o,l,c,d,u,h,p,f,M,g,y)=>(b,v,C)=>{const w=new WeakMap;let _=null;const E=async(S,I)=>{let T=h(S),k=null;const D=ca(T,I),N=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(p===null){const P=N.reduce((z,G)=>z+G,0),F=a(I,{channelCount:Math.max(1,P),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,P)}),U=[];for(let z=0;z<S.numberOfOutputs;z+=1)U.push(n(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:N[z]}));const V=l(I,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});V.connect=t.bind(null,U),V.disconnect=d.bind(null,U),k=[F,U,V]}else D||(T=new p(I,b));if(w.set(I,k===null?T:k[2]),k!==null){if(_===null){if(C===void 0)throw new Error("Missing the processor constructor.");if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const G=S.channelCount*S.numberOfInputs,H=C.parameterDescriptors===void 0?0:C.parameterDescriptors.length,J=G+H;_=Xrt(S,J===0?null:await(async()=>{const j=new f(J,Math.ceil(S.context.length/128)*128,I.sampleRate),W=[],et=[];for(let st=0;st<v.numberOfInputs;st+=1)W.push(l(j,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),et.push(a(j,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const dt=await Promise.all(Array.from(S.parameters.values()).map(async st=>{const St=o(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:st.value});return await M(j,st,St.offset),St})),ht=n(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,G+H)});for(let st=0;st<v.numberOfInputs;st+=1){W[st].connect(et[st]);for(let St=0;St<v.channelCount;St+=1)et[st].connect(ht,St,st*v.channelCount+St)}for(const[st,St]of dt.entries())St.connect(ht,0,G+st),St.start(0);return ht.connect(j.destination),await Promise.all(W.map(st=>g(S,j,st))),y(j)})(),I,v,N,C,u)}const P=await _,F=i(I,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[U,V,z]=k;P!==null&&(F.buffer=P,F.start(0)),F.connect(U);for(let G=0,H=0;G<S.numberOfOutputs;G+=1){const J=V[G];for(let Z=0;Z<N[G];Z+=1)U.connect(J,H+Z,Z);H+=N[G]}return z}if(D)for(const[P,F]of S.parameters.entries())await e(I,F,T.parameters.get(P));else for(const[P,F]of S.parameters.entries())await M(I,F,T.parameters.get(P));return await g(S,I,T),T};return{render(S,I){c(I,S);const T=w.get(I);return T!==void 0?Promise.resolve(T):E(S,I)}}},Zrt=(e,t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w)=>class extends g{constructor(E,S){super(E,S),this._nativeContext=E,this._audioWorklet=e===void 0?void 0:{addModule:(I,T)=>e(this,I,T)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new a(this)}createBuffer(E,S,I){return new i({length:S,numberOfChannels:E,sampleRate:I})}createBufferSource(){return new n(this)}createChannelMerger(E=6){return new o(this,{numberOfInputs:E})}createChannelSplitter(E=6){return new l(this,{numberOfOutputs:E})}createConstantSource(){return new c(this)}createConvolver(){return new d(this)}createDelay(E=1){return new h(this,{maxDelayTime:E})}createDynamicsCompressor(){return new p(this)}createGain(){return new f(this)}createIIRFilter(E,S){return new M(this,{feedback:S,feedforward:E})}createOscillator(){return new y(this)}createPanner(){return new b(this)}createPeriodicWave(E,S,I={disableNormalization:!1}){return new v(this,{...I,imag:S,real:E})}createStereoPanner(){return new C(this)}createWaveShaper(){return new w(this)}decodeAudioData(E,S,I){return u(this._nativeContext,E).then(T=>(typeof S=="function"&&S(T),T),T=>{throw typeof I=="function"&&I(T),T})}},tat={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},eat=(e,t,i,n,a,o,l,c)=>class extends e{constructor(u,h){const p=o(u),f={...tat,...h},M=a(p,f),g=l(p),y=g?i():null;super(u,!1,M,y),this._Q=t(this,g,M.Q,va,Pa),this._detune=t(this,g,M.detune,1200*Math.log2(va),-1200*Math.log2(va)),this._frequency=t(this,g,M.frequency,u.sampleRate/2,0),this._gain=t(this,g,M.gain,40*Math.log10(va),Pa),this._nativeBiquadFilterNode=M,c(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(u){this._nativeBiquadFilterNode.type=u}getFrequencyResponse(u,h,p){try{this._nativeBiquadFilterNode.getFrequencyResponse(u,h,p)}catch(f){throw f.code===11?n():f}if(u.length!==h.length||h.length!==p.length)throw n()}},iat=(e,t,i,n,a)=>()=>{const o=new WeakMap,l=async(c,d)=>{let u=i(c);const h=ca(u,d);if(!h){const p={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=t(d,p)}return o.set(d,u),h?(await e(d,c.Q,u.Q),await e(d,c.detune,u.detune),await e(d,c.frequency,u.frequency),await e(d,c.gain,u.gain)):(await n(d,c.Q,u.Q),await n(d,c.detune,u.detune),await n(d,c.frequency,u.frequency),await n(d,c.gain,u.gain)),await a(c,d,u),u};return{render(c,d){const u=o.get(d);return u!==void 0?Promise.resolve(u):l(c,d)}}},nat=(e,t)=>(i,n)=>{const a=t.get(i);if(a!==void 0)return a;const o=e.get(i);if(o!==void 0)return o;try{const l=n();return l instanceof Promise?(e.set(i,l),l.catch(()=>!1).then(c=>(e.delete(i),t.set(i,c),c))):(t.set(i,l),l)}catch{return t.set(i,!1),!1}},rat={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},aat=(e,t,i,n,a)=>class extends e{constructor(l,c){const d=n(l),u={...rat,...c},h=i(d,u),p=a(d)?t():null;super(l,!1,h,p)}},oat=(e,t,i)=>()=>{const n=new WeakMap,a=async(o,l)=>{let c=t(o);if(!ca(c,l)){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfInputs:c.numberOfInputs};c=e(l,u)}return n.set(l,c),await i(o,l,c),c};return{render(o,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):a(o,l)}}},sat={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},lat=(e,t,i,n,a,o)=>class extends e{constructor(c,d){const u=n(c),h=o({...sat,...d}),p=i(u,h),f=a(u)?t():null;super(c,!1,p,f)}},cat=(e,t,i)=>()=>{const n=new WeakMap,a=async(o,l)=>{let c=t(o);if(!ca(c,l)){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,numberOfOutputs:c.numberOfOutputs};c=e(l,u)}return n.set(l,c),await i(o,l,c),c};return{render(o,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):a(o,l)}}},uat=e=>(t,i,n)=>e(i,t,n),dat=e=>(t,i,n=0,a=0)=>{const o=t[n];if(o===void 0)throw e();return h8(i)?o.connect(i,0,a):o.connect(i,0)},hat=e=>(t,i)=>{const n=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=t.createBuffer(1,2,44100);return n.buffer=a,n.loop=!0,n.connect(i),n.start(),()=>{n.stop(),n.disconnect(i)}},fat={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},mat=(e,t,i,n,a,o,l)=>class extends e{constructor(d,u){const h=a(d),p={...fat,...u},f=n(h,p),M=o(h),g=M?i():null;super(d,!1,f,g),this._constantSourceNodeRenderer=g,this._nativeConstantSourceNode=f,this._offset=t(this,M,f.offset,va,Pa),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const u=typeof d=="function"?l(this,d):null;this._nativeConstantSourceNode.onended=u;const h=this._nativeConstantSourceNode.onended;this._onended=h!==null&&h===u?d:h}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){rh(this);const u=()=>{this._nativeConstantSourceNode.removeEventListener("ended",u),Ol(this)&&b3(this)};this._nativeConstantSourceNode.addEventListener("ended",u)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},pat=(e,t,i,n,a)=>()=>{const o=new WeakMap;let l=null,c=null;const d=async(u,h)=>{let p=i(u);const f=ca(p,h);if(!f){const M={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,offset:p.offset.value};p=t(h,M),l!==null&&p.start(l),c!==null&&p.stop(c)}return o.set(h,p),f?await e(h,u.offset,p.offset):await n(h,u.offset,p.offset),await a(u,h,p),p};return{set start(u){l=u},set stop(u){c=u},render(u,h){const p=o.get(h);return p!==void 0?Promise.resolve(p):d(u,h)}}},gat=e=>t=>(e[0]=t,e[0]),Mat={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},yat=(e,t,i,n,a,o)=>class extends e{constructor(c,d){const u=n(c),h={...Mat,...d},p=i(u,h),M=a(u)?t():null;super(c,!1,p,M),this._isBufferNullified=!1,this._nativeConvolverNode=p,h.buffer!==null&&o(this,h.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(c){if(this._nativeConvolverNode.buffer=c,c===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,o(this,0)}else this._isBufferNullified=!1,o(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(c){this._nativeConvolverNode.normalize=c}},Aat=(e,t,i)=>()=>{const n=new WeakMap,a=async(o,l)=>{let c=t(o);if(!ca(c,l)){const u={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,disableNormalization:!c.normalize};c=e(l,u)}return n.set(l,c),_h(c)?await i(o,l,c.inputs[0]):await i(o,l,c),c};return{render(o,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):a(o,l)}}},vat=(e,t)=>(i,n,a)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(i,n,a)}catch(o){throw o.name==="SyntaxError"?e():o}},bat=()=>new DOMException("","DataCloneError"),EO=e=>{const{port1:t,port2:i}=new MessageChannel;return new Promise(n=>{const a=()=>{i.onmessage=null,t.close(),i.close(),n()};i.onmessage=()=>a();try{t.postMessage(e,[e])}catch{}finally{a()}})},Cat=(e,t,i,n,a,o,l,c,d,u,h)=>(p,f)=>{const M=l(p)?p:o(p);if(a.has(f)){const g=i();return Promise.reject(g)}try{a.add(f)}catch{}return t(d,()=>d(M))?M.decodeAudioData(f).then(g=>(EO(f).catch(()=>{}),t(c,()=>c(g))||h(g),e.add(g),g)):new Promise((g,y)=>{const b=async()=>{try{await EO(f)}catch{}},v=C=>{y(C),b()};try{M.decodeAudioData(f,C=>{typeof C.copyFromChannel!="function"&&(u(C),HA(C)),e.add(C),b().then(()=>g(C))},C=>{v(C===null?n():C)})}catch(C){v(C)}})},_at=(e,t,i,n,a,o,l,c)=>(d,u)=>{const h=t.get(d);if(h===void 0)throw new Error("Missing the expected cycle count.");const p=o(d.context),f=c(p);if(h===u){if(t.delete(d),!f&&l(d)){const M=n(d),{outputs:g}=i(d);for(const y of g)if(_3(y)){const b=n(y[0]);e(M,b,y[1],y[2])}else{const b=a(y[0]);M.connect(b,y[1])}}}else t.set(d,h-u)},Eat={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},wat=(e,t,i,n,a,o,l)=>class extends e{constructor(d,u){const h=a(d),p={...Eat,...u},f=n(h,p),M=o(h),g=M?i(p.maxDelayTime):null;super(d,!1,f,g),this._delayTime=t(this,M,f.delayTime),l(this,p.maxDelayTime)}get delayTime(){return this._delayTime}},Oat=(e,t,i,n,a)=>o=>{const l=new WeakMap,c=async(d,u)=>{let h=i(d);const p=ca(h,u);if(!p){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:o};h=t(u,f)}return l.set(u,h),p?await e(u,d.delayTime,h.delayTime):await n(u,d.delayTime,h.delayTime),await a(d,u,h),h};return{render(d,u){const h=l.get(u);return h!==void 0?Promise.resolve(h):c(d,u)}}},Sat=e=>(t,i,n,a)=>e(t[a],o=>o[0]===i&&o[1]===n),xat=e=>(t,i)=>{e(t).delete(i)},Tat=e=>"delayTime"in e,Iat=(e,t,i)=>function n(a,o){const l=c8(o)?o:i(e,o);if(Tat(l))return[];if(a[0]===l)return[a];if(a.includes(l))return[];const{outputs:c}=t(l);return Array.from(c).map(d=>n([...a,l],d[0])).reduce((d,u)=>d.concat(u),[])},N4=(e,t,i)=>{const n=t[i];if(n===void 0)throw e();return n},Bat=e=>(t,i=void 0,n=void 0,a=0)=>i===void 0?t.forEach(o=>o.disconnect()):typeof i=="number"?N4(e,t,i).disconnect():h8(i)?n===void 0?t.forEach(o=>o.disconnect(i)):a===void 0?N4(e,t,n).disconnect(i,0):N4(e,t,n).disconnect(i,0,a):n===void 0?t.forEach(o=>o.disconnect(i)):N4(e,t,n).disconnect(i,0),Rat={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Dat=(e,t,i,n,a,o,l,c)=>class extends e{constructor(u,h){const p=o(u),f={...Rat,...h},M=n(p,f),g=l(p),y=g?i():null;super(u,!1,M,y),this._attack=t(this,g,M.attack),this._knee=t(this,g,M.knee),this._nativeDynamicsCompressorNode=M,this._ratio=t(this,g,M.ratio),this._release=t(this,g,M.release),this._threshold=t(this,g,M.threshold),c(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(u){const h=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=u,u>2)throw this._nativeDynamicsCompressorNode.channelCount=h,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(u){const h=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=u,u==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=h,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},Pat=(e,t,i,n,a)=>()=>{const o=new WeakMap,l=async(c,d)=>{let u=i(c);const h=ca(u,d);if(!h){const p={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=t(d,p)}return o.set(d,u),h?(await e(d,c.attack,u.attack),await e(d,c.knee,u.knee),await e(d,c.ratio,u.ratio),await e(d,c.release,u.release),await e(d,c.threshold,u.threshold)):(await n(d,c.attack,u.attack),await n(d,c.knee,u.knee),await n(d,c.ratio,u.ratio),await n(d,c.release,u.release),await n(d,c.threshold,u.threshold)),await a(c,d,u),u};return{render(c,d){const u=o.get(d);return u!==void 0?Promise.resolve(u):l(c,d)}}},kat=()=>new DOMException("","EncodingError"),Lat=e=>t=>new Promise((i,n)=>{if(e===null){n(new SyntaxError);return}const a=e.document.head;if(a===null)n(new SyntaxError);else{const o=e.document.createElement("script"),l=new Blob([t],{type:"application/javascript"}),c=URL.createObjectURL(l),d=e.onerror,u=()=>{e.onerror=d,URL.revokeObjectURL(c)};e.onerror=(h,p,f,M,g)=>{if(p===c||p===e.location.href&&f===1&&M===1)return u(),n(g),!1;if(d!==null)return d(h,p,f,M,g)},o.onerror=()=>{u(),n(new SyntaxError)},o.onload=()=>{u(),i()},o.src=c,o.type="module",a.appendChild(o)}}),Nat=e=>class{constructor(i){this._nativeEventTarget=i,this._listeners=new WeakMap}addEventListener(i,n,a){if(n!==null){let o=this._listeners.get(n);o===void 0&&(o=e(this,n),typeof n=="function"&&this._listeners.set(n,o)),this._nativeEventTarget.addEventListener(i,o,a)}}dispatchEvent(i){return this._nativeEventTarget.dispatchEvent(i)}removeEventListener(i,n,a){const o=n===null?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(i,o===void 0?null:o,a)}},Fat=e=>(t,i,n)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(t*i)}},currentTime:{configurable:!0,get(){return t}}});try{return n()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}},Uat=e=>async t=>{try{const i=await fetch(t);if(i.ok)return[await i.text(),i.url]}catch{}throw e()},Jat={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},$at=(e,t,i,n,a,o)=>class extends e{constructor(c,d){const u=a(c),h={...Jat,...d},p=n(u,h),f=o(u),M=f?i():null;super(c,!1,p,M),this._gain=t(this,f,p.gain,va,Pa)}get gain(){return this._gain}},Gat=(e,t,i,n,a)=>()=>{const o=new WeakMap,l=async(c,d)=>{let u=i(c);const h=ca(u,d);if(!h){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=t(d,p)}return o.set(d,u),h?await e(d,c.gain,u.gain):await n(d,c.gain,u.gain),await a(c,d,u),u};return{render(c,d){const u=o.get(d);return u!==void 0?Promise.resolve(u):l(c,d)}}},Hat=(e,t)=>i=>t(e,i),Vat=e=>t=>{const i=e(t);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer},Qat=e=>t=>{var i;return(i=e.get(t))!==null&&i!==void 0?i:0},zat=e=>t=>{const i=e(t);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return i.renderer},jat=e=>t=>e.get(t),Br=()=>new DOMException("","InvalidStateError"),Wat=e=>t=>{const i=e.get(t);if(i===void 0)throw Br();return i},Kat=(e,t)=>i=>{let n=e.get(i);if(n!==void 0)return n;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return n=new t(1,1,44100),e.set(i,n),n},qat=e=>t=>{const i=e.get(t);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i},m5=()=>new DOMException("","InvalidAccessError"),Xat=e=>{e.getFrequencyResponse=(t=>(i,n,a)=>{if(i.length!==n.length||n.length!==a.length)throw m5();return t.call(e,i,n,a)})(e.getFrequencyResponse)},Yat={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Zat=(e,t,i,n,a,o)=>class extends e{constructor(c,d){const u=n(c),h=a(u),p={...Yat,...d},f=t(u,h?null:c.baseLatency,p),M=h?i(p.feedback,p.feedforward):null;super(c,!1,f,M),Xat(f),this._nativeIIRFilterNode=f,o(this,1)}getFrequencyResponse(c,d,u){return this._nativeIIRFilterNode.getFrequencyResponse(c,d,u)}},wL=(e,t,i,n,a,o,l,c,d,u,h)=>{const p=u.length;let f=c;for(let M=0;M<p;M+=1){let g=i[0]*u[M];for(let y=1;y<a;y+=1){const b=f-y&d-1;g+=i[y]*o[b],g-=e[y]*l[b]}for(let y=a;y<n;y+=1)g+=i[y]*o[f-y&d-1];for(let y=a;y<t;y+=1)g-=e[y]*l[f-y&d-1];o[f]=u[M],l[f]=g,f=f+1&d-1,h[M]=g}return f},tot=(e,t,i,n)=>{const a=i instanceof Float64Array?i:new Float64Array(i),o=n instanceof Float64Array?n:new Float64Array(n),l=a.length,c=o.length,d=Math.min(l,c);if(a[0]!==1){for(let g=0;g<l;g+=1)o[g]/=a[0];for(let g=1;g<c;g+=1)a[g]/=a[0]}const u=32,h=new Float32Array(u),p=new Float32Array(u),f=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),M=e.numberOfChannels;for(let g=0;g<M;g+=1){const y=e.getChannelData(g),b=f.getChannelData(g);h.fill(0),p.fill(0),wL(a,l,o,c,d,h,p,0,u,y,b)}return f},eot=(e,t,i,n,a)=>(o,l)=>{const c=new WeakMap;let d=null;const u=async(h,p)=>{let f=null,M=t(h);const g=ca(M,p);if(p.createIIRFilter===void 0?f=e(p,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):g||(M=p.createIIRFilter(l,o)),c.set(p,f===null?M:f),f!==null){if(d===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const b=new i(h.context.destination.channelCount,h.context.length,p.sampleRate);d=(async()=>{await n(h,b,b.destination);const v=await a(b);return tot(v,p,o,l)})()}const y=await d;return f.buffer=y,f.start(0),f}return await n(h,p,M),M};return{render(h,p){const f=c.get(p);return f!==void 0?Promise.resolve(f):u(h,p)}}},iot=(e,t,i,n,a,o)=>l=>(c,d)=>{const u=e.get(c);if(u===void 0){if(!l&&o(c)){const h=n(c),{outputs:p}=i(c);for(const f of p)if(_3(f)){const M=n(f[0]);t(h,M,f[1],f[2])}else{const M=a(f[0]);h.disconnect(M,f[1])}}e.set(c,d)}else e.set(c,u+d)},not=(e,t)=>i=>{const n=e.get(i);return t(n)||t(i)},rot=(e,t)=>i=>e.has(i)||t(i),aot=(e,t)=>i=>e.has(i)||t(i),oot=(e,t)=>i=>{const n=e.get(i);return t(n)||t(i)},sot=e=>t=>e!==null&&t instanceof e,lot=e=>t=>e!==null&&typeof e.AudioNode=="function"&&t instanceof e.AudioNode,cot=e=>t=>e!==null&&typeof e.AudioParam=="function"&&t instanceof e.AudioParam,uot=(e,t)=>i=>e(i)||t(i),dot=e=>t=>e!==null&&t instanceof e,hot=e=>e!==null&&e.isSecureContext,fot=(e,t,i,n)=>class extends e{constructor(o,l){const c=i(o),d=t(c,l);if(n(c))throw TypeError();super(o,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},mot={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},pot=(e,t,i,n)=>class extends e{constructor(o,l){const c=i(o);if(n(c))throw new TypeError;const d={...mot,...l},u=t(c,d);super(o,!1,u,null),this._nativeMediaStreamAudioDestinationNode=u}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},got=(e,t,i,n)=>class extends e{constructor(o,l){const c=i(o),d=t(c,l);if(n(c))throw new TypeError;super(o,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Mot=(e,t,i)=>class extends e{constructor(a,o){const l=i(a),c=t(l,o);super(a,!0,c,null)}},yot=(e,t,i,n,a,o)=>class extends i{constructor(c,d){super(c),this._nativeContext=c,h5.set(this,c),n(c)&&a.set(c,new Set),this._destination=new e(this,d),this._listener=t(this,c),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(c){const d=typeof c=="function"?o(this,c):null;this._nativeContext.onstatechange=d;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===d?c:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},xf=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=e.decodeAudioData(t.buffer,()=>{});return i===void 0?!1:(i.catch(()=>{}),!0)}catch{}return!1},Aot=(e,t)=>(i,n,a)=>{const o=new Set;return i.connect=(l=>(c,d=0,u=0)=>{const h=o.size===0;if(t(c))return l.call(i,c,d,u),e(o,[c,d,u],p=>p[0]===c&&p[1]===d&&p[2]===u,!0),h&&n(),c;l.call(i,c,d),e(o,[c,d],p=>p[0]===c&&p[1]===d,!0),h&&n()})(i.connect),i.disconnect=(l=>(c,d,u)=>{const h=o.size>0;if(c===void 0)l.apply(i),o.clear();else if(typeof c=="number"){l.call(i,c);for(const f of o)f[1]===c&&o.delete(f)}else{t(c)?l.call(i,c,d,u):l.call(i,c,d);for(const f of o)f[0]===c&&(d===void 0||f[1]===d)&&(u===void 0||f[2]===u)&&o.delete(f)}const p=o.size===0;h&&p&&a()})(i.disconnect),i},P9=(e,t,i)=>{const n=t[i];n!==void 0&&n!==e[i]&&(e[i]=n)},Mr=(e,t)=>{P9(e,t,"channelCount"),P9(e,t,"channelCountMode"),P9(e,t,"channelInterpretation")},wO=e=>typeof e.getFloatTimeDomainData=="function",vot=e=>{e.getFloatTimeDomainData=t=>{const i=new Uint8Array(t.length);e.getByteTimeDomainData(i);const n=Math.max(i.length,e.fftSize);for(let a=0;a<n;a+=1)t[a]=(i[a]-128)*.0078125;return t}},bot=(e,t)=>(i,n)=>{const a=i.createAnalyser();if(Mr(a,n),!(n.maxDecibels>n.minDecibels))throw t();return P9(a,n,"fftSize"),P9(a,n,"maxDecibels"),P9(a,n,"minDecibels"),P9(a,n,"smoothingTimeConstant"),e(wO,()=>wO(a))||vot(a),a},Cot=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null,z9=(e,t,i)=>{const n=t[i];n!==void 0&&n!==e[i].value&&(e[i].value=n)},_ot=e=>{e.start=(t=>{let i=!1;return(n=0,a=0,o)=>{if(i)throw Br();t.call(e,n,a,o),i=!0}})(e.start)},zA=e=>{e.start=(t=>(i=0,n=0,a)=>{if(typeof a=="number"&&a<0||n<0||i<0)throw new RangeError("The parameters can't be negative.");t.call(e,i,n,a)})(e.start)},jA=e=>{e.stop=(t=>(i=0)=>{if(i<0)throw new RangeError("The parameter can't be negative.");t.call(e,i)})(e.stop)},Eot=(e,t,i,n,a,o,l,c,d,u,h)=>(p,f)=>{const M=p.createBufferSource();return Mr(M,f),z9(M,f,"playbackRate"),P9(M,f,"buffer"),P9(M,f,"loop"),P9(M,f,"loopEnd"),P9(M,f,"loopStart"),t(i,()=>i(p))||_ot(M),t(n,()=>n(p))||d(M),t(a,()=>a(p))||u(M,p),t(o,()=>o(p))||zA(M),t(l,()=>l(p))||h(M,p),t(c,()=>c(p))||jA(M),e(p,M),M},wot=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null,Oot=(e,t)=>(i,n,a)=>{const o=i.destination;if(o.channelCount!==n)try{o.channelCount=n}catch{}a&&o.channelCountMode!=="explicit"&&(o.channelCountMode="explicit"),o.maxChannelCount===0&&Object.defineProperty(o,"maxChannelCount",{value:n});const l=e(i,{channelCount:n,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,gain:1});return t(l,"channelCount",c=>()=>c.call(l),c=>d=>{c.call(l,d);try{o.channelCount=d}catch(u){if(d>o.maxChannelCount)throw u}}),t(l,"channelCountMode",c=>()=>c.call(l),c=>d=>{c.call(l,d),o.channelCountMode=d}),t(l,"channelInterpretation",c=>()=>c.call(l),c=>d=>{c.call(l,d),o.channelInterpretation=d}),Object.defineProperty(l,"maxChannelCount",{get:()=>o.maxChannelCount}),l.connect(o),l},Sot=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null,xot=e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}},Tot=(e,t,i,n,a)=>(o,l,c,d,u,h)=>{if(c!==null)try{const p=new c(o,d,h),f=new Map;let M=null;if(Object.defineProperties(p,{channelCount:{get:()=>h.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>M,set:g=>{typeof M=="function"&&p.removeEventListener("processorerror",M),M=typeof g=="function"?g:null,typeof M=="function"&&p.addEventListener("processorerror",M)}}}),p.addEventListener=(g=>(...y)=>{if(y[0]==="processorerror"){const b=typeof y[1]=="function"?y[1]:typeof y[1]=="object"&&y[1]!==null&&typeof y[1].handleEvent=="function"?y[1].handleEvent:null;if(b!==null){const v=f.get(y[1]);v!==void 0?y[1]=v:(y[1]=C=>{C.type==="error"?(Object.defineProperties(C,{type:{value:"processorerror"}}),b(C)):b(new ErrorEvent(y[0],{...C}))},f.set(b,y[1]))}}return g.call(p,"error",y[1],y[2]),g.call(p,...y)})(p.addEventListener),p.removeEventListener=(g=>(...y)=>{if(y[0]==="processorerror"){const b=f.get(y[1]);b!==void 0&&(f.delete(y[1]),y[1]=b)}return g.call(p,"error",y[1],y[2]),g.call(p,y[0],y[1],y[2])})(p.removeEventListener),h.numberOfOutputs!==0){const g=i(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return p.connect(g).connect(o.destination),a(p,()=>g.disconnect(),()=>g.connect(o.destination))}return p}catch(p){throw p.code===11?n():p}if(u===void 0)throw n();return xot(h),t(o,l,u,h)},OL=(e,t)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Iot=e=>new Promise((t,i)=>{const{port1:n,port2:a}=new MessageChannel;n.onmessage=({data:o})=>{n.close(),a.close(),t(o)},n.onmessageerror=({data:o})=>{n.close(),a.close(),i(o)},a.postMessage(e)}),Bot=async(e,t)=>{const i=await Iot(t);return new e(i)},Rot=(e,t,i,n)=>{let a=cy.get(e);a===void 0&&(a=new WeakMap,cy.set(e,a));const o=Bot(i,n);return a.set(t,o),o},Dot=(e,t,i,n,a,o,l,c,d,u,h,p,f)=>(M,g,y,b)=>{if(b.numberOfInputs===0&&b.numberOfOutputs===0)throw d();const v=Array.isArray(b.outputChannelCount)?b.outputChannelCount:Array.from(b.outputChannelCount);if(v.some(Jt=>Jt<1))throw d();if(v.length!==b.numberOfOutputs)throw t();if(b.channelCountMode!=="explicit")throw d();const C=b.channelCount*b.numberOfInputs,w=v.reduce((Jt,Gt)=>Jt+Gt,0),_=y.parameterDescriptors===void 0?0:y.parameterDescriptors.length;if(C+_>6||w>6)throw d();const E=new MessageChannel,S=[],I=[];for(let Jt=0;Jt<b.numberOfInputs;Jt+=1)S.push(l(M,{channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,gain:1})),I.push(a(M,{channelCount:b.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:b.channelCount}));const T=[];if(y.parameterDescriptors!==void 0)for(const{defaultValue:Jt,maxValue:Gt,minValue:ce,name:ae}of y.parameterDescriptors){const qt=o(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:b.parameterData[ae]!==void 0?b.parameterData[ae]:Jt===void 0?0:Jt});Object.defineProperties(qt.offset,{defaultValue:{get:()=>Jt===void 0?0:Jt},maxValue:{get:()=>Gt===void 0?va:Gt},minValue:{get:()=>ce===void 0?Pa:ce}}),T.push(qt)}const k=n(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,C+_)}),D=OL(g,M.sampleRate),N=c(M,D,C+_,Math.max(1,w)),P=a(M,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),F=[];for(let Jt=0;Jt<b.numberOfOutputs;Jt+=1)F.push(n(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[Jt]}));for(let Jt=0;Jt<b.numberOfInputs;Jt+=1){S[Jt].connect(I[Jt]);for(let Gt=0;Gt<b.channelCount;Gt+=1)I[Jt].connect(k,Gt,Jt*b.channelCount+Gt)}const U=new _L(y.parameterDescriptors===void 0?[]:y.parameterDescriptors.map(({name:Jt},Gt)=>{const ce=T[Gt];return ce.connect(k,0,C+Gt),ce.start(0),[Jt,ce.offset]}));k.connect(N);let V=b.channelInterpretation,z=null;const G=b.numberOfOutputs===0?[N]:F,H={get bufferSize(){return D},get channelCount(){return b.channelCount},set channelCount(Jt){throw i()},get channelCountMode(){return b.channelCountMode},set channelCountMode(Jt){throw i()},get channelInterpretation(){return V},set channelInterpretation(Jt){for(const Gt of S)Gt.channelInterpretation=Jt;V=Jt},get context(){return N.context},get inputs(){return S},get numberOfInputs(){return b.numberOfInputs},get numberOfOutputs(){return b.numberOfOutputs},get onprocessorerror(){return z},set onprocessorerror(Jt){typeof z=="function"&&H.removeEventListener("processorerror",z),z=typeof Jt=="function"?Jt:null,typeof z=="function"&&H.addEventListener("processorerror",z)},get parameters(){return U},get port(){return E.port2},addEventListener(...Jt){return N.addEventListener(Jt[0],Jt[1],Jt[2])},connect:e.bind(null,G),disconnect:u.bind(null,G),dispatchEvent(...Jt){return N.dispatchEvent(Jt[0])},removeEventListener(...Jt){return N.removeEventListener(Jt[0],Jt[1],Jt[2])}},J=new Map;E.port1.addEventListener=(Jt=>(...Gt)=>{if(Gt[0]==="message"){const ce=typeof Gt[1]=="function"?Gt[1]:typeof Gt[1]=="object"&&Gt[1]!==null&&typeof Gt[1].handleEvent=="function"?Gt[1].handleEvent:null;if(ce!==null){const ae=J.get(Gt[1]);ae!==void 0?Gt[1]=ae:(Gt[1]=qt=>{h(M.currentTime,M.sampleRate,()=>ce(qt))},J.set(ce,Gt[1]))}}return Jt.call(E.port1,Gt[0],Gt[1],Gt[2])})(E.port1.addEventListener),E.port1.removeEventListener=(Jt=>(...Gt)=>{if(Gt[0]==="message"){const ce=J.get(Gt[1]);ce!==void 0&&(J.delete(Gt[1]),Gt[1]=ce)}return Jt.call(E.port1,Gt[0],Gt[1],Gt[2])})(E.port1.removeEventListener);let Z=null;Object.defineProperty(E.port1,"onmessage",{get:()=>Z,set:Jt=>{typeof Z=="function"&&E.port1.removeEventListener("message",Z),Z=typeof Jt=="function"?Jt:null,typeof Z=="function"&&(E.port1.addEventListener("message",Z),E.port1.start())}}),y.prototype.port=E.port1;let j=null;Rot(M,H,y,b).then(Jt=>j=Jt);const et=m8(b.numberOfInputs,b.channelCount),dt=m8(b.numberOfOutputs,v),ht=y.parameterDescriptors===void 0?[]:y.parameterDescriptors.reduce((Jt,{name:Gt})=>({...Jt,[Gt]:new Float32Array(128)}),{});let st=!0;const St=()=>{b.numberOfOutputs>0&&N.disconnect(P);for(let Jt=0,Gt=0;Jt<b.numberOfOutputs;Jt+=1){const ce=F[Jt];for(let ae=0;ae<v[Jt];ae+=1)P.disconnect(ce,Gt+ae,ae);Gt+=v[Jt]}},At=new Map;N.onaudioprocess=({inputBuffer:Jt,outputBuffer:Gt})=>{if(j!==null){const ce=p(H);for(let ae=0;ae<D;ae+=128){for(let qt=0;qt<b.numberOfInputs;qt+=1)for(let ue=0;ue<b.channelCount;ue+=1)f8(Jt,et[qt],ue,ue,ae);y.parameterDescriptors!==void 0&&y.parameterDescriptors.forEach(({name:qt},ue)=>{f8(Jt,ht,qt,C+ue,ae)});for(let qt=0;qt<b.numberOfInputs;qt+=1)for(let ue=0;ue<v[qt];ue+=1)dt[qt][ue].byteLength===0&&(dt[qt][ue]=new Float32Array(128));try{const qt=et.map(($e,ve)=>{if(ce[ve].size>0)return At.set(ve,D/128),$e;const qe=At.get(ve);return qe===void 0?[]:($e.every(ri=>ri.every(oi=>oi===0))&&(qe===1?At.delete(ve):At.set(ve,qe-1)),$e)});st=h(M.currentTime+ae/M.sampleRate,M.sampleRate,()=>j.process(qt,dt,ht));for(let $e=0,ve=0;$e<b.numberOfOutputs;$e+=1){for(let He=0;He<v[$e];He+=1)EL(Gt,dt[$e],He,ve+He,ae);ve+=v[$e]}}catch(qt){st=!1,H.dispatchEvent(new ErrorEvent("processorerror",{colno:qt.colno,filename:qt.filename,lineno:qt.lineno,message:qt.message}))}if(!st){for(let qt=0;qt<b.numberOfInputs;qt+=1){S[qt].disconnect(I[qt]);for(let ue=0;ue<b.channelCount;ue+=1)I[ae].disconnect(k,ue,qt*b.channelCount+ue)}if(y.parameterDescriptors!==void 0){const qt=y.parameterDescriptors.length;for(let ue=0;ue<qt;ue+=1){const $e=T[ue];$e.disconnect(k,0,C+ue),$e.stop()}}k.disconnect(N),N.onaudioprocess=null,xt?St():lt();break}}}};let xt=!1;const gt=l(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),yt=()=>N.connect(gt).connect(M.destination),lt=()=>{N.disconnect(gt),gt.disconnect()},zt=()=>{if(st){lt(),b.numberOfOutputs>0&&N.connect(P);for(let Jt=0,Gt=0;Jt<b.numberOfOutputs;Jt+=1){const ce=F[Jt];for(let ae=0;ae<v[Jt];ae+=1)P.connect(ce,Gt+ae,ae);Gt+=v[Jt]}}xt=!0},kt=()=>{st&&(yt(),St()),xt=!1};return yt(),f(H,zt,kt)},SL=(e,t)=>{const i=e.createBiquadFilter();return Mr(i,t),z9(i,t,"Q"),z9(i,t,"detune"),z9(i,t,"frequency"),z9(i,t,"gain"),P9(i,t,"type"),i},Pot=(e,t)=>(i,n)=>{const a=i.createChannelMerger(n.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&t(i,a),Mr(a,n),a},kot=e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:i=>{if(i!==t)throw Br()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:i=>{if(i!=="explicit")throw Br()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:i=>{if(i!=="discrete")throw Br()}})},E3=(e,t)=>{const i=e.createChannelSplitter(t.numberOfOutputs);return Mr(i,t),kot(i),i},Lot=(e,t,i,n,a)=>(o,l)=>{if(o.createConstantSource===void 0)return i(o,l);const c=o.createConstantSource();return Mr(c,l),z9(c,l,"offset"),t(n,()=>n(o))||zA(c),t(a,()=>a(o))||jA(c),e(o,c),c},Eh=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Not=(e,t,i,n)=>(a,{offset:o,...l})=>{const c=a.createBuffer(1,2,44100),d=t(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=i(a,{...l,gain:o}),h=c.getChannelData(0);h[0]=1,h[1]=1,d.buffer=c,d.loop=!0;const p={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(g){u.channelCount=g},get channelCountMode(){return u.channelCountMode},set channelCountMode(g){u.channelCountMode=g},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(g){u.channelInterpretation=g},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return d.onended},set onended(g){d.onended=g},addEventListener(...g){return d.addEventListener(g[0],g[1],g[2])},dispatchEvent(...g){return d.dispatchEvent(g[0])},removeEventListener(...g){return d.removeEventListener(g[0],g[1],g[2])},start(g=0){d.start.call(d,g)},stop(g=0){d.stop.call(d,g)}},f=()=>d.connect(u),M=()=>d.disconnect(u);return e(a,d),n(Eh(p,u),f,M)},Fot=(e,t)=>(i,n)=>{const a=i.createConvolver();if(Mr(a,n),n.disableNormalization===a.normalize&&(a.normalize=!n.disableNormalization),P9(a,n,"buffer"),n.channelCount>2||(t(a,"channelCount",o=>()=>o.call(a),o=>l=>{if(l>2)throw e();return o.call(a,l)}),n.channelCountMode==="max"))throw e();return t(a,"channelCountMode",o=>()=>o.call(a),o=>l=>{if(l==="max")throw e();return o.call(a,l)}),a},xL=(e,t)=>{const i=e.createDelay(t.maxDelayTime);return Mr(i,t),z9(i,t,"delayTime"),i},Uot=e=>(t,i)=>{const n=t.createDynamicsCompressor();if(Mr(n,i),i.channelCount>2||i.channelCountMode==="max")throw e();return z9(n,i,"attack"),z9(n,i,"knee"),z9(n,i,"ratio"),z9(n,i,"release"),z9(n,i,"threshold"),n},Ua=(e,t)=>{const i=e.createGain();return Mr(i,t),z9(i,t,"gain"),i},Jot=e=>(t,i,n)=>{if(t.createIIRFilter===void 0)return e(t,i,n);const a=t.createIIRFilter(n.feedforward,n.feedback);return Mr(a,n),a};function $ot(e,t){const i=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/i,(e[1]*t[0]-e[0]*t[1])/i]}function Got(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]}function OO(e,t){let i=[0,0];for(let n=e.length-1;n>=0;n-=1)i=Got(i,t),i[0]+=e[n];return i}const Hot=(e,t,i,n)=>(a,o,{channelCount:l,channelCountMode:c,channelInterpretation:d,feedback:u,feedforward:h})=>{const p=OL(o,a.sampleRate),f=u instanceof Float64Array?u:new Float64Array(u),M=h instanceof Float64Array?h:new Float64Array(h),g=f.length,y=M.length,b=Math.min(g,y);if(g===0||g>20)throw n();if(f[0]===0)throw t();if(y===0||y>20)throw n();if(M[0]===0)throw t();if(f[0]!==1){for(let T=0;T<y;T+=1)M[T]/=f[0];for(let T=1;T<g;T+=1)f[T]/=f[0]}const v=i(a,p,l,l);v.channelCount=l,v.channelCountMode=c,v.channelInterpretation=d;const C=32,w=[],_=[],E=[];for(let T=0;T<l;T+=1){w.push(0);const k=new Float32Array(C),D=new Float32Array(C);k.fill(0),D.fill(0),_.push(k),E.push(D)}v.onaudioprocess=T=>{const k=T.inputBuffer,D=T.outputBuffer,N=k.numberOfChannels;for(let P=0;P<N;P+=1){const F=k.getChannelData(P),U=D.getChannelData(P);w[P]=wL(f,g,M,y,b,_[P],E[P],w[P],C,F,U)}};const S=a.sampleRate/2;return Eh({get bufferSize(){return p},get channelCount(){return v.channelCount},set channelCount(T){v.channelCount=T},get channelCountMode(){return v.channelCountMode},set channelCountMode(T){v.channelCountMode=T},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(T){v.channelInterpretation=T},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...T){return v.addEventListener(T[0],T[1],T[2])},dispatchEvent(...T){return v.dispatchEvent(T[0])},getFrequencyResponse(T,k,D){if(T.length!==k.length||k.length!==D.length)throw e();const N=T.length;for(let P=0;P<N;P+=1){const F=-Math.PI*(T[P]/S),U=[Math.cos(F),Math.sin(F)],V=OO(M,U),z=OO(f,U),G=$ot(V,z);k[P]=Math.sqrt(G[0]*G[0]+G[1]*G[1]),D[P]=Math.atan2(G[1],G[0])}},removeEventListener(...T){return v.removeEventListener(T[0],T[1],T[2])}},v)},Vot=(e,t)=>e.createMediaElementSource(t.mediaElement),Qot=(e,t)=>{const i=e.createMediaStreamDestination();return Mr(i,t),i.numberOfOutputs===1&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i},zot=(e,{mediaStream:t})=>{const i=t.getAudioTracks();i.sort((o,l)=>o.id<l.id?-1:o.id>l.id?1:0);const n=i.slice(0,1),a=e.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(a,"mediaStream",{value:t}),a},jot=(e,t)=>(i,{mediaStreamTrack:n})=>{if(typeof i.createMediaStreamTrackSource=="function")return i.createMediaStreamTrackSource(n);const a=new MediaStream([n]),o=i.createMediaStreamSource(a);if(n.kind!=="audio")throw e();if(t(i))throw new TypeError;return o},Wot=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null,Kot=(e,t,i,n,a,o)=>(l,c)=>{const d=l.createOscillator();return Mr(d,c),z9(d,c,"detune"),z9(d,c,"frequency"),c.periodicWave!==void 0?d.setPeriodicWave(c.periodicWave):P9(d,c,"type"),t(i,()=>i(l))||zA(d),t(n,()=>n(l))||o(d,l),t(a,()=>a(l))||jA(d),e(l,d),d},qot=e=>(t,i)=>{const n=t.createPanner();return n.orientationX===void 0?e(t,i):(Mr(n,i),z9(n,i,"orientationX"),z9(n,i,"orientationY"),z9(n,i,"orientationZ"),z9(n,i,"positionX"),z9(n,i,"positionY"),z9(n,i,"positionZ"),P9(n,i,"coneInnerAngle"),P9(n,i,"coneOuterAngle"),P9(n,i,"coneOuterGain"),P9(n,i,"distanceModel"),P9(n,i,"maxDistance"),P9(n,i,"panningModel"),P9(n,i,"refDistance"),P9(n,i,"rolloffFactor"),n)},Xot=(e,t,i,n,a,o,l,c,d,u)=>(h,{coneInnerAngle:p,coneOuterAngle:f,coneOuterGain:M,distanceModel:g,maxDistance:y,orientationX:b,orientationY:v,orientationZ:C,panningModel:w,positionX:_,positionY:E,positionZ:S,refDistance:I,rolloffFactor:T,...k})=>{const D=h.createPanner();if(k.channelCount>2||k.channelCountMode==="max")throw l();Mr(D,k);const N={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},P=i(h,{...N,channelInterpretation:"speakers",numberOfInputs:6}),F=n(h,{...k,gain:1}),U=n(h,{...N,gain:1}),V=n(h,{...N,gain:0}),z=n(h,{...N,gain:0}),G=n(h,{...N,gain:0}),H=n(h,{...N,gain:0}),J=n(h,{...N,gain:0}),Z=a(h,256,6,1),j=o(h,{...N,curve:new Float32Array([1,1]),oversample:"none"});let W=[b,v,C],et=[_,E,S];const dt=new Float32Array(1);Z.onaudioprocess=({inputBuffer:At})=>{const xt=[d(At,dt,0),d(At,dt,1),d(At,dt,2)];xt.some((yt,lt)=>yt!==W[lt])&&(D.setOrientation(...xt),W=xt);const gt=[d(At,dt,3),d(At,dt,4),d(At,dt,5)];gt.some((yt,lt)=>yt!==et[lt])&&(D.setPosition(...gt),et=gt)},Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(z.gain,"defaultValue",{get:()=>0}),Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(H.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"defaultValue",{get:()=>0});const ht={get bufferSize(){},get channelCount(){return D.channelCount},set channelCount(At){if(At>2)throw l();F.channelCount=At,D.channelCount=At},get channelCountMode(){return D.channelCountMode},set channelCountMode(At){if(At==="max")throw l();F.channelCountMode=At,D.channelCountMode=At},get channelInterpretation(){return D.channelInterpretation},set channelInterpretation(At){F.channelInterpretation=At,D.channelInterpretation=At},get coneInnerAngle(){return D.coneInnerAngle},set coneInnerAngle(At){D.coneInnerAngle=At},get coneOuterAngle(){return D.coneOuterAngle},set coneOuterAngle(At){D.coneOuterAngle=At},get coneOuterGain(){return D.coneOuterGain},set coneOuterGain(At){if(At<0||At>1)throw t();D.coneOuterGain=At},get context(){return D.context},get distanceModel(){return D.distanceModel},set distanceModel(At){D.distanceModel=At},get inputs(){return[F]},get maxDistance(){return D.maxDistance},set maxDistance(At){if(At<0)throw new RangeError;D.maxDistance=At},get numberOfInputs(){return D.numberOfInputs},get numberOfOutputs(){return D.numberOfOutputs},get orientationX(){return U.gain},get orientationY(){return V.gain},get orientationZ(){return z.gain},get panningModel(){return D.panningModel},set panningModel(At){D.panningModel=At},get positionX(){return G.gain},get positionY(){return H.gain},get positionZ(){return J.gain},get refDistance(){return D.refDistance},set refDistance(At){if(At<0)throw new RangeError;D.refDistance=At},get rolloffFactor(){return D.rolloffFactor},set rolloffFactor(At){if(At<0)throw new RangeError;D.rolloffFactor=At},addEventListener(...At){return F.addEventListener(At[0],At[1],At[2])},dispatchEvent(...At){return F.dispatchEvent(At[0])},removeEventListener(...At){return F.removeEventListener(At[0],At[1],At[2])}};p!==ht.coneInnerAngle&&(ht.coneInnerAngle=p),f!==ht.coneOuterAngle&&(ht.coneOuterAngle=f),M!==ht.coneOuterGain&&(ht.coneOuterGain=M),g!==ht.distanceModel&&(ht.distanceModel=g),y!==ht.maxDistance&&(ht.maxDistance=y),b!==ht.orientationX.value&&(ht.orientationX.value=b),v!==ht.orientationY.value&&(ht.orientationY.value=v),C!==ht.orientationZ.value&&(ht.orientationZ.value=C),w!==ht.panningModel&&(ht.panningModel=w),_!==ht.positionX.value&&(ht.positionX.value=_),E!==ht.positionY.value&&(ht.positionY.value=E),S!==ht.positionZ.value&&(ht.positionZ.value=S),I!==ht.refDistance&&(ht.refDistance=I),T!==ht.rolloffFactor&&(ht.rolloffFactor=T),(W[0]!==1||W[1]!==0||W[2]!==0)&&D.setOrientation(...W),(et[0]!==0||et[1]!==0||et[2]!==0)&&D.setPosition(...et);const st=()=>{F.connect(D),e(F,j,0,0),j.connect(U).connect(P,0,0),j.connect(V).connect(P,0,1),j.connect(z).connect(P,0,2),j.connect(G).connect(P,0,3),j.connect(H).connect(P,0,4),j.connect(J).connect(P,0,5),P.connect(Z).connect(h.destination)},St=()=>{F.disconnect(D),c(F,j,0,0),j.disconnect(U),U.disconnect(P),j.disconnect(V),V.disconnect(P),j.disconnect(z),z.disconnect(P),j.disconnect(G),G.disconnect(P),j.disconnect(H),H.disconnect(P),j.disconnect(J),J.disconnect(P),P.disconnect(Z),Z.disconnect(h.destination)};return u(Eh(ht,D),st,St)},Yot=e=>(t,{disableNormalization:i,imag:n,real:a})=>{const o=n instanceof Float32Array?n:new Float32Array(n),l=a instanceof Float32Array?a:new Float32Array(a),c=t.createPeriodicWave(l,o,{disableNormalization:i});if(Array.from(n).length<2)throw e();return c},w3=(e,t,i,n)=>e.createScriptProcessor(t,i,n),Zot=(e,t)=>(i,n)=>{const a=n.channelCountMode;if(a==="clamped-max")throw t();if(i.createStereoPanner===void 0)return e(i,n);const o=i.createStereoPanner();return Mr(o,n),z9(o,n,"pan"),Object.defineProperty(o,"channelCountMode",{get:()=>a,set:l=>{if(l!==a)throw t()}}),o},tst=(e,t,i,n,a,o)=>{const c=new Float32Array([1,1]),d=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},h={...u,oversample:"none"},p=(g,y,b,v)=>{const C=new Float32Array(16385),w=new Float32Array(16385);for(let k=0;k<16385;k+=1){const D=k/16384*d;C[k]=Math.cos(D),w[k]=Math.sin(D)}const _=i(g,{...u,gain:0}),E=n(g,{...h,curve:C}),S=n(g,{...h,curve:c}),I=i(g,{...u,gain:0}),T=n(g,{...h,curve:w});return{connectGraph(){y.connect(_),y.connect(S.inputs===void 0?S:S.inputs[0]),y.connect(I),S.connect(b),b.connect(E.inputs===void 0?E:E.inputs[0]),b.connect(T.inputs===void 0?T:T.inputs[0]),E.connect(_.gain),T.connect(I.gain),_.connect(v,0,0),I.connect(v,0,1)},disconnectGraph(){y.disconnect(_),y.disconnect(S.inputs===void 0?S:S.inputs[0]),y.disconnect(I),S.disconnect(b),b.disconnect(E.inputs===void 0?E:E.inputs[0]),b.disconnect(T.inputs===void 0?T:T.inputs[0]),E.disconnect(_.gain),T.disconnect(I.gain),_.disconnect(v,0,0),I.disconnect(v,0,1)}}},f=(g,y,b,v)=>{const C=new Float32Array(16385),w=new Float32Array(16385),_=new Float32Array(16385),E=new Float32Array(16385),S=Math.floor(16385/2);for(let G=0;G<16385;G+=1)if(G>S){const H=(G-S)/(16384-S)*d;C[G]=Math.cos(H),w[G]=Math.sin(H),_[G]=0,E[G]=1}else{const H=G/(16384-S)*d;C[G]=1,w[G]=0,_[G]=Math.cos(H),E[G]=Math.sin(H)}const I=t(g,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),T=i(g,{...u,gain:0}),k=n(g,{...h,curve:C}),D=i(g,{...u,gain:0}),N=n(g,{...h,curve:w}),P=n(g,{...h,curve:c}),F=i(g,{...u,gain:0}),U=n(g,{...h,curve:_}),V=i(g,{...u,gain:0}),z=n(g,{...h,curve:E});return{connectGraph(){y.connect(I),y.connect(P.inputs===void 0?P:P.inputs[0]),I.connect(T,0),I.connect(D,0),I.connect(F,1),I.connect(V,1),P.connect(b),b.connect(k.inputs===void 0?k:k.inputs[0]),b.connect(N.inputs===void 0?N:N.inputs[0]),b.connect(U.inputs===void 0?U:U.inputs[0]),b.connect(z.inputs===void 0?z:z.inputs[0]),k.connect(T.gain),N.connect(D.gain),U.connect(F.gain),z.connect(V.gain),T.connect(v,0,0),F.connect(v,0,0),D.connect(v,0,1),V.connect(v,0,1)},disconnectGraph(){y.disconnect(I),y.disconnect(P.inputs===void 0?P:P.inputs[0]),I.disconnect(T,0),I.disconnect(D,0),I.disconnect(F,1),I.disconnect(V,1),P.disconnect(b),b.disconnect(k.inputs===void 0?k:k.inputs[0]),b.disconnect(N.inputs===void 0?N:N.inputs[0]),b.disconnect(U.inputs===void 0?U:U.inputs[0]),b.disconnect(z.inputs===void 0?z:z.inputs[0]),k.disconnect(T.gain),N.disconnect(D.gain),U.disconnect(F.gain),z.disconnect(V.gain),T.disconnect(v,0,0),F.disconnect(v,0,0),D.disconnect(v,0,1),V.disconnect(v,0,1)}}},M=(g,y,b,v,C)=>{if(y===1)return p(g,b,v,C);if(y===2)return f(g,b,v,C);throw a()};return(g,{channelCount:y,channelCountMode:b,pan:v,...C})=>{if(b==="max")throw a();const w=e(g,{...C,channelCount:1,channelCountMode:b,numberOfInputs:2}),_=i(g,{...C,channelCount:y,channelCountMode:b,gain:1}),E=i(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:v});let{connectGraph:S,disconnectGraph:I}=M(g,y,_,E,w);Object.defineProperty(E.gain,"defaultValue",{get:()=>0}),Object.defineProperty(E.gain,"maxValue",{get:()=>1}),Object.defineProperty(E.gain,"minValue",{get:()=>-1});const T={get bufferSize(){},get channelCount(){return _.channelCount},set channelCount(P){_.channelCount!==P&&(k&&I(),{connectGraph:S,disconnectGraph:I}=M(g,P,_,E,w),k&&S()),_.channelCount=P},get channelCountMode(){return _.channelCountMode},set channelCountMode(P){if(P==="clamped-max"||P==="max")throw a();_.channelCountMode=P},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(P){_.channelInterpretation=P},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get pan(){return E.gain},addEventListener(...P){return _.addEventListener(P[0],P[1],P[2])},dispatchEvent(...P){return _.dispatchEvent(P[0])},removeEventListener(...P){return _.removeEventListener(P[0],P[1],P[2])}};let k=!1;const D=()=>{S(),k=!0},N=()=>{I(),k=!1};return o(Eh(T,w),D,N)}},est=(e,t,i,n,a,o,l)=>(c,d)=>{const u=c.createWaveShaper();if(o!==null&&o.name==="webkitAudioContext"&&c.createGain().gain.automationRate===void 0)return i(c,d);Mr(u,d);const h=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(h!==null&&h.length<2)throw t();P9(u,{curve:h},"curve"),P9(u,d,"oversample");let p=null,f=!1;return l(u,"curve",y=>()=>y.call(u),y=>b=>(y.call(u,b),f&&(n(b)&&p===null?p=e(c,u):!n(b)&&p!==null&&(p(),p=null)),b)),a(u,()=>{f=!0,n(u.curve)&&(p=e(c,u))},()=>{f=!1,p!==null&&(p(),p=null)})},ist=(e,t,i,n,a)=>(o,{curve:l,oversample:c,...d})=>{const u=o.createWaveShaper(),h=o.createWaveShaper();Mr(u,d),Mr(h,d);const p=i(o,{...d,gain:1}),f=i(o,{...d,gain:-1}),M=i(o,{...d,gain:1}),g=i(o,{...d,gain:-1});let y=null,b=!1,v=null;const C={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(E){p.channelCount=E,f.channelCount=E,u.channelCount=E,M.channelCount=E,h.channelCount=E,g.channelCount=E},get channelCountMode(){return u.channelCountMode},set channelCountMode(E){p.channelCountMode=E,f.channelCountMode=E,u.channelCountMode=E,M.channelCountMode=E,h.channelCountMode=E,g.channelCountMode=E},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(E){p.channelInterpretation=E,f.channelInterpretation=E,u.channelInterpretation=E,M.channelInterpretation=E,h.channelInterpretation=E,g.channelInterpretation=E},get context(){return u.context},get curve(){return v},set curve(E){if(E!==null&&E.length<2)throw t();if(E===null)u.curve=E,h.curve=E;else{const S=E.length,I=new Float32Array(S+2-S%2),T=new Float32Array(S+2-S%2);I[0]=E[0],T[0]=-E[S-1];const k=Math.ceil((S+1)/2),D=(S+1)/2-1;for(let N=1;N<k;N+=1){const P=N/k*D,F=Math.floor(P),U=Math.ceil(P);I[N]=F===U?E[F]:(1-(P-F))*E[F]+(1-(U-P))*E[U],T[N]=F===U?-E[S-1-F]:-((1-(P-F))*E[S-1-F])-(1-(U-P))*E[S-1-U]}I[k]=S%2===1?E[k-1]:(E[k-2]+E[k-1])/2,u.curve=I,h.curve=T}v=E,b&&(n(v)&&y===null?y=e(o,p):y!==null&&(y(),y=null))},get inputs(){return[p]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(E){u.oversample=E,h.oversample=E},addEventListener(...E){return p.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return p.dispatchEvent(E[0])},removeEventListener(...E){return p.removeEventListener(E[0],E[1],E[2])}};l!==null&&(C.curve=l instanceof Float32Array?l:new Float32Array(l)),c!==C.oversample&&(C.oversample=c);const w=()=>{p.connect(u).connect(M),p.connect(f).connect(h).connect(g).connect(M),b=!0,n(v)&&(y=e(o,p))},_=()=>{p.disconnect(u),u.disconnect(M),p.disconnect(f),f.disconnect(h),h.disconnect(g),g.disconnect(M),b=!1,y!==null&&(y(),y=null)};return a(Eh(C,M),w,_)},Ea=()=>new DOMException("","NotSupportedError"),nst={numberOfChannels:1},rst=(e,t,i,n,a)=>class extends e{constructor(l,c,d){let u;if(typeof l=="number"&&c!==void 0&&d!==void 0)u={length:c,numberOfChannels:l,sampleRate:d};else if(typeof l=="object")u=l;else throw new Error("The given parameters are not valid.");const{length:h,numberOfChannels:p,sampleRate:f}={...nst,...u},M=n(p,h,f);t(xf,()=>xf(M))||M.addEventListener("statechange",(()=>{let g=0;const y=b=>{this._state==="running"&&(g>0?(M.removeEventListener("statechange",y),b.stopImmediatePropagation(),this._waitForThePromiseToSettle(b)):g+=1)};return y})()),super(M,p),this._length=h,this._nativeOfflineAudioContext=M,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(i()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,AL(this)}))}_waitForThePromiseToSettle(l){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(l):setTimeout(()=>this._waitForThePromiseToSettle(l))}},ast={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},ost=(e,t,i,n,a,o,l)=>class extends e{constructor(d,u){const h=a(d),p={...ast,...u},f=i(h,p),M=o(h),g=M?n():null,y=d.sampleRate/2;super(d,!1,f,g),this._detune=t(this,M,f.detune,153600,-153600),this._frequency=t(this,M,f.frequency,y,-y),this._nativeOscillatorNode=f,this._onended=null,this._oscillatorNodeRenderer=g,this._oscillatorNodeRenderer!==null&&p.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=p.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const u=typeof d=="function"?l(this,d):null;this._nativeOscillatorNode.onended=u;const h=this._nativeOscillatorNode.onended;this._onended=h!==null&&h===u?d:h}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){rh(this);const u=()=>{this._nativeOscillatorNode.removeEventListener("ended",u),Ol(this)&&b3(this)};this._nativeOscillatorNode.addEventListener("ended",u)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},sst=(e,t,i,n,a)=>()=>{const o=new WeakMap;let l=null,c=null,d=null;const u=async(h,p)=>{let f=i(h);const M=ca(f,p);if(!M){const g={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:l===null?void 0:l,type:f.type};f=t(p,g),c!==null&&f.start(c),d!==null&&f.stop(d)}return o.set(p,f),M?(await e(p,h.detune,f.detune),await e(p,h.frequency,f.frequency)):(await n(p,h.detune,f.detune),await n(p,h.frequency,f.frequency)),await a(h,p,f),f};return{set periodicWave(h){l=h},set start(h){c=h},set stop(h){d=h},render(h,p){const f=o.get(p);return f!==void 0?Promise.resolve(f):u(h,p)}}},lst={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},cst=(e,t,i,n,a,o,l)=>class extends e{constructor(d,u){const h=a(d),p={...lst,...u},f=i(h,p),M=o(h),g=M?n():null;super(d,!1,f,g),this._nativePannerNode=f,this._orientationX=t(this,M,f.orientationX,va,Pa),this._orientationY=t(this,M,f.orientationY,va,Pa),this._orientationZ=t(this,M,f.orientationZ,va,Pa),this._positionX=t(this,M,f.positionX,va,Pa),this._positionY=t(this,M,f.positionY,va,Pa),this._positionZ=t(this,M,f.positionZ,va,Pa),l(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},ust=(e,t,i,n,a,o,l,c,d,u)=>()=>{const h=new WeakMap;let p=null;const f=async(M,g)=>{let y=null,b=o(M);const v={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation},C={...v,coneInnerAngle:b.coneInnerAngle,coneOuterAngle:b.coneOuterAngle,coneOuterGain:b.coneOuterGain,distanceModel:b.distanceModel,maxDistance:b.maxDistance,panningModel:b.panningModel,refDistance:b.refDistance,rolloffFactor:b.rolloffFactor},w=ca(b,g);if("bufferSize"in b)y=n(g,{...v,gain:1});else if(!w){const _={...C,orientationX:b.orientationX.value,orientationY:b.orientationY.value,orientationZ:b.orientationZ.value,positionX:b.positionX.value,positionY:b.positionY.value,positionZ:b.positionZ.value};b=a(g,_)}if(h.set(g,y===null?b:y),y!==null){if(p===null){if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");const N=new l(6,M.context.length,g.sampleRate),P=t(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});P.connect(N.destination),p=(async()=>{const F=await Promise.all([M.orientationX,M.orientationY,M.orientationZ,M.positionX,M.positionY,M.positionZ].map(async(U,V)=>{const z=i(N,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V===0?1:0});return await c(N,U,z.offset),z}));for(let U=0;U<6;U+=1)F[U].connect(P,0,U),F[U].start(0);return u(N)})()}const _=await p,E=n(g,{...v,gain:1});await d(M,g,E);const S=[];for(let N=0;N<_.numberOfChannels;N+=1)S.push(_.getChannelData(N));let I=[S[0][0],S[1][0],S[2][0]],T=[S[3][0],S[4][0],S[5][0]],k=n(g,{...v,gain:1}),D=a(g,{...C,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:T[0],positionY:T[1],positionZ:T[2]});E.connect(k).connect(D.inputs[0]),D.connect(y);for(let N=128;N<_.length;N+=128){const P=[S[0][N],S[1][N],S[2][N]],F=[S[3][N],S[4][N],S[5][N]];if(P.some((U,V)=>U!==I[V])||F.some((U,V)=>U!==T[V])){I=P,T=F;const U=N/g.sampleRate;k.gain.setValueAtTime(0,U),k=n(g,{...v,gain:0}),D=a(g,{...C,orientationX:I[0],orientationY:I[1],orientationZ:I[2],positionX:T[0],positionY:T[1],positionZ:T[2]}),k.gain.setValueAtTime(1,U),E.connect(k).connect(D.inputs[0]),D.connect(y)}}return y}return w?(await e(g,M.orientationX,b.orientationX),await e(g,M.orientationY,b.orientationY),await e(g,M.orientationZ,b.orientationZ),await e(g,M.positionX,b.positionX),await e(g,M.positionY,b.positionY),await e(g,M.positionZ,b.positionZ)):(await c(g,M.orientationX,b.orientationX),await c(g,M.orientationY,b.orientationY),await c(g,M.orientationZ,b.orientationZ),await c(g,M.positionX,b.positionX),await c(g,M.positionY,b.positionY),await c(g,M.positionZ,b.positionZ)),_h(b)?await d(M,g,b.inputs[0]):await d(M,g,b),b};return{render(M,g){const y=h.get(g);return y!==void 0?Promise.resolve(y):f(M,g)}}},dst={disableNormalization:!1},hst=(e,t,i,n)=>class TL{constructor(o,l){const c=t(o),d=n({...dst,...l}),u=e(c,d);return i.add(u),u}static[Symbol.hasInstance](o){return o!==null&&typeof o=="object"&&Object.getPrototypeOf(o)===TL.prototype||i.has(o)}},fst=(e,t)=>(i,n,a)=>(e(n).replay(a),t(n,i,a)),mst=(e,t,i)=>async(n,a,o)=>{const l=e(n);await Promise.all(l.activeInputs.map((c,d)=>Array.from(c).map(async([u,h])=>{const f=await t(u).render(u,a),M=n.context.destination;!i(u)&&(n!==M||!i(n))&&f.connect(o,h,d)})).reduce((c,d)=>[...c,...d],[]))},pst=(e,t,i)=>async(n,a,o)=>{const l=t(n);await Promise.all(Array.from(l.activeInputs).map(async([c,d])=>{const h=await e(c).render(c,a);i(c)||h.connect(o,d)}))},gst=(e,t,i,n)=>a=>e(xf,()=>xf(a))?Promise.resolve(e(n,n)).then(o=>{if(!o){const l=i(a,512,0,1);a.oncomplete=()=>{l.onaudioprocess=null,l.disconnect()},l.onaudioprocess=()=>a.currentTime,l.connect(a.destination)}return a.startRendering()}):new Promise(o=>{const l=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=c=>{l.disconnect(),o(c.renderedBuffer)},l.connect(a.destination),a.startRendering()}),Mst=e=>(t,i)=>{e.set(t,i)},yst=e=>(t,i)=>e.set(t,i),Ast=(e,t,i,n,a,o,l,c)=>(d,u)=>i(d).render(d,u).then(()=>Promise.all(Array.from(n(u)).map(h=>i(h).render(h,u)))).then(()=>a(u)).then(h=>(typeof h.copyFromChannel!="function"?(l(h),HA(h)):t(o,()=>o(h))||c(h),e.add(h),h)),vst={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},bst=(e,t,i,n,a,o)=>class extends e{constructor(c,d){const u=a(c),h={...vst,...d},p=i(u,h),f=o(u),M=f?n():null;super(c,!1,p,M),this._pan=t(this,f,p.pan)}get pan(){return this._pan}},Cst=(e,t,i,n,a)=>()=>{const o=new WeakMap,l=async(c,d)=>{let u=i(c);const h=ca(u,d);if(!h){const p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=t(d,p)}return o.set(d,u),h?await e(d,c.pan,u.pan):await n(d,c.pan,u.pan),_h(u)?await a(c,d,u.inputs[0]):await a(c,d,u),u};return{render(c,d){const u=o.get(d);return u!==void 0?Promise.resolve(u):l(c,d)}}},_st=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0},Est=(e,t)=>async()=>{if(e===null)return!0;if(t===null)return!1;const i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new t(1,128,44100),a=URL.createObjectURL(i);let o=!1,l=!1;try{await n.audioWorklet.addModule(a);const c=new e(n,"a",{numberOfOutputs:0}),d=n.createOscillator();c.port.onmessage=()=>o=!0,c.onprocessorerror=()=>l=!0,d.connect(c),d.start(0),await n.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(a)}return o&&!l},wst=(e,t)=>()=>{if(t===null)return Promise.resolve(!1);const i=new t(1,1,44100),n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{i.oncomplete=()=>{n.disconnect(),a(i.currentTime!==0)},i.startRendering()})},Ost=()=>new DOMException("","UnknownError"),Sst={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},xst=(e,t,i,n,a,o,l)=>class extends e{constructor(d,u){const h=a(d),p={...Sst,...u},f=i(h,p),g=o(h)?n():null;super(d,!0,f,g),this._isCurveNullified=!1,this._nativeWaveShaperNode=f,l(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},Tst=(e,t,i)=>()=>{const n=new WeakMap,a=async(o,l)=>{let c=t(o);if(!ca(c,l)){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,curve:c.curve,oversample:c.oversample};c=e(l,u)}return n.set(l,c),_h(c)?await i(o,l,c.inputs[0]):await i(o,l,c),c};return{render(o,l){const c=n.get(l);return c!==void 0?Promise.resolve(c):a(o,l)}}},Ist=()=>typeof window>"u"?null:window,Bst=(e,t)=>i=>{i.copyFromChannel=(n,a,o=0)=>{const l=e(o),c=e(a);if(c>=i.numberOfChannels)throw t();const d=i.length,u=i.getChannelData(c),h=n.length;for(let p=l<0?-l:0;p+l<d&&p<h;p+=1)n[p]=u[p+l]},i.copyToChannel=(n,a,o=0)=>{const l=e(o),c=e(a);if(c>=i.numberOfChannels)throw t();const d=i.length,u=i.getChannelData(c),h=n.length;for(let p=l<0?-l:0;p+l<d&&p<h;p+=1)u[p+l]=n[p]}},Rst=e=>t=>{t.copyFromChannel=(i=>(n,a,o=0)=>{const l=e(o),c=e(a);if(l<t.length)return i.call(t,n,c,l)})(t.copyFromChannel),t.copyToChannel=(i=>(n,a,o=0)=>{const l=e(o),c=e(a);if(l<t.length)return i.call(t,n,c,l)})(t.copyToChannel)},Dst=e=>(t,i)=>{const n=i.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=n),e(t,"buffer",a=>()=>{const o=a.call(t);return o===n?null:o},a=>o=>a.call(t,o===null?n:o))},Pst=(e,t)=>(i,n)=>{n.channelCount=1,n.channelCountMode="explicit",Object.defineProperty(n,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const a=i.createBufferSource();t(n,()=>{const c=n.numberOfInputs;for(let d=0;d<c;d+=1)a.connect(n,0,d)},()=>a.disconnect(n))},IL=(e,t,i)=>e.copyFromChannel===void 0?e.getChannelData(i)[0]:(e.copyFromChannel(t,i),t[0]),BL=e=>{if(e===null)return!1;const t=e.length;return t%2!==0?e[Math.floor(t/2)]!==0:e[t/2-1]+e[t/2]!==0},O3=(e,t,i,n)=>{let a=e;for(;!a.hasOwnProperty(t);)a=Object.getPrototypeOf(a);const{get:o,set:l}=Object.getOwnPropertyDescriptor(a,t);Object.defineProperty(e,t,{get:i(o),set:n(l)})},kst=e=>({...e,outputChannelCount:e.outputChannelCount!==void 0?e.outputChannelCount:e.numberOfInputs===1&&e.numberOfOutputs===1?[e.channelCount]:Array.from({length:e.numberOfOutputs},()=>1)}),Lst=e=>({...e,channelCount:e.numberOfOutputs}),Nst=e=>{const{imag:t,real:i}=e;return t===void 0?i===void 0?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(i,()=>0),real:i}:i===void 0?{...e,imag:t,real:Array.from(t,()=>0)}:{...e,imag:t,real:i}},RL=(e,t,i)=>{try{e.setValueAtTime(t,i)}catch(n){if(n.code!==9)throw n;RL(e,t,i+1e-7)}},Fst=e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},Ust=e=>{const t=e.createBufferSource(),i=e.createBuffer(1,1,44100);t.buffer=i;try{t.start(0,1)}catch{return!1}return!0},Jst=e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},WA=e=>{const t=e.createOscillator();try{t.start(-1)}catch(i){return i instanceof RangeError}return!1},DL=e=>{const t=e.createBuffer(1,1,44100),i=e.createBufferSource();i.buffer=t,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},KA=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(i){return i instanceof RangeError}return!1},$st=e=>{const{port1:t,port2:i}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),i.close()}},Gst=e=>{e.start=(t=>(i=0,n=0,a)=>{const o=e.buffer,l=o===null?n:Math.min(o.duration,n);o!==null&&l>o.duration-.5/e.context.sampleRate?t.call(e,i,0,0):t.call(e,i,l,a)})(e.start)},PL=(e,t)=>{const i=t.createGain();e.connect(i);const n=(a=>()=>{a.call(e,i),e.removeEventListener("ended",n)})(e.disconnect);e.addEventListener("ended",n),Eh(e,i),e.stop=(a=>{let o=!1;return(l=0)=>{if(o)try{a.call(e,l)}catch{i.gain.setValueAtTime(0,l)}else a.call(e,l),o=!0}})(e.stop)},wh=(e,t)=>i=>{const n={value:e};return Object.defineProperties(i,{currentTarget:n,target:n}),typeof t=="function"?t.call(e,i):t.handleEvent.call(e,i)},Hst=crt(M1),Vst=prt(M1),Qst=Sat(f5),kL=new WeakMap,zst=Qat(kL),as=nat(new Map,new WeakMap),Ds=Ist(),LL=bot(as,$s),qA=Vat(Ca),Qr=mst(Ca,qA,d1),jst=vrt(LL,I9,Qr),b9=Wat(h5),Ll=Wot(Ds),l9=dot(Ll),NL=new WeakMap,FL=Nat(wh),S3=wot(Ds),XA=sot(S3),YA=lot(Ds),UL=cot(Ds),Tf=Sot(Ds),er=Qrt(urt(hL),mrt(Hst,Vst,u8,Qst,d8,Ca,zst,v3,I9,M1,Ol,d1,m6),as,iot(sy,d8,Ca,I9,Sf,Ol),$s,m5,Ea,_at(u8,sy,Ca,I9,Sf,b9,Ol,l9),Iat(NL,Ca,es),FL,b9,XA,YA,UL,l9,Tf),Wst=Art(er,jst,$s,LL,b9,l9),ZA=new WeakSet,SO=Cot(Ds),JL=gat(new Uint32Array(1)),tv=Bst(JL,$s),ev=Rst(JL),$L=Crt(ZA,as,Ea,SO,Ll,_st(SO),tv,ev),p5=grt(Ua),GL=pst(qA,C3,d1),Gs=uat(GL),Oh=Eot(p5,as,Fst,Ust,Jst,WA,DL,KA,Gst,Dst(O3),PL),Hs=fst(zat(C3),GL),Kst=wrt(Gs,Oh,I9,Hs,Qr),os=zrt(drt(fL),NL,GA,jrt,nrt,rrt,art,ort,srt,ry,uL,S3,RL),qst=Ert(er,Kst,os,Br,Oh,b9,l9,wh),Xst=Prt(er,krt,$s,Br,Oot(Ua,O3),b9,l9,Qr),Yst=iat(Gs,SL,I9,Hs,Qr),y1=yst(kL),Zst=eat(er,os,Yst,m5,SL,b9,l9,y1),Wc=Aot(M1,YA),tlt=Pst(Br,Wc),Kc=Pot(S3,tlt),elt=oat(Kc,I9,Qr),ilt=aat(er,elt,Kc,b9,l9),nlt=cat(E3,I9,Qr),rlt=lat(er,nlt,E3,b9,l9,Lst),alt=Not(p5,Oh,Ua,Wc),Sh=Lot(p5,as,alt,WA,KA),olt=pat(Gs,Sh,I9,Hs,Qr),slt=mat(er,os,olt,Sh,b9,l9,wh),HL=Fot(Ea,O3),llt=Aat(HL,I9,Qr),clt=yat(er,llt,HL,b9,l9,y1),ult=Oat(Gs,xL,I9,Hs,Qr),dlt=wat(er,os,ult,xL,b9,l9,y1),VL=Uot(Ea),hlt=Pat(Gs,VL,I9,Hs,Qr),flt=Dat(er,os,hlt,VL,Ea,b9,l9,y1),mlt=Gat(Gs,Ua,I9,Hs,Qr),plt=$at(er,os,mlt,Ua,b9,l9),glt=Hot(m5,Br,w3,Ea),g5=gst(as,Ua,w3,wst(Ua,Ll)),Mlt=eot(Oh,I9,Ll,Qr,g5),ylt=Jot(glt),Alt=Zat(er,ylt,Mlt,b9,l9,y1),vlt=Lrt(os,Kc,Sh,w3,Ea,IL,l9,O3),QL=new WeakMap,blt=yot(Xst,vlt,FL,l9,QL,wh),zL=Kot(p5,as,WA,DL,KA,PL),Clt=sst(Gs,zL,I9,Hs,Qr),_lt=ost(er,os,zL,Clt,b9,l9,wh),jL=hat(Oh),Elt=ist(jL,Br,Ua,BL,Wc),M5=est(jL,Br,Elt,BL,Wc,S3,O3),wlt=Xot(u8,Br,Kc,Ua,w3,M5,Ea,d8,IL,Wc),WL=qot(wlt),Olt=ust(Gs,Kc,Sh,Ua,WL,I9,Ll,Hs,Qr,g5),Slt=cst(er,os,WL,Olt,b9,l9,y1),xlt=Yot($s),Tlt=hst(xlt,b9,new WeakSet,Nst),Ilt=tst(Kc,E3,Ua,M5,Ea,Wc),KL=Zot(Ilt,Ea),Blt=Cst(Gs,KL,I9,Hs,Qr),Rlt=bst(er,os,KL,Blt,b9,l9),Dlt=Tst(M5,I9,Qr),Plt=xst(er,Br,M5,Dlt,b9,l9,y1),qL=hot(Ds),iv=Fat(Ds),XL=new WeakMap,klt=Kat(XL,Ll),Llt=qL?frt(as,Ea,Lat(Ds),iv,Uat(lrt),b9,klt,l9,Tf,new WeakMap,new WeakMap,Est(Tf,Ll),Ds):void 0,Nlt=uot(XA,l9),Flt=Cat(ZA,as,bat,kat,new WeakSet,b9,Nlt,l8,xf,tv,ev),YL=Zrt(Llt,Wst,$L,qst,Zst,ilt,rlt,slt,clt,Flt,dlt,flt,plt,Alt,blt,_lt,Slt,Tlt,Rlt,Plt),Ult=fot(er,Vot,b9,l9),Jlt=pot(er,Qot,b9,l9),$lt=got(er,zot,b9,l9),Glt=jot(Br,l9),Hlt=Mot(er,Glt,b9),Vlt=Drt(YL,Br,Ea,Ost,Ult,Jlt,$lt,Hlt,S3),nv=qat(QL),Qlt=Mrt(nv),ZL=dat($s),zlt=xat(nv),tN=Bat($s),eN=new WeakMap,jlt=Hat(eN,es),Wlt=Dot(ZL,$s,Br,Kc,E3,Sh,Ua,w3,Ea,tN,iv,jlt,Wc),Klt=Tot(Br,Wlt,Ua,Ea,Wc),qlt=Yrt(Gs,ZL,Oh,Kc,E3,Sh,Ua,zlt,tN,iv,I9,Tf,Ll,Hs,Qr,g5),Xlt=jat(XL),Ylt=Mst(eN),xO=qL?Krt(Qlt,er,os,qlt,Klt,Ca,Xlt,b9,l9,Tf,kst,Ylt,$st,wh):void 0,Zlt=vat(Ea,Ll),tct=Ast(ZA,as,qA,nv,g5,l8,tv,ev),ect=rst(YL,as,Br,Zlt,tct),ict=not(h5,XA),nct=rot($A,YA),rct=aot(GA,UL),act=oot(h5,l9);function So(e){return e===void 0}function E0(e){return e!==void 0}function oct(e){return typeof e=="function"}function Uc(e){return typeof e=="number"}function qu(e){return Object.prototype.toString.call(e)==="[object Object]"&&e.constructor===Object}function sct(e){return typeof e=="boolean"}function eo(e){return Array.isArray(e)}function kl(e){return typeof e=="string"}function F4(e){return kl(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)}function $n(e,t){if(!e)throw new Error(t)}function Jc(e,t,i=1/0){if(!(t<=e&&e<=i))throw new RangeError(`Value must be within [${t}, ${i}], got: ${e}`)}function iN(e){!e.isOffline&&e.state!=="running"&&y5('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let nN=!1,TO=!1;function IO(e){nN=e}function lct(e){So(e)&&nN&&!TO&&(TO=!0,y5("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let rN=console;function cct(...e){rN.log(...e)}function y5(...e){rN.warn(...e)}function uct(e){return new Vlt(e)}function dct(e,t,i){return new ect(e,t,i)}const Ya=typeof self=="object"?self:null,hct=Ya&&(Ya.hasOwnProperty("AudioContext")||Ya.hasOwnProperty("webkitAudioContext"));function fct(e,t,i){return $n(E0(xO),"AudioWorkletNode only works in a secure context (https or localhost)"),new(e instanceof(Ya==null?void 0:Ya.BaseAudioContext)?Ya==null?void 0:Ya.AudioWorkletNode:xO)(e,t,i)}function ss(e,t,i,n){var a=arguments.length,o=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,i):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,i,n);else for(var c=e.length-1;c>=0;c--)(l=e[c])&&(o=(a<3?l(o):a>3?l(t,i,o):l(t,i))||o);return a>3&&o&&Object.defineProperty(t,i,o),o}function sr(e,t,i,n){function a(o){return o instanceof i?o:new i(function(l){l(o)})}return new(i||(i=Promise))(function(o,l){function c(h){try{u(n.next(h))}catch(p){l(p)}}function d(h){try{u(n.throw(h))}catch(p){l(p)}}function u(h){h.done?o(h.value):a(h.value).then(c,d)}u((n=n.apply(e,t||[])).next())})}class mct{constructor(t,i,n,a){this._callback=t,this._type=i,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),i=URL.createObjectURL(t),n=new Worker(i);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var i;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((i=this._worker)===null||i===void 0||i.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function h1(e){return rct(e)}function Sc(e){return nct(e)}function p6(e){return act(e)}function hd(e){return ict(e)}function pct(e){return e instanceof $L}function gct(e,t){return e==="value"||h1(t)||Sc(t)||pct(t)}function Xu(e,...t){if(!t.length)return e;const i=t.shift();if(qu(e)&&qu(i))for(const n in i)gct(n,i[n])?e[n]=i[n]:qu(i[n])?(e[n]||Object.assign(e,{[n]:{}}),Xu(e[n],i[n])):Object.assign(e,{[n]:i[n]});return Xu(e,...t)}function Mct(e,t){return e.length===t.length&&e.every((i,n)=>t[n]===i)}function i0(e,t,i=[],n){const a={},o=Array.from(t);if(qu(o[0])&&n&&!Reflect.has(o[0],n)&&(Object.keys(o[0]).some(c=>Reflect.has(e,c))||(Xu(a,{[n]:o[0]}),i.splice(i.indexOf(n),1),o.shift())),o.length===1&&qu(o[0]))Xu(a,o[0]);else for(let l=0;l<i.length;l++)E0(o[l])&&(a[i[l]]=o[l]);return Xu(e,a)}function yct(e){return e.constructor.getDefaults()}function Bd(e,t){return So(e)?t:e}function hy(e,t){return t.forEach(i=>{Reflect.has(e,i)&&delete e[i]}),e}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Nl{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Ya&&this.toString()===Ya.TONE_DEBUG_CLASS)&&cct(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Nl.version=cL;const rv=1e-6;function ah(e,t){return e>t+rv}function fy(e,t){return ah(e,t)||Vo(e,t)}function p8(e,t){return e+rv<t}function Vo(e,t){return Math.abs(e-t)<rv}function Act(e,t,i){return Math.max(Math.min(e,i),t)}class xo extends Nl{constructor(){super(),this.name="Timeline",this._timeline=[];const t=i0(xo.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if($n(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const i=this._timeline[this.length-1];$n(fy(t.time,i.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const i=this._search(t.time);this._timeline.splice(i+1,0,t)}if(this.length>this.memory){const i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(t){const i=this._timeline.indexOf(t);return i!==-1&&this._timeline.splice(i,1),this}get(t,i="time"){const n=this._search(t,i);return n!==-1?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,i="time"){const n=this._search(t,i);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const i=this._timeline.length;if(i>0&&this._timeline[i-1].time<t)return this._timeline[i-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let i=this._search(t);if(i>=0)if(Vo(this._timeline[i].time,t)){for(let n=i;n>=0&&Vo(this._timeline[n].time,t);n--)i=n;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1&&fy(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const i=this._search(t);return i>=0&&(this._timeline=this._timeline.slice(i+1)),this}previousEvent(t){const i=this._timeline.indexOf(t);return i>0?this._timeline[i-1]:null}_search(t,i="time"){if(this._timeline.length===0)return-1;let n=0;const a=this._timeline.length;let o=a;if(a>0&&this._timeline[a-1][i]<=t)return a-1;for(;n<o;){let l=Math.floor(n+(o-n)/2);const c=this._timeline[l],d=this._timeline[l+1];if(Vo(c[i],t)){for(let u=l;u<this._timeline.length;u++){const h=this._timeline[u];if(Vo(h[i],t))l=u;else break}return l}else{if(p8(c[i],t)&&ah(d[i],t))return l;ah(c[i],t)?o=l:n=l+1}}return-1}_iterate(t,i=0,n=this._timeline.length-1){this._timeline.slice(i,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,i){const n=this._search(t);return n!==-1&&this._iterate(i,0,n),this}forEachAfter(t,i){const n=this._search(t);return this._iterate(i,n+1),this}forEachBetween(t,i,n){let a=this._search(t),o=this._search(i);return a!==-1&&o!==-1?(this._timeline[a].time!==t&&(a+=1),this._timeline[o].time===i&&(o-=1),this._iterate(n,a,o)):a===-1&&this._iterate(n,0,o),this}forEachFrom(t,i){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(i,n+1),this}forEachAtTime(t,i){const n=this._search(t);if(n!==-1&&Vo(this._timeline[n].time,t)){let a=n;for(let o=n;o>=0&&Vo(this._timeline[o].time,t);o--)a=o;this._iterate(o=>{i(o)},a,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const aN=[];function A5(e){aN.push(e)}function vct(e){aN.forEach(t=>t(e))}const oN=[];function v5(e){oN.push(e)}function bct(e){oN.forEach(t=>t(e))}class x3 extends Nl{constructor(){super(...arguments),this.name="Emitter"}on(t,i){return t.split(/\W+/).forEach(a=>{So(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(i)}),this}once(t,i){const n=(...a)=>{i(...a),this.off(t,n)};return this.on(t,n),this}off(t,i){return t.split(/\W+/).forEach(a=>{if(So(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(So(i))this._events[a]=[];else{const o=this._events[a];for(let l=o.length-1;l>=0;l--)o[l]===i&&o.splice(l,1)}}),this}emit(t,...i){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let a=0,o=n.length;a<o;a++)n[a].apply(this,i)}return this}static mixin(t){["on","once","off","emit"].forEach(i=>{const n=Object.getOwnPropertyDescriptor(x3.prototype,i);Object.defineProperty(t.prototype,i,n)})}dispose(){return super.dispose(),this._events=void 0,this}}class sN extends x3{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class T3 extends sN{constructor(){var t,i;super(),this.name="Context",this._constants=new Map,this._timeouts=new xo,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const n=i0(T3.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=uct({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new mct(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((i=arguments[0])===null||i===void 0)&&i.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(vct(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,i,n){return this._context.createBuffer(t,i,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,i){return this._context.createIIRFilter(t,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,i,n){return this._context.createPeriodicWave(t,i,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return $n(hd(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return $n(hd(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return $n(hd(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){$n(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){$n(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){$n(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){$n(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,i){return fct(this.rawContext,t,i)}addAudioWorkletModule(t){return sr(this,void 0,void 0,function*(){$n(E0(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return sr(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return hd(this._context)?this._context.resume():Promise.resolve()}close(){return sr(this,void 0,void 0,function*(){hd(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&bct(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const i=this._context.createBuffer(1,128,this._context.sampleRate),n=i.getChannelData(0);for(let o=0;o<n.length;o++)n[o]=t;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=i,a.loop=!0,a.start(0),this._constants.set(t,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();let i=this._timeouts.peek();for(;this._timeouts.length&&i&&i.time<=t;)i.callback(),this._timeouts.shift(),i=this._timeouts.peek()}setTimeout(t,i){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+i}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(i=>{i.id===t&&this._timeouts.remove(i)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,i){const n=++this._timeoutIds,a=()=>{const o=this.now();this._timeouts.add({callback:()=>{t(),a()},id:n,time:o+i})};return a(),n}}class Cct extends sN{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,i,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,i){return{}}createPanner(){return{}}createPeriodicWave(t,i,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,i){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return sr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,i){return 0}clearTimeout(t){return this}setInterval(t,i){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function Y9(e,t){eo(t)?t.forEach(i=>Y9(e,i)):Object.defineProperty(e,t,{enumerable:!0,writable:!1})}function lN(e,t){eo(t)?t.forEach(i=>lN(e,i)):Object.defineProperty(e,t,{writable:!0})}const s9=()=>{};class x9 extends Nl{constructor(){super(),this.name="ToneAudioBuffer",this.onload=s9;const t=i0(x9.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,kl(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:s9,onload:s9,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Oo().sampleRate}set(t){return t instanceof x9?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return sr(this,void 0,void 0,function*(){const i=x9.load(t).then(n=>{this.set(n),this.onload(this)});x9.downloads.push(i);try{yield i}finally{const n=x9.downloads.indexOf(i);x9.downloads.splice(n,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const i=eo(t)&&t[0].length>0,n=i?t.length:1,a=i?t[0].length:t.length,o=Oo(),l=o.createBuffer(n,a,o.sampleRate),c=!i&&n===1?[t]:t;for(let d=0;d<n;d++)l.copyToChannel(c[d],d);return this._buffer=l,this}toMono(t){if(Uc(t))this.fromArray(this.toArray(t));else{let i=new Float32Array(this.length);const n=this.numberOfChannels;for(let a=0;a<n;a++){const o=this.toArray(a);for(let l=0;l<o.length;l++)i[l]+=o[l]}i=i.map(a=>a/n),this.fromArray(i)}return this}toArray(t){if(Uc(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const i=[];for(let n=0;n<this.numberOfChannels;n++)i[n]=this.getChannelData(n);return i}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,i=this.duration){$n(this.loaded,"Buffer is not loaded");const n=Math.floor(t*this.sampleRate),a=Math.floor(i*this.sampleRate);$n(n<a,"The start time must be less than the end time");const o=a-n,l=Oo().createBuffer(this.numberOfChannels,o,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)l.copyToChannel(this.getChannelData(c).subarray(n,a),c);return new x9(l)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new x9().fromArray(t)}static fromUrl(t){return sr(this,void 0,void 0,function*(){return yield new x9().load(t)})}static load(t){return sr(this,void 0,void 0,function*(){const i=t.match(/\[([^\]\[]+\|.+)\]$/);if(i){const d=i[1].split("|");let u=d[0];for(const h of d)if(x9.supportsType(h)){u=h;break}t=t.replace(i[0],u)}const n=x9.baseUrl===""||x9.baseUrl.endsWith("/")?x9.baseUrl:x9.baseUrl+"/",a=document.createElement("a");a.href=n+t,a.pathname=(a.pathname+a.hash).split("/").map(encodeURIComponent).join("/");const o=yield fetch(a.href);if(!o.ok)throw new Error(`could not load url: ${t}`);const l=yield o.arrayBuffer();return yield Oo().decodeAudioData(l)})}static supportsType(t){const i=t.split("."),n=i[i.length-1];return document.createElement("audio").canPlayType("audio/"+n)!==""}static loaded(){return sr(this,void 0,void 0,function*(){for(yield Promise.resolve();x9.downloads.length;)yield x9.downloads[0]})}}x9.baseUrl="";x9.downloads=[];class av extends T3{constructor(){super({clockSource:"offline",context:p6(arguments[0])?arguments[0]:dct(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:p6(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=p6(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return sr(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,i++;const n=Math.floor(this.sampleRate/128);t&&i%n===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return sr(this,arguments,void 0,function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const i=yield this._context.startRendering();return new x9(i)})}close(){return Promise.resolve()}}const cN=new Cct;let Md=cN;function Oo(){return Md===cN&&hct&&_ct(new T3),Md}function _ct(e,t=!1){t&&Md.dispose(),hd(e)?Md=new T3(e):p6(e)?Md=new av(e):Md=e}if(Ya&&!Ya.TONE_SILENCE_LOGGING){const t=` * Tone.js v${cL} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function Ect(e){return Math.pow(10,e/20)}function wct(e){return 20*(Math.log(e)/Math.LN10)}function uN(e){return Math.pow(2,e/12)}let b5=440;function Oct(){return b5}function Sct(e){b5=e}function Fu(e){return Math.round(dN(e))}function dN(e){return 69+12*Math.log2(e/b5)}function hN(e){return b5*Math.pow(2,(e-69)/12)}class ov extends Nl{constructor(t,i,n){super(),this.defaultUnits="s",this._val=i,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,i)=>{const n=parseInt(t,10),a=i==="."?1.5:1;return n===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/n)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const i=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(i)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,i,n)=>{let a=0;return t&&t!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),i&&i!=="0"&&(a+=this._beatsToUnits(parseFloat(i))),n&&n!=="0"&&(a+=this._beatsToUnits(parseFloat(n)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof ov&&this.fromType(this._val),So(this._val))return this._noArg();if(kl(this._val)&&So(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(qu(this._val)){let t=0;for(const i in this._val)if(E0(this._val[i])){const n=this._val[i],a=new this.constructor(this.context,i).valueOf()*n;t+=a}return t}if(E0(this._units)){const t=this._expressions[this._units],i=this._val.toString().trim().match(t.regexp);return i?t.method.apply(this,i.slice(1)):t.method.call(this,this._val)}else return kl(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class qo extends ov{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const i=new qo(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(t,i=1){const n=new this.constructor(this.context,t).valueOf(),a=this.valueOf(),c=Math.round(a/n)*n-a;return a+c*i}toNotation(){const t=this.toSeconds(),i=["1m"];for(let o=1;o<9;o++){const l=Math.pow(2,o);i.push(l+"n."),i.push(l+"n"),i.push(l+"t")}i.push("0");let n=i[0],a=new qo(this.context,i[0]).toSeconds();return i.forEach(o=>{const l=new qo(this.context,o).toSeconds();Math.abs(l-t)<Math.abs(a-t)&&(n=o,a=l)}),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let i=this.valueOf()/t;i=parseFloat(i.toFixed(4));const n=Math.floor(i/this._getTimeSignature());let a=i%1*4;i=Math.floor(i)%this._getTimeSignature();const o=a.toString();return o.length>3&&(a=parseFloat(parseFloat(o).toFixed(3))),[n,i,a].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Fu(this.toFrequency())}_now(){return this.context.now()}}class to extends qo{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Oct()}static set A4(t){Sct(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:to.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,i){const a=xct[t.toLowerCase()]+(parseInt(i,10)+1)*12;return this.defaultUnits==="midi"?a:to.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,i,n){let a=1;return t&&t!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),i&&i!=="0"&&(a*=this._beatsToUnits(parseFloat(i))),n&&n!=="0"&&(a*=this._beatsToUnits(parseFloat(n)/4)),a}}})}transpose(t){return new to(this.context,this.valueOf()*uN(t))}harmonize(t){return t.map(i=>this.transpose(i))}toMidi(){return Fu(this.valueOf())}toNote(){const t=this.toFrequency(),i=Math.log2(t/to.A4);let n=Math.round(12*i)+57;const a=Math.floor(n/12);return a<0&&(n+=-12*a),Tct[n%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),i=this.valueOf()/t;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return hN(t)}static ftom(t){return Fu(t)}}const xct={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},Tct=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class of extends qo{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class La extends Nl{constructor(){super();const t=i0(La.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:Oo()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return lct(t),new qo(this.context,t).toSeconds()}toFrequency(t){return new to(this.context,t).toFrequency()}toTicks(t){return new of(this.context,t).toTicks()}_getPartialProperties(t){const i=this.get();return Object.keys(i).forEach(n=>{So(t[n])&&delete i[n]}),i}get(){const t=yct(this);return Object.keys(t).forEach(i=>{if(Reflect.has(this,i)){const n=this[i];E0(n)&&E0(n.value)&&E0(n.setValueAtTime)?t[i]=n.value:n instanceof La?t[i]=n._getPartialProperties(t[i]):eo(n)||Uc(n)||kl(n)||sct(n)?t[i]=n:delete t[i]}}),t}set(t){return Object.keys(t).forEach(i=>{Reflect.has(this,i)&&E0(this[i])&&(this[i]&&E0(this[i].value)&&E0(this[i].setValueAtTime)?this[i].value!==t[i]&&(this[i].value=t[i]):this[i]instanceof La?this[i].set(t[i]):this[i]=t[i])}),this}}class sv extends xo{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const i=this.get(t);return i!==null?i.state:this._initial}setStateAtTime(t,i,n){return Jc(i,0),this.add(Object.assign({},n,{state:t,time:i})),this}getLastState(t,i){const n=this._search(i);for(let a=n;a>=0;a--){const o=this._timeline[a];if(o.state===t)return o}}getNextState(t,i){const n=this._search(i);if(n!==-1)for(let a=n;a<this._timeline.length;a++){const o=this._timeline[a];if(o.state===t)return o}}}class U9 extends La{constructor(){const t=i0(U9.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,$n(E0(t.param)&&(h1(t.param)||t.param instanceof U9),"param must be an AudioParam");!h1(t.param);)t.param=t.param._param;this._swappable=E0(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new xo(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,E0(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(La.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return E0(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return E0(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,i){return this.units===i}_assertRange(t){return E0(this.maxValue)&&E0(this.minValue)&&Jc(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Ect(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?wct(t):t}setValueAtTime(t,i){const n=this.toSeconds(i),a=this._fromType(t);return $n(isFinite(a)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,n),this}getValueAtTime(t){const i=Math.max(this.toSeconds(t),0),n=this._events.getAfter(i),a=this._events.get(i);let o=this._initialValue;if(a===null)o=this._initialValue;else if(a.type==="setTargetAtTime"&&(n===null||n.type==="setValueAtTime")){const l=this._events.getBefore(a.time);let c;l===null?c=this._initialValue:c=l.value,a.type==="setTargetAtTime"&&(o=this._exponentialApproach(a.time,c,a.value,a.constant,i))}else if(n===null)o=a.value;else if(n.type==="linearRampToValueAtTime"||n.type==="exponentialRampToValueAtTime"){let l=a.value;if(a.type==="setTargetAtTime"){const c=this._events.getBefore(a.time);c===null?l=this._initialValue:l=c.value}n.type==="linearRampToValueAtTime"?o=this._linearInterpolate(a.time,l,n.time,n.value,i):o=this._exponentialInterpolate(a.time,l,n.time,n.value,i)}else o=a.value;return this._toType(o)}setRampPoint(t){t=this.toSeconds(t);let i=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(i)===0&&(i=this._toType(this._minOutput)),this.setValueAtTime(i,t),this}linearRampToValueAtTime(t,i){const n=this._fromType(t),a=this.toSeconds(i);return $n(isFinite(n)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._assertRange(n),this._events.add({time:a,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,a),this._param.linearRampToValueAtTime(n,a),this}exponentialRampToValueAtTime(t,i){let n=this._fromType(t);n=Vo(n,0)?this._minOutput:n,this._assertRange(n);const a=this.toSeconds(i);return $n(isFinite(n)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,a),this._param.exponentialRampToValueAtTime(n,a),this}exponentialRampTo(t,i,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(i)),this}linearRampTo(t,i,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(i)),this}targetRampTo(t,i,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,i),this}exponentialApproachValueAtTime(t,i,n){i=this.toSeconds(i),n=this.toSeconds(n);const a=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,i,a),this.cancelAndHoldAtTime(i+n*.9),this.linearRampToValueAtTime(t,i+n),this}setTargetAtTime(t,i,n){const a=this._fromType(t);$n(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const o=this.toSeconds(i);return this._assertRange(a),$n(isFinite(a)&&isFinite(o),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(i)}`),this._events.add({constant:n,time:o,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",t,o,n),this._param.setTargetAtTime(a,o,n),this}setValueCurveAtTime(t,i,n,a=1){n=this.toSeconds(n),i=this.toSeconds(i);const o=this._fromType(t[0])*a;this.setValueAtTime(this._toType(o),i);const l=n/(t.length-1);for(let c=1;c<t.length;c++){const d=this._fromType(t[c])*a;this.linearRampToValueAtTime(this._toType(d),i+c*l)}return this}cancelScheduledValues(t){const i=this.toSeconds(t);return $n(isFinite(i),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,"cancelScheduledValues",i),this}cancelAndHoldAtTime(t){const i=this.toSeconds(t),n=this._fromType(this.getValueAtTime(i));$n(isFinite(i),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",i,"value="+n);const a=this._events.get(i),o=this._events.getAfter(i);return a&&Vo(a.time,i)?o?(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):o&&(this._param.cancelScheduledValues(o.time),this._events.cancel(o.time),o.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(n),i):o.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(n),i)),this._events.add({time:i,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,i),this}rampTo(t,i=.1,n){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,i,n):this.linearRampTo(t,i,n),this}apply(t){const i=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(i),i);const n=this._events.get(i);if(n&&n.type==="setTargetAtTime"){const a=this._events.getAfter(n.time),o=a?a.time:i+2,l=(o-i)/10;for(let c=i;c<o;c+=l)t.linearRampToValueAtTime(this.getValueAtTime(c),c)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?t.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?t.setTargetAtTime(a.value,a.time,a.constant):t[a.type](a.value,a.time)}),this}setParam(t){$n(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const i=this.input;return i.disconnect(this._param),this.apply(t),this._param=t,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,i,n,a,o){return n+(i-n)*Math.exp(-(o-t)/a)}_linearInterpolate(t,i,n,a,o){return i+(a-i)*((o-t)/(n-t))}_exponentialInterpolate(t,i,n,a,o){return i*Math.pow(a/i,(o-t)/(n-t))}}class _0 extends La{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return E0(this.input)?h1(this.input)||this.input instanceof U9?1:this.input.numberOfInputs:0}get numberOfOutputs(){return E0(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return E0(t)&&(t instanceof _0||Sc(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(n=>{n.channelCount=t.channelCount,n.channelCountMode=t.channelCountMode,n.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();$n(t.length>0,"ToneAudioNode does not have any internal nodes");const i=t[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:t}))}connect(t,i=0,n=0){return xh(this,t,i,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return y5("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,i=0,n=0){return Ict(this,t,i,n),this}chain(...t){return my(this,...t),this}fan(...t){return t.forEach(i=>this.connect(i)),this}dispose(){return super.dispose(),E0(this.input)&&(this.input instanceof _0?this.input.dispose():Sc(this.input)&&this.input.disconnect()),E0(this.output)&&(this.output instanceof _0?this.output.dispose():Sc(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function my(...e){const t=e.shift();e.reduce((i,n)=>(i instanceof _0?i.connect(n):Sc(i)&&xh(i,n),n),t)}function xh(e,t,i=0,n=0){for($n(E0(e),"Cannot connect from undefined node"),$n(E0(t),"Cannot connect to undefined node"),(t instanceof _0||Sc(t))&&$n(t.numberOfInputs>0,"Cannot connect to node with no inputs"),$n(e.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof _0||t instanceof U9;)E0(t.input)&&(t=t.input);for(;e instanceof _0;)E0(e.output)&&(e=e.output);h1(t)?e.connect(t,i):e.connect(t,i,n)}function Ict(e,t,i=0,n=0){if(E0(t))for(;t instanceof _0;)t=t.input;for(;!Sc(e);)E0(e.output)&&(e=e.output);h1(t)?e.disconnect(t,i):Sc(t)?e.disconnect(t,i,n):e.disconnect()}class sa extends _0{constructor(){const t=i0(sa.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new U9({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Y9(this,"gain")}static getDefaults(){return Object.assign(_0.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class oh extends _0{constructor(t){super(t),this.onended=s9,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new sa({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){const n=this.toSeconds(i);return this._startTime!==-1&&n>=this._startTime&&(this._stopTime===-1||n<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(_0.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:s9})}_startGain(t,i=1){$n(this._startTime===-1,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(i,t+n):this._gainNode.gain.exponentialApproachValueAtTime(i,t,n)):this._gainNode.gain.setValueAtTime(i,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){$n(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+i,this._stopTime=Math.max(this._stopTime,this.now()),i>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,i,t):this._gainNode.gain.targetRampTo(0,i,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const n=this._curve==="exponential"?i*2:0;this._stopSource(this.now()+n),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==s9&&(this.onended(this),this.onended=s9,!this.context.isOffline)){const t=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),$n(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=s9,this}}class lv extends oh{constructor(){const t=i0(lv.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),xh(this._source,this._gainNode),this.offset=new U9({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(oh.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const i=this.toSeconds(t);return this.log("start",i),this._startGain(i),this._source.start(i),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Pr extends _0{constructor(){const t=i0(Pr.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new lv({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(_0.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,i=0,n=0){return cv(this,t,i,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,i){return this._param.setValueAtTime(t,i),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,i){return this._param.linearRampToValueAtTime(t,i),this}exponentialRampToValueAtTime(t,i){return this._param.exponentialRampToValueAtTime(t,i),this}exponentialRampTo(t,i,n){return this._param.exponentialRampTo(t,i,n),this}linearRampTo(t,i,n){return this._param.linearRampTo(t,i,n),this}targetRampTo(t,i,n){return this._param.targetRampTo(t,i,n),this}exponentialApproachValueAtTime(t,i,n){return this._param.exponentialApproachValueAtTime(t,i,n),this}setTargetAtTime(t,i,n){return this._param.setTargetAtTime(t,i,n),this}setValueCurveAtTime(t,i,n,a){return this._param.setValueCurveAtTime(t,i,n,a),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,i,n){return this._param.rampTo(t,i,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function cv(e,t,i,n){(t instanceof U9||h1(t)||t instanceof Pr&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Pr&&(t.overridden=!0)),xh(e,t,i,n)}class uv extends U9{constructor(){const t=i0(uv.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new xo(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(U9.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,i,n){i=this.toSeconds(i),this.setRampPoint(i);const a=this._fromType(t),o=this._events.get(i),l=Math.round(Math.max(1/n,1));for(let c=0;c<=l;c++){const d=n*c+i,u=this._exponentialApproach(o.time,o.value,a,n,d);this.linearRampToValueAtTime(this._toType(u),d)}return this}setValueAtTime(t,i){const n=this.toSeconds(i);super.setValueAtTime(t,i);const a=this._events.get(n),o=this._events.previousEvent(a),l=this._getTicksUntilEvent(o,n);return a.ticks=Math.max(l,0),this}linearRampToValueAtTime(t,i){const n=this.toSeconds(i);super.linearRampToValueAtTime(t,i);const a=this._events.get(n),o=this._events.previousEvent(a),l=this._getTicksUntilEvent(o,n);return a.ticks=Math.max(l,0),this}exponentialRampToValueAtTime(t,i){i=this.toSeconds(i);const n=this._fromType(t),a=this._events.get(i),o=Math.round(Math.max((i-a.time)*10,1)),l=(i-a.time)/o;for(let c=0;c<=o;c++){const d=l*c+a.time,u=this._exponentialInterpolate(a.time,a.value,i,n,d);this.linearRampToValueAtTime(this._toType(u),d)}return this}_getTicksUntilEvent(t,i){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(So(t.ticks)){const l=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(l,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let a=this._fromType(this.getValueAtTime(i));const o=this._events.get(i);return o&&o.time===i&&o.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-t.time)*(n+a)+t.ticks}getTicksAtTime(t){const i=this.toSeconds(t),n=this._events.get(i);return Math.max(this._getTicksUntilEvent(n,i),0)}getDurationOfTicks(t,i){const n=this.toSeconds(i),a=this.getTicksAtTime(i);return this.getTimeOfTick(a+t)-n}getTimeOfTick(t){const i=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(i&&i.ticks===t)return i.time;if(i&&n&&n.type==="linearRampToValueAtTime"&&i.value!==n.value){const a=this._fromType(this.getValueAtTime(i.time)),l=(this._fromType(this.getValueAtTime(n.time))-a)/(n.time-i.time),c=Math.sqrt(Math.pow(a,2)-2*l*(i.ticks-t)),d=(-a+c)/l,u=(-a-c)/l;return(d>0?d:u)+i.time}else return i?i.value===0?1/0:i.time+(t-i.ticks)/i.value:t/this._initialValue}ticksToTime(t,i){return this.getDurationOfTicks(t,i)}timeToTicks(t,i){const n=this.toSeconds(i),a=this.toSeconds(t),o=this.getTicksAtTime(n);return this.getTicksAtTime(n+a)-o}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const i=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class dv extends Pr{constructor(){const t=i0(dv.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new uv({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Pr.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,i){return this._param.ticksToTime(t,i)}timeToTicks(t,i){return this._param.timeToTicks(t,i)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,i){return this._param.getDurationOfTicks(t,i)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class hv extends La{constructor(){const t=i0(hv.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new sv,this._tickOffset=new xo,this._ticksAtTime=new xo,this._secondsAtTime=new xo,this.frequency=new dv({context:this.context,units:t.units,value:t.frequency}),Y9(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},La.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,i){const n=this.toSeconds(t);return this._state.getValueAtTime(n)!=="started"&&(this._state.setStateAtTime("started",n),E0(i)&&this.setTicksAtTime(i,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(t){const i=this.toSeconds(t);if(this._state.getValueAtTime(i)==="stopped"){const n=this._state.get(i);n&&n.time>0&&(this._tickOffset.cancel(n.time),this._state.cancel(n.time))}return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this.setTicksAtTime(0,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}pause(t){const i=this.toSeconds(t);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const i=this.toSeconds(t),n=this._state.getLastState("stopped",i),a=this._ticksAtTime.get(i),o={state:"paused",time:i};this._state.add(o);let l=a||n,c=a?a.ticks:0,d=null;return this._state.forEachBetween(l.time,i+this.sampleTime,u=>{let h=l.time;const p=this._tickOffset.get(u.time);p&&p.time>=l.time&&(c=p.ticks,h=p.time),l.state==="started"&&u.state!=="started"&&(c+=this.frequency.getTicksAtTime(u.time)-this.frequency.getTicksAtTime(h),u.time!==o.time&&(d={state:u.state,time:u.time,ticks:c})),l=u}),this._state.remove(o),d&&this._ticksAtTime.add(d),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const i=this.now(),n=this.frequency.timeToTicks(t,i);this.setTicksAtTime(n,i)}getSecondsAtTime(t){t=this.toSeconds(t);const i=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);const a=this._secondsAtTime.get(t);let o=a||i,l=a?a.seconds:0,c=null;return this._state.forEachBetween(o.time,t+this.sampleTime,d=>{let u=o.time;const h=this._tickOffset.get(d.time);h&&h.time>=o.time&&(l=h.seconds,u=h.time),o.state==="started"&&d.state!=="started"&&(l+=d.time-u,d.time!==n.time&&(c={state:d.state,time:d.time,seconds:l})),o=d}),this._state.remove(n),c&&this._secondsAtTime.add(c),l}setTicksAtTime(t,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,i),ticks:t,time:i}),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,i=this.now()){const n=this._tickOffset.get(i),a=this._state.get(i),o=Math.max(n.time,a.time),l=this.frequency.getTicksAtTime(o)+t-n.ticks;return this.frequency.getTimeOfTick(l)}forEachTickBetween(t,i,n){let a=this._state.get(t);this._state.forEachBetween(t,i,l=>{a&&a.state==="started"&&l.state!=="started"&&this.forEachTickBetween(Math.max(a.time,t),l.time-this.sampleTime,n),a=l});let o=null;if(a&&a.state==="started"){const l=Math.max(a.time,t),c=this.frequency.getTicksAtTime(l),d=this.frequency.getTicksAtTime(a.time),u=c-d;let h=Math.ceil(u)-u;h=Vo(h,1)?0:h;let p=this.frequency.getTimeOfTick(c+h);for(;p<i;){try{n(p,Math.round(this.getTicksAtTime(p)))}catch(f){o=f;break}p+=this.frequency.getDurationOfTicks(1,p)}}if(o)throw o;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class C5 extends La{constructor(){const t=i0(C5.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=s9,this._lastUpdate=0,this._state=new sv("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new hv({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Y9(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(La.getDefaults(),{callback:s9,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,i){iN(this.context);const n=this.toSeconds(t);return this.log("start",n),this._state.getValueAtTime(n)!=="started"&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,i),n<this._lastUpdate&&this.emit("start",n,i)),this}stop(t){const i=this.toSeconds(t);return this.log("stop",i),this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._tickSource.stop(i),i<this._lastUpdate&&this.emit("stop",i),this}pause(t){const i=this.toSeconds(t);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._tickSource.pause(i),i<this._lastUpdate&&this.emit("pause",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,i){return this._tickSource.setTicksAtTime(t,i),this}getTimeOfTick(t,i=this.now()){return this._tickSource.getTimeOfTick(t,i)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,i){const n=this.toSeconds(i),a=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(a+t,n)}_loop(){const t=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log("loop",t,i),t!==i&&(this._state.forEachBetween(t,i,n=>{switch(n.state){case"started":const a=this._tickSource.getTicksAtTime(n.time);this.emit("start",n.time,a);break;case"stopped":n.time!==0&&this.emit("stop",n.time);break;case"paused":this.emit("pause",n.time);break}}),this._tickSource.forEachTickBetween(t,i,(n,a)=>{this.callback(n,a)}))}getStateAtTime(t){const i=this.toSeconds(t);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}x3.mixin(C5);class Th extends _0{constructor(){const t=i0(Th.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new sa({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Y9(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(_0.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class fv extends _0{constructor(){const t=i0(fv.getDefaults(),arguments);super(t),this.name="Destination",this.input=new Th({context:this.context}),this.output=new sa({context:this.context}),this.volume=this.input.volume,my(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(_0.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),my(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}A5(e=>{e.destination=new fv({context:e})});v5(e=>{e.destination.dispose()});class Bct extends _0{constructor(){super(...arguments),this.name="Listener",this.positionX=new U9({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new U9({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new U9({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new U9({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new U9({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new U9({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new U9({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new U9({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new U9({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(_0.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}A5(e=>{e.listener=new Bct({context:e})});v5(e=>{e.listener.dispose()});class mv extends Nl{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=i0(mv.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(i=>{this._loadingCount++;const n=t.urls[i];this.add(i,n,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:s9,onload:s9,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return $n(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,i])=>i.loaded)}add(t,i,n=s9,a=s9){return kl(i)?(this.baseUrl&&i.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new x9(this.baseUrl+i,n,a))):this._buffers.set(t.toString(),new x9(i,n,a)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class g8 extends to{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return Fu(super._frequencyToUnits(t))}_ticksToUnits(t){return Fu(super._ticksToUnits(t))}_beatsToUnits(t){return Fu(super._beatsToUnits(t))}_secondsToUnits(t){return Fu(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return hN(this.toMidi())}transpose(t){return new g8(this.context,this.toMidi()+t)}}class yd extends of{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Rct extends La{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new xo,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,i){return this._events.add({callback:t,time:this.toSeconds(i)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const i=this._events.shift();i&&t-i.time<=this.expiration&&i.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}A5(e=>{e.draw=new Rct({context:e})});v5(e=>{e.draw.dispose()});class Dct extends Nl{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){$n(E0(t.time),"Events must have a time property"),$n(E0(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let i=new Pct(t.time,t.time+t.duration,t);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(t){if(this._root!==null){const i=[];this._root.search(t.time,i);for(const n of i)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,i=>this.remove(i)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,i){t.parent!==null?(t.isLeftChild()?t.parent.left=i:t.parent.right=i,this._rebalance(t.parent)):this._setRoot(i)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const i=t.getBalance();let n,a=null;if(i>0)if(t.left.right===null)n=t.left,n.right=t.right,a=n;else{for(n=t.left.right;n.right!==null;)n=n.right;n.parent&&(n.parent.right=n.left,a=n.parent,n.left=t.left,n.right=t.right)}else if(t.right.left===null)n=t.right,n.left=t.left,a=n;else{for(n=t.right.left;n.left!==null;)n=n.left;n.parent&&(n.parent.left=n.right,a=n.parent,n.left=t.left,n.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=n:t.parent.right=n:this._setRoot(n),a&&this._rebalance(a)}t.dispose()}_rotateLeft(t){const i=t.parent,n=t.isLeftChild(),a=t.right;a&&(t.right=a.left,a.left=t),i!==null?n?i.left=a:i.right=a:this._setRoot(a)}_rotateRight(t){const i=t.parent,n=t.isLeftChild(),a=t.left;a&&(t.left=a.right,a.right=t),i!==null?n?i.left=a:i.right=a:this._setRoot(a)}_rebalance(t){const i=t.getBalance();i>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):i<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const i=[];if(this._root.search(t,i),i.length>0){let n=i[0];for(let a=1;a<i.length;a++)i[a].low>n.low&&(n=i[a]);return n.event}}return null}forEach(t){if(this._root!==null){const i=[];this._root.traverse(n=>i.push(n)),i.forEach(n=>{n.event&&t(n.event)})}return this}forEachAtTime(t,i){if(this._root!==null){const n=[];this._root.search(t,n),n.forEach(a=>{a.event&&i(a.event)})}return this}forEachFrom(t,i){if(this._root!==null){const n=[];this._root.searchAfter(t,n),n.forEach(a=>{a.event&&i(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class Pct{constructor(t,i,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=i,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,i){t>this.max||(this.left!==null&&this.left.search(t,i),this.low<=t&&this.high>t&&i.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,i))}searchAfter(t,i){this.low>=t&&(i.push(this),this.left!==null&&this.left.searchAfter(t,i)),this.right!==null&&this.right.searchAfter(t,i)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class kct extends Nl{constructor(t){super(),this.name="TimelineValue",this._timeline=new xo({memory:10}),this._initialValue=t}set(t,i){return this._timeline.add({value:t,time:i}),this}get(t){const i=this._timeline.get(t);return i?i.value:this._initialValue}}class sh extends _0{constructor(){super(i0(sh.getDefaults(),arguments,["context"]))}connect(t,i=0,n=0){return cv(this,t,i,n),this}}class I3 extends sh{constructor(){const t=i0(I3.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,eo(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):oct(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Pr.getDefaults(),{length:1024})}setMap(t,i=1024){const n=new Float32Array(i);for(let a=0,o=i;a<o;a++){const l=a/(o-1)*2-1;n[a]=t(l,a)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const i=["none","2x","4x"].some(n=>n.includes(t));$n(i,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class pv extends sh{constructor(){const t=i0(pv.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new I3({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(sh.getDefaults(),{value:1})}_expFunc(t){return i=>Math.pow(Math.abs(i),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class $c{constructor(t,i){this.id=$c._eventId++,this._remainderTime=0;const n=Object.assign($c.getDefaults(),i);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:s9,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const i=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*i),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}$c._eventId=0;class gv extends $c{constructor(t,i){super(t,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(gv.getDefaults(),i);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},$c.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return p8(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new yd(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){p8(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new yd(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const i=this.transport.getTicksAtTime(t);ah(i,this.time)&&(this._nextTick=this.floatTime+Math.ceil((i-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class _5 extends La{constructor(){const t=i0(_5.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new kct(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new xo,this._repeatedEvents=new Dct,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new C5({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Y9(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(La.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,i){if(this._loop.get(t)&&i>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),i=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&i%this._ppq!==0&&i%(this._swingTicks*2)!==0){const n=i%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(n*Math.PI)*this._swingAmount;t+=new yd(this.context,this._swingTicks*2/3).toSeconds()*a}IO(!0),this._timeline.forEachAtTime(i,n=>n.invoke(t)),IO(!1)}schedule(t,i){const n=new $c(this,{callback:t,time:new of(this.context,i).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,i,n,a=1/0){const o=new gv(this,{callback:t,duration:new qo(this.context,a).toTicks(),interval:new qo(this.context,i).toTicks(),time:new of(this.context,n).toTicks()});return this._addEvent(o,this._repeatedEvents)}scheduleOnce(t,i){const n=new $c(this,{callback:t,once:!0,time:new of(this.context,i).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const i=this._scheduledEvents[t.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,i){return this._scheduledEvents[t.id.toString()]={event:t,timeline:i},i.add(t),t.id}cancel(t=0){const i=this.toTicks(t);return this._timeline.forEachFrom(i,n=>this.clear(n.id)),this._repeatedEvents.forEachFrom(i,n=>this.clear(n.id)),this}_bindClockEvents(){this._clock.on("start",(t,i)=>{i=new yd(this.context,i).toSeconds(),this.emit("start",t,i)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,i){this.context.resume();let n;return E0(i)&&(n=this.toTicks(i)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){eo(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new qo(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new qo(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,i){return this.loopStart=t,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new yd(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),i=this._clock.getTicksAtTime(t);return new yd(this.context,i).toBarsBeatsSixteenths()}set position(t){const i=this.toTicks(t);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(t){const i=this.now(),n=this._clock.frequency.timeToTicks(t,i);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const i=this.now();if(this.state==="started"){const n=this._clock.getTicksAtTime(i),a=this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,i),o=i+a;this.emit("stop",o),this._clock.setTicksAtTime(t,o),this.emit("start",o,this._clock.getSecondsAtTime(o))}else this.emit("ticks",i),this._clock.setTicksAtTime(t,i)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const i=this.now(),n=this.getTicksAtTime(i),a=t-n%t;return this._clock.nextTickTime(a,i)}}syncSignal(t,i){const n=this.now();let a=this.bpm,o=1/(60/a.getValueAtTime(n)/this.PPQ),l=[];if(t.units==="time"){const d=.015625/o,u=new sa(d),h=new pv(-1),p=new sa(d);a.chain(u,h,p),a=p,o=1/o,l=[u,h,p]}i||(t.getValueAtTime(n)!==0?i=t.getValueAtTime(n)/o:i=0);const c=new sa(i);return a.connect(c),c.connect(t._param),l.push(c),this._syncedSignals.push({initial:t.value,nodes:l,signal:t}),t.value=0,this}unsyncSignal(t){for(let i=this._syncedSignals.length-1;i>=0;i--){const n=this._syncedSignals[i];n.signal===t&&(n.nodes.forEach(a=>a.dispose()),n.signal.value=n.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),lN(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}x3.mixin(_5);A5(e=>{e.transport=new _5({context:e})});v5(e=>{e.transport.dispose()});class ao extends _0{constructor(t){super(t),this.input=void 0,this._state=new sv("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=s9,this._syncedStop=s9,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Th({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Y9(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(_0.getDefaults(),{mute:!1,onstop:s9,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,i,n){let a=So(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")$n(ah(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,i,n);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const o=this._state.get(a);o&&(o.offset=this.toSeconds(Bd(i,0)),o.duration=n?this.toSeconds(n):void 0);const l=this.context.transport.schedule(c=>{this._start(c,i,n)},a);this._scheduled.push(l),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else iN(this.context),this._start(a,i,n);return this}stop(t){let i=So(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)==="started"||E0(this._state.getNextState("started",i))){if(this.log("stop",i),!this._synced)this._stop(i);else{const n=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(n)}this._state.cancel(i),this._state.setStateAtTime("stopped",i)}return this}restart(t,i,n){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,i,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,i)=>{if(ah(i,0)){const n=this._state.get(i);if(n&&n.state==="started"&&n.time!==i){const a=i-this.toSeconds(n.time);let o;n.duration&&(o=this.toSeconds(n.duration)-a),this._start(t,this.toSeconds(n.offset)+a,o)}}},this._syncedStop=t=>{const i=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(i)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=s9,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class E5 extends oh{constructor(){const t=i0(E5.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,xh(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new U9({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new x9(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(oh.getDefaults(),{url:new x9,loop:!1,loopEnd:0,loopStart:0,onload:s9,onerror:s9,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,i,n,a=1){$n(this.buffer.loaded,"buffer is either not set or not loaded");const o=this.toSeconds(t);this._startGain(o,a),this.loop?i=Bd(i,this.loopStart):i=Bd(i,0);let l=Math.max(this.toSeconds(i),0);if(this.loop){const c=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),u=c-d;fy(l,c)&&(l=(l-d)%u+d),Vo(l,this.buffer.duration)&&(l=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,p8(l,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(o,l)),E0(n)){let c=this.toSeconds(n);c=Math.max(c,0),this.stop(o+c)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function A1(e,t){return sr(this,void 0,void 0,function*(){const i=t/e.context.sampleRate,n=new av(1,i,e.context.sampleRate);return new e.constructor(Object.assign(e.get(),{frequency:2/i,detune:0,context:n})).toDestination().start(0),(yield n.render()).getChannelData(0)})}class Mv extends oh{constructor(){const t=i0(Mv.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],xh(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new U9({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new U9({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Y9(this,["frequency","detune"])}static getDefaults(){return Object.assign(oh.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const i=this.toSeconds(t);return this.log("start",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class or extends ao{constructor(){const t=i0(or.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new Pr({context:this.context,units:"frequency",value:t.frequency}),Y9(this,"frequency"),this.detune=new Pr({context:this.context,units:"cents",value:t.detune}),Y9(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(ao.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const i=this.toSeconds(t),n=new Mv({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(t){const i=this.toSeconds(t);this._oscillator&&this._oscillator.stop(i)}_restart(t){const i=this.toSeconds(t);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return or._periodicWaveCache.find(i=>i.phase===this._phase&&Mct(i.partials,this._partials));{const t=or._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const i=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&i)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const n=this._getCachedPeriodicWave();if(E0(n)){const{partials:a,wave:o}=n;this._wave=o,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,o]=this._getRealImaginary(t,this._phase),l=this.context.createPeriodicWave(a,o);this._wave=l,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),or._periodicWaveCache.push({imag:o,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),or._periodicWaveCache.length>100&&or._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Jc(t,0);let i=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(i=n[1]),this._type!=="custom")t===0?this.type=i:this.type=i+t.toString();else{const a=new Float32Array(t);this._partials.forEach((o,l)=>a[l]=o),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(t,i){let a=2048;const o=new Float32Array(a),l=new Float32Array(a);let c=1;if(t==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,a=c,this._partials.length===0)return[o,l]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);d?(c=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),t=d[1],c=Math.max(c,2),a=c):this._partialCount=0,this._partials=[]}for(let d=1;d<a;++d){const u=2/(d*Math.PI);let h;switch(t){case"sine":h=d<=c?1:0,this._partials[d-1]=h;break;case"square":h=d&1?2*u:0,this._partials[d-1]=h;break;case"sawtooth":h=u*(d&1?1:-1),this._partials[d-1]=h;break;case"triangle":d&1?h=2*(u*u)*(d-1>>1&1?-1:1):h=0,this._partials[d-1]=h;break;case"custom":h=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}h!==0?(o[d]=-h*Math.sin(i*d),l[d]=h*Math.cos(i*d)):(o[d]=0,l[d]=0)}return[o,l]}_inverseFFT(t,i,n){let a=0;const o=t.length;for(let l=0;l<o;l++)a+=t[l]*Math.cos(l*n)+i[l]*Math.sin(l*n);return a}getInitialValue(){const[t,i]=this._getRealImaginary(this._type,0);let n=0;const a=Math.PI*2,o=32;for(let l=0;l<o;l++)n=Math.max(this._inverseFFT(t,i,l/o*a),n);return Act(-this._inverseFFT(t,i,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return sr(this,arguments,void 0,function*(t=1024){return A1(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}or._periodicWaveCache=[];class Lct extends sh{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new I3({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class lh extends Pr{constructor(){const t=i0(lh.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new sa({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Pr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class w5 extends ao{constructor(){const t=i0(w5.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new Lct({context:this.context}),this._modulationNode=new sa({context:this.context}),this._carrier=new or({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new or({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new lh({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Y9(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(or.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return sr(this,arguments,void 0,function*(t=1024){return A1(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class O5 extends ao{constructor(){const t=i0(O5.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new sa({context:this.context,gain:0}),this._carrier=new or({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Pr({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new or({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new lh({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new lh({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Y9(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(or.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return sr(this,arguments,void 0,function*(t=1024){return A1(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class B3 extends ao{constructor(){const t=i0(B3.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new sa({context:this.context,gain:0}),this._thresh=new I3({context:this.context,mapping:i=>i<=0?-1:1}),this.width=new Pr({context:this.context,units:"audioRange",value:t.width}),this._triangle=new or({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Y9(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ao.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return sr(this,arguments,void 0,function*(t=1024){return A1(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class S5 extends ao{constructor(){const t=i0(S5.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new Pr({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Pr({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Y9(this,["frequency","detune"])}static getDefaults(){return Object.assign(or.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(i=>i.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(i=>i.stop(t))}_restart(t){this._forEach(i=>i.restart(t))}_forEach(t){for(let i=0;i<this._oscillators.length;i++)t(this._oscillators[i],i)}get type(){return this._type}set type(t){this._type=t,this._forEach(i=>i.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const i=-t/2,n=t/(this._oscillators.length-1);this._forEach((a,o)=>a.detune.value=i+n*o)}}get count(){return this._oscillators.length}set count(t){if(Jc(t,1),this._oscillators.length!==t){this._forEach(i=>i.dispose()),this._oscillators=[];for(let i=0;i<t;i++){const n=new or({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+i/t*360,partialCount:this._partialCount,onstop:i===0?()=>this.onstop(this):s9});this.type==="custom"&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[i]=n}this.spread=this._spread,this.state==="started"&&this._forEach(i=>i.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((i,n)=>i.phase=this._phase+n/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(i=>i.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(i=>i.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(i=>i.partialCount=t),this._type=this._oscillators[0].type}asArray(){return sr(this,arguments,void 0,function*(t=1024){return A1(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class x5 extends ao{constructor(){const t=i0(x5.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new lh({context:this.context,value:2}),this._pulse=new B3({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new or({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Y9(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ao.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return sr(this,arguments,void 0,function*(t=1024){return A1(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const BO={am:w5,fat:S5,fm:O5,oscillator:or,pulse:B3,pwm:x5};class M8 extends ao{constructor(){const t=i0(M8.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new Pr({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Pr({context:this.context,units:"cents",value:t.detune}),Y9(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(or.getDefaults(),O5.getDefaults(),w5.getDefaults(),S5.getDefaults(),B3.getDefaults(),x5.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(i=>this._sourceType===i)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const i=BO[t],n=this.now();if(this._oscillator){const a=this._oscillator;a.stop(n),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let i="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(i=this._oscillator.type),t==="fm"?this.type="fm"+i:t==="am"?this.type="am"+i:t==="fat"?this.type="fat"+i:t==="oscillator"?this.type=i:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,i){return t instanceof BO[i]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&Uc(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&Uc(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&kl(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return sr(this,arguments,void 0,function*(t=1024){return A1(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function fN(e,t=1/0){const i=new WeakMap;return function(n,a){Reflect.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(o){Jc(o,e,t),i.set(this,o)}})}}function Fl(e,t=1/0){const i=new WeakMap;return function(n,a){Reflect.defineProperty(n,a,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(o){Jc(this.toSeconds(o),e,t),i.set(this,o)}})}}let mN=class pN extends ao{constructor(){const t=i0(pN.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new x9({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(ao.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:s9,onerror:s9,playbackRate:1,reverse:!1})}load(t){return sr(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=s9){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,i,n){return super.start(t,i,n),this}_start(t,i,n){this._loop?i=Bd(i,this._loopStart):i=Bd(i,0);const a=this.toSeconds(i),o=n;n=Bd(n,Math.max(this._buffer.duration-a,0));let l=this.toSeconds(n);l=l/this._playbackRate,t=this.toSeconds(t);const c=new E5({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+l),this._state.setStateAtTime("stopped",t+l,{implicitEnd:!0})),this._activeSources.add(c),this._loop&&So(o)?c.start(t,a):c.start(t,a,l-this.toSeconds(this.fadeOut))}_stop(t){const i=this.toSeconds(t);this._activeSources.forEach(n=>n.stop(i))}restart(t,i,n){return super.restart(t,i,n),this}_restart(t,i,n){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(t),this._start(t,i,n)}seek(t,i){const n=this.toSeconds(i);if(this._state.getValueAtTime(n)==="started"){const a=this.toSeconds(t);this._stop(n),this._start(n,a)}return this}setLoopPoints(t,i){return this.loopStart=t,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Jc(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Jc(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(i=>{i.loop=t}),t)){const i=this._state.getNextState("stopped",this.now());i&&this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const i=this.now(),n=this._state.getNextState("stopped",i);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(t,i)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}};ss([Fl(0)],mN.prototype,"fadeIn",void 0);ss([Fl(0)],mN.prototype,"fadeOut",void 0);class qc extends _0{constructor(){const t=i0(qc.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new Pr({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(_0.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,i){if(kl(t))return t;{let n;for(n in U4)if(U4[n][i]===t)return n;return t}}_setCurve(t,i,n){if(kl(n)&&Reflect.has(U4,n)){const a=U4[n];qu(a)?t!=="_decayCurve"&&(this[t]=a[i]):this[t]=a}else if(eo(n)&&t!=="_decayCurve")this[t]=n;else throw new Error("Envelope: invalid curve: "+n)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,i=1){this.log("triggerAttack",t,i),t=this.toSeconds(t);let a=this.toSeconds(this.attack);const o=this.toSeconds(this.decay),l=this.getValueAtTime(t);if(l>0){const c=1/a;a=(1-l)/c}if(a<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(i,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(i,a,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(i,a,t);else{this._sig.cancelAndHoldAtTime(t);let c=this._attackCurve;for(let d=1;d<c.length;d++)if(c[d-1]<=l&&l<=c[d]){c=this._attackCurve.slice(d),c[0]=l;break}this._sig.setValueCurveAtTime(c,t,a,i)}if(o&&this.sustain<1){const c=i*this.sustain,d=t+a;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(c,o+d):this._sig.exponentialApproachValueAtTime(c,d,o)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const i=this.getValueAtTime(t);if(i>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,n,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,n,t):($n(eo(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,i))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,i,n=1){return i=this.toSeconds(i),this.triggerAttack(i,n),this.triggerRelease(i+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,i=0,n=0){return cv(this,t,i,n),this}asArray(){return sr(this,arguments,void 0,function*(t=1024){const i=t/this.context.sampleRate,n=new av(1,i,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),o=a+this.toSeconds(this.release),l=o*.1,c=o+l,d=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/c,decay:i*this.toSeconds(this.decay)/c,release:i*this.toSeconds(this.release)/c,context:n}));return d._sig.toDestination(),d.triggerAttackRelease(i*(a+l)/c,0),(yield n.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}ss([Fl(0)],qc.prototype,"attack",void 0);ss([Fl(0)],qc.prototype,"decay",void 0);ss([fN(0,1)],qc.prototype,"sustain",void 0);ss([Fl(0)],qc.prototype,"release",void 0);const U4=(()=>{let t,i;const n=[];for(t=0;t<128;t++)n[t]=Math.sin(t/127*(Math.PI/2));const a=[],o=6.4;for(t=0;t<127;t++){i=t/127;const f=Math.sin(i*(Math.PI*2)*o-Math.PI/2)+1;a[t]=f/10+i*.83}a[127]=1;const l=[],c=5;for(t=0;t<128;t++)l[t]=Math.ceil(t/127*c)/c;const d=[];for(t=0;t<128;t++)i=t/127,d[t]=.5*(1-Math.cos(Math.PI*i));const u=[];for(t=0;t<128;t++){i=t/127;const f=Math.pow(i,3)*4+.2,M=Math.cos(f*Math.PI*2*i);u[t]=Math.abs(M*(1-i))}function h(f){const M=new Array(f.length);for(let g=0;g<f.length;g++)M[g]=1-f[g];return M}function p(f){return f.slice(0).reverse()}return{bounce:{In:h(u),Out:u},cosine:{In:n,Out:p(n)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:h(a)},sine:{In:d,Out:h(d)},step:{In:l,Out:h(l)}}})();class Gc extends _0{constructor(){const t=i0(Gc.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=i=>this._original_triggerRelease(i),this._volume=this.output=new Th({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Y9(this,"volume")}static getDefaults(){return Object.assign(_0.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,i){const n=this["_original_"+t]=this[t];this[t]=(...a)=>{const o=a[i],l=this.context.transport.schedule(c=>{a[i]=c,n.apply(this,a)},o);this._scheduledEvents.push(l)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,i,n,a){const o=this.toSeconds(n),l=this.toSeconds(i);return this.triggerAttack(t,o,a),this.triggerRelease(o+l),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class f1 extends Gc{constructor(){const t=i0(f1.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Gc.getDefaults(),{detune:0,onsilence:s9,portamento:0})}triggerAttack(t,i,n=1){this.log("triggerAttack",t,i,n);const a=this.toSeconds(i);return this._triggerEnvelopeAttack(a,n),this.setNote(t,a),this}triggerRelease(t){this.log("triggerRelease",t);const i=this.toSeconds(t);return this._triggerEnvelopeRelease(i),this}setNote(t,i){const n=this.toSeconds(i),a=t instanceof to?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const o=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,o,n)}else this.frequency.setValueAtTime(a,n);return this}}ss([Fl(0)],f1.prototype,"portamento",void 0);class yv extends qc{constructor(){super(i0(yv.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new sa({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class If extends f1{constructor(){const t=i0(If.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new M8(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new yv(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Y9(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(f1.getDefaults(),{envelope:Object.assign(hy(qc.getDefaults(),Object.keys(_0.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(hy(M8.getDefaults(),[...Object.keys(ao.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,i){if(this.envelope.triggerAttack(t,i),this.oscillator.start(t),this.envelope.sustain===0){const n=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+n+a)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class T5 extends If{constructor(){const t=i0(T5.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Y9(this,["oscillator","envelope"])}static getDefaults(){return Xu(f1.getDefaults(),If.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,i){const n=this.toSeconds(i),a=this.toFrequency(t instanceof to?t.toFrequency():t),o=a*this.octaves;return this.oscillator.frequency.setValueAtTime(o,n),this.oscillator.frequency.exponentialRampToValueAtTime(a,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ss([fN(0)],T5.prototype,"octaves",void 0);ss([Fl(0)],T5.prototype,"pitchDecay",void 0);const gN=new Set;function Av(e){gN.add(e)}function MN(e,t){const i=`registerProcessor("${e}", ${t})`;gN.add(i)}const Nct=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Av(Nct);const Fct=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Av(Fct);const Uct=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Av(Uct);const Jct="feedback-comb-filter",$ct=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;MN(Jct,$ct);class vv extends Gc{constructor(){const t=i0(vv.getDefaults(),arguments,["voice","options"]);super(t),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=a=>this.releaseAll(a),$n(!Uc(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const i=t.voice.getDefaults();this.options=Object.assign(i,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Gc.getDefaults(),{maxPolyphony:32,options:{},voice:If})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const i=this._activeVoices.findIndex(n=>n.voice===t);this._activeVoices.splice(i,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return $n(t instanceof f1,"Voice must extend Monophonic class"),t.connect(this.output),this._voices.push(t),t}else y5("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),i=this._voices.indexOf(t);this._voices.splice(i,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,i,n){t.forEach(a=>{const o=new g8(this.context,a).toMidi(),l=this._getNextAvailableVoice();l&&(l.triggerAttack(a,i,n),this._activeVoices.push({midi:o,voice:l,released:!1}),this.log("triggerAttack",a,i))})}_triggerRelease(t,i){t.forEach(n=>{const a=new g8(this.context,n).toMidi(),o=this._activeVoices.find(({midi:l,released:c})=>l===a&&!c);o&&(o.voice.triggerRelease(i),o.released=!0,this.log("triggerRelease",n,i))})}_scheduleEvent(t,i,n,a){$n(!this.disposed,"Synth was already disposed"),n<=this.now()?t==="attack"?this._triggerAttack(i,n,a):this._triggerRelease(i,n):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(t,i,n,a)},n-this.now())}triggerAttack(t,i,n){Array.isArray(t)||(t=[t]);const a=this.toSeconds(i);return this._scheduleEvent("attack",t,a,n),this}triggerRelease(t,i){Array.isArray(t)||(t=[t]);const n=this.toSeconds(i);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,i,n,a){const o=this.toSeconds(n);if(this.triggerAttack(t,o,a),eo(i)){$n(eo(t),"If the duration is an array, the notes must also be an array"),t=t;for(let l=0;l<t.length;l++){const c=i[Math.min(l,i.length-1)],d=this.toSeconds(c);$n(d>0,"The duration must be greater than 0"),this.triggerRelease(t[l],o+d)}}else{const l=this.toSeconds(i);$n(l>0,"The duration must be greater than 0"),this.triggerRelease(t,o+l)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(t){const i=hy(t,["onsilence","context"]);return this.options=Xu(this.options,i),this._voices.forEach(n=>n.set(i)),this._dummyVoice.set(i),this}get(){return this._dummyVoice.get()}releaseAll(t){const i=this.toSeconds(t);return this._activeVoices.forEach(({voice:n})=>{n.triggerRelease(i)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(t=>t.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class I5 extends Gc{constructor(){const t=i0(I5.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const i={};Object.keys(t.urls).forEach(n=>{const a=parseInt(n,10);if($n(F4(n)||Uc(a)&&isFinite(a),`url key is neither a note or midi pitch: ${n}`),F4(n)){const o=new to(this.context,n).toMidi();i[o]=t.urls[n]}else Uc(a)&&isFinite(a)&&(i[a]=t.urls[a])}),this._buffers=new mv({urls:i,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Gc.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:s9,onerror:s9,release:.1,urls:{}})}_findClosest(t){let n=0;for(;n<96;){if(this._buffers.has(t+n))return-n;if(this._buffers.has(t-n))return n;n++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,i,n=1){return this.log("triggerAttack",t,i,n),Array.isArray(t)||(t=[t]),t.forEach(a=>{const o=dN(new to(this.context,a).toFrequency()),l=Math.round(o),c=o-l,d=this._findClosest(l),u=l-d,h=this._buffers.get(u),p=uN(d+c),f=new E5({url:h,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:p}).connect(this.output);f.start(i,0,h.duration/p,n),eo(this._activeSources.get(l))||this._activeSources.set(l,[]),this._activeSources.get(l).push(f),f.onended=()=>{if(this._activeSources&&this._activeSources.has(l)){const M=this._activeSources.get(l),g=M.indexOf(f);g!==-1&&M.splice(g,1)}}}),this}triggerRelease(t,i){return this.log("triggerRelease",t,i),Array.isArray(t)||(t=[t]),t.forEach(n=>{const a=new to(this.context,n).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const o=this._activeSources.get(a);i=this.toSeconds(i),o.forEach(l=>{l.stop(i)}),this._activeSources.set(a,[])}}),this}releaseAll(t){const i=this.toSeconds(t);return this._activeSources.forEach(n=>{for(;n.length;)n.shift().stop(i)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,i,n,a=1){const o=this.toSeconds(n);return this.triggerAttack(t,o,a),eo(i)?($n(eo(t),"notes must be an array when duration is array"),t.forEach((l,c)=>{const d=i[Math.min(c,i.length-1)];this.triggerRelease(l,o+this.toSeconds(d))})):this.triggerRelease(t,o+this.toSeconds(i)),this}add(t,i,n){if($n(F4(t)||isFinite(t),`note must be a pitch or midi: ${t}`),F4(t)){const a=new to(this.context,t).toMidi();this._buffers.add(a,i,n)}else this._buffers.add(t,i,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(i=>i.dispose())}),this._activeSources.clear(),this}}ss([Fl(0)],I5.prototype,"attack",void 0);ss([Fl(0)],I5.prototype,"release",void 0);class bv extends _0{constructor(){const t=i0(bv.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new U9({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Y9(this,"pan")}static getDefaults(){return Object.assign(_0.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const Gct="bit-crusher",Hct=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;MN(Gct,Hct);class ar extends _0{constructor(){const t=i0(ar.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new sa({context:this.context}),ar._allSolos.has(this.context)||ar._allSolos.set(this.context,new Set),ar._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(_0.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),ar._allSolos.get(this.context).forEach(i=>i._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){ar._soloed.has(this.context)||ar._soloed.set(this.context,new Set),ar._soloed.get(this.context).add(this)}_removeSolo(){ar._soloed.has(this.context)&&ar._soloed.get(this.context).delete(this)}_isSoloed(){return ar._soloed.has(this.context)&&ar._soloed.get(this.context).has(this)}_noSolos(){return!ar._soloed.has(this.context)||ar._soloed.has(this.context)&&ar._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ar._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ar._allSolos=new Map;ar._soloed=new Map;class Cv extends _0{constructor(){const t=i0(Cv.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new bv({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Th({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Y9(this,["pan","volume"])}static getDefaults(){return Object.assign(_0.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ad extends _0{constructor(){const t=i0(Ad.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new ar({solo:t.solo,context:this.context}),this._panVol=this.output=new Cv({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Y9(this,["pan","volume"])}static getDefaults(){return Object.assign(_0.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return Ad.buses.has(t)||Ad.buses.set(t,new sa({context:this.context})),Ad.buses.get(t)}send(t,i=0){const n=this._getBus(t),a=new sa({context:this.context,units:"decibels",gain:i});return this.connect(a),a.connect(n),a}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ad.buses=new Map;function RO(){return Oo().now()}Oo().transport;Oo().destination;Oo().destination;Oo().listener;Oo().draw;Oo();function ch(e,{delay:t=0,duration:i=400,easing:n=uB}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:i,easing:n,css:o=>`opacity: ${o*a}`}}function Vct(e){let t,i,n,a,o,l,c;return{c(){t=q("label"),i=te(e[3]),n=K(),a=q("input"),mt(a,"type","number"),mt(a,"step",e[7]),mt(a,"min",e[5]),mt(a,"max",e[6]),a.disabled=e[9],mt(a,"style",o="width: "+e[8]+"; "+e[10]),mt(t,"title",e[4])},m(d,u){bt(d,t,u),B(t,i),B(t,n),B(t,a),qi(a,e[0]),l||(c=[ze(a,"input",e[11]),ze(a,"change",function(){Xo(e[2])&&e[2].apply(this,arguments)}),ze(a,"wheel",e[12]),ze(a,"mousedown",e[13])],l=!0)},p(d,[u]){e=d,u&8&&Qe(i,e[3]),u&128&&mt(a,"step",e[7]),u&32&&mt(a,"min",e[5]),u&64&&mt(a,"max",e[6]),u&512&&(a.disabled=e[9]),u&1280&&o!==(o="width: "+e[8]+"; "+e[10])&&mt(a,"style",o),u&1&&Rr(a.value)!==e[0]&&qi(a,e[0]),u&16&&mt(t,"title",e[4])},i:We,o:We,d(d){d&&vt(t),l=!1,t0(c)}}}function Qct(e,t,i){let{value:n}=t,{defaultValue:a=void 0}=t,{callback:o=()=>{}}=t,{label:l=""}=t,{title:c=""}=t,{min:d=10}=t,{max:u=1/0}=t,{step:h=10}=t,{width:p="55px"}=t,{disabled:f=!1}=t,{style:M=""}=t;function g(){n=Rr(this.value),i(0,n)}const y=v=>{if(v.preventDefault(),f)return;const C=v.deltaY<0?h:-h,w=Math.min(u,Math.max(d,n+C));i(0,n=+w.toFixed(12)),o()},b=v=>{v.button===1&&a!==void 0&&(v.preventDefault(),i(0,n=a),o())};return e.$$set=v=>{"value"in v&&i(0,n=v.value),"defaultValue"in v&&i(1,a=v.defaultValue),"callback"in v&&i(2,o=v.callback),"label"in v&&i(3,l=v.label),"title"in v&&i(4,c=v.title),"min"in v&&i(5,d=v.min),"max"in v&&i(6,u=v.max),"step"in v&&i(7,h=v.step),"width"in v&&i(8,p=v.width),"disabled"in v&&i(9,f=v.disabled),"style"in v&&i(10,M=v.style)},[n,a,o,l,c,d,u,h,p,f,M,g,y,b]}class M0 extends Zi{constructor(t){super(),Yi(this,t,Qct,Vct,Xi,{value:0,defaultValue:1,callback:2,label:3,title:4,min:5,max:6,step:7,width:8,disabled:9,style:10})}}function DO(e,t,i){const n=e.slice();return n[35]=t[i],n[37]=i,n}function zct(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b,v,C=e[4]&&PO(e),w=e[5]&&kO(e),_=e[1]&&LO(e),E=!e[7]&&NO(),S=je(e[6]),I=[];for(let F=0;F<S.length;F+=1)I[F]=FO(DO(e,S,F));const T=F=>It(I[F],1,1,()=>{I[F]=null});function k(F){e[28](F)}let D={title:"minimum loudness of a note, used to filter noise",label:"minimum velocity",min:0,max:1,step:.01,defaultValue:0};e[10]!==void 0&&(D.value=e[10]),f=new M0({props:D}),he.push(()=>Ee(f,"value",k));function N(F){e[29](F)}let P={title:"minimum distance in milliseconds of a note onset from the prior one",label:"minimum IOI",min:0,max:100,step:1,defaultValue:0};return e[11]!==void 0&&(P.value=e[11]),y=new M0({props:P}),he.push(()=>Ee(y,"value",N)),{c(){C&&C.c(),t=K(),w&&w.c(),i=K(),_&&_.c(),n=K(),a=q("div"),o=q("h5"),o.textContent="MIDI devices",l=K(),E&&E.c(),c=K();for(let F=0;F<I.length;F+=1)I[F].c();d=K(),u=q("div"),h=q("h5"),h.textContent="Filtering",p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment)},m(F,U){C&&C.m(F,U),bt(F,t,U),w&&w.m(F,U),bt(F,i,U),_&&_.m(F,U),bt(F,n,U),bt(F,a,U),B(a,o),B(a,l),E&&E.m(a,null),B(a,c);for(let V=0;V<I.length;V+=1)I[V]&&I[V].m(a,null);bt(F,d,U),bt(F,u,U),B(u,h),B(u,p),Rt(f,u,null),B(u,g),Rt(y,u,null),v=!0},p(F,U){if(F[4]?C?(C.p(F,U),U[0]&16&&wt(C,1)):(C=PO(F),C.c(),wt(C,1),C.m(t.parentNode,t)):C&&(na(),It(C,1,1,()=>{C=null}),ra()),F[5]?w?(w.p(F,U),U[0]&32&&wt(w,1)):(w=kO(F),w.c(),wt(w,1),w.m(i.parentNode,i)):w&&(na(),It(w,1,1,()=>{w=null}),ra()),F[1]?_?(_.p(F,U),U[0]&2&&wt(_,1)):(_=LO(F),_.c(),wt(_,1),_.m(n.parentNode,n)):_&&(na(),It(_,1,1,()=>{_=null}),ra()),F[7]?E&&(E.d(1),E=null):E||(E=NO(),E.c(),E.m(a,c)),U[0]&4416){S=je(F[6]);let G;for(G=0;G<S.length;G+=1){const H=DO(F,S,G);I[G]?(I[G].p(H,U),wt(I[G],1)):(I[G]=FO(H),I[G].c(),wt(I[G],1),I[G].m(a,null))}for(na(),G=S.length;G<I.length;G+=1)T(G);ra()}const V={};!M&&U[0]&1024&&(M=!0,V.value=F[10],_e(()=>M=!1)),f.$set(V);const z={};!b&&U[0]&2048&&(b=!0,z.value=F[11],_e(()=>b=!1)),y.$set(z)},i(F){if(!v){wt(C),wt(w),wt(_);for(let U=0;U<S.length;U+=1)wt(I[U]);wt(f.$$.fragment,F),wt(y.$$.fragment,F),v=!0}},o(F){It(C),It(w),It(_),I=I.filter(Boolean);for(let U=0;U<I.length;U+=1)It(I[U]);It(f.$$.fragment,F),It(y.$$.fragment,F),v=!1},d(F){F&&(vt(t),vt(i),vt(n),vt(a),vt(d),vt(u)),C&&C.d(F),w&&w.d(F),_&&_.d(F),E&&E.d(),Ti(I,F),Dt(f),Dt(y)}}}function jct(e){let t;return{c(){t=q("div"),t.textContent=`MIDI input is disabled when data is loaded or played back. Reset or stop
      playing to enable input.`},m(i,n){bt(i,t,n)},p:We,i:We,o:We,d(i){i&&vt(t)}}}function PO(e){let t,i,n;function a(l){e[22](l)}let o={label:"synth",title:"Use built-in synth while playing?",callback:e[21]};return e[0]!==void 0&&(o.checked=e[0]),t=new zn({props:o}),he.push(()=>Ee(t,"checked",a)),{c(){Pt(t.$$.fragment)},m(l,c){Rt(t,l,c),n=!0},p(l,c){const d={};c[0]&512&&(d.callback=l[21]),!i&&c[0]&1&&(i=!0,d.checked=l[0],_e(()=>i=!1)),t.$set(d)},i(l){n||(wt(t.$$.fragment,l),n=!0)},o(l){It(t.$$.fragment,l),n=!1},d(l){Dt(t,l)}}}function kO(e){let t,i,n;function a(l){e[24](l)}let o={label:"use keyboard",title:"When enabled, you can use a PC keyboard similar to a MIDI keyboard",callback:e[23]};return e[1]!==void 0&&(o.checked=e[1]),t=new zn({props:o}),he.push(()=>Ee(t,"checked",a)),{c(){Pt(t.$$.fragment)},m(l,c){Rt(t,l,c),n=!0},p(l,c){const d={};c[0]&512&&(d.callback=l[23]),!i&&c[0]&2&&(i=!0,d.checked=l[1],_e(()=>i=!1)),t.$set(d)},i(l){n||(wt(t.$$.fragment,l),n=!0)},o(l){It(t.$$.fragment,l),n=!1},d(l){Dt(t,l)}}}function LO(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g;return{c(){t=q("div"),i=q("div"),n=te("octave "),a=te(e[2]),o=K(),l=q("button"),l.textContent="+",c=K(),d=q("button"),d.textContent="-",u=K(),h=q("div"),h.innerHTML=`You can use a PC keyboard as a MIDI keyboard and play note with: <br/><code>a</code> = C, <code>w</code> = C#,
          <code>s</code> = B, ...`,mt(l,"class","left svelte-12pngt2"),mt(d,"class","right svelte-12pngt2")},m(y,b){bt(y,t,b),B(t,i),B(i,n),B(i,a),B(i,o),B(i,l),B(i,c),B(i,d),B(t,u),B(t,h),f=!0,M||(g=[ze(l,"click",e[25]),ze(d,"click",e[26])],M=!0)},p(y,b){(!f||b[0]&4)&&Qe(a,y[2])},i(y){f||(y&&J9(()=>{f&&(p||(p=Gd(t,ch,{},!0)),p.run(1))}),f=!0)},o(y){y&&(p||(p=Gd(t,ch,{},!1)),p.run(0)),f=!1},d(y){y&&vt(t),y&&p&&p.end(),M=!1,t0(g)}}}function NO(e){let t;return{c(){t=te(`You have no MIDI device connected or MIDI is not supported in your
        browser`)},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function FO(e){let t,i;function n(){return e[27](e[37])}return t=new zn({props:{label:e[35].name,callback:n}}),{c(){Pt(t.$$.fragment)},m(a,o){Rt(t,a,o),i=!0},p(a,o){e=a;const l={};o[0]&64&&(l.label=e[35].name),o[0]&256&&(l.callback=n),t.$set(l)},i(a){i||(wt(t.$$.fragment,a),i=!0)},o(a){It(t.$$.fragment,a),i=!1},d(a){Dt(t,a)}}}function Wct(e){let t,i,n,a,o,l,c,d;const u=[jct,zct],h=[];function p(f,M){return f[3]?0:1}return a=p(e),o=h[a]=u[a](e),{c(){t=q("main"),i=q("h4"),i.textContent="Input Settings",n=K(),o.c(),mt(t,"class","svelte-12pngt2")},m(f,M){bt(f,t,M),B(t,i),B(t,n),h[a].m(t,null),l=!0,c||(d=[ze(window,"keydown",e[13]),ze(window,"keyup",e[14])],c=!0)},p(f,M){let g=a;a=p(f),a===g?h[a].p(f,M):(na(),It(h[g],1,1,()=>{h[g]=null}),ra(),o=h[a],o?o.p(f,M):(o=h[a]=u[a](f),o.c()),wt(o,1),o.m(t,null))},i(f){l||(wt(o),l=!0)},o(f){It(o),l=!1},d(f){f&&vt(t),h[a].d(),c=!1,t0(d)}}}function Kct(e,t,i){let{midiMessage:n=W=>{}}=t,{noteOn:a=W=>{}}=t,{noteOff:o=W=>{}}=t,{controlChange:l=W=>{}}=t,{pitchBend:c=W=>{}}=t,{errorCallback:d=W=>console.error(W)}=t,{disabled:u=!1}=t,{synthAllowed:h=!0}=t,{pcKeyAllowed:p=!1}=t,{synthActive:f=!1}=t,{keyboardEnabled:M=!1}=t,{keyboardOctave:g=4}=t,y=[],b=!0,v=new Set,C,w=0,_=0,E=0;const S=()=>{i(6,y=[]),Li.inputs.length<1?(console.warn("No MIDI device detected"),i(7,b=!1)):(Li.inputs.forEach((W,et)=>{W.removeListener(),v.has(et)||(W.addListener("noteon",dt=>{dt.velocity>=w&&dt.timestamp-E>_&&(E=dt.timestamp,a(dt))}),W.addListener("noteoff",o),W.addListener("controlchange",l),W.addListener("pitchbend",c),W.addListener("midimessage",n),W.addListener("noteon",k),W.addListener("noteoff",D))}),i(6,y=[...Li.inputs]))};yr(()=>{Li.enable().then(S).catch(W=>{i(7,b=!1),d(W)}),i(9,C=new vv().toDestination())}),c0(()=>{for(const W of Li.inputs)W.removeListener();C==null||C.dispose()});const I=new Map,T=new Map([["a",0],["w",1],["s",2],["e",3],["d",4],["f",5],["t",6],["g",7],["y",8],["z",8],["h",9],["u",10],["j",11],["k",12],["o",13],["l",14],["p",15],[";",16],["",16],["'",17],["",17]]),k=W=>{if(f){const et=W.note.name+(W.note.accidental??""),dt=Math.floor(W.note.number/12);C.triggerAttack(`${et}${dt}`,RO(),W.velocity)}},D=W=>{if(f){const et=W.note.name+(W.note.accidental??""),dt=Math.floor(W.note.number/12);C.triggerRelease(`${et}${dt}`,RO())}},N=W=>{const et=W.key.toLowerCase();if(!M||!T.has(et)||W.repeat)return;W.preventDefault();const dt=T.get(et)+g*12,ht=Rs[dt],St={note:{number:dt,name:ht.name.replace("#",""),accidental:ht.name.endsWith("#")?"#":null},message:{channel:0},timestamp:performance.now(),velocity:1,rawVelocity:64};I.set(et,St),a(St),k(St)},P=W=>{const et=W.key.toLowerCase();if(!M||!T.has(et))return;W.preventDefault();const dt=I.get(et);dt&&(dt.timestamp=performance.now(),o(dt),D(dt))},F=W=>{W||C==null||C.releaseAll()};function U(W){f=W,i(0,f)}const V=W=>{W||C==null||C.releaseAll()};function z(W){M=W,i(1,M)}const G=()=>i(2,g=Math.min(g+1,8)),H=()=>i(2,g=Math.max(g-1,1)),J=W=>{i(8,v=Id(v,W)),S()};function Z(W){w=W,i(10,w)}function j(W){_=W,i(11,_)}return e.$$set=W=>{"midiMessage"in W&&i(15,n=W.midiMessage),"noteOn"in W&&i(16,a=W.noteOn),"noteOff"in W&&i(17,o=W.noteOff),"controlChange"in W&&i(18,l=W.controlChange),"pitchBend"in W&&i(19,c=W.pitchBend),"errorCallback"in W&&i(20,d=W.errorCallback),"disabled"in W&&i(3,u=W.disabled),"synthAllowed"in W&&i(4,h=W.synthAllowed),"pcKeyAllowed"in W&&i(5,p=W.pcKeyAllowed),"synthActive"in W&&i(0,f=W.synthActive),"keyboardEnabled"in W&&i(1,M=W.keyboardEnabled),"keyboardOctave"in W&&i(2,g=W.keyboardOctave)},[f,M,g,u,h,p,y,b,v,C,w,_,S,N,P,n,a,o,l,c,d,F,U,V,z,G,H,J,Z,j]}class j0 extends Zi{constructor(t){super(),Yi(this,t,Kct,Wct,Xi,{midiMessage:15,noteOn:16,noteOff:17,controlChange:18,pitchBend:19,errorCallback:20,disabled:3,synthAllowed:4,pcKeyAllowed:5,synthActive:0,keyboardEnabled:1,keyboardOctave:2},null,[-1,-1])}}function qct(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p=e[1].join(", ")+"",f,M,g,y,b=e[2].join(" or ")+"",v,C,w,_;return w=new j0({props:{noteOn:e[3]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`Play a chord on a MIDI instrument. The notes you played and the detected
        chord will be shown below.`,c=K(),d=q("div"),u=te("Notes: "),h=q("b"),f=te(p),M=q("br"),g=te(`
        Detected chord: `),y=q("b"),v=te(b),C=K(),Pt(w.$$.fragment),mt(l,"class","explanation"),mt(d,"class","visualization"),mt(t,"class","app")},m(E,S){bt(E,t,S),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(d,u),B(d,h),B(h,f),B(d,M),B(d,g),B(d,y),B(y,v),B(t,C),Rt(w,t,null),_=!0},p(E,[S]){(!_||S&1)&&n!==(n=E[0].title+"")&&Qe(a,n),(!_||S&2)&&p!==(p=E[1].join(", ")+"")&&Qe(f,p),(!_||S&4)&&b!==(b=E[2].join(" or ")+"")&&Qe(v,b)},i(E){_||(wt(w.$$.fragment,E),_=!0)},o(E){It(w.$$.fragment,E),_=!1},d(E){E&&vt(t),Dt(w)}}}function Xct(e,t,i){let{toolInfo:n}=t,a=0,o=[],l=[],c=[];const d=h=>{o.length===0&&(a=h.timestamp);const p=(h.timestamp-a)/1e3,f={number:h.note.number,velocity:h.rawVelocity,time:p,channel:h.message.channel};o.push(f),u()},u=()=>{const h=v9(o,p=>p.time);i(1,l=o.filter(p=>p.time>h-1).sort((p,f)=>p.number-f.number).map(p=>Fa(p.number))),i(1,l=[...new Set(l)]),i(2,c=y3(l))};return yr(u),e.$$set=h=>{"toolInfo"in h&&i(0,n=h.toolInfo)},[n,l,c,d]}class Yct extends Zi{constructor(t){super(),Yi(this,t,Xct,qct,Xi,{toolInfo:0})}}function io(e){return e!=null&&!Number.isNaN(e)}function is(e,t){return+io(t)-+io(e)||Gr(e,t)}function y8(e,t){return+io(t)-+io(e)||qf(e,t)}function _v(e){return e!=null&&`${e}`!=""}function yN(e){return isFinite(e)?e:NaN}function B5(e){return e>0&&isFinite(e)?e:NaN}function Ev(e){return e<0&&isFinite(e)?e:NaN}function Zct(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const i=e.getUTCHours(),n=e.getUTCMinutes(),a=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${tut(e.getUTCFullYear())}-${dl(e.getUTCMonth()+1,2)}-${dl(e.getUTCDate(),2)}${i||n||a||o?`T${dl(i,2)}:${dl(n,2)}${a||o?`:${dl(a,2)}${o?`.${dl(o,3)}`:""}`:""}Z`:""}`}function tut(e){return e<0?`-${dl(-e,6)}`:e>9999?`+${dl(e,6)}`:dl(e,4)}function dl(e,t){return`${e}`.padStart(t,"0")}const eut=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function AN(e,t){return eut.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function uh(e){if(e==null)return;const t=e[0],i=e[e.length-1];return qf(t,i)}const vd=1e3,wc=vd*60,Oc=wc*60,Ps=Oc*24,gs=Ps*7,Yu=Ps*30,uc=Ps*365,Pg=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",vd],["5 seconds",5*vd],["15 seconds",15*vd],["30 seconds",30*vd],["minute",wc],["5 minutes",5*wc],["15 minutes",15*wc],["30 minutes",30*wc],["hour",Oc],["3 hours",3*Oc],["6 hours",6*Oc],["12 hours",12*Oc],["day",Ps],["2 days",2*Ps],["week",gs],["2 weeks",2*gs],["month",Yu],["3 months",3*Yu],["6 months",6*Yu],["year",uc],["2 years",2*uc],["5 years",5*uc],["10 years",10*uc],["20 years",20*uc],["50 years",50*uc],["100 years",100*uc]],wv=new Map([["second",vd],["minute",wc],["hour",Oc],["day",Ps],["monday",gs],["tuesday",gs],["wednesday",gs],["thursday",gs],["friday",gs],["saturday",gs],["sunday",gs],["week",gs],["month",Yu],["year",uc]]),vN=new Map([["second",jo],["minute",l3],["hour",u3],["day",m1],["monday",vf],["tuesday",oD],["wednesday",sD],["thursday",l1],["friday",lD],["saturday",cD],["sunday",Yd],["week",Yd],["month",h3],["year",Zo]]),Ov=new Map([["second",jo],["minute",c3],["hour",d3],["day",X8],["monday",bf],["tuesday",uD],["wednesday",dD],["thursday",c1],["friday",hD],["saturday",fD],["sunday",Zd],["week",Zd],["month",f3],["year",ts]]),R3=Symbol("intervalDuration"),R5=Symbol("intervalType");for(const[e,t]of vN)t[R3]=wv.get(e),t[R5]="time";for(const[e,t]of Ov)t[R3]=wv.get(e),t[R5]="utc";const j2=[["year",ts,"utc"],["month",f3,"utc"],["day",X8,"utc",6*Yu],["hour",d3,"utc",3*Ps],["minute",c3,"utc",6*Oc],["second",jo,"utc",30*wc]],g6=[["year",Zo,"time"],["month",h3,"time"],["day",m1,"time",6*Yu],["hour",u3,"time",3*Ps],["minute",l3,"time",6*Oc],["second",jo,"time",30*wc]],iut=[j2[0],g6[0],j2[1],g6[1],j2[2],g6[2],...j2.slice(3)];function bN(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let i=1;const n=/^(?:(\d+)\s+)/.exec(t);switch(n&&(t=t.slice(n[0].length),i=+n[1]),t){case"quarter":t="month",i*=3;break;case"half":t="month",i*=6;break}let a=Ov.get(t);if(!a)throw new Error(`unknown interval: ${e}`);if(i>1&&!a.every)throw new Error(`non-periodic interval: ${t}`);return[t,i]}function CN(e){return _N(bN(e),"time")}function Sv(e){return _N(bN(e),"utc")}function _N([e,t],i){let n=(i==="time"?vN:Ov).get(e);return t>1&&(n=n.every(t),n[R3]=wv.get(e)*t,n[R5]=i),n}function UO(e,t){if(!(t>1))return;const i=e[R3];if(!Pg.some(([,a])=>a===i)||i%Ps===0&&Ps<i&&i<Yu)return;const[n]=Pg[P8(([,a])=>Math.log(a)).center(Pg,Math.log(i*t))];return(e[R5]==="time"?CN:Sv)(n)}function JO(e,t,i){const n=t==="time"?dA:m3;if(i==null)return n(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const a=nut(i);switch(e){case"millisecond":return od(n(".%L"),n(":%M:%S"),a);case"second":return od(n(":%S"),n("%-I:%M"),a);case"minute":return od(n("%-I:%M"),n("%p"),a);case"hour":return od(n("%-I %p"),n("%b %-d"),a);case"day":return od(n("%-d"),n("%b"),a);case"month":return od(n("%b"),n("%Y"),a);case"year":return n("%Y")}throw new Error("unable to format time ticks")}function nut(e){return e==="left"||e==="right"?(t,i)=>`
${t}
${i}`:e==="top"?(t,i)=>`${i}
${t}`:(t,i)=>`${t}
${i}`}function rut(e){return e==="time"?g6:e==="utc"?j2:iut}function aut(e,t,i){const n=v9(Sj(t,(a,o)=>Math.abs(o-a)));if(n<1e3)return JO("millisecond","utc",i);for(const[a,o,l,c]of rut(e)){if(n>c||a==="hour"&&!n)break;if(t.every(d=>o.floor(d)>=d))return JO(a,l,i)}}function od(e,t,i){return(n,a,o)=>{const l=e(n,a),c=t(n,a),d=a-uh(o);return a!==d&&o[d]!==void 0&&c===t(o[d],d)?l:i(l,c)}}const xv=Object.getPrototypeOf(Uint8Array),out=Object.prototype.toString;function v1(e){return e instanceof Array||e instanceof xv}function EN(e){return e instanceof xv&&!sut(e)}function wN(e){return(e==null?void 0:e.prototype)instanceof xv&&!lut(e)}function sut(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function lut(e){return e===BigInt64Array||e===BigUint64Array}const ON=Symbol("reindex");function A9(e,t,i){const n=typeof t;return n==="string"?$N(e)?Tv(e.getChild(t),i):$O(e,SN(t),i):n==="function"?$O(e,t,i):n==="number"||t instanceof Date||n==="boolean"?lr(e,_l(t),i):typeof(t==null?void 0:t.transform)=="function"?py(t.transform(e),i):cut(py(t,i),e==null?void 0:e[ON])}function cut(e,t){return e!=null&&t?k5(e,t):e}function $O(e,t,i){return lr(e,wN(i)?(n,a)=>Bv(t(n,a)):t,i)}function py(e,t){return t===void 0?Hc(e):GN(e)?Tv(e,t):e instanceof t?e:t.from(e,wN(t)&&!EN(e)?Bv:void 0)}function Tv(e,t){return e==null?e:(t===void 0||t===Array)&&Eut(e.type)?TN(e.toArray()):py(e.toArray(),t)}const M6=[null],SN=e=>t=>{var n;const i=t[e];return i===void 0&&t.type==="Feature"?(n=t.properties)==null?void 0:n[e]:i},Vs={transform:Jl},h9={transform:e=>e},uut=()=>1,dut=()=>!0,ba=e=>e==null?e:`${e}`,Ir=e=>e==null?e:+e,Iv=e=>e?e[0]:void 0,A8=e=>e?e[1]:void 0,_l=e=>()=>e;function xN(e){const t=+`${e}`.slice(1)/100;return(i,n)=>Vd(i,t,n)}function ws(e){return EN(e)?e:lr(e,Bv,Float64Array)}function Bv(e){return e==null?NaN:Number(e)}function TN(e){return lr(e,IN)}function IN(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?AN(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function Bo(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:L5(e)?[void 0,e]:[e,void 0]}function _a(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function BN(e,t,i){if(e!=null)return ls(e,t,i)}function ls(e,t,i){const n=`${e}`.toLowerCase();if(!i.includes(n))throw new Error(`invalid ${t}: ${e}`);return n}function dh(e){return $N(e)?e:Hc(e)}function Hc(e){if(e==null||v1(e))return e;if(GN(e))return Tv(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function lr(e,t,i=Array){return e==null?e:e instanceof i?e.map(t):i.from(e,t)}function Bf(e,t=Array){return e instanceof t?e.slice():t.from(e)}function RN({x:e,x1:t,x2:i}){return e!==void 0||t!==void 0||i!==void 0}function DN({y:e,y1:t,y2:i}){return e!==void 0||t!==void 0||i!==void 0}function Ih(e){return RN(e)||DN(e)||e.interval!==void 0}function Ul(e){return(e==null?void 0:e.toString)===out}function gy(e){return Ul(e)&&(e.type!==void 0||e.domain!==void 0)}function D5(e){return Ul(e)&&typeof e.transform!="function"}function hh(e){return D5(e)&&e.value===void 0&&e.channel===void 0}function PN(e,t,i,n=h9){return t===void 0&&i===void 0?(t=0,i=e===void 0?n:e):t===void 0?t=e===void 0?0:e:i===void 0&&(i=e===void 0?0:e),[t,i]}function D3(e,t){return e===void 0&&t===void 0?[Iv,A8]:[e,t]}function P5({z:e,fill:t,stroke:i}={}){return e===void 0&&([e]=Bo(t)),e===void 0&&([e]=Bo(i)),e}function Rf(e){return v1(e)?e.length:e==null?void 0:e.numRows}function Jl(e){const t=Rf(e),i=new Uint32Array(t);for(let n=0;n<t;++n)i[n]=n;return i}function k5(e,t){return v1(e)?lr(t,i=>e[i],e.constructor):lr(t,i=>e.at(i))}function kN(e){return e.length===1?(t,i)=>e(k5(i,t)):e}function Zu(e,t,i){return e.subarray?e.subarray(t,i):e.slice(t,i)}function El(e){return e!==null&&typeof e=="object"?e.valueOf():e}function LN(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Df(e){let t;return[{transform:()=>t,label:Xc(e)},i=>t=i]}function Ra(e){return e==null?[e]:Df(e)}function Xc(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function v8(e,t){return{transform(i){const n=e.transform(i),a=t.transform(i);return Ja(n)||Ja(a)?lr(n,(o,l)=>new Date((+n[l]+ +a[l])/2)):lr(n,(o,l)=>(+n[l]+ +a[l])/2,Float64Array)},label:e.label}}function b8(e,t){const i=NN(t==null?void 0:t.interval,t==null?void 0:t.type);return i?lr(e,i):e}function NN(e,t){const i=Rv(e,t);return i&&(n=>io(n)?i.floor(n):n)}function Rv(e,t){if(e!=null){if(typeof e=="number")return hut(e);if(typeof e=="string")return(t==="time"?CN:Sv)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function hut(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:i=>Math.floor(i*t)/t,offset:(i,n=1)=>(i*t+Math.floor(n))/t,range:(i,n)=>fi(Math.ceil(i*t),n*t).map(a=>a/t)}:{floor:i=>Math.floor(i/t)*t,offset:(i,n=1)=>i+t*Math.floor(n),range:(i,n)=>fi(Math.ceil(i/t),n/t).map(a=>a*t)}}function Bh(e,t){if(e=Rv(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function fut(e,t){if(e=Bh(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function mut(e){return bd(e)&&typeof(e==null?void 0:e.floor)=="function"&&e.floor()instanceof Date}function bd(e){return typeof(e==null?void 0:e.range)=="function"}function Rh(e){return e===void 0||D5(e)?e:{value:e}}function put(e){return e==null?null:{transform:t=>A9(t,e,Float64Array),label:Xc(e)}}function Yc(e){return e&&typeof e[Symbol.iterator]=="function"}function FN(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function GO(e){for(const t of e){if(t==null)continue;const i=typeof t;return i==="string"||i==="boolean"}}function Ja(e){for(const t of e)if(t!=null)return t instanceof Date}function gut(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&AN(t)}function Mut(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function yut(e){for(const t of e)if(t!=null)return typeof t=="number"}function kg(e,t){let i;for(const n of e)if(n!=null){if(!t(n))return!1;i=!0}return i}const Aut=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function L5(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||Aut.has(e))}function vut(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function ia(e){return e==null||Pf(e)}function Pf(e){return/^\s*none\s*$/i.test(e)}function but(e){return/^\s*round\s*$/i.test(e)}function My(e,t){return BN(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function N5(e="middle"){return My(e,"frameAnchor")}function Cut(e={},...t){let i=e;for(const n of t)for(const a in n)if(i[a]===void 0){const o=n[a];i===e?i={...i,[a]:o}:i[a]=o}return i}function _ut(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,i=>{const{name:n}=i;if(n==null)throw new Error("missing name");const a=`${n}`;if(a==="__proto__")throw new Error(`illegal name: ${a}`);if(t.has(a))throw new Error(`duplicate name: ${a}`);return t.add(a),[n,i]}))}function UN(e){return Yc(e)?_ut(e):e}function JN(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=ls(e,"clip",["frame","sphere"])),e}function $N(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function GN(e){return e&&typeof e.toArray=="function"&&e.type}function Eut(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const Os=Symbol("position"),$l=Symbol("color"),P3=Symbol("radius"),k3=Symbol("length"),L3=Symbol("opacity"),F5=Symbol("symbol"),HN=Symbol("projection"),K9=new Map([["x",Os],["y",Os],["fx",Os],["fy",Os],["r",P3],["color",$l],["opacity",L3],["symbol",F5],["length",k3],["projection",HN]]);function wut(e){return e===Os||e===HN}function Out(e){return e===Os||e===P3||e===k3||e===L3}const Sut=Math.sqrt(3),xut=2/Sut,Tut={draw(e,t){const i=Math.sqrt(t/Math.PI),n=i*xut,a=n/2;e.moveTo(0,n),e.lineTo(i,a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-i,a),e.closePath()}},Dv=new Map([["asterisk",UP],["circle",Cf],["cross",JP],["diamond",GP],["diamond2",HP],["hexagon",Tut],["plus",VP],["square",QP],["square2",zP],["star",WP],["times",YP],["triangle",KP],["triangle2",qP],["wye",XP]]);function Pv(e){return e&&typeof e.draw=="function"}function Iut(e){return Pv(e)?!0:typeof e!="string"?!1:Dv.has(e.toLowerCase())}function kv(e){if(e==null||Pv(e))return e;const t=Dv.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function But(e){if(e==null||Pv(e))return[void 0,e];if(typeof e=="string"){const t=Dv.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function Dh({filter:e,sort:t,reverse:i,transform:n,initializer:a,...o}={},l){if(n===void 0&&(e!=null&&(n=VN(e)),t!=null&&!hh(t)&&(n=Lg(n,Lv(t))),i&&(n=Lg(n,QN))),l!=null&&a!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(t===null||hh(t))&&{sort:t},transform:Lg(n,l)}}function fh({filter:e,sort:t,reverse:i,initializer:n,...a}={},o){return n===void 0&&(e!=null&&(n=VN(e)),t!=null&&!hh(t)&&(n=Ng(n,Lv(t))),i&&(n=Ng(n,QN))),{...a,...(t===null||hh(t))&&{sort:t},initializer:Ng(n,o)}}function Lg(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(i,n,a){return{data:i,facets:n}=e.call(this,i,n,a),t.call(this,dh(i),n,a)}}function Ng(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(i,n,a,...o){let l,c,d,u,h,p;return{data:c=i,facets:d=n,channels:l}=e.call(this,i,n,a,...o),{data:h=c,facets:p=d,channels:u}=t.call(this,c,d,{...a,...l},...o),{data:h,facets:p,channels:{...l,...u}}}}function Rut(e,t){return(e.initializer!=null?fh:Dh)(e,t)}function VN(e){return(t,i)=>{const n=A9(t,e);return{data:t,facets:i.map(a=>a.filter(o=>n[o]))}}}function QN(e,t){return{data:e,facets:t.map(i=>i.slice().reverse())}}function Dut(e,{sort:t,...i}={}){return{...(D5(e)&&e.channel!==void 0?fh:Rut)(i,Lv(e)),sort:hh(t)?t:null}}function Lv(e){return(typeof e=="function"&&e.length!==1?Put:kut)(e)}function Put(e){return(t,i)=>{const n=v1(t)?(a,o)=>e(t[a],t[o]):(a,o)=>e(t.get(a),t.get(o));return{data:t,facets:i.map(a=>a.slice().sort(n))}}}function kut(e){let t,i;({channel:t,value:e,order:i}={...Rh(e)});const n=t==null?void 0:t.startsWith("-");if(n&&(t=t.slice(1)),i===void 0&&(i=n?y8:is),typeof i!="function")switch(`${i}`.toLowerCase()){case"ascending":i=is;break;case"descending":i=y8;break;default:throw new Error(`invalid order: ${i}`)}return(a,o,l)=>{let c;if(t===void 0)c=A9(a,e);else{if(l===void 0)throw new Error("channel sort requires an initializer");if(c=l[t],!c)return{};c=c.value}const d=(u,h)=>i(c[u],c[h]);return{data:a,facets:o.map(u=>u.slice().sort(d))}}}function Lut(e={y:"count"},t={}){const{x:i=h9}=t;if(i==null)throw new Error("missing channel: x");return Nut(i,null,e,t)}function Nut(e,t,{data:i=Uv,filter:n,sort:a,reverse:o,...l}={},c={}){l=Jut(l,c),i=KN(i,h9),a=a==null?void 0:jN("sort",a,c),n=n==null?void 0:WN("filter",n,c);const[d,u]=Ra(e),[h,p]=Ra(t),{z:f,fill:M,stroke:g,x1:y,x2:b,y1:v,y2:C,...w}=c,[_,E]=Ra(f),[S]=Bo(M),[I]=Bo(g),[T,k]=Ra(S),[D,N]=Ra(I);return{..."z"in c&&{z:_||f},..."fill"in c&&{fill:T||M},..."stroke"in c&&{stroke:D||g},...Dh(w,(P,F,U)=>{const V=b8(A9(P,e),U==null?void 0:U.x),z=b8(A9(P,t),U==null?void 0:U.y),G=A9(P,f),H=A9(P,S),J=A9(P,I),Z=qN(l,{z:G,fill:H,stroke:J}),j=[],W=[],et=V&&u([]),dt=z&&p([]),ht=G&&E([]),st=H&&k([]),St=J&&N([]);let At=0;for(const xt of l)xt.initialize(P);a&&a.initialize(P),n&&n.initialize(P);for(const xt of F){const gt=[];for(const yt of l)yt.scope("facet",xt);a&&a.scope("facet",xt),n&&n.scope("facet",xt);for(const[yt,lt]of lf(xt,Z))for(const[zt,kt]of lf(lt,z))for(const[Jt,Gt]of lf(kt,V)){const ce={data:P};if(V&&(ce.x=Jt),z&&(ce.y=zt),Z&&(ce.z=yt),!(n&&!n.reduce(Gt,ce))){gt.push(At++),W.push(i.reduceIndex(Gt,P,ce)),V&&et.push(Jt),z&&dt.push(zt),G&&ht.push(Z===G?yt:G[Gt[0]]),H&&st.push(Z===H?yt:H[Gt[0]]),J&&St.push(Z===J?yt:J[Gt[0]]);for(const ae of l)ae.reduce(Gt,ce);a&&a.reduce(Gt,ce)}}j.push(gt)}return XN(j,a,o),{data:W,facets:j}}),...!sf(l,"x")&&(d?{x:d}:{x1:y,x2:b}),...!sf(l,"y")&&(h?{y:h}:{y1:v,y2:C}),...Object.fromEntries(l.map(({name:P,output:F})=>[P,F]))}}function sf(e,...t){for(const{name:i}of e)if(t.includes(i))return!0;return!1}function zN(e,t,i=Nv){const n=Object.entries(e);return t.title!=null&&e.title===void 0&&n.push(["title",Vut]),t.href!=null&&e.href===void 0&&n.push(["href",Jv]),n.filter(([,a])=>a!==void 0).map(([a,o])=>o===null?Fut(a):i(a,o,t))}function Nv(e,t,i,n=Fv){let a;Ul(t)&&"reduce"in t&&(a=t.scale,t=t.reduce);const o=n(e,t,i),[l,c]=Df(o.label);let d;return{name:e,output:a===void 0?l:{value:l,scale:a},initialize(u){o.initialize(u),d=c([])},scope(u,h){o.scope(u,h)},reduce(u,h){d.push(o.reduce(u,h))}}}function Fut(e){return{name:e,initialize(){},scope(){},reduce(){}}}function Fv(e,t,i,n=U5){const a=LN(e,i),o=n(t,a);let l,c;return{label:Xc(o===C8?null:a,o.label),initialize(d){l=a===void 0?d:A9(d,a),o.scope==="data"&&(c=o.reduceIndex(Jl(d),l))},scope(d,u){o.scope===d&&(c=o.reduceIndex(u,l))},reduce(d,u){return o.scope==null?o.reduceIndex(d,l,u):o.reduceIndex(d,l,c,u)}}}function lf(e,t){return t?Zf(e,i=>t[i]):[[,e]]}function U5(e,t,i=Uut){if(e==null)return i(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Ul(e))return Gut(e);if(typeof e=="function")return Hut(e);if(/^p\d{2}$/i.test(e))return cl(xN(e));switch(`${e}`.toLowerCase()){case"first":return Jv;case"last":return Qut;case"identity":return Uv;case"count":return C8;case"distinct":return zut;case"sum":return t==null?C8:jut;case"proportion":return VO(t,"data");case"proportion-facet":return VO(t,"facet");case"deviation":return cl(Hy);case"min":return cl(Hr);case"min-index":return cl(wl);case"max":return cl(v9);case"max-index":return cl(zy);case"mean":return HO(Bc);case"median":return HO(Qd);case"variance":return cl(Gy);case"mode":return cl(N8)}return i(e)}function Uut(e){throw new Error(`invalid reduce: ${e}`)}function Jut(e,t){return zN(e,t,jN)}function jN(e,t,i){return Nv(e,t,i,WN)}function WN(e,t,i){return Fv(e,t,i,KN)}function KN(e,t){return U5(e,t,$ut)}function $ut(e){switch(`${e}`.toLowerCase()){case"x":return Wut;case"y":return Kut;case"z":return YN}throw new Error(`invalid group reduce: ${e}`)}function qN(e,t){for(const i in t){const n=t[i];if(n!==void 0&&!e.some(a=>a.name===i))return n}}function XN(e,t,i){if(t){const n=t.output.transform(),a=(o,l)=>is(n[o],n[l]);e.forEach(o=>o.sort(a))}i&&e.forEach(n=>n.reverse())}function Gut(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function Hut(e){return{reduceIndex(t,i,n){return e(k5(i,t),n)}}}function cl(e){return{reduceIndex(t,i){return e(t,n=>i[n])}}}function HO(e){return{reduceIndex(t,i){const n=e(t,a=>i[a]);return Ja(i)?new Date(n):n}}}const Uv={reduceIndex(e,t){return k5(t,e)}},Jv={reduceIndex(e,t){return t[e[0]]}},Vut={reduceIndex(e,t){const n=C6(wd(e,o=>o.length,o=>t[o]),A8),a=n.slice(-5).reverse();if(a.length<n.length){const o=n.slice(0,-4);a[4]=[` ${o.length.toLocaleString("en-US")} more`,Rc(o,A8)]}return a.map(([o,l])=>`${o} (${l.toLocaleString("en-US")})`).join(`
`)}},Qut={reduceIndex(e,t){return t[e[e.length-1]]}},C8={label:"Frequency",reduceIndex(e){return e.length}},zut={label:"Distinct",reduceIndex(e,t){const i=new Yf;for(const n of e)i.add(t[n]);return i.size}},jut=cl(Rc);function VO(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(i,n,a=1)=>i.length/a}:{scope:t,reduceIndex:(i,n,a=1)=>Rc(i,o=>n[o])/a}}const Wut={reduceIndex(e,t,{x:i}){return i}},Kut={reduceIndex(e,t,{y:i}){return i}},YN={reduceIndex(e,t,{z:i}){return i}};function kf(e,{scale:t,type:i,value:n,filter:a,hint:o,label:l=Xc(n)},c){return o===void 0&&typeof(n==null?void 0:n.transform)=="function"&&(o=n.hint),ZN(c,{scale:t,type:i,value:A9(e,n),label:l,filter:a,hint:o})}function qut(e,t){return Object.fromEntries(Object.entries(e).map(([i,n])=>[i,kf(t,n,i)]))}function Xut(e,t){const i=Object.fromEntries(Object.entries(e).map(([n,{scale:a,value:o}])=>{const l=a==null?null:t[a];return[n,l==null?o:lr(o,l)]}));return i.channels=e,i}function ZN(e,t){const{scale:i,value:n}=t;if(i===!0||i==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=i!==!0&&kg(n,L5)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=i!==!0&&kg(n,vut)?null:"opacity",t.defaultScale="opacity";break;case"symbol":i!==!0&&kg(n,Iut)?(t.scale=null,t.value=lr(n,kv)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=K9.has(e)?e:null;break}else if(i===!1)t.scale=null;else if(i!=null&&!K9.has(i))throw new Error(`unknown scale: ${i}`);return t}function Yut(e,t,i,n,a){const{order:o,reverse:l,reduce:c=!0,limit:d}=a;for(const u in a){if(!K9.has(u))continue;let{value:h,order:p=o,reverse:f=l,reduce:M=c,limit:g=d}=Rh(a[u]);const y=h==null?void 0:h.startsWith("-");if(y&&(h=h.slice(1)),p=p===void 0?y!==(h==="width"||h==="height")?eF:tF:e1t(p),M==null||M===!1)continue;const b=u==="fx"||u==="fy"?t1t(t,n[u]):Zut(i,u);if(!b)throw new Error(`missing channel for scale: ${u}`);const v=b.value,[C=0,w=1/0]=Yc(g)?g:g<0?[g]:[0,g];if(h==null)b.domain=()=>{let _=Array.from(new Yf(v));return f&&(_=_.reverse()),(C!==0||w!==1/0)&&(_=_.slice(C,w)),_};else{const _=h==="data"?e:h==="height"?QO(i,"y1","y2"):h==="width"?QO(i,"x1","x2"):yy(i,h,h==="y"?"y2":h==="x"?"x2":void 0),E=U5(M===!0?"max":M,_);b.domain=()=>{let S=gj(Jl(v),I=>E.reduceIndex(I,_),I=>v[I]);return p&&S.sort(p),f&&S.reverse(),(C!==0||w!==1/0)&&(S=S.slice(C,w)),S.map(Iv)}}}}function Zut(e,t){for(const i in e){const n=e[i];if(n.scale===t)return n}}function t1t(e,t){const i=e.original;if(i===e)return t;const n=t.value,a=t.value=[];for(let o=0;o<i.length;++o){const l=n[i[o][0]];for(const c of e[o])a[c]=l}return t}function QO(e,t,i){const n=yy(e,t),a=yy(e,i);return lr(a,(o,l)=>Math.abs(o-n[l]),Float64Array)}function yy(e,t,i){let n=e[t];if(!n&&i!==void 0&&(n=e[i]),n)return n.value;throw new Error(`missing channel: ${t}`)}function e1t(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return tF;case"descending":return eF}throw new Error(`invalid order: ${e}`)}function tF([e,t],[i,n]){return is(t,n)||is(e,i)}function eF([e,t],[i,n]){return y8(t,n)||is(e,i)}function zO(e,t){let i=e[t];if(i){for(;i.source;)i=i.source;return i.source===null?null:i}}const iF=new Map([["accent",VZ],["category10",HZ],["dark2",QZ],["observable10",Wo],["paired",zZ],["pastel1",jZ],["pastel2",WZ],["set1",KZ],["set2",qZ],["set3",XZ],["tableau10",Zr]]);function i1t(e){return e!=null&&iF.has(`${e}`.toLowerCase())}const jO=new Map([...iF,["brbg",ol(ED,wD)],["prgn",ol(OD,SD)],["piyg",ol(xD,TD)],["puor",ol(ID,BD)],["rdbu",ol($M,z6)],["rdgy",ol(RD,DD)],["rdylbu",ol(GM,j6)],["rdylgn",ol(PD,kD)],["spectral",ol(LD,ND)],["burd",WO($M,z6)],["buylrd",WO(GM,j6)],["blues",wr(lP,cP)],["greens",wr(uP,dP)],["greys",wr(hP,fP)],["oranges",wr(yP,AP)],["purples",wr(mP,pP)],["reds",wr(gP,MP)],["turbo",sl(OP)],["viridis",sl(SP)],["magma",sl(xP)],["inferno",sl(TP)],["plasma",sl(IP)],["cividis",sl(vP)],["cubehelix",sl(bP)],["warm",sl(CP)],["cool",sl(_P)],["bugn",wr(FD,UD)],["bupu",wr(JD,$D)],["gnbu",wr(GD,HD)],["orrd",wr(VD,QD)],["pubu",wr(WD,KD)],["pubugn",wr(zD,jD)],["purd",wr(qD,XD)],["rdpu",wr(YD,ZD)],["ylgn",wr(iP,nP)],["ylgnbu",wr(tP,eP)],["ylorbr",wr(rP,aP)],["ylorrd",wr(oP,sP)],["rainbow",KO(EP)],["sinebow",KO(wP)]]);function wr(e,t){return({length:i})=>i===1?[e[3][1]]:i===2?[e[3][1],e[3][2]]:(i=Math.max(3,Math.floor(i)),i>9?Yo(t,i):e[i])}function ol(e,t){return({length:i})=>i===2?[e[3][0],e[3][2]]:(i=Math.max(3,Math.floor(i)),i>11?Yo(t,i):e[i])}function WO(e,t){return({length:i})=>i===2?[e[3][2],e[3][0]]:(i=Math.max(3,Math.floor(i)),i>11?Yo(n=>t(1-n),i):e[i].slice().reverse())}function sl(e){return({length:t})=>Yo(e,Math.max(2,Math.floor(t)))}function KO(e){return({length:t})=>Yo(e,Math.floor(t)+1).slice(0,-1)}function nF(e){const t=`${e}`.toLowerCase();if(!jO.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return jO.get(t)}function J5(e,t){const i=nF(e),n=typeof i=="function"?i({length:t}):i;return n.length!==t?n.slice(0,t):n}function n1t(e,t="greys"){const i=new Set,[n,a]=J5(t,2);for(const o of e)if(o!=null)if(o===!0)i.add(a);else if(o===!1)i.add(n);else return;return[...i]}const qO=new Map([["brbg",wD],["prgn",SD],["piyg",TD],["puor",BD],["rdbu",z6],["rdgy",DD],["rdylbu",j6],["rdylgn",kD],["spectral",ND],["burd",e=>z6(1-e)],["buylrd",e=>j6(1-e)],["blues",cP],["greens",dP],["greys",fP],["purples",pP],["reds",MP],["oranges",AP],["turbo",OP],["viridis",SP],["magma",xP],["inferno",TP],["plasma",IP],["cividis",vP],["cubehelix",bP],["warm",CP],["cool",_P],["bugn",UD],["bupu",$D],["gnbu",HD],["orrd",QD],["pubugn",jD],["pubu",KD],["purd",XD],["rdpu",ZD],["ylgnbu",eP],["ylgn",nP],["ylorbr",aP],["ylorrd",sP],["rainbow",EP],["sinebow",wP]]);function $v(e){const t=`${e}`.toLowerCase();if(!qO.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return qO.get(t)}const r1t=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function a1t(e){return e!=null&&r1t.has(`${e}`.toLowerCase())}const rF=e=>t=>e(1-t),Fg=[0,1],XO=new Map([["number",ta],["rgb",a1],["hsl",XK],["hcl",tq],["lab",YK]]);function aF(e){const t=`${e}`.toLowerCase();if(!XO.has(t))throw new Error(`unknown interpolator: ${t}`);return XO.get(t)}function N3(e,t,i,{type:n,nice:a,clamp:o,zero:l,domain:c=sF(e,i),unknown:d,round:u,scheme:h,interval:p,range:f=K9.get(e)===P3?g1t(i,c):K9.get(e)===k3?M1t(i,c):K9.get(e)===L3?Fg:void 0,interpolate:M=K9.get(e)===$l?h==null&&f!==void 0?a1:$v(h!==void 0?h:n==="cyclical"?"rainbow":"turbo"):u?Zy:ta,reverse:g}){if(p=Bh(p,n),(n==="cyclical"||n==="sequential")&&(n="linear"),typeof M!="function"&&(M=aF(M)),g=!!g,f!==void 0){const y=(c=Hc(c)).length,b=(f=Hc(f)).length;if(y!==b){if(M.length===1)throw new Error("invalid piecewise interpolator");M=G8(M,f),f=void 0}}if(M.length===1?(g&&(M=rF(M),g=!1),f===void 0&&(f=Float64Array.from(c,(y,b)=>b/(c.length-1)),f.length===2&&(f=Fg)),t.interpolate((f===Fg?_l:Hv)(M))):t.interpolate(M),l){const[y,b]=W9(c);(y>0||b<0)&&(c=Bf(c),(uh(c)||1)===Math.sign(y)?c[0]=0:c[c.length-1]=0)}return g&&(c=w6(c)),t.domain(c).unknown(d),a&&(t.nice(o1t(a,n)),c=t.domain()),f!==void 0&&t.range(f),o&&t.clamp(o),{type:n,domain:c,range:f,scale:t,interpolate:M,interval:p}}function o1t(e,t){return e===!0?void 0:typeof e=="number"?e:fut(e,t)}function s1t(e,t,i){return N3(e,s3(),t,i)}function l1t(e,t,i){return oF(e,t,{...i,exponent:.5})}function oF(e,t,{exponent:i=1,...n}){return N3(e,nD().exponent(i),t,{...n,type:"pow"})}function c1t(e,t,{base:i=10,domain:n=y1t(t),...a}){return N3(e,ZR().base(i),t,{...a,domain:n})}function u1t(e,t,{constant:i=1,...n}){return N3(e,eD().constant(i),t,n)}function d1t(e,t,{range:i,quantiles:n=i===void 0?5:(i=[...i]).length,n:a=n,scheme:o="rdylbu",domain:l=A1t(t),unknown:c,interpolate:d,reverse:u}){return i===void 0&&(i=d!==void 0?Yo(d,a):K9.get(e)===$l?J5(o,a):void 0),l.length>0&&(l=rD(l,i===void 0?{length:a}:i).quantiles()),Gv(e,t,{domain:l,range:i,reverse:u,unknown:c})}function h1t(e,t,{range:i,n=i===void 0?5:(i=[...i]).length,scheme:a="rdylbu",domain:o=sF(e,t),unknown:l,interpolate:c,reverse:d}){const[u,h]=W9(o);let p;return i===void 0?(p=Hd(u,h,n),p[0]<=u&&p.splice(0,1),p[p.length-1]>=h&&p.pop(),n=p.length+1,i=c!==void 0?Yo(c,n):K9.get(e)===$l?J5(a,n):void 0):(p=Yo(ta(u,h),n+1).slice(1,-1),u instanceof Date&&(p=p.map(f=>new Date(f)))),uh(Hc(o))<0&&p.reverse(),Gv(e,t,{domain:p,range:i,reverse:d,unknown:l})}function Gv(e,t,{domain:i=[0],unknown:n,scheme:a="rdylbu",interpolate:o,range:l=o!==void 0?Yo(o,i.length+1):K9.get(e)===$l?J5(a,i.length+1):void 0,reverse:c}){i=Hc(i);const d=uh(i);if(!isNaN(d)&&!f1t(i,d))throw new Error(`the ${e} scale has a non-monotonic domain`);return c&&(l=w6(l)),{type:"threshold",scale:aD(d<0?w6(i):i,l===void 0?[]:l).unknown(n),domain:i,range:l}}function f1t(e,t){for(let i=1,n=e.length,a=e[0];i<n;++i){const o=qf(a,a=e[i]);if(o!==0&&o!==t)return!1}return!0}function m1t(e){return{type:"identity",scale:Out(K9.get(e))?qR():t=>t}}function Lf(e,t=yN){return e.length?[Hr(e,({value:i})=>i===void 0?i:Hr(i,t)),v9(e,({value:i})=>i===void 0?i:v9(i,t))]:[0,1]}function sF(e,t){const i=K9.get(e);return(i===P3||i===L3||i===k3?p1t:Lf)(t)}function p1t(e){return[0,e.length?v9(e,({value:t})=>t===void 0?t:v9(t,yN)):1]}function g1t(e,t){const i=e.find(({radius:l})=>l!==void 0);if(i!==void 0)return[0,i.radius];const n=Vd(e,.5,({value:l})=>l===void 0?NaN:Vd(l,.25,B5)),a=t.map(l=>3*Math.sqrt(l/n)),o=30/v9(a);return o<1?a.map(l=>l*o):a}function M1t(e,t){const i=Qd(e,({value:o})=>o===void 0?NaN:Qd(o,Math.abs)),n=t.map(o=>12*o/i),a=60/v9(n);return a<1?n.map(o=>o*a):n}function y1t(e){for(const{value:t}of e)if(t!==void 0)for(let i of t){if(i>0)return Lf(e,B5);if(i<0)return Lf(e,Ev)}return[1,10]}function A1t(e){const t=[];for(const{value:i}of e)if(i!==void 0)for(const n of i)t.push(n);return t}function Hv(e){return(t,i)=>n=>e(t+n*(i-t))}let Ay=0,vy;function v1t(){const e=Ay;return Ay=0,vy=void 0,e}function Sl(e){e!==vy&&(vy=e,console.warn(e),++Ay)}function $5(e,t,i,n,{type:a,nice:o,clamp:l,domain:c=Lf(n),unknown:d,pivot:u=0,scheme:h,range:p,symmetric:f=!0,interpolate:M=K9.get(e)===$l?h==null&&p!==void 0?a1:$v(h!==void 0?h:"rdbu"):ta,reverse:g}){u=+u,c=Hc(c);let[y,b]=c;if(c.length>2&&Sl(`Warning: the diverging ${e} scale domain contains extra elements.`),qf(y,b)<0&&([y,b]=[b,y],g=!g),y=Math.min(y,u),b=Math.max(b,u),typeof M!="function"&&(M=aF(M)),p!==void 0&&(M=M.length===1?Hv(M)(...p):G8(M,p)),g&&(M=rF(M)),f){const v=i.apply(u),C=v-i.apply(y),w=i.apply(b)-v;C<w?y=i.invert(v-w):C>w&&(b=i.invert(v+C))}return t.domain([y,u,b]).unknown(d).interpolator(M),l&&t.clamp(l),o&&t.nice(o),{type:a,domain:[y,b],pivot:u,interpolate:M,scale:t}}function b1t(e,t,i){return $5(e,vD(),w1t,t,i)}function C1t(e,t,i){return lF(e,t,{...i,exponent:.5})}function lF(e,t,{exponent:i=1,...n}){return $5(e,_D().exponent(i=+i),x1t(i),t,{...n,type:"diverging-pow"})}function _1t(e,t,{base:i=10,pivot:n=1,domain:a=Lf(t,n<0?Ev:B5),...o}){return $5(e,bD().base(i=+i),O1t,t,{domain:a,pivot:n,...o})}function E1t(e,t,{constant:i=1,...n}){return $5(e,CD().constant(i=+i),T1t(i),t,n)}const w1t={apply(e){return e},invert(e){return e}},O1t={apply:Math.log,invert:Math.exp},S1t={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function x1t(e){return e===.5?S1t:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function T1t(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function cF(e,t,i,n){return N3(e,t,i,n)}function I1t(e,t,i){return cF(e,$Z(),t,i)}function B1t(e,t,i){return cF(e,GZ(),t,i)}const F3=Symbol("ordinal");function uF(e,t,i,{type:n,interval:a,domain:o,range:l,reverse:c,hint:d}){return a=Bh(a,n),o===void 0&&(o=hF(i,a,e)),(n==="categorical"||n===F3)&&(n="ordinal"),c&&(o=w6(o)),o=t.domain(o).domain(),l!==void 0&&(typeof l=="function"&&(l=l(o)),t.range(l)),{type:n,domain:o,range:l,scale:t,hint:d,interval:a}}function R1t(e,t,{type:i,interval:n,domain:a,range:o,scheme:l,unknown:c,...d}){n=Bh(n,i),a===void 0&&(a=hF(t,n,e));let u;if(K9.get(e)===F5)u=k1t(t),o=o===void 0?L1t(u):lr(o,kv);else if(K9.get(e)===$l&&(o===void 0&&(i==="ordinal"||i===F3)&&(o=n1t(a,l),o!==void 0&&(l=void 0)),l===void 0&&o===void 0&&(l=i==="ordinal"?"turbo":"observable10"),l!==void 0))if(o!==void 0){const h=$v(l),p=o[0],f=o[1]-o[0];o=({length:M})=>Yo(g=>h(p+f*g),M)}else o=nF(l);if(c===FM)throw new Error(`implicit unknown on ${e} scale is not supported`);return uF(e,cA().unknown(c),t,{...d,type:i,domain:a,range:o,hint:u})}function D1t(e,t,{align:i=.5,padding:n=.5,...a}){return dF(CY().align(i).padding(n),t,a,e)}function P1t(e,t,{align:i=.5,padding:n=.1,paddingInner:a=n,paddingOuter:o=e==="fx"||e==="fy"?0:n,...l}){return dF(W8().align(i).paddingInner(a).paddingOuter(o),t,l,e)}function dF(e,t,i,n){let{round:a}=i;return a!==void 0&&e.round(a=!!a),e=uF(n,e,t,i),e.round=a,e}function hF(e,t,i){const n=new Yf;for(const{value:a,domain:o}of e){if(o!==void 0)return o();if(a!==void 0)for(const l of a)n.add(l)}if(t!==void 0){const[a,o]=W9(n).map(t.floor,t);return t.range(a,t.offset(o))}if(n.size>1e4&&K9.get(i)===Os)throw new Error(`implicit ordinal domain of ${i} scale has more than 10,000 values`);return C6(n,is)}function YO(e,t){let i;for(const{hint:n}of e){const a=n==null?void 0:n[t];if(a!==void 0){if(i===void 0)i=a;else if(i!==a)return}}return i}function k1t(e){return{fill:YO(e,"fill"),stroke:YO(e,"stroke")}}function L1t(e){return ia(e.fill)?dtt:utt}function by(e,{label:t,inset:i=0,insetTop:n=i,insetRight:a=i,insetBottom:o=i,insetLeft:l=i,round:c,nice:d,clamp:u,zero:h,align:p,padding:f,projection:M,facet:{label:g=t}={},...y}={}){const b={};for(const[v,C]of e){const w=y[v],_=J1t(v,C,{round:K9.get(v)===Os?c:void 0,nice:d,clamp:u,zero:h,align:p,padding:f,projection:M,...w});if(_){let{label:E=v==="fx"||v==="fy"?g:t,percent:S,transform:I,inset:T,insetTop:k=T!==void 0?T:v==="y"?n:0,insetRight:D=T!==void 0?T:v==="x"?a:0,insetBottom:N=T!==void 0?T:v==="y"?o:0,insetLeft:P=T!==void 0?T:v==="x"?l:0}=w||{};if(I==null)I=void 0;else if(typeof I!="function")throw new Error("invalid scale transform; not a function");_.percent=!!S,_.label=E===void 0?F1t(C,_):E,_.transform=I,v==="x"||v==="fx"?(_.insetLeft=+P,_.insetRight=+D):(v==="y"||v==="fy")&&(_.insetTop=+k,_.insetBottom=+N),b[v]=_}}return b}function ZO(e){const t={},i={scales:t};for(const[n,a]of Object.entries(e)){const{scale:o,type:l,interval:c,label:d}=a;t[n]=Q1t(a),i[n]=o,o.type=l,c!=null&&(o.interval=c),d!=null&&(o.label=d)}return i}function N1t(e,t){const{x:i,y:n,fx:a,fy:o}=e,l=a||o?Vv(t):t;a&&tS(a,l),o&&eS(o,l);const c=a||o?mF(e,t):t;i&&tS(i,c),n&&eS(n,c)}function F1t(e=[],t){let i;for(const{label:n}of e)if(n!==void 0){if(i===void 0)i=n;else if(i!==n)return}if(i!==void 0)return!b1(t)&&t.percent&&(i=`${i} (%)`),{inferred:!0,toString:()=>i}}function fF(e){return Math.sign(uh(e.domain()))*Math.sign(uh(e.range()))}function Vv(e){const{marginTop:t,marginRight:i,marginBottom:n,marginLeft:a,width:o,height:l,facet:{marginTop:c,marginRight:d,marginBottom:u,marginLeft:h}}=e;return{marginTop:Math.max(t,c),marginRight:Math.max(i,d),marginBottom:Math.max(n,u),marginLeft:Math.max(a,h),width:o,height:l}}function mF({fx:e,fy:t},i){const{marginTop:n,marginRight:a,marginBottom:o,marginLeft:l,width:c,height:d}=Vv(i);return{marginTop:n,marginRight:a,marginBottom:o,marginLeft:l,width:e?e.scale.bandwidth()+l+a:c,height:t?t.scale.bandwidth()+n+o:d,facet:{width:c,height:d}}}function tS(e,t){if(e.range===void 0){const{insetLeft:i,insetRight:n}=e,{width:a,marginLeft:o=0,marginRight:l=0}=t,c=o+i,d=a-l-n;e.range=[c,Math.max(c,d)],b1(e)||(e.range=gF(e)),e.scale.range(e.range)}pF(e)}function eS(e,t){if(e.range===void 0){const{insetTop:i,insetBottom:n}=e,{height:a,marginTop:o=0,marginBottom:l=0}=t,c=o+i,d=a-l-n;e.range=[Math.max(c,d),c],b1(e)?e.range.reverse():e.range=gF(e),e.scale.range(e.range)}pF(e)}function pF(e){e.round===void 0&&G1t(e)&&U1t(e)<=30&&e.scale.round(!0)}function U1t({scale:e}){const t=e.domain().length,[i,n]=e.range(),a=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),l=t-a,c=Math.abs(n-i)/Math.max(1,l+o*2);return(c-Math.floor(c))*l}function gF(e){const t=e.scale.domain().length+MF(e);if(!(t>2))return e.range;const[i,n]=e.range;return Array.from({length:t},(a,o)=>i+o/(t-1)*(n-i))}function J1t(e,t=[],i={}){const n=$1t(e,t,i);if(i.type===void 0&&i.domain===void 0&&i.range===void 0&&i.interval==null&&e!=="fx"&&e!=="fy"&&b1({type:n})){const a=t.map(({value:o})=>o).filter(o=>o!==void 0);a.some(Ja)?Sl(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${sd(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${sd(n)}".`):a.some(gut)?Sl(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${sd(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${sd(n)}".`):a.some(Mut)&&Sl(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${sd(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${sd(n)}".`)}switch(i.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":i=J4(t,i,ws);break;case"identity":switch(K9.get(e)){case Os:i=J4(t,i,ws);break;case F5:i=J4(t,i,H1t);break}break;case"utc":case"time":i=J4(t,i,TN);break}switch(n){case"diverging":return b1t(e,t,i);case"diverging-sqrt":return C1t(e,t,i);case"diverging-pow":return lF(e,t,i);case"diverging-log":return _1t(e,t,i);case"diverging-symlog":return E1t(e,t,i);case"categorical":case"ordinal":case F3:return R1t(e,t,i);case"cyclical":case"sequential":case"linear":return s1t(e,t,i);case"sqrt":return l1t(e,t,i);case"threshold":return Gv(e,t,i);case"quantile":return d1t(e,t,i);case"quantize":return h1t(e,t,i);case"pow":return oF(e,t,i);case"log":return c1t(e,t,i);case"symlog":return u1t(e,t,i);case"utc":return B1t(e,t,i);case"time":return I1t(e,t,i);case"point":return D1t(e,t,i);case"band":return P1t(e,t,i);case"identity":return m1t(e);case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function sd(e){return typeof e=="symbol"?e.description:e}function iS(e){return typeof e=="string"?`${e}`.toLowerCase():e}const nS={toString:()=>"projection"};function $1t(e,t,{type:i,domain:n,range:a,scheme:o,pivot:l,projection:c}){if(i=iS(i),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&c!=null&&(i=nS);for(const u of t){const h=iS(u.type);if(h!==void 0){if(i===void 0)i=h;else if(i!==h)throw new Error(`scale incompatible with channel: ${i} !== ${h}`)}}if(i===nS)return;if(i!==void 0)return i;if(n===void 0&&!t.some(({value:u})=>u!==void 0))return;const d=K9.get(e);if(d===P3)return"sqrt";if(d===L3||d===k3)return"linear";if(d===F5)return"ordinal";if((n||a||[]).length>2)return Ug(d);if(n!==void 0){if(GO(n))return Ug(d);if(Ja(n))return"utc"}else{const u=t.map(({value:h})=>h).filter(h=>h!==void 0);if(u.some(GO))return Ug(d);if(u.some(Ja))return"utc"}if(d===$l){if(l!=null||a1t(o))return"diverging";if(i1t(o))return"categorical"}return"linear"}function Ug(e){switch(e){case Os:return"point";case $l:return F3;default:return"ordinal"}}function b1({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===F3}function MF({type:e}){return e==="threshold"}function G1t({type:e}){return e==="point"||e==="band"}function ks(e){if(e===void 0)return!0;const t=e.domain(),i=e(t[0]);for(let n=1,a=t.length;n<a;++n)if(e(t[n])-i)return!1;return!0}function J4(e,{domain:t,...i},n){var a;for(const o of e)o.value!==void 0&&(t===void 0&&(t=(a=o.value)==null?void 0:a.domain),o.value=n(o.value));return{domain:t===void 0?t:n(t),...i}}function H1t(e){return lr(e,kv)}function V1t(e){return t=>{if(!K9.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function Q1t({scale:e,type:t,domain:i,range:n,interpolate:a,interval:o,transform:l,percent:c,pivot:d}){if(t==="identity")return{type:"identity",apply:h=>h,invert:h=>h};const u=e.unknown?e.unknown():void 0;return{type:t,domain:Bf(i),...n!==void 0&&{range:Bf(n)},...l!==void 0&&{transform:l},...c&&{percent:c},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...a!==void 0&&{interpolate:a},...e.clamp&&{clamp:e.clamp()},...d!==void 0&&{pivot:d,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:h=>e(h),...e.invert&&{invert:h=>e.invert(h)}}}function z1t(e,t){const{fx:i,fy:n}=by(e,t),a=i==null?void 0:i.scale.domain(),o=n==null?void 0:n.scale.domain();return a&&o?mj(a,o).map(([l,c],d)=>({x:l,y:c,i:d})):a?a.map((l,c)=>({x:l,i:c})):o?o.map((l,c)=>({y:l,i:c})):void 0}function j1t(e,{x:t,y:i}){return t&&(t=Cy(t)),i&&(i=Cy(i)),e.filter(t&&i?n=>t.has(n.x)&&i.has(n.y):t?n=>t.has(n.x):n=>i.has(n.y)).sort(t&&i?(n,a)=>t.get(n.x)-t.get(a.x)||i.get(n.y)-i.get(a.y):t?(n,a)=>t.get(n.x)-t.get(a.x):(n,a)=>i.get(n.y)-i.get(a.y))}function Qv(e,{fx:t,fy:i}){const n=Jl(e),a=t==null?void 0:t.value,o=i==null?void 0:i.value;return t&&i?wd(n,l=>(l.fx=a[l[0]],l.fy=o[l[0]],l),l=>a[l],l=>o[l]):t?wd(n,l=>(l.fx=a[l[0]],l),l=>a[l]):wd(n,l=>(l.fy=o[l[0]],l),l=>o[l])}function W1t(e,t,{marginTop:i,marginLeft:n}){return e&&t?({x:a,y:o})=>`translate(${e(a)-n},${t(o)-i})`:e?({x:a})=>`translate(${e(a)-n},0)`:({y:a})=>`translate(0,${t(a)-i})`}function K1t(e){const t=[],i=new Uint32Array(Rc(e,n=>n.length));for(const n of e){let a=0;for(const o of e)n!==o&&(i.set(o,a),a+=o.length);t.push(i.slice(0,a))}return t}const q1t=new Map([["top",Jg],["right",Hg],["bottom",$g],["left",Gg],["top-left",$4(Jg,Gg)],["top-right",$4(Jg,Hg)],["bottom-left",$4($g,Gg)],["bottom-right",$4($g,Hg)],["top-empty",Z1t],["right-empty",idt],["bottom-empty",tdt],["left-empty",edt],["empty",ndt]]);function X1t(e){if(e==null)return null;const t=q1t.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const rS=new WeakMap;function Cy(e){let t=rS.get(e);return t||rS.set(e,t=new i1(lr(e,(i,n)=>[i,n]))),t}function Zc(e,t){return Cy(e).get(t)}function Y1t(e,t,i){return t=El(t),i=El(i),e.find(n=>Object.is(El(n.x),t)&&Object.is(El(n.y),i))}function G5(e,t,i){var n;return(n=Y1t(e,t,i))==null?void 0:n.empty}function Jg(e,{y:t},{y:i}){return t?Zc(t,i)===0:!0}function $g(e,{y:t},{y:i}){return t?Zc(t,i)===t.length-1:!0}function Gg(e,{x:t},{x:i}){return t?Zc(t,i)===0:!0}function Hg(e,{x:t},{x:i}){return t?Zc(t,i)===t.length-1:!0}function Z1t(e,{y:t},{x:i,y:n,empty:a}){if(a)return!1;if(!t)return;const o=Zc(t,n);if(o>0)return G5(e,i,t[o-1])}function tdt(e,{y:t},{x:i,y:n,empty:a}){if(a)return!1;if(!t)return;const o=Zc(t,n);if(o<t.length-1)return G5(e,i,t[o+1])}function edt(e,{x:t},{x:i,y:n,empty:a}){if(a)return!1;if(!t)return;const o=Zc(t,i);if(o>0)return G5(e,t[o-1],n)}function idt(e,{x:t},{x:i,y:n,empty:a}){if(a)return!1;if(!t)return;const o=Zc(t,i);if(o<t.length-1)return G5(e,t[o+1],n)}function ndt(e,t,{empty:i}){return i}function $4(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function Vg(e,{channels:{fx:t,fy:i},groups:n}){return t&&i?e.map(({x:a,y:o})=>{var l;return((l=n.get(a))==null?void 0:l.get(o))??[]}):t?e.map(({x:a})=>n.get(a)??[]):e.map(({y:a})=>n.get(a)??[])}const yF=Math.PI,ll=2*yF,Qg=.618;function rdt({projection:e,inset:t=0,insetTop:i=t,insetRight:n=t,insetBottom:a=t,insetLeft:o=t}={},l){if(e==null)return;if(typeof e.stream=="function")return e;let c,d,u="frame";if(Ul(e)){let E;if({type:e,domain:d,inset:E,insetTop:i=E!==void 0?E:i,insetRight:n=E!==void 0?E:n,insetBottom:a=E!==void 0?E:a,insetLeft:o=E!==void 0?E:o,clip:u=u,...c}=e,e==null)return}typeof e!="function"&&({type:e}=_y(e));const{width:h,height:p,marginLeft:f,marginRight:M,marginTop:g,marginBottom:y}=l,b=h-f-M-o-n,v=p-g-y-i-a;if(e=e==null?void 0:e({width:b,height:v,clip:u,...c}),e==null)return;u=adt(u,f,g,h-M,p-y);let C=f+o,w=g+i,_;if(d!=null){const[[E,S],[I,T]]=n3(e).bounds(d),k=Math.min(b/(I-E),v/(T-S));k>0?(C-=(k*(E+I)-b)/2,w-=(k*(S+T)-v)/2,_=LM({point(D,N){this.stream.point(D*k+C,N*k+w)}})):Sl("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=C===0&&w===0?AF():LM({point(E,S){this.stream.point(E+C,S+w)}})),{stream:E=>e.stream(_.stream(u(E)))}}function _y(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Jo(iY,.7463,.4673);case"albers":return G4(FR,.7463,.4673);case"azimuthal-equal-area":return Jo(nY,4,4);case"azimuthal-equidistant":return Jo(rY,ll,ll);case"conic-conformal":return G4(sY,ll,ll);case"conic-equal-area":return G4(G6,6.1702,2.9781);case"conic-equidistant":return G4(uY,7.312,3.6282);case"equal-earth":return Jo(hY,5.4133,2.6347);case"equirectangular":return Jo(lY,ll,yF);case"gnomonic":return Jo(fY,3.4641,3.4641);case"identity":return{type:AF};case"reflect-y":return{type:odt};case"mercator":return Jo(aY,ll,ll);case"orthographic":return Jo(mY,2,2);case"stereographic":return Jo(pY,2,2);case"transverse-mercator":return Jo(gY,ll,ll);default:throw new Error(`unknown projection type: ${e}`)}}function adt(e,t,i,n,a){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return CR(t,i,n,a);default:throw new Error(`unknown projection clip type: ${e}`)}}function Jo(e,t,i){return{type:({width:n,height:a,rotate:o,precision:l=.15,clip:c})=>{var u,h,p;const d=e();return l!=null&&((u=d.precision)==null||u.call(d,l)),o!=null&&((h=d.rotate)==null||h.call(d,o)),typeof c=="number"&&((p=d.clipAngle)==null||p.call(d,c)),n!=null&&(d.scale(Math.min(n/t,a/i)),d.translate([n/2,a/2])),d},aspectRatio:i/t}}function G4(e,t,i){const{type:n,aspectRatio:a}=Jo(e,t,i);return{type:o=>{const{parallels:l,domain:c,width:d,height:u}=o,h=n(o);return l!=null&&(h.parallels(l),c===void 0&&d!=null&&h.fitSize([d,u],{type:"Sphere"})),h},aspectRatio:a}}const AF=_l({stream:e=>e}),odt=_l(LM({point(e,t){this.stream.point(e,-t)}}));function sdt(e,t,i,n){const a=i[e],o=i[t],l=a.length,c=i[e]=new Float64Array(l).fill(NaN),d=i[t]=new Float64Array(l).fill(NaN);let u;const h=n.stream({point(p,f){c[u]=p,d[u]=f}});for(u=0;u<l;++u)h.point(a[u],o[u])}function ldt({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Ul(e)&&(e=e.type),e!=null)}function cdt(e){if(typeof(e==null?void 0:e.stream)=="function")return Qg;if(Ul(e)){let t,i;if({domain:t,type:e,...i}=e,t!=null&&e!=null){const n=typeof e=="string"?_y(e).type:e,[[a,o],[l,c]]=n3(n({...i,width:100,height:100})).bounds(t),d=(c-o)/(l-a);return d&&isFinite(d)?d<.2?.2:d>5?5:d:Qg}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=_y(e);if(t)return t}return Qg}}function udt(e){const t=[],i=[],n={scale:"x",value:t},a={scale:"y",value:i},o={point(l,c){t.push(l),i.push(c)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const l of e.value)ku(l,o);return[n,a]}function zv(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:i}=e;return{document:t,clip:JN(i)}}function G9(e,{document:t}){return Od(U8(e).call(t.documentElement))}const Ey=Symbol("unset");function jv(e){return(e.length===1?ddt:hdt)(e)}function ddt(e){let t,i=Ey;return n=>(Object.is(i,n)||(i=n,t=e(n)),t)}function hdt(e){let t,i;return(...n)=>(((i==null?void 0:i.length)!==n.length||i.some((a,o)=>!Object.is(a,n[o])))&&(i=n,t=e(...n)),t)}const fdt=jv(e=>new Intl.NumberFormat(e));jv((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));jv((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function mdt(e="en-US"){const t=fdt(e);return i=>i!=null&&!isNaN(i)?t.format(i):void 0}function pdt(e){return Zct(e,"Invalid Date")}function gdt(e="en-US"){const t=mdt(e);return i=>(i instanceof Date?pdt:typeof i=="number"?t:ba)(i)}const mh=gdt(),ka=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Mdt=0,ydt=0;function vF(){return`plot-clip-${++Mdt}`}function Adt(){return`plot-pattern-${++ydt}`}function vdt(e,{title:t,href:i,ariaLabel:n,ariaDescription:a,ariaHidden:o,target:l,fill:c,fillOpacity:d,stroke:u,strokeWidth:h,strokeOpacity:p,strokeLinejoin:f,strokeLinecap:M,strokeMiterlimit:g,strokeDasharray:y,strokeDashoffset:b,opacity:v,mixBlendMode:C,imageFilter:w,paintOrder:_,pointerEvents:E,shapeRendering:S,channels:I},{ariaLabel:T,fill:k="currentColor",fillOpacity:D,stroke:N="none",strokeOpacity:P,strokeWidth:F,strokeLinecap:U,strokeLinejoin:V,strokeMiterlimit:z,paintOrder:G}){k===null&&(c=null,d=null),N===null&&(u=null,p=null),ia(k)?!ia(N)&&(!ia(c)||I!=null&&I.fill)&&(N="none"):ia(N)&&(!ia(u)||I!=null&&I.stroke)&&(k="none");const[H,J]=Bo(c,k),[Z,j]=_a(d,D),[W,et]=Bo(u,N),[dt,ht]=_a(p,P),[st,St]=_a(v);Pf(et)||(h===void 0&&(h=F),M===void 0&&(M=U),f===void 0&&(f=V),g===void 0&&!but(f)&&(g=z),!Pf(J)&&_===void 0&&(_=G));const[At,xt]=_a(h);return k!==null&&(e.fill=Jr(J,"currentColor"),e.fillOpacity=R2(j,1)),N!==null&&(e.stroke=Jr(et,"none"),e.strokeWidth=R2(xt,1),e.strokeOpacity=R2(ht,1),e.strokeLinejoin=Jr(f,"miter"),e.strokeLinecap=Jr(M,"butt"),e.strokeMiterlimit=R2(g,4),e.strokeDasharray=Jr(y,"none"),e.strokeDashoffset=Jr(b,"0")),e.target=ba(l),e.ariaLabel=ba(T),e.ariaDescription=ba(a),e.ariaHidden=ba(o),e.opacity=R2(St,1),e.mixBlendMode=Jr(C,"normal"),e.imageFilter=Jr(w,"none"),e.paintOrder=Jr(_,"normal"),e.pointerEvents=Jr(E,"auto"),e.shapeRendering=Jr(S,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:i,optional:!0,filter:null},ariaLabel:{value:n,optional:!0,filter:null},fill:{value:H,scale:"auto",optional:!0},fillOpacity:{value:Z,scale:"auto",optional:!0},stroke:{value:W,scale:"auto",optional:!0},strokeOpacity:{value:dt,scale:"auto",optional:!0},strokeWidth:{value:At,optional:!0},opacity:{value:st,scale:"auto",optional:!0}}}function bdt(e,t){t&&e.filter(i=>_v(t[i])).append("title").call(_dt,t)}function Cdt(e,t){t&&e.filter(([i])=>_v(t[i])).append("title").call(Edt,t)}function _dt(e,t){t&&e.text(i=>mh(t[i]))}function Edt(e,t){t&&e.text(([i])=>mh(t[i]))}function oo(e,{target:t,tip:i},{ariaLabel:n,title:a,fill:o,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:u,opacity:h,href:p}){n&&Qn(e,"aria-label",f=>n[f]),o&&Qn(e,"fill",f=>o[f]),l&&Qn(e,"fill-opacity",f=>l[f]),c&&Qn(e,"stroke",f=>c[f]),d&&Qn(e,"stroke-opacity",f=>d[f]),u&&Qn(e,"stroke-width",f=>u[f]),h&&Qn(e,"opacity",f=>h[f]),p&&EF(e,f=>p[f],t),i||bdt(e,a)}function bF(e,{target:t,tip:i},{ariaLabel:n,title:a,fill:o,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:u,opacity:h,href:p}){n&&Qn(e,"aria-label",([f])=>n[f]),o&&Qn(e,"fill",([f])=>o[f]),l&&Qn(e,"fill-opacity",([f])=>l[f]),c&&Qn(e,"stroke",([f])=>c[f]),d&&Qn(e,"stroke-opacity",([f])=>d[f]),u&&Qn(e,"stroke-width",([f])=>u[f]),h&&Qn(e,"opacity",([f])=>h[f]),p&&EF(e,([f])=>p[f],t),i||Cdt(e,a)}function wdt({ariaLabel:e,title:t,fill:i,fillOpacity:n,stroke:a,strokeOpacity:o,strokeWidth:l,opacity:c,href:d},{tip:u}){return[e,u?void 0:t,i,n,a,o,l,c,d].filter(h=>h!==void 0)}function Odt(e,t,i){const n=Zf(e,a=>t[a]);return i===void 0&&n.size>1+e.length>>1&&Sl("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),n.values()}function*CF(e,t,i,n){const{z:a}=i,{z:o}=n,l=wdt(n,i),c=[...t,...l];for(const d of o?Odt(e,o,a):[e]){let u,h;t:for(const p of d){for(const f of c)if(!io(f[p])){h&&h.push(-1);continue t}if(u===void 0){h&&(yield h),u=l.map(f=>El(f[p])),h=[p];continue}h.push(p);for(let f=0;f<l.length;++f)if(El(l[f][p])!==u[f]){yield h,u=l.map(g=>El(g[p])),h=[p];continue t}}h&&(yield h)}}function Sdt(e,t,i,n){let a;const{clip:o=n.clip}=t;switch(o){case"frame":{e=G9("svg:g",n).each(function(){this.appendChild(e.node()),e.node=()=>this}),a=xdt(n,i);break}case"sphere":{a=Tdt(n);break}}Qn(e,"aria-label",t.ariaLabel),Qn(e,"aria-description",t.ariaDescription),Qn(e,"aria-hidden",t.ariaHidden),Qn(e,"clip-path",a)}function _F(e){const t=new WeakMap;return(i,n)=>{let a=t.get(i);if(!a){const o=vF();Od(i.ownerSVGElement).append("clipPath").attr("id",o).call(e,i,n),t.set(i,a=`url(#${o})`)}return a}}const xdt=_F((e,t,i)=>{const{width:n,height:a,marginLeft:o,marginRight:l,marginTop:c,marginBottom:d}=i;e.append("rect").attr("x",o).attr("y",c).attr("width",n-l-o).attr("height",a-c-d)}),Tdt=_F((e,t)=>{const{projection:i}=t;if(!i)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",n3(i)({type:"Sphere"}))});function $a(e,t,i,n){Sdt(e,t,i,n),Qn(e,"class",t.className),Qn(e,"fill",t.fill),Qn(e,"fill-opacity",t.fillOpacity),Qn(e,"stroke",t.stroke),Qn(e,"stroke-width",t.strokeWidth),Qn(e,"stroke-opacity",t.strokeOpacity),Qn(e,"stroke-linejoin",t.strokeLinejoin),Qn(e,"stroke-linecap",t.strokeLinecap),Qn(e,"stroke-miterlimit",t.strokeMiterlimit),Qn(e,"stroke-dasharray",t.strokeDasharray),Qn(e,"stroke-dashoffset",t.strokeDashoffset),Qn(e,"shape-rendering",t.shapeRendering),Qn(e,"filter",t.imageFilter),Qn(e,"paint-order",t.paintOrder);const{pointerEvents:a=n.pointerSticky===!1?"none":void 0}=t;Qn(e,"pointer-events",a)}function la(e,t){Idt(e,"mix-blend-mode",t.mixBlendMode),Qn(e,"opacity",t.opacity)}function EF(e,t,i){e.each(function(n){const a=t(n);if(a!=null){const o=this.ownerDocument.createElementNS(Dc.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Dc.xlink,"href",a),i!=null&&o.setAttribute("target",i),this.parentNode.insertBefore(o,this).appendChild(this)}})}function Qn(e,t,i){i!=null&&e.attr(t,i)}function Idt(e,t,i){i!=null&&e.style(t,i)}function wa(e,t,{x:i,y:n},a=ka,o=ka){a+=t.dx,o+=t.dy,i!=null&&i.bandwidth&&(a+=i.bandwidth()/2),n!=null&&n.bandwidth&&(o+=n.bandwidth()/2),(a||o)&&e.attr("transform",`translate(${a},${o})`)}function Jr(e,t){if((e=ba(e))!==t)return e}function R2(e,t){if((e=Ir(e))!==t)return e}const Bdt=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function H5(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!Bdt.test(e))throw new Error(`invalid class name: ${e}`);return e}function Wv(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const i of e)Object.assign(i.style,t)}function U3({frameAnchor:e},{width:t,height:i,marginTop:n,marginRight:a,marginBottom:o,marginLeft:l}){return[/left$/.test(e)?l:/right$/.test(e)?t-a:(l+t-a)/2,/^top/.test(e)?n:/^bottom/.test(e)?i-o:(n+i-o)/2]}class ua{constructor(t,i={},n={},a){const{facet:o="auto",facetAnchor:l,fx:c,fy:d,sort:u,dx:h=0,dy:p=0,margin:f=0,marginTop:M=f,marginRight:g=f,marginBottom:y=f,marginLeft:b=f,className:v,clip:C=a==null?void 0:a.clip,channels:w,tip:_,render:E}=n;if(this.data=t,this.sort=hh(u)?u:null,this.initializer=fh(n).initializer,this.transform=this.initializer?n.transform:Dh(n).transform,o===null||o===!1?this.facet=null:(this.facet=ls(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===M6&&typeof c=="string"?[c]:c,this.fy=t===M6&&typeof d=="string"?[d]:d),this.facetAnchor=X1t(l),i=UN(i),w!==void 0&&(i={...Rdt(w),...i}),a!==void 0&&(i={...vdt(this,n,a),...i}),this.channels=Object.fromEntries(Object.entries(i).map(([S,I])=>{if(D5(I.value)){const{value:T,label:k=I.label,scale:D=I.scale}=I.value;I={...I,label:k,scale:D,value:T}}if(t===M6&&typeof I.value=="string"){const{value:T}=I;I={...I,value:[T]}}return[S,I]}).filter(([S,{value:I,optional:T}])=>{if(I!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${S}`)})),this.dx=+h,this.dy=+p,this.marginTop=+M,this.marginRight=+g,this.marginBottom=+y,this.marginLeft=+b,this.clip=JN(C),this.tip=Ddt(_),this.className=v?H5(v):null,this.facet==="super"){if(c||d)throw new Error("super-faceting cannot use fx or fy");for(const S in this.channels){const{scale:I}=i[S];if(!(I!=="x"&&I!=="y"))throw new Error("super-faceting cannot use x or y")}}E!=null&&(this.render=ph(E,this.render))}initialize(t,i,n){let a=dh(this.data);t===void 0&&a!=null&&(t=[Jl(a)]);const o=t;this.transform!=null&&({facets:t,data:a}=this.transform(a,t,n),a=dh(a)),t!==void 0&&(t.original=o);const l=qut(this.channels,a);return this.sort!=null&&Yut(a,t,l,i,this.sort),{data:a,facets:t,channels:l}}filter(t,i,n){for(const a in i){const{filter:o=io}=i[a];if(o!==null){const l=n[a];t=t.filter(c=>o(l[c]))}}return t}project(t,i,n){for(const a in t)if(t[a].scale==="x"&&/^x|x$/.test(a)){const o=a.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&sdt(a,o,i,n.projection)}}scale(t,i,n){const a=Xut(t,i);return n.projection&&this.project(t,a,n),a}}function Kv(...e){return e.plot=ua.prototype.plot,e}function ph(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(i,n,a,o,l,c){return e.call(this,i,n,a,o,l,(d,u,h,p,f)=>t.call(this,d,u,h,p,f,c))}}function Rdt(e){return Object.fromEntries(Object.entries(UN(e)).map(([t,i])=>(i=typeof i=="string"?{value:i,label:t}:Rh(i),i.filter===void 0&&i.scale==null&&(i={...i,filter:null}),[t,i])))}function Ddt(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?ls(e,"tip",["x","y","xy"]):e}function Ph(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:Ul(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function Pdt(e,t,i={}){let n=.5-ka,a=.5+ka,o=.5+ka,l=.5-ka;for(const{marginTop:y,marginRight:b,marginBottom:v,marginLeft:C}of t)y>n&&(n=y),b>a&&(a=b),v>o&&(o=v),C>l&&(l=C);let{margin:c,marginTop:d=c!==void 0?c:n,marginRight:u=c!==void 0?c:a,marginBottom:h=c!==void 0?c:o,marginLeft:p=c!==void 0?c:l}=i;d=+d,u=+u,h=+h,p=+p;let{width:f=640,height:M=kdt(e,i,{width:f,marginTopDefault:n,marginRightDefault:a,marginBottomDefault:o,marginLeftDefault:l})+Math.max(0,d-n+h-o)}=i;f=+f,M=+M;const g={width:f,height:M,marginTop:d,marginRight:u,marginBottom:h,marginLeft:p};if(e.fx||e.fy){let{margin:y,marginTop:b=y!==void 0?y:d,marginRight:v=y!==void 0?y:u,marginBottom:C=y!==void 0?y:h,marginLeft:w=y!==void 0?y:p}=i.facet??{};b=+b,v=+v,C=+C,w=+w,g.facet={marginTop:b,marginRight:v,marginBottom:C,marginLeft:w}}return g}function kdt({x:e,y:t,fy:i,fx:n},{projection:a,aspectRatio:o},{width:l,marginTopDefault:c,marginRightDefault:d,marginBottomDefault:u,marginLeftDefault:h}){const p=i&&i.scale.domain().length||1,f=cdt(a);if(f){const g=n?n.scale.domain().length:1,y=(1.1*p-.1)/(1.1*g-.1)*f,b=Math.max(.1,Math.min(10,y));return Math.round((l-h-d)*b+c+u)}const M=t?b1(t)?t.scale.domain().length||1:Math.max(7,17/p):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const g=aS("y",t)/(aS("x",e)*o),y=n?n.scale.bandwidth():1,b=i?i.scale.bandwidth():1,v=y*(l-h-d)-e.insetLeft-e.insetRight;return(g*v+t.insetTop+t.insetBottom)/b+c+u}return!!(t||i)*Math.max(1,Math.min(60,M*p))*20+!!n*30+60}function aS(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:i,domain:n}=t;let a;switch(i){case"linear":case"utc":case"time":a=Number;break;case"pow":{const c=t.scale.exponent();a=d=>Math.pow(d,c);break}case"log":a=Math.log;break;case"point":case"band":return n.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${i}`)}const[o,l]=W9(n);return Math.abs(a(l)-a(o))}const oS=new WeakMap;function qv(e,t,{x:i,y:n,px:a,py:o,maxRadius:l=40,channels:c,render:d,...u}={}){return l=+l,a!=null&&(i??(i=null),c={...c,px:{value:a,scale:"x"}}),o!=null&&(n??(n=null),c={...c,py:{value:o,scale:"y"}}),{x:i,y:n,channels:c,...u,render:ph(function(h,p,f,M,g,y){g={...g,pointerSticky:!1};const b=g.ownerSVGElement,{data:v}=g.getMarkState(this);let C=oS.get(b);C||oS.set(b,C={sticky:!1,roots:[],renders:[]});let w=C.renders.push(et)-1;const{x:_,y:E,fx:S,fy:I}=p;let T=S?S(h.fx)-M.marginLeft:0,k=I?I(h.fy)-M.marginTop:0;_!=null&&_.bandwidth&&(T+=_.bandwidth()/2),E!=null&&E.bandwidth&&(k+=E.bandwidth()/2);const D=h.fi!=null;let N;if(D){let St=C.facetStates;St||(C.facetStates=St=new Map),N=St.get(this),N||St.set(this,N=new Map)}const[P,F]=U3(this,M),{px:U,py:V}=f,z=U?St=>U[St]:wF(f,P),G=V?St=>V[St]:OF(f,F);let H,J,Z,j;function W(St,At){if(D)if(j&&(j=cancelAnimationFrame(j)),St==null)N.delete(h.fi);else{N.set(h.fi,At),j=requestAnimationFrame(()=>{j=null;for(const[xt,gt]of N)if(gt<At||gt===At&&xt<h.fi){St=null;break}et(St)});return}et(St)}function et(St){if(H===St&&Z===C.sticky)return;H=St,Z=g.pointerSticky=C.sticky;const At=H==null?[]:[H];D&&(At.fx=h.fx,At.fy=h.fy,At.fi=h.fi);const xt=y(At,p,f,M,g);if(J){if(D){const gt=J.parentNode,yt=J.getAttribute("transform"),lt=xt.getAttribute("transform");yt?xt.setAttribute("transform",yt):xt.removeAttribute("transform"),lt?gt.setAttribute("transform",lt):gt.removeAttribute("transform"),xt.removeAttribute("aria-label"),xt.removeAttribute("aria-description"),xt.removeAttribute("aria-hidden")}J.replaceWith(xt)}if(C.roots[w]=J=xt,!(H==null&&(N==null?void 0:N.size)>1)){const gt=H==null?null:v1(v)?v[H]:v.get(H);g.dispatchValue(gt)}return xt}function dt(St){if(C.sticky||St.pointerType==="mouse"&&St.buttons===1)return;let[At,xt]=AK(St);At-=T,xt-=k;const gt=At<M.marginLeft||At>M.width-M.marginRight?1:e,yt=xt<M.marginTop||xt>M.height-M.marginBottom?1:t;let lt=null,zt=l*l;for(const kt of h){const Jt=gt*(z(kt)-At),Gt=yt*(G(kt)-xt),ce=Jt*Jt+Gt*Gt;ce<=zt&&(lt=kt,zt=ce)}if(lt!=null&&(e!==1||t!==1)){const kt=z(lt)-At,Jt=G(lt)-xt;zt=kt*kt+Jt*Jt}W(lt,zt)}function ht(St){St.pointerType==="mouse"&&H!=null&&(C.sticky&&C.roots.some(At=>At==null?void 0:At.contains(St.target))||(C.sticky?(C.sticky=!1,C.renders.forEach(At=>At(null))):(C.sticky=!0,et(H)),St.stopImmediatePropagation()))}function st(St){St.pointerType==="mouse"&&(C.sticky||W(null))}return b.addEventListener("pointerenter",dt),b.addEventListener("pointermove",dt),b.addEventListener("pointerdown",ht),b.addEventListener("pointerleave",st),et(null)},d)}}function Ldt(e){return qv(1,1,e)}function Ndt(e){return qv(1,.01,e)}function sS(e){return qv(.01,1,e)}function wF({x1:e,x2:t,x:i=e},n){return e&&t?a=>(e[a]+t[a])/2:i?a=>i[a]:()=>n}function OF({y1:e,y2:t,y:i=e},n){return e&&t?a=>(e[a]+t[a])/2:i?a=>i[a]:()=>n}function SF(e){return b1(e)&&e.interval===void 0?void 0:"tabular-nums"}function Fdt(e,t){let{label:i=e.label,tickSize:n=6,width:a=240,height:o=44+n,marginTop:l=18,marginRight:c=0,marginBottom:d=16+n,marginLeft:u=0,style:h,ticks:p=(a-u-c)/64,tickFormat:f,fontVariant:M=SF(e),round:g=!0,opacity:y,className:b}=t;const v=zv(t);b=H5(b),y=_a(y)[1],f===null&&(f=()=>null);const C=G9("svg",v).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",a).attr("height",o).attr("viewBox",`0 0 ${a} ${o}`).call(P=>P.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(Wv,h);let w=P=>P.selectAll(".tick line").attr("y1",l+d-o),_;const E=g?(P,F)=>P.rangeRound(F):(P,F)=>P.range(F),{type:S,domain:I,range:T,interpolate:k,scale:D,pivot:N}=e;if(k){const P=T===void 0?k:G8(k.length===1?Hv(k):k,T);_=E(D.copy(),Yo(ta(u,a-c),Math.min(I.length+(N!==void 0),T===void 0?1/0:T.length)));const F=256,U=v.document.createElement("canvas");U.width=F,U.height=1;const V=U.getContext("2d");for(let z=0,G=F-1;z<F;++z)V.fillStyle=P(z/G),V.fillRect(z,0,1,1);C.append("image").attr("opacity",y).attr("x",u).attr("y",l).attr("width",a-u-c).attr("height",o-l-d).attr("preserveAspectRatio","none").attr("xlink:href",U.toDataURL())}else if(S==="threshold"){const P=I,F=f===void 0?U=>U:typeof f=="string"?bh(f):f;_=E(s3().domain([-1,T.length-1]),[u,a-c]),C.append("g").attr("fill-opacity",y).selectAll().data(T).enter().append("rect").attr("x",(U,V)=>_(V-1)).attr("y",l).attr("width",(U,V)=>_(V)-_(V-1)).attr("height",o-l-d).attr("fill",U=>U),p=lr(P,(U,V)=>V),f=U=>F(P[U],U)}else _=E(W8().domain(I),[u,a-c]),C.append("g").attr("fill-opacity",y).selectAll().data(I).enter().append("rect").attr("x",_).attr("y",l).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",o-l-d).attr("fill",D),w=()=>{};return C.append("g").attr("transform",`translate(0,${o-d})`).call(Lj(_).ticks(Array.isArray(p)?null:p,typeof f=="string"?f:void 0).tickFormat(typeof f=="function"?f:void 0).tickSize(n).tickValues(Array.isArray(p)?p:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Jr(M,"normal")).call(w).call(P=>P.select(".domain").remove()),i!==void 0&&C.append("text").attr("x",u).attr("y",l-6).attr("fill","currentColor").attr("font-weight","bold").text(i),C.node()}const xF=Math.PI/180;function J3(e,{marker:t,markerStart:i=t,markerMid:n=t,markerEnd:a=t}={}){e.markerStart=zg(i),e.markerMid=zg(n),e.markerEnd=zg(a)}function zg(e){if(e==null||e===!1)return null;if(e===!0)return cS;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return lS("auto");case"arrow-reverse":return lS("auto-start-reverse");case"dot":return Udt;case"circle":case"circle-fill":return cS;case"circle-stroke":return Jdt;case"tick":return jg("auto");case"tick-x":return jg(90);case"tick-y":return jg(0)}throw new Error(`invalid marker: ${e}`)}function lS(e){return(t,i)=>G9("svg:marker",i).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Udt(e,t){return G9("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(i=>i.append("circle").attr("r",2.5)).node()}function cS(e,t){return G9("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(i=>i.append("circle").attr("r",3)).node()}function Jdt(e,t){return G9("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(i=>i.append("circle").attr("r",3)).node()}function jg(e){return(t,i)=>G9("svg:marker",i).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(n=>n.append("path").attr("d","M0,-3v6")).node()}let $dt=0;function V5(e,t,{stroke:i},n){return IF(e,t,i&&(a=>i[a]),null,n)}function Gdt(e,t,{stroke:i,z:n},a){return IF(e,t,i&&(([o])=>i[o]),n,a)}const wy=1,TF=2;function Hdt(e,t){const i=new Uint8Array(t.length),n=e.data().filter(o=>o.length>1),a=n.length;for(let o=0,l=Ey;o<a;++o){const c=n[o];if(c.length>1){const d=c[0];l!==(l=El(t[d]))&&(i[d]|=wy)}}for(let o=a-1,l=Ey;o>=0;--o){const c=n[o];if(c.length>1){const d=c[0];l!==(l=El(t[d]))&&(i[d]|=TF)}}return([o])=>i[o]}function IF(e,{markerStart:t,markerMid:i,markerEnd:n,stroke:a},o=()=>a,l,c){if(!t&&!i&&!n)return;const d=new Map,u=l&&Hdt(e,l);function h(p,f,M){return function(g){if(M&&!M(g))return;const y=o(g);let b=d.get(f);b||d.set(f,b=new Map);let v=b.get(y);if(!v){const C=this.parentNode.insertBefore(f(y,c),this),w=`plot-marker-${++$dt}`;C.setAttribute("id",w),b.set(y,v=`url(#${w})`)}this.setAttribute(p,v)}}t&&e.each(h("marker-start",t,u&&(p=>u(p)&wy))),i&&u&&e.each(h("marker-start",i,p=>!(u(p)&wy))),i&&e.each(h("marker-mid",i)),n&&e.each(h("marker-end",n,u&&(p=>u(p)&TF)))}function Q5({inset:e,insetLeft:t,insetRight:i,...n}={}){return[t,i]=BF(e,t,i),{inset:e,insetLeft:t,insetRight:i,...n}}function Xv({inset:e,insetTop:t,insetBottom:i,...n}={}){return[t,i]=BF(e,t,i),{inset:e,insetTop:t,insetBottom:i,...n}}function BF(e,t,i){return e===void 0&&t===void 0&&i===void 0?ka?[1,0]:[.5,.5]:[t,i]}function RF(e,{interval:t}){return e={...Rh(e)},e.interval=Rv(e.interval===void 0?t:e.interval),e}function z5(e,t,i,n){const{[e]:a,[`${e}1`]:o,[`${e}2`]:l}=i,{value:c,interval:d}=RF(a,i);if(c==null||d==null&&!n)return i;const u=Xc(a);if(d==null){let M;const g={transform:y=>M||(M=A9(y,c)),label:u};return{...i,[e]:void 0,[`${e}1`]:o===void 0?g:o,[`${e}2`]:l===void 0&&!(o===l&&n)?g:l}}let h,p;function f(M){return p!==void 0&&M===h?p:p=lr(A9(h=M,c),g=>d.floor(g))}return t({...i,[e]:void 0,[`${e}1`]:o===void 0?{transform:f,label:u}:o,[`${e}2`]:l===void 0?{transform:M=>f(M).map(g=>d.offset(g)),label:u}:l})}function DF(e,t,i){const{[e]:n}=i,{value:a,interval:o}=RF(n,i);return a==null||o==null?i:t({...i,[e]:{label:Xc(n),transform:l=>{const c=lr(A9(l,a),u=>o.floor(u)),d=c.map(u=>o.offset(u));return c.map(Ja(c)?(u,h)=>u==null||isNaN(u=+u)||(h=d[h],h==null)||isNaN(h=+h)?void 0:new Date((u+h)/2):(u,h)=>u==null||(h=d[h],h==null)?NaN:(+u+ +h)/2)}}})}function PF(e={}){return z5("x",Q5,e,!0)}function kF(e={}){return z5("y",Xv,e,!0)}function Yv(e={}){return z5("x",Q5,e)}function Zv(e={}){return z5("y",Xv,e)}function Vdt(e={}){return DF("x",Q5,e)}function LF(e={}){return DF("y",Xv,e)}const NF={ariaLabel:"rule",fill:null,stroke:"currentColor"};class Qdt extends ua{constructor(t,i={}){const{x:n,y1:a,y2:o,inset:l=0,insetTop:c=l,insetBottom:d=l}=i;super(t,{x:{value:n,scale:"x",optional:!0},y1:{value:a,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Ph(i,"x"),NF),this.insetTop=Ir(c),this.insetBottom=Ir(d),J3(this,i)}render(t,i,n,a,o){const{x:l,y:c}=i,{x:d,y1:u,y2:h}=n,{width:p,height:f,marginTop:M,marginRight:g,marginLeft:y,marginBottom:b}=a,{insetTop:v,insetBottom:C}=this;return G9("svg:g",o).call($a,this,a,o).call(wa,this,{x:d&&l},ka,0).call(w=>w.selectAll().data(t).enter().append("line").call(la,this).attr("x1",d?_=>d[_]:(y+p-g)/2).attr("x2",d?_=>d[_]:(y+p-g)/2).attr("y1",u&&!ks(c)?_=>u[_]+v:M+v).attr("y2",h&&!ks(c)?c.bandwidth?_=>h[_]+c.bandwidth()-C:_=>h[_]-C:f-b-C).call(oo,this,n).call(V5,this,n,o)).node()}}class zdt extends ua{constructor(t,i={}){const{x1:n,x2:a,y:o,inset:l=0,insetRight:c=l,insetLeft:d=l}=i;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:!0},x2:{value:a,scale:"x",optional:!0}},Ph(i,"y"),NF),this.insetRight=Ir(c),this.insetLeft=Ir(d),J3(this,i)}render(t,i,n,a,o){const{x:l,y:c}=i,{y:d,x1:u,x2:h}=n,{width:p,height:f,marginTop:M,marginRight:g,marginLeft:y,marginBottom:b}=a,{insetLeft:v,insetRight:C}=this;return G9("svg:g",o).call($a,this,a,o).call(wa,this,{y:d&&c},0,ka).call(w=>w.selectAll().data(t).enter().append("line").call(la,this).attr("x1",u&&!ks(l)?_=>u[_]+v:y+v).attr("x2",h&&!ks(l)?l.bandwidth?_=>h[_]+l.bandwidth()-C:_=>h[_]-C:p-g-C).attr("y1",d?_=>d[_]:(M+f-b)/2).attr("y2",d?_=>d[_]:(M+f-b)/2).call(oo,this,n).call(V5,this,n,o)).node()}}function q9(e,t){let{x:i=h9,y:n,y1:a,y2:o,...l}=Zv(t);return[a,o]=FF(n,a,o),new Qdt(e,{...l,x:i,y1:a,y2:o})}function T0(e,t){let{y:i=h9,x:n,x1:a,x2:o,...l}=Yv(t);return[a,o]=FF(n,a,o),new zdt(e,{...l,y:i,x1:a,x2:o})}function FF(e,t,i){if(e==null){if(t===void 0){if(i!==void 0)return[0,i]}else if(i===void 0)return[0,t]}else{if(t===void 0)return i===void 0?[0,e]:[e,i];if(i===void 0)return[e,t]}return[t,i]}function Nf(e,...t){let i=t.length;for(let n=0,a=!0;n<i;++n)typeof t[n]!="function"&&(a&&(e=e.slice(),a=!1),e.splice(n,2,e[n]+t[n]+e[n+1]),t.splice(n,1),--n,--i);return n=>{let a=e[0];for(let o=0;o<i;++o)a+=t[o](n)+e[o+1];return a}}const jdt={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},UF="";class tb extends ua{constructor(t,i={}){const{x:n,y:a,text:o=Yc(t)&&FN(t)?h9:Vs,frameAnchor:l,textAnchor:c=/right$/i.test(l)?"end":/left$/i.test(l)?"start":"middle",lineAnchor:d=/^top/i.test(l)?"top":/^bottom/i.test(l)?"bottom":"middle",lineHeight:u=1,lineWidth:h=1/0,textOverflow:p,monospace:f,fontFamily:M=f?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:y,fontVariant:b,fontWeight:v,rotate:C}=i,[w,_]=_a(C,0),[E,S]=Ydt(g);if(super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},fontSize:{value:E,optional:!0},rotate:{value:put(w),optional:!0},text:{value:o,filter:_v,optional:!0}},i,jdt),this.rotate=_,this.textAnchor=Jr(c,"middle"),this.lineAnchor=ls(d,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+h,this.textOverflow=JF(p),this.monospace=!!f,this.fontFamily=ba(M),this.fontSize=S,this.fontStyle=ba(y),this.fontVariant=ba(b),this.fontWeight=ba(v),this.frameAnchor=N5(l),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${h}`);this.splitLines=GF(this),this.clipLine=HF(this)}render(t,i,n,a,o){const{x:l,y:c}=i,{x:d,y:u,rotate:h,text:p,title:f,fontSize:M}=n,{rotate:g}=this,[y,b]=U3(this,a);return G9("svg:g",o).call($a,this,a,o).call($F,this,p,a).call(wa,this,{x:d&&l,y:u&&c}).call(v=>v.selectAll().data(t).enter().append("text").call(la,this).call(Wdt,this,p,f).attr("transform",Nf`translate(${d?C=>d[C]:y},${u?C=>u[C]:b})${h?C=>` rotate(${h[C]})`:g?` rotate(${g})`:""}`).call(Qn,"font-size",M&&(C=>M[C])).call(oo,this,n)).node()}}function JF(e){return e==null?null:ls(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Wdt(e,t,i,n){if(!i)return;const{lineAnchor:a,lineHeight:o,textOverflow:l,splitLines:c,clipLine:d}=t;e.each(function(u){const h=c(mh(i[u])??"").map(d),p=h.length,f=a==="top"?.71:a==="bottom"?1-p:(164-p*100)/200;if(p>1){let M=0;for(let g=0;g<p;++g){if(++M,!h[g])continue;const y=this.ownerDocument.createElementNS(Dc.svg,"tspan");y.setAttribute("x",0),g===M-1?y.setAttribute("y",`${(f+g)*o}em`):y.setAttribute("dy",`${M*o}em`),y.textContent=h[g],this.appendChild(y),M=0}}else f&&this.setAttribute("y",`${f*o}em`),this.textContent=h[0];if(l&&!n&&h[0]!==i[u]){const M=this.ownerDocument.createElementNS(Dc.svg,"title");M.textContent=i[u],this.appendChild(M)}})}function J0(e,{x:t,y:i,...n}={}){return n.frameAnchor===void 0&&([t,i]=D3(t,i)),new tb(e,{...n,x:t,y:i})}function Kdt(e,{x:t=h9,...i}={}){return new tb(e,LF({...i,x:t}))}function eb(e,{y:t=h9,...i}={}){return new tb(e,Vdt({...i,y:t}))}function $F(e,t,i){Qn(e,"text-anchor",t.textAnchor),Qn(e,"font-family",t.fontFamily),Qn(e,"font-size",t.fontSize),Qn(e,"font-style",t.fontStyle),Qn(e,"font-variant",t.fontVariant===void 0?qdt(i):t.fontVariant),Qn(e,"font-weight",t.fontWeight)}function qdt(e){return e&&(yut(e)||Ja(e))?"tabular-nums":void 0}const Xdt=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Ydt(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),Xdt.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function Zdt(e,t,i){const n=[];let a,o=0;for(const[l,c,d]of tht(e)){if(a===void 0&&(a=l),o>a&&i(e,a,c)>t&&(n.push(e.slice(a,o)+(e[o-1]===UF?"-":"")),a=l),d){n.push(e.slice(a,c)),a=void 0;continue}o=c}return n}function*tht(e){let t=0,i=0;const n=e.length;for(;i<n;){let a=1;switch(e[i]){case UF:case"-":++i,yield[t,i,!1],t=i;break;case" ":for(yield[t,i,!1];e[++i]===" ";);t=i;break;case"\r":e[i+1]===`
`&&++a;case`
`:yield[t,i,!0],i+=a,t=i;break;default:++i;break}}yield[t,i,!0]}const uS={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function ib(e,t=0,i=e.length){let n=0;for(let a=t;a<i;a=kh(e,a))n+=uS[e[a]]??(QF(e,a)?120:uS.e);return n}function nb(e,t=0,i=e.length){let n=0;for(let a=t;a<i;a=kh(e,a))n+=QF(e,a)?126:63;return n}function GF({monospace:e,lineWidth:t,textOverflow:i}){if(i!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const n=e?nb:ib,a=t*100;return o=>Zdt(o,a,n)}function HF({monospace:e,lineWidth:t,textOverflow:i}){if(i==null||t==1/0)return o=>o;const n=e?nb:ib,a=t*100;switch(i){case"clip-start":return o=>hS(o,a,n,"");case"clip-end":return o=>dS(o,a,n,"");case"ellipsis-start":return o=>hS(o,a,n,Rd);case"ellipsis-middle":return o=>eht(o,a,n,Rd);case"ellipsis-end":return o=>dS(o,a,n,Rd)}}const Rd="";function gh(e,t,i,n){const a=[];let o=0;for(let l=0,c=0,d=e.length;l<d;l=c){c=kh(e,l);const u=i(e,l,c);if(o+u>t){for(o+=n;o>t&&l>0;)c=l,l=a.pop(),o-=i(e,l,c);return[l,t-o]}o+=u,a.push(l)}return[-1,0]}function dS(e,t,i,n){e=e.trim();const a=i(n),[o]=gh(e,t,i,a);return o<0?e:e.slice(0,o).trimEnd()+n}function eht(e,t,i,n){e=e.trim();const a=i(e);if(a<=t)return e;const o=i(n)/2,[l,c]=gh(e,t/2,i,o),[d]=gh(e,a-t/2-c+o,i,-o);return d<0?n:e.slice(0,l).trimEnd()+n+e.slice(kh(e,d)).trimStart()}function hS(e,t,i,n){e=e.trim();const a=i(e);if(a<=t)return e;const o=i(n),[l]=gh(e,a-t+o,i,-o);return l<0?n:n+e.slice(kh(e,l)).trimStart()}const Oy=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,fS=new RegExp("\\p{Extended_Pictographic}","uy");function kh(e,t){return t+=iht(e,t)?2:1,rht(e,t)&&(t=Oy.lastIndex),nht(e,t)?kh(e,t+1):t}function VF(e,t){return e.charCodeAt(t)<128}function iht(e,t){const i=e.charCodeAt(t);if(i>=55296&&i<56320){const n=e.charCodeAt(t+1);return n>=56320&&n<57344}return!1}function nht(e,t){return e.charCodeAt(t)===8205}function rht(e,t){return VF(e,t)?!1:(Oy.lastIndex=t,Oy.test(e))}function QF(e,t){return VF(e,t)?!1:(fS.lastIndex=t,fS.test(e))}const aht={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},zF=3.5,oht=zF*5,jF={draw(e,t,i){const n=t*i/oht;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-n,n-t),e.lineTo(0,-t),e.lineTo(n,n-t)}},sht={draw(e,t,i){e.moveTo(-i,0),e.lineTo(0,-t),e.lineTo(i,0)}},lht=new Map([["arrow",jF],["spike",sht]]);function cht(e){return e&&typeof e.draw=="function"}function uht(e){if(cht(e))return e;const t=lht.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class WF extends ua{constructor(t,i={}){const{x:n,y:a,r:o=zF,length:l,rotate:c,shape:d=jF,anchor:u="middle",frameAnchor:h}=i,[p,f]=_a(l,12),[M,g]=_a(c,0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},length:{value:p,scale:"length",optional:!0},rotate:{value:M,optional:!0}},i,aht),this.r=+o,this.length=f,this.rotate=g,this.shape=uht(d),this.anchor=ls(u,"anchor",["start","middle","end"]),this.frameAnchor=N5(h)}render(t,i,n,a,o){const{x:l,y:c}=i,{x:d,y:u,length:h,rotate:p}=n,{length:f,rotate:M,anchor:g,shape:y,r:b}=this,[v,C]=U3(this,a);return G9("svg:g",o).call($a,this,a,o).call(wa,this,{x:d&&l,y:u&&c}).call(w=>w.selectAll().data(t).enter().append("path").call(la,this).attr("transform",Nf`translate(${d?_=>d[_]:v},${u?_=>u[_]:C})${p?_=>` rotate(${p[_]})`:M?` rotate(${M})`:""}${g==="start"?"":g==="end"?h?_=>` translate(0,${h[_]})`:` translate(0,${f})`:h?_=>` translate(0,${h[_]/2})`:` translate(0,${f/2})`}`).attr("d",h?_=>{const E=Ec();return y.draw(E,h[_],b),E}:(()=>{const _=Ec();return y.draw(_,f,b),_})()).call(oo,this,n)).node()}}function dht(e,t={}){const{x:i=h9,...n}=t;return new WF(e,{...n,x:i})}function hht(e,t={}){const{y:i=h9,...n}=t;return new WF(e,{...n,y:i})}function tu(e,t){return arguments.length<2&&!Yc(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function j5({anchor:e}={},t){return e===void 0?t[0]:ls(e,"anchor",t)}function KF(e){return j5(e,["left","right"])}function qF(e){return j5(e,["right","left"])}function XF(e){return j5(e,["bottom","top"])}function YF(e){return j5(e,["top","bottom"])}function Ro(){const[e,t]=tu(...arguments);return ZF("y",KF(t),e,t)}function fht(){const[e,t]=tu(...arguments);return ZF("fy",qF(t),e,t)}function rb(){const[e,t]=tu(...arguments);return tU("x",XF(t),e,t)}function mht(){const[e,t]=tu(...arguments);return tU("fx",YF(t),e,t)}function ZF(e,t,i,{color:n="currentColor",opacity:a=1,stroke:o=n,strokeOpacity:l=a,strokeWidth:c=1,fill:d=n,fillOpacity:u=a,textAnchor:h,textStroke:p,textStrokeOpacity:f,textStrokeWidth:M,tickSize:g=e==="y"?6:0,tickPadding:y,tickRotate:b,x:v,margin:C,marginTop:w=C===void 0?20:C,marginRight:_=C===void 0?t==="right"?40:0:C,marginBottom:E=C===void 0?20:C,marginLeft:S=C===void 0?t==="left"?40:0:C,label:I,labelAnchor:T,labelArrow:k,labelOffset:D,...N}){return g=Ir(g),y=Ir(y),b=Ir(b),T!==void 0&&(T=ls(T,"labelAnchor",["center","top","bottom"])),k=lU(k),Kv(g&&!ia(o)?pht(e,t,i,{stroke:o,strokeOpacity:l,strokeWidth:c,tickSize:g,tickPadding:y,tickRotate:b,x:v,...N}):null,ia(d)?null:Mht(e,t,i,{fill:d,fillOpacity:u,stroke:p,strokeOpacity:f,strokeWidth:M,textAnchor:h,tickSize:g,tickPadding:y,tickRotate:b,x:v,marginTop:w,marginRight:_,marginBottom:E,marginLeft:S,...N}),!ia(d)&&I!==null?J0([],rU({fill:d,fillOpacity:u,...N},function(P,F,U,V,z){const G=V[e],{marginTop:H,marginRight:J,marginBottom:Z,marginLeft:j}=e==="y"&&z.inset||z,W=T??(G.bandwidth?"center":"top"),et=D??(t==="right"?J:j)-3;return W==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=W,this.frameAnchor=`${W}-${t}`,this.rotate=0),this.dy=W==="top"?3-H:W==="bottom"?Z-3:0,this.dx=t==="right"?et:-et,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[sU(e,G,{anchor:t,label:I,labelAnchor:W,labelArrow:k})]}}}})):null)}function tU(e,t,i,{color:n="currentColor",opacity:a=1,stroke:o=n,strokeOpacity:l=a,strokeWidth:c=1,fill:d=n,fillOpacity:u=a,textAnchor:h,textStroke:p,textStrokeOpacity:f,textStrokeWidth:M,tickSize:g=e==="x"?6:0,tickPadding:y,tickRotate:b,y:v,margin:C,marginTop:w=C===void 0?t==="top"?30:0:C,marginRight:_=C===void 0?20:C,marginBottom:E=C===void 0?t==="bottom"?30:0:C,marginLeft:S=C===void 0?20:C,label:I,labelAnchor:T,labelArrow:k,labelOffset:D,...N}){return g=Ir(g),y=Ir(y),b=Ir(b),T!==void 0&&(T=ls(T,"labelAnchor",["center","left","right"])),k=lU(k),Kv(g&&!ia(o)?ght(e,t,i,{stroke:o,strokeOpacity:l,strokeWidth:c,tickSize:g,tickPadding:y,tickRotate:b,y:v,...N}):null,ia(d)?null:yht(e,t,i,{fill:d,fillOpacity:u,stroke:p,strokeOpacity:f,strokeWidth:M,textAnchor:h,tickSize:g,tickPadding:y,tickRotate:b,y:v,marginTop:w,marginRight:_,marginBottom:E,marginLeft:S,...N}),!ia(d)&&I!==null?J0([],rU({fill:d,fillOpacity:u,...N},function(P,F,U,V,z){const G=V[e],{marginTop:H,marginRight:J,marginBottom:Z,marginLeft:j}=e==="x"&&z.inset||z,W=T??(G.bandwidth?"center":"right"),et=D??(t==="top"?H:Z)-3;return W==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${W}`,this.textAnchor=W==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-et:et,this.dx=W==="right"?J-3:W==="left"?3-j:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[sU(e,G,{anchor:t,label:I,labelAnchor:W,labelArrow:k})]}}}})):null)}function pht(e,t,i,{strokeWidth:n=1,strokeLinecap:a=null,strokeLinejoin:o=null,facetAnchor:l=t+(e==="y"?"-empty":""),frameAnchor:c=t,tickSize:d,inset:u=0,insetLeft:h=u,insetRight:p=u,dx:f=0,y:M=e==="y"?void 0:null,...g}){return Lh(hht,e,i,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:n,strokeLinecap:a,strokeLinejoin:o,facetAnchor:l,frameAnchor:c,y:M,...g,dx:t==="left"?+f-ka+ +h:+f+ka-p,anchor:"start",length:d,shape:t==="left"?Oht:Sht})}function ght(e,t,i,{strokeWidth:n=1,strokeLinecap:a=null,strokeLinejoin:o=null,facetAnchor:l=t+(e==="x"?"-empty":""),frameAnchor:c=t,tickSize:d,inset:u=0,insetTop:h=u,insetBottom:p=u,dy:f=0,x:M=e==="x"?void 0:null,...g}){return Lh(dht,e,i,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:n,strokeLinejoin:o,strokeLinecap:a,facetAnchor:l,frameAnchor:c,x:M,...g,dy:t==="bottom"?+f-ka-p:+f+ka+ +h,anchor:"start",length:d,shape:t==="bottom"?Eht:wht})}function Mht(e,t,i,{facetAnchor:n=t+(e==="y"?"-empty":""),frameAnchor:a=t,tickSize:o,tickRotate:l=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(l)>60?4*Math.cos(l*xF):0),text:d,textAnchor:u=Math.abs(l)>60?"middle":t==="left"?"end":"start",lineAnchor:h=l>60?"top":l<-60?"bottom":"middle",fontVariant:p,inset:f=0,insetLeft:M=f,insetRight:g=f,dx:y=0,y:b=e==="y"?void 0:null,...v}){return Lh(eb,e,i,{ariaLabel:`${e}-axis tick label`},{facetAnchor:n,frameAnchor:a,text:d,textAnchor:u,lineAnchor:h,fontVariant:p,rotate:l,y:b,...v,dx:t==="left"?+y-o-c+ +M:+y+ +o+ +c-g},function(C,w,_,E,S){p===void 0&&(this.fontVariant=oU(C)),d===void 0&&(S.text=aU(C,w,_,E,t))})}function yht(e,t,i,{facetAnchor:n=t+(e==="x"?"-empty":""),frameAnchor:a=t,tickSize:o,tickRotate:l=0,tickPadding:c=Math.max(3,9-o)+(Math.abs(l)>=10?4*Math.cos(l*xF):0),text:d,textAnchor:u=Math.abs(l)>=10?l<0^t==="bottom"?"start":"end":"middle",lineAnchor:h=Math.abs(l)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:p,inset:f=0,insetTop:M=f,insetBottom:g=f,dy:y=0,x:b=e==="x"?void 0:null,...v}){return Lh(Kdt,e,i,{ariaLabel:`${e}-axis tick label`},{facetAnchor:n,frameAnchor:a,text:d===void 0?null:d,textAnchor:u,lineAnchor:h,fontVariant:p,rotate:l,x:b,...v,dy:t==="bottom"?+y+ +o+ +c-g:+y-o-c+ +M},function(C,w,_,E,S){p===void 0&&(this.fontVariant=oU(C)),d===void 0&&(S.text=aU(C,w,_,E,t))})}function Aht(){const[e,t]=tu(...arguments);return eU("y",KF(t),e,t)}function vht(){const[e,t]=tu(...arguments);return eU("fy",qF(t),e,t)}function bht(){const[e,t]=tu(...arguments);return iU("x",XF(t),e,t)}function Cht(){const[e,t]=tu(...arguments);return iU("fx",YF(t),e,t)}function eU(e,t,i,{y:n=e==="y"?void 0:null,x:a=null,x1:o=t==="left"?a:null,x2:l=t==="right"?a:null,...c}){return Lh(T0,e,i,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:n,x1:o,x2:l,...nU(c)})}function iU(e,t,i,{x:n=e==="x"?void 0:null,y:a=null,y1:o=t==="top"?a:null,y2:l=t==="bottom"?a:null,...c}){return Lh(q9,e,i,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:n,y1:o,y2:l,...nU(c)})}function nU({color:e="currentColor",opacity:t=.1,stroke:i=e,strokeOpacity:n=t,strokeWidth:a=1,...o}){return{stroke:i,strokeOpacity:n,strokeWidth:a,...o}}function rU({fill:e,fillOpacity:t,fontFamily:i,fontSize:n,fontStyle:a,fontVariant:o,fontWeight:l,monospace:c,pointerEvents:d,shapeRendering:u,clip:h=!1},p){return[,e]=Bo(e),[,t]=_a(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:i,fontSize:n,fontStyle:a,fontVariant:o,fontWeight:l,monospace:c,pointerEvents:d,shapeRendering:u,clip:h,initializer:p}}function Lh(e,t,i,n,a,o){let l;function c(h,p,f,M,g,y){const b=h==null&&(t==="fx"||t==="fy"),{[t]:v}=M;if(!v)throw new Error(`missing scale: ${t}`);const C=v.domain();let{interval:w,ticks:_,tickFormat:E,tickSpacing:S=t==="x"?80:35}=a;if(typeof _=="string"&&cU(v)&&(w=_,_=void 0),_===void 0&&(_=Bh(w,v.type)??_ht(v,S)),h==null){if(Yc(_))h=Hc(_);else if(bd(_))h=Wg(_,...W9(C));else if(v.interval){let T=v.interval;if(v.ticks){const[k,D]=W9(C),N=(D-k)/T[R3];T=UO(T,N/_)??T,h=Wg(T,k,D)}else{h=C;const k=h.length;T=UO(T,k/_)??T,T!==v.interval&&(h=Wg(T,...W9(h)))}if(T===v.interval){const k=Math.round(h.length/_);k>1&&(h=h.filter((D,N)=>N%k===0))}}else v.ticks?h=v.ticks(_):h=C;if(!v.ticks&&h.length&&h!==C){const T=new Yf(C);h=h.filter(k=>T.has(k)),h.length||Sl(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?p=[Jl(h)]:l[t]={scale:t,value:h9}}o==null||o.call(this,v,h,_,E,l);const I=Object.fromEntries(Object.entries(l).map(([T,k])=>[T,{...k,value:A9(h,k.value)}]));return b&&(p=y.filterFacets(h,I)),{data:h,facets:p,channels:I}}const d=fh(a).initializer,u=e(i,fh({...a,initializer:c},d));return i==null?(l=u.channels,u.channels={}):l={},n!==void 0&&Object.assign(u,n),u.clip===void 0&&(u.clip=!1),u}function _ht(e,t){const[i,n]=W9(e.range());return(n-i)/t}function aU(e,t,i,n,a){return{value:ab(e,t,i,n,a)}}function ab(e,t,i,n,a){return typeof n=="function"&&!(e.type==="log"&&e.tickFormat)?n:n===void 0&&t&&Ja(t)?aut(e.type,t,a)??mh:e.tickFormat?e.tickFormat(typeof i=="number"?i:null,n):n===void 0?mh:typeof n=="string"?(Ja(e.domain())?m3:bh)(n):_l(n)}function Wg(e,t,i){return e.range(t,e.offset(e.floor(i)))}const Eht={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},wht={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},Oht={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},Sht={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function oU(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function sU(e,t,{anchor:i,label:n=t.label,labelAnchor:a,labelArrow:o}={}){if(!(n==null||n.inferred&&cU(t)&&/^(date|time|year)$/i.test(n))){if(n=String(n),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[]/.test(n)),!o)return n;if(o===!0){const l=fF(t);l&&(o=/x$/.test(e)||a==="center"?/x$/.test(e)===l<0?"left":"right":l<0?"up":"down")}switch(o){case"left":return` ${n}`;case"right":return`${n} `;case"up":return i==="right"?`${n} `:` ${n}`;case"down":return i==="right"?`${n} `:` ${n}`}return n}}function lU(e="auto"){return ia(e)?!1:typeof e=="boolean"?e:ls(e,"labelArrow",["auto","up","right","down","left"])}function cU(e){return Ja(e.domain())}function mS(e,t){if(t==null)return t;const i=e(t);if(!i)throw new Error(`scale not found: ${t}`);return i}function xht(e,{opacity:t,...i}={}){if(!b1(e)&&!MF(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return uU(e,i,(n,a,o,l)=>n.append("svg").attr("width",o).attr("height",l).attr("fill",a.scale).attr("fill-opacity",_a(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Tht(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:i=1,stroke:n=(h=>(h=e.hint)==null?void 0:h.stroke)()!==void 0?e.hint.stroke:ia(t)?"currentColor":"none",strokeOpacity:a=1,strokeWidth:o=1.5,r:l=4.5,...c}={},d){const[p,f]=Bo(t),[M,g]=Bo(n),y=mS(d,p),b=mS(d,M),v=l*l*Math.PI;return i=_a(i)[1],a=_a(a)[1],o=_a(o)[1],uU(e,c,(C,w,_,E)=>C.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",E).attr("fill",p==="color"?S=>y.scale(S):f).attr("fill-opacity",i).attr("stroke",M==="color"?S=>b.scale(S):g).attr("stroke-opacity",a).attr("stroke-width",o).append("path").attr("d",S=>{const I=Ec();return e.scale(S).draw(I,v),I}))}function uU(e,t={},i){let{columns:n,tickFormat:a,fontVariant:o=SF(e),swatchSize:l=15,swatchWidth:c=l,swatchHeight:d=l,marginLeft:u=0,className:h,style:p,width:f}=t;const M=zv(t);h=H5(h),a=ab(e.scale,e.domain,void 0,a);const g=G9("div",M).attr("class",`${h}-swatches ${h}-swatches-${n!=null?"columns":"wrap"}`);let y;return n!=null?(y=`:where(.${h}-swatches-columns .${h}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${h}-swatches-columns .${h}-swatch::before) {
  flex-shrink: 0;
}
:where(.${h}-swatches-columns .${h}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,g.style("columns",n).selectAll().data(e.domain).enter().append("div").attr("class",`${h}-swatch`).call(i,e,c,d).call(b=>b.append("div").attr("class",`${h}-swatch-label`).attr("title",a).text(a))):(y=`:where(.${h}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${h}-swatches-wrap .${h}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,g.selectAll().data(e.domain).enter().append("span").attr("class",`${h}-swatch`).call(i,e,c,d).append(function(){return this.ownerDocument.createTextNode(a.apply(this,arguments))})),g.call(b=>b.insert("style","*").text(`:where(.${h}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${h}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${y}`)).style("margin-left",u?`${+u}px`:null).style("width",f===void 0?null:`${+f}px`).style("font-variant",Jr(o,"normal")).call(Wv,p).node()}const Sy=new Map([["symbol",Tht],["color",hU],["opacity",Bht]]);function Iht(e,t,i={}){return(n,a)=>{if(!Sy.has(n))throw new Error(`unknown legend type: ${n}`);if(n in e)return Sy.get(n)(e[n],dU(t,i[n],a),o=>e[o])}}function dU({className:e,...t},{label:i,ticks:n,tickFormat:a}={},o){return Cut(o,{className:e,...t},{label:i,ticks:n,tickFormat:a})}function hU(e,{legend:t=!0,...i}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return xht(e,i);case"ramp":return Fdt(e,i);default:throw new Error(`unknown legend type: ${t}`)}}function Bht({type:e,interpolate:t,...i},{legend:n=!0,color:a=kc(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(n===!0&&(n="ramp"),`${n}`.toLowerCase()!=="ramp")throw new Error(`${n} opacity legends are not supported`);return hU({type:e,...i,interpolate:Rht(a)},{legend:n,...o})}function Rht(e){const{r:t,g:i,b:n}=kc(e)||kc(0,0,0);return a=>`rgba(${t},${i},${n},${a})`}function Dht(e,t,i){const n=[];for(const[a,o]of Sy){const l=i[a];if(l!=null&&l.legend&&a in e){const c=o(e[a],dU(t,e[a],l),d=>e[d]);c!=null&&n.push(c)}}return n}function ob(e={}){return RN(e)?e:{...e,x:h9}}function W5(e={}){return DN(e)?e:{...e,y:h9}}function Pht(e,t){if(t.length===1)return{data:e,facets:t};const i=Rf(e),n=new Uint8Array(i);let a=0;for(const c of t)for(const d of c)n[d]&&++a,n[d]=1;if(a===0)return{data:e,facets:t};e=Bf(e);const o=e[ON]=new Uint32Array(i+a);t=t.map(c=>Bf(c,Uint32Array));let l=i;n.fill(0);for(const c of t)for(let d=0,u=c.length;d<u;++d){const h=c[d];n[h]?(c[d]=l,e[l]=e[h],o[l]=h,++l):o[h]=h,n[h]=1}return{data:e,facets:t}}function kht(e={},t={}){arguments.length===1&&([e,t]=fU(e));const{y1:i,y:n=i,x:a,...o}=t,[l,c,d,u]=mU(n,a,"y","x",e,o);return{...l,y1:i,y:c,x1:d,x2:u,x:v8(d,u)}}function Lht(e={},t={}){arguments.length===1&&([e,t]=fU(e));const{x1:i,x:n=i,y:a,...o}=t,[l,c,d,u]=mU(n,a,"x","y",e,o);return{...l,x1:i,x:c,y1:d,y2:u,y:v8(d,u)}}function sb({x:e,x1:t,x2:i,...n}={}){return n=Ph(n,"y"),t===void 0&&i===void 0?kht({x:e,...n}):([t,i]=PN(e,t,i),{...n,x1:t,x2:i})}function K5({y:e,y1:t,y2:i,...n}={}){return n=Ph(n,"x"),t===void 0&&i===void 0?Lht({y:e,...n}):([t,i]=PN(e,t,i),{...n,y1:t,y2:i})}function fU(e){const{offset:t,order:i,reverse:n,...a}=e;return[{offset:t,order:i,reverse:n},a]}const Nht={length:!0};function mU(e,t=uut,i,n,{offset:a,order:o,reverse:l},c){if(t===null)throw new Error(`stack requires ${n}`);const d=P5(c),[u,h]=Ra(e),[p,f]=Df(t),[M,g]=Df(t);return p.hint=M.hint=Nht,a=Fht(a),o=$ht(o,a,n),[Dh(c,(y,b,v)=>{({data:y,facets:b}=Pht(y,b));const C=e==null?void 0:h(b8(A9(y,e),v==null?void 0:v[i])),w=A9(y,t,Float64Array),_=A9(y,d),E=o&&o(y,C,w,_),S=Rf(y),I=f(new Float64Array(S)),T=g(new Float64Array(S)),k=[];for(const D of b){const N=C?Array.from(Zf(D,P=>C[P]).values()):[D];if(E)for(const P of N)P.sort(E);for(const P of N){let F=0,U=0;l&&P.reverse();for(const V of P){const z=w[V];z<0?F=T[V]=(I[V]=F)+z:z>0?U=T[V]=(I[V]=U)+z:T[V]=I[V]=U}}k.push(N)}return a&&a(k,I,T,_),{data:y,facets:b}}),u,p,M]}function Fht(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return Uht;case"center":case"silhouette":return Jht;case"wiggle":return gU}throw new Error(`unknown offset: ${e}`)}}function pU(e,t){let i=0,n=0;for(const a of e){const o=t[a];o<i&&(i=o),o>n&&(n=o)}return[i,n]}function Uht(e,t,i){for(const n of e)for(const a of n){const[o,l]=pU(a,i);for(const c of a){const d=1/(l-o||1);t[c]=d*(t[c]-o),i[c]=d*(i[c]-o)}}}function Jht(e,t,i){for(const n of e){for(const a of n){const[o,l]=pU(a,i);for(const c of a){const d=(l+o)/2;t[c]-=d,i[c]-=d}}MU(n,t,i)}yU(e,t,i)}function gU(e,t,i,n){for(const a of e){const o=new i1;let l=0;for(const c of a){let d=-1;const u=c.map(M=>Math.abs(i[M]-t[M])),h=c.map(M=>{d=n?n[M]:++d;const g=i[M]-t[M],y=o.has(d)?g-o.get(d):0;return o.set(d,g),y}),p=[0,...pj(h)];for(const M of c)t[M]+=l,i[M]+=l;const f=Rc(u);f&&(l-=Rc(u,(M,g)=>(h[g]/2+p[g])*M)/f)}MU(a,t,i)}yU(e,t,i)}function MU(e,t,i){const n=Hr(e,a=>Hr(a,o=>t[o]));for(const a of e)for(const o of a)t[o]-=n,i[o]-=n}function yU(e,t,i){const n=e.length;if(n===1)return;const a=e.map(c=>c.flat()),o=a.map(c=>(Hr(c,d=>t[d])+v9(c,d=>i[d]))/2),l=Hr(o);for(let c=0;c<n;c++){const d=l-o[c];for(const u of a[c])t[u]+=d,i[u]+=d}}function $ht(e,t,i){if(e===void 0&&t===gU)return pS(is);if(e!=null){if(typeof e=="string"){const n=e.startsWith("-"),a=n?y8:is;switch((n?e.slice(1):e).toLowerCase()){case"value":case i:return Ght(a);case"z":return Hht(a);case"sum":return Vht(a);case"appearance":return Qht(a);case"inside-out":return pS(a)}return gS(SN(e))}if(typeof e=="function")return(e.length===1?gS:zht)(e);if(v1(e))return jht(e);throw new Error(`invalid order: ${e}`)}}function Ght(e){return(t,i,n)=>(a,o)=>e(n[a],n[o])}function Hht(e){return(t,i,n,a)=>(o,l)=>e(a[o],a[l])}function Vht(e){return q5(e,(t,i,n,a)=>Qy(Jl(t),o=>Rc(o,l=>n[l]),o=>a[o]))}function Qht(e){return q5(e,(t,i,n,a)=>Qy(Jl(t),o=>i[OB(o,l=>n[l])],o=>a[o]))}function pS(e){return q5(e,(t,i,n,a)=>{const o=Jl(t),l=Qy(o,p=>i[OB(p,f=>n[f])],p=>a[p]),c=wd(o,p=>Rc(p,f=>n[f]),p=>a[p]),d=[],u=[];let h=0;for(const p of l)h<0?(h+=c.get(p),d.push(p)):(h-=c.get(p),u.push(p));return u.reverse().concat(d)})}function gS(e){return t=>{const i=A9(t,e);return(n,a)=>is(i[n],i[a])}}function zht(e){return t=>v1(t)?(i,n)=>e(t[i],t[n]):(i,n)=>e(t.get(i),t.get(n))}function jht(e){return q5(is,()=>e)}function q5(e,t){return(i,n,a,o)=>{if(!o)throw new Error("missing channel: z");const l=new i1(t(i,n,a,o).map((c,d)=>[c,d]));return(c,d)=>e(l.get(o[c]),l.get(o[d]))}}const Wht={ariaLabel:"rect"};class lb extends ua{constructor(t,i={}){const{x1:n,y1:a,x2:o,y2:l}=i;super(t,{x1:{value:n,scale:"x",type:n!=null&&o==null?"band":void 0,optional:!0},y1:{value:a,scale:"y",type:a!=null&&l==null?"band":void 0,optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:l,scale:"y",optional:!0}},i,Wht),cb(this,i),ub(this,i)}render(t,i,n,a,o){const{x:l,y:c}=i;let{x1:d,y1:u,x2:h,y2:p}=n;const{marginTop:f,marginRight:M,marginBottom:g,marginLeft:y,width:b,height:v}=a,{projection:C}=o,{insetTop:w,insetRight:_,insetBottom:E,insetLeft:S}=this,{rx:I,ry:T,rx1y1:k,rx1y2:D,rx2y1:N,rx2y2:P}=this;(d||h)&&!C&&ks(l)&&(d=h=null),(u||p)&&!C&&ks(c)&&(u=p=null);const F=l!=null&&l.bandwidth?l.bandwidth():0,U=c!=null&&c.bandwidth?c.bandwidth():0;return G9("svg:g",o).call($a,this,a,o).call(wa,this,{},0,0).call(V=>V.selectAll().data(t).enter().call(k||D||N||P?z=>z.append("path").call(la,this).call(db,d&&h?G=>d[G]+(h[G]<d[G]?-_:S):d?G=>d[G]+S:y+S,u&&p?G=>u[G]+(p[G]<u[G]?-E:w):u?G=>u[G]+w:f+w,d&&h?G=>h[G]-(h[G]<d[G]?-S:_):d?G=>d[G]+F-_:b-M-_,u&&p?G=>p[G]-(p[G]<u[G]?-w:E):u?G=>u[G]+U-E:v-g-E,this).call(oo,this,n):z=>z.append("rect").call(la,this).attr("x",d?h?G=>Math.min(d[G],h[G])+S:G=>d[G]+S:y+S).attr("y",u?p?G=>Math.min(u[G],p[G])+w:G=>u[G]+w:f+w).attr("width",d?h?G=>Math.max(0,Math.abs(h[G]-d[G])+F-S-_):F-S-_:b-M-y-_-S).attr("height",u?p?G=>Math.max(0,Math.abs(u[G]-p[G])+U-w-E):U-w-E:v-f-g-w-E).call(Qn,"rx",I).call(Qn,"ry",T).call(oo,this,n))).node()}}function cb(e,{inset:t=0,insetTop:i=t,insetRight:n=t,insetBottom:a=t,insetLeft:o=t}={}){e.insetTop=Ir(i),e.insetRight=Ir(n),e.insetBottom=Ir(a),e.insetLeft=Ir(o)}function ub(e,{r:t,rx:i,ry:n,rx1:a=t,ry1:o=t,rx2:l=t,ry2:c=t,rx1y1:d=a!==void 0?+a:o!==void 0?+o:0,rx1y2:u=a!==void 0?+a:c!==void 0?+c:0,rx2y1:h=l!==void 0?+l:o!==void 0?+o:0,rx2y2:p=l!==void 0?+l:c!==void 0?+c:0}={}){d||u||h||p?(e.rx1y1=d,e.rx1y2=u,e.rx2y1=h,e.rx2y2=p):(e.rx=Jr(i,"auto"),e.ry=Jr(n,"auto"))}function db(e,t,i,n,a,o){const{rx1y1:l,rx1y2:c,rx2y1:d,rx2y2:u}=o;typeof t!="function"&&(t=_l(t)),typeof i!="function"&&(i=_l(i)),typeof n!="function"&&(n=_l(n)),typeof a!="function"&&(a=_l(a));const h=Math.max(Math.abs(l+d),Math.abs(c+u)),p=Math.max(Math.abs(l+c),Math.abs(d+u));e.attr("d",f=>{const M=t(f),g=i(f),y=n(f),b=a(f),v=M>y,C=g>b,w=v?y:M,_=v?M:y,E=C?b:g,S=C?g:b,I=Math.min(1,(_-w)/h,(S-E)/p),T=I*(v?C?u:d:C?c:l),k=I*(v?C?c:l:C?u:d),D=I*(v?C?l:c:C?d:u),N=I*(v?C?d:u:C?l:c);return`M${w},${E+V4(T,N)}A${T},${T} 0 0 ${T<0?0:1} ${w+H4(T,N)},${E}H${_-H4(k,D)}A${k},${k} 0 0 ${k<0?0:1} ${_},${E+V4(k,D)}V${S-V4(D,k)}A${D},${D} 0 0 ${D<0?0:1} ${_-H4(D,k)},${S}H${w+H4(N,T)}A${N},${N} 0 0 ${N<0?0:1} ${w},${S-V4(N,T)}Z`})}function H4(e,t){return t<0?e:Math.abs(e)}function V4(e,t){return t<0?Math.abs(e):e}function AU(e,t){return new lb(e,PF(kF(t)))}function Kht(e,t={}){return Ih(t)||(t={...t,y:Vs,x2:h9,interval:1}),new lb(e,sb(kF(ob(t))))}function Ls(e,t={}){return Ih(t)||(t={...t,x:Vs,y2:h9,interval:1}),new lb(e,K5(PF(W5(t))))}const qht={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Xht={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Yht extends ua{constructor(t={}){const{anchor:i=null}=t;super(M6,void 0,t,i==null?qht:Xht),this.anchor=BN(i,"anchor",["top","right","bottom","left"]),cb(this,t),i||ub(this,t)}render(t,i,n,a,o){const{marginTop:l,marginRight:c,marginBottom:d,marginLeft:u,width:h,height:p}=a,{anchor:f,insetTop:M,insetRight:g,insetBottom:y,insetLeft:b}=this,{rx:v,ry:C,rx1y1:w,rx1y2:_,rx2y1:E,rx2y2:S}=this,I=u+b,T=h-c-g,k=l+M,D=p-d-y;return G9(f?"svg:line":w||_||E||S?"svg:path":"svg:rect",o).datum(0).call($a,this,a,o).call(la,this).call(oo,this,n).call(wa,this,{}).call(f==="left"?N=>N.attr("x1",I).attr("x2",I).attr("y1",k).attr("y2",D):f==="right"?N=>N.attr("x1",T).attr("x2",T).attr("y1",k).attr("y2",D):f==="top"?N=>N.attr("x1",I).attr("x2",T).attr("y1",k).attr("y2",k):f==="bottom"?N=>N.attr("x1",I).attr("x2",T).attr("y1",D).attr("y2",D):w||_||E||S?N=>N.call(db,I,k,T,D,this):N=>N.attr("x",I).attr("y",k).attr("width",T-I).attr("height",D-k).attr("rx",v).attr("ry",C)).node()}}function xy(e){return new Yht(e)}const Kg={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Zht=new Set(["geometry","href","src","ariaLabel","scales"]);class t2t extends ua{constructor(t,i={}){i.tip&&(i={...i,tip:!1}),i.title===void 0&&Yc(t)&&FN(t)&&(i={...i,title:h9});const{x:n,y:a,x1:o,x2:l,y1:c,y2:d,anchor:u,preferredAnchor:h="bottom",monospace:p,fontFamily:f=p?"ui-monospace, monospace":void 0,fontSize:M,fontStyle:g,fontVariant:y,fontWeight:b,lineHeight:v=1,lineWidth:C=20,frameAnchor:w,format:_,textAnchor:E="start",textOverflow:S,textPadding:I=8,title:T,pointerSize:k=12,pathFilter:D="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=i;super(t,{x:{value:o!=null&&l!=null?null:n,scale:"x",optional:!0},y:{value:c!=null&&d!=null?null:a,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:l==null},y1:{value:c,scale:"y",optional:d==null},x2:{value:l,scale:"x",optional:o==null},y2:{value:d,scale:"y",optional:c==null},title:{value:T,optional:!0}},i,Kg),this.anchor=My(u,"anchor"),this.preferredAnchor=My(h,"preferredAnchor"),this.frameAnchor=N5(w),this.textAnchor=Jr(E,"middle"),this.textPadding=+I,this.pointerSize=+k,this.pathFilter=ba(D),this.lineHeight=+v,this.lineWidth=+C,this.textOverflow=JF(S),this.monospace=!!p,this.fontFamily=ba(f),this.fontSize=Ir(M),this.fontStyle=ba(g),this.fontVariant=ba(y),this.fontWeight=ba(b);for(const N in Kg)N in this.channels&&(this[N]=Kg[N]);this.splitLines=GF(this),this.clipLine=HF(this),this.format=typeof _=="string"||typeof _=="function"?{title:_}:{..._}}render(t,i,n,a,o){const l=this,{x:c,y:d,fx:u,fy:h}=i,{ownerSVGElement:p,document:f}=o,{anchor:M,monospace:g,lineHeight:y,lineWidth:b}=this,{textPadding:v,pointerSize:C,pathFilter:w}=this,{marginTop:_,marginLeft:E}=a,{x1:S,y1:I,x2:T,y2:k,x:D=S??T,y:N=I??k}=n,P=u?u(t.fx)-E:0,F=h?h(t.fy)-_:0,[U,V]=U3(this,a),z=wF(n,U),G=OF(n,V),H=g?nb:ib,J=H(Rd);let Z,j;"title"in n?(Z=MS.call(this,{title:n.channels.title},i),j=a2t):(Z=MS.call(this,n.channels,i),j=o2t);const W=G9("svg:g",o).call($a,this,a,o).call($F,this).call(wa,this,{x:D&&c,y:N&&d}).call(ht=>ht.selectAll().data(t).enter().append("g").attr("transform",st=>`translate(${Math.round(z(st))},${Math.round(G(st))})`).call(la,this).call(st=>st.append("path").attr("filter",w)).call(st=>st.append("text").each(function(St){const At=Od(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const xt=j.call(l,St,t,Z,i,n);if(typeof xt=="string")for(const gt of l.splitLines(xt))et(At,{value:l.clipLine(gt)});else{const gt=new Set;for(const yt of xt){const{label:lt=""}=yt;lt&&gt.has(lt)||(gt.add(lt),et(At,yt))}}})));function et(ht,{label:st,value:St,color:At,opacity:xt}){st??(st=""),St??(St="");const gt=At!=null||xt!=null;let yt,lt=b*100;const[zt]=gh(st,lt,H,J);if(zt>=0)st=st.slice(0,zt).trimEnd()+Rd,yt=St.trim(),St="";else{(st||!St&&!gt)&&(St=" "+St);const[Jt]=gh(St,lt-H(st),H,J);Jt>=0&&(yt=St.trim(),St=St.slice(0,Jt).trimEnd()+Rd)}const kt=ht.append("tspan").attr("x",0).attr("dy",`${y}em`).text("");st&&kt.append("tspan").attr("font-weight","bold").text(st),St&&kt.append(()=>f.createTextNode(St)),gt&&kt.append("tspan").text(" ").attr("fill",At).attr("fill-opacity",xt).style("user-select","none"),yt&&kt.append("title").text(yt)}function dt(){const{width:ht,height:st}=a.facet??a;W.selectChildren().each(function(St){let{x:At,width:xt,height:gt}=this.getBBox();xt=Math.round(xt),gt=Math.round(gt);let yt=M;if(yt===void 0){const kt=z(St)+P,Jt=G(St)+F,Gt=kt+xt+C+v*2<ht,ce=kt-xt-C-v*2>0,ae=Jt+gt+C+v*2<st,qt=Jt-gt-C-v*2>0;yt=Gt&&ce?ae&&qt?l.preferredAnchor:qt?"bottom":"top":ae&&qt?Gt?"left":"right":(Gt||ce)&&(ae||qt)?`${qt?"bottom":"top"}-${Gt?"left":"right"}`:l.preferredAnchor}const lt=this.firstChild,zt=this.lastChild;if(lt.setAttribute("d",r2t(yt,C,v,xt,gt)),At)for(const kt of zt.childNodes)kt.setAttribute("x",-At);zt.setAttribute("y",`${+i2t(yt,zt.childNodes.length,y).toFixed(6)}em`),zt.setAttribute("transform",`translate(${n2t(yt,C,v,xt,gt)})`)}),W.attr("visibility",null)}return t.length&&(W.attr("visibility","hidden"),p.isConnected?Promise.resolve().then(dt):typeof requestAnimationFrame<"u"&&requestAnimationFrame(dt)),W.node()}}function e2t(e,{x:t,y:i,...n}={}){return n.frameAnchor===void 0&&([t,i]=D3(t,i)),new t2t(e,{...n,x:t,y:i})}function i2t(e,t,i){return/^top(?:-|$)/.test(e)?.94-i:-.29-t*i}function n2t(e,t,i,n,a){switch(e){case"middle":return[-n/2,a/2];case"top-left":return[i,t+i];case"top":return[-n/2,t/2+i];case"top-right":return[-n-i,t+i];case"right":return[-t/2-n-i,a/2];case"bottom-left":return[i,-t-i];case"bottom":return[-n/2,-t/2-i];case"bottom-right":return[-n-i,-t-i];case"left":return[i+t/2,a/2]}}function r2t(e,t,i,n,a){const o=n+i*2,l=a+i*2;switch(e){case"middle":return`M${-o/2},${-l/2}h${o}v${l}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${l}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${l}h${-o}v${-l}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${l}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-l/2}h${-o}v${l}h${o}v${t/2-l/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-l}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-l}h${-o}v${l}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-l}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-l/2}h${o}v${l}h${-o}v${t/2-l/2}z`}}function MS(e,t){var a,o;const i={};let n=this.format;n=yS(n,e,"x"),n=yS(n,e,"y"),this.format=n;for(const l in n){const c=n[l];if(!(c===null||c===!1))if(l==="fx"||l==="fy")i[l]=!0;else{const d=zO(e,l);d&&(i[l]=d)}}for(const l in e){if(l in i||l in n||Zht.has(l)||(l==="x"||l==="y")&&e.geometry)continue;const c=zO(e,l);if(c){if(c.scale==null&&c.defaultScale==="color")continue;i[l]=c}}this.facet&&(t.fx&&!("fx"in n)&&(i.fx=!0),t.fy&&!("fy"in n)&&(i.fy=!0));for(const l in i){const c=this.format[l];if(typeof c=="string"){const d=((a=i[l])==null?void 0:a.value)??((o=t[l])==null?void 0:o.domain())??[];this.format[l]=(Ja(d)?m3:bh)(c)}else if(c===void 0||c===!0){const d=t[l];this.format[l]=d!=null&&d.bandwidth?ab(d,d.domain()):mh}}return i}function yS(e,t,i){if(!(i in e))return e;const n=`${i}1`,a=`${i}2`;if((n in e||!(n in t))&&(a in e||!(a in t)))return e;const o=Object.entries(e),l=e[i];return o.splice(o.findIndex(([c])=>c===i)+1,0,[n,l],[a,l]),Object.fromEntries(o)}function a2t(e,t,{title:i}){return this.format.title(i.value[e],e)}function*o2t(e,t,i,n,a){for(const o in i){if(o==="fx"||o==="fy"){yield{label:_8(n,i,o),value:this.format[o](t[o],e)};continue}if(o==="x1"&&"x2"in i||o==="y1"&&"y2"in i)continue;const l=i[o];if(o==="x2"&&"x1"in i)yield{label:vS(n,i,"x"),value:AS(this.format.x2,i.x1,l,e)};else if(o==="y2"&&"y1"in i)yield{label:vS(n,i,"y"),value:AS(this.format.y2,i.y1,l,e)};else{const c=l.value[e],d=l.scale;if(!io(c)&&d==null)continue;yield{label:_8(n,i,o),value:this.format[o](c,e),color:d==="color"?a[o][e]:null,opacity:d==="opacity"?a[o][e]:null}}}}function AS(e,t,i,n){var a;return(a=i.hint)!=null&&a.length?`${e(i.value[n]-t.value[n],n)}`:`${e(t.value[n],n)}${e(i.value[n],n)}`}function vS(e,t,i){const n=_8(e,t,`${i}1`,i),a=_8(e,t,`${i}2`,i);return n===a?n:`${n}${a}`}function _8(e,t,i,n=i){const a=t[i],o=e[(a==null?void 0:a.scale)??i];return String((o==null?void 0:o.label)??(a==null?void 0:a.label)??n)}function On(e={}){var J;const{facet:t,style:i,title:n,subtitle:a,caption:o,ariaLabel:l,ariaDescription:c}=e,d=H5(e.className),u=e.marks===void 0?[]:CS(e.marks);u.push(...f2t(u));const h=d2t(t,e),p=new Map;for(const Z of u){const j=_S(Z,h,e);j&&p.set(Z,j)}const f=new Map;h&&D2(f,[h],e),D2(f,p,e);const M=CS(m2t(u,f,e));for(const Z of M){const j=_S(Z,h,e);j&&p.set(Z,j)}u.unshift(...M);let g=z1t(f,e);if(g!==void 0){const Z=h?Vg(g,h):void 0;for(const W of u){if(W.facet===null||W.facet==="super")continue;const et=p.get(W);et!==void 0&&(et.facetsIndex=W.fx!=null||W.fy!=null?Vg(g,et):Z)}const j=new Set;for(const{facetsIndex:W}of p.values())W==null||W.forEach((et,dt)=>{(et==null?void 0:et.length)>0&&j.add(dt)});g.forEach(0<j.size&&j.size<g.length?(W,et)=>W.empty=!j.has(et):W=>W.empty=!1);for(const W of u)if(W.facet==="exclude"){const et=p.get(W);et!==void 0&&(et.facetsIndex=K1t(et.facetsIndex))}}for(const Z of K9.keys())gy(e[Z])&&Z!=="fx"&&Z!=="fy"&&f.set(Z,[]);const y=new Map;for(const Z of u){if(y.has(Z))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:j,channels:W}=p.get(Z)??{},{data:et,facets:dt,channels:ht}=Z.initialize(j,W,e);hb(ht,e),y.set(Z,{data:et,facets:dt,channels:ht})}const b=by(D2(f,y,e),e),v=Pdt(b,u,e);N1t(b,v);const C=ZO(b),{fx:w,fy:_}=C,E=w||_?mF(b,v):v,S=w||_?b2t(C,v):v,I=zv(e),T=I.document,k=U8("svg").call(T.documentElement);let D=k;I.ownerSVGElement=k,I.className=d,I.projection=rdt(e,E),I.filterFacets=(Z,j)=>Vg(g,{channels:j,groups:Qv(Z,j)}),I.getMarkState=Z=>{const j=y.get(Z),W=p.get(Z);return{...j,channels:{...j.channels,...W==null?void 0:W.channels}}},I.dispatchValue=Z=>{D.value!==Z&&(D.value=Z,D.dispatchEvent(new Event("input",{bubbles:!0})))};const N=new Set;for(const[Z,j]of y)if(Z.initializer!=null){const W=Z.facet==="super"?S:E,et=Z.initializer(j.data,j.facets,j.channels,C,W,I);if(et.data!==void 0&&(j.data=et.data),et.facets!==void 0&&(j.facets=et.facets),et.channels!==void 0){const{fx:dt,fy:ht,...st}=et.channels;u2t(st),Object.assign(j.channels,st);for(const St of Object.values(st)){const{scale:At}=St;At!=null&&!wut(K9.get(At))&&(vU(St,e),N.add(At))}(dt!=null||ht!=null)&&p.set(Z,!0)}}if(N.size){const Z=new Map;D2(Z,y,e,dt=>N.has(dt)),D2(f,y,e,dt=>N.has(dt));const j=v2t(by(Z,e),b),{scales:W,...et}=ZO(j);Object.assign(b,j),Object.assign(C,et),Object.assign(C.scales,W)}let P,F;g!==void 0&&(P={x:w==null?void 0:w.domain(),y:_==null?void 0:_.domain()},g=j1t(g,P),F=W1t(w,_,v));for(const[Z,j]of y)j.values=Z.scale(j.channels,C,I);const{width:U,height:V}=v;Od(k).attr("class",d).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",U).attr("height",V).attr("viewBox",`0 0 ${U} ${V}`).attr("aria-label",l).attr("aria-description",c).call(Z=>Z.append("style").text(`:where(.${d}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${d} text),
:where(.${d} tspan) {
  white-space: pre;
}`)).call(Wv,i);for(const Z of u){const{channels:j,values:W,facets:et}=y.get(Z);if(g===void 0||Z.facet==="super"){let dt=null;if(et&&(dt=et[0],dt=Z.filter(dt,j,W),dt.length===0))continue;const ht=Z.render(dt,C,W,S,I);if(ht==null)continue;k.appendChild(ht)}else{let dt;for(const ht of g){if(!(((J=Z.facetAnchor)==null?void 0:J.call(Z,g,P,ht))??!ht.empty))continue;let st=null;if(et){const At=p.has(Z);if(st=et[At?ht.i:0],st=Z.filter(st,j,W),st.length===0)continue;!At&&st===et[0]&&(st=Zu(st)),st.fx=ht.x,st.fy=ht.y,st.fi=ht.i}const St=Z.render(st,C,W,E,I);if(St!=null){(dt??(dt=Od(k).append("g"))).append(()=>St).datum(ht);for(const At of["aria-label","aria-description","aria-hidden","transform"])St.hasAttribute(At)&&(dt.attr(At,St.getAttribute(At)),St.removeAttribute(At))}}dt==null||dt.selectChildren().attr("transform",F)}}const z=Dht(b,I,e),{figure:G=n!=null||a!=null||o!=null||z.length>0}=e;G&&(D=T.createElement("figure"),D.className=`${d}-figure`,D.style.maxWidth="initial",n!=null&&D.append(bS(T,n,"h2")),a!=null&&D.append(bS(T,a,"h3")),D.append(...z,k),o!=null&&D.append(s2t(T,o)),"value"in k&&(D.value=k.value,delete k.value)),D.scale=V1t(C.scales),D.legend=Iht(b,I,e);const H=v1t();return H>0&&Od(k).append("text").attr("x",U).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${H.toLocaleString("en-US")} warning${H===1?"":"s"}. Please check the console.`),D}function bS(e,t,i){if(t.ownerDocument)return t;const n=e.createElement(i);return n.append(t),n}function s2t(e,t){const i=e.createElement("figcaption");return i.append(t),i}function CS(e){return e.flat(1/0).filter(t=>t!=null).map(l2t)}function l2t(e){return typeof e.render=="function"?e:new c2t(e)}class c2t extends ua{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function hb(e,t){for(const i in e)vU(e[i],t);return e}function vU(e,t){const{scale:i,transform:n=!0}=e;if(i==null||!n)return;const{type:a,percent:o,interval:l,transform:c=o?d=>d==null?NaN:d*100:NN(l,a)}=t[i]??{};c!=null&&(e.value=lr(e.value,c),e.transform=!1)}function u2t(e){for(const t in e)ZN(t,e[t])}function D2(e,t,i,n=dut){var a,o;for(const{channels:l}of t.values())for(const c in l){const d=l[c],{scale:u}=d;if(u!=null&&n(u))if(u==="projection"){if(!ldt(i)){const h=((a=i.x)==null?void 0:a.domain)===void 0,p=((o=i.y)==null?void 0:o.domain)===void 0;if(h||p){const[f,M]=udt(d);h&&qg(e,"x",f),p&&qg(e,"y",M)}}}else qg(e,u,d)}return e}function qg(e,t,i){const n=e.get(t);n!==void 0?n.push(i):e.set(t,[i])}function d2t(e,t){if(e==null)return;const{x:i,y:n}=e;if(i==null&&n==null)return;const a=dh(e.data);if(a==null)throw new Error("missing facet data");const o={};i!=null&&(o.fx=kf(a,{value:i,scale:"fx"})),n!=null&&(o.fy=kf(a,{value:n,scale:"fy"})),hb(o,t);const l=Qv(a,o);return{channels:o,groups:l,data:e.data}}function _S(e,t,i){if(e.facet===null||e.facet==="super")return;const{fx:n,fy:a}=e;if(n!=null||a!=null){const d=dh(e.data??n??a);if(d===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(d===null)return;const u={};return n!=null&&(u.fx=kf(d,{value:n,scale:"fx"})),a!=null&&(u.fy=kf(d,{value:a,scale:"fy"})),hb(u,i),{channels:u,groups:Qv(d,u)}}if(t===void 0)return;const{channels:o,groups:l,data:c}=t;if(e.facet!=="auto"||e.data===c)return{channels:o,groups:l};c.length>0&&(l.size>1||l.size===1&&o.fx&&o.fy&&[...l][0][1].size>1)&&Rf(dh(e.data))===Rf(c)&&Sl(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function h2t(e,t={}){return fh({...t,x:null,y:null},(i,n,a,o,l,c)=>c.getMarkState(e))}function f2t(e){const t=[];for(const i of e){let n=i.tip;if(n){n===!0?n={}:typeof n=="string"&&(n={pointer:n});let{pointer:a,preferredAnchor:o}=n;a=/^x$/i.test(a)?Ndt:/^y$/i.test(a)?sS:Ldt,n=a(h2t(i,n)),n.title=null,o===void 0&&(n.preferredAnchor=a===sS?"left":"bottom");const l=e2t(i.data,n);l.facet=i.facet,l.facetAnchor=i.facetAnchor,t.push(l)}}return t}function m2t(e,t,i){let{projection:n,x:a={},y:o={},fx:l={},fy:c={},axis:d,grid:u,facet:h={},facet:{axis:p=d,grid:f}=h,x:{axis:M=d,grid:g=M===null?null:u}=a,y:{axis:y=d,grid:b=y===null?null:u}=o,fx:{axis:v=p,grid:C=v===null?null:f}=l,fy:{axis:w=p,grid:_=w===null?null:f}=c}=i;(n||!gy(a)&&!ES("x",e))&&(M=g=null),(n||!gy(o)&&!ES("y",e))&&(y=b=null),t.has("fx")||(v=C=null),t.has("fy")||(w=_=null),M===void 0&&(M=!j4(e,"x")),y===void 0&&(y=!j4(e,"y")),v===void 0&&(v=!j4(e,"fx")),w===void 0&&(w=!j4(e,"fy")),M===!0&&(M="bottom"),y===!0&&(y="left"),v===!0&&(v=M==="top"||M===null?"bottom":"top"),w===!0&&(w=y==="right"||y===null?"left":"right");const E=[];return z4(E,_,vht,c),Q4(E,w,fht,"right","left",h,c),z4(E,C,Cht,l),Q4(E,v,mht,"top","bottom",h,l),z4(E,b,Aht,o),Q4(E,y,Ro,"left","right",i,o),z4(E,g,bht,a),Q4(E,M,rb,"bottom","top",i,a),E}function Q4(e,t,i,n,a,o,l){if(!t)return;const c=p2t(t);l=g2t(c?n:t,o,l);const{line:d}=l;(i===Ro||i===rb)&&d&&!Pf(d)&&e.push(xy(M2t(l))),e.push(i(l)),c&&e.push(i({...l,anchor:a,label:null}))}function z4(e,t,i,n){!t||Pf(t)||e.push(i(y2t(t,n)))}function p2t(e){return/^\s*both\s*$/i.test(e)}function g2t(e,t,{line:i=t.line,ticks:n,tickSize:a,tickSpacing:o,tickPadding:l,tickFormat:c,tickRotate:d,fontVariant:u,ariaLabel:h,ariaDescription:p,label:f=t.label,labelAnchor:M,labelArrow:g=t.labelArrow,labelOffset:y}){return{anchor:e,line:i,ticks:n,tickSize:a,tickSpacing:o,tickPadding:l,tickFormat:c,tickRotate:d,fontVariant:u,ariaLabel:h,ariaDescription:p,label:f,labelAnchor:M,labelArrow:g,labelOffset:y}}function M2t(e){const{anchor:t,line:i}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:i===!0?void 0:i}}function y2t(e,{stroke:t=L5(e)?e:void 0,ticks:i=A2t(e)?e:void 0,tickSpacing:n,ariaLabel:a,ariaDescription:o}){return{stroke:t,ticks:i,tickSpacing:n,ariaLabel:a,ariaDescription:o}}function A2t(e){switch(typeof e){case"number":return!0;case"string":return!L5(e)}return Yc(e)||typeof(e==null?void 0:e.range)=="function"}function j4(e,t){const i=`${t}-axis `;return e.some(n=>{var a;return(a=n.ariaLabel)==null?void 0:a.startsWith(i)})}function ES(e,t){for(const i of t)for(const n in i.channels){const{scale:a}=i.channels[n];if(a===e||a==="projection")return!0}return!1}function v2t(e,t){for(const i in e){const n=e[i],a=t[i];n.label===void 0&&a&&(n.label=a.label)}return e}function b2t({fx:e,fy:t},i){const{marginTop:n,marginRight:a,marginBottom:o,marginLeft:l,width:c,height:d}=Vv(i),u=e&&wS(e),h=t&&wS(t);return{marginTop:t?h[0]:n,marginRight:e?c-u[1]:a,marginBottom:t?d-h[1]:o,marginLeft:e?u[0]:l,inset:{marginTop:i.marginTop,marginRight:i.marginRight,marginBottom:i.marginBottom,marginLeft:i.marginLeft},width:c,height:d}}function wS(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let i=e(t[0]),n=e(t[t.length-1]);return n<i&&([i,n]=[n,i]),[i,n+e.bandwidth()]}const C2t=new Map([["basis",htt],["basis-closed",ftt],["basis-open",mtt],["bundle",ptt],["bump-x",ett],["bump-y",itt],["cardinal",gtt],["cardinal-closed",Mtt],["cardinal-open",ytt],["catmull-rom",Att],["catmull-rom-closed",vtt],["catmull-rom-open",btt],["linear",p3],["linear-closed",Ctt],["monotone-x",_tt],["monotone-y",Ett],["natural",wtt],["step",Ott],["step-after",xtt],["step-before",Stt]]);function bU(e=p3,t){if(typeof e=="function")return e;const i=C2t.get(`${e}`.toLowerCase());if(!i)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in i)return i.beta(t);if("tension"in i)return i.tension(t);if("alpha"in i)return i.alpha(t)}return i}function CU(e=Mh,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?Mh:bU(e,t)}function Mh(e){return p3(e)}function X5(e={y:"count"},t={}){[e,t]=w2t(e,t);const{x:i,y:n}=t;return E2t(O2t(i,t,h9),null,null,n,e,Q5(t))}function _2t(e,t,i={}){if((i==null?void 0:i.interval)==null)return i;const{reduce:n=Jv}=i,a={filter:null};return i[t]!=null&&(a[t]=n),i[`${t}1`]!=null&&(a[`${t}1`]=n),i[`${t}2`]!=null&&(a[`${t}2`]=n),e(a,i)}function _U(e={}){return _2t(X5,"y",Ph(e,"x"))}function E2t(e,t,i,n,{data:a=Uv,filter:o=C8,sort:l,reverse:c,...d}={},u={}){e=OS(e),t=OS(t),d=x2t(d,u),a=OU(a,h9),l=l==null?void 0:EU("sort",l,u),o=o==null?void 0:wU("filter",o,u),n!=null&&sf(d,"y","y1","y2")&&(n=null);const[h,p]=Ra(e),[f,M]=Ra(e),[g,y]=Ra(t),[b,v]=Ra(t),[C,w]=n!=null?[n,"y"]:[],[_,E]=Ra(C),{x:S,y:I,z:T,fill:k,stroke:D,x1:N,x2:P,y1:F,y2:U,domain:V,cumulative:z,thresholds:G,interval:H,...J}=u,[Z,j]=Ra(T),[W]=Bo(k),[et]=Bo(D),[dt,ht]=Ra(W),[st,St]=Ra(et);return{..."z"in u&&{z:Z||T},..."fill"in u&&{fill:dt||k},..."stroke"in u&&{stroke:st||D},...Dh(J,(At,xt,gt)=>{const yt=b8(A9(At,C),gt==null?void 0:gt[w]),lt=A9(At,T),zt=A9(At,W),kt=A9(At,et),Jt=qN(d,{z:lt,fill:zt,stroke:kt}),Gt=[],ce=[],ae=yt&&E([]),qt=lt&&j([]),ue=zt&&ht([]),$e=kt&&St([]),ve=e&&p([]),He=e&&M([]),qe=t&&y([]),ri=t&&v([]),oi=B2t(e,t,At);let oe=0;for(const fe of d)fe.initialize(At);l&&l.initialize(At),o&&o.initialize(At);for(const fe of xt){const pe=[];for(const Ot of d)Ot.scope("facet",fe);l&&l.scope("facet",fe),o&&o.scope("facet",fe);for(const[Ot,_t]of lf(fe,Jt))for(const[Ht,Tt]of lf(_t,yt))for(const[Et,Lt]of oi(Tt))if(Jt&&(Lt.z=Ot),!(o&&!o.reduce(Et,Lt))){pe.push(oe++),ce.push(a.reduceIndex(Et,At,Lt)),yt&&ae.push(Ht),lt&&qt.push(Jt===lt?Ot:lt[(Et.length>0?Et:Tt)[0]]),zt&&ue.push(Jt===zt?Ot:zt[(Et.length>0?Et:Tt)[0]]),kt&&$e.push(Jt===kt?Ot:kt[(Et.length>0?Et:Tt)[0]]),ve&&(ve.push(Lt.x1),He.push(Lt.x2)),qe&&(qe.push(Lt.y1),ri.push(Lt.y2));for(const ut of d)ut.reduce(Et,Lt);l&&l.reduce(Et,Lt)}Gt.push(pe)}return XN(Gt,l,c),{data:ce,facets:Gt}}),...!sf(d,"x")&&(h?{x1:h,x2:f,x:v8(h,f)}:{x:S,x1:N,x2:P}),...!sf(d,"y")&&(g?{y1:g,y2:b,y:v8(g,b)}:{y:I,y1:F,y2:U}),..._&&{[w]:_},...Object.fromEntries(d.map(({name:At,output:xt})=>[At,xt]))}}function w2t({cumulative:e,domain:t,thresholds:i,interval:n,...a},o){return[a,{cumulative:e,domain:t,thresholds:i,interval:n,...o}]}function O2t(e,{cumulative:t,domain:i,thresholds:n,interval:a},o){return e={...Rh(e)},e.domain===void 0&&(e.domain=i),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=n),e.interval===void 0&&(e.interval=a),e.value===void 0&&(e.value=o),e.thresholds=S2t(e.thresholds,e.interval),e}function OS(e){if(e==null)return;const{value:t,cumulative:i,domain:n=W9,thresholds:a}=e,o=l=>{let c=A9(l,t),d;if(Ja(c)||I2t(a)){c=lr(c,IN,Float64Array);let[h,p]=typeof n=="function"?n(c):n,f=typeof a=="function"&&!bd(a)?a(c,h,p):a;typeof f=="number"&&(f=pD(h,p,f)),bd(f)&&(n===W9&&(h=f.floor(h),p=f.offset(f.floor(p))),f=f.range(h,f.offset(p))),d=f}else{c=ws(c);let[h,p]=typeof n=="function"?n(c):n,f=typeof a=="function"&&!bd(a)?a(c,h,p):a;if(typeof f=="number")if(n===W9){let M=n1(h,p,f);if(isFinite(M))if(M>0){let g=Math.round(h/M),y=Math.round(p/M);g*M<=h||--g,y*M>p||++y;let b=y-g+1;f=new Float64Array(b);for(let v=0;v<b;++v)f[v]=(g+v)*M}else if(M<0){M=-M;let g=Math.round(h*M),y=Math.round(p*M);g/M<=h||--g,y/M>p||++y;let b=y-g+1;f=new Float64Array(b);for(let v=0;v<b;++v)f[v]=(g+v)/M}else f=[h];else f=[h]}else f=Hd(h,p,f);else bd(f)&&(n===W9&&(h=f.floor(h),p=f.offset(f.floor(p))),f=f.range(h,f.offset(p)));d=f}const u=[];if(d.length===1)u.push([d[0],d[0]]);else for(let h=1;h<d.length;++h)u.push([d[h-1],d[h]]);return u.bin=(i<0?D2t:i>0?R2t:fb)(u,d,c),u};return o.label=Xc(t),o}function S2t(e,t,i=SS){if(e===void 0)return t===void 0?i:Bh(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return wj;case"scott":return SB;case"sturges":return EB;case"auto":return SS}return Sv(e)}return e}function x2t(e,t){return zN(e,t,EU)}function EU(e,t,i){return Nv(e,t,i,wU)}function wU(e,t,i){return Fv(e,t,i,OU)}function OU(e,t){return U5(e,t,T2t)}function T2t(e){switch(`${e}`.toLowerCase()){case"x":return P2t;case"x1":return L2t;case"x2":return N2t;case"y":return k2t;case"y1":return F2t;case"y2":return U2t;case"z":return YN}throw new Error(`invalid bin reduce: ${e}`)}function SS(e,t,i){return Math.min(200,SB(e,t,i))}function I2t(e){return mut(e)||Yc(e)&&Ja(e)}function B2t(e,t,i){const n=e==null?void 0:e(i),a=t==null?void 0:t(i);return n&&a?function*(o){const l=n.bin(o);for(const[c,[d,u]]of n.entries()){const h=a.bin(l[c]);for(const[p,[f,M]]of a.entries())yield[h[p],{data:i,x1:d,y1:f,x2:u,y2:M}]}}:n?function*(o){const l=n.bin(o);for(const[c,[d,u]]of n.entries())yield[l[c],{data:i,x1:d,x2:u}]}:function*(o){const l=a.bin(o);for(const[c,[d,u]]of a.entries())yield[l[c],{data:i,y1:d,y2:u}]}}function fb(e,t,i){return t=ws(t),n=>{var o;const a=e.map(()=>[]);for(const l of n)(o=a[Xf(t,i[l])-1])==null||o.push(l);return a}}function R2t(e,t,i){const n=fb(e,t,i);return a=>{const o=n(a);for(let l=1,c=o.length;l<c;++l){const d=o[l-1],u=o[l];for(const h of d)u.push(h)}return o}}function D2t(e,t,i){const n=fb(e,t,i);return a=>{const o=n(a);for(let l=o.length-2;l>=0;--l){const c=o[l+1],d=o[l];for(const u of c)d.push(u)}return o}}function SU(e,t){const i=(+e+ +t)/2;return e instanceof Date?new Date(i):i}const P2t={reduceIndex(e,t,{x1:i,x2:n}){return SU(i,n)}},k2t={reduceIndex(e,t,{y1:i,y2:n}){return SU(i,n)}},L2t={reduceIndex(e,t,{x1:i}){return i}},N2t={reduceIndex(e,t,{x2:i}){return i}},F2t={reduceIndex(e,t,{y1:i}){return i}},U2t={reduceIndex(e,t,{y2:i}){return i}},J2t={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class xU extends ua{constructor(t,i={}){const{x1:n,y1:a,x2:o,y2:l,z:c,curve:d,tension:u}=i;super(t,{x1:{value:n,scale:"x"},y1:{value:a,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:l,scale:"y",optional:!0},z:{value:P5(i),optional:!0}},i,J2t),this.z=c,this.curve=bU(d,u)}filter(t){return t}render(t,i,n,a,o){const{x1:l,y1:c,x2:d=l,y2:u=c}=n;return G9("svg:g",o).call($a,this,a,o).call(wa,this,i,0,0).call(h=>h.selectAll().data(CF(t,[l,c,d,u],this,n)).enter().append("path").call(la,this).call(bF,this,n).attr("d",ttt().curve(this.curve).defined(p=>p>=0).x0(p=>l[p]).y0(p=>c[p]).x1(p=>d[p]).y1(p=>u[p]))).node()}}function xS(e,t){return t===void 0?Y5(e,{x:Iv,y:A8}):new xU(e,t)}function Y5(e,t){const{x:i=Vs,...n}=_U(t);return new xU(e,K5(W5({...n,x1:i,x2:void 0})))}const $2t={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class G2t extends ua{constructor(t,i={}){const{x1:n,y1:a,x2:o,y2:l,curve:c,tension:d}=i;super(t,{x1:{value:n,scale:"x"},y1:{value:a,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:l,scale:"y",optional:!0}},i,$2t),this.curve=CU(c,d),J3(this,i)}project(t,i,n){this.curve!==Mh&&super.project(t,i,n)}render(t,i,n,a,o){const{x1:l,y1:c,x2:d=l,y2:u=c}=n,{curve:h}=this;return G9("svg:g",o).call($a,this,a,o).call(wa,this,i).call(p=>p.selectAll().data(t).enter().append("path").call(la,this).attr("d",h===Mh&&o.projection?H2t(o.projection,l,c,d,u):f=>{const M=Ec(),g=h(M);return g.lineStart(),g.point(l[f],c[f]),g.point(d[f],u[f]),g.lineEnd(),M}).call(oo,this,n).call(V5,this,n,o)).node()}}function H2t(e,t,i,n,a){const o=n3(e);return t=ws(t),i=ws(i),n=ws(n),a=ws(a),l=>o({type:"LineString",coordinates:[[t[l],i[l]],[n[l],a[l]]]})}function TS(e,{x:t,x1:i,x2:n,y:a,y1:o,y2:l,...c}={}){return[i,n]=IS(t,i,n),[o,l]=IS(a,o,l),new G2t(e,{...c,x1:i,x2:n,y1:o,y2:l})}function IS(e,t,i){if(e===void 0){if(t===void 0){if(i!==void 0)return[i]}else if(i===void 0)return[t]}else{if(t===void 0)return i===void 0?[e]:[e,i];if(i===void 0)return[e,t]}return[t,i]}const V2t={ariaLabel:"bar"};class mb extends ua{constructor(t,i,n={},a=V2t){super(t,i,n,a),cb(this,n),ub(this,n)}render(t,i,n,a,o){const{rx:l,ry:c,rx1y1:d,rx1y2:u,rx2y1:h,rx2y2:p}=this,f=this._x(i,n,a),M=this._y(i,n,a),g=this._width(i,n,a),y=this._height(i,n,a);return G9("svg:g",o).call($a,this,a,o).call(this._transform,this,i).call(b=>b.selectAll().data(t).enter().call(d||u||h||p?v=>v.append("path").call(la,this).call(db,f,M,BS(f,g),BS(M,y),this).call(oo,this,n):v=>v.append("rect").call(la,this).attr("x",f).attr("width",g).attr("y",M).attr("height",y).call(Qn,"rx",l).call(Qn,"ry",c).call(oo,this,n))).node()}_x(t,{x:i},{marginLeft:n}){const{insetLeft:a}=this;return i?o=>i[o]+a:n+a}_y(t,{y:i},{marginTop:n}){const{insetTop:a}=this;return i?o=>i[o]+a:n+a}_width({x:t},{x:i},{marginRight:n,marginLeft:a,width:o}){const{insetLeft:l,insetRight:c}=this,d=i&&t?t.bandwidth():o-n-a;return Math.max(0,d-l-c)}_height({y:t},{y:i},{marginTop:n,marginBottom:a,height:o}){const{insetTop:l,insetBottom:c}=this,d=i&&t?t.bandwidth():o-n-a;return Math.max(0,d-l-c)}}function BS(e,t){return typeof e=="function"&&typeof t=="function"?i=>e(i)+t(i):typeof e=="function"?i=>e(i)+t:typeof t=="function"?i=>e+t(i):e+t}class TU extends mb{constructor(t,i={},n){const{x1:a,x2:o,y:l}=i;super(t,{x1:{value:a,scale:"x"},x2:{value:o,scale:"x"},y:{value:l,scale:"y",type:"band",optional:!0}},i,n)}_transform(t,i,{x:n}){t.call(wa,i,{x:n},0,0)}_x({x:t},{x1:i,x2:n},{marginLeft:a}){const{insetLeft:o}=this;return ks(t)?a+o:l=>Math.min(i[l],n[l])+o}_width({x:t},{x1:i,x2:n},{marginRight:a,marginLeft:o,width:l}){const{insetLeft:c,insetRight:d}=this;return ks(t)?l-a-o-c-d:u=>Math.max(0,Math.abs(n[u]-i[u])-c-d)}}class IU extends mb{constructor(t,i={},n){const{x:a,y1:o,y2:l}=i;super(t,{y1:{value:o,scale:"y"},y2:{value:l,scale:"y"},x:{value:a,scale:"x",type:"band",optional:!0}},i,n)}_transform(t,i,{y:n}){t.call(wa,i,{y:n},0,0)}_y({y:t},{y1:i,y2:n},{marginTop:a}){const{insetTop:o}=this;return ks(t)?a+o:l=>Math.min(i[l],n[l])+o}_height({y:t},{y1:i,y2:n},{marginTop:a,marginBottom:o,height:l}){const{insetTop:c,insetBottom:d}=this;return ks(t)?l-a-o-c-d:u=>Math.max(0,Math.abs(n[u]-i[u])-c-d)}}function BU(e,t={}){return Ih(t)||(t={...t,y:Vs,x2:h9}),new TU(e,sb(Yv(ob(t))))}function C1(e,t={}){return Ih(t)||(t={...t,x:Vs,y2:h9}),new IU(e,K5(Zv(W5(t))))}const Q2t={ariaLabel:"cell"};class z2t extends mb{constructor(t,{x:i,y:n,...a}={}){super(t,{x:{value:i,scale:"x",type:"band",optional:!0},y:{value:n,scale:"y",type:"band",optional:!0}},a,Q2t)}_transform(t,i){t.call(wa,i,{},0,0)}}function E8(e,{x:t,y:i,...n}={}){return[t,i]=D3(t,i),new z2t(e,{...n,x:t,y:i})}const j2t={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function W2t(e){return e.sort===void 0&&e.reverse===void 0?Dut({channel:"-r"},e):e}class RU extends ua{constructor(t,i={}){const{x:n,y:a,r:o,rotate:l,symbol:c=Cf,frameAnchor:d}=i,[u,h]=_a(l,0),[p,f]=But(c),[M,g]=_a(o,p==null?3:4.5);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},r:{value:M,scale:"r",filter:B5,optional:!0},rotate:{value:u,optional:!0},symbol:{value:p,scale:"auto",optional:!0}},W2t(i),j2t),this.r=g,this.rotate=h,this.symbol=f,this.frameAnchor=N5(d);const{channels:y}=this,{symbol:b}=y;if(b){const{fill:v,stroke:C}=y;b.hint={fill:v?v.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:C?C.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(t,i,n,a,o){const{x:l,y:c}=i,{x:d,y:u,r:h,rotate:p,symbol:f}=n,{r:M,rotate:g,symbol:y}=this,[b,v]=U3(this,a),C=y===Cf,w=h?void 0:M*M*Math.PI;return Ev(M)&&(t=[]),G9("svg:g",o).call($a,this,a,o).call(wa,this,{x:d&&l,y:u&&c}).call(_=>_.selectAll().data(t).enter().append(C?"circle":"path").call(la,this).call(C?E=>{E.attr("cx",d?S=>d[S]:b).attr("cy",u?S=>u[S]:v).attr("r",h?S=>h[S]:M)}:E=>{E.attr("transform",Nf`translate(${d?S=>d[S]:b},${u?S=>u[S]:v})${p?S=>` rotate(${p[S]})`:g?` rotate(${g})`:""}`).attr("d",h&&f?S=>{const I=Ec();return f[S].draw(I,h[S]*h[S]*Math.PI),I}:h?S=>{const I=Ec();return y.draw(I,h[S]*h[S]*Math.PI),I}:f?S=>{const I=Ec();return f[S].draw(I,w),I}:(()=>{const S=Ec();return y.draw(S,w),S})())}).call(oo,this,n)).node()}}function ea(e,{x:t,y:i,...n}={}){return n.frameAnchor===void 0&&([t,i]=D3(t,i)),new RU(e,{...n,x:t,y:i})}function K2t(e,{x:t=h9,...i}={}){return new RU(e,LF({...i,x:t}))}const q2t={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class DU extends ua{constructor(t,i={}){const{x:n,y:a,z:o,curve:l,tension:c}=i;super(t,{x:{value:n,scale:"x"},y:{value:a,scale:"y"},z:{value:P5(i),optional:!0}},i,q2t),this.z=o,this.curve=CU(l,c),J3(this,i)}filter(t){return t}project(t,i,n){this.curve!==Mh&&super.project(t,i,n)}render(t,i,n,a,o){const{x:l,y:c}=n,{curve:d}=this;return G9("svg:g",o).call($a,this,a,o).call(wa,this,i).call(u=>u.selectAll().data(CF(t,[l,c],this,n)).enter().append("path").call(la,this).call(bF,this,n).call(Gdt,this,n,o).attr("d",d===Mh&&o.projection?X2t(o.projection,l,c):NP().curve(d).defined(h=>h>=0).x(h=>l[h]).y(h=>c[h]))).node()}}function X2t(e,t,i){const n=n3(e);return t=ws(t),i=ws(i),a=>{let o=[];const l=[o];for(const c of a)c===-1?(o=[],l.push(o)):o.push([t[c],i[c]]);return n({type:"MultiLineString",coordinates:l})}}function pb(e,{x:t,y:i,...n}={}){return[t,i]=D3(t,i),new DU(e,{...n,x:t,y:i})}function Y2t(e,{x:t=Vs,y:i=h9,...n}={}){return new DU(e,_U({...n,x:t,y:i}))}function Z2t(e,t={}){let{y:i,y1:n,y2:a}=t;i===void 0&&n===void 0&&a===void 0&&(t={...t,y:i=h9});const o={};return i!=null&&(o.y=e),n!=null&&(o.y1=e),a!=null&&(o.y2=e),tft(o,t)}function tft(e={},t={}){const i=P5(t),n=Object.entries(e).map(([a,o])=>{const l=LN(a,t);if(l==null)throw new Error(`missing channel: ${a}`);const[c,d]=Df(l);return{key:a,input:l,output:c,setOutput:d,map:eft(o)}});return{...Dh(t,(a,o)=>{const l=A9(a,i),c=n.map(({input:u})=>A9(a,u)),d=n.map(({setOutput:u})=>u(new Array(a.length)));for(const u of o)for(const h of l?Zf(u,p=>l[p]).values():[u])n.forEach(({map:p},f)=>p.mapIndex(h,c[f],d[f]));return{data:a,facets:o}}),...Object.fromEntries(n.map(({key:a,output:o})=>[a,o]))}}function eft(e){if(e==null)throw new Error("missing map");if(typeof e.mapIndex=="function")return e;if(typeof e.map=="function"&&Ul(e))return ift(e);if(typeof e=="function")return Xg(kN(e));switch(`${e}`.toLowerCase()){case"cumsum":return rft;case"rank":return Xg((t,i)=>TB(t,n=>i[n]));case"quantile":return Xg((t,i)=>nft(t,n=>i[n]))}throw new Error(`invalid map: ${e}`)}function ift(e){return console.warn("deprecated map interface; implement mapIndex instead."),{mapIndex:e.map.bind(e)}}function nft(e,t){const i=k8(e,t)-1;return TB(e,t).map(n=>n/i)}function Xg(e){return{mapIndex(t,i,n){const a=e(t,i);if(a.length!==t.length)throw new Error("map function returned a mismatched length");for(let o=0,l=t.length;o<l;++o)n[t[o]]=a[o]}}}const rft={mapIndex(e,t,i){let n=0;for(const a of e)i[a]=n+=t[a]}};function aft(e={},t){return arguments.length===1&&(t=e),Z2t(oft(e),t)}function oft(e={}){typeof e=="number"&&(e={k:e});let{k:t,reduce:i,shift:n,anchor:a,strict:o}=e;if(a===void 0&&n!==void 0&&(a=lft(n),Sl(`Warning: the shift option is deprecated; please use anchor "${a}" instead.`)),!((t=Math.floor(t))>0))throw new Error(`invalid k: ${t}`);return cft(i)(t,sft(a,t),o)}function sft(e="middle",t){switch(`${e}`.toLowerCase()){case"middle":return t-1>>1;case"start":return 0;case"end":return t-1}throw new Error(`invalid anchor: ${e}`)}function lft(e){switch(`${e}`.toLowerCase()){case"centered":return"middle";case"leading":return"start";case"trailing":return"end"}throw new Error(`invalid shift: ${e}`)}function cft(e="mean"){if(typeof e=="string"){if(/^p\d{2}$/i.test(e))return W4(xN(e));switch(e.toLowerCase()){case"deviation":return W4(Hy);case"max":return K4((t,i)=>v9(t,n=>i[n]));case"mean":return uft;case"median":return W4(Qd);case"min":return K4((t,i)=>Hr(t,n=>i[n]));case"mode":return K4((t,i)=>N8(t,n=>i[n]));case"sum":return PU;case"variance":return W4(Gy);case"difference":return fft;case"ratio":return mft;case"first":return pft;case"last":return gft}}if(typeof e!="function")throw new Error(`invalid reduce: ${e}`);return K4(kN(e))}function W4(e){return(t,i,n)=>n?{mapIndex(a,o,l){const c=u=>o[u]==null?NaN:+o[u];let d=0;for(let u=0;u<t-1;++u)isNaN(c(u))&&++d;for(let u=0,h=a.length-t+1;u<h;++u)isNaN(c(u+t-1))&&++d,l[a[u+i]]=d===0?e(Zu(a,u,u+t),c):NaN,isNaN(c(u))&&--d}}:{mapIndex(a,o,l){const c=d=>o[d]==null?NaN:+o[d];for(let d=-i;d<0;++d)l[a[d+i]]=e(Zu(a,0,d+t),c);for(let d=0,u=a.length-i;d<u;++d)l[a[d+i]]=e(Zu(a,d,d+t),c)}}}function K4(e){return(t,i,n)=>n?{mapIndex(a,o,l){let c=0;for(let d=0;d<t-1;++d)c+=io(o[a[d]]);for(let d=0,u=a.length-t+1;d<u;++d)c+=io(o[a[d+t-1]]),c===t&&(l[a[d+i]]=e(Zu(a,d,d+t),o)),c-=io(o[a[d]])}}:{mapIndex(a,o,l){for(let c=-i;c<0;++c)l[a[c+i]]=e(Zu(a,0,c+t),o);for(let c=0,d=a.length-i;c<d;++c)l[a[c+i]]=e(Zu(a,c,c+t),o)}}}function PU(e,t,i){return i?{mapIndex(n,a,o){let l=0,c=0;for(let d=0;d<e-1;++d){const u=a[n[d]];u===null||isNaN(u)?++l:c+=+u}for(let d=0,u=n.length-e+1;d<u;++d){const h=a[n[d]],p=a[n[d+e-1]];p===null||isNaN(p)?++l:c+=+p,o[n[d+t]]=l===0?c:NaN,h===null||isNaN(h)?--l:c-=+h}}}:{mapIndex(n,a,o){let l=0;const c=n.length;for(let d=0,u=Math.min(c,e-t-1);d<u;++d)l+=+a[n[d]]||0;for(let d=-t,u=c-t;d<u;++d)l+=+a[n[d+e-1]]||0,o[n[d+t]]=l,l-=+a[n[d]]||0}}}function uft(e,t,i){if(i){const n=PU(e,t,i);return{mapIndex(a,o,l){n.mapIndex(a,o,l);for(let c=0,d=a.length-e+1;c<d;++c)l[a[c+t]]/=e}}}else return{mapIndex(n,a,o){let l=0,c=0;const d=n.length;for(let u=0,h=Math.min(d,e-t-1);u<h;++u){let p=a[n[u]];p!==null&&!isNaN(p=+p)&&(l+=p,++c)}for(let u=-t,h=d-t;u<h;++u){let p=a[n[u+e-1]],f=a[n[u]];p!==null&&!isNaN(p=+p)&&(l+=p,++c),o[n[u+t]]=l/c,f!==null&&!isNaN(f=+f)&&(l-=f,--c)}}}}function dft(e,t,i,n){for(let a=i+n;i<a;++i){const o=e[t[i]];if(io(o))return o}}function hft(e,t,i,n){for(let a=i+n-1;a>=i;--a){const o=e[t[a]];if(io(o))return o}}function kU(e,t,i,n){for(let a=i+n;i<a;++i){let o=e[t[i]];if(o!==null&&!isNaN(o=+o))return o}}function LU(e,t,i,n){for(let a=i+n-1;a>=i;--a){let o=e[t[a]];if(o!==null&&!isNaN(o=+o))return o}}function fft(e,t,i){return i?{mapIndex(n,a,o){for(let l=0,c=n.length-e;l<c;++l){const d=a[n[l]],u=a[n[l+e-1]];o[n[l+t]]=d===null||u===null?NaN:u-d}}}:{mapIndex(n,a,o){for(let l=-t,c=n.length-e+t+1;l<c;++l)o[n[l+t]]=LU(a,n,l,e)-kU(a,n,l,e)}}}function mft(e,t,i){return i?{mapIndex(n,a,o){for(let l=0,c=n.length-e;l<c;++l){const d=a[n[l]],u=a[n[l+e-1]];o[n[l+t]]=d===null||u===null?NaN:u/d}}}:{mapIndex(n,a,o){for(let l=-t,c=n.length-e+t+1;l<c;++l)o[n[l+t]]=LU(a,n,l,e)/kU(a,n,l,e)}}}function pft(e,t,i){return i?{mapIndex(n,a,o){for(let l=0,c=n.length-e;l<c;++l)o[n[l+t]]=a[n[l]]}}:{mapIndex(n,a,o){for(let l=-t,c=n.length-e+t+1;l<c;++l)o[n[l+t]]=dft(a,n,l,e)}}}function gft(e,t,i){return i?{mapIndex(n,a,o){for(let l=0,c=n.length-e;l<c;++l)o[n[l+t]]=a[n[l+e-1]]}}:{mapIndex(n,a,o){for(let l=-t,c=n.length-e+t+1;l<c;++l)o[n[l+t]]=hft(a,n,l,e)}}}const Mft={ariaLabel:"tick",fill:null,stroke:"currentColor"};class yft extends ua{constructor(t,i,n){super(t,i,n,Mft),J3(this,n)}render(t,i,n,a,o){return G9("svg:g",o).call($a,this,a,o).call(this._transform,this,i).call(l=>l.selectAll().data(t).enter().append("line").call(la,this).attr("x1",this._x1(i,n,a)).attr("x2",this._x2(i,n,a)).attr("y1",this._y1(i,n,a)).attr("y2",this._y2(i,n,a)).call(oo,this,n).call(V5,this,n,o)).node()}}class Aft extends yft{constructor(t,i={}){const{x:n,y:a,inset:o=0,insetTop:l=o,insetBottom:c=o}=i;super(t,{x:{value:n,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},i),this.insetTop=Ir(l),this.insetBottom=Ir(c)}_transform(t,i,{x:n}){t.call(wa,i,{x:n},ka,0)}_x1(t,{x:i}){return n=>i[n]}_x2(t,{x:i}){return n=>i[n]}_y1({y:t},{y:i},{marginTop:n}){const{insetTop:a}=this;return i&&t?o=>i[o]+a:n+a}_y2({y:t},{y:i},{height:n,marginBottom:a}){const{insetBottom:o}=this;return i&&t?l=>i[l]+t.bandwidth()-o:n-a-o}}function $r(e,{x:t=h9,...i}={}){return new Aft(e,{...i,x:t})}function vft(e,t){return bft("y",e,t)}function bft(e,t,{x1:i,x2:n,y1:a,y2:o,x:l=i===void 0&&n===void 0?Vs:void 0,y:c=a===void 0&&o===void 0?h9:void 0,fill:d,positiveFill:u="#3ca951",negativeFill:h="#4269d0",fillOpacity:p=1,positiveFillOpacity:f=p,negativeFillOpacity:M=p,stroke:g,strokeOpacity:y,z:b=Bo(g)[0],clip:v,tip:C,render:w,..._}={}){return[i,n]=RS(l,i,n),[a,o]=RS(c,a,o),i===n&&a===o&&(a=dc(0)),{tip:C}=Ph({tip:C},"x"),Kv(ia(u)?null:Object.assign(xS(t,{x1:i,x2:n,y1:a,y2:o,z:b,fill:u,fillOpacity:f,render:ph(w,DS(e,!0)),clip:v,..._}),{ariaLabel:"positive difference"}),ia(h)?null:Object.assign(xS(t,{x1:i,x2:n,y1:a,y2:o,z:b,fill:h,fillOpacity:M,render:ph(w,DS(e,!1)),clip:v,..._}),{ariaLabel:"negative difference"}),pb(t,{x:n,y:o,z:b,stroke:g,strokeOpacity:y,tip:C,clip:!0,..._}))}function RS(e,t,i){return t===void 0&&i===void 0?t=i=dc(e):t===void 0?(i=dc(i),t=e===void 0?i:dc(e)):i===void 0?(t=dc(t),i=e===void 0?t:dc(e)):(t=dc(t),i=dc(i)),[t,i]}function dc(e){let t;const{value:i,label:n=Xc(i)}=Rh(e);return{transform:a=>t||(t=A9(a,i)),label:n}}function DS(e,t){const i="x",n=`${i}1`,a=`${i}2`,o=`${e}1`,l=`${e}2`;return(c,d,u,h,p,f)=>{const{[n]:M,[a]:g}=u,y=new Float32Array(M.length),b=new Float32Array(g.length),v=h.height;(t===fF(d[e])<0?y:b).fill(v);const C=f(c,d,{...u,[a]:M,[l]:b},h,p),w=f(c,d,{...u,[n]:g,[o]:y},h,p),_=C.querySelector("g")??C,E=w.querySelector("g")??w;for(let S=0;_.firstChild;S+=2){const I=vF(),T=G9("svg:clipPath",p).attr("id",I).node();T.appendChild(_.firstChild),E.childNodes[S].setAttribute("clip-path",`url(#${I})`),E.insertBefore(T,E.childNodes[S])}return w}}const NU={ariaLabel:"waffle"};class Cft extends TU{constructor(t,{unit:i=1,gap:n=1,round:a,render:o,multiple:l,...c}={}){super(t,{...c,render:ph(o,FU("x"))},NU),this.unit=Math.max(0,i),this.gap=+n,this.round=UU(a),this.multiple=JU(l)}}class _ft extends IU{constructor(t,{unit:i=1,gap:n=1,round:a,render:o,multiple:l,...c}={}){super(t,{...c,render:ph(o,FU("y"))},NU),this.unit=Math.max(0,i),this.gap=+n,this.round=UU(a),this.multiple=JU(l)}}function FU(e){return function(t,i,n,a,o){const{unit:l,gap:c,rx:d,ry:u,round:h}=this,{document:p}=o,f=n.channels[`${e}1`].value,M=n.channels[`${e}2`].value,g=this[e==="y"?"_width":"_height"](i,n,a),y=this[e==="y"?"_x":"_y"](i,n,a),b=l*Eft(i.scales[e]),{multiple:v=Math.max(1,Math.floor(Math.sqrt(g/b)))}=this,C=Math.min(g/v,b*v),w=b*v,_=e==="y"?([N,P])=>[N*C,-P*w]:([N,P])=>[P*w,N*C],E=(g-v*C)/2,S=typeof y=="function"?N=>y(N)+E:y+E,I=i[e](0),T=Adt(),k=p.createElementNS(Dc.svg,"pattern");k.setAttribute("width",e==="y"?C:w),k.setAttribute("height",e==="y"?w:C),k.setAttribute("patternUnits","userSpaceOnUse");const D=k.appendChild(p.createElementNS(Dc.svg,"rect"));return D.setAttribute("x",c/2),D.setAttribute("y",c/2),D.setAttribute("width",(e==="y"?C:w)-c),D.setAttribute("height",(e==="y"?w:C)-c),d!=null&&D.setAttribute("rx",d),u!=null&&D.setAttribute("ry",u),G9("svg:g",o).call($a,this,a,o).call(this._transform,this,i).call(N=>N.selectAll().data(t).enter().append(()=>k.cloneNode(!0)).attr("id",P=>`${T}-${P}`).select("rect").call(la,this).call(oo,this,n)).call(N=>N.selectAll().data(t).enter().append("path").attr("transform",e==="y"?Nf`translate(${S},${I})`:Nf`translate(${I},${S})`).attr("d",P=>`M${Ty(h(f[P]/l),h(M[P]/l),v).map(_).join("L")}Z`).attr("fill",P=>`url(#${T}-${P})`).attr("stroke",this.stroke==null?null:P=>`url(#${T}-${P})`)).node()}}function Ty(e,t,i){if(e<0||t<0){const n=Math.ceil(-Math.min(e,t)/i);return Ty(e+n*i,t+n*i,i).map(([a,o])=>[a,o-n])}return t<e?Ty(t,e,i):[[0,Math.ceil(e/i)],[Math.floor(e%i),Math.ceil(e/i)],[Math.floor(e%i),Math.floor(e/i)+e%1],[Math.ceil(e%i),Math.floor(e/i)+e%1],...e%i>i-1?[]:[[Math.ceil(e%i),Math.floor(e/i)],[i,Math.floor(e/i)]],[i,Math.floor(t/i)],[Math.ceil(t%i),Math.floor(t/i)],[Math.ceil(t%i),Math.floor(t/i)+t%1],[Math.floor(t%i),Math.floor(t/i)+t%1],...t%i<1?[]:[[Math.floor(t%i),Math.ceil(t/i)],[0,Math.ceil(t/i)]]]}function UU(e){if(e===void 0||e===!1)return Number;if(e===!0)return Math.round;if(typeof e!="function")throw new Error(`invalid round: ${e}`);return e}function JU(e){return e===void 0?void 0:Math.max(1,Math.floor(e))}function Eft({domain:e,range:t}){return PS(t)/PS(e)}function PS(e){const[t,i]=W9(e);return i-t}function Ss(e,t={}){return Ih(t)||(t={...t,y:Vs,x2:h9}),new Cft(e,sb(Yv(ob(t))))}function wft(e,t={}){return Ih(t)||(t={...t,x:Vs,y2:h9}),new _ft(e,K5(Zv(W5(t))))}ua.prototype.plot=function({marks:e=[],...t}={}){return On({...t,marks:[...e,this]})};function Oft(e,t,i){const n=e.slice();return n[16]=t[i],n}function Sft(e){let t;return{c(){t=q("option"),t.textContent=`${e[16]}`,t.__value=e[16],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function xft(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D=je(["velocity","piano","channel","none"]),N=[];for(let P=0;P<4;P+=1)N[P]=Sft(Oft(e,D,P));return S=new j0({props:{noteOn:e[7],noteOff:e[8]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`The guitar tab below shows incoming MIDI notes as rectangles with their
        string (y position) and start and end times (x left and right side of
        the rectangle). The color encodes the MIDI velocity, which tells how
        hard/loud a note was played.`,c=K(),d=q("div"),u=q("label"),h=te(`color
            `),p=q("select");for(let P=0;P<4;P+=1)N[P].c();f=K(),M=q("label"),g=te(`time
            `),y=q("input"),b=K(),v=q("div"),C=K(),w=q("div"),_=q("button"),_.textContent="reset",E=K(),Pt(S.$$.fragment),mt(l,"class","explanation"),e[3]===void 0&&J9(()=>e[9].call(p)),mt(y,"type","number"),mt(y,"min","10"),mt(y,"max","300"),mt(y,"step","10"),mt(M,"title","time in seconds for past notes to be shown"),mt(d,"class","control"),mt(v,"class","visualization"),mt(_,"title","Clear all played notes"),mt(w,"class","control"),mt(t,"class","app")},m(P,F){bt(P,t,F),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(d,u),B(u,h),B(u,p);for(let U=0;U<4;U+=1)N[U]&&N[U].m(p,null);xr(p,e[3],!0),B(d,f),B(d,M),B(M,g),B(M,y),qi(y,e[2]),B(t,b),B(t,v),e[11](v),B(t,C),B(t,w),B(w,_),B(t,E),Rt(S,t,null),I=!0,T||(k=[ze(p,"change",e[9]),ze(y,"input",e[10]),ze(_,"click",e[12])],T=!0)},p(P,[F]){(!I||F&1)&&n!==(n=P[0].title+"")&&Qe(a,n),F&8&&xr(p,P[3]),F&4&&Rr(y.value)!==P[2]&&qi(y,P[2])},i(P){I||(wt(S.$$.fragment,P),I=!0)},o(P){It(S.$$.fragment,P),I=!1},d(P){P&&vt(t),Ti(N,P),e[11](null),Dt(S),T=!1,t0(k)}}}let Tft=900,Ift=500,Bft=6;function Rft(e,t,i){let{toolInfo:n}=t,a=[64,59,55,50,45,40],o,l=30,c="velocity",d=0,u=[],h=new Map,p=null;const f=w=>{const _=(w.timestamp-d)/1e3,E=w.message.channel-1,S={number:w.note.number,velocity:w.rawVelocity,time:_,channel:w.message.channel,string:E,fret:w.note.number-a[E]};if(h.has(w.note.number)){const I=h.get(w.note.number);I.end===void 0&&(I.end=_)}u.push(S),h.set(w.note.number,S)},M=w=>{if(h.has(w.note.number)){const _=h.get(w.note.number),E=(w.timestamp-d)/1e3;_.end=E}},g=()=>{const w=(performance.now()-d)/1e3,_=w-l,E=u.filter(N=>N.end>_||N.end===void 0),S=W9(E,N=>N.number),I=a.map(Fa);let T,k;c==="velocity"?(T={label:"Note velocity",scheme:"blues",domain:[0,127]},k="velocity"):c==="piano"?(T={label:"Piano key color",domain:["black","white"],range:["black","white"]},k=N=>hc(N.number)?"black":"white"):c==="channel"?(T={type:"categorical",label:"MIDI channel",scheme:"tableau10"},k=N=>N.channel):c==="none"&&(k="#ddd");const D=On({insetRight:10,width:Tft,height:Ift,marginLeft:60,marginBottom:40,padding:0,x:{label:"Time in seconds",domain:[_,w]},y:{label:"String",grid:!0,domain:fi(0,Bft),tickFormat:N=>I[N]},color:{...T,legend:c!=="none",marginLeft:100,width:300},marks:[T0(fi(Math.ceil((S[0]-1)/12)*12,S[1]+2,12)),q9([w],{stroke:"#888"}),BU(E,{clip:!0,x1:"time",x2:N=>N.end===void 0?w:Math.max(N.end,N.time+.025),y:"string",fill:k,stroke:"#ccc",rx:5}),J0(E,{clip:!0,x:"time",y:"string",fill:"black",stroke:"white",text:"fret",textAnchor:"start",dx:2})]});i(1,o.textContent="",o),o.appendChild(D),p=requestAnimationFrame(g)};yr(()=>{i(4,d=performance.now()),p=requestAnimationFrame(g)}),c0(()=>{cancelAnimationFrame(p)});function y(){c=Tl(this),i(3,c)}function b(){l=Rr(this.value),i(2,l)}function v(w){he[w?"unshift":"push"](()=>{o=w,i(1,o)})}const C=()=>{confirm("Reset played notes?")&&(i(5,u=[]),i(6,h=new Map),i(4,d=performance.now()))};return e.$$set=w=>{"toolInfo"in w&&i(0,n=w.toolInfo)},[n,o,l,c,d,u,h,f,M,y,b,v,C]}class Dft extends Zi{constructor(t){super(),Yi(this,t,Rft,xft,Xi,{toolInfo:0})}}function Pft(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k=e[1]>=6?"guitar":"bass guitar",D,N,P=e[2]===0?"in standard tuning":`${Math.abs(e[2])} ${e[2]<0?"steps down":"steps up"}`,F,U,V=e[3]?"and dropped":"",z,G,H,J,Z,j,W,et,dt,ht,st;function St(yt){e[8](yt)}let At={label:"dropped"};e[3]!==void 0&&(At.checked=e[3]),g=new zn({props:At}),he.push(()=>Ee(g,"checked",St));function xt(yt){e[9](yt)}let gt={label:"octave"};return e[4]!==void 0&&(gt.checked=e[4]),v=new zn({props:gt}),he.push(()=>Ee(v,"checked",xt)),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("label"),c=te(`strings
        `),d=q("input"),u=K(),h=q("label"),p=te(`tune up/down (semitones)
        `),f=q("input"),M=K(),Pt(g.$$.fragment),b=K(),Pt(v.$$.fragment),w=K(),_=q("div"),E=q("p"),S=te("You selected a "),I=te(e[1]),T=te(" string "),D=te(k),N=te(", tuned "),F=te(P),U=K(),z=te(V),G=K(),H=q("p"),J=te("Resulting tuning, low to high:"),Z=q("br"),j=K(),W=q("b"),et=te(e[5]),mt(d,"type","number"),mt(d,"min","4"),mt(d,"max","8"),mt(d,"step","1"),mt(f,"type","number"),mt(f,"min","-12"),mt(f,"max","12"),mt(f,"step","1")},m(yt,lt){bt(yt,t,lt),B(t,i),B(i,a),B(t,o),B(t,l),B(l,c),B(l,d),qi(d,e[1]),B(t,u),B(t,h),B(h,p),B(h,f),qi(f,e[2]),B(t,M),Rt(g,t,null),B(t,b),Rt(v,t,null),B(t,w),B(t,_),B(_,E),B(E,S),B(E,I),B(E,T),B(E,D),B(E,N),B(E,F),B(E,U),B(E,z),B(_,G),B(_,H),B(H,J),B(H,Z),B(H,j),B(H,W),B(W,et),dt=!0,ht||(st=[ze(d,"input",e[6]),ze(f,"input",e[7])],ht=!0)},p(yt,[lt]){(!dt||lt&1)&&n!==(n=yt[0].title+"")&&Qe(a,n),lt&2&&Rr(d.value)!==yt[1]&&qi(d,yt[1]),lt&4&&Rr(f.value)!==yt[2]&&qi(f,yt[2]);const zt={};!y&&lt&8&&(y=!0,zt.checked=yt[3],_e(()=>y=!1)),g.$set(zt);const kt={};!C&&lt&16&&(C=!0,kt.checked=yt[4],_e(()=>C=!1)),v.$set(kt),(!dt||lt&2)&&Qe(I,yt[1]),(!dt||lt&2)&&k!==(k=yt[1]>=6?"guitar":"bass guitar")&&Qe(D,k),(!dt||lt&4)&&P!==(P=yt[2]===0?"in standard tuning":`${Math.abs(yt[2])} ${yt[2]<0?"steps down":"steps up"}`)&&Qe(F,P),(!dt||lt&8)&&V!==(V=yt[3]?"and dropped":"")&&Qe(z,V),(!dt||lt&32)&&Qe(et,yt[5])},i(yt){dt||(wt(g.$$.fragment,yt),wt(v.$$.fragment,yt),dt=!0)},o(yt){It(g.$$.fragment,yt),It(v.$$.fragment,yt),dt=!1},d(yt){yt&&vt(t),Dt(g),Dt(v),ht=!1,t0(st)}}}function kft(e,t,i){let n,{toolInfo:a}=t,o=6,l=0,c=!1,d=!0;const u=(g,y,b,v)=>{let w=Xnt.get(g>5?"Guitar":"Bass").get(g)[0].pitches.map(_=>_+y);return b&&(w[0]-=2),v?w=w.map(_=>Rs[_].label):w=w.map(_=>Rs[_].name),w.join(" ")};function h(){o=Rr(this.value),i(1,o)}function p(){l=Rr(this.value),i(2,l)}function f(g){c=g,i(3,c)}function M(g){d=g,i(4,d)}return e.$$set=g=>{"toolInfo"in g&&i(0,a=g.toolInfo)},e.$$.update=()=>{e.$$.dirty&30&&i(5,n=u(o,l,c,d))},[a,o,l,c,d,n,h,p,f,M]}class Lft extends Zi{constructor(t){super(),Yi(this,t,kft,Pft,Xi,{toolInfo:0})}}function kS(e,t,i){const n=e.slice();return n[5]=t[i],n}function LS(e){let t,i,n=e[5].timestamp.toFixed(1)+"",a,o,l,c=e[5].port.manufacturer+"",d,u,h,p=e[5].port.name+"",f,M,g,y=e[5].message.channel+"",b,v,C,w=e[5].message.command+"",_,E,S=e[5].message.type+"",I,T,k,D=e[5].message.dataBytes+"",N,P,F,U=(["noteon","noteoff"].includes(e[5].message.type)?Fa(e[5].message.dataBytes[0]):"")+"",V,z,G,H=(["noteon","noteoff"].includes(e[5].message.type)?e[5].message.dataBytes[1]:"")+"",J,Z;return{c(){t=q("tr"),i=q("td"),a=te(n),o=K(),l=q("td"),d=te(c),u=K(),h=q("td"),f=te(p),M=K(),g=q("td"),b=te(y),v=K(),C=q("td"),_=te(w),E=K(),I=te(S),T=K(),k=q("td"),N=te(D),P=K(),F=q("td"),V=te(U),z=K(),G=q("td"),J=te(H),Z=K(),mt(i,"class","svelte-1x83ix2"),mt(l,"class","svelte-1x83ix2"),mt(h,"class","svelte-1x83ix2"),mt(g,"class","svelte-1x83ix2"),mt(C,"class","svelte-1x83ix2"),mt(k,"class","svelte-1x83ix2"),mt(F,"class","svelte-1x83ix2"),mt(G,"class","svelte-1x83ix2"),mt(t,"class","svelte-1x83ix2")},m(j,W){bt(j,t,W),B(t,i),B(i,a),B(t,o),B(t,l),B(l,d),B(t,u),B(t,h),B(h,f),B(t,M),B(t,g),B(g,b),B(t,v),B(t,C),B(C,_),B(C,E),B(C,I),B(t,T),B(t,k),B(k,N),B(t,P),B(t,F),B(F,V),B(t,z),B(t,G),B(G,J),B(t,Z)},p(j,W){W&2&&n!==(n=j[5].timestamp.toFixed(1)+"")&&Qe(a,n),W&2&&c!==(c=j[5].port.manufacturer+"")&&Qe(d,c),W&2&&p!==(p=j[5].port.name+"")&&Qe(f,p),W&2&&y!==(y=j[5].message.channel+"")&&Qe(b,y),W&2&&w!==(w=j[5].message.command+"")&&Qe(_,w),W&2&&S!==(S=j[5].message.type+"")&&Qe(I,S),W&2&&D!==(D=j[5].message.dataBytes+"")&&Qe(N,D),W&2&&U!==(U=(["noteon","noteoff"].includes(j[5].message.type)?Fa(j[5].message.dataBytes[0]):"")+"")&&Qe(V,U),W&2&&H!==(H=(["noteon","noteoff"].includes(j[5].message.type)?j[5].message.dataBytes[1]:"")+"")&&Qe(J,H)},d(j){j&&vt(t)}}}function Nft(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M=e[1].length+"",g,y,b,v,C,w,_,E,S,I,T,k,D=je(e[1].slice(0,100)),N=[];for(let P=0;P<D.length;P+=1)N[P]=LS(kS(e,D,P));return S=new j0({props:{midiMessage:e[2]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent="Input anything on a MIDI device to see the incoming messages below.",c=K(),d=q("div"),u=q("button"),u.textContent="reset",h=K(),p=q("div"),f=q("p"),g=te(M),y=te(" messages received"),b=K(),v=q("table"),C=q("thead"),C.innerHTML='<tr class="svelte-1x83ix2"><th>timestamp</th> <th>manufacturer</th> <th>name</th> <th>channel</th> <th>command</th> <th>data</th> <th>note</th> <th>velocity</th></tr>',w=K(),_=q("tbody");for(let P=0;P<N.length;P+=1)N[P].c();E=K(),Pt(S.$$.fragment),mt(l,"class","explanation"),mt(u,"title","Clear all messages"),mt(d,"class","control"),mt(v,"class","svelte-1x83ix2"),mt(p,"class","visualization"),mt(t,"class","app")},m(P,F){bt(P,t,F),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(d,u),B(t,h),B(t,p),B(p,f),B(f,g),B(f,y),B(p,b),B(p,v),B(v,C),B(v,w),B(v,_);for(let U=0;U<N.length;U+=1)N[U]&&N[U].m(_,null);B(t,E),Rt(S,t,null),I=!0,T||(k=ze(u,"click",e[3]),T=!0)},p(P,[F]){if((!I||F&1)&&n!==(n=P[0].title+"")&&Qe(a,n),(!I||F&2)&&M!==(M=P[1].length+"")&&Qe(g,M),F&2){D=je(P[1].slice(0,100));let U;for(U=0;U<D.length;U+=1){const V=kS(P,D,U);N[U]?N[U].p(V,F):(N[U]=LS(V),N[U].c(),N[U].m(_,null))}for(;U<N.length;U+=1)N[U].d(1);N.length=D.length}},i(P){I||(wt(S.$$.fragment,P),I=!0)},o(P){It(S.$$.fragment,P),I=!1},d(P){P&&vt(t),Ti(N,P),Dt(S),T=!1,k()}}}function Fft(e,t,i){let{toolInfo:n}=t,a=[];const o=c=>{i(1,a=[c,...a])};yr(()=>{performance.now()});const l=()=>{i(1,a=[])};return e.$$set=c=>{"toolInfo"in c&&i(0,n=c.toolInfo)},[n,a,o,l]}class Uft extends Zi{constructor(t){super(),Yi(this,t,Fft,Nft,Xi,{toolInfo:0})}}const Qo={accent:"#daecfb",accentDark:"#cadae8",wrong:"crimson"},xc={noteColormap:v9t,noteColormapAccessible:b9t,noteColormapAccessible2:C9t,newton:_9t,castel:E9t,field:w9t,jameson:O9t,seemann:S9t,rimington:x9t,bishop:T9t,helmholtz:I9t,scriabin:B9t,klein:R9t,aeppli:D9t,belmont:P9t,zieverink:k9t};function NS(e,t,i){const n=e.slice();return n[2]=t[i],n}function FS(e,t,i){const n=e.slice();return n[5]=t[i],n[7]=i,n}function Jft(e,t,i){const n=e.slice();return n[8]=t[i],n}function $ft(e){let t;return{c(){t=q("th"),t.textContent=`${e[8]}`},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function US(e){let t,i=e[5]+"",n;return{c(){t=q("td"),n=te(i),mt(t,"title",Dr[e[7]]),sn(t,"background-color",e[5]),sn(t,"color",y9t(e[5])>50?"black":"white"),sn(t,"font-size","12px"),mt(t,"class","svelte-1xnq8ek")},m(a,o){bt(a,t,o),B(t,n)},p:We,d(a){a&&vt(t)}}}function JS(e){let t,i,n,a,o=je(e[2].colors),l=[];for(let c=0;c<o.length;c+=1)l[c]=US(FS(e,o,c));return{c(){t=q("tr"),i=q("td"),i.textContent=`${e[2].name}`,n=K();for(let c=0;c<l.length;c+=1)l[c].c();a=K(),mt(i,"class","svelte-1xnq8ek"),mt(t,"class","svelte-1xnq8ek")},m(c,d){bt(c,t,d),B(t,i),B(t,n);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(t,null);B(t,a)},p(c,d){if(d&2){o=je(c[2].colors);let u;for(u=0;u<o.length;u+=1){const h=FS(c,o,u);l[u]?l[u].p(h,d):(l[u]=US(h),l[u].c(),l[u].m(t,a))}for(;u<l.length;u+=1)l[u].d(1);l.length=o.length}},d(c){c&&vt(t),Ti(l,c)}}}function Gft(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b=je(Dr),v=[];for(let _=0;_<b.length;_+=1)v[_]=$ft(Jft(e,b,_));let C=je(e[1]),w=[];for(let _=0;_<C.length;_+=1)w[_]=JS(NS(e,C,_));return{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`See <a href="https://github.com/fheyen/musicvis-lib/blob/905edbdc8280e8ca76a329ffc83a160f3cda674a/src/utils/NoteColorUtils.js" target="_blank">here</a>
        for literature references and color string arrays. Most schemes are found
        in:
        <i>Schmidt, Kathryn L. (2019) Meaningful Music Visualizations. Purdue
            University Graduate School. <a href="https://doi.org/10.25394/PGS.7498700.v1" target="_blank">DOI</a>
            (page 13)</i>`,c=K(),d=q("div"),u=q("table"),h=q("thead"),p=q("tr"),f=q("th"),f.textContent="name",M=K();for(let _=0;_<v.length;_+=1)v[_].c();g=K(),y=q("tbody");for(let _=0;_<w.length;_+=1)w[_].c();mt(l,"class","explanation"),mt(p,"class","svelte-1xnq8ek"),mt(u,"class","svelte-1xnq8ek"),mt(d,"class","visualization"),mt(t,"class","app")},m(_,E){bt(_,t,E),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(d,u),B(u,h),B(h,p),B(p,f),B(p,M);for(let S=0;S<v.length;S+=1)v[S]&&v[S].m(p,null);B(u,g),B(u,y);for(let S=0;S<w.length;S+=1)w[S]&&w[S].m(y,null)},p(_,[E]){if(E&1&&n!==(n=_[0].title+"")&&Qe(a,n),E&2){C=je(_[1]);let S;for(S=0;S<C.length;S+=1){const I=NS(_,C,S);w[S]?w[S].p(I,E):(w[S]=JS(I),w[S].c(),w[S].m(y,null))}for(;S<w.length;S+=1)w[S].d(1);w.length=C.length}},i:We,o:We,d(_){_&&vt(t),Ti(v,_),Ti(w,_)}}}function Hft(e,t,i){let{toolInfo:n}=t;const a=[];for(const o in xc)xc.hasOwnProperty(o)&&a.push({name:o,colors:xc[o].map(l=>Pc(l).formatHex())});return e.$$set=o=>{"toolInfo"in o&&i(0,n=o.toolInfo)},[n,a]}class Vft extends Zi{constructor(t){super(),Yi(this,t,Hft,Gft,Xi,{toolInfo:0})}}function Qft(e,t,i){const n=e.slice();return n[17]=t[i],n}function zft(e){let t;return{c(){t=q("option"),t.textContent=`${e[17]}`,t.__value=e[17],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function jft(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P;function F(G){e[9](G)}let U={label:"ignore octave",title:"If active, only the note's chroma will be considered which reduces the y axis to the twelve notes"};e[4]!==void 0&&(U.checked=e[4]),u=new zn({props:U}),he.push(()=>Ee(u,"checked",F));let V=je(["velocity","piano","channel","none"]),z=[];for(let G=0;G<4;G+=1)z[G]=zft(Qft(e,V,G));return k=new j0({props:{noteOn:e[7],noteOff:e[8]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`The piano roll below shows incoming MIDI notes as rectangles with their
        pitch (y position) and start and end times (x left and right side of the
        rectangle). The color encodes the MIDI velocity, which tells how
        hard/loud a note was played.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),f=q("label"),M=te(`color
            `),g=q("select");for(let G=0;G<4;G+=1)z[G].c();y=K(),b=q("label"),v=te(`time
            `),C=q("input"),w=K(),_=q("div"),E=K(),S=q("div"),I=q("button"),I.textContent="reset",T=K(),Pt(k.$$.fragment),mt(l,"class","explanation"),e[3]===void 0&&J9(()=>e[10].call(g)),mt(C,"type","number"),mt(C,"min","10"),mt(C,"max","300"),mt(C,"step","10"),mt(b,"title","time in seconds for past notes to be shown"),mt(d,"class","control"),mt(_,"class","visualization"),mt(I,"title","Clear all played notes"),mt(S,"class","control"),mt(t,"class","app")},m(G,H){bt(G,t,H),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),B(d,f),B(f,M),B(f,g);for(let J=0;J<4;J+=1)z[J]&&z[J].m(g,null);xr(g,e[3],!0),B(d,y),B(d,b),B(b,v),B(b,C),qi(C,e[2]),B(t,w),B(t,_),e[12](_),B(t,E),B(t,S),B(S,I),B(t,T),Rt(k,t,null),D=!0,N||(P=[ze(g,"change",e[10]),ze(C,"input",e[11]),ze(I,"click",e[13])],N=!0)},p(G,[H]){(!D||H&1)&&n!==(n=G[0].title+"")&&Qe(a,n);const J={};!h&&H&16&&(h=!0,J.checked=G[4],_e(()=>h=!1)),u.$set(J),H&8&&xr(g,G[3]),H&4&&Rr(C.value)!==G[2]&&qi(C,G[2])},i(G){D||(wt(u.$$.fragment,G),wt(k.$$.fragment,G),D=!0)},o(G){It(u.$$.fragment,G),It(k.$$.fragment,G),D=!1},d(G){G&&vt(t),Dt(u),Ti(z,G),e[12](null),Dt(k),N=!1,t0(P)}}}let Wft=900,Kft=500;function qft(e,t,i){let{toolInfo:n}=t,a,o=30,l="velocity",c=!0,d=0,u=[];const h=new Map;let p=null;const f=_=>{const E=(_.timestamp-d)/1e3,S={number:_.note.number,velocity:_.rawVelocity,time:E,channel:_.message.channel};if(h.has(_.note.number)){const I=h.get(_.note.number);I.end===void 0&&(I.end=E)}u.push(S),h.set(_.note.number,S)},M=_=>{if(h.has(_.note.number)){const E=h.get(_.note.number),S=(_.timestamp-d)/1e3;E.end=S}},g=()=>{const _=(performance.now()-d)/1e3,E=_-o,S=u.filter(N=>N.end>E||N.end===void 0),I=c?[0,11]:W9(S,N=>N.number);let T,k;l==="velocity"?(T={label:"Note velocity",scheme:"blues",domain:[0,127]},k="velocity"):l==="piano"?(T={label:"Piano key color",domain:["black","white"],range:["black","#f8f8f8"]},k=N=>hc(N.number)?"black":"white"):l==="channel"?(T={type:"categorical",label:"MIDI channel",scheme:"tableau10"},k=N=>N.channel):l==="none"&&(k="#ddd");const D=On({insetRight:10,width:Wft,height:Kft,marginBottom:40,padding:0,x:{label:"Time in seconds",domain:[E,_]},y:{label:"MIDI Pitch",grid:!0,reverse:!0,domain:fi(I[0]-1,I[1]+2),tickFormat:c?N=>{var P;return((P=Rs[N])==null?void 0:P.name)??""}:N=>{var P;return((P=Rs[N])==null?void 0:P.label)??""}},color:{...T,legend:l!=="none",marginLeft:100,width:300},marks:[T0(F9t(I[0]-1,I[1]+2)),q9([_],{stroke:"#888"}),BU(S,{clip:!0,x1:"time",x2:N=>N.end===void 0?_:Math.max(N.end,N.time+.025),y:c?N=>N.number%12:N=>N.number,fill:k,stroke:"#ccc",rx:5})]});i(1,a.textContent="",a),a.appendChild(D),p=requestAnimationFrame(g)};yr(()=>{i(5,d=performance.now()),p=requestAnimationFrame(g)}),c0(()=>{cancelAnimationFrame(p)});function y(_){c=_,i(4,c)}function b(){l=Tl(this),i(3,l)}function v(){o=Rr(this.value),i(2,o)}function C(_){he[_?"unshift":"push"](()=>{a=_,i(1,a)})}const w=()=>{confirm("Reset played notes?")&&(i(6,u=[]),i(5,d=performance.now()))};return e.$$set=_=>{"toolInfo"in _&&i(0,n=_.toolInfo)},[n,a,o,l,c,d,u,f,M,y,b,v,C,w]}class Xft extends Zi{constructor(t){super(),Yi(this,t,qft,jft,Xi,{toolInfo:0})}}function Ga(e){if(this.size=e|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=e<<1;for(var t=new Array(this.size*2),i=0;i<t.length;i+=2){const d=Math.PI*i/this.size;t[i]=Math.cos(d),t[i+1]=-Math.sin(d)}this.table=t;for(var n=0,a=1;this.size>a;a<<=1)n++;this._width=n%2===0?n-1:n,this._bitrev=new Array(1<<this._width);for(var o=0;o<this._bitrev.length;o++){this._bitrev[o]=0;for(var l=0;l<this._width;l+=2){var c=this._width-l-2;this._bitrev[o]|=(o>>>l&3)<<c}}this._out=null,this._data=null,this._inv=0}var Yft=Ga;Ga.prototype.fromComplexArray=function(t,i){for(var n=i||new Array(t.length>>>1),a=0;a<t.length;a+=2)n[a>>>1]=t[a];return n};Ga.prototype.createComplexArray=function(){const t=new Array(this._csize);for(var i=0;i<t.length;i++)t[i]=0;return t};Ga.prototype.toComplexArray=function(t,i){for(var n=i||this.createComplexArray(),a=0;a<n.length;a+=2)n[a]=t[a>>>1],n[a+1]=0;return n};Ga.prototype.completeSpectrum=function(t){for(var i=this._csize,n=i>>>1,a=2;a<n;a+=2)t[i-a]=t[a],t[i-a+1]=-t[a+1]};Ga.prototype.transform=function(t,i){if(t===i)throw new Error("Input and output buffers must be different");this._out=t,this._data=i,this._inv=0,this._transform4(),this._out=null,this._data=null};Ga.prototype.realTransform=function(t,i){if(t===i)throw new Error("Input and output buffers must be different");this._out=t,this._data=i,this._inv=0,this._realTransform4(),this._out=null,this._data=null};Ga.prototype.inverseTransform=function(t,i){if(t===i)throw new Error("Input and output buffers must be different");this._out=t,this._data=i,this._inv=1,this._transform4();for(var n=0;n<t.length;n++)t[n]/=this.size;this._out=null,this._data=null};Ga.prototype._transform4=function(){var t=this._out,i=this._csize,n=this._width,a=1<<n,o=i/a<<1,l,c,d=this._bitrev;if(o===4)for(l=0,c=0;l<i;l+=o,c++){const y=d[c];this._singleTransform2(l,y,a)}else for(l=0,c=0;l<i;l+=o,c++){const y=d[c];this._singleTransform4(l,y,a)}var u=this._inv?-1:1,h=this.table;for(a>>=2;a>=2;a>>=2){o=i/a<<1;var p=o>>>2;for(l=0;l<i;l+=o)for(var f=l+p,M=l,g=0;M<f;M+=2,g+=a){const y=M,b=y+p,v=b+p,C=v+p,w=t[y],_=t[y+1],E=t[b],S=t[b+1],I=t[v],T=t[v+1],k=t[C],D=t[C+1],N=w,P=_,F=h[g],U=u*h[g+1],V=E*F-S*U,z=E*U+S*F,G=h[2*g],H=u*h[2*g+1],J=I*G-T*H,Z=I*H+T*G,j=h[3*g],W=u*h[3*g+1],et=k*j-D*W,dt=k*W+D*j,ht=N+J,st=P+Z,St=N-J,At=P-Z,xt=V+et,gt=z+dt,yt=u*(V-et),lt=u*(z-dt),zt=ht+xt,kt=st+gt,Jt=ht-xt,Gt=st-gt,ce=St+lt,ae=At-yt,qt=St-lt,ue=At+yt;t[y]=zt,t[y+1]=kt,t[b]=ce,t[b+1]=ae,t[v]=Jt,t[v+1]=Gt,t[C]=qt,t[C+1]=ue}}};Ga.prototype._singleTransform2=function(t,i,n){const a=this._out,o=this._data,l=o[i],c=o[i+1],d=o[i+n],u=o[i+n+1],h=l+d,p=c+u,f=l-d,M=c-u;a[t]=h,a[t+1]=p,a[t+2]=f,a[t+3]=M};Ga.prototype._singleTransform4=function(t,i,n){const a=this._out,o=this._data,l=this._inv?-1:1,c=n*2,d=n*3,u=o[i],h=o[i+1],p=o[i+n],f=o[i+n+1],M=o[i+c],g=o[i+c+1],y=o[i+d],b=o[i+d+1],v=u+M,C=h+g,w=u-M,_=h-g,E=p+y,S=f+b,I=l*(p-y),T=l*(f-b),k=v+E,D=C+S,N=w+T,P=_-I,F=v-E,U=C-S,V=w-T,z=_+I;a[t]=k,a[t+1]=D,a[t+2]=N,a[t+3]=P,a[t+4]=F,a[t+5]=U,a[t+6]=V,a[t+7]=z};Ga.prototype._realTransform4=function(){var t=this._out,i=this._csize,n=this._width,a=1<<n,o=i/a<<1,l,c,d=this._bitrev;if(o===4)for(l=0,c=0;l<i;l+=o,c++){const Et=d[c];this._singleRealTransform2(l,Et>>>1,a>>>1)}else for(l=0,c=0;l<i;l+=o,c++){const Et=d[c];this._singleRealTransform4(l,Et>>>1,a>>>1)}var u=this._inv?-1:1,h=this.table;for(a>>=2;a>=2;a>>=2){o=i/a<<1;var p=o>>>1,f=p>>>1,M=f>>>1;for(l=0;l<i;l+=o)for(var g=0,y=0;g<=M;g+=2,y+=a){var b=l+g,v=b+f,C=v+f,w=C+f,_=t[b],E=t[b+1],S=t[v],I=t[v+1],T=t[C],k=t[C+1],D=t[w],N=t[w+1],P=_,F=E,U=h[y],V=u*h[y+1],z=S*U-I*V,G=S*V+I*U,H=h[2*y],J=u*h[2*y+1],Z=T*H-k*J,j=T*J+k*H,W=h[3*y],et=u*h[3*y+1],dt=D*W-N*et,ht=D*et+N*W,st=P+Z,St=F+j,At=P-Z,xt=F-j,gt=z+dt,yt=G+ht,lt=u*(z-dt),zt=u*(G-ht),kt=st+gt,Jt=St+yt,Gt=At+zt,ce=xt-lt;if(t[b]=kt,t[b+1]=Jt,t[v]=Gt,t[v+1]=ce,g===0){var ae=st-gt,qt=St-yt;t[C]=ae,t[C+1]=qt;continue}if(g!==M){var ue=At,$e=-xt,ve=st,He=-St,qe=-u*zt,ri=-u*lt,oi=-u*yt,oe=-u*gt,fe=ue+qe,pe=$e+ri,Ot=ve+oe,_t=He-oi,Ht=l+f-g,Tt=l+p-g;t[Ht]=fe,t[Ht+1]=pe,t[Tt]=Ot,t[Tt+1]=_t}}}};Ga.prototype._singleRealTransform2=function(t,i,n){const a=this._out,o=this._data,l=o[i],c=o[i+n],d=l+c,u=l-c;a[t]=d,a[t+1]=0,a[t+2]=u,a[t+3]=0};Ga.prototype._singleRealTransform4=function(t,i,n){const a=this._out,o=this._data,l=this._inv?-1:1,c=n*2,d=n*3,u=o[i],h=o[i+n],p=o[i+c],f=o[i+d],M=u+p,g=u-p,y=h+f,b=l*(h-f),v=M+y,C=g,w=-b,_=M-y,E=g,S=b;a[t]=v,a[t+1]=0,a[t+2]=C,a[t+3]=w,a[t+4]=_,a[t+5]=0,a[t+6]=E,a[t+7]=S};const Zft=wA(Yft);class cf{constructor(t,i){In(this,"_inputLength");In(this,"_fft");In(this,"_bufferSupplier");In(this,"_paddedInputBuffer");In(this,"_transformBuffer");In(this,"_inverseBuffer");if(t<1)throw new Error("Input length must be at least one");this._inputLength=t,this._fft=new Zft(i3t(2*t)),this._bufferSupplier=i,this._paddedInputBuffer=this._bufferSupplier(this._fft.size),this._transformBuffer=this._bufferSupplier(2*this._fft.size),this._inverseBuffer=this._bufferSupplier(2*this._fft.size)}static forFloat32Array(t){return new cf(t,i=>new Float32Array(i))}static forFloat64Array(t){return new cf(t,i=>new Float64Array(i))}static forNumberArray(t){return new cf(t,i=>Array(i))}get inputLength(){return this._inputLength}autocorrelate(t,i=this._bufferSupplier(t.length)){if(t.length!==this._inputLength)throw new Error(`Input must have length ${this._inputLength} but had length ${t.length}`);for(let a=0;a<t.length;a++)this._paddedInputBuffer[a]=t[a];for(let a=t.length;a<this._paddedInputBuffer.length;a++)this._paddedInputBuffer[a]=0;this._fft.realTransform(this._transformBuffer,this._paddedInputBuffer),this._fft.completeSpectrum(this._transformBuffer);const n=this._transformBuffer;for(let a=0;a<n.length;a+=2)n[a]=n[a]*n[a]+n[a+1]*n[a+1],n[a+1]=0;this._fft.inverseTransform(this._inverseBuffer,this._transformBuffer);for(let a=0;a<t.length;a++)i[a]=this._inverseBuffer[2*a];return i}}function t3t(e){const t=[];let i=!1,n=-1/0,a=-1;for(let o=1;o<e.length-1;o++)e[o-1]<=0&&e[o]>0?(i=!0,a=o,n=e[o]):e[o-1]>0&&e[o]<=0?(i=!1,a!==-1&&t.push(a)):i&&e[o]>n&&(n=e[o],a=o);return t}function e3t(e,t){const[i,n,a]=[e-1,e,e+1],[o,l,c]=[t[i],t[n],t[a]],d=o/2-l+c/2,u=-(o/2)*(n+a)+l*(i+a)-c/2*(i+n),h=o*n*a/2-l*i*a+c*i*n/2,p=-u/(2*d),f=d*p*p+u*p+h;return[p,f]}class Tc{constructor(t,i){In(this,"_autocorrelator");In(this,"_nsdfBuffer");In(this,"_clarityThreshold",.9);In(this,"_minVolumeAbsolute",0);In(this,"_maxInputAmplitude",1);this._autocorrelator=new cf(t,i),this._nsdfBuffer=i(t)}static forFloat32Array(t){return new Tc(t,i=>new Float32Array(i))}static forFloat64Array(t){return new Tc(t,i=>new Float64Array(i))}static forNumberArray(t){return new Tc(t,i=>Array(i))}get inputLength(){return this._autocorrelator.inputLength}set clarityThreshold(t){if(!Number.isFinite(t)||t<=0||t>1)throw new Error("clarityThreshold must be a number in the range (0, 1]");this._clarityThreshold=t}set minVolumeAbsolute(t){if(!Number.isFinite(t)||t<0||t>this._maxInputAmplitude)throw new Error(`minVolumeAbsolute must be a number in the range [0, ${this._maxInputAmplitude}]`);this._minVolumeAbsolute=t}set minVolumeDecibels(t){if(!Number.isFinite(t)||t>0)throw new Error("minVolumeDecibels must be a number <= 0");this._minVolumeAbsolute=this._maxInputAmplitude*10**(t/10)}set maxInputAmplitude(t){if(!Number.isFinite(t)||t<=0)throw new Error("maxInputAmplitude must be a number > 0");this._maxInputAmplitude=t}findPitch(t,i){if(this._belowMinimumVolume(t))return[0,0];this._nsdf(t);const n=t3t(this._nsdfBuffer);if(n.length===0)return[0,0];const a=Math.max(...n.map(d=>this._nsdfBuffer[d])),o=n.find(d=>this._nsdfBuffer[d]>=this._clarityThreshold*a),[l,c]=e3t(o,this._nsdfBuffer);return[i/l,Math.min(c,1)]}_belowMinimumVolume(t){if(this._minVolumeAbsolute===0)return!1;let i=0;for(let n=0;n<t.length;n++)i+=t[n]**2;return Math.sqrt(i/t.length)<this._minVolumeAbsolute}_nsdf(t){this._autocorrelator.autocorrelate(t,this._nsdfBuffer);let i=2*this._nsdfBuffer[0],n;for(n=0;n<this._nsdfBuffer.length&&i>0;n++)this._nsdfBuffer[n]=2*this._nsdfBuffer[n]/i,i-=t[n]**2+t[t.length-n-1]**2;for(;n<this._nsdfBuffer.length;n++)this._nsdfBuffer[n]=0}}function i3t(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e++,e}function n3t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M=e[2].toFixed(1)+"",g,y,b,v,C,w=(e[3]*100).toFixed()+"",_,E,S,I,T,k,D,N,P;return{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`Allow microphone access and make a sound, the detected pitch will be
        displayed below together with the closest note and the offset from this
        notes in cents.`,c=K(),d=q("div"),u=K(),h=q("div"),p=q("div"),f=te("frequency: "),g=te(M),y=te(" Hz"),b=K(),v=q("div"),C=te("clarity: "),_=te(w),E=te(" %"),S=K(),I=q("div"),T=te("note: "),k=q("b"),D=te(e[4]),N=K(),P=q("div"),mt(l,"class","explanation"),mt(d,"class","control"),mt(P,"class","visualization"),mt(t,"class","app")},m(F,U){bt(F,t,U),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(t,u),B(t,h),B(h,p),B(p,f),B(p,g),B(p,y),B(h,b),B(h,v),B(v,C),B(v,_),B(v,E),B(h,S),B(h,I),B(I,T),B(I,k),B(k,D),B(t,N),B(t,P),e[5](P)},p(F,[U]){U&1&&n!==(n=F[0].title+"")&&Qe(a,n),U&4&&M!==(M=F[2].toFixed(1)+"")&&Qe(g,M),U&8&&w!==(w=(F[3]*100).toFixed()+"")&&Qe(_,w),U&16&&Qe(D,F[4])},i:We,o:We,d(F){F&&vt(t),e[5](null)}}}let r3t=900,a3t=300;function o3t(e,t,i){let{toolInfo:n}=t,a,o,l,c,d=-20,u=0,h=0,p="",f=0,M=0,g=[];function y(C,w,_,E){C.getFloatTimeDomainData(_);const S=w.findPitch(_,E);i(2,u=S[0]),i(3,h=S[1]),i(4,p=kA(u)),f=PA(p),M=(A3(u)-f)*100,g=[...g.slice(-50),M],b(),c=requestAnimationFrame(()=>y(C,w,_,E))}const b=()=>{i(1,a.textContent="",a);const C=On({width:r3t,height:a3t,marginLeft:40,x:{label:"offset in cents",domain:[-50,50]},y:{reverse:!0,ticks:[]},marks:[q9([-50,0,50],{stroke:"#ddd"}),$r(g,{stroke:"#333",x:w=>w,y:(w,_)=>_})]});a.appendChild(C)};yr(()=>{o=new window.AudioContext,l=o.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(C=>{o.createMediaStreamSource(C).connect(l);const w=Tc.forFloat32Array(l.fftSize);w.minVolumeDecibels=d;const _=new Float32Array(w.inputLength);y(l,w,_,o.sampleRate)})}),c0(()=>{cancelAnimationFrame(c)});function v(C){he[C?"unshift":"push"](()=>{a=C,i(1,a)})}return e.$$set=C=>{"toolInfo"in C&&i(0,n=C.toolInfo)},[n,a,u,h,p,v]}class s3t extends Zi{constructor(t){super(),Yi(this,t,o3t,n3t,Xi,{toolInfo:0})}}function $S(e,t,i){const n=e.slice();return n[15]=t[i],n}function GS(e,t,i){const n=e.slice();return n[18]=t[i],n}function HS(e,t,i){const n=e.slice();return n[21]=t[i],n}function VS(e,t,i){const n=e.slice();return n[24]=t[i],n}function QS(e,t,i){const n=e.slice();return n[27]=t[i],n}function zS(e){let t,i=e[27]+"",n;return{c(){t=q("option"),n=te(i),t.__value=e[27],qi(t,t.__value)},m(a,o){bt(a,t,o),B(t,n)},p:We,d(a){a&&vt(t)}}}function jS(e){let t,i=e[24]+"",n;return{c(){t=q("option"),n=te(i),t.__value=e[24],qi(t,t.__value)},m(a,o){bt(a,t,o),B(t,n)},p:We,d(a){a&&vt(t)}}}function WS(e){let t,i,n,a=e[21].name+"",o,l,c=e[21].notes.join(" ")+"",d,u,h=[...Ao(e[3].notes,e[21].notes)].join(" ")+"",p,f,M,g;function y(){return e[12](e[21])}return{c(){t=q("div"),i=q("button"),i.textContent="show",n=K(),o=te(a),l=te(`:
                `),d=te(c),u=te(`
                (no `),p=te(h),f=te(")")},m(b,v){bt(b,t,v),B(t,i),B(t,n),B(t,o),B(t,l),B(t,d),B(t,u),B(t,p),B(t,f),M||(g=ze(i,"click",y),M=!0)},p(b,v){e=b,v&128&&a!==(a=e[21].name+"")&&Qe(o,a),v&128&&c!==(c=e[21].notes.join(" ")+"")&&Qe(d,c),v&136&&h!==(h=[...Ao(e[3].notes,e[21].notes)].join(" ")+"")&&Qe(p,h)},d(b){b&&vt(t),M=!1,g()}}}function KS(e){let t,i,n,a=e[18].name+"",o,l,c=e[18].notes.join(" ")+"",d,u,h=[...Ao(e[18].notes,e[3].notes)].join(" ")+"",p,f,M,g;function y(){return e[13](e[18])}return{c(){t=q("div"),i=q("button"),i.textContent="show",n=K(),o=te(a),l=te(`:
                `),d=te(c),u=te(`
                (adds `),p=te(h),f=te(")")},m(b,v){bt(b,t,v),B(t,i),B(t,n),B(t,o),B(t,l),B(t,d),B(t,u),B(t,p),B(t,f),M||(g=ze(i,"click",y),M=!0)},p(b,v){e=b,v&64&&a!==(a=e[18].name+"")&&Qe(o,a),v&64&&c!==(c=e[18].notes.join(" ")+"")&&Qe(d,c),v&72&&h!==(h=[...Ao(e[18].notes,e[3].notes)].join(" ")+"")&&Qe(p,h)},d(b){b&&vt(t),M=!1,g()}}}function qS(e){let t,i,n,a=e[15]+"",o,l,c=ty(`${e[1]} ${e[15]}`).notes.join(" ")+"",d,u;return{c(){t=q("div"),i=te(e[1]),n=K(),o=te(a),l=te(`:
                `),d=te(c),u=K()},m(h,p){bt(h,t,p),B(t,i),B(t,n),B(t,o),B(t,l),B(t,d),B(t,u)},p(h,p){p&2&&Qe(i,h[1]),p&32&&a!==(a=h[15]+"")&&Qe(o,a),p&34&&c!==(c=ty(`${h[1]} ${h[15]}`).notes.join(" ")+"")&&Qe(d,c)},d(h){h&&vt(t)}}}function l3t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C=e[3].name+"",w,_,E,S,I=e[3].notes.join(" ")+"",T,k,D,N,P,F,U,V,z,G,H,J,Z=je(e[8]),j=[];for(let gt=0;gt<Z.length;gt+=1)j[gt]=zS(QS(e,Z,gt));let W=je(e[9]),et=[];for(let gt=0;gt<W.length;gt+=1)et[gt]=jS(VS(e,W,gt));let dt=je(e[7]),ht=[];for(let gt=0;gt<dt.length;gt+=1)ht[gt]=WS(HS(e,dt,gt));let st=je(e[6]),St=[];for(let gt=0;gt<st.length;gt+=1)St[gt]=KS(GS(e,st,gt));let At=je(e[5]),xt=[];for(let gt=0;gt<At.length;gt+=1)xt[gt]=qS($S(e,At,gt));return{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`Select a root note and scale and see how this scale relates to others.
        This tool is mainly a graphical interface for <a href="https://github.com/tonaljs/tonal/tree/main/packages/scale" target="_blank">tonaljs.</a>`,c=K(),d=q("div"),u=q("label"),h=te(`scale
            `),p=q("select");for(let gt=0;gt<j.length;gt+=1)j[gt].c();f=K(),M=q("select");for(let gt=0;gt<et.length;gt+=1)et[gt].c();g=K(),y=q("div"),b=q("h2"),v=te("current scale: "),w=te(C),_=K(),E=q("h3"),E.textContent="notes",S=K(),T=te(I),k=K(),D=q("h3"),D.textContent="scales that are subsets",N=K();for(let gt=0;gt<ht.length;gt+=1)ht[gt].c();P=K(),F=q("h3"),F.textContent="scales that are supersets",U=K();for(let gt=0;gt<St.length;gt+=1)St[gt].c();V=K(),z=q("h3"),z.textContent="chords",G=K();for(let gt=0;gt<xt.length;gt+=1)xt[gt].c();mt(l,"class","explanation"),e[1]===void 0&&J9(()=>e[10].call(p)),e[2]===void 0&&J9(()=>e[11].call(M)),mt(d,"class","control"),mt(y,"class","visualization"),mt(t,"class","app")},m(gt,yt){bt(gt,t,yt),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(d,u),B(u,h),B(u,p);for(let lt=0;lt<j.length;lt+=1)j[lt]&&j[lt].m(p,null);xr(p,e[1],!0),B(u,f),B(u,M);for(let lt=0;lt<et.length;lt+=1)et[lt]&&et[lt].m(M,null);xr(M,e[2],!0),B(t,g),B(t,y),B(y,b),B(b,v),B(b,w),B(y,_),B(y,E),B(y,S),B(y,T),B(y,k),B(y,D),B(y,N);for(let lt=0;lt<ht.length;lt+=1)ht[lt]&&ht[lt].m(y,null);B(y,P),B(y,F),B(y,U);for(let lt=0;lt<St.length;lt+=1)St[lt]&&St[lt].m(y,null);B(y,V),B(y,z),B(y,G);for(let lt=0;lt<xt.length;lt+=1)xt[lt]&&xt[lt].m(y,null);e[14](y),H||(J=[ze(p,"change",e[10]),ze(M,"change",e[11])],H=!0)},p(gt,[yt]){if(yt&1&&n!==(n=gt[0].title+"")&&Qe(a,n),yt&256){Z=je(gt[8]);let lt;for(lt=0;lt<Z.length;lt+=1){const zt=QS(gt,Z,lt);j[lt]?j[lt].p(zt,yt):(j[lt]=zS(zt),j[lt].c(),j[lt].m(p,null))}for(;lt<j.length;lt+=1)j[lt].d(1);j.length=Z.length}if(yt&258&&xr(p,gt[1]),yt&512){W=je(gt[9]);let lt;for(lt=0;lt<W.length;lt+=1){const zt=VS(gt,W,lt);et[lt]?et[lt].p(zt,yt):(et[lt]=jS(zt),et[lt].c(),et[lt].m(M,null))}for(;lt<et.length;lt+=1)et[lt].d(1);et.length=W.length}if(yt&516&&xr(M,gt[2]),yt&8&&C!==(C=gt[3].name+"")&&Qe(w,C),yt&8&&I!==(I=gt[3].notes.join(" ")+"")&&Qe(T,I),yt&140){dt=je(gt[7]);let lt;for(lt=0;lt<dt.length;lt+=1){const zt=HS(gt,dt,lt);ht[lt]?ht[lt].p(zt,yt):(ht[lt]=WS(zt),ht[lt].c(),ht[lt].m(y,P))}for(;lt<ht.length;lt+=1)ht[lt].d(1);ht.length=dt.length}if(yt&76){st=je(gt[6]);let lt;for(lt=0;lt<st.length;lt+=1){const zt=GS(gt,st,lt);St[lt]?St[lt].p(zt,yt):(St[lt]=KS(zt),St[lt].c(),St[lt].m(y,V))}for(;lt<St.length;lt+=1)St[lt].d(1);St.length=st.length}if(yt&34){At=je(gt[5]);let lt;for(lt=0;lt<At.length;lt+=1){const zt=$S(gt,At,lt);xt[lt]?xt[lt].p(zt,yt):(xt[lt]=qS(zt),xt[lt].c(),xt[lt].m(y,null))}for(;lt<xt.length;lt+=1)xt[lt].d(1);xt.length=At.length}},i:We,o:We,d(gt){gt&&vt(t),Ti(j,gt),Ti(et,gt),Ti(ht,gt),Ti(St,gt),Ti(xt,gt),e[14](null),H=!1,t0(J)}}}function c3t(e,t,i){let n,a,o,l,{toolInfo:c}=t,d,u="A",h="minor";const p=yA,f=FA().sort();function M(){u=Tl(this),i(1,u),i(8,p)}function g(){h=Tl(this),i(2,h),i(9,f)}const y=C=>i(2,h=C.type),b=C=>i(2,h=C.type);function v(C){he[C?"unshift":"push"](()=>{d=C,i(4,d)})}return e.$$set=C=>{"toolInfo"in C&&i(0,c=C.toolInfo)},e.$$.update=()=>{e.$$.dirty&6&&i(3,n=oa(`${u} ${h}`)),e.$$.dirty&10&&i(7,a=M9t(n.name).map(C=>oa(`${u} ${C}`))),e.$$.dirty&10&&i(6,o=g9t(n.name).map(C=>oa(`${u} ${C}`))),e.$$.dirty&6&&i(5,l=p9t(`${u} ${h}`))},[c,u,h,n,d,l,o,a,p,f,M,g,y,b,v]}class u3t extends Zi{constructor(t){super(),Yi(this,t,c3t,l3t,Xi,{toolInfo:0})}}var $U={exports:{}};(function(e,t){(function(i,n){n()})(I2,function(){function i(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,h,p){var f=new XMLHttpRequest;f.open("GET",u),f.responseType="blob",f.onload=function(){d(f.response,h,p)},f.onerror=function(){console.error("could not download file")},f.send()}function a(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof I2=="object"&&I2.global===I2?I2:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(u,h,p){var f=l.URL||l.webkitURL,M=document.createElement("a");h=h||u.name||"download",M.download=h,M.rel="noopener",typeof u=="string"?(M.href=u,M.origin===location.origin?o(M):a(M.href)?n(u,h,p):o(M,M.target="_blank")):(M.href=f.createObjectURL(u),setTimeout(function(){f.revokeObjectURL(M.href)},4e4),setTimeout(function(){o(M)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,p){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(i(u,p),h);else if(a(u))n(u,h,p);else{var f=document.createElement("a");f.href=u,f.target="_blank",setTimeout(function(){o(f)})}}:function(u,h,p,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof u=="string")return n(u,h,p);var M=u.type==="application/octet-stream",g=/constructor/i.test(l.HTMLElement)||l.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||M&&g||c)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var w=b.result;w=y?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=w:location=w,f=null},b.readAsDataURL(u)}else{var v=l.URL||l.webkitURL,C=v.createObjectURL(u);f?f.location=C:location.href=C,f=null,setTimeout(function(){v.revokeObjectURL(C)},4e4)}});l.saveAs=d.saveAs=d,e.exports=d})})($U);var d3t=$U.exports;const GU=wA(d3t);function uf(e,t){return t instanceof Map?{dataType:"Map",value:Array.from(t.entries())}:t}function h3t(e,t){return typeof t=="object"&&t!==null&&t.dataType==="Map"?new Map(t.value):t}async function HU(e){const t=await e.text();return JSON.parse(t,h3t)}function VU(e,t){t._appId=e,t._softwareVersion=D8,t._date=new Date().toISOString();const i=JSON.stringify(t,uf,2),n=new Blob([i],{type:"text/plain;charset=utf-8"});GU(n,`${e}.json`)}function f3t(e,t,i){const n=e.slice();return n[18]=t[i],n}function XS(e,t,i){const n=e.slice();return n[21]=t[i],n}function YS(e){let t,i=e[21]+"",n;return{c(){t=q("option"),n=te(i),t.__value=e[21],qi(t,t.__value)},m(a,o){bt(a,t,o),B(t,n)},p:We,d(a){a&&vt(t)}}}function m3t(e){let t;return{c(){t=q("option"),t.textContent=`${e[18]}`,t.__value=e[18],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function p3t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N=je(e[6]),P=[];for(let G=0;G<N.length;G+=1)P[G]=YS(XS(e,N,G));let F=je(["default","name","notes","number of notes"]),U=[];for(let G=0;G<4;G+=1)U[G]=m3t(f3t(e,F,G));function V(G){e[13](G)}let z={label:"colors",title:"Use dotted notes? If not, the closest non-dotted note will be taken.",callback:e[8]};return e[5]!==void 0&&(z.checked=e[5]),v=new zn({props:z}),he.push(()=>Ee(v,"checked",V)),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`Select a root note and see all scales with this root and their notes.
        Using <a href="https://github.com/tonaljs/tonal/tree/main/packages/scale" target="_blank">tonaljs.</a>`,c=K(),d=q("div"),u=q("label"),h=te(`scale
            `),p=q("select");for(let G=0;G<P.length;G+=1)P[G].c();f=K(),M=q("label"),g=te(`ordering
            `),y=q("select");for(let G=0;G<4;G+=1)U[G].c();b=K(),Pt(v.$$.fragment),w=K(),_=q("div"),E=q("canvas"),S=K(),I=q("button"),I.textContent="export JSON",mt(l,"class","explanation"),e[1]===void 0&&J9(()=>e[11].call(p)),e[2]===void 0&&J9(()=>e[12].call(y)),mt(d,"class","control"),sn(E,"width",Iy+"px"),sn(E,"height",y6+"px"),mt(_,"class","visualization"),mt(t,"class","app")},m(G,H){bt(G,t,H),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(d,u),B(u,h),B(u,p);for(let J=0;J<P.length;J+=1)P[J]&&P[J].m(p,null);xr(p,e[1],!0),B(d,f),B(d,M),B(M,g),B(M,y);for(let J=0;J<4;J+=1)U[J]&&U[J].m(y,null);xr(y,e[2],!0),B(d,b),Rt(v,d,null),B(t,w),B(t,_),B(_,E),e[14](E),e[15](_),B(t,S),B(t,I),T=!0,k||(D=[ze(p,"change",e[11]),ze(y,"change",e[12]),ze(I,"click",e[16])],k=!0)},p(G,[H]){if((!T||H&1)&&n!==(n=G[0].title+"")&&Qe(a,n),H&64){N=je(G[6]);let Z;for(Z=0;Z<N.length;Z+=1){const j=XS(G,N,Z);P[Z]?P[Z].p(j,H):(P[Z]=YS(j),P[Z].c(),P[Z].m(p,null))}for(;Z<P.length;Z+=1)P[Z].d(1);P.length=N.length}H&66&&xr(p,G[1]),H&4&&xr(y,G[2]);const J={};!C&&H&32&&(C=!0,J.checked=G[5],_e(()=>C=!1)),v.$set(J)},i(G){T||(wt(v.$$.fragment,G),T=!0)},o(G){It(v.$$.fragment,G),T=!1},d(G){G&&vt(t),Ti(P,G),Ti(U,G),Dt(v),e[14](null),e[15](null),k=!1,t0(D)}}}const Iy=400,y6=1200;function g3t(e,t,i){let n,a,{toolInfo:o}=t,l,c,d="C",u="default",h=!0;const p=Dr,f=FA(),M=(E,S)=>{if(E==="default")return[...S];if(E==="name")return[...S].sort((I,T)=>I.name<T.name?-1:1);if(E==="notes")return[...S].sort((I,T)=>I.notes.join(" ")<T.notes.join(" ")?-1:1);if(E==="number of notes")return[...S].sort((I,T)=>I.notes.length>T.notes.length?-1:1)},g=()=>{if(!c)return;const E=c.getContext("2d"),S=window.devicePixelRatio,I=c.getBoundingClientRect();i(4,c.width=I.width*S,c),i(4,c.height=I.height*S,c),E.scale(S,S),i(4,c.style.width=`${I.width}px`,c),i(4,c.style.height=`${I.height}px`,c),E.fillStyle="white",E.fillRect(0,0,Iy,y6);const T=130,k=(Iy-T)/12,D=k*.9,N=(y6-30)/n.length,P=N*.9;E.textAlign="center",E.fillStyle="black";for(const[U,V]of p.entries()){const z=T+(U+.5)*k;E.fillText(V,z,10),E.fillText(V,z,y6-3)}const F=new Map(p.map((U,V)=>[U,V]));for(const[U,V]of a.entries()){const z=15+U*N;E.fillStyle="black",E.textAlign="right",E.fillText(V.type,T-5,z+N-2.5),E.fillStyle="#666";for(const G of V.notes){const H=F.get(G);h?E.fillStyle=xc.noteColormap[H]:E.fillStyle=G===d?"#777":"#bbb";const J=T+H*k+k*.05;E.fillRect(J,z,D,P),E.fillStyle="white",E.textAlign="center";const Z=T+(H+.5)*k;E.fillText(G,Z,z+N-3.5)}}};yr(g);function y(){d=Tl(this),i(1,d),i(6,p)}function b(){u=Tl(this),i(2,u)}function v(E){h=E,i(5,h)}function C(E){he[E?"unshift":"push"](()=>{c=E,i(4,c)})}function w(E){he[E?"unshift":"push"](()=>{l=E,i(3,l)})}const _=()=>{let E=[];for(const I of p){const T=f.map(k=>oa(`${I} ${k}`)).filter(k=>!k.empty).map(k=>(k.notes=k.notes.map(D=>Sw.get(D)??D),k));E=E.concat(T)}const S=E.map(I=>({tonic:I.tonic,type:I.type,chroma:I.chroma,notes:I.notes}));VU("musical-scales",S)};return e.$$set=E=>{"toolInfo"in E&&i(0,o=E.toolInfo)},e.$$.update=()=>{e.$$.dirty&2&&i(10,n=f.map(E=>oa(`${d} ${E}`)).filter(E=>!E.empty).map(E=>(E.notes=E.notes.map(S=>Sw.get(S)??S),E))),e.$$.dirty&1028&&i(9,a=M(u,n)),e.$$.dirty&512&&a&&g()},[o,d,u,l,c,h,p,f,g,a,n,y,b,v,C,w,_]}class M3t extends Zi{constructor(t){super(),Yi(this,t,g3t,p3t,Xi,{toolInfo:0})}}const By="usage",Ic=window.localStorage;function QU(){let e=0,t,i;for(i in Ic)Ic.hasOwnProperty(i)&&(t=(Ic[i].length+i.length)*2,e+=t);return e/1024}function y3t(){let e="12345678",t=0;for(;;){e=`${e}${e.slice(0,e.length/4)}`,t=e.length;try{Ic.setItem("__test__",e)}catch{break}}Ic.removeItem("__test__");const i=QU();return t*32/1024+i}function A3t(){const e=QU(),t=y3t();return{currentKb:e,limitKb:t,percentFull:e/t*100}}function xl(){let e;return Ic.getItem(By)!==null?(e=Ic.getItem(By),e=JSON.parse(e)):e={appClicks:{},appRecordedData:{},ratings:{}},e}function yh(e){try{Ic.setItem(By,JSON.stringify(e))}catch(t){window.alert("localStorage might be too full: "+t.toString())}}function C9(e,t){console.log(`[STORE] saving recording for ${e}`,t);const i=xl();i.appRecordedData||(i.appRecordedData={}),i.appRecordedData[e]||(i.appRecordedData[e]=[]);const n=i.appRecordedData[e],a=JSON.stringify(t);for(const o of n)if(a===JSON.stringify(o.data)){console.log("[STORE] the recording already exists");return}n.push({date:new Date().toISOString(),softwareVersion:D8,data:t}),yh(i)}function v3t(e,t){console.log(`[STORE] updating recording for ${e}`,t);const i=xl();if(!i.appRecordedData||!i.appRecordedData[e]){console.log("[STORE] error: recording does not exist");return}const n=i.appRecordedData[e],a=JSON.stringify(t.data);for(const[o,l]of n.entries())if(a===JSON.stringify(l.data)){n[o]=t,yh(i);return}console.log("[STORE] error: recording does not exist")}function b3t(e,t){console.log(`[STORE] deleting recording for ${e}`,t);const i=xl();i.appRecordedData&&i.appRecordedData[e]&&(i.appRecordedData[e]=i.appRecordedData[e].filter(n=>n.date!==t),yh(i))}function C3t(){console.log("[STORE] deleting all recordings");const e=xl();e.appRecordedData={},yh(e)}function zU(e){const t=xl();return t.appRecordedData?t.appRecordedData[e]?t.appRecordedData[e]:[]:[]}function _3t(e){let t,i,n=e[0].title+"",a,o,l,c,d;return{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`Here, you can see how often and when you used each app. This data is
        only saved locally and can be reset in settings.`,c=K(),d=q("div"),mt(l,"class","explanation"),mt(d,"class","visualization"),mt(t,"class","app")},m(u,h){bt(u,t,h),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),e[2](d)},p(u,[h]){h&1&&n!==(n=u[0].title+"")&&Qe(a,n)},i:We,o:We,d(u){u&&vt(t),e[2](null)}}}let q4=900,E3t=500;function w3t(e,t,i){let{toolInfo:n}=t,a;const o=xl();let l=[],c=new Set;for(const M in o.appClicks)if(Object.hasOwnProperty.call(o.appClicks,M)&&M!=="undefined"){const g=o.appClicks[M];l.push({id:M,dates:g.map(y=>new Date(y.substring(0,10))),useCount:g.length});for(const y of g)c.add(y.substring(0,10))}l=l.sort((M,g)=>g.useCount-M.useCount);const d=l.flatMap(M=>M.dates.map(g=>({app:M.id,date:g})));let u=[],h=[];for(const M in o.ratings)if(Object.hasOwnProperty.call(o.ratings,M)&&M!=="undefined"){const g=o.ratings[M];u.push({id:M,meanRating:Bc(g,y=>y.value)}),h.push({id:M,subRating:" mean over all",value:Bc(g,y=>y.value)});for(const y of g)h.push({id:M,subRating:y.id,value:y.value})}u=u.sort((M,g)=>g.meanRating-M.meanRating),yr(()=>{i(1,a.textContent="",a);const M=On({title:"Usage Count",width:q4,marginLeft:200,marginRight:60,x:{label:"times used"},y:{label:"app",grid:!0,domain:l.map(v=>v.id)},marks:[Ss(l,{x:"useCount",y:"id",tip:!0,rx:4,fill:Qo.accent}),J0(l,{x:"useCount",y:"id",text:"useCount",textAnchor:"start",dx:7,paintOrder:"stroke",fill:"#333",stroke:"white",strokeWidth:10})]});a.appendChild(M);const g=On({title:"Usage Dates",width:q4,height:E3t,marginLeft:200,x:{label:"time of usage"},y:{grid:!0,domain:l.map(v=>v.id)},marks:[ea(d,{x:"date",y:"app",tip:!0})]});a.appendChild(g);const y=On({title:"App Ratings",width:q4,marginLeft:200,marginRight:40,x:{label:"mean of partial ratings",domain:[0,5]},y:{label:"app",grid:!0,domain:u.map(v=>v.id)},marks:[Ss(u,{x:"meanRating",y:"id",tip:!0,rx:8,fill:"gold"}),J0(u,{x:"meanRating",y:"id",text:v=>`${v.meanRating.toFixed(1)} ${Of}`,textAnchor:"start",dx:7,paintOrder:"stroke",fill:"#333",stroke:"white",strokeWidth:10})]});a.appendChild(y);const b=On({title:"App Sub-Ratings",width:q4,marginLeft:200,marginRight:40,x:{axis:!1,domain:[0,5]},y:{label:"app",domain:u.map(v=>v.id)},facet:{data:h,x:"subRating",label:"sub-rating"},marks:[Ss(h,{x:5,y:"id",rx:6,stroke:"#eee"}),Ss(h,{x:"value",y:"id",tip:!0,rx:6,fill:"gold"})]});a.appendChild(b)});function f(M){he[M?"unshift":"push"](()=>{a=M,i(1,a)})}return e.$$set=M=>{"toolInfo"in M&&i(0,n=M.toolInfo)},[n,a,f]}class O3t extends Zi{constructor(t){super(),Yi(this,t,w3t,_3t,Xi,{toolInfo:0})}}const w8=new Map([[49,{repPitch:49,label:"CC",name:"Crash Cymbal 1"}],[55,{repPitch:49,label:"CC",name:"Crash Cymbal 1"}],[52,{repPitch:57,label:"CC",name:"Crash Cymbal 2"}],[57,{repPitch:57,label:"CC",name:"Crash Cymbal 2"}],[22,{repPitch:46,label:"HH",name:"Hi-Hat"}],[26,{repPitch:46,label:"HH",name:"Hi-Hat"}],[42,{repPitch:46,label:"HH",name:"Hi-Hat"}],[46,{repPitch:46,label:"HH",name:"Hi-Hat"}],[44,{repPitch:44,label:"HH",name:"Hi-Hat Pedal"}],[51,{repPitch:51,label:"Rd",name:"Ride Cymbal"}],[53,{repPitch:51,label:"Rd",name:"Ride Cymbal"}],[59,{repPitch:51,label:"Rd",name:"Ride Cymbal"}],[38,{repPitch:38,label:"SN",name:"Snare"}],[40,{repPitch:38,label:"SN",name:"Snare"}],[48,{repPitch:48,label:"TO",name:"Tom 1"}],[50,{repPitch:48,label:"TO",name:"Tom 1"}],[45,{repPitch:45,label:"TO",name:"Tom 2"}],[47,{repPitch:45,label:"TO",name:"Tom 2"}],[43,{repPitch:43,label:"TO",name:"Stand Tom 1"}],[58,{repPitch:43,label:"TO",name:"Stand Tom 1"}],[39,{repPitch:41,label:"TO",name:"Stand Tom 2"}],[41,{repPitch:41,label:"TO",name:"Stand Tom 2"}],[35,{repPitch:36,label:"KD",name:"Kick Drum"}],[36,{repPitch:36,label:"KD",name:"Kick Drum"}]]);function S3t(e,t,i){const n=e.slice();return n[1]=t[i],n}function x3t(e,t,i){const n=e.slice();return n[1]=t[i],n}function T3t(e){let t,i,n,a,o,l,c,d,u;return{c(){t=q("tr"),i=q("td"),i.textContent=`${e[1].pitch}`,n=K(),a=q("td"),a.textContent=`${e[1].name}`,o=K(),l=q("td"),l.textContent=`${e[1].octave}`,c=K(),d=q("td"),d.textContent=`${e[1].frequency.toFixed(2)}`,u=K(),mt(i,"class","svelte-yn7py9"),mt(a,"class","svelte-yn7py9"),mt(l,"class","svelte-yn7py9"),mt(d,"class","svelte-yn7py9"),mt(t,"class","svelte-yn7py9")},m(h,p){bt(h,t,p),B(t,i),B(t,n),B(t,a),B(t,o),B(t,l),B(t,c),B(t,d),B(t,u)},p:We,d(h){h&&vt(t)}}}function I3t(e){let t,i,n,a,o,l,c,d,u;return{c(){t=q("tr"),i=q("td"),i.textContent=`${e[1].pitch}`,n=K(),a=q("td"),a.textContent=`${e[1].name}`,o=K(),l=q("td"),l.textContent=`${e[1].label}`,c=K(),d=q("td"),d.textContent=`${Rs[e[1].pitch].label}`,u=K(),mt(i,"class","svelte-yn7py9"),mt(a,"class","svelte-yn7py9"),mt(l,"class","svelte-yn7py9"),mt(d,"class","svelte-yn7py9"),mt(t,"class","svelte-yn7py9")},m(h,p){bt(h,t,p),B(t,i),B(t,n),B(t,a),B(t,o),B(t,l),B(t,c),B(t,d),B(t,u)},p:We,d(h){h&&vt(t)}}}function B3t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T=je(Rs),k=[];for(let P=0;P<T.length;P+=1)k[P]=T3t(x3t(e,T,P));let D=je([...w8.entries()].map(R3t)),N=[];for(let P=0;P<D.length;P+=1)N[P]=I3t(S3t(e,D,P));return{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent="Information on MIDI and MIDI drum notes.",c=K(),d=q("div"),u=q("div"),h=q("h3"),h.textContent="MIDI Notes",p=K(),f=q("table"),M=q("tbody"),g=q("tr"),g.innerHTML='<th class="svelte-yn7py9">number</th> <th class="svelte-yn7py9">name</th> <th class="svelte-yn7py9">octave</th> <th class="svelte-yn7py9">frequency (Hz)</th>',y=K();for(let P=0;P<k.length;P+=1)k[P].c();b=K(),v=q("div"),C=q("h3"),C.textContent="Drum Notes",w=K(),_=q("table"),E=q("tbody"),S=q("tr"),S.innerHTML='<th class="svelte-yn7py9">number</th> <th class="svelte-yn7py9">name</th> <th class="svelte-yn7py9">label</th> <th class="svelte-yn7py9">MIDI note</th>',I=K();for(let P=0;P<N.length;P+=1)N[P].c();mt(l,"class","explanation"),mt(g,"class","svelte-yn7py9"),mt(f,"class","svelte-yn7py9"),mt(S,"class","svelte-yn7py9"),mt(_,"class","svelte-yn7py9"),mt(d,"class","grid svelte-yn7py9"),mt(t,"class","app")},m(P,F){bt(P,t,F),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(d,u),B(u,h),B(u,p),B(u,f),B(f,M),B(M,g),B(M,y);for(let U=0;U<k.length;U+=1)k[U]&&k[U].m(M,null);B(d,b),B(d,v),B(v,C),B(v,w),B(v,_),B(_,E),B(E,S),B(E,I);for(let U=0;U<N.length;U+=1)N[U]&&N[U].m(E,null)},p(P,[F]){F&1&&n!==(n=P[0].title+"")&&Qe(a,n)},i:We,o:We,d(P){P&&vt(t),Ti(k,P),Ti(N,P)}}}const R3t=([e,t])=>({pitch:e,...t});function D3t(e,t,i){let{toolInfo:n}=t;return e.$$set=a=>{"toolInfo"in a&&i(0,n=a.toolInfo)},[n]}class P3t extends Zi{constructor(t){super(),Yi(this,t,D3t,B3t,Xi,{toolInfo:0})}}function ZS(e,t,i){const n=e.slice();return n[5]=t[i],n}function k3t(e){let t,i,n,a,o,l,c,d;var u=e[0].component;function h(p,f){return{props:{toolInfo:p[0]}}}return u&&(o=A6(u,h(e))),{c(){t=q("div"),i=q("button"),i.textContent="back to tools",n=K(),a=q("div"),o&&Pt(o.$$.fragment)},m(p,f){bt(p,t,f),B(t,i),bt(p,n,f),bt(p,a,f),o&&Rt(o,a,null),l=!0,c||(d=ze(i,"click",e[4]),c=!0)},p(p,f){if(f&1&&u!==(u=p[0].component)){if(o){na();const M=o;It(M.$$.fragment,1,0,()=>{Dt(M,1)}),ra()}u?(o=A6(u,h(p)),Pt(o.$$.fragment),wt(o.$$.fragment,1),Rt(o,a,null)):o=null}else if(u){const M={};f&1&&(M.toolInfo=p[0]),o.$set(M)}},i(p){l||(o&&wt(o.$$.fragment,p),l=!0)},o(p){o&&It(o.$$.fragment,p),l=!1},d(p){p&&(vt(t),vt(n),vt(a)),o&&Dt(o),c=!1,d()}}}function L3t(e){let t,i,n=je(e[2]),a=[];for(let o=0;o<n.length;o+=1)a[o]=tx(ZS(e,n,o));return{c(){t=q("div");for(let o=0;o<a.length;o+=1)a[o].c();mt(t,"class",i="grid "+(e[1]?"rows":""))},m(o,l){bt(o,t,l);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(t,null)},p(o,l){if(l&5){n=je(o[2]);let c;for(c=0;c<n.length;c+=1){const d=ZS(o,n,c);a[c]?a[c].p(d,l):(a[c]=tx(d),a[c].c(),a[c].m(t,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=n.length}l&2&&i!==(i="grid "+(o[1]?"rows":""))&&mt(t,"class",i)},i:We,o:We,d(o){o&&vt(t),Ti(a,o)}}}function tx(e){let t,i,n,a,o,l,c;function d(){return e[3](e[5])}return{c(){t=q("div"),i=q("h2"),i.textContent=`${e[5].title}`,n=K(),a=q("div"),a.textContent=`${e[5].description}`,o=K(),mt(a,"class","description"),mt(t,"class","card")},m(u,h){bt(u,t,h),B(t,i),B(t,n),B(t,a),B(t,o),l||(c=ze(t,"click",d),l=!0)},p(u,h){e=u},d(u){u&&vt(t),l=!1,c()}}}function N3t(e){let t,i,n,a;const o=[L3t,k3t],l=[];function c(d,u){return d[0]?1:0}return i=c(e),n=l[i]=o[i](e),{c(){t=q("main"),n.c()},m(d,u){bt(d,t,u),l[i].m(t,null),a=!0},p(d,[u]){let h=i;i=c(d),i===h?l[i].p(d,u):(na(),It(l[h],1,1,()=>{l[h]=null}),ra(),n=l[i],n?n.p(d,u):(n=l[i]=o[i](d),n.c()),wt(n,1),n.m(t,null))},i(d){a||(wt(n),a=!0)},o(d){It(n),a=!1},d(d){d&&vt(t),l[i].d()}}}function F3t(e,t,i){let n=[{id:"activity-tracker",title:"Activity Tracker",description:"Shows your activity on this website.",component:O3t},{id:"midi-logger",title:"MIDI Logger",description:"Logs all incoming MIDI messages. Useful for getting to know a device or debugging MIDI issues.",component:Uft},{id:"midi-notes",title:"MIDI Notes",description:"Information on the MIDI standard note numbers.",component:P3t},{id:"piano-roll",title:"Piano Roll",description:"Shows MIDI input as a piano roll.",component:Xft},{id:"guitar-tab",title:"Guitar Tab",description:"Shows MIDI input as guitar tab.",component:Dft},{id:"guitar-tunings",title:"Guitar Tunings",description:"Small tool that computes the notes for a guitar tuning based on parameters. Open tunings are not included.",component:Lft},{id:"chord-detection",title:"Chord Detection",description:"Play a chord and see what it's named.",component:Yct},{id:"note-colors",title:"Note Colors",description:"Different note color schemes.",component:Vft},{id:"scale-sets",title:"Scale Sets",description:"See how different musical scales relate to each other.",component:u3t},{id:"scale-notes",title:"Scale Notes",description:"See which notes are in each scale.",component:M3t},{id:"tuner",title:"Tuner",description:"Tries to detect the currently most prominent pitch from microphone audio. Useful for tuning instruments.",component:s3t}],{currentTool:a=null}=t,{rows:o}=t;const l=d=>{i(0,a=d)},c=()=>i(0,a=null);return e.$$set=d=>{"currentTool"in d&&i(0,a=d.currentTool),"rows"in d&&i(1,o=d.rows)},[a,o,n,l,c]}class U3t extends Zi{constructor(t){super(),Yi(this,t,F3t,N3t,Xi,{currentTool:0,rows:1})}}var x8,T8,I8,B8,R8,Uu,Uf,Ju,Jf,Dd,$f,$o,Ms,Pd;class gb{constructor(){Dn(this,x8,200);Dn(this,T8,300);Dn(this,I8,.04);Dn(this,B8,.1);Dn(this,R8,50);Dn(this,Uu,!1);Dn(this,Uf,null);Dn(this,Ju,null);Dn(this,Jf,4);Dn(this,Dd,1/0);Dn(this,$f);Dn(this,$o,null);Dn(this,Ms,new AudioContext);Dn(this,Pd,null);In(this,"_scheduler",()=>{const t=Ke(this,Jf),i=60/Ke(this,Ju);let n=Ke(this,$f)+Ke(this,$o)*i;for(;n<Ke(this,Ms).currentTime+Ke(this,B8);)if(Ke(this,$o)<Ke(this,Dd)-1){n+=i;const a=Ke(this,$o)%t===t-1||Ke(this,$o)===-1,o=n-Ke(this,Ms).currentTime,l=performance.now()+o*1e3;this._playSound(n,l,a),hE(this,$o)._++}Ke(this,$o)<Ke(this,Dd)-1?En(this,Uf,setTimeout(this._scheduler,Ke(this,R8))):this.stop()})}get bpm(){return Ke(this,Ju)}get beatCount(){return Ke(this,$o)}onClick(t){En(this,Pd,t)}start(t,i=4,n=1/0){if(!t||Number.isNaN(+t)){console.error(`[Metronome] Invalid bpm ${t}`);return}if(!i||Number.isNaN(+i)){console.error(`[Metronome] Invalid accent ${i}`);return}if(!n||Number.isNaN(+n)){console.error(`[Metronome] Invalid maxBeeps ${n}`);return}Ke(this,Ms).state==="suspended"&&Ke(this,Ms).resume(),En(this,Ju,+t),En(this,Jf,+i),En(this,Dd,+n),En(this,Uu,!0),console.log(`Metronome @ ${t}bpm, accent every ${i}. beat, limited to ${n}`),En(this,$o,-1),En(this,$f,Ke(this,Ms).currentTime),this._scheduler()}stop(){Ke(this,Uu)&&(console.log("[Metronome] stopped"),clearTimeout(Ke(this,Uf)),En(this,Uu,!1))}toggle(t,i=4,n=1/0){Ke(this,Uu)?this.stop():(t===void 0&&(t=Ke(this,Ju)),this.start(t,i,n))}_playSound(t,i,n){Ke(this,Pd)&&Ke(this,Pd).call(this,t,i,n);const a=Ke(this,Ms).createOscillator();a.connect(Ke(this,Ms).destination);const o=n?Ke(this,T8):Ke(this,x8);a.frequency.value=o,a.start(t),a.stop(t+Ke(this,I8))}}x8=new WeakMap,T8=new WeakMap,I8=new WeakMap,B8=new WeakMap,R8=new WeakMap,Uu=new WeakMap,Uf=new WeakMap,Ju=new WeakMap,Jf=new WeakMap,Dd=new WeakMap,$f=new WeakMap,$o=new WeakMap,Ms=new WeakMap,Pd=new WeakMap;function J3t(e,t,i){let{key:n=" "}=t,{keyDown:a=()=>{}}=t,{keyUp:o=()=>{}}=t,{ctrlKey:l=!1}=t,{disabled:c=!1}=t;const d=h=>{c||h.key===n&&(!l||h.ctrlKey)&&(h.preventDefault(),a())},u=h=>{c||h.key===n&&(h.preventDefault(),o())};return yr(()=>{document.addEventListener("keydown",d),document.addEventListener("keyup",u)}),c0(()=>{document.removeEventListener("keydown",d),document.removeEventListener("keyup",u)}),e.$$set=h=>{"key"in h&&i(0,n=h.key),"keyDown"in h&&i(1,a=h.keyDown),"keyUp"in h&&i(2,o=h.keyUp),"ctrlKey"in h&&i(3,l=h.ctrlKey),"disabled"in h&&i(4,c=h.disabled)},[n,a,o,l,c]}class X9 extends Zi{constructor(t){super(),Yi(this,t,J3t,null,Xi,{key:0,keyDown:1,keyUp:2,ctrlKey:3,disabled:4})}}function ex(e){let t,i,n;return{c(){t=q("input"),mt(t,"title","The number of beeps for count-in, set to 0 for infinite beeps"),mt(t,"type","number"),mt(t,"step","1"),mt(t,"min","0"),t.disabled=e[2],mt(t,"class","svelte-1hhwgra")},m(a,o){bt(a,t,o),qi(t,e[0]),i||(n=[ze(t,"input",e[9]),ze(t,"wheel",e[10])],i=!0)},p(a,o){o&4&&(t.disabled=a[2]),o&1&&Rr(t.value)!==a[0]&&qi(t,a[0])},d(a){a&&vt(t),i=!1,t0(n)}}}function $3t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b,v=e[1]&&ex(e);return M=new X9({props:{key:"m",keyDown:e[5]}}),{c(){t=q("main"),i=q("button"),n=q("div"),a=Es("svg"),o=Es("path"),l=Es("line"),d=K(),u=q("div"),u.textContent="metronome",p=K(),v&&v.c(),f=K(),Pt(M.$$.fragment),mt(o,"d","M5,16 L15,16 L10,5 Z"),mt(o,"fill","white"),mt(o,"stroke","#888"),mt(o,"stroke-linejoin","round"),mt(l,"x1","10"),mt(l,"y1","13"),mt(l,"x2",c=e[4]?5:15),mt(l,"y2","2"),mt(l,"stroke","black"),mt(l,"stroke-width","2"),mt(l,"stroke-linecap","round"),mt(a,"width","20"),mt(a,"height","17"),mt(i,"title","Toggle metronome (shortcut: m)"),mt(i,"style",h=e[1]?"border-radius: 8px 0 0 8px;":""),i.disabled=e[2],mt(i,"class","svelte-1hhwgra"),mt(t,"class","svelte-1hhwgra")},m(C,w){bt(C,t,w),B(t,i),B(i,n),B(n,a),B(a,o),B(a,l),B(i,d),B(i,u),e[8](i),B(t,p),v&&v.m(t,null),bt(C,f,w),Rt(M,C,w),g=!0,y||(b=ze(i,"click",e[5]),y=!0)},p(C,[w]){(!g||w&16&&c!==(c=C[4]?5:15))&&mt(l,"x2",c),(!g||w&2&&h!==(h=C[1]?"border-radius: 8px 0 0 8px;":""))&&mt(i,"style",h),(!g||w&4)&&(i.disabled=C[2]),C[1]?v?v.p(C,w):(v=ex(C),v.c(),v.m(t,null)):v&&(v.d(1),v=null)},i(C){g||(wt(M.$$.fragment,C),g=!0)},o(C){It(M.$$.fragment,C),g=!1},d(C){C&&(vt(t),vt(f)),e[8](null),v&&v.d(),Dt(M,C),y=!1,b()}}}function G3t(e,t,i){let{tempo:n=120}=t,{accent:a=4}=t,{beepCount:o=0}=t,{showBeepCountInput:l=!1}=t,{disabled:c=!1}=t;const d=new gb;let u,h=!1;const p=()=>{d.toggle(n,a,o>0?o:1/0),i(3,u.style="background: var(--accent)",u),setTimeout(()=>i(3,u.style="",u),500),i(4,h=!h)};c0(()=>{d.stop(),i(4,h=!1)});const f=()=>{i(4,h=!h)};d.onClick(f);function M(b){he[b?"unshift":"push"](()=>{u=b,i(3,u)})}function g(){o=Rr(this.value),i(0,o)}const y=b=>{b.preventDefault();const v=b.deltaY<0?1:-1,C=Math.max(0,o+v);i(0,o=+C.toFixed())};return e.$$set=b=>{"tempo"in b&&i(6,n=b.tempo),"accent"in b&&i(7,a=b.accent),"beepCount"in b&&i(0,o=b.beepCount),"showBeepCountInput"in b&&i(1,l=b.showBeepCountInput),"disabled"in b&&i(2,c=b.disabled)},[o,l,c,u,h,p,n,a,M,g,y]}class so extends Zi{constructor(t){super(),Yi(this,t,G3t,$3t,Xi,{tempo:6,accent:7,beepCount:0,showBeepCountInput:1,disabled:2})}}function H3t(e){let t,i,n,a,o,l;return{c(){t=q("label"),i=te(e[2]),n=K(),a=q("input"),mt(a,"type","number"),mt(a,"min",e[4]),mt(a,"max",e[5]),mt(a,"step",e[6]),a.disabled=e[7],sn(a,"width","53px"),mt(t,"title",e[3])},m(c,d){bt(c,t,d),B(t,i),B(t,n),B(t,a),qi(a,e[0]),o||(l=[ze(a,"input",e[8]),ze(a,"input",function(){Xo(e[1])&&e[1].apply(this,arguments)}),ze(a,"wheel",e[9])],o=!0)},p(c,[d]){e=c,d&4&&Qe(i,e[2]),d&16&&mt(a,"min",e[4]),d&32&&mt(a,"max",e[5]),d&64&&mt(a,"step",e[6]),d&128&&(a.disabled=e[7]),d&1&&Rr(a.value)!==e[0]&&qi(a,e[0]),d&8&&mt(t,"title",e[3])},i:We,o:We,d(c){c&&vt(t),o=!1,t0(l)}}}function V3t(e,t,i){let{value:n}=t,{callback:a=()=>{}}=t,{label:o="tempo"}=t,{title:l="The tempo in beats per minute (bpm)"}=t,{min:c=30}=t,{max:d=400}=t,{step:u=5}=t,{disabled:h=!1}=t;function p(){n=Rr(this.value),i(0,n)}const f=M=>{M.preventDefault();const g=M.deltaY<0?u:-u;i(0,n=Math.min(d,Math.max(c,n+g))),a()};return e.$$set=M=>{"value"in M&&i(0,n=M.value),"callback"in M&&i(1,a=M.callback),"label"in M&&i(2,o=M.label),"title"in M&&i(3,l=M.title),"min"in M&&i(4,c=M.min),"max"in M&&i(5,d=M.max),"step"in M&&i(6,u=M.step),"disabled"in M&&i(7,h=M.disabled)},[n,a,o,l,c,d,u,h,p,f]}class Vr extends Zi{constructor(t){super(),Yi(this,t,V3t,H3t,Xi,{value:0,callback:1,label:2,title:3,min:4,max:5,step:6,disabled:7})}}function Q3t(e){let t,i,n,a,o,l;return{c(){t=q("label"),i=te(e[2]),n=K(),a=q("input"),mt(a,"type","number"),mt(a,"step",e[6]),mt(a,"min",e[4]),mt(a,"max",e[5]),sn(a,"width","55px"),mt(t,"title",e[3])},m(c,d){bt(c,t,d),B(t,i),B(t,n),B(t,a),qi(a,e[0]),o||(l=[ze(a,"input",e[7]),ze(a,"change",function(){Xo(e[1])&&e[1].apply(this,arguments)}),ze(a,"wheel",e[8])],o=!0)},p(c,[d]){e=c,d&4&&Qe(i,e[2]),d&64&&mt(a,"step",e[6]),d&16&&mt(a,"min",e[4]),d&32&&mt(a,"max",e[5]),d&1&&Rr(a.value)!==e[0]&&qi(a,e[0]),d&8&&mt(t,"title",e[3])},i:We,o:We,d(c){c&&vt(t),o=!1,t0(l)}}}function z3t(e,t,i){let{value:n}=t,{callback:a=()=>{}}=t,{label:o="note count"}=t,{title:l="The number of most recently played notes that are shown"}=t,{min:c=10}=t,{max:d=500}=t,{step:u=10}=t;function h(){n=Rr(this.value),i(0,n)}const p=f=>{f.preventDefault();const M=f.deltaY<0?u:-u;i(0,n=Math.min(d,Math.max(c,n+M))),a()};return e.$$set=f=>{"value"in f&&i(0,n=f.value),"callback"in f&&i(1,a=f.callback),"label"in f&&i(2,o=f.label),"title"in f&&i(3,l=f.title),"min"in f&&i(4,c=f.min),"max"in f&&i(5,d=f.max),"step"in f&&i(6,u=f.step)},[n,a,o,l,c,d,u,h,p]}class eu extends Zi{constructor(t){super(),Yi(this,t,z3t,Q3t,Xi,{value:0,callback:1,label:2,title:3,min:4,max:5,step:6})}}const Vc=[{name:"whole",beats:4,symbol:""},{name:"half",beats:2,symbol:""},{name:"quarter",beats:1,symbol:""},{name:"eighth",beats:.5,symbol:""},{name:"sixteenth",beats:.25,symbol:""},{name:"thirtysecond",beats:.125,symbol:""},{name:"sixtyfourth",beats:.0625,symbol:""},{name:"dotted-half",beats:3,symbol:".",dotted:!0},{name:"dotted-quarter",beats:1.5,symbol:".",dotted:!0},{name:"dotted-eighth",beats:.75,symbol:".",dotted:!0},{name:"dotted-sixteenth",beats:.375,symbol:".",dotted:!0},{name:"eighth-triplet",beats:1/3,symbol:"",tuplet:!0},{name:"eighth-quintuplet",beats:1/5,symbol:"",tuplet:!0},{name:"eighth-sixtuplet",beats:1/6,symbol:"",tuplet:!0}],jU=Vc.filter(e=>!e.dotted&&!e.tuplet);Vc.filter(e=>!e.tuplet);Vc.filter(e=>!e.dotted);function j3t(e,t,i){let n=jU;const a=wl(n,l=>Math.abs(e-l.beats));return n[a]}function W3t(e){let t,i,n,a,o,l,c;return a=new X9({props:{key:"r",keyDown:e[2]}}),{c(){t=q("button"),i=te("reset"),n=K(),Pt(a.$$.fragment),mt(t,"title",e[0]),t.disabled=e[1]},m(d,u){bt(d,t,u),B(t,i),bt(d,n,u),Rt(a,d,u),o=!0,l||(c=ze(t,"click",e[2]),l=!0)},p(d,[u]){(!o||u&1)&&mt(t,"title",d[0]),(!o||u&2)&&(t.disabled=d[1])},i(d){o||(wt(a.$$.fragment,d),o=!0)},o(d){It(a.$$.fragment,d),o=!1},d(d){d&&(vt(t),vt(n)),Dt(a,d),l=!1,c()}}}function K3t(e,t,i){let{notes:n=[]}=t,{isDataLoaded:a=!1}=t,{saveToStorage:o}=t,{callback:l=()=>{}}=t,{title:c="Clear all played notes (shortcut: r)"}=t,{disabled:d=!1}=t;const u=()=>{d||(n.length===0||confirm("Reset played notes?"))&&(o(),i(3,n=[]),i(4,a=!1),l())};return e.$$set=h=>{"notes"in h&&i(3,n=h.notes),"isDataLoaded"in h&&i(4,a=h.isDataLoaded),"saveToStorage"in h&&i(5,o=h.saveToStorage),"callback"in h&&i(6,l=h.callback),"title"in h&&i(0,c=h.title),"disabled"in h&&i(1,d=h.disabled)},[c,d,u,n,a,o,l]}class c9 extends Zi{constructor(t){super(),Yi(this,t,K3t,W3t,Xi,{notes:3,isDataLoaded:4,saveToStorage:5,callback:6,title:0,disabled:1})}}function q3t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M;return{c(){t=q("main"),i=q("button"),n=te("import"),a=K(),o=q("button"),l=te("export"),c=K(),d=q("button"),u=te("share"),h=K(),p=q("input"),mt(i,"title","Import current app data and settings"),mt(i,"class","left svelte-m704f"),i.disabled=e[0],mt(o,"title","Export current app data and settings"),mt(o,"class","middle svelte-m704f"),o.disabled=e[0],mt(d,"title","Get a link that contains the current app configuration. It will also contain recorded data if it fits into the link"),mt(d,"class","right svelte-m704f"),d.disabled=e[0],mt(t,"class","svelte-m704f"),mt(p,"type","file"),mt(p,"id","file-input"),sn(p,"display","none")},m(g,y){bt(g,t,y),B(t,i),B(i,n),B(t,a),B(t,o),B(o,l),B(t,c),B(t,d),B(d,u),e[10](d),bt(g,h,y),bt(g,p,y),e[11](p),f||(M=[ze(i,"click",e[9]),ze(o,"click",e[4]),ze(d,"click",e[5]),ze(p,"input",e[3])],f=!0)},p(g,[y]){y&1&&(i.disabled=g[0]),y&1&&(o.disabled=g[0]),y&1&&(d.disabled=g[0])},i:We,o:We,d(g){g&&(vt(t),vt(h),vt(p)),e[10](null),e[11](null),f=!1,t0(M)}}}const Yg=8e3;function X3t(e,t,i){let{appId:n}=t,{loadData:a}=t,{getExportData:o}=t,{disabled:l=!1}=t,c,d;const u=async b=>{const v=b.target.files[0],C=await HU(v);a(C)},h=()=>{const b=o();VU(n,b)},p=b=>{const v=JSON.stringify(b,uf,0);console.log("json length",v.length);const C=encodeURI(v);return`${location.href.replace("&json=","").replace("?json=","")}&json=${C}`},f=()=>{const b=o();b._appId=n,b._softwareVersion=D8,b._date=new Date().toISOString();let v=p(b);if(v.length>Yg)if(b.notes&&(b.notes=[]),b.bendValues&&(b.bendValues=[]),v=p(b),v.length>Yg){alert(`Link is too long. Limit: ${Yg}, length: ${v.length}`);return}else alert("Link was too long, so played data was removed and you can only send app settings");navigator.clipboard.writeText(v),i(2,d.style="background: lightblue",d),i(2,d.innerText="copied",d),setTimeout(()=>{i(2,d.style="",d),i(2,d.innerText="share",d)},500)};yr(()=>{const b=AB(window,"json");if(b&&b!=="")try{const v=decodeURI(b),C=JSON.parse(v);a(C)}catch(v){console.error("Error: Cannot open shared app settings"),console.error(v)}}),c0(()=>{n6(window,"json",void 0)});const M=()=>c.click();function g(b){he[b?"unshift":"push"](()=>{d=b,i(2,d)})}function y(b){he[b?"unshift":"push"](()=>{c=b,i(1,c)})}return e.$$set=b=>{"appId"in b&&i(6,n=b.appId),"loadData"in b&&i(7,a=b.loadData),"getExportData"in b&&i(8,o=b.getExportData),"disabled"in b&&i(0,l=b.disabled)},[l,c,d,u,h,f,n,a,o,M,g,y]}class f9 extends Zi{constructor(t){super(),Yi(this,t,X3t,q3t,Xi,{appId:6,loadData:7,getExportData:8,disabled:0})}}function ix(e){let t,i,n;return{c(){t=q("textarea"),mt(t,"class","svelte-14qy37")},m(a,o){bt(a,t,o),qi(t,e[4]),i||(n=[ze(t,"input",e[7]),ze(t,"keydown",e[5]),ze(t,"keyup",e[5]),ze(t,"keypress",e[5])],i=!0)},p(a,o){o&16&&qi(t,a[4])},d(a){a&&vt(t),i=!1,t0(n)}}}function Y3t(e){let t,i,n=(e[3]?nO:iO)+"",a,o,l,c,d=e[3]&&ix(e);return{c(){t=q("main"),i=q("button"),a=te(n),o=K(),d&&d.c()},m(u,h){bt(u,t,h),B(t,i),B(i,a),B(t,o),d&&d.m(t,null),l||(c=ze(i,"click",e[6]),l=!0)},p(u,[h]){h&8&&n!==(n=(u[3]?nO:iO)+"")&&Qe(a,n),u[3]?d?d.p(u,h):(d=ix(u),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},i:We,o:We,d(u){u&&vt(t),d&&d.d(),l=!1,c()}}}function Z3t(e,t,i){let{appId:n}=t,{recording:a}=t,{loadRecordings:o=()=>{}}=t,l=!1,c=a.annotation??"";const d=p=>{p.stopPropagation()},u=()=>{if(i(3,l=!l),!l){const p=c.trim();(p.length>0||a.annotation.length>0)&&(i(0,a.annotation=p,a),v3t(n,a),o())}};function h(){c=this.value,i(4,c)}return e.$$set=p=>{"appId"in p&&i(1,n=p.appId),"recording"in p&&i(0,a=p.recording),"loadRecordings"in p&&i(2,o=p.loadRecordings)},[a,n,o,l,c,d,u,h]}class tmt extends Zi{constructor(t){super(),Yi(this,t,Z3t,Y3t,Xi,{appId:1,recording:0,loadRecordings:2})}}function nx(e,t,i){const n=e.slice();return n[11]=t[i],n[13]=i,n}function rx(e){let t,i,n,a,o,l,c,d,u,h=[],p=new Map,f,M,g,y,b,v=je(e[3]);const C=w=>w[11].date;for(let w=0;w<v.length;w+=1){let _=nx(e,v,w),E=C(_);p.set(E,h[w]=ax(E,_))}return M=new X9({props:{key:"Escape",keyDown:e[7]}}),{c(){t=q("div"),i=q("div"),n=q("div"),a=q("h2"),a.textContent="Load From History",o=K(),l=q("button"),l.textContent="",c=K(),d=q("div"),d.innerHTML="<div>date</div> <div>notes</div> <div>load</div> <div>delete</div> <div>annotate</div>",u=K();for(let w=0;w<h.length;w+=1)h[w].c();f=K(),Pt(M.$$.fragment),mt(l,"title","close (shortcut: Escape)"),mt(l,"class","close svelte-23iviy"),mt(n,"class","heading svelte-23iviy"),mt(d,"class","recording svelte-23iviy"),mt(i,"class","modal-content svelte-23iviy"),mt(t,"class","modal svelte-23iviy")},m(w,_){bt(w,t,_),B(t,i),B(i,n),B(n,a),B(n,o),B(n,l),B(i,c),B(i,d),B(i,u);for(let E=0;E<h.length;E+=1)h[E]&&h[E].m(i,null);bt(w,f,_),Rt(M,w,_),g=!0,y||(b=ze(l,"click",e[7]),y=!0)},p(w,_){_&107&&(v=je(w[3]),na(),h=yB(h,_,C,1,w,v,p,i,MB,ax,null,nx),ra())},i(w){if(!g){for(let _=0;_<v.length;_+=1)wt(h[_]);wt(M.$$.fragment,w),g=!0}},o(w){for(let _=0;_<h.length;_+=1)It(h[_]);It(M.$$.fragment,w),g=!1},d(w){w&&(vt(t),vt(f));for(let _=0;_<h.length;_+=1)h[_].d();Dt(M,w),y=!1,b()}}}function ax(e,t){var F;let i,n,a=t[11].date.substring(0,16).replace("T"," ")+"",o,l,c,d=((F=t[11].data.notes)==null?void 0:F.length)+"",u,h,p,f,M,g=t[5]===t[11].date?"confirm":"delete",y,b,v,C,w,_=(t[11].annotation?t[11].annotation.substring(0,20):"")+"",E,S,I,T,k,D;function N(...U){return t[9](t[11],...U)}function P(...U){return t[10](t[11],...U)}return v=new tmt({props:{appId:t[0],recording:t[11],loadRecordings:t[6]}}),{key:e,first:null,c(){i=q("div"),n=q("div"),o=te(a),l=K(),c=q("div"),u=te(d),h=K(),p=q("button"),p.textContent="load",f=K(),M=q("button"),y=te(g),b=K(),Pt(v.$$.fragment),C=K(),w=q("div"),E=te(_),I=K(),mt(p,"class","svelte-23iviy"),mt(M,"class","delete svelte-23iviy"),mt(w,"title",S=t[11].annotation),mt(w,"class","annotation svelte-23iviy"),mt(i,"class","recording svelte-23iviy"),this.first=i},m(U,V){bt(U,i,V),B(i,n),B(n,o),B(i,l),B(i,c),B(c,u),B(i,h),B(i,p),B(i,f),B(i,M),B(M,y),B(i,b),Rt(v,i,null),B(i,C),B(i,w),B(w,E),B(i,I),T=!0,k||(D=[ze(p,"click",N),ze(M,"click",P)],k=!0)},p(U,V){var G;t=U,(!T||V&8)&&a!==(a=t[11].date.substring(0,16).replace("T"," ")+"")&&Qe(o,a),(!T||V&8)&&d!==(d=((G=t[11].data.notes)==null?void 0:G.length)+"")&&Qe(u,d),(!T||V&40)&&g!==(g=t[5]===t[11].date?"confirm":"delete")&&Qe(y,g);const z={};V&1&&(z.appId=t[0]),V&8&&(z.recording=t[11]),v.$set(z),(!T||V&8)&&_!==(_=(t[11].annotation?t[11].annotation.substring(0,20):"")+"")&&Qe(E,_),(!T||V&8&&S!==(S=t[11].annotation))&&mt(w,"title",S)},i(U){T||(wt(v.$$.fragment,U),T=!0)},o(U){It(v.$$.fragment,U),T=!1},d(U){U&&vt(i),Dt(v),k=!1,t0(D)}}}function emt(e){let t,i,n,a,o,l,c,d=e[4]&&rx(e);return{c(){t=q("button"),i=te("history"),n=K(),d&&d.c(),a=z0(),mt(t,"title","Load a previously auto-saved take"),t.disabled=e[2]},m(u,h){bt(u,t,h),B(t,i),bt(u,n,h),d&&d.m(u,h),bt(u,a,h),o=!0,l||(c=ze(t,"click",e[8]),l=!0)},p(u,[h]){(!o||h&4)&&(t.disabled=u[2]),u[4]?d?(d.p(u,h),h&16&&wt(d,1)):(d=rx(u),d.c(),wt(d,1),d.m(a.parentNode,a)):d&&(na(),It(d,1,1,()=>{d=null}),ra())},i(u){o||(wt(d),o=!0)},o(u){It(d),o=!1},d(u){u&&(vt(t),vt(n),vt(a)),d&&d.d(u),l=!1,c()}}}function imt(e,t,i){let{appId:n}=t,{loadData:a=g=>{}}=t,{disabled:o=!1}=t,l=[],c=!1,d="";const u=()=>{i(3,l=zU(n).reverse())},h=g=>{i(4,c=!c)},p=()=>{u(),h()},f=(g,y)=>a(g.data),M=(g,y)=>{y.preventDefault(),d===g.date?(i(5,d=""),b3t(n,g.date),u()):i(5,d=g.date)};return e.$$set=g=>{"appId"in g&&i(0,n=g.appId),"loadData"in g&&i(1,a=g.loadData),"disabled"in g&&i(2,o=g.disabled)},[n,a,o,l,c,d,u,h,p,f,M]}class _9 extends Zi{constructor(t){super(),Yi(this,t,imt,emt,Xi,{appId:0,loadData:1,disabled:2})}}const nmt=90,rmt=30,amt=!1,omt=[{time:0,velocity:.4566929133858268},{time:.42410000014305116,velocity:.3779527559055118},{time:.795,velocity:.3779527559055118},{time:1.181,velocity:.31496062992125984},{time:1.5501000001430512,velocity:.33070866141732286},{time:1.912100000143051,velocity:.25984251968503935},{time:2.275100000143051,velocity:.10236220472440945},{time:2.609100000143051,velocity:.16535433070866143},{time:2.971,velocity:.3937007874015748},{time:3.366100000143051,velocity:.2047244094488189},{time:3.7811000001430513,velocity:.1968503937007874},{time:4.166100000143051,velocity:.2440944881889764},{time:4.539,velocity:.47244094488188976},{time:4.7551000001430515,velocity:.4409448818897638},{time:4.946,velocity:.44881889763779526},{time:5.141100000143052,velocity:.4251968503937008},{time:5.338100000143051,velocity:.4251968503937008},{time:5.523,velocity:.4566929133858268},{time:5.701100000143051,velocity:.47244094488188976},{time:5.890100000143051,velocity:.4645669291338583},{time:6.069,velocity:.44881889763779526},{time:6.257,velocity:.4409448818897638},{time:6.440100000143051,velocity:.41732283464566927},{time:6.621100000143051,velocity:.4566929133858268},{time:6.801100000143051,velocity:.4409448818897638},{time:6.9841000001430515,velocity:.4409448818897638},{time:7.175,velocity:.3858267716535433},{time:7.414,velocity:.3464566929133858},{time:7.761100000143051,velocity:.1968503937007874},{time:8.095,velocity:.007874015748031496},{time:8.379,velocity:.16535433070866143},{time:8.61710000014305,velocity:.23622047244094488},{time:8.893,velocity:.23622047244094488},{time:9.12710000014305,velocity:.28346456692913385},{time:9.434,velocity:.11023622047244094},{time:9.702100000143052,velocity:.2047244094488189},{time:9.96310000014305,velocity:.1889763779527559},{time:10.230100000143052,velocity:.2204724409448819},{time:10.50210000014305,velocity:.18110236220472442},{time:10.778100000143052,velocity:.18110236220472442},{time:11.042100000143051,velocity:.2125984251968504},{time:11.288100000143052,velocity:.15748031496062992},{time:11.564100000143052,velocity:.18110236220472442},{time:11.81010000014305,velocity:.31496062992125984},{time:12.02710000014305,velocity:.3858267716535433},{time:12.35810000014305,velocity:.10236220472440945},{time:12.70010000014305,velocity:.08661417322834646},{time:13.080100000143052,velocity:.007874015748031496},{time:13.502,velocity:.031496062992125984},{time:13.82510000014305,velocity:.12598425196850394},{time:14.163100000143052,velocity:.15748031496062992},{time:14.513100000143051,velocity:.12598425196850394},{time:14.87410000014305,velocity:.14960629921259844},{time:15.203100000143051,velocity:.11811023622047244},{time:15.500100000143052,velocity:.2047244094488189},{time:15.772,velocity:.2047244094488189},{time:16.06410000014305,velocity:.1889763779527559},{time:16.38810000014305,velocity:.1732283464566929},{time:16.67710000014305,velocity:.16535433070866143},{time:16.996,velocity:.18110236220472442},{time:17.28210000014305,velocity:.2047244094488189},{time:17.60510000014305,velocity:.18110236220472442},{time:17.924100000143053,velocity:.14173228346456693},{time:18.28010000014305,velocity:.1732283464566929},{time:18.663,velocity:.1968503937007874},{time:19.04810000014305,velocity:.09448818897637795},{time:19.40710000014305,velocity:.10236220472440945},{time:19.802,velocity:.11811023622047244},{time:20.24110000014305,velocity:.13385826771653545},{time:20.618100000143052,velocity:.14173228346456693},{time:21.002100000143052,velocity:.5118110236220472},{time:21.339100000143052,velocity:.14960629921259844},{time:21.71610000014305,velocity:.08661417322834646},{time:22.10510000014305,velocity:.13385826771653545},{time:22.44810000014305,velocity:.4251968503937008},{time:22.84910000014305,velocity:.1889763779527559},{time:23.24010000014305,velocity:.12598425196850394},{time:23.60510000014305,velocity:.08661417322834646},{time:23.96310000014305,velocity:.3937007874015748},{time:24.38110000014305,velocity:.2047244094488189},{time:24.79810000014305,velocity:.1889763779527559},{time:25.17310000014305,velocity:.18110236220472442},{time:25.53310000014305,velocity:.4251968503937008},{time:25.93410000014305,velocity:.1968503937007874},{time:26.336100000143052,velocity:.18110236220472442},{time:26.69510000014305,velocity:.15748031496062992},{time:27.06710000014305,velocity:.29133858267716534},{time:27.51910000014305,velocity:.18110236220472442},{time:27.88410000014305,velocity:.2047244094488189},{time:28.264100000143053,velocity:.007874015748031496},{time:28.607100000143053,velocity:.3779527559055118},{time:29.022100000143052,velocity:.031496062992125984},{time:29.411,velocity:.14173228346456693},{time:29.76810000014305,velocity:.07874015748031496},{time:30.11710000014305,velocity:.4094488188976378},{time:30.525,velocity:.31496062992125984},{time:30.892100000143053,velocity:.29133858267716534},{time:31.293100000143053,velocity:.2047244094488189},{time:31.666,velocity:.4409448818897638},{time:32.076,velocity:.2047244094488189},{time:32.44910000014305,velocity:.13385826771653545},{time:32.82010000014305,velocity:.14173228346456693},{time:33.16710000014305,velocity:.4094488188976378},{time:33.487,velocity:.15748031496062992},{time:33.86510000014305,velocity:.11023622047244094},{time:34.24710000014305,velocity:.1889763779527559}],smt="accents",lmt="2024-07-02T14:39:34.656Z",ox={tempo:nmt,pastNoteCount:rmt,useDotted:amt,notes:omt,_appId:smt,_date:lmt},cmt=90,umt=20,dmt=!1,hmt=!1,fmt=0,mmt=16,pmt=[{time:0,velocity:.8818897637795275},{time:.663,velocity:.5669291338582677},{time:1.293,velocity:.5826771653543307},{time:1.966,velocity:.5669291338582677},{time:2.6378999999761583,velocity:.9133858267716536},{time:3.264899999976158,velocity:.6141732283464567},{time:3.955,velocity:.5669291338582677},{time:4.608899999976158,velocity:.5433070866141733},{time:5.3,velocity:.8503937007874016},{time:5.968,velocity:.5826771653543307},{time:6.596,velocity:.5590551181102362},{time:7.231,velocity:.5511811023622047},{time:7.903,velocity:.8661417322834646},{time:8.575,velocity:.6614173228346457},{time:9.219,velocity:.5590551181102362},{time:9.893,velocity:.5590551181102362},{time:10.549,velocity:.8976377952755905},{time:11.247,velocity:.7086614173228346},{time:11.928,velocity:.5826771653543307},{time:12.61,velocity:.5275590551181102},{time:13.292,velocity:.9133858267716536}],gmt="accents",Mmt="0.19.4",ymt="2024-10-31T10:28:55.294Z",sx={tempo:cmt,pastNoteCount:umt,useDotted:dmt,useTuplets:hmt,velocityThreshold:fmt,filterNote:mmt,notes:pmt,_appId:gmt,_softwareVersion:Mmt,_date:ymt},Amt=60,vmt=20,bmt=!1,Cmt=!0,_mt=0,Emt=16,wmt=[{time:0,velocity:.8818897637795275},{time:.414,velocity:.5511811023622047},{time:.762,velocity:.5039370078740157},{time:1.116,velocity:.8346456692913385},{time:1.456899999976158,velocity:.5826771653543307},{time:1.829899999976158,velocity:.5590551181102362},{time:2.179899999976158,velocity:.8503937007874016},{time:2.526,velocity:.5196850393700787},{time:2.836,velocity:.5511811023622047},{time:3.178,velocity:.8346456692913385},{time:3.535,velocity:.5196850393700787},{time:3.834,velocity:.4330708661417323},{time:4.199,velocity:.8818897637795275},{time:4.517899999976158,velocity:.5511811023622047},{time:4.873,velocity:.5511811023622047},{time:5.202,velocity:.7559055118110236},{time:5.498,velocity:.5354330708661418},{time:5.829,velocity:.5433070866141733},{time:6.164,velocity:.8503937007874016},{time:6.493899999976158,velocity:.5511811023622047},{time:6.813,velocity:.5039370078740157},{time:7.15,velocity:.8503937007874016},{time:7.501,velocity:.5354330708661418},{time:7.826,velocity:.5354330708661418},{time:8.158,velocity:.8818897637795275},{time:8.51,velocity:.5669291338582677},{time:8.834,velocity:.5669291338582677},{time:9.157,velocity:.8503937007874016},{time:9.488,velocity:.5433070866141733},{time:9.791,velocity:.5669291338582677},{time:10.112,velocity:.8188976377952756},{time:10.484899999976157,velocity:.6062992125984252},{time:10.821,velocity:.6929133858267716},{time:11.156,velocity:.7244094488188977},{time:11.494,velocity:.5354330708661418}],Omt="accents",Smt="0.19.4",xmt="2024-10-31T10:31:01.166Z",lx={tempo:Amt,pastNoteCount:vmt,useDotted:bmt,useTuplets:Cmt,velocityThreshold:_mt,filterNote:Emt,notes:wmt,_appId:Omt,_softwareVersion:Smt,_date:xmt};function Tmt(e){let t,i,n,a;const o=e[1].default,l=zf(o,e,e[0],null);return{c(){t=q("div"),i=q("h4"),i.textContent="Exercises",n=K(),l&&l.c(),mt(i,"class","svelte-1iskw7o"),mt(t,"class","exercise-content svelte-1iskw7o")},m(c,d){bt(c,t,d),B(t,i),B(t,n),l&&l.m(t,null),a=!0},p(c,[d]){l&&l.p&&(!a||d&1)&&Wf(l,o,c,c[0],a?jf(o,c[0],d,null):Kf(c[0]),null)},i(c){a||(wt(l,c),a=!0)},o(c){It(l,c),a=!1},d(c){c&&vt(t),l&&l.d(c)}}}function Imt(e,t,i){let{$$slots:n={},$$scope:a}=t;return e.$$set=o=>{"$$scope"in o&&i(0,a=o.$$scope)},[a,n]}class e9 extends Zi{constructor(t){super(),Yi(this,t,Imt,Tmt,Xi,{})}}const Ns=new Map([["A",9],["A#",10],["A##",11],["Ab",8],["Abb",7],["B",11],["B#",0],["B##",1],["Bb",10],["Bbb",9],["C",0],["C#",1],["C##",2],["Cb",11],["Cbb",10],["D",2],["D#",3],["D##",4],["Db",1],["Dbb",0],["E",4],["E#",5],["E##",6],["Eb",3],["Ebb",2],["F",5],["F#",6],["F##",7],["Fb",4],["Fbb",3],["G",7],["G#",8],["G##",9],["Gb",6],["Gbb",5]]),Ry=[1,3,6,8,10],Do=[{divisions:"4:1",label:" quarters"},{divisions:"4:2",label:" eighths"},{divisions:"4:3",label:" triplets"},{divisions:"4:4",label:" sixteenths"},{divisions:"4:5",label:" quintuplets"},{divisions:"4:6",label:" sixtuplets"},{divisions:"3:1",label:" quarters"},{divisions:"3:2",label:" eighths"},{divisions:"3:3",label:" triplets"},{divisions:"3:4",label:" sixteenths"},{divisions:"3:5",label:" quintuplets"},{divisions:"3:6",label:" sixtuplets"},{divisions:"2:1",label:" quarters"},{divisions:"2:2",label:" eighths"},{divisions:"2:3",label:" triplets"},{divisions:"2:4",label:" sixteenths"},{divisions:"2:5",label:" quintuplets"},{divisions:"2:6",label:" sixtuplets"}],Nh=[8,16,32,64,128,24,48,96,192],WU=[4,8,16,32,64,128],Du=[{semitones:0,name:"Unison",short:"P1",type:"perfect"},{semitones:1,name:"Minor 2nd",short:"m2",type:"minor"},{semitones:2,name:"Major 2nd",short:"M2",type:"major"},{semitones:3,name:"Minor 3rd",short:"m3",type:"minor"},{semitones:4,name:"Major 3rd",short:"M3",type:"major"},{semitones:5,name:"Perfect 4th",short:"P4",type:"perfect"},{semitones:6,name:"Augmented 4th",short:"A4",type:"tritone"},{semitones:7,name:"Perfect 5th",short:"P5",type:"perfect"},{semitones:8,name:"Minor 6th",short:"m6",type:"minor"},{semitones:9,name:"Major 6th",short:"M6",type:"major"},{semitones:10,name:"Minor 7th",short:"m7",type:"minor"},{semitones:11,name:"Major 7th",short:"M7",type:"major"},{semitones:12,name:"Perfect 8ve",short:"P8",type:"perfect"}],t1=new Map([[0,"silent"],[16,"ppp"],[32,"pp"],[48,"p"],[64,"mp"],[80,"mf"],[96,"f"],[112,"ff"],[127,"fff"]]),Bmt=new Map([["silent","silent"],["ppppp","almost silent"],["pppp","soft whispering"],["ppp","whispering"],["pp","almost a whisper"],["p","softer than speaking"],["mp","speaking voice"],["mf","speaking voice"],["f","louder than speaking"],["ff","loud speaking"],["fff","yelling"],["ffff","loud yelling"]]),Rmt=new Map([[1,{degree:1,semitones:0,short:"Ton",name:"Tonic",meaning:"Tonal center, note of final resolution"}],[2,{degree:2,semitones:2,short:"SpT",name:"Supertonic",meaning:"One whole step above the tonic"}],[3,{degree:3,semitones:4,short:"Med",name:"Mediant",meaning:"Midway between tonic and dominant, (in minor key) tonic of relative major key"}],[4,{degree:4,semitones:5,short:"SbD",name:"Subdominant",meaning:"Lower dominant, happens to have the same interval below tonic as dominant is above tonic"}],[5,{degree:5,semitones:7,short:"Dom",name:"Dominant",meaning:"Second in importance to the tonic"}],[6,{degree:6,semitones:9,short:"SbM",name:"Submediant",meaning:"Lower mediant, midway between tonic and subdominant, (in major key) tonic of relative minor key"}],[7,{degree:7,semitones:11,short:"Lea",name:"Leading tone",meaning:"One whole step below tonic in natural minor scale"}]]),Dmt=new Map([[1,{degree:1,semitones:0,short:"Ton",name:"Tonic",meaning:"Tonal center, note of final resolution"}],[2,{degree:2,semitones:2,short:"SpT",name:"Supertonic",meaning:"One whole step above the tonic"}],[3,{degree:3,semitones:3,short:"Med",name:"Mediant",meaning:"Midway between tonic and dominant, (in minor key) tonic of relative major key"}],[4,{degree:4,semitones:5,short:"SbD",name:"Subdominant",meaning:"Lower dominant, happens to have the same interval below tonic as dominant is above tonic"}],[5,{degree:5,semitones:7,short:"Dom",name:"Dominant",meaning:"Second in importance to the tonic"}],[6,{degree:6,semitones:8,short:"SbM",name:"Submediant",meaning:"Lower mediant, midway between tonic and subdominant, (in major key) tonic of relative minor key"}],[7,{degree:7,semitones:10,short:"SbT",name:"Subtonic",meaning:"One whole step below tonic in natural minor scale"}]]);function cx(e,t,i){const n=e.slice();return n[9]=t[i],n}function ux(e,t,i){const n=e.slice();return n[12]=t[i],n}function dx(e){let t,i,n,a,o,l,c,d=e[1]&&hx(e);return{c(){t=q("p"),t.textContent=`How much do you agree with these statements? 1 ${Of}:
            completely disagree, 5 ${Of}: completely agree`,i=K(),n=q("div"),d&&d.c(),a=K(),o=q("button"),o.textContent="reset",mt(n,"class","grid svelte-a1enf2")},m(u,h){bt(u,t,h),bt(u,i,h),bt(u,n,h),d&&d.m(n,null),bt(u,a,h),bt(u,o,h),l||(c=ze(o,"click",e[4]),l=!0)},p(u,h){u[1]?d?d.p(u,h):(d=hx(u),d.c(),d.m(n,null)):d&&(d.d(1),d=null)},d(u){u&&(vt(t),vt(i),vt(n),vt(a),vt(o)),d&&d.d(),l=!1,c()}}}function hx(e){let t,i,n,a,o=Bc(e[1],px).toFixed(1)+"",l,c,d,u=je(e[1]),h=[];for(let p=0;p<u.length;p+=1)h[p]=mx(cx(e,u,p));return{c(){for(let p=0;p<h.length;p+=1)h[p].c();t=K(),i=q("div"),i.textContent="mean:",n=K(),a=q("div"),l=te(o),c=K(),d=te(Of),mt(i,"class","label svelte-a1enf2")},m(p,f){for(let M=0;M<h.length;M+=1)h[M]&&h[M].m(p,f);bt(p,t,f),bt(p,i,f),bt(p,n,f),bt(p,a,f),B(a,l),B(a,c),B(a,d)},p(p,f){if(f&10){u=je(p[1]);let M;for(M=0;M<u.length;M+=1){const g=cx(p,u,M);h[M]?h[M].p(g,f):(h[M]=mx(g),h[M].c(),h[M].m(t.parentNode,t))}for(;M<h.length;M+=1)h[M].d(1);h.length=u.length}f&2&&o!==(o=Bc(p[1],px).toFixed(1)+"")&&Qe(l,o)},d(p){p&&(vt(t),vt(i),vt(n),vt(a)),Ti(h,p)}}}function fx(e){let t,i,n,a,o;function l(){return e[7](e[9],e[12])}return{c(){t=q("button"),i=te(Of),mt(t,"class",n="star "+(e[12]<=e[9].value?"":"rest")+" svelte-a1enf2")},m(c,d){bt(c,t,d),B(t,i),a||(o=ze(t,"click",l),a=!0)},p(c,d){e=c,d&2&&n!==(n="star "+(e[12]<=e[9].value?"":"rest")+" svelte-a1enf2")&&mt(t,"class",n)},d(c){c&&vt(t),a=!1,o()}}}function mx(e){let t,i=e[9].label+"",n,a,o,l=je([1,2,3,4,5]),c=[];for(let d=0;d<5;d+=1)c[d]=fx(ux(e,l,d));return{c(){t=q("div"),n=te(i),a=K(),o=q("div");for(let d=0;d<5;d+=1)c[d].c();mt(t,"class","label svelte-a1enf2")},m(d,u){bt(d,t,u),B(t,n),bt(d,a,u),bt(d,o,u);for(let h=0;h<5;h+=1)c[h]&&c[h].m(o,null)},p(d,u){if(u&2&&i!==(i=d[9].label+"")&&Qe(n,i),u&10){l=je([1,2,3,4,5]);let h;for(h=0;h<5;h+=1){const p=ux(d,l,h);c[h]?c[h].p(p,u):(c[h]=fx(p),c[h].c(),c[h].m(o,null))}for(;h<5;h+=1)c[h].d(1)}},d(d){d&&(vt(t),vt(a),vt(o)),Ti(c,d)}}}function Pmt(e){let t,i,n=e[0]&&dx(e);return{c(){t=q("main"),i=K(),n&&n.c(),mt(t,"class","rating-button")},m(a,o){bt(a,t,o),B(t,i),n&&n.m(t,null)},p(a,[o]){a[0]?n?n.p(a,o):(n=dx(a),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i:We,o:We,d(a){a&&vt(t),n&&n.d()}}}const px=e=>e.value;function kmt(e,t,i){let{appId:n}=t,a=!1,o;const l=[{id:"makesSense",label:"What this app tries to do makes sense to me",value:0},{id:"good",label:"This app is good at what is does",value:0},{id:"useful",label:"This app is useful for me personally",value:0},{id:"usable",label:"This app is easy to use",value:0},{id:"learneable",label:"This app is quick and easy to learn",value:0},{id:"fun",label:"The app is fun to use",value:0},{id:"useRegular",label:"I would use this app regularly",value:0},{id:"useSpecific",label:"I would use this app for specific cases",value:0}],c=()=>{const f=xl();f.ratings||(f.ratings={}),f.ratings[n]?i(1,o=f.ratings[n]):i(1,o=structuredClone(l))},d=(f,M)=>{o.filter(y=>y.id===f)[0].value=M,i(1,o=[...o]);const g=xl();g.ratings=g.ratings??{},g.ratings[n]=o,yh(g)},u=()=>{i(1,o=structuredClone(l));const f=xl();f.ratings=f.ratings??{},f.ratings[n]=o,yh(f)},h=()=>{i(0,a=!a),a&&c()},p=(f,M)=>d(f.id,M);return e.$$set=f=>{"appId"in f&&i(5,n=f.appId)},[a,o,c,d,u,n,h,p]}class i9 extends Zi{constructor(t){super(),Yi(this,t,kmt,Pmt,Xi,{appId:5})}}function Lmt(e){let t,i,n,a,o,l,c;const d=e[11].default,u=zf(d,e,e[10],null);return{c(){t=q("label"),i=te(e[2]),n=K(),a=q("select"),u&&u.c(),mt(a,"class",e[4]),a.disabled=e[5],mt(a,"style",e[6]),e[0]===void 0&&J9(()=>e[13].call(a)),mt(t,"title",e[3])},m(h,p){bt(h,t,p),B(t,i),B(t,n),B(t,a),u&&u.m(a,null),e[12](a),xr(a,e[0],!0),o=!0,l||(c=[ze(a,"change",e[13]),ze(a,"change",e[14]),ze(a,"wheel",e[8]),ze(a,"mousedown",e[9])],l=!0)},p(h,[p]){(!o||p&4)&&Qe(i,h[2]),u&&u.p&&(!o||p&1024)&&Wf(u,d,h,h[10],o?jf(d,h[10],p,null):Kf(h[10]),null),(!o||p&16)&&mt(a,"class",h[4]),(!o||p&32)&&(a.disabled=h[5]),(!o||p&64)&&mt(a,"style",h[6]),p&1&&xr(a,h[0]),(!o||p&8)&&mt(t,"title",h[3])},i(h){o||(wt(u,h),o=!0)},o(h){It(u,h),o=!1},d(h){h&&vt(t),u&&u.d(h),e[12](null),l=!1,t0(c)}}}function Nmt(e,t,i){let{$$slots:n={},$$scope:a}=t,{value:o}=t,{callback:l=C=>{}}=t,{label:c=""}=t,{title:d=""}=t,{className:u=""}=t,{disabled:h=!1}=t,{style:p=""}=t,f;const M=C=>{if(C.preventDefault(),h)return;const _=[...f.children].map(I=>I.value);let E=_.indexOf(o);if(E===-1&&(E=_.indexOf(o.toString()),E===-1))return;let S;C.deltaY<0?S=E>0?E-1:_.length-1:S=E<_.length-1?E+1:0,typeof o=="number"?i(0,o=+_[S]):i(0,o=_[S]),l(C)},g=C=>{if(C.button===1){if(C.preventDefault(),h)return;const _=[...f.children].map(E=>E.value);typeof o=="number"?i(0,o=+_[0]):i(0,o=_[0]),l(C)}};function y(C){he[C?"unshift":"push"](()=>{f=C,i(7,f)})}function b(){o=Tl(this),i(0,o)}const v=C=>l(C);return e.$$set=C=>{"value"in C&&i(0,o=C.value),"callback"in C&&i(1,l=C.callback),"label"in C&&i(2,c=C.label),"title"in C&&i(3,d=C.title),"className"in C&&i(4,u=C.className),"disabled"in C&&i(5,h=C.disabled),"style"in C&&i(6,p=C.style),"$$scope"in C&&i(10,a=C.$$scope)},[o,l,c,d,u,h,p,f,M,g,a,n,y,b,v]}class t9 extends Zi{constructor(t){super(),Yi(this,t,Nmt,Lmt,Xi,{value:0,callback:1,label:2,title:3,className:4,disabled:5,style:6})}}function Fmt(e){let t,i,n,a;const o=e[7].default,l=zf(o,e,e[6],null);return{c(){t=q("main"),l&&l.c(),mt(t,"class","svelte-1ut9h26")},m(c,d){bt(c,t,d),l&&l.m(t,null),e[8](t),i=!0,n||(a=[ze(t,"drop",e[1]),ze(t,"dragover",e[2]),ze(t,"mouseleave",e[3]),ze(t,"dragend",e[3]),ze(t,"dragleave",e[3])],n=!0)},p(c,[d]){l&&l.p&&(!i||d&64)&&Wf(l,o,c,c[6],i?jf(o,c[6],d,null):Kf(c[6]),null)},i(c){i||(wt(l,c),i=!0)},o(c){It(l,c),i=!1},d(c){c&&vt(t),l&&l.d(c),e[8](null),n=!1,t0(a)}}}function Umt(e,t,i){let{$$slots:n={},$$scope:a}=t,{loadData:o=f=>{}}=t,{disabled:l=!1}=t,c;const d=async f=>{if(f.preventDefault(),i(0,c.style="background: none",c),l)return;const M=f.dataTransfer.files[0],g=await HU(M);console.log("dropped json",g),o(g)},u=f=>{f.preventDefault(),l?i(0,c.style="background: var(--error)",c):i(0,c.style="background: var(--accent)",c)},h=()=>{i(0,c.style="background: none",c)};function p(f){he[f?"unshift":"push"](()=>{c=f,i(0,c)})}return e.$$set=f=>{"loadData"in f&&i(4,o=f.loadData),"disabled"in f&&i(5,l=f.disabled),"$$scope"in f&&i(6,a=f.$$scope)},[c,d,u,h,o,l,a,n,p]}class m9 extends Zi{constructor(t){super(),Yi(this,t,Umt,Fmt,Xi,{loadData:4,disabled:5})}}function Jmt(e){let t,i,n,a;const o=e[3].default,l=zf(o,e,e[2],null);return{c(){t=q("button"),l&&l.c(),t.disabled=e[1],mt(t,"class","svelte-14tizqb")},m(c,d){bt(c,t,d),l&&l.m(t,null),i=!0,n||(a=ze(t,"click",function(){Xo(e[0])&&e[0].apply(this,arguments)}),n=!0)},p(c,[d]){e=c,l&&l.p&&(!i||d&4)&&Wf(l,o,e,e[2],i?jf(o,e[2],d,null):Kf(e[2]),null),(!i||d&2)&&(t.disabled=e[1])},i(c){i||(wt(l,c),i=!0)},o(c){It(l,c),i=!1},d(c){c&&vt(t),l&&l.d(c),n=!1,a()}}}function $mt(e,t,i){let{$$slots:n={},$$scope:a}=t,{onclick:o=()=>{}}=t,{disabled:l=!1}=t;return e.$$set=c=>{"onclick"in c&&i(0,o=c.onclick),"disabled"in c&&i(1,l=c.disabled),"$$scope"in c&&i(2,a=c.$$scope)},[o,l,a,n]}class T9 extends Zi{constructor(t){super(),Yi(this,t,$mt,Jmt,Xi,{onclick:0,disabled:1})}}const{window:KU}=Qc;function Gmt(e,t,i){const n=e.slice();return n[31]=t[i][0],n[32]=t[i][1],n}function Hmt(e,t,i){const n=e.slice();return n[35]=t[i],n}function Vmt(e){let t;return{c(){t=q("option"),t.textContent=`1/${e[35]} note`,t.__value=e[35],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function Qmt(e){let t,i=je(WU),n=[];for(let a=0;a<i.length;a+=1)n[a]=Vmt(Hmt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function zmt(e){let t;return{c(){t=q("option"),t.textContent=`${(e[31]/127).toFixed(1)} ${e[32]} `,t.__value=e[31]/127,qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function jmt(e){let t,i=je(t1.entries()),n=[];for(let a=0;a<i.length;a+=1)n[a]=zmt(Gmt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function Wmt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function Kmt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function qmt(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g;return n=new T9({props:{onclick:e[26],$$slots:{default:[Wmt]},$$scope:{ctx:e}}}),c=new T9({props:{onclick:e[27],$$slots:{default:[Kmt]},$$scope:{ctx:e}}}),{c(){t=q("p"),i=te(`1) Play quarter notes and accent the first one in each group of
                4.
                `),Pt(n.$$.fragment),a=K(),o=q("p"),l=te(`2) Play triplets and accent the first note in each triplet.
                `),Pt(c.$$.fragment),d=K(),u=q("p"),u.textContent=`3) Switch between triplets and sixteenth notes and accent the
                first note in each group of 3 and 4.`,h=K(),p=q("p"),p.textContent=`4) Play triplets and accent the first note in each odd triplet
                and the second in each even triplet.`,f=K(),M=q("p"),M.innerHTML=`5) Try different accent patterns such as:<br/> <span style="margin-left: 25px"><b>1</b> e + <b>a</b> 2 e + a 3 <b>e</b> + a <b>4</b> e + a<br/></span> <span class="icon" style="margin-left: 25px"><span class="acc svelte-64izzl"></span>   <span class="acc svelte-64izzl"></span> |
                        | 
                    <span class="acc svelte-64izzl"></span>
                      |
                    <span class="acc svelte-64izzl"></span>
                      </span>`},m(y,b){bt(y,t,b),B(t,i),Rt(n,t,null),bt(y,a,b),bt(y,o,b),B(o,l),Rt(c,o,null),bt(y,d,b),bt(y,u,b),bt(y,h,b),bt(y,p,b),bt(y,f,b),bt(y,M,b),g=!0},p(y,b){const v={};b[1]&128&&(v.$$scope={dirty:b,ctx:y}),n.$set(v);const C={};b[1]&128&&(C.$$scope={dirty:b,ctx:y}),c.$set(C)},i(y){g||(wt(n.$$.fragment,y),wt(c.$$.fragment,y),g=!0)},o(y){It(n.$$.fragment,y),It(c.$$.fragment,y),g=!1},d(y){y&&(vt(t),vt(a),vt(o),vt(d),vt(u),vt(h),vt(p),vt(f),vt(M)),Dt(n),Dt(c)}}}function Xmt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt;function kt(fe){e[17](fe)}let Jt={};e[2]!==void 0&&(Jt.value=e[2]),u=new Vr({props:Jt}),he.push(()=>Ee(u,"value",kt));function Gt(fe){e[18](fe)}let ce={max:70};e[5]!==void 0&&(ce.value=e[5]),f=new eu({props:ce}),he.push(()=>Ee(f,"value",Gt));function ae(fe){e[19](fe)}let qt={label:"dotted notes",title:"Use dotted notes? If not, the closest non-dotted note will be taken."};e[6]!==void 0&&(qt.checked=e[6]),y=new zn({props:qt}),he.push(()=>Ee(y,"checked",ae));function ue(fe){e[20](fe)}let $e={label:"tuplets",title:"Use tuplets? If not, the closest non-tuplet note will be taken."};e[7]!==void 0&&($e.checked=e[7]),C=new zn({props:$e}),he.push(()=>Ee(C,"checked",ue));function ve(fe){e[21](fe)}let He={title:"You can filter out notes that are shorter than a given note duration.",label:"filtering",$$slots:{default:[Qmt]},$$scope:{ctx:e}};e[3]!==void 0&&(He.value=e[3]),S=new t9({props:He}),he.push(()=>Ee(S,"value",ve));function qe(fe){e[22](fe)}let ri={title:"You can choose a value for loudness to only show loud and quiet notes in two different sizes instead of exactly sizing notes by loudness. Set to 0 to use smooth sizing.",label:"loudness threshold",$$slots:{default:[jmt]},$$scope:{ctx:e}};e[8]!==void 0&&(ri.value=e[8]),k=new t9({props:ri}),he.push(()=>Ee(k,"value",qe)),V=new so({props:{tempo:e[2],accent:4}});function oi(fe){e[24](fe)}let oe={saveToStorage:e[15],callback:e[12]};return e[9]!==void 0&&(oe.notes=e[9]),G=new c9({props:oe}),he.push(()=>Ee(G,"notes",oi)),W=new _9({props:{appId:e[0].id,loadData:e[14]}}),dt=new f9({props:{loadData:e[14],getExportData:e[13],appId:e[0].id}}),st=new e9({props:{$$slots:{default:[qmt]},$$scope:{ctx:e}}}),At=new i9({props:{appId:e[0].id}}),gt=new j0({props:{noteOn:e[11]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`This app helps practicing dynamic accents, that is, playing some
            notes louder then others to highlight them. Set a tempo and start
            playing. The time between the notes you play will be displayed as
            note symbols, so you can see whether you play, for example, correct
            quarter notes. The note&#39;s velocity is encoded as font size, so you
            can see whether you accent the correct notes, for example the first
            note in each triplet, or the the first in each group of 4.
            <i>Note: the display is always one note behind.</i>`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),Pt(C.$$.fragment),_=K(),E=q("div"),Pt(S.$$.fragment),T=K(),Pt(k.$$.fragment),N=K(),P=q("div"),F=K(),U=q("div"),Pt(V.$$.fragment),z=K(),Pt(G.$$.fragment),J=K(),Z=q("button"),Z.textContent="example",j=K(),Pt(W.$$.fragment),et=K(),Pt(dt.$$.fragment),ht=K(),Pt(st.$$.fragment),St=K(),Pt(At.$$.fragment),xt=K(),Pt(gt.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(E,"class","control"),mt(P,"class","visualization"),mt(U,"class","control"),mt(t,"class","app")},m(fe,pe){bt(fe,t,pe),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(d,v),Rt(C,d,null),B(t,_),B(t,E),Rt(S,E,null),B(E,T),Rt(k,E,null),B(t,N),B(t,P),e[23](P),B(t,F),B(t,U),Rt(V,U,null),B(U,z),Rt(G,U,null),B(U,J),B(U,Z),B(U,j),Rt(W,U,null),B(U,et),Rt(dt,U,null),B(t,ht),Rt(st,t,null),B(t,St),Rt(At,t,null),B(t,xt),Rt(gt,t,null),yt=!0,lt||(zt=ze(Z,"click",e[25]),lt=!0)},p(fe,pe){(!yt||pe[0]&1)&&n!==(n=fe[0].title+"")&&Qe(a,n);const Ot={};!h&&pe[0]&4&&(h=!0,Ot.value=fe[2],_e(()=>h=!1)),u.$set(Ot);const _t={};!M&&pe[0]&32&&(M=!0,_t.value=fe[5],_e(()=>M=!1)),f.$set(_t);const Ht={};!b&&pe[0]&64&&(b=!0,Ht.checked=fe[6],_e(()=>b=!1)),y.$set(Ht);const Tt={};!w&&pe[0]&128&&(w=!0,Tt.checked=fe[7],_e(()=>w=!1)),C.$set(Tt);const Et={};pe[1]&128&&(Et.$$scope={dirty:pe,ctx:fe}),!I&&pe[0]&8&&(I=!0,Et.value=fe[3],_e(()=>I=!1)),S.$set(Et);const Lt={};pe[1]&128&&(Lt.$$scope={dirty:pe,ctx:fe}),!D&&pe[0]&256&&(D=!0,Lt.value=fe[8],_e(()=>D=!1)),k.$set(Lt);const ut={};pe[0]&4&&(ut.tempo=fe[2]),V.$set(ut);const X={};!H&&pe[0]&512&&(H=!0,X.notes=fe[9],_e(()=>H=!1)),G.$set(X);const tt={};pe[0]&1&&(tt.appId=fe[0].id),W.$set(tt);const Bt={};pe[0]&1&&(Bt.appId=fe[0].id),dt.$set(Bt);const Qt={};pe[1]&128&&(Qt.$$scope={dirty:pe,ctx:fe}),st.$set(Qt);const jt={};pe[0]&1&&(jt.appId=fe[0].id),At.$set(jt)},i(fe){yt||(wt(u.$$.fragment,fe),wt(f.$$.fragment,fe),wt(y.$$.fragment,fe),wt(C.$$.fragment,fe),wt(S.$$.fragment,fe),wt(k.$$.fragment,fe),wt(V.$$.fragment,fe),wt(G.$$.fragment,fe),wt(W.$$.fragment,fe),wt(dt.$$.fragment,fe),wt(st.$$.fragment,fe),wt(At.$$.fragment,fe),wt(gt.$$.fragment,fe),yt=!0)},o(fe){It(u.$$.fragment,fe),It(f.$$.fragment,fe),It(y.$$.fragment,fe),It(C.$$.fragment,fe),It(S.$$.fragment,fe),It(k.$$.fragment,fe),It(V.$$.fragment,fe),It(G.$$.fragment,fe),It(W.$$.fragment,fe),It(dt.$$.fragment,fe),It(st.$$.fragment,fe),It(At.$$.fragment,fe),It(gt.$$.fragment,fe),yt=!1},d(fe){fe&&vt(t),Dt(u),Dt(f),Dt(y),Dt(C),Dt(S),Dt(k),e[23](null),Dt(V),Dt(G),Dt(W),Dt(dt),Dt(st),Dt(At),Dt(gt),lt=!1,zt()}}}function Ymt(e){let t,i,n,a;return J9(e[16]),t=new m9({props:{loadData:e[14],disabled:e[10],$$slots:{default:[Xmt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(o,l){Rt(t,o,l),i=!0,n||(a=ze(KU,"resize",e[16]),n=!0)},p(o,l){const c={};l[0]&1021|l[1]&128&&(c.$$scope={dirty:l,ctx:o}),t.$set(c)},i(o){i||(wt(t.$$.fragment,o),i=!0)},o(o){It(t.$$.fragment,o),i=!1},d(o){Dt(t,o),n=!1,a()}}}function Zmt(e,t,i){let n,a,{appInfo:o}=t,l=window.innerWidth,c,d=90,u=20,h=!1,p=!1,f=16,M=0,g=0,y=[],b;const v=async H=>{y.length===0&&(g=H.timestamp);const J=(H.timestamp-g)/1e3;if(y.length>0&&J-y.at(-1).time<a)return;const Z={time:J,velocity:H.velocity,number:H.note.number};i(9,y=[...y,Z])},C=()=>{i(4,c.textContent="",c);const H=[...t1.keys()].map(st=>st/127),J=On({width:n,height:100,marginTop:30,marginLeft:(n-400)/2,marginRight:(n-400)/2,marginBottom:37,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:"loudness legend",labelArrow:"none",labelAnchor:"center",ticks:H,tickSize:0,tickFormat:(st,St)=>[...t1.values()][St]},marks:[J0(H,{text:st=>"",x:(st,St)=>st,fontSize:st=>st*60+10})]});if(c.appendChild(J),y.length===0)return;let Z=Q0(d);const j=y.slice(-(u+1)),W=j.map((st,St)=>St===0?{}:{delta:(st.time-j[St-1].time)/Z,velocity:j[St-1].velocity}),et=Vc.filter(st=>h||!st.dotted).filter(st=>p||!st.tuplet),dt=W.slice(1).map(st=>{const St=wl(et,lt=>Math.abs(st.delta-lt.beats)),At=et[St],xt=[...t1.entries()],gt=wl(xt,lt=>Math.abs(st.velocity*127-lt[0])),yt=xt[gt][1];return{...At,beats:st,velocity:st.velocity,velocityLabel:yt,offsetPercent:(st.delta/At.beats*100).toFixed()}}),ht=On({width:n,height:110,marginTop:50,marginLeft:20,marginRight:20,marginBottom:10,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:"",domain:fi(1,u),ticks:[]},y:{axis:!1},marks:[J0(dt,{text:"symbol",x:(st,St)=>St,fontSize:M>0?st=>st.velocity<M?35:70:st=>st.velocity*60+10,y:1}),J0(dt,{text:"velocityLabel",x:(st,St)=>St,y:0,fill:"#888"})]});c.appendChild(ht)},w=()=>({tempo:d,pastNoteCount:u,useDotted:h,useTuplets:p,velocityThreshold:M,filterNote:f,notes:y}),_=H=>{E(),i(2,d=H.tempo),i(5,u=H.pastNoteCount),i(6,h=H.useDotted),i(7,p=H.useTuplets),i(8,M=H.velocityThreshold??0),i(3,f=H.filterNote??32),i(9,y=H.notes)},E=()=>{const H=JSON.stringify(y);y.length>0&&H!==JSON.stringify(ox.notes)&&H!==JSON.stringify(sx.notes)&&H!==JSON.stringify(lx.notes)&&C9(o.id,w())};$9(C),c0(E);function S(){i(1,l=KU.innerWidth)}function I(H){d=H,i(2,d)}function T(H){u=H,i(5,u)}function k(H){h=H,i(6,h)}function D(H){p=H,i(7,p)}function N(H){f=H,i(3,f)}function P(H){M=H,i(8,M)}function F(H){he[H?"unshift":"push"](()=>{c=H,i(4,c)})}function U(H){y=H,i(9,y)}const V=()=>_(ox),z=()=>_(sx),G=()=>_(lx);return e.$$set=H=>{"appInfo"in H&&i(0,o=H.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&2&&(n=l<1200?900:Math.floor(l-200)),e.$$.dirty[0]&12&&(a=Q0(d)*4/f)},[o,l,d,f,c,u,h,p,M,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G]}class t4t extends Zi{constructor(t){super(),Yi(this,t,Zmt,Ymt,Xi,{appInfo:0},null,[-1,-1])}}function Fh(e,t){const i=[];let n=[];for(const a of e)n.length===0||a.time-n.at(-1).time<t?n.push(a):(i.push(n),n=[a]);return i.push(n),i}const e4t=10,i4t=.4,n4t=100,r4t=[{number:57,velocity:17,time:0,channel:1},{number:59,velocity:3,time:.01,channel:1},{number:60,velocity:1,time:.013,channel:1},{number:43,velocity:1,time:.014,channel:1},{number:50,velocity:36,time:.014,channel:1},{number:55,velocity:37,time:.07,channel:1},{number:48,velocity:35,time:.257,channel:1},{number:59,velocity:12,time:.319,channel:1},{number:57,velocity:50,time:.398,channel:1},{number:55,velocity:47,time:.529,channel:1},{number:50,velocity:23,time:.554,channel:1},{number:47,velocity:36,time:.706,channel:1},{number:59,velocity:26,time:.762,channel:1},{number:60,velocity:20,time:.766,channel:1},{number:45,velocity:15,time:.898,channel:1},{number:57,velocity:32,time:.907,channel:1},{number:48,velocity:25,time:.9648999998569489,channel:1},{number:55,velocity:22,time:1.025,channel:1},{number:50,velocity:37,time:1.122,channel:1},{number:59,velocity:53,time:1.218,channel:1},{number:57,velocity:49,time:1.319899999856949,channel:1},{number:55,velocity:41,time:1.4638999998569489,channel:1},{number:59,velocity:60,time:1.6,channel:1},{number:57,velocity:54,time:1.718,channel:1},{number:55,velocity:46,time:1.831,channel:1},{number:59,velocity:53,time:1.961,channel:1},{number:57,velocity:60,time:2.058,channel:1},{number:55,velocity:52,time:2.153,channel:1},{number:47,velocity:18,time:2.267,channel:1},{number:59,velocity:60,time:2.2918999998569487,channel:1},{number:48,velocity:35,time:2.421,channel:1},{number:45,velocity:24,time:2.442,channel:1},{number:50,velocity:26,time:2.525,channel:1},{number:41,velocity:59,time:2.829,channel:1},{number:43,velocity:53,time:2.836899999856949,channel:1},{number:69,velocity:1,time:2.874899999856949,channel:1},{number:67,velocity:4,time:2.906,channel:1},{number:65,velocity:23,time:2.999,channel:1},{number:45,velocity:39,time:3.059,channel:1},{number:64,velocity:1,time:3.157899999856949,channel:1},{number:47,velocity:48,time:3.21,channel:1},{number:69,velocity:52,time:3.246,channel:1},{number:41,velocity:59,time:3.345,channel:1},{number:67,velocity:51,time:3.4408999998569487,channel:1},{number:65,velocity:26,time:3.577,channel:1},{number:45,velocity:13,time:3.689899999856949,channel:1},{number:43,velocity:11,time:3.691,channel:1},{number:69,velocity:42,time:3.780899999856949,channel:1},{number:67,velocity:38,time:3.85,channel:1},{number:43,velocity:1,time:4.144,channel:1},{number:45,velocity:1,time:4.246899999856949,channel:1},{number:64,velocity:1,time:4.436899999856949,channel:1},{number:47,velocity:10,time:4.448,channel:1},{number:48,velocity:9,time:4.457,channel:1},{number:62,velocity:33,time:4.473899999856949,channel:1},{number:60,velocity:33,time:4.593899999856949,channel:1},{number:64,velocity:52,time:4.771,channel:1},{number:62,velocity:47,time:4.923899999856949,channel:1},{number:60,velocity:54,time:5.057,channel:1},{number:64,velocity:52,time:5.291,channel:1},{number:62,velocity:48,time:5.399899999856949,channel:1},{number:60,velocity:60,time:5.460899999856949,channel:1},{number:64,velocity:48,time:5.681,channel:1},{number:62,velocity:58,time:5.757,channel:1},{number:60,velocity:64,time:5.83,channel:1},{number:64,velocity:50,time:6.114,channel:1},{number:62,velocity:32,time:6.179899999856949,channel:1},{number:60,velocity:67,time:6.248,channel:1},{number:64,velocity:30,time:6.677899999856949,channel:1},{number:62,velocity:64,time:6.777,channel:1},{number:60,velocity:39,time:6.828,channel:1},{number:64,velocity:48,time:7.201,channel:1},{number:62,velocity:50,time:7.300899999856949,channel:1},{number:60,velocity:56,time:7.3698999998569485,channel:1},{number:64,velocity:48,time:7.796,channel:1},{number:62,velocity:40,time:7.913899999856949,channel:1},{number:60,velocity:54,time:7.989,channel:1},{number:64,velocity:46,time:8.425899999856949,channel:1},{number:62,velocity:54,time:8.52389999985695,channel:1},{number:60,velocity:65,time:8.59389999985695,channel:1},{number:64,velocity:40,time:9.022,channel:1},{number:62,velocity:50,time:9.121,channel:1},{number:60,velocity:56,time:9.181899999856949,channel:1},{number:64,velocity:47,time:9.605899999856948,channel:1},{number:62,velocity:48,time:9.71289999985695,channel:1},{number:60,velocity:60,time:9.791,channel:1},{number:64,velocity:52,time:10.252,channel:1},{number:62,velocity:55,time:10.346,channel:1},{number:60,velocity:52,time:10.425899999856949,channel:1},{number:64,velocity:44,time:10.817899999856948,channel:1},{number:62,velocity:52,time:10.918,channel:1},{number:60,velocity:50,time:10.978,channel:1},{number:64,velocity:48,time:11.39889999985695,channel:1},{number:62,velocity:48,time:11.495,channel:1},{number:60,velocity:55,time:11.575,channel:1},{number:43,velocity:42,time:12.501,channel:1},{number:45,velocity:52,time:12.622,channel:1},{number:47,velocity:44,time:12.776,channel:1},{number:64,velocity:47,time:13.005899999856949,channel:1},{number:62,velocity:51,time:13.174,channel:1},{number:60,velocity:61,time:13.32,channel:1},{number:43,velocity:38,time:13.586899999856948,channel:1},{number:45,velocity:36,time:13.718,channel:1},{number:47,velocity:60,time:13.896,channel:1},{number:64,velocity:44,time:14.112899999856948,channel:1},{number:62,velocity:48,time:14.25,channel:1},{number:60,velocity:55,time:14.343,channel:1},{number:43,velocity:64,time:14.562,channel:1},{number:45,velocity:43,time:14.691,channel:1},{number:47,velocity:60,time:14.84089999985695,channel:1},{number:64,velocity:44,time:15.031,channel:1},{number:62,velocity:47,time:15.149,channel:1},{number:60,velocity:57,time:15.29,channel:1},{number:43,velocity:21,time:15.463,channel:1},{number:45,velocity:29,time:15.531899999856948,channel:1},{number:47,velocity:49,time:15.74189999985695,channel:1},{number:64,velocity:38,time:15.95689999985695,channel:1},{number:62,velocity:50,time:16.10089999985695,channel:1},{number:60,velocity:41,time:16.227,channel:1},{number:43,velocity:1,time:16.30389999985695,channel:1},{number:45,velocity:20,time:16.39789999985695,channel:1},{number:47,velocity:58,time:16.571,channel:1},{number:64,velocity:42,time:16.716,channel:1},{number:62,velocity:42,time:16.861,channel:1},{number:60,velocity:48,time:16.955,channel:1},{number:43,velocity:36,time:17.079,channel:1},{number:45,velocity:33,time:17.21089999985695,channel:1},{number:47,velocity:52,time:17.343,channel:1},{number:64,velocity:49,time:17.46089999985695,channel:1},{number:62,velocity:54,time:17.604,channel:1},{number:60,velocity:52,time:17.691,channel:1},{number:43,velocity:18,time:17.80189999985695,channel:1},{number:45,velocity:23,time:17.94,channel:1},{number:47,velocity:54,time:18.091,channel:1},{number:64,velocity:29,time:18.217,channel:1},{number:62,velocity:53,time:18.33989999985695,channel:1},{number:60,velocity:51,time:18.43489999985695,channel:1},{number:43,velocity:25,time:18.577,channel:1},{number:45,velocity:37,time:18.753899999856948,channel:1},{number:47,velocity:42,time:18.886899999856947,channel:1},{number:64,velocity:34,time:19.071,channel:1},{number:62,velocity:43,time:19.208,channel:1},{number:60,velocity:60,time:19.30689999985695,channel:1},{number:43,velocity:20,time:19.539,channel:1},{number:45,velocity:42,time:19.702,channel:1},{number:47,velocity:31,time:19.843,channel:1},{number:64,velocity:42,time:20.348,channel:1},{number:62,velocity:43,time:20.45889999985695,channel:1},{number:60,velocity:56,time:20.54089999985695,channel:1},{number:43,velocity:33,time:20.92589999985695,channel:1},{number:45,velocity:36,time:21.071,channel:1},{number:47,velocity:38,time:21.192,channel:1},{number:64,velocity:25,time:21.608,channel:1},{number:62,velocity:60,time:21.7,channel:1},{number:60,velocity:67,time:21.763,channel:1},{number:43,velocity:26,time:22.151899999856948,channel:1},{number:45,velocity:50,time:22.28489999985695,channel:1},{number:47,velocity:35,time:22.408,channel:1},{number:64,velocity:51,time:22.778,channel:1},{number:62,velocity:65,time:22.895,channel:1},{number:60,velocity:65,time:22.966,channel:1},{number:43,velocity:22,time:23.32389999985695,channel:1},{number:45,velocity:31,time:23.465899999856948,channel:1},{number:47,velocity:62,time:23.578,channel:1},{number:64,velocity:12,time:24.013,channel:1},{number:62,velocity:49,time:24.094,channel:1},{number:60,velocity:60,time:24.182,channel:1},{number:48,velocity:30,time:34.96,channel:1},{number:48,velocity:1,time:37.529,channel:1},{number:50,velocity:9,time:38.00989999985695,channel:1},{number:53,velocity:14,time:38.982,channel:1},{number:48,velocity:1,time:40.822,channel:1},{number:52,velocity:27,time:41.344,channel:1},{number:55,velocity:19,time:41.815899999856946,channel:1},{number:48,velocity:30,time:43.126899999856946,channel:1},{number:52,velocity:52,time:43.251,channel:1},{number:55,velocity:14,time:43.431,channel:1},{number:48,velocity:48,time:43.745,channel:1},{number:52,velocity:50,time:43.879,channel:1},{number:55,velocity:30,time:44.02,channel:1},{number:48,velocity:38,time:44.355,channel:1},{number:52,velocity:48,time:44.507,channel:1},{number:55,velocity:37,time:44.682,channel:1},{number:48,velocity:22,time:45.09489999985695,channel:1},{number:52,velocity:36,time:45.232,channel:1},{number:55,velocity:56,time:45.401,channel:1},{number:48,velocity:9,time:45.819,channel:1},{number:52,velocity:30,time:45.942,channel:1},{number:55,velocity:48,time:46.09189999985695,channel:1},{number:60,velocity:47,time:50.402,channel:1},{number:64,velocity:1,time:51.346,channel:1},{number:65,velocity:22,time:51.813,channel:1},{number:48,velocity:18,time:52.31,channel:1},{number:52,velocity:57,time:52.474,channel:1},{number:55,velocity:50,time:52.592,channel:1},{number:60,velocity:40,time:52.915,channel:1},{number:64,velocity:16,time:53.08,channel:1},{number:65,velocity:61,time:53.197,channel:1},{number:48,velocity:25,time:53.566,channel:1},{number:52,velocity:41,time:53.69,channel:1},{number:55,velocity:54,time:53.82689999985695,channel:1},{number:60,velocity:31,time:54.043,channel:1},{number:64,velocity:33,time:54.187,channel:1},{number:65,velocity:55,time:54.292,channel:1},{number:48,velocity:36,time:54.56389999985695,channel:1},{number:52,velocity:50,time:54.677,channel:1},{number:55,velocity:50,time:54.831,channel:1},{number:60,velocity:34,time:55.066,channel:1},{number:64,velocity:7,time:55.242,channel:1},{number:65,velocity:57,time:55.36,channel:1},{number:48,velocity:20,time:56.44,channel:1},{number:52,velocity:56,time:56.617,channel:1},{number:55,velocity:48,time:56.752,channel:1},{number:65,velocity:1,time:56.95,channel:1},{number:64,velocity:42,time:57.114,channel:1},{number:60,velocity:54,time:57.286,channel:1},{number:48,velocity:40,time:57.54989999985695,channel:1},{number:52,velocity:56,time:57.699,channel:1},{number:55,velocity:24,time:57.894,channel:1},{number:65,velocity:23,time:58.147,channel:1},{number:64,velocity:6,time:58.361,channel:1},{number:60,velocity:13,time:58.53189999985695,channel:1},{number:48,velocity:25,time:58.724,channel:1},{number:52,velocity:49,time:58.876899999856946,channel:1},{number:55,velocity:46,time:59.033,channel:1},{number:65,velocity:18,time:59.281,channel:1},{number:64,velocity:40,time:59.51,channel:1},{number:60,velocity:30,time:59.664,channel:1},{number:48,velocity:15,time:59.84589999985695,channel:1},{number:52,velocity:52,time:60.008,channel:1},{number:55,velocity:38,time:60.16,channel:1},{number:65,velocity:23,time:60.376,channel:1},{number:64,velocity:36,time:60.562,channel:1},{number:60,velocity:48,time:60.744,channel:1},{number:48,velocity:1,time:60.852,channel:1},{number:52,velocity:48,time:60.965,channel:1},{number:55,velocity:46,time:61.14989999985695,channel:1},{number:65,velocity:22,time:61.42189999985695,channel:1},{number:64,velocity:44,time:61.618,channel:1},{number:60,velocity:18,time:61.792,channel:1},{number:48,velocity:22,time:61.985,channel:1},{number:52,velocity:42,time:62.153,channel:1},{number:55,velocity:45,time:62.30189999985695,channel:1},{number:65,velocity:26,time:62.528,channel:1},{number:64,velocity:23,time:62.714,channel:1},{number:60,velocity:15,time:62.891,channel:1},{number:48,velocity:41,time:63.796,channel:1},{number:52,velocity:65,time:63.94189999985695,channel:1},{number:55,velocity:64,time:64.024,channel:1},{number:65,velocity:42,time:64.41889999985695,channel:1},{number:64,velocity:58,time:64.549,channel:1},{number:60,velocity:49,time:64.679,channel:1},{number:48,velocity:24,time:65.057,channel:1},{number:52,velocity:64,time:65.224,channel:1},{number:55,velocity:48,time:65.372,channel:1},{number:65,velocity:25,time:65.747,channel:1},{number:64,velocity:44,time:65.906,channel:1},{number:60,velocity:47,time:65.994,channel:1},{number:48,velocity:23,time:66.423,channel:1},{number:52,velocity:58,time:66.56689999985694,channel:1},{number:55,velocity:21,time:66.718,channel:1},{number:65,velocity:22,time:67.109,channel:1},{number:64,velocity:54,time:67.25489999985695,channel:1},{number:60,velocity:68,time:67.393,channel:1},{number:48,velocity:23,time:67.76289999985696,channel:1},{number:52,velocity:48,time:67.915,channel:1},{number:55,velocity:64,time:68.06889999985695,channel:1},{number:65,velocity:15,time:68.445,channel:1},{number:64,velocity:62,time:68.62289999985695,channel:1},{number:60,velocity:36,time:68.766,channel:1},{number:48,velocity:63,time:70.263,channel:1},{number:52,velocity:68,time:70.38289999985695,channel:1},{number:55,velocity:45,time:70.481,channel:1},{number:65,velocity:38,time:70.77,channel:1},{number:64,velocity:16,time:70.946,channel:1},{number:60,velocity:34,time:71.062,channel:1},{number:48,velocity:37,time:71.46989999985695,channel:1},{number:52,velocity:62,time:71.632,channel:1},{number:55,velocity:64,time:71.827,channel:1},{number:65,velocity:23,time:72.16789999985694,channel:1},{number:64,velocity:58,time:72.314,channel:1},{number:60,velocity:38,time:72.43389999985695,channel:1},{number:48,velocity:34,time:72.832,channel:1},{number:52,velocity:49,time:72.973,channel:1},{number:55,velocity:58,time:73.087,channel:1},{number:48,velocity:38,time:73.508,channel:1},{number:52,velocity:51,time:73.63289999985695,channel:1},{number:55,velocity:50,time:73.769,channel:1},{number:48,velocity:40,time:74.174,channel:1},{number:52,velocity:49,time:74.27989999985695,channel:1},{number:55,velocity:57,time:74.36489999985695,channel:1},{number:48,velocity:32,time:74.764,channel:1},{number:52,velocity:44,time:74.873,channel:1},{number:55,velocity:57,time:75.008,channel:1},{number:48,velocity:42,time:75.416,channel:1},{number:52,velocity:48,time:75.549,channel:1},{number:55,velocity:58,time:75.664,channel:1},{number:48,velocity:50,time:76.068,channel:1},{number:52,velocity:54,time:76.207,channel:1},{number:55,velocity:62,time:76.324,channel:1},{number:48,velocity:51,time:76.63689999985695,channel:1},{number:52,velocity:52,time:76.762,channel:1},{number:55,velocity:63,time:76.869,channel:1},{number:48,velocity:62,time:77.23389999985694,channel:1},{number:52,velocity:59,time:77.353,channel:1},{number:55,velocity:62,time:77.423,channel:1},{number:48,velocity:40,time:77.837,channel:1},{number:52,velocity:61,time:77.974,channel:1},{number:55,velocity:58,time:78.064,channel:1},{number:48,velocity:16,time:78.47189999985694,channel:1},{number:52,velocity:54,time:78.603,channel:1},{number:55,velocity:60,time:78.683,channel:1},{number:48,velocity:40,time:79.095,channel:1},{number:52,velocity:54,time:79.214,channel:1},{number:55,velocity:62,time:79.315,channel:1},{number:48,velocity:22,time:79.75,channel:1},{number:52,velocity:60,time:79.879,channel:1},{number:55,velocity:61,time:79.985,channel:1},{number:48,velocity:23,time:80.45789999985695,channel:1},{number:52,velocity:59,time:80.596,channel:1},{number:55,velocity:54,time:80.71,channel:1},{number:48,velocity:30,time:81.118,channel:1},{number:52,velocity:45,time:81.231,channel:1},{number:55,velocity:58,time:81.32389999985695,channel:1},{number:48,velocity:32,time:81.73689999985694,channel:1},{number:52,velocity:48,time:81.846,channel:1},{number:55,velocity:64,time:81.95,channel:1},{number:48,velocity:58,time:82.35189999985695,channel:1},{number:52,velocity:47,time:82.45,channel:1},{number:55,velocity:66,time:82.558,channel:1},{number:48,velocity:54,time:82.95689999985694,channel:1},{number:52,velocity:56,time:83.06,channel:1},{number:55,velocity:67,time:83.135,channel:1},{number:65,velocity:34,time:83.514,channel:1},{number:64,velocity:30,time:83.675,channel:1},{number:60,velocity:30,time:83.737,channel:1},{number:48,velocity:64,time:84.144,channel:1},{number:52,velocity:58,time:84.269,channel:1},{number:55,velocity:64,time:84.353,channel:1},{number:65,velocity:24,time:84.673,channel:1},{number:64,velocity:50,time:84.808,channel:1},{number:60,velocity:45,time:84.86389999985695,channel:1},{number:48,velocity:42,time:85.18989999985695,channel:1},{number:52,velocity:64,time:85.35189999985695,channel:1},{number:55,velocity:44,time:85.476,channel:1},{number:65,velocity:24,time:85.773,channel:1},{number:64,velocity:61,time:85.945,channel:1},{number:60,velocity:54,time:86.005,channel:1},{number:48,velocity:48,time:86.21889999985694,channel:1},{number:52,velocity:62,time:86.459,channel:1},{number:55,velocity:66,time:86.592,channel:1},{number:67,velocity:22,time:86.961,channel:1},{number:64,velocity:47,time:87.251,channel:1},{number:60,velocity:29,time:87.255,channel:1},{number:48,velocity:39,time:87.78,channel:1},{number:52,velocity:65,time:87.952,channel:1},{number:55,velocity:38,time:88.019,channel:1},{number:67,velocity:47,time:88.332,channel:1},{number:64,velocity:65,time:88.44889999985695,channel:1},{number:60,velocity:59,time:88.554,channel:1},{number:48,velocity:44,time:88.871,channel:1},{number:52,velocity:64,time:89.053,channel:1},{number:55,velocity:58,time:89.175,channel:1},{number:67,velocity:52,time:89.545,channel:1},{number:64,velocity:68,time:89.67289999985695,channel:1},{number:60,velocity:56,time:89.756,channel:1},{number:48,velocity:18,time:90.027,channel:1},{number:52,velocity:60,time:90.229,channel:1},{number:55,velocity:62,time:90.34089999985694,channel:1},{number:67,velocity:23,time:90.718,channel:1},{number:64,velocity:46,time:90.845,channel:1},{number:60,velocity:33,time:90.91289999985695,channel:1},{number:48,velocity:19,time:91.262,channel:1},{number:52,velocity:57,time:91.424,channel:1},{number:55,velocity:66,time:91.536,channel:1},{number:67,velocity:24,time:91.867,channel:1},{number:64,velocity:62,time:91.99789999985695,channel:1},{number:60,velocity:44,time:92.075,channel:1},{number:48,velocity:17,time:92.39189999985695,channel:1},{number:52,velocity:56,time:92.55789999985694,channel:1},{number:55,velocity:68,time:92.681,channel:1},{number:67,velocity:23,time:93.051,channel:1},{number:64,velocity:60,time:93.184,channel:1},{number:60,velocity:64,time:93.241,channel:1},{number:48,velocity:44,time:93.484,channel:1},{number:52,velocity:59,time:93.70189999985695,channel:1},{number:55,velocity:61,time:93.81189999985695,channel:1},{number:67,velocity:24,time:94.131,channel:1},{number:64,velocity:60,time:94.26889999985696,channel:1},{number:60,velocity:25,time:94.376,channel:1},{number:48,velocity:38,time:94.744,channel:1},{number:52,velocity:64,time:94.855,channel:1},{number:55,velocity:64,time:94.94889999985695,channel:1},{number:67,velocity:40,time:95.313,channel:1},{number:64,velocity:58,time:95.438,channel:1},{number:60,velocity:27,time:95.50389999985696,channel:1},{number:48,velocity:15,time:95.822,channel:1},{number:52,velocity:44,time:96.012,channel:1},{number:55,velocity:70,time:96.092,channel:1},{number:67,velocity:17,time:96.39589999985695,channel:1},{number:64,velocity:31,time:96.571,channel:1},{number:65,velocity:24,time:96.575,channel:1},{number:60,velocity:34,time:96.65689999985695,channel:1},{number:48,velocity:21,time:97.038,channel:1},{number:52,velocity:58,time:97.228,channel:1},{number:55,velocity:44,time:97.378,channel:1},{number:67,velocity:26,time:98.16789999985694,channel:1},{number:64,velocity:62,time:98.368,channel:1},{number:60,velocity:57,time:98.47789999985694,channel:1},{number:48,velocity:12,time:98.933,channel:1},{number:52,velocity:58,time:99.19589999985695,channel:1},{number:55,velocity:59,time:99.27989999985695,channel:1},{number:67,velocity:25,time:99.673,channel:1},{number:64,velocity:70,time:99.77989999985695,channel:1},{number:60,velocity:47,time:99.906,channel:1},{number:48,velocity:27,time:100.356,channel:1},{number:52,velocity:66,time:100.48889999985695,channel:1},{number:55,velocity:60,time:100.61,channel:1},{number:67,velocity:11,time:100.843,channel:1},{number:64,velocity:69,time:100.99489999985695,channel:1},{number:60,velocity:60,time:101.115,channel:1},{number:48,velocity:1,time:101.596,channel:1},{number:52,velocity:62,time:101.73289999985695,channel:1},{number:55,velocity:63,time:101.83689999985695,channel:1},{number:67,velocity:1,time:102.288,channel:1},{number:64,velocity:56,time:102.39589999985695,channel:1},{number:60,velocity:66,time:102.536,channel:1},{number:48,velocity:19,time:102.90189999985695,channel:1},{number:52,velocity:61,time:103.081,channel:1},{number:55,velocity:67,time:103.194,channel:1},{number:67,velocity:21,time:103.65689999985695,channel:1},{number:64,velocity:52,time:103.778,channel:1},{number:60,velocity:69,time:103.887,channel:1},{number:48,velocity:22,time:104.347,channel:1},{number:52,velocity:62,time:104.50489999985695,channel:1},{number:55,velocity:58,time:104.607,channel:1},{number:67,velocity:14,time:104.986,channel:1},{number:64,velocity:57,time:105.10689999985695,channel:1},{number:60,velocity:50,time:105.208,channel:1},{number:48,velocity:40,time:105.609,channel:1},{number:52,velocity:62,time:105.73489999985695,channel:1},{number:55,velocity:64,time:105.849,channel:1},{number:67,velocity:44,time:106.231,channel:1},{number:64,velocity:52,time:106.348,channel:1},{number:60,velocity:52,time:106.46,channel:1},{number:48,velocity:1,time:106.79489999985695,channel:1},{number:52,velocity:60,time:106.94,channel:1},{number:55,velocity:68,time:107.048,channel:1},{number:67,velocity:26,time:107.447,channel:1},{number:64,velocity:58,time:107.542,channel:1},{number:60,velocity:60,time:107.66289999985695,channel:1},{number:48,velocity:21,time:108.07089999985695,channel:1},{number:52,velocity:52,time:108.199,channel:1},{number:55,velocity:63,time:108.282,channel:1},{number:67,velocity:30,time:108.697,channel:1},{number:64,velocity:65,time:108.79489999985695,channel:1},{number:60,velocity:52,time:108.901,channel:1}],a4t="chord-arpeggio-timing",o4t="0.16.2",s4t="2024-10-10T16:55:06.612Z",gx={pastBeats:e4t,maxNoteDistance:i4t,tempo:n4t,notes:r4t,_appId:a4t,_softwareVersion:o4t,_date:s4t},{window:qU}=Qc;function l4t(e){let t,i,n;return{c(){t=q("p"),t.textContent=`1) Play a chord progression that is tricky for you. Make sure the time
        between each chord and the previous is always roughly the same.`,i=K(),n=q("p"),n.textContent="2) Play an arpeggio of this chord progression (with a pause after each)."},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function c4t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et;function dt(lt){e[13](lt)}let ht={};e[5]!==void 0&&(ht.value=e[5]),u=new Vr({props:ht}),he.push(()=>Ee(u,"value",dt));function st(lt){e[14](lt)}let St={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio (in beats)",label:"max note distance",min:.05,max:5,step:.05};e[4]!==void 0&&(St.value=e[4]),f=new M0({props:St}),he.push(()=>Ee(f,"value",st));function At(lt){e[15](lt)}let xt={title:"The time in beats that is shown",label:"beats shown",min:10,max:300,step:10};e[3]!==void 0&&(xt.value=e[3]),y=new M0({props:xt}),he.push(()=>Ee(y,"value",At)),E=new so({props:{tempo:e[5],accent:4}});function gt(lt){e[17](lt)}let yt={saveToStorage:e[11]};return e[6]!==void 0&&(yt.notes=e[6]),I=new c9({props:yt}),he.push(()=>Ee(I,"notes",gt)),P=new _9({props:{appId:e[0].id,loadData:e[10]}}),U=new f9({props:{loadData:e[10],getExportData:e[9],appId:e[0].id}}),z=new e9({props:{$$slots:{default:[l4t]},$$scope:{ctx:e}}}),H=new j0({props:{noteOn:e[8],pcKeyAllowed:!0}}),Z=new i9({props:{appId:e[0].id}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing the timing between chords and between the notes
      in them. Play chords or short arpeggios with pauses inbetween. In the
      visualization below, you can then see how long the time between the first
      and last note of each chord/arpeggio was and how much time lies between
      consecutive chords/arpeggios.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),C=q("div"),w=K(),_=q("div"),Pt(E.$$.fragment),S=K(),Pt(I.$$.fragment),k=K(),D=q("button"),D.textContent="example",N=K(),Pt(P.$$.fragment),F=K(),Pt(U.$$.fragment),V=K(),Pt(z.$$.fragment),G=K(),Pt(H.$$.fragment),J=K(),Pt(Z.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(C,"class","visualization"),mt(_,"class","control"),mt(t,"class","app")},m(lt,zt){bt(lt,t,zt),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(t,v),B(t,C),e[16](C),B(t,w),B(t,_),Rt(E,_,null),B(_,S),Rt(I,_,null),B(_,k),B(_,D),B(_,N),Rt(P,_,null),B(_,F),Rt(U,_,null),B(t,V),Rt(z,t,null),B(t,G),Rt(H,t,null),B(t,J),Rt(Z,t,null),j=!0,W||(et=ze(D,"click",e[18]),W=!0)},p(lt,zt){(!j||zt&1)&&n!==(n=lt[0].title+"")&&Qe(a,n);const kt={};!h&&zt&32&&(h=!0,kt.value=lt[5],_e(()=>h=!1)),u.$set(kt);const Jt={};!M&&zt&16&&(M=!0,Jt.value=lt[4],_e(()=>M=!1)),f.$set(Jt);const Gt={};!b&&zt&8&&(b=!0,Gt.value=lt[3],_e(()=>b=!1)),y.$set(Gt);const ce={};zt&32&&(ce.tempo=lt[5]),E.$set(ce);const ae={};!T&&zt&64&&(T=!0,ae.notes=lt[6],_e(()=>T=!1)),I.$set(ae);const qt={};zt&1&&(qt.appId=lt[0].id),P.$set(qt);const ue={};zt&1&&(ue.appId=lt[0].id),U.$set(ue);const $e={};zt&4194304&&($e.$$scope={dirty:zt,ctx:lt}),z.$set($e);const ve={};zt&1&&(ve.appId=lt[0].id),Z.$set(ve)},i(lt){j||(wt(u.$$.fragment,lt),wt(f.$$.fragment,lt),wt(y.$$.fragment,lt),wt(E.$$.fragment,lt),wt(I.$$.fragment,lt),wt(P.$$.fragment,lt),wt(U.$$.fragment,lt),wt(z.$$.fragment,lt),wt(H.$$.fragment,lt),wt(Z.$$.fragment,lt),j=!0)},o(lt){It(u.$$.fragment,lt),It(f.$$.fragment,lt),It(y.$$.fragment,lt),It(E.$$.fragment,lt),It(I.$$.fragment,lt),It(P.$$.fragment,lt),It(U.$$.fragment,lt),It(z.$$.fragment,lt),It(H.$$.fragment,lt),It(Z.$$.fragment,lt),j=!1},d(lt){lt&&vt(t),Dt(u),Dt(f),Dt(y),e[16](null),Dt(E),Dt(I),Dt(P),Dt(U),Dt(z),Dt(H),Dt(Z),W=!1,et()}}}function u4t(e){let t,i,n,a;return J9(e[12]),t=new m9({props:{loadData:e[10],disabled:e[7],$$slots:{default:[c4t]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(o,l){Rt(t,o,l),i=!0,n||(a=ze(qU,"resize",e[12]),n=!0)},p(o,[l]){const c={};l&4194429&&(c.$$scope={dirty:l,ctx:o}),t.$set(c)},i(o){i||(wt(t.$$.fragment,o),i=!0)},o(o){It(t.$$.fragment,o),i=!1},d(o){Dt(t,o),n=!1,a()}}}let d4t=350;function h4t(e,t,i){let n,{appInfo:a}=t,o=window.innerWidth,l,c=10,d=.25,u=90,h=0,p=[],f;const M=k=>{p.length===0&&(h=k.timestamp);const D=(k.timestamp-h)/1e3,N={number:k.note.number,velocity:k.rawVelocity,time:D,channel:k.message.channel};i(6,p=[...p,N])};$9(()=>{const k=Q0(u),D=v9(p,J=>J.time)/k+.5,N=D-c,P=p.filter(J=>J.time/k>N).map(J=>({...J,time:J.time/k})),U=Fh(P,d).map(J=>W9(J,Z=>Z.time)),V=U.slice(1).map((J,Z)=>[U[Z][0],J[0]]),z=On({insetRight:10,width:n,height:d4t,marginLeft:60,marginBottom:0,padding:0,x:{label:null,domain:[N,D],grid:!0},y:{label:"MIDI Pitch",grid:!0,reverse:!0,tickFormat:J=>Rs[J].label},marks:[$r(P,{clip:!0,x:"time",y:"number",fill:"#ddd",stroke:"#ccc",strokeWidth:2.5,inset:4})]}),G=On({insetRight:10,width:n,height:40,marginLeft:60,marginTop:0,marginBottom:0,padding:0,x:{label:null,domain:[N,D],grid:!0},y:{ticks:[],label:"durations"},marks:[TS(U,{clip:!0,x1:J=>J[0],x2:J=>J[1],y:0,strokeWidth:4,stroke:"#888"}),J0(U,{clip:!0,x:J=>(J[0]+J[1])/2,y:0,text:(J,Z)=>(J[1]-J[0]).toFixed(1),dy:10,textAnchor:"middle"})]}),H=On({insetRight:10,width:n,height:75,marginLeft:60,marginTop:0,marginBottom:40,padding:0,x:{label:"Time in beats",domain:[N,D],tickSize:10,grid:!0},y:{ticks:[],label:"gaps"},marks:[TS(V,{clip:!0,x1:J=>J[0],x2:J=>J[1],y:0,marker:"dot",strokeWidth:4,stroke:"#888"}),J0(V,{clip:!0,x:J=>(J[0]+J[1])/2,y:0,text:(J,Z)=>(J[1]-J[0]).toFixed(1),dx:2,dy:12,textAnchor:"middle"})]});i(2,l.textContent="",l),l.appendChild(z),l.appendChild(G),l.appendChild(H)});const y=()=>({pastBeats:c,maxNoteDistance:d,tempo:u,notes:p}),b=k=>{v(),i(3,c=k.pastBeats),i(4,d=k.maxNoteDistance),i(5,u=k.tempo),i(6,p=k.notes)},v=()=>{p.length>0&&JSON.stringify(p)!==JSON.stringify(gx.notes)&&C9(a.id,y())};c0(v);function C(){i(1,o=qU.innerWidth)}function w(k){u=k,i(5,u)}function _(k){d=k,i(4,d)}function E(k){c=k,i(3,c)}function S(k){he[k?"unshift":"push"](()=>{l=k,i(2,l)})}function I(k){p=k,i(6,p)}const T=()=>b(gx);return e.$$set=k=>{"appInfo"in k&&i(0,a=k.appInfo)},e.$$.update=()=>{e.$$.dirty&2&&(n=o<1200?900:Math.floor(o-200))},[a,o,l,c,d,u,p,f,M,y,b,v,C,w,_,E,S,I,T]}class f4t extends Zi{constructor(t){super(),Yi(this,t,h4t,u4t,Xi,{appInfo:0})}}const m4t=4,p4t=5,g4t=.1,M4t=[{time:1.398,number:62,note:"D",velocity:88,string:1,fret:3,channel:2,chordId:0},{time:1.413,number:66,note:"F",velocity:38,string:0,fret:2,channel:1,chordId:0},{time:7.616,number:59,note:"B",velocity:10,string:5,fret:19,channel:6,chordId:2},{time:7.648,number:40,note:"E",velocity:98,string:5,fret:0,channel:6,chordId:1},{time:7.67,number:70,note:"A",velocity:82,string:3,fret:20,channel:4,chordId:2},{time:7.67510000000149,number:47,note:"B",velocity:112,string:4,fret:2,channel:5,chordId:1},{time:7.688,number:74,note:"D",velocity:51,string:2,fret:19,channel:3},{time:7.692,number:52,note:"E",velocity:127,string:3,fret:2,channel:4,chordId:1},{time:7.701,number:55,note:"G",velocity:115,string:2,fret:0,channel:3,chordId:1},{time:7.716,number:59,note:"B",velocity:97,string:1,fret:0,channel:2,chordId:1},{time:7.72810000000149,number:64,note:"E",velocity:71,string:0,fret:0,channel:1,chordId:1},{time:11.857,number:45,note:"A",velocity:100,string:4,fret:0,channel:5,chordId:2},{time:11.85910000000149,number:70,note:"A",velocity:80,string:3,fret:20,channel:4,chordId:3},{time:11.87910000000149,number:74,note:"D",velocity:48,string:2,fret:19,channel:3,chordId:3},{time:11.881,number:52,note:"E",velocity:127,string:3,fret:2,channel:4,chordId:2},{time:11.892,number:57,note:"A",velocity:114,string:2,fret:2,channel:3,chordId:2},{time:11.89510000000149,number:72,note:"C",velocity:32,string:1,fret:13,channel:2},{time:11.907,number:60,note:"C",velocity:113,string:1,fret:1,channel:2,chordId:2},{time:11.92210000000149,number:64,note:"E",velocity:90,string:0,fret:0,channel:1,chordId:2},{time:17.361,number:60,note:"C",velocity:46,string:4,fret:15,channel:5},{time:17.364,number:43,note:"G",velocity:75,string:5,fret:3,channel:6,chordId:3},{time:17.38010000000149,number:69,note:"A",velocity:73,string:3,fret:19,channel:4},{time:17.388,number:47,note:"B",velocity:68,string:4,fret:2,channel:5,chordId:3}],y4t="chord-diagrams",A4t="2024-07-03T18:34:37.899Z",Mx={pastChords:m4t,maxFretSpan:p4t,maxNoteDistance:g4t,notes:M4t,_appId:y4t,_date:A4t};function v4t(e){let t,i,n,a,o;return{c(){t=q("p"),t.textContent="1) Play an A minor chord.",i=K(),n=q("p"),n.textContent=`2) Play chords you don't know by placing your fingers in
                different positions. If they sound good, look what they are
                called.`,a=K(),o=q("p"),o.textContent="3) Play an A minor chord in three different positions."},m(l,c){bt(l,t,c),bt(l,i,c),bt(l,n,c),bt(l,a,c),bt(l,o,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n),vt(a),vt(o))}}}function b4t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j;function W(gt){e[11](gt)}let et={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio",label:"max. note distance",min:.05,max:5,step:.05};e[4]!==void 0&&(et.value=e[4]),u=new M0({props:et}),he.push(()=>Ee(u,"value",W));function dt(gt){e[12](gt)}let ht={title:"maximum distance between the lowest and highest fret",label:"max. fret span",min:5,max:25,step:1};e[3]!==void 0&&(ht.value=e[3]),f=new M0({props:ht}),he.push(()=>Ee(f,"value",dt));function st(gt){e[13](gt)}let St={title:"The number of played chords that is displayed",label:"chord count",min:10,max:300,step:10};e[2]!==void 0&&(St.value=e[2]),y=new M0({props:St}),he.push(()=>Ee(y,"value",st));function At(gt){e[15](gt)}let xt={saveToStorage:e[10]};return e[5]!==void 0&&(xt.notes=e[5]),E=new c9({props:xt}),he.push(()=>Ee(E,"notes",At)),D=new _9({props:{appId:e[0].id,loadData:e[9]}}),P=new f9({props:{loadData:e[9],getExportData:e[8],appId:e[0].id}}),U=new e9({props:{$$slots:{default:[v4t]},$$scope:{ctx:e}}}),z=new i9({props:{appId:e[0].id}}),H=new j0({props:{noteOn:e[7]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing different chord shapes on a guitar. Play
            chords you know (or don't know yet) and see the chord names and
            diagrams.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),C=q("div"),w=K(),_=q("div"),Pt(E.$$.fragment),I=K(),T=q("button"),T.textContent="example",k=K(),Pt(D.$$.fragment),N=K(),Pt(P.$$.fragment),F=K(),Pt(U.$$.fragment),V=K(),Pt(z.$$.fragment),G=K(),Pt(H.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(C,"class","visualization"),mt(_,"class","control"),mt(t,"class","app")},m(gt,yt){bt(gt,t,yt),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(t,v),B(t,C),e[14](C),B(t,w),B(t,_),Rt(E,_,null),B(_,I),B(_,T),B(_,k),Rt(D,_,null),B(_,N),Rt(P,_,null),B(t,F),Rt(U,t,null),B(t,V),Rt(z,t,null),B(t,G),Rt(H,t,null),J=!0,Z||(j=ze(T,"click",e[16]),Z=!0)},p(gt,yt){(!J||yt&1)&&n!==(n=gt[0].title+"")&&Qe(a,n);const lt={};!h&&yt&16&&(h=!0,lt.value=gt[4],_e(()=>h=!1)),u.$set(lt);const zt={};!M&&yt&8&&(M=!0,zt.value=gt[3],_e(()=>M=!1)),f.$set(zt);const kt={};!b&&yt&4&&(b=!0,kt.value=gt[2],_e(()=>b=!1)),y.$set(kt);const Jt={};!S&&yt&32&&(S=!0,Jt.notes=gt[5],_e(()=>S=!1)),E.$set(Jt);const Gt={};yt&1&&(Gt.appId=gt[0].id),D.$set(Gt);const ce={};yt&1&&(ce.appId=gt[0].id),P.$set(ce);const ae={};yt&2097152&&(ae.$$scope={dirty:yt,ctx:gt}),U.$set(ae);const qt={};yt&1&&(qt.appId=gt[0].id),z.$set(qt)},i(gt){J||(wt(u.$$.fragment,gt),wt(f.$$.fragment,gt),wt(y.$$.fragment,gt),wt(E.$$.fragment,gt),wt(D.$$.fragment,gt),wt(P.$$.fragment,gt),wt(U.$$.fragment,gt),wt(z.$$.fragment,gt),wt(H.$$.fragment,gt),J=!0)},o(gt){It(u.$$.fragment,gt),It(f.$$.fragment,gt),It(y.$$.fragment,gt),It(E.$$.fragment,gt),It(D.$$.fragment,gt),It(P.$$.fragment,gt),It(U.$$.fragment,gt),It(z.$$.fragment,gt),It(H.$$.fragment,gt),J=!1},d(gt){gt&&vt(t),Dt(u),Dt(f),Dt(y),e[14](null),Dt(E),Dt(D),Dt(P),Dt(U),Dt(z),Dt(H),Z=!1,j()}}}function C4t(e){let t,i;return t=new m9({props:{loadData:e[9],disabled:e[6],$$slots:{default:[b4t]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&2097215&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let yx=200,Ax=6,_4t=24;function E4t(e,t,i){let{appInfo:n}=t,a,o=5,l=5,c=.1,d=[64,59,55,50,45,40];const u=d.map(Fa);let h=0,p=[],f;const M=T=>{p.length===0&&(h=T.timestamp);const k=(T.timestamp-h)/1e3,D=T.message.channel-1,N={time:k,number:T.note.number,note:T.note.name+(T.note.accidental??""),velocity:T.rawVelocity,string:D,fret:T.note.number-d[D],channel:T.message.channel};i(5,p=[...p,N])};$9(()=>{let T=Fh(p,c);T=T.map(P=>{P=Aa(P,z=>z.string).map(([z,G])=>{const H=zy(G,J=>J.velocity);return G[H]});const F=P.filter(z=>z.fret>0);let U;F.length===0?U=0:U=Hr(F,z=>z.fret);const V=U+l;return P.filter(z=>z.fret<=V)}),T=T.filter(P=>P.length>2).slice(-o).reverse();for(const[P,F]of T.entries())for(const U of F)U.chordId=P;const k=T.map(P=>{let F=P.sort((U,V)=>U.number-V.number).map(U=>Fa(U.number));return F=[...new Set(F)],y3(F)}),D=(yx-35)/3*(l+1)+50,N=(D-100)/(l+2);i(1,a.textContent="",a);for(const[P,F]of T.entries()){const U=F.filter(H=>H.fret>0);let V=0;U.length>0&&(V=Hr(U,H=>H.fret));const z=V+l,G=On({width:D,height:yx,marginLeft:40,marginRight:10,marginBottom:25,padding:0,figure:!0,subtitle:k[P].join(", "),style:{textAlign:"center",margin:"auto"},x:{domain:fi(V===0?0:V-1,z+2),label:"",tickSize:0,tickPadding:15},y:{domain:fi(0,Ax),tickFormat:H=>u[H],label:"",tickSize:0,tickPadding:15},color:{domain:fi(12),range:xc.noteColormap,legend:P===0,marginLeft:250,width:500,type:"categorical",tickFormat:H=>Dr[H]},r:{domain:[0,127],range:[5,10]},marks:[q9(fi(0,_4t+1),{stroke:"#ddd",dx:N/2}),T0(fi(0,Ax),{stroke:"#ddd",strokeWidth:H=>Math.sqrt(H+1)}),ea([3,5,7,9,15,17,19,21],{x:H=>H,y:2,dy:N/2,fill:"#ddd",r:8}),ea([12,12,24,24],{x:H=>H,y:(H,J)=>J%2===0?1:3,dy:N/2,fill:"#ddd",r:8}),ea(F.filter(H=>H.fret>0),{x:"fret",y:"string",r:"velocity",fill:H=>H.number%12,tip:!0}),J0(F.filter(H=>H.fret>0),{x:"fret",y:"string",text:"note",fill:"white"}),ea(F.filter(H=>H.fret===0),{x:V===0?0:V-1,y:"string",r:"velocity",stroke:H=>H.number%12,tip:!0})]});a.appendChild(G)}});const y=()=>({pastChords:o,maxFretSpan:l,maxNoteDistance:c,notes:p}),b=T=>{v(),i(2,o=T.pastChords),i(4,c=T.maxNoteDistance),i(3,l=T.maxFretSpan),i(5,p=T.notes)},v=()=>{p.length>0&&JSON.stringify(p)!==JSON.stringify(Mx.notes)&&C9(n.id,y())};c0(v);function C(T){c=T,i(4,c)}function w(T){l=T,i(3,l)}function _(T){o=T,i(2,o)}function E(T){he[T?"unshift":"push"](()=>{a=T,i(1,a)})}function S(T){p=T,i(5,p)}const I=()=>b(Mx);return e.$$set=T=>{"appInfo"in T&&i(0,n=T.appInfo)},[n,a,o,l,c,p,f,M,y,b,v,C,w,_,E,S,I]}class w4t extends Zi{constructor(t){super(),Yi(this,t,E4t,C4t,Xi,{appInfo:0})}}const O4t=60,S4t=5,x4t=!1,T4t=[{number:59,time:0,duration:1.213523544,end:1.213523544},{number:59,time:5.473900000095368,duration:2.108099999904632,end:7.582},{number:59,time:19.631,duration:3.041999999999998,end:22.673},{number:59,time:25.201,duration:4.341000000000001,end:29.542},{number:59,time:31.323,duration:3.8810000000000002,end:35.204}],I4t="duration-bars",B4t="0.13.3",R4t="2024-09-06T16:40:29.988Z",vx={tempo:O4t,pastNoteCount:S4t,showClosestDuration:x4t,notes:T4t,_appId:I4t,_softwareVersion:B4t,_date:R4t};function D4t(e,t,i){let{element:n}=t,{touchStart:a=()=>{}}=t,{touchEnd:o=()=>{}}=t,{disabled:l=!1}=t;const c=p=>{l||a()},d=p=>{l||o()},u=()=>{n.addEventListener("touchstart",c),n.addEventListener("touchend",d)};return c0(()=>{n.removeEventListener("touchstart",c),n.removeEventListener("touchend",d)}),e.$$set=p=>{"element"in p&&i(0,n=p.element),"touchStart"in p&&i(1,a=p.touchStart),"touchEnd"in p&&i(2,o=p.touchEnd),"disabled"in p&&i(3,l=p.disabled)},e.$$.update=()=>{e.$$.dirty&1&&n&&u()},[n,a,o,l]}class iu extends Zi{constructor(t){super(),Yi(this,t,D4t,null,Xi,{element:0,touchStart:1,touchEnd:2,disabled:3})}}function P4t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g;return u=new X9({props:{key:"z",ctrlKey:!0,keyDown:e[3]}}),p=new X9({props:{key:"y",ctrlKey:!0,keyDown:e[4]}}),{c(){t=q("button"),i=te(""),a=K(),o=q("button"),l=te(""),d=K(),Pt(u.$$.fragment),h=K(),Pt(p.$$.fragment),mt(t,"title","undo the last note (shortcut: CTRL+Z)"),t.disabled=n=e[1]||!e[0]||e[0].length===0,mt(t,"class","left svelte-1s8rvm6"),mt(o,"title","redo the last undone note (shortcut: CTRL+Y)"),o.disabled=c=e[1]||!e[0]||e[2].length===0,mt(o,"class","right svelte-1s8rvm6")},m(y,b){bt(y,t,b),B(t,i),bt(y,a,b),bt(y,o,b),B(o,l),bt(y,d,b),Rt(u,y,b),bt(y,h,b),Rt(p,y,b),f=!0,M||(g=[ze(t,"click",e[3]),ze(o,"click",e[4])],M=!0)},p(y,[b]){(!f||b&3&&n!==(n=y[1]||!y[0]||y[0].length===0))&&(t.disabled=n),(!f||b&7&&c!==(c=y[1]||!y[0]||y[2].length===0))&&(o.disabled=c)},i(y){f||(wt(u.$$.fragment,y),wt(p.$$.fragment,y),f=!0)},o(y){It(u.$$.fragment,y),It(p.$$.fragment,y),f=!1},d(y){y&&(vt(t),vt(a),vt(o),vt(d),vt(h)),Dt(u,y),Dt(p,y),M=!1,t0(g)}}}function k4t(e,t,i){let{data:n=[]}=t,{callback:a=()=>{}}=t,{disabled:o=!1}=t,l=[];const c=()=>{!n||n.length===0||(l.push(n.at(-1)),i(0,n=[...n.slice(0,-1)]),a())},d=()=>{!n||l.length===0||(i(0,n=[...n,l.at(-1)]),i(2,l=l.slice(0,-1)),a())};return e.$$set=u=>{"data"in u&&i(0,n=u.data),"callback"in u&&i(5,a=u.callback),"disabled"in u&&i(1,o=u.disabled)},[n,o,l,c,d,a]}class Z5 extends Zi{constructor(t){super(),Yi(this,t,k4t,P4t,Xi,{data:0,callback:5,disabled:1})}}function L4t(e,t,i){let{callback:n=()=>{}}=t,{element:a=document.body}=t;const o=new ResizeObserver(n);return yr(()=>{document.addEventListener("resize",n),o.observe(a)}),c0(()=>{document.removeEventListener("resize",n),o.unobserve(a)}),e.$$set=l=>{"callback"in l&&i(0,n=l.callback),"element"in l&&i(1,a=l.element)},[n,a]}class $3 extends Zi{constructor(t){super(),Yi(this,t,L4t,null,Xi,{callback:0,element:1})}}function N4t(e){let t;return{c(){t=q("p"),t.innerHTML=`1) Play a quarter note <span class="icon"> </span>, a half note
        <span class="icon"> </span>, a dotted half note
        <span class="icon">. </span>
        , and a whole note <span class="icon"></span> <span class="icon" style="font-size: 14px"></span>.`},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function F4t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt;function Jt(oe){e[17](oe)}let Gt={};e[1]!==void 0&&(Gt.value=e[1]),u=new Vr({props:Gt}),he.push(()=>Ee(u,"value",Jt));function ce(oe){e[18](oe)}let ae={step:1,min:1,max:12};e[3]!==void 0&&(ae.value=e[3]),f=new eu({props:ae}),he.push(()=>Ee(f,"value",ce));function qt(oe){e[19](oe)}let ue={label:"pies",title:"Toggles between pie and bar chart encoding"};e[4]!==void 0&&(ue.checked=e[4]),y=new zn({props:ue}),he.push(()=>Ee(y,"checked",qt));function $e(oe){e[20](oe)}let ve={label:"show closest duration",title:"Show the closest note duration as an inner piece"};e[5]!==void 0&&(ve.checked=e[5]),C=new zn({props:ve}),he.push(()=>Ee(C,"checked",$e)),k=new so({props:{tempo:e[1],accent:4}});function He(oe){e[22](oe)}let qe={};e[7]!==void 0&&(qe.data=e[7]),N=new Z5({props:qe}),he.push(()=>Ee(N,"data",He));function ri(oe){e[24](oe)}let oi={saveToStorage:e[15],callback:e[23]};return e[7]!==void 0&&(oi.notes=e[7]),U=new c9({props:oi}),he.push(()=>Ee(U,"notes",ri)),J=new _9({props:{appId:e[0].id,loadData:e[14]}}),j=new f9({props:{loadData:e[14],getExportData:e[13],appId:e[0].id}}),et=new e9({props:{$$slots:{default:[N4t]},$$scope:{ctx:e}}}),ht=new i9({props:{appId:e[0].id}}),St=new j0({props:{noteOn:e[10],noteOff:e[11],pcKeyAllowed:!0}}),xt=new X9({props:{key:" ",keyDown:e[26],keyUp:e[27]}}),yt=new iu({props:{element:e[2],touchStart:e[28],touchEnd:e[29]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing how long you hold notes. Set a tempo, start the
      metronome, and try to play different note durations (whole, half, quarter,
      eighth). You can also try dotted notes. Each note will be shown as a pie
      chart, that shows how much of a whole note you played. For example, if you
      tried to play a half note, the pie chart should be half full. If you play
      longer than a whole note, the addtional time will be shown in red. You can
      also switch to a bar ('test tube') encoding.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),Pt(C.$$.fragment),_=K(),E=q("div"),S=q("canvas"),I=K(),T=q("div"),Pt(k.$$.fragment),D=K(),Pt(N.$$.fragment),F=K(),Pt(U.$$.fragment),z=K(),G=q("button"),G.textContent="example",H=K(),Pt(J.$$.fragment),Z=K(),Pt(j.$$.fragment),W=K(),Pt(et.$$.fragment),dt=K(),Pt(ht.$$.fragment),st=K(),Pt(St.$$.fragment),At=K(),Pt(xt.$$.fragment),gt=K(),Pt(yt.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),sn(S,"width",W2+"px"),sn(S,"height",yo+"px"),mt(E,"class","visualization"),mt(T,"class","control"),mt(t,"class","app")},m(oe,fe){bt(oe,t,fe),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(d,v),Rt(C,d,null),B(t,_),B(t,E),B(E,S),e[21](S),B(t,I),B(t,T),Rt(k,T,null),B(T,D),Rt(N,T,null),B(T,F),Rt(U,T,null),B(T,z),B(T,G),B(T,H),Rt(J,T,null),B(T,Z),Rt(j,T,null),B(t,W),Rt(et,t,null),B(t,dt),Rt(ht,t,null),B(t,st),Rt(St,t,null),B(t,At),Rt(xt,t,null),B(t,gt),Rt(yt,t,null),lt=!0,zt||(kt=ze(G,"click",e[25]),zt=!0)},p(oe,fe){(!lt||fe[0]&1)&&n!==(n=oe[0].title+"")&&Qe(a,n);const pe={};!h&&fe[0]&2&&(h=!0,pe.value=oe[1],_e(()=>h=!1)),u.$set(pe);const Ot={};!M&&fe[0]&8&&(M=!0,Ot.value=oe[3],_e(()=>M=!1)),f.$set(Ot);const _t={};!b&&fe[0]&16&&(b=!0,_t.checked=oe[4],_e(()=>b=!1)),y.$set(_t);const Ht={};!w&&fe[0]&32&&(w=!0,Ht.checked=oe[5],_e(()=>w=!1)),C.$set(Ht);const Tt={};fe[0]&2&&(Tt.tempo=oe[1]),k.$set(Tt);const Et={};!P&&fe[0]&128&&(P=!0,Et.data=oe[7],_e(()=>P=!1)),N.$set(Et);const Lt={};fe[0]&256&&(Lt.callback=oe[23]),!V&&fe[0]&128&&(V=!0,Lt.notes=oe[7],_e(()=>V=!1)),U.$set(Lt);const ut={};fe[0]&1&&(ut.appId=oe[0].id),J.$set(ut);const X={};fe[0]&1&&(X.appId=oe[0].id),j.$set(X);const tt={};fe[1]&16&&(tt.$$scope={dirty:fe,ctx:oe}),et.$set(tt);const Bt={};fe[0]&1&&(Bt.appId=oe[0].id),ht.$set(Bt);const Qt={};fe[0]&64&&(Qt.keyDown=oe[26]),fe[0]&64&&(Qt.keyUp=oe[27]),xt.$set(Qt);const jt={};fe[0]&4&&(jt.element=oe[2]),yt.$set(jt)},i(oe){lt||(wt(u.$$.fragment,oe),wt(f.$$.fragment,oe),wt(y.$$.fragment,oe),wt(C.$$.fragment,oe),wt(k.$$.fragment,oe),wt(N.$$.fragment,oe),wt(U.$$.fragment,oe),wt(J.$$.fragment,oe),wt(j.$$.fragment,oe),wt(et.$$.fragment,oe),wt(ht.$$.fragment,oe),wt(St.$$.fragment,oe),wt(xt.$$.fragment,oe),wt(yt.$$.fragment,oe),lt=!0)},o(oe){It(u.$$.fragment,oe),It(f.$$.fragment,oe),It(y.$$.fragment,oe),It(C.$$.fragment,oe),It(k.$$.fragment,oe),It(N.$$.fragment,oe),It(U.$$.fragment,oe),It(J.$$.fragment,oe),It(j.$$.fragment,oe),It(et.$$.fragment,oe),It(ht.$$.fragment,oe),It(St.$$.fragment,oe),It(xt.$$.fragment,oe),It(yt.$$.fragment,oe),lt=!1},d(oe){oe&&vt(t),Dt(u),Dt(f),Dt(y),Dt(C),e[21](null),Dt(k),Dt(N),Dt(U),Dt(J),Dt(j),Dt(et),Dt(ht),Dt(St),Dt(xt),Dt(yt),zt=!1,kt()}}}function U4t(e){let t,i,n,a;return t=new $3({props:{callback:e[12]}}),n=new m9({props:{loadData:e[14],disabled:e[9],$$slots:{default:[F4t]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment),i=K(),Pt(n.$$.fragment)},m(o,l){Rt(t,o,l),bt(o,i,l),Rt(n,o,l),a=!0},p(o,l){const c={};l[0]&511|l[1]&16&&(c.$$scope={dirty:l,ctx:o}),n.$set(c)},i(o){a||(wt(t.$$.fragment,o),wt(n.$$.fragment,o),a=!0)},o(o){It(t.$$.fragment,o),It(n.$$.fragment,o),a=!1},d(o){o&&vt(i),Dt(t,o),Dt(n,o)}}}let W2=900,yo=400;function J4t(e,t,i){let n,a,{appInfo:o}=t,l;const c=2*Math.PI;let d=60,u=4,h=!0,p=!1,f=!1,M,g=[],y=new Map,b;const v=W=>{g.length===0&&(M=W.timestamp);const et=(W.timestamp-M)/1e3,dt={number:W.note.number,time:et,velocity:W.velocity,duration:0};if(y.has(W.note.number)){const ht=y.get(W.note.number);ht.end===void 0&&(ht.end=et)}i(7,g=[...g,dt]),y.set(W.note.number,dt)},C=W=>{if(y.has(W.note.number)){const et=y.get(W.note.number),dt=(W.timestamp-M)/1e3;et.end=dt,et.duration=et.end-et.time,i(7,g=[...g])}},w=()=>{const W=(yo-50)/2,et=(W2-30)/u,dt=Math.min(et*.4,yo*.3),ht=dt*.5,st=dt*.75,St=dt+15,At=l.getContext("2d"),xt=window.devicePixelRatio,gt=l.getBoundingClientRect();i(2,l.width=gt.width*xt,l),i(2,l.height=gt.height*xt,l),At.scale(xt,xt),i(2,l.style.width=`${gt.width}px`,l),i(2,l.style.height=`${gt.height}px`,l),At.clearRect(0,0,W2,yo);for(const[yt,lt]of g.slice(-u).entries()){const zt=et*(yt+.5)+15;At.fillStyle=Qo.accent;const kt=Math.min(lt.duration/n,1);At.beginPath(),At.moveTo(zt,W),At.arc(zt,W,dt,-Math.PI/2,kt*c-Math.PI/2),At.closePath(),At.fill();let Jt=null;if(lt.duration>0){const ae=wl(a,qt=>Math.abs(lt.duration-qt.seconds));if(Jt=a[ae],p){At.fillStyle=Qo.accentDark;const qt=Math.min(Jt.seconds/n,1);At.beginPath(),At.moveTo(zt,W),At.arc(zt,W,st,-Math.PI/2,qt*c-Math.PI/2),At.closePath(),At.fill()}}if(lt.duration>n){At.fillStyle=Qo.wrong;const ae=Math.min((lt.duration-n)/n,1);At.beginPath(),At.moveTo(zt,W),At.arc(zt,W,dt,-Math.PI/2,ae*c-Math.PI/2),At.closePath(),At.fill()}At.lineWidth=2,At.strokeStyle="#aaa",l5(At,zt,W,dt);const Gt=fi(4).map(ae=>ae*c/4),ce=fi(8).map(ae=>ae*c/8);At.beginPath();for(const ae of Gt){const qt=Math.cos(ae),ue=Math.sin(ae);At.moveTo(zt+qt*ht,W+ue*ht),At.lineTo(zt+qt*dt,W+ue*dt)}At.lineWidth=1;for(const ae of ce){const qt=Math.cos(ae),ue=Math.sin(ae);At.moveTo(zt+qt*st,W+ue*st),At.lineTo(zt+qt*dt,W+ue*dt)}if(At.stroke(),At.fillStyle="#666",At.font='20px "Noto Music", sans-serif',At.textAlign="center",At.textBaseline="bottom",At.textBaseline="middle",yt===0&&u<=8&&(At.fillText(rO,zt,W-St),At.fillText(iy,zt+St,W),At.fillText(z2,zt,W+St),At.fillText(z2+".",zt-St,W)),At.font='16px "Noto Music", sans-serif',lt.duration>0){At.fillText(`closest: ${Jt.symbol}`,zt,yo-50);const ae=lt.duration/Jt.seconds*100;At.fillText(`${ae.toFixed()}%`,zt,yo-30);let qt="";ae<80?qt="too short":ae<90?qt="short":ae<110?qt="good!":ae<120?qt="long":qt="too long",At.fillText(`${qt}`,zt,yo-10)}}},_=()=>{const W=(W2-10)/u,et=W*.8,dt=yo*.7,ht=10,st=ht+dt,St=l.getContext("2d"),At=window.devicePixelRatio,xt=l.getBoundingClientRect();i(2,l.width=xt.width*At,l),i(2,l.height=xt.height*At,l),St.scale(At,At),i(2,l.style.width=`${xt.width}px`,l),i(2,l.style.height=`${xt.height}px`,l),St.clearRect(0,0,W2,yo),St.textBaseline="middle";for(const[gt,yt]of g.slice(-u).entries()){const lt=W*(gt+.1)+10;St.fillStyle=Qo.accent;const zt=Math.min(yt.duration/n,1),kt=dt*zt;St.fillRect(lt,st-kt,et,kt);let Jt=null;if(yt.duration>0){const Gt=wl(a,ce=>Math.abs(yt.duration-ce.seconds));if(Jt=a[Gt],p){St.fillStyle=Qo.accentDark;const ce=Math.min(Jt.seconds/n,1),ae=dt*ce;St.fillRect(lt,st-ae,et/2,ae)}}if(yt.duration>n){St.fillStyle=Qo.wrong;const Gt=Math.min((yt.duration-n)/n,1),ce=dt*Gt;St.fillRect(lt,st-ce,et,ce)}St.lineWidth=2,St.strokeStyle="#aaa",St.fillStyle="#aaa",St.strokeRect(lt,ht,et,dt),St.fillRect(lt,ht+dt/2,et*.4,1);for(const Gt of fi(ht,ht+dt,dt/4))St.fillRect(lt,Gt,et*.2,1);for(const Gt of fi(ht,ht+dt,dt/8))St.fillRect(lt,Gt,et*.1,1);if(St.font='16px "Noto Music", sans-serif',St.fillStyle="#666",yt.duration>0){const Gt=wl(a,$e=>Math.abs(yt.duration-$e.seconds)),ce=a[Gt];St.textAlign="center";const ae=lt+et/2;St.fillText(`closest: ${ce.symbol}`,ae,yo-50);const qt=yt.duration/ce.seconds*100;St.fillText(`${qt.toFixed()}%`,ae,yo-30);let ue="";qt<80?ue="too short":qt<90?ue="short":qt<110?ue="good!":qt<120?ue="long":ue="too long",St.fillText(`${ue}`,ae,yo-10)}St.font='20px "Noto Music", sans-serif',gt===0&&(St.textAlign="right",St.fillText(rO,lt-5,ht),St.fillText(z2+".",lt-5,ht+dt*.25),St.fillText(z2,lt-5,ht+dt*.5),St.fillText(iy,lt-5,ht+dt*.75),St.fillText(UA,lt-5,ht+dt*.875))}},E=()=>{h?w():_()};$9(E);const S=()=>({tempo:d,pastNoteCount:u,usePies:h,showClosestDuration:p,notes:g}),I=W=>{T(),i(1,d=W.tempo),i(3,u=W.pastNoteCount),i(4,h=W.usePies??!0),i(5,p=W.showClosestDuration),i(7,g=W.notes)},T=()=>{g.length>0&&JSON.stringify(g)!==JSON.stringify(vx.notes)&&C9(o.id,S())};c0(T);function k(W){d=W,i(1,d)}function D(W){u=W,i(3,u)}function N(W){h=W,i(4,h)}function P(W){p=W,i(5,p)}function F(W){he[W?"unshift":"push"](()=>{l=W,i(2,l)})}function U(W){g=W,i(7,g)}const V=()=>{i(8,y=new Map)};function z(W){g=W,i(7,g)}const G=()=>I(vx),H=()=>{f||(i(6,f=!0),v({note:{number:0},timestamp:performance.now()}))},J=()=>{i(6,f=!1),C({note:{number:0},timestamp:performance.now()})},Z=()=>{v({note:{number:0},timestamp:performance.now()})},j=()=>{C({note:{number:0},timestamp:performance.now()})};return e.$$set=W=>{"appInfo"in W&&i(0,o=W.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&2&&i(16,n=Q0(d)*4),e.$$.dirty[0]&65536&&(a=Vc.filter(W=>!W.tuplet).map(W=>({...W,seconds:W.beats*(n/4)})))},[o,d,l,u,h,p,f,g,y,b,v,C,E,S,I,T,n,k,D,N,P,F,U,V,z,G,H,J,Z,j]}class $4t extends Zi{constructor(t){super(),Yi(this,t,J4t,U4t,Xi,{appInfo:0},null,[-1,-1])}}const G4t=!1,H4t=100,V4t=[{time:0,velocity:94,number:48,note:"C",isSharp:!1,channel:1},{time:.183,velocity:75,number:48,note:"C",isSharp:!1,channel:1},{time:.4210999999046326,velocity:67,number:48,note:"C",isSharp:!1,channel:1},{time:.6070999999046326,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:.8060999999046325,velocity:66,number:48,note:"C",isSharp:!1,channel:1},{time:1.044,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:1.2450999999046326,velocity:62,number:48,note:"C",isSharp:!1,channel:1},{time:1.437,velocity:63,number:48,note:"C",isSharp:!1,channel:1},{time:1.6300999999046326,velocity:61,number:48,note:"C",isSharp:!1,channel:1},{time:1.8420999999046326,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:2.049,velocity:62,number:48,note:"C",isSharp:!1,channel:1},{time:2.2550999999046324,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:2.46,velocity:70,number:48,note:"C",isSharp:!1,channel:1},{time:2.6610999999046325,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:2.8620999999046326,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:3.068,velocity:70,number:48,note:"C",isSharp:!1,channel:1},{time:3.275,velocity:74,number:48,note:"C",isSharp:!1,channel:1},{time:3.4690999999046324,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:3.668,velocity:72,number:48,note:"C",isSharp:!1,channel:1}],Q4t="dynamics",z4t="0.14.0",j4t="2024-09-24T14:20:32.325Z",bx={isBinning:G4t,barLimit:H4t,notes:V4t,_appId:Q4t,_softwareVersion:z4t,_date:j4t},W4t=!1,K4t=100,q4t=[{time:0,velocity:31,number:47,note:"B",isSharp:!1,channel:1},{time:.2,velocity:70,number:47,note:"B",isSharp:!1,channel:1},{time:.4,velocity:88,number:47,note:"B",isSharp:!1,channel:1},{time:.6,velocity:110,number:47,note:"B",isSharp:!1,channel:1},{time:.8,velocity:123,number:47,note:"B",isSharp:!1,channel:1}],X4t="dynamics",Y4t="0.14.0",Z4t="2024-09-24T13:45:03.134Z",Cx={isBinning:W4t,barLimit:K4t,notes:q4t,_appId:X4t,_softwareVersion:Y4t,_date:Z4t},t6t=!1,e6t=100,i6t=[{time:0,velocity:123,number:47,note:"B",isSharp:!1,channel:1},{time:.2,velocity:110,number:47,note:"B",isSharp:!1,channel:1},{time:.4,velocity:88,number:47,note:"B",isSharp:!1,channel:1},{time:.6,velocity:70,number:47,note:"B",isSharp:!1,channel:1},{time:.8,velocity:31,number:47,note:"B",isSharp:!1,channel:1}],n6t="dynamics",r6t="0.14.0",a6t="2024-09-24T13:45:03.134Z",_x={isBinning:t6t,barLimit:e6t,notes:i6t,_appId:n6t,_softwareVersion:r6t,_date:a6t},o6t=!1,s6t=50,l6t=[{time:0,velocity:90,number:48,note:"C",isSharp:!1,channel:1},{time:.384,velocity:66,number:48,note:"C",isSharp:!1,channel:1},{time:.8109000000953674,velocity:64,number:48,note:"C",isSharp:!1,channel:1},{time:1.2799000000953675,velocity:62,number:48,note:"C",isSharp:!1,channel:1},{time:1.7509000000953674,velocity:100,number:48,note:"C",isSharp:!1,channel:1},{time:2.201,velocity:65,number:48,note:"C",isSharp:!1,channel:1},{time:2.679,velocity:65,number:48,note:"C",isSharp:!1,channel:1},{time:3.1679000000953677,velocity:67,number:48,note:"C",isSharp:!1,channel:1},{time:3.6569000000953675,velocity:96,number:48,note:"C",isSharp:!1,channel:1},{time:4.164,velocity:68,number:48,note:"C",isSharp:!1,channel:1},{time:4.702,velocity:71,number:48,note:"C",isSharp:!1,channel:1},{time:5.2259000000953675,velocity:68,number:48,note:"C",isSharp:!1,channel:1},{time:5.767,velocity:100,number:48,note:"C",isSharp:!1,channel:1},{time:6.298900000095367,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:6.853,velocity:72,number:48,note:"C",isSharp:!1,channel:1},{time:7.42,velocity:69,number:48,note:"C",isSharp:!1,channel:1},{time:7.978900000095368,velocity:100,number:48,note:"C",isSharp:!1,channel:1},{time:8.477900000095367,velocity:63,number:48,note:"C",isSharp:!1,channel:1},{time:9.05,velocity:67,number:48,note:"C",isSharp:!1,channel:1},{time:9.594,velocity:69,number:48,note:"C",isSharp:!1,channel:1}],c6t="dynamics",u6t="0.14.0",d6t="2024-09-24T14:22:40.445Z",Ex={isBinning:o6t,barLimit:s6t,notes:l6t,_appId:c6t,_softwareVersion:u6t,_date:d6t};var XU={exports:{}},YU={exports:{}};function h6t(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:e===43?62:e===47?63:0}function f6t(e,t){for(var i=e.replace(/[^A-Za-z0-9\+\/]/g,""),n=i.length,a=t?Math.ceil((n*3+1>>2)/t)*t:n*3+1>>2,o=new Uint8Array(a),l,c,d=0,u=0,h=0;h<n;h++)if(c=h&3,d|=h6t(i.charCodeAt(h))<<18-6*c,c===3||n-h===1){for(l=0;l<3&&u<a;l++,u++)o[u]=d>>>(16>>>l&24)&255;d=0}return o}var m6t={decode:f6t},p6t=function(e,t){return new Promise(function(i,n){var a=new XMLHttpRequest;t&&(a.responseType=t),a.open("GET",e),a.onload=function(){a.status===200?i(a.response):n(Error(a.statusText))},a.onerror=function(){n(Error("Network Error"))},a.send()})};(function(e){var t=m6t,i=p6t;function n(I){return function(T){return typeof T=="string"&&I.test(T)}}function a(I,T){return typeof I=="string"?I+T:typeof I=="function"?I(T):T}function o(I,T,k,D){var N=l(T)?c:d(T)?u:h(T)?p:f(T)?M:g(T)?y:b(T)?v:C(T)?w:_(T)?E:null,P=k||{};return N?N(I,T,P):D?Promise.resolve(D):Promise.reject("Source not valid ("+T+")")}o.fetch=i;function l(I){return I instanceof ArrayBuffer}function c(I,T,k){return new Promise(function(D,N){I.decodeAudioData(T,function(P){D(P)},function(){N("Can't decode audio data ("+T.slice(0,30)+"...)")})})}var d=n(/\.(mp3|wav|ogg)(\?.*)?$/i);function u(I,T,k){var D=a(k.from,T);return o(I,o.fetch(D,"arraybuffer"),k)}function h(I){return I&&typeof I.then=="function"}function p(I,T,k){return T.then(function(D){return o(I,D,k)})}var f=Array.isArray;function M(I,T,k){return Promise.all(T.map(function(D){return o(I,D,k,D)}))}function g(I){return I&&typeof I=="object"}function y(I,T,k){var D={},N=Object.keys(T).map(function(P){if(k.only&&k.only.indexOf(P)===-1)return null;var F=T[P];return o(I,F,k,F).then(function(U){D[P]=U})});return Promise.all(N).then(function(){return D})}var b=n(/\.json(\?.*)?$/i);function v(I,T,k){var D=a(k.from,T);return o(I,o.fetch(D,"text").then(JSON.parse),k)}var C=n(/^data:audio/);function w(I,T,k){var D=T.indexOf(",");return o(I,t.decode(T.slice(D+1)).buffer,k)}var _=n(/\.js(\?.*)?$/i);function E(I,T,k){var D=a(k.from,T);return o(I,o.fetch(D,"text").then(S),k)}function S(I){var T=I.indexOf("MIDI.Soundfont.");if(T<0)throw Error("Invalid MIDI.js Soundfont format");T=I.indexOf("=",T)+2;var k=I.lastIndexOf(",");return JSON.parse(I.slice(T,k)+"}")}e.exports&&(e.exports=o),typeof window<"u"&&(window.loadAudio=o)})(YU);var g6t=YU.exports,ZU={exports:{}},M6t=y6t;function y6t(e){var t=e.createGain(),i=t._voltage=b6t(e),n=ld(i),a=ld(i),o=ld(i);return t._startAmount=ld(a),t._endAmount=ld(o),t._multiplier=ld(n),t._multiplier.connect(t),t._startAmount.connect(t),t._endAmount.connect(t),t.value=n.gain,t.startValue=a.gain,t.endValue=o.gain,t.startValue.value=0,t.endValue.value=0,Object.defineProperties(t,A6t),t}var A6t={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(e){var t=this._multiplier.gain,i=this._startAmount.gain,n=this._endAmount.gain;this._voltage.start(e),this._decayFrom=this._decayFrom=e+this.attack,this._startedAt=e;var a=this.sustain;t.cancelScheduledValues(e),i.cancelScheduledValues(e),n.cancelScheduledValues(e),n.setValueAtTime(0,e),this.attack?(t.setValueAtTime(0,e),t.linearRampToValueAtTime(1,e+this.attack),i.setValueAtTime(1,e),i.linearRampToValueAtTime(0,e+this.attack)):(t.setValueAtTime(1,e),i.setValueAtTime(0,e)),this.decay&&t.setTargetAtTime(a,this._decayFrom,wx(this.decay))}},stop:{value:function(e,t){t&&(e=e-this.release);var i=e+this.release;if(this.release){var n=this._multiplier.gain,a=this._startAmount.gain,o=this._endAmount.gain;n.cancelScheduledValues(e),a.cancelScheduledValues(e),o.cancelScheduledValues(e);var l=wx(this.release);if(this.attack&&e<this._decayFrom){var c=C6t(0,1,this._startedAt,this._decayFrom,e);n.linearRampToValueAtTime(c,e),a.linearRampToValueAtTime(1-c,e),a.setTargetAtTime(0,e,l)}o.setTargetAtTime(1,e,l),n.setTargetAtTime(0,e,l)}return this._voltage.stop(i),i}},onended:{get:function(){return this._voltage.onended},set:function(e){this._voltage.onended=e}}},v6t=new Float32Array([1,1]);function b6t(e){var t=e.createBufferSource(),i=e.createBuffer(1,2,e.sampleRate);return i.getChannelData(0).set(v6t),t.buffer=i,t.loop=!0,t}function ld(e){var t=e.context.createGain();return e.connect(t),t}function wx(e){return Math.log(e+1)/Math.log(100)}function C6t(e,t,i,n,a){var o=t-e,l=n-i,c=a-i,d=c/l,u=e+d*o;return u<=e&&(u=e),u>=t&&(u=t),u}var _6t=M6t,E6t={},w6t={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function O6t(e,t,i){var n=!1,a=0,o={},l=e.createGain();l.gain.value=1;var c=Object.assign({},w6t,i),d={context:e,out:l,opts:c};return t instanceof AudioBuffer?d.buffer=t:d.buffers=t,d.start=function(p,f,M){if(d.buffer&&p!==null)return d.start(null,p,f);var g=p?d.buffers[p]:d.buffer;if(g){if(!n){console.warn("SamplePlayer not connected to any node.");return}}else{console.warn("Buffer "+p+" not found.");return}var y=M||E6t;f=Math.max(e.currentTime,f||0),d.emit("start",f,p,y);var b=h(p,g,y);return b.id=u(p,b),b.env.start(f),b.source.start(f),d.emit("started",f,b.id,b),y.duration&&b.stop(f+y.duration),b},d.play=function(p,f,M){return d.start(p,f,M)},d.stop=function(p,f){var M;return f=f||Object.keys(o),f.map(function(g){return M=o[g],M?(M.stop(p),M.id):null})},d.connect=function(p){return n=!0,l.connect(p),d},d.emit=function(p,f,M,g){d.onevent&&d.onevent(p,f,M,g);var y=d["on"+p];y&&y(f,M,g)},d;function u(p,f){return f.id=a++,o[f.id]=f,f.source.onended=function(){var M=e.currentTime;f.source.disconnect(),f.env.disconnect(),f.disconnect(),d.emit("ended",M,f.id,f)},f.id}function h(p,f,M){var g=e.createGain();return g.gain.value=0,g.connect(l),g.env=x6t(e,M,c),g.env.connect(g.gain),g.source=e.createBufferSource(),g.source.buffer=f,g.source.connect(g),g.source.loop=M.loop||c.loop,g.source.playbackRate.value=T6t(M.cents||c.cents),g.source.loopStart=M.loopStart||c.loopStart,g.source.loopEnd=M.loopEnd||c.loopEnd,g.stop=function(y){var b=y||e.currentTime;d.emit("stop",b,p);var v=g.env.stop(b);g.source.stop(v)},g}}function Ox(e){return typeof e=="number"}var S6t=["attack","decay","sustain","release"];function x6t(e,t,i){var n=_6t(e),a=t.adsr||i.adsr;return S6t.forEach(function(o,l){a?n[o]=a[l]:n[o]=t[o]||i[o]}),n.value.value=Ox(t.gain)?t.gain:Ox(i.gain)?i.gain:1,n}function T6t(e){return e?Math.pow(2,e/1200):1}var I6t=O6t,B6t=function(e){return e.on=function(t,i){if(arguments.length===1&&typeof t=="function")return e.on("event",t);var n="on"+t,a=e[n];return e[n]=a?R6t(a,i):i,e},e};function R6t(e,t){return function(i,n,a,o){e(i,n,a,o),t(i,n,a,o)}}var tJ=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function D6t(){return tJ}var P6t=[0,2,4,5,7,9,11];function eJ(e,t,i){if(typeof e!="string")return null;var n=tJ.exec(e);if(!n||!t&&n[4])return null;var a={letter:n[1].toUpperCase(),acc:n[2].replace(/x/g,"##")};return a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length,a.chroma=P6t[a.step]+a.alt,n[3]&&(a.oct=+n[3],a.midi=a.chroma+12*(a.oct+1),a.freq=iJ(a.midi,i)),t&&(a.tonicOf=n[4]),a}function iJ(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var nJ={parse:eJ,regex:D6t,midiToFreq:iJ},k6t=["letter","acc","pc","step","alt","chroma","oct","midi","freq"];k6t.forEach(function(e){nJ[e]=function(t){var i=eJ(t);return i&&typeof i[e]<"u"?i[e]:null}});var L6t=nJ,N6t=L6t,F6t=function(e){return e!==null&&e!==[]&&e>=0&&e<129},U6t=function(e){return F6t(e)?+e:N6t.midi(e)},J6t=function(e){if(e.buffers){var t=e.opts.map,i=typeof t=="function"?t:U6t,n=function(o){return o?i(o)||o:null};e.buffers=$6t(e.buffers,n);var a=e.start;e.start=function(o,l,c){var d=n(o),u=d%1;return u&&(d=Math.floor(d),c=Object.assign(c||{},{cents:Math.floor(u*100)})),a(d,l,c)}}return e};function $6t(e,t){return Object.keys(e).reduce(function(i,n){return i[t(n)]=e[n],i},{})}var G6t=Array.isArray,H6t=function(e){return e&&typeof e=="object"},V6t={},Q6t=function(e){return e.schedule=function(t,i){var n=e.context.currentTime,a=t<n?n:t;e.emit("schedule",a,i);var o,l,c,d;return i.map(function(u){if(u)G6t(u)?(o=u[0],l=u[1]):(o=u.time,l=u);else return null;return H6t(l)?(c=l.name||l.key||l.note||l.midi||null,d=l):(c=l,d=V6t),e.start(c,a+(o||0),d)})},e};function X4(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var rJ={exports:{}};(function(e,t){(function(i){e.exports=i()})(function(){return function i(n,a,o){function l(u,h){if(!a[u]){if(!n[u]){var p=typeof X4=="function"&&X4;if(!h&&p)return p(u,!0);if(c)return c(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var M=a[u]={exports:{}};n[u][0].call(M.exports,function(g){var y=n[u][1][g];return l(y||g)},M,M.exports,i,n,a,o)}return a[u].exports}for(var c=typeof X4=="function"&&X4,d=0;d<o.length;d++)l(o[d]);return l}({1:[function(i,n,a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(o){function l(c){if(this._event=c,this._data=c.data,this.receivedTime=c.receivedTime,this._data&&this._data.length<2){console.warn("Illegal MIDI message of length",this._data.length);return}switch(this._messageCode=c.data[0]&240,this.channel=c.data[0]&15,this._messageCode){case 128:this.messageType="noteoff",this.key=c.data[1]&127,this.velocity=c.data[2]&127;break;case 144:this.messageType="noteon",this.key=c.data[1]&127,this.velocity=c.data[2]&127;break;case 160:this.messageType="keypressure",this.key=c.data[1]&127,this.pressure=c.data[2]&127;break;case 176:this.messageType="controlchange",this.controllerNumber=c.data[1]&127,this.controllerValue=c.data[2]&127,this.controllerNumber===120&&this.controllerValue===0?this.channelModeMessage="allsoundoff":this.controllerNumber===121?this.channelModeMessage="resetallcontrollers":this.controllerNumber===122?this.controllerValue===0?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":this.controllerNumber===123&&this.controllerValue===0?this.channelModeMessage="allnotesoff":this.controllerNumber===124&&this.controllerValue===0?this.channelModeMessage="omnimodeoff":this.controllerNumber===125&&this.controllerValue===0?this.channelModeMessage="omnimodeon":this.controllerNumber===126?this.channelModeMessage="monomodeon":this.controllerNumber===127&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=c.data[1];break;case 208:this.messageType="channelpressure",this.pressure=c.data[1]&127;break;case 224:this.messageType="pitchbendchange";var d=c.data[2]&127,u=c.data[1]&127;this.pitchBend=(d<<8)+u;break}}return new l(o)},n.exports=a.default},{}]},{},[1])(1)})})(rJ);var z6t=rJ.exports,j6t=z6t,W6t=function(e){return e.listenToMidi=function(t,i){var n={},a=i||{},o=a.gain||function(l){return l/127};return t.onmidimessage=function(l){var c=l.messageType?l:j6t(l);if(c.messageType==="noteon"&&c.velocity===0&&(c.messageType="noteoff"),!(a.channel&&c.channel!==a.channel))switch(c.messageType){case"noteon":n[c.key]=e.play(c.key,0,{gain:o(c.velocity)});break;case"noteoff":n[c.key]&&(n[c.key].stop(),delete n[c.key]);break}},e},e};(function(e){var t=I6t,i=B6t,n=J6t,a=Q6t,o=W6t;function l(c,d,u){return o(a(n(i(t(c,d,u)))))}e.exports&&(e.exports=l),typeof window<"u"&&(window.SamplePlayer=l)})(ZU);var K6t=ZU.exports;function Sx(e,t){return Array(t+1).join(e)}function Mb(e){return typeof e=="number"}function q6t(e){return typeof e=="string"}function X6t(e){return typeof e<"u"}function aJ(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var oJ=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function Y6t(){return oJ}var Z6t=[0,2,4,5,7,9,11];function Gl(e,t,i){if(typeof e!="string")return null;var n=oJ.exec(e);if(!n||!t&&n[4])return null;var a={letter:n[1].toUpperCase(),acc:n[2].replace(/x/g,"##")};a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt=a.acc[0]==="b"?-a.acc.length:a.acc.length;var o=Z6t[a.step]+a.alt;return a.chroma=o<0?12+o:o%12,n[3]&&(a.oct=+n[3],a.midi=o+12*(a.oct+1),a.freq=aJ(a.midi,i)),t&&(a.tonicOf=n[4]),a}var t8t="CDEFGAB";function e8t(e){return Mb(e)?e<0?Sx("b",-e):Sx("#",e):""}function i8t(e){return Mb(e)?""+e:""}function sJ(e,t,i){return e===null||typeof e>"u"?null:e.step?sJ(e.step,e.alt,e.oct):e<0||e>6?null:t8t.charAt(e)+e8t(t)+i8t(i)}function lJ(e){if((Mb(e)||q6t(e))&&e>=0&&e<128)return+e;var t=Gl(e);return t&&X6t(t.midi)?t.midi:null}function n8t(e,t){var i=lJ(e);return i===null?null:aJ(i,t)}function r8t(e){return(Gl(e)||{}).letter}function a8t(e){return(Gl(e)||{}).acc}function o8t(e){return(Gl(e)||{}).pc}function s8t(e){return(Gl(e)||{}).step}function l8t(e){return(Gl(e)||{}).alt}function c8t(e){return(Gl(e)||{}).chroma}function u8t(e){return(Gl(e)||{}).oct}const d8t=Object.freeze(Object.defineProperty({__proto__:null,acc:a8t,alt:l8t,build:sJ,chroma:c8t,freq:n8t,letter:r8t,midi:lJ,oct:u8t,parse:Gl,pc:o8t,regex:Y6t,step:s8t},Symbol.toStringTag,{value:"Module"})),h8t=Wnt(d8t);var Zg,xx;function f8t(){if(xx)return Zg;xx=1;var e=h8t;function t(a,o){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof t))return new t(a);this.nameToUrl=o||t.nameToUrl,this.ctx=a,this.instruments={},this.promises=[]}t.prototype.onready=function(a){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(a)},t.prototype.instrument=function(a,o){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var l=this.ctx;if(a=a||"default",a in this.instruments)return this.instruments[a];var c={name:a,play:n(l,o)};if(this.instruments[a]=c,a!=="default"){var d=t.instrument(l,a,o).then(function(u){return c.play=u.play,c});this.promises.push(d),c.onready=function(u){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),d.then(u)}}else c.onready=function(u){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),u()};return c};function i(a,o,l){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),t.instrument(a,o,l).then(function(c){return c.buffers})}t.loadBuffers=i;function n(a,o){return o=o||{},function(l,c,d,u){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var h=l>0&&l<129?+l:e.midi(l),p=h?e.midiToFreq(h,440):null;if(p){d=d||.2,u=u||{};var f=u.destination||o.destination||a.destination,M=u.vcoType||o.vcoType||"sine",g=u.gain||o.gain||.4,y=a.createOscillator();y.type=M,y.frequency.value=p;var b=a.createGain();return b.gain.value=g,y.connect(b),b.connect(f),y.start(c),d>0&&y.stop(c+d),y}}}return t.noteToMidi=e.midi,Zg=t,Zg}(function(e){var t=g6t,i=K6t;function n(c,d,u){if(arguments.length===1)return function(g,y){return n(c,g,y)};var h=u||{},p=h.isSoundfontURL||a,f=h.nameToUrl||o,M=p(d)?d:f(d,h.soundfont,h.format);return t(c,M,{only:h.only||h.notes}).then(function(g){var y=i(c,g,h).connect(h.destination?h.destination:c.destination);return y.url=M,y.name=d,y})}function a(c){return/\.js(\?.*)?$/i.test(c)}function o(c,d,u){return u=u==="ogg"?u:"mp3",d=d==="FluidR3_GM"?d:"MusyngKite","https://gleitz.github.io/midi-js-soundfonts/"+d+"/"+c+"-"+u+".js"}var l=f8t();l.instrument=n,l.nameToUrl=o,e.exports&&(e.exports=l),typeof window<"u"&&(window.Soundfont=l)})(XU);var m8t=XU.exports;const p8t=wA(m8t);var gc,kd,Ld,$u,Mc,yc,Ac,Gf,vc,Nd,Gu,ys,hl,Hu,Go,Fd,fl,ml,Vu,Hf;const Cd=class Cd{constructor(){Dn(this,gc,null);Dn(this,kd,null);Dn(this,Ld,null);Dn(this,$u,1);Dn(this,Mc,null);Dn(this,yc,!1);Dn(this,Ac,!1);In(this,"currentPlayTime",null);Dn(this,Gf,null);Dn(this,vc,new AudioContext);Dn(this,Nd,null);Dn(this,Gu,null);Dn(this,ys,0);Dn(this,hl,-1);Dn(this,Hu,[]);Dn(this,Go,[]);Dn(this,Fd,null);Dn(this,fl,!1);Dn(this,ml,!1);Dn(this,Vu,!1);Dn(this,Hf,null);In(this,"onTimeChange",t=>(En(this,gc,t),this));In(this,"onStop",t=>(En(this,kd,t),this));In(this,"getAvailableInstruments",()=>[...Cd.validInstruments.values()]);In(this,"setVolume",t=>(En(this,$u,t),this));In(this,"mute",()=>(console.log("[Player] muted"),En(this,Vu,!0),this));In(this,"unMute",()=>(console.log("[Player] un-muted"),En(this,Vu,!1),this));In(this,"isMuted",()=>Ke(this,Vu));In(this,"setLogging",t=>(En(this,Ac,t),this));In(this,"isPlaying",()=>Ke(this,fl));In(this,"isPaused",()=>Ke(this,ml));In(this,"playNotes",(t,i="acoustic_grand_piano",n=0,a=-1,o=1,l=!1)=>{if(Ke(this,fl)&&!Ke(this,ml)&&!Ke(this,yc)&&this.stop(),!t||t.length===0){console.warn("[PLAYER] Was called with no data");return}if(!Cd.validInstruments.has(i)){console.error(`[Player] Sound ${i} is not supported!`);return}En(this,Hu,[...t]);let c=new Nu(t).sortByTime();En(this,Fd,c.getDuration()),n>0&&(c=c.filter(d=>d.start>=n).shiftTime(-n),console.log(`[Player] Will start at ${n.toFixed(2)} seconds with ${c.length()} notes left`)),o!==1&&o>0&&(c=c.scaleTime(1/o),En(this,Fd,Ke(this,Fd)/o)),t=c.getNotes(),console.log(`[Player] Playing ${t.length} notes with '${i}', speed ${o}, and volume ${Ke(this,$u)}`),Ke(this,vc).state==="suspended"&&Ke(this,vc).resume(),En(this,Ld,i),En(this,ys,n),En(this,hl,a),En(this,Mc,o),En(this,yc,l),En(this,Go,[...t]),i===Ke(this,Hf)?this._start():this.preloadInstrument(i).then(this._start)});In(this,"_start",()=>{console.log("[Player] Starting"),En(this,fl,!0),En(this,ml,!1),En(this,Gu,Ke(this,vc).currentTime),this._scheduler()});In(this,"_updateTime",t=>{const i=(t-Ke(this,Gu))*Ke(this,Mc)+Ke(this,ys);this.currentPlayTime=i,Ke(this,gc)&&Ke(this,gc).call(this,i)});In(this,"_playNote",(t,i)=>{const n=t.getDuration();Ke(this,Ac)&&console.log(`[Player] Playing ${t.getName()} for ${n}s`);try{Ke(this,Gf).play(t.pitch,i,{duration:n,gain:t.velocity*Ke(this,$u),sustain:t.getDuration()})}catch(a){console.error("[Player] Error for note",t,a)}});In(this,"_scheduler",()=>{const n=Ke(this,vc).currentTime;this._updateTime(n);const a=(Ke(this,hl)-Ke(this,ys))/Ke(this,Mc)+Ke(this,ys);for(;Ke(this,Go).length>0;){const l=Ke(this,Gu)+Ke(this,Go)[0].start;if(l>n+.1||Ke(this,hl)!==-1&&Ke(this,Go)[0].start+Ke(this,ys)>=a)break;const c=Ke(this,Go).shift();Ke(this,Vu)||this._playNote(c,l)}const o=n-Ke(this,Gu)+Ke(this,ys);Ke(this,hl)!==-1&&o>=a?this._stopOrLoop():o>=Ke(this,Fd)?this._stopOrLoop():En(this,Nd,setTimeout(this._scheduler,33))});In(this,"_stopOrLoop",()=>{Ke(this,yc)?this.playNotes(Ke(this,Hu),Ke(this,Ld),Ke(this,ys),Ke(this,hl),Ke(this,Mc),Ke(this,yc)):this.stop()});In(this,"stop",(t=!0)=>{if(Ke(this,fl))return console.log("[Player] Stopping player"),clearTimeout(Ke(this,Nd)),this.currentPlayTime=null,En(this,fl,!1),En(this,ml,!1),En(this,Hu,[]),En(this,Go,[]),Ke(this,gc)&&Ke(this,gc).call(this,null),t&&Ke(this,kd)&&Ke(this,kd).call(this),this});In(this,"pause",()=>(console.log("[Player] Pausing player"),clearTimeout(Ke(this,Nd)),En(this,ml,!0),this));In(this,"resume",()=>{if(console.log("[Player] Resuming player"),!Ke(this,Go)||Ke(this,Go).length===0){console.warn("[Player] Cannot resume player since it has not been started!");return}return this.playNotes(Ke(this,Hu),Ke(this,Ld),this.currentPlayTime,Ke(this,hl),Ke(this,Mc),Ke(this,yc)),this});In(this,"pauseOrResume",()=>{if(!Ke(this,fl)){console.warn("[Player] Cannot pause / resume when player is not playing!");return}return Ke(this,ml)?this.resume():this.pause(),this})}async preloadInstrument(t){if(t==="silent")return this;const i=`soundfonts/${t}-mp3.js`;Ke(this,Ac)&&console.log(`[Player] Pre-loading sound font from ${i}`),Cd.validInstruments.has(t)||console.warn(`[Player] Invalid sound ${t}`),Ke(this,Ac)&&console.log(`[Player] Loading soundfont ${t}`);const n={from:"",gain:Ke(this,$u)},a=await p8t.instrument(Ke(this,vc),i,n);return En(this,Hf,t),En(this,Gf,a),Ke(this,Ac)&&console.log(`[Player] Finished loading soundfont ${t}`),this}};gc=new WeakMap,kd=new WeakMap,Ld=new WeakMap,$u=new WeakMap,Mc=new WeakMap,yc=new WeakMap,Ac=new WeakMap,Gf=new WeakMap,vc=new WeakMap,Nd=new WeakMap,Gu=new WeakMap,ys=new WeakMap,hl=new WeakMap,Hu=new WeakMap,Go=new WeakMap,Fd=new WeakMap,fl=new WeakMap,ml=new WeakMap,Vu=new WeakMap,Hf=new WeakMap,In(Cd,"validInstruments",new Map([["acoustic_grand_piano",{value:"acoustic_grand_piano",label:"Acoustic grand piano"}],["acoustic_guitar_nylon",{value:"acoustic_guitar_nylon",label:"Acoustic guitar nylon"}],["acoustic_guitar_steel",{value:"acoustic_guitar_steel",label:"Acoustic guitar steel"}],["electric_bass_finger",{value:"electric_bass_finger",label:"Electric bass finger"}],["electric_guitar_clean",{value:"electric_guitar_clean",label:"Electric guitar clean"}],["percussion",{value:"percussion",label:"Percussion"}]]));let O8=Cd;function Tx(e){let t,i,n,a,o,l;function c(p){e[13](p)}let d={title:"sound",style:"margin: 0 -12.5px 0 -0.5px; border-radius: 0",disabled:e[2].length===0||e[4],$$slots:{default:[g8t]},$$scope:{ctx:e}};e[0]!==void 0&&(d.value=e[0]),t=new t9({props:d}),he.push(()=>Ee(t,"value",c));function u(p){e[14](p)}let h={title:"replay volume, 1 is normal",min:.2,max:5,step:.2,defaultValue:1,width:"40px",disabled:e[2].length===0||e[0]==="silent",style:"border-radius: 0 8px 8px 0; margin: 0;"};return e[1]!==void 0&&(h.value=e[1]),a=new M0({props:h}),he.push(()=>Ee(a,"value",u)),{c(){Pt(t.$$.fragment),n=K(),Pt(a.$$.fragment)},m(p,f){Rt(t,p,f),bt(p,n,f),Rt(a,p,f),l=!0},p(p,f){const M={};f&20&&(M.disabled=p[2].length===0||p[4]),f&33554432&&(M.$$scope={dirty:f,ctx:p}),!i&&f&1&&(i=!0,M.value=p[0],_e(()=>i=!1)),t.$set(M);const g={};f&5&&(g.disabled=p[2].length===0||p[0]==="silent"),!o&&f&2&&(o=!0,g.value=p[1],_e(()=>o=!1)),a.$set(g)},i(p){l||(wt(t.$$.fragment,p),wt(a.$$.fragment,p),l=!0)},o(p){It(t.$$.fragment,p),It(a.$$.fragment,p),l=!1},d(p){p&&vt(n),Dt(t,p),Dt(a,p)}}}function g8t(e){let t,i,n,a,o,l,c;return{c(){t=q("option"),t.textContent=`${H9t}`,i=K(),n=q("option"),n.textContent=`${rL}`,a=K(),o=q("option"),o.textContent=`${aL}`,l=K(),c=q("option"),c.textContent=`${oL}`,t.__value="silent",qi(t,t.__value),n.__value="acoustic_grand_piano",qi(n,n.__value),o.__value="percussion",qi(o,o.__value),c.__value="acoustic_guitar_nylon",qi(c,c.__value)},m(d,u){bt(d,t,u),bt(d,i,u),bt(d,n,u),bt(d,a,u),bt(d,o,u),bt(d,l,u),bt(d,c,u)},p:We,d(d){d&&(vt(t),vt(i),vt(n),vt(a),vt(o),vt(l),vt(c))}}}function M8t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b,v,C=e[5]&&Tx(e);function w(E){e[15](E)}let _={title:"replay speed (2 means twice as fast, 0.5 half as fast)",min:.5,max:10,step:.5,defaultValue:1,width:"40px",disabled:e[2].length===0||e[4],style:"border-radius: 0; margin: 0 -12px 0 0;"};return e[3]!==void 0&&(_.value=e[3]),M=new M0({props:_}),he.push(()=>Ee(M,"value",w)),{c(){t=q("main"),i=q("button"),n=Es("svg"),a=Es("path"),l=Es("circle"),d=Es("circle"),p=K(),C&&C.c(),f=K(),Pt(M.$$.fragment),mt(a,"x",0),mt(a,"y",0),mt(a,"d",o=`M4,4 L4,${Or-4} L${Or-4},${e[4]?Or-4:Or/2} L${e[4]?Or-4:4},4 Z`),mt(a,"fill","#444"),mt(a,"stroke","#444"),mt(a,"stroke-width","3"),mt(a,"stroke-linejoin","round"),mt(a,"rx","3"),mt(a,"class","svelte-cvgzat"),mt(l,"cx",Or/2),mt(l,"cy",Or/2),mt(l,"r",Dy),mt(l,"stroke","#888"),mt(l,"visibility",c=e[4]?"visible":"hidden"),mt(l,"class","svelte-cvgzat"),mt(d,"cx",Or/2),mt(d,"cy",Or/2),mt(d,"r",Dy),mt(d,"stroke","white"),mt(d,"visibility",u=e[4]?"visible":"hidden"),mt(d,"class","svelte-cvgzat"),mt(n,"width",Or+"px"),mt(n,"height",Or+"px"),sn(n,"width",Or+"px"),sn(n,"height",Or+"px"),mt(n,"class","svelte-cvgzat"),mt(i,"title","replay the current notes, click again to stop"),i.disabled=h=e[2].length===0,mt(i,"class","svelte-cvgzat"),mt(t,"class","svelte-cvgzat")},m(E,S){bt(E,t,S),B(t,i),B(i,n),B(n,a),B(n,l),B(n,d),e[12](d),B(t,p),C&&C.m(t,null),B(t,f),Rt(M,t,null),y=!0,b||(v=ze(i,"click",e[7]),b=!0)},p(E,[S]){(!y||S&16&&o!==(o=`M4,4 L4,${Or-4} L${Or-4},${E[4]?Or-4:Or/2} L${E[4]?Or-4:4},4 Z`))&&mt(a,"d",o),(!y||S&16&&c!==(c=E[4]?"visible":"hidden"))&&mt(l,"visibility",c),(!y||S&16&&u!==(u=E[4]?"visible":"hidden"))&&mt(d,"visibility",u),(!y||S&4&&h!==(h=E[2].length===0))&&(i.disabled=h),E[5]?C?(C.p(E,S),S&32&&wt(C,1)):(C=Tx(E),C.c(),wt(C,1),C.m(t,f)):C&&(na(),It(C,1,1,()=>{C=null}),ra());const I={};S&20&&(I.disabled=E[2].length===0||E[4]),!g&&S&8&&(g=!0,I.value=E[3],_e(()=>g=!1)),M.$set(I)},i(E){y||(wt(C),wt(M.$$.fragment,E),y=!0)},o(E){It(C),It(M.$$.fragment,E),y=!1},d(E){E&&vt(t),e[12](null),C&&C.d(),Dt(M),b=!1,v()}}}const Or=24,Dy=4.5;function y8t(e,t,i){let{notes:n=[]}=t,{speed:a=1}=t,{onStart:o=()=>{}}=t,{onStop:l=()=>{}}=t,{callback:c=()=>{}}=t,{startAtFirstNote:d=!0}=t,{allowSound:u=!0}=t,{sound:h="silent"}=t,{volume:p=1}=t,{isPlaying:f=!1}=t,M=[],g,y,b,v=0;const C=new O8,w=()=>{o(),i(4,f=!0);const P=1e3/a;g=[...n],i(2,n=[]),M=[];let[F,U]=W9(g,H=>H.time??H);d||(F=0),U=U-F;for(const H of g){const J=(H.time??H)-F;M.push(setTimeout(()=>{i(2,n=[...n,H]),n.length===g.length?E():c()},J*P))}const V=()=>{const H=(performance.now()-v)/1e3*a;I(H/U),b=requestAnimationFrame(V)};v=performance.now(),b=requestAnimationFrame(V);const G=v9(g,H=>H.velocityRaw??H.velocity??1)>1;if(h!=="silent"){const H=g.map(J=>{const Z=(J.time??J)-F,j=J.duration??.2;let W=J.velocityRaw??J.velocity??1;return W=G?W/127:W,Ku.from({pitch:J.number??33,start:Z,end:Z+j,duration:j,velocity:W,channel:0})});C.playNotes(H,h,0,void 0,a)}},_=()=>{i(4,f=!1),i(2,n=g);for(const P of M)clearTimeout(P);cancelAnimationFrame(b),M=[],C.stop(),l()},E=()=>{_(),c()},S=()=>{f?E():w()};c0(_);const I=P=>{const F=2*Math.PI*Dy,U=P*F;y.setAttribute("stroke-dasharray",[U,F-U]),y.setAttribute("stroke-dashoffset",1/4*F)};function T(P){he[P?"unshift":"push"](()=>{y=P,i(6,y)})}function k(P){h=P,i(0,h)}function D(P){p=P,i(1,p)}function N(P){a=P,i(3,a)}return e.$$set=P=>{"notes"in P&&i(2,n=P.notes),"speed"in P&&i(3,a=P.speed),"onStart"in P&&i(8,o=P.onStart),"onStop"in P&&i(9,l=P.onStop),"callback"in P&&i(10,c=P.callback),"startAtFirstNote"in P&&i(11,d=P.startAtFirstNote),"allowSound"in P&&i(5,u=P.allowSound),"sound"in P&&i(0,h=P.sound),"volume"in P&&i(1,p=P.volume),"isPlaying"in P&&i(4,f=P.isPlaying)},e.$$.update=()=>{e.$$.dirty&1&&C.preloadInstrument(h),e.$$.dirty&2&&C.setVolume(p)},[h,p,n,a,f,u,y,S,o,l,c,d,T,k,D,N]}class Oa extends Zi{constructor(t){super(),Yi(this,t,y8t,M8t,Xi,{notes:2,speed:3,onStart:8,onStop:9,callback:10,startAtFirstNote:11,allowSound:5,sound:0,volume:1,isPlaying:4})}}const{window:cJ}=Qc;function A8t(e,t,i){const n=e.slice();return n[27]=t[i],n}function v8t(e){let t;return{c(){t=q("option"),t.textContent=`${e[27]}`,t.__value=e[27],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function b8t(e){let t,i=je(["none","channel","sharps","note","drum"]),n=[];for(let a=0;a<5;a+=1)n[a]=v8t(A8t(e,i,a));return{c(){for(let a=0;a<5;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<5;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function C8t(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function _8t(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function E8t(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function w8t(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function O8t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b;return n=new T9({props:{onclick:e[20],$$slots:{default:[C8t]},$$scope:{ctx:e}}}),c=new T9({props:{onclick:e[21],$$slots:{default:[_8t]},$$scope:{ctx:e}}}),p=new T9({props:{onclick:e[22],$$slots:{default:[E8t]},$$scope:{ctx:e}}}),y=new T9({props:{onclick:e[23],$$slots:{default:[w8t]},$$scope:{ctx:e}}}),{c(){t=q("p"),i=te(`1) Play all notes between a mezzo-piano (mp) and a forte (f).
                `),Pt(n.$$.fragment),a=K(),o=q("p"),l=te(`2) Play a crescendo, starting at below pp and rising until above
                ff smoothly.
                `),Pt(c.$$.fragment),d=K(),u=q("p"),h=te(`3) Play a descrescendo from above ff to below pp.
                `),Pt(p.$$.fragment),f=K(),M=q("p"),g=te(`4) Play accents, for example on each 4th note. They should be
                loud enough to be easily distinguishable from the non-accented
                notes.
                `),Pt(y.$$.fragment)},m(v,C){bt(v,t,C),B(t,i),Rt(n,t,null),bt(v,a,C),bt(v,o,C),B(o,l),Rt(c,o,null),bt(v,d,C),bt(v,u,C),B(u,h),Rt(p,u,null),bt(v,f,C),bt(v,M,C),B(M,g),Rt(y,M,null),b=!0},p(v,C){const w={};C&1073741824&&(w.$$scope={dirty:C,ctx:v}),n.$set(w);const _={};C&1073741824&&(_.$$scope={dirty:C,ctx:v}),c.$set(_);const E={};C&1073741824&&(E.$$scope={dirty:C,ctx:v}),p.$set(E);const S={};C&1073741824&&(S.$$scope={dirty:C,ctx:v}),y.$set(S)},i(v){b||(wt(n.$$.fragment,v),wt(c.$$.fragment,v),wt(p.$$.fragment,v),wt(y.$$.fragment,v),b=!0)},o(v){It(n.$$.fragment,v),It(c.$$.fragment,v),It(p.$$.fragment,v),It(y.$$.fragment,v),b=!1},d(v){v&&(vt(t),vt(a),vt(o),vt(d),vt(u),vt(f),vt(M)),Dt(n),Dt(c),Dt(p),Dt(y)}}}function S8t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z;function j(yt){e[14](yt)}let W={label:"rounding",title:"You can change between seeing exact bar heights and binned (rounded) heights."};e[3]!==void 0&&(W.checked=e[3]),u=new zn({props:W}),he.push(()=>Ee(u,"checked",j));function et(yt){e[15](yt)}let dt={title:"The number of most recent notes that are shown as bars.",label:"bars",step:25,min:25,max:1e3};e[4]!==void 0&&(dt.value=e[4]),f=new M0({props:dt}),he.push(()=>Ee(f,"value",et));function ht(yt){e[16](yt)}let st={label:"color",$$slots:{default:[b8t]},$$scope:{ctx:e}};e[5]!==void 0&&(st.value=e[5]),y=new t9({props:st}),he.push(()=>Ee(y,"value",ht));function St(yt){e[18](yt)}let At={saveToStorage:e[12]};e[6]!==void 0&&(At.notes=e[6]),E=new c9({props:At}),he.push(()=>Ee(E,"notes",St)),T=new _9({props:{appId:e[0].id,loadData:e[11]}});function xt(yt){e[19](yt)}let gt={callback:e[9]};return e[6]!==void 0&&(gt.notes=e[6]),D=new Oa({props:gt}),he.push(()=>Ee(D,"notes",xt)),F=new f9({props:{loadData:e[11],getExportData:e[10],appId:e[0].id}}),V=new e9({props:{$$slots:{default:[O8t]},$$scope:{ctx:e}}}),G=new i9({props:{appId:e[0].id}}),J=new j0({props:{noteOn:e[8]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`This app helps practicing controlling the loudness of notes, for
            example to keep at a roughly constant loudness, play accents, or
            smoothly in- or decrease it. The loudness of each note is be shown
            as a bar in chart below. Bar heights can be rounded to the closest
            <a href="https://en.wikipedia.org/wiki/Dynamics_(music)" target="_blank" referrerpolicy="no-referrer">dynamics marking</a>
            for a clearer overview.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),C=q("div"),w=K(),_=q("div"),Pt(E.$$.fragment),I=K(),Pt(T.$$.fragment),k=K(),Pt(D.$$.fragment),P=K(),Pt(F.$$.fragment),U=K(),Pt(V.$$.fragment),z=K(),Pt(G.$$.fragment),H=K(),Pt(J.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(C,"class","visualization"),mt(_,"class","control"),mt(t,"class","app")},m(yt,lt){bt(yt,t,lt),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(t,v),B(t,C),e[17](C),B(t,w),B(t,_),Rt(E,_,null),B(_,I),Rt(T,_,null),B(_,k),Rt(D,_,null),B(_,P),Rt(F,_,null),B(t,U),Rt(V,t,null),B(t,z),Rt(G,t,null),B(t,H),Rt(J,t,null),Z=!0},p(yt,lt){(!Z||lt&1)&&n!==(n=yt[0].title+"")&&Qe(a,n);const zt={};!h&&lt&8&&(h=!0,zt.checked=yt[3],_e(()=>h=!1)),u.$set(zt);const kt={};!M&&lt&16&&(M=!0,kt.value=yt[4],_e(()=>M=!1)),f.$set(kt);const Jt={};lt&1073741824&&(Jt.$$scope={dirty:lt,ctx:yt}),!b&&lt&32&&(b=!0,Jt.value=yt[5],_e(()=>b=!1)),y.$set(Jt);const Gt={};!S&&lt&64&&(S=!0,Gt.notes=yt[6],_e(()=>S=!1)),E.$set(Gt);const ce={};lt&1&&(ce.appId=yt[0].id),T.$set(ce);const ae={};!N&&lt&64&&(N=!0,ae.notes=yt[6],_e(()=>N=!1)),D.$set(ae);const qt={};lt&1&&(qt.appId=yt[0].id),F.$set(qt);const ue={};lt&1073741824&&(ue.$$scope={dirty:lt,ctx:yt}),V.$set(ue);const $e={};lt&1&&($e.appId=yt[0].id),G.$set($e)},i(yt){Z||(wt(u.$$.fragment,yt),wt(f.$$.fragment,yt),wt(y.$$.fragment,yt),wt(E.$$.fragment,yt),wt(T.$$.fragment,yt),wt(D.$$.fragment,yt),wt(F.$$.fragment,yt),wt(V.$$.fragment,yt),wt(G.$$.fragment,yt),wt(J.$$.fragment,yt),Z=!0)},o(yt){It(u.$$.fragment,yt),It(f.$$.fragment,yt),It(y.$$.fragment,yt),It(E.$$.fragment,yt),It(T.$$.fragment,yt),It(D.$$.fragment,yt),It(F.$$.fragment,yt),It(V.$$.fragment,yt),It(G.$$.fragment,yt),It(J.$$.fragment,yt),Z=!1},d(yt){yt&&vt(t),Dt(u),Dt(f),Dt(y),e[17](null),Dt(E),Dt(T),Dt(D),Dt(F),Dt(V),Dt(G),Dt(J)}}}function x8t(e){let t,i,n,a;return J9(e[13]),t=new m9({props:{loadData:e[11],disabled:e[7],$$slots:{default:[S8t]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(o,l){Rt(t,o,l),i=!0,n||(a=ze(cJ,"resize",e[13]),n=!0)},p(o,[l]){const c={};l&1073741949&&(c.$$scope={dirty:l,ctx:o}),t.$set(c)},i(o){i||(wt(t.$$.fragment,o),i=!0)},o(o){It(t.$$.fragment,o),i=!1},d(o){Dt(t,o),n=!1,a()}}}let T8t=300;function I8t(e,t,i){let n,{appInfo:a}=t,o=window.innerWidth,l;const c=t1;let d=!1,u=50,h="none",p,f=[],M;const g=U=>{f.length===0&&(p=U.timestamp);const z={time:(U.timestamp-p)/1e3,velocity:U.rawVelocity,number:U.note.number,note:U.note.name+(U.note.accidental??""),isSharp:!!U.note.accidental,channel:U.message.channel};i(6,f=[...f,z])},y=()=>{let U=f;if(d){const J=[...c.keys()];U=f.map(Z=>{const j=wl(J,W=>Math.abs(Z.velocity-W));return{...Z,velocity:J[j]}})}const V=[...c.keys()];let z,G;if(h==="sharps")G=["natural","sharp"],z=["#ddd","#888"];else if(h==="channel")z=Wo,G=fi(z.length);else if(h==="note")G=Dr,z=xc.noteColormapAccessible2;else if(h==="drum"){const J=[...w8.values()].map(Z=>Z.label);G=[...new Set(J),"other"],z=Wo}const H=On({width:n,height:T8t,marginLeft:45,marginRight:120,x:{axis:!1},y:{domain:[0,128]},color:{legend:h!=="none",type:"categorical",domain:G,range:z},marks:[C1(U.slice(-u),{x:(J,Z)=>Z,y:J=>J.velocity,fill:J=>{var Z;if(h==="none")return"#ddd";if(h==="channel")return J.channel%G.length;if(h==="sharps")return J.isSharp?"sharp":"natural";if(h==="drum")return((Z=w8.get(J.number))==null?void 0:Z.label)??"other";if(h==="note")return J.note},rx1y1:4,rx2y1:4,inset:0,dx:.5}),T0(V,{stroke:"#888"}),Ro({anchor:"left",ticks:V,tickFormat:J=>c.get(J),tickSize:0}),Ro({anchor:"right",ticks:V,tickFormat:J=>Bmt.get(c.get(J)),tickSize:0})]});i(2,l.textContent="",l),l.appendChild(H)};$9(y);const b=()=>({isBinning:d,barLimit:u,notes:f}),v=U=>{C(),i(3,d=U.isBinning),i(4,u=U.barLimit),i(6,f=U.notes)},C=()=>{const U=JSON.stringify(f);f.length>0&&U!==JSON.stringify(bx.notes)&&U!==JSON.stringify(Cx.notes)&&U!==JSON.stringify(_x.notes)&&U!==JSON.stringify(Ex.notes)&&C9(a.id,b())};c0(C);function w(){i(1,o=cJ.innerWidth)}function _(U){d=U,i(3,d)}function E(U){u=U,i(4,u)}function S(U){h=U,i(5,h)}function I(U){he[U?"unshift":"push"](()=>{l=U,i(2,l)})}function T(U){f=U,i(6,f)}function k(U){f=U,i(6,f)}const D=()=>v(bx),N=()=>v(Cx),P=()=>v(_x),F=()=>v(Ex);return e.$$set=U=>{"appInfo"in U&&i(0,a=U.appInfo)},e.$$.update=()=>{e.$$.dirty&2&&(n=o<1200?900:Math.floor(o-200))},[a,o,l,d,u,h,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F]}class B8t extends Zi{constructor(t){super(),Yi(this,t,I8t,x8t,Xi,{appInfo:0})}}function Ix(e,t,i){const n=e.slice();return n[13]=t[i],n}function Bx(e,t,i){const n=e.slice();return n[16]=t[i],n}function Rx(e){let t,i=e[16]+"",n;return{c(){t=q("option"),n=te(i),t.__value=e[16],qi(t,t.__value)},m(a,o){bt(a,t,o),B(t,n)},p:We,d(a){a&&vt(t)}}}function Dx(e){let t,i=e[13]+"",n,a;return{c(){t=q("option"),n=te(i),t.__value=a=e[13],qi(t,t.__value)},m(o,l){bt(o,t,l),B(t,n)},p(o,l){l&16&&i!==(i=o[13]+"")&&Qe(n,i),l&16&&a!==(a=o[13])&&(t.__value=a,qi(t,t.__value))},d(o){o&&vt(t)}}}function R8t(e){let t,i,n,a,o,l,c,d=je(e[5]),u=[];for(let f=0;f<d.length;f+=1)u[f]=Rx(Bx(e,d,f));let h=je(e[4]),p=[];for(let f=0;f<h.length;f+=1)p[f]=Dx(Ix(e,h,f));return{c(){t=q("label"),i=te(`scale
    `),n=q("select");for(let f=0;f<u.length;f+=1)u[f].c();a=K(),o=q("select");for(let f=0;f<p.length;f+=1)p[f].c();mt(n,"class","select1 svelte-1ks8yfh"),n.disabled=e[3],e[0]===void 0&&J9(()=>e[10].call(n)),mt(o,"class","select2 svelte-1ks8yfh"),o.disabled=e[3],e[1]===void 0&&J9(()=>e[11].call(o))},m(f,M){bt(f,t,M),B(t,i),B(t,n);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(n,null);xr(n,e[0],!0),B(t,a),B(t,o);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(o,null);xr(o,e[1],!0),l||(c=[ze(n,"change",e[10]),ze(n,"change",function(){Xo(e[2])&&e[2].apply(this,arguments)}),ze(n,"wheel",e[6]),ze(o,"change",e[11]),ze(o,"change",function(){Xo(e[2])&&e[2].apply(this,arguments)}),ze(o,"wheel",e[7])],l=!0)},p(f,[M]){if(e=f,M&32){d=je(e[5]);let g;for(g=0;g<d.length;g+=1){const y=Bx(e,d,g);u[g]?u[g].p(y,M):(u[g]=Rx(y),u[g].c(),u[g].m(n,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=d.length}if(M&8&&(n.disabled=e[3]),M&33&&xr(n,e[0]),M&16){h=je(e[4]);let g;for(g=0;g<h.length;g+=1){const y=Ix(e,h,g);p[g]?p[g].p(y,M):(p[g]=Dx(y),p[g].c(),p[g].m(o,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=h.length}M&8&&(o.disabled=e[3]),M&18&&xr(o,e[1])},i:We,o:We,d(f){f&&vt(t),Ti(u,f),Ti(p,f),l=!1,t0(c)}}}function D8t(e,t,i){let n,{scaleRoot:a="C"}=t,{scaleType:o="major"}=t,{scaleInfo:l=null}=t,{callback:c=()=>{}}=t,{disabled:d=!1}=t,{allowedScales:u=null}=t;const h=yA,p=(b,v)=>{i(8,l=oa(`${b} ${v}`))},f=b=>{if(b.preventDefault(),d)return;let v=h.indexOf(a);if(v===-1)return;let C;b.deltaY<0?C=v>0?v-1:h.length-1:C=v<h.length-1?v+1:0,i(0,a=h[C]),c()},M=b=>{if(b.preventDefault(),d)return;let v=n.indexOf(o);if(v===-1)return;let C;b.deltaY<0?C=v>0?v-1:n.length-1:C=v<n.length-1?v+1:0,i(1,o=n[C]),c()};function g(){a=Tl(this),i(0,a),i(5,h)}function y(){o=Tl(this),i(1,o),i(4,n),i(9,u)}return e.$$set=b=>{"scaleRoot"in b&&i(0,a=b.scaleRoot),"scaleType"in b&&i(1,o=b.scaleType),"scaleInfo"in b&&i(8,l=b.scaleInfo),"callback"in b&&i(2,c=b.callback),"disabled"in b&&i(3,d=b.disabled),"allowedScales"in b&&i(9,u=b.allowedScales)},e.$$.update=()=>{e.$$.dirty&512&&i(4,n=u??FA().sort()),e.$$.dirty&3&&p(a,o)},[a,o,c,d,n,h,f,M,l,u,g,y]}class Uh extends Zi{constructor(t){super(),Yi(this,t,D8t,R8t,Xi,{scaleRoot:0,scaleType:1,scaleInfo:8,callback:2,disabled:3,allowedScales:9})}}const P8t=200,k8t=!0,L8t="A",N8t="minor",F8t=[{time:7.219,number:66,velocity:18,string:5,fret:26,channel:6},{time:7.232,number:48,velocity:86,string:5,fret:8,channel:6},{time:7.561,number:50,velocity:54,string:5,fret:10,channel:6},{time:7.834,number:51,velocity:15,string:5,fret:11,channel:6},{time:7.87,number:52,velocity:20,string:5,fret:12,channel:6},{time:7.986,number:51,velocity:10,string:5,fret:11,channel:6},{time:8.029,number:53,velocity:10,string:4,fret:8,channel:5},{time:8.045,number:53,velocity:23,string:4,fret:8,channel:5},{time:8.262,number:55,velocity:39,string:4,fret:10,channel:5},{time:8.48,number:56,velocity:26,string:4,fret:11,channel:5},{time:11.407,number:48,velocity:20,string:5,fret:8,channel:6},{time:11.661,number:50,velocity:42,string:5,fret:10,channel:6},{time:11.887,number:52,velocity:35,string:5,fret:12,channel:6},{time:12.074,number:53,velocity:28,string:4,fret:8,channel:5},{time:12.275,number:55,velocity:11,string:4,fret:10,channel:5},{time:12.461,number:57,velocity:41,string:4,fret:12,channel:5},{time:12.725,number:59,velocity:88,string:3,fret:9,channel:4},{time:12.965,number:60,velocity:70,string:3,fret:10,channel:4},{time:13.167,number:62,velocity:61,string:3,fret:12,channel:4},{time:13.195,number:62,velocity:34,string:3,fret:12,channel:4},{time:13.384,number:63,velocity:10,string:2,fret:8,channel:3},{time:13.4,number:64,velocity:10,string:2,fret:9,channel:3},{time:13.544,number:65,velocity:10,string:2,fret:10,channel:3},{time:13.581,number:65,velocity:16,string:2,fret:10,channel:3},{time:13.782,number:67,velocity:42,string:2,fret:12,channel:3},{time:13.993,number:69,velocity:10,string:1,fret:10,channel:2},{time:14.004,number:69,velocity:64,string:1,fret:10,channel:2},{time:14.197,number:71,velocity:42,string:1,fret:12,channel:2},{time:14.216,number:71,velocity:45,string:1,fret:12,channel:2},{time:14.386,number:72,velocity:23,string:1,fret:13,channel:2},{time:14.424,number:72,velocity:60,string:1,fret:13,channel:2},{time:14.605,number:74,velocity:41,string:0,fret:10,channel:1},{time:14.826,number:76,velocity:16,string:0,fret:12,channel:1},{time:15.049,number:77,velocity:76,string:0,fret:13,channel:1},{time:15.369,number:40,velocity:10,string:5,fret:0,channel:6},{time:28.428,number:35,velocity:63,string:5,fret:-5,channel:6},{time:28.462,number:43,velocity:53,string:5,fret:3,channel:6},{time:28.657,number:44,velocity:53,string:5,fret:4,channel:6},{time:28.693,number:45,velocity:49,string:5,fret:5,channel:6},{time:28.907,number:47,velocity:69,string:5,fret:7,channel:6},{time:29.121,number:48,velocity:74,string:4,fret:3,channel:5},{time:29.344,number:50,velocity:45,string:4,fret:5,channel:5},{time:29.62,number:51,velocity:59,string:4,fret:6,channel:5},{time:29.649,number:52,velocity:51,string:4,fret:7,channel:5},{time:29.778,number:54,velocity:86,string:3,fret:4,channel:4},{time:29.98,number:55,velocity:61,string:3,fret:5,channel:4},{time:30.16,number:56,velocity:46,string:3,fret:6,channel:4},{time:30.182,number:57,velocity:76,string:3,fret:7,channel:4},{time:30.38,number:59,velocity:63,string:2,fret:4,channel:3},{time:30.567,number:60,velocity:49,string:2,fret:5,channel:3},{time:30.577,number:60,velocity:40,string:2,fret:5,channel:3},{time:30.754,number:62,velocity:28,string:2,fret:7,channel:3},{time:30.787,number:62,velocity:51,string:2,fret:7,channel:3},{time:30.982,number:64,velocity:38,string:1,fret:5,channel:2},{time:31.174,number:66,velocity:25,string:1,fret:7,channel:2},{time:31.365,number:67,velocity:10,string:1,fret:8,channel:2},{time:31.39,number:67,velocity:54,string:1,fret:8,channel:2},{time:31.584,number:69,velocity:72,string:0,fret:5,channel:1},{time:31.77,number:71,velocity:54,string:0,fret:7,channel:1},{time:31.996,number:72,velocity:83,string:0,fret:8,channel:1},{time:42.253,number:45,velocity:29,string:5,fret:5,channel:6},{time:42.421,number:46,velocity:38,string:5,fret:6,channel:6},{time:42.439,number:46,velocity:99,string:5,fret:6,channel:6},{time:42.495,number:47,velocity:91,string:5,fret:7,channel:6},{time:42.623,number:48,velocity:82,string:5,fret:8,channel:6},{time:42.824,number:50,velocity:51,string:4,fret:5,channel:5},{time:42.95,number:52,velocity:66,string:4,fret:7,channel:5},{time:43.112,number:53,velocity:86,string:4,fret:8,channel:5},{time:43.237,number:52,velocity:10,string:3,fret:2,channel:4},{time:43.258,number:52,velocity:70,string:4,fret:7,channel:5},{time:43.439,number:50,velocity:65,string:4,fret:5,channel:5},{time:43.609,number:46,velocity:79,string:5,fret:6,channel:6},{time:62.003,number:45,velocity:52,string:5,fret:5,channel:6},{time:62.237,number:46,velocity:39,string:5,fret:6,channel:6},{time:62.288,number:47,velocity:39,string:5,fret:7,channel:6},{time:62.487,number:48,velocity:79,string:5,fret:8,channel:6},{time:62.719,number:50,velocity:69,string:4,fret:5,channel:5},{time:62.948,number:52,velocity:47,string:4,fret:7,channel:5},{time:63.181,number:53,velocity:62,string:4,fret:8,channel:5},{time:63.432,number:55,velocity:101,string:3,fret:5,channel:4},{time:63.668,number:57,velocity:60,string:3,fret:7,channel:4},{time:63.908,number:59,velocity:58,string:3,fret:9,channel:4},{time:64.129,number:60,velocity:62,string:2,fret:5,channel:3},{time:64.342,number:62,velocity:40,string:2,fret:7,channel:3},{time:64.565,number:64,velocity:69,string:2,fret:9,channel:3},{time:64.808,number:65,velocity:74,string:1,fret:6,channel:2},{time:65.075,number:67,velocity:63,string:1,fret:8,channel:2},{time:65.335,number:69,velocity:46,string:1,fret:10,channel:2},{time:65.381,number:69,velocity:106,string:1,fret:10,channel:2},{time:65.724,number:71,velocity:85,string:0,fret:7,channel:1},{time:66.051,number:72,velocity:62,string:0,fret:8,channel:1},{time:66.395,number:74,velocity:43,string:0,fret:10,channel:1},{time:66.42,number:74,velocity:107,string:0,fret:10,channel:1},{time:67.3,number:57,velocity:16,string:5,fret:17,channel:6},{time:67.339,number:47,velocity:42,string:5,fret:7,channel:6},{time:67.599,number:47,velocity:16,string:5,fret:7,channel:6},{time:67.628,number:48,velocity:28,string:5,fret:8,channel:6},{time:67.824,number:61,velocity:20,string:5,fret:21,channel:6},{time:67.847,number:50,velocity:51,string:5,fret:10,channel:6},{time:68.044,number:52,velocity:37,string:4,fret:7,channel:5},{time:68.264,number:53,velocity:18,string:4,fret:8,channel:5},{time:68.441,number:55,velocity:10,string:4,fret:10,channel:5},{time:68.473,number:55,velocity:38,string:4,fret:10,channel:5},{time:68.674,number:57,velocity:59,string:3,fret:7,channel:4},{time:68.861,number:59,velocity:40,string:3,fret:9,channel:4},{time:68.874,number:59,velocity:34,string:3,fret:9,channel:4},{time:69.05,number:60,velocity:28,string:3,fret:10,channel:4},{time:69.096,number:60,velocity:66,string:3,fret:10,channel:4},{time:69.307,number:62,velocity:76,string:2,fret:7,channel:3},{time:69.551,number:64,velocity:38,string:2,fret:9,channel:3},{time:69.747,number:65,velocity:20,string:2,fret:10,channel:3},{time:69.779,number:65,velocity:54,string:2,fret:10,channel:3},{time:70.005,number:61,velocity:10,string:1,fret:2,channel:2},{time:70.013,number:67,velocity:82,string:1,fret:8,channel:2},{time:70.211,number:68,velocity:59,string:1,fret:9,channel:2},{time:70.256,number:69,velocity:20,string:1,fret:10,channel:2},{time:70.464,number:71,velocity:53,string:1,fret:12,channel:2},{time:70.66,number:72,velocity:69,string:0,fret:8,channel:1},{time:70.887,number:74,velocity:34,string:0,fret:10,channel:1},{time:71.097,number:75,velocity:20,string:0,fret:11,channel:1},{time:71.109,number:59,velocity:116,string:1,fret:0,channel:2},{time:71.133,number:76,velocity:62,string:0,fret:12,channel:1},{time:71.407,number:48,velocity:100,string:5,fret:8,channel:6},{time:71.676,number:50,velocity:82,string:5,fret:10,channel:6},{time:71.836,number:52,velocity:75,string:5,fret:12,channel:6},{time:71.865,number:52,velocity:51,string:5,fret:12,channel:6},{time:72.055,number:53,velocity:74,string:4,fret:8,channel:5},{time:72.227,number:54,velocity:52,string:4,fret:9,channel:5},{time:72.278,number:55,velocity:46,string:4,fret:10,channel:5},{time:72.445,number:57,velocity:26,string:4,fret:12,channel:5},{time:72.484,number:57,velocity:28,string:4,fret:12,channel:5},{time:72.688,number:59,velocity:94,string:3,fret:9,channel:4},{time:72.909,number:60,velocity:80,string:3,fret:10,channel:4},{time:73.112,number:62,velocity:76,string:3,fret:12,channel:4},{time:73.331,number:64,velocity:69,string:2,fret:9,channel:3},{time:73.552,number:65,velocity:39,string:2,fret:10,channel:3},{time:73.736,number:66,velocity:16,string:2,fret:11,channel:3},{time:73.768,number:67,velocity:54,string:2,fret:12,channel:3},{time:73.948,number:69,velocity:10,string:1,fret:10,channel:2},{time:73.96,number:69,velocity:85,string:1,fret:10,channel:2},{time:74.16789999985694,number:71,velocity:28,string:1,fret:12,channel:2},{time:74.318,number:72,velocity:25,string:1,fret:13,channel:2},{time:74.37,number:72,velocity:72,string:1,fret:13,channel:2},{time:74.578,number:74,velocity:68,string:0,fret:10,channel:1},{time:74.809,number:76,velocity:16,string:0,fret:12,channel:1},{time:74.999,number:77,velocity:11,string:0,fret:13,channel:1},{time:75.06,number:77,velocity:46,string:0,fret:13,channel:1},{time:75.269,number:71,velocity:10,string:1,fret:12,channel:2},{time:75.274,number:50,velocity:10,string:5,fret:10,channel:6},{time:75.321,number:50,velocity:10,string:3,fret:0,channel:4},{time:75.324,number:50,velocity:72,string:5,fret:10,channel:6},{time:75.562,number:52,velocity:51,string:5,fret:12,channel:6},{time:75.843,number:53,velocity:66,string:5,fret:13,channel:6},{time:76.087,number:55,velocity:79,string:4,fret:10,channel:5},{time:76.363,number:57,velocity:64,string:4,fret:12,channel:5},{time:76.597,number:59,velocity:52,string:4,fret:14,channel:5},{time:76.619,number:59,velocity:68,string:4,fret:14,channel:5},{time:76.866,number:61,velocity:10,string:3,fret:11,channel:4},{time:76.877,number:60,velocity:96,string:3,fret:10,channel:4},{time:77.147,number:62,velocity:79,string:3,fret:12,channel:4},{time:77.412,number:64,velocity:94,string:3,fret:14,channel:4},{time:77.697,number:65,velocity:88,string:2,fret:10,channel:3},{time:77.991,number:67,velocity:64,string:2,fret:12,channel:3},{time:78.304,number:69,velocity:76,string:2,fret:14,channel:3},{time:78.658,number:64,velocity:10,string:1,fret:5,channel:2},{time:78.67,number:70,velocity:112,string:1,fret:11,channel:2},{time:79.132,number:71,velocity:101,string:1,fret:12,channel:2},{time:79.571,number:72,velocity:78,string:1,fret:13,channel:2},{time:79.594,number:72,velocity:79,string:1,fret:13,channel:2},{time:79.862,number:73,velocity:55,string:1,fret:14,channel:2},{time:79.898,number:74,velocity:61,string:1,fret:15,channel:2},{time:80.154,number:76,velocity:89,string:0,fret:12,channel:1},{time:80.428,number:77,velocity:66,string:0,fret:13,channel:1},{time:80.468,number:77,velocity:54,string:0,fret:13,channel:1},{time:80.718,number:78,velocity:25,string:0,fret:14,channel:1},{time:80.751,number:79,velocity:45,string:0,fret:15,channel:1},{time:81.041,number:52,velocity:62,string:5,fret:12,channel:6},{time:81.30789999985694,number:53,velocity:33,string:5,fret:13,channel:6},{time:81.487,number:54,velocity:16,string:5,fret:14,channel:6},{time:81.516,number:55,velocity:51,string:5,fret:15,channel:6},{time:81.617,number:54,velocity:29,string:5,fret:14,channel:6},{time:81.691,number:57,velocity:61,string:4,fret:12,channel:5},{time:81.865,number:59,velocity:32,string:4,fret:14,channel:5},{time:82.008,number:60,velocity:10,string:4,fret:15,channel:5},{time:82.198,number:62,velocity:75,string:3,fret:12,channel:4},{time:82.358,number:63,velocity:48,string:3,fret:13,channel:4},{time:82.385,number:64,velocity:25,string:3,fret:14,channel:4},{time:82.517,number:65,velocity:10,string:3,fret:15,channel:4},{time:82.56,number:63,velocity:15,string:3,fret:13,channel:4},{time:82.573,number:65,velocity:15,string:3,fret:15,channel:4},{time:82.717,number:67,velocity:64,string:2,fret:12,channel:3},{time:82.891,number:69,velocity:13,string:2,fret:14,channel:3},{time:83.062,number:71,velocity:20,string:2,fret:16,channel:3},{time:83.185,number:70,velocity:10,string:2,fret:15,channel:3},{time:83.264,number:71,velocity:89,string:1,fret:12,channel:2},{time:83.706,number:72,velocity:80,string:1,fret:13,channel:2},{time:84.126,number:73,velocity:59,string:1,fret:14,channel:2},{time:84.156,number:74,velocity:64,string:1,fret:15,channel:2},{time:84.421,number:76,velocity:88,string:1,fret:17,channel:2},{time:84.661,number:77,velocity:66,string:0,fret:13,channel:1},{time:84.867,number:79,velocity:48,string:0,fret:15,channel:1},{time:84.898,number:79,velocity:64,string:0,fret:15,channel:1},{time:85.144,number:81,velocity:35,string:0,fret:17,channel:1},{time:85.159,number:81,velocity:104,string:0,fret:17,channel:1},{time:86.08,number:54,velocity:15,string:5,fret:14,channel:6},{time:86.09,number:54,velocity:33,string:5,fret:14,channel:6},{time:86.836,number:55,velocity:30,string:5,fret:15,channel:6},{time:87.076,number:57,velocity:10,string:5,fret:17,channel:6},{time:87.255,number:65,velocity:10,string:4,fret:20,channel:5},{time:87.277,number:58,velocity:10,string:4,fret:13,channel:5},{time:87.297,number:59,velocity:73,string:4,fret:14,channel:5},{time:87.929,number:53,velocity:10,string:5,fret:13,channel:6},{time:87.953,number:53,velocity:86,string:5,fret:13,channel:6},{time:88.263,number:54,velocity:58,string:5,fret:14,channel:6},{time:88.281,number:55,velocity:44,string:5,fret:15,channel:6},{time:88.45,number:57,velocity:21,string:5,fret:17,channel:6},{time:88.469,number:56,velocity:29,string:5,fret:16,channel:6},{time:88.486,number:57,velocity:65,string:5,fret:17,channel:6},{time:88.651,number:59,velocity:13,string:4,fret:14,channel:5},{time:88.667,number:59,velocity:84,string:4,fret:14,channel:5},{time:88.853,number:60,velocity:49,string:4,fret:15,channel:5},{time:89.03,number:62,velocity:64,string:4,fret:17,channel:5},{time:89.195,number:64,velocity:23,string:3,fret:14,channel:4},{time:89.215,number:64,velocity:107,string:3,fret:14,channel:4},{time:89.425,number:65,velocity:80,string:3,fret:15,channel:4},{time:89.657,number:67,velocity:49,string:3,fret:17,channel:4},{time:89.688,number:67,velocity:110,string:3,fret:17,channel:4},{time:90.017,number:69,velocity:94,string:2,fret:14,channel:3},{time:90.527,number:71,velocity:72,string:2,fret:16,channel:3},{time:90.562,number:71,velocity:80,string:2,fret:16,channel:3},{time:91.016,number:72,velocity:109,string:2,fret:17,channel:3},{time:91.325,number:73,velocity:92,string:2,fret:18,channel:3},{time:91.411,number:72,velocity:88,string:2,fret:17,channel:3},{time:91.843,number:74,velocity:103,string:1,fret:15,channel:2},{time:92.442,number:76,velocity:76,string:1,fret:17,channel:2},{time:92.466,number:76,velocity:94,string:1,fret:17,channel:2},{time:92.915,number:77,velocity:113,string:1,fret:18,channel:2},{time:93.36,number:79,velocity:99,string:0,fret:15,channel:1},{time:93.798,number:79,velocity:110,string:0,fret:15,channel:1},{time:94.263,number:81,velocity:111,string:0,fret:17,channel:1},{time:94.662,number:82,velocity:82,string:0,fret:18,channel:1},{time:94.692,number:83,velocity:117,string:0,fret:19,channel:1},{time:95.906,number:83,velocity:10,string:0,fret:19,channel:1},{time:95.923,number:66,velocity:30,string:0,fret:2,channel:1},{time:95.931,number:84,velocity:116,string:0,fret:20,channel:1},{time:97.088,number:64,velocity:10,string:2,fret:9,channel:3},{time:97.099,number:63,velocity:10,string:2,fret:8,channel:3},{time:97.115,number:62,velocity:10,string:2,fret:7,channel:3},{time:119.823,number:45,velocity:26,string:5,fret:5,channel:6},{time:120.768,number:46,velocity:42,string:5,fret:6,channel:6},{time:120.811,number:45,velocity:42,string:5,fret:5,channel:6},{time:120.913,number:46,velocity:38,string:5,fret:6,channel:6},{time:120.971,number:47,velocity:42,string:5,fret:7,channel:6},{time:122.494,number:66,velocity:10,string:1,fret:7,channel:2},{time:122.495,number:68,velocity:10,string:3,fret:18,channel:4},{time:122.496,number:68,velocity:10,string:4,fret:23,channel:5},{time:128.328,number:51,velocity:69,string:5,fret:11,channel:6},{time:130.462,number:52,velocity:71,string:5,fret:12,channel:6},{time:131.418,number:40,velocity:46,string:5,fret:0,channel:6},{time:135.011,number:55,velocity:79,string:5,fret:15,channel:6}],U8t="fretboard-heatmap",J8t="0.13.4",$8t="2024-09-17T13:22:57.806Z",Px={pastNoteCount:P8t,showScale:k8t,scaleRoot:L8t,scaleType:N8t,notes:F8t,_appId:U8t,_softwareVersion:J8t,_date:$8t};function G8t(e){let t,i,n,a,o,l,c;return{c(){t=q("p"),t.textContent="1) Play the note A over the whole fretboard.",i=K(),n=q("p"),n.textContent=`2) Play the A minor pentatonic scale over the whole fretboard,
                string by string. Check if you played wrong notes.`,a=K(),o=q("p"),o.textContent="3) Improvise in A minor pentatonic over the whole fretboard.",l=K(),c=q("p"),c.textContent=`4) Improvise in a scale you do not know yet over the whole
                fretboard.`},m(d,u){bt(d,t,u),bt(d,i,u),bt(d,n,u),bt(d,a,u),bt(d,o,u),bt(d,l,u),bt(d,c,u)},p:We,d(d){d&&(vt(t),vt(i),vt(n),vt(a),vt(o),vt(l),vt(c))}}}function H8t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st;function St(qt){e[14](qt)}let At={};e[3]!==void 0&&(At.value=e[3]),u=new eu({props:At}),he.push(()=>Ee(u,"value",St));function xt(qt){e[15](qt)}let gt={label:"show scale",title:"If active, the color hue will show whether notes are in the selected scale or not"};e[4]!==void 0&&(gt.checked=e[4]),f=new zn({props:gt}),he.push(()=>Ee(f,"checked",xt));function yt(qt){e[16](qt)}function lt(qt){e[17](qt)}function zt(qt){e[18](qt)}let kt={disabled:!e[4]};e[5]!==void 0&&(kt.scaleRoot=e[5]),e[6]!==void 0&&(kt.scaleType=e[6]),e[1]!==void 0&&(kt.scaleInfo=e[1]),y=new Uh({props:kt}),he.push(()=>Ee(y,"scaleRoot",yt)),he.push(()=>Ee(y,"scaleType",lt)),he.push(()=>Ee(y,"scaleInfo",zt));function Jt(qt){e[20](qt)}let Gt={saveToStorage:e[13]};e[7]!==void 0&&(Gt.notes=e[7]),I=new c9({props:Gt}),he.push(()=>Ee(I,"notes",Jt)),P=new _9({props:{appId:e[0].id,loadData:e[12]}});function ce(qt){e[22](qt)}let ae={callback:e[10]};return e[7]!==void 0&&(ae.notes=e[7]),U=new Oa({props:ae}),he.push(()=>Ee(U,"notes",ce)),G=new f9({props:{loadData:e[12],getExportData:e[11],appId:e[0].id}}),J=new e9({props:{$$slots:{default:[G8t]},$$scope:{ctx:e}}}),j=new i9({props:{appId:e[0].id}}),et=new j0({props:{noteOn:e[9]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing scales and improvisation on a guitar. The
            heatmap below shows how often you played each fretboard position. If
            a scale is shown, the color hue will tell you whether a note you
            played belongs to the scale or not.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),w=K(),_=q("div"),E=K(),S=q("div"),Pt(I.$$.fragment),k=K(),D=q("button"),D.textContent="example",N=K(),Pt(P.$$.fragment),F=K(),Pt(U.$$.fragment),z=K(),Pt(G.$$.fragment),H=K(),Pt(J.$$.fragment),Z=K(),Pt(j.$$.fragment),W=K(),Pt(et.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(_,"class","visualization"),mt(S,"class","control"),mt(t,"class","app")},m(qt,ue){bt(qt,t,ue),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(t,w),B(t,_),e[19](_),B(t,E),B(t,S),Rt(I,S,null),B(S,k),B(S,D),B(S,N),Rt(P,S,null),B(S,F),Rt(U,S,null),B(S,z),Rt(G,S,null),B(t,H),Rt(J,t,null),B(t,Z),Rt(j,t,null),B(t,W),Rt(et,t,null),dt=!0,ht||(st=ze(D,"click",e[21]),ht=!0)},p(qt,ue){(!dt||ue&1)&&n!==(n=qt[0].title+"")&&Qe(a,n);const $e={};!h&&ue&8&&(h=!0,$e.value=qt[3],_e(()=>h=!1)),u.$set($e);const ve={};!M&&ue&16&&(M=!0,ve.checked=qt[4],_e(()=>M=!1)),f.$set(ve);const He={};ue&16&&(He.disabled=!qt[4]),!b&&ue&32&&(b=!0,He.scaleRoot=qt[5],_e(()=>b=!1)),!v&&ue&64&&(v=!0,He.scaleType=qt[6],_e(()=>v=!1)),!C&&ue&2&&(C=!0,He.scaleInfo=qt[1],_e(()=>C=!1)),y.$set(He);const qe={};!T&&ue&128&&(T=!0,qe.notes=qt[7],_e(()=>T=!1)),I.$set(qe);const ri={};ue&1&&(ri.appId=qt[0].id),P.$set(ri);const oi={};!V&&ue&128&&(V=!0,oi.notes=qt[7],_e(()=>V=!1)),U.$set(oi);const oe={};ue&1&&(oe.appId=qt[0].id),G.$set(oe);const fe={};ue&268435456&&(fe.$$scope={dirty:ue,ctx:qt}),J.$set(fe);const pe={};ue&1&&(pe.appId=qt[0].id),j.$set(pe)},i(qt){dt||(wt(u.$$.fragment,qt),wt(f.$$.fragment,qt),wt(y.$$.fragment,qt),wt(I.$$.fragment,qt),wt(P.$$.fragment,qt),wt(U.$$.fragment,qt),wt(G.$$.fragment,qt),wt(J.$$.fragment,qt),wt(j.$$.fragment,qt),wt(et.$$.fragment,qt),dt=!0)},o(qt){It(u.$$.fragment,qt),It(f.$$.fragment,qt),It(y.$$.fragment,qt),It(I.$$.fragment,qt),It(P.$$.fragment,qt),It(U.$$.fragment,qt),It(G.$$.fragment,qt),It(J.$$.fragment,qt),It(j.$$.fragment,qt),It(et.$$.fragment,qt),dt=!1},d(qt){qt&&vt(t),Dt(u),Dt(f),Dt(y),e[19](null),Dt(I),Dt(P),Dt(U),Dt(G),Dt(J),Dt(j),Dt(et),ht=!1,st()}}}function V8t(e){let t,i;return t=new m9({props:{loadData:e[12],disabled:e[8],$$slots:{default:[H8t]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&268435711&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let kx=900,Lx=6,Y4=24;function Q8t(e,t,i){let n,{appInfo:a}=t,o=[64,59,55,50,45,40];const l=o.map(Fa);let c,d,u=200,h=!0,p="A",f="minor pentatonic",M=0,g=[],y;const b=(V,z,G,H)=>{if(!H)return!1;const J=(G[V]+z)%12;return n.has(J)},v=V=>{g.length===0&&(M=V.timestamp);const z=V.message.channel-1,G=V.note.number-o[z];if(G<0||G>Y4)return;const J={time:(V.timestamp-M)/1e3,number:V.note.number,velocity:V.rawVelocity,string:z,fret:G,channel:V.message.channel};i(7,g=[...g,J])},C=()=>{const V=g.slice(-u),z=(kx-100)/25,G=Aa(V,J=>J.string,J=>J.fret).flatMap(([J,Z])=>Z.map(([j,W])=>({string:J,fret:j,count:W.length}))),H=On({width:kx,aspectRatio:1,marginLeft:50,marginBottom:40,padding:0,x:{domain:fi(0,Y4+1),ticks:fi(0,Y4+1),tickSize:0},y:{domain:fi(0,Lx),tickFormat:J=>l[J],tickSize:0},color:{legend:h,marginLeft:100,width:400,scheme:"tableau10",domain:["in scale","not in scale"]},marks:[q9(fi(0,Y4+1),{stroke:"#ddd",dx:z/2}),T0(fi(0,Lx),{stroke:"#ddd",strokeWidth:J=>Math.sqrt(J+1)}),ea([3,5,7,9,15,17,19,21],{x:J=>J,y:2,dy:z/2,fill:"#ddd",r:8}),ea([12,12,24,24],{x:J=>J,y:(J,Z)=>Z%2===0?1:3,dy:z/2,fill:"#ddd",r:8}),E8(G,{x:"fret",y:"string",fill:h?J=>b(J.string,J.fret,o,d)?"in scale":"not in scale":"#4e79a7",opacity:"count",inset:5,rx:10,tip:!0}),J0(G,{text:J=>J.count,x:"fret",y:"string",fill:"black",stroke:"white",strokeWidth:3,paintOrder:"stroke"})]});i(2,c.textContent="",c),c.appendChild(H)};$9(C);const w=()=>({pastNoteCount:u,showScale:h,scaleRoot:p,scaleType:f,notes:g}),_=V=>{E(),i(3,u=V.pastNoteCount??200),i(4,h=V.showScale??!1),i(5,p=V.scaleRoot??"C"),i(6,f=V.scaleType??"major"),i(7,g=V.notes)},E=()=>{g.length>0&&JSON.stringify(g)!==JSON.stringify(Px.notes)&&C9(a.id,w())};c0(E);function S(V){u=V,i(3,u)}function I(V){h=V,i(4,h)}function T(V){p=V,i(5,p)}function k(V){f=V,i(6,f)}function D(V){d=V,i(1,d)}function N(V){he[V?"unshift":"push"](()=>{c=V,i(2,c)})}function P(V){g=V,i(7,g)}const F=()=>_(Px);function U(V){g=V,i(7,g)}return e.$$set=V=>{"appInfo"in V&&i(0,a=V.appInfo)},e.$$.update=()=>{e.$$.dirty&2&&(n=new Set(d?d.notes.map(V=>Ns.get(V)):[]))},[a,d,c,u,h,p,f,g,y,v,C,w,_,E,S,I,T,k,D,N,P,F,U]}class z8t extends Zi{constructor(t){super(),Yi(this,t,Q8t,V8t,Xi,{appInfo:0})}}const j8t="A",W8t="minor pentatonic",K8t=[{number:40,velocity:37,time:2350918,channel:6,string:5,fret:0},{number:51,velocity:25,time:2352454,channel:5,string:4,fret:6},{number:53,velocity:26,time:2.3532251000000015e6,channel:5,string:4,fret:8},{number:54,velocity:26,time:2354759,channel:5,string:4,fret:9},{number:54,velocity:53,time:2355472,channel:5,string:4,fret:9},{number:54,velocity:60,time:2355922,channel:5,string:4,fret:9},{number:45,velocity:59,time:2.3565161000000015e6,channel:5,string:4,fret:0},{number:45,velocity:68,time:2357219,channel:5,string:4,fret:0},{number:45,velocity:54,time:2358039,channel:5,string:4,fret:0},{number:64,velocity:23,time:2358541,channel:5,string:4,fret:19},{number:52,velocity:50,time:2358818,channel:5,string:4,fret:7},{number:52,velocity:54,time:2359522,channel:5,string:4,fret:7},{number:53,velocity:34,time:2360283,channel:5,string:4,fret:8},{number:50,velocity:78,time:2362538,channel:4,string:3,fret:0},{number:59,velocity:51,time:2363308,channel:3,string:2,fret:4},{number:62,velocity:41,time:2.3633171000000015e6,channel:3,string:2,fret:7},{number:62,velocity:48,time:2364013,channel:3,string:2,fret:7},{number:62,velocity:56,time:2364387,channel:3,string:2,fret:7},{number:62,velocity:54,time:2364806,channel:3,string:2,fret:7},{number:58,velocity:58,time:2365522,channel:4,string:3,fret:8},{number:58,velocity:64,time:2.3661131000000015e6,channel:4,string:3,fret:8},{number:59,velocity:74,time:2366564,channel:4,string:3,fret:9},{number:45,velocity:42,time:2367792,channel:6,string:5,fret:5},{number:45,velocity:56,time:2368309,channel:6,string:5,fret:5},{number:48,velocity:32,time:2368671,channel:6,string:5,fret:8},{number:48,velocity:23,time:2368756,channel:6,string:5,fret:8},{number:50,velocity:25,time:2369214,channel:5,string:4,fret:5},{number:52,velocity:40,time:2369748,channel:5,string:4,fret:7},{number:55,velocity:64,time:2370356,channel:4,string:3,fret:5},{number:57,velocity:68,time:2371007,channel:4,string:3,fret:7},{number:57,velocity:57,time:2372634,channel:4,string:3,fret:7}],q8t="fretboard-improvisation-intervals",X8t="2024-07-03T18:53:20.636Z",Nx={root:j8t,scale:W8t,notes:K8t,_appId:q8t,_date:X8t};function Y8t(e){let t,i,n,a,o,l,c;return{c(){t=q("p"),t.textContent="1) Go through the scale in steps of 1.",i=K(),n=q("p"),n.textContent="2) Go through the scale in steps of 2.",a=K(),o=q("p"),o.textContent="3) Go through the scale in steps of 3.",l=K(),c=q("p"),c.textContent="4) ..."},m(d,u){bt(d,t,u),bt(d,i,u),bt(d,n,u),bt(d,a,u),bt(d,o,u),bt(d,l,u),bt(d,c,u)},p:We,d(d){d&&(vt(t),vt(i),vt(n),vt(a),vt(o),vt(l),vt(c))}}}function Z8t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W;function et(lt){e[12](lt)}function dt(lt){e[13](lt)}let ht={};e[2]!==void 0&&(ht.scaleRoot=e[2]),e[3]!==void 0&&(ht.scaleType=e[3]),u=new Uh({props:ht}),he.push(()=>Ee(u,"scaleRoot",et)),he.push(()=>Ee(u,"scaleType",dt));function st(lt){e[14](lt)}let St={title:"Toggle between note names and scale steps",label:"note names"};e[4]!==void 0&&(St.checked=e[4]),M=new zn({props:St}),he.push(()=>Ee(M,"checked",st));function At(lt){e[15](lt)}let xt={title:"Limit frets to those that are in reach",label:"limit frets"};e[5]!==void 0&&(xt.checked=e[5]),b=new zn({props:xt}),he.push(()=>Ee(b,"checked",At));function gt(lt){e[17](lt)}let yt={saveToStorage:e[11]};return e[6]!==void 0&&(yt.notes=e[6]),S=new c9({props:yt}),he.push(()=>Ee(S,"notes",gt)),N=new _9({props:{appId:e[0].id,loadData:e[10]}}),F=new f9({props:{loadData:e[10],getExportData:e[9],appId:e[0].id}}),V=new e9({props:{$$slots:{default:[Y8t]},$$scope:{ctx:e}}}),G=new i9({props:{appId:e[0].id}}),J=new j0({props:{noteOn:e[8]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing scales on a guitar. Each time you play a
            note, the fretboard below shows you how far each note of the scale
            is away from the note you just played.`,c=K(),d=q("div"),Pt(u.$$.fragment),f=K(),Pt(M.$$.fragment),y=K(),Pt(b.$$.fragment),C=K(),w=q("div"),_=K(),E=q("div"),Pt(S.$$.fragment),T=K(),k=q("button"),k.textContent="example",D=K(),Pt(N.$$.fragment),P=K(),Pt(F.$$.fragment),U=K(),Pt(V.$$.fragment),z=K(),Pt(G.$$.fragment),H=K(),Pt(J.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(w,"class","visualization"),mt(E,"class","control"),mt(t,"class","app")},m(lt,zt){bt(lt,t,zt),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,f),Rt(M,d,null),B(d,y),Rt(b,d,null),B(t,C),B(t,w),e[16](w),B(t,_),B(t,E),Rt(S,E,null),B(E,T),B(E,k),B(E,D),Rt(N,E,null),B(E,P),Rt(F,E,null),B(t,U),Rt(V,t,null),B(t,z),Rt(G,t,null),B(t,H),Rt(J,t,null),Z=!0,j||(W=ze(k,"click",e[18]),j=!0)},p(lt,zt){(!Z||zt&1)&&n!==(n=lt[0].title+"")&&Qe(a,n);const kt={};!h&&zt&4&&(h=!0,kt.scaleRoot=lt[2],_e(()=>h=!1)),!p&&zt&8&&(p=!0,kt.scaleType=lt[3],_e(()=>p=!1)),u.$set(kt);const Jt={};!g&&zt&16&&(g=!0,Jt.checked=lt[4],_e(()=>g=!1)),M.$set(Jt);const Gt={};!v&&zt&32&&(v=!0,Gt.checked=lt[5],_e(()=>v=!1)),b.$set(Gt);const ce={};!I&&zt&64&&(I=!0,ce.notes=lt[6],_e(()=>I=!1)),S.$set(ce);const ae={};zt&1&&(ae.appId=lt[0].id),N.$set(ae);const qt={};zt&1&&(qt.appId=lt[0].id),F.$set(qt);const ue={};zt&8388608&&(ue.$$scope={dirty:zt,ctx:lt}),V.$set(ue);const $e={};zt&1&&($e.appId=lt[0].id),G.$set($e)},i(lt){Z||(wt(u.$$.fragment,lt),wt(M.$$.fragment,lt),wt(b.$$.fragment,lt),wt(S.$$.fragment,lt),wt(N.$$.fragment,lt),wt(F.$$.fragment,lt),wt(V.$$.fragment,lt),wt(G.$$.fragment,lt),wt(J.$$.fragment,lt),Z=!0)},o(lt){It(u.$$.fragment,lt),It(M.$$.fragment,lt),It(b.$$.fragment,lt),It(S.$$.fragment,lt),It(N.$$.fragment,lt),It(F.$$.fragment,lt),It(V.$$.fragment,lt),It(G.$$.fragment,lt),It(J.$$.fragment,lt),Z=!1},d(lt){lt&&vt(t),Dt(u),Dt(M),Dt(b),e[16](null),Dt(S),Dt(N),Dt(F),Dt(V),Dt(G),Dt(J),j=!1,W()}}}function t5t(e){let t,i;return t=new m9({props:{loadData:e[10],disabled:e[7],$$slots:{default:[Z8t]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&8388735&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let Fx=900,tM=6,Z4=24;function e5t(e,t,i){let{appInfo:n}=t,a,o="A",l="minor pentatonic",c=!1,d=!1,u,h=[],p=[64,59,55,50,45,40];const f=p.map(Fa);let M;const g=D=>{h.length===0&&(u=D.timestamp);const N=D.message.channel-1,P=D.note.number-p[N];if(P<0||P>Z4)return;const F=(D.timestamp-u)/1e3,U={number:D.note.number,velocity:D.rawVelocity,time:F,channel:D.message.channel,string:N,fret:P};i(6,h=[...h,U])};$9(()=>{const D=h.at(-1),N=[];if(D){const U=D.number%12,V=oa(`${o} ${l}`),z=new Map(V.notes.map((Z,j)=>{const W=Ns.get(Z);let et=W-U;et=et>=0?et:et+12;const dt={name:Z,chroma:W,interval:V.intervals[j],degree:j,offset:et};return[W,dt]}));if(!z.has(U))return;const G=z.get(U).degree;let H=0,J=Z4;d&&(H=D.fret-4,J=D.fret+4);for(let Z=0;Z<tM;Z++)for(let j=H;j<J+1;j++){const W=(p[Z]+j)%12;if(!z.has(W))continue;const et=z.get(W),dt=et.degree-G;N.push({...et,string:Z,fret:j,step:et.offset,degreeStep:dt>=0?dt:dt+z.size})}}const P=(Fx-100)/25,F=On({width:Fx,marginLeft:50,marginBottom:40,padding:0,aspectRatio:1,x:{domain:fi(0,Z4+1),tickSize:0},y:{domain:fi(0,tM),tickFormat:U=>f[U],tickSize:0},color:{legend:!0,marginLeft:100,width:400,type:"ordinal",scheme:"YlGnBu"},marks:[q9(fi(0,Z4+1),{stroke:"#ddd",dx:P/2}),T0(fi(0,tM),{stroke:"#ddd",strokeWidth:U=>Math.sqrt(U+1)}),ea([3,5,7,9,15,17,19,21],{x:U=>U,y:2,dy:P/2,fill:"#ddd",r:8}),ea([12,12,24,24],{x:U=>U,y:(U,V)=>V%2===0?1:3,dy:P/2,fill:"#ddd",r:8}),D?E8([D],{x:"fret",y:"string",fill:"black",tip:!0,inset:2,rx:5}):null,E8(N,{x:"fret",y:"string",fill:"degreeStep",inset:6,rx:10,tip:!0}),J0(N,{x:"fret",y:"string",fill:"white",text:c?"name":"degreeStep",stroke:"#aaa",strokeWidth:3})]});i(1,a.textContent="",a),a.appendChild(F)});const b=()=>({root:o,scale:l,notes:h}),v=D=>{C(),i(2,o=D.root),i(3,l=D.scale),i(6,h=D.notes)},C=()=>{h.length>0&&JSON.stringify(h)!==JSON.stringify(Nx.notes)&&C9(n.id,b())};c0(C);function w(D){o=D,i(2,o)}function _(D){l=D,i(3,l)}function E(D){c=D,i(4,c)}function S(D){d=D,i(5,d)}function I(D){he[D?"unshift":"push"](()=>{a=D,i(1,a)})}function T(D){h=D,i(6,h)}const k=()=>v(Nx);return e.$$set=D=>{"appInfo"in D&&i(0,n=D.appInfo)},[n,a,o,l,c,d,h,M,g,b,v,C,w,_,E,S,I,T,k]}class i5t extends Zi{constructor(t){super(),Yi(this,t,e5t,t5t,Xi,{appInfo:0})}}const n5t=200,r5t=120,a5t=1,o5t=[{number:57,velocity:10,time:0,channel:6,string:5,fret:17,stringJitter:4.870774994474234,fretJitter:17.090608296508734},{number:72,velocity:10,time:.027,channel:2,string:1,fret:13,stringJitter:.8650150651424099,fretJitter:13.11295716020685},{number:59,velocity:107,time:.057,channel:2,string:1,fret:0,stringJitter:.8508498552005976,fretJitter:.14616299668193503},{number:56,velocity:127,time:.181,channel:3,string:2,fret:1,stringJitter:2.1695795568695346,fretJitter:.9296611018413563},{number:67,velocity:91,time:.201,channel:2,string:1,fret:8,stringJitter:1.1889658105648357,fretJitter:7.8096999966066},{number:55,velocity:127,time:.207,channel:3,string:2,fret:0,stringJitter:1.8733642012278013,fretJitter:-.10314354501160575},{number:66,velocity:57,time:.447,channel:2,string:1,fret:7,stringJitter:1.1913111167955657,fretJitter:7.154417283343554},{number:64,velocity:50,time:.483,channel:2,string:1,fret:5,stringJitter:1.066479334636934,fretJitter:4.865780324163705},{number:62,velocity:98,time:.639,channel:3,string:2,fret:7,stringJitter:2.011915160566349,fretJitter:7.061040927965928},{number:60,velocity:99,time:.958,channel:3,string:2,fret:5,stringJitter:1.834319294266813,fretJitter:5.1782802097687375},{number:69,velocity:60,time:1.681,channel:4,string:3,fret:19,stringJitter:3.063808360551494,fretJitter:18.844890369188064},{number:56,velocity:127,time:1.724,channel:4,string:3,fret:6,stringJitter:2.986768091450192,fretJitter:5.803880901874204},{number:55,velocity:127,time:1.7470999999642371,channel:4,string:3,fret:5,stringJitter:2.9336184562125593,fretJitter:5.167371880427373},{number:57,velocity:127,time:2.036,channel:4,string:3,fret:7,stringJitter:3.1555405313277474,fretJitter:7.097418437674772},{number:60,velocity:114,time:2.212,channel:3,string:2,fret:5,stringJitter:1.9939841810531882,fretJitter:4.890774534717849},{number:62,velocity:127,time:2.482,channel:3,string:2,fret:7,stringJitter:2.1659795604675933,fretJitter:7.0238967596387685},{number:50,velocity:60,time:2.527,channel:4,string:3,fret:0,stringJitter:2.9552919399124775,fretJitter:-.06850501447887672},{number:62,velocity:127,time:2.667,channel:3,string:2,fret:7,stringJitter:2.0735730931839726,fretJitter:7.153751902533167},{number:63,velocity:127,time:2.717,channel:3,string:2,fret:8,stringJitter:2.0663790179497887,fretJitter:8.167464763520156},{number:62,velocity:124,time:2.819,channel:3,string:2,fret:7,stringJitter:2.1173963327811722,fretJitter:6.937231849107304},{number:61,velocity:125,time:3.015,channel:3,string:2,fret:6,stringJitter:1.8650628904503235,fretJitter:6.192232061445628},{number:60,velocity:127,time:3.022,channel:3,string:2,fret:5,stringJitter:2.0899742802966155,fretJitter:4.9944406626536155},{number:62,velocity:114,time:3.69,channel:3,string:2,fret:7,stringJitter:1.8915381430544236,fretJitter:7.101347566809528},{number:62,velocity:127,time:3.714,channel:3,string:2,fret:7,stringJitter:1.990712857298271,fretJitter:7.096059800620791},{number:60,velocity:109,time:4.028,channel:3,string:2,fret:5,stringJitter:1.8326192296256614,fretJitter:4.962567174726749},{number:62,velocity:127,time:4.195,channel:3,string:2,fret:7,stringJitter:2.140301782847658,fretJitter:6.844666417937308},{number:65,velocity:127,time:4.482,channel:2,string:1,fret:6,stringJitter:1.1055370343547017,fretJitter:5.987833721781384},{number:64,velocity:127,time:4.488,channel:2,string:1,fret:5,stringJitter:1.1091911074444354,fretJitter:4.816243110540677},{number:55,velocity:127,time:4.668,channel:3,string:2,fret:0,stringJitter:2.16870399201037,fretJitter:-.157968998797082},{number:67,velocity:123,time:4.718,channel:2,string:1,fret:8,stringJitter:.8894607917166144,fretJitter:8.134152267591373},{number:69,velocity:127,time:4.963,channel:1,string:0,fret:5,stringJitter:-.1920358222891542,fretJitter:4.909555654017212},{number:72,velocity:127,time:5.166,channel:1,string:0,fret:8,stringJitter:.00650824442213569,fretJitter:7.838513939561131},{number:69,velocity:127,time:5.462,channel:1,string:0,fret:5,stringJitter:-.06422411009435817,fretJitter:5.123390078681058},{number:67,velocity:127,time:5.623,channel:2,string:1,fret:8,stringJitter:1.0463074218008406,fretJitter:7.9834680151546955},{number:72,velocity:98,time:5.677,channel:1,string:0,fret:8,stringJitter:-.029133867179447215,fretJitter:8.014995077561673},{number:69,velocity:125,time:5.943,channel:1,string:0,fret:5,stringJitter:.06397854316761294,fretJitter:5.048755204374107},{number:67,velocity:125,time:6.138,channel:2,string:1,fret:8,stringJitter:1.0582045351199298,fretJitter:8.14561628834776},{number:64,velocity:127,time:6.448,channel:2,string:1,fret:5,stringJitter:.8303268155268488,fretJitter:4.996661887227701},{number:67,velocity:127,time:6.646,channel:2,string:1,fret:8,stringJitter:.9500058678367478,fretJitter:8.187115188336698},{number:68,velocity:127,time:6.972,channel:2,string:1,fret:9,stringJitter:.9634300707549752,fretJitter:8.824662950739807},{number:67,velocity:127,time:6.983,channel:2,string:1,fret:8,stringJitter:1.0025414897019367,fretJitter:7.886967407493172},{number:68,velocity:127,time:7.693,channel:2,string:1,fret:9,stringJitter:.928148006640448,fretJitter:9.001447806257092},{number:67,velocity:127,time:7.695,channel:2,string:1,fret:8,stringJitter:.933679939690432,fretJitter:7.984510690618104},{number:64,velocity:103,time:8.021,channel:2,string:1,fret:5,stringJitter:.9201257913325129,fretJitter:5.088728166044507},{number:67,velocity:72,time:8.156,channel:2,string:1,fret:8,stringJitter:1.138822134759328,fretJitter:7.998268848463912},{number:64,velocity:100,time:8.320099999964237,channel:2,string:1,fret:5,stringJitter:.8932936961833046,fretJitter:5.125205449283318},{number:57,velocity:71,time:8.435,channel:4,string:3,fret:7,stringJitter:2.834198999119531,fretJitter:6.92405498226274},{number:62,velocity:77,time:8.482,channel:3,string:2,fret:7,stringJitter:2.0009881425938434,fretJitter:7.149336579505983},{number:59,velocity:33,time:8.65,channel:3,string:2,fret:4,stringJitter:1.9245151073686717,fretJitter:4.074645721893821},{number:79,velocity:21,time:8.696,channel:3,string:2,fret:24,stringJitter:1.9066868134211148,fretJitter:24.1111098372597},{number:62,velocity:26,time:8.741,channel:3,string:2,fret:7,stringJitter:1.9778457616527345,fretJitter:6.8730305001976655},{number:62,velocity:98,time:8.803,channel:3,string:2,fret:7,stringJitter:2.0127192421442794,fretJitter:6.846724211326825},{number:60,velocity:104,time:8.963,channel:3,string:2,fret:5,stringJitter:2.077407939044083,fretJitter:5.041728506767928},{number:62,velocity:85,time:9.102,channel:3,string:2,fret:7,stringJitter:1.862929344823367,fretJitter:7.127582187081765},{number:62,velocity:114,time:9.119,channel:3,string:2,fret:7,stringJitter:1.9010776388122266,fretJitter:6.944530763739194},{number:61,velocity:86,time:9.273,channel:3,string:2,fret:6,stringJitter:1.8307843713998309,fretJitter:6.14338200465995},{number:60,velocity:92,time:9.277,channel:3,string:2,fret:5,stringJitter:2.1596316423925015,fretJitter:4.824427327941191},{number:50,velocity:75,time:9.321,channel:4,string:3,fret:0,stringJitter:3.176448397598218,fretJitter:.12442680316529407},{number:57,velocity:53,time:9.421,channel:4,string:3,fret:7,stringJitter:3.15172819464088,fretJitter:7.185209839082299},{number:57,velocity:96,time:9.443,channel:4,string:3,fret:7,stringJitter:2.891368445365628,fretJitter:6.8015851404422225},{number:60,velocity:81,time:9.596,channel:3,string:2,fret:5,stringJitter:1.8605053480273122,fretJitter:5.0233620005261095},{number:57,velocity:114,time:9.779,channel:4,string:3,fret:7,stringJitter:2.9056475124958943,fretJitter:7.1465123207614685},{number:55,velocity:107,time:9.959,channel:4,string:3,fret:5,stringJitter:2.9489559056335493,fretJitter:4.853784161989295},{number:57,velocity:127,time:10.12,channel:4,string:3,fret:7,stringJitter:2.9348692974889277,fretJitter:6.808511135221716},{number:55,velocity:123,time:10.293099999964237,channel:4,string:3,fret:5,stringJitter:3.138938739110819,fretJitter:5.127328493612097},{number:52,velocity:40,time:10.38,channel:5,string:4,fret:7,stringJitter:3.90157953660598,fretJitter:7.084352977110686},{number:52,velocity:69,time:10.475,channel:5,string:4,fret:7,stringJitter:3.8829478148203607,fretJitter:6.80287625812721},{number:55,velocity:113,time:10.655,channel:4,string:3,fret:5,stringJitter:2.9061301930205903,fretJitter:5.071689316603315},{number:52,velocity:83,time:10.82,channel:5,string:4,fret:7,stringJitter:4.119485766153384,fretJitter:6.897270268174128},{number:50,velocity:64,time:10.987,channel:5,string:4,fret:5,stringJitter:4.184415007428271,fretJitter:4.91700913955351},{number:52,velocity:114,time:11.156,channel:5,string:4,fret:7,stringJitter:4.170072999640859,fretJitter:7.039047729741841},{number:40,velocity:10,time:11.222,channel:6,string:5,fret:0,stringJitter:5.176633907329869,fretJitter:-.15469615663712563},{number:52,velocity:95,time:11.702,channel:5,string:4,fret:7,stringJitter:4.115817935749366,fretJitter:6.843691339546787},{number:50,velocity:85,time:12.016,channel:5,string:4,fret:5,stringJitter:4.133855246211612,fretJitter:5.128609815460686},{number:52,velocity:103,time:12.17,channel:5,string:4,fret:7,stringJitter:3.9207749982702693,fretJitter:6.816040925169917},{number:55,velocity:120,time:12.513,channel:4,string:3,fret:5,stringJitter:2.8415249998890104,fretJitter:4.883976704890596},{number:57,velocity:127,time:12.666,channel:4,string:3,fret:7,stringJitter:3.062851024992683,fretJitter:6.892645676210222},{number:60,velocity:124,time:12.951,channel:3,string:2,fret:5,stringJitter:2.0969709481093664,fretJitter:4.887827956200137},{number:58,velocity:127,time:13.523,channel:4,string:3,fret:8,stringJitter:3.165510770648714,fretJitter:8.019744652039975},{number:57,velocity:127,time:13.528,channel:4,string:3,fret:7,stringJitter:3.140922915841849,fretJitter:7.059753701216032},{number:61,velocity:127,time:13.7,channel:3,string:2,fret:6,stringJitter:2.1296038953563534,fretJitter:5.914502727522894},{number:60,velocity:127,time:13.716,channel:3,string:2,fret:5,stringJitter:1.9537427413969144,fretJitter:4.958068433035028},{number:62,velocity:127,time:13.995,channel:3,string:2,fret:7,stringJitter:1.932311502821683,fretJitter:6.8103700263710225},{number:64,velocity:67,time:14.189,channel:2,string:1,fret:5,stringJitter:.9023345506638972,fretJitter:4.801164831107244},{number:62,velocity:127,time:14.512,channel:3,string:2,fret:7,stringJitter:2.019991865204025,fretJitter:7.057688672955827},{number:64,velocity:126,time:14.694,channel:2,string:1,fret:5,stringJitter:1.0943126955047002,fretJitter:5.170460269914289},{number:67,velocity:127,time:14.988,channel:2,string:1,fret:8,stringJitter:.953498230031284,fretJitter:7.985424946534709},{number:72,velocity:127,time:15.696,channel:1,string:0,fret:8,stringJitter:-.06810144167726762,fretJitter:8.113810106006678},{number:69,velocity:88,time:15.981,channel:1,string:0,fret:5,stringJitter:-.14523974662351335,fretJitter:5.030776332399818},{number:67,velocity:126,time:16.153,channel:2,string:1,fret:8,stringJitter:.8235335230291996,fretJitter:7.824520138474284},{number:64,velocity:94,time:16.45,channel:2,string:1,fret:5,stringJitter:1.0259074002813153,fretJitter:4.813548211670583},{number:66,velocity:76,time:16.607099999964237,channel:2,string:1,fret:7,stringJitter:1.1114051996642804,fretJitter:7.010525335623978},{number:62,velocity:124,time:16.659,channel:3,string:2,fret:7,stringJitter:1.8825070122700995,fretJitter:7.1873654972006245},{number:60,velocity:94,time:16.957,channel:3,string:2,fret:5,stringJitter:1.9755952692167815,fretJitter:5.167898770605628},{number:57,velocity:10,time:17.091,channel:4,string:3,fret:7,stringJitter:3.1296526092912544,fretJitter:7.167117587379718},{number:57,velocity:127,time:17.146,channel:4,string:3,fret:7,stringJitter:3.139012569370285,fretJitter:6.996926607944783},{number:55,velocity:92,time:17.491,channel:4,string:3,fret:5,stringJitter:2.9013492536054226,fretJitter:4.826618966434138},{number:52,velocity:10,time:17.648,channel:5,string:4,fret:7,stringJitter:4.039406146280939,fretJitter:7.185413813331602},{number:52,velocity:90,time:17.668,channel:5,string:4,fret:7,stringJitter:4.175839072299418,fretJitter:6.961925286335912},{number:50,velocity:80,time:17.975,channel:5,string:4,fret:5,stringJitter:3.830497289574332,fretJitter:4.954752831009654},{number:48,velocity:86,time:18.177,channel:6,string:5,fret:8,stringJitter:5.127278644215734,fretJitter:8.182667793071559},{number:45,velocity:79,time:18.483,channel:6,string:5,fret:5,stringJitter:5.136517665303838,fretJitter:4.996259420769963},{number:49,velocity:86,time:18.653,channel:6,string:5,fret:9,stringJitter:4.829608999233003,fretJitter:8.905082090973583},{number:55,velocity:58,time:18.679,channel:6,string:5,fret:15,stringJitter:4.9431139011200855,fretJitter:14.900475423150437},{number:48,velocity:82,time:18.709,channel:6,string:5,fret:8,stringJitter:4.915142265412425,fretJitter:7.9504327017318595},{number:50,velocity:93,time:18.973,channel:5,string:4,fret:5,stringJitter:3.8080521368695246,fretJitter:5.017136596313949},{number:52,velocity:103,time:19.167,channel:5,string:4,fret:7,stringJitter:3.827689152659318,fretJitter:6.82181466049037},{number:47,velocity:10,time:19.174,channel:6,string:5,fret:7,stringJitter:4.914765135429919,fretJitter:6.930247549688568},{number:60,velocity:107,time:19.471,channel:3,string:2,fret:5,stringJitter:2.1605007642069736,fretJitter:4.899613263111161},{number:63,velocity:54,time:19.636,channel:4,string:3,fret:13,stringJitter:2.8580953591204254,fretJitter:12.853098784961405},{number:61,velocity:86,time:19.651,channel:3,string:2,fret:6,stringJitter:1.8340837510343868,fretJitter:5.834358841523306},{number:57,velocity:127,time:19.674,channel:4,string:3,fret:7,stringJitter:2.880784235078778,fretJitter:6.922684164492545},{number:55,velocity:98,time:19.999,channel:4,string:3,fret:5,stringJitter:2.99104480882221,fretJitter:4.8686908303221985},{number:57,velocity:94,time:20.147,channel:4,string:3,fret:7,stringJitter:3.1750581088906404,fretJitter:7.034761729418079},{number:57,velocity:116,time:20.178,channel:4,string:3,fret:7,stringJitter:3.149453197711056,fretJitter:7.186356389311324},{number:64,velocity:112,time:20.473,channel:2,string:1,fret:5,stringJitter:1.0612147122270226,fretJitter:5.056555745817575},{number:57,velocity:125,time:21.035,channel:4,string:3,fret:7,stringJitter:3.004722046871633,fretJitter:7.02391007700553},{number:64,velocity:127,time:21.223,channel:2,string:1,fret:5,stringJitter:.884095345736512,fretJitter:4.940418619523694},{number:68,velocity:127,time:21.53,channel:2,string:1,fret:9,stringJitter:.887564245616298,fretJitter:9.10497997458693},{number:67,velocity:127,time:21.538,channel:2,string:1,fret:8,stringJitter:.9982283841765287,fretJitter:8.165970103403748},{number:69,velocity:86,time:21.722,channel:1,string:0,fret:5,stringJitter:.15480635016430427,fretJitter:5.143641034285119},{number:67,velocity:115,time:21.991,channel:2,string:1,fret:8,stringJitter:1.0024769651533076,fretJitter:7.922545293734611},{number:72,velocity:57,time:22.018,channel:1,string:0,fret:8,stringJitter:.13200021302512965,fretJitter:7.863004431551827},{number:69,velocity:126,time:22.193,channel:1,string:0,fret:5,stringJitter:.14900155727835634,fretJitter:5.151427225750657},{number:72,velocity:118,time:22.446,channel:1,string:0,fret:8,stringJitter:-.10906672374757848,fretJitter:7.8959151222789},{number:64,velocity:122,time:22.666,channel:2,string:1,fret:5,stringJitter:.9641622271857521,fretJitter:5.051313398154096},{number:62,velocity:124,time:23.197,channel:3,string:2,fret:7,stringJitter:1.883592318877976,fretJitter:7.011260083804146},{number:64,velocity:127,time:23.571,channel:2,string:1,fret:5,stringJitter:.8204028962686142,fretJitter:4.90215252849374},{number:67,velocity:127,time:23.711,channel:2,string:1,fret:8,stringJitter:.9010929131628098,fretJitter:8.159734673781596},{number:63,velocity:127,time:24.179,channel:3,string:2,fret:8,stringJitter:1.9972190306885382,fretJitter:8.066641483203028},{number:62,velocity:127,time:24.194,channel:3,string:2,fret:7,stringJitter:1.846922435350621,fretJitter:7.100969193177205},{number:60,velocity:106,time:24.569,channel:3,string:2,fret:5,stringJitter:2.197438770676121,fretJitter:4.9031455272356395},{number:62,velocity:107,time:24.688,channel:3,string:2,fret:7,stringJitter:1.9808975129572988,fretJitter:6.826105839282053},{number:62,velocity:103,time:24.716,channel:3,string:2,fret:7,stringJitter:2.1430445538828593,fretJitter:6.989032492741688},{number:61,velocity:75,time:25.168,channel:3,string:2,fret:6,stringJitter:1.8517997507602124,fretJitter:6.194104607013286},{number:60,velocity:127,time:25.212,channel:3,string:2,fret:5,stringJitter:1.9202551636686276,fretJitter:5.070178275583635},{number:57,velocity:127,time:25.507,channel:4,string:3,fret:7,stringJitter:2.991362314371611,fretJitter:6.935611510340969},{number:57,velocity:37,time:26.111,channel:4,string:3,fret:7,stringJitter:2.9322832730205914,fretJitter:6.8567292717960004},{number:68,velocity:29,time:26.139,channel:4,string:3,fret:18,stringJitter:3.17963669338522,fretJitter:17.851928900092958},{number:58,velocity:127,time:26.169,channel:4,string:3,fret:8,stringJitter:3.116184144013366,fretJitter:8.197035650441638},{number:57,velocity:127,time:26.182,channel:4,string:3,fret:7,stringJitter:2.95364829713101,fretJitter:6.934391345512305},{number:55,velocity:119,time:26.51,channel:4,string:3,fret:5,stringJitter:2.9928755430793488,fretJitter:5.065380884085609},{number:45,velocity:58,time:26.606,channel:5,string:4,fret:0,stringJitter:3.8131826808261717,fretJitter:-.06760173047975533},{number:57,velocity:115,time:26.632,channel:4,string:3,fret:7,stringJitter:2.9277097726998766,fretJitter:6.807516336773283},{number:57,velocity:114,time:26.661,channel:4,string:3,fret:7,stringJitter:2.922075658166638,fretJitter:6.882567572262182},{number:55,velocity:122,time:26.821,channel:4,string:3,fret:5,stringJitter:2.9410232128038785,fretJitter:4.922046381336087},{number:52,velocity:78,time:26.979,channel:5,string:4,fret:7,stringJitter:4.120889751802098,fretJitter:7.0928877935166215},{number:55,velocity:110,time:27.135,channel:4,string:3,fret:5,stringJitter:2.933283717069664,fretJitter:5.154704573236231},{number:52,velocity:94,time:27.309,channel:5,string:4,fret:7,stringJitter:3.9720320150882653,fretJitter:7.193712685794758},{number:50,velocity:72,time:27.476,channel:5,string:4,fret:5,stringJitter:4.025119067346951,fretJitter:4.834324144966375},{number:52,velocity:54,time:27.606,channel:5,string:4,fret:7,stringJitter:3.827027586970033,fretJitter:6.849397855093968},{number:52,velocity:98,time:27.639,channel:5,string:4,fret:7,stringJitter:4.183828782191215,fretJitter:7.0389155124985505},{number:55,velocity:110,time:28.153,channel:4,string:3,fret:5,stringJitter:2.9757167393721478,fretJitter:5.121621949461754},{number:57,velocity:127,time:28.48,channel:4,string:3,fret:7,stringJitter:3.0733064210575227,fretJitter:7.150206685646756},{number:60,velocity:127,time:28.662,channel:3,string:2,fret:5,stringJitter:1.885098384458958,fretJitter:5.175862462605064},{number:58,velocity:127,time:29.15,channel:4,string:3,fret:8,stringJitter:2.9810683110914926,fretJitter:8.167004366509202},{number:57,velocity:127,time:29.156,channel:4,string:3,fret:7,stringJitter:3.1424510602203766,fretJitter:7.167635386160445},{number:61,velocity:72,time:29.182,channel:3,string:2,fret:6,stringJitter:2.0881712690109797,fretJitter:6.113267879811963},{number:60,velocity:107,time:29.529,channel:3,string:2,fret:5,stringJitter:1.8392006592873678,fretJitter:5.112961344630876},{number:62,velocity:127,time:29.677,channel:3,string:2,fret:7,stringJitter:2.1122378391274204,fretJitter:7.041508654701723},{number:64,velocity:109,time:29.995,channel:2,string:1,fret:5,stringJitter:1.1126867095673862,fretJitter:4.840290035918155},{number:64,velocity:108,time:30.191,channel:2,string:1,fret:5,stringJitter:.8035340226407326,fretJitter:4.935687461004342},{number:66,velocity:96,time:30.216,channel:2,string:1,fret:7,stringJitter:.9609337423777191,fretJitter:7.060743550729455},{number:64,velocity:124,time:30.516,channel:2,string:1,fret:5,stringJitter:.958298857009925,fretJitter:4.870539661970362},{number:67,velocity:115,time:30.712,channel:2,string:1,fret:8,stringJitter:.9964562516323688,fretJitter:7.954221877861566},{number:69,velocity:84,time:31.017,channel:1,string:0,fret:5,stringJitter:-.012799958740631468,fretJitter:4.802828649561037},{number:67,velocity:127,time:31.208,channel:2,string:1,fret:8,stringJitter:.844314976476753,fretJitter:8.161182545634647},{number:69,velocity:104,time:31.494,channel:1,string:0,fret:5,stringJitter:.11911426620747188,fretJitter:4.995509640537655},{number:67,velocity:127,time:31.689,channel:2,string:1,fret:8,stringJitter:.9980015664617263,fretJitter:8.186291883259267},{number:69,velocity:120,time:31.977,channel:1,string:0,fret:5,stringJitter:.0023600310977107243,fretJitter:4.9332683991005055},{number:72,velocity:121,time:32.157,channel:1,string:0,fret:8,stringJitter:.05371935193621109,fretJitter:8.105634651461529},{number:69,velocity:127,time:32.29709999996424,channel:1,string:0,fret:5,stringJitter:-.10609825292876014,fretJitter:4.88527506758763},{number:67,velocity:77,time:32.451,channel:2,string:1,fret:8,stringJitter:.9245895514668032,fretJitter:7.80292436945068},{number:69,velocity:54,time:32.613,channel:1,string:0,fret:5,stringJitter:-.04344205068067852,fretJitter:4.956192828362521},{number:72,velocity:35,time:32.78,channel:1,string:0,fret:8,stringJitter:-.15889973090303444,fretJitter:8.001947401560253},{number:69,velocity:91,time:32.931,channel:1,string:0,fret:5,stringJitter:-.030443240708923104,fretJitter:4.803647467481497},{number:67,velocity:102,time:33.092,channel:2,string:1,fret:8,stringJitter:.8222326936048193,fretJitter:7.8914201838759634},{number:69,velocity:94,time:33.253,channel:1,string:0,fret:5,stringJitter:-.007431539981455515,fretJitter:4.852196806829258},{number:72,velocity:78,time:33.408,channel:1,string:0,fret:8,stringJitter:-.1426298858727492,fretJitter:7.876511679059896},{number:69,velocity:116,time:33.549,channel:1,string:0,fret:5,stringJitter:-.04884755816532813,fretJitter:5.0829106758081295},{number:55,velocity:25,time:33.652,channel:3,string:2,fret:0,stringJitter:2.1966425017375726,fretJitter:-.031353324064697576},{number:67,velocity:103,time:33.708,channel:2,string:1,fret:8,stringJitter:1.1480719225384164,fretJitter:8.02543898325875},{number:69,velocity:101,time:33.843,channel:1,string:0,fret:5,stringJitter:-.07318519956131837,fretJitter:5.1060271268169535},{number:72,velocity:93,time:34.003,channel:1,string:0,fret:8,stringJitter:-.10416904992411516,fretJitter:8.120017156424314},{number:59,velocity:79,time:34.018,channel:2,string:1,fret:0,stringJitter:.935410578399565,fretJitter:.13816748895562378},{number:69,velocity:74,time:34.174,channel:1,string:0,fret:5,stringJitter:.1220849158059198,fretJitter:5.056473002288642},{number:59,velocity:100,time:34.41,channel:2,string:1,fret:0,stringJitter:.9022908291674315,fretJitter:-.043081259495924853},{number:69,velocity:100,time:34.576,channel:1,string:0,fret:5,stringJitter:.10093783838924547,fretJitter:5.083108476133278},{number:72,velocity:88,time:34.657,channel:1,string:0,fret:8,stringJitter:-.029838509614179644,fretJitter:7.992202646067868},{number:71,velocity:75,time:34.701,channel:1,string:0,fret:7,stringJitter:.1000996038240464,fretJitter:6.874826840487249},{number:69,velocity:74,time:34.716,channel:1,string:0,fret:5,stringJitter:-.04023525532366996,fretJitter:4.8685767356770215},{number:59,velocity:59,time:34.82,channel:2,string:1,fret:0,stringJitter:.9170104993968414,fretJitter:.11581557600262907},{number:78,velocity:38,time:34.918,channel:2,string:1,fret:19,stringJitter:.8397945213215909,fretJitter:19.09072696742954},{number:69,velocity:126,time:34.927,channel:1,string:0,fret:5,stringJitter:.14671552153510134,fretJitter:5.1987229631948955},{number:73,velocity:103,time:35.078,channel:1,string:0,fret:9,stringJitter:.11890563644880468,fretJitter:8.888171102731096},{number:75,velocity:94,time:35.121,channel:1,string:0,fret:11,stringJitter:.06295515824923328,fretJitter:10.829743505116504},{number:74,velocity:97,time:35.136,channel:1,string:0,fret:10,stringJitter:-.025290640336232607,fretJitter:9.845385951145346},{number:69,velocity:97,time:35.149,channel:1,string:0,fret:5,stringJitter:-.06386927854912221,fretJitter:5.062924761015217},{number:59,velocity:13,time:35.209,channel:2,string:1,fret:0,stringJitter:1.0128531201535989,fretJitter:.012345202193678429},{number:67,velocity:13,time:35.254,channel:2,string:1,fret:8,stringJitter:1.0838689197687332,fretJitter:7.8501622234130854},{number:69,velocity:87,time:35.343,channel:1,string:0,fret:5,stringJitter:-.04243064197952898,fretJitter:4.997237693327735},{number:72,velocity:69,time:35.469,channel:1,string:0,fret:8,stringJitter:-.0642721903902947,fretJitter:8.196476098700861},{number:69,velocity:25,time:35.519,channel:1,string:0,fret:5,stringJitter:-.1530490537296692,fretJitter:5.0476700062287945},{number:59,velocity:79,time:35.605,channel:2,string:1,fret:0,stringJitter:.9495500026679686,fretJitter:-.13589439835383788},{number:67,velocity:59,time:35.642,channel:2,string:1,fret:8,stringJitter:1.0558777253044824,fretJitter:7.908579960414473},{number:79,velocity:10,time:35.717,channel:1,string:0,fret:15,stringJitter:.16866531619811945,fretJitter:14.865906740097774},{number:69,velocity:91,time:35.735,channel:1,string:0,fret:5,stringJitter:-.1779976457759733,fretJitter:4.977978722345819},{number:72,velocity:77,time:35.861,channel:1,string:0,fret:8,stringJitter:-.005308436713906951,fretJitter:7.944447341747612},{number:69,velocity:74,time:35.919,channel:1,string:0,fret:5,stringJitter:.02282889754596225,fretJitter:5.107507805177342},{number:59,velocity:62,time:35.988,channel:2,string:1,fret:0,stringJitter:1.0605455839873277,fretJitter:.022545858492973192},{number:62,velocity:10,time:36.015,channel:3,string:2,fret:7,stringJitter:2.091242579131436,fretJitter:6.976306594325292},{number:63,velocity:10,time:36.039,channel:3,string:2,fret:8,stringJitter:1.8621991599894874,fretJitter:7.814699095197103},{number:67,velocity:40,time:36.062,channel:2,string:1,fret:8,stringJitter:1.0824754525777536,fretJitter:7.968800202321236},{number:69,velocity:94,time:36.117,channel:1,string:0,fret:5,stringJitter:-.0896031561482408,fretJitter:5.1065721956282175},{number:72,velocity:84,time:36.254,channel:1,string:0,fret:8,stringJitter:-.16080524408732613,fretJitter:8.041231550138345},{number:69,velocity:84,time:36.31,channel:1,string:0,fret:5,stringJitter:-.10430880816965855,fretJitter:5.03264924059074},{number:59,velocity:67,time:36.381,channel:2,string:1,fret:0,stringJitter:1.0419432258327268,fretJitter:-.13805350482585538},{number:69,velocity:35,time:36.53,channel:1,string:0,fret:5,stringJitter:-.14646016970435846,fretJitter:4.811812210532632},{number:72,velocity:46,time:36.644,channel:1,string:0,fret:8,stringJitter:-.0018394777331780965,fretJitter:8.04233550471676},{number:69,velocity:43,time:36.704,channel:1,string:0,fret:5,stringJitter:.0812720927943163,fretJitter:4.881658654538668},{number:59,velocity:21,time:36.734,channel:2,string:1,fret:0,stringJitter:.9909810532782992,fretJitter:.07315239322619825},{number:69,velocity:105,time:36.867,channel:1,string:0,fret:5,stringJitter:-.10205560135344821,fretJitter:4.896333869891087},{number:67,velocity:37,time:37.001,channel:2,string:1,fret:8,stringJitter:.8378778508322602,fretJitter:8.00602763411679},{number:55,velocity:102,time:37.02,channel:3,string:2,fret:0,stringJitter:1.836051061182433,fretJitter:-.16901824341817584},{number:59,velocity:39,time:37.108,channel:2,string:1,fret:0,stringJitter:1.0576197445676347,fretJitter:-.07088475719356158},{number:69,velocity:64,time:37.175,channel:1,string:0,fret:5,stringJitter:.07073199060293699,fretJitter:4.8888538731692535},{number:67,velocity:68,time:37.226,channel:2,string:1,fret:8,stringJitter:.891179546670158,fretJitter:7.853548532865852},{number:72,velocity:46,time:37.27,channel:1,string:0,fret:8,stringJitter:-.09099548498852635,fretJitter:7.824776668914604},{number:64,velocity:58,time:37.354,channel:2,string:1,fret:5,stringJitter:1.1105680728065421,fretJitter:5.076286624705771},{number:64,velocity:103,time:37.448,channel:2,string:1,fret:5,stringJitter:1.1896630554372103,fretJitter:5.1436390195721176},{number:67,velocity:92,time:37.559,channel:2,string:1,fret:8,stringJitter:.8064055037851148,fretJitter:8.189026172283619},{number:55,velocity:57,time:37.604,channel:3,string:2,fret:0,stringJitter:1.9535952863618304,fretJitter:.01462965382643251},{number:64,velocity:106,time:37.722,channel:2,string:1,fret:5,stringJitter:1.100929268363566,fretJitter:4.8771537051800475},{number:62,velocity:60,time:37.838,channel:4,string:3,fret:12,stringJitter:3.0302844702830756,fretJitter:12.111004725170615},{number:57,velocity:59,time:37.851,channel:4,string:3,fret:7,stringJitter:2.8833400430598255,fretJitter:7.1350476809218035},{number:62,velocity:75,time:37.864,channel:3,string:2,fret:7,stringJitter:2.019084474268965,fretJitter:7.00438040952829},{number:50,velocity:48,time:38.009,channel:4,string:3,fret:0,stringJitter:2.901406874901945,fretJitter:.020726218709406476},{number:63,velocity:113,time:38.334,channel:3,string:2,fret:8,stringJitter:1.9318285275220881,fretJitter:8.09198362301392},{number:62,velocity:107,time:38.371,channel:3,string:2,fret:7,stringJitter:1.971719384826905,fretJitter:6.83062518921348},{number:60,velocity:74,time:38.6,channel:3,string:2,fret:5,stringJitter:1.8154049619369668,fretJitter:5.1845264398220525},{number:62,velocity:50,time:38.736,channel:3,string:2,fret:7,stringJitter:1.9749396592766963,fretJitter:7.161470579863661},{number:62,velocity:104,time:38.742,channel:3,string:2,fret:7,stringJitter:1.8584007109990606,fretJitter:7.170738753573638},{number:62,velocity:88,time:39.217,channel:3,string:2,fret:7,stringJitter:2.051884146233624,fretJitter:6.850389548448266},{number:63,velocity:127,time:39.714,channel:3,string:2,fret:8,stringJitter:2.134753148111361,fretJitter:7.9517286105266365},{number:62,velocity:127,time:39.719,channel:3,string:2,fret:7,stringJitter:2.012980711349776,fretJitter:6.863213336678286},{number:60,velocity:101,time:40.042,channel:3,string:2,fret:5,stringJitter:2.123490354269521,fretJitter:5.0145545687850985},{number:57,velocity:112,time:40.222,channel:4,string:3,fret:7,stringJitter:2.8966704121837665,fretJitter:7.097656919445314},{number:60,velocity:95,time:40.511,channel:3,string:2,fret:5,stringJitter:1.9024181728848557,fretJitter:4.928810914882488},{number:57,velocity:89,time:40.705,channel:4,string:3,fret:7,stringJitter:3.194886728986162,fretJitter:7.0199305597775705},{number:56,velocity:72,time:40.925,channel:4,string:3,fret:6,stringJitter:2.9210092181407616,fretJitter:5.987318311318136},{number:55,velocity:105,time:40.977,channel:4,string:3,fret:5,stringJitter:3.1871920014480843,fretJitter:5.133033291445368},{number:57,velocity:102,time:41.155,channel:4,string:3,fret:7,stringJitter:2.851363993103446,fretJitter:6.803912494979277},{number:60,velocity:89,time:41.438,channel:3,string:2,fret:5,stringJitter:1.949738144417251,fretJitter:5.104273349029309},{number:57,velocity:109,time:41.636,channel:4,string:3,fret:7,stringJitter:2.8501115675049395,fretJitter:6.817993159811831},{number:57,velocity:127,time:42.147,channel:4,string:3,fret:7,stringJitter:2.9213703822788366,fretJitter:7.033451501144918},{number:55,velocity:101,time:42.48909999996424,channel:4,string:3,fret:5,stringJitter:3.1752811984942055,fretJitter:5.036376473681214},{number:57,velocity:103,time:42.655,channel:4,string:3,fret:7,stringJitter:3.0737265006221257,fretJitter:6.966727987464472},{number:60,velocity:97,time:42.96,channel:3,string:2,fret:5,stringJitter:2.0630228247130766,fretJitter:5.0866912584009745},{number:62,velocity:76,time:43.117,channel:3,string:2,fret:7,stringJitter:1.8201595343243118,fretJitter:6.860614901285562},{number:62,velocity:127,time:43.159,channel:3,string:2,fret:7,stringJitter:2.1976057924988583,fretJitter:7.0702756144608605},{number:62,velocity:114,time:43.675,channel:3,string:2,fret:7,stringJitter:1.9323924553036935,fretJitter:6.99840223914407},{number:62,velocity:104,time:44.163,channel:3,string:2,fret:7,stringJitter:2.0497641901662953,fretJitter:6.844172954075018},{number:62,velocity:112,time:44.674,channel:3,string:2,fret:7,stringJitter:2.08671208413052,fretJitter:6.931866550328385},{number:63,velocity:105,time:44.728,channel:3,string:2,fret:8,stringJitter:1.9390011660626711,fretJitter:8.160028882880463},{number:62,velocity:101,time:44.801,channel:3,string:2,fret:7,stringJitter:2.1656365075377364,fretJitter:7.1087302584176335},{number:64,velocity:118,time:45.135,channel:2,string:1,fret:5,stringJitter:.9021864084496672,fretJitter:4.889841090219721},{number:67,velocity:90,time:45.287,channel:2,string:1,fret:8,stringJitter:1.0903478506566995,fretJitter:8.179999706823132},{number:69,velocity:61,time:45.479,channel:1,string:0,fret:5,stringJitter:-.1421655446508881,fretJitter:4.888401838883206},{number:67,velocity:102,time:45.646,channel:2,string:1,fret:8,stringJitter:.9786653250054346,fretJitter:8.029863970324765},{number:67,velocity:127,time:46.137,channel:2,string:1,fret:8,stringJitter:1.0881539034069572,fretJitter:8.004238351016625},{number:69,velocity:92,time:46.311,channel:1,string:0,fret:5,stringJitter:-.07985546771002348,fretJitter:4.947204616738934},{number:67,velocity:98,time:46.474,channel:2,string:1,fret:8,stringJitter:1.1677553164885162,fretJitter:7.806188474338499},{number:69,velocity:100,time:46.64,channel:1,string:0,fret:5,stringJitter:-.07324167610455072,fretJitter:5.1505124901465935},{number:67,velocity:104,time:47.13609999996424,channel:2,string:1,fret:8,stringJitter:1.0630160378577518,fretJitter:8.092610356818547},{number:69,velocity:88,time:47.321,channel:1,string:0,fret:5,stringJitter:-.16610660429516183,fretJitter:5.003346546890875},{number:72,velocity:58,time:47.484,channel:1,string:0,fret:8,stringJitter:-.1861715496890824,fretJitter:8.064563757867695},{number:69,velocity:93,time:47.661,channel:1,string:0,fret:5,stringJitter:.1243881430593981,fretJitter:5.013037153812053},{number:67,velocity:67,time:47.841,channel:2,string:1,fret:8,stringJitter:1.1163793350980706,fretJitter:8.012056625929052},{number:69,velocity:54,time:48.004,channel:1,string:0,fret:5,stringJitter:.19601167156244853,fretJitter:4.857620924365958},{number:67,velocity:94,time:48.189,channel:2,string:1,fret:8,stringJitter:.8568022246996545,fretJitter:8.03677742913385},{number:72,velocity:50,time:48.309,channel:1,string:0,fret:8,stringJitter:.08934908117901452,fretJitter:7.839302073326138},{number:64,velocity:76,time:48.385,channel:2,string:1,fret:5,stringJitter:.8005196870048201,fretJitter:5.146791637782184},{number:67,velocity:93,time:48.534,channel:2,string:1,fret:8,stringJitter:1.0145348230220363,fretJitter:7.894014854837211},{number:64,velocity:108,time:48.695,channel:2,string:1,fret:5,stringJitter:1.008306989114023,fretJitter:5.144065589697519},{number:62,velocity:79,time:48.863,channel:3,string:2,fret:7,stringJitter:2.084252592276192,fretJitter:6.919202382410321},{number:64,velocity:37,time:49.02,channel:2,string:1,fret:5,stringJitter:1.0974931373761758,fretJitter:5.13105040228724},{number:62,velocity:57,time:49.199,channel:3,string:2,fret:7,stringJitter:1.8933724564442642,fretJitter:7.055846180697547},{number:60,velocity:94,time:49.358,channel:3,string:2,fret:5,stringJitter:1.8247809692545247,fretJitter:4.951738491186757},{number:62,velocity:77,time:49.535,channel:3,string:2,fret:7,stringJitter:2.1625792754435755,fretJitter:7.014803695755188},{number:60,velocity:97,time:49.696,channel:3,string:2,fret:5,stringJitter:1.9500299456422612,fretJitter:4.991562298665296},{number:57,velocity:81,time:49.857,channel:4,string:3,fret:7,stringJitter:3.0479046591017536,fretJitter:7.0873304523217735},{number:69,velocity:58,time:50.083,channel:4,string:3,fret:19,stringJitter:2.941984531948497,fretJitter:19.082709424539587},{number:57,velocity:95,time:50.201,channel:4,string:3,fret:7,stringJitter:2.9556954170729752,fretJitter:6.908156946757104},{number:55,velocity:105,time:50.381,channel:4,string:3,fret:5,stringJitter:3.1072877828434473,fretJitter:4.8718036019057},{number:57,velocity:102,time:50.544,channel:4,string:3,fret:7,stringJitter:3.1166092939671057,fretJitter:7.043748020505037},{number:60,velocity:51,time:50.678,channel:3,string:2,fret:5,stringJitter:1.955290708362066,fretJitter:5.054813735846013},{number:55,velocity:85,time:50.695,channel:4,string:3,fret:5,stringJitter:2.913501002047348,fretJitter:5.0062999933440855},{number:53,velocity:49,time:50.817,channel:5,string:4,fret:8,stringJitter:4.191977986245236,fretJitter:7.99514774683297},{number:52,velocity:35,time:50.837,channel:5,string:4,fret:7,stringJitter:4.080612717137754,fretJitter:6.8402594012607825},{number:55,velocity:102,time:51.008,channel:4,string:3,fret:5,stringJitter:3.1031231603908287,fretJitter:4.995639927136932},{number:52,velocity:10,time:51.154,channel:5,string:4,fret:7,stringJitter:4.1748874342358455,fretJitter:7.187825604328266},{number:52,velocity:76,time:51.185,channel:5,string:4,fret:7,stringJitter:4.1548912981479535,fretJitter:7.07280267281734},{number:50,velocity:76,time:51.35509999996424,channel:5,string:4,fret:5,stringJitter:3.8833598838996024,fretJitter:5.174376938556056},{number:52,velocity:75,time:51.524,channel:5,string:4,fret:7,stringJitter:4.013419500428835,fretJitter:6.983765653255494},{number:50,velocity:79,time:51.679,channel:5,string:4,fret:5,stringJitter:3.9819102066386023,fretJitter:4.956695480220507},{number:48,velocity:52,time:51.807,channel:6,string:5,fret:8,stringJitter:4.9573017337421765,fretJitter:7.838141016765197},{number:50,velocity:81,time:51.994,channel:5,string:4,fret:5,stringJitter:3.9826614871869728,fretJitter:4.977606301968235},{number:40,velocity:11,time:52.041,channel:6,string:5,fret:0,stringJitter:4.976509783739381,fretJitter:.010597349624815157},{number:48,velocity:86,time:52.197,channel:6,string:5,fret:8,stringJitter:4.818500375358039,fretJitter:7.888479648111101},{number:45,velocity:63,time:52.362,channel:6,string:5,fret:5,stringJitter:4.809698305514375,fretJitter:5.192939985903785},{number:48,velocity:51,time:52.535,channel:6,string:5,fret:8,stringJitter:5.029435321613987,fretJitter:8.078902476247965},{number:50,velocity:86,time:52.694,channel:5,string:4,fret:5,stringJitter:3.982018391197368,fretJitter:4.833841410962093},{number:52,velocity:75,time:52.866,channel:5,string:4,fret:7,stringJitter:4.005753416285654,fretJitter:7.107308546205666},{number:55,velocity:106,time:53.034,channel:4,string:3,fret:5,stringJitter:2.8158357287068845,fretJitter:5.0100875036756065},{number:52,velocity:66,time:53.199,channel:5,string:4,fret:7,stringJitter:4.086674129065649,fretJitter:6.9279018105644194},{number:55,velocity:104,time:53.354,channel:4,string:3,fret:5,stringJitter:3.1073519293387326,fretJitter:5.103254000745473},{number:45,velocity:35,time:53.48,channel:5,string:4,fret:0,stringJitter:3.883648834220861,fretJitter:.11498938762489229},{number:57,velocity:102,time:53.521,channel:4,string:3,fret:7,stringJitter:3.018372939501287,fretJitter:7.064678855834968},{number:60,velocity:120,time:53.665,channel:3,string:2,fret:5,stringJitter:2.150521839214837,fretJitter:4.9572685326618755},{number:55,velocity:104,time:53.69,channel:4,string:3,fret:5,stringJitter:2.864260944319082,fretJitter:5.010066070401434},{number:57,velocity:100,time:53.798,channel:4,string:3,fret:7,stringJitter:2.970663297624983,fretJitter:6.9619406008950495},{number:57,velocity:117,time:53.831,channel:4,string:3,fret:7,stringJitter:2.816173648977388,fretJitter:7.150942304247226},{number:60,velocity:108,time:53.978,channel:3,string:2,fret:5,stringJitter:1.880504028736476,fretJitter:5.128824663428119},{number:57,velocity:99,time:54.157,channel:4,string:3,fret:7,stringJitter:3.1916688016354366,fretJitter:7.066653180577689},{number:60,velocity:102,time:54.311,channel:3,string:2,fret:5,stringJitter:2.0793046896827003,fretJitter:5.19776138793097},{number:61,velocity:92,time:54.463,channel:3,string:2,fret:6,stringJitter:2.1075187937587345,fretJitter:6.032736000172516},{number:57,velocity:103,time:54.48,channel:4,string:3,fret:7,stringJitter:2.8845201205778515,fretJitter:6.981383745175143},{number:62,velocity:89,time:54.508,channel:3,string:2,fret:7,stringJitter:2.070252176924315,fretJitter:6.8977923345678045},{number:55,velocity:54,time:54.669,channel:3,string:2,fret:0,stringJitter:1.9248877938003788,fretJitter:-.0993134884079475},{number:62,velocity:121,time:54.825,channel:3,string:2,fret:7,stringJitter:1.8306281245447031,fretJitter:7.0147061060100695},{number:64,velocity:90,time:54.974,channel:2,string:1,fret:5,stringJitter:1.1819041934970695,fretJitter:5.118709407557059},{number:62,velocity:122,time:55.159,channel:3,string:2,fret:7,stringJitter:2.193467129071222,fretJitter:7.130081695953012},{number:64,velocity:77,time:55.325,channel:2,string:1,fret:5,stringJitter:.9158707802601468,fretJitter:4.931937732751385},{number:67,velocity:69,time:55.5,channel:2,string:1,fret:8,stringJitter:.9332197329221315,fretJitter:7.856344897531089},{number:64,velocity:107,time:55.646,channel:2,string:1,fret:5,stringJitter:.9630578564643038,fretJitter:5.1162552129852354},{number:55,velocity:10,time:55.748,channel:3,string:2,fret:0,stringJitter:1.9570266139251873,fretJitter:-.030838405647034328},{number:67,velocity:112,time:55.81,channel:2,string:1,fret:8,stringJitter:1.0251218602407823,fretJitter:7.935666354468747},{number:69,velocity:78,time:55.979,channel:1,string:0,fret:5,stringJitter:-.17757783967999075,fretJitter:5.055054330026915},{number:67,velocity:125,time:56.16,channel:2,string:1,fret:8,stringJitter:.8914640232779613,fretJitter:7.873389087487304},{number:69,velocity:32,time:56.331,channel:1,string:0,fret:5,stringJitter:-.1343666914034201,fretJitter:4.9203033104591265},{number:72,velocity:56,time:56.516,channel:1,string:0,fret:8,stringJitter:.0898727356424792,fretJitter:8.021387408821212},{number:72,velocity:114,time:56.682,channel:1,string:0,fret:8,stringJitter:-.12003064023258654,fretJitter:7.828019508615292},{number:59,velocity:26,time:57.123,channel:2,string:1,fret:0,stringJitter:.8458198188946604,fretJitter:-.1821709141450315},{number:72,velocity:66,time:57.16,channel:1,string:0,fret:8,stringJitter:-.11670026118672708,fretJitter:7.8276280491672905},{number:69,velocity:51,time:57.459,channel:1,string:0,fret:5,stringJitter:.15049909440610884,fretJitter:4.965055923232223},{number:72,velocity:44,time:57.615,channel:1,string:0,fret:8,stringJitter:-.11393619796148435,fretJitter:7.881421395142597},{number:72,velocity:58,time:57.64,channel:1,string:0,fret:8,stringJitter:-.1687678305507234,fretJitter:7.843425189735614},{number:72,velocity:98,time:57.949,channel:1,string:0,fret:8,stringJitter:.009318425833326227,fretJitter:8.007606606722744},{number:78,velocity:10,time:58.643,channel:2,string:1,fret:19,stringJitter:.9829561926886227,fretJitter:18.907421956404658},{number:60,velocity:127,time:58.662,channel:2,string:1,fret:1,stringJitter:1.0862796557948013,fretJitter:1.0040463182016746},{number:62,velocity:127,time:58.687,channel:2,string:1,fret:3,stringJitter:.8464761331795707,fretJitter:2.936106909849226},{number:72,velocity:106,time:58.694,channel:1,string:0,fret:8,stringJitter:-.18648985587005315,fretJitter:7.908059411232611},{number:73,velocity:40,time:58.999,channel:1,string:0,fret:9,stringJitter:.0311591562791814,fretJitter:9.118376260457282},{number:69,velocity:99,time:59.012,channel:1,string:0,fret:5,stringJitter:.15786169715864506,fretJitter:4.919942635677383},{number:72,velocity:112,time:59.2,channel:1,string:0,fret:8,stringJitter:-.0010344582393404522,fretJitter:8.115612982664594},{number:72,velocity:125,time:59.488,channel:1,string:0,fret:8,stringJitter:-.0013941389135349704,fretJitter:8.11697561670481},{number:73,velocity:96,time:59.688,channel:1,string:0,fret:9,stringJitter:-.16807224123509468,fretJitter:8.989530785380763},{number:72,velocity:95,time:59.718,channel:1,string:0,fret:8,stringJitter:-.01390890586576834,fretJitter:8.03144438756448},{number:69,velocity:26,time:60.015,channel:1,string:0,fret:5,stringJitter:-.17442960974589924,fretJitter:4.883607659070321},{number:67,velocity:122,time:60.182,channel:2,string:1,fret:8,stringJitter:1.1793863697105273,fretJitter:7.87889818943959},{number:72,velocity:20,time:60.211,channel:1,string:0,fret:8,stringJitter:.077089569326378,fretJitter:7.959494395038364},{number:64,velocity:80,time:60.485,channel:2,string:1,fret:5,stringJitter:1.1274540698121527,fretJitter:4.9936672209924815},{number:67,velocity:110,time:60.655,channel:2,string:1,fret:8,stringJitter:.9954516812161397,fretJitter:7.956642455355126},{number:67,velocity:123,time:60.924,channel:2,string:1,fret:8,stringJitter:1.1344237236898784,fretJitter:7.902686164528108},{number:67,velocity:119,time:61.66,channel:2,string:1,fret:8,stringJitter:1.1887773244517559,fretJitter:7.847779066858576},{number:64,velocity:106,time:61.994,channel:2,string:1,fret:5,stringJitter:.8006711911707426,fretJitter:5.087357504864669},{number:62,velocity:127,time:62.16,channel:3,string:2,fret:7,stringJitter:2.076805831237895,fretJitter:7.035524395192019},{number:64,velocity:76,time:62.463,channel:2,string:1,fret:5,stringJitter:1.1175512754591326,fretJitter:5.105190878889423},{number:62,velocity:118,time:62.658,channel:3,string:2,fret:7,stringJitter:2.160496756223566,fretJitter:7.107589048379128},{number:60,velocity:111,time:62.976,channel:3,string:2,fret:5,stringJitter:2.171072330896841,fretJitter:5.0203243085466225},{number:62,velocity:118,time:63.161,channel:3,string:2,fret:7,stringJitter:1.830643055565577,fretJitter:6.98298835372689},{number:62,velocity:127,time:63.701,channel:3,string:2,fret:7,stringJitter:2.033972117908387,fretJitter:7.13487402031933},{number:61,velocity:127,time:64.197,channel:3,string:2,fret:6,stringJitter:2.0255034364282607,fretJitter:6.000433624958218},{number:62,velocity:117,time:64.275,channel:3,string:2,fret:7,stringJitter:2.108086721082207,fretJitter:7.151527149522695},{number:62,velocity:127,time:64.709,channel:3,string:2,fret:7,stringJitter:1.812738903974191,fretJitter:6.944505343707454},{number:58,velocity:127,time:65.205,channel:4,string:3,fret:8,stringJitter:3.0057662889219063,fretJitter:8.003822773270997},{number:57,velocity:127,time:65.218,channel:4,string:3,fret:7,stringJitter:3.1602577640342475,fretJitter:7.033443209812381},{number:40,velocity:10,time:69.737,channel:6,string:5,fret:0,stringJitter:5.132238848383573,fretJitter:-.10074341329508202},{number:49,velocity:10,time:69.915,channel:6,string:5,fret:9,stringJitter:4.880162136333478,fretJitter:9.00947735511814}],s5t="fretboard-jitter",l5t="0.23.3",c5t="2024-11-26T15:33:00.235Z",u5t={pastNoteCount:n5t,tempo:r5t,barsPerFacet:a5t,notes:o5t,_appId:s5t,_softwareVersion:l5t,_date:c5t},d5t=200,h5t=120,f5t=1,m5t=[{number:64,velocity:29,time:0,channel:1,string:0,fret:0,stringJitter:-.026249797189371996,fretJitter:.1947124998537902},{number:73,velocity:10,time:.456,channel:1,string:0,fret:9,stringJitter:.08956118430902543,fretJitter:9.028756420252714},{number:72,velocity:115,time:.475,channel:1,string:0,fret:8,stringJitter:-.1910320672122109,fretJitter:7.898964388770507},{number:69,velocity:61,time:.636,channel:1,string:0,fret:5,stringJitter:-.06847269855902978,fretJitter:5.158936479457177},{number:72,velocity:61,time:.779,channel:1,string:0,fret:8,stringJitter:.17048856551539737,fretJitter:8.015142560206046},{number:67,velocity:118,time:.786,channel:2,string:1,fret:8,stringJitter:1.0415311333202515,fretJitter:8.101214257606241},{number:69,velocity:101,time:.926,channel:1,string:0,fret:5,stringJitter:.13171360755321856,fretJitter:4.982488411717282},{number:67,velocity:77,time:1.107,channel:2,string:1,fret:8,stringJitter:.8044634644597203,fretJitter:7.9656767897496445},{number:72,velocity:75,time:1.113,channel:1,string:0,fret:8,stringJitter:.15770523776113254,fretJitter:7.9761491295605635},{number:64,velocity:87,time:1.261,channel:2,string:1,fret:5,stringJitter:.9404824163260892,fretJitter:4.9679352406750255},{number:64,velocity:107,time:1.437,channel:2,string:1,fret:5,stringJitter:.8675966787742779,fretJitter:5.045066159391749},{number:67,velocity:76,time:1.547,channel:2,string:1,fret:8,stringJitter:1.1663247760198512,fretJitter:8.012647628549216},{number:67,velocity:75,time:1.587,channel:2,string:1,fret:8,stringJitter:.8704463153141341,fretJitter:8.185910478972083},{number:64,velocity:54,time:1.662,channel:2,string:1,fret:5,stringJitter:1.0993151374873185,fretJitter:5.199265323384218},{number:57,velocity:40,time:1.739,channel:4,string:3,fret:7,stringJitter:3.196920761525572,fretJitter:7.024241804228874},{number:64,velocity:33,time:1.765,channel:4,string:3,fret:14,stringJitter:3.0542455589770463,fretJitter:13.845581015967564},{number:62,velocity:107,time:1.766,channel:3,string:2,fret:7,stringJitter:1.835682042183235,fretJitter:6.968434208667611},{number:61,velocity:48,time:1.84,channel:2,string:1,fret:2,stringJitter:1.1447181525674928,fretJitter:2.1187456363214063},{number:64,velocity:118,time:1.902,channel:2,string:1,fret:5,stringJitter:1.1462170502097697,fretJitter:4.977066345368794},{number:62,velocity:88,time:2.079,channel:3,string:2,fret:7,stringJitter:2.1556908278511733,fretJitter:7.147087683683274},{number:60,velocity:69,time:2.246,channel:3,string:2,fret:5,stringJitter:2.055174046528611,fretJitter:5.190437436950799},{number:63,velocity:116,time:2.418,channel:3,string:2,fret:8,stringJitter:2.165538964303574,fretJitter:8.195899530768314},{number:62,velocity:110,time:2.435,channel:3,string:2,fret:7,stringJitter:1.8219270755720827,fretJitter:7.161009696943098},{number:63,velocity:127,time:2.929,channel:3,string:2,fret:8,stringJitter:1.815702719066449,fretJitter:8.034338735228152},{number:62,velocity:125,time:3.015,channel:3,string:2,fret:7,stringJitter:1.9094544816733086,fretJitter:7.089364643912184},{number:63,velocity:115,time:3.16,channel:3,string:2,fret:8,stringJitter:2.10618978679038,fretJitter:7.873033873080753},{number:62,velocity:112,time:3.276,channel:3,string:2,fret:7,stringJitter:1.858094586506007,fretJitter:6.904004873524367},{number:63,velocity:126,time:3.426,channel:3,string:2,fret:8,stringJitter:2.1583016162607684,fretJitter:8.083842567058026},{number:62,velocity:126,time:3.463,channel:3,string:2,fret:7,stringJitter:1.9934103092532243,fretJitter:7.107650281958625},{number:63,velocity:119,time:3.608,channel:3,string:2,fret:8,stringJitter:1.8616287038402015,fretJitter:7.954315161954486},{number:62,velocity:116,time:3.696,channel:3,string:2,fret:7,stringJitter:1.8983354798261018,fretJitter:6.98917227484955},{number:64,velocity:127,time:3.907,channel:3,string:2,fret:9,stringJitter:1.9078899389032111,fretJitter:8.95811049215081},{number:63,velocity:127,time:3.915,channel:3,string:2,fret:8,stringJitter:2.0362999780155002,fretJitter:8.067679088070333},{number:64,velocity:123,time:3.944,channel:3,string:2,fret:9,stringJitter:2.1193421810945043,fretJitter:8.949292431909766},{number:65,velocity:123,time:3.974,channel:3,string:2,fret:10,stringJitter:2.1460288194182877,fretJitter:9.938080637650405},{number:66,velocity:123,time:4.001,channel:3,string:2,fret:11,stringJitter:1.9416739880121043,fretJitter:11.09125717740057},{number:67,velocity:121,time:4.032,channel:3,string:2,fret:12,stringJitter:1.9017402950333229,fretJitter:11.895704592434736},{number:68,velocity:117,time:4.073,channel:3,string:2,fret:13,stringJitter:2.1909024012160954,fretJitter:13.041256015941553},{number:59,velocity:106,time:4.188,channel:2,string:1,fret:0,stringJitter:.8355910998864583,fretJitter:-.09984785081399083},{number:70,velocity:124,time:4.399,channel:3,string:2,fret:15,stringJitter:2.0397434144633495,fretJitter:14.830147399424707},{number:69,velocity:122,time:4.407,channel:3,string:2,fret:14,stringJitter:1.950608058698017,fretJitter:13.839466210159921},{number:72,velocity:77,time:4.56,channel:2,string:1,fret:13,stringJitter:1.1229595526239535,fretJitter:12.89661392758628},{number:76,velocity:112,time:4.728,channel:1,string:0,fret:12,stringJitter:.023560499482004983,fretJitter:11.897441318000755},{number:79,velocity:117,time:4.906,channel:1,string:0,fret:15,stringJitter:.004959974138237034,fretJitter:15.002389585406995},{number:76,velocity:68,time:5.266,channel:1,string:0,fret:12,stringJitter:.12962149686502694,fretJitter:12.095305201327054},{number:72,velocity:125,time:5.458,channel:2,string:1,fret:13,stringJitter:.8353460536489752,fretJitter:12.93431630127007},{number:73,velocity:116,time:5.792,channel:2,string:1,fret:14,stringJitter:.9464967345011769,fretJitter:13.803424712476914},{number:74,velocity:117,time:5.816,channel:2,string:1,fret:15,stringJitter:1.054795121566402,fretJitter:14.901563113951813},{number:77,velocity:18,time:6.903,channel:2,string:1,fret:18,stringJitter:1.0889458348953995,fretJitter:17.943488532719265},{number:69,velocity:127,time:6.924,channel:2,string:1,fret:10,stringJitter:1.0003205483875681,fretJitter:10.106657892397983},{number:67,velocity:125,time:6.932,channel:2,string:1,fret:8,stringJitter:.9886199587498041,fretJitter:7.99297512908597},{number:74,velocity:74,time:7.428,channel:3,string:2,fret:19,stringJitter:1.9120451577961346,fretJitter:18.899604464237463},{number:76,velocity:126,time:7.586,channel:2,string:1,fret:17,stringJitter:.9921302800975027,fretJitter:17.120312573069317},{number:81,velocity:50,time:7.742,channel:1,string:0,fret:17,stringJitter:.13448583518970764,fretJitter:17.00334537498874},{number:83,velocity:39,time:7.906,channel:1,string:0,fret:19,stringJitter:.16186994084772738,fretJitter:19.11056502526487},{number:79,velocity:127,time:7.912099999964237,channel:2,string:1,fret:20,stringJitter:1.1621587169489236,fretJitter:20.116803356222192},{number:81,velocity:123,time:8.088099999964237,channel:1,string:0,fret:17,stringJitter:-.001618274301426137,fretJitter:17.08079481264787},{number:82,velocity:96,time:8.167,channel:1,string:0,fret:18,stringJitter:-.11094646644973585,fretJitter:17.990643927694123},{number:79,velocity:127,time:8.228,channel:2,string:1,fret:20,stringJitter:.9739814843317595,fretJitter:19.891279515473478},{number:81,velocity:96,time:8.397,channel:1,string:0,fret:17,stringJitter:.0954202130695741,fretJitter:16.944137327982524},{number:78,velocity:127,time:8.549,channel:2,string:1,fret:19,stringJitter:.9738299158277527,fretJitter:19.174215167016015},{number:84,velocity:70,time:8.573099999964237,channel:1,string:0,fret:20,stringJitter:.16826960659684664,fretJitter:19.843860678534845},{number:81,velocity:78,time:8.726,channel:1,string:0,fret:17,stringJitter:.15624504468588354,fretJitter:17.178186753001828},{number:79,velocity:127,time:8.902,channel:2,string:1,fret:20,stringJitter:.9189119513959164,fretJitter:19.911643503864894},{number:83,velocity:54,time:8.907,channel:1,string:0,fret:19,stringJitter:-.08256596322079757,fretJitter:18.945371786006216},{number:79,velocity:127,time:9.428,channel:2,string:1,fret:20,stringJitter:1.0473761335857552,fretJitter:20.00801993729124},{number:78,velocity:113,time:9.572,channel:2,string:1,fret:19,stringJitter:.8077004968409148,fretJitter:18.82536638117171},{number:77,velocity:121,time:9.574,channel:2,string:1,fret:18,stringJitter:.9881448471395221,fretJitter:17.90900426760115},{number:76,velocity:108,time:9.588,channel:2,string:1,fret:17,stringJitter:1.1737631236433228,fretJitter:17.01838985107802},{number:77,velocity:99,time:9.675,channel:2,string:1,fret:18,stringJitter:.9963300275319044,fretJitter:17.932573730261954},{number:75,velocity:109,time:9.722,channel:3,string:2,fret:20,stringJitter:2.0504461544037293,fretJitter:20.170977120472088},{number:74,velocity:75,time:9.832,channel:3,string:2,fret:19,stringJitter:2.0680883837327264,fretJitter:19.132460859832094},{number:76,velocity:98,time:9.861,channel:2,string:1,fret:17,stringJitter:1.116793332605943,fretJitter:17.17530464796068},{number:55,velocity:75,time:9.893,channel:3,string:2,fret:0,stringJitter:2.002579151681899,fretJitter:-.017430829012749085},{number:74,velocity:93,time:10.032,channel:3,string:2,fret:19,stringJitter:2.0281133362098416,fretJitter:19.00885402570485},{number:74,velocity:96,time:10.187,channel:3,string:2,fret:19,stringJitter:2.17057995675089,fretJitter:18.97503591040487},{number:73,velocity:93,time:10.198,channel:3,string:2,fret:18,stringJitter:1.9112905908548015,fretJitter:17.88279337952917},{number:72,velocity:83,time:10.212,channel:3,string:2,fret:17,stringJitter:1.9072305782505912,fretJitter:16.81712739368261},{number:74,velocity:54,time:10.373,channel:3,string:2,fret:19,stringJitter:1.8700927174159856,fretJitter:19.044546277245452},{number:72,velocity:104,time:10.529,channel:3,string:2,fret:17,stringJitter:1.9178549757609518,fretJitter:16.823038141675237},{number:69,velocity:58,time:10.723,channel:4,string:3,fret:19,stringJitter:2.8604312605216546,fretJitter:18.88818679161126},{number:70,velocity:35,time:10.851,channel:4,string:3,fret:20,stringJitter:3.1959495014902877,fretJitter:20.07015039510864},{number:72,velocity:69,time:10.887,channel:3,string:2,fret:17,stringJitter:1.9597169503024008,fretJitter:16.8807017314213},{number:69,velocity:35,time:11.037,channel:4,string:3,fret:19,stringJitter:2.945025207345979,fretJitter:19.034951351798828},{number:67,velocity:95,time:11.256,channel:4,string:3,fret:17,stringJitter:2.9640090291343646,fretJitter:17.168183569058687},{number:69,velocity:87,time:11.433,channel:4,string:3,fret:19,stringJitter:2.827376202273535,fretJitter:19.193462753661827},{number:69,velocity:127,time:11.936,channel:4,string:3,fret:19,stringJitter:2.9392881250832126,fretJitter:18.941185186931087},{number:72,velocity:108,time:12.282,channel:3,string:2,fret:17,stringJitter:1.9548016727767559,fretJitter:16.822621498852918},{number:74,velocity:127,time:12.44,channel:3,string:2,fret:19,stringJitter:2.052210416646936,fretJitter:18.812775547660642},{number:74,velocity:115,time:12.726,channel:3,string:2,fret:19,stringJitter:1.9768760607490825,fretJitter:18.957637887818517},{number:75,velocity:108,time:12.84,channel:3,string:2,fret:20,stringJitter:1.9588434428855908,fretJitter:20.07194031165072},{number:74,velocity:112,time:12.907,channel:3,string:2,fret:19,stringJitter:1.8250389031399263,fretJitter:19.061981873522516},{number:72,velocity:101,time:13.26,channel:3,string:2,fret:17,stringJitter:1.8761240733941675,fretJitter:16.881138879991134},{number:74,velocity:97,time:13.44,channel:3,string:2,fret:19,stringJitter:1.8977822418799564,fretJitter:19.02830160248961},{number:74,velocity:127,time:13.943,channel:3,string:2,fret:19,stringJitter:2.161699166140783,fretJitter:19.132628613991074},{number:75,velocity:123,time:13.986,channel:3,string:2,fret:20,stringJitter:2.128728765621713,fretJitter:19.887595760552017},{number:74,velocity:119,time:14.044,channel:3,string:2,fret:19,stringJitter:1.929581295049661,fretJitter:19.180196504610993},{number:76,velocity:80,time:14.248,channel:2,string:1,fret:17,stringJitter:1.1883111643090447,fretJitter:16.976040577048828},{number:78,velocity:58,time:14.391,channel:2,string:1,fret:19,stringJitter:1.1018688814925008,fretJitter:19.19332047889599},{number:79,velocity:34,time:14.427,channel:2,string:1,fret:20,stringJitter:.9243392685604294,fretJitter:20.09645333468265},{number:81,velocity:10,time:14.587,channel:1,string:0,fret:17,stringJitter:-.17309036793744215,fretJitter:17.051324465192295},{number:79,velocity:10,time:14.737,channel:2,string:1,fret:20,stringJitter:.88949105900806,fretJitter:20.102799145939866},{number:79,velocity:114,time:14.772,channel:2,string:1,fret:20,stringJitter:1.0250741676434274,fretJitter:20.0195887024165},{number:80,velocity:96,time:14.928,channel:2,string:1,fret:21,stringJitter:.9202782780857139,fretJitter:20.931942442806115},{number:81,velocity:115,time:14.962,channel:1,string:0,fret:17,stringJitter:-.1714723566933464,fretJitter:16.837453523610595},{number:79,velocity:85,time:15.141,channel:2,string:1,fret:20,stringJitter:.9395089799427263,fretJitter:19.886023877886526},{number:81,velocity:75,time:15.301,channel:1,string:0,fret:17,stringJitter:.030418824626322574,fretJitter:17.021809204211323},{number:84,velocity:62,time:15.48,channel:1,string:0,fret:20,stringJitter:-.002319127316201186,fretJitter:20.106152114387623},{number:85,velocity:64,time:15.582,channel:1,string:0,fret:21,stringJitter:.15815293050574886,fretJitter:21.18169335472667},{number:86,velocity:62,time:15.625,channel:1,string:0,fret:22,stringJitter:-.053541693693230655,fretJitter:21.87954466847865},{number:84,velocity:103,time:15.929,channel:1,string:0,fret:20,stringJitter:-.056718559633589474,fretJitter:19.912077027088394},{number:81,velocity:117,time:16.29,channel:1,string:0,fret:17,stringJitter:-.0610049596074858,fretJitter:17.080598195801926},{number:82,velocity:90,time:16.466,channel:1,string:0,fret:18,stringJitter:.19933948907017332,fretJitter:17.969570547435918},{number:79,velocity:123,time:16.481,channel:2,string:1,fret:20,stringJitter:1.1877231797562704,fretJitter:20.1802783205657},{number:81,velocity:96,time:16.795,channel:1,string:0,fret:17,stringJitter:-.03422759149944099,fretJitter:16.957048463444856},{number:84,velocity:112,time:16.946,channel:1,string:0,fret:20,stringJitter:.02484419373543405,fretJitter:20.105694349249948},{number:85,velocity:111,time:17.017,channel:1,string:0,fret:21,stringJitter:.19350751482046508,fretJitter:21.08974721451268},{number:86,velocity:110,time:17.062,channel:1,string:0,fret:22,stringJitter:.1429101753733793,fretJitter:21.837340376878007},{number:85,velocity:103,time:17.163,channel:1,string:0,fret:21,stringJitter:.15073877217570208,fretJitter:20.96592662887252},{number:75,velocity:10,time:17.187,channel:2,string:1,fret:16,stringJitter:.9197452438843692,fretJitter:15.969911303030823},{number:59,velocity:127,time:17.23,channel:2,string:1,fret:0,stringJitter:.8911760379146109,fretJitter:.02773879899513734},{number:59,velocity:67,time:17.813,channel:2,string:1,fret:0,stringJitter:1.1302927719382256,fretJitter:.12438662298387443},{number:81,velocity:51,time:17.977,channel:1,string:0,fret:17,stringJitter:.013694790793955837,fretJitter:17.120958783141035},{number:79,velocity:127,time:18.291,channel:2,string:1,fret:20,stringJitter:.903338195296916,fretJitter:20.12176863004413},{number:79,velocity:119,time:18.488,channel:2,string:1,fret:20,stringJitter:1.0260683118156162,fretJitter:20.018590967104153},{number:80,velocity:104,time:18.571,channel:2,string:1,fret:21,stringJitter:1.1809370474004417,fretJitter:20.957858234118643},{number:74,velocity:91,time:18.977,channel:2,string:1,fret:15,stringJitter:.8278229011259486,fretJitter:15.070973389157379},{number:76,velocity:124,time:18.988,channel:2,string:1,fret:17,stringJitter:1.1778819705321164,fretJitter:17.07891783382921},{number:75,velocity:125,time:19.006,channel:2,string:1,fret:16,stringJitter:1.105550837671472,fretJitter:16.075193059644562},{number:74,velocity:123,time:19.023,channel:2,string:1,fret:15,stringJitter:.8257435031084117,fretJitter:14.972736826337549},{number:69,velocity:114,time:19.092,channel:2,string:1,fret:10,stringJitter:1.0069251527269494,fretJitter:9.893370571943565},{number:68,velocity:112,time:19.106,channel:2,string:1,fret:9,stringJitter:.9152328949544153,fretJitter:9.10401204543848},{number:67,velocity:110,time:19.153,channel:2,string:1,fret:8,stringJitter:.8971504071755085,fretJitter:7.923850808292273},{number:72,velocity:106,time:19.292,channel:2,string:1,fret:13,stringJitter:1.1021759361101937,fretJitter:13.176661562773585},{number:78,velocity:89,time:19.383,channel:2,string:1,fret:19,stringJitter:.9371282770703923,fretJitter:18.954708517680412},{number:79,velocity:85,time:19.413,channel:2,string:1,fret:20,stringJitter:1.1942575828313087,fretJitter:19.909796421431462},{number:76,velocity:87,time:19.651,channel:2,string:1,fret:17,stringJitter:1.1515508344225325,fretJitter:16.96482013757882},{number:75,velocity:49,time:19.825,channel:3,string:2,fret:20,stringJitter:1.9862689492672816,fretJitter:20.136109484981212},{number:76,velocity:83,time:19.974,channel:2,string:1,fret:17,stringJitter:1.1492666005490908,fretJitter:16.871509749698337},{number:74,velocity:28,time:20.14,channel:3,string:2,fret:19,stringJitter:2.0579869433066595,fretJitter:19.00575423454156},{number:72,velocity:106,time:20.3,channel:3,string:2,fret:17,stringJitter:1.9362199041264976,fretJitter:16.820774548089943},{number:74,velocity:127,time:20.464,channel:3,string:2,fret:19,stringJitter:1.967713412866533,fretJitter:19.032331607243847},{number:75,velocity:118,time:20.587,channel:3,string:2,fret:20,stringJitter:2.1404275855381605,fretJitter:20.154017500225038},{number:74,velocity:112,time:20.662,channel:3,string:2,fret:19,stringJitter:2.0112334602497786,fretJitter:18.929184923891345},{number:72,velocity:101,time:20.923,channel:3,string:2,fret:17,stringJitter:1.9191824245931655,fretJitter:16.9658878543883},{number:72,velocity:76,time:21.248,channel:3,string:2,fret:17,stringJitter:2.0237811403971806,fretJitter:16.8717978374803},{number:75,velocity:127,time:21.389,channel:3,string:2,fret:20,stringJitter:2.1651482722682975,fretJitter:19.93772395186128},{number:74,velocity:127,time:21.401,channel:3,string:2,fret:19,stringJitter:2.1037019945299265,fretJitter:19.192715281466405},{number:75,velocity:114,time:21.562,channel:3,string:2,fret:20,stringJitter:2.1340136969084633,fretJitter:20.037286745256043},{number:75,velocity:113,time:21.686,channel:3,string:2,fret:20,stringJitter:1.8465236365559043,fretJitter:20.172015208761046},{number:74,velocity:95,time:21.704,channel:3,string:2,fret:19,stringJitter:2.0977571631319027,fretJitter:19.044981326966006},{number:74,velocity:115,time:21.854,channel:3,string:2,fret:19,stringJitter:2.0075184655542877,fretJitter:19.12513865382704},{number:73,velocity:113,time:21.865,channel:3,string:2,fret:18,stringJitter:2.117728310731643,fretJitter:17.812141328406224},{number:69,velocity:53,time:22.171,channel:4,string:3,fret:19,stringJitter:3.1370009472971945,fretJitter:19.12360563863832},{number:70,velocity:42,time:22.413,channel:4,string:3,fret:20,stringJitter:2.9986254885177477,fretJitter:20.141506548707156},{number:69,velocity:40,time:22.472,channel:4,string:3,fret:19,stringJitter:2.8039978338419633,fretJitter:18.915043667284596},{number:68,velocity:33,time:22.621,channel:4,string:3,fret:18,stringJitter:2.8887982584502,fretJitter:17.912709532927035},{number:66,velocity:32,time:22.648,channel:4,string:3,fret:16,stringJitter:3.113471351641049,fretJitter:16.199482226201585},{number:65,velocity:29,time:22.677,channel:4,string:3,fret:15,stringJitter:3.1511451169030167,fretJitter:15.035947443557308},{number:63,velocity:26,time:22.706,channel:4,string:3,fret:13,stringJitter:2.800268243173166,fretJitter:13.151408790014672},{number:61,velocity:23,time:22.751,channel:4,string:3,fret:11,stringJitter:3.0294701311862373,fretJitter:11.030817884488878},{number:60,velocity:23,time:22.765,channel:4,string:3,fret:10,stringJitter:3.169086166717359,fretJitter:9.914895592262024},{number:59,velocity:23,time:22.78,channel:4,string:3,fret:9,stringJitter:2.958377397226067,fretJitter:8.94985964060608},{number:58,velocity:23,time:22.793,channel:4,string:3,fret:8,stringJitter:3.0770121835144812,fretJitter:8.16935472539903},{number:57,velocity:23,time:22.823,channel:4,string:3,fret:7,stringJitter:3.044323194300154,fretJitter:7.024184608323146},{number:56,velocity:23,time:22.837,channel:4,string:3,fret:6,stringJitter:2.8906334953665564,fretJitter:5.970998851963062},{number:55,velocity:23,time:22.866,channel:4,string:3,fret:5,stringJitter:3.161608395001415,fretJitter:5.168665427330396},{number:72,velocity:10,time:22.915,channel:3,string:2,fret:17,stringJitter:1.9854009379107969,fretJitter:16.934606780763367},{number:55,velocity:127,time:22.939,channel:4,string:3,fret:5,stringJitter:2.807019574372616,fretJitter:4.811513249021353},{number:55,velocity:66,time:22.949,channel:3,string:2,fret:0,stringJitter:1.8548930704607676,fretJitter:.09610493667295801},{number:54,velocity:127,time:22.953,channel:4,string:3,fret:4,stringJitter:2.8829078040432514,fretJitter:4.120084393831111},{number:55,velocity:127,time:23.011,channel:4,string:3,fret:5,stringJitter:2.900984607907641,fretJitter:5.174556464664701},{number:56,velocity:127,time:23.041,channel:4,string:3,fret:6,stringJitter:3.1582201619316734,fretJitter:6.198120067314013},{number:57,velocity:127,time:23.054,channel:4,string:3,fret:7,stringJitter:2.920882288893609,fretJitter:7.002253446524113},{number:61,velocity:127,time:23.128,channel:4,string:3,fret:11,stringJitter:3.1978953328966204,fretJitter:10.85494158385477},{number:62,velocity:127,time:23.156,channel:4,string:3,fret:12,stringJitter:2.8989819472363476,fretJitter:12.003205805735803},{number:50,velocity:80,time:23.296,channel:4,string:3,fret:0,stringJitter:2.857018213190569,fretJitter:-.06478166859990085},{number:55,velocity:118,time:23.454,channel:4,string:3,fret:5,stringJitter:2.952621082096265,fretJitter:4.85123200862334},{number:57,velocity:99,time:23.634,channel:4,string:3,fret:7,stringJitter:2.8593412586713,fretJitter:6.987424347317012},{number:60,velocity:108,time:23.776,channel:3,string:2,fret:5,stringJitter:2.0607940176281514,fretJitter:5.193105467139622},{number:62,velocity:87,time:23.926,channel:3,string:2,fret:7,stringJitter:2.0295542149950867,fretJitter:7.152886177719223},{number:62,velocity:119,time:23.946,channel:3,string:2,fret:7,stringJitter:2.0163888918817316,fretJitter:7.060509529171521},{number:63,velocity:106,time:24.067,channel:3,string:2,fret:8,stringJitter:1.9544410850994174,fretJitter:7.983212313276915},{number:62,velocity:97,time:24.187,channel:3,string:2,fret:7,stringJitter:1.9631272077450626,fretJitter:6.985840483725291},{number:63,velocity:127,time:24.282,channel:3,string:2,fret:8,stringJitter:1.9336041590369062,fretJitter:7.82264572029233},{number:62,velocity:127,time:24.287,channel:3,string:2,fret:7,stringJitter:2.001672404059987,fretJitter:6.801873615080676},{number:61,velocity:127,time:24.472,channel:3,string:2,fret:6,stringJitter:2.0309962786667444,fretJitter:5.804602983610656},{number:60,velocity:127,time:24.476,channel:3,string:2,fret:5,stringJitter:1.9744464871483114,fretJitter:5.043544672156729},{number:63,velocity:127,time:24.785,channel:3,string:2,fret:8,stringJitter:2.1265635560232177,fretJitter:8.002187719143869},{number:62,velocity:127,time:24.796,channel:3,string:2,fret:7,stringJitter:1.8095331829968966,fretJitter:7.135895696566786},{number:63,velocity:127,time:25,channel:3,string:2,fret:8,stringJitter:1.9975827065437188,fretJitter:7.914286083295975},{number:62,velocity:127,time:25.054,channel:3,string:2,fret:7,stringJitter:2.178186882541498,fretJitter:6.935537191771955},{number:60,velocity:117,time:25.448,channel:3,string:2,fret:5,stringJitter:2.0923587381200095,fretJitter:5.188189462912053},{number:61,velocity:127,time:25.483,channel:3,string:2,fret:6,stringJitter:2.1868137696548984,fretJitter:6.096535429771205},{number:60,velocity:127,time:25.492,channel:3,string:2,fret:5,stringJitter:2.0778753272381407,fretJitter:5.077395665197257},{number:62,velocity:121,time:25.785,channel:3,string:2,fret:7,stringJitter:1.890630113030241,fretJitter:7.082931244113862},{number:65,velocity:127,time:25.952,channel:2,string:1,fret:6,stringJitter:1.0375779671821064,fretJitter:6.181634704978669},{number:64,velocity:127,time:25.956,channel:2,string:1,fret:5,stringJitter:1.0999861158068998,fretJitter:5.190823158973162},{number:67,velocity:105,time:26.146,channel:2,string:1,fret:8,stringJitter:1.1730882009688948,fretJitter:7.85248857539919},{number:67,velocity:90,time:26.249,channel:2,string:1,fret:8,stringJitter:.8166603933966913,fretJitter:7.890834763852997},{number:68,velocity:87,time:26.331,channel:2,string:1,fret:9,stringJitter:1.1267745915169887,fretJitter:9.073633540445401},{number:69,velocity:90,time:26.363,channel:2,string:1,fret:10,stringJitter:1.166762284323918,fretJitter:10.056115527162634},{number:68,velocity:75,time:26.799,channel:2,string:1,fret:9,stringJitter:.992791471293782,fretJitter:8.936205318500694},{number:67,velocity:75,time:26.843,channel:2,string:1,fret:8,stringJitter:1.0557529717506051,fretJitter:8.1259437151483},{number:66,velocity:74,time:26.856,channel:2,string:1,fret:7,stringJitter:1.1645987798255526,fretJitter:7.120615861748901},{number:65,velocity:71,time:26.886,channel:2,string:1,fret:6,stringJitter:.849456655187915,fretJitter:5.870830583528553},{number:64,velocity:69,time:26.914,channel:2,string:1,fret:5,stringJitter:.8242018785766938,fretJitter:4.862864627741066},{number:80,velocity:51,time:27,channel:2,string:1,fret:21,stringJitter:1.1462373247028825,fretJitter:21.06388785192912},{number:65,velocity:127,time:27.021,channel:2,string:1,fret:6,stringJitter:1.0176876541497566,fretJitter:6.100164026703252},{number:64,velocity:127,time:27.029,channel:2,string:1,fret:5,stringJitter:.8497698464556407,fretJitter:4.875430628568913},{number:59,velocity:93,time:27.272,channel:2,string:1,fret:0,stringJitter:.8157370160439625,fretJitter:.016043552768206393},{number:67,velocity:110,time:27.434,channel:2,string:1,fret:8,stringJitter:1.1686508379362122,fretJitter:8.13668740816774},{number:68,velocity:118,time:27.575,channel:2,string:1,fret:9,stringJitter:.9395499895987911,fretJitter:9.185651944743912},{number:69,velocity:109,time:27.7,channel:2,string:1,fret:10,stringJitter:1.0447129344592998,fretJitter:10.120135958248161},{number:69,velocity:94,time:27.73309999996424,channel:2,string:1,fret:10,stringJitter:1.0723128315478017,fretJitter:9.861340631153567},{number:72,velocity:113,time:27.902,channel:1,string:0,fret:8,stringJitter:.15157081634147052,fretJitter:8.147146277210599},{number:59,velocity:127,time:28.051,channel:2,string:1,fret:0,stringJitter:1.067776516881487,fretJitter:.09896730372712455},{number:73,velocity:87,time:28.061,channel:1,string:0,fret:9,stringJitter:.08537009406522822,fretJitter:9.07906292591682},{number:78,velocity:123,time:28.09,channel:2,string:1,fret:19,stringJitter:1.0690410927091345,fretJitter:18.974873659268887},{number:73,velocity:67,time:28.229,channel:1,string:0,fret:9,stringJitter:-.10037574842066395,fretJitter:8.832332909963155},{number:74,velocity:68,time:28.265,channel:1,string:0,fret:10,stringJitter:-.1320183752213473,fretJitter:10.050102406579867},{number:72,velocity:76,time:28.872,channel:1,string:0,fret:8,stringJitter:-.10293075040877486,fretJitter:7.9514409063175},{number:69,velocity:29,time:29.042,channel:2,string:1,fret:10,stringJitter:1.1782933557234931,fretJitter:9.94848612806543},{number:74,velocity:74,time:29.048,channel:1,string:0,fret:10,stringJitter:.17357555665851931,fretJitter:9.813589368879395},{number:67,velocity:78,time:29.352,channel:2,string:1,fret:8,stringJitter:1.0588573578859002,fretJitter:7.957539452945908},{number:69,velocity:74,time:29.454,channel:2,string:1,fret:10,stringJitter:.9105724110706339,fretJitter:10.178925982225536},{number:69,velocity:127,time:29.482,channel:2,string:1,fret:10,stringJitter:.8766647110401713,fretJitter:10.01879040293096},{number:67,velocity:126,time:29.816,channel:2,string:1,fret:8,stringJitter:.9377756545751905,fretJitter:8.08679353662855},{number:67,velocity:106,time:30.283,channel:2,string:1,fret:8,stringJitter:.8536949541394262,fretJitter:8.096299989603454},{number:66,velocity:85,time:30.659,channel:2,string:1,fret:7,stringJitter:.8818833670776294,fretJitter:6.908598556420846},{number:65,velocity:83,time:30.687,channel:2,string:1,fret:6,stringJitter:1.1137376176527634,fretJitter:6.1181411398272445},{number:64,velocity:81,time:30.716,channel:2,string:1,fret:5,stringJitter:1.104149663810028,fretJitter:4.867475134522089},{number:63,velocity:79,time:30.746,channel:2,string:1,fret:4,stringJitter:.905279239063584,fretJitter:4.115561229312455},{number:62,velocity:78,time:30.772,channel:2,string:1,fret:3,stringJitter:.8961409909785459,fretJitter:2.9990117809126704},{number:61,velocity:77,time:30.805,channel:2,string:1,fret:2,stringJitter:.9459659635457547,fretJitter:2.0790877134835144},{number:60,velocity:72,time:30.862,channel:2,string:1,fret:1,stringJitter:.8475246402643823,fretJitter:1.1439361305747193},{number:59,velocity:127,time:30.933,channel:2,string:1,fret:0,stringJitter:.9682690459807513,fretJitter:.14232675670193268},{number:50,velocity:10,time:30.954,channel:4,string:3,fret:0,stringJitter:2.918555449560256,fretJitter:-.056639299688183625},{number:67,velocity:121,time:31.409,channel:2,string:1,fret:8,stringJitter:1.0109783917136443,fretJitter:8.05363422337959},{number:66,velocity:81,time:31.569,channel:2,string:1,fret:7,stringJitter:.9926981624262374,fretJitter:6.934315993816555},{number:64,velocity:75,time:31.616099999964238,channel:2,string:1,fret:5,stringJitter:.9221527756253014,fretJitter:4.918479648238595},{number:62,velocity:61,time:31.76,channel:3,string:2,fret:7,stringJitter:2.1103875524101143,fretJitter:6.909063710408305},{number:64,velocity:113,time:31.905,channel:2,string:1,fret:5,stringJitter:.9929096684085671,fretJitter:5.135445065812294},{number:62,velocity:79,time:32.087,channel:3,string:2,fret:7,stringJitter:2.0853342107064203,fretJitter:6.926397857226629},{number:60,velocity:81,time:32.255,channel:3,string:2,fret:5,stringJitter:1.9621098283156655,fretJitter:5.051656894044191},{number:62,velocity:94,time:32.44,channel:3,string:2,fret:7,stringJitter:2.1064836030660485,fretJitter:6.829408667978224},{number:60,velocity:87,time:32.604,channel:3,string:2,fret:5,stringJitter:2.0077407989652705,fretJitter:4.8842781848903325},{number:57,velocity:43,time:32.766,channel:4,string:3,fret:7,stringJitter:2.8715614610879876,fretJitter:6.966510841749313},{number:60,velocity:89,time:32.933,channel:3,string:2,fret:5,stringJitter:1.8610498607739165,fretJitter:4.829179352370427},{number:57,velocity:116,time:33.114,channel:4,string:3,fret:7,stringJitter:2.9258829305285996,fretJitter:7.062918372912636},{number:45,velocity:10,time:33.205,channel:5,string:4,fret:0,stringJitter:3.9413772886030474,fretJitter:-.025652331548426943},{number:55,velocity:104,time:33.3,channel:4,string:3,fret:5,stringJitter:3.0164577840639764,fretJitter:4.836515471760995},{number:58,velocity:127,time:33.447,channel:4,string:3,fret:8,stringJitter:2.9283133893800026,fretJitter:7.998021518435845},{number:57,velocity:127,time:33.461,channel:4,string:3,fret:7,stringJitter:2.9889298596065346,fretJitter:6.926989285476484},{number:59,velocity:127,time:33.95,channel:4,string:3,fret:9,stringJitter:2.8059483607075224,fretJitter:9.132822967980537},{number:55,velocity:52,time:33.96709999996424,channel:3,string:2,fret:0,stringJitter:2.0319759970019575,fretJitter:-.04370645779397551},{number:57,velocity:127,time:33.96709999996424,channel:4,string:3,fret:7,stringJitter:3.0031298373719495,fretJitter:7.020893975225679},{number:74,velocity:44,time:34.01,channel:3,string:2,fret:19,stringJitter:2.1718228285499053,fretJitter:19.15195815598769},{number:55,velocity:97,time:34.265,channel:4,string:3,fret:5,stringJitter:3.1187712551479225,fretJitter:4.893828490620496},{number:58,velocity:127,time:34.441,channel:4,string:3,fret:8,stringJitter:2.8243259906057983,fretJitter:7.81709629174755},{number:57,velocity:127,time:34.446,channel:4,string:3,fret:7,stringJitter:3.0063546898670954,fretJitter:7.151133033326042},{number:62,velocity:127,time:34.707,channel:3,string:2,fret:7,stringJitter:2.0827993780996112,fretJitter:6.952359495642864},{number:60,velocity:127,time:34.723,channel:3,string:2,fret:5,stringJitter:1.890838762998563,fretJitter:5.0170616539739905},{number:61,velocity:127,time:34.781,channel:3,string:2,fret:6,stringJitter:1.942675062181564,fretJitter:6.0527769298074885},{number:60,velocity:127,time:34.834,channel:3,string:2,fret:5,stringJitter:2.1597633415300277,fretJitter:4.900913144541048},{number:61,velocity:127,time:34.954,channel:3,string:2,fret:6,stringJitter:1.8809838096597,fretJitter:6.060221950298743},{number:60,velocity:127,time:35.068,channel:3,string:2,fret:5,stringJitter:2.160076782698209,fretJitter:5.00049175036295},{number:58,velocity:127,time:35.283,channel:4,string:3,fret:8,stringJitter:3.0617021444014423,fretJitter:8.084346512488676},{number:57,velocity:127,time:35.303,channel:4,string:3,fret:7,stringJitter:2.872761832939681,fretJitter:7.138691771712247},{number:61,velocity:127,time:35.444,channel:3,string:2,fret:6,stringJitter:2.116021072132985,fretJitter:6.167197226268923},{number:60,velocity:127,time:35.462,channel:3,string:2,fret:5,stringJitter:2.1817584350757233,fretJitter:5.066063608989898},{number:66,velocity:127,time:35.75,channel:3,string:2,fret:11,stringJitter:2.1286612295104703,fretJitter:10.827911539711378},{number:62,velocity:127,time:35.767,channel:3,string:2,fret:7,stringJitter:2.054675454172487,fretJitter:7.132075233690868},{number:64,velocity:127,time:35.84,channel:3,string:2,fret:9,stringJitter:2.1748655605253138,fretJitter:8.861378055094242},{number:63,velocity:127,time:35.961,channel:3,string:2,fret:8,stringJitter:2.176810752141407,fretJitter:8.165878593230005},{number:62,velocity:127,time:36,channel:3,string:2,fret:7,stringJitter:1.8883593148653062,fretJitter:7.106644730064373},{number:62,velocity:127,time:36.262,channel:3,string:2,fret:7,stringJitter:2.108312379124977,fretJitter:6.983770439876912},{number:60,velocity:127,time:36.287,channel:3,string:2,fret:5,stringJitter:2.1795100335378277,fretJitter:4.937201777229706},{number:64,velocity:127,time:36.46,channel:3,string:2,fret:9,stringJitter:2.03930698559094,fretJitter:8.88619856718983},{number:62,velocity:127,time:36.477,channel:3,string:2,fret:7,stringJitter:1.8009962407185578,fretJitter:6.808768853933245},{number:63,velocity:127,time:36.551,channel:3,string:2,fret:8,stringJitter:1.9058885229717282,fretJitter:7.9858589739855},{number:62,velocity:127,time:36.636,channel:3,string:2,fret:7,stringJitter:1.8829359531662828,fretJitter:6.891268419019125},{number:63,velocity:127,time:36.741,channel:3,string:2,fret:8,stringJitter:2.174386543202975,fretJitter:7.812164870320277},{number:62,velocity:127,time:36.842,channel:3,string:2,fret:7,stringJitter:1.9861736117779896,fretJitter:6.991302158405196},{number:62,velocity:127,time:36.94,channel:3,string:2,fret:7,stringJitter:1.806383563832587,fretJitter:6.832143183594945},{number:63,velocity:127,time:37.056,channel:3,string:2,fret:8,stringJitter:1.8905644970841728,fretJitter:8.06227286062103},{number:64,velocity:127,time:37.101,channel:3,string:2,fret:9,stringJitter:2.1152504607905565,fretJitter:8.958783056499193},{number:65,velocity:127,time:37.129,channel:3,string:2,fret:10,stringJitter:1.9518011475876196,fretJitter:10.02073514647573},{number:66,velocity:127,time:37.159,channel:3,string:2,fret:11,stringJitter:2.1403036217503795,fretJitter:10.994462879184361},{number:55,velocity:45,time:37.261,channel:3,string:2,fret:0,stringJitter:2.0042078090938467,fretJitter:.037323351418915345},{number:55,velocity:119,time:37.433,channel:3,string:2,fret:0,stringJitter:1.9971569738324397,fretJitter:.07179247219988394},{number:57,velocity:104,time:37.523,channel:3,string:2,fret:2,stringJitter:2.0285088661845436,fretJitter:1.8175359824596673},{number:57,velocity:72,time:37.611,channel:3,string:2,fret:2,stringJitter:1.8269795671599396,fretJitter:1.9821420399351342},{number:56,velocity:61,time:37.741,channel:3,string:2,fret:1,stringJitter:1.8202715115963937,fretJitter:.9759237783000804},{number:64,velocity:11,time:37.791,channel:1,string:0,fret:0,stringJitter:-.057072536816802355,fretJitter:.07662590050899931},{number:64,velocity:115,time:37.951,channel:1,string:0,fret:0,stringJitter:-.10212560504398951,fretJitter:.07681866856319522},{number:60,velocity:119,time:38.225,channel:2,string:1,fret:1,stringJitter:1.1331071068956775,fretJitter:1.076735631567008},{number:60,velocity:93,time:38.39,channel:2,string:1,fret:1,stringJitter:.9501647003394031,fretJitter:1.035724557909878},{number:61,velocity:127,time:38.92,channel:2,string:1,fret:2,stringJitter:1.060943857166107,fretJitter:2.1935718913088733},{number:60,velocity:127,time:38.929,channel:2,string:1,fret:1,stringJitter:1.1646072249355996,fretJitter:1.0186337279789446},{number:59,velocity:100,time:39.232,channel:2,string:1,fret:0,stringJitter:1.0600613960570873,fretJitter:.10697378700862581},{number:60,velocity:121,time:39.401,channel:2,string:1,fret:1,stringJitter:.8466298341409286,fretJitter:.8334360504108315},{number:62,velocity:127,time:39.572,channel:2,string:1,fret:3,stringJitter:1.1369673216405085,fretJitter:3.197564980258408},{number:64,velocity:97,time:39.764,channel:1,string:0,fret:0,stringJitter:-.0024828747492777305,fretJitter:.17346656007920763},{number:65,velocity:71,time:39.945099999964235,channel:1,string:0,fret:1,stringJitter:.06535469158409493,fretJitter:1.04598502437109},{number:67,velocity:92,time:40.122,channel:1,string:0,fret:3,stringJitter:.014057003755154797,fretJitter:2.982891577597027},{number:65,velocity:116,time:40.296,channel:1,string:0,fret:1,stringJitter:.06290761636436155,fretJitter:.9020103745214892},{number:65,velocity:66,time:40.451,channel:1,string:0,fret:1,stringJitter:.08670865864661925,fretJitter:.9084629869771158},{number:64,velocity:76,time:40.483,channel:1,string:0,fret:0,stringJitter:.09017650105685765,fretJitter:.03861205064048212},{number:59,velocity:10,time:40.574,channel:2,string:1,fret:0,stringJitter:1.1422680843720316,fretJitter:.14824364732129966},{number:62,velocity:25,time:40.601,channel:2,string:1,fret:3,stringJitter:.9304870766456947,fretJitter:3.1498567258095065},{number:59,velocity:120,time:40.772,channel:2,string:1,fret:0,stringJitter:.8052574901307794,fretJitter:-.023170438852472677},{number:62,velocity:127,time:40.932,channel:2,string:1,fret:3,stringJitter:.9184101689132407,fretJitter:3.005220543165965},{number:55,velocity:60,time:40.968,channel:3,string:2,fret:0,stringJitter:2.128919987774234,fretJitter:.003504458799643029},{number:63,velocity:127,time:41.448,channel:2,string:1,fret:4,stringJitter:.8107057732342902,fretJitter:3.8475395967314463},{number:50,velocity:10,time:41.451,channel:4,string:3,fret:0,stringJitter:3.1653672191104425,fretJitter:-.09086281314934493},{number:62,velocity:127,time:41.543,channel:2,string:1,fret:3,stringJitter:.9689281344542537,fretJitter:3.1045010051029855},{number:59,velocity:99,time:41.731,channel:2,string:1,fret:0,stringJitter:.9125080538894303,fretJitter:.034234863340268616},{number:60,velocity:107,time:41.891,channel:2,string:1,fret:1,stringJitter:.9859690507736515,fretJitter:1.1186844902295556},{number:57,velocity:101,time:42.272,channel:3,string:2,fret:2,stringJitter:2.1691955716765334,fretJitter:2.0852636130859543},{number:59,velocity:127,time:42.935,channel:3,string:2,fret:4,stringJitter:2.1994585345498865,fretJitter:4.155649264654066},{number:45,velocity:10,time:42.947,channel:5,string:4,fret:0,stringJitter:3.987992543804577,fretJitter:.03141737279220385},{number:58,velocity:127,time:42.951,channel:3,string:2,fret:3,stringJitter:2.186069255204526,fretJitter:3.178774336239919},{number:50,velocity:10,time:42.985,channel:4,string:3,fret:0,stringJitter:2.8849687671512583,fretJitter:.1457024621229194},{number:57,velocity:127,time:43.006,channel:3,string:2,fret:2,stringJitter:2.0115281306659116,fretJitter:1.940405941663681},{number:50,velocity:127,time:43.321,channel:4,string:3,fret:0,stringJitter:2.90643532772295,fretJitter:.1054233489054254},{number:52,velocity:117,time:43.502,channel:4,string:3,fret:2,stringJitter:3.1550684162131626,fretJitter:1.8187414250747203},{number:52,velocity:127,time:43.774,channel:4,string:3,fret:2,stringJitter:3.1025191860944537,fretJitter:2.186987316199712},{number:53,velocity:127,time:44.456,channel:4,string:3,fret:3,stringJitter:3.1187644947691155,fretJitter:2.9154993746932876},{number:55,velocity:51,time:44.477,channel:3,string:2,fret:0,stringJitter:1.8729688009903913,fretJitter:.04301238001738144},{number:52,velocity:127,time:44.486,channel:4,string:3,fret:2,stringJitter:2.8950340527853173,fretJitter:2.047243748868269},{number:53,velocity:127,time:44.604,channel:4,string:3,fret:3,stringJitter:2.881286935304772,fretJitter:3.0696154130098656},{number:54,velocity:127,time:44.662,channel:4,string:3,fret:4,stringJitter:3.192653245437957,fretJitter:3.913323169812387},{number:55,velocity:127,time:44.69,channel:4,string:3,fret:5,stringJitter:2.922394704376293,fretJitter:4.828133729998508},{number:56,velocity:127,time:44.721,channel:4,string:3,fret:6,stringJitter:2.902921861286882,fretJitter:5.854982248935738},{number:59,velocity:127,time:44.779,channel:4,string:3,fret:9,stringJitter:3.0166450933159856,fretJitter:9.125642131640085},{number:62,velocity:127,time:44.835,channel:4,string:3,fret:12,stringJitter:2.9204384848203415,fretJitter:11.907218973690123},{number:63,velocity:127,time:44.847,channel:4,string:3,fret:13,stringJitter:2.9827799077035073,fretJitter:13.176150024094463},{number:64,velocity:127,time:44.865,channel:4,string:3,fret:14,stringJitter:3.054744107893041,fretJitter:13.953990134824364},{number:65,velocity:127,time:44.881,channel:4,string:3,fret:15,stringJitter:2.859772868412049,fretJitter:15.068859382134793},{number:70,velocity:83,time:44.952,channel:4,string:3,fret:20,stringJitter:3.0036442771594607,fretJitter:20.167971600176404},{number:55,velocity:127,time:44.974,channel:3,string:2,fret:0,stringJitter:2.1741165412081225,fretJitter:.05273988939576242},{number:62,velocity:50,time:45.054,channel:4,string:3,fret:12,stringJitter:2.9344564006917353,fretJitter:12.043715067993288},{number:50,velocity:49,time:45.11,channel:4,string:3,fret:0,stringJitter:3.0426233453094897,fretJitter:-.0976634379912965},{number:66,velocity:127,time:45.243,channel:3,string:2,fret:11,stringJitter:1.8542291627361487,fretJitter:11.043536089377424},{number:72,velocity:127,time:45.268,channel:3,string:2,fret:17,stringJitter:1.9705869116389216,fretJitter:16.952439288701754},{number:68,velocity:57,time:45.315,channel:4,string:3,fret:18,stringJitter:2.9896161299154302,fretJitter:18.06963881035663},{number:68,velocity:127,time:45.407,channel:4,string:3,fret:18,stringJitter:2.9077423366250525,fretJitter:18.09102555851335},{number:69,velocity:127,time:45.43,channel:4,string:3,fret:19,stringJitter:3.046182937032251,fretJitter:18.84866553413045},{number:70,velocity:107,time:45.66309999996424,channel:4,string:3,fret:20,stringJitter:3.177413246618298,fretJitter:20.119883972796025},{number:72,velocity:56,time:45.703,channel:3,string:2,fret:17,stringJitter:2.1054744241194268,fretJitter:16.94337846431445},{number:74,velocity:49,time:45.851,channel:3,string:2,fret:19,stringJitter:2.1809396467278237,fretJitter:19.108956929614813},{number:74,velocity:117,time:45.877,channel:3,string:2,fret:19,stringJitter:2.1582090771220597,fretJitter:18.80803790797911},{number:75,velocity:115,time:45.967,channel:3,string:2,fret:20,stringJitter:2.1368777856219188,fretJitter:19.87271857190989},{number:74,velocity:113,time:46.068,channel:3,string:2,fret:19,stringJitter:1.8717258850053176,fretJitter:18.974832316587808},{number:72,velocity:102,time:46.2,channel:3,string:2,fret:17,stringJitter:2.0207048802196366,fretJitter:17.13108154260615},{number:71,velocity:101,time:46.214,channel:3,string:2,fret:16,stringJitter:2.1909289666610157,fretJitter:15.897515396725304},{number:70,velocity:100,time:46.228,channel:3,string:2,fret:15,stringJitter:1.813893547046663,fretJitter:15.045668443239242},{number:69,velocity:98,time:46.244,channel:3,string:2,fret:14,stringJitter:2.1759209821529533,fretJitter:14.145574078061577},{number:68,velocity:97,time:46.258,channel:3,string:2,fret:13,stringJitter:1.8243092600627193,fretJitter:13.080659598341398},{number:67,velocity:96,time:46.272,channel:3,string:2,fret:12,stringJitter:1.8928470863945213,fretJitter:12.079908763587678},{number:66,velocity:96,time:46.286,channel:3,string:2,fret:11,stringJitter:1.8834171170682397,fretJitter:11.161535233473758},{number:65,velocity:95,time:46.302,channel:3,string:2,fret:10,stringJitter:1.8434169191487997,fretJitter:9.88728999112894},{number:64,velocity:95,time:46.321,channel:3,string:2,fret:9,stringJitter:2.113849301038129,fretJitter:8.844109911327582},{number:63,velocity:95,time:46.345,channel:3,string:2,fret:8,stringJitter:1.8014602579239745,fretJitter:8.024222496772822},{number:62,velocity:94,time:46.361,channel:3,string:2,fret:7,stringJitter:2.1967413161924867,fretJitter:7.110302243566069},{number:64,velocity:127,time:46.47,channel:3,string:2,fret:9,stringJitter:2.1367606369017507,fretJitter:8.905182088325972},{number:62,velocity:127,time:46.473,channel:3,string:2,fret:7,stringJitter:1.9299265280254747,fretJitter:6.836070348208833},{number:59,velocity:89,time:46.483,channel:2,string:1,fret:0,stringJitter:.8891253227779241,fretJitter:.19443067655673849},{number:78,velocity:74,time:46.505,channel:2,string:1,fret:19,stringJitter:1.0094982272840676,fretJitter:18.861360185825312},{number:63,velocity:127,time:46.507,channel:3,string:2,fret:8,stringJitter:2.0862303298889704,fretJitter:8.064655982152768},{number:66,velocity:127,time:46.562,channel:3,string:2,fret:11,stringJitter:1.8701091383703192,fretJitter:11.04122992155375},{number:67,velocity:127,time:46.577,channel:3,string:2,fret:12,stringJitter:1.949703450770542,fretJitter:11.944398431810379},{number:70,velocity:127,time:46.622,channel:3,string:2,fret:15,stringJitter:2.07229274173816,fretJitter:15.158376316623132},{number:72,velocity:127,time:46.649,channel:3,string:2,fret:17,stringJitter:2.0596556151677223,fretJitter:16.961157376381557},{number:73,velocity:127,time:46.693,channel:3,string:2,fret:18,stringJitter:1.9016948461737684,fretJitter:18.15954478982197},{number:74,velocity:127,time:46.723,channel:3,string:2,fret:19,stringJitter:1.8378800271431324,fretJitter:19.058455531913726},{number:59,velocity:58,time:46.732,channel:2,string:1,fret:0,stringJitter:.9958185076754511,fretJitter:-.017563835349919812},{number:73,velocity:125,time:46.737,channel:3,string:2,fret:18,stringJitter:2.0936896179618527,fretJitter:17.808695306376126},{number:78,velocity:54,time:46.769,channel:2,string:1,fret:19,stringJitter:1.0733101875621398,fretJitter:18.911381288655253},{number:55,velocity:123,time:46.782,channel:3,string:2,fret:0,stringJitter:1.8238501025134524,fretJitter:-.14370029344923757},{number:59,velocity:53,time:46.795,channel:2,string:1,fret:0,stringJitter:.8123646342446446,fretJitter:.05456750412536291},{number:78,velocity:52,time:46.882,channel:2,string:1,fret:19,stringJitter:.9082941949914931,fretJitter:19.069091000330133},{number:74,velocity:127,time:46.912,channel:3,string:2,fret:19,stringJitter:1.8752923893441404,fretJitter:18.875965627380545},{number:75,velocity:127,time:47.055,channel:3,string:2,fret:20,stringJitter:2.150720971968114,fretJitter:19.925761294473322},{number:76,velocity:126,time:47.114,channel:3,string:2,fret:21,stringJitter:1.8088221411567011,fretJitter:20.967595493533835},{number:76,velocity:127,time:47.185,channel:2,string:1,fret:17,stringJitter:1.0403516276191611,fretJitter:17.142714651260608},{number:81,velocity:100,time:47.38,channel:1,string:0,fret:17,stringJitter:-.028074446962993528,fretJitter:17.08533711503546},{number:79,velocity:127,time:47.703,channel:2,string:1,fret:20,stringJitter:1.1245700879343248,fretJitter:19.971943048980872},{number:80,velocity:127,time:47.84,channel:2,string:1,fret:21,stringJitter:1.05656004054484,fretJitter:21.061983128930205},{number:81,velocity:127,time:47.867,channel:2,string:1,fret:22,stringJitter:1.0839603286509893,fretJitter:21.925205958302037},{number:80,velocity:127,time:48,channel:2,string:1,fret:21,stringJitter:1.1673462417964435,fretJitter:20.928584476083525},{number:81,velocity:125,time:48.087,channel:2,string:1,fret:22,stringJitter:1.1533770254757307,fretJitter:22.02372175442053},{number:82,velocity:123,time:48.16,channel:2,string:1,fret:23,stringJitter:.8490719531430743,fretJitter:22.82472770802727},{number:81,velocity:122,time:48.203,channel:2,string:1,fret:22,stringJitter:.8729355450904108,fretJitter:21.899788766846058},{number:80,velocity:121,time:48.231,channel:2,string:1,fret:21,stringJitter:1.1641582951874596,fretJitter:20.88187040737183},{number:81,velocity:119,time:48.362,channel:2,string:1,fret:22,stringJitter:.9493311172293588,fretJitter:22.032714652846376},{number:81,velocity:127,time:48.508,channel:1,string:0,fret:17,stringJitter:.06431886597418845,fretJitter:16.88692856028759},{number:84,velocity:65,time:48.782,channel:1,string:0,fret:20,stringJitter:.08503904042589322,fretJitter:19.926579466838753},{number:84,velocity:127,time:49.235,channel:1,string:0,fret:20,stringJitter:-.0668764735830032,fretJitter:20.0523027727915},{number:85,velocity:127,time:49.275,channel:1,string:0,fret:21,stringJitter:.04727985449831902,fretJitter:20.916021225877856},{number:86,velocity:127,time:49.324,channel:1,string:0,fret:22,stringJitter:.1297422422170147,fretJitter:22.13247891916037},{number:85,velocity:119,time:49.434,channel:1,string:0,fret:21,stringJitter:-.06447633179081472,fretJitter:20.996578979441498},{number:86,velocity:116,time:49.53709999996424,channel:1,string:0,fret:22,stringJitter:-.08912475453211038,fretJitter:22.131655833026763},{number:85,velocity:104,time:49.842,channel:1,string:0,fret:21,stringJitter:.08093209890362846,fretJitter:21.130272040672118},{number:59,velocity:127,time:49.948,channel:2,string:1,fret:0,stringJitter:1.0865829870089299,fretJitter:.16204254692655679},{number:82,velocity:103,time:49.96,channel:1,string:0,fret:18,stringJitter:.03389052253659042,fretJitter:17.92871595032446},{number:81,velocity:103,time:49.97,channel:1,string:0,fret:17,stringJitter:-.04259807403680771,fretJitter:17.13748831174046},{number:79,velocity:127,time:50.03,channel:2,string:1,fret:20,stringJitter:.8091172081587173,fretJitter:20.059591553366605},{number:81,velocity:116,time:50.304,channel:1,string:0,fret:17,stringJitter:-.08510961934131417,fretJitter:16.944147763382006},{number:82,velocity:92,time:50.435,channel:1,string:0,fret:18,stringJitter:-.045218064116503864,fretJitter:18.00642284067734},{number:79,velocity:112,time:50.457,channel:2,string:1,fret:20,stringJitter:.9733809251148191,fretJitter:20.043781827192042},{number:80,velocity:104,time:50.525,channel:2,string:1,fret:21,stringJitter:1.0791149736045729,fretJitter:20.861328079103934},{number:81,velocity:100,time:50.583,channel:2,string:1,fret:22,stringJitter:.9462983981211487,fretJitter:21.969774965611336},{number:81,velocity:94,time:50.733,channel:1,string:0,fret:17,stringJitter:-.05741770672111688,fretJitter:16.96242972911798},{number:59,velocity:41,time:50.768,channel:2,string:1,fret:0,stringJitter:.8713452847892599,fretJitter:.13719170644186135},{number:79,velocity:127,time:50.917,channel:2,string:1,fret:20,stringJitter:1.0940091740909355,fretJitter:19.93259564623824},{number:80,velocity:124,time:51.004,channel:2,string:1,fret:21,stringJitter:1.1983571093563532,fretJitter:20.925890110944728},{number:81,velocity:121,time:51.062,channel:2,string:1,fret:22,stringJitter:.8247867885498855,fretJitter:21.866570446982262},{number:80,velocity:109,time:51.232,channel:2,string:1,fret:21,stringJitter:1.1382733339861004,fretJitter:21.144749173201557},{number:81,velocity:121,time:51.234,channel:1,string:0,fret:17,stringJitter:-.1295363825238165,fretJitter:16.928315717660148},{number:79,velocity:103,time:51.423,channel:2,string:1,fret:20,stringJitter:1.0611660883083038,fretJitter:20.103958330992278},{number:80,velocity:103,time:51.482,channel:2,string:1,fret:21,stringJitter:1.144640194109571,fretJitter:20.992776555842912},{number:81,velocity:101,time:51.542,channel:2,string:1,fret:22,stringJitter:.871060254153813,fretJitter:22.171301924385038},{number:81,velocity:110,time:51.766,channel:1,string:0,fret:17,stringJitter:.07795898639320971,fretJitter:17.05343790025634},{number:80,velocity:89,time:51.802,channel:2,string:1,fret:21,stringJitter:1.052475533309967,fretJitter:20.91182605106679},{number:79,velocity:85,time:51.815,channel:2,string:1,fret:20,stringJitter:.8482783781143468,fretJitter:20.02704175863969},{number:79,velocity:115,time:51.962,channel:2,string:1,fret:20,stringJitter:1.096217880071691,fretJitter:20.00026272180389},{number:80,velocity:112,time:52.004,channel:2,string:1,fret:21,stringJitter:1.0531396209707253,fretJitter:21.001565868251742},{number:81,velocity:112,time:52.063,channel:2,string:1,fret:22,stringJitter:.9642397541785251,fretJitter:22.12507864089062},{number:81,velocity:104,time:52.114,channel:1,string:0,fret:17,stringJitter:.16067690677344457,fretJitter:16.95420156058973},{number:69,velocity:13,time:52.144,channel:4,string:3,fret:19,stringJitter:3.0625335776021005,fretJitter:19.069399137585325},{number:80,velocity:100,time:52.149,channel:2,string:1,fret:21,stringJitter:1.1501053282049534,fretJitter:21.008394278798676},{number:50,velocity:10,time:52.164,channel:4,string:3,fret:0,stringJitter:2.9586641789920827,fretJitter:.015340586197127061},{number:79,velocity:127,time:52.274,channel:2,string:1,fret:20,stringJitter:1.0247735208835311,fretJitter:19.85145803222359},{number:80,velocity:127,time:52.34,channel:2,string:1,fret:21,stringJitter:1.0718923094147814,fretJitter:20.834732274867548},{number:81,velocity:125,time:52.41,channel:2,string:1,fret:22,stringJitter:.9679635441448412,fretJitter:22.002553605457035},{number:81,velocity:122,time:52.427,channel:1,string:0,fret:17,stringJitter:.16047315829117972,fretJitter:17.17083876324434},{number:59,velocity:127,time:52.587,channel:2,string:1,fret:0,stringJitter:.9553771213782399,fretJitter:-.08244615698165703},{number:75,velocity:102,time:52.748,channel:2,string:1,fret:16,stringJitter:1.0429984427582442,fretJitter:15.813770906703239},{number:78,velocity:86,time:52.78809999996424,channel:2,string:1,fret:19,stringJitter:1.1067248506656193,fretJitter:19.166689164601692},{number:80,velocity:84,time:52.847,channel:2,string:1,fret:21,stringJitter:.8115190583723517,fretJitter:21.09846011753166},{number:81,velocity:127,time:53.092,channel:1,string:0,fret:17,stringJitter:.0827938580189394,fretJitter:16.82020425928133},{number:82,velocity:104,time:53.252,channel:1,string:0,fret:18,stringJitter:.032487114676298036,fretJitter:17.8500483379025},{number:80,velocity:126,time:53.421,channel:2,string:1,fret:21,stringJitter:1.157084003141534,fretJitter:21.170667369981704},{number:81,velocity:125,time:53.484,channel:2,string:1,fret:22,stringJitter:.9824121708144415,fretJitter:21.971810672514735},{number:82,velocity:107,time:53.557,channel:2,string:1,fret:23,stringJitter:1.0666995383763513,fretJitter:23.14791074282014},{number:81,velocity:125,time:53.755,channel:1,string:0,fret:17,stringJitter:.18747322631686647,fretJitter:17.038550219310977},{number:82,velocity:94,time:53.922,channel:1,string:0,fret:18,stringJitter:.1525234488383232,fretJitter:18.112564978233404},{number:80,velocity:127,time:53.937,channel:2,string:1,fret:21,stringJitter:.9389116021691916,fretJitter:21.17147381255922},{number:81,velocity:127,time:54.008,channel:2,string:1,fret:22,stringJitter:1.1789999618820786,fretJitter:22.1847481684848},{number:81,velocity:127,time:54.094,channel:1,string:0,fret:17,stringJitter:.006731438820572234,fretJitter:17.193615652919124},{number:82,velocity:110,time:54.24,channel:1,string:0,fret:18,stringJitter:.1342925865824232,fretJitter:18.087966136325697},{number:81,velocity:54,time:54.274,channel:1,string:0,fret:17,stringJitter:.00634865345073008,fretJitter:16.90874264124144},{number:79,velocity:122,time:54.434,channel:2,string:1,fret:20,stringJitter:.9694774474941444,fretJitter:20.075321321535725},{number:80,velocity:124,time:54.486,channel:2,string:1,fret:21,stringJitter:.962366139081101,fretJitter:21.158499107264383},{number:81,velocity:115,time:54.573,channel:2,string:1,fret:22,stringJitter:1.1964427231134396,fretJitter:21.818129924559045},{number:81,velocity:87,time:54.616,channel:1,string:0,fret:17,stringJitter:.14624605993434328,fretJitter:16.981776553826563},{number:84,velocity:116,time:54.786,channel:1,string:0,fret:20,stringJitter:.17763478017971962,fretJitter:20.104691518651823},{number:84,velocity:127,time:54.983,channel:1,string:0,fret:20,stringJitter:-.13669991005733265,fretJitter:19.836894177668338},{number:85,velocity:127,time:55.051,channel:1,string:0,fret:21,stringJitter:.1921176325378661,fretJitter:21.10678954891637},{number:80,velocity:40,time:55.084,channel:2,string:1,fret:21,stringJitter:.9701465283114717,fretJitter:20.88347061236213},{number:86,velocity:127,time:55.092,channel:1,string:0,fret:22,stringJitter:.157727661487556,fretJitter:21.873150585085757},{number:81,velocity:42,time:55.108,channel:2,string:1,fret:22,stringJitter:.9909522861410495,fretJitter:22.18256600502852},{number:80,velocity:38,time:55.211,channel:2,string:1,fret:21,stringJitter:1.079265748773932,fretJitter:20.880145142442515},{number:85,velocity:127,time:55.242,channel:1,string:0,fret:21,stringJitter:-.1214944027727853,fretJitter:21.074221834345465},{number:55,velocity:45,time:55.249,channel:3,string:2,fret:0,stringJitter:2.011641316638102,fretJitter:.18269519137612217},{number:79,velocity:39,time:55.255,channel:2,string:1,fret:20,stringJitter:1.1610591688282548,fretJitter:19.918141429198602},{number:57,velocity:29,time:55.301,channel:3,string:2,fret:2,stringJitter:1.8515953804443166,fretJitter:1.9360225792195154},{number:78,velocity:29,time:55.312,channel:2,string:1,fret:19,stringJitter:.9467298112581322,fretJitter:19.094373450896747},{number:84,velocity:103,time:55.322,channel:1,string:0,fret:20,stringJitter:-.19538317257972704,fretJitter:20.054977660950396},{number:55,velocity:28,time:55.328,channel:3,string:2,fret:0,stringJitter:1.96754678690444,fretJitter:.06542627248728498},{number:81,velocity:127,time:55.481,channel:1,string:0,fret:17,stringJitter:.18963352362062116,fretJitter:16.867967724052875},{number:79,velocity:115,time:55.628,channel:2,string:1,fret:20,stringJitter:.8432033437335918,fretJitter:20.021749579384643},{number:81,velocity:103,time:55.773,channel:1,string:0,fret:17,stringJitter:.19730717689642807,fretJitter:16.998622229081047},{number:55,velocity:127,time:55.933,channel:3,string:2,fret:0,stringJitter:1.8321442883071066,fretJitter:.17790277494888118},{number:76,velocity:81,time:56.083,channel:2,string:1,fret:17,stringJitter:.9503959426727293,fretJitter:16.933434999919694},{number:77,velocity:79,time:56.095,channel:2,string:1,fret:18,stringJitter:.8457993582669483,fretJitter:17.845557180979846},{number:76,velocity:72,time:56.11,channel:2,string:1,fret:17,stringJitter:.9397023366873511,fretJitter:16.92647085575162},{number:77,velocity:71,time:56.386,channel:2,string:1,fret:18,stringJitter:1.096479640184467,fretJitter:17.890853492807118},{number:77,velocity:116,time:56.394,channel:2,string:1,fret:18,stringJitter:1.1919552082689904,fretJitter:17.84063104893722},{number:76,velocity:110,time:56.415,channel:2,string:1,fret:17,stringJitter:1.0725833085696244,fretJitter:16.901410482186282},{number:74,velocity:81,time:56.602,channel:3,string:2,fret:19,stringJitter:2.0196916762805954,fretJitter:19.133266549038936},{number:76,velocity:101,time:56.753,channel:2,string:1,fret:17,stringJitter:1.048724354616569,fretJitter:17.183327710477784},{number:74,velocity:89,time:56.943,channel:3,string:2,fret:19,stringJitter:1.922048813924521,fretJitter:18.914571759496997},{number:72,velocity:125,time:57.086,channel:3,string:2,fret:17,stringJitter:2.0971497881008516,fretJitter:17.16593785831743},{number:74,velocity:111,time:57.263,channel:3,string:2,fret:19,stringJitter:1.9474478263900648,fretJitter:19.15918041794711},{number:72,velocity:127,time:57.409,channel:3,string:2,fret:17,stringJitter:1.8470620463858611,fretJitter:17.16829963033738},{number:50,velocity:37,time:57.442,channel:4,string:3,fret:0,stringJitter:3.1648376995406005,fretJitter:.09318312283879263},{number:69,velocity:125,time:57.58,channel:4,string:3,fret:19,stringJitter:2.834343446633194,fretJitter:18.977279513920728},{number:72,velocity:43,time:57.709,channel:3,string:2,fret:17,stringJitter:2.1206020194345463,fretJitter:17.187495722555482},{number:50,velocity:103,time:57.795,channel:4,string:3,fret:0,stringJitter:3.0629030023834094,fretJitter:-.10090921505585443},{number:69,velocity:110,time:57.922,channel:4,string:3,fret:19,stringJitter:2.9048274912403365,fretJitter:18.978332951362095},{number:68,velocity:98,time:58.085,channel:4,string:3,fret:18,stringJitter:3.013847624120667,fretJitter:18.038751715831815},{number:67,velocity:83,time:58.144,channel:4,string:3,fret:17,stringJitter:3.1528908423917477,fretJitter:17.09103144124094},{number:69,velocity:80,time:58.27209999996424,channel:4,string:3,fret:19,stringJitter:3.1189681812601724,fretJitter:18.91319481098382},{number:67,velocity:111,time:58.436,channel:4,string:3,fret:17,stringJitter:2.914328994876641,fretJitter:17.151845449293717},{number:64,velocity:55,time:58.591,channel:5,string:4,fret:19,stringJitter:3.802766879229572,fretJitter:19.061276115450898},{number:64,velocity:68,time:58.945,channel:5,string:4,fret:19,stringJitter:3.994218485568658,fretJitter:18.855902527410056},{number:62,velocity:53,time:59.071,channel:5,string:4,fret:17,stringJitter:4.02069253077915,fretJitter:17.112785072409093},{number:62,velocity:82,time:59.11,channel:5,string:4,fret:17,stringJitter:3.901928568662833,fretJitter:17.172006149404087},{number:62,velocity:121,time:59.274,channel:5,string:4,fret:17,stringJitter:3.8564025184533777,fretJitter:17.183263122898783},{number:64,velocity:102,time:59.32,channel:5,string:4,fret:19,stringJitter:4.050043317924682,fretJitter:18.95523625427672},{number:65,velocity:100,time:59.346,channel:5,string:4,fret:20,stringJitter:3.9171536701999803,fretJitter:19.824595696873654},{number:40,velocity:49,time:59.448,channel:6,string:5,fret:0,stringJitter:5.039138739611304,fretJitter:.0273512376827469},{number:59,velocity:96,time:59.611,channel:6,string:5,fret:19,stringJitter:5.058349403339311,fretJitter:18.878418494556357},{number:60,velocity:97,time:59.636,channel:6,string:5,fret:20,stringJitter:4.971546362839255,fretJitter:20.17748454481848},{number:52,velocity:82,time:59.783,channel:5,string:4,fret:7,stringJitter:4.025066902552176,fretJitter:7.181588057739067},{number:64,velocity:83,time:59.797,channel:5,string:4,fret:19,stringJitter:4.114069875560069,fretJitter:18.96632382110999},{number:57,velocity:76,time:59.966,channel:6,string:5,fret:17,stringJitter:5.000359446422948,fretJitter:17.16183319349816},{number:60,velocity:83,time:60.015,channel:6,string:5,fret:20,stringJitter:4.931620464395854,fretJitter:20.01635800485252},{number:61,velocity:77,time:60.146,channel:6,string:5,fret:21,stringJitter:4.926683547969924,fretJitter:21.046768440030547},{number:60,velocity:69,time:60.247,channel:6,string:5,fret:20,stringJitter:5.1700187743080095,fretJitter:19.995538427683886},{number:61,velocity:64,time:60.363,channel:6,string:5,fret:21,stringJitter:4.896084197718857,fretJitter:21.083735940940098},{number:60,velocity:61,time:60.479,channel:6,string:5,fret:20,stringJitter:5.048307422923838,fretJitter:20.192192068787204},{number:61,velocity:56,time:60.61,channel:6,string:5,fret:21,stringJitter:4.90722795152835,fretJitter:20.829135211747307},{number:60,velocity:53,time:60.725,channel:6,string:5,fret:20,stringJitter:5.020773213227885,fretJitter:20.105744331379224},{number:61,velocity:50,time:60.844,channel:6,string:5,fret:21,stringJitter:5.072111266991714,fretJitter:20.836987518175505},{number:60,velocity:48,time:61.001,channel:6,string:5,fret:20,stringJitter:4.827227766979282,fretJitter:19.90712834639643},{number:61,velocity:46,time:61.117,channel:6,string:5,fret:21,stringJitter:5.016231149342237,fretJitter:21.014850534392362},{number:60,velocity:45,time:61.262,channel:6,string:5,fret:20,stringJitter:5.146305268677649,fretJitter:20.1579080911675},{number:57,velocity:44,time:61.543,channel:6,string:5,fret:17,stringJitter:4.900370954083213,fretJitter:16.802061826807726},{number:45,velocity:105,time:62.01,channel:6,string:5,fret:5,stringJitter:5.1494794187657025,fretJitter:5.111965231844417},{number:46,velocity:127,time:63.934,channel:6,string:5,fret:6,stringJitter:5.122897045062316,fretJitter:5.825529055548927},{number:46,velocity:106,time:63.936,channel:5,string:4,fret:1,stringJitter:4.173553762191109,fretJitter:.8407473514451965},{number:50,velocity:85,time:63.947,channel:4,string:3,fret:0,stringJitter:2.8330833375767805,fretJitter:-.10091532760826585},{number:45,velocity:81,time:63.963,channel:5,string:4,fret:0,stringJitter:3.9820049859773987,fretJitter:-.14288549121208086},{number:45,velocity:125,time:63.964,channel:6,string:5,fret:5,stringJitter:4.966235267107374,fretJitter:4.898655864932317},{number:44,velocity:112,time:64.077,channel:6,string:5,fret:4,stringJitter:5.1060111326345945,fretJitter:4.183602382517755},{number:43,velocity:103,time:64.151,channel:6,string:5,fret:3,stringJitter:4.819700824238238,fretJitter:3.1132978054872424},{number:42,velocity:102,time:64.191,channel:6,string:5,fret:2,stringJitter:5.146167283054865,fretJitter:2.1664074420103163}],p5t="fretboard-jitter",g5t="0.23.3",M5t="2024-11-26T15:34:57.533Z",y5t={pastNoteCount:d5t,tempo:h5t,barsPerFacet:f5t,notes:m5t,_appId:p5t,_softwareVersion:g5t,_date:M5t},A5t=200,v5t=120,b5t=1,C5t=[{number:72,velocity:69,time:0,channel:1,string:0,fret:8,stringJitter:.07865584116110576,fretJitter:7.922149924906547},{number:71,velocity:67,time:.05090000003576279,channel:1,string:0,fret:7,stringJitter:.057070176488140945,fretJitter:7.051891388673529},{number:69,velocity:63,time:.13890000003576278,channel:1,string:0,fret:5,stringJitter:.1111624126492453,fretJitter:4.831233141929411},{number:70,velocity:64,time:.16790000003576278,channel:1,string:0,fret:6,stringJitter:.01513683151682619,fretJitter:5.998398585004118},{number:71,velocity:64,time:.20790000003576278,channel:1,string:0,fret:7,stringJitter:.15220642501981524,fretJitter:6.800916653689999},{number:72,velocity:58,time:.28290000003576277,channel:1,string:0,fret:8,stringJitter:.08108975032401214,fretJitter:8.017932949967447},{number:74,velocity:58,time:.34090000003576276,channel:1,string:0,fret:10,stringJitter:.19917072204962435,fretJitter:9.81776139724261},{number:72,velocity:56,time:.4149000000357628,channel:1,string:0,fret:8,stringJitter:-.10173884429584934,fretJitter:8.18367432359388},{number:71,velocity:52,time:.4859000000357628,channel:1,string:0,fret:7,stringJitter:.07327725394567129,fretJitter:7.189351779647239},{number:71,velocity:93,time:.5359000000357628,channel:1,string:0,fret:7,stringJitter:.14834592514239162,fretJitter:7.06672208559191},{number:74,velocity:78,time:.5849000000357628,channel:1,string:0,fret:10,stringJitter:-.15819118348695485,fretJitter:9.863280753801497},{number:72,velocity:74,time:.6439000000357628,channel:1,string:0,fret:8,stringJitter:.13527917343464377,fretJitter:8.106732188657565},{number:71,velocity:66,time:.7189000000357628,channel:1,string:0,fret:7,stringJitter:-.18647536738077744,fretJitter:7.054712173328554},{number:72,velocity:72,time:.7479000000357627,channel:1,string:0,fret:8,stringJitter:.134677052045856,fretJitter:7.80810887515964},{number:75,velocity:58,time:.8639000000357628,channel:1,string:0,fret:11,stringJitter:-.04252821360007904,fretJitter:10.827210828768635},{number:76,velocity:58,time:.8939000000357628,channel:1,string:0,fret:12,stringJitter:.034885496635651506,fretJitter:12.013541701357067},{number:74,velocity:62,time:.9369000000357628,channel:1,string:0,fret:10,stringJitter:-.05058716509462329,fretJitter:10.106843904280883},{number:71,velocity:10,time:1.0809000000357627,channel:2,string:1,fret:12,stringJitter:.8351941372216812,fretJitter:11.91747725490162},{number:64,velocity:47,time:1.3419000000357628,channel:2,string:1,fret:5,stringJitter:1.1483026272155425,fretJitter:5.158261081680877},{number:69,velocity:11,time:1.3709000000357627,channel:2,string:1,fret:10,stringJitter:1.1868440531572662,fretJitter:10.187883087040394},{number:71,velocity:10,time:1.5609000000357627,channel:1,string:0,fret:7,stringJitter:-.19206995764324777,fretJitter:7.075303282795584},{number:55,velocity:10,time:1.5629000000357627,channel:3,string:2,fret:0,stringJitter:2.138620683100603,fretJitter:.06765054535191464},{number:66,velocity:10,time:1.5879000000357628,channel:2,string:1,fret:7,stringJitter:.9141132464546244,fretJitter:6.842191599544706},{number:70,velocity:10,time:1.6459000000357629,channel:1,string:0,fret:6,stringJitter:.17547972840715076,fretJitter:5.887277310450567},{number:65,velocity:10,time:1.6469000000357628,channel:2,string:1,fret:6,stringJitter:1.0350603256179556,fretJitter:5.822399076818166},{number:64,velocity:10,time:1.6879000000357627,channel:2,string:1,fret:5,stringJitter:1.0072612338702807,fretJitter:4.8996367792048074},{number:65,velocity:10,time:1.7769000000357629,channel:2,string:1,fret:6,stringJitter:1.1263581953470072,fretJitter:6.093708006458162},{number:55,velocity:54,time:1.8359000000357628,channel:3,string:2,fret:0,stringJitter:2.136684647813563,fretJitter:.06605670742460168},{number:62,velocity:54,time:1.8649000000357627,channel:3,string:2,fret:7,stringJitter:2.1314609365758863,fretJitter:7.095611704016525},{number:75,velocity:10,time:1.9209000000357628,channel:2,string:1,fret:16,stringJitter:1.0018077806071735,fretJitter:15.816962824530503},{number:64,velocity:10,time:1.9529000000357628,channel:2,string:1,fret:5,stringJitter:1.0651990954366795,fretJitter:5.0229054536274305},{number:61,velocity:10,time:2.041900000035763,channel:3,string:2,fret:6,stringJitter:2.1872629077725607,fretJitter:6.050461618831056},{number:65,velocity:10,time:2.054900000035763,channel:2,string:1,fret:6,stringJitter:1.02124528177846,fretJitter:6.05575783522525},{number:67,velocity:13,time:2.099900000035763,channel:2,string:1,fret:8,stringJitter:1.0001011695996873,fretJitter:8.064859416007899},{number:72,velocity:10,time:2.1019000000357626,channel:1,string:0,fret:8,stringJitter:-.1238011789810213,fretJitter:8.125483192696711},{number:63,velocity:34,time:2.110900000035763,channel:3,string:2,fret:8,stringJitter:2.1102661203776294,fretJitter:7.880292804118692},{number:84,velocity:10,time:2.1259000000357626,channel:1,string:0,fret:20,stringJitter:.007561943150096973,fretJitter:20.00931640607588},{number:85,velocity:10,time:2.196900000035763,channel:1,string:0,fret:21,stringJitter:-.17354540493195697,fretJitter:21.053768215969548},{number:65,velocity:21,time:2.2149000000357626,channel:2,string:1,fret:6,stringJitter:1.0369206974562968,fretJitter:5.967351311226026},{number:64,velocity:13,time:2.2579000000357627,channel:2,string:1,fret:5,stringJitter:.9178775652855218,fretJitter:4.92321388399038},{number:57,velocity:20,time:2.2829000000357627,channel:3,string:2,fret:2,stringJitter:2.0071015121661344,fretJitter:2.1841474651431856},{number:62,velocity:10,time:2.300900000035763,channel:3,string:2,fret:7,stringJitter:1.989643813680044,fretJitter:7.067700679566646},{number:74,velocity:10,time:2.3639000000357626,channel:2,string:1,fret:15,stringJitter:1.183846767178486,fretJitter:14.998552376392482},{number:64,velocity:43,time:2.380900000035763,channel:2,string:1,fret:5,stringJitter:1.1056930678191856,fretJitter:5.105383419947089},{number:57,velocity:46,time:2.4799000000357627,channel:4,string:3,fret:7,stringJitter:2.94018942591385,fretJitter:7.011746936534806},{number:62,velocity:10,time:2.481900000035763,channel:3,string:2,fret:7,stringJitter:2.136386062476361,fretJitter:7.082041210736798},{number:61,velocity:45,time:2.513900000035763,channel:3,string:2,fret:6,stringJitter:1.8393789997289471,fretJitter:5.84983795626858},{number:62,velocity:40,time:2.533900000035763,channel:3,string:2,fret:7,stringJitter:2.1013431917954093,fretJitter:6.848518264331661},{number:60,velocity:34,time:2.546900000035763,channel:3,string:2,fret:5,stringJitter:1.87351588920979,fretJitter:4.908230994133477},{number:50,velocity:10,time:2.547900000035763,channel:4,string:3,fret:0,stringJitter:3.177474050943542,fretJitter:-.16852976661937538},{number:60,velocity:73,time:2.638900000035763,channel:3,string:2,fret:5,stringJitter:1.994380073591326,fretJitter:5.124047405855501},{number:62,velocity:69,time:2.6939000000357627,channel:3,string:2,fret:7,stringJitter:1.9046536419533258,fretJitter:6.8500580157272255},{number:63,velocity:64,time:2.820900000035763,channel:3,string:2,fret:8,stringJitter:1.8853997387604278,fretJitter:7.824667506181801},{number:62,velocity:64,time:2.880900000035763,channel:3,string:2,fret:7,stringJitter:1.9584795646392779,fretJitter:6.841653367886116},{number:63,velocity:64,time:2.9969000000357626,channel:3,string:2,fret:8,stringJitter:1.878551306855528,fretJitter:8.01355665330825},{number:62,velocity:58,time:3.215900000035763,channel:3,string:2,fret:7,stringJitter:2.012085830668181,fretJitter:7.0772754070159465},{number:63,velocity:58,time:3.360900000035763,channel:3,string:2,fret:8,stringJitter:2.004058633057881,fretJitter:8.042509301164394},{number:62,velocity:57,time:3.4029000000357628,channel:3,string:2,fret:7,stringJitter:1.8205244102624274,fretJitter:6.820380430503733},{number:69,velocity:23,time:3.525900000035763,channel:1,string:0,fret:5,stringJitter:-.07305339256456689,fretJitter:4.937629843526996},{number:65,velocity:10,time:3.6869000000357626,channel:2,string:1,fret:6,stringJitter:.8170201811148647,fretJitter:5.898003048036857},{number:71,velocity:32,time:3.7059000000357627,channel:1,string:0,fret:7,stringJitter:-.09412086166020926,fretJitter:7.172074536114367},{number:72,velocity:33,time:3.8669000000357627,channel:1,string:0,fret:8,stringJitter:.011424597105421165,fretJitter:7.883116071740345},{number:71,velocity:29,time:3.9679000000357627,channel:1,string:0,fret:7,stringJitter:-.04309669321727814,fretJitter:7.032563818535607},{number:70,velocity:28,time:4.0259000000357625,channel:1,string:0,fret:6,stringJitter:-.03493077287511879,fretJitter:5.833552832909134},{number:71,velocity:30,time:4.056900000035763,channel:1,string:0,fret:7,stringJitter:.15056789452250907,fretJitter:6.89053653717691},{number:74,velocity:32,time:4.141900000035763,channel:1,string:0,fret:10,stringJitter:.14651022039532346,fretJitter:10.078395239654881},{number:72,velocity:26,time:4.215900000035763,channel:1,string:0,fret:8,stringJitter:.004248281812956023,fretJitter:7.9920889993165805},{number:71,velocity:25,time:4.301900000035763,channel:1,string:0,fret:7,stringJitter:-.005314563809285922,fretJitter:7.086071667333749},{number:76,velocity:10,time:4.379900000035763,channel:2,string:1,fret:17,stringJitter:.9866992825526352,fretJitter:17.18406344459336},{number:72,velocity:20,time:4.389900000035762,channel:1,string:0,fret:8,stringJitter:-.06973849200989601,fretJitter:7.878867177091314},{number:66,velocity:20,time:4.4299000000357625,channel:2,string:1,fret:7,stringJitter:.9591327676549158,fretJitter:7.109433487366527},{number:71,velocity:18,time:4.487900000035763,channel:1,string:0,fret:7,stringJitter:-.1502449162258599,fretJitter:6.850509976139924},{number:71,velocity:94,time:4.515900000035763,channel:1,string:0,fret:7,stringJitter:-.19813050055672302,fretJitter:7.046494995919364},{number:66,velocity:10,time:4.545900000035763,channel:2,string:1,fret:7,stringJitter:.8182141109104476,fretJitter:6.878524667799315},{number:67,velocity:16,time:4.579,channel:2,string:1,fret:8,stringJitter:.886339905608277,fretJitter:7.923401465262985},{number:68,velocity:13,time:4.6509000000357625,channel:2,string:1,fret:9,stringJitter:1.0675013934325075,fretJitter:8.806074471429913},{number:69,velocity:15,time:4.680900000035763,channel:2,string:1,fret:10,stringJitter:1.0683410174074937,fretJitter:9.901570029811898},{number:72,velocity:79,time:4.780900000035762,channel:1,string:0,fret:8,stringJitter:-.08707944695390823,fretJitter:7.989973232302097},{number:59,velocity:32,time:4.821900000035763,channel:2,string:1,fret:0,stringJitter:.8507736715830431,fretJitter:-.0529576763622055},{number:69,velocity:34,time:4.913900000035762,channel:2,string:1,fret:10,stringJitter:1.1071762433176175,fretJitter:9.811530905576271},{number:72,velocity:83,time:4.983900000035763,channel:1,string:0,fret:8,stringJitter:.0908270585987431,fretJitter:7.927478500611638},{number:74,velocity:58,time:5.0789000000357625,channel:1,string:0,fret:10,stringJitter:.18115945314518403,fretJitter:10.041110526055048},{number:75,velocity:65,time:5.286900000035763,channel:1,string:0,fret:11,stringJitter:.18040617011369459,fretJitter:10.959533694223524},{number:76,velocity:62,time:5.318900000035763,channel:1,string:0,fret:12,stringJitter:.13823544030859436,fretJitter:12.013517819115725},{number:75,velocity:59,time:5.4779000000357625,channel:1,string:0,fret:11,stringJitter:-.18209508142090833,fretJitter:10.976713797970845},{number:86,velocity:46,time:5.522900000035762,channel:1,string:0,fret:22,stringJitter:.08124636589935195,fretJitter:22.00933343304714},{number:74,velocity:50,time:5.537900000035763,channel:1,string:0,fret:10,stringJitter:.17375344507567983,fretJitter:9.867056810879378},{number:76,velocity:41,time:5.608900000035763,channel:1,string:0,fret:12,stringJitter:-.022950377205436558,fretJitter:11.952616416297566},{number:76,velocity:10,time:5.660900000035763,channel:1,string:0,fret:12,stringJitter:.010253981957363136,fretJitter:11.906688434533889},{number:77,velocity:13,time:5.840900000035763,channel:1,string:0,fret:13,stringJitter:.18968449750854965,fretJitter:12.914561078781698},{number:76,velocity:15,time:5.943900000035763,channel:1,string:0,fret:12,stringJitter:.18529731158851945,fretJitter:12.179166760560662},{number:75,velocity:10,time:6.058900000035763,channel:1,string:0,fret:11,stringJitter:-.17799546941357686,fretJitter:10.93353672654415},{number:74,velocity:10,time:6.0869000000357625,channel:1,string:0,fret:10,stringJitter:.08398761425867979,fretJitter:10.154089451238075},{number:59,velocity:30,time:6.097900000035763,channel:2,string:1,fret:0,stringJitter:.9805288860279291,fretJitter:.18697325712865923},{number:74,velocity:45,time:6.198900000035763,channel:1,string:0,fret:10,stringJitter:.1275627295514198,fretJitter:9.96808182254374},{number:71,velocity:113,time:6.316900000035763,channel:2,string:1,fret:12,stringJitter:1.1567743954050955,fretJitter:11.93262175827373},{number:72,velocity:96,time:6.406900000035763,channel:2,string:1,fret:13,stringJitter:1.0696628146110114,fretJitter:13.09785491355415},{number:73,velocity:95,time:6.436900000035763,channel:2,string:1,fret:14,stringJitter:.8840787962038683,fretJitter:14.106060470744898},{number:72,velocity:83,time:6.552900000035763,channel:2,string:1,fret:13,stringJitter:.8218010417855568,fretJitter:13.038340775408656},{number:75,velocity:48,time:6.584900000035763,channel:1,string:0,fret:11,stringJitter:-.13166180871854546,fretJitter:11.101895305889482},{number:76,velocity:40,time:6.681900000035763,channel:1,string:0,fret:12,stringJitter:-.04771015420747071,fretJitter:11.876032570173859},{number:77,velocity:61,time:6.721900000035763,channel:2,string:1,fret:18,stringJitter:1.1051494871423526,fretJitter:17.857947866424208},{number:74,velocity:67,time:6.725900000035763,channel:2,string:1,fret:15,stringJitter:1.1146627037318295,fretJitter:15.102688797898388},{number:76,velocity:10,time:6.859900000035763,channel:1,string:0,fret:12,stringJitter:.032910948580670764,fretJitter:12.023696844933871},{number:72,velocity:107,time:7.0019000000357625,channel:2,string:1,fret:13,stringJitter:1.0820600358295647,fretJitter:13.157344764306284},{number:72,velocity:103,time:7.444900000035763,channel:2,string:1,fret:13,stringJitter:1.1921826680721765,fretJitter:12.917713944074169},{number:76,velocity:69,time:7.5869000000357625,channel:1,string:0,fret:12,stringJitter:-.003657636790311969,fretJitter:11.849605234201368},{number:77,velocity:70,time:7.6109000000357625,channel:1,string:0,fret:13,stringJitter:.057251919564439736,fretJitter:12.876473977400995},{number:79,velocity:61,time:7.756900000035762,channel:1,string:0,fret:15,stringJitter:.06302477046913495,fretJitter:15.031460859724225},{number:77,velocity:58,time:7.799900000035763,channel:1,string:0,fret:13,stringJitter:.1270525897206529,fretJitter:13.110552049371643},{number:76,velocity:52,time:7.883900000035763,channel:1,string:0,fret:12,stringJitter:-.010735586528932207,fretJitter:12.051426988659927},{number:72,velocity:121,time:7.968900000035763,channel:2,string:1,fret:13,stringJitter:.8348241238863059,fretJitter:13.138180228846204},{number:76,velocity:78,time:8.076900000035764,channel:1,string:0,fret:12,stringJitter:.1569467146565506,fretJitter:12.142036242592797},{number:72,velocity:116,time:8.185900000035764,channel:2,string:1,fret:13,stringJitter:.8946321968029363,fretJitter:12.934702143121353},{number:73,velocity:112,time:8.246900000035764,channel:2,string:1,fret:14,stringJitter:.8519015929797453,fretJitter:14.166891413517673},{number:74,velocity:113,time:8.260900000035763,channel:2,string:1,fret:15,stringJitter:1.0459692639437344,fretJitter:14.9449213585083},{number:75,velocity:95,time:8.598900000035762,channel:2,string:1,fret:16,stringJitter:1.1378087568842778,fretJitter:15.900379026811537},{number:76,velocity:96,time:8.623900000035762,channel:2,string:1,fret:17,stringJitter:1.041603327295552,fretJitter:17.05586778994138},{number:79,velocity:10,time:8.768900000035762,channel:1,string:0,fret:15,stringJitter:-.1261606652050425,fretJitter:14.856999619487128},{number:76,velocity:66,time:8.882900000035763,channel:2,string:1,fret:17,stringJitter:1.0192269100728535,fretJitter:16.97746419192344},{number:81,velocity:10,time:8.975900000035763,channel:1,string:0,fret:17,stringJitter:.047550935242431175,fretJitter:16.942007718444785},{number:79,velocity:73,time:9.000900000035763,channel:1,string:0,fret:15,stringJitter:.02847348874588338,fretJitter:14.816857946304633},{number:81,velocity:106,time:9.100900000035763,channel:1,string:0,fret:17,stringJitter:.12326337510034469,fretJitter:17.133719924416592},{number:82,velocity:97,time:9.235900000035763,channel:1,string:0,fret:18,stringJitter:.0298983679344496,fretJitter:17.804955389223693},{number:81,velocity:88,time:9.321900000035763,channel:1,string:0,fret:17,stringJitter:.18617760672820696,fretJitter:17.145827825618216},{number:84,velocity:10,time:9.757900000035763,channel:1,string:0,fret:20,stringJitter:-.07856395695473184,fretJitter:19.94389690402032},{number:82,velocity:10,time:9.836900000035763,channel:1,string:0,fret:18,stringJitter:.17714199442342624,fretJitter:18.064674521263033},{number:75,velocity:10,time:9.907900000035763,channel:2,string:1,fret:16,stringJitter:.9462501536379817,fretJitter:15.814443826259154},{number:81,velocity:10,time:10.004900000035763,channel:1,string:0,fret:17,stringJitter:-.188712819736449,fretJitter:16.84594931964485},{number:84,velocity:21,time:10.017,channel:1,string:0,fret:20,stringJitter:.1347147845479247,fretJitter:20.12161550643715},{number:81,velocity:20,time:10.080900000035763,channel:1,string:0,fret:17,stringJitter:-.18892063555111804,fretJitter:16.859291598049783},{number:71,velocity:10,time:10.116900000035763,channel:3,string:2,fret:16,stringJitter:2.1160705999794893,fretJitter:16.160024692456734},{number:76,velocity:10,time:10.255900000035762,channel:2,string:1,fret:17,stringJitter:1.19601124847622,fretJitter:16.884628399683788},{number:69,velocity:10,time:10.257900000035763,channel:1,string:0,fret:5,stringJitter:.09115073402479289,fretJitter:5.056574781293486},{number:64,velocity:10,time:10.267900000035763,channel:1,string:0,fret:0,stringJitter:.12216476505591922,fretJitter:-.10979417196856388},{number:57,velocity:48,time:10.36,channel:3,string:2,fret:2,stringJitter:2.1970565813663168,fretJitter:1.8557519860628149},{number:57,velocity:41,time:10.368900000035763,channel:4,string:3,fret:7,stringJitter:2.9086792275759086,fretJitter:7.188541918721514},{number:74,velocity:33,time:10.381900000035763,channel:3,string:2,fret:19,stringJitter:2.161674420975277,fretJitter:19.098363906356074},{number:55,velocity:10,time:10.407900000035763,channel:6,string:5,fret:15,stringJitter:5.141306901703388,fretJitter:15.124840863696294},{number:76,velocity:71,time:10.455900000035763,channel:2,string:1,fret:17,stringJitter:1.135872018988525,fretJitter:17.17289495313871},{number:74,velocity:57,time:10.582900000035762,channel:3,string:2,fret:19,stringJitter:2.0153433653552186,fretJitter:19.090696233043378},{number:73,velocity:46,time:10.643900000035762,channel:3,string:2,fret:18,stringJitter:2.0373801060415255,fretJitter:17.959619488532123},{number:76,velocity:41,time:10.700900000035762,channel:2,string:1,fret:17,stringJitter:.9874862444074612,fretJitter:17.004871729536962},{number:77,velocity:49,time:10.775900000035763,channel:2,string:1,fret:18,stringJitter:.8260022588597158,fretJitter:17.866788135658688},{number:71,velocity:42,time:10.988900000035763,channel:3,string:2,fret:16,stringJitter:2.0594534211023543,fretJitter:15.887364040940676},{number:74,velocity:43,time:11.036,channel:3,string:2,fret:19,stringJitter:2.006838325694334,fretJitter:18.91645579207805},{number:75,velocity:10,time:11.061900000035763,channel:2,string:1,fret:16,stringJitter:.9293573193499285,fretJitter:16.080029805652078},{number:75,velocity:13,time:11.069900000035762,channel:2,string:1,fret:16,stringJitter:1.0650525227798147,fretJitter:16.161295127426808},{number:78,velocity:49,time:11.084900000035763,channel:2,string:1,fret:19,stringJitter:.9179099093997822,fretJitter:19.063957310586083},{number:71,velocity:10,time:11.143900000035762,channel:3,string:2,fret:16,stringJitter:1.8622164138195343,fretJitter:15.887506280698329},{number:66,velocity:42,time:11.153900000035764,channel:2,string:1,fret:7,stringJitter:.9850390631212969,fretJitter:6.92553291883868},{number:59,velocity:40,time:11.163900000035763,channel:2,string:1,fret:0,stringJitter:1.077433328276046,fretJitter:.04439361052427318},{number:72,velocity:10,time:11.166900000035763,channel:3,string:2,fret:17,stringJitter:1.9690474155995261,fretJitter:17.114532290600824},{number:74,velocity:10,time:11.268900000035762,channel:3,string:2,fret:19,stringJitter:1.9881525928321815,fretJitter:19.178851044795554},{number:50,velocity:10,time:11.290900000035762,channel:4,string:3,fret:0,stringJitter:2.8013413210920395,fretJitter:-.008174870831181203},{number:72,velocity:13,time:11.328900000035762,channel:3,string:2,fret:17,stringJitter:2.0912633207602935,fretJitter:16.96121878065225},{number:69,velocity:26,time:11.336900000035763,channel:2,string:1,fret:10,stringJitter:1.1276278519831138,fretJitter:10.198050655471423},{number:75,velocity:10,time:11.354900000035762,channel:2,string:1,fret:16,stringJitter:.9432367542336064,fretJitter:16.150279963999477},{number:51,velocity:18,time:11.381900000035763,channel:4,string:3,fret:1,stringJitter:2.906908464418332,fretJitter:1.1701122419161885},{number:69,velocity:43,time:11.440900000035763,channel:4,string:3,fret:19,stringJitter:2.820512182559612,fretJitter:18.841086005364517},{number:72,velocity:41,time:11.485900000035763,channel:3,string:2,fret:17,stringJitter:1.9202913931743346,fretJitter:16.925123311325347},{number:69,velocity:18,time:11.595900000035762,channel:4,string:3,fret:19,stringJitter:3.064481435282561,fretJitter:18.951194934840295},{number:69,velocity:77,time:11.609900000035763,channel:4,string:3,fret:19,stringJitter:2.8776590332771987,fretJitter:18.861426804610808},{number:67,velocity:82,time:11.688900000035762,channel:4,string:3,fret:17,stringJitter:3.1900321929696296,fretJitter:17.181581886666375},{number:69,velocity:33,time:11.785900000035763,channel:4,string:3,fret:19,stringJitter:2.8762073154426364,fretJitter:19.10444445724998},{number:70,velocity:11,time:11.835900000035762,channel:4,string:3,fret:20,stringJitter:2.8238654131735608,fretJitter:20.147410539498324},{number:50,velocity:10,time:11.885900000035763,channel:4,string:3,fret:0,stringJitter:2.848967304504916,fretJitter:.1992105600422157},{number:72,velocity:10,time:11.929900000035763,channel:3,string:2,fret:17,stringJitter:1.8648516076917883,fretJitter:17.124907736677713},{number:72,velocity:126,time:11.940900000035763,channel:3,string:2,fret:17,stringJitter:2.055559409781569,fretJitter:16.83690998477494},{number:70,velocity:127,time:12.115900000035763,channel:4,string:3,fret:20,stringJitter:3.1405073847602996,fretJitter:20.19289327655},{number:69,velocity:127,time:12.123900000035762,channel:4,string:3,fret:19,stringJitter:2.8024904316342187,fretJitter:19.008790087568915},{number:68,velocity:124,time:12.222900000035763,channel:4,string:3,fret:18,stringJitter:3.1029035698417604,fretJitter:17.893571400567488},{number:72,velocity:103,time:12.246900000035764,channel:3,string:2,fret:17,stringJitter:1.831649109436042,fretJitter:17.028030764744674},{number:71,velocity:91,time:12.473900000035762,channel:3,string:2,fret:16,stringJitter:1.9427457270989972,fretJitter:15.86305574829499},{number:70,velocity:91,time:12.485900000035763,channel:3,string:2,fret:15,stringJitter:2.1083714824838027,fretJitter:15.133615790403162},{number:69,velocity:89,time:12.500900000035763,channel:3,string:2,fret:14,stringJitter:2.0318574198954713,fretJitter:13.992364989777837},{number:68,velocity:88,time:12.516900000035763,channel:3,string:2,fret:13,stringJitter:2.0672247537360713,fretJitter:13.04395910729155},{number:67,velocity:86,time:12.544900000035764,channel:3,string:2,fret:12,stringJitter:1.9793562542515961,fretJitter:11.835206507218903},{number:68,velocity:77,time:12.938,channel:3,string:2,fret:13,stringJitter:1.9666759041935542,fretJitter:12.899501002494132},{number:67,velocity:76,time:13.038900000035763,channel:3,string:2,fret:12,stringJitter:1.851321051614863,fretJitter:12.1097803043581},{number:66,velocity:76,time:13.081900000035763,channel:3,string:2,fret:11,stringJitter:1.9654300003271863,fretJitter:11.04042917312897},{number:65,velocity:75,time:13.096900000035763,channel:3,string:2,fret:10,stringJitter:2.0461566652562895,fretJitter:10.095538507670158},{number:63,velocity:74,time:13.125900000035763,channel:3,string:2,fret:8,stringJitter:2.0981566724357577,fretJitter:8.18407993134705},{number:62,velocity:74,time:13.141900000035763,channel:3,string:2,fret:7,stringJitter:2.0270960737551516,fretJitter:7.022704120375539},{number:50,velocity:94,time:13.260900000035763,channel:4,string:3,fret:0,stringJitter:2.9076224973777616,fretJitter:-.03813087083413196},{number:57,velocity:97,time:13.283900000035763,channel:4,string:3,fret:7,stringJitter:2.887529187553913,fretJitter:7.043920076550856},{number:68,velocity:74,time:13.384900000035763,channel:3,string:2,fret:13,stringJitter:1.8763696471222848,fretJitter:13.042730294100338},{number:69,velocity:74,time:13.458900000035763,channel:3,string:2,fret:14,stringJitter:1.9624261731823234,fretJitter:14.05247041389021},{number:72,velocity:97,time:13.489900000035762,channel:2,string:1,fret:13,stringJitter:1.050910396677807,fretJitter:13.103368843188296},{number:69,velocity:88,time:13.834900000035763,channel:3,string:2,fret:14,stringJitter:2.060322082818134,fretJitter:14.063266267768181},{number:63,velocity:28,time:13.841900000035762,channel:4,string:3,fret:13,stringJitter:2.8588143429271526,fretJitter:12.977517842551915},{number:71,velocity:52,time:13.959900000035763,channel:2,string:1,fret:12,stringJitter:1.198484023520055,fretJitter:11.831150084260289},{number:72,velocity:57,time:14.039900000035763,channel:2,string:1,fret:13,stringJitter:.9866490177088825,fretJitter:12.87192007500881},{number:68,velocity:10,time:14.135900000035763,channel:3,string:2,fret:13,stringJitter:1.806549375739137,fretJitter:12.993558612808464},{number:67,velocity:10,time:14.156900000035764,channel:3,string:2,fret:12,stringJitter:1.8991925836847299,fretJitter:11.985953531339737},{number:69,velocity:10,time:14.169900000035764,channel:3,string:2,fret:14,stringJitter:1.9978616339799051,fretJitter:14.12312020201862},{number:74,velocity:35,time:14.183900000035763,channel:2,string:1,fret:15,stringJitter:.9245548724858398,fretJitter:15.095365392501096},{number:72,velocity:32,time:14.213900000035762,channel:2,string:1,fret:13,stringJitter:1.0246703858416255,fretJitter:12.905127117323932},{number:76,velocity:10,time:14.235900000035763,channel:1,string:0,fret:12,stringJitter:-.12880564312079762,fretJitter:11.967240763793917},{number:71,velocity:37,time:14.301900000035763,channel:2,string:1,fret:12,stringJitter:1.0697008091979265,fretJitter:12.01083823470154},{number:80,velocity:26,time:14.303900000035762,channel:1,string:0,fret:16,stringJitter:.026530777394245943,fretJitter:15.90429736763867},{number:64,velocity:10,time:14.314900000035763,channel:1,string:0,fret:0,stringJitter:-.0005810891085402226,fretJitter:-.009587990354441979},{number:72,velocity:102,time:14.732900000035762,channel:2,string:1,fret:13,stringJitter:1.054188091462128,fretJitter:12.868487164500191},{number:71,velocity:114,time:15.102900000035763,channel:2,string:1,fret:12,stringJitter:1.0357701837303925,fretJitter:12.144429224985242},{number:70,velocity:99,time:15.302900000035763,channel:2,string:1,fret:11,stringJitter:.8703967764087487,fretJitter:11.110944758055709},{number:69,velocity:100,time:15.315900000035763,channel:2,string:1,fret:10,stringJitter:.9542553679477137,fretJitter:9.9035304978448},{number:70,velocity:90,time:15.521900000035762,channel:2,string:1,fret:11,stringJitter:1.0141886550816022,fretJitter:11.038099113703748},{number:69,velocity:87,time:15.576900000035764,channel:2,string:1,fret:10,stringJitter:.8430250665170702,fretJitter:10.197316669977635},{number:71,velocity:125,time:15.703900000035762,channel:2,string:1,fret:12,stringJitter:.9590586900807272,fretJitter:11.838498092285395},{number:69,velocity:125,time:15.941900000035762,channel:2,string:1,fret:10,stringJitter:1.0683947486179906,fretJitter:10.128964347007837},{number:68,velocity:113,time:15.984900000035763,channel:2,string:1,fret:9,stringJitter:.8946774136009521,fretJitter:8.863091982620963},{number:66,velocity:97,time:16.055900000035763,channel:2,string:1,fret:7,stringJitter:.9825499236845635,fretJitter:7.098594469517135},{number:69,velocity:87,time:16.171900000035762,channel:2,string:1,fret:10,stringJitter:1.056917115976387,fretJitter:10.029138352316618},{number:75,velocity:13,time:16.27590000003576,channel:3,string:2,fret:20,stringJitter:1.989788213323999,fretJitter:19.85509075086049},{number:55,velocity:13,time:16.288900000035763,channel:3,string:2,fret:0,stringJitter:1.8712107881263107,fretJitter:.1760264393823089},{number:67,velocity:41,time:16.303900000035764,channel:2,string:1,fret:8,stringJitter:.985747703138301,fretJitter:8.173913021575865},{number:66,velocity:34,time:16.448900000035763,channel:2,string:1,fret:7,stringJitter:.9681384537765966,fretJitter:7.164164134445859},{number:65,velocity:32,time:16.463900000035764,channel:2,string:1,fret:6,stringJitter:.9020958311596011,fretJitter:6.148614095031728},{number:64,velocity:32,time:16.49090000003576,channel:2,string:1,fret:5,stringJitter:.8176892558301612,fretJitter:4.898864932923397},{number:65,velocity:25,time:16.636900000035762,channel:2,string:1,fret:6,stringJitter:1.1672220137507938,fretJitter:6.116098053812521},{number:64,velocity:28,time:16.710900000035764,channel:2,string:1,fret:5,stringJitter:.8419417492343488,fretJitter:5.168903981989885},{number:55,velocity:80,time:16.745900000035764,channel:3,string:2,fret:0,stringJitter:1.8689127852822562,fretJitter:.06719314661103529},{number:62,velocity:89,time:16.810900000035762,channel:3,string:2,fret:7,stringJitter:1.9469368862105723,fretJitter:7.140003737167364},{number:65,velocity:116,time:16.845900000035762,channel:2,string:1,fret:6,stringJitter:.8718029339597002,fretJitter:5.893077555298574},{number:64,velocity:112,time:16.85390000003576,channel:2,string:1,fret:5,stringJitter:1.1109537037841117,fretJitter:4.986443688675278},{number:62,velocity:103,time:16.971900000035763,channel:3,string:2,fret:7,stringJitter:2.026332241397423,fretJitter:7.113788136720424},{number:65,velocity:127,time:17.07490000003576,channel:2,string:1,fret:6,stringJitter:1.0891940536187914,fretJitter:6.085033453940812},{number:64,velocity:127,time:17.08690000003576,channel:2,string:1,fret:5,stringJitter:1.0422596731148386,fretJitter:4.899308446595813},{number:65,velocity:127,time:17.143900000035764,channel:2,string:1,fret:6,stringJitter:.948006342767919,fretJitter:6.043988704134797},{number:66,velocity:122,time:17.20290000003576,channel:2,string:1,fret:7,stringJitter:.8248119737014832,fretJitter:6.957983206001212},{number:65,velocity:113,time:17.274900000035764,channel:2,string:1,fret:6,stringJitter:1.0911761672474276,fretJitter:6.142340231751461},{number:64,velocity:111,time:17.30490000003576,channel:2,string:1,fret:5,stringJitter:1.1811231886329612,fretJitter:5.161895933641918},{number:62,velocity:45,time:17.369900000035763,channel:3,string:2,fret:7,stringJitter:1.9654286618649173,fretJitter:6.95449194547064},{number:60,velocity:42,time:17.477900000035763,channel:3,string:2,fret:5,stringJitter:2.076104485188858,fretJitter:5.004294839656185},{number:61,velocity:39,time:17.581900000035763,channel:3,string:2,fret:6,stringJitter:2.183608187648575,fretJitter:5.993168547119014},{number:60,velocity:34,time:17.63890000003576,channel:3,string:2,fret:5,stringJitter:2.108416666696104,fretJitter:4.863222436365512},{number:57,velocity:90,time:17.729900000035762,channel:4,string:3,fret:7,stringJitter:3.0734453801222963,fretJitter:7.075045309856228},{number:50,velocity:70,time:17.87190000003576,channel:4,string:3,fret:0,stringJitter:2.8828075490841716,fretJitter:-.1950085863865148},{number:57,velocity:83,time:17.918900000035762,channel:4,string:3,fret:7,stringJitter:2.8150465604731685,fretJitter:6.938098589135116},{number:61,velocity:44,time:18.023900000035763,channel:3,string:2,fret:6,stringJitter:2.0364117992217574,fretJitter:5.84439095617764},{number:55,velocity:79,time:18.031900000035762,channel:4,string:3,fret:5,stringJitter:3.1994570472306614,fretJitter:5.138812409918679},{number:79,velocity:10,time:18.04590000003576,channel:3,string:2,fret:24,stringJitter:1.8784224549778719,fretJitter:23.874724138752942},{number:52,velocity:79,time:18.129900000035764,channel:5,string:4,fret:7,stringJitter:4.158211182176588,fretJitter:6.851934762985198},{number:78,velocity:10,time:18.217900000035762,channel:3,string:2,fret:23,stringJitter:1.8945327745735594,fretJitter:23.193626494396494},{number:79,velocity:10,time:18.232900000035762,channel:3,string:2,fret:24,stringJitter:2.002398408742315,fretJitter:23.817913171851202},{number:45,velocity:10,time:18.234,channel:5,string:4,fret:0,stringJitter:4.115768635443139,fretJitter:.03482491209341072},{number:51,velocity:47,time:18.268900000035764,channel:5,string:4,fret:6,stringJitter:3.9641649345509684,fretJitter:6.002996229883796},{number:47,velocity:75,time:18.387900000035764,channel:6,string:5,fret:7,stringJitter:4.937083709101403,fretJitter:7.184993892946025},{number:48,velocity:82,time:18.466900000035764,channel:6,string:5,fret:8,stringJitter:4.836232648590995,fretJitter:8.179030612810442},{number:45,velocity:108,time:18.55490000003576,channel:6,string:5,fret:5,stringJitter:4.8940347599876475,fretJitter:5.134662012864757},{number:53,velocity:28,time:18.67,channel:5,string:4,fret:8,stringJitter:3.9145237273145708,fretJitter:8.031167509516413},{number:40,velocity:10,time:18.697900000035762,channel:6,string:5,fret:0,stringJitter:4.937864520175126,fretJitter:-.1576142712417779},{number:50,velocity:96,time:18.785900000035763,channel:5,string:4,fret:5,stringJitter:3.8560484589580257,fretJitter:5.193808878393046},{number:52,velocity:60,time:18.988900000035763,channel:5,string:4,fret:7,stringJitter:4.160185300061093,fretJitter:6.882016572159008},{number:55,velocity:10,time:19.075900000035762,channel:4,string:3,fret:5,stringJitter:2.893240924428132,fretJitter:4.912824024239759},{number:55,velocity:105,time:19.124900000035762,channel:4,string:3,fret:5,stringJitter:2.8401428420392913,fretJitter:5.085907740797214},{number:57,velocity:102,time:19.221900000035763,channel:4,string:3,fret:7,stringJitter:3.1491414755998406,fretJitter:7.133356463316439},{number:61,velocity:115,time:19.22890000003576,channel:3,string:2,fret:6,stringJitter:2.1972289540016883,fretJitter:5.9225943753649855},{number:57,velocity:110,time:19.262900000035764,channel:4,string:3,fret:7,stringJitter:2.900484415891074,fretJitter:7.096726498727495},{number:62,velocity:103,time:19.26390000003576,channel:3,string:2,fret:7,stringJitter:1.8970530397648986,fretJitter:7.065398748614959},{number:50,velocity:127,time:19.383900000035762,channel:4,string:3,fret:0,stringJitter:2.9786444137939494,fretJitter:.06468088383174582},{number:60,velocity:124,time:19.483900000035764,channel:3,string:2,fret:5,stringJitter:2.081928750755515,fretJitter:4.800120216068059},{number:57,velocity:91,time:19.52890000003576,channel:4,string:3,fret:7,stringJitter:3.131200142119656,fretJitter:6.8550837011345},{number:50,velocity:127,time:19.596900000035763,channel:4,string:3,fret:0,stringJitter:2.834655232467539,fretJitter:-.11240210281898584},{number:60,velocity:71,time:19.608900000035764,channel:3,string:2,fret:5,stringJitter:1.8264021036857592,fretJitter:5.013116723404293},{number:62,velocity:69,time:19.67090000003576,channel:3,string:2,fret:7,stringJitter:2.068827257407495,fretJitter:7.179629985731397},{number:62,velocity:127,time:19.724900000035763,channel:3,string:2,fret:7,stringJitter:1.903668647378091,fretJitter:6.815453611556002},{number:63,velocity:127,time:19.843900000035763,channel:3,string:2,fret:8,stringJitter:1.8520199021209358,fretJitter:8.146625945995215},{number:62,velocity:127,time:19.85690000003576,channel:3,string:2,fret:7,stringJitter:2.099394858443264,fretJitter:7.123761066327896},{number:63,velocity:127,time:19.92990000003576,channel:3,string:2,fret:8,stringJitter:2.048273178618508,fretJitter:8.146038129302074},{number:64,velocity:127,time:19.962900000035763,channel:3,string:2,fret:9,stringJitter:1.8381998710112257,fretJitter:9.109200000931375},{number:63,velocity:127,time:20.063900000035762,channel:3,string:2,fret:8,stringJitter:1.8472285635132657,fretJitter:8.117246630941658},{number:62,velocity:127,time:20.073900000035763,channel:3,string:2,fret:7,stringJitter:1.8349539643960626,fretJitter:7.074797556277058},{number:63,velocity:127,time:20.207900000035764,channel:3,string:2,fret:8,stringJitter:2.00410057215451,fretJitter:7.866612197435945},{number:62,velocity:127,time:20.221900000035763,channel:3,string:2,fret:7,stringJitter:1.8102630463772675,fretJitter:7.000996478754371},{number:60,velocity:94,time:20.258900000035762,channel:3,string:2,fret:5,stringJitter:1.8273166461454369,fretJitter:5.1393323557369115},{number:61,velocity:72,time:20.351900000035762,channel:3,string:2,fret:6,stringJitter:1.8579342330370663,fretJitter:6.117659340696239},{number:62,velocity:71,time:20.366900000035763,channel:3,string:2,fret:7,stringJitter:2.1041874015593547,fretJitter:6.93552119123674},{number:63,velocity:72,time:20.393900000035764,channel:3,string:2,fret:8,stringJitter:1.8396613861372768,fretJitter:8.030947821604467},{number:64,velocity:69,time:20.435900000035762,channel:3,string:2,fret:9,stringJitter:2.0862601394946854,fretJitter:8.983099189741402},{number:67,velocity:28,time:20.488900000035763,channel:2,string:1,fret:8,stringJitter:1.1996465798208127,fretJitter:8.18019916894514},{number:55,velocity:63,time:20.552900000035763,channel:3,string:2,fret:0,stringJitter:2.0170021784407535,fretJitter:-.19619658070337798},{number:67,velocity:85,time:20.608900000035764,channel:2,string:1,fret:8,stringJitter:1.0692691394795928,fretJitter:8.014217336315147},{number:69,velocity:96,time:20.643900000035764,channel:2,string:1,fret:10,stringJitter:.9725346731148229,fretJitter:9.885295542377227},{number:67,velocity:127,time:21.26690000003576,channel:2,string:1,fret:8,stringJitter:1.0577715389456994,fretJitter:7.934368552186888},{number:68,velocity:127,time:21.350900000035764,channel:2,string:1,fret:9,stringJitter:1.0124185306874267,fretJitter:9.05893399561428},{number:69,velocity:117,time:21.45290000003576,channel:2,string:1,fret:10,stringJitter:.8837576433782122,fretJitter:10.196965476524195},{number:72,velocity:49,time:21.48490000003576,channel:1,string:0,fret:8,stringJitter:-.10624170460126009,fretJitter:7.9578522993320275},{number:73,velocity:46,time:21.585900000035764,channel:1,string:0,fret:9,stringJitter:.0723737700538715,fretJitter:8.958758577480577},{number:69,velocity:95,time:21.607900000035762,channel:2,string:1,fret:10,stringJitter:.9171643020984456,fretJitter:9.85484414333373},{number:74,velocity:65,time:21.812900000035764,channel:1,string:0,fret:10,stringJitter:.19626043224626183,fretJitter:9.938019491516455},{number:75,velocity:69,time:21.89,channel:1,string:0,fret:11,stringJitter:-.07153844982884942,fretJitter:10.829389052219},{number:76,velocity:73,time:21.904900000035763,channel:1,string:0,fret:12,stringJitter:.03216137074434764,fretJitter:11.843871669897565},{number:75,velocity:64,time:21.99090000003576,channel:1,string:0,fret:11,stringJitter:.10655132768998854,fretJitter:11.085248347870797},{number:73,velocity:62,time:22.049900000035763,channel:1,string:0,fret:9,stringJitter:.1390697799151905,fretJitter:9.078771298733738},{number:72,velocity:59,time:22.063900000035762,channel:1,string:0,fret:8,stringJitter:.07708257925538292,fretJitter:8.086944566032733},{number:69,velocity:23,time:22.16790000003576,channel:2,string:1,fret:10,stringJitter:.8856250375953321,fretJitter:9.889812742187209},{number:69,velocity:10,time:22.355900000035763,channel:2,string:1,fret:10,stringJitter:1.1692143388050256,fretJitter:10.179537923600527},{number:69,velocity:98,time:22.396900000035764,channel:2,string:1,fret:10,stringJitter:.819497111964332,fretJitter:9.93125484783496},{number:70,velocity:106,time:22.501900000035764,channel:2,string:1,fret:11,stringJitter:.8025964904255714,fretJitter:11.120649270828755},{number:71,velocity:105,time:22.514900000035762,channel:2,string:1,fret:12,stringJitter:1.1187742711262045,fretJitter:12.097373664266629},{number:72,velocity:103,time:22.54290000003576,channel:2,string:1,fret:13,stringJitter:1.1478036248665977,fretJitter:12.964990569896806},{number:74,velocity:10,time:22.736900000035764,channel:1,string:0,fret:10,stringJitter:.07585735461618937,fretJitter:9.867111871373712},{number:72,velocity:20,time:22.846900000035763,channel:2,string:1,fret:13,stringJitter:.8943093132489979,fretJitter:13.071868692960392},{number:75,velocity:10,time:22.86290000003576,channel:1,string:0,fret:11,stringJitter:-.02790079126014229,fretJitter:11.188287507622713},{number:72,velocity:74,time:22.883900000035762,channel:2,string:1,fret:13,stringJitter:.8819634263993681,fretJitter:13.036637513996686},{number:72,velocity:80,time:23.19,channel:2,string:1,fret:13,stringJitter:.8592904819089351,fretJitter:13.026883704160305},{number:73,velocity:86,time:23.283900000035764,channel:2,string:1,fret:14,stringJitter:.982034337571794,fretJitter:13.994822339920127},{number:74,velocity:84,time:23.32790000003576,channel:2,string:1,fret:15,stringJitter:.9385395676868202,fretJitter:14.857642316982627},{number:73,velocity:79,time:23.42990000003576,channel:2,string:1,fret:14,stringJitter:1.1195975156069207,fretJitter:13.948103080439262},{number:62,velocity:20,time:23.553900000035764,channel:4,string:3,fret:12,stringJitter:3.1971321784727644,fretJitter:12.180662456804553},{number:74,velocity:76,time:23.570900000035763,channel:2,string:1,fret:15,stringJitter:1.1319181371195985,fretJitter:14.869991018478721},{number:63,velocity:10,time:23.646,channel:4,string:3,fret:13,stringJitter:2.8229334335855754,fretJitter:13.171098557096336},{number:73,velocity:72,time:23.704900000035764,channel:2,string:1,fret:14,stringJitter:1.1968379078114535,fretJitter:13.965143607888642},{number:50,velocity:10,time:23.735900000035763,channel:4,string:3,fret:0,stringJitter:3.089667853186008,fretJitter:-.031926787781789034},{number:72,velocity:71,time:23.747900000035763,channel:2,string:1,fret:13,stringJitter:1.05404761640822,fretJitter:13.17886719792695},{number:73,velocity:70,time:23.806900000035764,channel:2,string:1,fret:14,stringJitter:.873915600707414,fretJitter:13.88991398303488},{number:74,velocity:71,time:23.83390000003576,channel:2,string:1,fret:15,stringJitter:.9312398562640988,fretJitter:14.868503439730901},{number:76,velocity:10,time:23.957900000035764,channel:1,string:0,fret:12,stringJitter:-.14531119555920605,fretJitter:12.073901493774375},{number:59,velocity:75,time:24.08390000003576,channel:2,string:1,fret:0,stringJitter:.9741265243360152,fretJitter:.08429267216562374},{number:76,velocity:92,time:24.19690000003576,channel:1,string:0,fret:12,stringJitter:.12165599304576746,fretJitter:12.122819839176683},{number:77,velocity:80,time:24.328900000035762,channel:1,string:0,fret:13,stringJitter:-.12676238164307696,fretJitter:12.815676446687988},{number:79,velocity:78,time:24.386900000035762,channel:1,string:0,fret:15,stringJitter:.19634422538671947,fretJitter:15.137444931332645},{number:77,velocity:74,time:24.444900000035762,channel:1,string:0,fret:13,stringJitter:-.10095023713386482,fretJitter:13.181773667927388},{number:76,velocity:68,time:24.529900000035763,channel:1,string:0,fret:12,stringJitter:-.008837666844235592,fretJitter:11.888140521644855},{number:72,velocity:10,time:24.588900000035764,channel:2,string:1,fret:13,stringJitter:.8636521061039155,fretJitter:13.044042899642792},{number:77,velocity:63,time:24.60390000003576,channel:1,string:0,fret:13,stringJitter:-.012073144905633005,fretJitter:12.941880690801087},{number:64,velocity:67,time:24.632900000035765,channel:1,string:0,fret:0,stringJitter:-.014257462991886617,fretJitter:.03013623941526085},{number:71,velocity:10,time:24.721900000035763,channel:2,string:1,fret:12,stringJitter:.88880571676133,fretJitter:11.973765266810046},{number:73,velocity:10,time:24.76390000003576,channel:2,string:1,fret:14,stringJitter:1.00009116380141,fretJitter:14.109603984862542},{number:74,velocity:10,time:24.791900000035763,channel:2,string:1,fret:15,stringJitter:1.0141646294359454,fretJitter:14.843025557088795},{number:59,velocity:10,time:25.052900000035763,channel:2,string:1,fret:0,stringJitter:.8716014741531211,fretJitter:-.045653375131688725},{number:71,velocity:60,time:25.157900000035763,channel:2,string:1,fret:12,stringJitter:1.1934003213170261,fretJitter:12.16710092797807},{number:74,velocity:74,time:25.198900000035763,channel:2,string:1,fret:15,stringJitter:.8937379916732581,fretJitter:14.928973890006198},{number:77,velocity:10,time:25.334900000035763,channel:1,string:0,fret:13,stringJitter:-.022389502661378114,fretJitter:12.832869349078011},{number:74,velocity:65,time:25.483900000035764,channel:2,string:1,fret:15,stringJitter:1.1305878503607043,fretJitter:14.957352716136743},{number:77,velocity:58,time:25.611900000035764,channel:1,string:0,fret:13,stringJitter:.16602174591276678,fretJitter:12.83457057938642},{number:78,velocity:66,time:25.70590000003576,channel:1,string:0,fret:14,stringJitter:-.17430229558141727,fretJitter:13.9926232094099},{number:79,velocity:58,time:25.722900000035764,channel:1,string:0,fret:15,stringJitter:-.0218978355104964,fretJitter:15.17929959157142},{number:79,velocity:92,time:25.74690000003576,channel:1,string:0,fret:15,stringJitter:-.1424580738065937,fretJitter:15.173252259370997},{number:82,velocity:85,time:26.111900000035764,channel:1,string:0,fret:18,stringJitter:-.08983561756086544,fretJitter:17.83517430999951},{number:79,velocity:85,time:26.128,channel:1,string:0,fret:15,stringJitter:.08713917281086668,fretJitter:15.195550077478881},{number:59,velocity:100,time:26.422900000035764,channel:2,string:1,fret:0,stringJitter:.8658934296645924,fretJitter:-.1701796166418931},{number:74,velocity:91,time:26.447900000035762,channel:2,string:1,fret:15,stringJitter:1.007254159004261,fretJitter:14.991108890994147},{number:75,velocity:89,time:26.54890000003576,channel:2,string:1,fret:16,stringJitter:.8656344810342045,fretJitter:15.811790291922339},{number:74,velocity:88,time:26.605900000035763,channel:2,string:1,fret:15,stringJitter:.9415942890721827,fretJitter:15.009950297194226},{number:71,velocity:84,time:26.92690000003576,channel:2,string:1,fret:12,stringJitter:.90589664560319,fretJitter:11.982393202397695},{number:59,velocity:61,time:27.069900000035762,channel:2,string:1,fret:0,stringJitter:.8719882737471271,fretJitter:.19956626549722556},{number:63,velocity:54,time:27.244900000035763,channel:2,string:1,fret:4,stringJitter:.9822161982216284,fretJitter:4.026688532940355},{number:59,velocity:48,time:27.315900000035764,channel:2,string:1,fret:0,stringJitter:1.0067516032320536,fretJitter:-.08692062551240616},{number:64,velocity:45,time:27.505900000035762,channel:2,string:1,fret:5,stringJitter:.9004423879588087,fretJitter:5.006675794036211},{number:59,velocity:44,time:27.622900000035763,channel:2,string:1,fret:0,stringJitter:1.1844079110835033,fretJitter:-.058149616321059666},{number:64,velocity:34,time:27.70590000003576,channel:2,string:1,fret:5,stringJitter:.943300531708285,fretJitter:4.877967223636169},{number:66,velocity:39,time:27.723900000035762,channel:2,string:1,fret:7,stringJitter:.9071636763910502,fretJitter:6.929939229479762},{number:79,velocity:10,time:28.531900000035762,channel:2,string:1,fret:20,stringJitter:.9987578586740569,fretJitter:20.134679125654316},{number:59,velocity:72,time:28.560900000035762,channel:2,string:1,fret:0,stringJitter:.8522115961529451,fretJitter:-.15084343400213085},{number:64,velocity:44,time:28.774900000035764,channel:2,string:1,fret:5,stringJitter:.8965690143074192,fretJitter:5.098196106474244},{number:59,velocity:72,time:28.904900000035763,channel:2,string:1,fret:0,stringJitter:1.001088715280311,fretJitter:.17413457950477076},{number:55,velocity:74,time:29.01090000003576,channel:3,string:2,fret:0,stringJitter:1.9282107945170879,fretJitter:-.09030194370386511},{number:55,velocity:37,time:29.032900000035763,channel:4,string:3,fret:5,stringJitter:2.9834896268934963,fretJitter:4.828437286878167},{number:60,velocity:64,time:29.070900000035763,channel:3,string:2,fret:5,stringJitter:2.132426104622824,fretJitter:5.008261168697558},{number:50,velocity:18,time:29.11590000003576,channel:4,string:3,fret:0,stringJitter:2.838611044221817,fretJitter:-.0894434043684119},{number:63,velocity:32,time:29.127900000035762,channel:2,string:1,fret:4,stringJitter:1.015345804327767,fretJitter:3.8531705821084143},{number:55,velocity:62,time:29.161900000035764,channel:3,string:2,fret:0,stringJitter:1.830225359006354,fretJitter:.01671775503526032},{number:58,velocity:52,time:29.26390000003576,channel:3,string:2,fret:3,stringJitter:2.0357759980592642,fretJitter:2.8833468513570586},{number:66,velocity:28,time:29.267900000035763,channel:2,string:1,fret:7,stringJitter:.9435566411019136,fretJitter:6.946845159549385},{number:65,velocity:20,time:29.273900000035763,channel:2,string:1,fret:6,stringJitter:.966354342628757,fretJitter:5.940493985712925},{number:62,velocity:119,time:29.282900000035763,channel:3,string:2,fret:7,stringJitter:1.8844484339598462,fretJitter:6.965354396068952},{number:66,velocity:25,time:29.289900000035765,channel:2,string:1,fret:7,stringJitter:.8506591557906718,fretJitter:6.908979227399209},{number:50,velocity:10,time:29.41790000003576,channel:4,string:3,fret:0,stringJitter:3.194173746103141,fretJitter:-.12434923470680426},{number:63,velocity:111,time:29.48190000003576,channel:3,string:2,fret:8,stringJitter:2.0750276319995997,fretJitter:7.800504326864737},{number:62,velocity:110,time:29.523900000035763,channel:3,string:2,fret:7,stringJitter:1.8758969546794413,fretJitter:7.189425553750493},{number:63,velocity:106,time:29.668900000035762,channel:3,string:2,fret:8,stringJitter:2.1033395311873746,fretJitter:8.012123524556277},{number:62,velocity:104,time:29.712900000035763,channel:3,string:2,fret:7,stringJitter:2.159270793210979,fretJitter:6.876025310632717},{number:63,velocity:101,time:29.857900000035762,channel:3,string:2,fret:8,stringJitter:2.069321416519886,fretJitter:7.929028597181717},{number:59,velocity:119,time:29.955,channel:2,string:1,fret:0,stringJitter:1.021563312973754,fretJitter:-.0915158938219868},{number:63,velocity:98,time:30.117900000035764,channel:2,string:1,fret:4,stringJitter:.9029487865523222,fretJitter:4.0209667939504286},{number:59,velocity:98,time:30.204900000035764,channel:2,string:1,fret:0,stringJitter:1.1918621164301044,fretJitter:.06505946479951251},{number:64,velocity:95,time:30.306900000035764,channel:2,string:1,fret:5,stringJitter:.9462805775862373,fretJitter:4.931504565491937},{number:59,velocity:45,time:30.38590000003576,channel:2,string:1,fret:0,stringJitter:.8653187171344083,fretJitter:-.12900874337272858},{number:66,velocity:94,time:30.454900000035764,channel:2,string:1,fret:7,stringJitter:.9217593329608753,fretJitter:7.057973135559838},{number:59,velocity:96,time:31.056900000035764,channel:2,string:1,fret:0,stringJitter:.880474942077248,fretJitter:.1256550921013},{number:63,velocity:63,time:31.190900000035764,channel:2,string:1,fret:4,stringJitter:.8265294527756484,fretJitter:4.047114675997652},{number:59,velocity:47,time:31.30790000003576,channel:2,string:1,fret:0,stringJitter:1.1233515858973833,fretJitter:.036054886835142685},{number:64,velocity:41,time:31.408900000035764,channel:2,string:1,fret:5,stringJitter:1.1467859991037153,fretJitter:5.092669770434049},{number:59,velocity:65,time:31.46190000003576,channel:2,string:1,fret:0,stringJitter:1.0957823686204398,fretJitter:-.09104202916471432},{number:65,velocity:10,time:31.470900000035762,channel:1,string:0,fret:1,stringJitter:-.11190186727993466,fretJitter:.9157312497111136},{number:67,velocity:54,time:31.597900000035764,channel:2,string:1,fret:8,stringJitter:1.0804543377926543,fretJitter:8.196256018609079},{number:59,velocity:62,time:31.672900000035764,channel:2,string:1,fret:0,stringJitter:1.078990887928237,fretJitter:-.05229386955088433},{number:64,velocity:58,time:31.812900000035764,channel:2,string:1,fret:5,stringJitter:1.0957183512451405,fretJitter:4.947804438568995},{number:59,velocity:75,time:31.88890000003576,channel:2,string:1,fret:0,stringJitter:.9979192073350449,fretJitter:-.17886637789940185},{number:66,velocity:89,time:31.98490000003576,channel:2,string:1,fret:7,stringJitter:1.0147361744689847,fretJitter:6.88468516820159},{number:59,velocity:73,time:32.149900000035764,channel:2,string:1,fret:0,stringJitter:1.0577894262277625,fretJitter:-.09949155699146753},{number:64,velocity:68,time:32.26690000003576,channel:2,string:1,fret:5,stringJitter:.887058249692633,fretJitter:4.807120153944178},{number:59,velocity:82,time:32.368900000035765,channel:2,string:1,fret:0,stringJitter:.9228413339058651,fretJitter:.07722668563671659},{number:62,velocity:72,time:32.46790000003576,channel:3,string:2,fret:7,stringJitter:2.184337665521249,fretJitter:6.828696457815162},{number:63,velocity:109,time:32.52690000003576,channel:3,string:2,fret:8,stringJitter:1.9030239414971224,fretJitter:8.148371436685435},{number:62,velocity:107,time:32.542900000035765,channel:3,string:2,fret:7,stringJitter:2.0591680636193233,fretJitter:7.0981865297987765},{number:59,velocity:39,time:32.697900000035766,channel:2,string:1,fret:0,stringJitter:1.1975990246038566,fretJitter:-.1527083220163304},{number:75,velocity:54,time:32.84290000003576,channel:3,string:2,fret:20,stringJitter:2.0609392298755775,fretJitter:20.148848314215954},{number:63,velocity:127,time:32.87290000003576,channel:3,string:2,fret:8,stringJitter:2.1808577321444353,fretJitter:8.162293567347518},{number:62,velocity:127,time:32.88890000003576,channel:3,string:2,fret:7,stringJitter:1.899345120034675,fretJitter:6.960249316463735},{number:56,velocity:10,time:32.890900000035764,channel:4,string:3,fret:6,stringJitter:3.0361026193951437,fretJitter:6.087632955891248},{number:57,velocity:10,time:32.96290000003576,channel:4,string:3,fret:7,stringJitter:2.9616861955178826,fretJitter:6.905072241334723},{number:50,velocity:11,time:32.98890000003576,channel:4,string:3,fret:0,stringJitter:2.951294196503099,fretJitter:.15270680232236444},{number:63,velocity:121,time:33.04790000003576,channel:3,string:2,fret:8,stringJitter:2.130231777245436,fretJitter:7.829365688592247},{number:64,velocity:115,time:33.13590000003576,channel:3,string:2,fret:9,stringJitter:1.802864015154204,fretJitter:9.138918914638667},{number:63,velocity:110,time:33.38490000003576,channel:3,string:2,fret:8,stringJitter:2.14784670018279,fretJitter:7.871437700802257},{number:62,velocity:104,time:33.48590000003576,channel:3,string:2,fret:7,stringJitter:2.013102077557196,fretJitter:7.168974413349067},{number:63,velocity:64,time:33.54690000003576,channel:2,string:1,fret:4,stringJitter:.9448032008330188,fretJitter:3.935742850304841},{number:64,velocity:69,time:33.58690000003576,channel:2,string:1,fret:5,stringJitter:1.0373696620854096,fretJitter:4.894072818242596},{number:65,velocity:64,time:33.658900000035764,channel:2,string:1,fret:6,stringJitter:1.0542273991342639,fretJitter:5.839453230003435},{number:67,velocity:64,time:33.70290000003576,channel:2,string:1,fret:8,stringJitter:1.0708478016105354,fretJitter:7.833101874817302},{number:68,velocity:65,time:33.72990000003576,channel:2,string:1,fret:9,stringJitter:1.1811266563041833,fretJitter:8.809459012893113},{number:66,velocity:71,time:33.84990000003576,channel:2,string:1,fret:7,stringJitter:1.1493940909355216,fretJitter:7.134037830745977},{number:78,velocity:61,time:33.93190000003576,channel:2,string:1,fret:19,stringJitter:1.053416045100181,fretJitter:18.849102850359},{number:72,velocity:34,time:33.98590000003576,channel:1,string:0,fret:8,stringJitter:.11727363882596303,fretJitter:7.849372949447001},{number:67,velocity:82,time:34.14190000003576,channel:2,string:1,fret:8,stringJitter:1.0580309125980358,fretJitter:7.846311314236264},{number:68,velocity:69,time:34.18390000003576,channel:2,string:1,fret:9,stringJitter:.8272259075052737,fretJitter:8.841306499881268},{number:67,velocity:43,time:34.28490000003576,channel:2,string:1,fret:8,stringJitter:1.077984177120338,fretJitter:7.85688274202456},{number:69,velocity:42,time:34.34290000003576,channel:2,string:1,fret:10,stringJitter:1.1834829987745887,fretJitter:10.154153976521453},{number:58,velocity:10,time:34.44290000003576,channel:3,string:2,fret:3,stringJitter:2.170299243036847,fretJitter:3.052832111626963},{number:55,velocity:10,time:34.50190000003576,channel:3,string:2,fret:0,stringJitter:1.8611291606347116,fretJitter:.07566762988154929},{number:70,velocity:39,time:34.688900000035765,channel:2,string:1,fret:11,stringJitter:1.00304861487908,fretJitter:11.01141484804699},{number:69,velocity:39,time:34.74790000003576,channel:2,string:1,fret:10,stringJitter:1.1325943861862742,fretJitter:9.976532751957347},{number:67,velocity:32,time:34.804900000035765,channel:2,string:1,fret:8,stringJitter:1.0313741773741,fretJitter:8.052046455000712},{number:67,velocity:76,time:34.82490000003576,channel:2,string:1,fret:8,stringJitter:1.1217976556453197,fretJitter:8.01105565646391},{number:68,velocity:79,time:34.90790000003576,channel:2,string:1,fret:9,stringJitter:.8378903543342682,fretJitter:8.998056310774277},{number:64,velocity:50,time:34.96790000003576,channel:1,string:0,fret:0,stringJitter:-.0026791049696777594,fretJitter:.026320818125448488},{number:72,velocity:43,time:35.066900000035766,channel:1,string:0,fret:8,stringJitter:-.06913648893700212,fretJitter:7.959400160072768},{number:66,velocity:25,time:35.10890000003576,channel:2,string:1,fret:7,stringJitter:.8164588569286669,fretJitter:6.860929741420881},{number:72,velocity:10,time:35.19590000003576,channel:1,string:0,fret:8,stringJitter:-.05826165848385987,fretJitter:7.913074598477966},{number:74,velocity:16,time:35.29790000003576,channel:1,string:0,fret:10,stringJitter:.14654187245846081,fretJitter:10.134341728766985},{number:72,velocity:10,time:35.395900000035766,channel:1,string:0,fret:8,stringJitter:.15032257587243658,fretJitter:7.85769968352091},{number:69,velocity:10,time:35.522,channel:2,string:1,fret:10,stringJitter:.8366385377331544,fretJitter:10.020540654422186},{number:74,velocity:10,time:35.52890000003576,channel:1,string:0,fret:10,stringJitter:.08709975144127934,fretJitter:9.940543765465282},{number:69,velocity:65,time:35.55590000003576,channel:2,string:1,fret:10,stringJitter:.833181332692602,fretJitter:9.836343496208793},{number:72,velocity:10,time:35.673900000035765,channel:1,string:0,fret:8,stringJitter:.10071028509025828,fretJitter:7.961540731849089},{number:69,velocity:122,time:35.786900000035764,channel:2,string:1,fret:10,stringJitter:1.0140231221793021,fretJitter:9.877341359647623},{number:70,velocity:103,time:36.243900000035765,channel:2,string:1,fret:11,stringJitter:.8425450151297593,fretJitter:11.170274866882233},{number:71,velocity:104,time:36.268900000035764,channel:2,string:1,fret:12,stringJitter:.9727650451145966,fretJitter:11.916943349083681},{number:72,velocity:105,time:36.301900000035765,channel:2,string:1,fret:13,stringJitter:1.117153641346014,fretJitter:12.858079082709722},{number:71,velocity:95,time:36.40190000003576,channel:2,string:1,fret:12,stringJitter:.9686091669320503,fretJitter:12.016061819441504},{number:74,velocity:39,time:36.45890000003576,channel:1,string:0,fret:10,stringJitter:.08754815491404414,fretJitter:10.023278226319158},{number:76,velocity:30,time:36.64790000003576,channel:1,string:0,fret:12,stringJitter:-.11823620745694541,fretJitter:11.905190800482437},{number:74,velocity:25,time:36.74890000003576,channel:1,string:0,fret:10,stringJitter:.06339511267490208,fretJitter:10.183183008243269},{number:68,velocity:33,time:36.84090000003576,channel:3,string:2,fret:13,stringJitter:2.0167260570643313,fretJitter:12.8060345881301},{number:72,velocity:43,time:36.847900000035764,channel:2,string:1,fret:13,stringJitter:.9348432956526618,fretJitter:12.811222091828334},{number:67,velocity:11,time:36.935900000035765,channel:3,string:2,fret:12,stringJitter:1.905040839753808,fretJitter:11.908323240516463},{number:74,velocity:10,time:36.96190000003576,channel:1,string:0,fret:10,stringJitter:.057959777758811275,fretJitter:9.857177961771932},{number:55,velocity:11,time:36.98390000003576,channel:3,string:2,fret:0,stringJitter:2.0296506441151854,fretJitter:.04748755246835375},{number:76,velocity:18,time:37.06890000003576,channel:1,string:0,fret:12,stringJitter:-.06647475475225902,fretJitter:12.155556734021653},{number:77,velocity:15,time:37.213900000035764,channel:1,string:0,fret:13,stringJitter:.17415725468825674,fretJitter:12.824635935434966},{number:76,velocity:15,time:37.30290000003576,channel:1,string:0,fret:12,stringJitter:-.14604664999755698,fretJitter:11.920948332580041},{number:74,velocity:13,time:37.38890000003576,channel:1,string:0,fret:10,stringJitter:.05908450079135488,fretJitter:9.910547813488007},{number:77,velocity:10,time:37.57190000003576,channel:2,string:1,fret:18,stringJitter:1.0969845468191235,fretJitter:18.19458551487864},{number:74,velocity:89,time:37.630900000035766,channel:2,string:1,fret:15,stringJitter:1.1540303528406255,fretJitter:14.867939863615884},{number:74,velocity:46,time:37.64490000003576,channel:1,string:0,fret:10,stringJitter:.1382671388934055,fretJitter:9.964185981838611},{number:76,velocity:35,time:37.83790000003576,channel:1,string:0,fret:12,stringJitter:-.01644264383659735,fretJitter:11.992199440195533},{number:76,velocity:109,time:37.89190000003576,channel:1,string:0,fret:12,stringJitter:.19425544480997559,fretJitter:11.923653878353102},{number:74,velocity:88,time:38.085,channel:1,string:0,fret:10,stringJitter:.10328986373126332,fretJitter:10.027463059997341},{number:64,velocity:98,time:38.207900000035764,channel:1,string:0,fret:0,stringJitter:-.16533955230378386,fretJitter:-.020759155406373964},{number:68,velocity:77,time:38.505900000035766,channel:1,string:0,fret:4,stringJitter:-.0881009990308046,fretJitter:4.131758445774945},{number:64,velocity:50,time:38.56890000003576,channel:1,string:0,fret:0,stringJitter:-.0013667618982323938,fretJitter:-.014752394334942666},{number:69,velocity:51,time:38.691900000035766,channel:1,string:0,fret:5,stringJitter:.19390845107197735,fretJitter:4.954285283416809},{number:64,velocity:64,time:38.78290000003576,channel:1,string:0,fret:0,stringJitter:-.03724236664304899,fretJitter:-.005427624644228502},{number:73,velocity:77,time:38.91090000003576,channel:1,string:0,fret:9,stringJitter:.19310164139116798,fretJitter:9.084756097416752},{number:65,velocity:10,time:38.914900000035765,channel:2,string:1,fret:6,stringJitter:.9450256380213073,fretJitter:6.092332187662173},{number:71,velocity:75,time:38.92590000003576,channel:1,string:0,fret:7,stringJitter:.17080383497979978,fretJitter:6.871721338412173},{number:64,velocity:43,time:39.02690000003576,channel:1,string:0,fret:0,stringJitter:.18651920406372496,fretJitter:-.11700382537099437},{number:69,velocity:43,time:39.18990000003576,channel:1,string:0,fret:5,stringJitter:-.1431699801016313,fretJitter:5.134708012541226},{number:64,velocity:15,time:39.31790000003576,channel:1,string:0,fret:0,stringJitter:.17051144229001658,fretJitter:.04124696877837906},{number:71,velocity:21,time:39.371900000035765,channel:1,string:0,fret:7,stringJitter:-.03517908487045034,fretJitter:6.95497601334253},{number:64,velocity:41,time:39.461,channel:1,string:0,fret:0,stringJitter:-.04612429585978087,fretJitter:.0382023142932054},{number:73,velocity:30,time:39.624900000035765,channel:1,string:0,fret:9,stringJitter:.13546501039164865,fretJitter:9.012982643872022},{number:72,velocity:23,time:39.66690000003576,channel:1,string:0,fret:8,stringJitter:-.1142470333078272,fretJitter:7.978296763553224},{number:64,velocity:39,time:39.68390000003576,channel:1,string:0,fret:0,stringJitter:-.03212513037916436,fretJitter:-.02900293094817723},{number:72,velocity:25,time:39.896900000035764,channel:1,string:0,fret:8,stringJitter:.11102508326215502,fretJitter:8.051260473335152},{number:71,velocity:23,time:39.92790000003576,channel:1,string:0,fret:7,stringJitter:.10291989559667361,fretJitter:6.944322549794105},{number:75,velocity:13,time:39.96890000003576,channel:1,string:0,fret:11,stringJitter:.10967065611882082,fretJitter:10.905053846783968},{number:74,velocity:49,time:40.25190000003576,channel:1,string:0,fret:10,stringJitter:.15337335600381535,fretJitter:9.840658222710466},{number:75,velocity:44,time:40.56590000003576,channel:1,string:0,fret:11,stringJitter:.12395425876099964,fretJitter:10.985486013424607},{number:76,velocity:46,time:40.58090000003576,channel:1,string:0,fret:12,stringJitter:-.17028729116513955,fretJitter:12.106477481423148},{number:78,velocity:48,time:40.624900000035765,channel:1,string:0,fret:14,stringJitter:-.10709658035465167,fretJitter:14.00238502003973},{number:79,velocity:47,time:40.63790000003576,channel:1,string:0,fret:15,stringJitter:.17055598941238037,fretJitter:15.018468518451078},{number:80,velocity:45,time:40.66890000003576,channel:1,string:0,fret:16,stringJitter:.15091564774062133,fretJitter:16.117634707699892},{number:81,velocity:45,time:40.682900000035765,channel:1,string:0,fret:17,stringJitter:-.16642307068510745,fretJitter:17.03121501464507},{number:80,velocity:29,time:40.82790000003576,channel:1,string:0,fret:16,stringJitter:.028318265936524246,fretJitter:16.003503442529425},{number:79,velocity:28,time:40.84290000003576,channel:1,string:0,fret:15,stringJitter:-.12211551033452867,fretJitter:14.848696359395882},{number:77,velocity:10,time:40.868900000035765,channel:2,string:1,fret:18,stringJitter:.919748706057199,fretJitter:18.011800614747727},{number:75,velocity:28,time:40.88490000003576,channel:1,string:0,fret:11,stringJitter:.14722576534246895,fretJitter:10.830334963438627},{number:75,velocity:101,time:40.91290000003576,channel:2,string:1,fret:16,stringJitter:.9281109148045151,fretJitter:15.86860267695763},{number:73,velocity:58,time:40.91690000003576,channel:1,string:0,fret:9,stringJitter:.11501739984824876,fretJitter:8.826182696731198},{number:72,velocity:66,time:40.92890000003576,channel:1,string:0,fret:8,stringJitter:.17150155093916697,fretJitter:7.897579515620619},{number:71,velocity:64,time:40.94290000003576,channel:1,string:0,fret:7,stringJitter:-.008725086998539933,fretJitter:7.034009638775817},{number:70,velocity:63,time:40.957900000035764,channel:1,string:0,fret:6,stringJitter:-.15289106638484534,fretJitter:5.967527622139859},{number:69,velocity:61,time:40.98690000003576,channel:1,string:0,fret:5,stringJitter:.1655913168416519,fretJitter:5.006620837551059},{number:68,velocity:52,time:41.02890000003576,channel:1,string:0,fret:4,stringJitter:-.03485412514487516,fretJitter:4.033532642009073},{number:69,velocity:50,time:41.130900000035766,channel:1,string:0,fret:5,stringJitter:-.07537180426945769,fretJitter:5.1795962885542695},{number:70,velocity:50,time:41.161900000035764,channel:1,string:0,fret:6,stringJitter:-.0601280740063193,fretJitter:6.068116998845324},{number:73,velocity:50,time:41.21890000003576,channel:1,string:0,fret:9,stringJitter:.03066121964013222,fretJitter:8.977691568759571},{number:74,velocity:51,time:41.23090000003576,channel:1,string:0,fret:10,stringJitter:-.05841957466069472,fretJitter:9.975888221657007},{number:76,velocity:51,time:41.27690000003576,channel:1,string:0,fret:12,stringJitter:.10948009120487825,fretJitter:12.191726698764553},{number:77,velocity:50,time:41.28890000003576,channel:1,string:0,fret:13,stringJitter:.1612515858540877,fretJitter:12.818964150854248},{number:78,velocity:48,time:41.32190000003576,channel:1,string:0,fret:14,stringJitter:.14530492870750447,fretJitter:14.027150547828855},{number:55,velocity:103,time:41.36190000003576,channel:3,string:2,fret:0,stringJitter:1.901840355377664,fretJitter:-.12143278680321884},{number:64,velocity:53,time:41.36490000003576,channel:1,string:0,fret:0,stringJitter:.06047300507064444,fretJitter:.19852149113293907},{number:59,velocity:54,time:41.508900000035766,channel:2,string:1,fret:0,stringJitter:.9997395635790951,fretJitter:.047647646473458496},{number:69,velocity:75,time:41.655900000035764,channel:3,string:2,fret:14,stringJitter:2.0719114928843108,fretJitter:13.999826064630875},{number:70,velocity:72,time:41.72790000003576,channel:3,string:2,fret:15,stringJitter:1.9015389712718154,fretJitter:14.948295325406841},{number:71,velocity:64,time:41.80390000003576,channel:2,string:1,fret:12,stringJitter:.8969317972877,fretJitter:11.903756767981601},{number:76,velocity:62,time:41.905900000035764,channel:1,string:0,fret:12,stringJitter:-.17270157689463028,fretJitter:11.912803798016828},{number:71,velocity:84,time:42.033900000035764,channel:2,string:1,fret:12,stringJitter:1.0535295954055575,fretJitter:11.997615269579331},{number:78,velocity:54,time:42.10490000003576,channel:1,string:0,fret:14,stringJitter:.02359739898337372,fretJitter:13.835505242618225},{number:74,velocity:74,time:42.118900000035765,channel:2,string:1,fret:15,stringJitter:.9772013621026201,fretJitter:14.856384576071086},{number:74,velocity:127,time:42.148900000035766,channel:2,string:1,fret:15,stringJitter:1.1608456946083394,fretJitter:14.988955246291123},{number:75,velocity:123,time:42.24890000003576,channel:2,string:1,fret:16,stringJitter:.8739003988601336,fretJitter:16.170522629196046},{number:76,velocity:119,time:42.27890000003576,channel:2,string:1,fret:17,stringJitter:1.1812998872963119,fretJitter:17.145679844187097},{number:77,velocity:103,time:42.38190000003576,channel:2,string:1,fret:18,stringJitter:1.1602544217632464,fretJitter:18.18089589037253},{number:79,velocity:26,time:42.40190000003576,channel:1,string:0,fret:15,stringJitter:.020244674688023157,fretJitter:14.860302131185568},{number:76,velocity:92,time:42.524900000035764,channel:2,string:1,fret:17,stringJitter:1.046530257099098,fretJitter:17.011336099369103},{number:79,velocity:46,time:42.62590000003576,channel:1,string:0,fret:15,stringJitter:-.19532875558683926,fretJitter:14.928666441122866},{number:81,velocity:51,time:42.69890000003576,channel:1,string:0,fret:17,stringJitter:.17661488683470053,fretJitter:17.012320239227112},{number:82,velocity:41,time:42.84390000003576,channel:1,string:0,fret:18,stringJitter:.028146547994144733,fretJitter:17.810528472693107},{number:75,velocity:10,time:43.28490000003576,channel:2,string:1,fret:16,stringJitter:1.1360693580781436,fretJitter:15.972003066491713},{number:77,velocity:10,time:43.365900000035765,channel:2,string:1,fret:18,stringJitter:1.1455376811600946,fretJitter:18.078910446482013},{number:81,velocity:10,time:43.38890000003576,channel:1,string:0,fret:17,stringJitter:.04072322653697951,fretJitter:16.87050976859237},{number:78,velocity:103,time:43.51290000003576,channel:2,string:1,fret:19,stringJitter:.9723807739812507,fretJitter:19.148520308080514},{number:81,velocity:29,time:43.64490000003576,channel:1,string:0,fret:17,stringJitter:.032337148101243954,fretJitter:16.97071223985319},{number:79,velocity:107,time:43.79390000003576,channel:2,string:1,fret:20,stringJitter:1.0978901995966464,fretJitter:20.063278650417356},{number:80,velocity:96,time:43.90490000003576,channel:2,string:1,fret:21,stringJitter:1.017652350214405,fretJitter:21.04780138687087},{number:81,velocity:46,time:43.909,channel:1,string:0,fret:17,stringJitter:.15927409831534592,fretJitter:16.991998911201946},{number:59,velocity:25,time:43.993,channel:2,string:1,fret:0,stringJitter:.9618399606304409,fretJitter:-.17319760092832076},{number:59,velocity:87,time:44.04790000003576,channel:2,string:1,fret:0,stringJitter:.9464970192804596,fretJitter:.13839605235822602},{number:79,velocity:75,time:44.106900000035765,channel:2,string:1,fret:20,stringJitter:.9933790204258233,fretJitter:20.049855291233605},{number:80,velocity:58,time:44.16590000003576,channel:2,string:1,fret:21,stringJitter:1.1475319017195482,fretJitter:20.860492248685315},{number:81,velocity:20,time:44.16690000003576,channel:1,string:0,fret:17,stringJitter:-.19274025029026484,fretJitter:17.04308875678242},{number:79,velocity:25,time:44.31190000003576,channel:2,string:1,fret:20,stringJitter:.9704244111001481,fretJitter:19.838697668588242},{number:78,velocity:37,time:44.32490000003576,channel:2,string:1,fret:19,stringJitter:.93872695809646,fretJitter:18.950684839578148},{number:81,velocity:82,time:44.41390000003576,channel:1,string:0,fret:17,stringJitter:.017007540241211316,fretJitter:17.1822104199811},{number:79,velocity:71,time:44.54490000003576,channel:2,string:1,fret:20,stringJitter:.9498956265983007,fretJitter:20.13353579007483},{number:78,velocity:69,time:44.569900000035766,channel:2,string:1,fret:19,stringJitter:.9921320886225888,fretJitter:19.128767037002433},{number:81,velocity:33,time:44.664900000035765,channel:1,string:0,fret:17,stringJitter:-.1706362377230276,fretJitter:16.874011132119897},{number:82,velocity:28,time:44.72990000003576,channel:1,string:0,fret:18,stringJitter:.14415478144456317,fretJitter:17.99725454098224},{number:84,velocity:28,time:44.771900000035764,channel:1,string:0,fret:20,stringJitter:-.13296716052971388,fretJitter:19.968738376936166},{number:85,velocity:26,time:44.86190000003576,channel:1,string:0,fret:21,stringJitter:-.002050054136954316,fretJitter:20.92812868492808},{number:87,velocity:28,time:44.908900000035764,channel:1,string:0,fret:23,stringJitter:.054151704552821305,fretJitter:22.976181674080223},{number:88,velocity:26,time:44.932900000035765,channel:1,string:0,fret:24,stringJitter:.14001503213500294,fretJitter:23.99916624243686},{number:81,velocity:10,time:45.07090000003576,channel:2,string:1,fret:22,stringJitter:.8668247484017905,fretJitter:21.962843906422147},{number:76,velocity:10,time:45.13490000003576,channel:2,string:1,fret:17,stringJitter:1.1162861601571281,fretJitter:16.99866146397611},{number:59,velocity:100,time:45.371900000035765,channel:2,string:1,fret:0,stringJitter:1.1051130991523763,fretJitter:.18118359140665855},{number:81,velocity:28,time:45.48090000003576,channel:1,string:0,fret:17,stringJitter:.0910313388232197,fretJitter:16.931013493693108},{number:79,velocity:64,time:45.603900000035765,channel:2,string:1,fret:20,stringJitter:.8778089449446733,fretJitter:20.021741339563867},{number:55,velocity:32,time:45.86490000003576,channel:3,string:2,fret:0,stringJitter:1.9605555465263818,fretJitter:-.11121312007758136},{number:81,velocity:10,time:45.88290000003576,channel:1,string:0,fret:17,stringJitter:.10477922504984508,fretJitter:16.95844939327068},{number:79,velocity:10,time:45.97490000003576,channel:2,string:1,fret:20,stringJitter:.8907740884455964,fretJitter:19.80517384340034},{number:79,velocity:77,time:46.01290000003576,channel:2,string:1,fret:20,stringJitter:1.0995908034813797,fretJitter:20.181002726991192},{number:76,velocity:53,time:46.145,channel:2,string:1,fret:17,stringJitter:1.0792249200629906,fretJitter:17.077044388685028},{number:77,velocity:50,time:46.28490000003576,channel:2,string:1,fret:18,stringJitter:.9965174433307231,fretJitter:18.003544345276385},{number:76,velocity:45,time:46.34290000003576,channel:2,string:1,fret:17,stringJitter:.8863521949870575,fretJitter:17.10012728964486},{number:64,velocity:10,time:46.40190000003576,channel:1,string:0,fret:0,stringJitter:.03142487468136928,fretJitter:-.133815312697047},{number:55,velocity:59,time:46.429900000035765,channel:3,string:2,fret:0,stringJitter:1.8307963218444465,fretJitter:.1739326877047602},{number:79,velocity:40,time:46.502900000035766,channel:2,string:1,fret:20,stringJitter:.8117232314109495,fretJitter:20.104338796826188},{number:76,velocity:44,time:46.523900000035766,channel:2,string:1,fret:17,stringJitter:.8086788059764578,fretJitter:16.90422313324578},{number:50,velocity:10,time:46.548900000035765,channel:4,string:3,fret:0,stringJitter:2.867909499310502,fretJitter:-.04253678079452605},{number:74,velocity:23,time:46.65690000003576,channel:3,string:2,fret:19,stringJitter:2.0745898664087883,fretJitter:18.938441876298928},{number:78,velocity:32,time:46.673900000035765,channel:2,string:1,fret:19,stringJitter:1.127884967437635,fretJitter:18.97955570140102},{number:72,velocity:10,time:46.773900000035766,channel:3,string:2,fret:17,stringJitter:2.092407517151577,fretJitter:16.937983826083137},{number:69,velocity:40,time:46.86690000003576,channel:4,string:3,fret:19,stringJitter:3.1694252042140554,fretJitter:19.060320953043455},{number:72,velocity:16,time:47.002900000035766,channel:3,string:2,fret:17,stringJitter:2.172945577717559,fretJitter:17.00865091341321},{number:68,velocity:10,time:47.10290000003576,channel:4,string:3,fret:18,stringJitter:2.9199768140788795,fretJitter:17.980474411463966},{number:69,velocity:108,time:47.12990000003576,channel:4,string:3,fret:19,stringJitter:2.8923391439708013,fretJitter:18.821569294402963},{number:69,velocity:127,time:47.34390000003576,channel:4,string:3,fret:19,stringJitter:2.986457217019086,fretJitter:18.997136832158198},{number:67,velocity:127,time:47.61790000003576,channel:4,string:3,fret:17,stringJitter:2.8276674793646124,fretJitter:16.938512335573634},{number:55,velocity:50,time:47.627900000035766,channel:3,string:2,fret:0,stringJitter:1.8411251223187786,fretJitter:.15488651428938438},{number:71,velocity:32,time:47.74890000003576,channel:3,string:2,fret:16,stringJitter:1.8415483899228053,fretJitter:15.901720272131545},{number:66,velocity:127,time:47.77690000003576,channel:4,string:3,fret:16,stringJitter:3.0128568566788396,fretJitter:16.12064132766548},{number:65,velocity:127,time:47.79390000003576,channel:4,string:3,fret:15,stringJitter:3.1619823281919546,fretJitter:15.060699489019939},{number:64,velocity:126,time:47.822900000035766,channel:4,string:3,fret:14,stringJitter:2.8598548127778995,fretJitter:14.011692096278784},{number:63,velocity:126,time:47.83690000003576,channel:4,string:3,fret:13,stringJitter:2.8648676173226915,fretJitter:12.963473595381673},{number:62,velocity:125,time:47.865900000035765,channel:4,string:3,fret:12,stringJitter:2.8230644374843297,fretJitter:11.807511681798426},{number:61,velocity:124,time:47.936,channel:4,string:3,fret:11,stringJitter:2.922103083908626,fretJitter:11.106143357049797},{number:60,velocity:123,time:47.99490000003576,channel:4,string:3,fret:10,stringJitter:2.9010580922293365,fretJitter:10.18200814560963},{number:59,velocity:123,time:48.03890000003576,channel:4,string:3,fret:9,stringJitter:3.170482413804625,fretJitter:9.02703802737671},{number:58,velocity:123,time:48.06890000003576,channel:4,string:3,fret:8,stringJitter:3.0039074895599307,fretJitter:7.809235576939668},{number:57,velocity:123,time:48.09590000003576,channel:4,string:3,fret:7,stringJitter:2.8416652019624657,fretJitter:7.051111733905736},{number:42,velocity:10,time:48.188900000035765,channel:6,string:5,fret:2,stringJitter:4.946834273616897,fretJitter:1.9684298318843592},{number:45,velocity:115,time:48.22990000003576,channel:6,string:5,fret:5,stringJitter:5.047558958877052,fretJitter:4.976150918943629},{number:50,velocity:50,time:48.237900000035765,channel:5,string:4,fret:5,stringJitter:4.165625382363922,fretJitter:4.834243801112682},{number:51,velocity:52,time:48.35890000003576,channel:5,string:4,fret:6,stringJitter:3.9293057287429227,fretJitter:5.909996748213643},{number:46,velocity:114,time:48.362900000035765,channel:6,string:5,fret:6,stringJitter:4.856433305280142,fretJitter:6.179558256374151},{number:52,velocity:48,time:48.37290000003576,channel:5,string:4,fret:7,stringJitter:4.086191958536076,fretJitter:6.939523511479481},{number:47,velocity:117,time:48.38890000003576,channel:6,string:5,fret:7,stringJitter:5.127694714043035,fretJitter:7.0718153068828205},{number:53,velocity:49,time:48.40390000003576,channel:5,string:4,fret:8,stringJitter:3.883720125603721,fretJitter:7.9520914541938765},{number:50,velocity:114,time:48.44690000003576,channel:6,string:5,fret:10,stringJitter:5.017265313827763,fretJitter:9.862736642823911},{number:51,velocity:112,time:48.46190000003576,channel:6,string:5,fret:11,stringJitter:5.035398588618863,fretJitter:10.953192227434322},{number:57,velocity:52,time:48.47490000003576,channel:5,string:4,fret:12,stringJitter:4.15381298491008,fretJitter:12.079111108715313},{number:53,velocity:113,time:48.48890000003576,channel:6,string:5,fret:13,stringJitter:5.185197050560735,fretJitter:13.024382343095068},{number:59,velocity:52,time:48.50490000003576,channel:5,string:4,fret:14,stringJitter:4.0760354417769005,fretJitter:13.881866552557367},{number:61,velocity:54,time:48.54790000003576,channel:5,string:4,fret:16,stringJitter:4.1096248751303035,fretJitter:16.14242902573469},{number:56,velocity:112,time:48.548900000035765,channel:6,string:5,fret:16,stringJitter:5.040086627874301,fretJitter:15.815685810248802},{number:63,velocity:56,time:48.588900000035764,channel:5,string:4,fret:18,stringJitter:4.004662707696492,fretJitter:18.142100826280917},{number:58,velocity:107,time:48.59090000003576,channel:6,string:5,fret:18,stringJitter:4.992926365779655,fretJitter:17.815609295752072},{number:59,velocity:100,time:48.648900000035766,channel:6,string:5,fret:19,stringJitter:4.829754105598667,fretJitter:18.897224629856872},{number:64,velocity:47,time:48.67790000003576,channel:5,string:4,fret:19,stringJitter:3.906950302655637,fretJitter:19.010310410861372},{number:64,velocity:127,time:48.81190000003576,channel:5,string:4,fret:19,stringJitter:4.182293139073193,fretJitter:19.137032253575164},{number:63,velocity:127,time:48.822900000035766,channel:5,string:4,fret:18,stringJitter:4.043448291875546,fretJitter:17.834280602923087},{number:65,velocity:86,time:48.834900000035766,channel:4,string:3,fret:15,stringJitter:3.116895640814938,fretJitter:15.039346135790904},{number:61,velocity:119,time:48.83790000003576,channel:5,string:4,fret:16,stringJitter:3.801973119888298,fretJitter:15.891835529109196},{number:59,velocity:114,time:48.88290000003576,channel:5,string:4,fret:14,stringJitter:4.167195549703591,fretJitter:13.843272056144535},{number:58,velocity:112,time:48.895900000035766,channel:5,string:4,fret:13,stringJitter:4.060333029585623,fretJitter:12.925931307246755},{number:57,velocity:112,time:48.908900000035764,channel:5,string:4,fret:12,stringJitter:4.18428001477471,fretJitter:12.059823799716284},{number:56,velocity:111,time:48.935900000035765,channel:5,string:4,fret:11,stringJitter:3.864407609869781,fretJitter:11.044362643935271},{number:55,velocity:110,time:48.96890000003576,channel:5,string:4,fret:10,stringJitter:4.1564061316233305,fretJitter:10.131264384928784},{number:54,velocity:108,time:48.996900000035765,channel:5,string:4,fret:9,stringJitter:4.060494117191811,fretJitter:8.81872131699817},{number:53,velocity:106,time:49.02590000003576,channel:5,string:4,fret:8,stringJitter:3.877328854090451,fretJitter:8.165163937806696},{number:52,velocity:106,time:49.084900000035766,channel:5,string:4,fret:7,stringJitter:3.910158091464734,fretJitter:7.086999945454946},{number:51,velocity:105,time:49.142900000035766,channel:5,string:4,fret:6,stringJitter:4.019164633272002,fretJitter:6.069219569792808},{number:50,velocity:103,time:49.18690000003576,channel:5,string:4,fret:5,stringJitter:4.075536850159474,fretJitter:5.15135831772759},{number:49,velocity:103,time:49.21490000003576,channel:5,string:4,fret:4,stringJitter:4.022121184808938,fretJitter:3.941094789789399},{number:59,velocity:127,time:49.27290000003576,channel:2,string:1,fret:0,stringJitter:1.0072232874079001,fretJitter:-.030736937647501253},{number:55,velocity:127,time:49.29490000003576,channel:3,string:2,fret:0,stringJitter:1.9327605598114608,fretJitter:.17465690810106463},{number:78,velocity:127,time:49.773900000035766,channel:3,string:2,fret:23,stringJitter:2.061385207711792,fretJitter:22.944248727871315},{number:76,velocity:127,time:49.78190000003576,channel:3,string:2,fret:21,stringJitter:1.9263135753220206,fretJitter:20.903073420644102},{number:81,velocity:127,time:49.78490000003576,channel:2,string:1,fret:22,stringJitter:.9532973504134579,fretJitter:21.8261293030014},{number:80,velocity:127,time:49.792900000035765,channel:2,string:1,fret:21,stringJitter:.8494949067071418,fretJitter:20.87449069632617},{number:77,velocity:127,time:49.80890000003576,channel:3,string:2,fret:22,stringJitter:2.065419416478817,fretJitter:22.179277203382192},{number:79,velocity:127,time:49.883900000035766,channel:2,string:1,fret:20,stringJitter:.9781087001086632,fretJitter:19.809361578288456},{number:52,velocity:56,time:50.18390000003576,channel:5,string:4,fret:7,stringJitter:3.854040448103751,fretJitter:7.005570108624469},{number:51,velocity:59,time:50.201900000035764,channel:5,string:4,fret:6,stringJitter:3.8795597828794723,fretJitter:6.039819915598334},{number:59,velocity:88,time:50.23290000003576,channel:3,string:2,fret:4,stringJitter:1.9264654150984182,fretJitter:3.9568234767427333},{number:55,velocity:127,time:50.246900000035765,channel:4,string:3,fret:5,stringJitter:3.1519754808267444,fretJitter:4.967394777806418},{number:54,velocity:127,time:50.26090000003576,channel:4,string:3,fret:4,stringJitter:3.044336180017909,fretJitter:4.174939732387168},{number:48,velocity:81,time:50.26690000003576,channel:5,string:4,fret:3,stringJitter:4.0734122211912345,fretJitter:3.09668593349406},{number:53,velocity:127,time:50.27290000003576,channel:4,string:3,fret:3,stringJitter:3.1406332390583387,fretJitter:3.133251938718288},{number:49,velocity:94,time:50.47490000003576,channel:5,string:4,fret:4,stringJitter:4.095935890892864,fretJitter:4.192328270084692},{number:50,velocity:95,time:50.50690000003576,channel:5,string:4,fret:5,stringJitter:3.9940711606800043,fretJitter:5.012040901293965},{number:51,velocity:94,time:50.533,channel:5,string:4,fret:6,stringJitter:3.816570231524356,fretJitter:6.134243171059795},{number:53,velocity:96,time:50.57790000003576,channel:5,string:4,fret:8,stringJitter:4.134635450198018,fretJitter:7.860068089830216},{number:54,velocity:99,time:50.59290000003576,channel:5,string:4,fret:9,stringJitter:3.972157507847496,fretJitter:8.891247103032992},{number:55,velocity:95,time:50.62390000003576,channel:5,string:4,fret:10,stringJitter:3.963660108476772,fretJitter:10.146612480107555},{number:57,velocity:97,time:50.66590000003576,channel:5,string:4,fret:12,stringJitter:4.0281563832305025,fretJitter:11.995591888387732},{number:59,velocity:91,time:50.707900000035764,channel:5,string:4,fret:14,stringJitter:4.18219862500262,fretJitter:13.897491060163889},{number:45,velocity:64,time:50.78290000003576,channel:5,string:4,fret:0,stringJitter:3.842962876242335,fretJitter:-.09288685888268873},{number:50,velocity:127,time:50.79690000003576,channel:4,string:3,fret:0,stringJitter:2.88345610696942,fretJitter:-.0266871394475265},{number:55,velocity:127,time:50.80390000003576,channel:3,string:2,fret:0,stringJitter:2.1929565252730425,fretJitter:.07955923815961158},{number:60,velocity:127,time:51.01390000003576,channel:3,string:2,fret:5,stringJitter:2.0606654136007254,fretJitter:4.854744158534475},{number:58,velocity:127,time:51.161900000035764,channel:4,string:3,fret:8,stringJitter:3.1815339300700707,fretJitter:7.944478203973927},{number:57,velocity:127,time:51.17290000003576,channel:4,string:3,fret:7,stringJitter:3.0698884973092158,fretJitter:6.979020810569256},{number:64,velocity:35,time:51.29090000003576,channel:2,string:1,fret:5,stringJitter:1.1962056703359516,fretJitter:4.812133385383083},{number:59,velocity:108,time:51.32390000003576,channel:3,string:2,fret:4,stringJitter:1.8489221999644931,fretJitter:4.051178537365644},{number:60,velocity:117,time:51.34890000003576,channel:3,string:2,fret:5,stringJitter:2.195513308547947,fretJitter:5.189943487279767},{number:62,velocity:102,time:51.42190000003576,channel:3,string:2,fret:7,stringJitter:1.8073752403324297,fretJitter:7.005596518281241},{number:62,velocity:127,time:51.43190000003576,channel:3,string:2,fret:7,stringJitter:2.1846300812476205,fretJitter:6.97479992404271},{number:60,velocity:127,time:51.54390000003576,channel:3,string:2,fret:5,stringJitter:1.9967943616243928,fretJitter:5.1107913413594055},{number:70,velocity:127,time:51.646900000035764,channel:3,string:2,fret:15,stringJitter:1.9762767217672839,fretJitter:15.065153890763517},{number:66,velocity:127,time:51.667900000035765,channel:3,string:2,fret:11,stringJitter:2.0034353426317737,fretJitter:10.97585140970433},{number:57,velocity:96,time:52.23090000003576,channel:4,string:3,fret:7,stringJitter:3.0430819230469455,fretJitter:6.917264300600131},{number:79,velocity:80,time:52.34990000003576,channel:3,string:2,fret:24,stringJitter:1.8467168713864348,fretJitter:24.01301397657852},{number:55,velocity:104,time:52.46490000003576,channel:4,string:3,fret:5,stringJitter:2.834177517970823,fretJitter:5.0752511109479945},{number:57,velocity:103,time:52.49290000003576,channel:4,string:3,fret:7,stringJitter:2.9070687237086084,fretJitter:7.181648349935295},{number:68,velocity:127,time:52.728900000035765,channel:3,string:2,fret:13,stringJitter:1.9003904791496282,fretJitter:13.18539782815602},{number:61,velocity:127,time:52.752900000035766,channel:3,string:2,fret:6,stringJitter:2.1271191790256205,fretJitter:5.956533921476668},{number:60,velocity:127,time:52.87090000003576,channel:3,string:2,fret:5,stringJitter:1.8461072282806519,fretJitter:4.8443916987203455},{number:64,velocity:127,time:53.048900000035765,channel:3,string:2,fret:9,stringJitter:2.095119320795715,fretJitter:8.980016890864398},{number:62,velocity:127,time:53.07190000003576,channel:3,string:2,fret:7,stringJitter:1.9985210271264073,fretJitter:6.862119301404159},{number:68,velocity:127,time:53.33390000003576,channel:3,string:2,fret:13,stringJitter:2.0643347237031624,fretJitter:12.962816329089893},{number:73,velocity:127,time:53.408900000035764,channel:3,string:2,fret:18,stringJitter:1.8378697707261948,fretJitter:18.09595960377406},{number:44,velocity:57,time:53.783900000035764,channel:6,string:5,fret:4,stringJitter:4.933996912945302,fretJitter:4.0557721277886465},{number:49,velocity:46,time:53.78890000003576,channel:5,string:4,fret:4,stringJitter:4.100258885016705,fretJitter:4.013693328824902},{number:52,velocity:86,time:53.862900000035765,channel:5,string:4,fret:7,stringJitter:3.9827103249776417,fretJitter:6.826482340110222},{number:62,velocity:89,time:54.017900000035766,channel:5,string:4,fret:17,stringJitter:4.1797024054684595,fretJitter:16.97760088785652},{number:61,velocity:85,time:54.075900000035766,channel:5,string:4,fret:16,stringJitter:3.859204991031004,fretJitter:16.060970780867038},{number:60,velocity:85,time:54.088900000035764,channel:5,string:4,fret:15,stringJitter:4.093690024519479,fretJitter:14.936401428980261},{number:58,velocity:77,time:54.121900000035765,channel:5,string:4,fret:13,stringJitter:3.920447427345982,fretJitter:13.117695561244298},{number:57,velocity:72,time:54.13190000003576,channel:5,string:4,fret:12,stringJitter:4.128369633188008,fretJitter:12.151311491742657},{number:60,velocity:26,time:54.15490000003576,channel:4,string:3,fret:10,stringJitter:3.119815206213638,fretJitter:10.058478953146178},{number:59,velocity:30,time:54.164900000035765,channel:4,string:3,fret:9,stringJitter:3.125929390147045,fretJitter:9.03346914660568},{number:55,velocity:68,time:54.16590000003576,channel:5,string:4,fret:10,stringJitter:4.135220459750756,fretJitter:10.120536926160241},{number:58,velocity:25,time:54.17790000003576,channel:4,string:3,fret:8,stringJitter:3.1944603398167035,fretJitter:8.086590410438854},{number:54,velocity:65,time:54.17790000003576,channel:5,string:4,fret:9,stringJitter:4.1737629719398175,fretJitter:9.177176363995446},{number:57,velocity:25,time:54.191900000035766,channel:4,string:3,fret:7,stringJitter:3.1663552739005665,fretJitter:6.831425145093479},{number:52,velocity:63,time:54.19390000003576,channel:5,string:4,fret:7,stringJitter:4.037603302017317,fretJitter:7.1673917008894374},{number:56,velocity:23,time:54.207900000035764,channel:4,string:3,fret:6,stringJitter:3.1538303168972064,fretJitter:6.095474705897812},{number:51,velocity:59,time:54.222900000035764,channel:5,string:4,fret:6,stringJitter:4.180779060136333,fretJitter:6.160007651301396},{number:50,velocity:58,time:54.234900000035765,channel:5,string:4,fret:5,stringJitter:3.8701086150568775,fretJitter:5.058521720730211},{number:49,velocity:57,time:54.265900000035764,channel:5,string:4,fret:4,stringJitter:4.0893521876115075,fretJitter:4.110218708742062},{number:50,velocity:56,time:54.392900000035766,channel:5,string:4,fret:5,stringJitter:4.0833393474947215,fretJitter:5.06446961660322},{number:51,velocity:55,time:54.40990000003576,channel:5,string:4,fret:6,stringJitter:4.104226535303012,fretJitter:6.028002690172463},{number:55,velocity:60,time:54.46790000003576,channel:5,string:4,fret:10,stringJitter:3.9781613412038994,fretJitter:10.181808523779871},{number:65,velocity:11,time:54.511900000035766,channel:4,string:3,fret:15,stringJitter:2.8378904637660876,fretJitter:14.801542803011241},{number:68,velocity:10,time:54.56890000003576,channel:4,string:3,fret:18,stringJitter:3.12982057553526,fretJitter:18.160013161135385},{number:63,velocity:58,time:54.56890000003576,channel:5,string:4,fret:18,stringJitter:3.9595643198833326,fretJitter:17.933057490992294},{number:67,velocity:10,time:54.62690000003576,channel:4,string:3,fret:17,stringJitter:2.926836747323842,fretJitter:17.102018488441885},{number:66,velocity:10,time:54.643900000035764,channel:4,string:3,fret:16,stringJitter:3.0162901926865273,fretJitter:16.072812790749442},{number:61,velocity:54,time:54.64490000003576,channel:5,string:4,fret:16,stringJitter:3.894672827494269,fretJitter:16.043333150764678},{number:60,velocity:54,time:54.65390000003576,channel:5,string:4,fret:15,stringJitter:4.184106937604342,fretJitter:15.033908509436896},{number:64,velocity:10,time:54.670900000035765,channel:4,string:3,fret:14,stringJitter:3.1941028886230143,fretJitter:14.145922122320615},{number:59,velocity:54,time:54.673900000035765,channel:5,string:4,fret:14,stringJitter:4.060810066702287,fretJitter:13.974721721625734},{number:62,velocity:10,time:54.68790000003576,channel:4,string:3,fret:12,stringJitter:2.880187329695416,fretJitter:11.928508813155966},{number:58,velocity:53,time:54.688900000035765,channel:5,string:4,fret:13,stringJitter:3.9580357559575603,fretJitter:13.043044694622303},{number:61,velocity:10,time:54.701900000035764,channel:4,string:3,fret:11,stringJitter:3.048461216999183,fretJitter:11.069003088893734},{number:56,velocity:53,time:54.701900000035764,channel:5,string:4,fret:11,stringJitter:4.198861493996798,fretJitter:10.824859874792413},{number:55,velocity:54,time:54.713900000035764,channel:5,string:4,fret:10,stringJitter:3.903769717136777,fretJitter:10.05346216852172},{number:54,velocity:53,time:54.728900000035765,channel:5,string:4,fret:9,stringJitter:4.052506649823306,fretJitter:8.957036562110677},{number:53,velocity:49,time:54.74490000003576,channel:5,string:4,fret:8,stringJitter:3.9293468281293027,fretJitter:7.9097208709341436},{number:70,velocity:70,time:54.78890000003576,channel:4,string:3,fret:20,stringJitter:2.9435260920173256,fretJitter:20.167470739558905},{number:65,velocity:127,time:54.81490000003576,channel:3,string:2,fret:10,stringJitter:1.8118813379549816,fretJitter:9.896754828346449},{number:54,velocity:127,time:54.82090000003576,channel:4,string:3,fret:4,stringJitter:3.0535672948219337,fretJitter:4.020458034184182},{number:62,velocity:127,time:54.832900000035764,channel:2,string:1,fret:3,stringJitter:.8300555341673,fretJitter:3.08987947249407},{number:59,velocity:127,time:54.844900000035764,channel:3,string:2,fret:4,stringJitter:2.198311535329139,fretJitter:4.074168677646545},{number:51,velocity:51,time:54.929900000035765,channel:5,string:4,fret:6,stringJitter:3.865431617291277,fretJitter:5.993290996018242},{number:53,velocity:51,time:54.97390000003576,channel:5,string:4,fret:8,stringJitter:3.9139959384932186,fretJitter:8.196013250611594},{number:54,velocity:50,time:54.98890000003576,channel:5,string:4,fret:9,stringJitter:4.056344178604841,fretJitter:8.979390247855012},{number:55,velocity:52,time:55.00490000003576,channel:5,string:4,fret:10,stringJitter:4.0235901046262645,fretJitter:9.805679750154843},{number:56,velocity:54,time:55.017900000035766,channel:5,string:4,fret:11,stringJitter:3.9572169259465135,fretJitter:11.191599684513836},{number:57,velocity:52,time:55.030900000035764,channel:5,string:4,fret:12,stringJitter:4.153603052405945,fretJitter:11.936808743956002},{number:59,velocity:52,time:55.063900000035765,channel:5,string:4,fret:14,stringJitter:3.98535507980279,fretJitter:14.007884199199552},{number:62,velocity:54,time:55.106900000035765,channel:5,string:4,fret:17,stringJitter:3.877469146670679,fretJitter:17.008981332393112},{number:63,velocity:53,time:55.12290000003576,channel:5,string:4,fret:18,stringJitter:3.8711129474747987,fretJitter:18.14708173090853},{number:66,velocity:53,time:55.261900000035766,channel:5,string:4,fret:21,stringJitter:4.026600188509244,fretJitter:20.896066067062666},{number:63,velocity:127,time:55.268900000035764,channel:5,string:4,fret:18,stringJitter:3.8195246517686634,fretJitter:18.073285418727437},{number:68,velocity:127,time:55.27690000003576,channel:4,string:3,fret:18,stringJitter:3.121702501080346,fretJitter:17.962782098942718},{number:72,velocity:127,time:55.286900000035764,channel:3,string:2,fret:17,stringJitter:1.9854625619016404,fretJitter:16.847318935549005},{number:77,velocity:111,time:55.29190000003576,channel:2,string:1,fret:18,stringJitter:.9199850626646298,fretJitter:18.080992788326025},{number:67,velocity:127,time:55.29490000003576,channel:4,string:3,fret:17,stringJitter:3.114083252495471,fretJitter:17.1426642718904},{number:76,velocity:106,time:55.310900000035765,channel:2,string:1,fret:17,stringJitter:1.1206084190846284,fretJitter:16.99052607707101},{number:71,velocity:127,time:55.35290000003576,channel:3,string:2,fret:16,stringJitter:2.1193830714970883,fretJitter:15.840868315042432},{number:66,velocity:127,time:55.353900000035765,channel:4,string:3,fret:16,stringJitter:2.9504513125939407,fretJitter:15.939070946618049},{number:75,velocity:100,time:55.36790000003576,channel:2,string:1,fret:16,stringJitter:1.036014017139697,fretJitter:16.053827830496207},{number:61,velocity:117,time:55.368900000035765,channel:5,string:4,fret:16,stringJitter:4.0593565256358835,fretJitter:15.841750341135583},{number:70,velocity:127,time:55.38290000003576,channel:3,string:2,fret:15,stringJitter:1.8649000059084835,fretJitter:14.993633772415752},{number:65,velocity:127,time:55.383900000035766,channel:4,string:3,fret:15,stringJitter:3.157516036679245,fretJitter:15.102260559484083},{number:60,velocity:114,time:55.408900000035764,channel:5,string:4,fret:15,stringJitter:3.973498024550496,fretJitter:14.827591693368948},{number:74,velocity:98,time:55.426900000035765,channel:2,string:1,fret:15,stringJitter:1.1927719365794807,fretJitter:15.054917349260732},{number:69,velocity:127,time:55.42790000003576,channel:3,string:2,fret:14,stringJitter:2.066104790979348,fretJitter:14.097470174551349},{number:64,velocity:127,time:55.44090000003576,channel:4,string:3,fret:14,stringJitter:2.902739826950682,fretJitter:13.948251515860191},{number:59,velocity:113,time:55.454900000035764,channel:5,string:4,fret:14,stringJitter:3.8893764089923994,fretJitter:13.983800128558535},{number:73,velocity:97,time:55.46890000003576,channel:2,string:1,fret:14,stringJitter:1.0936257823321223,fretJitter:13.904793574913821},{number:68,velocity:127,time:55.484900000035765,channel:3,string:2,fret:13,stringJitter:2.0414809410391297,fretJitter:13.002910153615804},{number:63,velocity:127,time:55.48590000003576,channel:4,string:3,fret:13,stringJitter:2.9240578331441593,fretJitter:13.125012451173834},{number:58,velocity:112,time:55.49590000003576,channel:5,string:4,fret:13,stringJitter:4.18646695170417,fretJitter:12.977203099100972},{number:72,velocity:96,time:55.511900000035766,channel:2,string:1,fret:13,stringJitter:1.0280914827748668,fretJitter:12.862034357922457},{number:71,velocity:96,time:55.54190000003576,channel:2,string:1,fret:12,stringJitter:.8546814241842572,fretJitter:11.913728585377966},{number:57,velocity:110,time:55.542900000035765,channel:5,string:4,fret:12,stringJitter:3.963916969833618,fretJitter:11.992048471194204},{number:56,velocity:110,time:55.585900000035764,channel:5,string:4,fret:11,stringJitter:4.104249802366621,fretJitter:10.862654045276622},{number:47,velocity:91,time:56.10790000003576,channel:5,string:4,fret:2,stringJitter:4.06259194662421,fretJitter:1.9689876519496532},{number:51,velocity:85,time:56.10890000003576,channel:4,string:3,fret:1,stringJitter:2.9230714579910293,fretJitter:.9611620556142586},{number:43,velocity:13,time:56.133900000035766,channel:6,string:5,fret:3,stringJitter:4.982955663831438,fretJitter:2.9625948656788688},{number:45,velocity:127,time:56.47190000003576,channel:6,string:5,fret:5,stringJitter:5.056937586033268,fretJitter:4.907231547101112},{number:53,velocity:127,time:56.47490000003576,channel:5,string:4,fret:8,stringJitter:3.850322520899367,fretJitter:8.082132378223939},{number:57,velocity:127,time:56.48290000003576,channel:4,string:3,fret:7,stringJitter:2.8148162182183607,fretJitter:7.134143514967311},{number:52,velocity:127,time:56.49790000003576,channel:5,string:4,fret:7,stringJitter:3.848885763419412,fretJitter:7.088412449141086},{number:64,velocity:67,time:59.97090000003576,channel:5,string:4,fret:19,stringJitter:3.838466346125687,fretJitter:19.164084781899042},{number:41,velocity:127,time:59.97390000003576,channel:6,string:5,fret:1,stringJitter:4.996712758480061,fretJitter:1.0135722689862912},{number:52,velocity:115,time:59.98890000003576,channel:5,string:4,fret:7,stringJitter:4.113927757300064,fretJitter:7.18187221067752},{number:75,velocity:66,time:60.00190000003576,channel:3,string:2,fret:20,stringJitter:2.1723215018902144,fretJitter:19.971400092471534},{number:73,velocity:50,time:60.00990000003576,channel:3,string:2,fret:18,stringJitter:2.0819714649677814,fretJitter:18.09897129062091},{number:45,velocity:127,time:60.01290000003576,channel:6,string:5,fret:5,stringJitter:4.900793900273378,fretJitter:5.0426618763424855},{number:55,velocity:44,time:60.02690000003576,channel:3,string:2,fret:0,stringJitter:1.803018992045981,fretJitter:.0539813146337802},{number:55,velocity:26,time:60.03790000003576,channel:4,string:3,fret:5,stringJitter:3.1208213057731897,fretJitter:4.9680215843658955},{number:51,velocity:127,time:60.04390000003576,channel:5,string:4,fret:6,stringJitter:3.982621518192951,fretJitter:5.908145730638747},{number:50,velocity:127,time:60.08390000003576,channel:5,string:4,fret:5,stringJitter:3.911233638022307,fretJitter:4.906835283031961},{number:49,velocity:127,time:60.109900000035765,channel:5,string:4,fret:4,stringJitter:3.8304865936484753,fretJitter:3.9461743665309834}],_5t="fretboard-jitter",E5t="0.23.3",w5t="2024-11-26T15:38:01.191Z",O5t={pastNoteCount:A5t,tempo:v5t,barsPerFacet:b5t,notes:C5t,_appId:_5t,_softwareVersion:E5t,_date:w5t};function S5t(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function x5t(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function T5t(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function I5t(e){let t,i,n,a,o,l,c,d,u,h,p,f;return n=new T9({props:{onclick:e[23],disabled:e[7],$$slots:{default:[S5t]},$$scope:{ctx:e}}}),c=new T9({props:{onclick:e[24],disabled:e[7],$$slots:{default:[x5t]},$$scope:{ctx:e}}}),p=new T9({props:{onclick:e[25],disabled:e[7],$$slots:{default:[T5t]},$$scope:{ctx:e}}}),{c(){t=q("p"),i=te(`1) Improvise in one position (avoid this when more advanced).
                `),Pt(n.$$.fragment),a=K(),o=q("p"),l=te(`2) Change between positions.
                `),Pt(c.$$.fragment),d=K(),u=q("p"),h=te(`3) Switch between more horizontal and vertical playing.
                `),Pt(p.$$.fragment)},m(M,g){bt(M,t,g),B(t,i),Rt(n,t,null),bt(M,a,g),bt(M,o,g),B(o,l),Rt(c,o,null),bt(M,d,g),bt(M,u,g),B(u,h),Rt(p,u,null),f=!0},p(M,g){const y={};g&128&&(y.disabled=M[7]),g&1073741824&&(y.$$scope={dirty:g,ctx:M}),n.$set(y);const b={};g&128&&(b.disabled=M[7]),g&1073741824&&(b.$$scope={dirty:g,ctx:M}),c.$set(b);const v={};g&128&&(v.disabled=M[7]),g&1073741824&&(v.$$scope={dirty:g,ctx:M}),p.$set(v)},i(M){f||(wt(n.$$.fragment,M),wt(c.$$.fragment,M),wt(p.$$.fragment,M),f=!0)},o(M){It(n.$$.fragment,M),It(c.$$.fragment,M),It(p.$$.fragment,M),f=!1},d(M){M&&(vt(t),vt(a),vt(o),vt(d),vt(u)),Dt(n),Dt(c),Dt(p)}}}function B5t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St;function At(ve){e[14](ve)}let xt={max:1e3};e[2]!==void 0&&(xt.value=e[2]),u=new eu({props:xt}),he.push(()=>Ee(u,"value",At));function gt(ve){e[15](ve)}let yt={label:"tempo",title:"If you set the correct tempo, each facet of the lower chart will show N bars you played",disabled:e[7]};e[3]!==void 0&&(yt.value=e[3]),f=new Vr({props:yt}),he.push(()=>Ee(f,"value",gt));function lt(ve){e[16](ve)}let zt={title:"Set the number of bars contained within each facet of the lower chart",label:"bars per facet",min:1,max:20,step:1,defaultValue:1};e[4]!==void 0&&(zt.value=e[4]),y=new M0({props:zt}),he.push(()=>Ee(y,"value",lt));function kt(ve){e[17](ve)}let Jt={label:"color by fret",title:"Color small multiples below by fret instead of time"};e[5]!==void 0&&(Jt.checked=e[5]),C=new zn({props:Jt}),he.push(()=>Ee(C,"checked",kt)),T=new so({props:{tempo:e[3],accent:4,beepCount:8,showBeepCountInput:!0,disabled:e[7]}});function Gt(ve){e[19](ve)}function ce(ve){e[20](ve)}let ae={saveToStorage:e[13],disabled:e[7]};e[6]!==void 0&&(ae.notes=e[6]),e[8]!==void 0&&(ae.isDataLoaded=e[8]),D=new c9({props:ae}),he.push(()=>Ee(D,"notes",Gt)),he.push(()=>Ee(D,"isDataLoaded",ce)),U=new _9({props:{appId:e[0].id,loadData:e[12],disabled:e[7]}});function qt(ve){e[21](ve)}function ue(ve){e[22](ve)}let $e={callback:e[10]};return e[6]!==void 0&&($e.notes=e[6]),e[7]!==void 0&&($e.isPlaying=e[7]),z=new Oa({props:$e}),he.push(()=>Ee(z,"notes",qt)),he.push(()=>Ee(z,"isPlaying",ue)),Z=new f9({props:{loadData:e[12],getExportData:e[11],appId:e[0].id,disabled:e[7]}}),W=new e9({props:{$$slots:{default:[I5t]},$$scope:{ctx:e}}}),dt=new i9({props:{appId:e[0].id}}),st=new j0({props:{noteOn:e[9],disabled:e[8]||e[7]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing improvisation on a guitar. The fretboard
            below shows you where you played notes. Each note is a dot that is
            moved a little bit from its exact position to avoid overlap. A
            note's color indicates how recently you played it and its area tells
            how loud it was played.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),Pt(C.$$.fragment),_=K(),E=q("div"),S=K(),I=q("div"),Pt(T.$$.fragment),k=K(),Pt(D.$$.fragment),F=K(),Pt(U.$$.fragment),V=K(),Pt(z.$$.fragment),J=K(),Pt(Z.$$.fragment),j=K(),Pt(W.$$.fragment),et=K(),Pt(dt.$$.fragment),ht=K(),Pt(st.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(E,"class","visualization"),mt(I,"class","control"),mt(t,"class","app")},m(ve,He){bt(ve,t,He),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(d,v),Rt(C,d,null),B(t,_),B(t,E),e[18](E),B(t,S),B(t,I),Rt(T,I,null),B(I,k),Rt(D,I,null),B(I,F),Rt(U,I,null),B(I,V),Rt(z,I,null),B(I,J),Rt(Z,I,null),B(t,j),Rt(W,t,null),B(t,et),Rt(dt,t,null),B(t,ht),Rt(st,t,null),St=!0},p(ve,He){(!St||He&1)&&n!==(n=ve[0].title+"")&&Qe(a,n);const qe={};!h&&He&4&&(h=!0,qe.value=ve[2],_e(()=>h=!1)),u.$set(qe);const ri={};He&128&&(ri.disabled=ve[7]),!M&&He&8&&(M=!0,ri.value=ve[3],_e(()=>M=!1)),f.$set(ri);const oi={};!b&&He&16&&(b=!0,oi.value=ve[4],_e(()=>b=!1)),y.$set(oi);const oe={};!w&&He&32&&(w=!0,oe.checked=ve[5],_e(()=>w=!1)),C.$set(oe);const fe={};He&8&&(fe.tempo=ve[3]),He&128&&(fe.disabled=ve[7]),T.$set(fe);const pe={};He&128&&(pe.disabled=ve[7]),!N&&He&64&&(N=!0,pe.notes=ve[6],_e(()=>N=!1)),!P&&He&256&&(P=!0,pe.isDataLoaded=ve[8],_e(()=>P=!1)),D.$set(pe);const Ot={};He&1&&(Ot.appId=ve[0].id),He&128&&(Ot.disabled=ve[7]),U.$set(Ot);const _t={};!G&&He&64&&(G=!0,_t.notes=ve[6],_e(()=>G=!1)),!H&&He&128&&(H=!0,_t.isPlaying=ve[7],_e(()=>H=!1)),z.$set(_t);const Ht={};He&1&&(Ht.appId=ve[0].id),He&128&&(Ht.disabled=ve[7]),Z.$set(Ht);const Tt={};He&1073741952&&(Tt.$$scope={dirty:He,ctx:ve}),W.$set(Tt);const Et={};He&1&&(Et.appId=ve[0].id),dt.$set(Et);const Lt={};He&384&&(Lt.disabled=ve[8]||ve[7]),st.$set(Lt)},i(ve){St||(wt(u.$$.fragment,ve),wt(f.$$.fragment,ve),wt(y.$$.fragment,ve),wt(C.$$.fragment,ve),wt(T.$$.fragment,ve),wt(D.$$.fragment,ve),wt(U.$$.fragment,ve),wt(z.$$.fragment,ve),wt(Z.$$.fragment,ve),wt(W.$$.fragment,ve),wt(dt.$$.fragment,ve),wt(st.$$.fragment,ve),St=!0)},o(ve){It(u.$$.fragment,ve),It(f.$$.fragment,ve),It(y.$$.fragment,ve),It(C.$$.fragment,ve),It(T.$$.fragment,ve),It(D.$$.fragment,ve),It(U.$$.fragment,ve),It(z.$$.fragment,ve),It(Z.$$.fragment,ve),It(W.$$.fragment,ve),It(dt.$$.fragment,ve),It(st.$$.fragment,ve),St=!1},d(ve){ve&&vt(t),Dt(u),Dt(f),Dt(y),Dt(C),e[18](null),Dt(T),Dt(D),Dt(U),Dt(z),Dt(Z),Dt(W),Dt(dt),Dt(st)}}}function R5t(e){let t,i;return t=new m9({props:{loadData:e[12],disabled:e[7],$$slots:{default:[B5t]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&128&&(o.disabled=n[7]),a&1073742335&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let cd=900,P2=6,ud=24;function D5t(e,t,i){let{appInfo:n}=t;const a=()=>(Math.random()-.5)*.4;let o=[64,59,55,50,45,40];const l=o.map(Fa);let c,d=200,u=90,h=1,p=!0,f=0,M=[],g,y=!1;const b=G=>{M.length===0&&(f=G.timestamp);const H=G.message.channel-1,J=G.note.number-o[H];if(J<0||J>ud)return;const Z=(G.timestamp-f)/1e3,j={number:G.note.number,velocity:G.rawVelocity,time:Z,channel:G.message.channel,string:H,fret:J,stringJitter:H+a(),fretJitter:J+a()};i(6,M=[...M,j])},v=()=>{const G=M.slice(-d),H=(cd-100)/25,J=On({width:cd,aspectRatio:1,marginLeft:50,marginBottom:40,padding:0,x:{domain:[-1,ud+1.5],ticks:fi(0,ud+1),tickSize:0,label:"fret"},y:{domain:[P2-.5,-.5],tickFormat:ht=>l[ht],tickSize:0,label:"string"},color:{legend:!0,marginLeft:300,width:550,scheme:"viridis",reverse:!0,domain:[0,d],label:"note index: old (yellow) to new (purple)"},r:{domain:[0,127],range:[0,5]},marks:[q9(fi(0,ud+1),{stroke:"#ddd",dx:H/2}),T0(fi(0,P2),{stroke:"#ddd",strokeWidth:ht=>Math.sqrt(ht+1)}),ea([3,5,7,9,15,17,19,21],{x:ht=>ht,y:2,dy:H/2,fill:"#ddd",r:8}),ea([12,12,24,24],{x:ht=>ht,y:(ht,st)=>st%2===0?1:3,dy:H/2,fill:"#ddd",r:8}),ea(G,{x:"fretJitter",y:"stringJitter",fill:(ht,st)=>st,stroke:"#888",strokeWidth:.5,r:"velocity",opacity:.5,tip:!0,title:ht=>`string: ${l[ht.string]}
fret: ${ht.fret}
loudness: ${(ht.velocity/127).toFixed(2)}
time: ${ht.time.toFixed(1)} s`})]}),Z=[...t1.keys()].map(ht=>ht/127),j=On({width:cd,height:47,marginTop:0,marginLeft:cd*.35,marginRight:cd*.35,marginBottom:30,x:{label:"loudness",labelAnchor:"center",ticks:Z,tickSize:0,tickPadding:3,tickFormat:(ht,st)=>[...t1.values()][st]},marks:[K2t(Z,{x:(ht,st)=>ht,fill:"#888",r:ht=>ht})]});i(1,c.textContent="",c),c.appendChild(J),c.appendChild(j);const W=Q0(u)*4*h;let et;p?et={domain:fi(0,25),range:[...xc.noteColormap,...xc.noteColormap]}:et={scheme:"viridis",reverse:!0,domain:[0,W]};const dt=On({width:cd,aspectRatio:1,x:{domain:[-1,ud+1.5],ticks:[0,3,5,7,9,12,15,17,19,21],tickSize:0,label:"fret"},y:{domain:[P2-.5,-.5],ticks:fi(P2),tickFormat:ht=>l[ht],tickSize:0,label:"string"},color:et,r:{domain:[0,127],range:[0,3]},fx:{ticks:[]},fy:{tickFormat:ht=>`bar
${ht*2*h+1} - ${(ht+1)*2*h}`},marks:[q9(fi(0,ud+1),{stroke:"#ddd",dx:H/4}),T0(fi(0,P2),{stroke:"#ddd"}),ea([3,5,7,9,15,17,19,21],{x:ht=>ht,y:2,dy:H/4,fill:"#ddd",r:4}),ea([12,12,24,24],{x:ht=>ht,y:(ht,st)=>st%2===0?1:3,dy:H/4,fill:"#ddd",r:4}),ea(M,{fy:ht=>Math.floor(ht.time/W/2),fx:ht=>Math.floor(ht.time/W)%2,x:"fretJitter",y:"stringJitter",fill:p?ht=>ht.fret:(ht,st)=>ht.time%W,stroke:"#888",strokeWidth:.5,r:"velocity",opacity:.8,tip:!0,title:ht=>`string: ${l[ht.string]}
fret: ${ht.fret}
loudness: ${(ht.velocity/127).toFixed(2)}
time: ${ht.time.toFixed(1)} s`})]});c.appendChild(dt)};$9(v);const C=()=>({pastNoteCount:d,tempo:u,barsPerFacet:h,notes:M}),w=G=>{_(),i(2,d=G.pastNoteCount),i(3,u=G.tempo??120),i(4,h=G.barsPerFacet??1),i(6,M=G.notes),i(8,y=!0)},_=()=>{!y&&!g&&M.length>0&&C9(n.id,C())};c0(_);function E(G){d=G,i(2,d)}function S(G){u=G,i(3,u)}function I(G){h=G,i(4,h)}function T(G){p=G,i(5,p)}function k(G){he[G?"unshift":"push"](()=>{c=G,i(1,c)})}function D(G){M=G,i(6,M)}function N(G){y=G,i(8,y)}function P(G){M=G,i(6,M)}function F(G){g=G,i(7,g)}const U=()=>w(u5t),V=()=>w(y5t),z=()=>w(O5t);return e.$$set=G=>{"appInfo"in G&&i(0,n=G.appInfo)},[n,c,d,u,h,p,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z]}class P5t extends Zi{constructor(t){super(),Yi(this,t,D5t,R5t,Xi,{appInfo:0})}}var uJ={exports:{}};(function(e,t){var i={};(function(a,o){e.exports=o()})(self,()=>(()=>{var n={"./node_modules/an-array/index.js":c=>{var d=Object.prototype.toString;c.exports=u;function u(h){return h.BYTES_PER_ELEMENT&&d.call(h.buffer)==="[object ArrayBuffer]"||Array.isArray(h)}},"./node_modules/as-number/index.js":c=>{c.exports=function(u,h){return typeof u=="number"?u:typeof h=="number"?h:0}},"./node_modules/base64-js/index.js":(c,d)=>{d.byteLength=b,d.toByteArray=C,d.fromByteArray=E;for(var u=[],h=[],p=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=0,g=f.length;M<g;++M)u[M]=f[M],h[f.charCodeAt(M)]=M;h[45]=62,h[95]=63;function y(S){var I=S.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var T=S.indexOf("=");T===-1&&(T=I);var k=T===I?0:4-T%4;return[T,k]}function b(S){var I=y(S),T=I[0],k=I[1];return(T+k)*3/4-k}function v(S,I,T){return(I+T)*3/4-T}function C(S){var I,T=y(S),k=T[0],D=T[1],N=new p(v(S,k,D)),P=0,F=D>0?k-4:k,U;for(U=0;U<F;U+=4)I=h[S.charCodeAt(U)]<<18|h[S.charCodeAt(U+1)]<<12|h[S.charCodeAt(U+2)]<<6|h[S.charCodeAt(U+3)],N[P++]=I>>16&255,N[P++]=I>>8&255,N[P++]=I&255;return D===2&&(I=h[S.charCodeAt(U)]<<2|h[S.charCodeAt(U+1)]>>4,N[P++]=I&255),D===1&&(I=h[S.charCodeAt(U)]<<10|h[S.charCodeAt(U+1)]<<4|h[S.charCodeAt(U+2)]>>2,N[P++]=I>>8&255,N[P++]=I&255),N}function w(S){return u[S>>18&63]+u[S>>12&63]+u[S>>6&63]+u[S&63]}function _(S,I,T){for(var k,D=[],N=I;N<T;N+=3)k=(S[N]<<16&16711680)+(S[N+1]<<8&65280)+(S[N+2]&255),D.push(w(k));return D.join("")}function E(S){for(var I,T=S.length,k=T%3,D=[],N=16383,P=0,F=T-k;P<F;P+=N)D.push(_(S,P,P+N>F?F:P+N));return k===1?(I=S[T-1],D.push(u[I>>2]+u[I<<4&63]+"==")):k===2&&(I=(S[T-2]<<8)+S[T-1],D.push(u[I>>10]+u[I>>4&63]+u[I<<2&63]+"=")),D.join("")}},"./node_modules/buffer-equal/index.js":(c,d,u)=>{var h=u("./node_modules/buffer/index.js").Buffer;c.exports=function(p,f){if(h.isBuffer(p)&&h.isBuffer(f)){if(typeof p.equals=="function")return p.equals(f);if(p.length!==f.length)return!1;for(var M=0;M<p.length;M++)if(p[M]!==f[M])return!1;return!0}}},"./node_modules/buffer/index.js":(c,d,u)=>{/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const h=u("./node_modules/base64-js/index.js"),p=u("./node_modules/ieee754/index.js"),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;d.Buffer=b,d.SlowBuffer=N,d.INSPECT_MAX_BYTES=50;const M=2147483647;d.kMaxLength=M,b.TYPED_ARRAY_SUPPORT=g(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function g(){try{const ut=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ut,X),ut.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function y(ut){if(ut>M)throw new RangeError('The value "'+ut+'" is invalid for option "size"');const X=new Uint8Array(ut);return Object.setPrototypeOf(X,b.prototype),X}function b(ut,X,tt){if(typeof ut=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(ut)}return v(ut,X,tt)}b.poolSize=8192;function v(ut,X,tt){if(typeof ut=="string")return E(ut,X);if(ArrayBuffer.isView(ut))return I(ut);if(ut==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ut);if(_t(ut,ArrayBuffer)||ut&&_t(ut.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_t(ut,SharedArrayBuffer)||ut&&_t(ut.buffer,SharedArrayBuffer)))return T(ut,X,tt);if(typeof ut=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Bt=ut.valueOf&&ut.valueOf();if(Bt!=null&&Bt!==ut)return b.from(Bt,X,tt);const Qt=k(ut);if(Qt)return Qt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ut[Symbol.toPrimitive]=="function")return b.from(ut[Symbol.toPrimitive]("string"),X,tt);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ut)}b.from=function(ut,X,tt){return v(ut,X,tt)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function C(ut){if(typeof ut!="number")throw new TypeError('"size" argument must be of type number');if(ut<0)throw new RangeError('The value "'+ut+'" is invalid for option "size"')}function w(ut,X,tt){return C(ut),ut<=0?y(ut):X!==void 0?typeof tt=="string"?y(ut).fill(X,tt):y(ut).fill(X):y(ut)}b.alloc=function(ut,X,tt){return w(ut,X,tt)};function _(ut){return C(ut),y(ut<0?0:D(ut)|0)}b.allocUnsafe=function(ut){return _(ut)},b.allocUnsafeSlow=function(ut){return _(ut)};function E(ut,X){if((typeof X!="string"||X==="")&&(X="utf8"),!b.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const tt=P(ut,X)|0;let Bt=y(tt);const Qt=Bt.write(ut,X);return Qt!==tt&&(Bt=Bt.slice(0,Qt)),Bt}function S(ut){const X=ut.length<0?0:D(ut.length)|0,tt=y(X);for(let Bt=0;Bt<X;Bt+=1)tt[Bt]=ut[Bt]&255;return tt}function I(ut){if(_t(ut,Uint8Array)){const X=new Uint8Array(ut);return T(X.buffer,X.byteOffset,X.byteLength)}return S(ut)}function T(ut,X,tt){if(X<0||ut.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ut.byteLength<X+(tt||0))throw new RangeError('"length" is outside of buffer bounds');let Bt;return X===void 0&&tt===void 0?Bt=new Uint8Array(ut):tt===void 0?Bt=new Uint8Array(ut,X):Bt=new Uint8Array(ut,X,tt),Object.setPrototypeOf(Bt,b.prototype),Bt}function k(ut){if(b.isBuffer(ut)){const X=D(ut.length)|0,tt=y(X);return tt.length===0||ut.copy(tt,0,0,X),tt}if(ut.length!==void 0)return typeof ut.length!="number"||Ht(ut.length)?y(0):S(ut);if(ut.type==="Buffer"&&Array.isArray(ut.data))return S(ut.data)}function D(ut){if(ut>=M)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+M.toString(16)+" bytes");return ut|0}function N(ut){return+ut!=ut&&(ut=0),b.alloc(+ut)}b.isBuffer=function(X){return X!=null&&X._isBuffer===!0&&X!==b.prototype},b.compare=function(X,tt){if(_t(X,Uint8Array)&&(X=b.from(X,X.offset,X.byteLength)),_t(tt,Uint8Array)&&(tt=b.from(tt,tt.offset,tt.byteLength)),!b.isBuffer(X)||!b.isBuffer(tt))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===tt)return 0;let Bt=X.length,Qt=tt.length;for(let jt=0,ne=Math.min(Bt,Qt);jt<ne;++jt)if(X[jt]!==tt[jt]){Bt=X[jt],Qt=tt[jt];break}return Bt<Qt?-1:Qt<Bt?1:0},b.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(X,tt){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(X.length===0)return b.alloc(0);let Bt;if(tt===void 0)for(tt=0,Bt=0;Bt<X.length;++Bt)tt+=X[Bt].length;const Qt=b.allocUnsafe(tt);let jt=0;for(Bt=0;Bt<X.length;++Bt){let ne=X[Bt];if(_t(ne,Uint8Array))jt+ne.length>Qt.length?(b.isBuffer(ne)||(ne=b.from(ne)),ne.copy(Qt,jt)):Uint8Array.prototype.set.call(Qt,ne,jt);else if(b.isBuffer(ne))ne.copy(Qt,jt);else throw new TypeError('"list" argument must be an Array of Buffers');jt+=ne.length}return Qt};function P(ut,X){if(b.isBuffer(ut))return ut.length;if(ArrayBuffer.isView(ut)||_t(ut,ArrayBuffer))return ut.byteLength;if(typeof ut!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ut);const tt=ut.length,Bt=arguments.length>2&&arguments[2]===!0;if(!Bt&&tt===0)return 0;let Qt=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return tt;case"utf8":case"utf-8":return oi(ut).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tt*2;case"hex":return tt>>>1;case"base64":return pe(ut).length;default:if(Qt)return Bt?-1:oi(ut).length;X=(""+X).toLowerCase(),Qt=!0}}b.byteLength=P;function F(ut,X,tt){let Bt=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((tt===void 0||tt>this.length)&&(tt=this.length),tt<=0)||(tt>>>=0,X>>>=0,tt<=X))return"";for(ut||(ut="utf8");;)switch(ut){case"hex":return At(this,X,tt);case"utf8":case"utf-8":return et(this,X,tt);case"ascii":return st(this,X,tt);case"latin1":case"binary":return St(this,X,tt);case"base64":return W(this,X,tt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xt(this,X,tt);default:if(Bt)throw new TypeError("Unknown encoding: "+ut);ut=(ut+"").toLowerCase(),Bt=!0}}b.prototype._isBuffer=!0;function U(ut,X,tt){const Bt=ut[X];ut[X]=ut[tt],ut[tt]=Bt}b.prototype.swap16=function(){const X=this.length;if(X%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let tt=0;tt<X;tt+=2)U(this,tt,tt+1);return this},b.prototype.swap32=function(){const X=this.length;if(X%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let tt=0;tt<X;tt+=4)U(this,tt,tt+3),U(this,tt+1,tt+2);return this},b.prototype.swap64=function(){const X=this.length;if(X%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let tt=0;tt<X;tt+=8)U(this,tt,tt+7),U(this,tt+1,tt+6),U(this,tt+2,tt+5),U(this,tt+3,tt+4);return this},b.prototype.toString=function(){const X=this.length;return X===0?"":arguments.length===0?et(this,0,X):F.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(X){if(!b.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X?!0:b.compare(this,X)===0},b.prototype.inspect=function(){let X="";const tt=d.INSPECT_MAX_BYTES;return X=this.toString("hex",0,tt).replace(/(.{2})/g,"$1 ").trim(),this.length>tt&&(X+=" ... "),"<Buffer "+X+">"},f&&(b.prototype[f]=b.prototype.inspect),b.prototype.compare=function(X,tt,Bt,Qt,jt){if(_t(X,Uint8Array)&&(X=b.from(X,X.offset,X.byteLength)),!b.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(tt===void 0&&(tt=0),Bt===void 0&&(Bt=X?X.length:0),Qt===void 0&&(Qt=0),jt===void 0&&(jt=this.length),tt<0||Bt>X.length||Qt<0||jt>this.length)throw new RangeError("out of range index");if(Qt>=jt&&tt>=Bt)return 0;if(Qt>=jt)return-1;if(tt>=Bt)return 1;if(tt>>>=0,Bt>>>=0,Qt>>>=0,jt>>>=0,this===X)return 0;let ne=jt-Qt,se=Bt-tt;const Be=Math.min(ne,se),we=this.slice(Qt,jt),Ne=X.slice(tt,Bt);for(let li=0;li<Be;++li)if(we[li]!==Ne[li]){ne=we[li],se=Ne[li];break}return ne<se?-1:se<ne?1:0};function V(ut,X,tt,Bt,Qt){if(ut.length===0)return-1;if(typeof tt=="string"?(Bt=tt,tt=0):tt>2147483647?tt=2147483647:tt<-2147483648&&(tt=-2147483648),tt=+tt,Ht(tt)&&(tt=Qt?0:ut.length-1),tt<0&&(tt=ut.length+tt),tt>=ut.length){if(Qt)return-1;tt=ut.length-1}else if(tt<0)if(Qt)tt=0;else return-1;if(typeof X=="string"&&(X=b.from(X,Bt)),b.isBuffer(X))return X.length===0?-1:z(ut,X,tt,Bt,Qt);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?Qt?Uint8Array.prototype.indexOf.call(ut,X,tt):Uint8Array.prototype.lastIndexOf.call(ut,X,tt):z(ut,[X],tt,Bt,Qt);throw new TypeError("val must be string, number or Buffer")}function z(ut,X,tt,Bt,Qt){let jt=1,ne=ut.length,se=X.length;if(Bt!==void 0&&(Bt=String(Bt).toLowerCase(),Bt==="ucs2"||Bt==="ucs-2"||Bt==="utf16le"||Bt==="utf-16le")){if(ut.length<2||X.length<2)return-1;jt=2,ne/=2,se/=2,tt/=2}function Be(Ne,li){return jt===1?Ne[li]:Ne.readUInt16BE(li*jt)}let we;if(Qt){let Ne=-1;for(we=tt;we<ne;we++)if(Be(ut,we)===Be(X,Ne===-1?0:we-Ne)){if(Ne===-1&&(Ne=we),we-Ne+1===se)return Ne*jt}else Ne!==-1&&(we-=we-Ne),Ne=-1}else for(tt+se>ne&&(tt=ne-se),we=tt;we>=0;we--){let Ne=!0;for(let li=0;li<se;li++)if(Be(ut,we+li)!==Be(X,li)){Ne=!1;break}if(Ne)return we}return-1}b.prototype.includes=function(X,tt,Bt){return this.indexOf(X,tt,Bt)!==-1},b.prototype.indexOf=function(X,tt,Bt){return V(this,X,tt,Bt,!0)},b.prototype.lastIndexOf=function(X,tt,Bt){return V(this,X,tt,Bt,!1)};function G(ut,X,tt,Bt){tt=Number(tt)||0;const Qt=ut.length-tt;Bt?(Bt=Number(Bt),Bt>Qt&&(Bt=Qt)):Bt=Qt;const jt=X.length;Bt>jt/2&&(Bt=jt/2);let ne;for(ne=0;ne<Bt;++ne){const se=parseInt(X.substr(ne*2,2),16);if(Ht(se))return ne;ut[tt+ne]=se}return ne}function H(ut,X,tt,Bt){return Ot(oi(X,ut.length-tt),ut,tt,Bt)}function J(ut,X,tt,Bt){return Ot(oe(X),ut,tt,Bt)}function Z(ut,X,tt,Bt){return Ot(pe(X),ut,tt,Bt)}function j(ut,X,tt,Bt){return Ot(fe(X,ut.length-tt),ut,tt,Bt)}b.prototype.write=function(X,tt,Bt,Qt){if(tt===void 0)Qt="utf8",Bt=this.length,tt=0;else if(Bt===void 0&&typeof tt=="string")Qt=tt,Bt=this.length,tt=0;else if(isFinite(tt))tt=tt>>>0,isFinite(Bt)?(Bt=Bt>>>0,Qt===void 0&&(Qt="utf8")):(Qt=Bt,Bt=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const jt=this.length-tt;if((Bt===void 0||Bt>jt)&&(Bt=jt),X.length>0&&(Bt<0||tt<0)||tt>this.length)throw new RangeError("Attempt to write outside buffer bounds");Qt||(Qt="utf8");let ne=!1;for(;;)switch(Qt){case"hex":return G(this,X,tt,Bt);case"utf8":case"utf-8":return H(this,X,tt,Bt);case"ascii":case"latin1":case"binary":return J(this,X,tt,Bt);case"base64":return Z(this,X,tt,Bt);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,X,tt,Bt);default:if(ne)throw new TypeError("Unknown encoding: "+Qt);Qt=(""+Qt).toLowerCase(),ne=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function W(ut,X,tt){return X===0&&tt===ut.length?h.fromByteArray(ut):h.fromByteArray(ut.slice(X,tt))}function et(ut,X,tt){tt=Math.min(ut.length,tt);const Bt=[];let Qt=X;for(;Qt<tt;){const jt=ut[Qt];let ne=null,se=jt>239?4:jt>223?3:jt>191?2:1;if(Qt+se<=tt){let Be,we,Ne,li;switch(se){case 1:jt<128&&(ne=jt);break;case 2:Be=ut[Qt+1],(Be&192)===128&&(li=(jt&31)<<6|Be&63,li>127&&(ne=li));break;case 3:Be=ut[Qt+1],we=ut[Qt+2],(Be&192)===128&&(we&192)===128&&(li=(jt&15)<<12|(Be&63)<<6|we&63,li>2047&&(li<55296||li>57343)&&(ne=li));break;case 4:Be=ut[Qt+1],we=ut[Qt+2],Ne=ut[Qt+3],(Be&192)===128&&(we&192)===128&&(Ne&192)===128&&(li=(jt&15)<<18|(Be&63)<<12|(we&63)<<6|Ne&63,li>65535&&li<1114112&&(ne=li))}}ne===null?(ne=65533,se=1):ne>65535&&(ne-=65536,Bt.push(ne>>>10&1023|55296),ne=56320|ne&1023),Bt.push(ne),Qt+=se}return ht(Bt)}const dt=4096;function ht(ut){const X=ut.length;if(X<=dt)return String.fromCharCode.apply(String,ut);let tt="",Bt=0;for(;Bt<X;)tt+=String.fromCharCode.apply(String,ut.slice(Bt,Bt+=dt));return tt}function st(ut,X,tt){let Bt="";tt=Math.min(ut.length,tt);for(let Qt=X;Qt<tt;++Qt)Bt+=String.fromCharCode(ut[Qt]&127);return Bt}function St(ut,X,tt){let Bt="";tt=Math.min(ut.length,tt);for(let Qt=X;Qt<tt;++Qt)Bt+=String.fromCharCode(ut[Qt]);return Bt}function At(ut,X,tt){const Bt=ut.length;(!X||X<0)&&(X=0),(!tt||tt<0||tt>Bt)&&(tt=Bt);let Qt="";for(let jt=X;jt<tt;++jt)Qt+=Tt[ut[jt]];return Qt}function xt(ut,X,tt){const Bt=ut.slice(X,tt);let Qt="";for(let jt=0;jt<Bt.length-1;jt+=2)Qt+=String.fromCharCode(Bt[jt]+Bt[jt+1]*256);return Qt}b.prototype.slice=function(X,tt){const Bt=this.length;X=~~X,tt=tt===void 0?Bt:~~tt,X<0?(X+=Bt,X<0&&(X=0)):X>Bt&&(X=Bt),tt<0?(tt+=Bt,tt<0&&(tt=0)):tt>Bt&&(tt=Bt),tt<X&&(tt=X);const Qt=this.subarray(X,tt);return Object.setPrototypeOf(Qt,b.prototype),Qt};function gt(ut,X,tt){if(ut%1!==0||ut<0)throw new RangeError("offset is not uint");if(ut+X>tt)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(X,tt,Bt){X=X>>>0,tt=tt>>>0,Bt||gt(X,tt,this.length);let Qt=this[X],jt=1,ne=0;for(;++ne<tt&&(jt*=256);)Qt+=this[X+ne]*jt;return Qt},b.prototype.readUintBE=b.prototype.readUIntBE=function(X,tt,Bt){X=X>>>0,tt=tt>>>0,Bt||gt(X,tt,this.length);let Qt=this[X+--tt],jt=1;for(;tt>0&&(jt*=256);)Qt+=this[X+--tt]*jt;return Qt},b.prototype.readUint8=b.prototype.readUInt8=function(X,tt){return X=X>>>0,tt||gt(X,1,this.length),this[X]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(X,tt){return X=X>>>0,tt||gt(X,2,this.length),this[X]|this[X+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(X,tt){return X=X>>>0,tt||gt(X,2,this.length),this[X]<<8|this[X+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(X,tt){return X=X>>>0,tt||gt(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+this[X+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(X,tt){return X=X>>>0,tt||gt(X,4,this.length),this[X]*16777216+(this[X+1]<<16|this[X+2]<<8|this[X+3])},b.prototype.readBigUInt64LE=Et(function(X){X=X>>>0,ve(X,"offset");const tt=this[X],Bt=this[X+7];(tt===void 0||Bt===void 0)&&He(X,this.length-8);const Qt=tt+this[++X]*2**8+this[++X]*2**16+this[++X]*2**24,jt=this[++X]+this[++X]*2**8+this[++X]*2**16+Bt*2**24;return BigInt(Qt)+(BigInt(jt)<<BigInt(32))}),b.prototype.readBigUInt64BE=Et(function(X){X=X>>>0,ve(X,"offset");const tt=this[X],Bt=this[X+7];(tt===void 0||Bt===void 0)&&He(X,this.length-8);const Qt=tt*2**24+this[++X]*2**16+this[++X]*2**8+this[++X],jt=this[++X]*2**24+this[++X]*2**16+this[++X]*2**8+Bt;return(BigInt(Qt)<<BigInt(32))+BigInt(jt)}),b.prototype.readIntLE=function(X,tt,Bt){X=X>>>0,tt=tt>>>0,Bt||gt(X,tt,this.length);let Qt=this[X],jt=1,ne=0;for(;++ne<tt&&(jt*=256);)Qt+=this[X+ne]*jt;return jt*=128,Qt>=jt&&(Qt-=Math.pow(2,8*tt)),Qt},b.prototype.readIntBE=function(X,tt,Bt){X=X>>>0,tt=tt>>>0,Bt||gt(X,tt,this.length);let Qt=tt,jt=1,ne=this[X+--Qt];for(;Qt>0&&(jt*=256);)ne+=this[X+--Qt]*jt;return jt*=128,ne>=jt&&(ne-=Math.pow(2,8*tt)),ne},b.prototype.readInt8=function(X,tt){return X=X>>>0,tt||gt(X,1,this.length),this[X]&128?(255-this[X]+1)*-1:this[X]},b.prototype.readInt16LE=function(X,tt){X=X>>>0,tt||gt(X,2,this.length);const Bt=this[X]|this[X+1]<<8;return Bt&32768?Bt|4294901760:Bt},b.prototype.readInt16BE=function(X,tt){X=X>>>0,tt||gt(X,2,this.length);const Bt=this[X+1]|this[X]<<8;return Bt&32768?Bt|4294901760:Bt},b.prototype.readInt32LE=function(X,tt){return X=X>>>0,tt||gt(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},b.prototype.readInt32BE=function(X,tt){return X=X>>>0,tt||gt(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},b.prototype.readBigInt64LE=Et(function(X){X=X>>>0,ve(X,"offset");const tt=this[X],Bt=this[X+7];(tt===void 0||Bt===void 0)&&He(X,this.length-8);const Qt=this[X+4]+this[X+5]*2**8+this[X+6]*2**16+(Bt<<24);return(BigInt(Qt)<<BigInt(32))+BigInt(tt+this[++X]*256+this[++X]*65536+this[++X]*16777216)}),b.prototype.readBigInt64BE=Et(function(X){X=X>>>0,ve(X,"offset");const tt=this[X],Bt=this[X+7];(tt===void 0||Bt===void 0)&&He(X,this.length-8);const Qt=(tt<<24)+this[++X]*2**16+this[++X]*2**8+this[++X];return(BigInt(Qt)<<BigInt(32))+BigInt(this[++X]*16777216+this[++X]*65536+this[++X]*256+Bt)}),b.prototype.readFloatLE=function(X,tt){return X=X>>>0,tt||gt(X,4,this.length),p.read(this,X,!0,23,4)},b.prototype.readFloatBE=function(X,tt){return X=X>>>0,tt||gt(X,4,this.length),p.read(this,X,!1,23,4)},b.prototype.readDoubleLE=function(X,tt){return X=X>>>0,tt||gt(X,8,this.length),p.read(this,X,!0,52,8)},b.prototype.readDoubleBE=function(X,tt){return X=X>>>0,tt||gt(X,8,this.length),p.read(this,X,!1,52,8)};function yt(ut,X,tt,Bt,Qt,jt){if(!b.isBuffer(ut))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>Qt||X<jt)throw new RangeError('"value" argument is out of bounds');if(tt+Bt>ut.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(X,tt,Bt,Qt){if(X=+X,tt=tt>>>0,Bt=Bt>>>0,!Qt){const se=Math.pow(2,8*Bt)-1;yt(this,X,tt,Bt,se,0)}let jt=1,ne=0;for(this[tt]=X&255;++ne<Bt&&(jt*=256);)this[tt+ne]=X/jt&255;return tt+Bt},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(X,tt,Bt,Qt){if(X=+X,tt=tt>>>0,Bt=Bt>>>0,!Qt){const se=Math.pow(2,8*Bt)-1;yt(this,X,tt,Bt,se,0)}let jt=Bt-1,ne=1;for(this[tt+jt]=X&255;--jt>=0&&(ne*=256);)this[tt+jt]=X/ne&255;return tt+Bt},b.prototype.writeUint8=b.prototype.writeUInt8=function(X,tt,Bt){return X=+X,tt=tt>>>0,Bt||yt(this,X,tt,1,255,0),this[tt]=X&255,tt+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(X,tt,Bt){return X=+X,tt=tt>>>0,Bt||yt(this,X,tt,2,65535,0),this[tt]=X&255,this[tt+1]=X>>>8,tt+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(X,tt,Bt){return X=+X,tt=tt>>>0,Bt||yt(this,X,tt,2,65535,0),this[tt]=X>>>8,this[tt+1]=X&255,tt+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(X,tt,Bt){return X=+X,tt=tt>>>0,Bt||yt(this,X,tt,4,4294967295,0),this[tt+3]=X>>>24,this[tt+2]=X>>>16,this[tt+1]=X>>>8,this[tt]=X&255,tt+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(X,tt,Bt){return X=+X,tt=tt>>>0,Bt||yt(this,X,tt,4,4294967295,0),this[tt]=X>>>24,this[tt+1]=X>>>16,this[tt+2]=X>>>8,this[tt+3]=X&255,tt+4};function lt(ut,X,tt,Bt,Qt){$e(X,Bt,Qt,ut,tt,7);let jt=Number(X&BigInt(4294967295));ut[tt++]=jt,jt=jt>>8,ut[tt++]=jt,jt=jt>>8,ut[tt++]=jt,jt=jt>>8,ut[tt++]=jt;let ne=Number(X>>BigInt(32)&BigInt(4294967295));return ut[tt++]=ne,ne=ne>>8,ut[tt++]=ne,ne=ne>>8,ut[tt++]=ne,ne=ne>>8,ut[tt++]=ne,tt}function zt(ut,X,tt,Bt,Qt){$e(X,Bt,Qt,ut,tt,7);let jt=Number(X&BigInt(4294967295));ut[tt+7]=jt,jt=jt>>8,ut[tt+6]=jt,jt=jt>>8,ut[tt+5]=jt,jt=jt>>8,ut[tt+4]=jt;let ne=Number(X>>BigInt(32)&BigInt(4294967295));return ut[tt+3]=ne,ne=ne>>8,ut[tt+2]=ne,ne=ne>>8,ut[tt+1]=ne,ne=ne>>8,ut[tt]=ne,tt+8}b.prototype.writeBigUInt64LE=Et(function(X,tt=0){return lt(this,X,tt,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Et(function(X,tt=0){return zt(this,X,tt,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(X,tt,Bt,Qt){if(X=+X,tt=tt>>>0,!Qt){const Be=Math.pow(2,8*Bt-1);yt(this,X,tt,Bt,Be-1,-Be)}let jt=0,ne=1,se=0;for(this[tt]=X&255;++jt<Bt&&(ne*=256);)X<0&&se===0&&this[tt+jt-1]!==0&&(se=1),this[tt+jt]=(X/ne>>0)-se&255;return tt+Bt},b.prototype.writeIntBE=function(X,tt,Bt,Qt){if(X=+X,tt=tt>>>0,!Qt){const Be=Math.pow(2,8*Bt-1);yt(this,X,tt,Bt,Be-1,-Be)}let jt=Bt-1,ne=1,se=0;for(this[tt+jt]=X&255;--jt>=0&&(ne*=256);)X<0&&se===0&&this[tt+jt+1]!==0&&(se=1),this[tt+jt]=(X/ne>>0)-se&255;return tt+Bt},b.prototype.writeInt8=function(X,tt,Bt){return X=+X,tt=tt>>>0,Bt||yt(this,X,tt,1,127,-128),X<0&&(X=255+X+1),this[tt]=X&255,tt+1},b.prototype.writeInt16LE=function(X,tt,Bt){return X=+X,tt=tt>>>0,Bt||yt(this,X,tt,2,32767,-32768),this[tt]=X&255,this[tt+1]=X>>>8,tt+2},b.prototype.writeInt16BE=function(X,tt,Bt){return X=+X,tt=tt>>>0,Bt||yt(this,X,tt,2,32767,-32768),this[tt]=X>>>8,this[tt+1]=X&255,tt+2},b.prototype.writeInt32LE=function(X,tt,Bt){return X=+X,tt=tt>>>0,Bt||yt(this,X,tt,4,2147483647,-2147483648),this[tt]=X&255,this[tt+1]=X>>>8,this[tt+2]=X>>>16,this[tt+3]=X>>>24,tt+4},b.prototype.writeInt32BE=function(X,tt,Bt){return X=+X,tt=tt>>>0,Bt||yt(this,X,tt,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[tt]=X>>>24,this[tt+1]=X>>>16,this[tt+2]=X>>>8,this[tt+3]=X&255,tt+4},b.prototype.writeBigInt64LE=Et(function(X,tt=0){return lt(this,X,tt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Et(function(X,tt=0){return zt(this,X,tt,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function kt(ut,X,tt,Bt,Qt,jt){if(tt+Bt>ut.length)throw new RangeError("Index out of range");if(tt<0)throw new RangeError("Index out of range")}function Jt(ut,X,tt,Bt,Qt){return X=+X,tt=tt>>>0,Qt||kt(ut,X,tt,4),p.write(ut,X,tt,Bt,23,4),tt+4}b.prototype.writeFloatLE=function(X,tt,Bt){return Jt(this,X,tt,!0,Bt)},b.prototype.writeFloatBE=function(X,tt,Bt){return Jt(this,X,tt,!1,Bt)};function Gt(ut,X,tt,Bt,Qt){return X=+X,tt=tt>>>0,Qt||kt(ut,X,tt,8),p.write(ut,X,tt,Bt,52,8),tt+8}b.prototype.writeDoubleLE=function(X,tt,Bt){return Gt(this,X,tt,!0,Bt)},b.prototype.writeDoubleBE=function(X,tt,Bt){return Gt(this,X,tt,!1,Bt)},b.prototype.copy=function(X,tt,Bt,Qt){if(!b.isBuffer(X))throw new TypeError("argument should be a Buffer");if(Bt||(Bt=0),!Qt&&Qt!==0&&(Qt=this.length),tt>=X.length&&(tt=X.length),tt||(tt=0),Qt>0&&Qt<Bt&&(Qt=Bt),Qt===Bt||X.length===0||this.length===0)return 0;if(tt<0)throw new RangeError("targetStart out of bounds");if(Bt<0||Bt>=this.length)throw new RangeError("Index out of range");if(Qt<0)throw new RangeError("sourceEnd out of bounds");Qt>this.length&&(Qt=this.length),X.length-tt<Qt-Bt&&(Qt=X.length-tt+Bt);const jt=Qt-Bt;return this===X&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(tt,Bt,Qt):Uint8Array.prototype.set.call(X,this.subarray(Bt,Qt),tt),jt},b.prototype.fill=function(X,tt,Bt,Qt){if(typeof X=="string"){if(typeof tt=="string"?(Qt=tt,tt=0,Bt=this.length):typeof Bt=="string"&&(Qt=Bt,Bt=this.length),Qt!==void 0&&typeof Qt!="string")throw new TypeError("encoding must be a string");if(typeof Qt=="string"&&!b.isEncoding(Qt))throw new TypeError("Unknown encoding: "+Qt);if(X.length===1){const ne=X.charCodeAt(0);(Qt==="utf8"&&ne<128||Qt==="latin1")&&(X=ne)}}else typeof X=="number"?X=X&255:typeof X=="boolean"&&(X=Number(X));if(tt<0||this.length<tt||this.length<Bt)throw new RangeError("Out of range index");if(Bt<=tt)return this;tt=tt>>>0,Bt=Bt===void 0?this.length:Bt>>>0,X||(X=0);let jt;if(typeof X=="number")for(jt=tt;jt<Bt;++jt)this[jt]=X;else{const ne=b.isBuffer(X)?X:b.from(X,Qt),se=ne.length;if(se===0)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(jt=0;jt<Bt-tt;++jt)this[jt+tt]=ne[jt%se]}return this};const ce={};function ae(ut,X,tt){ce[ut]=class extends tt{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ut}]`,this.stack,delete this.name}get code(){return ut}set code(Qt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Qt,writable:!0})}toString(){return`${this.name} [${ut}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(ut){return ut?`${ut} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(ut,X){return`The "${ut}" argument must be of type number. Received type ${typeof X}`},TypeError),ae("ERR_OUT_OF_RANGE",function(ut,X,tt){let Bt=`The value of "${ut}" is out of range.`,Qt=tt;return Number.isInteger(tt)&&Math.abs(tt)>4294967296?Qt=qt(String(tt)):typeof tt=="bigint"&&(Qt=String(tt),(tt>BigInt(2)**BigInt(32)||tt<-(BigInt(2)**BigInt(32)))&&(Qt=qt(Qt)),Qt+="n"),Bt+=` It must be ${X}. Received ${Qt}`,Bt},RangeError);function qt(ut){let X="",tt=ut.length;const Bt=ut[0]==="-"?1:0;for(;tt>=Bt+4;tt-=3)X=`_${ut.slice(tt-3,tt)}${X}`;return`${ut.slice(0,tt)}${X}`}function ue(ut,X,tt){ve(X,"offset"),(ut[X]===void 0||ut[X+tt]===void 0)&&He(X,ut.length-(tt+1))}function $e(ut,X,tt,Bt,Qt,jt){if(ut>tt||ut<X){const ne=typeof X=="bigint"?"n":"";let se;throw X===0||X===BigInt(0)?se=`>= 0${ne} and < 2${ne} ** ${(jt+1)*8}${ne}`:se=`>= -(2${ne} ** ${(jt+1)*8-1}${ne}) and < 2 ** ${(jt+1)*8-1}${ne}`,new ce.ERR_OUT_OF_RANGE("value",se,ut)}ue(Bt,Qt,jt)}function ve(ut,X){if(typeof ut!="number")throw new ce.ERR_INVALID_ARG_TYPE(X,"number",ut)}function He(ut,X,tt){throw Math.floor(ut)!==ut?(ve(ut,tt),new ce.ERR_OUT_OF_RANGE("offset","an integer",ut)):X<0?new ce.ERR_BUFFER_OUT_OF_BOUNDS:new ce.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,ut)}const qe=/[^+/0-9A-Za-z-_]/g;function ri(ut){if(ut=ut.split("=")[0],ut=ut.trim().replace(qe,""),ut.length<2)return"";for(;ut.length%4!==0;)ut=ut+"=";return ut}function oi(ut,X){X=X||1/0;let tt;const Bt=ut.length;let Qt=null;const jt=[];for(let ne=0;ne<Bt;++ne){if(tt=ut.charCodeAt(ne),tt>55295&&tt<57344){if(!Qt){if(tt>56319){(X-=3)>-1&&jt.push(239,191,189);continue}else if(ne+1===Bt){(X-=3)>-1&&jt.push(239,191,189);continue}Qt=tt;continue}if(tt<56320){(X-=3)>-1&&jt.push(239,191,189),Qt=tt;continue}tt=(Qt-55296<<10|tt-56320)+65536}else Qt&&(X-=3)>-1&&jt.push(239,191,189);if(Qt=null,tt<128){if((X-=1)<0)break;jt.push(tt)}else if(tt<2048){if((X-=2)<0)break;jt.push(tt>>6|192,tt&63|128)}else if(tt<65536){if((X-=3)<0)break;jt.push(tt>>12|224,tt>>6&63|128,tt&63|128)}else if(tt<1114112){if((X-=4)<0)break;jt.push(tt>>18|240,tt>>12&63|128,tt>>6&63|128,tt&63|128)}else throw new Error("Invalid code point")}return jt}function oe(ut){const X=[];for(let tt=0;tt<ut.length;++tt)X.push(ut.charCodeAt(tt)&255);return X}function fe(ut,X){let tt,Bt,Qt;const jt=[];for(let ne=0;ne<ut.length&&!((X-=2)<0);++ne)tt=ut.charCodeAt(ne),Bt=tt>>8,Qt=tt%256,jt.push(Qt),jt.push(Bt);return jt}function pe(ut){return h.toByteArray(ri(ut))}function Ot(ut,X,tt,Bt){let Qt;for(Qt=0;Qt<Bt&&!(Qt+tt>=X.length||Qt>=ut.length);++Qt)X[Qt+tt]=ut[Qt];return Qt}function _t(ut,X){return ut instanceof X||ut!=null&&ut.constructor!=null&&ut.constructor.name!=null&&ut.constructor.name===X.name}function Ht(ut){return ut!==ut}const Tt=function(){const ut="0123456789abcdef",X=new Array(256);for(let tt=0;tt<16;++tt){const Bt=tt*16;for(let Qt=0;Qt<16;++Qt)X[Bt+Qt]=ut[tt]+ut[Qt]}return X}();function Et(ut){return typeof BigInt>"u"?Lt:ut}function Lt(){throw new Error("BigInt not supported")}},"./node_modules/css-loader/dist/runtime/api.js":c=>{c.exports=function(d){var u=[];return u.toString=function(){return this.map(function(p){var f="",M=typeof p[5]<"u";return p[4]&&(f+="@supports (".concat(p[4],") {")),p[2]&&(f+="@media ".concat(p[2]," {")),M&&(f+="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {")),f+=d(p),M&&(f+="}"),p[2]&&(f+="}"),p[4]&&(f+="}"),f}).join("")},u.i=function(p,f,M,g,y){typeof p=="string"&&(p=[[null,p,void 0]]);var b={};if(M)for(var v=0;v<this.length;v++){var C=this[v][0];C!=null&&(b[C]=!0)}for(var w=0;w<p.length;w++){var _=[].concat(p[w]);M&&b[_[0]]||(typeof y<"u"&&(typeof _[5]>"u"||(_[1]="@layer".concat(_[5].length>0?" ".concat(_[5]):""," {").concat(_[1],"}")),_[5]=y),f&&(_[2]&&(_[1]="@media ".concat(_[2]," {").concat(_[1],"}")),_[2]=f),g&&(_[4]?(_[1]="@supports (".concat(_[4],") {").concat(_[1],"}"),_[4]=g):_[4]="".concat(g)),u.push(_))}},u}},"./node_modules/css-loader/dist/runtime/getUrl.js":c=>{c.exports=function(d,u){return u||(u={}),d&&(d=String(d.__esModule?d.default:d),/^['"].*['"]$/.test(d)&&(d=d.slice(1,-1)),u.hash&&(d+=u.hash),/["'() \t\n]|(%20)/.test(d)||u.needQuotes?'"'.concat(d.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):d)}},"./node_modules/css-loader/dist/runtime/sourceMaps.js":c=>{c.exports=function(d){var u=d[1],h=d[3];if(!h)return u;if(typeof btoa=="function"){var p=btoa(unescape(encodeURIComponent(JSON.stringify(h)))),f="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(p),M="/*# ".concat(f," */");return[u].concat([M]).join(`
`)}return[u].join(`
`)}},"./node_modules/debug/src/browser.js":(c,d,u)=>{d.formatArgs=p,d.save=f,d.load=M,d.useColors=h,d.storage=g(),d.destroy=(()=>{let b=!1;return()=>{b||(b=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),d.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function h(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function p(b){if(b[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+b[0]+(this.useColors?"%c ":" ")+"+"+c.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;b.splice(1,0,v,"color: inherit");let C=0,w=0;b[0].replace(/%[a-zA-Z%]/g,_=>{_!=="%%"&&(C++,_==="%c"&&(w=C))}),b.splice(w,0,v)}d.log=console.debug||console.log||(()=>{});function f(b){try{b?d.storage.setItem("debug",b):d.storage.removeItem("debug")}catch{}}function M(){let b;try{b=d.storage.getItem("debug")}catch{}return!b&&typeof process<"u"&&"env"in process&&(b=i.DEBUG),b}function g(){try{return localStorage}catch{}}c.exports=u("./node_modules/debug/src/common.js")(d);const{formatters:y}=c.exports;y.j=function(b){try{return JSON.stringify(b)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}},"./node_modules/debug/src/common.js":(c,d,u)=>{function h(p){M.debug=M,M.default=M,M.coerce=w,M.disable=b,M.enable=y,M.enabled=v,M.humanize=u("./node_modules/ms/index.js"),M.destroy=_,Object.keys(p).forEach(E=>{M[E]=p[E]}),M.names=[],M.skips=[],M.formatters={};function f(E){let S=0;for(let I=0;I<E.length;I++)S=(S<<5)-S+E.charCodeAt(I),S|=0;return M.colors[Math.abs(S)%M.colors.length]}M.selectColor=f;function M(E){let S,I=null,T,k;function D(...N){if(!D.enabled)return;const P=D,F=Number(new Date),U=F-(S||F);P.diff=U,P.prev=S,P.curr=F,S=F,N[0]=M.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let V=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(G,H)=>{if(G==="%%")return"%";V++;const J=M.formatters[H];if(typeof J=="function"){const Z=N[V];G=J.call(P,Z),N.splice(V,1),V--}return G}),M.formatArgs.call(P,N),(P.log||M.log).apply(P,N)}return D.namespace=E,D.useColors=M.useColors(),D.color=M.selectColor(E),D.extend=g,D.destroy=M.destroy,Object.defineProperty(D,"enabled",{enumerable:!0,configurable:!1,get:()=>I!==null?I:(T!==M.namespaces&&(T=M.namespaces,k=M.enabled(E)),k),set:N=>{I=N}}),typeof M.init=="function"&&M.init(D),D}function g(E,S){const I=M(this.namespace+(typeof S>"u"?":":S)+E);return I.log=this.log,I}function y(E){M.save(E),M.namespaces=E,M.names=[],M.skips=[];let S;const I=(typeof E=="string"?E:"").split(/[\s,]+/),T=I.length;for(S=0;S<T;S++)I[S]&&(E=I[S].replace(/\*/g,".*?"),E[0]==="-"?M.skips.push(new RegExp("^"+E.slice(1)+"$")):M.names.push(new RegExp("^"+E+"$")))}function b(){const E=[...M.names.map(C),...M.skips.map(C).map(S=>"-"+S)].join(",");return M.enable(""),E}function v(E){if(E[E.length-1]==="*")return!0;let S,I;for(S=0,I=M.skips.length;S<I;S++)if(M.skips[S].test(E))return!1;for(S=0,I=M.names.length;S<I;S++)if(M.names[S].test(E))return!0;return!1}function C(E){return E.toString().substring(2,E.toString().length-2).replace(/\.\*\?$/,"*")}function w(E){return E instanceof Error?E.stack||E.message:E}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return M.enable(M.load()),M}c.exports=h},"./node_modules/deep-assign/index.js":(c,d,u)=>{var h=u("./node_modules/is-obj/index.js"),p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable;function M(b){if(b==null)throw new TypeError("Sources cannot be null or undefined");return Object(b)}function g(b,v,C){var w=v[C];if(w!=null){if(p.call(b,C)&&(b[C]===void 0||b[C]===null))throw new TypeError("Cannot convert undefined or null to object ("+C+")");!p.call(b,C)||!h(w)?b[C]=w:b[C]=y(Object(b[C]),v[C])}}function y(b,v){if(b===v)return b;v=Object(v);for(var C in v)p.call(v,C)&&g(b,v,C);if(Object.getOwnPropertySymbols)for(var w=Object.getOwnPropertySymbols(v),_=0;_<w.length;_++)f.call(v,w[_])&&g(b,v,w[_]);return b}c.exports=function(v){v=M(v);for(var C=1;C<arguments.length;C++)y(v,arguments[C]);return v}},"./node_modules/dtype/index.js":c=>{c.exports=function(d){switch(d){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},"./node_modules/global/window.js":(c,d,u)=>{var h;typeof window<"u"?h=window:typeof u.g<"u"?h=u.g:typeof self<"u"?h=self:h={},c.exports=h},"./node_modules/ieee754/index.js":(c,d)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */d.read=function(u,h,p,f,M){var g,y,b=M*8-f-1,v=(1<<b)-1,C=v>>1,w=-7,_=p?M-1:0,E=p?-1:1,S=u[h+_];for(_+=E,g=S&(1<<-w)-1,S>>=-w,w+=b;w>0;g=g*256+u[h+_],_+=E,w-=8);for(y=g&(1<<-w)-1,g>>=-w,w+=f;w>0;y=y*256+u[h+_],_+=E,w-=8);if(g===0)g=1-C;else{if(g===v)return y?NaN:(S?-1:1)*(1/0);y=y+Math.pow(2,f),g=g-C}return(S?-1:1)*y*Math.pow(2,g-f)},d.write=function(u,h,p,f,M,g){var y,b,v,C=g*8-M-1,w=(1<<C)-1,_=w>>1,E=M===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=f?0:g-1,I=f?1:-1,T=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(b=isNaN(h)?1:0,y=w):(y=Math.floor(Math.log(h)/Math.LN2),h*(v=Math.pow(2,-y))<1&&(y--,v*=2),y+_>=1?h+=E/v:h+=E*Math.pow(2,1-_),h*v>=2&&(y++,v/=2),y+_>=w?(b=0,y=w):y+_>=1?(b=(h*v-1)*Math.pow(2,M),y=y+_):(b=h*Math.pow(2,_-1)*Math.pow(2,M),y=0));M>=8;u[p+S]=b&255,S+=I,b/=256,M-=8);for(y=y<<M|b,C+=M;C>0;u[p+S]=y&255,S+=I,y/=256,C-=8);u[p+S-I]|=T*128}},"./node_modules/is-buffer/index.js":c=>{/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */c.exports=function(h){return h!=null&&(d(h)||u(h)||!!h._isBuffer)};function d(h){return!!h.constructor&&typeof h.constructor.isBuffer=="function"&&h.constructor.isBuffer(h)}function u(h){return typeof h.readFloatLE=="function"&&typeof h.slice=="function"&&d(h.slice(0,0))}},"./node_modules/is-function/index.js":c=>{c.exports=u;var d=Object.prototype.toString;function u(h){if(!h)return!1;var p=d.call(h);return p==="[object Function]"||typeof h=="function"&&p!=="[object RegExp]"||typeof window<"u"&&(h===window.setTimeout||h===window.alert||h===window.confirm||h===window.prompt)}},"./node_modules/is-obj/index.js":c=>{c.exports=function(d){var u=typeof d;return d!==null&&(u==="object"||u==="function")}},"./node_modules/layout-bmfont-text/index.js":(c,d,u)=>{var h=u("./node_modules/word-wrapper/index.js"),p=u("./node_modules/xtend/immutable.js"),f=u("./node_modules/as-number/index.js"),M=["x","e","a","o","n","s","r","c","u","m","v","w","z"],g=["m","w"],y=["H","I","N","E","F","K","L","T","U","V","W","X","Y","Z"],b=9,v=32,C=0,w=1,_=2;c.exports=function(z){return new E(z)};function E(V){this.glyphs=[],this._measure=this.computeMetrics.bind(this),this.update(V)}E.prototype.update=function(V){if(V=p({measure:this._measure},V),this._opt=V,this._opt.tabSize=f(this._opt.tabSize,4),!V.font)throw new Error("must provide a valid bitmap font");var z=this.glyphs,G=V.text||"",H=V.font;this._setupSpaceGlyphs(H);var J=h.lines(G,V),Z=V.width||0;z.length=0;var j=J.reduce(function(yt,lt){return Math.max(yt,lt.width,Z)},0),W=0,et=0,dt=f(V.lineHeight,H.common.lineHeight),ht=H.common.base,st=dt-ht,St=V.letterSpacing||0,At=dt*J.length-st,xt=F(this._opt.align);et-=At,this._width=j,this._height=At,this._descender=dt-ht,this._baseline=ht,this._xHeight=k(H),this._capHeight=N(H),this._lineHeight=dt,this._ascender=dt-st-this._xHeight;var gt=this;J.forEach(function(yt,lt){for(var zt=yt.start,kt=yt.end,Jt=yt.width,Gt,ce=zt;ce<kt;ce++){var ae=G.charCodeAt(ce),qt=gt.getGlyph(H,ae);if(qt){Gt&&(W+=P(H,Gt.id,qt.id));var ue=W;xt===w?ue+=(j-Jt)/2:xt===_&&(ue+=j-Jt),z.push({position:[ue,et],data:qt,index:ce,line:lt}),W+=qt.xadvance+St,Gt=qt}}et+=dt,W=0}),this._linesTotal=J.length},E.prototype._setupSpaceGlyphs=function(V){if(this._fallbackSpaceGlyph=null,this._fallbackTabGlyph=null,!(!V.chars||V.chars.length===0)){var z=T(V,v)||D(V)||V.chars[0],G=this._opt.tabSize*z.xadvance;this._fallbackSpaceGlyph=z,this._fallbackTabGlyph=p(z,{x:0,y:0,xadvance:G,id:b,xoffset:0,yoffset:0,width:0,height:0})}},E.prototype.getGlyph=function(V,z){var G=T(V,z);return G||(z===b?this._fallbackTabGlyph:z===v?this._fallbackSpaceGlyph:null)},E.prototype.computeMetrics=function(V,z,G,H){var J=this._opt.letterSpacing||0,Z=this._opt.font,j=0,W=0,et=0,dt,ht;if(!Z.chars||Z.chars.length===0)return{start:z,end:z,width:0};G=Math.min(V.length,G);for(var st=z;st<G;st++){var St=V.charCodeAt(st),dt=this.getGlyph(Z,St);if(dt){dt.xoffset;var At=ht?P(Z,ht.id,dt.id):0;j+=At;var xt=j+dt.xadvance+J,gt=j+dt.width;if(gt>=H||xt>=H)break;j=xt,W=gt,ht=dt}et++}return ht&&(W+=ht.xoffset),{start:z,end:z+et,width:W}},["width","height","descender","ascender","xHeight","baseline","capHeight","lineHeight"].forEach(S);function S(V){Object.defineProperty(E.prototype,V,{get:I(V),configurable:!0})}function I(V){return new Function(["return function "+V+"() {","  return this._"+V,"}"].join(`
`))()}function T(V,z){if(!V.chars||V.chars.length===0)return null;var G=U(V.chars,z);return G>=0?V.chars[G]:null}function k(V){for(var z=0;z<M.length;z++){var G=M[z].charCodeAt(0),H=U(V.chars,G);if(H>=0)return V.chars[H].height}return 0}function D(V){for(var z=0;z<g.length;z++){var G=g[z].charCodeAt(0),H=U(V.chars,G);if(H>=0)return V.chars[H]}return 0}function N(V){for(var z=0;z<y.length;z++){var G=y[z].charCodeAt(0),H=U(V.chars,G);if(H>=0)return V.chars[H].height}return 0}function P(V,z,G){if(!V.kernings||V.kernings.length===0)return 0;for(var H=V.kernings,J=0;J<H.length;J++){var Z=H[J];if(Z.first===z&&Z.second===G)return Z.amount}return 0}function F(V){return V==="center"?w:V==="right"?_:C}function U(V,z,G){G=G||0;for(var H=G;H<V.length;H++)if(V[H].id===z)return H;return-1}},"./node_modules/load-bmfont/browser.js":(c,d,u)=>{var h=u("./node_modules/buffer/index.js").Buffer,p=u("./node_modules/xhr/index.js"),f=function(){},M=u("./node_modules/parse-bmfont-ascii/index.js"),g=u("./node_modules/parse-bmfont-xml/lib/browser.js"),y=u("./node_modules/parse-bmfont-binary/index.js"),b=u("./node_modules/load-bmfont/lib/is-binary.js"),v=u("./node_modules/xtend/immutable.js"),C=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();c.exports=function(E,S){S=typeof S=="function"?S:f,typeof E=="string"?E={uri:E}:E||(E={});var I=E.binary;I&&(E=_(E)),p(E,function(T,k,D){if(T)return S(T);if(!/^2/.test(k.statusCode))return S(new Error("http status code: "+k.statusCode));if(!D)return S(new Error("no body result"));var N=!1;if(w(D)){var P=new Uint8Array(D);D=h.from(P,"binary")}b(D)&&(N=!0,typeof D=="string"&&(D=h.from(D,"binary"))),N||(h.isBuffer(D)&&(D=D.toString(E.encoding)),D=D.trim());var F;try{var U=k.headers["content-type"];N?F=y(D):/json/.test(U)||D.charAt(0)==="{"?F=JSON.parse(D):/xml/.test(U)||D.charAt(0)==="<"?F=g(D):F=M(D)}catch(V){S(new Error("error parsing font "+V.message)),S=f}S(null,F)})};function w(E){var S=Object.prototype.toString;return S.call(E)==="[object ArrayBuffer]"}function _(E){if(C)return v(E,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var S=new self.XMLHttpRequest;return S.overrideMimeType("text/plain; charset=x-user-defined"),v({xhr:S},E)}},"./node_modules/load-bmfont/lib/is-binary.js":(c,d,u)=>{var h=u("./node_modules/buffer/index.js").Buffer,p=u("./node_modules/buffer-equal/index.js"),f=h.from([66,77,70,3]);c.exports=function(M){return typeof M=="string"?M.substring(0,3)==="BMF":M.length>4&&p(M.slice(0,4),f)}},"./node_modules/ms/index.js":c=>{var d=1e3,u=d*60,h=u*60,p=h*24,f=p*7,M=p*365.25;c.exports=function(C,w){w=w||{};var _=typeof C;if(_==="string"&&C.length>0)return g(C);if(_==="number"&&isFinite(C))return w.long?b(C):y(C);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(C))};function g(C){if(C=String(C),!(C.length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(C);if(w){var _=parseFloat(w[1]),E=(w[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return _*M;case"weeks":case"week":case"w":return _*f;case"days":case"day":case"d":return _*p;case"hours":case"hour":case"hrs":case"hr":case"h":return _*h;case"minutes":case"minute":case"mins":case"min":case"m":return _*u;case"seconds":case"second":case"secs":case"sec":case"s":return _*d;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}function y(C){var w=Math.abs(C);return w>=p?Math.round(C/p)+"d":w>=h?Math.round(C/h)+"h":w>=u?Math.round(C/u)+"m":w>=d?Math.round(C/d)+"s":C+"ms"}function b(C){var w=Math.abs(C);return w>=p?v(C,w,p,"day"):w>=h?v(C,w,h,"hour"):w>=u?v(C,w,u,"minute"):w>=d?v(C,w,d,"second"):C+" ms"}function v(C,w,_,E){var S=w>=_*1.5;return Math.round(C/_)+" "+E+(S?"s":"")}},"./node_modules/parse-bmfont-ascii/index.js":c=>{c.exports=function(f){if(!f)throw new Error("no data provided");f=f.toString().trim();var M={pages:[],chars:[],kernings:[]},g=f.split(/\r\n?|\n/g);if(g.length===0)throw new Error("no data in BMFont file");for(var y=0;y<g.length;y++){var b=d(g[y],y);if(b)if(b.key==="page"){if(typeof b.data.id!="number")throw new Error("malformed file at line "+y+" -- needs page id=N");if(typeof b.data.file!="string")throw new Error("malformed file at line "+y+' -- needs page file="path"');M.pages[b.data.id]=b.data.file}else b.key==="chars"||b.key==="kernings"||(b.key==="char"?M.chars.push(b.data):b.key==="kerning"?M.kernings.push(b.data):M[b.key]=b.data)}return M};function d(p,f){if(p=p.replace(/\t+/g," ").trim(),!p)return null;var M=p.indexOf(" ");if(M===-1)throw new Error("no named row at line "+f);var g=p.substring(0,M);p=p.substring(M+1),p=p.replace(/letter=[\'\"]\S+[\'\"]/gi,""),p=p.split("="),p=p.map(function(w){return w.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var y=[],b=0;b<p.length;b++){var v=p[b];b===0?y.push({key:v[0],data:""}):b===p.length-1?y[y.length-1].data=u(v[0]):(y[y.length-1].data=u(v[0]),y.push({key:v[1],data:""}))}var C={key:g,data:{}};return y.forEach(function(w){C.data[w.key]=w.data}),C}function u(p){return!p||p.length===0?"":p.indexOf('"')===0||p.indexOf("'")===0?p.substring(1,p.length-1):p.indexOf(",")!==-1?h(p):parseInt(p,10)}function h(p){return p.split(",").map(function(f){return parseInt(f,10)})}},"./node_modules/parse-bmfont-binary/index.js":c=>{var d=[66,77,70];c.exports=function(C){if(C.length<6)throw new Error("invalid buffer length for BMFont");var w=d.every(function(T,k){return C.readUInt8(k)===T});if(!w)throw new Error("BMFont missing BMF byte header");var _=3,E=C.readUInt8(_++);if(E>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var S={kernings:[],chars:[]},I=0;I<5;I++)_+=u(S,C,_);return S};function u(v,C,w){if(w>C.length-1)return 0;var _=C.readUInt8(w++),E=C.readInt32LE(w);switch(w+=4,_){case 1:v.info=h(C,w);break;case 2:v.common=p(C,w);break;case 3:v.pages=f(C,w,E);break;case 4:v.chars=M(C,w,E);break;case 5:v.kernings=g(C,w,E);break}return 5+E}function h(v,C){var w={};w.size=v.readInt16LE(C);var _=v.readUInt8(C+2);return w.smooth=_>>7&1,w.unicode=_>>6&1,w.italic=_>>5&1,w.bold=_>>4&1,_>>3&1&&(w.fixedHeight=1),w.charset=v.readUInt8(C+3)||"",w.stretchH=v.readUInt16LE(C+4),w.aa=v.readUInt8(C+6),w.padding=[v.readInt8(C+7),v.readInt8(C+8),v.readInt8(C+9),v.readInt8(C+10)],w.spacing=[v.readInt8(C+11),v.readInt8(C+12)],w.outline=v.readUInt8(C+13),w.face=b(v,C+14),w}function p(v,C){var w={};return w.lineHeight=v.readUInt16LE(C),w.base=v.readUInt16LE(C+2),w.scaleW=v.readUInt16LE(C+4),w.scaleH=v.readUInt16LE(C+6),w.pages=v.readUInt16LE(C+8),v.readUInt8(C+10),w.packed=0,w.alphaChnl=v.readUInt8(C+11),w.redChnl=v.readUInt8(C+12),w.greenChnl=v.readUInt8(C+13),w.blueChnl=v.readUInt8(C+14),w}function f(v,C,w){for(var _=[],E=y(v,C),S=E.length+1,I=w/S,T=0;T<I;T++)_[T]=v.slice(C,C+E.length).toString("utf8"),C+=S;return _}function M(v,C,w){for(var _=[],E=w/20,S=0;S<E;S++){var I={},T=S*20;I.id=v.readUInt32LE(C+0+T),I.x=v.readUInt16LE(C+4+T),I.y=v.readUInt16LE(C+6+T),I.width=v.readUInt16LE(C+8+T),I.height=v.readUInt16LE(C+10+T),I.xoffset=v.readInt16LE(C+12+T),I.yoffset=v.readInt16LE(C+14+T),I.xadvance=v.readInt16LE(C+16+T),I.page=v.readUInt8(C+18+T),I.chnl=v.readUInt8(C+19+T),_[S]=I}return _}function g(v,C,w){for(var _=[],E=w/10,S=0;S<E;S++){var I={},T=S*10;I.first=v.readUInt32LE(C+0+T),I.second=v.readUInt32LE(C+4+T),I.amount=v.readInt16LE(C+8+T),_[S]=I}return _}function y(v,C){for(var w=C;w<v.length&&v[w]!==0;w++);return v.slice(C,w)}function b(v,C){return y(v,C).toString("utf8")}},"./node_modules/parse-bmfont-xml/lib/browser.js":(c,d,u)=>{var h=u("./node_modules/parse-bmfont-xml/lib/parse-attribs.js"),p=u("./node_modules/xml-parse-from-string/index.js"),f={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};c.exports=function(v){v=v.toString();var C=p(v),w={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(D){var N=C.getElementsByTagName(D)[0];N&&(w[D]=h(M(N)))});var _=C.getElementsByTagName("pages")[0];if(!_)throw new Error("malformed file -- no <pages> element");for(var E=_.getElementsByTagName("page"),S=0;S<E.length;S++){var I=E[S],T=parseInt(I.getAttribute("id"),10),k=I.getAttribute("file");if(isNaN(T))throw new Error('malformed file -- page "id" attribute is NaN');if(!k)throw new Error('malformed file -- needs page "file" attribute');w.pages[parseInt(T,10)]=k}return["chars","kernings"].forEach(function(D){var N=C.getElementsByTagName(D)[0];if(N)for(var P=D.substring(0,D.length-1),F=N.getElementsByTagName(P),U=0;U<F.length;U++){var V=F[U];w[D].push(h(M(V)))}}),w};function M(b){var v=g(b);return v.reduce(function(C,w){var _=y(w.nodeName);return C[_]=w.nodeValue,C},{})}function g(b){for(var v=[],C=0;C<b.attributes.length;C++)v.push(b.attributes[C]);return v}function y(b){return f[b.toLowerCase()]||b}},"./node_modules/parse-bmfont-xml/lib/parse-attribs.js":c=>{var d="chasrset";c.exports=function(p){d in p&&(p.charset=p[d],delete p[d]);for(var f in p)f==="face"||f==="charset"||(f==="padding"||f==="spacing"?p[f]=u(p[f]):p[f]=parseInt(p[f],10));return p};function u(h){return h.split(",").map(function(p){return parseInt(p,10)})}},"./node_modules/parse-headers/parse-headers.js":c=>{var d=function(h){return h.replace(/^\s+|\s+$/g,"")},u=function(h){return Object.prototype.toString.call(h)==="[object Array]"};c.exports=function(h){if(!h)return{};for(var p={},f=d(h).split(`
`),M=0;M<f.length;M++){var g=f[M],y=g.indexOf(":"),b=d(g.slice(0,y)).toLowerCase(),v=d(g.slice(y+1));typeof p[b]>"u"?p[b]=v:u(p[b])?p[b].push(v):p[b]=[p[b],v]}return p}},"./node_modules/quad-indices/index.js":(c,d,u)=>{var h=u("./node_modules/dtype/index.js"),p=u("./node_modules/an-array/index.js"),f=u("./node_modules/is-buffer/index.js"),M=[0,2,3],g=[2,1,3];c.exports=function(b,v){(!b||!(p(b)||f(b)))&&(v=b||{},b=null),typeof v=="number"?v={count:v}:v=v||{};for(var C=typeof v.type=="string"?v.type:"uint16",w=typeof v.count=="number"?v.count:1,_=v.start||0,E=v.clockwise!==!1?M:g,S=E[0],I=E[1],T=E[2],k=w*6,D=b||new(h(C))(k),N=0,P=0;N<k;N+=6,P+=4){var F=N+_;D[F+0]=P+0,D[F+1]=P+1,D[F+2]=P+2,D[F+3]=P+S,D[F+4]=P+I,D[F+5]=P+T}return D}},"./node_modules/super-animejs/lib/anime.es.js":(c,d,u)=>{u.r(d),u.d(d,{default:()=>k0});var h={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},p={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},f=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],M={CSS:{},springs:{}};function g(Xt,le,xe){return Math.min(Math.max(Xt,le),xe)}function y(Xt,le){return Xt.indexOf(le)>-1}function b(Xt,le){return Xt.apply(null,le)}var v=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,C=/^rgb/,w=/^hsl/,_={arr:function(Xt){return Array.isArray(Xt)},obj:function(Xt){return y(Object.prototype.toString.call(Xt),"Object")},pth:function(Xt){return _.obj(Xt)&&Xt.hasOwnProperty("totalLength")},svg:function(Xt){return Xt instanceof SVGElement},inp:function(Xt){return Xt instanceof HTMLInputElement},dom:function(Xt){return Xt.nodeType||_.svg(Xt)},str:function(Xt){return typeof Xt=="string"},fnc:function(Xt){return typeof Xt=="function"},und:function(Xt){return typeof Xt>"u"},hex:function(Xt){return v.test(Xt)},rgb:function(Xt){return C.test(Xt)},hsl:function(Xt){return w.test(Xt)},col:function(Xt){return _.hex(Xt)||_.rgb(Xt)||_.hsl(Xt)},key:function(Xt){return!h.hasOwnProperty(Xt)&&!p.hasOwnProperty(Xt)&&Xt!=="targets"&&Xt!=="keyframes"}},E=/\(([^)]+)\)/;function S(Xt){var le=E.exec(Xt);return le?le[1].split(",").map(function(xe){return parseFloat(xe)}):[]}function I(Xt,le){var xe=S(Xt),Xe=g(_.und(xe[0])?1:xe[0],.1,100),Ue=g(_.und(xe[1])?100:xe[1],.1,100),ui=g(_.und(xe[2])?10:xe[2],.1,100),Mi=g(_.und(xe[3])?0:xe[3],.1,100),$i=Math.sqrt(Ue/Xe),Oe=ui/(2*Math.sqrt(Ue*Xe)),Je=Oe<1?$i*Math.sqrt(1-Oe*Oe):0,tn=1,mn=Oe<1?(Oe*$i+-Mi)/Je:-Mi+$i;function Sn(Pn){var Bn=le?le*Pn/1e3:Pn;return Oe<1?Bn=Math.exp(-Bn*Oe*$i)*(tn*Math.cos(Je*Bn)+mn*Math.sin(Je*Bn)):Bn=(tn+mn*Bn)*Math.exp(-Bn*$i),Pn===0||Pn===1?Pn:1-Bn}function v0(){var Pn=M.springs[Xt];if(Pn)return Pn;for(var Bn=1/6,Kn=0,B0=0;;)if(Kn+=Bn,Sn(Kn)===1){if(B0++,B0>=16)break}else B0=0;var p9=Kn*Bn*1e3;return M.springs[Xt]=p9,p9}return le?Sn:v0}function T(Xt,le){Xt===void 0&&(Xt=1),le===void 0&&(le=.5);var xe=g(Xt,1,10),Xe=g(le,.1,2);return function(Ue){return Ue===0||Ue===1?Ue:-xe*Math.pow(2,10*(Ue-1))*Math.sin((Ue-1-Xe/(Math.PI*2)*Math.asin(1/xe))*(Math.PI*2)/Xe)}}function k(Xt){return Xt===void 0&&(Xt=10),function(le){return Math.round(le*Xt)*(1/Xt)}}var D=function(){var Xt=11,le=1/(Xt-1);function xe(tn,mn){return 1-3*mn+3*tn}function Xe(tn,mn){return 3*mn-6*tn}function Ue(tn){return 3*tn}function ui(tn,mn,Sn){return((xe(mn,Sn)*tn+Xe(mn,Sn))*tn+Ue(mn))*tn}function Mi(tn,mn,Sn){return 3*xe(mn,Sn)*tn*tn+2*Xe(mn,Sn)*tn+Ue(mn)}function $i(tn,mn,Sn,v0,Pn){var Bn,Kn,B0=0;do Kn=mn+(Sn-mn)/2,Bn=ui(Kn,v0,Pn)-tn,Bn>0?Sn=Kn:mn=Kn;while(Math.abs(Bn)>1e-7&&++B0<10);return Kn}function Oe(tn,mn,Sn,v0){for(var Pn=0;Pn<4;++Pn){var Bn=Mi(mn,Sn,v0);if(Bn===0)return mn;var Kn=ui(mn,Sn,v0)-tn;mn-=Kn/Bn}return mn}function Je(tn,mn,Sn,v0){if(!(0<=tn&&tn<=1&&0<=Sn&&Sn<=1))return;var Pn=new Float32Array(Xt);if(tn!==mn||Sn!==v0)for(var Bn=0;Bn<Xt;++Bn)Pn[Bn]=ui(Bn*le,tn,Sn);function Kn(B0){for(var p9=0,Gi=1,Nn=Xt-1;Gi!==Nn&&Pn[Gi]<=B0;++Gi)p9+=le;--Gi;var q0=(B0-Pn[Gi])/(Pn[Gi+1]-Pn[Gi]),Xn=p9+q0*le,ct=Mi(Xn,tn,Sn);return ct>=.001?Oe(B0,Xn,tn,Sn):ct===0?Xn:$i(B0,p9,p9+le,tn,Sn)}return function(B0){return tn===mn&&Sn===v0||B0===0||B0===1?B0:ui(Kn(B0),mn,v0)}}return Je}(),N=function(){var Xt=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],le={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],T],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(Mi,$i){return function(Oe){return 1-T(Mi,$i)(1-Oe)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(Mi,$i){return function(Oe){return Oe<.5?T(Mi,$i)(Oe*2)/2:1-T(Mi,$i)(Oe*-2+2)/2}}]},xe={linear:[.25,.25,.75,.75]};for(var Xe in le)for(var Ue=0,ui=le[Xe].length;Ue<ui;Ue++)xe["ease"+Xe+Xt[Ue]]=le[Xe][Ue];return xe}();function P(Xt,le){if(_.fnc(Xt))return Xt;var xe=Xt.split("(")[0],Xe=N[xe],Ue=S(Xt);switch(xe){case"spring":return I(Xt,le);case"cubicBezier":return b(D,Ue);case"steps":return b(k,Ue);default:return _.fnc(Xe)?b(Xe,Ue):b(D,Xe)}}function F(Xt){try{var le=document.querySelectorAll(Xt);return le}catch{return}}var U=[];function V(Xt,le){for(var xe=U,Xe=Xt.length,Ue=arguments.length>=2?arguments[1]:void 0,ui=0;ui<Xe;ui++)if(ui in Xt){var Mi=Xt[ui];le.call(Ue,Mi,ui,Xt)&&xe.push(Mi)}return U=Xt,U.length=0,xe}function z(Xt,le){le||(le=[]);for(var xe=0,Xe=Xt.length;xe<Xe;xe++){var Ue=Xt[xe];Array.isArray(Ue)?z(Ue,le):le.push(Ue)}return le}function G(Xt){return _.arr(Xt)?Xt:(_.str(Xt)&&(Xt=F(Xt)||Xt),Xt instanceof NodeList||Xt instanceof HTMLCollection?[].slice.call(Xt):[Xt])}function H(Xt,le){return Xt.some(function(xe){return xe===le})}function J(Xt){var le={};for(var xe in Xt)le[xe]=Xt[xe];return le}function Z(Xt,le){var xe=J(Xt);for(var Xe in Xt)xe[Xe]=le.hasOwnProperty(Xe)?le[Xe]:Xt[Xe];return xe}function j(Xt,le){var xe=J(Xt);for(var Xe in le)xe[Xe]=_.und(Xt[Xe])?le[Xe]:Xt[Xe];return xe}var W=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g;function et(Xt){var le=W.exec(Xt);return le?"rgba("+le[1]+",1)":Xt}var dt=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ht=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;function st(Xt){var le=Xt.replace(dt,function(Mi,$i,Oe,Je){return $i+$i+Oe+Oe+Je+Je}),xe=ht.exec(le),Xe=parseInt(xe[1],16),Ue=parseInt(xe[2],16),ui=parseInt(xe[3],16);return"rgba("+Xe+","+Ue+","+ui+",1)"}var St=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g,At=/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g;function xt(Xt){var le=St.exec(Xt)||At.exec(Xt),xe=parseInt(le[1],10)/360,Xe=parseInt(le[2],10)/100,Ue=parseInt(le[3],10)/100,ui=le[4]||1;function Mi(Sn,v0,Pn){return Pn<0&&(Pn+=1),Pn>1&&(Pn-=1),Pn<.16666666666666666?Sn+(v0-Sn)*6*Pn:Pn<.5?v0:Pn<.6666666666666666?Sn+(v0-Sn)*(.6666666666666666-Pn)*6:Sn}var $i,Oe,Je;if(Xe==0)$i=Oe=Je=Ue;else{var tn=Ue<.5?Ue*(1+Xe):Ue+Xe-Ue*Xe,mn=2*Ue-tn;$i=Mi(mn,tn,xe+.3333333333333333),Oe=Mi(mn,tn,xe),Je=Mi(mn,tn,xe-.3333333333333333)}return"rgba("+$i*255+","+Oe*255+","+Je*255+","+ui+")"}function gt(Xt){if(_.rgb(Xt))return et(Xt);if(_.hex(Xt))return st(Xt);if(_.hsl(Xt))return xt(Xt)}var yt=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/;function lt(Xt){var le=yt.exec(Xt);if(le)return le[2]}function zt(Xt){if(y(Xt,"translate")||Xt==="perspective")return"px";if(y(Xt,"rotate")||y(Xt,"skew"))return"deg"}function kt(Xt,le){return _.fnc(Xt)?Xt(le.target,le.id,le.total):Xt}function Jt(Xt,le){return Xt.getAttribute(le)}function Gt(Xt,le,xe){var Xe=lt(le);if(H([xe,"deg","rad","turn"],Xe))return le;var Ue=M.CSS[le+xe];if(!_.und(Ue))return Ue;var ui=100,Mi=document.createElement(Xt.tagName),$i=Xt.parentNode&&Xt.parentNode!==document?Xt.parentNode:document.body;$i.appendChild(Mi),Mi.style.position="absolute",Mi.style.width=ui+xe;var Oe=ui/Mi.offsetWidth;$i.removeChild(Mi);var Je=Oe*parseFloat(le);return M.CSS[le+xe]=Je,Je}function ce(Xt,le,xe){if(le in Xt.style){var Xe=le.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ue=Xt.style[le]||getComputedStyle(Xt).getPropertyValue(Xe)||"0";return xe?Gt(Xt,Ue,xe):Ue}}function ae(Xt,le){if(_.dom(Xt)&&!_.inp(Xt)&&(Jt(Xt,le)||_.svg(Xt)&&Xt[le]))return"attribute";if(_.dom(Xt)&&H(f,le))return"transform";if(_.dom(Xt)&&le!=="transform"&&ce(Xt,le))return"css";if(Xt[le]!=null)return"object"}var qt=/(\w+)\(([^)]*)\)/g;function ue(Xt){if(_.dom(Xt)){for(var le=Xt.style.transform||"",xe=new Map,Xe;Xe=qt.exec(le);)xe.set(Xe[1],Xe[2]);return xe}}function $e(Xt,le,xe,Xe){var Ue=y(le,"scale")?1:0+zt(le),ui=ue(Xt).get(le)||Ue;return xe&&(xe.transforms.list.set(le,ui),xe.transforms.last=le),Xe?Gt(Xt,ui,Xe):ui}function ve(Xt,le,xe,Xe){switch(ae(Xt,le)){case"transform":return $e(Xt,le,Xe,xe);case"css":return ce(Xt,le,xe);case"attribute":return Jt(Xt,le);default:return Xt[le]||0}}var He=/^(\*=|\+=|-=)/;function qe(Xt,le){var xe=He.exec(Xt);if(!xe)return Xt;var Xe=lt(Xt)||0,Ue=parseFloat(le),ui=parseFloat(Xt.replace(xe[0],""));switch(xe[0][0]){case"+":return Ue+ui+Xe;case"-":return Ue-ui+Xe;case"*":return Ue*ui+Xe}}var ri=/\s/g;function oi(Xt,le){if(_.col(Xt))return gt(Xt);var xe=lt(Xt),Xe=xe?Xt.substr(0,Xt.length-xe.length):Xt;return le&&!ri.test(Xt)?Xe+le:Xe}function oe(Xt,le){return Math.sqrt(Math.pow(le.x-Xt.x,2)+Math.pow(le.y-Xt.y,2))}function fe(Xt){return Math.PI*2*Jt(Xt,"r")}function pe(Xt){return Jt(Xt,"width")*2+Jt(Xt,"height")*2}function Ot(Xt){return oe({x:Jt(Xt,"x1"),y:Jt(Xt,"y1")},{x:Jt(Xt,"x2"),y:Jt(Xt,"y2")})}function _t(Xt){for(var le=Xt.points,xe=0,Xe,Ue=0;Ue<le.numberOfItems;Ue++){var ui=le.getItem(Ue);Ue>0&&(xe+=oe(Xe,ui)),Xe=ui}return xe}function Ht(Xt){var le=Xt.points;return _t(Xt)+oe(le.getItem(le.numberOfItems-1),le.getItem(0))}function Tt(Xt){if(Xt.getTotalLength)return Xt.getTotalLength();switch(Xt.tagName.toLowerCase()){case"circle":return fe(Xt);case"rect":return pe(Xt);case"line":return Ot(Xt);case"polyline":return _t(Xt);case"polygon":return Ht(Xt)}}function Et(Xt){var le=Tt(Xt);return Xt.setAttribute("stroke-dasharray",le),le}function Lt(Xt){for(var le=Xt.parentNode;_.svg(le)&&(le=le.parentNode,!!_.svg(le.parentNode)););return le}function ut(Xt,le){var xe=le||{},Xe=xe.el||Lt(Xt),Ue=Xe.getBoundingClientRect(),ui=Jt(Xe,"viewBox"),Mi=Ue.width,$i=Ue.height,Oe=xe.viewBox||(ui?ui.split(" "):[0,0,Mi,$i]);return{el:Xe,viewBox:Oe,x:Oe[0]/1,y:Oe[1]/1,w:Mi/Oe[2],h:$i/Oe[3]}}function X(Xt,le){var xe=_.str(Xt)?F(Xt)[0]:Xt,Xe=le||100;return function(Ue){return{property:Ue,el:xe,svg:ut(xe),totalLength:Tt(xe)*(Xe/100)}}}function tt(Xt,le){function xe($i){$i===void 0&&($i=0);var Oe=le+$i>=1?le+$i:0;return Xt.el.getPointAtLength(Oe)}var Xe=ut(Xt.el,Xt.svg),Ue=xe(),ui=xe(-1),Mi=xe(1);switch(Xt.property){case"x":return(Ue.x-Xe.x)*Xe.w;case"y":return(Ue.y-Xe.y)*Xe.h;case"angle":return Math.atan2(Mi.y-ui.y,Mi.x-ui.x)*180/Math.PI}}var Bt=/-?\d*\.?\d+/g;function Qt(Xt,le){var xe=oi(_.pth(Xt)?Xt.totalLength:Xt,le)+"";return{original:xe,numbers:xe.match(Bt)?xe.match(Bt).map(Number):[0],strings:_.str(Xt)||le?xe.split(Bt):[]}}function jt(Xt){var le=Xt?z(_.arr(Xt)?Xt.map(G):G(Xt)):[];return V(le,function(xe,Xe,Ue){return Ue.indexOf(xe)===Xe})}function ne(Xt){var le=jt(Xt);return le.map(function(xe,Xe){return{target:xe,id:Xe,total:le.length,transforms:{list:ue(xe)}}})}var se=/^spring/;function Be(Xt,le){var xe=J(le);if(se.test(xe.easing)&&(xe.duration=I(xe.easing)),_.arr(Xt)){var Xe=Xt.length,Ue=Xe===2&&!_.obj(Xt[0]);Ue?Xt={value:Xt}:_.fnc(le.duration)||(xe.duration=le.duration/Xe)}var ui=_.arr(Xt)?Xt:[Xt];return ui.map(function(Mi,$i){var Oe=_.obj(Mi)&&!_.pth(Mi)?Mi:{value:Mi};return _.und(Oe.delay)&&(Oe.delay=$i?0:le.delay),_.und(Oe.endDelay)&&(Oe.endDelay=$i===ui.length-1?le.endDelay:0),Oe}).map(function(Mi){return j(Mi,xe)})}function we(Xt){for(var le=V(z(Xt.map(function(ui){return Object.keys(ui)})),function(ui){return _.key(ui)}).reduce(function(ui,Mi){return ui.indexOf(Mi)<0&&ui.push(Mi),ui},[]),xe={},Xe=function(ui){var Mi=le[ui];xe[Mi]=Xt.map(function($i){var Oe={};for(var Je in $i)_.key(Je)?Je==Mi&&(Oe.value=$i[Je]):Oe[Je]=$i[Je];return Oe})},Ue=0;Ue<le.length;Ue++)Xe(Ue);return xe}function Ne(Xt,le){var xe=[],Xe=le.keyframes;Xe&&(le=j(we(Xe),le));for(var Ue in le)_.key(Ue)&&xe.push({name:Ue,tweens:Be(le[Ue],Xt)});return xe}function li(Xt,le){var xe={};for(var Xe in Xt){var Ue=kt(Xt[Xe],le);_.arr(Ue)&&(Ue=Ue.map(function(ui){return kt(ui,le)}),Ue.length===1&&(Ue=Ue[0])),xe[Xe]=Ue}return xe.duration=parseFloat(xe.duration),xe.delay=parseFloat(xe.delay),xe}function zi(Xt,le){var xe;return Xt.tweens.map(function(Xe){var Ue=li(Xe,le),ui=Ue.value,Mi=_.arr(ui)?ui[1]:ui,$i=lt(Mi),Oe=ve(le.target,Xt.name,$i,le),Je=xe?xe.to.original:Oe,tn=_.arr(ui)?ui[0]:Je,mn=lt(tn)||lt(Oe),Sn=$i||mn;return _.und(Mi)&&(Mi=Je),Ue.from=Qt(tn,Sn),Ue.to=Qt(qe(Mi,tn),Sn),Ue.start=xe?xe.end:0,Ue.end=Ue.start+Ue.delay+Ue.duration+Ue.endDelay,Ue.easing=P(Ue.easing,Ue.duration),Ue.isPath=_.pth(ui),Ue.isColor=_.col(Ue.from.original),Ue.isColor&&(Ue.round=1),xe=Ue,Ue})}var Ve={css:function(Xt,le,xe){return Xt.style[le]=xe},attribute:function(Xt,le,xe){return Xt.setAttribute(le,xe)},object:function(Xt,le,xe){return Xt[le]=xe},transform:function(Xt,le,xe,Xe,Ue){if(Xe.list.set(le,xe),le===Xe.last||Ue){var ui="";Xe.list.forEach(function(Mi,$i){ui+=$i+"("+Mi+") "}),Xt.style.transform=ui}}};function ji(Xt,le){for(var xe=ne(Xt),Xe=0,Ue=xe.length;Xe<Ue;Xe++){var ui=xe[Xe];for(var Mi in le){var $i=kt(le[Mi],ui),Oe=ui.target,Je=lt($i),tn=ve(Oe,Mi,Je,ui),mn=Je||lt(tn),Sn=qe(oi($i,mn),tn),v0=ae(Oe,Mi);Ve[v0](Oe,Mi,Sn,ui.transforms,!0)}}}function Ge(Xt,le){var xe=ae(Xt.target,le.name);if(xe){var Xe=zi(le,Xt),Ue=Xe[Xe.length-1];return{type:xe,property:le.name,animatable:Xt,tweens:Xe,duration:Ue.end,delay:Xe[0].delay,endDelay:Ue.endDelay}}}function ke(Xt,le){return V(z(Xt.map(function(xe){return le.map(function(Xe){return Ge(xe,Xe)})})),function(xe){return!_.und(xe)})}function Di(Xt,le){var xe=Xt.length,Xe=function(ui){return ui.timelineOffset?ui.timelineOffset:0},Ue={};return Ue.duration=xe?Math.max.apply(Math,Xt.map(function(ui){return Xe(ui)+ui.duration})):le.duration,Ue.delay=xe?Math.min.apply(Math,Xt.map(function(ui){return Xe(ui)+ui.delay})):le.delay,Ue.endDelay=xe?Ue.duration-Math.max.apply(Math,Xt.map(function(ui){return Xe(ui)+ui.duration-ui.endDelay})):le.endDelay,Ue}var ni=0;function Tn(Xt){var le=Z(h,Xt),xe=Z(p,Xt),Xe=Ne(xe,Xt),Ue=ne(Xt.targets),ui=ke(Ue,Xe),Mi=Di(ui,xe),$i=ni;return ni++,j(le,{id:$i,children:[],animatables:Ue,animations:ui,duration:Mi.duration,delay:Mi.delay,endDelay:Mi.endDelay})}var Le=[],yn=[],I0,Gn=function(){function Xt(){I0=requestAnimationFrame(le)}function le(xe){var Xe=Le.length;if(Xe){for(var Ue=0;Ue<Xe;){var ui=Le[Ue];if(!ui.paused)ui.tick(xe);else{var Mi=Le.indexOf(ui);Mi>-1&&(Le.splice(Mi,1),Xe=Le.length)}Ue++}Xt()}else I0=cancelAnimationFrame(I0)}return Xt}();function ai(){if(document.hidden){for(var Xt=0,le=Le.length;Xt<le;Xt++)activeInstance[Xt].pause();yn=Le.slice(0),Le=[]}else for(var xe=0,Xe=yn.length;xe<Xe;xe++)yn[xe].play()}document.addEventListener("visibilitychange",ai);function Hi(Xt){Xt===void 0&&(Xt={});var le=0,xe=0,Xe=0,Ue,ui=0,Mi=null;function $i(){return window.Promise&&new Promise(function(Gi){return Mi=Gi})}var Oe=$i(),Je=Tn(Xt);function tn(){Je.reversed=!Je.reversed;for(var Gi=0,Nn=Ue.length;Gi<Nn;Gi++)Ue[Gi].reversed=Je.reversed}function mn(Gi){return Je.reversed?Je.duration-Gi:Gi}function Sn(){le=0,xe=mn(Je.currentTime)*(1/Hi.speed)}function v0(Gi,Nn){Nn&&Nn.seek(Gi-Nn.timelineOffset)}function Pn(Gi){if(Je.reversePlayback)for(var q0=ui;q0--;)v0(Gi,Ue[q0]);else for(var Nn=0;Nn<ui;Nn++)v0(Gi,Ue[Nn])}function Bn(Gi){for(var Nn=0,q0=Je.animations,Xn=q0.length;Nn<Xn;){var ct=q0[Nn],Mt=ct.animatable,Nt=ct.tweens,$t=Nt.length-1,Zt=Nt[$t];$t&&(Zt=V(Nt,function(r9){return Gi<r9.end})[0]||Zt);for(var Me=g(Gi-Zt.start-Zt.delay,0,Zt.duration)/Zt.duration,Ce=isNaN(Me)?1:Zt.easing(Me),pi=Zt.to.strings,hi=Zt.round,Re=[],si=Zt.to.numbers.length,Ei=void 0,Se=0;Se<si;Se++){var wi=void 0,pn=Zt.to.numbers[Se],Un=Zt.from.numbers[Se]||0;Zt.isPath?wi=tt(Zt.value,Ce*pn):wi=Un+Ce*(pn-Un),hi&&(Zt.isColor&&Se>2||(wi=Math.round(wi*hi)/hi)),Re.push(wi)}var Rn=pi.length;if(!Rn)Ei=Re[0];else{Ei=pi[0];for(var wn=0;wn<Rn;wn++){pi[wn];var b0=pi[wn+1],R0=Re[wn];isNaN(R0)||(b0?Ei+=R0+b0:Ei+=R0+" ")}}Ve[ct.type](Mt.target,ct.property,Ei,Mt.transforms),ct.currentValue=Ei,Nn++}}function Kn(Gi){Je[Gi]&&!Je.passThrough&&Je[Gi](Je)}function B0(){Je.remaining&&Je.remaining!==!0&&Je.remaining--}function p9(Gi){var Nn=Je.duration,q0=Je.delay,Xn=Nn-Je.endDelay,ct=mn(Gi);Je.progress=g(ct/Nn*100,0,100),Je.reversePlayback=ct<Je.currentTime,Ue&&Pn(ct),!Je.began&&Je.currentTime>0&&(Je.began=!0,Kn("begin"),Kn("loopBegin")),ct<=q0&&Je.currentTime!==0&&Bn(0),(ct>=Xn&&Je.currentTime!==Nn||!Nn)&&Bn(Nn),ct>q0&&ct<Xn?(Je.changeBegan||(Je.changeBegan=!0,Je.changeCompleted=!1,Kn("changeBegin")),Kn("change"),Bn(ct)):Je.changeBegan&&(Je.changeCompleted=!0,Je.changeBegan=!1,Kn("changeComplete")),Je.currentTime=g(ct,0,Nn),Je.began&&Kn("update"),Gi>=Nn&&(xe=0,B0(),Je.remaining?(le=Xe,Kn("loopComplete"),Kn("loopBegin"),Je.direction==="alternate"&&tn()):(Je.paused=!0,Je.completed||(Je.completed=!0,Kn("loopComplete"),Kn("complete"),"Promise"in window&&(Mi(),Oe=$i()))))}return Je.reset=function(){var Gi=Je.direction;Je.passThrough=!1,Je.currentTime=0,Je.progress=0,Je.paused=!0,Je.began=!1,Je.changeBegan=!1,Je.completed=!1,Je.changeCompleted=!1,Je.reversePlayback=!1,Je.reversed=Gi==="reverse",Je.remaining=Je.loop,Ue=Je.children,ui=Ue.length;for(var Nn=ui;Nn--;)Je.children[Nn].reset();(Je.reversed&&Je.loop!==!0||Gi==="alternate"&&Je.loop===1)&&Je.remaining++,Bn(0)},Je.set=function(Gi,Nn){return ji(Gi,Nn),Je},Je.tick=function(Gi){Xe=Gi,le||(le=Xe),p9((Xe+(xe-le))*Hi.speed)},Je.seek=function(Gi){p9(mn(Gi))},Je.pause=function(){Je.paused=!0,Sn()},Je.play=function(){Je.paused&&(Je.paused=!1,Le.push(Je),Sn(),I0||Gn())},Je.reverse=function(){tn(),Sn()},Je.restart=function(){Je.reset(),Je.play()},Je.finished=Oe,Je.reset(),Je.autoplay&&Je.play(),Je}function f0(Xt,le){for(var xe=le.length;xe--;)H(Xt,le[xe].animatable.target)&&le.splice(xe,1)}function _i(Xt){for(var le=jt(Xt),xe=Le.length;xe--;){var Xe=Le[xe],Ue=Xe.animations,ui=Xe.children;f0(le,Ue);for(var Mi=ui.length;Mi--;){var $i=ui[Mi],Oe=$i.animations;f0(le,Oe),!Oe.length&&!$i.children.length&&ui.splice(Mi,1)}!Ue.length&&!ui.length&&Xe.pause()}}function dn(Xt,le){le===void 0&&(le={});var xe=le.direction||"normal",Xe=le.easing?P(le.easing):null,Ue=le.grid,ui=le.axis,Mi=le.from||0,$i=Mi==="first",Oe=Mi==="center",Je=Mi==="last",tn=_.arr(Xt),mn=parseFloat(tn?Xt[0]:Xt),Sn=tn?parseFloat(Xt[1]):0,v0=lt(tn?Xt[1]:Xt)||0,Pn=le.start||0+(tn?mn:0),Bn=[],Kn=0;return function(B0,p9,Gi){if($i&&(Mi=0),Oe&&(Mi=(Gi-1)/2),Je&&(Mi=Gi-1),!Bn.length){for(var Nn=0;Nn<Gi;Nn++){if(!Ue)Bn.push(Math.abs(Mi-Nn));else{var q0=Oe?(Ue[0]-1)/2:Mi%Ue[0],Xn=Oe?(Ue[1]-1)/2:Math.floor(Mi/Ue[0]),ct=Nn%Ue[0],Mt=Math.floor(Nn/Ue[0]),Nt=q0-ct,$t=Xn-Mt,Zt=Math.sqrt(Nt*Nt+$t*$t);ui==="x"&&(Zt=-Nt),ui==="y"&&(Zt=-$t),Bn.push(Zt)}Kn=Math.max.apply(Math,Bn)}Xe&&(Bn=Bn.map(function(Ce){return Xe(Ce/Kn)*Kn})),xe==="reverse"&&(Bn=Bn.map(function(Ce){return ui?Ce<0?Ce*-1:-Ce:Math.abs(Kn-Ce)}))}var Me=tn?(Sn-mn)/Kn:mn;return Pn+Me*(Math.round(Bn[p9]*100)/100)+v0}}function n9(Xt){Xt===void 0&&(Xt={});var le=Hi(Xt);return le.duration=0,le.add=function(xe,Xe){var Ue=Le.indexOf(le),ui=le.children;Ue>-1&&Le.splice(Ue,1);function Mi(Sn){Sn.passThrough=!0}for(var $i=0;$i<ui.length;$i++)Mi(ui[$i]);var Oe=j(xe,Z(p,Xt));Oe.targets=Oe.targets||Xt.targets;var Je=le.duration;Oe.autoplay=!1,Oe.direction=le.direction,Oe.timelineOffset=_.und(Xe)?Je:qe(Xe,Je),Mi(le),le.seek(Oe.timelineOffset);var tn=Hi(Oe);Mi(tn),ui.push(tn);var mn=Di(ui,Xt);return le.delay=mn.delay,le.endDelay=mn.endDelay,le.duration=mn.duration,le.seek(0),le.reset(),le.autoplay&&le.play(),le},le}Hi.version="3.0.0",Hi.speed=1,Hi.running=Le,Hi.remove=_i,Hi.get=ve,Hi.set=ji,Hi.convertPx=Gt,Hi.path=X,Hi.setDashoffset=Et,Hi.stagger=dn,Hi.timeline=n9,Hi.easing=P,Hi.penner=N,Hi.random=function(Xt,le){return Math.floor(Math.random()*(le-Xt+1))+Xt};const k0=Hi},"./node_modules/three-bmfont-text/index.js":(c,d,u)=>{var h=u("./node_modules/layout-bmfont-text/index.js"),p=u("./node_modules/quad-indices/index.js"),f=u("./node_modules/three-bmfont-text/lib/vertices.js"),M=u("./node_modules/three-bmfont-text/lib/utils.js");c.exports=function(b){return new g(b)};class g extends THREE.BufferGeometry{constructor(b){super(),typeof b=="string"&&(b={text:b}),this._opt=Object.assign({},b),b&&this.update(b)}update(b){if(typeof b=="string"&&(b={text:b}),b=Object.assign({},this._opt,b),!b.font)throw new TypeError("must specify a { font } in options");this.layout=h(b);var v=b.flipY!==!1,C=b.font,w=C.common.scaleW,_=C.common.scaleH,E=this.layout.glyphs.filter(function(D){var N=D.data;return N.width*N.height>0});this.visibleGlyphs=E;var S=f.positions(E),I=f.uvs(E,w,_,v),T=p([],{clockwise:!0,type:"uint16",count:E.length});if(this.setIndex(T),this.setAttribute("position",new THREE.BufferAttribute(S,2)),this.setAttribute("uv",new THREE.BufferAttribute(I,2)),!b.multipage&&"page"in this.attributes)this.removeAttribute("page");else if(b.multipage){var k=f.pages(E);this.setAttribute("page",new THREE.BufferAttribute(k,1))}this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere()}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new THREE.Sphere);var b=this.attributes.position.array,v=this.attributes.position.itemSize;if(!b||!v||b.length<2){this.boundingSphere.radius=0,this.boundingSphere.center.set(0,0,0);return}M.computeSphere(b,this.boundingSphere),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new THREE.Box3);var b=this.boundingBox,v=this.attributes.position.array,C=this.attributes.position.itemSize;if(!v||!C||v.length<2){b.makeEmpty();return}M.computeBox(v,b)}}},"./node_modules/three-bmfont-text/lib/utils.js":c=>{var d=2,u={min:[0,0],max:[0,0]};function h(p){var f=p.length/d;u.min[0]=p[0],u.min[1]=p[1],u.max[0]=p[0],u.max[1]=p[1];for(var M=0;M<f;M++){var g=p[M*d+0],y=p[M*d+1];u.min[0]=Math.min(g,u.min[0]),u.min[1]=Math.min(y,u.min[1]),u.max[0]=Math.max(g,u.max[0]),u.max[1]=Math.max(y,u.max[1])}}c.exports.computeBox=function(p,f){h(p),f.min.set(u.min[0],u.min[1],0),f.max.set(u.max[0],u.max[1],0)},c.exports.computeSphere=function(p,f){h(p);var M=u.min[0],g=u.min[1],y=u.max[0],b=u.max[1],v=y-M,C=b-g,w=Math.sqrt(v*v+C*C);f.center.set(M+v/2,g+C/2,0),f.radius=w/2}},"./node_modules/three-bmfont-text/lib/vertices.js":c=>{c.exports.pages=function(u){var h=new Float32Array(u.length*4*1),p=0;return u.forEach(function(f){var M=f.data.page||0;h[p++]=M,h[p++]=M,h[p++]=M,h[p++]=M}),h},c.exports.uvs=function(u,h,p,f){var M=new Float32Array(u.length*4*2),g=0;return u.forEach(function(y){var b=y.data,v=b.x+b.width,C=b.y+b.height,w=b.x/h,_=b.y/p,E=v/h,S=C/p;f&&(_=(p-b.y)/p,S=(p-C)/p),M[g++]=w,M[g++]=_,M[g++]=w,M[g++]=S,M[g++]=E,M[g++]=S,M[g++]=E,M[g++]=_}),M},c.exports.positions=function(u){var h=new Float32Array(u.length*4*2),p=0;return u.forEach(function(f){var M=f.data,g=f.position[0]+M.xoffset,y=f.position[1]+M.yoffset,b=M.width,v=M.height;h[p++]=g,h[p++]=y,h[p++]=g,h[p++]=y+v,h[p++]=g+b,h[p++]=y+v,h[p++]=g+b,h[p++]=y}),h}},"./node_modules/webvr-polyfill/build/webvr-polyfill.js":function(c,d,u){/**
 * @license
 * webvr-polyfill
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * webvr-polyfill-dpdb 
 * Copyright (c) 2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * wglu-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(h,p){c.exports=p()})(this,function(){var h=typeof window<"u"?window:typeof u.g<"u"?u.g:typeof self<"u"?self:{};function p(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}function f(T,k){return k={exports:{}},T(k,k.exports),k.exports}var M=function(){return/Android/i.test(navigator.userAgent)||/iPhone|iPad|iPod/i.test(navigator.userAgent)},g=function(k,D){for(var N=0,P=k.length;N<P;N++)D[N]=k[N]},y=function(k,D){for(var N in D)D.hasOwnProperty(N)&&(k[N]=D[N]);return k},b=f(function(T,k){/**
 * @license
 * cardboard-vr-display
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * gl-preserve-state
 * Copyright (c) 2016, Brandon Jones.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *//**
 * @license
 * webvr-polyfill-dpdb
 * Copyright (c) 2015-2017 Google
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * nosleep.js
 * Copyright (c) 2017, Rich Tibbett
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function(D,N){T.exports=N()})(h,function(){var D=function(ct,Mt){if(!(ct instanceof Mt))throw new TypeError("Cannot call a class as a function")},N=function(){function ct(Mt,Nt){for(var $t=0;$t<Nt.length;$t++){var Zt=Nt[$t];Zt.enumerable=Zt.enumerable||!1,Zt.configurable=!0,"value"in Zt&&(Zt.writable=!0),Object.defineProperty(Mt,Zt.key,Zt)}}return function(Mt,Nt,$t){return Nt&&ct(Mt.prototype,Nt),$t&&ct(Mt,$t),Mt}}(),P=function(){function ct(Mt,Nt){var $t=[],Zt=!0,Me=!1,Ce=void 0;try{for(var pi=Mt[Symbol.iterator](),hi;!(Zt=(hi=pi.next()).done)&&($t.push(hi.value),!(Nt&&$t.length===Nt));Zt=!0);}catch(Re){Me=!0,Ce=Re}finally{try{!Zt&&pi.return&&pi.return()}finally{if(Me)throw Ce}}return $t}return function(Mt,Nt){if(Array.isArray(Mt))return Mt;if(Symbol.iterator in Object(Mt))return ct(Mt,Nt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),F=.001,U=1,V=function(Mt,Nt){return"data:"+Mt+","+encodeURIComponent(Nt)},z=function(Mt,Nt,$t){return Mt+(Nt-Mt)*$t},G=function(){var ct=/iPad|iPhone|iPod/.test(navigator.platform);return function(){return ct}}(),H=function(){var ct=navigator.userAgent.indexOf("Version")!==-1&&navigator.userAgent.indexOf("Android")!==-1&&navigator.userAgent.indexOf("Chrome")!==-1;return function(){return ct}}(),J=function(){var ct=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return function(){return ct}}(),Z=function(){var ct=navigator.userAgent.indexOf("Firefox")!==-1&&navigator.userAgent.indexOf("Android")!==-1;return function(){return ct}}(),j=function(){var ct=navigator.userAgent.match(/.*Chrome\/([0-9]+)/),Mt=ct?parseInt(ct[1],10):null;return function(){return Mt}}(),W=function(){var ct=!1;return ct=G()&&J()&&navigator.userAgent.indexOf("13_4")!==-1,function(){return ct}}(),et=function(){var ct=!1;if(j()===65){var Mt=navigator.userAgent.match(/.*Chrome\/([0-9\.]*)/);if(Mt){var Nt=Mt[1].split("."),$t=P(Nt,4);$t[0],$t[1];var Zt=$t[2],Me=$t[3];ct=parseInt(Zt,10)===3325&&parseInt(Me,10)<148}}return function(){return ct}}(),dt=function(){var ct=navigator.userAgent.indexOf("R7 Build")!==-1;return function(){return ct}}(),ht=function(){var Mt=window.orientation==90||window.orientation==-90;return dt()?!Mt:Mt},st=function(Mt){return!(isNaN(Mt)||Mt<=F||Mt>U)},St=function(){return Math.max(window.screen.width,window.screen.height)*window.devicePixelRatio},At=function(){return Math.min(window.screen.width,window.screen.height)*window.devicePixelRatio},xt=function(Mt){if(H())return!1;if(Mt.requestFullscreen)Mt.requestFullscreen();else if(Mt.webkitRequestFullscreen)Mt.webkitRequestFullscreen();else if(Mt.mozRequestFullScreen)Mt.mozRequestFullScreen();else if(Mt.msRequestFullscreen)Mt.msRequestFullscreen();else return!1;return!0},gt=function(){if(document.exitFullscreen)document.exitFullscreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else return!1;return!0},yt=function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},lt=function(Mt,Nt,$t,Zt){var Me=Mt.createShader(Mt.VERTEX_SHADER);Mt.shaderSource(Me,Nt),Mt.compileShader(Me);var Ce=Mt.createShader(Mt.FRAGMENT_SHADER);Mt.shaderSource(Ce,$t),Mt.compileShader(Ce);var pi=Mt.createProgram();Mt.attachShader(pi,Me),Mt.attachShader(pi,Ce);for(var hi in Zt)Mt.bindAttribLocation(pi,Zt[hi],hi);return Mt.linkProgram(pi),Mt.deleteShader(Me),Mt.deleteShader(Ce),pi},zt=function(Mt,Nt){for(var $t={},Zt=Mt.getProgramParameter(Nt,Mt.ACTIVE_UNIFORMS),Me="",Ce=0;Ce<Zt;Ce++){var pi=Mt.getActiveUniform(Nt,Ce);Me=pi.name.replace("[0]",""),$t[Me]=Mt.getUniformLocation(Nt,Me)}return $t},kt=function(Mt,Nt,$t,Zt,Me,Ce,pi){var hi=1/(Nt-$t),Re=1/(Zt-Me),si=1/(Ce-pi);return Mt[0]=-2*hi,Mt[1]=0,Mt[2]=0,Mt[3]=0,Mt[4]=0,Mt[5]=-2*Re,Mt[6]=0,Mt[7]=0,Mt[8]=0,Mt[9]=0,Mt[10]=2*si,Mt[11]=0,Mt[12]=(Nt+$t)*hi,Mt[13]=(Me+Zt)*Re,Mt[14]=(pi+Ce)*si,Mt[15]=1,Mt},Jt=function(){var Mt=!1;return function(Nt){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(Nt)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(Nt.substr(0,4)))&&(Mt=!0)}(navigator.userAgent||navigator.vendor||window.opera),Mt},Gt=function(Mt,Nt){for(var $t in Nt)Nt.hasOwnProperty($t)&&(Mt[$t]=Nt[$t]);return Mt},ce=function(Mt){if(G()){var Nt=Mt.style.width,$t=Mt.style.height;Mt.style.width=parseInt(Nt)+1+"px",Mt.style.height=parseInt($t)+"px",setTimeout(function(){Mt.style.width=Nt,Mt.style.height=$t},100)}window.canvas=Mt},ae=function(){var ct=Math.PI/180,Mt=Math.PI*.25;function Nt(Re,si,Ei,Se){var wi=Math.tan(si?si.upDegrees*ct:Mt),pn=Math.tan(si?si.downDegrees*ct:Mt),Un=Math.tan(si?si.leftDegrees*ct:Mt),Rn=Math.tan(si?si.rightDegrees*ct:Mt),wn=2/(Un+Rn),b0=2/(wi+pn);return Re[0]=wn,Re[1]=0,Re[2]=0,Re[3]=0,Re[4]=0,Re[5]=b0,Re[6]=0,Re[7]=0,Re[8]=-((Un-Rn)*wn*.5),Re[9]=(wi-pn)*b0*.5,Re[10]=Se/(Ei-Se),Re[11]=-1,Re[12]=0,Re[13]=0,Re[14]=Se*Ei/(Ei-Se),Re[15]=0,Re}function $t(Re,si,Ei){var Se=si[0],wi=si[1],pn=si[2],Un=si[3],Rn=Se+Se,wn=wi+wi,b0=pn+pn,R0=Se*Rn,r9=Se*wn,W0=Se*b0,B9=wi*wn,E9=wi*b0,w9=pn*b0,R9=Un*Rn,g9=Un*wn,Z9=Un*b0;return Re[0]=1-(B9+w9),Re[1]=r9+Z9,Re[2]=W0-g9,Re[3]=0,Re[4]=r9-Z9,Re[5]=1-(R0+w9),Re[6]=E9+R9,Re[7]=0,Re[8]=W0+g9,Re[9]=E9-R9,Re[10]=1-(R0+B9),Re[11]=0,Re[12]=Ei[0],Re[13]=Ei[1],Re[14]=Ei[2],Re[15]=1,Re}function Zt(Re,si,Ei){var Se=Ei[0],wi=Ei[1],pn=Ei[2],Un,Rn,wn,b0,R0,r9,W0,B9,E9,w9,R9,g9;return si===Re?(Re[12]=si[0]*Se+si[4]*wi+si[8]*pn+si[12],Re[13]=si[1]*Se+si[5]*wi+si[9]*pn+si[13],Re[14]=si[2]*Se+si[6]*wi+si[10]*pn+si[14],Re[15]=si[3]*Se+si[7]*wi+si[11]*pn+si[15]):(Un=si[0],Rn=si[1],wn=si[2],b0=si[3],R0=si[4],r9=si[5],W0=si[6],B9=si[7],E9=si[8],w9=si[9],R9=si[10],g9=si[11],Re[0]=Un,Re[1]=Rn,Re[2]=wn,Re[3]=b0,Re[4]=R0,Re[5]=r9,Re[6]=W0,Re[7]=B9,Re[8]=E9,Re[9]=w9,Re[10]=R9,Re[11]=g9,Re[12]=Un*Se+R0*wi+E9*pn+si[12],Re[13]=Rn*Se+r9*wi+w9*pn+si[13],Re[14]=wn*Se+W0*wi+R9*pn+si[14],Re[15]=b0*Se+B9*wi+g9*pn+si[15]),Re}function Me(Re,si){var Ei=si[0],Se=si[1],wi=si[2],pn=si[3],Un=si[4],Rn=si[5],wn=si[6],b0=si[7],R0=si[8],r9=si[9],W0=si[10],B9=si[11],E9=si[12],w9=si[13],R9=si[14],g9=si[15],Z9=Ei*Rn-Se*Un,Lr=Ei*wn-wi*Un,da=Ei*b0-pn*Un,zr=Se*wn-wi*Rn,lo=Se*b0-pn*Rn,co=wi*b0-pn*wn,uo=R0*w9-r9*E9,k9=R0*R9-W0*E9,Ha=R0*g9-B9*E9,jr=r9*R9-W0*w9,cs=r9*g9-B9*w9,Nr=W0*g9-B9*R9,O0=Z9*Nr-Lr*cs+da*jr+zr*Ha-lo*k9+co*uo;return O0?(O0=1/O0,Re[0]=(Rn*Nr-wn*cs+b0*jr)*O0,Re[1]=(wi*cs-Se*Nr-pn*jr)*O0,Re[2]=(w9*co-R9*lo+g9*zr)*O0,Re[3]=(W0*lo-r9*co-B9*zr)*O0,Re[4]=(wn*Ha-Un*Nr-b0*k9)*O0,Re[5]=(Ei*Nr-wi*Ha+pn*k9)*O0,Re[6]=(R9*da-E9*co-g9*Lr)*O0,Re[7]=(R0*co-W0*da+B9*Lr)*O0,Re[8]=(Un*cs-Rn*Ha+b0*uo)*O0,Re[9]=(Se*Ha-Ei*cs-pn*uo)*O0,Re[10]=(E9*lo-w9*da+g9*Z9)*O0,Re[11]=(r9*da-R0*lo-B9*Z9)*O0,Re[12]=(Rn*k9-Un*jr-wn*uo)*O0,Re[13]=(Ei*jr-Se*k9+wi*uo)*O0,Re[14]=(w9*Lr-E9*zr-R9*Z9)*O0,Re[15]=(R0*zr-r9*Lr+W0*Z9)*O0,Re):null}var Ce=new Float32Array([0,0,0,1]),pi=new Float32Array([0,0,0]);function hi(Re,si,Ei,Se,wi,pn){Nt(Re,Se||null,pn.depthNear,pn.depthFar);var Un=Ei.orientation||Ce,Rn=Ei.position||pi;$t(si,Un,Rn),wi&&Zt(si,si,wi),Me(si,si)}return function(Re,si,Ei){return!Re||!si?!1:(Re.pose=si,Re.timestamp=si.timestamp,hi(Re.leftProjectionMatrix,Re.leftViewMatrix,si,Ei._getFieldOfView("left"),Ei._getEyeOffset("left"),Ei),hi(Re.rightProjectionMatrix,Re.rightViewMatrix,si,Ei._getFieldOfView("right"),Ei._getEyeOffset("right"),Ei),!0)}}(),qt=function(){var Mt=window.self!==window.top,Nt=ue(document.referrer),$t=ue(window.location.href);return Mt&&Nt!==$t},ue=function(Mt){var Nt,$t=Mt.indexOf("://");$t!==-1?Nt=$t+3:Nt=0;var Zt=Mt.indexOf("/",Nt);return Zt===-1&&(Zt=Mt.length),Mt.substring(0,Zt)},$e=function(Mt){if(Mt.w>1)return console.warn("getQuaternionAngle: w > 1"),0;var Nt=2*Math.acos(Mt.w);return Nt},ve=function(){var ct={};return function(Mt,Nt){ct[Mt]===void 0&&(console.warn("webvr-polyfill: "+Nt),ct[Mt]=!0)}}(),He=function(Mt,Nt){var $t=Nt?"Please use "+Nt+" instead.":"";ve(Mt,Mt+" has been deprecated. This may not work on native WebVR displays. "+$t)};function qe(ct,Mt,Nt){if(!Mt){Nt(ct);return}for(var $t=[],Zt=null,Me=0;Me<Mt.length;++Me){var Ce=Mt[Me];switch(Ce){case ct.TEXTURE_BINDING_2D:case ct.TEXTURE_BINDING_CUBE_MAP:var pi=Mt[++Me];if(pi<ct.TEXTURE0||pi>ct.TEXTURE31){console.error("TEXTURE_BINDING_2D or TEXTURE_BINDING_CUBE_MAP must be followed by a valid texture unit"),$t.push(null,null);break}Zt||(Zt=ct.getParameter(ct.ACTIVE_TEXTURE)),ct.activeTexture(pi),$t.push(ct.getParameter(Ce),null);break;case ct.ACTIVE_TEXTURE:Zt=ct.getParameter(ct.ACTIVE_TEXTURE),$t.push(null);break;default:$t.push(ct.getParameter(Ce));break}}Nt(ct);for(var Me=0;Me<Mt.length;++Me){var Ce=Mt[Me],hi=$t[Me];switch(Ce){case ct.ACTIVE_TEXTURE:break;case ct.ARRAY_BUFFER_BINDING:ct.bindBuffer(ct.ARRAY_BUFFER,hi);break;case ct.COLOR_CLEAR_VALUE:ct.clearColor(hi[0],hi[1],hi[2],hi[3]);break;case ct.COLOR_WRITEMASK:ct.colorMask(hi[0],hi[1],hi[2],hi[3]);break;case ct.CURRENT_PROGRAM:ct.useProgram(hi);break;case ct.ELEMENT_ARRAY_BUFFER_BINDING:ct.bindBuffer(ct.ELEMENT_ARRAY_BUFFER,hi);break;case ct.FRAMEBUFFER_BINDING:ct.bindFramebuffer(ct.FRAMEBUFFER,hi);break;case ct.RENDERBUFFER_BINDING:ct.bindRenderbuffer(ct.RENDERBUFFER,hi);break;case ct.TEXTURE_BINDING_2D:var pi=Mt[++Me];if(pi<ct.TEXTURE0||pi>ct.TEXTURE31)break;ct.activeTexture(pi),ct.bindTexture(ct.TEXTURE_2D,hi);break;case ct.TEXTURE_BINDING_CUBE_MAP:var pi=Mt[++Me];if(pi<ct.TEXTURE0||pi>ct.TEXTURE31)break;ct.activeTexture(pi),ct.bindTexture(ct.TEXTURE_CUBE_MAP,hi);break;case ct.VIEWPORT:ct.viewport(hi[0],hi[1],hi[2],hi[3]);break;case ct.BLEND:case ct.CULL_FACE:case ct.DEPTH_TEST:case ct.SCISSOR_TEST:case ct.STENCIL_TEST:hi?ct.enable(Ce):ct.disable(Ce);break;default:console.log("No GL restore behavior for 0x"+Ce.toString(16));break}Zt&&ct.activeTexture(Zt)}}var ri=qe,oi=["attribute vec2 position;","attribute vec3 texCoord;","varying vec2 vTexCoord;","uniform vec4 viewportOffsetScale[2];","void main() {","  vec4 viewport = viewportOffsetScale[int(texCoord.z)];","  vTexCoord = (texCoord.xy * viewport.zw) + viewport.xy;","  gl_Position = vec4( position, 1.0, 1.0 );","}"].join(`
`),oe=["precision mediump float;","uniform sampler2D diffuse;","varying vec2 vTexCoord;","void main() {","  gl_FragColor = texture2D(diffuse, vTexCoord);","}"].join(`
`);function fe(ct,Mt,Nt,$t){this.gl=ct,this.cardboardUI=Mt,this.bufferScale=Nt,this.dirtySubmitFrameBindings=$t,this.ctxAttribs=ct.getContextAttributes(),this.instanceExt=ct.getExtension("ANGLE_instanced_arrays"),this.meshWidth=20,this.meshHeight=20,this.bufferWidth=ct.drawingBufferWidth,this.bufferHeight=ct.drawingBufferHeight,this.realBindFramebuffer=ct.bindFramebuffer,this.realEnable=ct.enable,this.realDisable=ct.disable,this.realColorMask=ct.colorMask,this.realClearColor=ct.clearColor,this.realViewport=ct.viewport,G()||(this.realCanvasWidth=Object.getOwnPropertyDescriptor(ct.canvas.__proto__,"width"),this.realCanvasHeight=Object.getOwnPropertyDescriptor(ct.canvas.__proto__,"height")),this.isPatched=!1,this.lastBoundFramebuffer=null,this.cullFace=!1,this.depthTest=!1,this.blend=!1,this.scissorTest=!1,this.stencilTest=!1,this.viewport=[0,0,0,0],this.colorMask=[!0,!0,!0,!0],this.clearColor=[0,0,0,0],this.attribs={position:0,texCoord:1},this.program=lt(ct,oi,oe,this.attribs),this.uniforms=zt(ct,this.program),this.viewportOffsetScale=new Float32Array(8),this.setTextureBounds(),this.vertexBuffer=ct.createBuffer(),this.indexBuffer=ct.createBuffer(),this.indexCount=0,this.renderTarget=ct.createTexture(),this.framebuffer=ct.createFramebuffer(),this.depthStencilBuffer=null,this.depthBuffer=null,this.stencilBuffer=null,this.ctxAttribs.depth&&this.ctxAttribs.stencil?this.depthStencilBuffer=ct.createRenderbuffer():this.ctxAttribs.depth?this.depthBuffer=ct.createRenderbuffer():this.ctxAttribs.stencil&&(this.stencilBuffer=ct.createRenderbuffer()),this.patch(),this.onResize()}fe.prototype.destroy=function(){var ct=this.gl;this.unpatch(),ct.deleteProgram(this.program),ct.deleteBuffer(this.vertexBuffer),ct.deleteBuffer(this.indexBuffer),ct.deleteTexture(this.renderTarget),ct.deleteFramebuffer(this.framebuffer),this.depthStencilBuffer&&ct.deleteRenderbuffer(this.depthStencilBuffer),this.depthBuffer&&ct.deleteRenderbuffer(this.depthBuffer),this.stencilBuffer&&ct.deleteRenderbuffer(this.stencilBuffer),this.cardboardUI&&this.cardboardUI.destroy()},fe.prototype.onResize=function(){var ct=this.gl,Mt=this,Nt=[ct.RENDERBUFFER_BINDING,ct.TEXTURE_BINDING_2D,ct.TEXTURE0];ri(ct,Nt,function($t){Mt.realBindFramebuffer.call($t,$t.FRAMEBUFFER,null),Mt.scissorTest&&Mt.realDisable.call($t,$t.SCISSOR_TEST),Mt.realColorMask.call($t,!0,!0,!0,!0),Mt.realViewport.call($t,0,0,$t.drawingBufferWidth,$t.drawingBufferHeight),Mt.realClearColor.call($t,0,0,0,1),$t.clear($t.COLOR_BUFFER_BIT),Mt.realBindFramebuffer.call($t,$t.FRAMEBUFFER,Mt.framebuffer),$t.bindTexture($t.TEXTURE_2D,Mt.renderTarget),$t.texImage2D($t.TEXTURE_2D,0,Mt.ctxAttribs.alpha?$t.RGBA:$t.RGB,Mt.bufferWidth,Mt.bufferHeight,0,Mt.ctxAttribs.alpha?$t.RGBA:$t.RGB,$t.UNSIGNED_BYTE,null),$t.texParameteri($t.TEXTURE_2D,$t.TEXTURE_MAG_FILTER,$t.LINEAR),$t.texParameteri($t.TEXTURE_2D,$t.TEXTURE_MIN_FILTER,$t.LINEAR),$t.texParameteri($t.TEXTURE_2D,$t.TEXTURE_WRAP_S,$t.CLAMP_TO_EDGE),$t.texParameteri($t.TEXTURE_2D,$t.TEXTURE_WRAP_T,$t.CLAMP_TO_EDGE),$t.framebufferTexture2D($t.FRAMEBUFFER,$t.COLOR_ATTACHMENT0,$t.TEXTURE_2D,Mt.renderTarget,0),Mt.ctxAttribs.depth&&Mt.ctxAttribs.stencil?($t.bindRenderbuffer($t.RENDERBUFFER,Mt.depthStencilBuffer),$t.renderbufferStorage($t.RENDERBUFFER,$t.DEPTH_STENCIL,Mt.bufferWidth,Mt.bufferHeight),$t.framebufferRenderbuffer($t.FRAMEBUFFER,$t.DEPTH_STENCIL_ATTACHMENT,$t.RENDERBUFFER,Mt.depthStencilBuffer)):Mt.ctxAttribs.depth?($t.bindRenderbuffer($t.RENDERBUFFER,Mt.depthBuffer),$t.renderbufferStorage($t.RENDERBUFFER,$t.DEPTH_COMPONENT16,Mt.bufferWidth,Mt.bufferHeight),$t.framebufferRenderbuffer($t.FRAMEBUFFER,$t.DEPTH_ATTACHMENT,$t.RENDERBUFFER,Mt.depthBuffer)):Mt.ctxAttribs.stencil&&($t.bindRenderbuffer($t.RENDERBUFFER,Mt.stencilBuffer),$t.renderbufferStorage($t.RENDERBUFFER,$t.STENCIL_INDEX8,Mt.bufferWidth,Mt.bufferHeight),$t.framebufferRenderbuffer($t.FRAMEBUFFER,$t.STENCIL_ATTACHMENT,$t.RENDERBUFFER,Mt.stencilBuffer)),!$t.checkFramebufferStatus($t.FRAMEBUFFER)===$t.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer incomplete!"),Mt.realBindFramebuffer.call($t,$t.FRAMEBUFFER,Mt.lastBoundFramebuffer),Mt.scissorTest&&Mt.realEnable.call($t,$t.SCISSOR_TEST),Mt.realColorMask.apply($t,Mt.colorMask),Mt.realViewport.apply($t,Mt.viewport),Mt.realClearColor.apply($t,Mt.clearColor)}),this.cardboardUI&&this.cardboardUI.onResize()},fe.prototype.patch=function(){if(!this.isPatched){var ct=this,Mt=this.gl.canvas,Nt=this.gl;G()||(Mt.width=St()*this.bufferScale,Mt.height=At()*this.bufferScale,Object.defineProperty(Mt,"width",{configurable:!0,enumerable:!0,get:function(){return ct.bufferWidth},set:function(Zt){ct.bufferWidth=Zt,ct.realCanvasWidth.set.call(Mt,Zt),ct.onResize()}}),Object.defineProperty(Mt,"height",{configurable:!0,enumerable:!0,get:function(){return ct.bufferHeight},set:function(Zt){ct.bufferHeight=Zt,ct.realCanvasHeight.set.call(Mt,Zt),ct.onResize()}})),this.lastBoundFramebuffer=Nt.getParameter(Nt.FRAMEBUFFER_BINDING),this.lastBoundFramebuffer==null&&(this.lastBoundFramebuffer=this.framebuffer,this.gl.bindFramebuffer(Nt.FRAMEBUFFER,this.framebuffer)),this.gl.bindFramebuffer=function($t,Zt){ct.lastBoundFramebuffer=Zt||ct.framebuffer,ct.realBindFramebuffer.call(Nt,$t,ct.lastBoundFramebuffer)},this.cullFace=Nt.getParameter(Nt.CULL_FACE),this.depthTest=Nt.getParameter(Nt.DEPTH_TEST),this.blend=Nt.getParameter(Nt.BLEND),this.scissorTest=Nt.getParameter(Nt.SCISSOR_TEST),this.stencilTest=Nt.getParameter(Nt.STENCIL_TEST),Nt.enable=function($t){switch($t){case Nt.CULL_FACE:ct.cullFace=!0;break;case Nt.DEPTH_TEST:ct.depthTest=!0;break;case Nt.BLEND:ct.blend=!0;break;case Nt.SCISSOR_TEST:ct.scissorTest=!0;break;case Nt.STENCIL_TEST:ct.stencilTest=!0;break}ct.realEnable.call(Nt,$t)},Nt.disable=function($t){switch($t){case Nt.CULL_FACE:ct.cullFace=!1;break;case Nt.DEPTH_TEST:ct.depthTest=!1;break;case Nt.BLEND:ct.blend=!1;break;case Nt.SCISSOR_TEST:ct.scissorTest=!1;break;case Nt.STENCIL_TEST:ct.stencilTest=!1;break}ct.realDisable.call(Nt,$t)},this.colorMask=Nt.getParameter(Nt.COLOR_WRITEMASK),Nt.colorMask=function($t,Zt,Me,Ce){ct.colorMask[0]=$t,ct.colorMask[1]=Zt,ct.colorMask[2]=Me,ct.colorMask[3]=Ce,ct.realColorMask.call(Nt,$t,Zt,Me,Ce)},this.clearColor=Nt.getParameter(Nt.COLOR_CLEAR_VALUE),Nt.clearColor=function($t,Zt,Me,Ce){ct.clearColor[0]=$t,ct.clearColor[1]=Zt,ct.clearColor[2]=Me,ct.clearColor[3]=Ce,ct.realClearColor.call(Nt,$t,Zt,Me,Ce)},this.viewport=Nt.getParameter(Nt.VIEWPORT),Nt.viewport=function($t,Zt,Me,Ce){ct.viewport[0]=$t,ct.viewport[1]=Zt,ct.viewport[2]=Me,ct.viewport[3]=Ce,ct.realViewport.call(Nt,$t,Zt,Me,Ce)},this.isPatched=!0,ce(Mt)}},fe.prototype.unpatch=function(){if(this.isPatched){var ct=this.gl,Mt=this.gl.canvas;G()||(Object.defineProperty(Mt,"width",this.realCanvasWidth),Object.defineProperty(Mt,"height",this.realCanvasHeight)),Mt.width=this.bufferWidth,Mt.height=this.bufferHeight,ct.bindFramebuffer=this.realBindFramebuffer,ct.enable=this.realEnable,ct.disable=this.realDisable,ct.colorMask=this.realColorMask,ct.clearColor=this.realClearColor,ct.viewport=this.realViewport,this.lastBoundFramebuffer==this.framebuffer&&ct.bindFramebuffer(ct.FRAMEBUFFER,null),this.isPatched=!1,setTimeout(function(){ce(Mt)},1)}},fe.prototype.setTextureBounds=function(ct,Mt){ct||(ct=[0,0,.5,1]),Mt||(Mt=[.5,0,.5,1]),this.viewportOffsetScale[0]=ct[0],this.viewportOffsetScale[1]=ct[1],this.viewportOffsetScale[2]=ct[2],this.viewportOffsetScale[3]=ct[3],this.viewportOffsetScale[4]=Mt[0],this.viewportOffsetScale[5]=Mt[1],this.viewportOffsetScale[6]=Mt[2],this.viewportOffsetScale[7]=Mt[3]},fe.prototype.submitFrame=function(){var ct=this.gl,Mt=this,Nt=[];if(this.dirtySubmitFrameBindings||Nt.push(ct.CURRENT_PROGRAM,ct.ARRAY_BUFFER_BINDING,ct.ELEMENT_ARRAY_BUFFER_BINDING,ct.TEXTURE_BINDING_2D,ct.TEXTURE0),ri(ct,Nt,function(Zt){Mt.realBindFramebuffer.call(Zt,Zt.FRAMEBUFFER,null);var Me=0,Ce=0;Mt.instanceExt&&(Me=Zt.getVertexAttrib(Mt.attribs.position,Mt.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE),Ce=Zt.getVertexAttrib(Mt.attribs.texCoord,Mt.instanceExt.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE)),Mt.cullFace&&Mt.realDisable.call(Zt,Zt.CULL_FACE),Mt.depthTest&&Mt.realDisable.call(Zt,Zt.DEPTH_TEST),Mt.blend&&Mt.realDisable.call(Zt,Zt.BLEND),Mt.scissorTest&&Mt.realDisable.call(Zt,Zt.SCISSOR_TEST),Mt.stencilTest&&Mt.realDisable.call(Zt,Zt.STENCIL_TEST),Mt.realColorMask.call(Zt,!0,!0,!0,!0),Mt.realViewport.call(Zt,0,0,Zt.drawingBufferWidth,Zt.drawingBufferHeight),(Mt.ctxAttribs.alpha||G())&&(Mt.realClearColor.call(Zt,0,0,0,1),Zt.clear(Zt.COLOR_BUFFER_BIT)),Zt.useProgram(Mt.program),Zt.bindBuffer(Zt.ELEMENT_ARRAY_BUFFER,Mt.indexBuffer),Zt.bindBuffer(Zt.ARRAY_BUFFER,Mt.vertexBuffer),Zt.enableVertexAttribArray(Mt.attribs.position),Zt.enableVertexAttribArray(Mt.attribs.texCoord),Zt.vertexAttribPointer(Mt.attribs.position,2,Zt.FLOAT,!1,20,0),Zt.vertexAttribPointer(Mt.attribs.texCoord,3,Zt.FLOAT,!1,20,8),Mt.instanceExt&&(Me!=0&&Mt.instanceExt.vertexAttribDivisorANGLE(Mt.attribs.position,0),Ce!=0&&Mt.instanceExt.vertexAttribDivisorANGLE(Mt.attribs.texCoord,0)),Zt.activeTexture(Zt.TEXTURE0),Zt.uniform1i(Mt.uniforms.diffuse,0),Zt.bindTexture(Zt.TEXTURE_2D,Mt.renderTarget),Zt.uniform4fv(Mt.uniforms.viewportOffsetScale,Mt.viewportOffsetScale),Zt.drawElements(Zt.TRIANGLES,Mt.indexCount,Zt.UNSIGNED_SHORT,0),Mt.cardboardUI&&Mt.cardboardUI.renderNoState(),Mt.realBindFramebuffer.call(Mt.gl,Zt.FRAMEBUFFER,Mt.framebuffer),Mt.ctxAttribs.preserveDrawingBuffer||(Mt.realClearColor.call(Zt,0,0,0,0),Zt.clear(Zt.COLOR_BUFFER_BIT)),Mt.dirtySubmitFrameBindings||Mt.realBindFramebuffer.call(Zt,Zt.FRAMEBUFFER,Mt.lastBoundFramebuffer),Mt.cullFace&&Mt.realEnable.call(Zt,Zt.CULL_FACE),Mt.depthTest&&Mt.realEnable.call(Zt,Zt.DEPTH_TEST),Mt.blend&&Mt.realEnable.call(Zt,Zt.BLEND),Mt.scissorTest&&Mt.realEnable.call(Zt,Zt.SCISSOR_TEST),Mt.stencilTest&&Mt.realEnable.call(Zt,Zt.STENCIL_TEST),Mt.realColorMask.apply(Zt,Mt.colorMask),Mt.realViewport.apply(Zt,Mt.viewport),(Mt.ctxAttribs.alpha||!Mt.ctxAttribs.preserveDrawingBuffer)&&Mt.realClearColor.apply(Zt,Mt.clearColor),Mt.instanceExt&&(Me!=0&&Mt.instanceExt.vertexAttribDivisorANGLE(Mt.attribs.position,Me),Ce!=0&&Mt.instanceExt.vertexAttribDivisorANGLE(Mt.attribs.texCoord,Ce))}),G()){var $t=ct.canvas;($t.width!=Mt.bufferWidth||$t.height!=Mt.bufferHeight)&&(Mt.bufferWidth=$t.width,Mt.bufferHeight=$t.height,Mt.onResize())}},fe.prototype.updateDeviceInfo=function(ct){var Mt=this.gl,Nt=this,$t=[Mt.ARRAY_BUFFER_BINDING,Mt.ELEMENT_ARRAY_BUFFER_BINDING];ri(Mt,$t,function(Zt){var Me=Nt.computeMeshVertices_(Nt.meshWidth,Nt.meshHeight,ct);if(Zt.bindBuffer(Zt.ARRAY_BUFFER,Nt.vertexBuffer),Zt.bufferData(Zt.ARRAY_BUFFER,Me,Zt.STATIC_DRAW),!Nt.indexCount){var Ce=Nt.computeMeshIndices_(Nt.meshWidth,Nt.meshHeight);Zt.bindBuffer(Zt.ELEMENT_ARRAY_BUFFER,Nt.indexBuffer),Zt.bufferData(Zt.ELEMENT_ARRAY_BUFFER,Ce,Zt.STATIC_DRAW),Nt.indexCount=Ce.length}})},fe.prototype.computeMeshVertices_=function(ct,Mt,Nt){for(var $t=new Float32Array(2*ct*Mt*5),Zt=Nt.getLeftEyeVisibleTanAngles(),Me=Nt.getLeftEyeNoLensTanAngles(),Ce=Nt.getLeftEyeVisibleScreenRect(Me),pi=0,hi=0;hi<2;hi++){for(var Re=0;Re<Mt;Re++)for(var si=0;si<ct;si++,pi++){var Ei=si/(ct-1),Se=Re/(Mt-1),wi=Ei,pn=Se,Un=z(Zt[0],Zt[2],Ei),Rn=z(Zt[3],Zt[1],Se),wn=Math.sqrt(Un*Un+Rn*Rn),b0=Nt.distortion.distortInverse(wn),R0=Un*b0/wn,r9=Rn*b0/wn;Ei=(R0-Me[0])/(Me[2]-Me[0]),Se=(r9-Me[3])/(Me[1]-Me[3]),Ei=(Ce.x+Ei*Ce.width-.5)*2,Se=(Ce.y+Se*Ce.height-.5)*2,$t[pi*5+0]=Ei,$t[pi*5+1]=Se,$t[pi*5+2]=wi,$t[pi*5+3]=pn,$t[pi*5+4]=hi}var W0=Zt[2]-Zt[0];Zt[0]=-(W0+Zt[0]),Zt[2]=W0-Zt[2],W0=Me[2]-Me[0],Me[0]=-(W0+Me[0]),Me[2]=W0-Me[2],Ce.x=1-(Ce.x+Ce.width)}return $t},fe.prototype.computeMeshIndices_=function(ct,Mt){for(var Nt=new Uint16Array(2*(ct-1)*(Mt-1)*6),$t=ct/2,Zt=Mt/2,Me=0,Ce=0,pi=0;pi<2;pi++)for(var hi=0;hi<Mt;hi++)for(var Re=0;Re<ct;Re++,Me++)Re==0||hi==0||(Re<=$t==hi<=Zt?(Nt[Ce++]=Me,Nt[Ce++]=Me-ct-1,Nt[Ce++]=Me-ct,Nt[Ce++]=Me-ct-1,Nt[Ce++]=Me,Nt[Ce++]=Me-1):(Nt[Ce++]=Me-1,Nt[Ce++]=Me-ct,Nt[Ce++]=Me,Nt[Ce++]=Me-ct,Nt[Ce++]=Me-1,Nt[Ce++]=Me-ct-1));return Nt},fe.prototype.getOwnPropertyDescriptor_=function(ct,Mt){var Nt=Object.getOwnPropertyDescriptor(ct,Mt);return(Nt.get===void 0||Nt.set===void 0)&&(Nt.configurable=!0,Nt.enumerable=!0,Nt.get=function(){return this.getAttribute(Mt)},Nt.set=function($t){this.setAttribute(Mt,$t)}),Nt};var pe=["attribute vec2 position;","uniform mat4 projectionMat;","void main() {","  gl_Position = projectionMat * vec4( position, -1.0, 1.0 );","}"].join(`
`),Ot=["precision mediump float;","uniform vec4 color;","void main() {","  gl_FragColor = color;","}"].join(`
`),_t=Math.PI/180,Ht=60,Tt=12,Et=20,Lt=1,ut=.75,X=.3125,tt=4,Bt=28,Qt=1.5;function jt(ct){this.gl=ct,this.attribs={position:0},this.program=lt(ct,pe,Ot,this.attribs),this.uniforms=zt(ct,this.program),this.vertexBuffer=ct.createBuffer(),this.gearOffset=0,this.gearVertexCount=0,this.arrowOffset=0,this.arrowVertexCount=0,this.projMat=new Float32Array(16),this.listener=null,this.onResize()}jt.prototype.destroy=function(){var ct=this.gl;this.listener&&ct.canvas.removeEventListener("click",this.listener,!1),ct.deleteProgram(this.program),ct.deleteBuffer(this.vertexBuffer)},jt.prototype.listen=function(ct,Mt){var Nt=this.gl.canvas;this.listener=function($t){var Zt=Nt.clientWidth/2,Me=Bt*Qt;$t.clientX>Zt-Me&&$t.clientX<Zt+Me&&$t.clientY>Nt.clientHeight-Me?ct($t):$t.clientX<Me&&$t.clientY<Me&&Mt($t)},Nt.addEventListener("click",this.listener,!1)},jt.prototype.onResize=function(){var ct=this.gl,Mt=this,Nt=[ct.ARRAY_BUFFER_BINDING];ri(ct,Nt,function($t){var Zt=[],Me=$t.drawingBufferWidth/2,Ce=Math.max(screen.width,screen.height)*window.devicePixelRatio,pi=$t.drawingBufferWidth/Ce,hi=pi*window.devicePixelRatio,Re=tt*hi/2,si=Bt*Qt*hi,Ei=Bt*hi/2,Se=(Bt*Qt-Bt)*hi;Zt.push(Me-Re,si),Zt.push(Me-Re,$t.drawingBufferHeight),Zt.push(Me+Re,si),Zt.push(Me+Re,$t.drawingBufferHeight),Mt.gearOffset=Zt.length/2;function wi(b0,R0){var r9=(90-b0)*_t,W0=Math.cos(r9),B9=Math.sin(r9);Zt.push(X*W0*Ei+Me,X*B9*Ei+Ei),Zt.push(R0*W0*Ei+Me,R0*B9*Ei+Ei)}for(var pn=0;pn<=6;pn++){var Un=pn*Ht;wi(Un,Lt),wi(Un+Tt,Lt),wi(Un+Et,ut),wi(Un+(Ht-Et),ut),wi(Un+(Ht-Tt),Lt)}Mt.gearVertexCount=Zt.length/2-Mt.gearOffset,Mt.arrowOffset=Zt.length/2;function Rn(b0,R0){Zt.push(Se+b0,$t.drawingBufferHeight-Se-R0)}var wn=Re/Math.sin(45*_t);Rn(0,Ei),Rn(Ei,0),Rn(Ei+wn,wn),Rn(wn,Ei+wn),Rn(wn,Ei-wn),Rn(0,Ei),Rn(Ei,Ei*2),Rn(Ei+wn,Ei*2-wn),Rn(wn,Ei-wn),Rn(0,Ei),Rn(wn,Ei-Re),Rn(Bt*hi,Ei-Re),Rn(wn,Ei+Re),Rn(Bt*hi,Ei+Re),Mt.arrowVertexCount=Zt.length/2-Mt.arrowOffset,$t.bindBuffer($t.ARRAY_BUFFER,Mt.vertexBuffer),$t.bufferData($t.ARRAY_BUFFER,new Float32Array(Zt),$t.STATIC_DRAW)})},jt.prototype.render=function(){var ct=this.gl,Mt=this,Nt=[ct.CULL_FACE,ct.DEPTH_TEST,ct.BLEND,ct.SCISSOR_TEST,ct.STENCIL_TEST,ct.COLOR_WRITEMASK,ct.VIEWPORT,ct.CURRENT_PROGRAM,ct.ARRAY_BUFFER_BINDING];ri(ct,Nt,function($t){$t.disable($t.CULL_FACE),$t.disable($t.DEPTH_TEST),$t.disable($t.BLEND),$t.disable($t.SCISSOR_TEST),$t.disable($t.STENCIL_TEST),$t.colorMask(!0,!0,!0,!0),$t.viewport(0,0,$t.drawingBufferWidth,$t.drawingBufferHeight),Mt.renderNoState()})},jt.prototype.renderNoState=function(){var ct=this.gl;ct.useProgram(this.program),ct.bindBuffer(ct.ARRAY_BUFFER,this.vertexBuffer),ct.enableVertexAttribArray(this.attribs.position),ct.vertexAttribPointer(this.attribs.position,2,ct.FLOAT,!1,8,0),ct.uniform4f(this.uniforms.color,1,1,1,1),kt(this.projMat,0,ct.drawingBufferWidth,0,ct.drawingBufferHeight,.1,1024),ct.uniformMatrix4fv(this.uniforms.projectionMat,!1,this.projMat),ct.drawArrays(ct.TRIANGLE_STRIP,0,4),ct.drawArrays(ct.TRIANGLE_STRIP,this.gearOffset,this.gearVertexCount),ct.drawArrays(ct.TRIANGLE_STRIP,this.arrowOffset,this.arrowVertexCount)};function ne(ct){this.coefficients=ct}ne.prototype.distortInverse=function(ct){for(var Mt=0,Nt=1,$t=ct-this.distort(Mt);Math.abs(Nt-Mt)>1e-4;){var Zt=ct-this.distort(Nt),Me=Nt-Zt*((Nt-Mt)/(Zt-$t));Mt=Nt,Nt=Me,$t=Zt}return Nt},ne.prototype.distort=function(ct){for(var Mt=ct*ct,Nt=0,$t=0;$t<this.coefficients.length;$t++)Nt=Mt*(Nt+this.coefficients[$t]);return(Nt+1)*ct};var se=Math.PI/180,Be=180/Math.PI,we=function(Mt,Nt,$t){this.x=Mt||0,this.y=Nt||0,this.z=$t||0};we.prototype={constructor:we,set:function(Mt,Nt,$t){return this.x=Mt,this.y=Nt,this.z=$t,this},copy:function(Mt){return this.x=Mt.x,this.y=Mt.y,this.z=Mt.z,this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},normalize:function(){var Mt=this.length();if(Mt!==0){var Nt=1/Mt;this.multiplyScalar(Nt)}else this.x=0,this.y=0,this.z=0;return this},multiplyScalar:function(Mt){this.x*=Mt,this.y*=Mt,this.z*=Mt},applyQuaternion:function(Mt){var Nt=this.x,$t=this.y,Zt=this.z,Me=Mt.x,Ce=Mt.y,pi=Mt.z,hi=Mt.w,Re=hi*Nt+Ce*Zt-pi*$t,si=hi*$t+pi*Nt-Me*Zt,Ei=hi*Zt+Me*$t-Ce*Nt,Se=-Me*Nt-Ce*$t-pi*Zt;return this.x=Re*hi+Se*-Me+si*-pi-Ei*-Ce,this.y=si*hi+Se*-Ce+Ei*-Me-Re*-pi,this.z=Ei*hi+Se*-pi+Re*-Ce-si*-Me,this},dot:function(Mt){return this.x*Mt.x+this.y*Mt.y+this.z*Mt.z},crossVectors:function(Mt,Nt){var $t=Mt.x,Zt=Mt.y,Me=Mt.z,Ce=Nt.x,pi=Nt.y,hi=Nt.z;return this.x=Zt*hi-Me*pi,this.y=Me*Ce-$t*hi,this.z=$t*pi-Zt*Ce,this}};var Ne=function(Mt,Nt,$t,Zt){this.x=Mt||0,this.y=Nt||0,this.z=$t||0,this.w=Zt!==void 0?Zt:1};Ne.prototype={constructor:Ne,set:function(Mt,Nt,$t,Zt){return this.x=Mt,this.y=Nt,this.z=$t,this.w=Zt,this},copy:function(Mt){return this.x=Mt.x,this.y=Mt.y,this.z=Mt.z,this.w=Mt.w,this},setFromEulerXYZ:function(Mt,Nt,$t){var Zt=Math.cos(Mt/2),Me=Math.cos(Nt/2),Ce=Math.cos($t/2),pi=Math.sin(Mt/2),hi=Math.sin(Nt/2),Re=Math.sin($t/2);return this.x=pi*Me*Ce+Zt*hi*Re,this.y=Zt*hi*Ce-pi*Me*Re,this.z=Zt*Me*Re+pi*hi*Ce,this.w=Zt*Me*Ce-pi*hi*Re,this},setFromEulerYXZ:function(Mt,Nt,$t){var Zt=Math.cos(Mt/2),Me=Math.cos(Nt/2),Ce=Math.cos($t/2),pi=Math.sin(Mt/2),hi=Math.sin(Nt/2),Re=Math.sin($t/2);return this.x=pi*Me*Ce+Zt*hi*Re,this.y=Zt*hi*Ce-pi*Me*Re,this.z=Zt*Me*Re-pi*hi*Ce,this.w=Zt*Me*Ce+pi*hi*Re,this},setFromAxisAngle:function(Mt,Nt){var $t=Nt/2,Zt=Math.sin($t);return this.x=Mt.x*Zt,this.y=Mt.y*Zt,this.z=Mt.z*Zt,this.w=Math.cos($t),this},multiply:function(Mt){return this.multiplyQuaternions(this,Mt)},multiplyQuaternions:function(Mt,Nt){var $t=Mt.x,Zt=Mt.y,Me=Mt.z,Ce=Mt.w,pi=Nt.x,hi=Nt.y,Re=Nt.z,si=Nt.w;return this.x=$t*si+Ce*pi+Zt*Re-Me*hi,this.y=Zt*si+Ce*hi+Me*pi-$t*Re,this.z=Me*si+Ce*Re+$t*hi-Zt*pi,this.w=Ce*si-$t*pi-Zt*hi-Me*Re,this},inverse:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this.normalize(),this},normalize:function(){var Mt=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return Mt===0?(this.x=0,this.y=0,this.z=0,this.w=1):(Mt=1/Mt,this.x=this.x*Mt,this.y=this.y*Mt,this.z=this.z*Mt,this.w=this.w*Mt),this},slerp:function(Mt,Nt){if(Nt===0)return this;if(Nt===1)return this.copy(Mt);var $t=this.x,Zt=this.y,Me=this.z,Ce=this.w,pi=Ce*Mt.w+$t*Mt.x+Zt*Mt.y+Me*Mt.z;if(pi<0?(this.w=-Mt.w,this.x=-Mt.x,this.y=-Mt.y,this.z=-Mt.z,pi=-pi):this.copy(Mt),pi>=1)return this.w=Ce,this.x=$t,this.y=Zt,this.z=Me,this;var hi=Math.acos(pi),Re=Math.sqrt(1-pi*pi);if(Math.abs(Re)<.001)return this.w=.5*(Ce+this.w),this.x=.5*($t+this.x),this.y=.5*(Zt+this.y),this.z=.5*(Me+this.z),this;var si=Math.sin((1-Nt)*hi)/Re,Ei=Math.sin(Nt*hi)/Re;return this.w=Ce*si+this.w*Ei,this.x=$t*si+this.x*Ei,this.y=Zt*si+this.y*Ei,this.z=Me*si+this.z*Ei,this},setFromUnitVectors:function(){var ct,Mt,Nt=1e-6;return function($t,Zt){return ct===void 0&&(ct=new we),Mt=$t.dot(Zt)+1,Mt<Nt?(Mt=0,Math.abs($t.x)>Math.abs($t.z)?ct.set(-$t.y,$t.x,0):ct.set(0,-$t.z,$t.y)):ct.crossVectors($t,Zt),this.x=ct.x,this.y=ct.y,this.z=ct.z,this.w=Mt,this.normalize(),this}}()};function li(ct){this.width=ct.width||St(),this.height=ct.height||At(),this.widthMeters=ct.widthMeters,this.heightMeters=ct.heightMeters,this.bevelMeters=ct.bevelMeters}var zi=new li({widthMeters:.11,heightMeters:.062,bevelMeters:.004}),Ve=new li({widthMeters:.1038,heightMeters:.0584,bevelMeters:.004}),ji={CardboardV1:new ke({id:"CardboardV1",label:"Cardboard I/O 2014",fov:40,interLensDistance:.06,baselineLensDistance:.035,screenLensDistance:.042,distortionCoefficients:[.441,.156],inverseCoefficients:[-.4410035,.42756155,-.4804439,.5460139,-.58821183,.5733938,-.48303202,.33299083,-.17573841,.0651772,-.01488963,.001559834]}),CardboardV2:new ke({id:"CardboardV2",label:"Cardboard I/O 2015",fov:60,interLensDistance:.064,baselineLensDistance:.035,screenLensDistance:.039,distortionCoefficients:[.34,.55],inverseCoefficients:[-.33836704,-.18162185,.862655,-1.2462051,1.0560602,-.58208317,.21609078,-.05444823,.009177956,-.0009904169,6183535e-11,-16981803e-13]})};function Ge(ct,Mt){this.viewer=ji.CardboardV2,this.updateDeviceParams(ct),this.distortion=new ne(this.viewer.distortionCoefficients);for(var Nt=0;Nt<Mt.length;Nt++){var $t=Mt[Nt];ji[$t.id]=new ke($t)}}Ge.prototype.updateDeviceParams=function(ct){this.device=this.determineDevice_(ct)||this.device},Ge.prototype.getDevice=function(){return this.device},Ge.prototype.setViewer=function(ct){this.viewer=ct,this.distortion=new ne(this.viewer.distortionCoefficients)},Ge.prototype.determineDevice_=function(ct){if(!ct)return G()?(console.warn("Using fallback iOS device measurements."),Ve):(console.warn("Using fallback Android device measurements."),zi);var Mt=.0254,Nt=Mt/ct.xdpi,$t=Mt/ct.ydpi,Zt=St(),Me=At();return new li({widthMeters:Nt*Zt,heightMeters:$t*Me,bevelMeters:ct.bevelMm*.001})},Ge.prototype.getDistortedFieldOfViewLeftEye=function(){var ct=this.viewer,Mt=this.device,Nt=this.distortion,$t=ct.screenLensDistance,Zt=(Mt.widthMeters-ct.interLensDistance)/2,Me=ct.interLensDistance/2,Ce=ct.baselineLensDistance-Mt.bevelMeters,pi=Mt.heightMeters-Ce,hi=Be*Math.atan(Nt.distort(Zt/$t)),Re=Be*Math.atan(Nt.distort(Me/$t)),si=Be*Math.atan(Nt.distort(Ce/$t)),Ei=Be*Math.atan(Nt.distort(pi/$t));return{leftDegrees:Math.min(hi,ct.fov),rightDegrees:Math.min(Re,ct.fov),downDegrees:Math.min(si,ct.fov),upDegrees:Math.min(Ei,ct.fov)}},Ge.prototype.getLeftEyeVisibleTanAngles=function(){var ct=this.viewer,Mt=this.device,Nt=this.distortion,$t=Math.tan(-se*ct.fov),Zt=Math.tan(se*ct.fov),Me=Math.tan(se*ct.fov),Ce=Math.tan(-se*ct.fov),pi=Mt.widthMeters/4,hi=Mt.heightMeters/2,Re=ct.baselineLensDistance-Mt.bevelMeters-hi,si=ct.interLensDistance/2-pi,Ei=-Re,Se=ct.screenLensDistance,wi=Nt.distort((si-pi)/Se),pn=Nt.distort((Ei+hi)/Se),Un=Nt.distort((si+pi)/Se),Rn=Nt.distort((Ei-hi)/Se),wn=new Float32Array(4);return wn[0]=Math.max($t,wi),wn[1]=Math.min(Zt,pn),wn[2]=Math.min(Me,Un),wn[3]=Math.max(Ce,Rn),wn},Ge.prototype.getLeftEyeNoLensTanAngles=function(){var ct=this.viewer,Mt=this.device,Nt=this.distortion,$t=new Float32Array(4),Zt=Nt.distortInverse(Math.tan(-se*ct.fov)),Me=Nt.distortInverse(Math.tan(se*ct.fov)),Ce=Nt.distortInverse(Math.tan(se*ct.fov)),pi=Nt.distortInverse(Math.tan(-se*ct.fov)),hi=Mt.widthMeters/4,Re=Mt.heightMeters/2,si=ct.baselineLensDistance-Mt.bevelMeters-Re,Ei=ct.interLensDistance/2-hi,Se=-si,wi=ct.screenLensDistance,pn=(Ei-hi)/wi,Un=(Se+Re)/wi,Rn=(Ei+hi)/wi,wn=(Se-Re)/wi;return $t[0]=Math.max(Zt,pn),$t[1]=Math.min(Me,Un),$t[2]=Math.min(Ce,Rn),$t[3]=Math.max(pi,wn),$t},Ge.prototype.getLeftEyeVisibleScreenRect=function(ct){var Mt=this.viewer,Nt=this.device,$t=Mt.screenLensDistance,Zt=(Nt.widthMeters-Mt.interLensDistance)/2,Me=Mt.baselineLensDistance-Nt.bevelMeters,Ce=(ct[0]*$t+Zt)/Nt.widthMeters,pi=(ct[1]*$t+Me)/Nt.heightMeters,hi=(ct[2]*$t+Zt)/Nt.widthMeters,Re=(ct[3]*$t+Me)/Nt.heightMeters;return{x:Ce,y:Re,width:hi-Ce,height:pi-Re}},Ge.prototype.getFieldOfViewLeftEye=function(ct){return ct?this.getUndistortedFieldOfViewLeftEye():this.getDistortedFieldOfViewLeftEye()},Ge.prototype.getFieldOfViewRightEye=function(ct){var Mt=this.getFieldOfViewLeftEye(ct);return{leftDegrees:Mt.rightDegrees,rightDegrees:Mt.leftDegrees,upDegrees:Mt.upDegrees,downDegrees:Mt.downDegrees}},Ge.prototype.getUndistortedFieldOfViewLeftEye=function(){var ct=this.getUndistortedParams_();return{leftDegrees:Be*Math.atan(ct.outerDist),rightDegrees:Be*Math.atan(ct.innerDist),downDegrees:Be*Math.atan(ct.bottomDist),upDegrees:Be*Math.atan(ct.topDist)}},Ge.prototype.getUndistortedViewportLeftEye=function(){var ct=this.getUndistortedParams_(),Mt=this.viewer,Nt=this.device,$t=Mt.screenLensDistance,Zt=Nt.widthMeters/$t,Me=Nt.heightMeters/$t,Ce=Nt.width/Zt,pi=Nt.height/Me,hi=Math.round((ct.eyePosX-ct.outerDist)*Ce),Re=Math.round((ct.eyePosY-ct.bottomDist)*pi);return{x:hi,y:Re,width:Math.round((ct.eyePosX+ct.innerDist)*Ce)-hi,height:Math.round((ct.eyePosY+ct.topDist)*pi)-Re}},Ge.prototype.getUndistortedParams_=function(){var ct=this.viewer,Mt=this.device,Nt=this.distortion,$t=ct.screenLensDistance,Zt=ct.interLensDistance/2/$t,Me=Mt.widthMeters/$t,Ce=Mt.heightMeters/$t,pi=Me/2-Zt,hi=(ct.baselineLensDistance-Mt.bevelMeters)/$t,Re=ct.fov,si=Nt.distortInverse(Math.tan(se*Re)),Ei=Math.min(pi,si),Se=Math.min(Zt,si),wi=Math.min(hi,si),pn=Math.min(Ce-hi,si);return{outerDist:Ei,innerDist:Se,topDist:pn,bottomDist:wi,eyePosX:pi,eyePosY:hi}};function ke(ct){this.id=ct.id,this.label=ct.label,this.fov=ct.fov,this.interLensDistance=ct.interLensDistance,this.baselineLensDistance=ct.baselineLensDistance,this.screenLensDistance=ct.screenLensDistance,this.distortionCoefficients=ct.distortionCoefficients,this.inverseCoefficients=ct.inverseCoefficients}Ge.Viewers=ji;var Di=1,ni="2019-11-09T17:36:14Z",Tn=[{type:"android",rules:[{mdmh:"asus/*/Nexus 7/*"},{ua:"Nexus 7"}],dpi:[320.8,323],bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X00PD/*"},{ua:"ASUS_X00PD"}],dpi:245,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_X008D/*"},{ua:"ASUS_X008D"}],dpi:282,bw:3,ac:500},{type:"android",rules:[{mdmh:"asus/*/ASUS_Z00AD/*"},{ua:"ASUS_Z00AD"}],dpi:[403,404.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2 XL/*"},{ua:"Pixel 2 XL"}],dpi:537.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3 XL/*"},{ua:"Pixel 3 XL"}],dpi:[558.5,553.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel XL/*"},{ua:"Pixel XL"}],dpi:[537.9,533],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 3/*"},{ua:"Pixel 3"}],dpi:442.4,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Google/*/Pixel 2/*"},{ua:"Pixel 2"}],dpi:441,bw:3,ac:500},{type:"android",rules:[{mdmh:"Google/*/Pixel/*"},{ua:"Pixel"}],dpi:[432.6,436.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC6435LVW/*"},{ua:"HTC6435LVW"}],dpi:[449.7,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"HTC/*/HTC One XL/*"},{ua:"HTC One XL"}],dpi:[315.3,314.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"htc/*/Nexus 9/*"},{ua:"Nexus 9"}],dpi:289,bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One M9/*"},{ua:"HTC One M9"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One_M8/*"},{ua:"HTC One_M8"}],dpi:[449.7,447.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"HTC/*/HTC One/*"},{ua:"HTC One"}],dpi:472.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/Nexus 6P/*"},{ua:"Nexus 6P"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/BLN-L24/*"},{ua:"HONORBLN-L24"}],dpi:480,bw:4,ac:500},{type:"android",rules:[{mdmh:"Huawei/*/BKL-L09/*"},{ua:"BKL-L09"}],dpi:403,bw:3.47,ac:500},{type:"android",rules:[{mdmh:"LENOVO/*/Lenovo PB2-690Y/*"},{ua:"Lenovo PB2-690Y"}],dpi:[457.2,454.713],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5X/*"},{ua:"Nexus 5X"}],dpi:[422,419.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS345/*"},{ua:"LGMS345"}],dpi:[221.7,219.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D800/*"},{ua:"LG-D800"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/LG-D850/*"},{ua:"LG-D850"}],dpi:[537.9,541.9],bw:3,ac:500},{type:"android",rules:[{mdmh:"LGE/*/VS985 4G/*"},{ua:"VS985 4G"}],dpi:[537.9,535.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 5/*"},{ua:"Nexus 5 B"}],dpi:[442.4,444.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/Nexus 4/*"},{ua:"Nexus 4"}],dpi:[319.8,318.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LG-P769/*"},{ua:"LG-P769"}],dpi:[240.6,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGMS323/*"},{ua:"LGMS323"}],dpi:[206.6,204.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"LGE/*/LGLS996/*"},{ua:"LGLS996"}],dpi:[403.4,401.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/4560MMX/*"},{ua:"4560MMX"}],dpi:[240,219.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/A250/*"},{ua:"Micromax A250"}],dpi:[480,446.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Micromax/*/Micromax AQ4501/*"},{ua:"Micromax AQ4501"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/G5/*"},{ua:"Moto G (5) Plus"}],dpi:[403.4,403],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/DROID RAZR/*"},{ua:"DROID RAZR"}],dpi:[368.1,256.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT830C/*"},{ua:"XT830C"}],dpi:[254,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1021/*"},{ua:"XT1021"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1023/*"},{ua:"XT1023"}],dpi:[254,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1028/*"},{ua:"XT1028"}],dpi:[326.6,327.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1034/*"},{ua:"XT1034"}],dpi:[326.6,328.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1053/*"},{ua:"XT1053"}],dpi:[315.3,316.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1562/*"},{ua:"XT1562"}],dpi:[403.4,402.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/Nexus 6/*"},{ua:"Nexus 6 B"}],dpi:[494.3,489.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1063/*"},{ua:"XT1063"}],dpi:[295,296.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/XT1064/*"},{ua:"XT1064"}],dpi:[295,295.6],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1092/*"},{ua:"XT1092"}],dpi:[422,424.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"motorola/*/XT1095/*"},{ua:"XT1095"}],dpi:[422,423.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"motorola/*/G4/*"},{ua:"Moto G (4)"}],dpi:401,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/A0001/*"},{ua:"A0001"}],dpi:[403.4,401],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1001/*"},{ua:"ONE E1001"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1003/*"},{ua:"ONE E1003"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE E1005/*"},{ua:"ONE E1005"}],dpi:[442.4,441.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2001/*"},{ua:"ONE A2001"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2003/*"},{ua:"ONE A2003"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A2005/*"},{ua:"ONE A2005"}],dpi:[391.9,405.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3000/*"},{ua:"ONEPLUS A3000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3003/*"},{ua:"ONEPLUS A3003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A3010/*"},{ua:"ONEPLUS A3010"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A5000/*"},{ua:"ONEPLUS A5000 "}],dpi:[403.411,399.737],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONE A5010/*"},{ua:"ONEPLUS A5010"}],dpi:[403,400],bw:2,ac:1e3},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6000/*"},{ua:"ONEPLUS A6000"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6003/*"},{ua:"ONEPLUS A6003"}],dpi:401,bw:3,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6010/*"},{ua:"ONEPLUS A6010"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OnePlus/*/ONEPLUS A6013/*"},{ua:"ONEPLUS A6013"}],dpi:401,bw:2,ac:500},{type:"android",rules:[{mdmh:"OPPO/*/X909/*"},{ua:"X909"}],dpi:[442.4,444.1],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9082/*"},{ua:"GT-I9082"}],dpi:[184.7,185.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G360P/*"},{ua:"SM-G360P"}],dpi:[196.7,205.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Nexus S/*"},{ua:"Nexus S"}],dpi:[234.5,229.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[304.8,303.9],bw:5,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-T230NU/*"},{ua:"SM-T230NU"}],dpi:216,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SGH-T399/*"},{ua:"SGH-T399"}],dpi:[217.7,231.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SGH-M919/*"},{ua:"SGH-M919"}],dpi:[440.8,437.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N9005/*"},{ua:"SM-N9005"}],dpi:[386.4,387],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SM-N900A/*"},{ua:"SAMSUNG-SM-N900A"}],dpi:[386.4,387.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9500/*"},{ua:"GT-I9500"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/GT-I9505/*"},{ua:"GT-I9505"}],dpi:439.4,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900F/*"},{ua:"SM-G900F"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G900M/*"},{ua:"SM-G900M"}],dpi:[415.6,431.6],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G800F/*"},{ua:"SM-G800F"}],dpi:326.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G906S/*"},{ua:"SM-G906S"}],dpi:[562.7,572.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300/*"},{ua:"GT-I9300"}],dpi:[306.7,304.8],bw:5,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-T535/*"},{ua:"SM-T535"}],dpi:[142.6,136.4],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-N920C/*"},{ua:"SM-N920C"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920P/*"},{ua:"SM-N920P"}],dpi:[386.3655,390.144],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N920W8/*"},{ua:"SM-N920W8"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9300I/*"},{ua:"GT-I9300I"}],dpi:[304.8,305.8],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-I9195/*"},{ua:"GT-I9195"}],dpi:[249.4,256.7],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SPH-L520/*"},{ua:"SPH-L520"}],dpi:[249.4,255.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SAMSUNG-SGH-I717/*"},{ua:"SAMSUNG-SGH-I717"}],dpi:285.8,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SPH-D710/*"},{ua:"SPH-D710"}],dpi:[217.7,204.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/GT-N7100/*"},{ua:"GT-N7100"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SCH-I605/*"},{ua:"SCH-I605"}],dpi:265.1,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/Galaxy Nexus/*"},{ua:"Galaxy Nexus"}],dpi:[315.3,314.2],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910H/*"},{ua:"SM-N910H"}],dpi:[515.1,518],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-N910C/*"},{ua:"SM-N910C"}],dpi:[515.2,520.2],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G130M/*"},{ua:"SM-G130M"}],dpi:[165.9,164.8],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G928I/*"},{ua:"SM-G928I"}],dpi:[515.1,518.4],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G920F/*"},{ua:"SM-G920F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G920P/*"},{ua:"SM-G920P"}],dpi:[522.5,577],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G925F/*"},{ua:"SM-G925F"}],dpi:580.6,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G925V/*"},{ua:"SM-G925V"}],dpi:[522.5,576.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G930F/*"},{ua:"SM-G930F"}],dpi:576.6,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G935F/*"},{ua:"SM-G935F"}],dpi:533,bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G950F/*"},{ua:"SM-G950F"}],dpi:[562.707,565.293],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955U/*"},{ua:"SM-G955U"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G955F/*"},{ua:"SM-G955F"}],dpi:[522.514,525.762],bw:3,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G960F/*"},{ua:"SM-G960F"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9600/*"},{ua:"SM-G9600"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960T/*"},{ua:"SM-G960T"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960N/*"},{ua:"SM-G960N"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960U/*"},{ua:"SM-G960U"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G9608/*"},{ua:"SM-G9608"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960FD/*"},{ua:"SM-G960FD"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G960W/*"},{ua:"SM-G960W"}],dpi:[569.575,571.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G965F/*"},{ua:"SM-G965F"}],dpi:529,bw:2,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/C6903/*"},{ua:"C6903"}],dpi:[442.5,443.3],bw:3,ac:500},{type:"android",rules:[{mdmh:"Sony/*/D6653/*"},{ua:"D6653"}],dpi:[428.6,427.6],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6653/*"},{ua:"E6653"}],dpi:[428.6,425.7],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/E6853/*"},{ua:"E6853"}],dpi:[403.4,401.9],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Sony/*/SGP321/*"},{ua:"SGP321"}],dpi:[224.7,224.1],bw:3,ac:500},{type:"android",rules:[{mdmh:"TCT/*/ALCATEL ONE TOUCH Fierce/*"},{ua:"ALCATEL ONE TOUCH Fierce"}],dpi:[240,247.5],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"THL/*/thl 5000/*"},{ua:"thl 5000"}],dpi:[480,443.3],bw:3,ac:1e3},{type:"android",rules:[{mdmh:"Fly/*/IQ4412/*"},{ua:"IQ4412"}],dpi:307.9,bw:3,ac:1e3},{type:"android",rules:[{mdmh:"ZTE/*/ZTE Blade L2/*"},{ua:"ZTE Blade L2"}],dpi:240,bw:3,ac:500},{type:"android",rules:[{mdmh:"BENEVE/*/VR518/*"},{ua:"VR518"}],dpi:480,bw:3,ac:500},{type:"ios",rules:[{res:[640,960]}],dpi:[325.1,328.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[640,1136]}],dpi:[317.1,320.2],bw:3,ac:1e3},{type:"ios",rules:[{res:[750,1334]}],dpi:326.4,bw:4,ac:1e3},{type:"ios",rules:[{res:[1242,2208]}],dpi:[453.6,458.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2001]}],dpi:[410.9,415.4],bw:4,ac:1e3},{type:"ios",rules:[{res:[1125,2436]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"Huawei/*/EML-L29/*"},{ua:"EML-L29"}],dpi:428,bw:3.45,ac:500},{type:"android",rules:[{mdmh:"Nokia/*/Nokia 7.1/*"},{ua:"Nokia 7.1"}],dpi:[432,431.9],bw:3,ac:500},{type:"ios",rules:[{res:[1242,2688]}],dpi:458,bw:4,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G570M/*"},{ua:"SM-G570M"}],dpi:320,bw:3.684,ac:1e3},{type:"android",rules:[{mdmh:"samsung/*/SM-G970F/*"},{ua:"SM-G970F"}],dpi:438,bw:2.281,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G973F/*"},{ua:"SM-G973F"}],dpi:550,bw:2.002,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G975F/*"},{ua:"SM-G975F"}],dpi:522,bw:2.054,ac:500},{type:"android",rules:[{mdmh:"samsung/*/SM-G977F/*"},{ua:"SM-G977F"}],dpi:505,bw:2.334,ac:500},{type:"ios",rules:[{res:[828,1792]}],dpi:326,bw:5,ac:500}],Le={format:Di,last_updated:ni,devices:Tn};function yn(ct,Mt){if(this.dpdb=Le,this.recalculateDeviceParams_(),ct){this.onDeviceParamsUpdated=Mt;var Nt=new XMLHttpRequest,$t=this;Nt.open("GET",ct,!0),Nt.addEventListener("load",function(){$t.loading=!1,Nt.status>=200&&Nt.status<=299?($t.dpdb=JSON.parse(Nt.response),$t.recalculateDeviceParams_()):console.error("Error loading online DPDB!")}),Nt.send()}}yn.prototype.getDeviceParams=function(){return this.deviceParams},yn.prototype.recalculateDeviceParams_=function(){var ct=this.calcDeviceParams_();ct?(this.deviceParams=ct,this.onDeviceParamsUpdated&&this.onDeviceParamsUpdated(this.deviceParams)):console.error("Failed to recalculate device parameters.")},yn.prototype.calcDeviceParams_=function(){var ct=this.dpdb;if(!ct)return console.error("DPDB not available."),null;if(ct.format!=1)return console.error("DPDB has unexpected format version."),null;if(!ct.devices||!ct.devices.length)return console.error("DPDB does not have a devices section."),null;var Mt=navigator.userAgent||navigator.vendor||window.opera,Nt=St(),$t=At();if(!ct.devices)return console.error("DPDB has no devices section."),null;for(var Zt=0;Zt<ct.devices.length;Zt++){var Me=ct.devices[Zt];if(!Me.rules){console.warn("Device["+Zt+"] has no rules section.");continue}if(Me.type!="ios"&&Me.type!="android"){console.warn("Device["+Zt+"] has invalid type.");continue}if(G()==(Me.type=="ios")){for(var Ce=!1,pi=0;pi<Me.rules.length;pi++){var hi=Me.rules[pi];if(this.ruleMatches_(hi,Mt,Nt,$t)){Ce=!0;break}}if(Ce){var Re=Me.dpi[0]||Me.dpi,si=Me.dpi[1]||Me.dpi;return new I0({xdpi:Re,ydpi:si,bevelMm:Me.bw})}}}return console.warn("No DPDB device match."),null},yn.prototype.ruleMatches_=function(ct,Mt,Nt,$t){if(!ct.ua&&!ct.res||(ct.ua&&ct.ua.substring(0,2)==="SM"&&(ct.ua=ct.ua.substring(0,7)),ct.ua&&Mt.indexOf(ct.ua)<0))return!1;if(ct.res){if(!ct.res[0]||!ct.res[1])return!1;var Zt=ct.res[0],Me=ct.res[1];if(Math.min(Nt,$t)!=Math.min(Zt,Me)||Math.max(Nt,$t)!=Math.max(Zt,Me))return!1}return!0};function I0(ct){this.xdpi=ct.xdpi,this.ydpi=ct.ydpi,this.bevelMm=ct.bevelMm}function Gn(ct,Mt){this.set(ct,Mt)}Gn.prototype.set=function(ct,Mt){this.sample=ct,this.timestampS=Mt},Gn.prototype.copy=function(ct){this.set(ct.sample,ct.timestampS)};function ai(ct,Mt){this.kFilter=ct,this.isDebug=Mt,this.currentAccelMeasurement=new Gn,this.currentGyroMeasurement=new Gn,this.previousGyroMeasurement=new Gn,G()?this.filterQ=new Ne(-1,0,0,1):this.filterQ=new Ne(1,0,0,1),this.previousFilterQ=new Ne,this.previousFilterQ.copy(this.filterQ),this.accelQ=new Ne,this.isOrientationInitialized=!1,this.estimatedGravity=new we,this.measuredGravity=new we,this.gyroIntegralQ=new Ne}ai.prototype.addAccelMeasurement=function(ct,Mt){this.currentAccelMeasurement.set(ct,Mt)},ai.prototype.addGyroMeasurement=function(ct,Mt){this.currentGyroMeasurement.set(ct,Mt);var Nt=Mt-this.previousGyroMeasurement.timestampS;st(Nt)&&this.run_(),this.previousGyroMeasurement.copy(this.currentGyroMeasurement)},ai.prototype.run_=function(){if(!this.isOrientationInitialized){this.accelQ=this.accelToQuaternion_(this.currentAccelMeasurement.sample),this.previousFilterQ.copy(this.accelQ),this.isOrientationInitialized=!0;return}var ct=this.currentGyroMeasurement.timestampS-this.previousGyroMeasurement.timestampS,Mt=this.gyroToQuaternionDelta_(this.currentGyroMeasurement.sample,ct);this.gyroIntegralQ.multiply(Mt),this.filterQ.copy(this.previousFilterQ),this.filterQ.multiply(Mt);var Nt=new Ne;Nt.copy(this.filterQ),Nt.inverse(),this.estimatedGravity.set(0,0,-1),this.estimatedGravity.applyQuaternion(Nt),this.estimatedGravity.normalize(),this.measuredGravity.copy(this.currentAccelMeasurement.sample),this.measuredGravity.normalize();var $t=new Ne;$t.setFromUnitVectors(this.estimatedGravity,this.measuredGravity),$t.inverse(),this.isDebug&&console.log("Delta: %d deg, G_est: (%s, %s, %s), G_meas: (%s, %s, %s)",Be*$e($t),this.estimatedGravity.x.toFixed(1),this.estimatedGravity.y.toFixed(1),this.estimatedGravity.z.toFixed(1),this.measuredGravity.x.toFixed(1),this.measuredGravity.y.toFixed(1),this.measuredGravity.z.toFixed(1));var Zt=new Ne;Zt.copy(this.filterQ),Zt.multiply($t),this.filterQ.slerp(Zt,1-this.kFilter),this.previousFilterQ.copy(this.filterQ)},ai.prototype.getOrientation=function(){return this.filterQ},ai.prototype.accelToQuaternion_=function(ct){var Mt=new we;Mt.copy(ct),Mt.normalize();var Nt=new Ne;return Nt.setFromUnitVectors(new we(0,0,-1),Mt),Nt.inverse(),Nt},ai.prototype.gyroToQuaternionDelta_=function(ct,Mt){var Nt=new Ne,$t=new we;return $t.copy(ct),$t.normalize(),Nt.setFromAxisAngle($t,ct.length()*Mt),Nt};function Hi(ct,Mt){this.predictionTimeS=ct,this.isDebug=Mt,this.previousQ=new Ne,this.previousTimestampS=null,this.deltaQ=new Ne,this.outQ=new Ne}Hi.prototype.getPrediction=function(ct,Mt,Nt){if(!this.previousTimestampS)return this.previousQ.copy(ct),this.previousTimestampS=Nt,ct;var $t=new we;$t.copy(Mt),$t.normalize();var Zt=Mt.length();if(Zt<se*20)return this.isDebug&&console.log("Moving slowly, at %s deg/s: no prediction",(Be*Zt).toFixed(1)),this.outQ.copy(ct),this.previousQ.copy(ct),this.outQ;var Me=Zt*this.predictionTimeS;return this.deltaQ.setFromAxisAngle($t,Me),this.outQ.copy(this.previousQ),this.outQ.multiply(this.deltaQ),this.previousQ.copy(ct),this.previousTimestampS=Nt,this.outQ};function f0(ct,Mt,Nt,$t){this.yawOnly=Nt,this.accelerometer=new we,this.gyroscope=new we,this.filter=new ai(ct,$t),this.posePredictor=new Hi(Mt,$t),this.isFirefoxAndroid=Z(),this.isIOS=G();var Zt=j();this.isDeviceMotionInRadians=!this.isIOS&&Zt&&Zt<66,this.isWithoutDeviceMotion=et()||W(),this.filterToWorldQ=new Ne,G()?this.filterToWorldQ.setFromAxisAngle(new we(1,0,0),Math.PI/2):this.filterToWorldQ.setFromAxisAngle(new we(1,0,0),-Math.PI/2),this.inverseWorldToScreenQ=new Ne,this.worldToScreenQ=new Ne,this.originalPoseAdjustQ=new Ne,this.originalPoseAdjustQ.setFromAxisAngle(new we(0,0,1),-window.orientation*Math.PI/180),this.setScreenTransform_(),ht()&&this.filterToWorldQ.multiply(this.inverseWorldToScreenQ),this.resetQ=new Ne,this.orientationOut_=new Float32Array(4),this.start()}f0.prototype.getPosition=function(){return null},f0.prototype.getOrientation=function(){var ct=void 0;if(this.isWithoutDeviceMotion&&this._deviceOrientationQ){this.deviceOrientationFixQ=this.deviceOrientationFixQ||function(){var Zt=new Ne().setFromAxisAngle(new we(0,0,-1),0),Me=new Ne;return window.orientation===-90?Me.setFromAxisAngle(new we(0,1,0),Math.PI/-2):Me.setFromAxisAngle(new we(0,1,0),Math.PI/2),Zt.multiply(Me)}(),this.deviceOrientationFilterToWorldQ=this.deviceOrientationFilterToWorldQ||function(){var Zt=new Ne;return Zt.setFromAxisAngle(new we(1,0,0),-Math.PI/2),Zt}(),ct=this._deviceOrientationQ;var Nt=new Ne;return Nt.copy(ct),Nt.multiply(this.deviceOrientationFilterToWorldQ),Nt.multiply(this.resetQ),Nt.multiply(this.worldToScreenQ),Nt.multiplyQuaternions(this.deviceOrientationFixQ,Nt),this.yawOnly&&(Nt.x=0,Nt.z=0,Nt.normalize()),this.orientationOut_[0]=Nt.x,this.orientationOut_[1]=Nt.y,this.orientationOut_[2]=Nt.z,this.orientationOut_[3]=Nt.w,this.orientationOut_}else{var Mt=this.filter.getOrientation();ct=this.posePredictor.getPrediction(Mt,this.gyroscope,this.previousTimestampS)}var Nt=new Ne;return Nt.copy(this.filterToWorldQ),Nt.multiply(this.resetQ),Nt.multiply(ct),Nt.multiply(this.worldToScreenQ),this.yawOnly&&(Nt.x=0,Nt.z=0,Nt.normalize()),this.orientationOut_[0]=Nt.x,this.orientationOut_[1]=Nt.y,this.orientationOut_[2]=Nt.z,this.orientationOut_[3]=Nt.w,this.orientationOut_},f0.prototype.resetPose=function(){this.resetQ.copy(this.filter.getOrientation()),this.resetQ.x=0,this.resetQ.y=0,this.resetQ.z*=-1,this.resetQ.normalize(),ht()&&this.resetQ.multiply(this.inverseWorldToScreenQ),this.resetQ.multiply(this.originalPoseAdjustQ)},f0.prototype.onDeviceOrientation_=function(ct){this._deviceOrientationQ=this._deviceOrientationQ||new Ne;var Mt=ct.alpha,Nt=ct.beta,$t=ct.gamma;Mt=(Mt||0)*Math.PI/180,Nt=(Nt||0)*Math.PI/180,$t=($t||0)*Math.PI/180,this._deviceOrientationQ.setFromEulerYXZ(Nt,Mt,-$t)},f0.prototype.onDeviceMotion_=function(ct){this.updateDeviceMotion_(ct)},f0.prototype.updateDeviceMotion_=function(ct){var Mt=ct.accelerationIncludingGravity,Nt=ct.rotationRate,$t=ct.timeStamp/1e3,Zt=$t-this.previousTimestampS;if(Zt<0){ve("fusion-pose-sensor:invalid:non-monotonic","Invalid timestamps detected: non-monotonic timestamp from devicemotion"),this.previousTimestampS=$t;return}else if(Zt<=F||Zt>U){ve("fusion-pose-sensor:invalid:outside-threshold","Invalid timestamps detected: Timestamp from devicemotion outside expected range."),this.previousTimestampS=$t;return}this.accelerometer.set(-Mt.x,-Mt.y,-Mt.z),Nt&&(dt()?this.gyroscope.set(-Nt.beta,Nt.alpha,Nt.gamma):this.gyroscope.set(Nt.alpha,Nt.beta,Nt.gamma),this.isDeviceMotionInRadians||this.gyroscope.multiplyScalar(Math.PI/180),this.filter.addGyroMeasurement(this.gyroscope,$t)),this.filter.addAccelMeasurement(this.accelerometer,$t),this.previousTimestampS=$t},f0.prototype.onOrientationChange_=function(ct){this.setScreenTransform_()},f0.prototype.onMessage_=function(ct){var Mt=ct.data;if(!(!Mt||!Mt.type)){var Nt=Mt.type.toLowerCase();Nt==="devicemotion"&&this.updateDeviceMotion_(Mt.deviceMotionEvent)}},f0.prototype.setScreenTransform_=function(){switch(this.worldToScreenQ.set(0,0,0,1),window.orientation){case 0:break;case 90:this.worldToScreenQ.setFromAxisAngle(new we(0,0,1),-Math.PI/2);break;case-90:this.worldToScreenQ.setFromAxisAngle(new we(0,0,1),Math.PI/2);break}this.inverseWorldToScreenQ.copy(this.worldToScreenQ),this.inverseWorldToScreenQ.inverse()},f0.prototype.start=function(){this.onDeviceMotionCallback_=this.onDeviceMotion_.bind(this),this.onOrientationChangeCallback_=this.onOrientationChange_.bind(this),this.onMessageCallback_=this.onMessage_.bind(this),this.onDeviceOrientationCallback_=this.onDeviceOrientation_.bind(this),G()&&qt()&&window.addEventListener("message",this.onMessageCallback_),window.addEventListener("orientationchange",this.onOrientationChangeCallback_),this.isWithoutDeviceMotion?window.addEventListener("deviceorientation",this.onDeviceOrientationCallback_):window.addEventListener("devicemotion",this.onDeviceMotionCallback_)},f0.prototype.stop=function(){window.removeEventListener("devicemotion",this.onDeviceMotionCallback_),window.removeEventListener("deviceorientation",this.onDeviceOrientationCallback_),window.removeEventListener("orientationchange",this.onOrientationChangeCallback_),window.removeEventListener("message",this.onMessageCallback_)};var _i=60,dn=new we(1,0,0),n9=new we(0,0,1),k0=new Ne;k0.setFromAxisAngle(dn,-Math.PI/2),k0.multiply(new Ne().setFromAxisAngle(n9,Math.PI/2));var Xt=function(){function ct(Mt){D(this,ct),this.config=Mt,this.sensor=null,this.fusionSensor=null,this._out=new Float32Array(4),this.api=null,this.errors=[],this._sensorQ=new Ne,this._outQ=new Ne,this._onSensorRead=this._onSensorRead.bind(this),this._onSensorError=this._onSensorError.bind(this),this.init()}return N(ct,[{key:"init",value:function(){var Nt=null;try{Nt=new RelativeOrientationSensor({frequency:_i,referenceFrame:"screen"}),Nt.addEventListener("error",this._onSensorError)}catch($t){this.errors.push($t),$t.name==="SecurityError"?(console.error("Cannot construct sensors due to the Feature Policy"),console.warn('Attempting to fall back using "devicemotion"; however this will fail in the future without correct permissions.'),this.useDeviceMotion()):$t.name==="ReferenceError"?this.useDeviceMotion():console.error($t)}Nt&&(this.api="sensor",this.sensor=Nt,this.sensor.addEventListener("reading",this._onSensorRead),this.sensor.start())}},{key:"useDeviceMotion",value:function(){this.api="devicemotion",this.fusionSensor=new f0(this.config.K_FILTER,this.config.PREDICTION_TIME_S,this.config.YAW_ONLY,this.config.DEBUG),this.sensor&&(this.sensor.removeEventListener("reading",this._onSensorRead),this.sensor.removeEventListener("error",this._onSensorError),this.sensor=null)}},{key:"getOrientation",value:function(){if(this.fusionSensor)return this.fusionSensor.getOrientation();if(!this.sensor||!this.sensor.quaternion)return this._out[0]=this._out[1]=this._out[2]=0,this._out[3]=1,this._out;var Nt=this.sensor.quaternion;this._sensorQ.set(Nt[0],Nt[1],Nt[2],Nt[3]);var $t=this._outQ;return $t.copy(k0),$t.multiply(this._sensorQ),this.config.YAW_ONLY&&($t.x=$t.z=0,$t.normalize()),this._out[0]=$t.x,this._out[1]=$t.y,this._out[2]=$t.z,this._out[3]=$t.w,this._out}},{key:"_onSensorError",value:function(Nt){this.errors.push(Nt.error),Nt.error.name==="NotAllowedError"?console.error("Permission to access sensor was denied"):Nt.error.name==="NotReadableError"?console.error("Sensor could not be read"):console.error(Nt.error),this.useDeviceMotion()}},{key:"_onSensorRead",value:function(){}}]),ct}(),le="<svg width='198' height='240' viewBox='0 0 198 240' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M149.625 109.527l6.737 3.891v.886c0 .177.013.36.038.549.01.081.02.162.027.242.14 1.415.974 2.998 2.105 3.999l5.72 5.062.081-.09s4.382-2.53 5.235-3.024l25.97 14.993v54.001c0 .771-.386 1.217-.948 1.217-.233 0-.495-.076-.772-.236l-23.967-13.838-.014.024-27.322 15.775-.85-1.323c-4.731-1.529-9.748-2.74-14.951-3.61a.27.27 0 0 0-.007.024l-5.067 16.961-7.891 4.556-.037-.063v27.59c0 .772-.386 1.217-.948 1.217-.232 0-.495-.076-.772-.236l-42.473-24.522c-.95-.549-1.72-1.877-1.72-2.967v-1.035l-.021.047a5.111 5.111 0 0 0-1.816-.399 5.682 5.682 0 0 0-.546.001 13.724 13.724 0 0 1-1.918-.041c-1.655-.153-3.2-.6-4.404-1.296l-46.576-26.89.005.012-10.278-18.75c-1.001-1.827-.241-4.216 1.698-5.336l56.011-32.345a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.659 3.227 1.853l.005-.003.227.413-.006.004a9.63 9.63 0 0 0 1.477 2.018l.277.27c1.914 1.85 4.468 2.801 7.113 2.801 1.949 0 3.948-.517 5.775-1.572.013 0 7.319-4.219 7.319-4.219a4.194 4.194 0 0 1 2.099-.572c1.326 0 2.572.658 3.226 1.853l3.25 5.928.022-.018 6.785 3.917-.105-.182 46.881-26.965m0-1.635c-.282 0-.563.073-.815.218l-46.169 26.556-5.41-3.124-3.005-5.481c-.913-1.667-2.699-2.702-4.66-2.703-1.011 0-2.02.274-2.917.792a3825 3825 0 0 1-7.275 4.195l-.044.024a9.937 9.937 0 0 1-4.957 1.353c-2.292 0-4.414-.832-5.976-2.342l-.252-.245a7.992 7.992 0 0 1-1.139-1.534 1.379 1.379 0 0 0-.06-.122l-.227-.414a1.718 1.718 0 0 0-.095-.154c-.938-1.574-2.673-2.545-4.571-2.545-1.011 0-2.02.274-2.917.792L3.125 155.502c-2.699 1.559-3.738 4.94-2.314 7.538l10.278 18.75c.177.323.448.563.761.704l46.426 26.804c1.403.81 3.157 1.332 5.072 1.508a15.661 15.661 0 0 0 2.146.046 4.766 4.766 0 0 1 .396 0c.096.004.19.011.283.022.109 1.593 1.159 3.323 2.529 4.114l42.472 24.522c.524.302 1.058.455 1.59.455 1.497 0 2.583-1.2 2.583-2.852v-26.562l7.111-4.105a1.64 1.64 0 0 0 .749-.948l4.658-15.593c4.414.797 8.692 1.848 12.742 3.128l.533.829a1.634 1.634 0 0 0 2.193.531l26.532-15.317L193 192.433c.523.302 1.058.455 1.59.455 1.497 0 2.583-1.199 2.583-2.852v-54.001c0-.584-.312-1.124-.818-1.416l-25.97-14.993a1.633 1.633 0 0 0-1.636.001c-.606.351-2.993 1.73-4.325 2.498l-4.809-4.255c-.819-.725-1.461-1.933-1.561-2.936a7.776 7.776 0 0 0-.033-.294 2.487 2.487 0 0 1-.023-.336v-.886c0-.584-.312-1.123-.817-1.416l-6.739-3.891a1.633 1.633 0 0 0-.817-.219' fill='#455A64'/><path d='M96.027 132.636l46.576 26.891c1.204.695 1.979 1.587 2.242 2.541l-.01.007-81.374 46.982h-.001c-1.654-.152-3.199-.6-4.403-1.295l-46.576-26.891 83.546-48.235' fill='#FAFAFA'/><path d='M63.461 209.174c-.008 0-.015 0-.022-.002-1.693-.156-3.228-.609-4.441-1.309l-46.576-26.89a.118.118 0 0 1 0-.203l83.546-48.235a.117.117 0 0 1 .117 0l46.576 26.891c1.227.708 2.021 1.612 2.296 2.611a.116.116 0 0 1-.042.124l-.021.016-81.375 46.981a.11.11 0 0 1-.058.016zm-50.747-28.303l46.401 26.79c1.178.68 2.671 1.121 4.32 1.276l81.272-46.922c-.279-.907-1.025-1.73-2.163-2.387l-46.517-26.857-83.313 48.1z' fill='#607D8B'/><path d='M148.327 165.471a5.85 5.85 0 0 1-.546.001c-1.894-.083-3.302-1.038-3.145-2.132a2.693 2.693 0 0 0-.072-1.105l-81.103 46.822c.628.058 1.272.073 1.918.042.182-.009.364-.009.546-.001 1.894.083 3.302 1.038 3.145 2.132l79.257-45.759' fill='#FFF'/><path d='M69.07 211.347a.118.118 0 0 1-.115-.134c.045-.317-.057-.637-.297-.925-.505-.61-1.555-1.022-2.738-1.074a5.966 5.966 0 0 0-.535.001 14.03 14.03 0 0 1-1.935-.041.117.117 0 0 1-.103-.092.116.116 0 0 1 .055-.126l81.104-46.822a.117.117 0 0 1 .171.07c.104.381.129.768.074 1.153-.045.316.057.637.296.925.506.61 1.555 1.021 2.739 1.073.178.008.357.008.535-.001a.117.117 0 0 1 .064.218l-79.256 45.759a.114.114 0 0 1-.059.016zm-3.405-2.372c.089 0 .177.002.265.006 1.266.056 2.353.488 2.908 1.158.227.274.35.575.36.882l78.685-45.429c-.036 0-.072-.001-.107-.003-1.267-.056-2.354-.489-2.909-1.158-.282-.34-.402-.724-.347-1.107a2.604 2.604 0 0 0-.032-.91L63.846 208.97a13.91 13.91 0 0 0 1.528.012c.097-.005.194-.007.291-.007z' fill='#607D8B'/><path d='M2.208 162.134c-1.001-1.827-.241-4.217 1.698-5.337l56.011-32.344c1.939-1.12 4.324-.546 5.326 1.281l.232.41a9.344 9.344 0 0 0 1.47 2.021l.278.27c3.325 3.214 8.583 3.716 12.888 1.23l7.319-4.22c1.94-1.119 4.324-.546 5.325 1.282l3.25 5.928-83.519 48.229-10.278-18.75z' fill='#FAFAFA'/><path d='M12.486 181.001a.112.112 0 0 1-.031-.005.114.114 0 0 1-.071-.056L2.106 162.19c-1.031-1.88-.249-4.345 1.742-5.494l56.01-32.344a4.328 4.328 0 0 1 2.158-.588c1.415 0 2.65.702 3.311 1.882.01.008.018.017.024.028l.227.414a.122.122 0 0 1 .013.038 9.508 9.508 0 0 0 1.439 1.959l.275.266c1.846 1.786 4.344 2.769 7.031 2.769 1.977 0 3.954-.538 5.717-1.557a.148.148 0 0 1 .035-.013l7.284-4.206a4.321 4.321 0 0 1 2.157-.588c1.427 0 2.672.716 3.329 1.914l3.249 5.929a.116.116 0 0 1-.044.157l-83.518 48.229a.116.116 0 0 1-.059.016zm49.53-57.004c-.704 0-1.41.193-2.041.557l-56.01 32.345c-1.882 1.086-2.624 3.409-1.655 5.179l10.221 18.645 83.317-48.112-3.195-5.829c-.615-1.122-1.783-1.792-3.124-1.792a4.08 4.08 0 0 0-2.04.557l-7.317 4.225a.148.148 0 0 1-.035.013 11.7 11.7 0 0 1-5.801 1.569c-2.748 0-5.303-1.007-7.194-2.835l-.278-.27a9.716 9.716 0 0 1-1.497-2.046.096.096 0 0 1-.013-.037l-.191-.347a.11.11 0 0 1-.023-.029c-.615-1.123-1.783-1.793-3.124-1.793z' fill='#607D8B'/><path d='M42.434 155.808c-2.51-.001-4.697-1.258-5.852-3.365-1.811-3.304-.438-7.634 3.059-9.654l12.291-7.098a7.599 7.599 0 0 1 3.789-1.033c2.51 0 4.697 1.258 5.852 3.365 1.811 3.304.439 7.634-3.059 9.654l-12.291 7.098a7.606 7.606 0 0 1-3.789 1.033zm13.287-20.683a7.128 7.128 0 0 0-3.555.971l-12.291 7.098c-3.279 1.893-4.573 5.942-2.883 9.024 1.071 1.955 3.106 3.122 5.442 3.122a7.13 7.13 0 0 0 3.556-.97l12.291-7.098c3.279-1.893 4.572-5.942 2.883-9.024-1.072-1.955-3.106-3.123-5.443-3.123z' fill='#607D8B'/><path d='M149.588 109.407l6.737 3.89v.887c0 .176.013.36.037.549.011.081.02.161.028.242.14 1.415.973 2.998 2.105 3.999l7.396 6.545c.177.156.358.295.541.415 1.579 1.04 2.95.466 3.062-1.282.049-.784.057-1.595.023-2.429l-.003-.16v-1.151l25.987 15.003v54c0 1.09-.77 1.53-1.72.982l-42.473-24.523c-.95-.548-1.72-1.877-1.72-2.966v-34.033' fill='#FAFAFA'/><path d='M194.553 191.25c-.257 0-.54-.085-.831-.253l-42.472-24.521c-.981-.567-1.779-1.943-1.779-3.068v-34.033h.234v34.033c0 1.051.745 2.336 1.661 2.866l42.473 24.521c.424.245.816.288 1.103.122.285-.164.442-.52.442-1.002v-53.933l-25.753-14.868.003 1.106c.034.832.026 1.654-.024 2.439-.054.844-.396 1.464-.963 1.746-.619.309-1.45.173-2.28-.373a5.023 5.023 0 0 1-.553-.426l-7.397-6.544c-1.158-1.026-1.999-2.625-2.143-4.076a9.624 9.624 0 0 0-.027-.238 4.241 4.241 0 0 1-.038-.564v-.82l-6.68-3.856.117-.202 6.738 3.89.058.034v.954c0 .171.012.351.036.533.011.083.021.165.029.246.138 1.395.948 2.935 2.065 3.923l7.397 6.545c.173.153.35.289.527.406.758.499 1.504.63 2.047.359.49-.243.786-.795.834-1.551.05-.778.057-1.591.024-2.417l-.004-.163v-1.355l.175.1 25.987 15.004.059.033v54.068c0 .569-.198.996-.559 1.204a1.002 1.002 0 0 1-.506.131' fill='#607D8B'/><path d='M145.685 163.161l24.115 13.922-25.978 14.998-1.462-.307c-6.534-2.17-13.628-3.728-21.019-4.616-4.365-.524-8.663 1.096-9.598 3.62a2.746 2.746 0 0 0-.011 1.928c1.538 4.267 4.236 8.363 7.995 12.135l.532.845-25.977 14.997-24.115-13.922 75.518-43.6' fill='#FFF'/><path d='M94.282 220.818l-.059-.033-24.29-14.024.175-.101 75.577-43.634.058.033 24.29 14.024-26.191 15.122-.045-.01-1.461-.307c-6.549-2.174-13.613-3.725-21.009-4.614a13.744 13.744 0 0 0-1.638-.097c-3.758 0-7.054 1.531-7.837 3.642a2.62 2.62 0 0 0-.01 1.848c1.535 4.258 4.216 8.326 7.968 12.091l.016.021.526.835.006.01.064.102-.105.061-25.977 14.998-.058.033zm-23.881-14.057l23.881 13.788 24.802-14.32c.546-.315.846-.489 1.017-.575l-.466-.74c-3.771-3.787-6.467-7.881-8.013-12.168a2.851 2.851 0 0 1 .011-2.008c.815-2.199 4.203-3.795 8.056-3.795.557 0 1.117.033 1.666.099 7.412.891 14.491 2.445 21.041 4.621.836.175 1.215.254 1.39.304l25.78-14.884-23.881-13.788-75.284 43.466z' fill='#607D8B'/><path d='M167.23 125.979v50.871l-27.321 15.773-6.461-14.167c-.91-1.996-3.428-1.738-5.624.574a10.238 10.238 0 0 0-2.33 4.018l-6.46 21.628-27.322 15.774v-50.871l75.518-43.6' fill='#FFF'/><path d='M91.712 220.567a.127.127 0 0 1-.059-.016.118.118 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.519-43.6a.117.117 0 0 1 .175.101v50.871c0 .041-.023.08-.059.1l-27.321 15.775a.118.118 0 0 1-.094.01.12.12 0 0 1-.071-.063l-6.46-14.168c-.375-.822-1.062-1.275-1.934-1.275-1.089 0-2.364.686-3.5 1.881a10.206 10.206 0 0 0-2.302 3.972l-6.46 21.627a.118.118 0 0 1-.054.068L91.77 220.551a.12.12 0 0 1-.058.016zm.117-50.92v50.601l27.106-15.65 6.447-21.583a10.286 10.286 0 0 1 2.357-4.065c1.18-1.242 2.517-1.954 3.669-1.954.969 0 1.731.501 2.146 1.411l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M168.543 126.213v50.87l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.624.574a10.248 10.248 0 0 0-2.33 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6' fill='#FFF'/><path d='M93.025 220.8a.123.123 0 0 1-.059-.015.12.12 0 0 1-.058-.101v-50.871c0-.042.023-.08.058-.101l75.518-43.6a.112.112 0 0 1 .117 0c.036.02.059.059.059.1v50.871a.116.116 0 0 1-.059.101l-27.321 15.774a.111.111 0 0 1-.094.01.115.115 0 0 1-.071-.062l-6.46-14.168c-.375-.823-1.062-1.275-1.935-1.275-1.088 0-2.363.685-3.499 1.881a10.19 10.19 0 0 0-2.302 3.971l-6.461 21.628a.108.108 0 0 1-.053.067l-27.322 15.775a.12.12 0 0 1-.058.015zm.117-50.919v50.6l27.106-15.649 6.447-21.584a10.293 10.293 0 0 1 2.357-4.065c1.179-1.241 2.516-1.954 3.668-1.954.969 0 1.732.502 2.147 1.412l6.407 14.051 27.152-15.676v-50.601l-75.284 43.466z' fill='#607D8B'/><path d='M169.8 177.083l-27.322 15.774-6.46-14.168c-.91-1.995-3.428-1.738-5.625.574a10.246 10.246 0 0 0-2.329 4.019l-6.461 21.627-27.321 15.774v-50.87l75.518-43.6v50.87z' fill='#FAFAFA'/><path d='M94.282 220.917a.234.234 0 0 1-.234-.233v-50.871c0-.083.045-.161.117-.202l75.518-43.601a.234.234 0 1 1 .35.202v50.871a.233.233 0 0 1-.116.202l-27.322 15.775a.232.232 0 0 1-.329-.106l-6.461-14.168c-.36-.789-.992-1.206-1.828-1.206-1.056 0-2.301.672-3.415 1.844a10.099 10.099 0 0 0-2.275 3.924l-6.46 21.628a.235.235 0 0 1-.107.136l-27.322 15.774a.23.23 0 0 1-.116.031zm.233-50.969v50.331l26.891-15.525 6.434-21.539a10.41 10.41 0 0 1 2.384-4.112c1.201-1.265 2.569-1.991 3.753-1.991 1.018 0 1.818.526 2.253 1.48l6.354 13.934 26.982-15.578v-50.331l-75.051 43.331z' fill='#607D8B'/><path d='M109.894 199.943c-1.774 0-3.241-.725-4.244-2.12a.224.224 0 0 1 .023-.294.233.233 0 0 1 .301-.023c.78.547 1.705.827 2.75.827 1.323 0 2.754-.439 4.256-1.306 5.311-3.067 9.631-10.518 9.631-16.611 0-1.927-.442-3.56-1.278-4.724a.232.232 0 0 1 .323-.327c1.671 1.172 2.591 3.381 2.591 6.219 0 6.242-4.426 13.863-9.865 17.003-1.574.908-3.084 1.356-4.488 1.356zm-2.969-1.542c.813.651 1.82.877 2.968.877h.001c1.321 0 2.753-.327 4.254-1.194 5.311-3.067 9.632-10.463 9.632-16.556 0-1.979-.463-3.599-1.326-4.761.411 1.035.625 2.275.625 3.635 0 6.243-4.426 13.883-9.865 17.023-1.574.909-3.084 1.317-4.49 1.317-.641 0-1.243-.149-1.799-.341z' fill='#607D8B'/><path d='M113.097 197.23c5.384-3.108 9.748-10.636 9.748-16.814 0-2.051-.483-3.692-1.323-4.86-1.784-1.252-4.374-1.194-7.257.47-5.384 3.108-9.748 10.636-9.748 16.814 0 2.051.483 3.692 1.323 4.86 1.784 1.252 4.374 1.194 7.257-.47' fill='#FAFAFA'/><path d='M108.724 198.614c-1.142 0-2.158-.213-3.019-.817-.021-.014-.04.014-.055-.007-.894-1.244-1.367-2.948-1.367-4.973 0-6.242 4.426-13.864 9.865-17.005 1.574-.908 3.084-1.363 4.49-1.363 1.142 0 2.158.309 3.018.913a.23.23 0 0 1 .056.056c.894 1.244 1.367 2.972 1.367 4.997 0 6.243-4.426 13.783-9.865 16.923-1.574.909-3.084 1.276-4.49 1.276zm-2.718-1.109c.774.532 1.688.776 2.718.776 1.323 0 2.754-.413 4.256-1.28 5.311-3.066 9.631-10.505 9.631-16.598 0-1.909-.434-3.523-1.255-4.685-.774-.533-1.688-.799-2.718-.799-1.323 0-2.755.441-4.256 1.308-5.311 3.066-9.631 10.506-9.631 16.599 0 1.909.434 3.517 1.255 4.679z' fill='#607D8B'/><path d='M149.318 114.262l-9.984 8.878 15.893 11.031 5.589-6.112-11.498-13.797' fill='#FAFAFA'/><path d='M169.676 120.84l-9.748 5.627c-3.642 2.103-9.528 2.113-13.147.024-3.62-2.089-3.601-5.488.041-7.591l9.495-5.608-6.729-3.885-81.836 47.071 45.923 26.514 3.081-1.779c.631-.365.869-.898.618-1.39-2.357-4.632-2.593-9.546-.683-14.262 5.638-13.92 24.509-24.815 48.618-28.07 8.169-1.103 16.68-.967 24.704.394.852.145 1.776.008 2.407-.357l3.081-1.778-25.825-14.91' fill='#FAFAFA'/><path d='M113.675 183.459a.47.47 0 0 1-.233-.062l-45.924-26.515a.468.468 0 0 1 .001-.809l81.836-47.071a.467.467 0 0 1 .466 0l6.729 3.885a.467.467 0 0 1-.467.809l-6.496-3.75-80.9 46.533 44.988 25.973 2.848-1.644c.192-.111.62-.409.435-.773-2.416-4.748-2.658-9.814-.7-14.65 2.806-6.927 8.885-13.242 17.582-18.263 8.657-4.998 19.518-8.489 31.407-10.094 8.198-1.107 16.79-.97 24.844.397.739.125 1.561.007 2.095-.301l2.381-1.374-25.125-14.506a.467.467 0 0 1 .467-.809l25.825 14.91a.467.467 0 0 1 0 .809l-3.081 1.779c-.721.417-1.763.575-2.718.413-7.963-1.351-16.457-1.486-24.563-.392-11.77 1.589-22.512 5.039-31.065 9.977-8.514 4.916-14.456 11.073-17.183 17.805-1.854 4.578-1.623 9.376.666 13.875.37.725.055 1.513-.8 2.006l-3.081 1.78a.476.476 0 0 1-.234.062' fill='#455A64'/><path d='M153.316 128.279c-2.413 0-4.821-.528-6.652-1.586-1.818-1.049-2.82-2.461-2.82-3.975 0-1.527 1.016-2.955 2.861-4.02l9.493-5.607a.233.233 0 1 1 .238.402l-9.496 5.609c-1.696.979-2.628 2.263-2.628 3.616 0 1.34.918 2.608 2.585 3.571 3.549 2.049 9.343 2.038 12.914-.024l9.748-5.628a.234.234 0 0 1 .234.405l-9.748 5.628c-1.858 1.072-4.296 1.609-6.729 1.609' fill='#607D8B'/><path d='M113.675 182.992l-45.913-26.508M113.675 183.342a.346.346 0 0 1-.175-.047l-45.913-26.508a.35.35 0 1 1 .35-.607l45.913 26.508a.35.35 0 0 1-.175.654' fill='#455A64'/><path d='M67.762 156.484v54.001c0 1.09.77 2.418 1.72 2.967l42.473 24.521c.95.549 1.72.11 1.72-.98v-54.001' fill='#FAFAFA'/><path d='M112.727 238.561c-.297 0-.62-.095-.947-.285l-42.473-24.521c-1.063-.613-1.895-2.05-1.895-3.27v-54.001a.35.35 0 1 1 .701 0v54.001c0 .96.707 2.18 1.544 2.663l42.473 24.522c.344.198.661.243.87.122.206-.119.325-.411.325-.799v-54.001a.35.35 0 1 1 .7 0v54.001c0 .655-.239 1.154-.675 1.406a1.235 1.235 0 0 1-.623.162' fill='#455A64'/><path d='M112.86 147.512h-.001c-2.318 0-4.499-.522-6.142-1.471-1.705-.984-2.643-2.315-2.643-3.749 0-1.445.952-2.791 2.68-3.788l12.041-6.953c1.668-.962 3.874-1.493 6.212-1.493 2.318 0 4.499.523 6.143 1.472 1.704.984 2.643 2.315 2.643 3.748 0 1.446-.952 2.791-2.68 3.789l-12.042 6.952c-1.668.963-3.874 1.493-6.211 1.493zm12.147-16.753c-2.217 0-4.298.497-5.861 1.399l-12.042 6.952c-1.502.868-2.33 1.998-2.33 3.182 0 1.173.815 2.289 2.293 3.142 1.538.889 3.596 1.378 5.792 1.378h.001c2.216 0 4.298-.497 5.861-1.399l12.041-6.953c1.502-.867 2.33-1.997 2.33-3.182 0-1.172-.814-2.288-2.292-3.142-1.539-.888-3.596-1.377-5.793-1.377z' fill='#607D8B'/><path d='M165.63 123.219l-5.734 3.311c-3.167 1.828-8.286 1.837-11.433.02-3.147-1.817-3.131-4.772.036-6.601l5.734-3.31 11.397 6.58' fill='#FAFAFA'/><path d='M154.233 117.448l9.995 5.771-4.682 2.704c-1.434.827-3.352 1.283-5.399 1.283-2.029 0-3.923-.449-5.333-1.263-1.29-.744-2-1.694-2-2.674 0-.991.723-1.955 2.036-2.713l5.383-3.108m0-.809l-5.734 3.31c-3.167 1.829-3.183 4.784-.036 6.601 1.568.905 3.623 1.357 5.684 1.357 2.077 0 4.159-.46 5.749-1.377l5.734-3.311-11.397-6.58M145.445 179.667c-1.773 0-3.241-.85-4.243-2.245-.067-.092-.057-.275.023-.356.08-.081.207-.12.3-.055.781.548 1.706.812 2.751.811 1.322 0 2.754-.446 4.256-1.313 5.31-3.066 9.631-10.522 9.631-16.615 0-1.927-.442-3.562-1.279-4.726a.235.235 0 0 1 .024-.301.232.232 0 0 1 .3-.027c1.67 1.172 2.59 3.38 2.59 6.219 0 6.242-4.425 13.987-9.865 17.127-1.573.908-3.083 1.481-4.488 1.481zM142.476 178c.814.651 1.82 1.002 2.969 1.002 1.322 0 2.753-.452 4.255-1.32 5.31-3.065 9.631-10.523 9.631-16.617 0-1.98-.463-3.63-1.325-4.793.411 1.035.624 2.26.624 3.62 0 6.242-4.425 13.875-9.865 17.015-1.573.909-3.084 1.376-4.489 1.376a5.49 5.49 0 0 1-1.8-.283z' fill='#607D8B'/><path d='M148.648 176.704c5.384-3.108 9.748-10.636 9.748-16.813 0-2.052-.483-3.693-1.322-4.861-1.785-1.252-4.375-1.194-7.258.471-5.383 3.108-9.748 10.636-9.748 16.813 0 2.051.484 3.692 1.323 4.86 1.785 1.253 4.374 1.195 7.257-.47' fill='#FAFAFA'/><path d='M144.276 178.276c-1.143 0-2.158-.307-3.019-.911a.217.217 0 0 1-.055-.054c-.895-1.244-1.367-2.972-1.367-4.997 0-6.241 4.425-13.875 9.865-17.016 1.573-.908 3.084-1.369 4.489-1.369 1.143 0 2.158.307 3.019.91a.24.24 0 0 1 .055.055c.894 1.244 1.367 2.971 1.367 4.997 0 6.241-4.425 13.875-9.865 17.016-1.573.908-3.084 1.369-4.489 1.369zm-2.718-1.172c.773.533 1.687.901 2.718.901 1.322 0 2.754-.538 4.256-1.405 5.31-3.066 9.631-10.567 9.631-16.661 0-1.908-.434-3.554-1.256-4.716-.774-.532-1.688-.814-2.718-.814-1.322 0-2.754.433-4.256 1.3-5.31 3.066-9.631 10.564-9.631 16.657 0 1.91.434 3.576 1.256 4.738z' fill='#607D8B'/><path d='M150.72 172.361l-.363-.295a24.105 24.105 0 0 0 2.148-3.128 24.05 24.05 0 0 0 1.977-4.375l.443.149a24.54 24.54 0 0 1-2.015 4.46 24.61 24.61 0 0 1-2.19 3.189M115.917 191.514l-.363-.294a24.174 24.174 0 0 0 2.148-3.128 24.038 24.038 0 0 0 1.976-4.375l.443.148a24.48 24.48 0 0 1-2.015 4.461 24.662 24.662 0 0 1-2.189 3.188M114 237.476V182.584 237.476' fill='#607D8B'/><g><path d='M81.822 37.474c.017-.135-.075-.28-.267-.392-.327-.188-.826-.21-1.109-.045l-6.012 3.471c-.131.076-.194.178-.191.285.002.132.002.461.002.578v.043l-.007.128-6.591 3.779c-.001 0-2.077 1.046-2.787 5.192 0 0-.912 6.961-.898 19.745.015 12.57.606 17.07 1.167 21.351.22 1.684 3.001 2.125 3.001 2.125.331.04.698-.027 1.08-.248l75.273-43.551c1.808-1.069 2.667-3.719 3.056-6.284 1.213-7.99 1.675-32.978-.275-39.878-.196-.693-.51-1.083-.868-1.282l-2.086-.79c-.727.028-1.416.467-1.534.535L82.032 37.072l-.21.402' fill='#FFF'/><path d='M144.311 1.701l2.085.79c.358.199.672.589.868 1.282 1.949 6.9 1.487 31.887.275 39.878-.39 2.565-1.249 5.215-3.056 6.284L69.21 93.486a1.78 1.78 0 0 1-.896.258l-.183-.011c0 .001-2.782-.44-3.003-2.124-.56-4.282-1.151-8.781-1.165-21.351-.015-12.784.897-19.745.897-19.745.71-4.146 2.787-5.192 2.787-5.192l6.591-3.779.007-.128v-.043c0-.117 0-.446-.002-.578-.003-.107.059-.21.191-.285l6.012-3.472a.98.98 0 0 1 .481-.11c.218 0 .449.053.627.156.193.112.285.258.268.392l.211-.402 60.744-34.836c.117-.068.806-.507 1.534-.535m0-.997l-.039.001c-.618.023-1.283.244-1.974.656l-.021.012-60.519 34.706a2.358 2.358 0 0 0-.831-.15c-.365 0-.704.084-.98.244l-6.012 3.471c-.442.255-.699.69-.689 1.166l.001.15-6.08 3.487c-.373.199-2.542 1.531-3.29 5.898l-.006.039c-.009.07-.92 7.173-.906 19.875.014 12.62.603 17.116 1.172 21.465l.002.015c.308 2.355 3.475 2.923 3.836 2.98l.034.004c.101.013.204.019.305.019a2.77 2.77 0 0 0 1.396-.392l75.273-43.552c1.811-1.071 2.999-3.423 3.542-6.997 1.186-7.814 1.734-33.096-.301-40.299-.253-.893-.704-1.527-1.343-1.882l-.132-.062-2.085-.789a.973.973 0 0 0-.353-.065' fill='#455A64'/><path d='M128.267 11.565l1.495.434-56.339 32.326' fill='#FFF'/><path d='M74.202 90.545a.5.5 0 0 1-.25-.931l18.437-10.645a.499.499 0 1 1 .499.864L74.451 90.478l-.249.067M75.764 42.654l-.108-.062.046-.171 5.135-2.964.17.045-.045.171-5.135 2.964-.063.017M70.52 90.375V46.421l.063-.036L137.84 7.554v43.954l-.062.036L70.52 90.375zm.25-43.811v43.38l66.821-38.579V7.985L70.77 46.564z' fill='#607D8B'/><path d='M86.986 83.182c-.23.149-.612.384-.849.523l-11.505 6.701c-.237.139-.206.252.068.252h.565c.275 0 .693-.113.93-.252L87.7 83.705c.237-.139.428-.253.425-.256a11.29 11.29 0 0 1-.006-.503c0-.274-.188-.377-.418-.227l-.715.463' fill='#607D8B'/><path d='M75.266 90.782H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.236-.138.615-.371.844-.519l.715-.464a.488.488 0 0 1 .266-.089c.172 0 .345.13.345.421 0 .214.001.363.003.437l.006.004-.004.069c-.003.075-.003.075-.486.356l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.108.866-.234l11.505-6.702c.168-.098.294-.173.361-.214-.004-.084-.004-.218-.004-.437l-.095-.171-.131.049-.714.463c-.232.15-.616.386-.854.525l-11.505 6.702-.029.018z' fill='#607D8B'/><path d='M75.266 89.871H74.7c-.2 0-.316-.056-.346-.166-.03-.11.043-.217.215-.317l11.505-6.702c.258-.151.694-.268.993-.268h.565c.2 0 .316.056.346.166.03.11-.043.217-.215.317l-11.505 6.702a2.282 2.282 0 0 1-.992.268zm-.6-.25l.034.001h.566c.252 0 .649-.107.866-.234l11.505-6.702.03-.018-.035-.001h-.565c-.252 0-.649.108-.867.234l-11.505 6.702-.029.018zM74.37 90.801v-1.247 1.247' fill='#607D8B'/><path d='M68.13 93.901c-.751-.093-1.314-.737-1.439-1.376-.831-4.238-1.151-8.782-1.165-21.352-.015-12.784.897-19.745.897-19.745.711-4.146 2.787-5.192 2.787-5.192l74.859-43.219c.223-.129 2.487-1.584 3.195.923 1.95 6.9 1.488 31.887.275 39.878-.389 2.565-1.248 5.215-3.056 6.283L69.21 93.653c-.382.221-.749.288-1.08.248 0 0-2.781-.441-3.001-2.125-.561-4.281-1.152-8.781-1.167-21.351-.014-12.784.898-19.745.898-19.745.71-4.146 2.787-5.191 2.787-5.191l6.598-3.81.871-.119 6.599-3.83.046-.461L68.13 93.901' fill='#FAFAFA'/><path d='M68.317 94.161l-.215-.013h-.001l-.244-.047c-.719-.156-2.772-.736-2.976-2.292-.568-4.34-1.154-8.813-1.168-21.384-.014-12.654.891-19.707.9-19.777.725-4.231 2.832-5.338 2.922-5.382l6.628-3.827.87-.119 6.446-3.742.034-.334a.248.248 0 0 1 .273-.223.248.248 0 0 1 .223.272l-.059.589-6.752 3.919-.87.118-6.556 3.785c-.031.016-1.99 1.068-2.666 5.018-.007.06-.908 7.086-.894 19.702.014 12.539.597 16.996 1.161 21.305.091.691.689 1.154 1.309 1.452a1.95 1.95 0 0 1-.236-.609c-.781-3.984-1.155-8.202-1.17-21.399-.014-12.653.891-19.707.9-19.777.725-4.231 2.832-5.337 2.922-5.382-.004.001 74.444-42.98 74.846-43.212l.028-.017c.904-.538 1.72-.688 2.36-.433.555.221.949.733 1.172 1.52 2.014 7.128 1.46 32.219.281 39.983-.507 3.341-1.575 5.515-3.175 6.462L69.335 93.869a2.023 2.023 0 0 1-1.018.292zm-.147-.507c.293.036.604-.037.915-.217l75.273-43.551c1.823-1.078 2.602-3.915 2.934-6.106 1.174-7.731 1.731-32.695-.268-39.772-.178-.631-.473-1.032-.876-1.192-.484-.193-1.166-.052-1.921.397l-.034.021-74.858 43.218c-.031.017-1.989 1.069-2.666 5.019-.007.059-.908 7.085-.894 19.702.015 13.155.386 17.351 1.161 21.303.09.461.476.983 1.037 1.139.114.025.185.037.196.039h.001z' fill='#455A64'/><path d='M69.317 68.982c.489-.281.885-.056.885.505 0 .56-.396 1.243-.885 1.525-.488.282-.884.057-.884-.504 0-.56.396-1.243.884-1.526' fill='#FFF'/><path d='M68.92 71.133c-.289 0-.487-.228-.487-.625 0-.56.396-1.243.884-1.526a.812.812 0 0 1 .397-.121c.289 0 .488.229.488.626 0 .56-.396 1.243-.885 1.525a.812.812 0 0 1-.397.121m.794-2.459a.976.976 0 0 0-.49.147c-.548.317-.978 1.058-.978 1.687 0 .486.271.812.674.812a.985.985 0 0 0 .491-.146c.548-.317.978-1.057.978-1.687 0-.486-.272-.813-.675-.813' fill='#8097A2'/><path d='M68.92 70.947c-.271 0-.299-.307-.299-.439 0-.491.361-1.116.79-1.363a.632.632 0 0 1 .303-.096c.272 0 .301.306.301.438 0 .491-.363 1.116-.791 1.364a.629.629 0 0 1-.304.096m.794-2.086a.812.812 0 0 0-.397.121c-.488.283-.884.966-.884 1.526 0 .397.198.625.487.625a.812.812 0 0 0 .397-.121c.489-.282.885-.965.885-1.525 0-.397-.199-.626-.488-.626' fill='#8097A2'/><path d='M69.444 85.35c.264-.152.477-.031.477.272 0 .303-.213.67-.477.822-.263.153-.477.031-.477-.271 0-.302.214-.671.477-.823' fill='#FFF'/><path d='M69.23 86.51c-.156 0-.263-.123-.263-.337 0-.302.214-.671.477-.823a.431.431 0 0 1 .214-.066c.156 0 .263.124.263.338 0 .303-.213.67-.477.822a.431.431 0 0 1-.214.066m.428-1.412c-.1 0-.203.029-.307.09-.32.185-.57.618-.57.985 0 .309.185.524.449.524a.63.63 0 0 0 .308-.09c.32-.185.57-.618.57-.985 0-.309-.185-.524-.45-.524' fill='#8097A2'/><path d='M69.23 86.322l-.076-.149c0-.235.179-.544.384-.661l.12-.041.076.151c0 .234-.179.542-.383.66l-.121.04m.428-1.038a.431.431 0 0 0-.214.066c-.263.152-.477.521-.477.823 0 .214.107.337.263.337a.431.431 0 0 0 .214-.066c.264-.152.477-.519.477-.822 0-.214-.107-.338-.263-.338' fill='#8097A2'/><path d='M139.278 7.769v43.667L72.208 90.16V46.493l67.07-38.724' fill='#455A64'/><path d='M72.083 90.375V46.421l.063-.036 67.257-38.831v43.954l-.062.036-67.258 38.831zm.25-43.811v43.38l66.821-38.579V7.985L72.333 46.564z' fill='#607D8B'/></g><path d='M125.737 88.647l-7.639 3.334V84l-11.459 4.713v8.269L99 100.315l13.369 3.646 13.368-15.314' fill='#455A64'/></g></svg>";function xe(){this.loadIcon_();var ct=document.createElement("div"),Ce=ct.style;Ce.position="fixed",Ce.top=0,Ce.right=0,Ce.bottom=0,Ce.left=0,Ce.backgroundColor="gray",Ce.fontFamily="sans-serif",Ce.zIndex=1e6;var Mt=document.createElement("img");Mt.src=this.icon;var Ce=Mt.style;Ce.marginLeft="25%",Ce.marginTop="25%",Ce.width="50%",ct.appendChild(Mt);var Nt=document.createElement("div"),Ce=Nt.style;Ce.textAlign="center",Ce.fontSize="16px",Ce.lineHeight="24px",Ce.margin="24px 25%",Ce.width="50%",Nt.innerHTML="Place your phone into your Cardboard viewer.",ct.appendChild(Nt);var $t=document.createElement("div"),Ce=$t.style;Ce.backgroundColor="#CFD8DC",Ce.position="fixed",Ce.bottom=0,Ce.width="100%",Ce.height="48px",Ce.padding="14px 24px",Ce.boxSizing="border-box",Ce.color="#656A6B",ct.appendChild($t);var Zt=document.createElement("div");Zt.style.float="left",Zt.innerHTML="No Cardboard viewer?";var Me=document.createElement("a");Me.href="https://www.google.com/get/cardboard/get-cardboard/",Me.innerHTML="get one",Me.target="_blank";var Ce=Me.style;Ce.float="right",Ce.fontWeight=600,Ce.textTransform="uppercase",Ce.borderLeft="1px solid gray",Ce.paddingLeft="24px",Ce.textDecoration="none",Ce.color="#656A6B",$t.appendChild(Zt),$t.appendChild(Me),this.overlay=ct,this.text=Nt,this.hide()}xe.prototype.show=function(ct){!ct&&!this.overlay.parentElement?document.body.appendChild(this.overlay):ct&&(this.overlay.parentElement&&this.overlay.parentElement!=ct&&this.overlay.parentElement.removeChild(this.overlay),ct.appendChild(this.overlay)),this.overlay.style.display="block";var Mt=this.overlay.querySelector("img"),Nt=Mt.style;ht()?(Nt.width="20%",Nt.marginLeft="40%",Nt.marginTop="3%"):(Nt.width="50%",Nt.marginLeft="25%",Nt.marginTop="25%")},xe.prototype.hide=function(){this.overlay.style.display="none"},xe.prototype.showTemporarily=function(ct,Mt){this.show(Mt),this.timer=setTimeout(this.hide.bind(this),ct)},xe.prototype.disableShowTemporarily=function(){clearTimeout(this.timer)},xe.prototype.update=function(){this.disableShowTemporarily(),!ht()&&Jt()?this.show():this.hide()},xe.prototype.loadIcon_=function(){this.icon=V("image/svg+xml",le)};var Xe="CardboardV1",Ue="WEBVR_CARDBOARD_VIEWER",ui="webvr-polyfill-viewer-selector";function Mi(ct){try{this.selectedKey=localStorage.getItem(Ue)}catch(Mt){console.error("Failed to load viewer profile: %s",Mt)}this.selectedKey||(this.selectedKey=ct||Xe),this.dialog=this.createDialog_(Ge.Viewers),this.root=null,this.onChangeCallbacks_=[]}Mi.prototype.show=function(ct){this.root=ct,ct.appendChild(this.dialog);var Mt=this.dialog.querySelector("#"+this.selectedKey);Mt.checked=!0,this.dialog.style.display="block"},Mi.prototype.hide=function(){this.root&&this.root.contains(this.dialog)&&this.root.removeChild(this.dialog),this.dialog.style.display="none"},Mi.prototype.getCurrentViewer=function(){return Ge.Viewers[this.selectedKey]},Mi.prototype.getSelectedKey_=function(){var ct=this.dialog.querySelector("input[name=field]:checked");return ct?ct.id:null},Mi.prototype.onChange=function(ct){this.onChangeCallbacks_.push(ct)},Mi.prototype.fireOnChange_=function(ct){for(var Mt=0;Mt<this.onChangeCallbacks_.length;Mt++)this.onChangeCallbacks_[Mt](ct)},Mi.prototype.onSave_=function(){if(this.selectedKey=this.getSelectedKey_(),!this.selectedKey||!Ge.Viewers[this.selectedKey]){console.error("ViewerSelector.onSave_: this should never happen!");return}this.fireOnChange_(Ge.Viewers[this.selectedKey]);try{localStorage.setItem(Ue,this.selectedKey)}catch(ct){console.error("Failed to save viewer profile: %s",ct)}this.hide()},Mi.prototype.createDialog_=function(ct){var Mt=document.createElement("div");Mt.classList.add(ui),Mt.style.display="none";var Nt=document.createElement("div"),Me=Nt.style;Me.position="fixed",Me.left=0,Me.top=0,Me.width="100%",Me.height="100%",Me.background="rgba(0, 0, 0, 0.3)",Nt.addEventListener("click",this.hide.bind(this));var $t=280,Zt=document.createElement("div"),Me=Zt.style;Me.boxSizing="border-box",Me.position="fixed",Me.top="24px",Me.left="50%",Me.marginLeft=-$t/2+"px",Me.width=$t+"px",Me.padding="24px",Me.overflow="hidden",Me.background="#fafafa",Me.fontFamily="'Roboto', sans-serif",Me.boxShadow="0px 5px 20px #666",Zt.appendChild(this.createH1_("Select your viewer"));for(var Ce in ct)Zt.appendChild(this.createChoice_(Ce,ct[Ce].label));return Zt.appendChild(this.createButton_("Save",this.onSave_.bind(this))),Mt.appendChild(Nt),Mt.appendChild(Zt),Mt},Mi.prototype.createH1_=function(ct){var Mt=document.createElement("h1"),Nt=Mt.style;return Nt.color="black",Nt.fontSize="20px",Nt.fontWeight="bold",Nt.marginTop=0,Nt.marginBottom="24px",Mt.innerHTML=ct,Mt},Mi.prototype.createChoice_=function(ct,Mt){var Nt=document.createElement("div");Nt.style.marginTop="8px",Nt.style.color="black";var $t=document.createElement("input");$t.style.fontSize="30px",$t.setAttribute("id",ct),$t.setAttribute("type","radio"),$t.setAttribute("value",ct),$t.setAttribute("name","field");var Zt=document.createElement("label");return Zt.style.marginLeft="4px",Zt.setAttribute("for",ct),Zt.innerHTML=Mt,Nt.appendChild($t),Nt.appendChild(Zt),Nt},Mi.prototype.createButton_=function(ct,Mt){var Nt=document.createElement("button");Nt.innerHTML=ct;var $t=Nt.style;return $t.float="right",$t.textTransform="uppercase",$t.color="#1094f7",$t.fontSize="14px",$t.letterSpacing=0,$t.border=0,$t.background="none",$t.marginTop="16px",Nt.addEventListener("click",Mt),Nt};var $i=typeof window<"u"?window:typeof h<"u"?h:typeof self<"u"?self:{};function Oe(ct){return ct&&ct.__esModule&&Object.prototype.hasOwnProperty.call(ct,"default")?ct.default:ct}function Je(ct,Mt){return Mt={exports:{}},ct(Mt,Mt.exports),Mt.exports}var tn=Je(function(ct,Mt){(function($t,Zt){ct.exports=Zt()})($i,function(){return function(Nt){var $t={};function Zt(Me){if($t[Me])return $t[Me].exports;var Ce=$t[Me]={i:Me,l:!1,exports:{}};return Nt[Me].call(Ce.exports,Ce,Ce.exports,Zt),Ce.l=!0,Ce.exports}return Zt.m=Nt,Zt.c=$t,Zt.d=function(Me,Ce,pi){Zt.o(Me,Ce)||Object.defineProperty(Me,Ce,{configurable:!1,enumerable:!0,get:pi})},Zt.n=function(Me){var Ce=Me&&Me.__esModule?function(){return Me.default}:function(){return Me};return Zt.d(Ce,"a",Ce),Ce},Zt.o=function(Me,Ce){return Object.prototype.hasOwnProperty.call(Me,Ce)},Zt.p="",Zt(Zt.s=0)}([function(Nt,$t,Zt){var Me=function(){function si(Ei,Se){for(var wi=0;wi<Se.length;wi++){var pn=Se[wi];pn.enumerable=pn.enumerable||!1,pn.configurable=!0,"value"in pn&&(pn.writable=!0),Object.defineProperty(Ei,pn.key,pn)}}return function(Ei,Se,wi){return Se&&si(Ei.prototype,Se),wi&&si(Ei,wi),Ei}}();function Ce(si,Ei){if(!(si instanceof Ei))throw new TypeError("Cannot call a class as a function")}var pi=Zt(1),hi=typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,Re=function(){function si(){Ce(this,si),hi?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("playsinline",""),this.noSleepVideo.setAttribute("src",pi),this.noSleepVideo.addEventListener("timeupdate",(function(Ei){this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())}).bind(this)))}return Me(si,[{key:"enable",value:function(){hi?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location.href="/",window.setTimeout(window.stop,0)},15e3)):this.noSleepVideo.play()}},{key:"disable",value:function(){hi?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause()}}]),si}();Nt.exports=Re},function(Nt,$t,Zt){Nt.exports="data:video/mp4;base64,AAAAIGZ0eXBtcDQyAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAACKBtZGF0AAAC8wYF///v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTMgYl9weXJhbWlkPTIgYl9hZGFwdD0xIGJfYmlhcz0wIGRpcmVjdD0xIHdlaWdodGI9MSBvcGVuX2dvcD0wIHdlaWdodHA9MSBrZXlpbnQ9MzAwIGtleWludF9taW49MzAgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD0xMCByYz1jcmYgbWJ0cmVlPTEgY3JmPTIwLjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IHZidl9tYXhyYXRlPTIwMDAwIHZidl9idWZzaXplPTI1MDAwIGNyZl9tYXg9MC4wIG5hbF9ocmQ9bm9uZSBmaWxsZXI9MCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAAAOWWIhAA3//p+C7v8tDDSTjf97w55i3SbRPO4ZY+hkjD5hbkAkL3zpJ6h/LR1CAABzgB1kqqzUorlhQAAAAxBmiQYhn/+qZYADLgAAAAJQZ5CQhX/AAj5IQADQGgcIQADQGgcAAAACQGeYUQn/wALKCEAA0BoHAAAAAkBnmNEJ/8ACykhAANAaBwhAANAaBwAAAANQZpoNExDP/6plgAMuSEAA0BoHAAAAAtBnoZFESwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBnqVEJ/8ACykhAANAaBwAAAAJAZ6nRCf/AAsoIQADQGgcIQADQGgcAAAADUGarDRMQz/+qZYADLghAANAaBwAAAALQZ7KRRUsK/8ACPkhAANAaBwAAAAJAZ7pRCf/AAsoIQADQGgcIQADQGgcAAAACQGe60Qn/wALKCEAA0BoHAAAAA1BmvA0TEM//qmWAAy5IQADQGgcIQADQGgcAAAAC0GfDkUVLCv/AAj5IQADQGgcAAAACQGfLUQn/wALKSEAA0BoHCEAA0BoHAAAAAkBny9EJ/8ACyghAANAaBwAAAANQZs0NExDP/6plgAMuCEAA0BoHAAAAAtBn1JFFSwr/wAI+SEAA0BoHCEAA0BoHAAAAAkBn3FEJ/8ACyghAANAaBwAAAAJAZ9zRCf/AAsoIQADQGgcIQADQGgcAAAADUGbeDRMQz/+qZYADLkhAANAaBwAAAALQZ+WRRUsK/8ACPghAANAaBwhAANAaBwAAAAJAZ+1RCf/AAspIQADQGgcAAAACQGft0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bm7w0TEM//qmWAAy4IQADQGgcAAAAC0Gf2kUVLCv/AAj5IQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHAAAAAkBn/tEJ/8ACykhAANAaBwAAAANQZvgNExDP/6plgAMuSEAA0BoHCEAA0BoHAAAAAtBnh5FFSwr/wAI+CEAA0BoHAAAAAkBnj1EJ/8ACyghAANAaBwhAANAaBwAAAAJAZ4/RCf/AAspIQADQGgcAAAADUGaJDRMQz/+qZYADLghAANAaBwAAAALQZ5CRRUsK/8ACPkhAANAaBwhAANAaBwAAAAJAZ5hRCf/AAsoIQADQGgcAAAACQGeY0Qn/wALKSEAA0BoHCEAA0BoHAAAAA1Bmmg0TEM//qmWAAy5IQADQGgcAAAAC0GehkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGepUQn/wALKSEAA0BoHAAAAAkBnqdEJ/8ACyghAANAaBwAAAANQZqsNExDP/6plgAMuCEAA0BoHCEAA0BoHAAAAAtBnspFFSwr/wAI+SEAA0BoHAAAAAkBnulEJ/8ACyghAANAaBwhAANAaBwAAAAJAZ7rRCf/AAsoIQADQGgcAAAADUGa8DRMQz/+qZYADLkhAANAaBwhAANAaBwAAAALQZ8ORRUsK/8ACPkhAANAaBwAAAAJAZ8tRCf/AAspIQADQGgcIQADQGgcAAAACQGfL0Qn/wALKCEAA0BoHAAAAA1BmzQ0TEM//qmWAAy4IQADQGgcAAAAC0GfUkUVLCv/AAj5IQADQGgcIQADQGgcAAAACQGfcUQn/wALKCEAA0BoHAAAAAkBn3NEJ/8ACyghAANAaBwhAANAaBwAAAANQZt4NExC//6plgAMuSEAA0BoHAAAAAtBn5ZFFSwr/wAI+CEAA0BoHCEAA0BoHAAAAAkBn7VEJ/8ACykhAANAaBwAAAAJAZ+3RCf/AAspIQADQGgcAAAADUGbuzRMQn/+nhAAYsAhAANAaBwhAANAaBwAAAAJQZ/aQhP/AAspIQADQGgcAAAACQGf+UQn/wALKCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHCEAA0BoHAAACiFtb292AAAAbG12aGQAAAAA1YCCX9WAgl8AAAPoAAAH/AABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAGGlvZHMAAAAAEICAgAcAT////v7/AAAF+XRyYWsAAABcdGtoZAAAAAPVgIJf1YCCXwAAAAEAAAAAAAAH0AAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAygAAAMoAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAB9AAABdwAAEAAAAABXFtZGlhAAAAIG1kaGQAAAAA1YCCX9WAgl8AAV+QAAK/IFXEAAAAAAAtaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAFZpZGVvSGFuZGxlcgAAAAUcbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAAE3HN0YmwAAACYc3RzZAAAAAAAAAABAAAAiGF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAygDKAEgAAABIAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAyYXZjQwFNQCj/4QAbZ01AKOyho3ySTUBAQFAAAAMAEAAr8gDxgxlgAQAEaO+G8gAAABhzdHRzAAAAAAAAAAEAAAA8AAALuAAAABRzdHNzAAAAAAAAAAEAAAABAAAB8GN0dHMAAAAAAAAAPAAAAAEAABdwAAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAADqYAAAAAQAAF3AAAAABAAAAAAAAAAEAAAu4AAAAAQAAOpgAAAABAAAXcAAAAAEAAAAAAAAAAQAAC7gAAAABAAA6mAAAAAEAABdwAAAAAQAAAAAAAAABAAALuAAAAAEAAC7gAAAAAQAAF3AAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAEEc3RzegAAAAAAAAAAAAAAPAAAAzQAAAAQAAAADQAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAAPAAAADQAAAA0AAAARAAAADwAAAA0AAAANAAAAEQAAAA8AAAANAAAADQAAABEAAAANAAAADQAAAQBzdGNvAAAAAAAAADwAAAAwAAADZAAAA3QAAAONAAADoAAAA7kAAAPQAAAD6wAAA/4AAAQXAAAELgAABEMAAARcAAAEbwAABIwAAAShAAAEugAABM0AAATkAAAE/wAABRIAAAUrAAAFQgAABV0AAAVwAAAFiQAABaAAAAW1AAAFzgAABeEAAAX+AAAGEwAABiwAAAY/AAAGVgAABnEAAAaEAAAGnQAABrQAAAbPAAAG4gAABvUAAAcSAAAHJwAAB0AAAAdTAAAHcAAAB4UAAAeeAAAHsQAAB8gAAAfjAAAH9gAACA8AAAgmAAAIQQAACFQAAAhnAAAIhAAACJcAAAMsdHJhawAAAFx0a2hkAAAAA9WAgl/VgIJfAAAAAgAAAAAAAAf8AAAAAAAAAAAAAAABAQAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAACsm1kaWEAAAAgbWRoZAAAAADVgIJf1YCCXwAArEQAAWAAVcQAAAAAACdoZGxyAAAAAAAAAABzb3VuAAAAAAAAAAAAAAAAU3RlcmVvAAAAAmNtaW5mAAAAEHNtaGQAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAidzdGJsAAAAZ3N0c2QAAAAAAAAAAQAAAFdtcDRhAAAAAAAAAAEAAAAAAAAAAAACABAAAAAArEQAAAAAADNlc2RzAAAAAAOAgIAiAAIABICAgBRAFQAAAAADDUAAAAAABYCAgAISEAaAgIABAgAAABhzdHRzAAAAAAAAAAEAAABYAAAEAAAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAUc3RzegAAAAAAAAAGAAAAWAAAAXBzdGNvAAAAAAAAAFgAAAOBAAADhwAAA5oAAAOtAAADswAAA8oAAAPfAAAD5QAAA/gAAAQLAAAEEQAABCgAAAQ9AAAEUAAABFYAAARpAAAEgAAABIYAAASbAAAErgAABLQAAATHAAAE3gAABPMAAAT5AAAFDAAABR8AAAUlAAAFPAAABVEAAAVXAAAFagAABX0AAAWDAAAFmgAABa8AAAXCAAAFyAAABdsAAAXyAAAF+AAABg0AAAYgAAAGJgAABjkAAAZQAAAGZQAABmsAAAZ+AAAGkQAABpcAAAauAAAGwwAABskAAAbcAAAG7wAABwYAAAcMAAAHIQAABzQAAAc6AAAHTQAAB2QAAAdqAAAHfwAAB5IAAAeYAAAHqwAAB8IAAAfXAAAH3QAAB/AAAAgDAAAICQAACCAAAAg1AAAIOwAACE4AAAhhAAAIeAAACH4AAAiRAAAIpAAACKoAAAiwAAAItgAACLwAAAjCAAAAFnVkdGEAAAAObmFtZVN0ZXJlbwAAAHB1ZHRhAAAAaG1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAAO2lsc3QAAAAzqXRvbwAAACtkYXRhAAAAAQAAAABIYW5kQnJha2UgMC4xMC4yIDIwMTUwNjExMDA="}])})}),mn=Oe(tn),Sn=1e3,v0=[0,0,.5,1],Pn=[.5,0,.5,1],Bn=window.requestAnimationFrame,Kn=window.cancelAnimationFrame;function B0(){this.leftProjectionMatrix=new Float32Array(16),this.leftViewMatrix=new Float32Array(16),this.rightProjectionMatrix=new Float32Array(16),this.rightViewMatrix=new Float32Array(16),this.pose=null}function p9(ct){Object.defineProperties(this,{hasPosition:{writable:!1,enumerable:!0,value:ct.hasPosition},hasExternalDisplay:{writable:!1,enumerable:!0,value:ct.hasExternalDisplay},canPresent:{writable:!1,enumerable:!0,value:ct.canPresent},maxLayers:{writable:!1,enumerable:!0,value:ct.maxLayers},hasOrientation:{enumerable:!0,get:function(){return He("VRDisplayCapabilities.prototype.hasOrientation","VRDisplay.prototype.getFrameData"),ct.hasOrientation}}})}function Gi(ct){ct=ct||{};var Mt="wakelock"in ct?ct.wakelock:!0;this.isPolyfilled=!0,this.displayId=Sn++,this.displayName="",this.depthNear=.01,this.depthFar=1e4,this.isPresenting=!1,Object.defineProperty(this,"isConnected",{get:function(){return He("VRDisplay.prototype.isConnected","VRDisplayCapabilities.prototype.hasExternalDisplay"),!1}}),this.capabilities=new p9({hasPosition:!1,hasOrientation:!1,hasExternalDisplay:!1,canPresent:!1,maxLayers:1}),this.stageParameters=null,this.waitingForPresent_=!1,this.layer_=null,this.originalParent_=null,this.fullscreenElement_=null,this.fullscreenWrapper_=null,this.fullscreenElementCachedStyle_=null,this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null,Mt&&Jt()&&(this.wakelock_=new mn)}Gi.prototype.getFrameData=function(ct){return ae(ct,this._getPose(),this)},Gi.prototype.getPose=function(){return He("VRDisplay.prototype.getPose","VRDisplay.prototype.getFrameData"),this._getPose()},Gi.prototype.resetPose=function(){return He("VRDisplay.prototype.resetPose"),this._resetPose()},Gi.prototype.getImmediatePose=function(){return He("VRDisplay.prototype.getImmediatePose","VRDisplay.prototype.getFrameData"),this._getPose()},Gi.prototype.requestAnimationFrame=function(ct){return Bn(ct)},Gi.prototype.cancelAnimationFrame=function(ct){return Kn(ct)},Gi.prototype.wrapForFullscreen=function(ct){if(G())return ct;if(!this.fullscreenWrapper_){this.fullscreenWrapper_=document.createElement("div");var Mt=["height: "+Math.min(screen.height,screen.width)+"px !important","top: 0 !important","left: 0 !important","right: 0 !important","border: 0","margin: 0","padding: 0","z-index: 999999 !important","position: fixed"];this.fullscreenWrapper_.setAttribute("style",Mt.join("; ")+";"),this.fullscreenWrapper_.classList.add("webvr-polyfill-fullscreen-wrapper")}if(this.fullscreenElement_==ct)return this.fullscreenWrapper_;if(this.fullscreenElement_&&(this.originalParent_?this.originalParent_.appendChild(this.fullscreenElement_):this.fullscreenElement_.parentElement.removeChild(this.fullscreenElement_)),this.fullscreenElement_=ct,this.originalParent_=ct.parentElement,this.originalParent_||document.body.appendChild(ct),!this.fullscreenWrapper_.parentElement){var Nt=this.fullscreenElement_.parentElement;Nt.insertBefore(this.fullscreenWrapper_,this.fullscreenElement_),Nt.removeChild(this.fullscreenElement_)}this.fullscreenWrapper_.insertBefore(this.fullscreenElement_,this.fullscreenWrapper_.firstChild),this.fullscreenElementCachedStyle_=this.fullscreenElement_.getAttribute("style");var $t=this;function Zt(){if($t.fullscreenElement_){var Me=["position: absolute","top: 0","left: 0","width: "+Math.max(screen.width,screen.height)+"px","height: "+Math.min(screen.height,screen.width)+"px","border: 0","margin: 0","padding: 0"];$t.fullscreenElement_.setAttribute("style",Me.join("; ")+";")}}return Zt(),this.fullscreenWrapper_},Gi.prototype.removeFullscreenWrapper=function(){if(this.fullscreenElement_){var ct=this.fullscreenElement_;this.fullscreenElementCachedStyle_?ct.setAttribute("style",this.fullscreenElementCachedStyle_):ct.removeAttribute("style"),this.fullscreenElement_=null,this.fullscreenElementCachedStyle_=null;var Mt=this.fullscreenWrapper_.parentElement;return this.fullscreenWrapper_.removeChild(ct),this.originalParent_===Mt?Mt.insertBefore(ct,this.fullscreenWrapper_):this.originalParent_&&this.originalParent_.appendChild(ct),Mt.removeChild(this.fullscreenWrapper_),ct}},Gi.prototype.requestPresent=function(ct){var Mt=this.isPresenting,Nt=this;return ct instanceof Array||(He("VRDisplay.prototype.requestPresent with non-array argument","an array of VRLayers as the first argument"),ct=[ct]),new Promise(function($t,Zt){if(!Nt.capabilities.canPresent){Zt(new Error("VRDisplay is not capable of presenting."));return}if(ct.length==0||ct.length>Nt.capabilities.maxLayers){Zt(new Error("Invalid number of layers."));return}var Me=ct[0];if(!Me.source){$t();return}var Ce=Me.leftBounds||v0,pi=Me.rightBounds||Pn;if(Mt){var hi=Nt.layer_;hi.source!==Me.source&&(hi.source=Me.source);for(var Re=0;Re<4;Re++)hi.leftBounds[Re]=Ce[Re],hi.rightBounds[Re]=pi[Re];Nt.wrapForFullscreen(Nt.layer_.source),Nt.updatePresent_(),$t();return}if(Nt.layer_={predistorted:Me.predistorted,source:Me.source,leftBounds:Ce.slice(0),rightBounds:pi.slice(0)},Nt.waitingForPresent_=!1,Nt.layer_&&Nt.layer_.source){var si=Nt.wrapForFullscreen(Nt.layer_.source),Ei=function(){var pn=yt();Nt.isPresenting=si===pn,Nt.isPresenting?(screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape-primary").catch(function(Un){console.error("screen.orientation.lock() failed due to",Un.message)}),Nt.waitingForPresent_=!1,Nt.beginPresent_(),$t()):(screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),Nt.removeFullscreenWrapper(),Nt.disableWakeLock(),Nt.endPresent_(),Nt.removeFullscreenListeners_()),Nt.fireVRDisplayPresentChange_()},Se=function(){Nt.waitingForPresent_&&(Nt.removeFullscreenWrapper(),Nt.removeFullscreenListeners_(),Nt.disableWakeLock(),Nt.waitingForPresent_=!1,Nt.isPresenting=!1,Zt(new Error("Unable to present.")))};Nt.addFullscreenListeners_(si,Ei,Se),xt(si)?(Nt.enableWakeLock(),Nt.waitingForPresent_=!0):(G()||H())&&(Nt.enableWakeLock(),Nt.isPresenting=!0,Nt.beginPresent_(),Nt.fireVRDisplayPresentChange_(),$t())}!Nt.waitingForPresent_&&!G()&&(gt(),Zt(new Error("Unable to present.")))})},Gi.prototype.exitPresent=function(){var ct=this.isPresenting,Mt=this;return this.isPresenting=!1,this.layer_=null,this.disableWakeLock(),new Promise(function(Nt,$t){ct?(!gt()&&G()&&(Mt.endPresent_(),Mt.fireVRDisplayPresentChange_()),H()&&(Mt.removeFullscreenWrapper(),Mt.removeFullscreenListeners_(),Mt.endPresent_(),Mt.fireVRDisplayPresentChange_()),Nt()):$t(new Error("Was not presenting to VRDisplay."))})},Gi.prototype.getLayers=function(){return this.layer_?[this.layer_]:[]},Gi.prototype.fireVRDisplayPresentChange_=function(){var ct=new CustomEvent("vrdisplaypresentchange",{detail:{display:this}});window.dispatchEvent(ct)},Gi.prototype.fireVRDisplayConnect_=function(){var ct=new CustomEvent("vrdisplayconnect",{detail:{display:this}});window.dispatchEvent(ct)},Gi.prototype.addFullscreenListeners_=function(ct,Mt,Nt){this.removeFullscreenListeners_(),this.fullscreenEventTarget_=ct,this.fullscreenChangeHandler_=Mt,this.fullscreenErrorHandler_=Nt,Mt&&(document.fullscreenEnabled?ct.addEventListener("fullscreenchange",Mt,!1):document.webkitFullscreenEnabled?ct.addEventListener("webkitfullscreenchange",Mt,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenchange",Mt,!1):document.msFullscreenEnabled&&ct.addEventListener("msfullscreenchange",Mt,!1)),Nt&&(document.fullscreenEnabled?ct.addEventListener("fullscreenerror",Nt,!1):document.webkitFullscreenEnabled?ct.addEventListener("webkitfullscreenerror",Nt,!1):document.mozFullScreenEnabled?document.addEventListener("mozfullscreenerror",Nt,!1):document.msFullscreenEnabled&&ct.addEventListener("msfullscreenerror",Nt,!1))},Gi.prototype.removeFullscreenListeners_=function(){if(this.fullscreenEventTarget_){var ct=this.fullscreenEventTarget_;if(this.fullscreenChangeHandler_){var Mt=this.fullscreenChangeHandler_;ct.removeEventListener("fullscreenchange",Mt,!1),ct.removeEventListener("webkitfullscreenchange",Mt,!1),document.removeEventListener("mozfullscreenchange",Mt,!1),ct.removeEventListener("msfullscreenchange",Mt,!1)}if(this.fullscreenErrorHandler_){var Nt=this.fullscreenErrorHandler_;ct.removeEventListener("fullscreenerror",Nt,!1),ct.removeEventListener("webkitfullscreenerror",Nt,!1),document.removeEventListener("mozfullscreenerror",Nt,!1),ct.removeEventListener("msfullscreenerror",Nt,!1)}this.fullscreenEventTarget_=null,this.fullscreenChangeHandler_=null,this.fullscreenErrorHandler_=null}},Gi.prototype.enableWakeLock=function(){this.wakelock_&&this.wakelock_.enable()},Gi.prototype.disableWakeLock=function(){this.wakelock_&&this.wakelock_.disable()},Gi.prototype.beginPresent_=function(){},Gi.prototype.endPresent_=function(){},Gi.prototype.submitFrame=function(ct){},Gi.prototype.getEyeParameters=function(ct){return null};var Nn={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1},q0={LEFT:"left",RIGHT:"right"};function Xn(ct){var Mt=Gt({},Nn);ct=Gt(Mt,ct||{}),Gi.call(this,{wakelock:ct.MOBILE_WAKE_LOCK}),this.config=ct,this.displayName="Cardboard VRDisplay",this.capabilities=new p9({hasPosition:!1,hasOrientation:!0,hasExternalDisplay:!1,canPresent:!0,maxLayers:1}),this.stageParameters=null,this.bufferScale_=this.config.BUFFER_SCALE,this.poseSensor_=new Xt(this.config),this.distorter_=null,this.cardboardUI_=null,this.dpdb_=new yn(this.config.DPDB_URL,this.onDeviceParamsUpdated_.bind(this)),this.deviceInfo_=new Ge(this.dpdb_.getDeviceParams(),ct.ADDITIONAL_VIEWERS),this.viewerSelector_=new Mi(ct.DEFAULT_VIEWER),this.viewerSelector_.onChange(this.onViewerChanged_.bind(this)),this.deviceInfo_.setViewer(this.viewerSelector_.getCurrentViewer()),this.config.ROTATE_INSTRUCTIONS_DISABLED||(this.rotateInstructions_=new xe),G()&&window.addEventListener("resize",this.onResize_.bind(this))}return Xn.prototype=Object.create(Gi.prototype),Xn.prototype._getPose=function(){return{position:null,orientation:this.poseSensor_.getOrientation(),linearVelocity:null,linearAcceleration:null,angularVelocity:null,angularAcceleration:null}},Xn.prototype._resetPose=function(){this.poseSensor_.resetPose&&this.poseSensor_.resetPose()},Xn.prototype._getFieldOfView=function(ct){var Mt;if(ct==q0.LEFT)Mt=this.deviceInfo_.getFieldOfViewLeftEye();else if(ct==q0.RIGHT)Mt=this.deviceInfo_.getFieldOfViewRightEye();else return console.error("Invalid eye provided: %s",ct),null;return Mt},Xn.prototype._getEyeOffset=function(ct){var Mt;if(ct==q0.LEFT)Mt=[-this.deviceInfo_.viewer.interLensDistance*.5,0,0];else if(ct==q0.RIGHT)Mt=[this.deviceInfo_.viewer.interLensDistance*.5,0,0];else return console.error("Invalid eye provided: %s",ct),null;return Mt},Xn.prototype.getEyeParameters=function(ct){var Mt=this._getEyeOffset(ct),Nt=this._getFieldOfView(ct),$t={offset:Mt,renderWidth:this.deviceInfo_.device.width*.5*this.bufferScale_,renderHeight:this.deviceInfo_.device.height*this.bufferScale_};return Object.defineProperty($t,"fieldOfView",{enumerable:!0,get:function(){return He("VRFieldOfView","VRFrameData's projection matrices"),Nt}}),$t},Xn.prototype.onDeviceParamsUpdated_=function(ct){this.config.DEBUG&&console.log("DPDB reported that device params were updated."),this.deviceInfo_.updateDeviceParams(ct),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_)},Xn.prototype.updateBounds_=function(){this.layer_&&this.distorter_&&(this.layer_.leftBounds||this.layer_.rightBounds)&&this.distorter_.setTextureBounds(this.layer_.leftBounds,this.layer_.rightBounds)},Xn.prototype.beginPresent_=function(){var ct=this.layer_.source.getContext("webgl");ct||(ct=this.layer_.source.getContext("experimental-webgl")),ct||(ct=this.layer_.source.getContext("webgl2")),ct&&(this.layer_.predistorted?this.config.CARDBOARD_UI_DISABLED||(ct.canvas.width=St()*this.bufferScale_,ct.canvas.height=At()*this.bufferScale_,this.cardboardUI_=new jt(ct)):(this.config.CARDBOARD_UI_DISABLED||(this.cardboardUI_=new jt(ct)),this.distorter_=new fe(ct,this.cardboardUI_,this.config.BUFFER_SCALE,this.config.DIRTY_SUBMIT_FRAME_BINDINGS),this.distorter_.updateDeviceInfo(this.deviceInfo_)),this.cardboardUI_&&this.cardboardUI_.listen((function(Mt){this.viewerSelector_.show(this.layer_.source.parentElement),Mt.stopPropagation(),Mt.preventDefault()}).bind(this),(function(Mt){this.exitPresent(),Mt.stopPropagation(),Mt.preventDefault()}).bind(this)),this.rotateInstructions_&&(ht()&&Jt()?this.rotateInstructions_.showTemporarily(3e3,this.layer_.source.parentElement):this.rotateInstructions_.update()),this.orientationHandler=this.onOrientationChange_.bind(this),window.addEventListener("orientationchange",this.orientationHandler),this.vrdisplaypresentchangeHandler=this.updateBounds_.bind(this),window.addEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler),this.fireVRDisplayDeviceParamsChange_())},Xn.prototype.endPresent_=function(){this.distorter_&&(this.distorter_.destroy(),this.distorter_=null),this.cardboardUI_&&(this.cardboardUI_.destroy(),this.cardboardUI_=null),this.rotateInstructions_&&this.rotateInstructions_.hide(),this.viewerSelector_.hide(),window.removeEventListener("orientationchange",this.orientationHandler),window.removeEventListener("vrdisplaypresentchange",this.vrdisplaypresentchangeHandler)},Xn.prototype.updatePresent_=function(){this.endPresent_(),this.beginPresent_()},Xn.prototype.submitFrame=function(ct){if(this.distorter_)this.updateBounds_(),this.distorter_.submitFrame();else if(this.cardboardUI_&&this.layer_){var Mt=this.layer_.source.getContext("webgl");Mt||(Mt=this.layer_.source.getContext("experimental-webgl")),Mt||(Mt=this.layer_.source.getContext("webgl2"));var Nt=Mt.canvas;(Nt.width!=this.lastWidth||Nt.height!=this.lastHeight)&&this.cardboardUI_.onResize(),this.lastWidth=Nt.width,this.lastHeight=Nt.height,this.cardboardUI_.render()}},Xn.prototype.onOrientationChange_=function(ct){this.viewerSelector_.hide(),this.rotateInstructions_&&this.rotateInstructions_.update(),this.onResize_()},Xn.prototype.onResize_=function(ct){if(this.layer_){var Mt=this.layer_.source.getContext("webgl");Mt||(Mt=this.layer_.source.getContext("experimental-webgl")),Mt||(Mt=this.layer_.source.getContext("webgl2"));var Nt=["position: absolute","top: 0","left: 0","width: 100vw","height: 100vh","border: 0","margin: 0","padding: 0px","box-sizing: content-box"];Mt.canvas.setAttribute("style",Nt.join("; ")+";"),ce(Mt.canvas)}},Xn.prototype.onViewerChanged_=function(ct){this.deviceInfo_.setViewer(ct),this.distorter_&&this.distorter_.updateDeviceInfo(this.deviceInfo_),this.fireVRDisplayDeviceParamsChange_()},Xn.prototype.fireVRDisplayDeviceParamsChange_=function(){var ct=new CustomEvent("vrdisplaydeviceparamschange",{detail:{vrdisplay:this,deviceInfo:this.deviceInfo_}});window.dispatchEvent(ct)},Xn.VRFrameData=B0,Xn.VRDisplay=Gi,Xn})}),v=p(b),C="0.10.12",w={ADDITIONAL_VIEWERS:[],DEFAULT_VIEWER:"",PROVIDE_MOBILE_VRDISPLAY:!0,MOBILE_WAKE_LOCK:!0,DEBUG:!1,DPDB_URL:"https://dpdb.webvr.rocks/dpdb.json",K_FILTER:.98,PREDICTION_TIME_S:.04,CARDBOARD_UI_DISABLED:!1,ROTATE_INSTRUCTIONS_DISABLED:!1,YAW_ONLY:!1,BUFFER_SCALE:.5,DIRTY_SUBMIT_FRAME_BINDINGS:!1};function _(T){this.config=y(y({},w),T),this.polyfillDisplays=[],this.enabled=!1,this.hasNative="getVRDisplays"in navigator,this.native={},this.native.getVRDisplays=navigator.getVRDisplays,this.native.VRFrameData=window.VRFrameData,this.native.VRDisplay=window.VRDisplay,(!this.hasNative||this.config.PROVIDE_MOBILE_VRDISPLAY&&M())&&(this.enable(),this.getVRDisplays().then(function(k){k&&k[0]&&k[0].fireVRDisplayConnect_&&k[0].fireVRDisplayConnect_()}))}_.prototype.getPolyfillDisplays=function(){if(this._polyfillDisplaysPopulated)return this.polyfillDisplays;if(M()){var T=new v({ADDITIONAL_VIEWERS:this.config.ADDITIONAL_VIEWERS,DEFAULT_VIEWER:this.config.DEFAULT_VIEWER,MOBILE_WAKE_LOCK:this.config.MOBILE_WAKE_LOCK,DEBUG:this.config.DEBUG,DPDB_URL:this.config.DPDB_URL,CARDBOARD_UI_DISABLED:this.config.CARDBOARD_UI_DISABLED,K_FILTER:this.config.K_FILTER,PREDICTION_TIME_S:this.config.PREDICTION_TIME_S,ROTATE_INSTRUCTIONS_DISABLED:this.config.ROTATE_INSTRUCTIONS_DISABLED,YAW_ONLY:this.config.YAW_ONLY,BUFFER_SCALE:this.config.BUFFER_SCALE,DIRTY_SUBMIT_FRAME_BINDINGS:this.config.DIRTY_SUBMIT_FRAME_BINDINGS});this.polyfillDisplays.push(T)}return this._polyfillDisplaysPopulated=!0,this.polyfillDisplays},_.prototype.enable=function(){if(this.enabled=!0,this.hasNative&&this.native.VRFrameData){var T=this.native.VRFrameData,k=new this.native.VRFrameData,D=this.native.VRDisplay.prototype.getFrameData;window.VRDisplay.prototype.getFrameData=function(N){if(N instanceof T){D.call(this,N);return}D.call(this,k),N.pose=k.pose,g(k.leftProjectionMatrix,N.leftProjectionMatrix),g(k.rightProjectionMatrix,N.rightProjectionMatrix),g(k.leftViewMatrix,N.leftViewMatrix),g(k.rightViewMatrix,N.rightViewMatrix)}}navigator.getVRDisplays=this.getVRDisplays.bind(this),window.VRDisplay=v.VRDisplay,window.VRFrameData=v.VRFrameData},_.prototype.getVRDisplays=function(){var T=this;return this.config,this.hasNative?this.native.getVRDisplays.call(navigator).then(function(k){return k.length>0?k:T.getPolyfillDisplays()}):Promise.resolve(this.getPolyfillDisplays())},_.version=C,_.VRFrameData=v.VRFrameData,_.VRDisplay=v.VRDisplay;var E=Object.freeze({default:_}),S=E&&_||E;typeof h<"u"&&h.window&&(h.document||(h.document=h.window.document),h.navigator||(h.navigator=h.window.navigator));var I=S;return I})},"./node_modules/word-wrapper/index.js":c=>{var d=/\n/,u=`
`,h=/\s/;c.exports=function(b,v){var C=c.exports.lines(b,v);return C.map(function(w){return b.substring(w.start,w.end)}).join(`
`)},c.exports.lines=function(v,C){if(C=C||{},C.width===0&&C.mode!=="nowrap")return[];v=v||"";var w=typeof C.width=="number"?C.width:Number.MAX_VALUE,_=Math.max(0,C.start||0),E=typeof C.end=="number"?C.end:v.length,S=C.mode,I=C.measure||y;return S==="pre"?M(I,v,_,E,w):g(I,v,_,E,w,S)};function p(b,v,C,w){var _=b.indexOf(v,C);return _===-1||_>w?w:_}function f(b){return h.test(b)}function M(b,v,C,w,_){for(var E=[],S=C,I=C;I<w&&I<v.length;I++){var T=v.charAt(I),k=d.test(T);if(k||I===w-1){var D=k?I:I+1,N=b(v,S,D,_);E.push(N),S=I+1}}return E}function g(b,v,C,w,_,E){var S=[],I=_;for(E==="nowrap"&&(I=Number.MAX_VALUE);C<w&&C<v.length;){for(var T=p(v,u,C,w);C<T&&f(v.charAt(C));)C++;var k=b(v,C,T,I),D=C+(k.end-k.start),N=D+u.length;if(D<T){for(;D>C&&!f(v.charAt(D));)D--;if(D===C)N>C+u.length&&N--,D=N;else for(N=D;D>C&&f(v.charAt(D-u.length));)D--}if(D>=C){var P=b(v,C,D,I);S.push(P)}C=N}return S}function y(b,v,C,w){var _=Math.min(w,C-v);return{start:v,end:v+_}}},"./node_modules/xhr/index.js":(c,d,u)=>{var h=u("./node_modules/global/window.js"),p=u("./node_modules/is-function/index.js"),f=u("./node_modules/parse-headers/parse-headers.js"),M=u("./node_modules/xtend/immutable.js");c.exports=v,c.exports.default=v,v.XMLHttpRequest=h.XMLHttpRequest||_,v.XDomainRequest="withCredentials"in new v.XMLHttpRequest?v.XMLHttpRequest:h.XDomainRequest,g(["get","put","post","patch","head","delete"],function(E){v[E==="delete"?"del":E]=function(S,I,T){return I=b(S,I,T),I.method=E.toUpperCase(),C(I)}});function g(E,S){for(var I=0;I<E.length;I++)S(E[I])}function y(E){for(var S in E)if(E.hasOwnProperty(S))return!1;return!0}function b(E,S,I){var T=E;return p(S)?(I=S,typeof E=="string"&&(T={uri:E})):T=M(S,{uri:E}),T.callback=I,T}function v(E,S,I){return S=b(E,S,I),C(S)}function C(E){if(typeof E.callback>"u")throw new Error("callback argument missing");var S=!1,I=function(dt,ht,st){S||(S=!0,E.callback(dt,ht,st))};function T(){P.readyState===4&&setTimeout(N,0)}function k(){var et=void 0;if(P.response?et=P.response:et=P.responseText||w(P),Z)try{et=JSON.parse(et)}catch{}return et}function D(et){return clearTimeout(j),et instanceof Error||(et=new Error(""+(et||"Unknown XMLHttpRequest Error"))),et.statusCode=0,I(et,W)}function N(){if(!U){var et;clearTimeout(j),E.useXDR&&P.status===void 0?et=200:et=P.status===1223?204:P.status;var dt=W,ht=null;return et!==0?(dt={body:k(),statusCode:et,method:z,headers:{},url:V,rawRequest:P},P.getAllResponseHeaders&&(dt.headers=f(P.getAllResponseHeaders()))):ht=new Error("Internal XMLHttpRequest Error"),I(ht,dt,dt.body)}}var P=E.xhr||null;P||(E.cors||E.useXDR?P=new v.XDomainRequest:P=new v.XMLHttpRequest);var F,U,V=P.url=E.uri||E.url,z=P.method=E.method||"GET",G=E.body||E.data,H=P.headers=E.headers||{},J=!!E.sync,Z=!1,j,W={body:void 0,headers:{},statusCode:0,method:z,url:V,rawRequest:P};if("json"in E&&E.json!==!1&&(Z=!0,H.accept||H.Accept||(H.Accept="application/json"),z!=="GET"&&z!=="HEAD"&&(H["content-type"]||H["Content-Type"]||(H["Content-Type"]="application/json"),G=JSON.stringify(E.json===!0?G:E.json))),P.onreadystatechange=T,P.onload=N,P.onerror=D,P.onprogress=function(){},P.onabort=function(){U=!0},P.ontimeout=D,P.open(z,V,!J,E.username,E.password),J||(P.withCredentials=!!E.withCredentials),!J&&E.timeout>0&&(j=setTimeout(function(){if(!U){U=!0,P.abort("timeout");var et=new Error("XMLHttpRequest timeout");et.code="ETIMEDOUT",D(et)}},E.timeout)),P.setRequestHeader)for(F in H)H.hasOwnProperty(F)&&P.setRequestHeader(F,H[F]);else if(E.headers&&!y(E.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in E&&(P.responseType=E.responseType),"beforeSend"in E&&typeof E.beforeSend=="function"&&E.beforeSend(P),P.send(G||null),P}function w(E){try{if(E.responseType==="document")return E.responseXML;var S=E.responseXML&&E.responseXML.documentElement.nodeName==="parsererror";if(E.responseType===""&&!S)return E.responseXML}catch{}return null}function _(){}},"./node_modules/xml-parse-from-string/index.js":c=>{c.exports=function(){return typeof self.DOMParser<"u"?function(u){var h=new self.DOMParser;return h.parseFromString(u,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(u){var h=new self.ActiveXObject("Microsoft.XMLDOM");return h.async="false",h.loadXML(u),h}:function(u){var h=document.createElement("div");return h.innerHTML=u,h}}()},"./node_modules/xtend/immutable.js":c=>{c.exports=u;var d=Object.prototype.hasOwnProperty;function u(){for(var h={},p=0;p<arguments.length;p++){var f=arguments[p];for(var M in f)d.call(f,M)&&(h[M]=f[M])}return h}},"./src/components/anchored.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/index.js"),f=p.debug("components:anchored:warn");c.exports.Component=h("anchored",{schema:{persistent:{default:!1}},init:function(){var g=this.el.sceneEl,y=g.getAttribute("webxr"),b=y.optionalFeatures;b.indexOf("anchors")===-1&&(b.push("anchors"),this.el.sceneEl.setAttribute("webxr",y)),this.auxQuaternion=new THREE.Quaternion,this.onEnterVR=this.onEnterVR.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR)},onEnterVR:function(){this.anchor=void 0,this.requestPersistentAnchorPending=this.data.persistent,this.requestAnchorPending=!this.data.persistent},tick:function(){var g=this.el.sceneEl,y=g.renderer.xr,b,v,C,w=this.el.object3D;!g.is("ar-mode")&&!g.is("vr-mode")||(!this.anchor&&this.requestPersistentAnchorPending&&this.restorePersistentAnchor(),!this.anchor&&this.requestAnchorPending&&this.createAnchor(),this.anchor&&(b=g.frame,v=y.getReferenceSpace(),C=b.getPose(this.anchor.anchorSpace,v),w.matrix.elements=C.transform.matrix,w.matrix.decompose(w.position,w.rotation,w.scale)))},createAnchor:async function(y,b){var v=this.el.sceneEl,C=v.renderer.xr,w,_,E,S,I=this.el.object3D;if(y=y||I.position,b=b||this.auxQuaternion.setFromEuler(I.rotation),!M(v)){f("This browser doesn't support the WebXR anchors module");return}this.anchor&&this.deleteAnchor(),w=v.frame,_=C.getReferenceSpace(),E=new XRRigidTransform({x:y.x,y:y.y,z:y.z},{x:b.x,y:b.y,z:b.z,w:b.w}),this.requestAnchorPending=!1,S=await w.createAnchor(E,_),this.data.persistent&&(this.el.id?(this.persistentHandle=await S.requestPersistentHandle(),localStorage.setItem(this.el.id,this.persistentHandle)):f("The anchor won't be persisted because the entity has no assigned id.")),v.object3D.attach(this.el.object3D),this.anchor=S},restorePersistentAnchor:async function(){var y=this.el.sceneEl.renderer.xr,b=y.getSession(),v=b.persistentAnchors,C;if(this.requestPersistentAnchorPending=!1,!this.el.id){f("The entity associated to the persistent anchor cannot be retrieved because it doesn't have an assigned id."),this.requestAnchorPending=!0;return}if(v){C=localStorage.getItem(this.el.id);for(var w=0;w<v.length;++w)if(C===v[w]){this.anchor=await b.restorePersistentAnchor(v[w]),this.anchor&&(this.persistentHandle=v[w]);break}this.anchor||(this.requestAnchorPending=!0)}else this.requestPersistentAnchorPending=!0},deleteAnchor:function(){var g,y,b=this.anchor;b&&(g=this.el.sceneEl.renderer.xr,y=g.getSession(),b.delete(),this.el.sceneEl.object3D.add(this.el.object3D),this.persistentHandle&&y.deletePersistentAnchor(this.persistentHandle),this.anchor=void 0)}});function M(g){var y=g.renderer.xr,b=y.getSession();return b&&b.restorePersistentAnchor}},"./src/components/animation.js":(c,d,u)=>{var h=u("./node_modules/super-animejs/lib/anime.es.js").default,p=u("./src/core/component.js").components,f=u("./src/core/component.js").registerComponent,M=u("./src/lib/three.js"),g=u("./src/utils/index.js"),y=new M.Color,b=new M.Color,v=g.entity.getComponentProperty,C=g.entity.setComponentProperty,w={},_="color",E="position",S="rotation",I="scale",T="components",k="object3D";c.exports.Component=f("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(H){return H===!0||H==="true"?!0:H===!1||H==="false"?!1:parseInt(H,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var H=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){H.animationIsPlaying=!1,H.el.emit("animationcomplete",H.eventDetail,!1),H.id&&H.el.emit("animationcomplete__"+H.id,H.eventDetail,!1)}}},update:function(H){var J=this.config,Z=this.data;this.animationIsPlaying=!1,this.data.enabled&&Z.property&&(J.autoplay=!1,J.direction=Z.dir,J.duration=Z.dur,J.easing=Z.easing,J.elasticity=Z.elasticity,J.loop=Z.loop,J.round=Z.round,this.createAndStartAnimation())},tick:function(H,J){this.animationIsPlaying&&(this.time+=J,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var H=this.data;if(this.updateConfig(),this.animationIsPlaying=!1,this.animation=h(this.config),this.animation.began=!0,this.removeEventListeners(),this.addEventListeners(),!(!H.autoplay||H.startEvents&&H.startEvents.length)){if(H.delay){setTimeout(this.beginAnimation,H.delay);return}this.beginAnimation()}},beginAnimation:function(){this.updateConfig(),this.animation.began=!0,this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){if(this.data.enabled){if(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=h(this.config),this.data.delay){setTimeout(this.beginAnimation,this.data.delay);return}this.beginAnimation()}},updateConfigForRawColor:function(){var H=this.config,J=this.data,Z=this.el,j,W,et;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){j=J.from===""?U(Z,J.property):J.from,et=J.to,this.setColorConfig(j,et),j=this.fromColor,et=this.toColor,this.targetsArray.length=0,this.targetsArray.push(j),H.targets=this.targetsArray;for(W in et)H[W]=et[W];H.update=function(){var dt={};return function(ht){var st;st=ht.animatables[0].target,!(st.r===dt.r&&st.g===dt.g&&st.b===dt.b)&&V(Z,J.property,st,J.type)}}()}},updateConfigForDefault:function(){var H=this.config,J=this.data,Z=this.el,j,W,et,dt;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(J.from===""?j=G(J)?U(Z,J.property):v(Z,J.property):j=J.from,dt=J.to,et=!isNaN(j||dt),et?(j=parseFloat(j),dt=parseFloat(dt)):(j=j&&j.toString(),dt=dt&&dt.toString()),W=J.to==="true"||J.to==="false"||J.to===!0||J.to===!1,W&&(j=J.from==="true"||J.from===!0?1:0,dt=J.to==="true"||J.to===!0?1:0),this.targets.aframeProperty=j,H.targets=this.targets,H.aframeProperty=dt,H.update=function(){var ht;return function(st){var St;St=st.animatables[0].target.aframeProperty,St!==ht&&(ht=St,W&&(St=St>=1),G(J)?V(Z,J.property,St,J.type):C(Z,J.property,St))}}())},updateConfigForVector:function(){var H=this.config,J=this.data,Z=this.el,j,W,et;W=J.from!==""?g.coordinates.parse(J.from):v(Z,J.property),et=g.coordinates.parse(J.to),J.property===S&&(N(W),N(et)),this.targetsArray.length=0,this.targetsArray.push(W),H.targets=this.targetsArray;for(j in et)H[j]=et[j];if(J.property===E||J.property===S||J.property===I){H.update=function(){var dt={};return function(ht){var st=ht.animatables[0].target;st.x===dt.x&&st.y===dt.y&&st.z===dt.z||(dt.x=st.x,dt.y=st.y,dt.z=st.z,Z.object3D[J.property].set(st.x,st.y,st.z))}}();return}H.update=function(){var dt={};return function(ht){var st=ht.animatables[0].target;st.x===dt.x&&st.y===dt.y&&st.z===dt.z||(dt.x=st.x,dt.y=st.y,dt.z=st.z,C(Z,J.property,st))}}()},updateConfig:function(){var H;H=D(this.el,this.data.property),G(this.data)&&this.data.type===_?this.updateConfigForRawColor():H==="vec2"||H==="vec3"||H==="vec4"?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(H){var J,Z=this.data,j=this.el,W=this;return Z.from!==""||!Z.property.startsWith(T)||(J=z(Z.property)[1],j.components[J])?!1:(j.addEventListener("componentinitialized",function et(dt){dt.detail.name===J&&(H(),W.animation=h(W.config),j.removeEventListener("componentinitialized",et))}),!0)},stopRelatedAnimations:function(){var H,J;for(J in this.el.components)H=this.el.components[J],J!==this.attrName&&H.name==="animation"&&H.animationIsPlaying&&H.data.property===this.data.property&&(H.animationIsPlaying=!1)},addEventListeners:function(){var H=this.data,J=this.el;P(J,H.startEvents,this.onStartEvent),P(J,H.pauseEvents,this.pauseAnimation),P(J,H.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var H=this.data,J=this.el;F(J,H.startEvents,this.onStartEvent),F(J,H.pauseEvents,this.pauseAnimation),F(J,H.resumeEvents,this.resumeAnimation)},setColorConfig:function(H,J){y.set(H),b.set(J),H=this.fromColor,J=this.toColor,H.r=y.r,H.g=y.g,H.b=y.b,J.r=b.r,J.g=b.g,J.b=b.b}});function D(H,J){var Z,j,W,et;return W=J.split("."),j=W[0],et=W[1],Z=H.components[j]||p[j],!Z||et&&!Z.schema[et]?null:et?Z.schema[et].type:Z.schema.type}function N(H){H.x=M.MathUtils.degToRad(H.x),H.y=M.MathUtils.degToRad(H.y),H.z=M.MathUtils.degToRad(H.z)}function P(H,J,Z){var j;for(j=0;j<J.length;j++)H.addEventListener(J[j],Z)}function F(H,J,Z){var j;for(j=0;j<J.length;j++)H.removeEventListener(J[j],Z)}function U(H,J){var Z,j,W;for(j=z(J),W=H,Z=0;Z<j.length;Z++)W=W[j[Z]];if(W===void 0)throw console.log(H),new Error("[animation] property ("+J+") could not be found");return W}function V(H,J,Z,j){var W,et,dt,ht;for(J.startsWith("object3D.rotation")&&(Z=M.MathUtils.degToRad(Z)),et=z(J),ht=H,W=0;W<et.length-1;W++)ht=ht[et[W]];if(dt=et[et.length-1],j===_){"r"in ht[dt]?(ht[dt].r=Z.r,ht[dt].g=Z.g,ht[dt].b=Z.b):(ht[dt].x=Z.r,ht[dt].y=Z.g,ht[dt].z=Z.b);return}ht[dt]=Z}function z(H){return H in w||(w[H]=H.split(".")),w[H]}function G(H){return H.isRawProperty||H.property.startsWith(T)||H.property.startsWith(k)}},"./src/components/camera.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js");c.exports.Component=h("camera",{schema:{active:{default:!0},far:{default:1e4},fov:{default:80,min:0},near:{default:.005,min:0},spectator:{default:!1},zoom:{default:1,min:0}},init:function(){var f,M=this.el;f=this.camera=new p.PerspectiveCamera,M.setObject3D("camera",f)},update:function(f){var M=this.data,g=this.camera;g.aspect=M.aspect||window.innerWidth/window.innerHeight,g.far=M.far,g.fov=M.fov,g.near=M.near,g.zoom=M.zoom,g.updateProjectionMatrix(),this.updateActiveCamera(f),this.updateSpectatorCamera(f)},updateActiveCamera:function(f){var M=this.data,g=this.el,y=this.system;f&&f.active===M.active||M.spectator||(M.active&&y.activeCameraEl!==g?y.setActiveCamera(g):!M.active&&y.activeCameraEl===g&&y.disableActiveCamera())},updateSpectatorCamera:function(f){var M=this.data,g=this.el,y=this.system;f&&f.spectator===M.spectator||(M.spectator&&y.spectatorCameraEl!==g?y.setSpectatorCamera(g):!M.spectator&&y.spectatorCameraEl===g&&y.disableSpectatorCamera())},remove:function(){this.el.removeObject3D("camera")}})},"./src/components/cursor.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/index.js"),f={CLICK:"click",FUSING:"fusing",MOUSEENTER:"mouseenter",MOUSEDOWN:"mousedown",MOUSELEAVE:"mouseleave",MOUSEUP:"mouseup"},M={FUSING:"cursor-fusing",HOVERING:"cursor-hovering",HOVERED:"cursor-hovered"},g={DOWN:["mousedown","touchstart"],UP:["mouseup","touchend"]},y={DOWN:["selectstart"],UP:["selectend"]},b="a-mouse-cursor-hover";c.exports.Component=h("cursor",{dependencies:["raycaster"],schema:{downEvents:{default:[]},fuse:{default:p.device.isMobile()},fuseTimeout:{default:1500,min:0},mouseCursorStylesEnabled:{default:!0},upEvents:{default:[]},rayOrigin:{default:"entity",oneOf:["mouse","entity","xrselect"]}},after:["tracked-controls"],multiple:!0,init:function(){var v=this;this.fuseTimeout=void 0,this.cursorDownEl=null,this.intersectedEl=null,this.canvasBounds=document.body.getBoundingClientRect(),this.isCursorDown=!1,this.activeXRInput=null,this.updateCanvasBounds=p.debounce(function(){v.canvasBounds=v.el.sceneEl.canvas.getBoundingClientRect()},500),this.eventDetail={},this.intersectedEventDetail={cursorEl:this.el},this.onCursorDown=this.onCursorDown.bind(this),this.onCursorUp=this.onCursorUp.bind(this),this.onIntersection=this.onIntersection.bind(this),this.onIntersectionCleared=this.onIntersectionCleared.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onEnterVR=this.onEnterVR.bind(this)},update:function(v){this.data.rayOrigin!==v.rayOrigin&&this.updateMouseEventListeners()},tick:function(){var v=this.el.sceneEl.frame,C=this.activeXRInput;this.data.rayOrigin==="xrselect"&&v&&C&&this.onMouseMove({frame:v,inputSource:C,type:"fakeselectevent"})},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){var v=this.el;v.removeState(M.HOVERING),v.removeState(M.FUSING),clearTimeout(this.fuseTimeout),this.intersectedEl&&this.intersectedEl.removeState(M.HOVERED),this.removeEventListeners()},addEventListeners:function(){var v,C=this.data,w=this.el,_=this;function E(){v=w.sceneEl.canvas,!(C.downEvents.length||C.upEvents.length)&&(g.DOWN.forEach(function(S){v.addEventListener(S,_.onCursorDown,{passive:!1})}),g.UP.forEach(function(S){v.addEventListener(S,_.onCursorUp,{passive:!1})}))}v=w.sceneEl.canvas,v?E():w.sceneEl.addEventListener("render-target-loaded",E),C.downEvents.forEach(function(S){w.addEventListener(S,_.onCursorDown)}),C.upEvents.forEach(function(S){w.addEventListener(S,_.onCursorUp)}),w.addEventListener("raycaster-intersection",this.onIntersection),w.addEventListener("raycaster-closest-entity-changed",this.onIntersection),w.addEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),w.sceneEl.addEventListener("rendererresize",this.updateCanvasBounds),w.sceneEl.addEventListener("enter-vr",this.onEnterVR),window.addEventListener("resize",this.updateCanvasBounds),window.addEventListener("scroll",this.updateCanvasBounds),this.updateMouseEventListeners()},removeEventListeners:function(){var v,C=this.data,w=this.el,_=this;v=w.sceneEl.canvas,v&&!C.downEvents.length&&!C.upEvents.length&&(g.DOWN.forEach(function(E){v.removeEventListener(E,_.onCursorDown)}),g.UP.forEach(function(E){v.removeEventListener(E,_.onCursorUp)})),C.downEvents.forEach(function(E){w.removeEventListener(E,_.onCursorDown)}),C.upEvents.forEach(function(E){w.removeEventListener(E,_.onCursorUp)}),w.removeEventListener("raycaster-intersection",this.onIntersection),w.removeEventListener("raycaster-intersection-cleared",this.onIntersectionCleared),v.removeEventListener("mousemove",this.onMouseMove),v.removeEventListener("touchstart",this.onMouseMove),v.removeEventListener("touchmove",this.onMouseMove),w.sceneEl.removeEventListener("rendererresize",this.updateCanvasBounds),w.sceneEl.removeEventListener("enter-vr",this.onEnterVR),window.removeEventListener("resize",this.updateCanvasBounds),window.removeEventListener("scroll",this.updateCanvasBounds)},updateMouseEventListeners:function(){var v,C=this.el;v=C.sceneEl.canvas,v.removeEventListener("mousemove",this.onMouseMove),v.removeEventListener("touchmove",this.onMouseMove),C.setAttribute("raycaster","useWorldCoordinates",!1),this.data.rayOrigin==="mouse"&&(v.addEventListener("mousemove",this.onMouseMove),v.addEventListener("touchmove",this.onMouseMove,{passive:!1}),C.setAttribute("raycaster","useWorldCoordinates",!0),this.updateCanvasBounds())},onMouseMove:function(){var v=new THREE.Vector3,C=new THREE.Vector2,w=new THREE.Vector3,_={origin:w,direction:v};return function(E){var S=this.canvasBounds,I=this.el.sceneEl.camera,T,k,D,N,P,F,U,V;I.parent.updateMatrixWorld(),E.type==="touchmove"||E.type==="touchstart"?k=E.touches.item(0):k=E,T=k.clientX-S.left,D=k.clientY-S.top,C.x=T/S.width*2-1,C.y=-(D/S.height)*2+1,this.data.rayOrigin==="xrselect"&&(E.type==="selectstart"||E.type==="fakeselectevent")?(N=E.frame,P=E.inputSource,F=this.el.renderer.xr.getReferenceSpace(),U=N.getPose(P.targetRaySpace,F),V=U.transform,v.set(0,0,-1),v.applyQuaternion(V.orientation),w.copy(V.position)):E.type==="fakeselectout"?(v.set(0,1,0),w.set(0,9999,0)):I&&I.isPerspectiveCamera?(w.setFromMatrixPosition(I.matrixWorld),v.set(C.x,C.y,.5).unproject(I).sub(w).normalize()):I&&I.isOrthographicCamera?(w.set(C.x,C.y,(I.near+I.far)/(I.near-I.far)).unproject(I),v.set(0,0,-1).transformDirection(I.matrixWorld)):console.error("AFRAME.Raycaster: Unsupported camera type: "+I.type),this.el.setAttribute("raycaster",_),E.type==="touchmove"&&E.preventDefault()}}(),onCursorDown:function(v){this.isCursorDown=!0,this.data.rayOrigin==="mouse"&&v.type==="touchstart"&&(this.onMouseMove(v),this.el.components.raycaster.checkIntersections(),v.preventDefault()),this.data.rayOrigin==="xrselect"&&v.type==="selectstart"&&(this.activeXRInput=v.inputSource,this.onMouseMove(v),this.el.components.raycaster.checkIntersections(),this.el.components.raycaster.intersectedEls.length&&this.el.sceneEl.components["ar-hit-test"]!==void 0&&this.el.sceneEl.getAttribute("ar-hit-test").enabled&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!1),this.reenableARHitTest=!0)),this.twoWayEmit(f.MOUSEDOWN,v),this.cursorDownEl=this.intersectedEl},onCursorUp:function(v){if(this.isCursorDown){this.isCursorDown=!1;var C=this.data;this.twoWayEmit(f.MOUSEUP,v),this.reenableARHitTest===!0&&(this.el.sceneEl.setAttribute("ar-hit-test","enabled",!0),this.reenableARHitTest=void 0),this.cursorDownEl&&this.cursorDownEl!==this.intersectedEl&&(this.intersectedEventDetail.intersection=null,this.cursorDownEl.emit(f.MOUSEUP,this.intersectedEventDetail)),(!C.fuse||C.rayOrigin==="mouse"||C.rayOrigin==="xrselect")&&this.intersectedEl&&this.cursorDownEl===this.intersectedEl&&this.twoWayEmit(f.CLICK,v),C.rayOrigin==="xrselect"&&this.activeXRInput===v.inputSource&&this.onMouseMove({type:"fakeselectout"}),this.activeXRInput=null,this.cursorDownEl=null,v.type==="touchend"&&v.preventDefault()}},onIntersection:function(v){var C,w=this.el,_,E,S;_=v.detail.els[0]===w?1:0,S=v.detail.intersections[_],E=v.detail.els[_],E&&this.intersectedEl!==E&&(this.intersectedEl&&(C=this.el.components.raycaster.getIntersection(this.intersectedEl),C&&C.distance<=S.distance)||(this.clearCurrentIntersection(!0),this.setIntersection(E,S)))},onIntersectionCleared:function(v){var C=v.detail.clearedEls;C.indexOf(this.intersectedEl)!==-1&&this.clearCurrentIntersection()},onEnterVR:function(){this.clearCurrentIntersection(!0);var v=this.el.sceneEl.xrSession,C=this;v&&this.data.rayOrigin!=="mouse"&&(y.DOWN.forEach(function(w){v.addEventListener(w,C.onCursorDown)}),y.UP.forEach(function(w){v.addEventListener(w,C.onCursorUp)}))},setIntersection:function(v,C){var w=this.el,_=this.data,E=this;this.intersectedEl!==v&&(this.intersectedEl=v,w.addState(M.HOVERING),v.addState(M.HOVERED),this.twoWayEmit(f.MOUSEENTER),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.add(b),!(_.fuseTimeout===0||!_.fuse||_.rayOrigin==="xrselect"||_.rayOrigin==="mouse")&&(w.addState(M.FUSING),this.twoWayEmit(f.FUSING),this.fuseTimeout=setTimeout(function(){w.removeState(M.FUSING),E.twoWayEmit(f.CLICK)},_.fuseTimeout)))},clearCurrentIntersection:function(v){var C,w,_,E=this.el;this.intersectedEl&&(this.intersectedEl.removeState(M.HOVERED),E.removeState(M.HOVERING),E.removeState(M.FUSING),this.twoWayEmit(f.MOUSELEAVE),this.data.mouseCursorStylesEnabled&&this.data.rayOrigin==="mouse"&&this.el.sceneEl.canvas.classList.remove(b),this.intersectedEl=null,clearTimeout(this.fuseTimeout),v!==!0&&(_=this.el.components.raycaster.intersections,_.length!==0&&(C=_[0].object.el===E?1:0,w=_[C],w&&this.setIntersection(w.object.el,w))))},twoWayEmit:function(v,C){var w=this.el,_=this.intersectedEl,E;function S(I,T){C instanceof MouseEvent?I.mouseEvent=C:typeof TouchEvent<"u"&&C instanceof TouchEvent&&(I.touchEvent=C)}E=this.el.components.raycaster.getIntersection(_),this.eventDetail.intersectedEl=_,this.eventDetail.intersection=E,S(this.eventDetail),w.emit(v,this.eventDetail),_&&(this.intersectedEventDetail.intersection=E,S(this.intersectedEventDetail),_.emit(v,this.intersectedEventDetail))}})},"./src/components/generic-tracked-controller-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/tracked-controls.js"),f=p.checkControllerPresentAndSetup,M=p.emitIfAxesChanged,g=p.onButtonEvent,y="generic",b={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick"]};c.exports.Component=h("generic-tracked-controller-controls",{schema:{hand:{default:""},defaultModel:{default:!0},defaultModelColor:{default:"gray"},orientationOffset:{type:"vec3"},disabled:{default:!1}},after:["tracked-controls"],mapping:b,bindMethods:function(){this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var v=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(C){g(C.detail.id,"down",v)},this.onButtonUp=function(C){g(C.detail.id,"up",v)},this.onButtonTouchStart=function(C){g(C.detail.id,"touchstart",v)},this.onButtonTouchEnd=function(C){g(C.detail.id,"touchend",v)},this.controllerPresent=!1,this.wasControllerConnected=!1,this.lastControllerCheck=0,this.bindMethods(),this.el.addEventListener("controllerconnected",function(C){C.detail.name!==v.name&&(v.wasControllerConnected=!0,v.removeEventListeners(),v.removeControllersUpdateListener())})},addEventListeners:function(){var v=this.el;v.addEventListener("buttonchanged",this.onButtonChanged),v.addEventListener("buttondown",this.onButtonDown),v.addEventListener("buttonup",this.onButtonUp),v.addEventListener("touchstart",this.onButtonTouchStart),v.addEventListener("touchend",this.onButtonTouchEnd),v.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var v=this.el;v.removeEventListener("buttonchanged",this.onButtonChanged),v.removeEventListener("buttondown",this.onButtonDown),v.removeEventListener("buttonup",this.onButtonUp),v.removeEventListener("touchstart",this.onButtonTouchStart),v.removeEventListener("touchend",this.onButtonTouchEnd),v.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var v=this.data,C=v.hand?v.hand:void 0;f(this,y,{hand:C,iterateControllerProfiles:!0})},play:function(){this.wasControllerConnected||(this.checkIfControllerPresent(),this.addControllersUpdateListener())},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var v=this.el,C=this.data;if(this.el.components["tracked-controls"]){this.removeEventListeners();return}v.setAttribute("tracked-controls",{hand:C.hand,idPrefix:y,orientationOffset:C.orientationOffset,iterateControllerProfiles:!0}),this.data.defaultModel&&this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.wasControllerConnected&&this.checkIfControllerPresent()},onButtonChanged:function(v){var C=this.mapping.buttons[v.detail.id];C&&this.el.emit(C+"changed",v.detail.state)},onAxisMoved:function(v){M(this,this.mapping.axes,v)},initDefaultModel:function(){var v=this.modelEl=document.createElement("a-entity");v.setAttribute("geometry",{primitive:"sphere",radius:.03}),v.setAttribute("material",{color:this.data.color}),this.el.appendChild(v),this.el.emit("controllermodelready",{name:"generic-tracked-controller-controls",model:this.modelEl,rayOrigin:{origin:{x:0,y:0,z:-.01},direction:{x:0,y:0,z:-1}}})}})},"./src/components/geometry.js":(c,d,u)=>{var h=u("./src/core/geometry.js").geometries,p=u("./src/core/geometry.js").geometryNames,f=u("./src/core/component.js").registerComponent,M=u("./src/lib/three.js"),g=new M.BufferGeometry;c.exports.Component=f("geometry",{schema:{buffer:{default:!0},primitive:{default:"box",oneOf:p,schemaChange:!0},skipCache:{default:!1}},init:function(){this.geometry=null},update:function(y){var b=this.data,v=this.el,C,w=this.system;this.geometry&&(w.unuseGeometry(y),this.geometry=null),this.geometry=w.getOrCreateGeometry(b),C=v.getObject3D("mesh"),C?C.geometry=this.geometry:(C=new M.Mesh,C.geometry=this.geometry,this.el.getAttribute("material")||(C.material=new M.MeshStandardMaterial({color:Math.random()*16777215,metalness:0,roughness:.5})),v.setObject3D("mesh",C))},remove:function(){this.system.unuseGeometry(this.data),this.el.getObject3D("mesh").geometry=g,this.geometry=null},updateSchema:function(y){var b=this.oldData&&this.oldData.primitive,v=y.primitive,C=h[v]&&h[v].schema;if(!C)throw new Error("Unknown geometry schema `"+v+"`");b&&b===v||this.extendSchema(C)}})},"./src/components/gltf-model.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),f=u("./src/utils/index.js"),M=f.debug("components:gltf-model:warn");c.exports.Component=h("gltf-model",{schema:{type:"model"},init:function(){var g=this,y=this.system.getDRACOLoader(),b=this.system.getMeshoptDecoder(),v=this.system.getKTX2Loader();this.model=null,this.loader=new p.GLTFLoader,y&&this.loader.setDRACOLoader(y),b?this.ready=b.then(function(C){g.loader.setMeshoptDecoder(C)}):this.ready=Promise.resolve(),v&&this.loader.setKTX2Loader(v)},update:function(){var g=this,y=this.el,b=this.data;b&&(this.remove(),this.ready.then(function(){g.loader.load(b,function(C){g.model=C.scene||C.scenes[0],g.model.animations=C.animations,y.setObject3D("mesh",g.model),y.emit("model-loaded",{format:"gltf",model:g.model})},void 0,function(C){var w=C&&C.message?C.message:"Failed to load glTF model";M(w),y.emit("model-error",{format:"gltf",src:b})})}))},remove:function(){this.model&&this.el.removeObject3D("mesh")}})},"./src/components/grabbable.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;h("grabbable",{init:function(){this.el.setAttribute("obb-collider","centerModel: true")}})},"./src/components/hand-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/constants/index.js").AFRAME_CDN_ROOT,f={toonLeft:p+"controllers/hands/leftHand.glb",toonRight:p+"controllers/hands/rightHand.glb",lowPolyLeft:p+"controllers/hands/leftHandLow.glb",lowPolyRight:p+"controllers/hands/rightHandLow.glb",highPolyLeft:p+"controllers/hands/leftHandHigh.glb",highPolyRight:p+"controllers/hands/rightHandHigh.glb"},M={open:"Open",point:"Point",pointThumb:"Point + Thumb",fist:"Fist",hold:"Hold",thumbUp:"Thumb Up"},g={};g[M.fist]="grip",g[M.thumbUp]="pistol",g[M.point]="pointing",c.exports.Component=h("hand-controls",{schema:{color:{default:"white",type:"color"},hand:{default:"left"},handModelStyle:{default:"lowPoly",oneOf:["lowPoly","highPoly","toon"]}},after:["tracked-controls"],init:function(){var v=this,C=this.el;this.pressedButtons={},this.touchedButtons={},this.loader=new THREE.GLTFLoader,this.loader.setCrossOrigin("anonymous"),this.onGripDown=function(){v.handleButton("grip","down")},this.onGripUp=function(){v.handleButton("grip","up")},this.onTrackpadDown=function(){v.handleButton("trackpad","down")},this.onTrackpadUp=function(){v.handleButton("trackpad","up")},this.onTrackpadTouchStart=function(){v.handleButton("trackpad","touchstart")},this.onTrackpadTouchEnd=function(){v.handleButton("trackpad","touchend")},this.onTriggerDown=function(){v.handleButton("trigger","down")},this.onTriggerUp=function(){v.handleButton("trigger","up")},this.onTriggerTouchStart=function(){v.handleButton("trigger","touchstart")},this.onTriggerTouchEnd=function(){v.handleButton("trigger","touchend")},this.onGripTouchStart=function(){v.handleButton("grip","touchstart")},this.onGripTouchEnd=function(){v.handleButton("grip","touchend")},this.onThumbstickDown=function(){v.handleButton("thumbstick","down")},this.onThumbstickUp=function(){v.handleButton("thumbstick","up")},this.onAorXTouchStart=function(){v.handleButton("AorX","touchstart")},this.onAorXTouchEnd=function(){v.handleButton("AorX","touchend")},this.onBorYTouchStart=function(){v.handleButton("BorY","touchstart")},this.onBorYTouchEnd=function(){v.handleButton("BorY","touchend")},this.onSurfaceTouchStart=function(){v.handleButton("surface","touchstart")},this.onSurfaceTouchEnd=function(){v.handleButton("surface","touchend")},this.onControllerConnected=this.onControllerConnected.bind(this),this.onControllerDisconnected=this.onControllerDisconnected.bind(this),C.addEventListener("controllerconnected",this.onControllerConnected),C.addEventListener("controllerdisconnected",this.onControllerDisconnected),C.object3D.visible=!1},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},tick:function(v,C){var w=this.el.getObject3D("mesh");!w||!w.mixer||w.mixer.update(C/1e3)},onControllerConnected:function(){this.el.object3D.visible=!0},onControllerDisconnected:function(){this.el.object3D.visible=!1},addEventListeners:function(){var v=this.el;v.addEventListener("gripdown",this.onGripDown),v.addEventListener("gripup",this.onGripUp),v.addEventListener("trackpaddown",this.onTrackpadDown),v.addEventListener("trackpadup",this.onTrackpadUp),v.addEventListener("trackpadtouchstart",this.onTrackpadTouchStart),v.addEventListener("trackpadtouchend",this.onTrackpadTouchEnd),v.addEventListener("triggerdown",this.onTriggerDown),v.addEventListener("triggerup",this.onTriggerUp),v.addEventListener("triggertouchstart",this.onTriggerTouchStart),v.addEventListener("triggertouchend",this.onTriggerTouchEnd),v.addEventListener("griptouchstart",this.onGripTouchStart),v.addEventListener("griptouchend",this.onGripTouchEnd),v.addEventListener("thumbstickdown",this.onThumbstickDown),v.addEventListener("thumbstickup",this.onThumbstickUp),v.addEventListener("abuttontouchstart",this.onAorXTouchStart),v.addEventListener("abuttontouchend",this.onAorXTouchEnd),v.addEventListener("bbuttontouchstart",this.onBorYTouchStart),v.addEventListener("bbuttontouchend",this.onBorYTouchEnd),v.addEventListener("xbuttontouchstart",this.onAorXTouchStart),v.addEventListener("xbuttontouchend",this.onAorXTouchEnd),v.addEventListener("ybuttontouchstart",this.onBorYTouchStart),v.addEventListener("ybuttontouchend",this.onBorYTouchEnd),v.addEventListener("surfacetouchstart",this.onSurfaceTouchStart),v.addEventListener("surfacetouchend",this.onSurfaceTouchEnd)},removeEventListeners:function(){var v=this.el;v.removeEventListener("gripdown",this.onGripDown),v.removeEventListener("gripup",this.onGripUp),v.removeEventListener("trackpaddown",this.onTrackpadDown),v.removeEventListener("trackpadup",this.onTrackpadUp),v.removeEventListener("trackpadtouchstart",this.onTrackpadTouchStart),v.removeEventListener("trackpadtouchend",this.onTrackpadTouchEnd),v.removeEventListener("triggerdown",this.onTriggerDown),v.removeEventListener("triggerup",this.onTriggerUp),v.removeEventListener("triggertouchstart",this.onTriggerTouchStart),v.removeEventListener("triggertouchend",this.onTriggerTouchEnd),v.removeEventListener("griptouchstart",this.onGripTouchStart),v.removeEventListener("griptouchend",this.onGripTouchEnd),v.removeEventListener("thumbstickdown",this.onThumbstickDown),v.removeEventListener("thumbstickup",this.onThumbstickUp),v.removeEventListener("abuttontouchstart",this.onAorXTouchStart),v.removeEventListener("abuttontouchend",this.onAorXTouchEnd),v.removeEventListener("bbuttontouchstart",this.onBorYTouchStart),v.removeEventListener("bbuttontouchend",this.onBorYTouchEnd),v.removeEventListener("xbuttontouchstart",this.onAorXTouchStart),v.removeEventListener("xbuttontouchend",this.onAorXTouchEnd),v.removeEventListener("ybuttontouchstart",this.onBorYTouchStart),v.removeEventListener("ybuttontouchend",this.onBorYTouchEnd),v.removeEventListener("surfacetouchstart",this.onSurfaceTouchStart),v.removeEventListener("surfacetouchend",this.onSurfaceTouchEnd)},update:function(v){var C,w=this.el,_=this.data.hand,E=this.data.handModelStyle,S=this.data.color,I=this;if(C={hand:_,model:!1},_!==v){var T=f[E+_.charAt(0).toUpperCase()+_.slice(1)];this.loader.load(T,function(k){var D=k.scene.children[0],N=_==="left"?Math.PI/2:-Math.PI/2,P=w.sceneEl.hasWebXR?-Math.PI/2:0;D.mixer=new THREE.AnimationMixer(D),I.clips=k.animations,w.setObject3D("mesh",D),D.traverse(function(F){F.isMesh&&(F.material.color=new THREE.Color(S))}),D.position.set(0,0,0),D.rotation.set(P,0,N),w.setAttribute("magicleap-controls",C),w.setAttribute("vive-controls",C),w.setAttribute("oculus-touch-controls",C),w.setAttribute("pico-controls",C),w.setAttribute("windows-motion-controls",C),w.setAttribute("hp-mixed-reality-controls",C)})}},remove:function(){this.el.removeObject3D("mesh")},handleButton:function(v,C){var w,_=C==="down",E=C==="touchstart";if(C.indexOf("touch")===0){if(E===this.touchedButtons[v])return;this.touchedButtons[v]=E}else{if(_===this.pressedButtons[v])return;this.pressedButtons[v]=_}w=this.gesture,this.gesture=this.determineGesture(),this.gesture!==w&&(this.animateGesture(this.gesture,w),this.emitGestureEvents(this.gesture,w))},determineGesture:function(){var v,C=this.pressedButtons.grip,w=this.pressedButtons.surface||this.touchedButtons.surface,_=this.pressedButtons.trackpad||this.touchedButtons.trackpad,E=this.pressedButtons.trigger||this.touchedButtons.trigger,S=this.touchedButtons.AorX||this.touchedButtons.BorY,I=b(this.el.components["tracked-controls"]);return I?C||E?v=M.fist:_&&(v=M.point):C?w||S||_?v=E?M.fist:M.point:v=E?M.thumbUp:M.pointThumb:E&&(v=M.hold),v},getClip:function(v){var C,w;for(w=0;w<this.clips.length;w++)if(C=this.clips[w],C.name===v)return C},animateGesture:function(v,C){if(v){this.playAnimation(v||M.open,C,!1);return}this.playAnimation(C,C,!0)},emitGestureEvents:function(v,C){var w=this.el,_;C!==v&&(_=y(C,!1),_&&w.emit(_),_=y(v,!0),_&&w.emit(_))},playAnimation:function(v,C,w){var _,E,S=this.el.getObject3D("mesh"),I;if(S){if(_=this.getClip(v),I=S.mixer.clipAction(_),w){I.paused=!1,I.timeScale=-1;return}if(I.clampWhenFinished=!0,I.loop=THREE.LoopOnce,I.repetitions=0,I.timeScale=1,I.time=0,I.weight=1,!C){S.mixer.stopAllAction(),I.play();return}_=this.getClip(C),I.reset(),I.play(),E=S.mixer.clipAction(_),E.crossFadeTo(I,.15,!0)}}});function y(v,C){var w;if(v){if(w=g[v],w==="grip")return w+(C?"close":"open");if(w==="point")return w+(C?"up":"down");if(w==="pointing"||w==="pistol")return w+(C?"start":"end")}}function b(v){var C=v&&v.controller,w=C&&(C.id&&C.id.indexOf("OpenVR ")===0||C.profiles&&C.profiles[0]&&C.profiles[0]==="htc-vive");return w}},"./src/components/hand-tracking-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/core/a-entity.js").AEntity,f=u("./src/utils/tracked-controls.js"),M=f.checkControllerPresentAndSetup,g=u("./src/constants/index.js").AFRAME_CDN_ROOT,y=g+"controllers/oculus-hands/v4/left.glb",b=g+"controllers/oculus-hands/v4/right.glb",v=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"],C=0,w=4,_=9,E=.015,S=.1;c.exports.Component=h("hand-tracking-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},modelStyle:{default:"mesh",oneOf:["dots","mesh"]},modelColor:{default:"white"},modelOpacity:{default:1}},after:["tracked-controls"],bindMethods:function(){this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this)},addEventListeners:function(){this.el.addEventListener("model-loaded",this.onModelLoaded);for(var I=0;I<this.jointEls.length;++I)this.jointEls[I].object3D.visible=!0},removeEventListeners:function(){this.el.removeEventListener("model-loaded",this.onModelLoaded);for(var I=0;I<this.jointEls.length;++I)this.jointEls[I].object3D.visible=!1},init:function(){var I=this.el.sceneEl,T=I.getAttribute("webxr"),k=T.optionalFeatures;k.indexOf("hand-tracking")===-1&&(k.push("hand-tracking"),I.setAttribute("webxr",T)),this.wristObject3D=new THREE.Object3D,this.el.sceneEl.object3D.add(this.wristObject3D),this.onModelLoaded=this.onModelLoaded.bind(this),this.onChildAttached=this.onChildAttached.bind(this),this.jointEls=[],this.controllerPresent=!1,this.isPinched=!1,this.pinchEventDetail={position:new THREE.Vector3,wristRotation:new THREE.Quaternion},this.indexTipPosition=new THREE.Vector3,this.hasPoses=!1,this.jointPoses=new Float32Array(16*v.length),this.jointRadii=new Float32Array(v.length),this.bindMethods(),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.sceneEl.addEventListener("enter-vr",this.updateReferenceSpace),this.el.sceneEl.addEventListener("exit-vr",this.updateReferenceSpace),this.el.addEventListener("child-attached",this.onChildAttached),this.el.object3D.visible=!1,this.wristObject3D.visible=!1},onChildAttached:function(I){this.addChildEntity(I.detail.el)},update:function(){this.updateModelMaterial()},updateModelMaterial:function(){var I=this.jointEls,T=this.skinnedMesh,k=this.data.modelOpacity!==1;T&&(this.skinnedMesh.material.color.set(this.data.modelColor),this.skinnedMesh.material.transparent=k,this.skinnedMesh.material.opacity=this.data.modelOpacity);for(var D=0;D<I.length;D++)I[D].setAttribute("material",{color:this.data.modelColor,transparent:k,opacity:this.data.modelOpacity})},updateReferenceSpace:function(){var I=this,T=this.el.sceneEl.xrSession;if(this.referenceSpace=void 0,!!T){var k=I.el.sceneEl.systems.webxr.sessionReferenceSpaceType;T.requestReferenceSpace(k).then(function(D){I.referenceSpace=D}).catch(function(D){throw I.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(k,"tracked-controls-webxr uses reference space "+k),D})}},checkIfControllerPresent:function(){var I=this.data,T=I.hand?I.hand:void 0;M(this,"",{hand:T,iterateControllerProfiles:!0,handTracking:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},tick:function(){var I=this.el.sceneEl,T=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,k=I.frame,D=this.el.components["tracked-controls-webxr"],N=this.referenceSpace;!T||!k||!N||!D||(this.hasPoses=!1,T.hand&&(this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),this.hasPoses=k.fillPoses(T.hand.values(),N,this.jointPoses)&&k.fillJointRadii(T.hand.values(),this.jointRadii),this.updateHandModel(),this.detectGesture(),this.updateWristObject()))},updateWristObject:function(){var I=new THREE.Matrix4;return function(){var T=this.wristObject3D;!T||!this.hasPoses||(I.fromArray(this.jointPoses,C*16),T.position.setFromMatrixPosition(I),T.quaternion.setFromRotationMatrix(I))}}(),updateHandModel:function(){this.data.modelStyle==="dots"&&this.updateHandDotsModel(),this.data.modelStyle==="mesh"&&this.updateHandMeshModel()},getBone:function(I){for(var T=this.bones,k=0;k<T.length;k++)if(T[k].name===I)return T[k];return null},updateHandMeshModel:function(){var I=new THREE.Matrix4;return function(){var T=0,k=this.jointPoses,D=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller;if(!(!D||!this.mesh)&&(this.mesh.visible=!1,!!this.hasPoses))for(var N of D.hand.values()){var P=this.getBone(N.jointName);P!=null&&(this.mesh.visible=!0,I.fromArray(k,T*16),P.position.setFromMatrixPosition(I),P.quaternion.setFromRotationMatrix(I)),T++}}}(),updateHandDotsModel:function(){for(var I=this.jointPoses,T=this.jointRadii,k=this.el.components["tracked-controls"]&&this.el.components["tracked-controls"].controller,D,N,P=0;P<k.hand.size;P++)D=this.jointEls[P],N=D.object3D,D.object3D.visible=this.hasPoses,this.hasPoses&&(N.matrix.fromArray(I,P*16),N.matrix.decompose(N.position,N.rotation,N.scale),D.setAttribute("scale",{x:T[P],y:T[P],z:T[P]}))},detectGesture:function(){this.detectPinch()},detectPinch:function(){var I=new THREE.Vector3,T=new THREE.Matrix4;return function(){var k=this.indexTipPosition,D=this.pinchEventDetail;if(this.hasPoses){I.setFromMatrixPosition(T.fromArray(this.jointPoses,w*16)),k.setFromMatrixPosition(T.fromArray(this.jointPoses,_*16)),D.wristRotation.setFromRotationMatrix(T.fromArray(this.jointPoses,C*16));var N=k.distanceTo(I);N<E&&this.isPinched===!1&&(this.isPinched=!0,this.pinchDistance=N,D.position.copy(k).add(I).multiplyScalar(.5),this.el.emit("pinchstarted",D)),N>this.pinchDistance+this.pinchDistance*S&&this.isPinched===!0&&(this.isPinched=!1,D.position.copy(k).add(I).multiplyScalar(.5),this.el.emit("pinchended",D)),this.isPinched&&(D.position.copy(k).add(I).multiplyScalar(.5),this.el.emit("pinchmoved",D))}}}(),pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var I=this.el,T=this.data;if(I.setAttribute("tracked-controls",{id:"",hand:T.hand,iterateControllerProfiles:!0,handTrackingEnabled:!0}),this.mesh){this.mesh!==I.getObject3D("mesh")&&I.setObject3D("mesh",this.mesh);return}this.initDefaultModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){var I=this.el,T;this.checkIfControllerPresent(),T=I.components["tracked-controls"]&&I.components["tracked-controls"].controller,this.mesh&&T&&T.hand&&T.hand instanceof XRHand&&I.setObject3D("mesh",this.mesh)},initDefaultModel:function(){var I=this.data;I.modelStyle==="dots"&&this.initDotsModel(),I.modelStyle==="mesh"&&this.initMeshHandModel(),this.el.object3D.visible=!0,this.wristObject3D.visible=!0},initDotsModel:function(){if(this.jointEls.length===0){for(var I=0;I<v.length;++I){var T=this.jointEl=document.createElement("a-entity");T.setAttribute("geometry",{primitive:"sphere",radius:1}),T.object3D.visible=!1,this.el.appendChild(T),this.jointEls.push(T)}this.updateModelMaterial()}},initMeshHandModel:function(){var I=this.data.hand==="left"?y:b;this.el.setAttribute("gltf-model",I)},onModelLoaded:function(){var I=this.mesh=this.el.getObject3D("mesh").children[0],T=this.skinnedMesh=I.getObjectByProperty("type","SkinnedMesh");this.skinnedMesh&&(this.bones=T.skeleton.bones,this.el.removeObject3D("mesh"),I.position.set(0,0,0),I.rotation.set(0,0,0),T.frustumCulled=!1,T.material=new THREE.MeshStandardMaterial,this.updateModelMaterial(),this.setupChildrenEntities(),this.el.setObject3D("mesh",I))},setupChildrenEntities:function(){for(var I=this.el.children,T=0;T<I.length;++T)I[T]instanceof p&&this.addChildEntity(I[T])},addChildEntity:function(I){I instanceof p&&this.wristObject3D.add(I.object3D)}})},"./src/components/hand-tracking-grab-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js");h("hand-tracking-grab-controls",{schema:{hand:{default:"right",oneOf:["left","right"]},color:{type:"color",default:"white"},hoverColor:{type:"color",default:"#538df1"},hoverEnabled:{default:!1}},init:function(){var f=this.el,M=this.data,g;M.hand==="right"?g="components.hand-tracking-controls.bones.3":g="components.hand-tracking-controls.bones.21",f.setAttribute("hand-tracking-controls",{hand:M.hand}),f.setAttribute("obb-collider",{trackedObject3D:g,size:.04}),this.auxMatrix=new p.Matrix4,this.auxQuaternion=new p.Quaternion,this.auxQuaternion2=new p.Quaternion,this.auxVector=new p.Vector3,this.auxVector2=new p.Vector3,this.grabbingObjectPosition=new p.Vector3,this.grabbedObjectPosition=new p.Vector3,this.grabbedObjectPositionDelta=new p.Vector3,this.grabDeltaPosition=new p.Vector3,this.grabInitialRotation=new p.Quaternion,this.onCollisionStarted=this.onCollisionStarted.bind(this),this.el.addEventListener("obbcollisionstarted",this.onCollisionStarted),this.onCollisionEnded=this.onCollisionEnded.bind(this),this.el.addEventListener("obbcollisionended",this.onCollisionEnded),this.onPinchStarted=this.onPinchStarted.bind(this),this.el.addEventListener("pinchstarted",this.onPinchStarted),this.onPinchEnded=this.onPinchEnded.bind(this),this.el.addEventListener("pinchended",this.onPinchEnded),this.onPinchMoved=this.onPinchMoved.bind(this),this.el.addEventListener("pinchmoved",this.onPinchMoved)},transferEntityOwnership:function(){for(var f,M=this.el.sceneEl.querySelectorAll("[hand-tracking-grab-controls]"),g=0;g<M.length;++g)f=M[g].components["hand-tracking-grab-controls"],f!==this&&this.grabbedEl&&this.grabbedEl===f.grabbedEl&&f.releaseGrabbedEntity();return!1},onCollisionStarted:function(f){var M=f.detail.withEl;this.collidedEl||M.getAttribute("grabbable")&&(this.collidedEl=M,this.grabbingObject3D=f.detail.trackedObject3D,this.data.hoverEnabled&&this.el.setAttribute("hand-tracking-controls","modelColor",this.data.hoverColor))},onCollisionEnded:function(){this.collidedEl=void 0,!this.grabbedEl&&(this.grabbingObject3D=void 0,this.data.hoverEnabled&&this.el.setAttribute("hand-tracking-controls","modelColor",this.data.color))},onPinchStarted:function(f){this.collidedEl&&(this.pinchPosition=f.detail.position,this.wristRotation=f.detail.wristRotation,this.grabbedEl=this.collidedEl,this.transferEntityOwnership(),this.grab())},onPinchEnded:function(){this.releaseGrabbedEntity()},onPinchMoved:function(f){this.wristRotation=f.detail.wristRotation},releaseGrabbedEntity:function(){var f=this.grabbedEl;f&&(f.object3D.updateMatrixWorld=this.originalUpdateMatrixWorld,f.object3D.matrixAutoUpdate=!0,f.object3D.matrixWorldAutoUpdate=!0,f.object3D.matrixWorld.decompose(this.auxVector,this.auxQuaternion,this.auxVector2),f.object3D.position.copy(this.auxVector),f.object3D.quaternion.copy(this.auxQuaternion),this.el.emit("grabended",{grabbedEl:f}),this.grabbedEl=void 0)},grab:function(){var f=this.grabbedEl,M;M=f.object3D.getWorldPosition(this.grabbedObjectPosition),this.grabDeltaPosition.copy(M).sub(this.pinchPosition),this.grabInitialRotation.copy(this.auxQuaternion.copy(this.wristRotation).invert()),this.originalUpdateMatrixWorld=f.object3D.updateMatrixWorld,f.object3D.updateMatrixWorld=function(){},f.object3D.updateMatrixWorldChildren=function(g){for(var y=this.children,b=0,v=y.length;b<v;b++){var C=y[b];(C.matrixWorldAutoUpdate===!0||g===!0)&&C.updateMatrixWorld(!0)}},f.object3D.matrixAutoUpdate=!1,f.object3D.matrixWorldAutoUpdate=!1,this.el.emit("grabstarted",{grabbedEl:f})},tock:function(){var f=this.auxMatrix,M=this.auxQuaternion,g=this.auxQuaternion2,y,b=this.grabbedEl;b&&(y=b.object3D,y.getWorldQuaternion(g),y.matrixWorld.identity(),f.identity(),f.makeTranslation(this.pinchPosition),y.matrixWorld.multiply(f),f.identity(),f.makeRotationFromQuaternion(M.copy(this.wristRotation).multiply(this.grabInitialRotation)),y.matrixWorld.multiply(f),f.identity(),f.makeTranslation(this.grabDeltaPosition),y.matrixWorld.multiply(f),f.identity(),f.makeRotationFromQuaternion(g),y.matrixWorld.multiply(f),f.makeScale(b.object3D.scale.x,b.object3D.scale.y,b.object3D.scale.z),y.matrixWorld.multiply(f),y.updateMatrixWorldChildren())}})},"./src/components/hide-on-enter-ar.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("hide-on-enter-ar",{init:function(){var p=this;this.el.sceneEl.addEventListener("enter-vr",function(){p.el.sceneEl.is("ar-mode")&&(p.el.object3D.visible=!1)}),this.el.sceneEl.addEventListener("exit-vr",function(){p.el.object3D.visible=!0})}})},"./src/components/hide-on-enter-vr.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("hide-on-enter-vr",{init:function(){var p=this;this.el.sceneEl.addEventListener("enter-vr",function(){p.el.sceneEl.is("vr-mode")&&(p.el.object3D.visible=!1)}),this.el.sceneEl.addEventListener("exit-vr",function(){p.el.object3D.visible=!0})}})},"./src/components/hp-mixed-reality-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),f=u("./src/utils/tracked-controls.js"),M=f.checkControllerPresentAndSetup,g=f.emitIfAxesChanged,y=f.onButtonEvent,b="hp-mixed-reality",v=u("./src/constants/index.js").AFRAME_CDN_ROOT,C=v+"controllers/hp/mixed-reality/",w={x:0,y:0,z:.06},_={_x:Math.PI/4,_y:0,_z:0,_order:"XYZ"},E={left:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton"]}};c.exports.Component=h("hp-mixed-reality-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:E,init:function(){var S=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(I){y(I.detail.id,"down",S,S.data.hand)},this.onButtonUp=function(I){y(I.detail.id,"up",S,S.data.hand)},this.onButtonTouchEnd=function(I){y(I.detail.id,"touchend",S,S.data.hand)},this.onButtonTouchStart=function(I){y(I.detail.id,"touchstart",S,S.data.hand)},this.previousButtonValues={},this.bindMethods()},update:function(){var S=this.data;this.controllerIndex=S.hand==="right"?0:S.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var S=this.el;S.addEventListener("buttonchanged",this.onButtonChanged),S.addEventListener("buttondown",this.onButtonDown),S.addEventListener("buttonup",this.onButtonUp),S.addEventListener("touchstart",this.onButtonTouchStart),S.addEventListener("touchend",this.onButtonTouchEnd),S.addEventListener("axismove",this.onAxisMoved),S.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var S=this.el;S.removeEventListener("buttonchanged",this.onButtonChanged),S.removeEventListener("buttondown",this.onButtonDown),S.removeEventListener("buttonup",this.onButtonUp),S.removeEventListener("touchstart",this.onButtonTouchStart),S.removeEventListener("touchend",this.onButtonTouchEnd),S.removeEventListener("axismove",this.onAxisMoved),S.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var S=this.data;M(this,b,{index:this.controllerIndex,hand:S.hand})},injectTrackedControls:function(){var S=this.el,I=this.data;S.setAttribute("tracked-controls",{idPrefix:b,hand:I.hand,controller:this.controllerIndex,orientationOffset:I.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",C+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(S){var I=this.mapping[this.data.hand].buttons[S.detail.id],T;I&&(I==="trigger"&&(T=S.detail.state.value,console.log("analog value of trigger press: "+T)),this.el.emit(I+"changed",S.detail.state))},onModelLoaded:function(S){var I=S.detail.model;this.data.model&&(I.position.copy(w),I.rotation.copy(_),this.el.emit("controllermodelready",{name:"hp-mixed-reality-controls",model:this.data.model,rayOrigin:new p.Vector3(0,0,0)}))},onAxisMoved:function(S){g(this,this.mapping.axes,S)}})},"./src/components/index.js":(c,d,u)=>{u("./src/components/animation.js"),u("./src/components/anchored.js"),u("./src/components/camera.js"),u("./src/components/cursor.js"),u("./src/components/geometry.js"),u("./src/components/generic-tracked-controller-controls.js"),u("./src/components/gltf-model.js"),u("./src/components/grabbable.js"),u("./src/components/hand-tracking-controls.js"),u("./src/components/hand-tracking-grab-controls.js"),u("./src/components/hand-controls.js"),u("./src/components/hide-on-enter-ar.js"),u("./src/components/hide-on-enter-vr.js"),u("./src/components/hp-mixed-reality-controls.js"),u("./src/components/layer.js"),u("./src/components/laser-controls.js"),u("./src/components/light.js"),u("./src/components/line.js"),u("./src/components/link.js"),u("./src/components/look-controls.js"),u("./src/components/magicleap-controls.js"),u("./src/components/material.js"),u("./src/components/obb-collider.js"),u("./src/components/obj-model.js"),u("./src/components/oculus-go-controls.js"),u("./src/components/oculus-touch-controls.js"),u("./src/components/pico-controls.js"),u("./src/components/position.js"),u("./src/components/raycaster.js"),u("./src/components/rotation.js"),u("./src/components/scale.js"),u("./src/components/shadow.js"),u("./src/components/sound.js"),u("./src/components/text.js"),u("./src/components/tracked-controls.js"),u("./src/components/tracked-controls-webvr.js"),u("./src/components/tracked-controls-webxr.js"),u("./src/components/visible.js"),u("./src/components/valve-index-controls.js"),u("./src/components/vive-controls.js"),u("./src/components/vive-focus-controls.js"),u("./src/components/wasd-controls.js"),u("./src/components/windows-motion-controls.js"),u("./src/components/scene/ar-hit-test.js"),u("./src/components/scene/background.js"),u("./src/components/scene/debug.js"),u("./src/components/scene/device-orientation-permission-ui.js"),u("./src/components/scene/embedded.js"),u("./src/components/scene/inspector.js"),u("./src/components/scene/fog.js"),u("./src/components/scene/keyboard-shortcuts.js"),u("./src/components/scene/pool.js"),u("./src/components/scene/real-world-meshing.js"),u("./src/components/scene/reflection.js"),u("./src/components/scene/screenshot.js"),u("./src/components/scene/stats.js"),u("./src/components/scene/xr-mode-ui.js")},"./src/components/laser-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/index.js");h("laser-controls",{schema:{hand:{default:"right"},model:{default:!0},defaultModelColor:{type:"color",default:"grey"}},init:function(){var f=this.config,M=this.data,g=this.el,y=this,b={hand:M.hand,model:M.model};g.setAttribute("hp-mixed-reality-controls",b),g.setAttribute("magicleap-controls",b),g.setAttribute("oculus-go-controls",b),g.setAttribute("oculus-touch-controls",b),g.setAttribute("pico-controls",b),g.setAttribute("valve-index-controls",b),g.setAttribute("vive-controls",b),g.setAttribute("vive-focus-controls",b),g.setAttribute("windows-motion-controls",b),g.setAttribute("generic-tracked-controller-controls",{hand:b.hand}),g.addEventListener("controllerconnected",v),g.addEventListener("controllerdisconnected",C),g.addEventListener("controllermodelready",function(w){v(w),y.modelReady=!0});function v(w){var _=f[w.detail.name];if(_){var E=p.extend({showLine:!0},_.raycaster||{});w.detail.rayOrigin&&(E.origin=w.detail.rayOrigin.origin,E.direction=w.detail.rayOrigin.direction,E.showLine=!0),w.detail.rayOrigin||!y.modelReady?g.setAttribute("raycaster",E):g.setAttribute("raycaster","showLine",!0),g.setAttribute("cursor",p.extend({fuse:!1},_.cursor))}}function C(w){var _=f[w.detail.name];_&&g.setAttribute("raycaster","showLine",!1)}},config:{"generic-tracked-controller-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"hp-mixed-reality-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"magicleap-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"oculus-go-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:5e-4,z:0}}},"oculus-touch-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{origin:{x:0,y:0,z:0}}},"pico-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"valve-index-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]}},"vive-focus-controls":{cursor:{downEvents:["trackpaddown","triggerdown"],upEvents:["trackpadup","triggerup"]}},"windows-motion-controls":{cursor:{downEvents:["triggerdown"],upEvents:["triggerup"]},raycaster:{showLine:!1}}}})},"./src/components/layer.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/index.js"),f=p.debug("components:layer:warn");c.exports.Component=h("layer",{schema:{type:{default:"quad",oneOf:["quad","monocubemap","stereocubemap"]},src:{type:"map"},rotateCubemap:{default:!1},width:{default:0},height:{default:0}},init:function(){var g=this.el.sceneEl.renderer.getContext();this.quaternion=new THREE.Quaternion,this.position=new THREE.Vector3,this.bindMethods(),this.needsRedraw=!1,this.frameBuffer=g.createFramebuffer();var y=this.el.sceneEl.getAttribute("webxr"),b=y.requiredFeatures;b.indexOf("layers")===-1&&(b.push("layers"),this.el.sceneEl.setAttribute("webxr",y)),this.el.sceneEl.addEventListener("enter-vr",this.onEnterVR),this.el.sceneEl.addEventListener("exit-vr",this.onExitVR)},bindMethods:function(){this.onRequestedReferenceSpace=this.onRequestedReferenceSpace.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this)},update:function(g){this.data.src!==g.src&&this.updateSrc()},updateSrc:function(){var g=this.data.type;if(this.texture=void 0,g==="quad"){this.loadQuadImage();return}if(g==="monocubemap"||g==="stereocubemap"){this.loadCubeMapImages();return}},loadCubeMapImages:function(){var g,y=this.xrGLFactory,b=this.el.sceneEl.frame,v=this.data.src,C=this.data.type;this.visibilityChanged=!1,this.layer&&(C!=="monocubemap"&&C!=="stereocubemap"||(v.complete?this.pendingCubeMapUpdate=!1:this.pendingCubeMapUpdate=!0,this.loadingScreen?this.loadingScreen=!1:this.loadingScreen=!0,C==="monocubemap"?(g=y.getSubImage(this.layer,b),this.loadCubeMapImage(g.colorTexture,v,0)):(g=y.getSubImage(this.layer,b,"left"),this.loadCubeMapImage(g.colorTexture,v,0),g=y.getSubImage(this.layer,b,"right"),this.loadCubeMapImage(g.colorTexture,v,6))))},loadQuadImage:function(){var g=this.data.src,y=this;this.el.sceneEl.systems.material.loadTexture(g,{src:g},function(v){y.el.sceneEl.renderer.initTexture(v),y.texture=v,g.tagName==="VIDEO"&&setTimeout(function(){y.textureIsVideo=!0},1e3),y.layer&&(y.layer.height=y.data.height/2||y.texture.image.height/1e3,y.layer.width=y.data.width/2||y.texture.image.width/1e3,y.needsRedraw=!0),y.updateQuadPanel()})},preGenerateCubeMapTextures:function(g,y){this.data.type==="monocubemap"?this.generateCubeMapTextures(g,0,y):(this.generateCubeMapTextures(g,0,y),this.generateCubeMapTextures(g,6,y))},generateCubeMapTextures:function(g,y,b){for(var v=this.data,C=this.cubeFaceSize,w=Math.min(g.width,g.height),_=[],E,S,I=0;I<6;I++){var T=document.createElement("CANVAS");T.width=T.height=C;var k=T.getContext("2d");v.rotateCubemap&&(I===2||I===3)&&(k.save(),k.translate(C,C),k.rotate(Math.PI)),k.drawImage(g,(I+y)*w,0,w,w,0,0,C,C),k.restore(),b&&b(),_.push(T)}return v.rotateCubemap&&(E=_[0],S=_[1],_[0]=S,_[1]=E,E=_[4],S=_[5],_[4]=S,_[5]=E),b&&b(),_},loadCubeMapImage:function(g,y,b){var v=this.el.sceneEl.renderer.getContext(),C;v.pixelStorei(v.UNPACK_FLIP_Y_WEBGL,!1),v.bindTexture(v.TEXTURE_CUBE_MAP,g),!y.complete||this.loadingScreen?C=this.loadingScreenImages:C=this.generateCubeMapTextures(y,b);var w=0;C.forEach(function(_,E){v.texSubImage2D(v.TEXTURE_CUBE_MAP_POSITIVE_X+E,0,0,0,v.RGBA,v.UNSIGNED_BYTE,_),w=v.getError()}),w!==0&&console.log("renderingError, WebGL Error Code: "+w),v.bindTexture(v.TEXTURE_CUBE_MAP,null)},tick:function(){this.el.sceneEl.xrSession&&(!this.layer&&(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.initLayer(),this.updateTransform(),this.data.src.complete&&(this.pendingCubeMapUpdate||this.loadingScreen||this.visibilityChanged)&&this.loadCubeMapImages(),!(!this.needsRedraw&&!this.layer.needsRedraw&&!this.textureIsVideo)&&(this.data.type==="quad"&&this.draw(),this.needsRedraw=!1))},initLayer:function(){var g=this,y=this.data.type;if(this.el.sceneEl.xrSession.onvisibilitychange=function(b){g.visibilityChanged=b.session.visibilityState!=="hidden"},y==="quad"){this.initQuadLayer();return}if(y==="monocubemap"||y==="stereocubemap"){this.initCubeMapLayer();return}},initQuadLayer:function(){var g=this.el.sceneEl,y=g.renderer.getContext(),b=this.xrGLFactory=new XRWebGLBinding(g.xrSession,y);this.texture&&(this.layer=b.createQuadLayer({space:this.referenceSpace,viewPixelHeight:2048,viewPixelWidth:2048,height:this.data.height/2||this.texture.image.height/1e3,width:this.data.width/2||this.texture.image.width/1e3}),this.initLoadingScreenImages(),g.renderer.xr.addLayer(this.layer))},initCubeMapLayer:function(){var g=this.data.src,y=this.el.sceneEl,b=y.renderer.getContext(),v=b.getParameter(b.MAX_CUBE_MAP_TEXTURE_SIZE),C=this.cubeFaceSize=Math.min(v,Math.min(g.width,g.height)),w=this.xrGLFactory=new XRWebGLBinding(y.xrSession,b);this.layer=w.createCubeLayer({space:this.referenceSpace,viewPixelWidth:C,viewPixelHeight:C,layout:this.data.type==="monocubemap"?"mono":"stereo",isStatic:!1}),this.initLoadingScreenImages(),this.loadCubeMapImages(),y.renderer.xr.addLayer(this.layer)},initLoadingScreenImages:function(){for(var g=this.cubeFaceSize,y=this.loadingScreenImages=[],b=0;b<6;b++){var v=document.createElement("CANVAS");v.width=v.height=g;var C=v.getContext("2d");v.width=v.height=g,C.fillStyle="black",C.fillRect(0,0,g,g),b!==2&&b!==3&&(C.translate(g,0),C.scale(-1,1),C.fillStyle="white",C.font="30px Arial",C.fillText("Loading",g/2,g/2)),y.push(v)}},destroyLayer:function(){this.layer&&(this.el.sceneEl.renderer.xr.removeLayer(this.layer),this.layer.destroy(),this.layer=void 0)},toggleCompositorLayer:function(){this.enableCompositorLayer(!this.layerEnabled)},enableCompositorLayer:function(g){this.layerEnabled=g,this.quadPanelEl.object3D.visible=!this.layerEnabled},updateQuadPanel:function(){var g=this.quadPanelEl;this.quadPanelEl||(g=this.quadPanelEl=document.createElement("a-entity"),this.el.appendChild(g)),g.setAttribute("material",{shader:"flat",src:this.data.src,transparent:!0}),g.setAttribute("geometry",{primitive:"plane",height:this.data.height||this.texture.image.height/1e3,width:this.data.width||this.texture.image.height/1e3})},draw:function(){var g=this.el.sceneEl,y=this.el.sceneEl.renderer.getContext(),b=this.xrGLFactory.getSubImage(this.layer,g.frame),v=g.renderer.properties.get(this.texture).__webglTexture,C=y.getParameter(y.FRAMEBUFFER_BINDING);y.viewport(b.viewport.x,b.viewport.y,b.viewport.width,b.viewport.height),y.bindFramebuffer(y.FRAMEBUFFER,this.frameBuffer),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,b.colorTexture,0),M(y,v,b,this.data.src),y.bindFramebuffer(y.FRAMEBUFFER,C)},updateTransform:function(){var g=this.el,y=this.position,b=this.quaternion;g.object3D.updateMatrixWorld(),y.setFromMatrixPosition(g.object3D.matrixWorld),b.setFromRotationMatrix(g.object3D.matrixWorld),this.layerEnabled||y.set(0,0,1e8),this.layer.transform=new XRRigidTransform(y,b)},onEnterVR:function(){var g=this.el.sceneEl,y=g.xrSession;if(!g.hasWebXR||!XRWebGLBinding||!y){f("The layer component requires WebXR and the layers API enabled");return}y.requestReferenceSpace("local-floor").then(this.onRequestedReferenceSpace),this.layerEnabled=!0,this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!1),this.data.src.play&&this.data.src.play()},onExitVR:function(){this.quadPanelEl&&(this.quadPanelEl.object3D.visible=!0),this.destroyLayer()},onRequestedReferenceSpace:function(g){this.referenceSpace=g}});function M(g,y,b,v){var C=g.createFramebuffer(),w=b.viewport.x,_=b.viewport.y,E=b.viewport.x+b.viewport.width,S=b.viewport.y+b.viewport.height;v.tagName==="VIDEO"&&(g.bindTexture(g.TEXTURE_2D,y),g.texSubImage2D(g.TEXTURE_2D,0,0,0,v.width,v.height,g.RGB,g.UNSIGNED_BYTE,v)),g.bindFramebuffer(g.READ_FRAMEBUFFER,C),g.framebufferTexture2D(g.READ_FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,y,0),g.readBuffer(g.COLOR_ATTACHMENT0),g.blitFramebuffer(0,0,v.width,v.height,w,_,E,S,g.COLOR_BUFFER_BIT,g.NEAREST),g.bindFramebuffer(g.READ_FRAMEBUFFER,null),g.deleteFramebuffer(C)}},"./src/components/light.js":(c,d,u)=>{var h=u("./src/utils/index.js"),p=h.diff,f=u("./src/utils/debug.js"),M=u("./src/core/component.js").registerComponent,g=u("./src/lib/three.js"),y=u("./src/utils/math.js"),b=g.MathUtils.degToRad,v=f("components:light:warn"),C=new g.CubeTextureLoader,w={};c.exports.Component=M("light",{schema:{angle:{default:60,if:{type:["spot"]}},color:{type:"color",if:{type:["ambient","directional","hemisphere","point","spot"]}},envMap:{default:"",if:{type:["probe"]}},groundColor:{type:"color",if:{type:["hemisphere"]}},decay:{default:1,if:{type:["point","spot"]}},distance:{default:0,min:0,if:{type:["point","spot"]}},intensity:{default:1,min:0,if:{type:["ambient","directional","hemisphere","point","spot","probe"]}},penumbra:{default:0,min:0,max:1,if:{type:["spot"]}},type:{default:"directional",oneOf:["ambient","directional","hemisphere","point","spot","probe"],schemaChange:!0},target:{type:"selector",if:{type:["spot","directional"]}},castShadow:{default:!1,if:{type:["point","spot","directional"]}},shadowBias:{default:0,if:{castShadow:!0}},shadowCameraFar:{default:500,if:{castShadow:!0}},shadowCameraFov:{default:90,if:{castShadow:!0}},shadowCameraNear:{default:.5,if:{castShadow:!0}},shadowCameraTop:{default:5,if:{castShadow:!0}},shadowCameraRight:{default:5,if:{castShadow:!0}},shadowCameraBottom:{default:-5,if:{castShadow:!0}},shadowCameraLeft:{default:-5,if:{castShadow:!0}},shadowCameraVisible:{default:!1,if:{castShadow:!0}},shadowCameraAutomatic:{default:"",if:{type:["directional"]}},shadowMapHeight:{default:512,if:{castShadow:!0}},shadowMapWidth:{default:512,if:{castShadow:!0}},shadowRadius:{default:1,if:{castShadow:!0}}},init:function(){var _=this.el;this.light=null,this.defaultTarget=null,this.system.registerLight(_)},update:function(_){var E=this.data,S=p(E,_),I=this.light,T=this;if(I&&!("type"in S)){var k=!1;Object.keys(S).forEach(function(D){var N=E[D];switch(D){case"color":{I.color.set(N);break}case"groundColor":{I.groundColor.set(N);break}case"angle":{I.angle=b(N);break}case"target":{N===null?(E.type==="spot"||E.type==="directional")&&(I.target=T.defaultTarget):N.hasLoaded?T.onSetTarget(N,I):N.addEventListener("loaded",T.onSetTarget.bind(T,N,I));break}case"envMap":T.updateProbeMap(E,I);break;case"castShadow":case"shadowBias":case"shadowCameraFar":case"shadowCameraFov":case"shadowCameraNear":case"shadowCameraTop":case"shadowCameraRight":case"shadowCameraBottom":case"shadowCameraLeft":case"shadowCameraVisible":case"shadowMapHeight":case"shadowMapWidth":case"shadowRadius":k||(T.updateShadow(),k=!0);break;case"shadowCameraAutomatic":E.shadowCameraAutomatic?T.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(E.shadowCameraAutomatic)):T.shadowCameraAutomaticEls=[];break;default:I[D]=N}});return}this.setLight(this.data),this.updateShadow()},tick:function(){var _=new g.Box3,E=new g.Vector3,S=new g.Vector3,I=new g.Matrix4,T=new g.Sphere,k=new g.Vector3;return function(){if(this.data.type==="directional"&&this.light.shadow&&this.light.shadow.camera instanceof g.OrthographicCamera&&this.shadowCameraAutomaticEls.length){var D=this.light.shadow.camera;D.getWorldDirection(E),D.getWorldPosition(S),I.copy(D.matrixWorld),I.invert(),D.near=1,D.left=1e5,D.right=-1e5,D.top=-1e5,D.bottom=1e5,this.shadowCameraAutomaticEls.forEach(function(N){_.setFromObject(N.object3D),_.getBoundingSphere(T);var P=y.distanceOfPointFromPlane(S,E,T.center),F=y.nearestPointInPlane(S,E,T.center,k),U=F.applyMatrix4(I);D.near=Math.min(-P-T.radius-1,D.near),D.left=Math.min(-T.radius+U.x,D.left),D.right=Math.max(T.radius+U.x,D.right),D.top=Math.max(T.radius+U.y,D.top),D.bottom=Math.min(-T.radius+U.y,D.bottom)}),D.updateProjectionMatrix()}}}(),setLight:function(_){var E=this.el,S=this.getLight(_);S&&(this.light&&E.removeObject3D("light"),this.light=S,this.light.el=E,E.setObject3D("light",this.light),(_.type==="spot"||_.type==="directional"||_.type==="hemisphere")&&E.getObject3D("light").translateY(-1),_.type==="spot"&&(E.setObject3D("light-target",this.defaultTarget),E.getObject3D("light-target").position.set(0,0,-1)),_.shadowCameraAutomatic?this.shadowCameraAutomaticEls=Array.from(document.querySelectorAll(_.shadowCameraAutomatic)):this.shadowCameraAutomaticEls=[])},updateShadow:function(){var _=this.el,E=this.data,S=this.light;S.castShadow=E.castShadow;var I=_.getObject3D("cameraHelper");if(E.shadowCameraVisible&&!I?_.setObject3D("cameraHelper",new g.CameraHelper(S.shadow.camera)):!E.shadowCameraVisible&&I&&_.removeObject3D("cameraHelper"),!E.castShadow)return S;S.shadow.bias=E.shadowBias,S.shadow.radius=E.shadowRadius,S.shadow.mapSize.height=E.shadowMapHeight,S.shadow.mapSize.width=E.shadowMapWidth,S.shadow.camera.near=E.shadowCameraNear,S.shadow.camera.far=E.shadowCameraFar,S.shadow.camera instanceof g.OrthographicCamera?(S.shadow.camera.top=E.shadowCameraTop,S.shadow.camera.right=E.shadowCameraRight,S.shadow.camera.bottom=E.shadowCameraBottom,S.shadow.camera.left=E.shadowCameraLeft):S.shadow.camera.fov=E.shadowCameraFov,S.shadow.camera.updateProjectionMatrix(),I&&I.update()},getLight:function(_){var E=_.angle,S=new g.Color(_.color);S=S.getHex();var I=_.decay,T=_.distance,k=new g.Color(_.groundColor);k=k.getHex();var D=_.intensity,N=_.type,P=_.target,F=null;switch(N.toLowerCase()){case"ambient":return new g.AmbientLight(S,D);case"directional":return F=new g.DirectionalLight(S,D),this.defaultTarget=F.target,P&&(P.hasLoaded?this.onSetTarget(P,F):P.addEventListener("loaded",this.onSetTarget.bind(this,P,F))),F;case"hemisphere":return new g.HemisphereLight(S,k,D);case"point":return new g.PointLight(S,D,T,I);case"spot":return F=new g.SpotLight(S,D,T,b(E),_.penumbra,I),this.defaultTarget=F.target,P&&(P.hasLoaded?this.onSetTarget(P,F):P.addEventListener("loaded",this.onSetTarget.bind(this,P,F))),F;case"probe":return F=new g.LightProbe,this.updateProbeMap(_,F),F;default:v("%s is not a valid light type. Choose from ambient, directional, hemisphere, point, spot.",N)}},updateProbeMap:function(_,E){_.envMap||E.copy(new g.LightProbe),w[_.envMap]instanceof window.Promise&&w[_.envMap].then(function(S){E.copy(S)}),w[_.envMap]instanceof g.LightProbe&&E.copy(w[_.envMap]),w[_.envMap]=new window.Promise(function(S){h.srcLoader.validateCubemapSrc(_.envMap,function(T){C.load(T,function(k){var D=g.LightProbeGenerator.fromCubeTexture(k);w[_.envMap]=D,E.copy(D)})})})},onSetTarget:function(_,E){E.target=_.object3D},remove:function(){var _=this.el;_.removeObject3D("light"),_.getObject3D("cameraHelper")&&_.removeObject3D("cameraHelper")}})},"./src/components/line.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("line",{schema:{start:{type:"vec3",default:{x:0,y:0,z:0}},end:{type:"vec3",default:{x:0,y:0,z:0}},color:{type:"color",default:"#74BEC1"},opacity:{type:"number",default:1},visible:{default:!0}},multiple:!0,init:function(){var f=this.data,M,g;g=this.material=new THREE.LineBasicMaterial({color:f.color,opacity:f.opacity,transparent:f.opacity<1,visible:f.visible}),M=this.geometry=new THREE.BufferGeometry,M.setAttribute("position",new THREE.BufferAttribute(new Float32Array(6),3)),this.line=new THREE.Line(M,g),this.el.setObject3D(this.attrName,this.line)},update:function(f){var M=this.data,g=this.geometry,y=!1,b=this.material,v=g.attributes.position.array;p(M.start,f.start)||(v[0]=M.start.x,v[1]=M.start.y,v[2]=M.start.z,y=!0),p(M.end,f.end)||(v[3]=M.end.x,v[4]=M.end.y,v[5]=M.end.z,y=!0),y&&(g.attributes.position.needsUpdate=!0,g.computeBoundingSphere()),b.color.setStyle(M.color),b.opacity=M.opacity,b.transparent=M.opacity<1,b.visible=M.visible},remove:function(){this.el.removeObject3D(this.attrName,this.line)}});function p(f,M){return!f||!M?!1:f.x===M.x&&f.y===M.y&&f.z===M.z}},"./src/components/link.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/core/shader.js").registerShader,f=u("./src/lib/three.js");c.exports.Component=h("link",{schema:{backgroundColor:{default:"red",type:"color"},borderColor:{default:"white",type:"color"},highlighted:{default:!1},highlightedColor:{default:"#24CAFF",type:"color"},href:{default:""},image:{type:"asset"},on:{default:"click"},peekMode:{default:!1},title:{default:""},titleColor:{default:"white",type:"color"},visualAspectEnabled:{default:!1}},init:function(){this.navigate=this.navigate.bind(this),this.previousQuaternion=void 0,this.quaternionClone=new f.Quaternion,this.hiddenEls=[]},update:function(M){var g=this.data,y=this.el,b,v;g.visualAspectEnabled&&(this.initVisualAspect(),b=g.highlighted?g.highlightedColor:g.backgroundColor,v=g.highlighted?g.highlightedColor:g.borderColor,y.setAttribute("material","backgroundColor",b),y.setAttribute("material","strokeColor",v),g.on!==M.on&&this.updateEventListener(),M.peekMode!==void 0&&g.peekMode!==M.peekMode&&this.updatePeekMode(),!(!g.image||M.image===g.image)&&y.setAttribute("material","pano",typeof g.image=="string"?g.image:g.image.src))},updatePeekMode:function(){var M=this.el,g=this.sphereEl;this.data.peekMode?(this.hideAll(),M.getObject3D("mesh").visible=!1,g.setAttribute("visible",!0)):(this.showAll(),M.getObject3D("mesh").visible=!0,g.setAttribute("visible",!1))},play:function(){this.updateEventListener()},pause:function(){this.removeEventListener()},updateEventListener:function(){var M=this.el;M.isPlaying&&(this.removeEventListener(),M.addEventListener(this.data.on,this.navigate))},removeEventListener:function(){var M=this.data.on;M&&this.el.removeEventListener(M,this.navigate)},initVisualAspect:function(){var M=this.el,g,y,b;!this.data.visualAspectEnabled||this.visualAspectInitialized||(b=this.textEl=this.textEl||document.createElement("a-entity"),y=this.sphereEl=this.sphereEl||document.createElement("a-entity"),g=this.semiSphereEl=this.semiSphereEl||document.createElement("a-entity"),M.setAttribute("geometry",{primitive:"circle",radius:1,segments:64}),M.setAttribute("material",{shader:"portal",pano:this.data.image,side:"double"}),b.setAttribute("text",{color:this.data.titleColor,align:"center",font:"kelsonsans",value:this.data.title||this.data.href,width:4}),b.setAttribute("position","0 1.5 0"),M.appendChild(b),g.setAttribute("geometry",{primitive:"sphere",radius:1,phiStart:0,segmentsWidth:64,segmentsHeight:64,phiLength:180,thetaStart:0,thetaLength:360}),g.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),g.setAttribute("rotation","0 180 0"),g.setAttribute("position","0 0 0"),g.setAttribute("visible",!1),M.appendChild(g),y.setAttribute("geometry",{primitive:"sphere",radius:10,segmentsWidth:64,segmentsHeight:64}),y.setAttribute("material",{shader:"portal",borderEnabled:0,pano:this.data.image,side:"back"}),y.setAttribute("visible",!1),M.appendChild(y),this.visualAspectInitialized=!0)},navigate:function(){window.location=this.data.href},tick:function(){var M=new f.Vector3,g=new f.Vector3,y=new f.Quaternion,b=new f.Vector3;return function(){var v=this.el,C=v.object3D,w=v.sceneEl.camera,_,E,S=this.textEl;if(this.data.visualAspectEnabled)if(C.updateMatrixWorld(),w.parent.updateMatrixWorld(),w.updateMatrixWorld(),C.matrix.decompose(g,y,b),g.setFromMatrixPosition(C.matrixWorld),M.setFromMatrixPosition(w.matrixWorld),E=g.distanceTo(M),E>20)this.previousQuaternion||(this.quaternionClone.copy(y),this.previousQuaternion=this.quaternionClone),C.lookAt(M);else{if(_=this.calculateCameraPortalOrientation(),E<.5){if(this.semiSphereEl.getAttribute("visible")===!0)return;S.setAttribute("text","width",1.5),_<=0?(S.setAttribute("position","0 0 0.75"),S.setAttribute("rotation","0 180 0"),this.semiSphereEl.setAttribute("rotation","0 0 0")):(S.setAttribute("position","0 0 -0.75"),S.setAttribute("rotation","0 0 0"),this.semiSphereEl.setAttribute("rotation","0 180 0")),v.getObject3D("mesh").visible=!1,this.semiSphereEl.setAttribute("visible",!0),this.peekCameraPortalOrientation=_}else _<=0?S.setAttribute("rotation","0 180 0"):S.setAttribute("rotation","0 0 0"),S.setAttribute("text","width",5),S.setAttribute("position","0 1.5 0"),v.getObject3D("mesh").visible=!0,this.semiSphereEl.setAttribute("visible",!1),this.peekCameraPortalOrientation=void 0;this.previousQuaternion&&(C.quaternion.copy(this.previousQuaternion),this.previousQuaternion=void 0)}}}(),hideAll:function(){var M=this.el,g=this.hiddenEls,y=this;g.length>0||M.sceneEl.object3D.traverse(function(b){b&&b.el&&b.el.hasAttribute("link-controls")||!b.el||b===M.sceneEl.object3D||b.el===M||b.el===y.sphereEl||b.el===M.sceneEl.cameraEl||b.el.getAttribute("visible")===!1||b.el===y.textEl||b.el===y.semiSphereEl||(b.el.setAttribute("visible",!1),g.push(b.el))})},showAll:function(){this.hiddenEls.forEach(function(M){M.setAttribute("visible",!0)}),this.hiddenEls=[]},calculateCameraPortalOrientation:function(){var M=new f.Matrix4,g=new f.Vector3,y=new f.Vector3(0,0,1),b=new f.Vector3(0,0,0);return function(){var v=this.el,C=v.sceneEl.camera;return g.set(0,0,0),y.set(0,0,1),b.set(0,0,0),v.object3D.matrixWorld.extractRotation(M),y.applyMatrix4(M),v.object3D.updateMatrixWorld(),v.object3D.localToWorld(b),C.parent.parent.updateMatrixWorld(),C.parent.updateMatrixWorld(),C.updateMatrixWorld(),C.localToWorld(g),g.sub(b).normalize(),y.normalize(),Math.sign(y.dot(g))}}(),remove:function(){this.removeEventListener()}}),p("portal",{schema:{borderEnabled:{default:1,type:"int",is:"uniform"},backgroundColor:{default:"red",type:"color",is:"uniform"},pano:{type:"map",is:"uniform"},strokeColor:{default:"white",type:"color",is:"uniform"}},vertexShader:["vec3 portalPosition;","varying vec3 vWorldPosition;","varying float vDistanceToCenter;","varying float vDistance;","void main() {","vDistanceToCenter = clamp(length(position - vec3(0.0, 0.0, 0.0)), 0.0, 1.0);","portalPosition = (modelMatrix * vec4(0.0, 0.0, 0.0, 1.0)).xyz;","vDistance = length(portalPosition - cameraPosition);","vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join(`
`),fragmentShader:["#define RECIPROCAL_PI2 0.15915494","uniform sampler2D pano;","uniform vec3 strokeColor;","uniform vec3 backgroundColor;","uniform float borderEnabled;","varying float vDistanceToCenter;","varying float vDistance;","varying vec3 vWorldPosition;","void main() {","vec3 direction = normalize(vWorldPosition - cameraPosition);","vec2 sampleUV;","float borderThickness = clamp(exp(-vDistance / 50.0), 0.6, 0.95);","sampleUV.y = clamp(direction.y * 0.5  + 0.5, 0.0, 1.0);","sampleUV.x = atan(direction.z, -direction.x) * -RECIPROCAL_PI2 + 0.5;","if (vDistanceToCenter > borderThickness && borderEnabled == 1.0) {","gl_FragColor = vec4(strokeColor, 1.0);","} else {","gl_FragColor = mix(texture2D(pano, sampleUV), vec4(backgroundColor, 1.0), clamp(pow((vDistance / 15.0), 2.0), 0.0, 1.0));","}","}"].join(`
`)})},"./src/components/look-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),f=u("./src/utils/index.js"),M=Math.PI/2;c.exports.Component=h("look-controls",{dependencies:["position","rotation"],schema:{enabled:{default:!0},magicWindowTrackingEnabled:{default:!0},pointerLockEnabled:{default:!1},reverseMouseDrag:{default:!1},reverseTouchDrag:{default:!1},touchEnabled:{default:!0},mouseEnabled:{default:!0}},init:function(){this.deltaYaw=0,this.previousHMDPosition=new p.Vector3,this.hmdQuaternion=new p.Quaternion,this.magicWindowAbsoluteEuler=new p.Euler,this.magicWindowDeltaEuler=new p.Euler,this.position=new p.Vector3,this.magicWindowObject=new p.Object3D,this.rotation={},this.deltaRotation={},this.savedPose=null,this.pointerLocked=!1,this.setupMouseControls(),this.bindMethods(),this.previousMouseEvent={},this.setupMagicWindowControls(),this.savedPose={position:new p.Vector3,rotation:new p.Euler},(this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode"))&&this.onEnterVR()},setupMagicWindowControls:function(){var g,y=this.data;(f.device.isMobile()||f.device.isMobileDeviceRequestingDesktopSite())&&(g=this.magicWindowControls=new p.DeviceOrientationControls(this.magicWindowObject),typeof DeviceOrientationEvent<"u"&&DeviceOrientationEvent.requestPermission&&(g.enabled=!1,this.el.sceneEl.components["device-orientation-permission-ui"].permissionGranted?g.enabled=y.magicWindowTrackingEnabled:this.el.sceneEl.addEventListener("deviceorientationpermissiongranted",function(){g.enabled=y.magicWindowTrackingEnabled})))},update:function(g){var y=this.data;y.enabled!==g.enabled&&this.updateGrabCursor(y.enabled),g&&!y.magicWindowTrackingEnabled&&g.magicWindowTrackingEnabled&&(this.magicWindowAbsoluteEuler.set(0,0,0),this.magicWindowDeltaEuler.set(0,0,0)),this.magicWindowControls&&(this.magicWindowControls.enabled=y.magicWindowTrackingEnabled),g&&!y.pointerLockEnabled!==g.pointerLockEnabled&&(this.removeEventListeners(),this.addEventListeners(),this.pointerLocked&&this.exitPointerLock())},tick:function(g){var y=this.data;y.enabled&&this.updateOrientation()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},remove:function(){this.removeEventListeners(),this.pointerLocked&&this.exitPointerLock()},bindMethods:function(){this.onMouseDown=this.onMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.onEnterVR=this.onEnterVR.bind(this),this.onExitVR=this.onExitVR.bind(this),this.onPointerLockChange=this.onPointerLockChange.bind(this),this.onPointerLockError=this.onPointerLockError.bind(this)},setupMouseControls:function(){this.mouseDown=!1,this.pitchObject=new p.Object3D,this.yawObject=new p.Object3D,this.yawObject.position.y=10,this.yawObject.add(this.pitchObject)},addEventListeners:function(){var g=this.el.sceneEl,y=g.canvas;if(!y){g.addEventListener("render-target-loaded",this.addEventListeners.bind(this));return}y.addEventListener("mousedown",this.onMouseDown,!1),window.addEventListener("mousemove",this.onMouseMove,!1),window.addEventListener("mouseup",this.onMouseUp,!1),y.addEventListener("touchstart",this.onTouchStart,{passive:!0}),window.addEventListener("touchmove",this.onTouchMove,{passive:!0}),window.addEventListener("touchend",this.onTouchEnd,{passive:!0}),g.addEventListener("enter-vr",this.onEnterVR),g.addEventListener("exit-vr",this.onExitVR),this.data.pointerLockEnabled&&(document.addEventListener("pointerlockchange",this.onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.addEventListener("pointerlockerror",this.onPointerLockError,!1))},removeEventListeners:function(){var g=this.el.sceneEl,y=g&&g.canvas;y&&(y.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),y.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd),g.removeEventListener("enter-vr",this.onEnterVR),g.removeEventListener("exit-vr",this.onExitVR),document.removeEventListener("pointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("mozpointerlockchange",this.onPointerLockChange,!1),document.removeEventListener("pointerlockerror",this.onPointerLockError,!1))},updateOrientation:function(){var g=this.el.object3D,y=this.pitchObject,b=this.yawObject,v=this.el.sceneEl;(v.is("vr-mode")||v.is("ar-mode"))&&v.checkHeadsetConnected()||(this.updateMagicWindowOrientation(),g.rotation.x=this.magicWindowDeltaEuler.x+y.rotation.x,g.rotation.y=this.magicWindowDeltaEuler.y+b.rotation.y,g.rotation.z=this.magicWindowDeltaEuler.z)},updateMagicWindowOrientation:function(){var g=this.magicWindowAbsoluteEuler,y=this.magicWindowDeltaEuler;this.magicWindowControls&&this.magicWindowControls.enabled&&(this.magicWindowControls.update(),g.setFromQuaternion(this.magicWindowObject.quaternion,"YXZ"),!this.previousMagicWindowYaw&&g.y!==0&&(this.previousMagicWindowYaw=g.y),this.previousMagicWindowYaw&&(y.x=g.x,y.y+=g.y-this.previousMagicWindowYaw,y.z=g.z,this.previousMagicWindowYaw=g.y))},onMouseMove:function(g){var y,b,v,C=this.pitchObject,w=this.previousMouseEvent,_=this.yawObject;!this.data.enabled||!this.mouseDown&&!this.pointerLocked||(this.pointerLocked?(b=g.movementX||g.mozMovementX||0,v=g.movementY||g.mozMovementY||0):(b=g.screenX-w.screenX,v=g.screenY-w.screenY),this.previousMouseEvent.screenX=g.screenX,this.previousMouseEvent.screenY=g.screenY,y=this.data.reverseMouseDrag?1:-1,_.rotation.y+=b*.002*y,C.rotation.x+=v*.002*y,C.rotation.x=Math.max(-M,Math.min(M,C.rotation.x)))},onMouseDown:function(g){var y=this.el.sceneEl;if(!(!this.data.enabled||!this.data.mouseEnabled||(y.is("vr-mode")||y.is("ar-mode"))&&y.checkHeadsetConnected())&&g.button===0){var b=y&&y.canvas;this.mouseDown=!0,this.previousMouseEvent.screenX=g.screenX,this.previousMouseEvent.screenY=g.screenY,this.showGrabbingCursor(),this.data.pointerLockEnabled&&!this.pointerLocked&&(b.requestPointerLock?b.requestPointerLock():b.mozRequestPointerLock&&b.mozRequestPointerLock())}},showGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor="grabbing"},hideGrabbingCursor:function(){this.el.sceneEl.canvas.style.cursor=""},onMouseUp:function(){this.mouseDown=!1,this.hideGrabbingCursor()},onTouchStart:function(g){g.touches.length!==1||!this.data.touchEnabled||this.el.sceneEl.is("vr-mode")||this.el.sceneEl.is("ar-mode")||(this.touchStart={x:g.touches[0].pageX,y:g.touches[0].pageY},this.touchStarted=!0)},onTouchMove:function(g){var y,b=this.el.sceneEl.canvas,v,C=this.yawObject;!this.touchStarted||!this.data.touchEnabled||(v=2*Math.PI*(g.touches[0].pageX-this.touchStart.x)/b.clientWidth,y=this.data.reverseTouchDrag?1:-1,C.rotation.y-=v*.5*y,this.touchStart={x:g.touches[0].pageX,y:g.touches[0].pageY})},onTouchEnd:function(){this.touchStarted=!1},onEnterVR:function(){var g=this.el.sceneEl;g.checkHeadsetConnected()&&(this.saveCameraPose(),this.el.object3D.position.set(0,0,0),this.el.object3D.rotation.set(0,0,0),g.hasWebXR&&(this.el.object3D.matrixAutoUpdate=!1,this.el.object3D.updateMatrix()))},onExitVR:function(){this.el.sceneEl.checkHeadsetConnected()&&(this.restoreCameraPose(),this.previousHMDPosition.set(0,0,0),this.el.object3D.matrixAutoUpdate=!0)},onPointerLockChange:function(){this.pointerLocked=!!(document.pointerLockElement||document.mozPointerLockElement)},onPointerLockError:function(){this.pointerLocked=!1},exitPointerLock:function(){document.exitPointerLock(),this.pointerLocked=!1},updateGrabCursor:function(g){var y=this.el.sceneEl;function b(){y.canvas.classList.add("a-grab-cursor")}function v(){y.canvas.classList.remove("a-grab-cursor")}if(!y.canvas){g?y.addEventListener("render-target-loaded",b):y.addEventListener("render-target-loaded",v);return}if(g){b();return}v()},saveCameraPose:function(){var g=this.el;this.savedPose.position.copy(g.object3D.position),this.savedPose.rotation.copy(g.object3D.rotation),this.hasSavedPose=!0},restoreCameraPose:function(){var g=this.el,y=this.savedPose;this.hasSavedPose&&(g.object3D.position.copy(y.position),g.object3D.rotation.copy(y.rotation),this.hasSavedPose=!1)}})},"./src/components/magicleap-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/tracked-controls.js"),f=p.checkControllerPresentAndSetup,M=p.emitIfAxesChanged,g=p.onButtonEvent,y="magicleap",b="-one",v=y+b,C=u("./src/constants/index.js").AFRAME_CDN_ROOT,w=C+"controllers/magicleap/magicleap-one-controller.glb",_={axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","menu"]};c.exports.Component=h("magicleap-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:_,init:function(){var E=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(S){g(S.detail.id,"down",E)},this.onButtonUp=function(S){g(S.detail.id,"up",E)},this.onButtonTouchEnd=function(S){g(S.detail.id,"touchend",E)},this.onButtonTouchStart=function(S){g(S.detail.id,"touchstart",E)},this.previousButtonValues={},this.bindMethods()},update:function(){var E=this.data;this.controllerIndex=E.hand==="right"?0:E.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var E=this.el;E.addEventListener("buttonchanged",this.onButtonChanged),E.addEventListener("buttondown",this.onButtonDown),E.addEventListener("buttonup",this.onButtonUp),E.addEventListener("touchstart",this.onButtonTouchStart),E.addEventListener("touchend",this.onButtonTouchEnd),E.addEventListener("axismove",this.onAxisMoved),E.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var E=this.el;E.removeEventListener("buttonchanged",this.onButtonChanged),E.removeEventListener("buttondown",this.onButtonDown),E.removeEventListener("buttonup",this.onButtonUp),E.removeEventListener("touchstart",this.onButtonTouchStart),E.removeEventListener("touchend",this.onButtonTouchEnd),E.removeEventListener("axismove",this.onAxisMoved),E.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var E=this.data;f(this,v,{index:this.controllerIndex,hand:E.hand})},injectTrackedControls:function(){var E=this.el,S=this.data;E.setAttribute("tracked-controls",{idPrefix:v,hand:S.hand,controller:this.controllerIndex,orientationOffset:S.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",w)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(E){var S=this.mapping.buttons[E.detail.id],I;S&&(S==="trigger"&&(I=E.detail.state.value,console.log("analog value of trigger press: "+I)),this.el.emit(S+"changed",E.detail.state))},onModelLoaded:function(E){var S=E.detail.model;S.scale.set(.01,.01,.01)},onAxisMoved:function(E){M(this,this.mapping.axes,E)},updateModel:function(E,S){},setButtonColor:function(E,S){}})},"./src/components/material.js":(c,d,u)=>{var h=u("./src/utils/index.js"),p=u("./src/core/component.js"),f=u("./src/lib/three.js"),M=u("./src/core/shader.js"),g=h.debug("components:material:error"),y=p.registerComponent,b=M.shaders,v=M.shaderNames;c.exports.Component=y("material",{schema:{alphaTest:{default:0,min:0,max:1},depthTest:{default:!0},depthWrite:{default:!0},flatShading:{default:!1},npot:{default:!1},offset:{type:"vec2",default:{x:0,y:0}},opacity:{default:1,min:0,max:1},repeat:{type:"vec2",default:{x:1,y:1}},shader:{default:"standard",oneOf:v,schemaChange:!0},side:{default:"front",oneOf:["front","back","double"]},transparent:{default:!1},vertexColorsEnabled:{default:!1},visible:{default:!0},blending:{default:"normal",oneOf:["none","normal","additive","subtractive","multiply"]},dithering:{default:!0},anisotropy:{default:0,min:0}},init:function(){this.material=null},update:function(E){var S=this.data;(!this.shader||S.shader!==E.shader)&&this.updateShader(S.shader),this.shader.update(this.data),this.updateMaterial(E)},updateSchema:function(E){var S,I,T,k;I=E&&E.shader,S=this.oldData&&this.oldData.shader,k=I||S,T=b[k]&&b[k].schema,T||g("Unknown shader schema "+k),!(S&&I===S)&&(this.extendSchema(T),this.updateBehavior())},updateBehavior:function(){var E,S=this.el.sceneEl,I=this.schema,T=this,k;function D(N,P){var F;for(F in k)k[F]=N;T.shader.update(k)}this.tick=void 0,k={};for(E in I)I[E].type==="time"&&(this.tick=D,k[E]=!0);S&&(this.tick?S.addBehavior(this):S.removeBehavior(this))},updateShader:function(E){var S=this.data,I=b[E]&&b[E].Shader,T;if(!I)throw new Error("Unknown shader "+E);T=this.shader=new I,T.el=this.el,T.init(S),this.setMaterial(T.material),this.updateSchema(S)},updateMaterial:function(E){var S=this.data,I=this.material,T;I.alphaTest=S.alphaTest,I.depthTest=S.depthTest!==!1,I.depthWrite=S.depthWrite!==!1,I.opacity=S.opacity,I.flatShading=S.flatShading,I.side=C(S.side),I.transparent=S.transparent!==!1||S.opacity<1,I.vertexColors=S.vertexColorsEnabled,I.visible=S.visible,I.blending=w(S.blending),I.dithering=S.dithering;for(T in E)break;T&&(E.alphaTest!==S.alphaTest||E.side!==S.side||E.vertexColorsEnabled!==S.vertexColorsEnabled)&&(I.needsUpdate=!0)},remove:function(){var E=new f.MeshBasicMaterial,S=this.material,I=this.el.getObject3D("mesh");I&&(I.material=E),_(S,this.system)},setMaterial:function(E){var S=this.el,I,T=this.system;this.material&&_(this.material,T),this.material=E,T.registerMaterial(E),I=S.getObject3D("mesh"),I?I.material=E:S.addEventListener("object3dset",function k(D){D.detail.type!=="mesh"||D.target!==S||(S.getObject3D("mesh").material=E,S.removeEventListener("object3dset",k))})}});function C(E){switch(E){case"back":return f.BackSide;case"double":return f.DoubleSide;default:return f.FrontSide}}function w(E){switch(E){case"none":return f.NoBlending;case"additive":return f.AdditiveBlending;case"subtractive":return f.SubtractiveBlending;case"multiply":return f.MultiplyBlending;default:return f.NormalBlending}}function _(E,S){E.dispose(),S.unregisterMaterial(E),Object.keys(E).filter(function(I){return E[I]&&E[I].isTexture}).forEach(function(I){E[I].dispose()})}},"./src/components/obb-collider.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js");h("obb-collider",{schema:{size:{default:0},trackedObject3D:{default:""},minimumColliderDimension:{default:.02},centerModel:{default:!1}},init:function(){this.previousScale=new p.Vector3().copy(this.el.object3D.scale),this.auxEuler=new p.Euler,this.boundingBox=new p.Box3,this.boundingBoxSize=new p.Vector3,this.updateCollider=this.updateCollider.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.updateBoundingBox=this.updateBoundingBox.bind(this),this.el.addEventListener("model-loaded",this.onModelLoaded),this.updateCollider(),this.system.addCollider(this.el)},remove:function(){this.system.removeCollider(this.el)},update:function(){this.data.trackedObject3D&&(this.trackedObject3DPath=this.data.trackedObject3D.split("."))},onModelLoaded:function(){this.data.centerModel&&this.centerModel(),this.updateCollider()},centerModel:function(){var f=this.el,M=f.components["gltf-model"]&&f.components["gltf-model"].model,g,y;M&&(this.el.removeObject3D("mesh"),g=new p.Box3().setFromObject(M),y=g.getCenter(new p.Vector3),M.position.x+=M.position.x-y.x,M.position.y+=M.position.y-y.y,M.position.z+=M.position.z-y.z,this.el.setObject3D("mesh",M))},updateCollider:function(){var f=this.el,M=this.boundingBoxSize,g=this.aabb=this.aabb||new p.OBB;if(this.obb=this.obb||new p.OBB,!f.hasLoaded){f.addEventListener("loaded",this.updateCollider);return}this.updateBoundingBox(),g.halfSize.copy(M).multiplyScalar(.5),this.el.sceneEl.systems["obb-collider"].data.showColliders&&this.showCollider()},showCollider:function(){this.updateColliderMesh(),this.renderColliderMesh.visible=!0},updateColliderMesh:function(){var f=this.renderColliderMesh,M=this.boundingBoxSize;if(!f){this.initColliderMesh();return}f.geometry.dispose(),f.geometry=new p.BoxGeometry(M.x,M.y,M.z)},hideCollider:function(){this.renderColliderMesh&&(this.renderColliderMesh.visible=!1)},initColliderMesh:function(){var f,M,g;f=this.boundingBoxSize,M=this.renderColliderGeometry=new p.BoxGeometry(f.x,f.y,f.z),g=this.renderColliderMesh=new p.Mesh(M,new p.MeshLambertMaterial({color:65280,side:p.DoubleSide})),g.matrixAutoUpdate=!1,g.matrixWorldAutoUpdate=!1,g.updateMatrixWorld=function(){},this.el.sceneEl.object3D.add(g)},updateBoundingBox:function(){var f=new p.Vector3,M=new p.Vector3,g=new p.Quaternion,y=new p.Quaternion,b=new p.Matrix4;return function(){var v=this.auxEuler,C=this.boundingBox,w=this.data.size,_=this.trackedObject3D||this.el.object3D,E=this.boundingBoxSize,S=this.data.minimumColliderDimension;if(w){this.boundingBoxSize.x=w,this.boundingBoxSize.y=w,this.boundingBoxSize.z=w;return}v.copy(_.rotation),_.rotation.set(0,0,0),_.parent.matrixWorld.decompose(f,g,M),b.compose(f,y,M),_.parent.matrixWorld.copy(b),C.setFromObject(_,!0),C.getSize(E),E.x=E.x<S?S:E.x,E.y=E.y<S?S:E.y,E.z=E.z<S?S:E.z,_.parent.matrixWorld.compose(f,g,M),this.el.object3D.rotation.copy(v)}}(),checkTrackedObject:function(){var f=this.trackedObject3DPath,M;if(f&&f.length&&!this.trackedObject3D){M=this.el;for(var g=0;g<f.length&&(M=M[f[g]],!!M);g++);M&&(this.trackedObject3D=M,this.updateCollider())}return this.trackedObject3D},tick:function(){var f=new p.Vector3,M=new p.Vector3,g=new p.Quaternion,y=new p.Matrix4;return function(){var b=this.obb,v=this.renderColliderMesh,C=this.checkTrackedObject()||this.el.object3D;C&&(C.updateMatrix(),C.updateMatrixWorld(!0),C.matrixWorld.decompose(f,g,M),(Math.abs(M.x-this.previousScale.x)>1e-4||Math.abs(M.y-this.previousScale.y)>1e-4||Math.abs(M.z-this.previousScale.z)>1e-4)&&this.updateCollider(),this.previousScale.copy(M),M.set(1,1,1),y.compose(f,g,M),v&&v.matrixWorld.copy(y),b.copy(this.aabb),b.applyMatrix4(y))}}()})},"./src/components/obj-model.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),p=u("./src/core/component.js").registerComponent,f=u("./src/lib/three.js"),M=h("components:obj-model:warn");c.exports.Component=p("obj-model",{schema:{mtl:{type:"model"},obj:{type:"model"}},init:function(){var g=this;this.model=null,this.objLoader=new f.OBJLoader,this.mtlLoader=new f.MTLLoader(this.objLoader.manager),this.mtlLoader.crossOrigin="",this.el.addEventListener("componentinitialized",function(y){g.model&&y.detail.name==="material"&&g.applyMaterial()})},update:function(){var g=this.data;g.obj&&(this.resetMesh(),this.loadObj(g.obj,g.mtl))},remove:function(){this.resetMesh()},resetMesh:function(){this.model&&this.el.removeObject3D("mesh")},loadObj:function(g,y){var b=this,v=this.el,C=this.mtlLoader,w=this.objLoader,_=this.el.sceneEl.systems.renderer,E=y.substr(0,y.lastIndexOf("/")+1);if(y){v.hasAttribute("material")&&M("Material component properties are ignored when a .MTL is provided"),C.setResourcePath(E),C.load(y,function(S){S.preload(),w.setMaterials(S),w.load(g,function(I){b.model=I,b.model.traverse(function(T){if(T.isMesh){var k=T.material;k.map&&_.applyColorCorrection(k.map),k.emissiveMap&&_.applyColorCorrection(k.emissiveMap)}}),v.setObject3D("mesh",I),v.emit("model-loaded",{format:"obj",model:I})})});return}w.load(g,function(I){b.model=I,b.applyMaterial(),v.setObject3D("mesh",I),v.emit("model-loaded",{format:"obj",model:I})})},applyMaterial:function(){var g=this.el.components.material;g&&this.model.traverse(function(y){y instanceof f.Mesh&&(y.material=g.material)})}})},"./src/components/oculus-go-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/tracked-controls.js"),f=p.checkControllerPresentAndSetup,M=p.emitIfAxesChanged,g=p.onButtonEvent,y=u("./src/utils/index.js").device.isWebXRAvailable,b="oculus-go",v="Oculus Go",C=u("./src/constants/index.js").AFRAME_CDN_ROOT,w=C+"controllers/oculus/go/oculus-go-controller.gltf",_=y?b:v,E={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},S={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad"]},I=y?S:E;c.exports.Component=h("oculus-go-controls",{schema:{hand:{default:""},buttonColor:{type:"color",default:"#FFFFFF"},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},mapping:I,bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var T=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(k){g(k.detail.id,"down",T)},this.onButtonUp=function(k){g(k.detail.id,"up",T)},this.onButtonTouchStart=function(k){g(k.detail.id,"touchstart",T)},this.onButtonTouchEnd=function(k){g(k.detail.id,"touchend",T)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var T=this.el;T.addEventListener("buttonchanged",this.onButtonChanged),T.addEventListener("buttondown",this.onButtonDown),T.addEventListener("buttonup",this.onButtonUp),T.addEventListener("touchstart",this.onButtonTouchStart),T.addEventListener("touchend",this.onButtonTouchEnd),T.addEventListener("model-loaded",this.onModelLoaded),T.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var T=this.el;T.removeEventListener("buttonchanged",this.onButtonChanged),T.removeEventListener("buttondown",this.onButtonDown),T.removeEventListener("buttonup",this.onButtonUp),T.removeEventListener("touchstart",this.onButtonTouchStart),T.removeEventListener("touchend",this.onButtonTouchEnd),T.removeEventListener("model-loaded",this.onModelLoaded),T.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){f(this,_,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var T=this.el,k=this.data;T.setAttribute("tracked-controls",{armModel:k.armModel,hand:k.hand,idPrefix:_,orientationOffset:k.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",w)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(T){var k=T.detail.model,D;T.target!==this.el||!this.data.model||(D=this.buttonMeshes={},D.trigger=k.getObjectByName("oculus_go_button_trigger"),D.trackpad=k.getObjectByName("oculus_go_touchpad"),D.touchpad=k.getObjectByName("oculus_go_touchpad"))},onButtonChanged:function(T){var k=this.mapping.buttons[T.detail.id];k&&this.el.emit(k+"changed",T.detail.state)},onAxisMoved:function(T){M(this,this.mapping.axes,T)},updateModel:function(T,k){this.data.model&&this.updateButtonModel(T,k)},updateButtonModel:function(T,k){var D=this.buttonMeshes;if(!(!D||!D[T])){var N,P;switch(k){case"down":N=this.data.buttonHighlightColor;break;case"touchstart":N=this.data.buttonTouchedColor;break;default:N=this.data.buttonColor}P=D[T],P.material.color.set(N)}}})},"./src/components/oculus-touch-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),f=u("./src/utils/tracked-controls.js"),M=f.checkControllerPresentAndSetup,g=f.emitIfAxesChanged,y=f.onButtonEvent,b=u("./src/utils/index.js").device.isWebXRAvailable,v="oculus-touch",C="Oculus Touch",w=b?v:C,_=u("./src/constants/index.js").AFRAME_CDN_ROOT,E=_+"controllers/oculus/oculus-touch-controller-",S=_+"controllers/meta/",I={left:{modelUrl:E+"left.gltf",rayOrigin:{origin:{x:.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(-.005,.003,-.055),modelPivotRotation:new p.Euler(0,0,0)},right:{modelUrl:E+"right.gltf",rayOrigin:{origin:{x:-.008,y:-.01,z:0},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(.005,.003,-.055),modelPivotRotation:new p.Euler(0,0,0)}},T={left:{modelUrl:E+"left.gltf",rayOrigin:{origin:{x:.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(-.005,.036,-.037),modelPivotRotation:new p.Euler(Math.PI/4.5,0,0)},right:{modelUrl:E+"right.gltf",rayOrigin:{origin:{x:-.002,y:-.005,z:-.03},direction:{x:0,y:-.8,z:-1}},modelPivotOffset:new p.Vector3(.005,.036,-.037),modelPivotRotation:new p.Euler(Math.PI/4.5,0,0)}},k=b?T:I,D="oculus-touch",N={"oculus-touch":k,"oculus-touch-v2":{left:{modelUrl:E+"gen2-left.gltf",rayOrigin:{origin:{x:-.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new p.Vector3(0,-.007,-.021),modelPivotRotation:new p.Euler(-Math.PI/4,0,0)},right:{modelUrl:E+"gen2-right.gltf",rayOrigin:{origin:{x:.006,y:-.03,z:-.04},direction:{x:0,y:-.9,z:-1}},modelPivotOffset:new p.Vector3(0,-.007,-.021),modelPivotRotation:new p.Euler(-Math.PI/4,0,0)}},"oculus-touch-v3":{left:{modelUrl:E+"v3-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)},right:{modelUrl:E+"v3-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)}},"meta-quest-touch-pro":{left:{modelUrl:S+"quest-touch-pro-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)},right:{modelUrl:S+"quest-touch-pro-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)}},"meta-quest-touch-plus":{left:{modelUrl:S+"quest-touch-plus-left.glb",rayOrigin:{origin:{x:.0065,y:-.0186,z:-.05},direction:{x:.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)},right:{modelUrl:S+"quest-touch-plus-right.glb",rayOrigin:{origin:{x:-.0065,y:-.0186,z:-.05},direction:{x:-.12394785839500175,y:-.5944043672340157,z:-.7945567170519814}},modelPivotOffset:new p.Vector3(0,0,0),modelPivotRotation:new p.Euler(0,0,0)}}},P={left:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[0,1]},buttons:["thumbstick","trigger","grip","abutton","bbutton","surface"]}},F={left:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","xbutton","ybutton","surface"]},right:{axes:{thumbstick:[2,3]},buttons:["trigger","grip","none","thumbstick","abutton","bbutton","surface"]}},U=b?F:P;c.exports.Component=h("oculus-touch-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#999"},buttonTouchColor:{type:"color",default:"#8AB"},buttonHighlightColor:{type:"color",default:"#2DF"},model:{default:!0},controllerType:{default:"auto",oneOf:["auto","oculus-touch","oculus-touch-v2","oculus-touch-v3"]},orientationOffset:{type:"vec3",default:{x:43,y:0,z:0}}},after:["tracked-controls"],mapping:U,bindMethods:function(){this.onButtonChanged=this.onButtonChanged.bind(this),this.onThumbstickMoved=this.onThumbstickMoved.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var z=this;this.onButtonDown=function(G){y(G.detail.id,"down",z,z.data.hand)},this.onButtonUp=function(G){y(G.detail.id,"up",z,z.data.hand)},this.onButtonTouchStart=function(G){y(G.detail.id,"touchstart",z,z.data.hand)},this.onButtonTouchEnd=function(G){y(G.detail.id,"touchend",z,z.data.hand)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.triggerEuler=new p.Euler},addEventListeners:function(){var z=this.el;z.addEventListener("buttonchanged",this.onButtonChanged),z.addEventListener("buttondown",this.onButtonDown),z.addEventListener("buttonup",this.onButtonUp),z.addEventListener("touchstart",this.onButtonTouchStart),z.addEventListener("touchend",this.onButtonTouchEnd),z.addEventListener("axismove",this.onAxisMoved),z.addEventListener("model-loaded",this.onModelLoaded),z.addEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var z=this.el;z.removeEventListener("buttonchanged",this.onButtonChanged),z.removeEventListener("buttondown",this.onButtonDown),z.removeEventListener("buttonup",this.onButtonUp),z.removeEventListener("touchstart",this.onButtonTouchStart),z.removeEventListener("touchend",this.onButtonTouchEnd),z.removeEventListener("axismove",this.onAxisMoved),z.removeEventListener("model-loaded",this.onModelLoaded),z.removeEventListener("thumbstickmoved",this.onThumbstickMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){M(this,w,{hand:this.data.hand,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},loadModel:function(z){var G=this.data,H;if(G.model){if(this.controllerObject3D){this.el.setObject3D("mesh",this.controllerObject3D);return}if(this.displayModel=N[G.controllerType]||N[D],G.controllerType==="auto"){var J=this.el.sceneEl.systems["tracked-controls-webvr"];if(J&&J.vrDisplay){var Z=J.vrDisplay.displayName;/^Oculus Quest$/.test(Z)&&(this.displayModel=N["oculus-touch-v2"])}else{H=D;for(var j=Object.keys(N),W=0;W<z.profiles.length;W++)if(j.indexOf(z.profiles[W])!==-1){H=z.profiles[W];break}this.displayModel=N[H]}}var et=this.displayModel[G.hand].modelUrl;this.isTouchV3orPROorPlus=this.displayModel===N["oculus-touch-v3"]||this.displayModel===N["meta-quest-touch-pro"]||this.displayModel===N["meta-quest-touch-plus"],this.el.setAttribute("gltf-model",et)}},injectTrackedControls:function(z){var G=this.data,H=v,J=G.hand==="right"?"Oculus Touch (Right)":"Oculus Touch (Left)",Z=b?H:J;this.el.setAttribute("tracked-controls",{id:Z,hand:G.hand,orientationOffset:G.orientationOffset,handTrackingEnabled:!1,iterateControllerProfiles:!0,space:"gripSpace"}),this.loadModel(z)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(z){var G=this.mapping[this.data.hand].buttons[z.detail.id];if(G){if(this.isTouchV3orPROorPlus)this.onButtonChangedV3orPROorPlus(z);else{var H=this.buttonMeshes,J;(G==="trigger"||G==="grip")&&(J=z.detail.state.value),H&&(G==="trigger"&&H.trigger&&(H.trigger.rotation.x=this.originalXRotationTrigger-J*(Math.PI/26)),G==="grip"&&H.grip&&(J*=this.data.hand==="left"?-1:1,H.grip.position.x=this.originalXPositionGrip+J*.004))}this.el.emit(G+"changed",z.detail.state)}},onButtonChangedV3orPROorPlus:function(z){var G=this.mapping[this.data.hand].buttons[z.detail.id],H=this.buttonObjects,J;!H||!H[G]||(J=z.detail.state.value,H[G].quaternion.slerpQuaternions(this.buttonRanges[G].min.quaternion,this.buttonRanges[G].max.quaternion,J),H[G].position.lerpVectors(this.buttonRanges[G].min.position,this.buttonRanges[G].max.position,J))},onModelLoaded:function(z){if(!(z.target!==this.el||!this.data.model)){if(this.isTouchV3orPROorPlus)this.onTouchV3orPROorPlusModelLoaded(z);else{var G=this.controllerObject3D=z.detail.model,H;H=this.buttonMeshes={},H.grip=G.getObjectByName("buttonHand"),this.originalXPositionGrip=H.grip&&H.grip.position.x,H.trigger=G.getObjectByName("buttonTrigger"),this.originalXRotationTrigger=H.trigger&&H.trigger.rotation.x,H.thumbstick=G.getObjectByName("stick"),H.xbutton=G.getObjectByName("buttonX"),H.abutton=G.getObjectByName("buttonA"),H.ybutton=G.getObjectByName("buttonY"),H.bbutton=G.getObjectByName("buttonB")}for(var J in this.buttonMeshes)this.buttonMeshes[J]&&V(this.buttonMeshes[J]);this.applyOffset(z.detail.model),this.el.emit("controllermodelready",{name:"oculus-touch-controls",model:this.data.model,rayOrigin:this.displayModel[this.data.hand].rayOrigin})}},applyOffset:function(z){z.position.copy(this.displayModel[this.data.hand].modelPivotOffset),z.rotation.copy(this.displayModel[this.data.hand].modelPivotRotation)},onTouchV3orPROorPlusModelLoaded:function(z){var G=this.controllerObject3D=z.detail.model,H=this.buttonObjects={},J=this.buttonMeshes={},Z=this.buttonRanges={};J.grip=G.getObjectByName("squeeze"),H.grip=G.getObjectByName("xr_standard_squeeze_pressed_value"),Z.grip={min:G.getObjectByName("xr_standard_squeeze_pressed_min"),max:G.getObjectByName("xr_standard_squeeze_pressed_max")},H.grip.minX=H.grip.position.x,J.thumbstick=G.getObjectByName("thumbstick"),H.thumbstick=G.getObjectByName("xr_standard_thumbstick_pressed_value"),Z.thumbstick={min:G.getObjectByName("xr_standard_thumbstick_pressed_min"),max:G.getObjectByName("xr_standard_thumbstick_pressed_max")},H.thumbstickXAxis=G.getObjectByName("xr_standard_thumbstick_xaxis_pressed_value"),Z.thumbstickXAxis={min:G.getObjectByName("xr_standard_thumbstick_xaxis_pressed_min"),max:G.getObjectByName("xr_standard_thumbstick_xaxis_pressed_max")},H.thumbstickYAxis=G.getObjectByName("xr_standard_thumbstick_yaxis_pressed_value"),Z.thumbstickYAxis={min:G.getObjectByName("xr_standard_thumbstick_yaxis_pressed_min"),max:G.getObjectByName("xr_standard_thumbstick_yaxis_pressed_max")},J.trigger=G.getObjectByName("trigger"),H.trigger=G.getObjectByName("xr_standard_trigger_pressed_value"),Z.trigger={min:G.getObjectByName("xr_standard_trigger_pressed_min"),max:G.getObjectByName("xr_standard_trigger_pressed_max")},Z.trigger.diff={x:Math.abs(Z.trigger.max.rotation.x)-Math.abs(Z.trigger.min.rotation.x),y:Math.abs(Z.trigger.max.rotation.y)-Math.abs(Z.trigger.min.rotation.y),z:Math.abs(Z.trigger.max.rotation.z)-Math.abs(Z.trigger.min.rotation.z)};var j=this.data.hand==="left"?"x":"a",W=this.data.hand==="left"?"y":"b",et=j+"button",dt=W+"button";J[et]=G.getObjectByName(j+"_button"),H[et]=G.getObjectByName(j+"_button_pressed_value"),Z[et]={min:G.getObjectByName(j+"_button_pressed_min"),max:G.getObjectByName(j+"_button_pressed_max")},J[dt]=G.getObjectByName(W+"_button"),H[dt]=G.getObjectByName(W+"_button_pressed_value"),Z[dt]={min:G.getObjectByName(W+"_button_pressed_min"),max:G.getObjectByName(W+"_button_pressed_max")}},onAxisMoved:function(z){g(this,this.mapping[this.data.hand].axes,z)},onThumbstickMoved:function(z){if(!(!this.buttonMeshes||!this.buttonMeshes.thumbstick)){if(this.isTouchV3orPROorPlus){this.updateThumbstickTouchV3orPROorPlus(z);return}for(var G in z.detail)this.buttonObjects.thumbstick.rotation[this.axisMap[G]]=this.buttonRanges.thumbstick.originalRotation[this.axisMap[G]]-Math.PI/8*z.detail[G]*(G==="y"||this.data.hand==="right"?-1:1)}},axisMap:{y:"x",x:"z"},updateThumbstickTouchV3orPROorPlus:function(z){var G=(z.detail.x+1)/2;this.buttonObjects.thumbstickXAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickXAxis.min.quaternion,this.buttonRanges.thumbstickXAxis.max.quaternion,G);var H=(z.detail.y+1)/2;this.buttonObjects.thumbstickYAxis.quaternion.slerpQuaternions(this.buttonRanges.thumbstickYAxis.min.quaternion,this.buttonRanges.thumbstickYAxis.max.quaternion,H)},updateModel:function(z,G){this.data.model&&this.updateButtonModel(z,G)},updateButtonModel:function(z,G){var H=this.buttonMeshes,J,Z;H&&H[z]&&(Z=G==="up"||G==="touchend"?H[z].originalColor||this.data.buttonColor:G==="touchstart"?this.data.buttonTouchColor:this.data.buttonHighlightColor,J=H[z],J.material.color.set(Z))}});function V(z){z.traverse(function(G){var H;G.type==="Mesh"&&(H=G.material.clone(),z.originalColor=G.material.color,G.material.dispose(),G.material=H)})}},"./src/components/pico-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),f=u("./src/utils/tracked-controls.js"),M=f.checkControllerPresentAndSetup,g=f.emitIfAxesChanged,y=f.onButtonEvent,b="pico-4",v=u("./src/constants/index.js").AFRAME_CDN_ROOT,C=v+"controllers/pico/pico4/",w={left:{axes:{touchpad:[2,3]},buttons:["trigger","squeeze","none","thumbstick","xbutton","ybutton"]},right:{axes:{touchpad:[2,3]},buttons:["trigger","squeeze","none","thumbstick","abutton","bbutton"]}};c.exports.Component=h("pico-controls",{schema:{hand:{default:"none"},model:{default:!0},orientationOffset:{type:"vec3"}},mapping:w,init:function(){var _=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(E){y(E.detail.id,"down",_,_.data.hand)},this.onButtonUp=function(E){y(E.detail.id,"up",_,_.data.hand)},this.onButtonTouchEnd=function(E){y(E.detail.id,"touchend",_,_.data.hand)},this.onButtonTouchStart=function(E){y(E.detail.id,"touchstart",_,_.data.hand)},this.bindMethods()},update:function(){var _=this.data;this.controllerIndex=_.hand==="right"?0:_.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var _=this.el;_.addEventListener("buttonchanged",this.onButtonChanged),_.addEventListener("buttondown",this.onButtonDown),_.addEventListener("buttonup",this.onButtonUp),_.addEventListener("touchstart",this.onButtonTouchStart),_.addEventListener("touchend",this.onButtonTouchEnd),_.addEventListener("axismove",this.onAxisMoved),_.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var _=this.el;_.removeEventListener("buttonchanged",this.onButtonChanged),_.removeEventListener("buttondown",this.onButtonDown),_.removeEventListener("buttonup",this.onButtonUp),_.removeEventListener("touchstart",this.onButtonTouchStart),_.removeEventListener("touchend",this.onButtonTouchEnd),_.removeEventListener("axismove",this.onAxisMoved),_.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var _=this.data;M(this,b,{index:this.controllerIndex,hand:_.hand})},injectTrackedControls:function(){var _=this.el,E=this.data;_.setAttribute("tracked-controls",{idPrefix:b,hand:E.hand,controller:this.controllerIndex,orientationOffset:E.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",C+this.data.hand+".glb")},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(_){var E=this.mapping[this.data.hand].buttons[_.detail.id],S;E&&(E==="trigger"&&(S=_.detail.state.value,console.log("analog value of trigger press: "+S)),this.el.emit(E+"changed",_.detail.state))},onModelLoaded:function(_){_.target!==this.el||!this.data.model||this.el.emit("controllermodelready",{name:"pico-controls",model:this.data.model,rayOrigin:new p.Vector3(0,0,0)})},onAxisMoved:function(_){g(this,this.mapping.axes,_)}})},"./src/components/position.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("position",{schema:{type:"vec3"},update:function(){var p=this.el.object3D,f=this.data;p.position.set(f.x,f.y,f.z)},remove:function(){this.el.object3D.position.set(0,0,0)}})},"./src/components/raycaster.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),f=u("./src/utils/index.js"),M=f.debug("components:raycaster:warn"),g=/^[\w\s-.,[\]#]*$/,y={childList:!0,attributes:!0,subtree:!0},b={INTERSECT:"raycaster-intersected",INTERSECTION:"raycaster-intersection",INTERSECT_CLEAR:"raycaster-intersected-cleared",INTERSECTION_CLEAR:"raycaster-intersection-cleared",INTERSECTION_CLOSEST_ENTITY_CHANGED:"raycaster-closest-entity-changed"};c.exports.Component=h("raycaster",{schema:{autoRefresh:{default:!0},direction:{type:"vec3",default:{x:0,y:0,z:-1}},enabled:{default:!0},far:{default:1e3},interval:{default:0},near:{default:0},objects:{default:""},origin:{type:"vec3"},showLine:{default:!1},lineColor:{default:"white"},lineOpacity:{default:1},useWorldCoordinates:{default:!1}},multiple:!0,init:function(){this.clearedIntersectedEls=[],this.unitLineEndVec3=new p.Vector3,this.intersectedEls=[],this.intersections=[],this.newIntersectedEls=[],this.newIntersections=[],this.objects=[],this.prevCheckTime=void 0,this.prevIntersectedEls=[],this.rawIntersections=[],this.raycaster=new p.Raycaster,this.updateOriginDirection(),this.setDirty=this.setDirty.bind(this),this.updateLine=this.updateLine.bind(this),this.observer=new MutationObserver(this.setDirty),this.dirty=!0,this.lineEndVec3=new p.Vector3,this.otherLineEndVec3=new p.Vector3,this.lineData={end:this.lineEndVec3},this.getIntersection=this.getIntersection.bind(this),this.intersectedDetail={el:this.el,getIntersection:this.getIntersection},this.intersectedClearedDetail={el:this.el},this.intersectionClearedDetail={clearedEls:this.clearedIntersectedEls},this.intersectionDetail={}},update:function(C){var w=this.data,_=this.el,E=this.raycaster;E.far=w.far,E.near=w.near,w.showLine&&(w.far!==C.far||w.origin!==C.origin||w.direction!==C.direction||!C.showLine)&&(this.unitLineEndVec3.copy(w.direction).normalize(),this.drawLine()),!w.showLine&&C.showLine&&_.removeAttribute("line"),w.objects!==C.objects&&!g.test(w.objects)&&M('[raycaster] Selector "'+w.objects+'" may not update automatically with DOM changes.'),w.objects||M('[raycaster] For performance, please define raycaster.objects when using raycaster or cursor components to whitelist which entities to intersect with. e.g., raycaster="objects: [data-raycastable]".'),w.autoRefresh!==C.autoRefresh&&_.isPlaying&&(w.autoRefresh?this.addEventListeners():this.removeEventListeners()),C.enabled&&!w.enabled&&this.clearAllIntersections(),this.setDirty()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners()},remove:function(){this.data.showLine&&this.el.removeAttribute("line"),this.clearAllIntersections()},addEventListeners:function(){this.data.autoRefresh&&(this.observer.observe(this.el.sceneEl,y),this.el.sceneEl.addEventListener("object3dset",this.setDirty),this.el.sceneEl.addEventListener("object3dremove",this.setDirty))},removeEventListeners:function(){this.observer.disconnect(),this.el.sceneEl.removeEventListener("object3dset",this.setDirty),this.el.sceneEl.removeEventListener("object3dremove",this.setDirty)},setDirty:function(){this.dirty=!0},refreshObjects:function(){var C=this.data,w;w=C.objects?this.el.sceneEl.querySelectorAll(C.objects):this.el.sceneEl.querySelectorAll("*"),this.objects=this.flattenObject3DMaps(w),this.dirty=!1},tock:function(C){var w=this.data,_=this.prevCheckTime;w.enabled&&(_&&C-_<w.interval||(this.prevCheckTime=C,this.checkIntersections()))},checkIntersections:function(){var C=this.clearedIntersectedEls,w=this.el,_=this.data,E,S=this.intersectedEls,I,T=this.intersections,k=this.newIntersectedEls,D=this.newIntersections,N=this.prevIntersectedEls,P=this.rawIntersections;for(this.dirty&&this.refreshObjects(),v(this.prevIntersectedEls,this.intersectedEls),this.updateOriginDirection(),P.length=0,this.raycaster.intersectObjects(this.objects,!0,P),T.length=0,S.length=0,E=0;E<P.length;E++)I=P[E],!(_.showLine&&I.object===w.getObject3D("line"))&&I.object.el&&(T.push(I),S.push(I.object.el));for(D.length=0,k.length=0,E=0;E<T.length;E++)N.indexOf(T[E].object.el)===-1&&(D.push(T[E]),k.push(T[E].object.el));for(C.length=0,E=0;E<N.length;E++)S.indexOf(N[E])===-1&&(N[E].emit(b.INTERSECT_CLEAR,this.intersectedClearedDetail),C.push(N[E]));for(C.length&&w.emit(b.INTERSECTION_CLEAR,this.intersectionClearedDetail),E=0;E<k.length;E++)k[E].emit(b.INTERSECT,this.intersectedDetail);D.length&&(this.intersectionDetail.els=k,this.intersectionDetail.intersections=D,w.emit(b.INTERSECTION,this.intersectionDetail)),(N.length===0&&T.length>0||N.length>0&&T.length===0||N.length&&T.length&&N[0]!==T[0].object.el)&&(this.intersectionDetail.els=this.intersectedEls,this.intersectionDetail.intersections=T,w.emit(b.INTERSECTION_CLOSEST_ENTITY_CHANGED,this.intersectionDetail)),_.showLine&&setTimeout(this.updateLine)},updateLine:function(){var C=this.el,w=this.intersections,_;w.length&&(w[0].object.el===C&&w[1]?_=w[1].distance:_=w[0].distance),this.drawLine(_)},getIntersection:function(C){var w,_;for(w=0;w<this.intersections.length;w++)if(_=this.intersections[w],_.object.el===C)return _;return null},updateOriginDirection:function(){var C=new p.Vector3,w=new p.Vector3;return function(){var E=this.el,S=this.data;if(S.useWorldCoordinates){this.raycaster.set(S.origin,S.direction);return}E.object3D.updateMatrixWorld(),w.setFromMatrixPosition(E.object3D.matrixWorld),(S.origin.x!==0||S.origin.y!==0||S.origin.z!==0)&&(w=E.object3D.localToWorld(w.copy(S.origin))),C.copy(S.direction).transformDirection(E.object3D.matrixWorld).normalize(),this.raycaster.set(w,C)}}(),drawLine:function(C){var w=this.data,_=this.el,E;E=this.lineData.end===this.lineEndVec3?this.otherLineEndVec3:this.lineEndVec3,C===void 0&&(C=w.far===1/0?1e3:w.far),this.lineData.start=w.origin,this.lineData.end=E.copy(this.unitLineEndVec3).multiplyScalar(C).add(w.origin),this.lineData.color=w.lineColor,this.lineData.opacity=w.lineOpacity,_.setAttribute("line",this.lineData)},flattenObject3DMaps:function(C){var w,_,E=this.objects,S=this.el.sceneEl.object3D;function I(k){return k.parent?I(k.parent):k===S}for(E.length=0,_=0;_<C.length;_++){var T=C[_];if(T.isEntity&&T.object3D&&I(T.object3D))for(w in T.object3DMap)E.push(T.getObject3D(w))}return E},clearAllIntersections:function(){var C;for(C=0;C<this.intersectedEls.length;C++)this.intersectedEls[C].emit(b.INTERSECT_CLEAR,this.intersectedClearedDetail);v(this.clearedIntersectedEls,this.intersectedEls),this.intersectedEls.length=0,this.intersections.length=0,this.el.emit(b.INTERSECTION_CLEAR,this.intersectionClearedDetail)}});function v(C,w){var _;for(C.length=w.length,_=0;_<w.length;_++)C[_]=w[_]}},"./src/components/rotation.js":(c,d,u)=>{var h=u("./src/lib/three.js").MathUtils.degToRad,p=u("./src/core/component.js").registerComponent;c.exports.Component=p("rotation",{schema:{type:"vec3"},update:function(){var f=this.data,M=this.el.object3D;M.rotation.set(h(f.x),h(f.y),h(f.z),"YXZ")},remove:function(){this.el.object3D.rotation.set(0,0,0)}})},"./src/components/scale.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("scale",{schema:{type:"vec3",default:{x:1,y:1,z:1}},update:function(){var p=this.data,f=this.el.object3D;f.scale.set(p.x,p.y,p.z)},remove:function(){this.el.object3D.scale.set(1,1,1)}})},"./src/components/scene/ar-hit-test.js":(c,d,u)=>{var h="data:image/webp;base64,UklGRkQHAABXRUJQVlA4WAoAAAAQAAAA/wEA/wEAQUxQSL0DAAARDzD/ERGCjrY9sYYFfgo6aa1kJ7K0w9Lo3AadLSVeFxevQwj5kuM8RfR/Atw/C0+ozB/oUBrloFZs6ElSW88j1KA4yExNWQaqRZquIDF0JYmlq0hAuUDTFu66tng3teW7pa3cQf1V1edvur54M/Slm6Wv3Gx9zw0MXlQLntcsBN6wkHjTQuYtC4W3LTw8mGRVG57TbAROtxHfZNhInGkjc5aNwtk2Hg6Mvki14k+NkZzCwQgCxalcAv3kddRTPI1DcUrXId1FLf1uHpzaQz4tquhZVLlKesbVpqKeTj0n0F5PpXDlFN9UqmhalL/ImuZFo6KmToWLoKlddMprqlS8cKovBvHo2kTiFV2LN4msaxKZl3QNiair8xYRdDWivIvXVXmbcMqJ51UebZuFXxZt6xd4laxtciqRtA3Cv0nU1t+kEUFbI8JvCa+tvkm3FDlO/W+OR99+kWEp/YYo+tYfTVnf/K8cE/F///3vv//993eeL+a+uvjawLcX3xjYvJotBFY3kVjTRGFtE+BU2AiMbiQyhpHMWEYeBozAH5qNBYRDB5KBCaTDBKKBAZTDBoKBDjwHAN5ABeCJBsAZcAAC0YHHxAYSMYBiYgGZWEA2MYFCbCCZGAAIANFEB+AnYgMQTDQAYSJ2AN5EBZAm4gDgTDgAeSIu4DGygTIRN1CMLOCZiACykQlg4jsAycgA8AO+BxCNdJyDkcbwRirDGXGnx8w+FDPrkM3MQ9JQZMYhiiwV/RDMtIM3U1/DmXHUo+IR2kSR2ToWkQ1NIn2qf2J8LCqJKiDUiSADHY3whirhdHgZ94HKaR97PhE+twEUJUFoAcgyTct8hfSxSkShASDKdMJ/ritKHwgyQ0sD4D/miCxU5SbhOOUDTnZpccCjYP/i0bZ/8bAgtVGEoGapWIQXyzKVKLwgNJFk2rtMIgoNRJlOZF7SNSSyUEeQmbxBFKEmtYjEe8S8zOZ1AkJVCmS88FJOtF40Ksg4oUaFiygk3C8qlTVNyl8UTevCUdAE2t14PfVqU1FPp57TopKeQZWromddTQp6QOfTOEQt/ZDuipZ11w/wOiqO8dRORcc6BQEkDQMClaHcn5wV9yLbxsNZNgpn2sicYSNxuo34Js1G4FQbnuNsOPa28PCWhcKbFjJvWEi8ZiHwqgXPcxbc5db33Cx95WboSzddX7yp+vyN0+eul7ZyN7Xlu64t3jVt4c5pc4JLV5EYupJE0xUknC4nOjVlmaYpyLit53HCQ0+ScnqceNcS5dzUkd0/CwMAVlA4IGADAAAQXwCdASoAAgACP8ne6Wy/tjCpqJ/IA/A5CWlu4XYBG/Pz8AfwD8APz//f3v8E1fuHZnxKYACtfuHZnxKYACrYTb5mOslhxu843ecbvON3nG7zjd3a0VCn7G1MABVxwH/Xd25gAK1+4dmfEpe2+PHhQaj75++riG6FuYACtfuHZnxKYACRrK3q9xO8Ss3uWKnMhs/rDF1hi6wxdYYusMXWGI5QRcCFDZog5OgqNlse1NDuz/UoFa/cOzPiUwAEsAOK4/nu5eZHK2tlXxJfNYlMABWv3Dsz4bvNJ5YA/LtxJ38SmAArX7h2Z8Sk5vdZUYv7mZPiUwAFa/cOzPh21s5OgZxf1mfEpemRyFr/rM+JS9noA/LtxJ38SmAAlUJIotzAASn6TjdhK+D3Dsz4dyvB7h2Z8O2tnJ0DOL+sz4lL2nKLT4lL/+iSLOocxq639w7M34MNZdm55uJ8v8ra2cpVZnxKTq2F3PN/cNksAfl24k7+JTAASqrD37h2Z7b1W+VtbOUqsz4lJ1bC7nm/uGyWAPy7cSd/EpgAJVVh79w7M9t6rfK2tnKVWZ8Sk6thdzzf3DZLAH5duJO/iUwAEqqw9+4dme29VvlbWzlKrM+JSdWwu55v7hslgD8u3EnfxKYACVVYe/cOzPbeq3ytrZylVme0kYJ8557FLerqFrzIbPrrf3DZLAH5duJO/iUvaVMS9BoaF4p7pSDFTP1XMyfElelrM0DOL+sz4eBJ13nV1OppBGPuKb4YzXQgq9uH19uS/0+JS9t9fr6ZUlQBelDG6GMgq97otb5QMPJwtKyBTbFp8Sl7b6/X0ykkawEOsgdiE6Fi0vb/Eve6xkwsmug0Z4nGNHQO8839bpTsjpz7SWIJxKagvd1QWMa6FYT1KEw3j4XDT6vJ9Xk+nyfT5Pq8n1eEmk5dinMM/9Fcfz4Z3Dsz3KD2dw7LxBRxKrqUUGQPH/7zxr1KIfNpLEJ0MZB2ITM/0Z2EFoh12NlXnEcpYcbvON3nG7zjd5xu84vfcNIAAP7+y8ceyzbVxkakPYY4lcr72fqOnDwipv+yxC71wAADBrjKnAAAAAAAAAAAAAAw7oNGHttqWONcoFN/2WIDc2pa6WVFtFYROlsaMaTXdcOjXHz93+YxAglKa4AAAAA=",p=u("./src/core/component.js").registerComponent,f=u("./src/lib/three.js"),M=21,g=function(){var C=new f.Quaternion,w=new f.Vector3;function _(E,S,I){S.position.copy(E.transform.position),S.quaternion.copy(E.transform.orientation),w.copy(I),C.copy(E.transform.orientation),w.applyQuaternion(C),S.position.sub(w)}return _}();g.tempFakePose={transform:{orientation:new f.Quaternion,position:new f.Vector3}};function y(C,w){this.renderer=C,this.xrHitTestSource=null,C.xr.addEventListener("sessionend",(function(){this.xrHitTestSource=null}).bind(this)),C.xr.addEventListener("sessionstart",(function(){this.sessionStart(w)}).bind(this)),this.renderer.xr.isPresenting&&this.sessionStart(w)}y.prototype.previousFrameAnchors=new Set,y.prototype.anchorToObject3D=new Map;function b(C){console.warn(C.message),console.warn('Cannot requestHitTestSource Are you missing: webxr="optionalFeatures: hit-test;" from <a-scene>?')}y.prototype.sessionStart=function(w){if(this.session=this.renderer.xr.getSession(),!("requestHitTestSource"in this.session)){b({message:"No requestHitTestSource on the session."});return}w.space?this.session.requestHitTestSource(w).then((function(_){this.xrHitTestSource=_}).bind(this)).catch(b):w.profile&&this.session.requestHitTestSourceForTransientInput(w).then((function(_){this.xrHitTestSource=_,this.transient=!0}).bind(this)).catch(b)},y.prototype.anchorFromLastHitTestResult=function(C,w){var _=this.lastHitTest;if(_){var E={object3D:C,offset:w};Array.from(this.anchorToObject3D.entries()).forEach((function(S){var I=S[1].object3D,T=S[0];I===C&&(this.anchorToObject3D.delete(T),T.delete())}).bind(this)),_.createAnchor&&_.createAnchor().then((function(S){this.anchorToObject3D.set(S,E)}).bind(this)).catch(function(S){console.warn(S.message),console.warn('Cannot create anchor, are you missing: webxr="optionalFeatures: anchors;" from <a-scene>?')})}},y.prototype.doHit=function(w){if(this.renderer.xr.isPresenting){var _=this.renderer.xr.getReferenceSpace(),E=w.getViewerPose(_),S,I;if(this.xrHitTestSource&&E)return this.transient?(S=w.getHitTestResultsForTransientInput(this.xrHitTestSource),S.length>0?(I=S[0].results,I.length>0?(this.lastHitTest=I[0],I[0].getPose(_)):!1):!1):(S=w.getHitTestResults(this.xrHitTestSource),S.length>0?(this.lastHitTest=S[0],S[0].getPose(_)):!1)}},y.updateAnchorPoses=function(C,w){var _=C.trackedAnchors||y.prototype.previousFrameAnchors;y.prototype.previousFrameAnchors.forEach(function(E){_.has(E)||y.prototype.anchorToObject3D.delete(E)}),_.forEach(function(E){var S,I,T,k;try{S=C.getPose(E.anchorSpace,w)}catch{}if(S){if(I=y.prototype.anchorToObject3D.get(E),!I)return;T=I.offset,k=I.object3D,g(S,k,T)}})};var v;c.exports.Component=p("ar-hit-test",{schema:{target:{type:"selector"},enabled:{default:!0},src:{default:h,type:"map"},type:{default:"footprint",oneOf:["footprint","map"]},footprintDepth:{default:.1},mapSize:{type:"vec2",default:{x:.5,y:.5}}},sceneOnly:!0,init:function(){this.hitTest=null,this.imageDataArray=new Uint8ClampedArray(1048576),this.imageData=new ImageData(this.imageDataArray,512,512),this.textureCache=new Map,this.orthoCam=new f.OrthographicCamera,this.orthoCam.layers.set(M),this.textureTarget=new f.WebGLRenderTarget(512,512,{}),this.basicMaterial=new f.MeshBasicMaterial({color:0,side:f.DoubleSide}),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.canvas.width=512,this.canvas.height=512,this.canvasTexture=new f.CanvasTexture(this.canvas,{alpha:!0}),this.canvasTexture.flipY=!1;var C=this.el.getAttribute("webxr"),w=C.optionalFeatures;(!w.includes("hit-test")||!w.includes("anchors"))&&(w.push("hit-test"),w.push("anchors"),this.el.setAttribute("webxr",C)),this.el.sceneEl.renderer.xr.addEventListener("sessionend",(function(){this.hitTest=null}).bind(this)),this.el.sceneEl.renderer.xr.addEventListener("sessionstart",(function(){if(this.el.is("ar-mode")){var _=this.el.sceneEl.renderer,E=this.session=_.xr.getSession();this.hasPosedOnce=!1,this.bboxMesh.visible=!1,v||(v=new Map),E.requestReferenceSpace("viewer").then((function(T){this.hitTest=new y(_,{space:T}),v.set(T,this.hitTest),this.el.emit("ar-hit-test-start")}).bind(this));var S="generic-touchscreen",I=new y(_,{profile:S});E.addEventListener("selectstart",(function(T){if(this.data.enabled===!0){var k=T.inputSource;this.bboxMesh.visible=!0,this.hasPosedOnce===!0&&(this.el.emit("ar-hit-test-select-start",{inputSource:k,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion}),k.profiles[0]===S?this.hitTest=I:(this.hitTest=v.get(k)||new y(_,{space:k.targetRaySpace}),v.set(k,this.hitTest)))}}).bind(this)),E.addEventListener("selectend",(function(T){if(!this.hitTest||this.data.enabled!==!0){this.hitTest=null;return}var k=T.inputSource,D;this.hasPosedOnce===!0&&(this.bboxMesh.visible=!1,this.data.target&&(D=this.data.target.object3D,D&&(g.tempFakePose.transform.position.copy(this.bboxMesh.position),g.tempFakePose.transform.orientation.copy(this.bboxMesh.quaternion),g(g.tempFakePose,D,this.bboxOffset),D.visible=!0,this.hitTest.anchorFromLastHitTestResult(D,this.bboxOffset))),this.el.emit("ar-hit-test-select",{inputSource:k,position:this.bboxMesh.position,orientation:this.bboxMesh.quaternion})),this.hitTest=null}).bind(this))}}).bind(this)),this.bboxOffset=new f.Vector3,this.update=this.update.bind(this),this.makeBBox()},update:function(){this.data.enabled===!1&&(this.hitTest=null,this.bboxMesh.visible=!1),this.data.target&&(this.data.target.object3D?(this.data.target.addEventListener("model-loaded",this.update),this.data.target.object3D.layers.enable(M),this.data.target.object3D.traverse(function(C){C.layers.enable(M)})):this.data.target.addEventListener("loaded",this.update,{once:!0})),this.bboxNeedsUpdate=!0},makeBBox:function(){var C=new f.PlaneGeometry(1,1),w=new f.MeshBasicMaterial({transparent:!0,color:16777215});C.rotateX(-Math.PI/2),C.rotateY(-Math.PI/2),this.bbox=new f.Box3,this.bboxMesh=new f.Mesh(C,w),this.el.setObject3D("ar-hit-test",this.bboxMesh),this.bboxMesh.visible=!1},updateFootprint:function(){var C,w=this.el.sceneEl.renderer,_,E,S=w.xr.enabled;this.bboxMesh.material.map=this.canvasTexture,this.bboxMesh.material.needsUpdate=!0,this.orthoCam.rotation.set(-Math.PI/2,0,-Math.PI/2),this.orthoCam.position.copy(this.bboxMesh.position),this.orthoCam.position.y-=this.bboxMesh.scale.y/2,this.orthoCam.near=.1,this.orthoCam.far=this.orthoCam.near+this.data.footprintDepth*this.bboxMesh.scale.y,this.orthoCam.position.y+=this.orthoCam.far,this.orthoCam.right=this.bboxMesh.scale.z/2,this.orthoCam.left=-this.bboxMesh.scale.z/2,this.orthoCam.top=this.bboxMesh.scale.x/2,this.orthoCam.bottom=-this.bboxMesh.scale.x/2,this.orthoCam.updateProjectionMatrix(),_=w.getRenderTarget(),w.setRenderTarget(this.textureTarget),w.xr.enabled=!1,E=this.el.object3D.background,this.el.object3D.overrideMaterial=this.basicMaterial,this.el.object3D.background=null,w.render(this.el.object3D,this.orthoCam),this.el.object3D.background=E,this.el.object3D.overrideMaterial=null,w.xr.enabled=S,w.setRenderTarget(_),w.readRenderTargetPixels(this.textureTarget,0,0,512,512,this.imageDataArray),this.context.putImageData(this.imageData,0,0),this.context.shadowColor="white",this.context.shadowBlur=10,this.context.drawImage(this.canvas,0,0),C=this.context.getImageData(0,0,512,512);for(var I=0;I<262144;I++)C.data[I*4+3]!==0&&C.data[I*4+3]!==255&&(C.data[I*4+3]=128);this.context.putImageData(C,0,0),this.canvasTexture.needsUpdate=!0},tick:function(){var C,w=this.el.sceneEl.frame,_=this.el.sceneEl.renderer;if(w&&y.updateAnchorPoses(w,_.xr.getReferenceSpace()),this.bboxNeedsUpdate){if(this.bboxNeedsUpdate=!1,!this.data.target||this.data.type==="map"){var E;this.textureCache.has(this.data.src)?E=this.textureCache.get(this.data.src):(E=new f.TextureLoader().load(this.data.src),this.textureCache.set(this.data.src,E)),this.bboxMesh.material.map=E,this.bboxMesh.material.needsUpdate=!0}this.data.target&&this.data.target.object3D?(this.bbox.setFromObject(this.data.target.object3D),this.bbox.getCenter(this.bboxMesh.position),this.bbox.getSize(this.bboxMesh.scale),this.data.type==="footprint"&&(this.bboxMesh.scale.x*=1.04,this.bboxMesh.scale.z*=1.04,this.updateFootprint()),this.bboxMesh.position.y-=this.bboxMesh.scale.y/2,this.bboxOffset.copy(this.bboxMesh.position),this.bboxOffset.sub(this.data.target.object3D.position)):this.bboxMesh.scale.set(this.data.mapSize.x,1,this.data.mapSize.y)}this.hitTest&&(C=this.hitTest.doHit(w),C&&(this.hasPosedOnce!==!0&&(this.hasPosedOnce=!0,this.el.emit("ar-hit-test-achieved")),this.bboxMesh.visible=!0,this.bboxMesh.position.copy(C.transform.position),this.bboxMesh.quaternion.copy(C.transform.orientation)))}})},"./src/components/scene/background.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("background",{schema:{color:{type:"color",default:"black"},transparent:{default:!1}},sceneOnly:!0,update:function(){var p=this.data,f=this.el.object3D;p.transparent?f.background=null:f.background=new THREE.Color(p.color)},remove:function(){var p=this.el.object3D;p.background=null}})},"./src/components/scene/debug.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("debug",{schema:{default:!0},sceneOnly:!0})},"./src/components/scene/device-orientation-permission-ui.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/constants/index.js"),f="a-modal",M="a-dialog",g="a-dialog-text",y="a-dialog-text-container",b="a-dialog-buttons-container",v="a-dialog-button",C="a-dialog-allow-button",w="a-dialog-deny-button",_="a-dialog-ok-button";c.exports.Component=h("device-orientation-permission-ui",{schema:{enabled:{default:!0},deviceMotionMessage:{default:"This immersive website requires access to your device motion sensors."},httpsMessage:{default:"Access this site over HTTPS to enter VR mode and grant access to the device sensors."},denyButtonText:{default:"Deny"},allowButtonText:{default:"Allow"},cancelButtonText:{default:"Cancel"}},sceneOnly:!0,init:function(){var T=this;if(this.data.enabled){if(window.isSecureContext||this.showHTTPAlert(),typeof DeviceOrientationEvent>"u"||!DeviceOrientationEvent.requestPermission){this.permissionGranted=!0;return}this.onDeviceMotionDialogAllowClicked=this.onDeviceMotionDialogAllowClicked.bind(this),this.onDeviceMotionDialogDenyClicked=this.onDeviceMotionDialogDenyClicked.bind(this),DeviceOrientationEvent.requestPermission().then(function(){T.el.emit("deviceorientationpermissiongranted"),T.permissionGranted=!0}).catch(function(){T.devicePermissionDialogEl=E(T.data.denyButtonText,T.data.allowButtonText,T.data.deviceMotionMessage,T.onDeviceMotionDialogAllowClicked,T.onDeviceMotionDialogDenyClicked),T.el.appendChild(T.devicePermissionDialogEl)})}},remove:function(){this.devicePermissionDialogEl&&this.el.removeChild(this.devicePermissionDialogEl)},onDeviceMotionDialogDenyClicked:function(){this.remove()},showHTTPAlert:function(){var T=this,k=S(T.data.cancelButtonText,T.data.httpsMessage,function(){T.el.removeChild(k)});this.el.appendChild(k)},onDeviceMotionDialogAllowClicked:function(){var T=this;this.el.emit("deviceorientationpermissionrequested"),DeviceOrientationEvent.requestPermission().then(function(k){k==="granted"?(T.el.emit("deviceorientationpermissiongranted"),T.permissionGranted=!0):T.el.emit("deviceorientationpermissionrejected"),T.remove()}).catch(console.error)}});function E(T,k,D,N,P){var F,U,V;return F=document.createElement("div"),F.classList.add(b),U=document.createElement("button"),U.classList.add(v,w),U.setAttribute(p.AFRAME_INJECTED,""),U.innerHTML=T,F.appendChild(U),V=document.createElement("button"),V.classList.add(v,C),V.setAttribute(p.AFRAME_INJECTED,""),V.innerHTML=k,F.appendChild(V),V.addEventListener("click",function(z){z.stopPropagation(),N()}),U.addEventListener("click",function(z){z.stopPropagation(),P()}),I(D,F)}function S(T,k,D){var N,P;return N=document.createElement("div"),N.classList.add(b),P=document.createElement("button"),P.classList.add(v,_),P.setAttribute(p.AFRAME_INJECTED,""),P.innerHTML=T,N.appendChild(P),P.addEventListener("click",function(F){F.stopPropagation(),D()}),I(k,N)}function I(T,k){var D,N,P,F;return D=document.createElement("div"),D.classList.add(f),D.setAttribute(p.AFRAME_INJECTED,""),N=document.createElement("div"),N.className=M,N.setAttribute(p.AFRAME_INJECTED,""),D.appendChild(N),P=document.createElement("div"),P.classList.add(y),N.appendChild(P),F=document.createElement("div"),F.classList.add(g),F.innerHTML=T,P.appendChild(F),N.appendChild(k),D}},"./src/components/scene/embedded.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("embedded",{dependencies:["xr-mode-ui"],schema:{default:!0},sceneOnly:!0,update:function(){var p=this.el,f=p.querySelector(".a-enter-vr");this.data===!0?(f&&f.classList.add("embedded"),p.removeFullScreenStyles()):(f&&f.classList.remove("embedded"),p.addFullScreenStyles())}})},"./src/components/scene/fog.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),f=u("./src/utils/debug.js");f("components:fog:warn"),c.exports.Component=h("fog",{schema:{color:{type:"color",default:"#000"},density:{default:25e-5},far:{default:1e3,min:0},near:{default:1,min:0},type:{default:"linear",oneOf:["linear","exponential"]}},sceneOnly:!0,update:function(){var g=this.data,y=this.el,b=this.el.object3D.fog;if(!b||g.type!==b.name){y.object3D.fog=M(g);return}Object.keys(this.schema).forEach(function(v){var C=g[v];v==="color"&&(C=new p.Color(C)),b[v]=C})},remove:function(){var g=this.el,y=this.el.object3D.fog;y&&(g.object3D.fog=null)}});function M(g){var y;return g.type==="exponential"?y=new p.FogExp2(g.color,g.density):y=new p.Fog(g.color,g.near,g.far),y.name=g.type,y}},"./src/components/scene/inspector.js":(c,d,u)=>{var h=u("./src/constants/index.js").AFRAME_INJECTED,p=u("./package.json"),f=u("./src/core/component.js").registerComponent,M=u("./src/utils/index.js");function g(w){var _=w.split(".");return _[2]="x",_.join(".")}var y="https://unpkg.com/aframe-inspector@"+g(p.version)+"/dist/aframe-inspector.min.js",b=y,v="Loading Inspector",C="Error loading Inspector";c.exports.Component=f("inspector",{schema:{url:{default:b}},sceneOnly:!0,init:function(){this.firstPlay=!0,this.onKeydown=this.onKeydown.bind(this),this.onMessage=this.onMessage.bind(this),this.initOverlay(),window.addEventListener("keydown",this.onKeydown),window.addEventListener("message",this.onMessage)},play:function(){var w;this.firstPlay&&(w=M.getUrlParameter("inspector"),w!=="false"&&w&&(this.openInspector(),this.firstPlay=!1))},initOverlay:function(){var w='<span class="dots"><span>.</span><span>.</span><span>.</span></span>';this.loadingMessageEl=document.createElement("div"),this.loadingMessageEl.classList.add("a-inspector-loader"),this.loadingMessageEl.innerHTML=v+w},remove:function(){this.removeEventListeners()},onKeydown:function(w){var _=w.keyCode===73&&(w.ctrlKey&&w.altKey||w.getModifierState("AltGraph"));_&&this.openInspector()},showLoader:function(){document.body.appendChild(this.loadingMessageEl)},hideLoader:function(){document.body.removeChild(this.loadingMessageEl)},onMessage:function(w){w.data==="INJECT_AFRAME_INSPECTOR"&&this.openInspector()},openInspector:function(w){var _=this,E;if(AFRAME.INSPECTOR||AFRAME.inspectorInjected){AFRAME.INSPECTOR.open(w);return}this.showLoader(),E=document.createElement("script"),E.src=this.data.url,E.setAttribute("data-name","aframe-inspector"),E.setAttribute(h,""),E.onload=function(){AFRAME.INSPECTOR.open(w),_.hideLoader(),_.removeEventListeners()},E.onerror=function(){_.loadingMessageEl.innerHTML=C},document.head.appendChild(E),AFRAME.inspectorInjected=!0},removeEventListeners:function(){window.removeEventListener("keydown",this.onKeydown),window.removeEventListener("message",this.onMessage)}})},"./src/components/scene/keyboard-shortcuts.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/index.js").shouldCaptureKeyEvent;c.exports.Component=h("keyboard-shortcuts",{schema:{enterVR:{default:!0},exitVR:{default:!0}},sceneOnly:!0,init:function(){this.onKeyup=this.onKeyup.bind(this)},update:function(f){var M=this.data;this.enterVREnabled=M.enterVR},play:function(){window.addEventListener("keyup",this.onKeyup,!1)},pause:function(){window.removeEventListener("keyup",this.onKeyup)},onKeyup:function(f){var M=this.el;p(f)&&(this.enterVREnabled&&f.keyCode===70&&M.enterVR(),this.enterVREnabled&&f.keyCode===27&&M.exitVR())}})},"./src/components/scene/pool.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),p=u("./src/core/component.js").registerComponent,f=h("components:pool:warn");c.exports.Component=p("pool",{schema:{container:{default:""},mixin:{default:""},size:{default:0},dynamic:{default:!1}},sceneOnly:!0,multiple:!0,initPool:function(){var M;for(this.availableEls=[],this.usedEls=[],this.data.mixin||f("No mixin provided for pool component."),this.data.container&&(this.container=document.querySelector(this.data.container),this.container||f("Container "+this.data.container+" not found.")),this.container=this.container||this.el,M=0;M<this.data.size;++M)this.createEntity()},update:function(M){var g=this.data;(M.mixin!==g.mixin||M.size!==g.size)&&this.initPool()},createEntity:function(){var M;M=document.createElement("a-entity"),M.play=this.wrapPlay(M.play),M.setAttribute("mixin",this.data.mixin),M.object3D.visible=!1,M.pause(),this.container.appendChild(M),this.availableEls.push(M);var g=this.usedEls;M.addEventListener("loaded",function(){g.indexOf(M)===-1&&(M.object3DParent=M.object3D.parent,M.object3D.parent.remove(M.object3D))})},wrapPlay:function(M){var g=this.usedEls;return function(){g.indexOf(this)!==-1&&M.call(this)}},requestEntity:function(){var M;if(this.availableEls.length===0){if(this.data.dynamic===!1){f("Requested entity from empty pool: "+this.attrName);return}else f("Requested entity from empty pool. This pool is dynamic and will resize automatically. You might want to increase its initial size: "+this.attrName);this.createEntity()}return M=this.availableEls.shift(),this.usedEls.push(M),M.object3DParent&&(M.object3DParent.add(M.object3D),this.updateRaycasters()),M.object3D.visible=!0,M},returnEntity:function(M){var g=this.usedEls.indexOf(M);if(g===-1){f("The returned entity was not previously pooled from "+this.attrName);return}return this.usedEls.splice(g,1),this.availableEls.push(M),M.object3DParent=M.object3D.parent,M.object3D.parent.remove(M.object3D),this.updateRaycasters(),M.object3D.visible=!1,M.pause(),M},updateRaycasters:function(){var M=document.querySelectorAll("[raycaster]");M.forEach(function(g){g.components.raycaster.setDirty()})}})},"./src/components/scene/real-world-meshing.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js");c.exports.Component=h("real-world-meshing",{schema:{filterLabels:{type:"array"},meshesEnabled:{default:!0},meshMixin:{default:!0},planesEnabled:{default:!0},planeMixin:{default:""}},sceneOnly:!0,init:function(){var f=this.el.getAttribute("webxr"),M=f.requiredFeatures;M.indexOf("mesh-detection")===-1&&(M.push("mesh-detection"),this.el.setAttribute("webxr",f)),M.indexOf("plane-detection")===-1&&(M.push("plane-detection"),this.el.setAttribute("webxr",f)),this.meshEntities=[],this.initWorldMeshEntity=this.initWorldMeshEntity.bind(this)},tick:function(){this.el.is("ar-mode")&&(this.detectMeshes(),this.updateMeshes())},detectMeshes:function(){var f=this.data,M,g,y=this.el;y.renderer.xr;var b,v=this.meshEntities,C=!1,w=[],_=this.data.filterLabels;b=y.frame,M=b.detectedMeshes,g=b.detectedPlanes;for(var E=0;E<v.length;E++)v[E].present=!1;if(f.meshesEnabled){for(var S of M.values())if(!(_.length&&_.indexOf(S.semanticLabel)===-1)){for(E=0;E<v.length;E++)if(S===v[E].mesh){C=!0,v[E].present=!0,v[E].lastChangedTime<S.lastChangedTime&&this.updateMeshGeometry(v[E].el,S),v[E].lastChangedTime=S.lastChangedTime;break}C||w.push(S),C=!1}}if(f.planesEnabled){for(S of g.values())if(!(_.length&&_.indexOf(S.semanticLabel)===-1)){for(E=0;E<v.length;E++)if(S===v[E].mesh){C=!0,v[E].present=!0,v[E].lastChangedTime<S.lastChangedTime&&this.updateMeshGeometry(v[E].el,S),v[E].lastChangedTime=S.lastChangedTime;break}C||w.push(S),C=!1}}this.deleteMeshes(),this.createNewMeshes(w)},updateMeshes:function(){var f=new p.Matrix4;return function(){for(var M,g=this.el,y,b=g.frame,v=this.meshEntities,C=g.renderer.xr.getReferenceSpace(),w,_=0;_<v.length;_++)w=v[_].mesh.meshSpace||v[_].mesh.planeSpace,M=b.getPose(w,C),y=v[_].el,y.hasLoaded&&(f.fromArray(M.transform.matrix),f.decompose(y.object3D.position,y.object3D.quaternion,y.object3D.scale))}}(),deleteMeshes:function(){for(var f=this.meshEntities,M=[],g=0;g<f.length;g++)f[g].present?M.push(f[g]):this.el.removeChild(f[g]);this.meshEntities=M},createNewMeshes:function(f){for(var M,g=0;g<f.length;g++)M=document.createElement("a-entity"),this.meshEntities.push({mesh:f[g],el:M}),M.addEventListener("loaded",this.initWorldMeshEntity),this.el.appendChild(M)},initMeshGeometry:function(f){var M,g,y;if(f instanceof XRPlane){g=new p.Shape,y=f.polygon;for(var b=0;b<y.length;++b)b===0?g.moveTo(y[b].x,y[b].z):g.lineTo(y[b].x,y[b].z);return M=new p.ShapeGeometry(g),M.rotateX(Math.PI/2),M}return M=new p.BufferGeometry,M.setAttribute("position",new p.BufferAttribute(f.vertices,3)),M.setIndex(new p.BufferAttribute(f.indices,1)),M},initWorldMeshEntity:function(f){for(var M=f.target,g,y,b,v=this.meshEntities,C=0;C<v.length;C++)if(v[C].el===M){b=v[C];break}g=this.initMeshGeometry(b.mesh),y=new p.Mesh(g,new p.MeshBasicMaterial({color:Math.random()*16777215,side:p.DoubleSide})),M.setObject3D("mesh",y),b.mesh instanceof XRPlane&&this.data.planeMixin?M.setAttribute("mixin",this.data.planeMixin):this.data.meshMixin&&M.setAttribute("mixin",this.data.meshMixin),M.setAttribute("data-world-mesh",b.mesh.semanticLabel)},updateMeshGeometry:function(f,M){var g=f.getObject3D("mesh");g.geometry.dispose(),g.geometry=this.initMeshGeometry(M)}})},"./src/components/scene/reflection.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;function p(f,M,g,y){var b=Math.max(f.primaryLightIntensity.x,Math.max(f.primaryLightIntensity.y,f.primaryLightIntensity.z));M.sh.fromArray(f.sphericalHarmonicsCoefficients),M.intensity=1,g&&(g.color.setRGB(f.primaryLightIntensity.x/b,f.primaryLightIntensity.y/b,f.primaryLightIntensity.z/b),g.intensity=b,y.copy(f.primaryLightDirection))}c.exports.Component=h("reflection",{schema:{directionalLight:{type:"selector"}},sceneOnly:!0,init:function(){var f=this;this.cubeRenderTarget=new THREE.WebGLCubeRenderTarget(16),this.cubeCamera=new THREE.CubeCamera(.1,1e3,this.cubeRenderTarget),this.lightingEstimationTexture=new THREE.WebGLCubeRenderTarget(16).texture,this.needsVREnvironmentUpdate=!0;var M=this.el.getAttribute("webxr"),g=M.optionalFeatures;g.includes("light-estimation")||(g.push("light-estimation"),this.el.setAttribute("webxr",M)),this.el.addEventListener("enter-vr",function(){if(f.el.is("ar-mode")){var y=f.el.renderer,b=y.xr.getSession();b.requestLightProbe&&f.startLightProbe()}}),this.el.addEventListener("exit-vr",function(){f.xrLightProbe&&f.stopLightProbe()}),this.el.object3D.environment=this.cubeRenderTarget.texture},stopLightProbe:function(){this.xrLightProbe=null,this.probeLight&&(this.probeLight.components.light.light.intensity=0),this.needsVREnvironmentUpdate=!0,this.el.object3D.environment=this.cubeRenderTarget.texture},startLightProbe:function(){this.needsLightProbeUpdate=!0},setupLightProbe:function(){var f=this.el.renderer,M=f.xr.getSession(),g=this,y=f.getContext();if(!this.probeLight){var b=document.createElement("a-light");b.setAttribute("type","probe"),b.setAttribute("intensity",0),this.el.appendChild(b),this.probeLight=b}switch(M.preferredReflectionFormat){case"srgba8":y.getExtension("EXT_sRGB");break;case"rgba16f":y.getExtension("OES_texture_half_float");break}this.glBinding=new XRWebGLBinding(M,y),y.getExtension("EXT_sRGB"),y.getExtension("OES_texture_half_float"),M.requestLightProbe().then(function(v){g.xrLightProbe=v,v.addEventListener("reflectionchange",g.updateXRCubeMap.bind(g))}).catch(function(v){console.warn("Lighting estimation not supported: "+v.message),console.warn('Are you missing: webxr="optionalFeatures: light-estimation;" from <a-scene>?')})},updateXRCubeMap:function(){var f=this.el.renderer,M=this.glBinding.getReflectionCubeMap(this.xrLightProbe);if(M){var g=f.properties.get(this.lightingEstimationTexture);g.__webglTexture=M,this.lightingEstimationTexture.needsPMREMUpdate=!0,this.el.object3D.environment=this.lightingEstimationTexture}},tick:function(){var f=this.el.object3D,M=this.el.renderer,g=this.el.frame;if(g&&this.xrLightProbe){var y=g.getLightEstimate(this.xrLightProbe);y&&p(y,this.probeLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.components.light.light,this.data.directionalLight&&this.data.directionalLight.object3D.position)}this.needsVREnvironmentUpdate&&(f.environment=null,this.needsVREnvironmentUpdate=!1,this.cubeCamera.position.set(0,1.6,0),this.cubeCamera.update(M,f),f.environment=this.cubeRenderTarget.texture),this.needsLightProbeUpdate&&g&&(this.setupLightProbe(),this.needsLightProbeUpdate=!1)},remove:function(){this.el.object3D.environment=null,this.probeLight&&this.el.removeChild(this.probeLight)}})},"./src/components/scene/screenshot.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),f=["attribute vec3 position;","attribute vec2 uv;","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","varying vec2 vUv;","void main()  {","  vUv = vec2( 1.- uv.x, uv.y );","  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join(`
`),M=["precision mediump float;","uniform samplerCube map;","varying vec2 vUv;","#define M_PI 3.141592653589793238462643383279","void main() {","  vec2 uv = vUv;","  float longitude = uv.x * 2. * M_PI - M_PI + M_PI / 2.;","  float latitude = uv.y * M_PI;","  vec3 dir = vec3(","    - sin( longitude ) * sin( latitude ),","    cos( latitude ),","    - cos( longitude ) * sin( latitude )","  );","  normalize( dir );","  gl_FragColor = vec4( textureCube( map, dir ).rgb, 1.0 );","}"].join(`
`);c.exports.Component=h("screenshot",{schema:{width:{default:4096},height:{default:2048},camera:{type:"selector"}},sceneOnly:!0,setup:function(){var g=this.el;if(!this.canvas){var y=g.renderer.getContext();y&&(this.cubeMapSize=y.getParameter(y.MAX_CUBE_MAP_TEXTURE_SIZE),this.material=new p.RawShaderMaterial({uniforms:{map:{type:"t",value:null}},vertexShader:f,fragmentShader:M,side:p.DoubleSide}),this.quad=new p.Mesh(new p.PlaneGeometry(1,1),this.material),this.quad.visible=!1,this.camera=new p.OrthographicCamera(-.5,.5,.5,-.5,-1e4,1e4),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),g.object3D.add(this.quad),this.onKeyDown=this.onKeyDown.bind(this))}},getRenderTarget:function(g,y){return new p.WebGLRenderTarget(g,y,{colorSpace:this.el.sceneEl.renderer.outputColorSpace,minFilter:p.LinearFilter,magFilter:p.LinearFilter,wrapS:p.ClampToEdgeWrapping,wrapT:p.ClampToEdgeWrapping,format:p.RGBAFormat,type:p.UnsignedByteType})},resize:function(g,y){this.quad.scale.set(g,y,1),this.camera.left=-1*g/2,this.camera.right=g/2,this.camera.top=y/2,this.camera.bottom=-1*y/2,this.camera.updateProjectionMatrix(),this.canvas.width=g,this.canvas.height=y},play:function(){window.addEventListener("keydown",this.onKeyDown)},onKeyDown:function(g){var y=g.keyCode===83&&g.ctrlKey&&g.altKey;if(!(!this.data||!y)){var b=g.shiftKey?"equirectangular":"perspective";this.capture(b)}},setCapture:function(g){var y=this.el,b,v,C,w;return g==="perspective"?(this.quad.visible=!1,v=this.data.camera&&this.data.camera.components.camera.camera||y.camera,b={width:this.data.width,height:this.data.height}):(v=this.camera,w=new p.WebGLCubeRenderTarget(Math.min(this.cubeMapSize,2048),{format:p.RGBFormat,generateMipmaps:!0,minFilter:p.LinearMipmapLinearFilter,colorSpace:p.SRGBColorSpace}),C=new p.CubeCamera(y.camera.near,y.camera.far,w),y.camera.getWorldPosition(C.position),y.camera.getWorldQuaternion(C.quaternion),C.update(y.renderer,y.object3D),this.quad.material.uniforms.map.value=C.renderTarget.texture,b={width:this.data.width,height:this.data.height},this.quad.visible=!0),{camera:v,size:b,projection:g}},capture:function(g){var y=this.el.renderer.xr.enabled,b=this.el.renderer,v;this.setup(),b.xr.enabled=!1,v=this.setCapture(g),this.renderCapture(v.camera,v.size,v.projection),this.saveCapture(),b.xr.enabled=y},getCanvas:function(g){var y=this.el.renderer.xr.enabled,b=this.el.renderer;this.setup();var v=this.setCapture(g);return b.xr.enabled=!1,this.renderCapture(v.camera,v.size,v.projection),b.xr.enabled=y,this.canvas},renderCapture:function(g,y,b){var v=this.el.renderer.autoClear,C=this.el,w,_,E,S=C.renderer;_=this.getRenderTarget(y.width,y.height),E=new Uint8Array(4*y.width*y.height),this.resize(y.width,y.height),S.autoClear=!0,S.clear(),S.setRenderTarget(_),S.render(C.object3D,g),S.autoClear=v,S.readRenderTargetPixels(_,0,0,y.width,y.height,E),S.setRenderTarget(null),b==="perspective"&&(E=this.flipPixelsVertically(E,y.width,y.height)),w=new ImageData(new Uint8ClampedArray(E),y.width,y.height),this.quad.visible=!1,this.ctx.putImageData(w,0,0)},flipPixelsVertically:function(g,y,b){for(var v=g.slice(0),C=0;C<y;++C)for(var w=0;w<b;++w)v[C*4+w*y*4]=g[C*4+(b-w)*y*4],v[C*4+1+w*y*4]=g[C*4+1+(b-w)*y*4],v[C*4+2+w*y*4]=g[C*4+2+(b-w)*y*4],v[C*4+3+w*y*4]=g[C*4+3+(b-w)*y*4];return v},saveCapture:function(){this.canvas.toBlob(function(g){var y="screenshot-"+document.title.toLowerCase()+"-"+Date.now()+".png",b=document.createElement("a"),v=URL.createObjectURL(g);b.href=v,b.setAttribute("download",y),b.innerHTML="downloading...",b.style.display="none",document.body.appendChild(b),setTimeout(function(){b.click(),document.body.removeChild(b)},1)},"image/png")}})},"./src/components/scene/stats.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./vendor/rStats.js"),f=u("./src/utils/index.js");u("./vendor/rStats.extras.js"),u("./src/lib/rStatsAframe.js");var M=window.aframeStats,g="a-hidden",y=window.threeStats;c.exports.Component=h("stats",{schema:{default:!0},sceneOnly:!0,init:function(){var v=this.el;f.getUrlParameter("stats")!=="false"&&(this.stats=b(v),this.statsEl=document.querySelector(".rs-base"),this.hideBound=this.hide.bind(this),this.showBound=this.show.bind(this),v.addEventListener("enter-vr",this.hideBound),v.addEventListener("exit-vr",this.showBound))},update:function(){if(this.stats)return this.data?this.show():this.hide()},remove:function(){this.el.removeEventListener("enter-vr",this.hideBound),this.el.removeEventListener("exit-vr",this.showBound),this.statsEl&&this.statsEl.parentNode.removeChild(this.statsEl)},tick:function(){var v=this.stats;v&&(v("rAF").tick(),v("FPS").frame(),v().update())},hide:function(){this.statsEl.classList.add(g)},show:function(){this.statsEl.classList.remove(g)}});function b(v){var C=new y(v.renderer),w=new M(v),_=v.isMobile?[]:[C,w];return new p({css:[],values:{fps:{caption:"fps",below:30}},groups:[{caption:"Framerate",values:["fps","raf"]}],plugins:_})}},"./src/components/scene/xr-mode-ui.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/constants/index.js"),f=u("./src/utils/index.js"),M="a-enter-vr",g="a-enter-ar",y="a-enter-vr-button",b="a-enter-ar-button",v="a-hidden",C="a-orientation-modal";c.exports.Component=h("xr-mode-ui",{dependencies:["canvas"],schema:{enabled:{default:!0},cardboardModeEnabled:{default:!1},enterVRButton:{default:""},enterVREnabled:{default:!0},enterARButton:{default:""},enterAREnabled:{default:!0},XRMode:{default:"vr",oneOf:["vr","ar","xr"]}},sceneOnly:!0,init:function(){var I=this,T=this.el;f.getUrlParameter("ui")!=="false"&&(this.insideLoader=!1,this.enterVREl=null,this.enterAREl=null,this.orientationModalEl=null,this.bindMethods(),T.addEventListener("enter-vr",this.updateEnterInterfaces),T.addEventListener("exit-vr",this.updateEnterInterfaces),T.addEventListener("update-vr-devices",this.updateEnterInterfaces),window.addEventListener("message",function(k){k.data.type==="loaderReady"&&(I.insideLoader=!0,I.remove())}),window.addEventListener("orientationchange",this.toggleOrientationModalIfNeeded))},bindMethods:function(){this.onEnterVRButtonClick=this.onEnterVRButtonClick.bind(this),this.onEnterARButtonClick=this.onEnterARButtonClick.bind(this),this.onModalClick=this.onModalClick.bind(this),this.toggleOrientationModalIfNeeded=this.toggleOrientationModalIfNeeded.bind(this),this.updateEnterInterfaces=this.updateEnterInterfaces.bind(this)},onModalClick:function(){this.el.exitVR()},onEnterVRButtonClick:function(){this.el.enterVR()},onEnterARButtonClick:function(){this.el.enterAR()},update:function(){var I=this.data,T=this.el;if(!I.enabled||this.insideLoader||f.getUrlParameter("ui")==="false")return this.remove();this.enterVREl||this.enterAREl||this.orientationModalEl||(!this.enterVREl&&I.enterVREnabled&&(I.XRMode==="xr"||I.XRMode==="vr")&&(I.enterVRButton?(this.enterVREl=document.querySelector(I.enterVRButton),this.enterVREl.addEventListener("click",this.onEnterVRButtonClick)):(this.enterVREl=w(this.onEnterVRButtonClick),T.appendChild(this.enterVREl))),!this.enterAREl&&I.enterAREnabled&&(I.XRMode==="xr"||I.XRMode==="ar")&&(I.enterARButton?(this.enterAREl=document.querySelector(I.enterARButton),this.enterAREl.addEventListener("click",this.onEnterARButtonClick)):(this.enterAREl=_(this.onEnterARButtonClick,I.XRMode==="xr"),T.appendChild(this.enterAREl))),this.orientationModalEl=E(this.onModalClick),T.appendChild(this.orientationModalEl),this.updateEnterInterfaces())},remove:function(){[this.enterVREl,this.enterAREl,this.orientationModalEl].forEach(function(I){I&&I.parentNode&&I.parentNode.removeChild(I)}),this.enterVREl=void 0,this.enterAREl=void 0,this.orientationModalEl=void 0},updateEnterInterfaces:function(){this.toggleEnterVRButtonIfNeeded(),this.toggleEnterARButtonIfNeeded(),this.toggleOrientationModalIfNeeded()},toggleEnterVRButtonIfNeeded:function(){var I=this.el;this.enterVREl&&(I.is("vr-mode")||(I.isMobile||f.device.isMobileDeviceRequestingDesktopSite())&&!this.data.cardboardModeEnabled&&!f.device.checkVRSupport()?this.enterVREl.classList.add(v):(f.device.checkVRSupport()||this.enterVREl.classList.add("fullscreen"),this.enterVREl.classList.remove(v),I.enterVR(!1,!0)))},toggleEnterARButtonIfNeeded:function(){var I=this.el;this.enterAREl&&(I.is("vr-mode")||!f.device.checkARSupport()?this.enterAREl.classList.add(v):(this.enterAREl.classList.remove(v),I.enterVR(!0,!0)))},toggleOrientationModalIfNeeded:function(){var I=this.el,T=this.orientationModalEl;!T||!I.isMobile||(!f.device.isLandscape()&&I.is("vr-mode")?T.classList.remove(v):T.classList.add(v))}});function w(I){var T,k;return k=document.createElement("div"),k.classList.add(M),k.setAttribute(p.AFRAME_INJECTED,""),T=document.createElement("button"),T.className=y,T.setAttribute("title","Enter VR mode with a headset or fullscreen without"),T.setAttribute(p.AFRAME_INJECTED,""),f.device.isMobile()&&S(T),k.appendChild(T),T.addEventListener("click",function(D){I(),D.stopPropagation()}),k}function _(I,T){var k,D;return D=document.createElement("div"),D.classList.add(g),T&&D.classList.add("xr"),D.setAttribute(p.AFRAME_INJECTED,""),k=document.createElement("button"),k.className=b,k.setAttribute("title","Enter AR mode with a headset or handheld device."),k.setAttribute(p.AFRAME_INJECTED,""),f.device.isMobile()&&S(k),D.appendChild(k),k.addEventListener("click",function(N){I(),N.stopPropagation()}),D}function E(I){var T=document.createElement("div");T.className=C,T.classList.add(v),T.setAttribute(p.AFRAME_INJECTED,"");var k=document.createElement("button");return k.setAttribute(p.AFRAME_INJECTED,""),k.innerHTML="Exit VR",k.addEventListener("click",I),T.appendChild(k),T}function S(I){I.addEventListener("touchstart",function(){I.classList.remove("resethover")},{passive:!0}),I.addEventListener("touchend",function(){I.classList.add("resethover")},{passive:!0})}},"./src/components/shadow.js":(c,d,u)=>{var h=u("./src/core/component.js"),p=u("./src/lib/three.js"),f=h.registerComponent;c.exports.Component=f("shadow",{schema:{cast:{default:!0},receive:{default:!0}},init:function(){this.onMeshChanged=this.update.bind(this),this.el.addEventListener("object3dset",this.onMeshChanged),this.system.setShadowMapEnabled(!0)},update:function(){var M=this.data;this.updateDescendants(M.cast,M.receive)},remove:function(){var M=this.el;M.removeEventListener("object3dset",this.onMeshChanged),this.updateDescendants(!1,!1)},updateDescendants:function(M,g){var y=this.el.sceneEl;this.el.object3D.traverse(function(b){if(b instanceof p.Mesh&&(b.castShadow=M,b.receiveShadow=g,y.hasLoaded&&b.material))for(var v=Array.isArray(b.material)?b.material:[b.material],C=0;C<v.length;C++)v[C].needsUpdate=!0})}})},"./src/components/sound.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/debug.js"),f=u("./src/lib/three.js"),M=p("components:sound:warn");c.exports.Component=h("sound",{schema:{autoplay:{default:!1},distanceModel:{default:"inverse",oneOf:["linear","inverse","exponential"]},loop:{default:!1},loopStart:{default:0},loopEnd:{default:0},maxDistance:{default:1e4},on:{default:""},poolSize:{default:1},positional:{default:!0},refDistance:{default:1},rolloffFactor:{default:1},src:{type:"audio"},volume:{default:1}},multiple:!0,init:function(){var g=this;this.listener=null,this.audioLoader=new f.AudioLoader,this.pool=new f.Group,this.loaded=!1,this.mustPlay=!1,this.playSoundBound=function(){g.playSound()}},update:function(g){var y=this.data,b,v,C=y.src!==g.src;if(C){if(!y.src)return;this.setupSound()}for(b=0;b<this.pool.children.length;b++)v=this.pool.children[b],y.positional&&(v.setDistanceModel(y.distanceModel),v.setMaxDistance(y.maxDistance),v.setRefDistance(y.refDistance),v.setRolloffFactor(y.rolloffFactor)),v.setLoop(y.loop),v.setLoopStart(y.loopStart),y.loopStart!==0&&y.loopEnd===0?v.setLoopEnd(v.buffer.duration):v.setLoopEnd(y.loopEnd),v.setVolume(y.volume),v.isPaused=!1;if(y.on!==g.on&&this.updateEventListener(g.on),C){var w=this;this.loaded=!1,this.audioLoader.load(y.src,function(_){for(b=0;b<w.pool.children.length;b++)v=w.pool.children[b],v.setBuffer(_);w.loaded=!0,f.Cache.remove(y.src),(w.data.autoplay||w.mustPlay)&&w.playSound(w.processSound),w.el.emit("sound-loaded",w.evtDetail,!1)})}},pause:function(){this.stopSound(),this.removeEventListener()},play:function(){this.data.autoplay&&this.playSound(),this.updateEventListener()},remove:function(){var g,y;this.removeEventListener(),this.el.getObject3D(this.attrName)&&this.el.removeObject3D(this.attrName);try{for(g=0;g<this.pool.children.length;g++)y=this.pool.children[g],y.disconnect()}catch{M("Audio source not properly disconnected")}},updateEventListener:function(g){var y=this.el;g&&y.removeEventListener(g,this.playSoundBound),y.addEventListener(this.data.on,this.playSoundBound)},removeEventListener:function(){this.el.removeEventListener(this.data.on,this.playSoundBound)},setupSound:function(){var g=this.el,y,b=g.sceneEl,v=this,C;this.pool.children.length>0&&(this.stopSound(),g.removeObject3D("sound"));var w=this.listener=b.audioListener||new f.AudioListener;for(b.audioListener=w,b.camera&&b.camera.add(w),b.addEventListener("camera-set-active",function(_){_.detail.cameraEl.getObject3D("camera").add(w)}),this.pool=new f.Group,y=0;y<this.data.poolSize;y++)C=this.data.positional?new f.PositionalAudio(w):new f.Audio(w),this.pool.add(C);for(g.setObject3D(this.attrName,this.pool),y=0;y<this.pool.children.length;y++)C=this.pool.children[y],C.onEnded=function(){this.isPlaying=!1,v.el.emit("sound-ended",v.evtDetail,!1)}},pauseSound:function(){var g,y;for(this.isPlaying=!1,g=0;g<this.pool.children.length;g++)y=this.pool.children[g],!(!y.source||!y.source.buffer||!y.isPlaying||y.isPaused)&&(y.isPaused=!0,y.pause())},playSound:function(g){var y,b,v;if(!this.loaded){M("Sound not loaded yet. It will be played once it finished loading"),this.mustPlay=!0,this.processSound=g;return}for(y=!1,this.isPlaying=!0,b=0;b<this.pool.children.length;b++)if(v=this.pool.children[b],!v.isPlaying&&v.buffer&&!y){g&&g(v),v.play(),v.isPaused=!1,y=!0;continue}if(!y){M("All the sounds are playing. If you need to play more sounds simultaneously consider increasing the size of pool with the `poolSize` attribute.",this.el);return}this.mustPlay=!1,this.processSound=void 0},stopSound:function(){var g,y;for(this.isPlaying=!1,g=0;g<this.pool.children.length;g++){if(y=this.pool.children[g],!y.source||!y.source.buffer)return;y.stop()}}})},"./src/components/text.js":(c,d,u)=>{var h=u("./node_modules/three-bmfont-text/index.js"),p=u("./node_modules/load-bmfont/browser.js"),f=u("./src/core/component.js").registerComponent,M=u("./src/core/shader.js"),g=u("./src/lib/three.js"),y=u("./src/utils/index.js"),b=y.debug("components:text:error"),v=M.shaders,C=y.debug("components:text:warn"),w=1,_=16,E=u("./src/constants/index.js").AFRAME_CDN_ROOT,S=E+"fonts/",I={aileronsemibold:S+"Aileron-Semibold.fnt",dejavu:S+"DejaVu-sdf.fnt",exo2bold:S+"Exo2Bold.fnt",exo2semibold:S+"Exo2SemiBold.fnt",kelsonsans:S+"KelsonSans.fnt",monoid:S+"Monoid.fnt",mozillavr:S+"mozillavr.fnt",roboto:S+"Roboto-msdf.json",sourcecodepro:S+"SourceCodePro.fnt"},T=["roboto"],k="roboto";c.exports.FONTS=I;var D=new Z,N={},P={},F=/^\w+:/;c.exports.Component=f("text",{multiple:!0,schema:{align:{type:"string",default:"left",oneOf:["left","right","center"]},alphaTest:{default:.5},anchor:{default:"center",oneOf:["left","right","center","align"]},baseline:{default:"center",oneOf:["top","center","bottom"]},color:{type:"color",default:"#FFF"},font:{type:"string",default:k},fontImage:{type:"string"},height:{type:"number"},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},negate:{type:"boolean",default:!0},opacity:{type:"number",default:1},shader:{default:"sdf",oneOf:v},side:{default:"front",oneOf:["front","back","double"]},tabSize:{default:4},transparent:{default:!0},value:{type:"string"},whiteSpace:{default:"normal",oneOf:["normal","pre","nowrap"]},width:{type:"number"},wrapCount:{type:"number",default:40},wrapPixels:{type:"number"},xOffset:{type:"number",default:0},yOffset:{type:"number",default:0},zOffset:{type:"number",default:.001}},init:function(){this.shaderData={},this.geometry=h(),this.createOrUpdateMaterial(),this.explicitGeoDimensionsChecked=!1},update:function(j){var W=this.data,et=this.currentFont;if(P[W.font]?this.texture=P[W.font]:(this.texture=P[W.font]=new g.Texture,this.texture.anisotropy=_),this.createOrUpdateMaterial(),j.font!==W.font){this.updateFont();return}et&&(this.updateGeometry(this.geometry,et),this.updateLayout())},remove:function(){this.geometry.dispose(),this.geometry=null,this.el.removeObject3D(this.attrName),this.material.dispose(),this.material=null,this.texture.dispose(),this.texture=null,this.shaderObject&&delete this.shaderObject},createOrUpdateMaterial:function(){var j=this.data,W,et=this.material,dt,ht=this.shaderData,st;if(st=j.shader,T.indexOf(j.font)!==-1||j.font.indexOf("-msdf.")>=0?st="msdf":j.font in I&&T.indexOf(j.font)===-1&&(st="sdf"),W=(this.shaderObject&&this.shaderObject.name)!==st,ht.alphaTest=j.alphaTest,ht.color=j.color,ht.map=this.texture,ht.opacity=j.opacity,ht.side=U(j.side),ht.transparent=j.transparent,ht.negate=j.negate,!W){this.shaderObject.update(ht),et.transparent=ht.transparent,et.side=ht.side;return}dt=G(this.el,st,ht),this.material=dt.material,this.shaderObject=dt.shader,this.material.side=ht.side,this.mesh&&(this.mesh.material=this.material)},updateFont:function(){var j=this.data,W=this.el,et,dt=this.geometry,ht=this;j.font||C("No font specified. Using the default font."),this.mesh&&(this.mesh.visible=!1),et=this.lookupFont(j.font||k)||j.font,D.get(et,function(){return V(et,j.yOffset)}).then(function(St){var At;if(St.pages.length!==1)throw new Error("Currently only single-page bitmap fonts are supported.");N[et]||(St.widthFactor=N[St]=J(St)),ht.currentFont=St,At=ht.getFontImageSrc(),D.get(At,function(){return z(At)}).then(function(xt){var gt=ht.texture;gt&&(gt.image=xt,gt.needsUpdate=!0,P[j.font]=gt,ht.texture=gt,ht.initMesh(),ht.currentFont=St,ht.updateGeometry(dt,St),ht.updateLayout(),ht.mesh.visible=!0,W.emit("textfontset",{font:j.font,fontObj:St}))}).catch(function(xt){b(xt.message),b(xt.stack)})}).catch(function(st){b(st.message),b(st.stack)})},initMesh:function(){this.mesh||(this.mesh=new g.Mesh(this.geometry,this.material),this.el.setObject3D(this.attrName,this.mesh))},getFontImageSrc:function(){if(this.data.fontImage)return this.data.fontImage;var j=this.lookupFont(this.data.font||k)||this.data.font,W=this.currentFont.pages[0];return W.match(F)&&W.indexOf("http")!==0?j.replace(/(\.fnt)|(\.json)/,".png"):g.LoaderUtils.extractUrlBase(j)+W},updateLayout:function(){var j,W,et=this.el,dt=this.data,ht=this.geometry,st,St,At,xt=this.mesh,gt,yt,lt,zt,kt;if(!(!xt||!ht.layout)){if(st=et.getAttribute("geometry"),lt=dt.width||st&&st.width||w,gt=H(dt.wrapPixels,dt.wrapCount,this.currentFont.widthFactor),yt=lt/gt,At=ht.layout,St=yt*(At.height+At.descender),st&&st.primitive==="plane"&&(this.explicitGeoDimensionsChecked||(this.explicitGeoDimensionsChecked=!0,this.hasExplicitGeoWidth=!!st.width,this.hasExplicitGeoHeight=!!st.height),this.hasExplicitGeoWidth||et.setAttribute("geometry","width",lt),this.hasExplicitGeoHeight||et.setAttribute("geometry","height",St)),j=dt.anchor==="align"?dt.align:dt.anchor,j==="left")zt=0;else if(j==="right")zt=-1*At.width;else if(j==="center")zt=-1*At.width/2;else throw new TypeError("Invalid text.anchor property value",j);if(W=dt.baseline,W==="bottom")kt=0;else if(W==="top")kt=-1*At.height+At.ascender;else if(W==="center")kt=-1*At.height/2;else throw new TypeError("Invalid text.baseline property value",W);xt.position.x=zt*yt+dt.xOffset,xt.position.y=kt*yt,xt.position.z=dt.zOffset,xt.scale.set(yt,-1*yt,yt)}},lookupFont:function(j){return I[j]},updateGeometry:function(){var j={},W={},et=/\\n/g,dt=/\\t/g;return function(ht,st){var St=this.data;W.font=st,W.lineHeight=St.lineHeight&&isFinite(St.lineHeight)?St.lineHeight:st.common.lineHeight,W.text=St.value.toString().replace(et,`
`).replace(dt,"	"),W.width=H(St.wrapPixels,St.wrapCount,st.widthFactor),ht.update(y.extend(j,St,W))}}()});function U(j){switch(j){case"back":return g.FrontSide;case"double":return g.DoubleSide;default:return g.BackSide}}function V(j,W){return new Promise(function(et,dt){p(j,function(ht,st){if(ht){b("Error loading font",j),dt(ht);return}j.indexOf("/Roboto-msdf.json")>=0&&(W=30),W&&st.chars.map(function(At){At.yoffset+=W}),et(st)})})}function z(j){return new Promise(function(W,et){new g.ImageLoader().load(j,function(dt){W(dt)},void 0,function(){b("Error loading font image",j),et(null)})})}function G(j,W,et){var dt,ht;return ht=new v[W].Shader,ht.el=j,ht.init(et),ht.update(et),dt=ht.material,dt.transparent=et.transparent,{material:dt,shader:ht}}function H(j,W,et){return j||(.5+W)*et}function J(j){var W=0,et=0,dt=0;return j.chars.map(function(ht){W+=ht.xadvance,ht.id>=48&&ht.id<=57&&(dt++,et+=ht.xadvance)}),dt?et/dt:W/j.chars.length}function Z(){var j=this.cache={};this.get=function(W,et){return W in j||(j[W]=et()),j[W]}}},"./src/components/tracked-controls-webvr.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/tracked-controls.js"),f=u("./src/constants/index.js").DEFAULT_CAMERA_HEIGHT,M=u("./src/lib/three.js"),g=u("./src/constants/index.js").DEFAULT_HANDEDNESS,y={x:.175,y:-.3,z:-.03},b={x:0,y:0,z:-.175},v={touches:[]},C={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};c.exports.Component=h("tracked-controls-webvr",{schema:{autoHide:{default:!0},controller:{default:0},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"}},init:function(){this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.changedAxes=[],this.targetControllerNumber=this.data.controller,this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes},this.deltaControllerPosition=new M.Vector3,this.controllerQuaternion=new M.Quaternion,this.controllerEuler=new M.Euler,this.updateGamepad(),this.buttonEventDetails={}},tick:function(w,_){var E=this.el.getObject3D("mesh");E&&E.update&&E.update(_/1e3),this.updateGamepad(),this.updatePose(),this.updateButtons()},defaultUserHeight:function(){return f},getHeadElement:function(){return this.data.headElement||this.el.sceneEl.camera.el},updateGamepad:function(){var w=this.data,_=p.findMatchingControllerWebVR(this.system.controllers,w.id,w.idPrefix,w.hand,w.controller);this.controller=_,this.el.components["tracked-controls"].controller=_,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},applyArmModel:function(w){var _=this.controller,E=this.controllerEuler,S=this.controllerQuaternion,I=this.deltaControllerPosition,T,k,D,N,P;k=this.getHeadElement(),D=k.object3D,P=this.defaultUserHeight(),N=_.pose,T=(_?_.hand:void 0)||g,w.copy(D.position),I.set(y.x*(T==="left"?-1:T==="right"?1:0),y.y,y.z),I.multiplyScalar(P),I.applyAxisAngle(D.up,D.rotation.y),w.add(I),I.set(b.x,b.y,b.z),I.multiplyScalar(P),N.orientation?S.fromArray(N.orientation):S.copy(D.quaternion),E.setFromQuaternion(S),E.set(E.x,E.y,0),I.applyEuler(E),w.add(I)},updatePose:function(){var w=this.controller,_=this.data,E=this.el.object3D,S,I=this.system.vrDisplay,T;w&&(S=w.pose,S.position?E.position.fromArray(S.position):_.armModel&&this.applyArmModel(E.position),S.orientation&&E.quaternion.fromArray(S.orientation),I&&S.position&&(T=this.el.sceneEl.renderer.xr.getStandingMatrix(),E.matrix.compose(E.position,E.quaternion,E.scale),E.matrix.multiplyMatrices(T,E.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),E.rotateX(this.data.orientationOffset.x*M.MathUtils.DEG2RAD),E.rotateY(this.data.orientationOffset.y*M.MathUtils.DEG2RAD),E.rotateZ(this.data.orientationOffset.z*M.MathUtils.DEG2RAD))},updateButtons:function(){var w,_=this.controller,E;if(_){for(E=0;E<_.buttons.length;++E)this.buttonStates[E]||(this.buttonStates[E]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[E]||(this.buttonEventDetails[E]={id:E,state:this.buttonStates[E]}),w=_.buttons[E],this.handleButton(E,w);this.handleAxes()}},handleButton:function(w,_){var E;return E=this.handlePress(w,_)|this.handleTouch(w,_)|this.handleValue(w,_),E?(this.el.emit(C.BUTTONCHANGED,this.buttonEventDetails[w],!1),!0):!1},handleAxes:function(){var w=!1,_=this.controller.axes,E,S=this.axis,I=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),E=0;E<_.length;++E)I.push(S[E]!==_[E]),I[E]&&(w=!0);if(!w)return!1;for(this.axis.splice(0,this.axis.length),E=0;E<_.length;E++)this.axis.push(_[E]);return this.el.emit(C.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(w,_){var E,S=this.buttonStates[w];return _.pressed===S.pressed?!1:(E=_.pressed?C.BUTTONDOWN:C.BUTTONUP,this.el.emit(E,this.buttonEventDetails[w],!1),S.pressed=_.pressed,!0)},handleTouch:function(w,_){var E,S=this.buttonStates[w];return _.touched===S.touched?!1:(E=_.touched?C.TOUCHSTART:C.TOUCHEND,this.el.emit(E,this.buttonEventDetails[w],!1,v),S.touched=_.touched,!0)},handleValue:function(w,_){var E=this.buttonStates[w];return _.value===E.value?!1:(E.value=_.value,!0)}})},"./src/components/tracked-controls-webxr.js":(c,d,u)=>{var h=u("./src/utils/tracked-controls.js"),p=u("./src/core/component.js").registerComponent,f={AXISMOVE:"axismove",BUTTONCHANGED:"buttonchanged",BUTTONDOWN:"buttondown",BUTTONUP:"buttonup",TOUCHSTART:"touchstart",TOUCHEND:"touchend"};c.exports.Component=p("tracked-controls-webxr",{schema:{id:{type:"string",default:""},hand:{type:"string",default:""},handTrackingEnabled:{default:!1},index:{type:"int",default:-1},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"gripSpace"}},init:function(){this.updateController=this.updateController.bind(this),this.buttonEventDetails={},this.buttonStates=this.el.components["tracked-controls"].buttonStates={},this.axis=this.el.components["tracked-controls"].axis=[0,0,0],this.changedAxes=[],this.axisMoveEventDetail={axis:this.axis,changed:this.changedAxes}},update:function(){this.updateController()},play:function(){var M=this.el.sceneEl;this.updateController(),M.addEventListener("controllersupdated",this.updateController)},pause:function(){var M=this.el.sceneEl;M.removeEventListener("controllersupdated",this.updateController)},isControllerPresent:function(M){return!(!this.controller||this.controller.gamepad||M.inputSource.handedness!=="none"&&M.inputSource.handedness!==this.data.hand)},updateController:function(){this.controller=h.findMatchingControllerWebXR(this.system.controllers,this.data.id,this.data.hand,this.data.index,this.data.iterateControllerProfiles,this.data.handTrackingEnabled),this.el.components["tracked-controls"].controller=this.controller,this.data.autoHide&&(this.el.object3D.visible=!!this.controller)},tick:function(){var M=this.el.sceneEl,g=this.controller,y=M.frame;!g||!M.frame||!this.system.referenceSpace||g.hand||(this.pose=y.getPose(g[this.data.space],this.system.referenceSpace),this.updatePose(),this.updateButtons())},updatePose:function(){var M=this.el.object3D,g=this.pose;g&&(M.matrix.elements=g.transform.matrix,M.matrix.decompose(M.position,M.rotation,M.scale))},updateButtons:function(){var M,g,y=this.controller,b;if(!(!y||!y.gamepad)){for(b=y.gamepad,g=0;g<b.buttons.length;++g)this.buttonStates[g]||(this.buttonStates[g]={pressed:!1,touched:!1,value:0}),this.buttonEventDetails[g]||(this.buttonEventDetails[g]={id:g,state:this.buttonStates[g]}),M=b.buttons[g],this.handleButton(g,M);this.handleAxes()}},handleButton:function(M,g){var y;return y=this.handlePress(M,g)|this.handleTouch(M,g)|this.handleValue(M,g),y?(this.el.emit(f.BUTTONCHANGED,this.buttonEventDetails[M],!1),!0):!1},handleAxes:function(){var M=!1,g=this.controller.gamepad.axes,y,b=this.axis,v=this.changedAxes;for(this.changedAxes.splice(0,this.changedAxes.length),y=0;y<g.length;++y)v.push(b[y]!==g[y]),v[y]&&(M=!0);if(!M)return!1;for(this.axis.splice(0,this.axis.length),y=0;y<g.length;y++)this.axis.push(g[y]);return this.el.emit(f.AXISMOVE,this.axisMoveEventDetail,!1),!0},handlePress:function(M,g){var y,b=this.buttonStates[M];return g.pressed===b.pressed?!1:(y=g.pressed?f.BUTTONDOWN:f.BUTTONUP,this.el.emit(y,this.buttonEventDetails[M],!1),b.pressed=g.pressed,!0)},handleTouch:function(M,g){var y,b=this.buttonStates[M];return g.touched===b.touched?!1:(y=g.touched?f.TOUCHSTART:f.TOUCHEND,this.el.emit(y,this.buttonEventDetails[M],!1),b.touched=g.touched,!0)},handleValue:function(M,g){var y=this.buttonStates[M];return g.value===y.value?!1:(y.value=g.value,!0)}})},"./src/components/tracked-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("tracked-controls",{schema:{autoHide:{default:!0},controller:{default:-1},id:{type:"string",default:""},hand:{type:"string",default:""},idPrefix:{type:"string",default:""},handTrackingEnabled:{default:!1},orientationOffset:{type:"vec3"},armModel:{default:!1},headElement:{type:"selector"},iterateControllerProfiles:{default:!1},space:{type:"string",oneOf:["targetRaySpace","gripSpace"],default:"targetRaySpace"}},after:["tracked-controls-webvr","tracked-controls-webxr"],update:function(){var p=this.data,f=this.el;f.sceneEl.hasWebXR?f.setAttribute("tracked-controls-webxr",{id:p.id,hand:p.hand,index:p.controller,iterateControllerProfiles:p.iterateControllerProfiles,handTrackingEnabled:p.handTrackingEnabled,space:p.space}):f.setAttribute("tracked-controls-webvr",p)}})},"./src/components/valve-index-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),f=u("./src/utils/tracked-controls.js"),M=f.checkControllerPresentAndSetup,g=f.emitIfAxesChanged,y=f.onButtonEvent,b=u("./src/constants/index.js").AFRAME_CDN_ROOT,v=b+"controllers/valve/index/valve-index-",C={left:v+"left.glb",right:v+"right.glb"},w="valve",_=u("./src/utils/index.js").device.isWebXRAvailable,E={left:{x:-.00023692678902063457,y:.04724540367838371,z:-.061959880395271096},right:{x:.002471558599671131,y:.055765208987076195,z:-.061068168708348844}},S={left:{x:0,y:-.05,z:.06},right:{x:0,y:-.05,z:.06}},I={left:{_x:.692295102620542,_y:-.0627618864318427,_z:-.06265893149611756,_order:"XYZ"},right:{_x:.6484021229942998,_y:-.032563619881892894,_z:-.1327973171917482,_order:"XYZ"}},T={left:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"},right:{_x:Math.PI/3,_y:0,_z:0,_order:"XYZ"}},k=_?T:I,D=_?S:E;c.exports.Component=h("valve-index-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},after:["tracked-controls"],mapping:{axes:{trackpad:[0,1],thumbstick:[2,3]},buttons:["trigger","grip","trackpad","thumbstick","abutton"]},init:function(){var N=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(P){y(P.detail.id,"down",N)},this.onButtonUp=function(P){y(P.detail.id,"up",N)},this.onButtonTouchEnd=function(P){y(P.detail.id,"touchend",N)},this.onButtonTouchStart=function(P){y(P.detail.id,"touchstart",N)},this.previousButtonValues={},this.bindMethods()},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var N=this.el;N.addEventListener("buttonchanged",this.onButtonChanged),N.addEventListener("buttondown",this.onButtonDown),N.addEventListener("buttonup",this.onButtonUp),N.addEventListener("touchend",this.onButtonTouchEnd),N.addEventListener("touchstart",this.onButtonTouchStart),N.addEventListener("model-loaded",this.onModelLoaded),N.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var N=this.el;N.removeEventListener("buttonchanged",this.onButtonChanged),N.removeEventListener("buttondown",this.onButtonDown),N.removeEventListener("buttonup",this.onButtonUp),N.removeEventListener("touchend",this.onButtonTouchEnd),N.removeEventListener("touchstart",this.onButtonTouchStart),N.removeEventListener("model-loaded",this.onModelLoaded),N.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var N=this.data,P=N.hand==="right"?0:N.hand==="left"?1:2;M(this,w,{index:P,iterateControllerProfiles:!0,hand:N.hand})},injectTrackedControls:function(){var N=this.el,P=this.data;N.setAttribute("tracked-controls",{idPrefix:w,controller:P.hand==="right"?1:P.hand==="left"?0:2,hand:P.hand,orientationOffset:P.orientationOffset}),this.loadModel()},loadModel:function(){var N=this.data;N.model&&this.el.setAttribute("gltf-model",""+C[N.hand])},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(N){var P=this.mapping.buttons[N.detail.id],F=this.buttonMeshes,U;P&&(P==="trigger"&&(U=N.detail.state.value,F&&F.trigger&&(F.trigger.rotation.x=this.triggerOriginalRotationX-U*(Math.PI/40))),this.el.emit(P+"changed",N.detail.state))},onModelLoaded:function(N){var P,F=N.detail.model,U=this;N.target!==this.el||!this.data.model||(P=this.buttonMeshes={},P.grip={left:F.getObjectByName("leftgrip"),right:F.getObjectByName("rightgrip")},P.menu=F.getObjectByName("menubutton"),P.system=F.getObjectByName("systembutton"),P.trackpad=F.getObjectByName("touchpad"),P.trigger=F.getObjectByName("trigger"),this.triggerOriginalRotationX=P.trigger.rotation.x,Object.keys(P).forEach(function(V){U.setButtonColor(V,U.data.buttonColor)}),F.position.copy(D[this.data.hand]),F.rotation.copy(k[this.data.hand]),this.el.emit("controllermodelready",{name:"valve-index-controls",model:this.data.model,rayOrigin:new p.Vector3(0,0,0)}))},onAxisMoved:function(N){g(this,this.mapping.axes,N)},updateModel:function(N,P){var F,U;this.data.model&&(U=P.indexOf("touch")!==-1,!U&&(F=P==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(N,F)))},setButtonColor:function(N,P){}})},"./src/components/visible.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent;c.exports.Component=h("visible",{schema:{default:!0},update:function(){this.el.object3D.visible=this.data}})},"./src/components/vive-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/tracked-controls.js"),f=p.checkControllerPresentAndSetup,M=p.emitIfAxesChanged,g=p.onButtonEvent,y=u("./src/constants/index.js").AFRAME_CDN_ROOT,b=y+"controllers/vive/vr_controller_vive.obj",v=y+"controllers/vive/vr_controller_vive.mtl",C=u("./src/utils/index.js").device.isWebXRAvailable,w="htc-vive",_="OpenVR ",E=C?w:_,S={axes:{trackpad:[0,1]},buttons:["trackpad","trigger","grip","menu","system"]},I={axes:{touchpad:[0,1]},buttons:["trigger","grip","touchpad","none"]},T=C?I:S;c.exports.Component=h("vive-controls",{schema:{hand:{default:"left"},buttonColor:{type:"color",default:"#FAFAFA"},buttonHighlightColor:{type:"color",default:"#22D1EE"},model:{default:!0},orientationOffset:{type:"vec3"}},after:["tracked-controls"],mapping:T,init:function(){var k=this;this.controllerPresent=!1,this.lastControllerCheck=0,this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(D){g(D.detail.id,"down",k)},this.onButtonUp=function(D){g(D.detail.id,"up",k)},this.onButtonTouchEnd=function(D){g(D.detail.id,"touchend",k)},this.onButtonTouchStart=function(D){g(D.detail.id,"touchstart",k)},this.previousButtonValues={},this.bindMethods()},update:function(){var k=this.data;this.controllerIndex=k.hand==="right"?0:k.hand==="left"?1:2},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},addEventListeners:function(){var k=this.el;k.addEventListener("buttonchanged",this.onButtonChanged),k.addEventListener("buttondown",this.onButtonDown),k.addEventListener("buttonup",this.onButtonUp),k.addEventListener("touchend",this.onButtonTouchEnd),k.addEventListener("touchstart",this.onButtonTouchStart),k.addEventListener("model-loaded",this.onModelLoaded),k.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0},removeEventListeners:function(){var k=this.el;k.removeEventListener("buttonchanged",this.onButtonChanged),k.removeEventListener("buttondown",this.onButtonDown),k.removeEventListener("buttonup",this.onButtonUp),k.removeEventListener("touchend",this.onButtonTouchEnd),k.removeEventListener("touchstart",this.onButtonTouchStart),k.removeEventListener("model-loaded",this.onModelLoaded),k.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1},checkIfControllerPresent:function(){var k=this.data;f(this,E,{index:this.controllerIndex,hand:k.hand})},injectTrackedControls:function(){var k=this.el,D=this.data;k.setAttribute("tracked-controls",{idPrefix:E,hand:D.hand,controller:this.controllerIndex,orientationOffset:D.orientationOffset}),this.data.model&&this.el.setAttribute("obj-model",{obj:b,mtl:v})},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onButtonChanged:function(k){var D=this.mapping.buttons[k.detail.id],N=this.buttonMeshes,P;D&&(D==="trigger"&&(P=k.detail.state.value,N&&N.trigger&&(N.trigger.rotation.x=-P*(Math.PI/12))),this.el.emit(D+"changed",k.detail.state))},onModelLoaded:function(k){var D,N=k.detail.model,P=this;k.target!==this.el||!this.data.model||(D=this.buttonMeshes={},D.grip={left:N.getObjectByName("leftgrip"),right:N.getObjectByName("rightgrip")},D.menu=N.getObjectByName("menubutton"),D.system=N.getObjectByName("systembutton"),D.trackpad=N.getObjectByName("touchpad"),D.touchpad=N.getObjectByName("touchpad"),D.trigger=N.getObjectByName("trigger"),Object.keys(D).forEach(function(F){P.setButtonColor(F,P.data.buttonColor)}),N.position.set(0,-.015,.04))},onAxisMoved:function(k){M(this,this.mapping.axes,k)},updateModel:function(k,D){var N,P;this.data.model&&(P=D.indexOf("touch")!==-1,!P&&(N=D==="up"?this.data.buttonColor:this.data.buttonHighlightColor,this.setButtonColor(k,N)))},setButtonColor:function(k,D){var N=this.buttonMeshes;if(N){if(k==="grip"){N.grip.left.material.color.set(D),N.grip.right.material.color.set(D);return}N[k].material.color.set(D)}}})},"./src/components/vive-focus-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/tracked-controls.js"),f=p.checkControllerPresentAndSetup,M=p.emitIfAxesChanged,g=p.onButtonEvent,y=u("./src/constants/index.js").AFRAME_CDN_ROOT,b=y+"controllers/vive/focus-controller/focus-controller.gltf",v=u("./src/utils/index.js").device.isWebXRAvailable,C="htc-vive-focus",w="HTC Vive Focus ",_=v?C:w,E={axes:{trackpad:[0,1]},buttons:["trackpad","trigger"]},S={axes:{touchpad:[0,1]},buttons:["trigger","none","touchpad","none","menu"]},I=v?S:E;c.exports.Component=h("vive-focus-controls",{schema:{hand:{default:""},buttonTouchedColor:{type:"color",default:"#BBBBBB"},buttonHighlightColor:{type:"color",default:"#7A7A7A"},model:{default:!0},orientationOffset:{type:"vec3"},armModel:{default:!0}},after:["tracked-controls"],mapping:I,bindMethods:function(){this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.removeControllersUpdateListener=this.removeControllersUpdateListener.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var T=this;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(k){g(k.detail.id,"down",T)},this.onButtonUp=function(k){g(k.detail.id,"up",T)},this.onButtonTouchStart=function(k){g(k.detail.id,"touchstart",T)},this.onButtonTouchEnd=function(k){g(k.detail.id,"touchend",T)},this.controllerPresent=!1,this.lastControllerCheck=0,this.bindMethods()},addEventListeners:function(){var T=this.el;T.addEventListener("buttonchanged",this.onButtonChanged),T.addEventListener("buttondown",this.onButtonDown),T.addEventListener("buttonup",this.onButtonUp),T.addEventListener("touchstart",this.onButtonTouchStart),T.addEventListener("touchend",this.onButtonTouchEnd),T.addEventListener("model-loaded",this.onModelLoaded),T.addEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!0,this.addControllersUpdateListener()},removeEventListeners:function(){var T=this.el;T.removeEventListener("buttonchanged",this.onButtonChanged),T.removeEventListener("buttondown",this.onButtonDown),T.removeEventListener("buttonup",this.onButtonUp),T.removeEventListener("touchstart",this.onButtonTouchStart),T.removeEventListener("touchend",this.onButtonTouchEnd),T.removeEventListener("model-loaded",this.onModelLoaded),T.removeEventListener("axismove",this.onAxisMoved),this.controllerEventsActive=!1,this.removeControllersUpdateListener()},checkIfControllerPresent:function(){f(this,_,this.data.hand?{hand:this.data.hand}:{})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},injectTrackedControls:function(){var T=this.el,k=this.data;T.setAttribute("tracked-controls",{armModel:k.armModel,idPrefix:_,orientationOffset:k.orientationOffset}),this.data.model&&this.el.setAttribute("gltf-model",b)},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelLoaded:function(T){var k=T.detail.model,D;T.target!==this.el||!this.data.model||(D=this.buttonMeshes={},D.trigger=k.getObjectByName("BumperKey"),D.triggerPressed=k.getObjectByName("BumperKey_Press"),D.triggerPressed&&(D.triggerPressed.visible=!1),D.trackpad=k.getObjectByName("TouchPad"),D.trackpadPressed=k.getObjectByName("TouchPad_Press"),D.trackpadPressed&&(D.trackpadPressed.visible=!1))},onButtonChanged:function(T){var k=this.mapping.buttons[T.detail.id];k&&this.el.emit(k+"changed",T.detail.state)},onAxisMoved:function(T){M(this,this.mapping.axes,T)},updateModel:function(T,k){this.data.model&&this.updateButtonModel(T,k)},updateButtonModel:function(T,k){var D=this.buttonMeshes,N=T+"Pressed";if(!(!D||!D[T]||!D[N])){var P;switch(k){case"down":P=this.data.buttonHighlightColor;break;case"touchstart":P=this.data.buttonTouchedColor;break}P&&D[N].material.color.set(P),D[N].visible=!!P,D[T].visible=!P}}})},"./src/components/wasd-controls.js":(c,d,u)=>{var h=u("./src/constants/index.js").keyboardevent.KEYCODE_TO_CODE,p=u("./src/core/component.js").registerComponent,f=u("./src/lib/three.js"),M=u("./src/utils/index.js"),g=M.shouldCaptureKeyEvent,y=1e-5,b=.2,v=["KeyW","KeyA","KeyS","KeyD","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"];c.exports.Component=p("wasd-controls",{schema:{acceleration:{default:65},adAxis:{default:"x",oneOf:["x","y","z"]},adEnabled:{default:!0},adInverted:{default:!1},enabled:{default:!0},fly:{default:!1},wsAxis:{default:"z",oneOf:["x","y","z"]},wsEnabled:{default:!0},wsInverted:{default:!1}},after:["look-controls"],init:function(){this.keys={},this.easing=1.1,this.velocity=new f.Vector3,this.onBlur=this.onBlur.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onFocus=this.onFocus.bind(this),this.onKeyDown=this.onKeyDown.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.onVisibilityChange=this.onVisibilityChange.bind(this),this.attachVisibilityEventListeners()},tick:function(w,_){var E=this.data,S=this.el,I=this.velocity;!I[E.adAxis]&&!I[E.wsAxis]&&C(this.keys)||(_=_/1e3,this.updateVelocity(_),!(!I[E.adAxis]&&!I[E.wsAxis])&&S.object3D.position.add(this.getMovementVector(_)))},update:function(w){w.adAxis!==this.data.adAxis&&(this.velocity[w.adAxis]=0),w.wsAxis!==this.data.wsAxis&&(this.velocity[w.wsAxis]=0)},remove:function(){this.removeKeyEventListeners(),this.removeVisibilityEventListeners()},play:function(){this.attachKeyEventListeners()},pause:function(){this.keys={},this.removeKeyEventListeners()},updateVelocity:function(w){var _,E,S,I=this.data,T=this.keys,k=this.velocity,D,N;if(E=I.adAxis,D=I.wsAxis,w>b){k[E]=0,k[D]=0;return}var P=Math.pow(1/this.easing,w*60);k[E]!==0&&(k[E]=k[E]*P),k[D]!==0&&(k[D]=k[D]*P),Math.abs(k[E])<y&&(k[E]=0),Math.abs(k[D])<y&&(k[D]=0),I.enabled&&(_=I.acceleration,I.adEnabled&&(S=I.adInverted?-1:1,(T.KeyA||T.ArrowLeft)&&(k[E]-=S*_*w),(T.KeyD||T.ArrowRight)&&(k[E]+=S*_*w)),I.wsEnabled&&(N=I.wsInverted?-1:1,(T.KeyW||T.ArrowUp)&&(k[D]-=N*_*w),(T.KeyS||T.ArrowDown)&&(k[D]+=N*_*w)))},getMovementVector:function(){var w=new f.Vector3(0,0,0),_=new f.Euler(0,0,0,"YXZ");return function(E){var S=this.el.getAttribute("rotation"),I=this.velocity,T;return w.copy(I),w.multiplyScalar(E),S&&(T=this.data.fly?S.x:0,_.set(f.MathUtils.degToRad(T),f.MathUtils.degToRad(S.y),0),w.applyEuler(_)),w}}(),attachVisibilityEventListeners:function(){window.oncontextmenu=this.onContextMenu,window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus),document.addEventListener("visibilitychange",this.onVisibilityChange)},removeVisibilityEventListeners:function(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),document.removeEventListener("visibilitychange",this.onVisibilityChange)},attachKeyEventListeners:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)},removeKeyEventListeners:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},onContextMenu:function(){for(var w=Object.keys(this.keys),_=0;_<w.length;_++)delete this.keys[w[_]]},onBlur:function(){this.pause()},onFocus:function(){this.play()},onVisibilityChange:function(){document.hidden?this.onBlur():this.onFocus()},onKeyDown:function(w){var _;g(w)&&(_=w.code||h[w.keyCode],v.indexOf(_)!==-1&&(this.keys[_]=!0))},onKeyUp:function(w){var _;_=w.code||h[w.keyCode],delete this.keys[_]}});function C(w){var _;for(_ in w)return!1;return!0}},"./src/components/windows-motion-controls.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/utils/tracked-controls.js"),f=p.checkControllerPresentAndSetup,M=p.emitIfAxesChanged,g=p.onButtonEvent,y=u("./src/utils/index.js"),b=y.debug("components:windows-motion-controls:debug"),v=y.debug("components:windows-motion-controls:warn"),C=u("./src/constants/index.js").DEFAULT_HANDEDNESS,w=u("./src/constants/index.js").AFRAME_CDN_ROOT,_=w+"controllers/microsoft/",E={left:"left.glb",right:"right.glb",default:"universal.glb"},S=u("./src/utils/index.js").device.isWebXRAvailable,I="windows-mixed-reality",T="Spatial Controller (Spatial Interaction Source) ",k=/([0-9a-zA-Z]+-[0-9a-zA-Z]+)$/,D=S?I:T,N={axes:{thumbstick:[0,1],trackpad:[2,3]},buttons:["thumbstick","trigger","grip","menu","trackpad"],axisMeshNames:["THUMBSTICK_X","THUMBSTICK_Y","TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",grip:"GRASP",thumbstick:"THUMBSTICK_PRESS",trackpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},P={axes:{touchpad:[0,1],thumbstick:[2,3]},buttons:["trigger","squeeze","touchpad","thumbstick","menu"],axisMeshNames:["TOUCHPAD_TOUCH_X","TOUCHPAD_TOUCH_X","THUMBSTICK_X","THUMBSTICK_Y"],buttonMeshNames:{trigger:"SELECT",menu:"MENU",squeeze:"GRASP",thumbstick:"THUMBSTICK_PRESS",touchpad:"TOUCHPAD_PRESS"},pointingPoseMeshName:"POINTING_POSE"},F=S?P:N;c.exports.Component=h("windows-motion-controls",{schema:{hand:{default:C},pair:{default:0},model:{default:!0},hideDisconnected:{default:!0}},after:["tracked-controls"],mapping:F,bindMethods:function(){this.onModelError=this.onModelError.bind(this),this.onModelLoaded=this.onModelLoaded.bind(this),this.onControllersUpdate=this.onControllersUpdate.bind(this),this.checkIfControllerPresent=this.checkIfControllerPresent.bind(this),this.onAxisMoved=this.onAxisMoved.bind(this)},init:function(){var U=this,V=this.el;this.onButtonChanged=this.onButtonChanged.bind(this),this.onButtonDown=function(z){g(z.detail.id,"down",U)},this.onButtonUp=function(z){g(z.detail.id,"up",U)},this.onButtonTouchStart=function(z){g(z.detail.id,"touchstart",U)},this.onButtonTouchEnd=function(z){g(z.detail.id,"touchend",U)},this.onControllerConnected=function(){U.setModelVisibility(!0)},this.onControllerDisconnected=function(){U.setModelVisibility(!1)},this.controllerPresent=!1,this.lastControllerCheck=0,this.previousButtonValues={},this.bindMethods(),this.loadedMeshInfo={buttonMeshes:null,axisMeshes:null},this.rayOrigin={origin:new THREE.Vector3,direction:new THREE.Vector3(0,0,-1),createdFromMesh:!1},V.addEventListener("controllerconnected",this.onControllerConnected),V.addEventListener("controllerdisconnected",this.onControllerDisconnected)},addEventListeners:function(){var U=this.el;U.addEventListener("buttonchanged",this.onButtonChanged),U.addEventListener("buttondown",this.onButtonDown),U.addEventListener("buttonup",this.onButtonUp),U.addEventListener("touchstart",this.onButtonTouchStart),U.addEventListener("touchend",this.onButtonTouchEnd),U.addEventListener("axismove",this.onAxisMoved),U.addEventListener("model-error",this.onModelError),U.addEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!0},removeEventListeners:function(){var U=this.el;U.removeEventListener("buttonchanged",this.onButtonChanged),U.removeEventListener("buttondown",this.onButtonDown),U.removeEventListener("buttonup",this.onButtonUp),U.removeEventListener("touchstart",this.onButtonTouchStart),U.removeEventListener("touchend",this.onButtonTouchEnd),U.removeEventListener("axismove",this.onAxisMoved),U.removeEventListener("model-error",this.onModelError),U.removeEventListener("model-loaded",this.onModelLoaded),this.controllerEventsActive=!1},checkIfControllerPresent:function(){f(this,D,{hand:this.data.hand,index:this.data.pair,iterateControllerProfiles:!0})},play:function(){this.checkIfControllerPresent(),this.addControllersUpdateListener()},pause:function(){this.removeEventListeners(),this.removeControllersUpdateListener()},updateControllerModel:function(){if(!this.data.model||this.rayOrigin.createdFromMesh){this.modelReady();return}var U=this.createControllerModelUrl();this.loadModel(U)},createControllerModelUrl:function(U){var V=this.el.components["tracked-controls"],z=V?V.controller:null,G="default",H=this.data.hand,J;if(z&&!window.hasNativeWebXRImplementation&&(H=z.hand,!U)){var Z=z.id.match(k);G=Z&&Z[0]||G}return J=E[H]||E.default,_+G+"/"+J},injectTrackedControls:function(){var U=this.data;this.el.setAttribute("tracked-controls",{idPrefix:D,controller:U.pair,hand:U.hand,armModel:!1}),this.updateControllerModel()},addControllersUpdateListener:function(){this.el.sceneEl.addEventListener("controllersupdated",this.onControllersUpdate,!1)},removeControllersUpdateListener:function(){this.el.sceneEl.removeEventListener("controllersupdated",this.onControllersUpdate,!1)},onControllersUpdate:function(){this.checkIfControllerPresent()},onModelError:function(U){var V=this.createControllerModelUrl(!0);U.detail.src!==V?(v("Failed to load controller model for device, attempting to load default."),this.loadModel(V)):v("Failed to load default controller model.")},loadModel:function(U){this.el.setAttribute("gltf-model","url("+U+")")},onModelLoaded:function(U){var V=this.controllerModel=U.detail.model,z=this.loadedMeshInfo,G,H,J,Z;if(U.target!==this.el)return;if(b("Processing model"),z.buttonMeshes={},z.axisMeshes={},V){for(G=0;G<this.mapping.buttons.length;G++){if(H=this.mapping.buttonMeshNames[this.mapping.buttons[G]],!H){b("Skipping unknown button at index: "+G+" with mapped name: "+this.mapping.buttons[G]);continue}if(J=V.getObjectByName(H),!J){v("Missing button mesh with name: "+H);continue}Z={index:G,value:j(J,"VALUE"),pressed:j(J,"PRESSED"),unpressed:j(J,"UNPRESSED")},Z.value&&Z.pressed&&Z.unpressed?z.buttonMeshes[this.mapping.buttons[G]]=Z:v("Missing button submesh under mesh with name: "+H+"(VALUE: "+!!Z.value+", PRESSED: "+!!Z.pressed+", UNPRESSED:"+!!Z.unpressed+")")}for(G=0;G<this.mapping.axisMeshNames.length;G++){if(H=this.mapping.axisMeshNames[G],!H){b("Skipping unknown axis at index: "+G);continue}if(J=V.getObjectByName(H),!J){v("Missing axis mesh with name: "+H);continue}Z={index:G,value:j(J,"VALUE"),min:j(J,"MIN"),max:j(J,"MAX")},Z.value&&Z.min&&Z.max?z.axisMeshes[G]=Z:v("Missing axis submesh under mesh with name: "+H+"(VALUE: "+!!Z.value+", MIN: "+!!Z.min+", MAX:"+!!Z.max+")")}this.calculateRayOriginFromMesh(V),this.setModelVisibility()}b("Model load complete.");function j(W,et){for(var dt=0,ht=W.children.length;dt<ht;dt++){var st=W.children[dt];if(st&&st.name===et)return st}}},calculateRayOriginFromMesh:function(){var U=new THREE.Quaternion;return function(V){var z;if(this.rayOrigin.origin.set(0,0,0),this.rayOrigin.direction.set(0,0,-1),this.rayOrigin.createdFromMesh=!0,z=V.getObjectByName(this.mapping.pointingPoseMeshName),z){var G=V.parent;G&&(V.parent=null,V.updateMatrixWorld(!0),V.parent=G),z.getWorldPosition(this.rayOrigin.origin),z.getWorldQuaternion(U),this.rayOrigin.direction.applyQuaternion(U),G&&V.updateMatrixWorld(!0)}else b("Mesh does not contain pointing origin data, defaulting to none.");this.modelReady()}}(),lerpAxisTransform:function(){var U=new THREE.Quaternion;return function(V,z){var G=this.loadedMeshInfo.axisMeshes[V];if(G){var H=G.min,J=G.max,Z=G.value,j=z*.5+.5;Z.setRotationFromQuaternion(U.copy(H.quaternion).slerp(J.quaternion,j)),Z.position.lerpVectors(H.position,J.position,j)}}}(),lerpButtonTransform:function(){var U=new THREE.Quaternion;return function(V,z){var G=this.loadedMeshInfo.buttonMeshes[V];if(G){var H=G.unpressed,J=G.pressed,Z=G.value;Z.setRotationFromQuaternion(U.copy(H.quaternion).slerp(J.quaternion,z)),Z.position.lerpVectors(H.position,J.position,z)}}}(),modelReady:function(){this.el.emit("controllermodelready",{name:"windows-motion-controls",model:this.data.model,rayOrigin:this.rayOrigin})},onButtonChanged:function(U){var V=this.mapping.buttons[U.detail.id];V&&(this.loadedMeshInfo&&this.loadedMeshInfo.buttonMeshes&&this.lerpButtonTransform(V,U.detail.state.value),this.el.emit(V+"changed",U.detail.state))},onAxisMoved:function(U){var V=this.mapping.axisMeshNames.length;if(this.loadedMeshInfo&&this.loadedMeshInfo.axisMeshes)for(var z=0;z<V;z++)this.lerpAxisTransform(z,U.detail.axis[z]||0);M(this,this.mapping.axes,U)},setModelVisibility:function(U){var V=this.el.getObject3D("mesh");this.controllerPresent&&(U=U!==void 0?U:this.modelVisible,this.modelVisible=U,V&&(V.visible=U))}})},"./src/constants/index.js":(c,d,u)=>{c.exports={AFRAME_CDN_ROOT:window.AFRAME_CDN_ROOT||"https://cdn.aframe.io/",AFRAME_INJECTED:"aframe-injected",DEFAULT_CAMERA_HEIGHT:1.6,DEFAULT_HANDEDNESS:"right",keyboardevent:u("./src/constants/keyboardevent.js")}},"./src/constants/keyboardevent.js":c=>{c.exports={KEYCODE_TO_CODE:{38:"ArrowUp",37:"ArrowLeft",40:"ArrowDown",39:"ArrowRight",87:"KeyW",65:"KeyA",83:"KeyS",68:"KeyD"}}},"./src/core/a-assets.js":(c,d,u)=>{var h=u("./src/core/a-node.js").ANode,p=u("./src/utils/debug.js"),f=u("./src/lib/three.js"),M=new f.FileLoader,g=p("core:a-assets:warn");class y extends h{constructor(){super(),this.isAssets=!0,this.fileLoader=M,this.timeout=null}doConnectedCallback(){var T=this,k,D=[],N,P,F,U,V,z;if(super.doConnectedCallback(),!this.parentNode.isScene)throw new Error("<a-assets> must be a child of a <a-scene>.");for(U=this.querySelectorAll("img"),k=0;k<U.length;k++)F=C(U[k]),D.push(new Promise(function(G,H){if(f.Cache.add(U[k].getAttribute("src"),F),F.complete){G();return}F.onload=G,F.onerror=H}));for(P=this.querySelectorAll("audio, video"),k=0;k<P.length;k++)N=C(P[k]),!N.src&&!N.srcObject&&g("Audio/video asset has neither `src` nor `srcObject` attributes."),D.push(v(N));z=this.getChildren(),z.forEach(function(G){!G.isAssetItem||!G.hasAttribute("src")||D.push(new Promise(function(J,Z){if(G.hasLoaded)return J();G.addEventListener("loaded",J),G.addEventListener("error",Z)}))}),Promise.allSettled(D).then(function(){T.timeout!==null&&T.load()}),V=parseInt(this.getAttribute("timeout"),10)||3e3,this.timeout=setTimeout(function(){T.hasLoaded||(g("Asset loading timed out in",V,"ms"),T.timeout=null,T.emit("timeout"),T.load())},V)}disconnectedCallback(){super.disconnectedCallback(),this.timeout&&clearTimeout(this.timeout)}load(){super.load.call(this,null,function(){return!1})}}customElements.define("a-assets",y);class b extends h{constructor(){super(),this.data=null,this.isAssetItem=!0}connectedCallback(){var T=this,k=this.getAttribute("src");M.setResponseType(this.getAttribute("response-type")||E(k)),M.load(k,function(N){T.data=N,h.prototype.load.call(T)},function(N){T.emit("progress",{loadedBytes:N.loaded,totalBytes:N.total,xhr:N})},function(N){T.emit("error",{xhr:N})})}}customElements.define("a-asset-item",b);function v(I){if(!(!I.hasAttribute("autoplay")&&I.getAttribute("preload")!=="auto"))return new Promise(function(T,k){if(I.readyState===4)return T();if(I.error)return k();I.addEventListener("loadeddata",D,!1),I.addEventListener("progress",D,!1),I.addEventListener("error",k,!1);function D(){for(var N=0,P=0;P<I.buffered.length;P++)N+=I.buffered.end(P)-I.buffered.start(P);N>=I.duration&&(I.tagName==="VIDEO"&&f.Cache.add(I.getAttribute("src"),I),T())}})}function C(I){var T=w(I);return T.tagName&&T.tagName.toLowerCase()==="video"&&(T.setAttribute("playsinline",""),T.setAttribute("webkit-playsinline","")),T!==I&&(I.parentNode.appendChild(T),I.parentNode.removeChild(I)),T}function w(I){var T,k;return I.hasAttribute("crossorigin")||(k=I.getAttribute("src"),k!==null&&(k.indexOf("://")===-1||_(k)===window.location.host))?I:(g('Cross-origin element (e.g., <img>) was requested without `crossorigin` set. A-Frame will re-request the asset with `crossorigin` attribute set. Please set `crossorigin` on the element (e.g., <img crossorigin="anonymous">)',k),I.crossOrigin="anonymous",T=I.cloneNode(!0),T)}function _(I){var T=I.indexOf("://")>-1?I.split("/")[2]:I.split("/")[0];return T.substring(0,T.indexOf(":"))}function E(I){var T=S(I),k=T.lastIndexOf(".");if(k>=0){var D=T.slice(k,I.search(/\?|#|$/));if(D===".glb")return"arraybuffer"}return"text"}c.exports.inferResponseType=E;function S(I){var T=document.createElement("a");T.href=I;var k=T.search.replace(/^\?/,""),D=I.replace(k,"").replace("?","");return D.substring(D.lastIndexOf("/")+1)}c.exports.getFileNameFromURL=S},"./src/core/a-cubemap.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),p=h("core:cubemap:warn");class f extends HTMLElement{constructor(g){return g=super(g),g}onReadyStateChange(){document.readyState==="complete"&&this.doConnectedCallback()}connectedCallback(){if(document.readyState!=="complete"){document.addEventListener("readystatechange",this.onReadyStateChange.bind(this));return}f.prototype.doConnectedCallback.call(this)}doConnectedCallback(){this.srcs=this.validate()}validate(){var g=this.querySelectorAll("[src]"),y,b=[];if(g.length===6){for(y=0;y<g.length;y++)g[y].tagName==="IMG"?b.push(g[y]):b.push(g[y].getAttribute("src"));return b}p("<a-cubemap> did not contain exactly six elements each with a `src` attribute.")}}customElements.define("a-cubemap",f)},"./src/core/a-entity.js":(c,d,u)=>{var h=u("./src/core/a-node.js").ANode,p=u("./src/core/component.js").components,f=u("./src/lib/three.js"),M=u("./src/utils/index.js"),g=M.debug("core:a-entity:debug"),y=M.debug("core:a-entity:warn"),b="__",v=["position","rotation","scale","visible"],C={once:!0};class w extends h{constructor(){super(),this.components={},this.initializingComponents={},this.componentsToUpdate={},this.isEntity=!0,this.isPlaying=!1,this.object3D=new f.Group,this.object3D.rotation.order="YXZ",this.object3D.el=this,this.object3DMap={},this.parentEl=null,this.rotationObj={},this.states=[]}attributeChangedCallback(D,N,P){var F=this.components[D];if(super.attributeChangedCallback(),F&&F.justInitialized&&P===""){delete F.justInitialized;return}!F&&P===null||this.setEntityAttribute(D,N,P)}doConnectedCallback(){var D=this,N,P;if(super.doConnectedCallback(),P=this.sceneEl,this.addToParent(),!this.isScene){if(!P){this.load();return}if(N=P.querySelector("a-assets"),N&&!N.hasLoaded){N.addEventListener("loaded",function(){D.load()});return}this.load()}}disconnectedCallback(){var D;if(this.parentEl){for(D in this.components)this.removeComponent(D,!1);this.isScene||(this.removeFromParent(),super.disconnectedCallback(),this.object3D.el=null)}}getObject3D(D){return this.object3DMap[D]}setObject3D(D,N){var P,F=this;if(!(N instanceof f.Object3D))throw new Error("`Entity.setObject3D` was called with an object that was not an instance of THREE.Object3D.");P=this.getObject3D(D),P&&this.object3D.remove(P),N.el=this,N.children.length&&N.traverse(function(V){V.el=F}),this.object3D.add(N),this.object3DMap[D]=N,this.emit("object3dset",{object:N,type:D})}removeObject3D(D){var N=this.getObject3D(D);if(!N){y("Tried to remove `Object3D` of type:",D,"which was not defined.");return}this.object3D.remove(N),delete this.object3DMap[D],this.emit("object3dremove",{type:D})}getOrCreateObject3D(D,N){var P=this.getObject3D(D);return!P&&N&&(P=new N,this.setObject3D(D,P)),y("`getOrCreateObject3D` has been deprecated. Use `setObject3D()` and `object3dset` event instead."),P}add(D){if(!D.object3D)throw new Error("Trying to add an element that doesn't have an `object3D`");this.object3D.add(D.object3D),this.emit("child-attached",{el:D})}addToParent(){var D=this.parentEl=this.parentNode;!D||!D.add||this.attachedToParent||(D.add(this),this.attachedToParent=!0)}removeFromParent(){var D=this.parentEl;this.parentEl.remove(this),this.attachedToParent=!1,this.parentEl=null,D.emit("child-detached",{el:this})}load(){var D=this;this.hasLoaded||!this.parentEl||super.load.call(this,function(){D.parentEl&&(D.updateComponents(),(D.isScene||D.parentEl.isPlaying)&&D.play())})}remove(D){D?this.object3D.remove(D.object3D):this.parentNode.removeChild(this)}getChildEntities(){for(var D=this.children,N=[],P=0;P<D.length;P++){var F=D[P];F instanceof w&&N.push(F)}return N}initComponent(D,N,P){var F,U,V,z,G;V=M.split(D,b),z=V[0],U=V.length>2?V.slice(1).join("__"):V[1],p[z]&&(G=_(this,D)||N!==void 0,!(!G&&!P)&&(D in this.components||(this.initComponentDependencies(z),F=new p[z].Component(this,N,U),this.isPlaying&&F.play(),this.hasAttribute(D)||(F.justInitialized=!0,window.HTMLElement.prototype.setAttribute.call(this,D,"")),g("Component initialized: %s",D))))}initComponentDependencies(D){var N=this,P=p[D],F,U;if(P&&(F=p[D].dependencies,!!F))for(U=0;U<F.length;U++)N.initComponent(F[U],window.HTMLElement.prototype.getAttribute.call(N,F[U])||void 0,!0)}removeComponent(D,N){var P;if(P=this.components[D],!!P){if(!P.initialized){this.addEventListener("componentinitialized",function F(U){U.detail.name===D&&(this.removeComponent(D,N),this.removeEventListener("componentinitialized",F))});return}P.pause(),P.remove(),N&&(P.destroy(),delete this.components[D],this.hasAttribute(D)&&window.HTMLElement.prototype.removeAttribute.call(this,D)),this.emit("componentremoved",P.evtDetail,!1)}}updateComponents(){var D,N,P,F,U=this.componentsToUpdate;if(!(!this.hasLoaded&&!this.isLoading)){for(P=0;P<this.mixinEls.length;P++)for(F in this.mixinEls[P].componentCache)I(F)&&(U[F]=!0);if(this.getExtraComponents){N=this.getExtraComponents();for(F in N)I(F)&&(U[F]=!0)}for(P=0;P<this.attributes.length;++P)F=this.attributes[P].name,v.indexOf(F)===-1&&I(F)&&(U[F]=!0);for(P=0;P<v.length;P++)F=v[P],this.hasAttribute(F)&&this.updateComponent(F,this.getDOMAttribute(F));for(F in U)D=S(this.getDOMAttribute(F),N&&N[F]),this.updateComponent(F,D),delete U[F]}}updateComponent(D,N,P){var F=this.components[D];if(F){if(N===null&&!_(this,D)){this.removeComponent(D,!0);return}F.updateProperties(N,P);return}this.initComponent(D,N,!1)}removeAttribute(D,N){var P=this.components[D];if(P&&N===void 0&&this.removeComponent(D,!0),P&&N!==void 0){P.resetProperty(N);return}D==="mixin"&&this.mixinUpdate(""),window.HTMLElement.prototype.removeAttribute.call(this,D)}play(){var D,N,P;if(!(this.isPlaying||!this.hasLoaded&&!this.isLoading)){this.isPlaying=!0;for(P in this.components)this.components[P].play();for(D=this.getChildEntities(),N=0;N<D.length;N++)D[N].play();this.emit("play")}}pause(){var D,N,P;if(this.isPlaying){this.isPlaying=!1;for(P in this.components)this.components[P].pause();for(D=this.getChildEntities(),N=0;N<D.length;N++)D[N].pause();this.emit("pause")}}setEntityAttribute(D,N,P){if(p[D]||this.components[D]){this.updateComponent(D,P);return}if(D==="mixin"){if(P===this.computedMixinStr)return;this.mixinUpdate(P,N)}}mixinUpdate(D,N,P){var F=w.componentsUpdated,U,V,z,G,H=this;if(P||(N=N||this.getAttribute("mixin")),!this.hasLoaded){this.addEventListener("loaded-private",function(){H.mixinUpdate(D,N,!0)},C);return}for(z=this.updateMixins(D,N),F.length=0,G=0;G<this.mixinEls.length;G++)for(U in this.mixinEls[G].componentCache)F.indexOf(U)===-1&&(this.components[U]?this.components[U].handleMixinUpdate():this.initComponent(U,null),F.push(U));for(G=0;G<z.oldMixinIds.length;G++)if(V=document.getElementById(z.oldMixinIds[G]),!!V)for(U in V.componentCache)F.indexOf(U)===-1&&this.components[U]&&(this.getDOMAttribute(U)?this.components[U].handleMixinUpdate():this.removeComponent(U,!0))}setAttribute(D,N,P){var F=w.singlePropUpdate,U,V,z,G,H,J;if(G=D.indexOf(b),z=G>0?D.substring(0,G):D,!p[z]){D==="mixin"&&this.mixinUpdate(N),super.setAttribute.call(this,D,N);return}if(!this.components[D]&&this.hasAttribute(D)&&this.updateComponent(D,window.HTMLElement.prototype.getAttribute.call(this,D)),typeof P<"u"&&typeof N=="string"&&N.length>0&&typeof M.styleParser.parse(N)=="string"){for(J in F)delete F[J];U=F,U[N]=P,V=!1}else U=N,V=P===!0;this.updateComponent(D,U,V),H=this.sceneEl&&this.sceneEl.getAttribute("debug"),H&&this.components[D].flushToDOM()}flushToDOM(D){var N=this.components,P,F=this.children,U,V;for(V in N)N[V].flushToDOM();if(D)for(U=0;U<F.length;++U)P=F[U],P.flushToDOM&&P.flushToDOM(D)}getAttribute(D){var N;return D==="position"?this.object3D.position:D==="rotation"?T(this):D==="scale"?this.object3D.scale:D==="visible"?this.object3D.visible:(N=this.components[D],N?N.data:window.HTMLElement.prototype.getAttribute.call(this,D))}getDOMAttribute(D){var N=this.components[D];return N?N.attrValue:window.HTMLElement.prototype.getAttribute.call(this,D)}addState(D){this.is(D)||(this.states.push(D),this.emit("stateadded",D))}removeState(D){var N=this.states.indexOf(D);N!==-1&&(this.states.splice(N,1),this.emit("stateremoved",D))}is(D){return this.states.indexOf(D)!==-1}inspect(){this.sceneEl.components.inspector.openInspector(this)}destroy(){var D;if(this.parentNode){y("Entity can only be destroyed if detached from scenegraph.");return}for(D in this.components)this.components[D].destroy()}}function _(k,D){return k.components[D]&&k.components[D].attrValue?!0:E(D,k.mixinEls)}function E(k,D){var N,P=!1;for(N=0;N<D.length&&(P=D[N].hasAttribute(k),!P);++N);return P}function S(k,D){return D?D.constructor===Object?M.extend(D,M.styleParser.parse(k||{})):k||D:k}function I(k){return k.indexOf(b)!==-1&&(k=M.split(k,b)[0]),!!p[k]}function T(k){var D=f.MathUtils.radToDeg,N=k.object3D.rotation,P=k.rotationObj;return P.x=D(N.x),P.y=D(N.y),P.z=D(N.z),P}w.componentsUpdated=[],w.singlePropUpdate={},customElements.define("a-entity",w),c.exports.AEntity=w},"./src/core/a-mixin.js":(c,d,u)=>{var h=u("./src/core/a-node.js").ANode,p=u("./src/core/component.js").components,f=u("./src/utils/index.js"),M=f.styleParser,g="__";class y extends h{constructor(){super(),this.componentCache={},this.rawAttributeCache={},this.isMixin=!0}doConnectedCallback(){super.doConnectedCallback(),this.sceneEl=this.closestScene(),this.id=this.getAttribute("id"),this.cacheAttributes(),this.updateEntities(),this.load()}attributeChangedCallback(v,C,w){super.attributeChangedCallback(),this.cacheAttribute(v,w),this.updateEntities()}setAttribute(v,C){window.HTMLElement.prototype.setAttribute.call(this,v,C),this.cacheAttribute(v,C)}cacheAttribute(v,C){var w,_;_=f.split(v,g)[0],w=p[_],C===void 0&&(C=window.HTMLElement.prototype.getAttribute.call(this,v)),this.rawAttributeCache[v]=C,w&&(this.componentCache[v]=this.parseComponentAttrValue(w,C))}parseComponentAttrValue(v,C){var w;return typeof C!="string"?C:(v.isSingleProperty?(w=v.schema.parse(C),typeof w=="string"&&(w=C)):w=M.parse(C),w)}getAttribute(v){return this.componentCache[v]||window.HTMLElement.prototype.getAttribute.call(this,v)}cacheAttributes(){var v=this.attributes,C,w;for(w=0;w<v.length;w++)C=v[w].name,this.cacheAttribute(C)}updateEntities(){var v,C,w;if(this.sceneEl)for(C=this.sceneEl.querySelectorAll("[mixin~="+this.id+"]"),w=0;w<C.length;w++)v=C[w],!(!v.hasLoaded||v.isMixin)&&v.mixinUpdate(this.id)}}customElements.define("a-mixin",y)},"./src/core/a-node.js":(c,d,u)=>{var h=u("./src/utils/index.js"),p=u("./src/core/readyState.js"),f=h.debug("core:a-node:warn"),M={"a-scene":!0,"a-assets":!0,"a-assets-items":!0,"a-cubemap":!0,"a-mixin":!0,"a-node":!0,"a-entity":!0};function g(b){return b.tagName.toLowerCase()in M||b.isNode}class y extends HTMLElement{constructor(){super(),this.computedMixinStr="",this.hasLoaded=!1,this.isNode=!0,this.mixinEls=[]}connectedCallback(){if(!p.canInitializeElements){document.addEventListener("aframeready",this.connectedCallback.bind(this));return}this.doConnectedCallback()}doConnectedCallback(){var v;this.sceneEl=this.closestScene(),this.sceneEl||f("You are attempting to attach <"+this.tagName+"> outside of an A-Frame scene. Append this element to `<a-scene>` instead."),this.hasLoaded=!1,this.emit("nodeready",void 0,!1),this.isMixin||(v=this.getAttribute("mixin"),v&&this.updateMixins(v))}attributeChangedCallback(v,C,w){w!==this.computedMixinStr&&v==="mixin"&&!this.isMixin&&this.updateMixins(w,C)}closestScene(){for(var v=this;v&&!v.isScene;)v=v.parentElement;return v}closest(v){for(var C=this.matches||this.mozMatchesSelector||this.msMatchesSelector||this.oMatchesSelector||this.webkitMatchesSelector,w=this;w&&!C.call(w,v);)w=w.parentElement;return w}disconnectedCallback(){this.hasLoaded=!1}load(v,C){var w,_,E=this;this.hasLoaded||(C=C||g,w=this.getChildren(),_=w.filter(C).map(function(S){return new Promise(function(T,k){if(S.hasLoaded)return T();S.addEventListener("loaded",T),S.addEventListener("error",k)})}),Promise.allSettled(_).then(function(I){I.forEach(function(k){k.status==="rejected"&&f("Rendering scene with errors on node: ",k.reason.target)}),E.isLoading=!0,E.setupMutationObserver(),v&&v(),E.isLoading=!1,E.hasLoaded=!0,E.emit("loaded-private",void 0,!1),E.emit("loaded",void 0,!1)}))}setupMutationObserver(){var v=this,C={attributes:!0,attributeOldValue:!0},w=new MutationObserver(function(E){var S;for(S=0;S<E.length;S++)if(E[S].type==="attributes"){var I=E[S].attributeName,T=window.HTMLElement.prototype.getAttribute.call(v,I),k=E[S].oldValue;v.attributeChangedCallback(I,k,T)}});w.observe(this,C)}getChildren(){return Array.prototype.slice.call(this.children,0)}updateMixins(v,C){var w=y.newMixinIdArray,_=y.oldMixinIdArray,E=y.mixinIds,S,I,T;for(w.length=0,_.length=0,I=v?h.split(v.trim(),/\s+/):w,T=C?h.split(C.trim(),/\s+/):_,E.newMixinIds=I,E.oldMixinIds=T,S=0;S<T.length;S++)I.indexOf(T[S])===-1&&this.unregisterMixin(T[S]);for(this.computedMixinStr="",this.mixinEls.length=0,S=0;S<I.length;S++)this.registerMixin(I[S]);return this.computedMixinStr&&(this.computedMixinStr=this.computedMixinStr.trim(),window.HTMLElement.prototype.setAttribute.call(this,"mixin",this.computedMixinStr)),I.length===0&&window.HTMLElement.prototype.removeAttribute.call(this,"mixin"),E}registerMixin(v){var C,w,_,E=document.getElementById(v);if(!E){f("No mixin was found with id `%s`",v);return}if(_=E.getAttribute("mixin"),_)for(C=h.split(_.trim(),/\s+/),w=0;w<C.length;w++)this.registerMixin(C[w]);this.computedMixinStr=this.computedMixinStr+" "+E.id,this.mixinEls.push(E)}setAttribute(v,C){v==="mixin"&&this.updateMixins(C),window.HTMLElement.prototype.setAttribute.call(this,v,C)}unregisterMixin(v){var C,w=this.mixinEls,_;for(C=0;C<w.length;++C)if(_=w[C],v===_.id){w.splice(C,1);break}}emit(v,C,w,_){var E=y.evtData;w===void 0&&(w=!0),E.bubbles=!!w,E.detail=C,_&&(E=h.extend({},_,E)),this.dispatchEvent(new CustomEvent(v,E))}}y.evtData={},y.newMixinIdArray=[],y.oldMixinIdArray=[],y.mixinIds={},customElements.define("a-node",y),c.exports.ANode=y,c.exports.knownTags=M},"./src/core/component.js":(c,d,u)=>{var h=u("./src/core/schema.js"),p=u("./src/core/scene/scenes.js"),f=u("./src/core/system.js"),M=u("./src/utils/index.js"),g=c.exports.components={},y=h.parseProperty,b=h.process,v=h.isSingleProperty,C=h.stringifyProperties,w=h.stringifyProperty,_=M.styleParser,E=M.debug("core:component:warn"),S=document.currentScript,I=new RegExp("[A-Z]+"),T={},k=Object.freeze({}),D=[],N={get:function(J,Z){return J.getComputedPropertyValue(Z)},set:function(J,Z,j){return Z in J.schema?J.recomputeProperty(Z,j):j!==void 0&&J.handleUnknownProperty(Z,j),!0}},P=c.exports.Component=function(J,Z,j){var W=this;if(this.sceneOnly&&!J.isScene)throw new Error("Component `"+this.name+"` can only be applied to <a-scene>");if(j&&!this.multiple)throw new Error("Trying to initialize multiple components of type `"+this.name+"`. There can only be one component of this type per entity.");this.el=J,this.id=j,this.attrName=this.name+(j?"__"+j:""),this.evtDetail={id:this.id,name:this.name},this.initialized=!1,this.el.components[this.attrName]=this,this.objectPool=T[this.name];var et=this.events;this.events={},F(this,et),this.attrValue=void 0,this.isObjectBased?(this.data=this.objectPool.use(),M.objectPool.removeUnusedKeys(this.data,this.schema),this.oldData=this.objectPool.use(),M.objectPool.removeUnusedKeys(this.oldData,this.schema),this.attrValueProxy=new Proxy(this,N)):(this.data=void 0,this.oldData=void 0,this.attrValueProxy=void 0),this.deferUnknownPropertyWarnings=!!this.updateSchema,this.silenceUnknownPropertyWarnings=!1,this.throttledEmitComponentChanged=M.throttleLeadingAndTrailing(function(){J.emit("componentchanged",W.evtDetail,!1)},200),this.updateProperties(Z,!0)};P.prototype={schema:{},init:function(){},events:{},update:function(J){},updateSchema:void 0,tick:void 0,tock:void 0,play:function(){},pause:function(){},remove:function(){},stringify:function(J){var Z=this.schema;return typeof J=="string"?J:this.isSingleProperty?w(J,Z):(J=C(J,Z),_.stringify(J))},flushToDOM:function(J){var Z=J?this.data:this.attrValue;Z!=null&&window.HTMLElement.prototype.setAttribute.call(this.el,this.attrName,this.stringify(Z))},updateProperties:function(J,Z){var j=this.el;this.updateData(J,Z),!(!j.hasLoaded&&!j.isLoading)&&(this.initialized?this.callUpdateHandler():this.initComponent())},initComponent:function(){var J=this.el,Z;J.initializingComponents[this.name]||(J.initializingComponents[this.name]=!0,this.init(),this.initialized=!0,delete J.initializingComponents[this.name],Z=this.isObjectBased?k:void 0,this.dataChanged=!1,this.storeOldData(),this.update(Z),J.isPlaying&&this.play(),J.emit("componentinitialized",this.evtDetail,!1))},updateData:function(J,Z){if(this.isSingleProperty){this.recomputeProperty(void 0,J);return}Z?(M.objectPool.clearObject(this.attrValue),this.recomputeData(J),this.schemaChangeRequired=!!this.updateSchema):typeof J=="string"?_.parse(J,this.attrValueProxy):M.extend(this.attrValueProxy,J),this.updateSchemaIfNeeded(J)},updateSchemaIfNeeded:function(J){if(!this.schemaChangeRequired||!this.updateSchema){for(var Z=0;Z<D.length;Z++)E("Unknown property `"+D[Z]+"` for component `"+this.name+"`.");D.length=0;return}D.length=0,this.updateSchema(this.data),M.objectPool.removeUnusedKeys(this.data,this.schema),this.silenceUnknownPropertyWarnings=!0,this.recomputeData(J),this.silenceUnknownPropertyWarnings=!1,this.schemaChangeRequired=!1},callUpdateHandler:function(){if(!(!this.isPositionRotationScale&&!this.dataChanged)){this.dataChanged=!1;var J=this.oldData;this.oldDataInUse=!0,this.update(J),J!==this.oldData&&this.objectPool.recycle(J),this.oldDataInUse=!1,this.storeOldData(),this.throttledEmitComponentChanged()}},handleMixinUpdate:function(){this.recomputeData(),this.updateSchemaIfNeeded(),this.callUpdateHandler()},resetProperty:function(J){!this.isSingleProperty&&!(J in this.schema)||(J?this.attrValue[J]=void 0:(this.isObjectBased&&this.objectPool.recycle(this.attrValue),this.attrValue=void 0),this.recomputeProperty(J,void 0),this.updateSchemaIfNeeded(),this.callUpdateHandler())},extendSchema:function(J){var Z;Z=M.extend({},g[this.name].schema),M.extend(Z,J),this.schema=b(Z),this.el.emit("schemachanged",this.evtDetail)},getComputedPropertyValue:function(J){var Z=this.el.mixinEls,j=this.attrValue&&J?this.attrValue[J]:this.attrValue;if(j!==void 0)return j;for(var W=Z.length-1;W>=0;W--){var et=Z[W].getAttribute(this.attrName);if(!(et===null||J&&!(J in et)))return J?et[J]:et}var dt=J?this.schema[J].default:this.schema.default;return dt},recomputeProperty:function(J,Z){var j=J?this.schema[J]:this.schema;if(Z!=null){this.attrValue===void 0&&this.isObjectBased&&(this.attrValue=this.objectPool.use());var W=J?this.attrValue[J]:this.attrValue;W=j.isCacheable?y(Z,j,W):Z,typeof W=="string"&&(W=Z===""?void 0:Z),J?this.attrValue[J]=W:this.attrValue=W}this.oldDataInUse&&(this.oldData=this.objectPool.use(),M.objectPool.removeUnusedKeys(this.oldData,this.schema),this.storeOldData(),this.oldDataInUse=!1);var et=J?this.oldData[J]:this.oldData,dt=J?this.data[J]:this.data,ht=y(this.getComputedPropertyValue(J),j,dt);return j.type==="array"&&!J&&(ht=M.clone(ht)),j.equals(ht,et)||(this.dataChanged=!0,j.schemaChange&&(this.schemaChangeRequired=!0)),J?this.data[J]=ht:this.data=ht,ht},handleUnknownProperty:function(J,Z){this.attrValue===void 0&&(this.attrValue=this.objectPool.use()),this.attrValue[J]=Z,this.silenceUnknownPropertyWarnings||(this.deferUnknownPropertyWarnings?D.push(J):this.silenceUnknownPropertyWarnings||E("Unknown property `"+J+"` for component `"+this.name+"`."))},storeOldData:function(){if(!this.isObjectBased){this.oldData=this.data;return}if(this.isSingleProperty){this.oldData=y(this.data,this.schema,this.oldData);return}var J;for(J in this.schema)this.data[J]!==void 0&&(this.data[J]&&typeof this.data[J]=="object"?this.oldData[J]=y(this.data[J],this.schema[J],this.oldData[J]):this.oldData[J]=this.data[J])},recomputeData:function(J){var Z;if(this.isSingleProperty){this.recomputeProperty(void 0,J);return}if(J&&typeof J=="object")for(Z in this.schema)this.attrValueProxy[Z]=J[Z];else for(Z in this.schema)this.attrValueProxy[Z]=void 0;typeof J=="string"&&_.parse(J,this.attrValueProxy);for(Z in this.attrValue)this.attrValue[Z]!==void 0&&D.indexOf(Z)!==-1&&(Z in this.schema||E("Unknown property `"+Z+"` for component `"+this.name+"`."))},eventsAttach:function(){var J;this.eventsDetach();for(J in this.events)this.el.addEventListener(J,this.events[J])},eventsDetach:function(){var J;for(J in this.events)this.el.removeEventListener(J,this.events[J])},destroy:function(){this.objectPool.recycle(this.attrValue),this.objectPool.recycle(this.data),this.objectPool.recycle(this.oldData),this.attrValue=this.data=this.oldData=this.attrValueProxy=void 0}};function F(J,Z){var j;for(j in Z)J.events[j]=Z[j].bind(J)}if(window.debug)var U=c.exports.registrationOrderWarnings={};c.exports.registerComponent=function(J,Z){var j,W={},et,dt;if(document.currentScript&&document.currentScript!==S&&p.forEach(function(St){St.hasLoaded||document.currentScript.compareDocumentPosition(St)!==Node.DOCUMENT_POSITION_FOLLOWING&&(E("The component `"+J+"` was registered in a <script> tag after the scene. Component <script> tags in an HTML file should be declared *before* the scene such that the component is available to entities during scene initialization."),window.debug&&(U[J]=!0))}),I.test(J)===!0&&E("The component name `"+J+"` contains uppercase characters, but HTML will ignore the capitalization of attribute names. Change the name to be lowercase: `"+J.toLowerCase()+"`"),J.indexOf("__")!==-1)throw new Error("The component name `"+J+"` is not allowed. The sequence __ (double underscore) is reserved to specify an id for multiple components of the same type");if(Object.keys(Z).forEach(function(st){W[st]={value:Z[st],writable:!0}}),g[J])throw new Error("The component `"+J+"` has been already registered. Check that you are not loading two versions of the same component or two different components of the same name.");j=function(st,St,At){P.call(this,st,St,At)},j.prototype=Object.create(P.prototype,W),j.prototype.name=J,j.prototype.isPositionRotationScale=J==="position"||J==="rotation"||J==="scale",j.prototype.constructor=j,j.prototype.system=f&&f.systems[J],j.prototype.play=G(j.prototype.play),j.prototype.pause=z(j.prototype.pause),et=M.extend(b(j.prototype.schema,j.prototype.name)),j.prototype.isSingleProperty=dt=v(j.prototype.schema),j.prototype.isObjectBased=!dt||dt&&(H(et.default)||H(y(void 0,et))),T[J]=M.objectPool.createPool(),g[J]={Component:j,dependencies:j.prototype.dependencies,before:j.prototype.before,after:j.prototype.after,isSingleProperty:j.prototype.isSingleProperty,isObjectBased:j.prototype.isObjectBased,multiple:j.prototype.multiple,sceneOnly:j.prototype.sceneOnly,name:J,schema:et,stringify:j.prototype.stringify};for(var ht=0;ht<p.length;ht++)p[ht].emit("componentregistered",{name:J},!1);return j};function V(J){return J.tick||J.tock}function z(J){return function(){var j=this.el.sceneEl;this.isPlaying&&(J.call(this),this.isPlaying=!1,this.eventsDetach(),V(this)&&j.removeBehavior(this))}}function G(J){return function(){var j=this.el.sceneEl,W=this.el.isPlaying&&!this.isPlaying;!this.initialized||!W||(J.call(this),this.isPlaying=!0,this.eventsAttach(),V(this)&&j.addBehavior(this))}}function H(J){return J&&J.constructor===Object&&!(J instanceof window.HTMLElement)}},"./src/core/geometry.js":(c,d,u)=>{var h=u("./src/core/schema.js"),p=h.process,f=c.exports.geometries={},M=c.exports.geometryNames=[],g=u("./src/lib/three.js"),y=c.exports.Geometry=function(){};y.prototype={schema:{},init:function(b){return this.geometry=new g.BufferGeometry,this.geometry},update:function(b){}},c.exports.registerGeometry=function(b,v){var C,w={};if(Object.keys(v).forEach(function(E){w[E]={value:v[E],writable:!0}}),f[b])throw new Error("The geometry `"+b+"` has been already registered");return C=function(){y.call(this)},C.prototype=Object.create(y.prototype,w),C.prototype.name=b,C.prototype.constructor=C,f[b]={Geometry:C,schema:p(C.prototype.schema)},M.push(b),C}},"./src/core/propertyTypes.js":(c,d,u)=>{var h=u("./src/utils/coordinates.js"),p=u("./node_modules/debug/src/browser.js"),f=p("core:propertyTypes:warn"),M=c.exports.propertyTypes={},g=/[,> .[\]:]/,y=/url\((.+)\)/;b("audio","",_),b("array",[],v,C,w),b("asset","",_),b("boolean",!1,T),b("color","#FFF"),b("int",0,k),b("number",0,D),b("map","",_),b("model","",_),b("selector",null,N,F,I,!1),b("selectorAll",null,P,U,w,!1),b("src","",V),b("string",""),b("time",0,k),b("vec2",{x:0,y:0},z,h.stringify,h.equals),b("vec3",{x:0,y:0,z:0},z,h.stringify,h.equals),b("vec4",{x:0,y:0,z:0,w:1},z,h.stringify,h.equals);function b(J,Z,j,W,et,dt){if(J in M)throw new Error("Property type "+J+" is already registered.");M[J]={default:Z,parse:j||E,stringify:W||S,equals:et||I,isCacheable:dt!==!1}}c.exports.registerPropertyType=b;function v(J){if(Array.isArray(J))return J;if(!J||typeof J!="string")return[];return J.split(",").map(Z);function Z(j){return j.trim()}}function C(J){return J.join(", ")}function w(J,Z){if(!Array.isArray(J)||!Array.isArray(Z))return J===Z;if(J.length!==Z.length)return!1;for(var j=0;j<J.length;j++)if(J[j]!==Z[j])return!1;return!0}function _(J){var Z,j;if(typeof J!="string")return J;if(j=J.match(y),j)return j[1];if(J.charAt(0)==="#"){if(Z=document.getElementById(J.substring(1)),Z)return Z.tagName==="CANVAS"||Z.tagName==="VIDEO"||Z.tagName==="IMG"?Z:Z.getAttribute("src");f('"'+J+'" asset not found.');return}return J}function E(J){return J}function S(J){return J===null?"null":J.toString()}function I(J,Z){return J===Z}function T(J){return J!=="false"&&J!==!1}function k(J){return parseInt(J,10)}function D(J){return parseFloat(J,10)}function N(J){return J?typeof J!="string"?J:J[0]==="#"&&!g.test(J)?document.getElementById(J.substring(1)):document.querySelector(J):null}function P(J){return J?typeof J!="string"?J:Array.prototype.slice.call(document.querySelectorAll(J),0):null}function F(J){return J.getAttribute?"#"+J.getAttribute("id"):S(J)}function U(J){return J instanceof Array?J.map(function(Z){return"#"+Z.getAttribute("id")}).join(", "):S(J)}function V(J){return f("`src` property type is deprecated. Use `asset` instead."),_(J)}function z(J,Z,j){return h.parse(J,Z,j)}function G(J,Z){return J==="audio"&&typeof Z!="string"||J==="array"&&!Array.isArray(Z)||J==="asset"&&typeof Z!="string"||J==="boolean"&&typeof Z!="boolean"||J==="color"&&typeof Z!="string"||J==="int"&&typeof Z!="number"||J==="number"&&typeof Z!="number"||J==="map"&&typeof Z!="string"||J==="model"&&typeof Z!="string"||J==="selector"&&typeof Z!="string"&&Z!==null||J==="selectorAll"&&typeof Z!="string"&&Z!==null||J==="src"&&typeof Z!="string"||J==="string"&&typeof Z!="string"||J==="time"&&typeof Z!="number"?!1:J==="vec2"?H(Z,2):J==="vec3"?H(Z,3):J==="vec4"?H(Z,4):!0}c.exports.isValidDefaultValue=G;function H(J,Z){if(J===null)return!0;if(typeof J!="object"||Object.keys(J).length!==Z)return!1;var j=J.x,W=J.y,et=J.z,dt=J.w;return!(typeof j!="number"||typeof W!="number"||Z>2&&typeof et!="number"||Z>3&&typeof dt!="number")}c.exports.isValidDefaultCoordinate=H},"./src/core/readyState.js":c=>{c.exports.canInitializeElements=!1;function d(){if(document.readyState==="complete"){u();return}document.addEventListener("readystatechange",function h(){document.readyState==="complete"&&(document.removeEventListener("readystatechange",h),u())})}c.exports.waitForDocumentReadyState=d;function u(){c.exports.canInitializeElements||(c.exports.canInitializeElements=!0,setTimeout(function(){document.dispatchEvent(new CustomEvent("aframeready"))}))}c.exports.emitReady=u},"./src/core/scene/a-scene.js":(c,d,u)=>{var h=u("./src/core/scene/metaTags.js").inject,p=u("./src/core/scene/wakelock.js"),f=u("./src/core/scene/loadingScreen.js"),M=u("./src/core/scene/scenes.js"),g=u("./src/core/system.js").systems,y=u("./src/core/component.js").components,b=u("./src/lib/three.js"),v=u("./src/utils/index.js"),C=v.debug("core:a-scene:warn"),w=u("./src/core/a-entity.js").AEntity,_=u("./src/core/a-node.js").ANode,E=u("./src/core/scene/postMessage.js"),S=v.device.isIOS(),I=v.device.isMobile(),T=v.device.isWebXRAvailable;S&&u("./src/utils/ios-orientationchange-blank-bug.js");class k extends w{constructor(){var H;super(),H=this,H.clock=new b.Clock,H.isIOS=S,H.isMobile=I,H.hasWebXR=T,H.isAR=!1,H.isScene=!0,H.object3D=new b.Scene,H.object3D.onAfterRender=function(J,Z,j){H.isPlaying&&H.tock(H.time,H.delta,j)},H.resize=H.resize.bind(H),H.render=H.render.bind(H),H.systems={},H.systemNames=[],H.time=H.delta=0,H.usedOfferSession=!1,H.componentOrder=[],H.behaviors={},H.hasLoaded=!1,H.isPlaying=!1,H.originalHTML=H.innerHTML}addFullScreenStyles(){document.documentElement.classList.add("a-fullscreen")}removeFullScreenStyles(){document.documentElement.classList.remove("a-fullscreen")}doConnectedCallback(){var H=this,J=this.hasAttribute("embedded");this.setAttribute("inspector",""),this.setAttribute("keyboard-shortcuts",""),this.setAttribute("screenshot",""),this.setAttribute("xr-mode-ui",""),this.setAttribute("device-orientation-permission-ui",""),super.doConnectedCallback(),z(this),this.setupRenderer(),f.setup(this,P),this.resize(),J||this.addFullScreenStyles(),E(this),h(this),p(this),this.onVRPresentChangeBound=this.onVRPresentChange.bind(this),window.addEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),this.enterVRBound=function(){H.enterVR()},this.exitVRBound=function(){H.exitVR()},this.exitVRTrueBound=function(){H.exitVR(!0)},this.pointerRestrictedBound=function(){H.pointerRestricted()},this.pointerUnrestrictedBound=function(){H.pointerUnrestricted()},H.hasWebXR||(window.addEventListener("vrdisplaydeactivate",this.exitVRBound),window.addEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.addEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.addEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound)),window.addEventListener("sessionend",this.resize),this.addEventListener("cameraready",function(){H.attachedCallbackPostCamera()}),this.initSystems(),this.componentOrder=D(y,this.componentOrder),this.addEventListener("componentregistered",function(){H.componentOrder=D(y,H.componentOrder)}),this.hasWebXR&&navigator.xr&&navigator.xr.addEventListener&&navigator.xr.addEventListener("sessiongranted",function(){H.enterVR()})}attachedCallbackPostCamera(){var H,J=this;window.addEventListener("load",H),window.addEventListener("resize",function(){J.isIOS?setTimeout(J.resize,100):J.resize()}),this.play(),M.push(this)}initSystems(){var H;this.initSystem("camera");for(H in g)H!=="camera"&&this.initSystem(H)}initSystem(H){this.systems[H]||(this.systems[H]=new g[H](this),this.systemNames.push(H))}disconnectedCallback(){var H=M.indexOf(this);super.disconnectedCallback(),M.splice(H,1),window.removeEventListener("vrdisplaypresentchange",this.onVRPresentChangeBound),window.removeEventListener("vrdisplayactivate",this.enterVRBound),window.removeEventListener("vrdisplaydeactivate",this.exitVRBound),window.removeEventListener("vrdisplayconnect",this.enterVRBound),window.removeEventListener("vrdisplaydisconnect",this.exitVRTrueBound),window.removeEventListener("vrdisplaypointerrestricted",this.pointerRestrictedBound),window.removeEventListener("vrdisplaypointerunrestricted",this.pointerUnrestrictedBound),window.removeEventListener("sessionend",this.resize),this.renderer.dispose()}addBehavior(H){var J,Z=this.behaviors[H.name],j;Z||(Z=this.behaviors[H.name]={tick:{inUse:!1,array:[],markedForRemoval:[]},tock:{inUse:!1,array:[],markedForRemoval:[]}});for(j in Z)if(H[j]){if(J=Z[j],J.inUse){var W=J.markedForRemoval.indexOf(H);W!==-1&&J.markedForRemoval.splice(W,1)}J.array.indexOf(H)===-1&&J.array.push(H)}}getPointerLockElement(){return document.pointerLockElement}checkHeadsetConnected(){return v.device.checkHeadsetConnected()}enterAR(){var H;if(!this.hasWebXR)throw H="Failed to enter AR mode, WebXR not supported.",new Error(H);if(!v.device.checkARSupport())throw H="Failed to enter AR, WebXR immersive-ar mode not supported in your browser or device.",new Error(H);return this.enterVR(!0)}enterVR(H,J){var Z=this,j,W=Z.renderer.xr,et;if(J&&(!navigator.xr||!navigator.xr.offerSession))return Promise.resolve("OfferSession is not supported.");if(Z.usedOfferSession&&J)return Promise.resolve("OfferSession was already called.");if(this.is("vr-mode"))return Promise.resolve("Already in VR.");if(this.checkHeadsetConnected()||this.isMobile){var dt=Z.getAttribute("renderer");if(W.enabled=!0,this.hasWebXR){this.xrSession&&this.xrSession.removeEventListener("end",this.exitVRBound);var ht=this.sceneEl.systems.webxr.sessionReferenceSpaceType;W.setReferenceSpaceType(ht);var st=H?"immersive-ar":"immersive-vr";return et=this.sceneEl.systems.webxr.sessionConfiguration,new Promise(function(gt,yt){var lt=J?navigator.xr.offerSession.bind(navigator.xr):navigator.xr.requestSession.bind(navigator.xr);Z.usedOfferSession|=J,lt(st,et).then(function(kt){J&&(Z.usedOfferSession=!1),W.layersEnabled=et.requiredFeatures.indexOf("layers")!==-1,W.setSession(kt).then(function(){W.setFoveation(dt.foveationLevel),Z.xrSession=kt,Z.systems.renderer.setWebXRFrameRate(kt),kt.addEventListener("end",Z.exitVRBound),At(gt)})},function(kt){var Jt=st==="immersive-ar",Gt=Jt?"AR":"VR";yt(new Error("Failed to enter "+Gt+" mode (`requestSession`)",{cause:kt}))})})}else{if(j=v.device.getVRDisplay(),W.setDevice(j),j.isPresenting&&!window.hasNativeWebVRImplementation)return At(),Promise.resolve();var St={highRefreshRate:dt.highRefreshRate};return j.requestPresent([{source:this.canvas,attributes:St}]).then(At,xt)}}return At(),Promise.resolve();function At(gt){var yt;window.hasNativeWebVRImplementation&&!window.hasNativeWebXRImplementation&&(yt=new CustomEvent("vrdisplaypresentchange",{detail:{display:v.device.getVRDisplay()}}),window.dispatchEvent(yt)),H?Z.addState("ar-mode"):Z.addState("vr-mode"),Z.emit("enter-vr",{target:Z}),!Z.hasWebXR&&Z.isMobile&&screen.orientation&&screen.orientation.lock&&screen.orientation.lock("landscape"),Z.addFullScreenStyles(),!Z.isMobile&&!Z.checkHeadsetConnected()&&U(Z.canvas),Z.resize(),gt&&gt()}function xt(gt){throw Z.removeState("vr-mode"),gt&&gt.message?new Error("Failed to enter VR mode (`requestPresent`): "+gt.message):new Error("Failed to enter VR mode (`requestPresent`).")}}exitVR(){var H=this,J,Z=this.renderer.xr;if(!this.is("vr-mode")&&!this.is("ar-mode"))return Promise.resolve("Not in immersive mode.");if(this.checkHeadsetConnected()||this.isMobile){if(Z.enabled=!1,J=v.device.getVRDisplay(),this.hasWebXR)this.xrSession.removeEventListener("end",this.exitVRBound),this.xrSession.end().then(function(){},function(){}),this.xrSession=void 0;else if(J.isPresenting)return J.exitPresent().then(j,W)}else V();return j(),Promise.resolve();function j(){H.removeState("vr-mode"),H.removeState("ar-mode"),H.isMobile&&screen.orientation&&screen.orientation.unlock&&screen.orientation.unlock(),H.hasAttribute("embedded")&&H.removeFullScreenStyles(),H.resize(),H.isIOS&&v.forceCanvasResizeSafariMobile(H.canvas),H.renderer.setPixelRatio(window.devicePixelRatio),H.emit("exit-vr",{target:H})}function W(et){throw et&&et.message?new Error("Failed to exit VR mode (`exitPresent`): "+et.message):new Error("Failed to exit VR mode (`exitPresent`).")}}pointerRestricted(){if(this.canvas){var H=this.getPointerLockElement();H&&H!==this.canvas&&document.exitPointerLock&&document.exitPointerLock(),this.canvas.requestPointerLock&&this.canvas.requestPointerLock()}}pointerUnrestricted(){var H=this.getPointerLockElement();H&&H===this.canvas&&document.exitPointerLock&&document.exitPointerLock()}onVRPresentChange(H){var J=H.display||H.detail.display;if(J&&J.isPresenting){this.enterVR();return}this.exitVR()}getAttribute(H){var J=this.systems[H];return J?J.data:w.prototype.getAttribute.call(this,H)}getDOMAttribute(H){var J=this.systems[H];return J?J.data:w.prototype.getDOMAttribute.call(this,H)}setAttribute(H,J,Z){if(g[H]){_.prototype.setAttribute.call(this,H,J);var j=this.systems[H];j&&j.updateProperties(J);return}w.prototype.setAttribute.call(this,H,J,Z)}removeBehavior(H){var J,Z,j=this.behaviors[H.name],W;for(Z in j)H[Z]&&(J=j[Z],W=J.array.indexOf(H),W!==-1&&(J.inUse?J.markedForRemoval.indexOf(H)===-1&&J.markedForRemoval.push(H):(J.array[W]=J.array[J.array.length-1],J.array.pop())))}resize(){var H=this.camera,J=this.canvas,Z,j,W,et=this.renderer.xr.isPresenting;j=this.renderer.xr.enabled&&et,!(!H||!J||this.is("vr-mode")&&(this.isMobile||j))&&(Z=this.getAttribute("embedded")&&!this.is("vr-mode"),W=P(J,Z,this.maxCanvasSize,this.is("vr-mode")),H.aspect=W.width/W.height,H.updateProjectionMatrix(),this.renderer.setSize(W.width,W.height,!1),this.emit("rendererresize",null,!1))}setupRenderer(){var H=this,J,Z,j,W;W={alpha:!0,antialias:!I,canvas:this.canvas,logarithmicDepthBuffer:!1,powerPreference:"high-performance"},this.maxCanvasSize={height:-1,width:-1},this.hasAttribute("renderer")&&(j=this.getAttribute("renderer"),Z=v.styleParser.parse(j),Z.precision&&(W.precision=Z.precision+"p"),Z.antialias&&Z.antialias!=="auto"&&(W.antialias=Z.antialias==="true"),Z.logarithmicDepthBuffer&&Z.logarithmicDepthBuffer!=="auto"&&(W.logarithmicDepthBuffer=Z.logarithmicDepthBuffer==="true"),Z.alpha&&(W.alpha=Z.alpha==="true"),Z.stencil&&(W.stencil=Z.stencil==="true"),Z.multiviewStereo&&(W.multiviewStereo=Z.multiviewStereo==="true"),this.maxCanvasSize={width:Z.maxCanvasWidth?parseInt(Z.maxCanvasWidth):this.maxCanvasSize.width,height:Z.maxCanvasHeight?parseInt(Z.maxCanvasHeight):this.maxCanvasSize.height}),J=this.renderer=new b.WebGLRenderer(W),J.setPixelRatio(window.devicePixelRatio),this.camera&&J.xr.setPoseTarget(this.camera.el.object3D),this.addEventListener("camera-set-active",function(){J.xr.setPoseTarget(H.camera.el.object3D)})}play(){var H=this,J=this;if(this.renderStarted){w.prototype.play.call(this);return}this.addEventListener("loaded",function(){var Z=this.renderer,j,W=this.renderer.xr;w.prototype.play.call(this),!J.renderStarted&&(J.resize(),J.renderer&&(window.performance&&window.performance.mark("render-started"),f.remove(),j=v.device.getVRDisplay(),j&&j.isPresenting&&(W.setDevice(j),W.enabled=!0,J.enterVR()),Z.setAnimationLoop(this.render),J.renderStarted=!0,J.emit("renderstart")))}),setTimeout(function(){w.prototype.load.call(H)})}updateComponent(H){H in g||w.prototype.updateComponent.apply(this,arguments)}tick(H,J){var Z,j=this.systems;for(this.callComponentBehaviors("tick",H,J),Z=0;Z<this.systemNames.length;Z++)j[this.systemNames[Z]].tick&&j[this.systemNames[Z]].tick(H,J)}tock(H,J,Z){var j,W=this.systems;for(this.callComponentBehaviors("tock",H,J),j=0;j<this.systemNames.length;j++)W[this.systemNames[j]].tock&&W[this.systemNames[j]].tock(H,J,Z)}render(H,J){var Z=this.renderer;this.frame=J,this.delta=this.clock.getDelta()*1e3,this.time=this.clock.elapsedTime*1e3,this.isPlaying&&this.tick(this.time,this.delta);var j=null;this.is("ar-mode")&&(j=this.object3D.background,this.object3D.background=null),Z.render(this.object3D,this.camera),j&&(this.object3D.background=j)}callComponentBehaviors(H,J,Z){for(var j,W=0;W<this.componentOrder.length;W++){var et=this.behaviors[this.componentOrder[W]];if(et){var dt=et[H];for(dt.inUse=!0,j=0;j<dt.array.length;j++)dt.array[j].isPlaying&&dt.array[j][H](J,Z);for(dt.inUse=!1,j=0;j<dt.markedForRemoval.length;j++)this.removeBehavior(dt.markedForRemoval[j]);dt.markedForRemoval.length=0}}}}function D(G,H){var J={},Z,j,W=H||[];W.length=0;for(j in G){var et=G[j];if(et!==void 0){var dt=et.before?et.before.slice(0):[],ht=et.after?et.after.slice(0):[];J[j]={before:dt,after:ht,visited:!1,done:!1}}}for(j in J)for(Z=0;Z<J[j].before.length;Z++){var st=J[j].before[Z];if(!(st in J)){C("Invalid ordering constraint, no component named `"+st+"` referenced by `"+j+"`");continue}J[st].after.push(j)}function St(At){if(!(!(At in J)||J[At].done)){if(J[At].visited){C("Cycle detected, ignoring one or more before/after constraints. The resulting order might be incorrect");return}J[At].visited=!0;for(var xt=0;xt<J[At].after.length;xt++){var gt=J[At].after[xt];gt in J||C("Invalid before/after constraint, no component named `"+gt+"` referenced in `"+At+"`"),St(gt)}J[At].done=!0,W.push(At)}}for(j in J)J[j].done||St(j);return W}c.exports.determineComponentBehaviorOrder=D;function N(G,H){var J,Z=window.devicePixelRatio;return!H||H.width===-1&&H.height===-1||G.width*Z<H.width&&G.height*Z<H.height||(J=G.width/G.height,G.width*Z>H.width&&H.width!==-1&&(G.width=Math.round(H.width/Z),G.height=Math.round(H.width/J/Z)),G.height*Z>H.height&&H.height!==-1&&(G.height=Math.round(H.height/Z),G.width=Math.round(H.height*J/Z))),G}customElements.define("a-scene",k);function P(G,H,J,Z){if(!G.parentElement)return{height:0,width:0};if(H){var j;return j={height:G.parentElement.offsetHeight,width:G.parentElement.offsetWidth},N(j,J)}return F(J,Z)}function F(G,H){var J;return J={height:document.body.offsetHeight,width:document.body.offsetWidth},H?J:N(J,G)}function U(G){var H=G.requestFullscreen||G.webkitRequestFullscreen||G.mozRequestFullScreen||G.msRequestFullscreen;H.apply(G,[{navigationUI:"hide"}])}function V(){var G=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement;G&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function z(G){var H;H=document.createElement("canvas"),H.classList.add("a-canvas"),H.dataset.aframeCanvas=!0,G.appendChild(H),document.addEventListener("fullscreenchange",J),document.addEventListener("mozfullscreenchange",J),document.addEventListener("webkitfullscreenchange",J),document.addEventListener("MSFullscreenChange",J),H.addEventListener("touchmove",function(Z){Z.preventDefault()},{passive:!1}),G.canvas=H,G.emit("render-target-loaded",{target:H}),setTimeout(G.resize.bind(G),0);function J(){var Z=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement;Z||G.exitVR(),document.activeElement.blur(),document.body.focus()}}c.exports.setupCanvas=z,c.exports.AScene=k},"./src/core/scene/loadingScreen.js":(c,d,u)=>{var h=u("./src/utils/index.js"),p=h.styleParser,f,M,g,y="loading-screen",b="a-loader-title";c.exports.setup=function(_,E){f=_,g=E;var S=f.hasAttribute(y)?p.parse(f.getAttribute(y)):void 0,I=S&&S.dotsColor||"white",T=S&&S.backgroundColor||"#24CAFF",k=S===void 0||S.enabled==="true"||S.enabled===void 0,D,N,P,F,U,V,z,G,H,J;k&&(D=new THREE.Scene,N=new THREE.SphereGeometry(.2,36,18,0,2*Math.PI,0,Math.PI),P=new THREE.MeshBasicMaterial({color:I}),F=new THREE.Mesh(N,P),U=F.clone(),V=F.clone(),z=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,5e-4,1e4),G=new THREE.Clock,H=0,J=function(){f.renderer.render(D,z),H=G.getElapsedTime()%4,F.visible=H>=1,U.visible=H>=2,V.visible=H>=3},D.background=new THREE.Color(T),D.add(z),F.position.set(-1,0,-15),U.position.set(0,0,-15),V.position.set(1,0,-15),z.add(F),z.add(U),z.add(V),C(),setTimeout(function(){f.hasLoaded||(v(z),M.style.display="block",window.addEventListener("resize",function(){v(z)}),f.renderer.setAnimationLoop(J))},200))},c.exports.remove=function(){window.removeEventListener("resize",v),M&&(M.style.display="none")};function v(w){var _=f.hasAttribute("embedded"),E=g(f.canvas,_,f.maxCanvasSize,f.is("vr-mode"));w.aspect=E.width/E.height,w.updateProjectionMatrix(),f.renderer.setSize(E.width,E.height,!1)}function C(){M=document.createElement("div"),M.className=b,M.innerHTML=document.title,M.style.display="none",f.appendChild(M)}},"./src/core/scene/metaTags.js":(c,d,u)=>{var h=u("./src/constants/index.js"),p=u("./src/utils/index.js").extend,f=c.exports.MOBILE_HEAD_TAGS=[g({name:"viewport",content:"width=device-width,initial-scale=1,maximum-scale=1,shrink-to-fit=no,user-scalable=no,minimal-ui,viewport-fit=cover"}),g({name:"mobile-web-app-capable",content:"yes"}),g({name:"theme-color",content:"black"})],M=[g({name:"apple-mobile-web-app-capable",content:"yes"}),g({name:"apple-mobile-web-app-status-bar-style",content:"black"}),y({rel:"apple-touch-icon",href:"https://aframe.io/images/aframe-logo-152.png"})];function g(v){return{tagName:"meta",attributes:v,exists:function(){return document.querySelector('meta[name="'+v.name+'"]')}}}function y(v){return{tagName:"link",attributes:v,exists:function(){return document.querySelector('link[rel="'+v.rel+'"]')}}}c.exports.inject=function(C){var w=document.head,_=w.querySelector("script"),E,S=[];return f.forEach(I),C.isIOS&&M.forEach(I),S;function I(T){!T||T.exists()||(E=b(T),E&&(_?_.parentNode.insertBefore(E,_):w.appendChild(E),S.push(E)))}};function b(v){if(!(!v||!v.tagName)){var C=document.createElement(v.tagName);return C.setAttribute(h.AFRAME_INJECTED,""),p(C,v.attributes)}}},"./src/core/scene/postMessage.js":(c,d,u)=>{var h=u("./src/utils/index.js").isIframed;c.exports=function(M){h()&&window.addEventListener("message",p.bind(M))};function p(f){var M=this;if(f.data)switch(f.data.type){case"vr":switch(f.data.data){case"enter":M.enterVR();break;case"exit":M.exitVR();break}}}},"./src/core/scene/scenes.js":c=>{c.exports=[]},"./src/core/scene/wakelock.js":(c,d,u)=>{var h=u("./vendor/wakelock/wakelock.js");c.exports=function(f){if(f.isMobile){var M=f.wakelock=new h;f.addEventListener("enter-vr",function(){M.request()}),f.addEventListener("exit-vr",function(){M.release()})}}},"./src/core/schema.js":(c,d,u)=>{var h=u("./src/utils/index.js"),p=u("./src/core/propertyTypes.js"),f=h.debug,M=p.isValidDefaultValue,g=p.propertyTypes,y=f("core:schema:warn");function b(_){return"type"in _?typeof _.type=="string":"default"in _}c.exports.isSingleProperty=b,c.exports.process=function(_,E){var S;if(b(_))return v(_,E);for(S in _)_[S]=v(_[S],E);return _};function v(_,E){var S=_.default,I,T,k=_.type;return _.type?_.type==="bool"?k="boolean":_.type==="float"&&(k="number"):S!==void 0&&(typeof S=="boolean"||typeof S=="number")?k=typeof S:Array.isArray(S)?k="array":k="string",T=g[k],T||y("Unknown property type for component `"+E+"`: "+k),I=!!_.parse,_.parse=_.parse||T.parse,_.stringify=_.stringify||T.stringify,_.equals=_.equals||T.equals,_.isCacheable=_.isCacheable===!0||T.isCacheable,_.type=k,"default"in _?!I&&!M(k,S)&&y("Default value `"+S+"` does not match type `"+k+"` in component `"+E+"`"):_.default=T.default,_}c.exports.processPropertyDefinition=v,c.exports.parseProperties=function(){var _=[];return function(E,S,I,T,k){var D,N,P,F;_.length=0;for(N in I?E:S)I&&E[N]===void 0||_.push(N);if(E===null||typeof E!="object")return E;for(N in E)E[N]!==void 0&&!S[N]&&!k&&y("Unknown property `"+N+"` for component/system `"+T+"`.");for(D=0;D<_.length;D++){if(N=_[D],P=S[N],F=E[N],!S[N])return;E[N]=C(F,P)}return E}}();function C(_,E,S){return(_==null||_==="")&&(_=E.default,Array.isArray(_)&&(_=_.slice())),E.parse(_,E.default,S)}c.exports.parseProperty=C,c.exports.stringifyProperties=function(_,E){var S,I,T,k={},D;for(S in _)I=E[S],T=_[S],D=T,typeof D=="object"&&(D=w(T,I),I||y("Unknown component property: "+S)),k[S]=D;return k};function w(_,E){return typeof _!="object"?_:!E||_===null?JSON.stringify(_):E.stringify(_)}c.exports.stringifyProperty=w},"./src/core/shader.js":(c,d,u)=>{var h=u("./src/core/schema.js"),p=h.process,f=c.exports.shaders={},M=c.exports.shaderNames=[],g=u("./src/lib/three.js"),y=u("./src/utils/index.js"),b={array:"v3",color:"v3",int:"i",number:"f",map:"t",time:"f",vec2:"v2",vec3:"v3",vec4:"v4"},v=c.exports.Shader=function(){};v.prototype={schema:{},vertexShader:"void main() {gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);}",fragmentShader:"void main() {gl_FragColor = vec4(1.0, 0.0, 1.0, 1.0);}",init:function(C){return this.uniforms=this.initUniforms(),this.material=new(this.raw?g.RawShaderMaterial:g.ShaderMaterial)({uniforms:this.uniforms,glslVersion:this.raw||this.glsl3?g.GLSL3:null,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader}),this.material},initUniforms:function(){var C,w=this.schema,_={},E;for(C in w)w[C].is==="uniform"&&(E=b[w[C].type],_[C]={type:E,value:void 0});return _},update:function(C){var w,_,E=this.schema,S=this.uniforms;for(w in C)if(!(!E[w]||E[w].is!=="uniform")){if(E[w].type==="map"){if(!S[w]||S[w].value===C[w])continue;_="_texture_"+w,this.setMapOnTextureLoad(S,w,_),y.material.updateMapMaterialFromData(_,w,this,C);continue}S[w].value=this.parseValue(E[w].type,C[w]),S[w].needsUpdate=!0}},parseValue:function(C,w){var _;switch(C){case"vec2":return new g.Vector2(w.x,w.y);case"vec3":return new g.Vector3(w.x,w.y,w.z);case"vec4":return new g.Vector4(w.x,w.y,w.z,w.w);case"color":return _=new g.Color(w),new g.Vector3(_.r,_.g,_.b);default:return w}},setMapOnTextureLoad:function(C,w,_){var E=this;this.el.addEventListener("materialtextureloaded",function(){C[w].value=E.material[_],C[w].needsUpdate=!0})}},c.exports.registerShader=function(C,w){var _,E={};if(Object.keys(w).forEach(function(S){E[S]={value:w[S],writable:!0}}),f[C])throw new Error("The shader "+C+" has already been registered");return _=function(){v.call(this)},_.prototype=Object.create(v.prototype,E),_.prototype.name=C,_.prototype.constructor=_,f[C]={Shader:_,schema:p(_.prototype.schema)},M.push(C),_}},"./src/core/system.js":(c,d,u)=>{var h=u("./src/core/component.js"),p=u("./src/core/schema.js"),f=u("./src/utils/index.js"),M=u("./src/core/readyState.js"),g=p.parseProperties,y=p.parseProperty,b=p.process,v=p.isSingleProperty,C=f.styleParser,w=c.exports.systems={},_=c.exports.System=function(E){var S=h&&h.components[this.name];this.el=E,this.sceneEl=E,S&&(S.Component.prototype.system=this),this.buildData(),this.init(),this.update({})};_.prototype={schema:{},init:function(){},update:function(E){},updateProperties:function(E){var S=this.data;Object.keys(p).length&&(this.buildData(E),this.update(S))},buildData:function(E){var S=this.schema;Object.keys(S).length&&(E=E||window.HTMLElement.prototype.getAttribute.call(this.sceneEl,this.name),v(S)?this.data=y(E,S):this.data=g(C.parse(E)||{},S,!1,this.name))},tick:void 0,tock:void 0,play:function(){},pause:function(){}},c.exports.registerSystem=function(E,S){var I,T,k={},D=f.findAllScenes(document);if(Object.keys(S).forEach(function(N){k[N]={value:S[N],writable:!0}}),w[E])throw new Error("The system `"+E+"` has been already registered. Check that you are not loading two versions of the same system or two different systems of the same name.");if(T=function(N){_.call(this,N)},T.prototype=Object.create(_.prototype,k),T.prototype.name=E,T.prototype.constructor=T,T.prototype.schema=f.extend(b(T.prototype.schema)),w[E]=T,M.canInitializeElements)for(I=0;I<D.length;I++)D[I].initSystem(E)}},"./src/extras/components/index.js":(c,d,u)=>{u("./src/extras/components/pivot.js")},"./src/extras/components/pivot.js":(c,d,u)=>{var h=u("./src/core/component.js").registerComponent,p=u("./src/lib/three.js"),f=new p.Vector3,M=new p.Vector3;h("pivot",{dependencies:["position"],schema:{type:"vec3"},init:function(){var g=this.data,y=this.el,b=y.object3D.parent,v=y.object3D,C=new p.Group;f.copy(v.position),M.copy(v.rotation),b.remove(v),C.add(v),b.add(C),y.object3D=C,v.position.set(-1*g.x,-1*g.y,-1*g.z),C.position.set(g.x+f.x,g.y+f.y,g.z+f.z),C.rotation.copy(v.rotation),v.rotation.set(0,0,0)}})},"./src/extras/primitives/getMeshMixin.js":(c,d,u)=>{var h=u("./src/core/component.js").components,p=u("./src/core/shader.js").shaders,f=u("./src/utils/index.js"),M={};Object.keys(h.material.schema).forEach(g),Object.keys(p.standard.schema).forEach(g);function g(y){var b=y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();y==="fog"&&(b="material-fog"),y==="visible"&&(b="material-visible"),M[b]="material."+y}c.exports=function(){return{defaultComponents:{material:{}},mappings:f.extend({},M)}}},"./src/extras/primitives/index.js":(c,d,u)=>{u("./src/extras/primitives/primitives/a-camera.js"),u("./src/extras/primitives/primitives/a-cursor.js"),u("./src/extras/primitives/primitives/a-curvedimage.js"),u("./src/extras/primitives/primitives/a-gltf-model.js"),u("./src/extras/primitives/primitives/a-image.js"),u("./src/extras/primitives/primitives/a-light.js"),u("./src/extras/primitives/primitives/a-link.js"),u("./src/extras/primitives/primitives/a-obj-model.js"),u("./src/extras/primitives/primitives/a-sky.js"),u("./src/extras/primitives/primitives/a-sound.js"),u("./src/extras/primitives/primitives/a-text.js"),u("./src/extras/primitives/primitives/a-video.js"),u("./src/extras/primitives/primitives/a-videosphere.js"),u("./src/extras/primitives/primitives/meshPrimitives.js")},"./src/extras/primitives/primitives.js":(c,d,u)=>{var h=u("./src/core/a-node.js").knownTags,p=u("./src/core/a-entity.js").AEntity,f=u("./src/core/component.js").components,M=u("./src/utils/index.js"),g=M.debug,y=M.entity.setComponentProperty,b=g("extras:primitives:debug"),v=g("extras:primitives:warn"),C=g("extras:primitives:error"),w=c.exports.primitives={};c.exports.registerPrimitive=function(T,k){if(T=T.toLowerCase(),h[T]){C("Trying to register primitive "+T+" that has been already previously registered");return}h[T]=!0,b("Registering <%s>",T),k.defaultAttributes&&v("The 'defaultAttributes' object is deprecated. Use 'defaultComponents' instead.");var D=k.mappings||{},N=class extends p{constructor(){super(),this.defaultComponentsFromPrimitive=k.defaultComponents||k.defaultAttributes||{},this.deprecated=k.deprecated||null,this.deprecatedMappings=k.deprecatedMappings||{},this.mappings=D,k.deprecated&&console.warn(k.deprecated),this.resolveMappingCollisions()}resolveMappingCollisions(){var P=this.mappings,F=this;Object.keys(P).forEach(function(V){var z;V!==V.toLowerCase()&&v("Mapping keys should be specified in lower case. The mapping key "+V+" may not be recognized"),f[V]&&(z=P[V].replace(".","-"),P[z]=P[V],delete P[V],console.warn("The primitive "+F.tagName.toLowerCase()+" has a mapping collision. The attribute "+V+" has the same name as a registered component and has been renamed to "+z))})}getExtraComponents(){var P,F,U,V,z,G=this;for(F=M.clone(this.defaultComponentsFromPrimitive),z=this.getAttribute("mixin"),z&&(z=M.split(z.trim(),/\s+/),z.forEach(function(et){var dt=document.getElementById(et);if(dt){var ht=dt.rawAttributeCache,st=dt.componentCache;for(var St in ht){if(V=G.mappings[St],V){_(V,ht[St],F);return}St in st&&(F[St]=H(F[St],st[St]))}}})),U=0;U<this.attributes.length;U++)P=this.attributes[U],V=this.mappings[P.name],V&&_(V,P.value,F);return F;function H(W,et){return J(W)?Z(et):J(et)?Z(W):j(W)&&j(et)?M.extendDeep(W,et):Z(et)}function J(W){return typeof W>"u"}function Z(W){return j(W)?M.extendDeep({},W):W}function j(W){return W!==null&&W.constructor===Object}}attributeChangedCallback(P,F,U){var V=this.mappings[P];if(P in this.deprecatedMappings&&console.warn(this.deprecatedMappings[P]),!P||!V){super.attributeChangedCallback(P,F,U);return}y(this,V,U)}};return customElements.define(T,N),N.mappings=D,w[T]=N,N};function _(I,T,k){var D=M.entity.getComponentPropertyPath(I);D.constructor===Array?(k[D[0]]=k[D[0]]||{},k[D[0]][D[1]]=T.trim()):k[D]=T.trim()}function E(I,T){var k=f[I].schema;Object.keys(k).map(function(D){var N=D.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();T[N]!==void 0&&(N=I+"-"+D),T[N]=I+"."+D})}function S(I,T,k){k=k||{},Object.keys(T).map(function(N){E(N,k)}),c.exports.registerPrimitive(I,M.extendDeep({},null,{defaultComponents:T,mappings:k}))}c.exports.definePrimitive=S},"./src/extras/primitives/primitives/a-camera.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").registerPrimitive;h("a-camera",{defaultComponents:{camera:{},"look-controls":{},"wasd-controls":{},position:{x:0,y:1.6,z:0}},mappings:{active:"camera.active",far:"camera.far",fov:"camera.fov","look-controls-enabled":"look-controls.enabled",near:"camera.near","pointer-lock-enabled":"look-controls.pointerLockEnabled","wasd-controls-enabled":"wasd-controls.enabled","reverse-mouse-drag":"look-controls.reverseMouseDrag",zoom:"camera.zoom"}})},"./src/extras/primitives/primitives/a-cursor.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),p=u("./src/extras/primitives/primitives.js").registerPrimitive,f=u("./src/utils/index.js");p("a-cursor",f.extendDeep({},h(),{defaultComponents:{cursor:{},geometry:{primitive:"ring",radiusOuter:.016,radiusInner:.01,segmentsTheta:32},material:{color:"#000",shader:"flat",opacity:.8},position:{x:0,y:0,z:-1}},mappings:{far:"raycaster.far",fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",interval:"raycaster.interval",objects:"raycaster.objects"}}))},"./src/extras/primitives/primitives/a-curvedimage.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),p=u("./src/extras/primitives/primitives.js").registerPrimitive,f=u("./src/utils/index.js");p("a-curvedimage",f.extendDeep({},h(),{defaultComponents:{geometry:{height:1,primitive:"cylinder",radius:2,segmentsRadial:48,thetaLength:270,openEnded:!0,thetaStart:0},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0,repeat:"-1 1"}},mappings:{height:"geometry.height","open-ended":"geometry.openEnded",radius:"geometry.radius",segments:"geometry.segmentsRadial",start:"geometry.thetaStart","theta-length":"geometry.thetaLength","theta-start":"geometry.thetaStart",width:"geometry.thetaLength"}}))},"./src/extras/primitives/primitives/a-gltf-model.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").registerPrimitive;h("a-gltf-model",{mappings:{src:"gltf-model"}})},"./src/extras/primitives/primitives/a-image.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),p=u("./src/extras/primitives/primitives.js").registerPrimitive,f=u("./src/utils/index.js");p("a-image",f.extendDeep({},h(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-light.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").registerPrimitive;h("a-light",{defaultComponents:{light:{}},mappings:{angle:"light.angle",color:"light.color","ground-color":"light.groundColor",decay:"light.decay",distance:"light.distance",intensity:"light.intensity",penumbra:"light.penumbra",type:"light.type",target:"light.target",envmap:"light.envMap","shadow-camera-automatic":"light.shadowCameraAutomatic"}})},"./src/extras/primitives/primitives/a-link.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").registerPrimitive;h("a-link",{defaultComponents:{link:{visualAspectEnabled:!0}},mappings:{href:"link.href",image:"link.image",title:"link.title"}})},"./src/extras/primitives/primitives/a-obj-model.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js")(),p=u("./src/extras/primitives/primitives.js").registerPrimitive,f=u("./src/utils/index.js");p("a-obj-model",f.extendDeep({},h,{defaultComponents:{"obj-model":{}},mappings:{src:"obj-model.obj",mtl:"obj-model.mtl"}}))},"./src/extras/primitives/primitives/a-sky.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),p=u("./src/extras/primitives/primitives.js").registerPrimitive,f=u("./src/utils/index.js"),M=u("./src/extras/primitives/primitives/meshPrimitives.js");p("a-sky",f.extendDeep({},h(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",side:"back",shader:"flat",npot:!0},scale:"-1 1 1"},mappings:f.extendDeep({},M["a-sphere"].mappings)}))},"./src/extras/primitives/primitives/a-sound.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").registerPrimitive;h("a-sound",{defaultComponents:{sound:{}},mappings:{src:"sound.src",on:"sound.on",autoplay:"sound.autoplay",loop:"sound.loop",volume:"sound.volume"}})},"./src/extras/primitives/primitives/a-text.js":(c,d,u)=>{var h=u("./src/extras/primitives/primitives.js").definePrimitive;h("a-text",{text:{anchor:"align",width:5}})},"./src/extras/primitives/primitives/a-video.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),p=u("./src/extras/primitives/primitives.js").registerPrimitive,f=u("./src/utils/index.js");p("a-video",f.extendDeep({},h(),{defaultComponents:{geometry:{primitive:"plane"},material:{color:"#FFF",shader:"flat",side:"double",transparent:!0}},mappings:{height:"geometry.height",width:"geometry.width"}}))},"./src/extras/primitives/primitives/a-videosphere.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),p=u("./src/extras/primitives/primitives.js").registerPrimitive,f=u("./src/utils/index.js");p("a-videosphere",f.extendDeep({},h(),{defaultComponents:{geometry:{primitive:"sphere",radius:500,segmentsWidth:64,segmentsHeight:32},material:{color:"#FFF",shader:"flat",side:"back",npot:!0},scale:"-1 1 1"},mappings:{radius:"geometry.radius","segments-height":"geometry.segmentsHeight","segments-width":"geometry.segmentsWidth"}}))},"./src/extras/primitives/primitives/meshPrimitives.js":(c,d,u)=>{var h=u("./src/extras/primitives/getMeshMixin.js"),p=u("./src/core/geometry.js").geometries,f=u("./src/core/geometry.js").geometryNames,M=u("./src/extras/primitives/primitives.js").registerPrimitive,g=u("./src/utils/index.js"),y=c.exports={};f.forEach(function(C){var w=p[C],_=b(C),E={};Object.keys(w.schema).forEach(function(k){E[b(k)]="geometry."+k});var S="a-"+_,I=M(S,g.extendDeep({},h(),{defaultComponents:{geometry:{primitive:C}},mappings:E}));y[S]=I});function b(v){return v.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},"./src/geometries/box.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js");h("box",{schema:{depth:{default:1,min:0},height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"},segmentsDepth:{default:1,min:1,max:20,type:"int"}},init:function(f){this.geometry=new p.BoxGeometry(f.width,f.height,f.depth,f.segmentsWidth,f.segmentsHeight,f.segmentsDepth)}})},"./src/geometries/circle.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js"),f=p.MathUtils.degToRad;h("circle",{schema:{radius:{default:1,min:0},segments:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(M){this.geometry=new p.CircleGeometry(M.radius,M.segments,f(M.thetaStart),f(M.thetaLength))}})},"./src/geometries/cone.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js"),f=p.MathUtils.degToRad;h("cone",{schema:{height:{default:1,min:0},openEnded:{default:!1},radiusBottom:{default:1,min:0},radiusTop:{default:.01,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(M){this.geometry=new p.CylinderGeometry(M.radiusTop,M.radiusBottom,M.height,M.segmentsRadial,M.segmentsHeight,M.openEnded,f(M.thetaStart),f(M.thetaLength))}})},"./src/geometries/cylinder.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js"),f=p.MathUtils.degToRad;h("cylinder",{schema:{height:{default:1,min:0},openEnded:{default:!1},radius:{default:1,min:0},segmentsHeight:{default:18,min:1,type:"int"},segmentsRadial:{default:36,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(M){this.geometry=new p.CylinderGeometry(M.radius,M.radius,M.height,M.segmentsRadial,M.segmentsHeight,M.openEnded,f(M.thetaStart),f(M.thetaLength))}})},"./src/geometries/dodecahedron.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js");h("dodecahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(f){this.geometry=new p.DodecahedronGeometry(f.radius,f.detail)}})},"./src/geometries/icosahedron.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js");h("icosahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(f){this.geometry=new p.IcosahedronGeometry(f.radius,f.detail)}})},"./src/geometries/index.js":(c,d,u)=>{u("./src/geometries/box.js"),u("./src/geometries/circle.js"),u("./src/geometries/cone.js"),u("./src/geometries/cylinder.js"),u("./src/geometries/dodecahedron.js"),u("./src/geometries/icosahedron.js"),u("./src/geometries/octahedron.js"),u("./src/geometries/plane.js"),u("./src/geometries/ring.js"),u("./src/geometries/sphere.js"),u("./src/geometries/tetrahedron.js"),u("./src/geometries/torus.js"),u("./src/geometries/torusKnot.js"),u("./src/geometries/triangle.js")},"./src/geometries/octahedron.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js");h("octahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(f){this.geometry=new p.OctahedronGeometry(f.radius,f.detail)}})},"./src/geometries/plane.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js");h("plane",{schema:{height:{default:1,min:0},width:{default:1,min:0},segmentsHeight:{default:1,min:1,max:20,type:"int"},segmentsWidth:{default:1,min:1,max:20,type:"int"}},init:function(f){this.geometry=new p.PlaneGeometry(f.width,f.height,f.segmentsWidth,f.segmentsHeight)}})},"./src/geometries/ring.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js"),f=p.MathUtils.degToRad;h("ring",{schema:{radiusInner:{default:.8,min:0},radiusOuter:{default:1.2,min:0},segmentsPhi:{default:10,min:1,type:"int"},segmentsTheta:{default:32,min:3,type:"int"},thetaLength:{default:360,min:0},thetaStart:{default:0}},init:function(M){this.geometry=new p.RingGeometry(M.radiusInner,M.radiusOuter,M.segmentsTheta,M.segmentsPhi,f(M.thetaStart),f(M.thetaLength))}})},"./src/geometries/sphere.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js"),f=p.MathUtils.degToRad;h("sphere",{schema:{radius:{default:1,min:0},phiLength:{default:360},phiStart:{default:0,min:0},thetaLength:{default:180,min:0},thetaStart:{default:0},segmentsHeight:{default:18,min:2,type:"int"},segmentsWidth:{default:36,min:3,type:"int"}},init:function(M){this.geometry=new p.SphereGeometry(M.radius,M.segmentsWidth,M.segmentsHeight,f(M.phiStart),f(M.phiLength),f(M.thetaStart),f(M.thetaLength))}})},"./src/geometries/tetrahedron.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js");h("tetrahedron",{schema:{detail:{default:0,min:0,max:5,type:"int"},radius:{default:1,min:0}},init:function(f){this.geometry=new p.TetrahedronGeometry(f.radius,f.detail)}})},"./src/geometries/torus.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js"),f=p.MathUtils.degToRad;h("torus",{schema:{arc:{default:360},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:36,min:2,type:"int"},segmentsTubular:{default:32,min:3,type:"int"}},init:function(M){this.geometry=new p.TorusGeometry(M.radius,M.radiusTubular*2,M.segmentsRadial,M.segmentsTubular,f(M.arc))}})},"./src/geometries/torusKnot.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js");h("torusKnot",{schema:{p:{default:2,min:1},q:{default:3,min:1},radius:{default:1,min:0},radiusTubular:{default:.2,min:0},segmentsRadial:{default:8,min:3,type:"int"},segmentsTubular:{default:100,min:3,type:"int"}},init:function(f){this.geometry=new p.TorusKnotGeometry(f.radius,f.radiusTubular*2,f.segmentsTubular,f.segmentsRadial,f.p,f.q)}})},"./src/geometries/triangle.js":(c,d,u)=>{var h=u("./src/core/geometry.js").registerGeometry,p=u("./src/lib/three.js"),f=new p.Quaternion,M=new p.Vector3(0,0,1),g=new p.Vector2,y=new p.Vector2,b=new p.Vector2;h("triangle",{schema:{vertexA:{type:"vec3",default:{x:0,y:.5,z:0}},vertexB:{type:"vec3",default:{x:-.5,y:-.5,z:0}},vertexC:{type:"vec3",default:{x:.5,y:-.5,z:0}}},init:function(v){var C,w,_,E,S,I,T,k,D;_=new p.Triangle,_.a.set(v.vertexA.x,v.vertexA.y,v.vertexA.z),_.b.set(v.vertexB.x,v.vertexB.y,v.vertexB.z),_.c.set(v.vertexC.x,v.vertexC.y,v.vertexC.z),w=_.getNormal(new p.Vector3),f.setFromUnitVectors(w,M),E=_.a.clone().applyQuaternion(f),S=_.b.clone().applyQuaternion(f),I=_.c.clone().applyQuaternion(f),g.set(Math.min(E.x,S.x,I.x),Math.min(E.y,S.y,I.y)),y.set(Math.max(E.x,S.x,I.x),Math.max(E.y,S.y,I.y)),b.set(0,0).subVectors(y,g),E=new p.Vector2().subVectors(E,g).divide(b),S=new p.Vector2().subVectors(S,g).divide(b),I=new p.Vector2().subVectors(I,g).divide(b),C=this.geometry=new p.BufferGeometry,T=[_.a.x,_.a.y,_.a.z,_.b.x,_.b.y,_.b.z,_.c.x,_.c.y,_.c.z],k=[w.x,w.y,w.z,w.x,w.y,w.z,w.x,w.y,w.z],D=[E.x,E.y,S.x,S.y,I.x,I.y],C.setAttribute("position",new p.Float32BufferAttribute(T,3)),C.setAttribute("normal",new p.Float32BufferAttribute(k,3)),C.setAttribute("uv",new p.Float32BufferAttribute(D,2))}})},"./src/index.js":(c,d,u)=>{if(window.hasNativeWebVRImplementation=!!window.navigator.getVRDisplays||!!window.navigator.getVRDevices,window.hasNativeWebXRImplementation=navigator.xr!==void 0,!window.hasNativeWebXRImplementation&&!window.hasNativeWebVRImplementation){var h=u("./src/utils/isIOSOlderThan10.js"),p=h(window.navigator.userAgent)?1/window.devicePixelRatio:1,f=u("./node_modules/webvr-polyfill/build/webvr-polyfill.js"),M={BUFFER_SCALE:p,CARDBOARD_UI_DISABLED:!0,ROTATE_INSTRUCTIONS_DISABLED:!0,MOBILE_WAKE_LOCK:!!window.cordova};window.webvrpolyfill=new f(M)}var g=u("./src/utils/index.js"),y=g.debug,b=y("A-Frame:error"),v=y("A-Frame:warn");window.document.currentScript&&window.document.currentScript.parentNode!==window.document.head&&!window.debug&&v("Put the A-Frame <script> tag in the <head> of the HTML *before* the scene to ensure everything for A-Frame is properly registered before they are used from HTML."),!window.cordova&&window.location.protocol==="file:"&&b("This HTML file is currently being served via the file:// protocol. Assets, textures, and models WILL NOT WORK due to cross-origin policy! Please use a local or hosted server: https://aframe.io/docs/1.4.0/introduction/installation.html#use-a-local-server."),g.device.isBrowserEnvironment&&(u("./src/style/aframe.css"),u("./src/style/rStats.css"));var C=u("./src/core/scene/a-scene.js").AScene,w=u("./src/core/component.js").components,_=u("./src/core/component.js").registerComponent,E=u("./src/core/geometry.js").registerGeometry,S=u("./src/extras/primitives/primitives.js").registerPrimitive,I=u("./src/core/shader.js").registerShader,T=u("./src/core/system.js").registerSystem,k=u("./src/core/shader.js").shaders,D=u("./src/core/system.js").systems,N=window.THREE=u("./src/lib/three.js"),P=u("./src/core/readyState.js"),F=u("./package.json");u("./src/components/index.js"),u("./src/geometries/index.js"),u("./src/shaders/index.js"),u("./src/systems/index.js");var U=u("./src/core/a-node.js").ANode,V=u("./src/core/a-entity.js").AEntity;u("./src/core/a-assets.js"),u("./src/core/a-cubemap.js"),u("./src/core/a-mixin.js"),u("./src/extras/components/index.js"),u("./src/extras/primitives/index.js"),console.log("A-Frame Version: 1.6.0 (Date 2024-05-23, Commit #e6c47761)"),console.log("THREE Version (https://github.com/supermedium/three.js):",N.REVISION),console.log("WebVR Polyfill Version:",F.dependencies["webvr-polyfill"]),window.AFRAME_ASYNC||P.waitForDocumentReadyState(),c.exports=window.AFRAME={AComponent:u("./src/core/component.js").Component,AEntity:V,ANode:U,ANIME:u("./node_modules/super-animejs/lib/anime.es.js").default,AScene:C,components:w,coreComponents:Object.keys(w),geometries:u("./src/core/geometry.js").geometries,registerComponent:_,registerGeometry:E,registerPrimitive:S,registerShader:I,registerSystem:T,primitives:{getMeshMixin:u("./src/extras/primitives/getMeshMixin.js"),primitives:u("./src/extras/primitives/primitives.js").primitives},scenes:u("./src/core/scene/scenes.js"),schema:u("./src/core/schema.js"),shaders:k,systems:D,emitReady:P.emitReady,THREE:N,utils:g,version:F.version}},"./src/lib/rStatsAframe.js":c=>{window.aframeStats=function(d){var u=null,h=d,p={te:{caption:"Entities"},lt:{caption:"Load Time"}},f=[{caption:"A-Frame",values:["te","lt"]}];function M(){u("te").set(g()),window.performance.getEntriesByName&&u("lt").set(window.performance.getEntriesByName("render-started")[0].startTime.toFixed(0))}function g(){var C=h.querySelectorAll("*");return Array.prototype.slice.call(C).filter(function(w){return w.isEntity}),C.length}function y(){}function b(){}function v(C){u=C}return{update:M,start:y,end:b,attach:v,values:p,groups:f,fractions:[]}},c.exports={aframeStats:window.aframeStats}},"./src/lib/three.js":(c,d,u)=>{var h=u("./src/lib/three.mjs").default;u.g.THREE=h,u("./vendor/DeviceOrientationControls.js"),h.Cache&&(h.Cache.enabled=!0),c.exports=h},"./src/shaders/flat.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,p=u("./src/lib/three.js"),f=u("./src/utils/index.js");c.exports.Shader=h("flat",{schema:{color:{type:"color"},fog:{default:!0},height:{default:256},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2},toneMapped:{default:!0}},init:function(g){this.materialData={color:new p.Color},M(g,this.materialData),this.material=new p.MeshBasicMaterial(this.materialData)},update:function(g){this.updateMaterial(g),f.material.updateMap(this,g)},updateMaterial:function(g){var y;M(g,this.materialData);for(y in this.materialData)this.material[y]=this.materialData[y]}});function M(g,y){return y.color.set(g.color),y.fog=g.fog,y.wireframe=g.wireframe,y.toneMapped=g.toneMapped,y.wireframeLinewidth=g.wireframeLinewidth,y}},"./src/shaders/index.js":(c,d,u)=>{u("./src/shaders/flat.js"),u("./src/shaders/standard.js"),u("./src/shaders/phong.js"),u("./src/shaders/sdf.js"),u("./src/shaders/msdf.js"),u("./src/shaders/shadow.js")},"./src/shaders/msdf.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,p=u("./src/lib/three.js"),f=["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","out vec2 vUV;","void main(void) {","  vUV = uv;","  #include <begin_vertex>","  #include <project_vertex>","  #include <logdepthbuf_vertex>","  #include <fog_vertex>","}"].join(`
`),M=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform bool negate;","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","float median(float r, float g, float b) {","  return max(min(r, g), min(max(r, g), b));","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec3 sampleColor = texture(map, vUV).rgb;","  if (negate) { sampleColor = 1.0 - sampleColor; }","  float sigDist = median(sampleColor.r, sampleColor.g, sampleColor.b) - 0.5;","  float alpha = clamp(sigDist / fwidth(sigDist) + 0.5, 0.0, 1.0);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(vUV) + dFdy(vUV));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  // Do modified alpha test.","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * (sigDist + 0.5);","  }","  // Do modified alpha test.","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color.xyz, alpha * opacity);","  #include <logdepthbuf_fragment>","  #include <tonemapping_fragment>","  #include <colorspace_fragment>","  #include <fog_fragment>","}"].join(`
`);c.exports.Shader=h("msdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},negate:{type:"boolean",is:"uniform",default:!0},opacity:{type:"number",is:"uniform",default:1}},vertexShader:f,fragmentShader:M,init:function(){return this.uniforms=p.UniformsUtils.merge([p.UniformsLib.fog,this.initUniforms()]),this.material=new p.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,fog:!0}),this.material}})},"./src/shaders/phong.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,p=u("./src/lib/three.js"),f=u("./src/utils/index.js");c.exports.Shader=h("phong",{schema:{color:{type:"color"},emissive:{type:"color",default:"black"},emissiveIntensity:{default:1},specular:{type:"color",default:"#111111"},transparent:{default:!1},fog:{default:!0},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},src:{type:"map"},envMap:{default:""},sphericalEnvMap:{type:"map"},shininess:{default:30},flatShading:{default:!1},wireframe:{default:!1},wireframeLinewidth:{default:2},combine:{oneOF:["multiply","mix","add"],default:"mix"},reflectivity:{default:.9},refractionRatio:{default:.98},refract:{default:!1},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},bumpMap:{type:"map"},bumpMapScale:{default:1},bumpTextureOffset:{type:"vec2"},bumpTextureRepeat:{type:"vec2",default:{x:1,y:1}}},init:function(g){this.materialData={color:new p.Color,specular:new p.Color,emissive:new p.Color},M(g,this.materialData),this.material=new p.MeshPhongMaterial(this.materialData);var y=this.el.sceneEl;Object.defineProperty(this.material,"envMap",{get:function(){return this._envMap||y.object3D.environment},set:function(b){this._envMap=b}})},update:function(g){this.updateMaterial(g),f.material.updateMap(this,g),f.material.updateDistortionMap("normal",this,g),f.material.updateDistortionMap("displacement",this,g),f.material.updateDistortionMap("ambientOcclusion",this,g),f.material.updateDistortionMap("bump",this,g),f.material.updateEnvMap(this,g)},updateMaterial:function(g){var y;M(g,this.materialData);for(y in this.materialData)this.material[y]=this.materialData[y]}});function M(g,y){switch(y.color.set(g.color),y.specular.set(g.specular),y.emissive.set(g.emissive),y.emissiveIntensity=g.emissiveIntensity,y.fog=g.fog,y.transparent=g.transparent,y.wireframe=g.wireframe,y.wireframeLinewidth=g.wireframeLinewidth,y.shininess=g.shininess,y.flatShading=g.flatShading,y.wireframe=g.wireframe,y.wireframeLinewidth=g.wireframeLinewidth,y.reflectivity=g.reflectivity,y.refractionRatio=g.refractionRatio,g.combine){case"mix":y.combine=p.MixOperation;break;case"multiply":y.combine=p.MultiplyOperation;break;case"add":y.combine=p.AddOperation;break}return g.normalMap&&(y.normalScale=g.normalScale),g.ambientOcclusionMap&&(y.aoMapIntensity=g.ambientOcclusionMapIntensity),g.bumpMap&&(y.bumpScale=g.bumpMapScale),g.displacementMap&&(y.displacementScale=g.displacementScale,y.displacementBias=g.displacementBias),y}},"./src/shaders/sdf.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,p=u("./src/lib/three.js"),f=["#include <common>","#include <fog_pars_vertex>","#include <logdepthbuf_pars_vertex>","out vec2 vUV;","void main(void) {","  vUV = uv;","  #include <begin_vertex>","  #include <project_vertex>","  #include <logdepthbuf_vertex>","  #include <fog_vertex>","}"].join(`
`),M=["#include <common>","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","uniform float alphaTest;","uniform float opacity;","uniform sampler2D map;","uniform vec3 color;","in vec2 vUV;","float contour(float width, float value) {","  return smoothstep(0.5 - value, 0.5 + value, width);","}","#define BIG_ENOUGH 0.001","#define MODIFIED_ALPHATEST (0.02 * isBigEnough / BIG_ENOUGH)","void main() {","  vec2 uv = vUV;","  vec4 texColor = texture(map, uv);","  float dist = texColor.a;","  float width = fwidth(dist);","  float alpha = contour(dist, width);","  float dscale = 0.353505;","  vec2 duv = dscale * (dFdx(uv) + dFdy(uv));","  float isBigEnough = max(abs(duv.x), abs(duv.y));","  if (isBigEnough > BIG_ENOUGH) {","    float ratio = BIG_ENOUGH / isBigEnough;","    alpha = ratio * alpha + (1.0 - ratio) * dist;","  }","  if (isBigEnough <= BIG_ENOUGH) {","    vec4 box = vec4 (uv - duv, uv + duv);","    alpha = (alpha + 0.5 * (","      contour(texture(map, box.xy).a, width)","      + contour(texture(map, box.zw).a, width)","      + contour(texture(map, box.xw).a, width)","      + contour(texture(map, box.zy).a, width)","    )) / 3.0;","  }","  if (alpha < alphaTest * MODIFIED_ALPHATEST) { discard; return; }","  gl_FragColor = vec4(color, opacity * alpha);","  #include <logdepthbuf_fragment>","  #include <tonemapping_fragment>","  #include <colorspace_fragment>","  #include <fog_fragment>","}"].join(`
`);c.exports.Shader=h("sdf",{schema:{alphaTest:{type:"number",is:"uniform",default:.5},color:{type:"color",is:"uniform",default:"white"},map:{type:"map",is:"uniform"},opacity:{type:"number",is:"uniform",default:1}},vertexShader:f,fragmentShader:M,init:function(){return this.uniforms=p.UniformsUtils.merge([p.UniformsLib.fog,this.initUniforms()]),this.material=new p.ShaderMaterial({uniforms:this.uniforms,vertexShader:this.vertexShader,fragmentShader:this.fragmentShader,fog:!0}),this.material}})},"./src/shaders/shadow.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,p=u("./src/lib/three.js");c.exports.Shader=h("shadow",{schema:{opacity:{default:.5},transparent:{default:!0},alphaToCoverage:{default:!0}},init:function(f){this.material=new p.ShadowMaterial},update:function(f){this.material.opacity=f.opacity,this.material.alphaToCoverage=f.alphaToCoverage,this.material.transparent=f.transparent}})},"./src/shaders/standard.js":(c,d,u)=>{var h=u("./src/core/shader.js").registerShader,p=u("./src/lib/three.js"),f=u("./src/utils/index.js");c.exports.Shader=h("standard",{schema:{ambientOcclusionMap:{type:"map"},ambientOcclusionMapIntensity:{default:1},ambientOcclusionTextureOffset:{type:"vec2"},ambientOcclusionTextureRepeat:{type:"vec2",default:{x:1,y:1}},color:{type:"color"},displacementMap:{type:"map"},displacementScale:{default:1},displacementBias:{default:.5},displacementTextureOffset:{type:"vec2"},displacementTextureRepeat:{type:"vec2",default:{x:1,y:1}},emissive:{type:"color",default:"#000"},emissiveIntensity:{default:1},envMap:{default:""},fog:{default:!0},height:{default:256},metalness:{default:0,min:0,max:1},metalnessMap:{type:"map"},metalnessTextureOffset:{type:"vec2"},metalnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},normalMap:{type:"map"},normalScale:{type:"vec2",default:{x:1,y:1}},normalTextureOffset:{type:"vec2"},normalTextureRepeat:{type:"vec2",default:{x:1,y:1}},offset:{type:"vec2",default:{x:0,y:0}},repeat:{type:"vec2",default:{x:1,y:1}},roughness:{default:.5,min:0,max:1},roughnessMap:{type:"map"},roughnessTextureOffset:{type:"vec2"},roughnessTextureRepeat:{type:"vec2",default:{x:1,y:1}},sphericalEnvMap:{type:"map"},src:{type:"map"},width:{default:512},wireframe:{default:!1},wireframeLinewidth:{default:2}},init:function(g){this.materialData={color:new p.Color,emissive:new p.Color},M(g,this.materialData),this.material=new p.MeshStandardMaterial(this.materialData)},update:function(g){this.updateMaterial(g),f.material.updateMap(this,g),f.material.updateDistortionMap("normal",this,g),f.material.updateDistortionMap("displacement",this,g),f.material.updateDistortionMap("ambientOcclusion",this,g),f.material.updateDistortionMap("metalness",this,g),f.material.updateDistortionMap("roughness",this,g),f.material.updateEnvMap(this,g)},updateMaterial:function(g){var y,b=this.material;M(g,this.materialData);for(y in this.materialData)b[y]=this.materialData[y]}});function M(g,y){return y.color.set(g.color),y.emissive.set(g.emissive),y.emissiveIntensity=g.emissiveIntensity,y.fog=g.fog,y.metalness=g.metalness,y.roughness=g.roughness,y.wireframe=g.wireframe,y.wireframeLinewidth=g.wireframeLinewidth,g.normalMap&&(y.normalScale=g.normalScale),g.ambientOcclusionMap&&(y.aoMapIntensity=g.ambientOcclusionMapIntensity),g.displacementMap&&(y.displacementScale=g.displacementScale,y.displacementBias=g.displacementBias),y}},"./src/systems/camera.js":(c,d,u)=>{var h=u("./src/constants/index.js"),p=u("./src/core/system.js").registerSystem,f="data-aframe-default-camera";c.exports.System=p("camera",{init:function(){this.activeCameraEl=null,this.render=this.render.bind(this),this.unwrapRender=this.unwrapRender.bind(this),this.wrapRender=this.wrapRender.bind(this),this.initialCameraFound=!1,this.numUserCameras=0,this.numUserCamerasChecked=0,this.setupInitialCamera()},setupInitialCamera:function(){var g,y,b=this.sceneEl,v=this;if(b.camera&&!b.camera.el.getAttribute("camera").spectator){b.emit("cameraready",{cameraEl:b.camera.el});return}if(g=b.querySelectorAll("a-camera, :not(a-mixin)[camera]"),!g.length){this.createDefaultCamera();return}for(this.numUserCameras=g.length,y=0;y<g.length;y++)g[y].addEventListener("object3dset",function(C){C.detail.type==="camera"&&v.checkUserCamera(this)}),g[y].isNode?g[y].load():g[y].addEventListener("nodeready",function(){this.load()})},checkUserCamera:function(g){var y,b=this.el.sceneEl;if(this.numUserCamerasChecked++,!this.initialCameraFound){if(y=g.getAttribute("camera"),!y.active||y.spectator){this.numUserCamerasChecked===this.numUserCameras&&this.createDefaultCamera();return}this.initialCameraFound=!0,b.camera=g.getObject3D("camera"),b.emit("cameraready",{cameraEl:g})}},createDefaultCamera:function(){var g,y=this.sceneEl;g=document.createElement("a-entity"),g.setAttribute("camera",{active:!0}),g.setAttribute("position",{x:0,y:h.DEFAULT_CAMERA_HEIGHT,z:0}),g.setAttribute("wasd-controls",""),g.setAttribute("look-controls",""),g.setAttribute(h.AFRAME_INJECTED,""),g.addEventListener("object3dset",function(b){b.detail.type==="camera"&&(y.camera=b.detail.object,y.emit("cameraready",{cameraEl:g}))}),y.appendChild(g)},disableActiveCamera:function(){var g,y;g=this.sceneEl.querySelectorAll(":not(a-mixin)[camera]"),y=g[g.length-1],y.setAttribute("camera","active",!0)},setActiveCamera:function(g){var y,b,v,C,w=this.activeCameraEl,_=this.sceneEl;if(C=g.getObject3D("camera"),!(!C||g===this.activeCameraEl)){var E=_.querySelector("["+f+"]"),S=E&&E.querySelector(":not(a-mixin)[camera]");for(g!==S&&M(_),this.activeCameraEl=g,this.activeCameraEl.play(),_.camera=C,w&&w.setAttribute("camera","active",!1),b=_.querySelectorAll(":not(a-mixin)[camera]"),v=0;v<b.length;v++)y=b[v],!(!y.isEntity||g===y)&&(y.setAttribute("camera","active",!1),y.pause());_.emit("camera-set-active",{cameraEl:g})}},setSpectatorCamera:function(g){var y,b=this.spectatorCameraEl,v=this.sceneEl,C;y=g.getObject3D("camera"),!(!y||g===this.spectatorCameraEl)&&(b&&b.setAttribute("camera","spectator",!1),C=this.spectatorCameraEl=g,v.addEventListener("enter-vr",this.wrapRender),v.addEventListener("exit-vr",this.unwrapRender),C.setAttribute("camera","active",!1),C.play(),v.emit("camera-set-spectator",{cameraEl:g}))},disableSpectatorCamera:function(){this.spectatorCameraEl=void 0},wrapRender:function(){!this.spectatorCameraEl||this.originalRender||(this.originalRender=this.sceneEl.renderer.render,this.sceneEl.renderer.render=this.render)},unwrapRender:function(){this.originalRender&&(this.sceneEl.renderer.render=this.originalRender,this.originalRender=void 0)},render:function(g,y){var b,v=this.sceneEl,C;b=v.renderer.xr.enabled,this.originalRender.call(v.renderer,g,y),!(!this.spectatorCameraEl||v.isMobile||!b)&&(C=this.spectatorCameraEl.components.camera.camera,v.renderer.xr.enabled=!1,this.originalRender.call(v.renderer,g,C),v.renderer.xr.enabled=b)}});function M(g){var y,b=g.camera;b&&(y=g.querySelector("["+f+"]"),y&&g.removeChild(y))}},"./src/systems/geometry.js":(c,d,u)=>{var h=u("./src/core/geometry.js").geometries,p=u("./src/core/system.js").registerSystem;c.exports.System=p("geometry",{init:function(){this.cache={},this.cacheCount={}},clearCache:function(){this.cache={},this.cacheCount={}},getOrCreateGeometry:function(y){var b=this.cache,v,C;return y.skipCache?f(y):(C=this.hash(y),v=b[C],g(this.cacheCount,C),v||(v=f(y),b[C]=v,v))},unuseGeometry:function(y){var b=this.cache,v=this.cacheCount,C,w;y.skipCache||(w=this.hash(y),b[w]&&(M(v,w),!(v[w]>0)&&(C=b[w],C.dispose(),delete b[w],delete v[w])))},hash:function(y){return JSON.stringify(y)}});function f(y){var b=y.primitive,v=h[b]&&h[b].Geometry,C=new v;if(!v)throw new Error("Unknown geometry `"+b+"`");return C.init(y),C.geometry}function M(y,b){y[b]--}function g(y,b){y[b]=y[b]===void 0?1:y[b]+1}},"./src/systems/gltf-model.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,p=u("./src/lib/three.js");function f(M){return new Promise(function(g,y){var b=document.createElement("script");document.body.appendChild(b),b.onload=g,b.onerror=y,b.async=!0,b.src=M})}c.exports.System=h("gltf-model",{schema:{dracoDecoderPath:{default:"https://www.gstatic.com/draco/versioned/decoders/1.5.6/"},basisTranscoderPath:{default:""},meshoptDecoderPath:{default:""}},init:function(){this.update()},update:function(){var M=this.data.dracoDecoderPath,g=this.data.basisTranscoderPath,y=this.data.meshoptDecoderPath;!this.dracoLoader&&M&&(this.dracoLoader=new p.DRACOLoader,this.dracoLoader.setDecoderPath(M)),!this.ktx2Loader&&g&&(this.ktx2Loader=new p.KTX2Loader,this.ktx2Loader.setTranscoderPath(g).detectSupport(this.el.renderer)),!this.meshoptDecoder&&y&&(this.meshoptDecoder=f(y).then(function(){return window.MeshoptDecoder.ready}).then(function(){return window.MeshoptDecoder}))},getDRACOLoader:function(){return this.dracoLoader},getKTX2Loader:function(){return this.ktx2Loader},getMeshoptDecoder:function(){return this.meshoptDecoder}})},"./src/systems/index.js":(c,d,u)=>{u("./src/systems/camera.js"),u("./src/systems/geometry.js"),u("./src/systems/gltf-model.js"),u("./src/systems/light.js"),u("./src/systems/material.js"),u("./src/systems/obb-collider.js"),u("./src/systems/renderer.js"),u("./src/systems/shadow.js"),u("./src/systems/tracked-controls-webvr.js"),u("./src/systems/tracked-controls-webxr.js"),u("./src/systems/webxr.js")},"./src/systems/light.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,p=u("./src/constants/index.js"),f="data-aframe-default-light";c.exports.System=h("light",{schema:{defaultLightsEnabled:{default:!0}},init:function(){this.defaultLights=!1,this.userDefinedLights=!1,this.sceneEl.addEventListener("loaded",this.setupDefaultLights.bind(this))},registerLight:function(M){M.hasAttribute(f)||(this.removeDefaultLights(),this.userDefinedLights=!0)},removeDefaultLights:function(){var M,g=this.sceneEl;if(this.defaultLights){M=document.querySelectorAll("["+f+"]");for(var y=0;y<M.length;y++)g.removeChild(M[y]);this.defaultLights=!1}},setupDefaultLights:function(){var M=this.sceneEl,g,y;this.userDefinedLights||this.defaultLights||!this.data.defaultLightsEnabled||(g=document.createElement("a-entity"),g.setAttribute("light",{color:"#BBB",type:"ambient"}),g.setAttribute(f,""),g.setAttribute(p.AFRAME_INJECTED,""),M.appendChild(g),y=document.createElement("a-entity"),y.setAttribute("light",{color:"#FFF",intensity:.6,castShadow:!0}),y.setAttribute("position",{x:-.5,y:1,z:1}),y.setAttribute(f,""),y.setAttribute(p.AFRAME_INJECTED,""),M.appendChild(y),this.defaultLights=!0)}})},"./src/systems/material.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,p=u("./src/lib/three.js"),f=u("./src/utils/index.js"),M=u("./src/utils/material.js").setTextureProperties,g=u("./src/utils/material.js").createCompatibleTexture,y=f.debug,b=y("components:texture:error"),v=y("components:texture:warn"),C=new p.ImageLoader;c.exports.System=h("material",{init:function(){this.materials={},this.sourceCache={}},clearTextureSourceCache:function(){this.sourceCache={}},loadTexture:function(S,I,T){this.loadTextureSource(S,function(D){var N=g(D);M(N,I),T(N)})},loadTextureSource:function(S,I){var T=this,k=this.sourceCache,D=this.hash(S);if(k[D]){k[D].then(I);return}if(S.tagName==="CANVAS"){P(new p.Source(S));return}P(new Promise(N));function N(F,U){f.srcLoader.validateSrc(S,V,z);function V(G){T.loadImage(G,F)}function z(G){T.loadVideo(G,F)}}function P(F){k[D]=Promise.resolve(F),k[D].then(I)}},loadCubeMapTexture:function(S,I){var T=this,k=0,D=new p.CubeTexture;D.colorSpace=p.SRGBColorSpace;function N(F){T.loadTextureSource(S[F],function(U){D.images[F]=U,k++,k===6&&(D.needsUpdate=!0,I(D))})}if(S.length!==6){v("Cube map texture requires exactly 6 sources, got only %s sources",S.length);return}for(var P=0;P<S.length;P++)N(P)},loadImage:function(S,I){if(typeof S!="string"){I(new p.Source(S));return}I(w(S))},loadVideo:function(S,I){var T;typeof S!="string"&&(T=S,E(T)),T=T||_(S),I(new p.Source(T))},hash:function(S){return S.tagName&&(S.id||S.src)||S},registerMaterial:function(S){this.materials[S.uuid]=S},unregisterMaterial:function(S){delete this.materials[S.uuid]}});function w(S){return new Promise(I);function I(T,k){C.load(S,D,function(){},function(N){b("`$s` could not be fetched (Error code: %s; Response: %s)",N.status,N.statusText)});function D(N){T(new p.Source(N))}}}function _(S){var I=document.createElement("video");return I.setAttribute("playsinline",""),I.setAttribute("webkit-playsinline",""),I.autoplay=!0,I.loop=!0,I.crossOrigin="anonymous",I.addEventListener("error",function(){v("`%s` is not a valid video",S)},!0),I.src=S,I}function E(S){return S.autoplay=S.hasAttribute("autoplay")&&S.getAttribute("autoplay")!=="false",S.controls=S.hasAttribute("controls")&&S.getAttribute("controls")!=="false",S.getAttribute("loop")==="false"&&S.removeAttribute("loop"),S.getAttribute("preload")==="false"&&(S.preload="none"),S.crossOrigin=S.crossOrigin||"anonymous",S.setAttribute("playsinline",""),S.setAttribute("webkit-playsinline",""),S}},"./src/systems/obb-collider.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem;h("obb-collider",{schema:{showColliders:{default:!1}},init:function(){this.collisions=[],this.colliderEls=[]},addCollider:function(p){this.colliderEls.push(p),this.data.showColliders?p.components["obb-collider"].showCollider():p.components["obb-collider"].hideCollider(),this.tick=this.detectCollisions},removeCollider:function(p){var f=this.colliderEls,M=f.indexOf(p);p.components["obb-collider"].hideCollider(),M>-1&&f.splice(M,1),f.length===0&&(this.tick=void 0)},registerCollision:function(p,f){var M=this.collisions,g=!1,y=p.obb,b=f.obb,v=p.renderColliderMesh,C=f.renderColliderMesh;v&&v.material.color.set(16711680),C&&C.material.color.set(16711680);for(var w=0;w<M.length;w++)if(M[w].componentA.obb===y&&M[w].componentB.obb===b||M[w].componentA.obb===b&&M[w].componentB.obb===y){g=!0,M[w].detected=!0;break}g||(M.push({componentA:p,componentB:f,detected:!0}),p.el.emit("obbcollisionstarted",{trackedObject3D:p.trackedObject3D,withEl:f.el}),f.el.emit("obbcollisionstarted",{trackedObject3D:f.trackedObject3D,withEl:p.el}))},resetCollisions:function(){for(var p=this.collisions,f=0;f<p.length;f++)p[f].detected=!1},clearCollisions:function(){for(var p=this.collisions,f=[],M,g,y,b,v=0;v<p.length;v++)p[v].detected?f.push(p[v]):(M=p[v].componentA,g=p[v].componentB,y=M.renderColliderMesh,b=g.renderColliderMesh,y&&y.material.color.set(65280),M.el.emit("obbcollisionended",{trackedObject3D:this.trackedObject3D,withEl:g.el}),b&&b.material.color.set(65280),g.el.emit("obbcollisionended",{trackedObject3D:this.trackedObject3D,withEl:M.el}));this.collisions=f},detectCollisions:function(){var p,f,M,g,y=this.colliderEls;if(!(y.length<2)){this.resetCollisions();for(var b=0;b<y.length;b++)if(M=y[b].components["obb-collider"],p=y[b].components["obb-collider"].obb,!(p.halfSize.x===0||p.halfSize.y===0||p.halfSize.z===0))for(var v=b+1;v<y.length;v++)g=y[v].components["obb-collider"],f=g.obb,!(f.halfSize.x===0||f.halfSize.y===0||f.halfSize.z===0)&&p.intersectsOBB(f)&&this.registerCollision(M,g);this.clearCollisions()}}})},"./src/systems/renderer.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,p=u("./src/utils/index.js"),f=u("./src/lib/three.js"),M=p.debug,g=M("components:renderer:warn");c.exports.System=h("renderer",{schema:{antialias:{default:"auto",oneOf:["true","false","auto"]},highRefreshRate:{default:p.device.isOculusBrowser()},logarithmicDepthBuffer:{default:"auto",oneOf:["true","false","auto"]},maxCanvasWidth:{default:-1},maxCanvasHeight:{default:-1},multiviewStereo:{default:!1},physicallyCorrectLights:{default:!1},exposure:{default:1,if:{toneMapping:["ACESFilmic","linear","reinhard","cineon"]}},toneMapping:{default:"no",oneOf:["no","ACESFilmic","linear","reinhard","cineon"]},precision:{default:"high",oneOf:["high","medium","low"]},anisotropy:{default:1},sortTransparentObjects:{default:!1},colorManagement:{default:!0},alpha:{default:!0},stencil:{default:!1},foveationLevel:{default:1}},init:function(){var C=this.data,w=this.el,_=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1),E=w.renderer;C.physicallyCorrectLights||(E.useLegacyLights=!C.physicallyCorrectLights),E.toneMapping=f[_+"ToneMapping"],f.Texture.DEFAULT_ANISOTROPY=C.anisotropy,f.ColorManagement.enabled=C.colorManagement,E.outputColorSpace=C.colorManagement?f.SRGBColorSpace:f.LinearSRGBColorSpace,w.hasAttribute("antialias")&&g('Component `antialias` is deprecated. Use `renderer="antialias: true"` instead.'),w.hasAttribute("logarithmicDepthBuffer")&&g('Component `logarithmicDepthBuffer` is deprecated. Use `renderer="logarithmicDepthBuffer: true"` instead.'),E.sortObjects=!0,E.setOpaqueSort(y)},update:function(){var C=this.data,w=this.el,_=w.renderer,E=this.data.toneMapping.charAt(0).toUpperCase()+this.data.toneMapping.slice(1);_.toneMapping=f[E+"ToneMapping"],_.toneMappingExposure=C.exposure,_.xr.setFoveation(C.foveationLevel),C.sortObjects&&g('`sortObjects` property is deprecated. Use `renderer="sortTransparentObjects: true"` instead.'),C.sortTransparentObjects?_.setTransparentSort(v):_.setTransparentSort(b)},applyColorCorrection:function(C){!this.data.colorManagement||!C||C.isTexture&&C.colorSpace!==f.SRGBColorSpace&&(C.colorSpace=f.SRGBColorSpace,C.needsUpdate=!0)},setWebXRFrameRate:function(C){var w=this.data,_=C.supportedFrameRates;if(_&&C.updateTargetFrameRate){var E;_.includes(90)?E=w.highRefreshRate?90:72:E=w.highRefreshRate?72:60,C.updateTargetFrameRate(E).catch(function(S){console.warn("failed to set target frame rate of "+E+". Error info: "+S)})}}});function y(C,w){return C.groupOrder!==w.groupOrder?C.groupOrder-w.groupOrder:C.renderOrder!==w.renderOrder?C.renderOrder-w.renderOrder:C.z-w.z}function b(C,w){return C.groupOrder!==w.groupOrder?C.groupOrder-w.groupOrder:C.renderOrder-w.renderOrder}function v(C,w){return C.groupOrder!==w.groupOrder?C.groupOrder-w.groupOrder:C.renderOrder!==w.renderOrder?C.renderOrder-w.renderOrder:w.z-C.z}c.exports.sortFrontToBack=y,c.exports.sortRenderOrderOnly=b,c.exports.sortBackToFront=v},"./src/systems/shadow.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,p=u("./src/lib/three.js"),f={basic:p.BasicShadowMap,pcf:p.PCFShadowMap,pcfsoft:p.PCFSoftShadowMap};c.exports.System=h("shadow",{schema:{enabled:{default:!0},autoUpdate:{default:!0},type:{default:"pcf",oneOf:["basic","pcf","pcfsoft"]}},init:function(){var g=this.sceneEl,y=this.data;this.shadowMapEnabled=!1,g.renderer.shadowMap.type=f[y.type],g.renderer.shadowMap.autoUpdate=y.autoUpdate},update:function(g){g.enabled!==this.data.enabled&&this.setShadowMapEnabled(this.shadowMapEnabled)},setShadowMapEnabled:function(g){var y=this.sceneEl,b=this.sceneEl.renderer;this.shadowMapEnabled=g;var v=this.data.enabled&&this.shadowMapEnabled;b&&v!==b.shadowMap.enabled&&(b.shadowMap.enabled=v,M(y))}});function M(g){g.hasLoaded&&g.object3D.traverse(function(y){if(y.material)for(var b=Array.isArray(y.material)?y.material:[y.material],v=0;v<b.length;v++)b[v].needsUpdate=!0})}},"./src/systems/tracked-controls-webvr.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,p=u("./src/utils/index.js"),f=p.device.isWebXRAvailable;c.exports.System=h("tracked-controls-webvr",{init:function(){var M=this;this.controllers=[],this.isChrome=navigator.userAgent.indexOf("Chrome")!==-1,this.updateControllerList(),this.throttledUpdateControllerList=p.throttle(this.updateControllerList,500,this),!f&&navigator.getVRDisplays&&this.sceneEl.addEventListener("enter-vr",function(){navigator.getVRDisplays().then(function(g){g.length&&(M.vrDisplay=g[0])})})},tick:function(){this.isChrome?this.updateControllerList():this.throttledUpdateControllerList()},updateControllerList:function(){var M=this.controllers,g,y,b,v;if(y=navigator.getGamepads&&navigator.getGamepads(),!!y){for(v=M.length,M.length=0,b=0;b<y.length;++b)g=y[b],g&&g.pose&&M.push(g);M.length!==v&&this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/tracked-controls-webxr.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,p=u("./src/utils/index.js");c.exports.System=h("tracked-controls-webxr",{init:function(){this.controllers=[],this.oldControllers=[],this.oldControllersLength=0,this.throttledUpdateControllerList=p.throttle(this.updateControllerList,500,this),this.updateReferenceSpace=this.updateReferenceSpace.bind(this),this.el.addEventListener("enter-vr",this.updateReferenceSpace),this.el.addEventListener("exit-vr",this.updateReferenceSpace)},tick:function(){this.throttledUpdateControllerList()},updateReferenceSpace:function(){var f=this,M=this.el.xrSession;if(!M){this.referenceSpace=void 0,this.controllers=[],this.oldControllersLength>0&&(this.oldControllersLength=0,this.el.emit("controllersupdated",void 0,!1));return}var g=f.el.sceneEl.systems.webxr.sessionReferenceSpaceType;M.requestReferenceSpace(g).then(function(y){f.referenceSpace=y}).catch(function(y){throw f.el.sceneEl.systems.webxr.warnIfFeatureNotRequested(g,'tracked-controls-webxr uses reference space "'+g+'".'),y})},updateControllerList:function(){var f=this.el.xrSession,M=this.oldControllers,g;if(!f){if(this.oldControllersLength===0)return;this.oldControllersLength=0,this.controllers=[],this.el.emit("controllersupdated",void 0,!1);return}if(f.inputSources){if(this.controllers=f.inputSources,this.oldControllersLength===this.controllers.length){var y=!0;for(g=0;g<this.controllers.length;++g)if(!(this.controllers[g]===M[g]&&this.controllers[g].gamepad===M[g].gamepad)){y=!1;break}if(y)return}for(M.length=0,g=0;g<this.controllers.length;g++)M.push(this.controllers[g]);this.oldControllersLength=this.controllers.length,this.el.emit("controllersupdated",void 0,!1)}}})},"./src/systems/webxr.js":(c,d,u)=>{var h=u("./src/core/system.js").registerSystem,p=u("./src/utils/index.js"),f=p.debug("systems:webxr:warn");c.exports.System=h("webxr",{schema:{referenceSpaceType:{type:"string",default:"local-floor"},requiredFeatures:{type:"array",default:["local-floor"]},optionalFeatures:{type:"array",default:["bounded-floor"]},overlayElement:{type:"selector"}},update:function(){var M=this.data;this.sessionConfiguration={requiredFeatures:M.requiredFeatures,optionalFeatures:M.optionalFeatures},this.sessionReferenceSpaceType=M.referenceSpaceType,M.overlayElement&&(M.overlayElement.classList.remove("a-dom-overlay"),M.optionalFeatures.includes("dom-overlay")||(M.optionalFeatures.push("dom-overlay"),this.el.setAttribute("webxr",M)),this.warnIfFeatureNotRequested("dom-overlay"),this.sessionConfiguration.domOverlay={root:M.overlayElement},M.overlayElement.classList.add("a-dom-overlay"))},wasFeatureRequested:function(M){return!!(M==="viewer"||M==="local"||this.sessionConfiguration.requiredFeatures.includes(M)||this.sessionConfiguration.optionalFeatures.includes(M))},warnIfFeatureNotRequested:function(M,g){if(!this.wasFeatureRequested(M)){var y='Please add the feature "'+M+`" to a-scene's webxr system options in requiredFeatures/optionalFeatures.`;f((g?g+" ":"")+y)}}})},"./src/utils/coordinates.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),p=h("utils:coordinates:warn"),f=["x","y","z","w"],M=/^\s*((-?\d*\.{0,1}\d+(e-?\d+)?)\s+){2,3}(-?\d*\.{0,1}\d+(e-?\d+)?)\s*$/;c.exports.regex=M;var g=/\s+/g;function y(_,E,S){var I,T,k,D,N=S&&typeof S=="object"?S:{},P,F,U,V;if(_&&_ instanceof Object)return P=_.x===void 0?E&&E.x:_.x,F=_.y===void 0?E&&E.y:_.y,U=_.z===void 0?E&&E.z:_.z,V=_.w===void 0?E&&E.w:_.w,P!=null&&(N.x=w(P)),F!=null&&(N.y=w(F)),U!=null&&(N.z=w(U)),V!=null&&(N.w=w(V)),N;if(_==null)return typeof E=="object"?Object.assign(N,E):E;for(I=_.trim().split(g),D=0;D<f.length;D++)if(k=f[D],I[D])N[k]=parseFloat(I[D],10);else{if(T=E&&E[k],T===void 0)continue;N[k]=w(T)}return N}c.exports.parse=y;function b(_){var E;return typeof _!="object"?_:(E=_.x+" "+_.y,_.z!=null&&(E+=" "+_.z),_.w!=null&&(E+=" "+_.w),E)}c.exports.stringify=b;function v(_,E){return typeof _!="object"||typeof E!="object"?_===E:_.x===E.x&&_.y===E.y&&_.z===E.z&&_.w===E.w}c.exports.equals=v;function C(_){return M.test(_)}c.exports.isCoordinates=C,c.exports.isCoordinate=function(_){return p("`AFRAME.utils.isCoordinate` has been renamed to `AFRAME.utils.isCoordinates`"),C(_)};function w(_){return _!=null&&_.constructor===String?parseFloat(_,10):_}c.exports.toVector3=function(_){return new THREE.Vector3(_.x,_.y,_.z)}},"./src/utils/debug.js":(c,d,u)=>{var h=u("./node_modules/debug/src/browser.js"),p=u("./src/utils/device.js").isBrowserEnvironment,f={colors:{debug:"gray",error:"red",info:"gray",warn:"orange"}};h.formatArgs=M;function M(C){if(C[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+C[0]+(this.useColors?"%c ":" "),!!this.useColors){this.color=y(this.namespace);var w="color: "+this.color;C.splice(1,0,w,"color: inherit");var _=0,E=0;C[0].replace(/%[a-zA-Z%]/g,function(S){S!=="%%"&&(_++,S==="%c"&&(E=_))}),C.splice(E,0,w)}}function g(C){var w=C.split(":");return w[w.length-1]}function y(C){var w=g(C),_=f.colors&&f.colors[w];return _||null}function b(){try{return window.localStorage}catch{}}var v=b();v&&(parseInt(v.logs,10)||v.logs==="true")?h.enable("*"):h.enable("*:error,*:info,*:warn"),p&&(window.logs=h),c.exports=h},"./src/utils/device.js":(c,d,u)=>{var h=u("./node_modules/debug/src/browser.js")("device:error"),p,f=!1,M=!1,g=c.exports.isWebXRAvailable=navigator.xr!==void 0;if(window.addEventListener("vrdisplayactivate",function(U){var V;g||(V=document.createElement("canvas"),p=U.display,V.getContext("webgl",{}),p.requestPresent([{source:V}]).then(function(){},function(){}))}),g){var y=function(){var U=document.querySelector("a-scene");if(!U){window.addEventListener("DOMContentLoaded",y);return}U.hasLoaded?U.components["xr-mode-ui"].updateEnterInterfaces():U.addEventListener("loaded",y)},b=function(U){h("WebXR session support error: "+U.message)};navigator.xr.isSessionSupported?(navigator.xr.isSessionSupported("immersive-vr").then(function(U){f=U,y()}).catch(b),navigator.xr.isSessionSupported("immersive-ar").then(function(U){M=U,y()}).catch(function(){})):navigator.xr.supportsSession?(navigator.xr.supportsSession("immersive-vr").then(function(){f=!0,y()}).catch(b),navigator.xr.supportsSession("immersive-ar").then(function(){M=!0,y()}).catch(function(){})):h("WebXR has neither isSessionSupported or supportsSession?!")}else navigator.getVRDisplays&&navigator.getVRDisplays().then(function(U){var V=document.querySelector("a-scene");p=U.length&&U[0],V&&V.emit("displayconnected",{vrDisplay:p})});function v(){return p}c.exports.getVRDisplay=v;function C(){return f||M||!!v()}c.exports.checkHeadsetConnected=C;function w(){return M}c.exports.checkARSupport=w;function _(){return f}c.exports.checkVRSupport=_;var E=function(){var U=!1;return function(V){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(V)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(V.substr(0,4)))&&(U=!0),(T()||S()||F())&&(U=!0),P()&&(U=!1)}(window.navigator.userAgent||window.navigator.vendor||window.opera),function(){return U}}();c.exports.isMobile=E;function S(U){var V=U||window.navigator.userAgent,z=/Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(V);return z||I()}c.exports.isTablet=S;function I(U,V,z){var G=U||window.navigator.userAgent,H=V||window.navigator.platform,J=z||window.navigator.maxTouchPoints||0;return(H==="iPad"||H==="MacIntel")&&J>0&&/Macintosh|Intel|iPad|ipad/i.test(G)&&!window.MSStream}c.exports.isIpad=I;function T(){return/iPad|iPhone|iPod/.test(window.navigator.platform)}c.exports.isIOS=T;function k(){return!E()&&!P()&&window.orientation!==void 0}c.exports.isMobileDeviceRequestingDesktopSite=k;function D(){return/(OculusBrowser)/i.test(window.navigator.userAgent)}c.exports.isOculusBrowser=D;function N(){return/(Mobile VR)/i.test(window.navigator.userAgent)}c.exports.isFirefoxReality=N;function P(){return D()||N()}c.exports.isMobileVR=P;function F(){return/R7 Build/.test(window.navigator.userAgent)}c.exports.isR7=F,c.exports.isLandscape=function(){var U=window.orientation;return F()&&(U+=90),U===90||U===-90},c.exports.isBrowserEnvironment=typeof process>"u"||process.browser===!0,c.exports.isNodeEnvironment=!c.exports.isBrowserEnvironment},"./src/utils/entity.js":(c,d,u)=>{var h=u("./src/utils/split.js").split;function p(f,M){M=M||".";var g=h(f,M);return g.length===1?g[0]:g}c.exports.getComponentPropertyPath=p,c.exports.getComponentProperty=function(f,M,g){var y;return g=g||".",M.indexOf(g)!==-1?(y=p(M,g),y.constructor===String?f.getAttribute(y):f.getAttribute(y[0])[y[1]]):f.getAttribute(M)},c.exports.setComponentProperty=function(f,M,g,y){var b;if(y=y||".",M.indexOf(y)!==-1){b=p(M,y),b.constructor===String?f.setAttribute(b,g):f.setAttribute(b[0],b[1],g);return}f.setAttribute(M,g)}},"./src/utils/forceCanvasResizeSafariMobile.js":c=>{c.exports=function(u){var h=u.style.width,p=u.style.height;u.style.width=parseInt(h,10)+1+"px",u.style.height=parseInt(p,10)+1+"px",setTimeout(function(){u.style.width=h,u.style.height=p},200)}},"./src/utils/index.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),p=u("./node_modules/deep-assign/index.js"),f=u("./src/utils/device.js"),M=u("./src/utils/object-pool.js"),g=h("utils:warn");c.exports.bind=function(b){return b.bind.apply(b,Array.prototype.slice.call(arguments,1))},c.exports.coordinates=u("./src/utils/coordinates.js"),c.exports.debug=h,c.exports.device=f,c.exports.entity=u("./src/utils/entity.js"),c.exports.forceCanvasResizeSafariMobile=u("./src/utils/forceCanvasResizeSafariMobile.js"),c.exports.material=u("./src/utils/material.js"),c.exports.objectPool=M,c.exports.split=u("./src/utils/split.js").split,c.exports.styleParser=u("./src/utils/styleParser.js"),c.exports.trackedControls=u("./src/utils/tracked-controls.js"),c.exports.checkHeadsetConnected=function(){return g("`utils.checkHeadsetConnected` has moved to `utils.device.checkHeadsetConnected`"),f.checkHeadsetConnected(arguments)},c.exports.isGearVR=c.exports.device.isGearVR=function(){g("`utils.isGearVR` has been deprecated, use `utils.device.isMobileVR`")},c.exports.isIOS=function(){return g("`utils.isIOS` has moved to `utils.device.isIOS`"),f.isIOS(arguments)},c.exports.isOculusGo=c.exports.device.isOculusGo=function(){g("`utils.isOculusGo` has been deprecated, use `utils.device.isMobileVR`")},c.exports.isMobile=function(){return g("`utils.isMobile has moved to `utils.device.isMobile`"),f.isMobile(arguments)},c.exports.throttle=function(b,v,C){var w;return C&&(b=b.bind(C)),function(){var _=Date.now(),E=typeof w>"u"?v:_-w;(typeof w>"u"||E>=v)&&(w=_,b.apply(null,arguments))}},c.exports.throttleLeadingAndTrailing=function(b,v,C){var w,_;C&&(b=b.bind(C));var E,S=function(){w=Date.now(),b.apply(this,E),_=void 0};return function(){var I=Date.now(),T=typeof w>"u"?v:I-w;T>=v?(clearTimeout(_),_=void 0,w=I,b.apply(null,arguments)):(_=_||setTimeout(S,v-T),E=arguments)}},c.exports.throttleTick=function(b,v,C){var w;return C&&(b=b.bind(C)),function(_,E){var S=typeof w>"u"?E:_-w;(typeof w>"u"||S>=v)&&(w=_,b(_,S))}},c.exports.debounce=function(b,v,C){var w;return function(){var _=this,E=arguments,S=function(){w=null,C||b.apply(_,E)},I=C&&!w;clearTimeout(w),w=setTimeout(S,v),I&&b.apply(_,E)}},c.exports.extend=Object.assign,c.exports.extendDeep=p,c.exports.clone=function(b){return JSON.parse(JSON.stringify(b))};var y=function(){var b=M.createPool(function(){return[]});return function(v,C){var w,_,E,S,I,T;if(v===void 0||C===void 0||v===null||C===null||!(v&&C&&v.constructor===Object&&C.constructor===Object||v.constructor===Array&&C.constructor===Array))return v===C;_=b.use(),E=b.use(),_.length=0,E.length=0;for(w in v)_.push(w);for(w in C)E.push(w);if(_.length!==E.length)return b.recycle(_),b.recycle(E),!1;for(S=0;S<_.length;++S)if(I=v[_[S]],T=C[_[S]],typeof I=="object"||typeof T=="object"||Array.isArray(I)&&Array.isArray(T)){if(I===T)continue;if(!y(I,T))return b.recycle(_),b.recycle(E),!1}else if(I!==T)return b.recycle(_),b.recycle(E),!1;return b.recycle(_),b.recycle(E),!0}}();c.exports.deepEqual=y,c.exports.diff=function(){var b=[];return function(v,C,w){var _,E,S,I,T,k,D;I=w||{},b.length=0;for(T in v)b.push(T);if(!C)return I;for(S in C)b.indexOf(S)===-1&&b.push(S);for(k=0;k<b.length;k++)T=b[k],_=v[T],E=C[T],D=_&&E&&_.constructor===Object&&E.constructor===Object,(D&&!y(_,E)||!D&&_!==E)&&(I[T]=E);return I}}(),c.exports.shouldCaptureKeyEvent=function(b){return b.metaKey?!1:document.activeElement===document.body},c.exports.splitString=function(b,v){typeof v>"u"&&(v=" ");var C=new RegExp(v,"g");return b=(b||"").replace(C,v),b.split(v)},c.exports.getElData=function(b,v){v=v||{};var C={};Object.keys(v).forEach(w);function w(_){b.hasAttribute(_)&&(C[_]=b.getAttribute(_))}return C},c.exports.getUrlParameter=function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var v=new RegExp("[\\?&]"+b+"=([^&#]*)"),C=v.exec(location.search);return C===null?"":decodeURIComponent(C[1].replace(/\+/g," "))},c.exports.isIframed=function(){return window.top!==window.self},c.exports.findAllScenes=function(b){for(var v=[],C=b.getElementsByTagName("*"),w=0,_=C.length;w<_;w++)C[w].isScene&&v.push(C[w]);return v},c.exports.srcLoader=u("./src/utils/src-loader.js")},"./src/utils/ios-orientationchange-blank-bug.js":()=>{window.addEventListener("orientationchange",function(){document.documentElement.style.height="initial",setTimeout(function(){document.documentElement.style.height="100%",setTimeout(function(){window.scrollTo(0,1)},500)},500)})},"./src/utils/isIOSOlderThan10.js":c=>{c.exports=function(u){return/(iphone|ipod|ipad).*os.(7_|8_|9_)/i.test(u)}},"./src/utils/material.js":(c,d,u)=>{var h=u("./src/lib/three.js"),p=u("./src/utils/src-loader.js"),f=u("./src/utils/debug.js"),M=f("utils:material:warn"),g=new Set(["emissiveMap","envMap","map","specularMap"]);function y(_,E){var S=E.offset||{x:0,y:0},I=E.repeat||{x:1,y:1},T=E.npot||!1,k=E.anisotropy||h.Texture.DEFAULT_ANISOTROPY,D=_.wrapS,N=_.wrapT,P=_.magFilter,F=_.minFilter;T&&(D=h.ClampToEdgeWrapping,N=h.ClampToEdgeWrapping,P=h.LinearFilter,F=h.LinearFilter),(I.x!==1||I.y!==1)&&(D=h.RepeatWrapping,N=h.RepeatWrapping),_.offset.set(S.x,S.y),_.repeat.set(I.x,I.y),(_.wrapS!==D||_.wrapT!==N||_.magFilter!==P||_.minFilter!==F||_.anisotropy!==k)&&(_.wrapS=D,_.wrapT=N,_.magFilter=P,_.minFilter=F,_.anisotropy=k,_.needsUpdate=!0)}c.exports.setTextureProperties=y,c.exports.updateMapMaterialFromData=function(_,E,S,I){var T=S.el,k=S.material,D=T.sceneEl.systems.renderer,N=I[E];if(S.materialSrcs||(S.materialSrcs={}),!N){delete S.materialSrcs[_],F(null);return}if(N===S.materialSrcs[_]&&k[_]){y(k[_],I);return}S.materialSrcs[_]=N,N instanceof h.Texture?F(N):T.sceneEl.systems.material.loadTextureSource(N,P);function P(U){if(S.materialSrcs[_]===N){var V=k[_];V&&(U===null||!C(V,U))&&(V=null),!V&&U&&(V=w(U)),V&&(V.source!==U&&(V.source=U,V.needsUpdate=!0),g.has(_)&&D.applyColorCorrection(V),y(V,I)),F(V)}}function F(U){k[_]!==U&&(k[_]&&k[_].dispose(),k[_]=U,k.needsUpdate=!0,v(T,U))}},c.exports.updateMap=function(_,E){return c.exports.updateMapMaterialFromData("map","src",_,E)},c.exports.updateDistortionMap=function(_,E,S){var I=_;_==="ambientOcclusion"&&(I="ao");var T={};return T.src=S[_+"Map"],T.offset=S[_+"TextureOffset"],T.repeat=S[_+"TextureRepeat"],T.wrap=S[_+"TextureWrap"],c.exports.updateMapMaterialFromData(I+"Map","src",E,T)};var b={};c.exports.updateEnvMap=function(_,E){var S=_.material,I=_.el,T="envMap",k=E.envMap,D=E.sphericalEnvMap,N=E.refract;if(D&&(k=D,M("`sphericalEnvMap` property is deprecated, using spherical map as equirectangular map instead. Use `envMap` property with a CubeMap or Equirectangular image instead.")),_.materialSrcs||(_.materialSrcs={}),!k){delete _.materialSrcs[T],S.envMap=null,S.needsUpdate=!0;return}if(_.materialSrcs[T]=k,b[k]){b[k].then(P);return}b[k]=new Promise(function(F){p.validateEnvMapSrc(k,function(V){I.sceneEl.systems.material.loadCubeMapTexture(V,function(z){z.mapping=N?h.CubeRefractionMapping:h.CubeReflectionMapping,P(z),F(z)})},function(V){I.sceneEl.systems.material.loadTexture(V,{src:V},function(z){z.mapping=N?h.EquirectangularRefractionMapping:h.EquirectangularReflectionMapping,P(z),F(z)})})});function P(F){_.materialSrcs[T]===k&&(S.envMap=F,S.needsUpdate=!0,v(I,F))}};function v(_,E){if(!E||(_.emit("materialtextureloaded",{src:E.image,texture:E}),!E.image||E.image.tagName!=="VIDEO"))return;E.image.addEventListener("loadeddata",S),E.image.addEventListener("ended",I);function S(){_.emit("materialvideoloadeddata",{src:E.image,texture:E})}function I(){_.emit("materialvideoended",{src:E.image,texture:E})}E.addEventListener("dispose",function(){E.image.removeEventListener("loadeddata",S),E.image.removeEventListener("ended",I)})}c.exports.handleTextureEvents=v;function C(_,E){return E.data instanceof HTMLCanvasElement?_.isCanvasTexture:E.data instanceof HTMLVideoElement?_.isVideoTexture&&_.source===E:_.isTexture&&!_.isCanvasTexture&&!_.isVideoTexture}c.exports.isCompatibleTexture=C;function w(_){var E;return _.data instanceof HTMLCanvasElement?E=new h.CanvasTexture:_.data instanceof HTMLVideoElement?E=new h.VideoTexture(_.data):E=new h.Texture,E.source=_,E.needsUpdate=!0,E}c.exports.createCompatibleTexture=w},"./src/utils/math.js":c=>{function d(h,p,f){var M=p.dot(h);return(M-p.dot(f))/p.length()}function u(h,p,f,M){var g=d(h,p,f);return M.copy(p),M.multiplyScalar(g),M.add(f),M}c.exports.distanceOfPointFromPlane=d,c.exports.nearestPointInPlane=u},"./src/utils/object-pool.js":c=>{var d=Object.freeze(Object.create(null));function u(){return{}}c.exports.createPool=function(M){var g=[],y=null;M=M||u;function b(){var _;return(y===null||y===g.length)&&C(g.length||5),_=g[y],g[y++]=d,h(_),_}function v(_){if(_ instanceof Object){if(y===null||y===-1){g[g.length]=_;return}g[--y]=_}}function C(_){var E,S;if(_=_===void 0?g.length:_,_>0&&y==null&&(y=0),_>0)for(E=g.length,g.length+=Number(_),S=E;S<g.length;S++)g[S]=M();return g.length}function w(){return g.length}return{grow:C,pool:g,recycle:v,size:w,use:b}};function h(f){var M;if(!(!f||f.constructor!==Object))for(M in f)f[M]=void 0}c.exports.clearObject=h;function p(f,M){var g;if(!(!f||f.constructor!==Object))for(g in f)g in M||delete f[g]}c.exports.removeUnusedKeys=p},"./src/utils/split.js":c=>{c.exports.split=function(){var d={};return function(u,h){return h in d||(d[h]={}),u in d[h]||(d[h][u]=u.split(h)),d[h][u]}}()},"./src/utils/src-loader.js":(c,d,u)=>{var h=u("./src/utils/debug.js"),p=h("utils:src-loader:warn");function f(w,_,E){b(w,function(I){if(I){_(w);return}E(w)})}function M(w,_,E){var S,I="",T,k,D=[];if(typeof w=="string"){let P=function(F){D.push(F),D.length===6&&_(D)};for(T=0;T<5;T++)I+="(url\\((?:[^\\)]+)\\),\\s*)";if(I+="(url\\((?:[^\\)]+)\\)\\s*)",k=w.match(new RegExp(I)),k){for(T=1;T<7;T++)f(y(k[T]),P);return}if(!w.startsWith("#")){var N=y(w);f(N||w,E);return}}if(w.tagName?S=w:S=C(w),!!S){if(S.tagName==="A-CUBEMAP"&&S.srcs)return _(S.srcs);if(S.tagName==="IMG")return E(S);p('Selector "%s" does not point to <a-cubemap> or <img>',w)}}function g(w,_){return M(w,_,function(){p("Expected cubemap but got image")})}function y(w){var _=w.match(/url\((.+)\)/);if(_)return _[1]}function b(w,_){var E;if(w.tagName){_(w.tagName==="IMG");return}E=new XMLHttpRequest,E.open("HEAD",w),E.addEventListener("load",function(S){var I;E.status>=200&&E.status<300?(I=E.getResponseHeader("Content-Type"),I==null?v(w,_):I.startsWith("image")?_(!0):_(!1)):v(w,_),E.abort()}),E.send()}function v(w,_){var E=new Image;E.addEventListener("load",S);function S(){_(!0)}E.addEventListener("error",I);function I(){_(!1)}E.src=w}function C(w){try{var _=document.querySelector(w);return _||p('No element was found matching the selector: "%s"',w),_}catch{p('"%s" is not a valid selector',w);return}}c.exports={parseUrl:y,validateSrc:f,validateCubemapSrc:g,validateEnvMapSrc:M}},"./src/utils/styleParser.js":c=>{var d=/-([a-z])/g;c.exports.parse=function(g,y){var b;return typeof g!="string"||(b=p(g,y),b[""])?g:b},c.exports.stringify=function(g){return typeof g=="string"?g:f(g)};function u(g){return g.replace(d,M)}c.exports.toCamelCase=u;var h=function(){var g=[],y=/url\([^)]+$/;return function(v){var C="",w,_=0,E=";";for(g.length=0;_<v.length;){if(w=v.indexOf(E,_),w===-1&&(w=v.length),C+=v.substring(_,w),y.test(C)){C+=";",_=w+1;continue}g.push(C.trim()),C="",_=w+1}return g}}();function p(g,y){var b,v,C,w,_,E;for(y=y||{},b=h(g),v=0;v<b.length;v++)C=b[v],C&&(w=C.indexOf(":"),_=C.substr(0,w).trim(),E=C.substr(w+1).trim(),y[u(_)]=E);return y}function f(g){var y,b=0,v=0,C="";for(y in g)b++;for(y in g)C+=y+": "+g[y],v<b-1&&(C+="; "),v++;return C}function M(g){return g[1].toUpperCase()}},"./src/utils/tracked-controls.js":(c,d,u)=>{var h=u("./src/constants/index.js").DEFAULT_HANDEDNESS,p=["x","y","z","w"],f=2;c.exports.checkControllerPresentAndSetup=function(v,C,w){var _=v.el,E,S=_.sceneEl.hasWebXR,I=S?g:M,T;if(E=I(v,C,w),T=!!E,v.controllerPresent&&!v.controllerEventsActive&&!S&&v.addEventListeners(),T===v.controllerPresent)return T;v.controllerPresent=T,T?(v.addEventListeners(),v.injectTrackedControls(E),_.emit("controllerconnected",{name:v.name,component:v})):(v.removeEventListeners(),_.emit("controllerdisconnected",{name:v.name,component:v}))};function M(v,C,w){var _,E=v.el.sceneEl,S,I=w.index||0;return!C||(S=E&&E.systems["tracked-controls-webvr"],!S)||(_=S.controllers,!_.length)?!1:!!y(_,null,C,w.hand,I)}function g(v,C,w){var _,E=v.el.sceneEl,S=E&&E.systems["tracked-controls-webxr"];return!S||(_=S.controllers,!_||!_.length)?!1:b(_,C,w.hand,w.index,w.iterateControllerProfiles,w.handTracking)}c.exports.isControllerPresentWebVR=M,c.exports.isControllerPresentWebXR=g;function y(v,C,w,_,E){var S,I,T=0,k=E>=0?E:0;for(I=0;I<v.length;I++)if(S=v[I],!(w&&!S.id.startsWith(w))&&!(!w&&S.id!==C)&&!(_&&S.hand&&_!==S.hand)){if(_&&!S.hand)k=f*E+(_===h?0:1);else return S;if(T===k)return S;++T}}function b(v,C,w,_,E,S){var I,T,k,D=!1,N,P;for(I=0;I<v.length;I++){if(k=v[I],P=k.profiles,S)D=k.hand;else if(E)for(T=0;T<P.length&&(D=P[T].startsWith(C),!D);T++);else D=P.length>0&&P[0].startsWith(C);if(D){if(N=k.handedness==="right"||k.handedness==="left",N){if(k.handedness===w)return v[I]}else if(I===_)return v[I]}}}c.exports.findMatchingControllerWebVR=y,c.exports.findMatchingControllerWebXR=b,c.exports.emitIfAxesChanged=function(v,C,w){var _,E,S,I,T;for(E in C){for(_=C[E],S=!1,T=0;T<_.length;T++)w.detail.changed[_[T]]&&(S=!0);if(S){for(I={},T=0;T<_.length;T++)I[p[T]]=w.detail.axis[_[T]];v.el.emit(E+"moved",I)}}},c.exports.onButtonEvent=function(v,C,w,_){var E=_?w.mapping[_]:w.mapping,S=E.buttons[v];w.el.emit(S+C),w.updateModel&&w.updateModel(S,C)}},"./vendor/DeviceOrientationControls.js":()=>{THREE.DeviceOrientationControls=function(c){var d=this;this.object=c,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var u=function(f){d.deviceOrientation=f},h=function(){d.screenOrientation=window.orientation||0},p=function(){var f=new THREE.Vector3(0,0,1),M=new THREE.Euler,g=new THREE.Quaternion,y=new THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));return function(b,v,C,w,_){M.set(C,v,-w,"YXZ"),b.setFromEuler(M),b.multiply(y),b.multiply(g.setFromAxisAngle(f,-_))}}();this.connect=function(){h(),window.addEventListener("orientationchange",h,!1),window.addEventListener("deviceorientation",u,!1),d.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",h,!1),window.removeEventListener("deviceorientation",u,!1),d.enabled=!1},this.update=function(){if(d.enabled!==!1){var f=d.deviceOrientation;if(f){var M=f.alpha?THREE.MathUtils.degToRad(f.alpha)+d.alphaOffset:0,g=f.beta?THREE.MathUtils.degToRad(f.beta):0,y=f.gamma?THREE.MathUtils.degToRad(f.gamma):0,b=d.screenOrientation?THREE.MathUtils.degToRad(d.screenOrientation):0;p(d.object.quaternion,M,g,y,b)}}},this.dispose=function(){d.disconnect()},this.connect()}},"./vendor/rStats.extras.js":c=>{window.glStats=function(){var d=null,u=0,h=0,p=0,f=0,M=0,g=0,y=0;function b(T,k){return function(){k.apply(this,arguments),T.apply(this,arguments)}}WebGLRenderingContext.prototype.drawArrays=b(WebGLRenderingContext.prototype.drawArrays,function(){u++,arguments[0]==this.POINTS?g+=arguments[2]:M+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=b(WebGLRenderingContext.prototype.drawElements,function(){h++,f+=arguments[1]/3,M+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=b(WebGLRenderingContext.prototype.useProgram,function(){p++}),WebGLRenderingContext.prototype.bindTexture=b(WebGLRenderingContext.prototype.bindTexture,function(){y++});var v={allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},C=[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],w=[{base:"allcalls",steps:["drawelements","drawarrays"]}];function _(){d("allcalls").set(u+h),d("drawElements").set(h),d("drawArrays").set(u),d("bindTexture").set(y),d("useProgram").set(p),d("glfaces").set(f),d("glvertices").set(M),d("glpoints").set(g)}function E(){u=0,h=0,p=0,f=0,M=0,g=0,y=0}function S(){}function I(T){d=T}return{update:_,start:E,end:S,attach:I,values:v,groups:C,fractions:w}},window.threeStats=function(d){var u=null,h={"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.triangles":{caption:"Triangles",over:1e3},"renderer.info.render.points":{caption:"Points"}},p=[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.triangles","renderer.info.render.points"]}],f=[];function M(){u("renderer.info.memory.geometries").set(d.info.memory.geometries),u("renderer.info.programs").set(d.info.programs.length),u("renderer.info.memory.textures").set(d.info.memory.textures),u("renderer.info.render.calls").set(d.info.render.calls),u("renderer.info.render.triangles").set(d.info.render.triangles),u("renderer.info.render.points").set(d.info.render.points)}function g(){}function y(){}function b(v){u=v}return{update:M,start:g,end:y,attach:b,values:h,groups:p,fractions:f}},window.BrowserStats=function(){var d=null,u=0,h=0;window.performance&&!performance.memory&&(performance.memory={usedJSHeapSize:0,totalJSHeapSize:0}),performance.memory.totalJSHeapSize===0&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var p={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},f=[{caption:"Browser",values:["memory","total"]}],M=[{base:"total",steps:["memory"]}],g=Math.log(1024);function y(_){var E=100,S=Math.floor(Math.log(_)/g);return Math.round(_*E/Math.pow(1024,S))/E}function b(){u=y(performance.memory.usedJSHeapSize),h=y(performance.memory.totalJSHeapSize),d("memory").set(u),d("total").set(h)}function v(){u=0}function C(){}function w(_){d=_}return{update:b,start:v,end:C,attach:w,values:p,groups:f,fractions:M}},c.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats}},"./vendor/rStats.js":c=>{(function(){"performance"in window||(window.performance={});var d=window.performance;if(!("now"in d)){var u=Date.now();d.timing&&d.timing.navigationStart&&(u=d.timing.navigationStart),d.now=function(){return Date.now()-u}}d.mark||(d.mark=function(){}),d.measure||(d.measure=function(){})})(),window.rStats=function(u){function h(P,F){for(var U=Object.keys(P),V=0,z=U.length;V<z;V++)F(U[V])}function p(P){var F=document.createElement("link");F.href=P,F.rel="stylesheet",F.type="text/css",document.getElementsByTagName("head")[0].appendChild(F)}var f=u||{},M=f.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],g="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",y=(f.CSSPath?f.CSSPath:"")+"rStats.css",b=f.css||[g,y];b.forEach(function(P){p(P)}),f.values||(f.values={});var v,C,w=10,_=200,E={};function S(P,F,U){var V=U||{},z=document.createElement("canvas"),G=z.getContext("2d"),H=0,J=0,Z=V.color?V.color:"#666666",j=document.createElement("canvas"),W=j.getContext("2d");j.width=1,j.height=2*w,W.fillStyle="#444444",W.fillRect(0,0,1,2*w),W.fillStyle=Z,W.fillRect(0,w,1,w),W.fillStyle="#ffffff",W.globalAlpha=.5,W.fillRect(0,w,1,1),W.globalAlpha=1;var et=document.createElement("canvas"),dt=et.getContext("2d");et.width=1,et.height=2*w,dt.fillStyle="#444444",dt.fillRect(0,0,1,2*w),dt.fillStyle="#b70000",dt.fillRect(0,w,1,w),dt.globalAlpha=.5,dt.fillStyle="#ffffff",dt.fillRect(0,w,1,1),dt.globalAlpha=1;function ht(){z.width=_,z.height=w,z.style.width=z.width+"px",z.style.height=z.height+"px",z.className="rs-canvas",P.appendChild(z),G.fillStyle="#444444",G.fillRect(0,0,z.width,z.height)}function st(St,At){J+=(St-J)*.1,H*=.99,J>H&&(H=J),G.drawImage(z,1,0,z.width-1,z.height,0,0,z.width-1,z.height),At?G.drawImage(et,z.width-1,z.height-J*z.height/H-w):G.drawImage(j,z.width-1,z.height-J*z.height/H-w)}return ht(),{draw:st}}function I(P,F){var U=document.createElement("canvas"),V=U.getContext("2d");function z(){U.width=_,U.height=w*F,U.style.width=U.width+"px",U.style.height=U.height+"px",U.className="rs-canvas",P.appendChild(U),V.fillStyle="#444444",V.fillRect(0,0,U.width,U.height)}function G(H){V.drawImage(U,1,0,U.width-1,U.height,0,0,U.width-1,U.height);var J=0;h(H,function(Z){var j=H[Z]*U.height;V.fillStyle=M[Z],V.fillRect(U.width-1,J,1,j),J+=j})}return z(),{draw:G}}function T(P,F){var U=P,V,z=0,G=0,H=0,J=0,Z=performance.now(),j=0,W=document.createElement("div"),et=document.createElement("span"),dt=document.createElement("div"),ht=document.createTextNode(""),st=f?f.values[U.toLowerCase()]:null,St=new S(W,U,st),At=!1;et.className="rs-counter-id",et.textContent=st&&st.caption?st.caption:U,dt.className="rs-counter-value",dt.appendChild(ht),W.appendChild(et),W.appendChild(dt),F?F.div.appendChild(W):C.appendChild(W),V=performance.now();function xt(Gt){if(st&&st.average){J+=Gt,j++;var ce=performance.now();ce-Z>=(st.avgMs||1e3)&&(H=J/j,J=0,Z=ce,j=0)}}function gt(){V=performance.now(),f.userTimingAPI&&performance.mark(U+"-start"),At=!0}function yt(){z=performance.now()-V,f.userTimingAPI&&(performance.mark(U+"-end"),At&&performance.measure(U,U+"-start",U+"-end")),xt(z)}function lt(){yt(),gt()}function zt(){var Gt=st&&st.average?H:z;ht.nodeValue=Math.round(Gt*100)/100;var ce=st&&(st.below&&z<st.below||st.over&&z>st.over);St.draw(z,ce),W.className=ce?"rs-counter-base alarm":"rs-counter-base"}function kt(){var Gt=performance.now(),ce=Gt-V;G++,ce>1e3&&(st&&st.interpolate===!1?z=G:z=G*1e3/ce,G=0,V=Gt,xt(z))}function Jt(Gt){z=Gt,xt(z)}return{set:Jt,start:gt,tick:lt,end:yt,frame:kt,value:function(){return z},draw:zt}}function k(P){var F=P.toLowerCase();if(F===void 0&&(F="default"),E[F])return E[F];var U=null;f&&f.groups&&h(f.groups,function(z){var G=f.groups[parseInt(z,10)];!U&&G.values.indexOf(F.toLowerCase())!==-1&&(U=G)});var V=new T(F,U);return E[F]=V,V}function D(){if(f.plugins){f.values||(f.values={}),f.groups||(f.groups=[]),f.fractions||(f.fractions=[]);for(var P=0;P<f.plugins.length;P++)f.plugins[P].attach(k),h(f.plugins[P].values,function(F){f.values[F]=f.plugins[P].values[F]}),f.groups=f.groups.concat(f.plugins[P].groups),f.fractions=f.fractions.concat(f.plugins[P].fractions)}else f.plugins={};v=document.createElement("div"),v.className="rs-base",C=document.createElement("div"),C.className="rs-container",C.style.height="auto",v.appendChild(C),document.body.appendChild(v),f&&(f.groups&&h(f.groups,function(F){var U=f.groups[parseInt(F,10)],V=document.createElement("div");V.className="rs-group",U.div=V;var z=document.createElement("h1");z.textContent=U.caption,z.addEventListener("click",(function(G){this.classList.toggle("hidden"),G.preventDefault()}).bind(V)),C.appendChild(z),C.appendChild(V)}),f.fractions&&h(f.fractions,function(F){var U=f.fractions[parseInt(F,10)],V=document.createElement("div");V.className="rs-fraction";var z=document.createElement("div");z.className="rs-legend";var G=0;h(f.fractions[F].steps,function(J){var Z=document.createElement("p");Z.textContent=f.fractions[F].steps[J],Z.style.color=M[G],z.appendChild(Z),G++}),V.appendChild(z),V.style.height=G*w+"px",U.div=V;var H=new I(V,G);U.graph=H,C.appendChild(V)}))}function N(){h(f.plugins,function(P){f.plugins[P].update()}),h(E,function(P){E[P].draw()}),f&&f.fractions&&h(f.fractions,function(P){var F=f.fractions[parseInt(P,10)],U=[],V=E[F.base.toLowerCase()];V&&(V=V.value(),h(f.fractions[P].steps,function(z){var G=f.fractions[P].steps[parseInt(z,10)].toLowerCase(),H=E[G];H&&U.push(H.value()/V)})),F.graph.draw(U)})}return D(),function(P){return P?k(P):{element:v,update:N}}},c.exports=window.rStats},"./vendor/wakelock/util.js":c=>{var d={};d.base64=function(u,h){return"data:"+u+";base64,"+h},d.isMobile=function(){var u=!1;return function(h){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(h)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(h.substr(0,4)))&&(u=!0)}(navigator.userAgent||navigator.vendor||window.opera),u},d.isIOS=function(){return/(iPad|iPhone|iPod)/g.test(navigator.userAgent)},d.isIFrame=function(){try{return window.self!==window.top}catch{return!0}},d.appendQueryParameter=function(u,h,p){var f=u.indexOf("?")<0?"?":"&";return u+=f+h+"="+p,u},d.getQueryParameter=function(u){u=u.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var h=new RegExp("[\\?&]"+u+"=([^&#]*)"),p=h.exec(location.search);return p===null?"":decodeURIComponent(p[1].replace(/\+/g," "))},d.isLandscapeMode=function(){return window.orientation==90||window.orientation==-90},c.exports=d},"./vendor/wakelock/wakelock.js":(c,d,u)=>{var h=u("./vendor/wakelock/util.js");function p(){var g=document.createElement("video");g.addEventListener("ended",function(){g.play()}),this.request=function(){g.paused&&(g.src=h.base64("video/webm","GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAH4xFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsggfG7AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU2LjQwLjEwMVdBjUxhdmY1Ni40MC4xMDFzpJAGSJTMbsLpDt/ySkipgX1fRImIQO1MAAAAAAAWVK5rAQAAAAAAADuuAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDmDgQEj44OEO5rKAOABAAAAAAAABrCBsLqBkB9DtnUBAAAAAAAAo+eBAKOmgQAAgKJJg0IAAV4BHsAHBIODCoAACmH2MAAAZxgz4dPSTFi5JACjloED6ACmAECSnABMQAADYAAAWi0quoCjloEH0ACmAECSnABNwAADYAAAWi0quoCjloELuACmAECSnABNgAADYAAAWi0quoCjloEPoACmAECSnABNYAADYAAAWi0quoCjloETiACmAECSnABNIAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTnghdwo5aBAAAApgBAkpwATOAAA2AAAFotKrqAo5aBA+gApgBAkpwATMAAA2AAAFotKrqAo5aBB9AApgBAkpwATIAAA2AAAFotKrqAo5aBC7gApgBAkpwATEAAA2AAAFotKrqAo5aBD6AApgDAkpwAQ2AAA2AAAFotKrqAo5aBE4gApgBAkpwATCAAA2AAAFotKrqAH0O2dQEAAAAAAACU54Iu4KOWgQAAAKYAQJKcAEvAAANgAABaLSq6gKOWgQPoAKYAQJKcAEtgAANgAABaLSq6gKOWgQfQAKYAQJKcAEsAAANgAABaLSq6gKOWgQu4AKYAQJKcAEqAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEogAANgAABaLSq6gKOWgROIAKYAQJKcAEnAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCRlCjloEAAACmAECSnABJgAADYAAAWi0quoCjloED6ACmAECSnABJIAADYAAAWi0quoCjloEH0ACmAMCSnABDYAADYAAAWi0quoCjloELuACmAECSnABI4AADYAAAWi0quoCjloEPoACmAECSnABIoAADYAAAWi0quoCjloETiACmAECSnABIYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngl3Ao5aBAAAApgBAkpwASCAAA2AAAFotKrqAo5aBA+gApgBAkpwASAAAA2AAAFotKrqAo5aBB9AApgBAkpwAR8AAA2AAAFotKrqAo5aBC7gApgBAkpwAR4AAA2AAAFotKrqAo5aBD6AApgBAkpwAR2AAA2AAAFotKrqAo5aBE4gApgBAkpwARyAAA2AAAFotKrqAH0O2dQEAAAAAAACU54J1MKOWgQAAAKYAwJKcAENgAANgAABaLSq6gKOWgQPoAKYAQJKcAEbgAANgAABaLSq6gKOWgQfQAKYAQJKcAEagAANgAABaLSq6gKOWgQu4AKYAQJKcAEaAAANgAABaLSq6gKOWgQ+gAKYAQJKcAEZAAANgAABaLSq6gKOWgROIAKYAQJKcAEYAAANgAABaLSq6gB9DtnUBAAAAAAAAlOeCjKCjloEAAACmAECSnABF4AADYAAAWi0quoCjloED6ACmAECSnABFwAADYAAAWi0quoCjloEH0ACmAECSnABFoAADYAAAWi0quoCjloELuACmAECSnABFgAADYAAAWi0quoCjloEPoACmAMCSnABDYAADYAAAWi0quoCjloETiACmAECSnABFYAADYAAAWi0quoAfQ7Z1AQAAAAAAAJTngqQQo5aBAAAApgBAkpwARUAAA2AAAFotKrqAo5aBA+gApgBAkpwARSAAA2AAAFotKrqAo5aBB9AApgBAkpwARQAAA2AAAFotKrqAo5aBC7gApgBAkpwARQAAA2AAAFotKrqAo5aBD6AApgBAkpwAROAAA2AAAFotKrqAo5aBE4gApgBAkpwARMAAA2AAAFotKrqAH0O2dQEAAAAAAACU54K7gKOWgQAAAKYAQJKcAESgAANgAABaLSq6gKOWgQPoAKYAQJKcAESAAANgAABaLSq6gKOWgQfQAKYAwJKcAENgAANgAABaLSq6gKOWgQu4AKYAQJKcAERgAANgAABaLSq6gKOWgQ+gAKYAQJKcAERAAANgAABaLSq6gKOWgROIAKYAQJKcAEQgAANgAABaLSq6gB9DtnUBAAAAAAAAlOeC0vCjloEAAACmAECSnABEIAADYAAAWi0quoCjloED6ACmAECSnABEAAADYAAAWi0quoCjloEH0ACmAECSnABD4AADYAAAWi0quoCjloELuACmAECSnABDwAADYAAAWi0quoCjloEPoACmAECSnABDoAADYAAAWi0quoCjloETiACmAECSnABDgAADYAAAWi0quoAcU7trAQAAAAAAABG7j7OBALeK94EB8YIBd/CBAw=="),g.play())},this.release=function(){g.pause(),g.src=""}}function f(){var g=null;this.request=function(){g||(g=setInterval(function(){window.location.href="/",setTimeout(window.stop,0)},15e3))},this.release=function(){g&&(clearInterval(g),g=null)}}function M(){var g=navigator.userAgent||navigator.vendor||window.opera;return g.match(/iPhone/i)||g.match(/iPod/i)?f:p}c.exports=M()},"./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css":(c,d,u)=>{u.r(d),u.d(d,{default:()=>N});var h=u("./node_modules/css-loader/dist/runtime/sourceMaps.js"),p=u.n(h),f=u("./node_modules/css-loader/dist/runtime/api.js"),M=u.n(f),g=u("./node_modules/css-loader/dist/runtime/getUrl.js"),y=u.n(g),b=new URL(u("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),u.b),v=new URL(u("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"),u.b),C=new URL(u("data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"),u.b),w=new URL(u("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"),u.b),_=new URL(u("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"),u.b),E=M()(p()),S=y()(b),I=y()(v),T=y()(C),k=y()(w),D=y()(_);E.push([c.id,`/* .a-fullscreen means not embedded. */
html.a-fullscreen {
  bottom: 0;
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

html.a-fullscreen body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}

/* Class is removed when doing <a-scene embedded>. */
html.a-fullscreen .a-canvas {
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  position: fixed !important;
}

html:not(.a-fullscreen) .a-enter-vr,
html:not(.a-fullscreen) .a-enter-ar {
  right: 5px;
  bottom: 5px;
}

html:not(.a-fullscreen) .a-enter-ar {
  right: 60px;
}

/* In chrome mobile the user agent stylesheet set it to white  */
:-webkit-full-screen {
  background-color: transparent;
}

.a-hidden {
  display: none !important;
}

.a-canvas {
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.a-canvas.a-grab-cursor:hover {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

canvas.a-canvas.a-mouse-cursor-hover:hover {
  cursor: pointer;
}

.a-inspector-loader {
  background-color: #ed3160;
  position: fixed;
  left: 3px;
  top: 3px;
  padding: 6px 10px;
  color: #fff;
  text-decoration: none;
  font-size: 12px;
  font-family: Roboto,sans-serif;
  text-align: center;
  z-index: 99999;
  width: 204px;
}

/* Inspector loader animation */
@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }
@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }

.a-inspector-loader .dots span {
  animation: dots-1 2s infinite steps(1);
  -webkit-animation: dots-1 2s infinite steps(1);
}

.a-inspector-loader .dots span:first-child + span {
  animation-name: dots-2;
  -webkit-animation-name: dots-2;
}

.a-inspector-loader .dots span:first-child + span + span {
  animation-name: dots-3;
  -webkit-animation-name: dots-3;
}

a-scene {
  display: block;
  position: relative;
  height: 100%;
  width: 100%;
}

a-assets,
a-scene video,
a-scene img,
a-scene audio {
  display: none;
}

.a-enter-vr-modal,
.a-orientation-modal {
  font-family: Consolas, Andale Mono, Courier New, monospace;
}

.a-enter-vr-modal a {
  border-bottom: 1px solid #fff;
  padding: 2px 0;
  text-decoration: none;
  transition: .1s color ease-in;
}

.a-enter-vr-modal a:hover {
  background-color: #fff;
  color: #111;
  padding: 2px 4px;
  position: relative;
  left: -4px;
}

.a-enter-vr,
.a-enter-ar {
  font-family: sans-serif, monospace;
  font-size: 13px;
  width: 100%;
  font-weight: 200;
  line-height: 16px;
  position: absolute;
  right: 20px;
  bottom: 20px;
}

.a-enter-ar.xr {
  right: 90px;
}

.a-enter-vr-button,
.a-enter-vr-modal,
.a-enter-vr-modal a {
  color: #fff;
  user-select: none;
  outline: none;
}

.a-enter-vr-button {
  background: rgba(0, 0, 0, 0.35) url(`+S+`) 50% 50% no-repeat;
}

.a-enter-ar-button {
  background: rgba(0, 0, 0, 0.20) url(`+I+`) 50% 50% no-repeat;
}

.a-enter-vr.fullscreen .a-enter-vr-button {
  background-image: url(`+T+`);
}

.a-enter-vr-button,
.a-enter-ar-button {
  background-size: 90% 90%;
  border: 0;
  bottom: 0;
  cursor: pointer;
  min-width: 58px;
  min-height: 34px;
  /* 1.74418604651 */
  /*
    In order to keep the aspect ratio when resizing
    padding-top percentages are relative to the containing block's width.
    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio
  */
  padding-right: 0;
  padding-top: 0;
  position: absolute;
  right: 0;
  transition: background-color .05s ease;
  -webkit-transition: background-color .05s ease;
  z-index: 9999;
  border-radius: 8px;
  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */
}

.a-enter-ar-button {
  background-size: 100% 90%;
  border-radius: 7px;
}

.a-enter-ar-button:active,
.a-enter-ar-button:hover,
.a-enter-vr-button:active,
.a-enter-vr-button:hover {
  background-color: #ef2d5e;
}

.a-enter-vr-button.resethover {
  background-color: rgba(0, 0, 0, 0.35);
}

.a-enter-vr-modal {
  background-color: #666;
  border-radius: 0;
  display: none;
  min-height: 32px;
  margin-right: 70px;
  padding: 9px;
  width: 280px;
  right: 2%;
  position: absolute;
}

.a-enter-vr-modal:after {
  border-bottom: 10px solid transparent;
  border-left: 10px solid #666;
  border-top: 10px solid transparent;
  display: inline-block;
  content: '';
  position: absolute;
  right: -5px;
  top: 5px;
  width: 0;
  height: 0;
}

.a-enter-vr-modal p,
.a-enter-vr-modal a {
  display: inline;
}

.a-enter-vr-modal p {
  margin: 0;
}

.a-enter-vr-modal p:after {
  content: ' ';
}

.a-orientation-modal {
  background: rgba(244, 244, 244, 1) url(`+k+`) center no-repeat;
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-orientation-modal:after {
  color: #666;
  content: "Insert phone into Cardboard holder.";
  display: block;
  position: absolute;
  text-align: center;
  top: 70%;
  transform: translateY(-70%);
  width: 100%;
}

.a-orientation-modal button {
  background: url(`+D+`) no-repeat;
  border: none;
  height: 50px;
  text-indent: -9999px;
  width: 50px;
}

.a-loader-title {
  background-color: rgba(0, 0, 0, 0.6);
  font-family: sans-serif, monospace;
  text-align: center;
  font-size: 20px;
  height: 50px;
  font-weight: 300;
  line-height: 50px;
  position: absolute;
  right: 0px;
  left: 0px;
  top: 0px;
  color: white;
}

.a-modal {
  position: absolute;
  background: rgba(0, 0, 0, 0.60);
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-dialog {
  position: relative;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 199995;
  width: 300px;
  height: 200px;
  background-size: contain;
  background-color: white;
  font-family: sans-serif, monospace;
  font-size: 20px;
  border-radius: 3px;
  padding: 6px;
}

.a-dialog-text-container {
  width: 100%;
  height: 70%;
  align-self: flex-start;
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column;
}

.a-dialog-text {
  display: inline-block;
  font-weight: normal;
  font-size: 14pt;
  margin: 8px;
}

.a-dialog-buttons-container {
  display: inline-flex;
  align-self: flex-end;
  width: 100%;
  height: 30%;
}

.a-dialog-button {
  cursor: pointer;
  align-self: center;
  opacity: 0.9;
  height: 80%;
  width: 50%;
  font-size: 12pt;
  margin: 4px;
  border-radius: 2px;
  text-align:center;
  border: none;
  display: inline-block;
  -webkit-transition: all 0.25s ease-in-out;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);
  user-select: none;
}

.a-dialog-permission-button:hover {
  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);
}

.a-dialog-allow-button {
  background-color: #00ceff;
}

.a-dialog-deny-button {
  background-color: #ff005b;
}

.a-dialog-ok-button {
  background-color: #00ceff;
  width: 100%;
}

.a-dom-overlay:not(.a-no-style) {
  overflow: hidden;
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  padding: 1em;
}

.a-dom-overlay:not(.a-no-style)>* {
  pointer-events: auto;
}
`,"",{version:3,sources:["webpack://./src/style/aframe.css"],names:[],mappings:"AAAA,sCAAsC;AACtC;EACE,SAAS;EACT,OAAO;EACP,eAAe;EACf,QAAQ;EACR,MAAM;AACR;;AAEA;EACE,YAAY;EACZ,SAAS;EACT,gBAAgB;EAChB,UAAU;EACV,WAAW;AACb;;AAEA,oDAAoD;AACpD;EACE,sBAAsB;EACtB,uBAAuB;EACvB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;EACnB,oBAAoB;EACpB,0BAA0B;AAC5B;;AAEA;;EAEE,UAAU;EACV,WAAW;AACb;;AAEA;EACE,WAAW;AACb;;AAEA,gEAAgE;AAChE;EACE,6BAA6B;AAC/B;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,YAAY;EACZ,OAAO;EACP,kBAAkB;EAClB,MAAM;EACN,WAAW;AACb;;AAEA;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,yBAAyB;EACzB,eAAe;EACf,SAAS;EACT,QAAQ;EACR,iBAAiB;EACjB,WAAW;EACX,qBAAqB;EACrB,eAAe;EACf,8BAA8B;EAC9B,kBAAkB;EAClB,cAAc;EACd,YAAY;AACd;;AAEA,+BAA+B;AAC/B,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,oBAAoB,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AAC7D,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;AACrE,4BAA4B,OAAO,UAAU,EAAE,EAAE,MAAM,UAAU,EAAE,EAAE;;AAErE;EACE,sCAAsC;EACtC,8CAA8C;AAChD;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,sBAAsB;EACtB,8BAA8B;AAChC;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,YAAY;EACZ,WAAW;AACb;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;EAEE,0DAA0D;AAC5D;;AAEA;EACE,6BAA6B;EAC7B,cAAc;EACd,qBAAqB;EACrB,6BAA6B;AAC/B;;AAEA;EACE,sBAAsB;EACtB,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,UAAU;AACZ;;AAEA;;EAEE,kCAAkC;EAClC,eAAe;EACf,WAAW;EACX,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,WAAW;EACX,YAAY;AACd;;AAEA;EACE,WAAW;AACb;;AAEA;;;EAGE,WAAW;EACX,iBAAiB;EACjB,aAAa;AACf;;AAEA;EACE,yFAA4qB;AAC9qB;;AAEA;EACE,yFAAkzB;AACpzB;;AAEA;EACE,yDAA2qK;AAC7qK;;AAEA;;EAEE,wBAAwB;EACxB,SAAS;EACT,SAAS;EACT,eAAe;EACf,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB;;;;GAIC;EACD,gBAAgB;EAChB,cAAc;EACd,kBAAkB;EAClB,QAAQ;EACR,sCAAsC;EACtC,8CAA8C;EAC9C,aAAa;EACb,kBAAkB;EAClB,0BAA0B,EAAE,8CAA8C;AAC5E;;AAEA;EACE,yBAAyB;EACzB,kBAAkB;AACpB;;AAEA;;;;EAIE,yBAAyB;AAC3B;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,sBAAsB;EACtB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,kBAAkB;EAClB,YAAY;EACZ,YAAY;EACZ,SAAS;EACT,kBAAkB;AACpB;;AAEA;EACE,qCAAqC;EACrC,4BAA4B;EAC5B,kCAAkC;EAClC,qBAAqB;EACrB,WAAW;EACX,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,QAAQ;EACR,SAAS;AACX;;AAEA;;EAEE,eAAe;AACjB;;AAEA;EACE,SAAS;AACX;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,2FAAivF;EACjvF,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,WAAW;EACX,8CAA8C;EAC9C,cAAc;EACd,kBAAkB;EAClB,kBAAkB;EAClB,QAAQ;EACR,2BAA2B;EAC3B,WAAW;AACb;;AAEA;EACE,6DAA25B;EAC35B,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,WAAW;AACb;;AAEA;EACE,oCAAoC;EACpC,kCAAkC;EAClC,kBAAkB;EAClB,eAAe;EACf,YAAY;EACZ,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,UAAU;EACV,SAAS;EACT,QAAQ;EACR,YAAY;AACd;;AAEA;EACE,kBAAkB;EAClB,+BAA+B;EAC/B,wBAAwB;EACxB,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,OAAO;EACP,iBAAiB;EACjB,QAAQ;EACR,eAAe;EACf,MAAM;EACN,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,QAAQ;EACR,gCAAgC;EAChC,eAAe;EACf,YAAY;EACZ,aAAa;EACb,wBAAwB;EACxB,uBAAuB;EACvB,kCAAkC;EAClC,eAAe;EACf,kBAAkB;EAClB,YAAY;AACd;;AAEA;EACE,WAAW;EACX,WAAW;EACX,sBAAsB;EACtB,aAAa;EACb,uBAAuB;EACvB,qBAAqB;EACrB,sBAAsB;AACxB;;AAEA;EACE,qBAAqB;EACrB,mBAAmB;EACnB,eAAe;EACf,WAAW;AACb;;AAEA;EACE,oBAAoB;EACpB,oBAAoB;EACpB,WAAW;EACX,WAAW;AACb;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,UAAU;EACV,eAAe;EACf,WAAW;EACX,kBAAkB;EAClB,iBAAiB;EACjB,YAAY;EACZ,qBAAqB;EACrB,yCAAyC;EACzC,iCAAiC;EACjC,wEAAwE;EACxE,iBAAiB;AACnB;;AAEA;EACE,mEAAmE;AACrE;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,oBAAoB;EACpB,sBAAsB;EACtB,SAAS;EACT,OAAO;EACP,QAAQ;EACR,MAAM;EACN,YAAY;AACd;;AAEA;EACE,oBAAoB;AACtB",sourcesContent:[`/* .a-fullscreen means not embedded. */
html.a-fullscreen {
  bottom: 0;
  left: 0;
  position: fixed;
  right: 0;
  top: 0;
}

html.a-fullscreen body {
  height: 100%;
  margin: 0;
  overflow: hidden;
  padding: 0;
  width: 100%;
}

/* Class is removed when doing <a-scene embedded>. */
html.a-fullscreen .a-canvas {
  width: 100% !important;
  height: 100% !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  position: fixed !important;
}

html:not(.a-fullscreen) .a-enter-vr,
html:not(.a-fullscreen) .a-enter-ar {
  right: 5px;
  bottom: 5px;
}

html:not(.a-fullscreen) .a-enter-ar {
  right: 60px;
}

/* In chrome mobile the user agent stylesheet set it to white  */
:-webkit-full-screen {
  background-color: transparent;
}

.a-hidden {
  display: none !important;
}

.a-canvas {
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: 100%;
}

.a-canvas.a-grab-cursor:hover {
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

canvas.a-canvas.a-mouse-cursor-hover:hover {
  cursor: pointer;
}

.a-inspector-loader {
  background-color: #ed3160;
  position: fixed;
  left: 3px;
  top: 3px;
  padding: 6px 10px;
  color: #fff;
  text-decoration: none;
  font-size: 12px;
  font-family: Roboto,sans-serif;
  text-align: center;
  z-index: 99999;
  width: 204px;
}

/* Inspector loader animation */
@keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }
@-webkit-keyframes dots-1 { from { opacity: 0; } 25% { opacity: 1; } }
@-webkit-keyframes dots-2 { from { opacity: 0; } 50% { opacity: 1; } }
@-webkit-keyframes dots-3 { from { opacity: 0; } 75% { opacity: 1; } }

.a-inspector-loader .dots span {
  animation: dots-1 2s infinite steps(1);
  -webkit-animation: dots-1 2s infinite steps(1);
}

.a-inspector-loader .dots span:first-child + span {
  animation-name: dots-2;
  -webkit-animation-name: dots-2;
}

.a-inspector-loader .dots span:first-child + span + span {
  animation-name: dots-3;
  -webkit-animation-name: dots-3;
}

a-scene {
  display: block;
  position: relative;
  height: 100%;
  width: 100%;
}

a-assets,
a-scene video,
a-scene img,
a-scene audio {
  display: none;
}

.a-enter-vr-modal,
.a-orientation-modal {
  font-family: Consolas, Andale Mono, Courier New, monospace;
}

.a-enter-vr-modal a {
  border-bottom: 1px solid #fff;
  padding: 2px 0;
  text-decoration: none;
  transition: .1s color ease-in;
}

.a-enter-vr-modal a:hover {
  background-color: #fff;
  color: #111;
  padding: 2px 4px;
  position: relative;
  left: -4px;
}

.a-enter-vr,
.a-enter-ar {
  font-family: sans-serif, monospace;
  font-size: 13px;
  width: 100%;
  font-weight: 200;
  line-height: 16px;
  position: absolute;
  right: 20px;
  bottom: 20px;
}

.a-enter-ar.xr {
  right: 90px;
}

.a-enter-vr-button,
.a-enter-vr-modal,
.a-enter-vr-modal a {
  color: #fff;
  user-select: none;
  outline: none;
}

.a-enter-vr-button {
  background: rgba(0, 0, 0, 0.35) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z' fill='%23fff'/%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z' fill='%23fff'/%3E%3C/svg%3E") 50% 50% no-repeat;
}

.a-enter-ar-button {
  background: rgba(0, 0, 0, 0.20) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='108' height='62' viewBox='0 0 108 62'%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z' fill='%23fff'/%3E%3Cpath d='M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z' fill='%23fff'/%3E%3Cpath d='M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z' fill='%23fff'/%3E%3C/svg%3E") 50% 50% no-repeat;
}

.a-enter-vr.fullscreen .a-enter-vr-button {
  background-image: url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8' standalone='no'%3F%3E%3Csvg width='108' height='62' viewBox='0 0 108 62' version='1.1' id='svg320' sodipodi:docname='fullscreen-aframe.svg' xml:space='preserve' inkscape:version='1.2.1 (9c6d41e  2022-07-14)' xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape' xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd' xmlns='http://www.w3.org/2000/svg' xmlns:svg='http://www.w3.org/2000/svg' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/'%3E%3Cdefs id='defs324' /%3E%3Csodipodi:namedview id='namedview322' pagecolor='%23ffffff' bordercolor='%23000000' borderopacity='0.25' inkscape:showpageshadow='2' inkscape:pageopacity='0.0' inkscape:pagecheckerboard='0' inkscape:deskcolor='%23d1d1d1' showgrid='false' inkscape:zoom='3.8064516' inkscape:cx='91.423729' inkscape:cy='-1.4449153' inkscape:window-width='1440' inkscape:window-height='847' inkscape:window-x='32' inkscape:window-y='25' inkscape:window-maximized='0' inkscape:current-layer='svg320' /%3E%3Ctitle id='title312'%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d='M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z' fill='%23fff' id='path314' style='fill:%23ffffff' /%3E%3Cg id='g356' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g358' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g360' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g362' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g364' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g366' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g368' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g370' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g372' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g374' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g376' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g378' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g380' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g382' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cg id='g384' transform='translate(-206.61017 -232.61864)'%3E%3C/g%3E%3Cmetadata id='metadata561'%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d='m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4' id='path596' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4' id='path598' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4' id='path600' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3Cpath d='m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616' id='path602' style='fill:%23ffffff%3Bstroke-width:1.50194' /%3E%3C/svg%3E");
}

.a-enter-vr-button,
.a-enter-ar-button {
  background-size: 90% 90%;
  border: 0;
  bottom: 0;
  cursor: pointer;
  min-width: 58px;
  min-height: 34px;
  /* 1.74418604651 */
  /*
    In order to keep the aspect ratio when resizing
    padding-top percentages are relative to the containing block's width.
    http://stackoverflow.com/questions/12121090/responsively-change-div-size-keeping-aspect-ratio
  */
  padding-right: 0;
  padding-top: 0;
  position: absolute;
  right: 0;
  transition: background-color .05s ease;
  -webkit-transition: background-color .05s ease;
  z-index: 9999;
  border-radius: 8px;
  touch-action: manipulation; /* Prevent iOS double tap zoom on the button */
}

.a-enter-ar-button {
  background-size: 100% 90%;
  border-radius: 7px;
}

.a-enter-ar-button:active,
.a-enter-ar-button:hover,
.a-enter-vr-button:active,
.a-enter-vr-button:hover {
  background-color: #ef2d5e;
}

.a-enter-vr-button.resethover {
  background-color: rgba(0, 0, 0, 0.35);
}

.a-enter-vr-modal {
  background-color: #666;
  border-radius: 0;
  display: none;
  min-height: 32px;
  margin-right: 70px;
  padding: 9px;
  width: 280px;
  right: 2%;
  position: absolute;
}

.a-enter-vr-modal:after {
  border-bottom: 10px solid transparent;
  border-left: 10px solid #666;
  border-top: 10px solid transparent;
  display: inline-block;
  content: '';
  position: absolute;
  right: -5px;
  top: 5px;
  width: 0;
  height: 0;
}

.a-enter-vr-modal p,
.a-enter-vr-modal a {
  display: inline;
}

.a-enter-vr-modal p {
  margin: 0;
}

.a-enter-vr-modal p:after {
  content: ' ';
}

.a-orientation-modal {
  background: rgba(244, 244, 244, 1) url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E) center no-repeat;
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-orientation-modal:after {
  color: #666;
  content: "Insert phone into Cardboard holder.";
  display: block;
  position: absolute;
  text-align: center;
  top: 70%;
  transform: translateY(-70%);
  width: 100%;
}

.a-orientation-modal button {
  background: url(data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E) no-repeat;
  border: none;
  height: 50px;
  text-indent: -9999px;
  width: 50px;
}

.a-loader-title {
  background-color: rgba(0, 0, 0, 0.6);
  font-family: sans-serif, monospace;
  text-align: center;
  font-size: 20px;
  height: 50px;
  font-weight: 300;
  line-height: 50px;
  position: absolute;
  right: 0px;
  left: 0px;
  top: 0px;
  color: white;
}

.a-modal {
  position: absolute;
  background: rgba(0, 0, 0, 0.60);
  background-size: 50% 50%;
  bottom: 0;
  font-size: 14px;
  font-weight: 600;
  left: 0;
  line-height: 20px;
  right: 0;
  position: fixed;
  top: 0;
  z-index: 9999999;
}

.a-dialog {
  position: relative;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 199995;
  width: 300px;
  height: 200px;
  background-size: contain;
  background-color: white;
  font-family: sans-serif, monospace;
  font-size: 20px;
  border-radius: 3px;
  padding: 6px;
}

.a-dialog-text-container {
  width: 100%;
  height: 70%;
  align-self: flex-start;
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: column;
}

.a-dialog-text {
  display: inline-block;
  font-weight: normal;
  font-size: 14pt;
  margin: 8px;
}

.a-dialog-buttons-container {
  display: inline-flex;
  align-self: flex-end;
  width: 100%;
  height: 30%;
}

.a-dialog-button {
  cursor: pointer;
  align-self: center;
  opacity: 0.9;
  height: 80%;
  width: 50%;
  font-size: 12pt;
  margin: 4px;
  border-radius: 2px;
  text-align:center;
  border: none;
  display: inline-block;
  -webkit-transition: all 0.25s ease-in-out;
  transition: all 0.25s ease-in-out;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.10), 0 1px 2px rgba(0, 0, 0, 0.20);
  user-select: none;
}

.a-dialog-permission-button:hover {
  box-shadow: 0 7px 14px rgba(0,0,0,0.20), 0 2px 2px rgba(0,0,0,0.20);
}

.a-dialog-allow-button {
  background-color: #00ceff;
}

.a-dialog-deny-button {
  background-color: #ff005b;
}

.a-dialog-ok-button {
  background-color: #00ceff;
  width: 100%;
}

.a-dom-overlay:not(.a-no-style) {
  overflow: hidden;
  position: absolute;
  pointer-events: none;
  box-sizing: border-box;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  padding: 1em;
}

.a-dom-overlay:not(.a-no-style)>* {
  pointer-events: auto;
}
`],sourceRoot:""}]);const N=E},"./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css":(c,d,u)=>{u.r(d),u.d(d,{default:()=>y});var h=u("./node_modules/css-loader/dist/runtime/sourceMaps.js"),p=u.n(h),f=u("./node_modules/css-loader/dist/runtime/api.js"),M=u.n(f),g=M()(p());g.push([c.id,`.rs-base {
  background-color: #333;
  color: #fafafa;
  border-radius: 0;
  font: 10px monospace;
  left: 5px;
  line-height: 1em;
  opacity: 0.85;
  overflow: hidden;
  padding: 10px;
  position: fixed;
  top: 5px;
  width: 300px;
  z-index: 10000;
}

.rs-base div.hidden {
  display: none;
}

.rs-base h1 {
  color: #fff;
  cursor: pointer;
  font-size: 1.4em;
  font-weight: 300;
  margin: 0 0 5px;
  padding: 0;
}

.rs-group {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
  margin-bottom: 5px;
}

.rs-group:last-child {
  margin-bottom: 0;
}

.rs-counter-base {
  align-items: center;
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  height: 10px;
  -webkit-justify-content: space-between;
  justify-content: space-between;
  margin: 2px 0;
}

.rs-counter-base.alarm {
  color: #b70000;
  text-shadow: 0 0 0 #b70000,
               0 0 1px #fff,
               0 0 1px #fff,
               0 0 2px #fff,
               0 0 2px #fff,
               0 0 3px #fff,
               0 0 3px #fff,
               0 0 4px #fff,
               0 0 4px #fff;
}

.rs-counter-id {
  font-weight: 300;
  -webkit-box-ordinal-group: 0;
  -webkit-order: 0;
  order: 0;
  width: 54px;
}

.rs-counter-value {
  font-weight: 300;
  -webkit-box-ordinal-group: 1;
  -webkit-order: 1;
  order: 1;
  text-align: right;
  width: 35px;
}

.rs-canvas {
  -webkit-box-ordinal-group: 2;
  -webkit-order: 2;
  order: 2;
}

@media (min-width: 480px) {
  .rs-base {
    left: 20px;
    top: 20px;
  }
}
`,"",{version:3,sources:["webpack://./src/style/rStats.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,cAAc;EACd,gBAAgB;EAChB,oBAAoB;EACpB,SAAS;EACT,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,aAAa;EACb,eAAe;EACf,QAAQ;EACR,YAAY;EACZ,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,WAAW;EACX,eAAe;EACf,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,UAAU;AACZ;;AAEA;EACE,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,sCAAsC;EACtC,8BAA8B;EAC9B,kBAAkB;AACpB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,aAAa;EACb,YAAY;EACZ,sCAAsC;EACtC,8BAA8B;EAC9B,aAAa;AACf;;AAEA;EACE,cAAc;EACd;;;;;;;;2BAQyB;AAC3B;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;EACR,iBAAiB;EACjB,WAAW;AACb;;AAEA;EACE,4BAA4B;EAC5B,gBAAgB;EAChB,QAAQ;AACV;;AAEA;EACE;IACE,UAAU;IACV,SAAS;EACX;AACF",sourcesContent:[`.rs-base {
  background-color: #333;
  color: #fafafa;
  border-radius: 0;
  font: 10px monospace;
  left: 5px;
  line-height: 1em;
  opacity: 0.85;
  overflow: hidden;
  padding: 10px;
  position: fixed;
  top: 5px;
  width: 300px;
  z-index: 10000;
}

.rs-base div.hidden {
  display: none;
}

.rs-base h1 {
  color: #fff;
  cursor: pointer;
  font-size: 1.4em;
  font-weight: 300;
  margin: 0 0 5px;
  padding: 0;
}

.rs-group {
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
  margin-bottom: 5px;
}

.rs-group:last-child {
  margin-bottom: 0;
}

.rs-counter-base {
  align-items: center;
  display: -webkit-box;
  display: -webkit-flex;
  display: flex;
  height: 10px;
  -webkit-justify-content: space-between;
  justify-content: space-between;
  margin: 2px 0;
}

.rs-counter-base.alarm {
  color: #b70000;
  text-shadow: 0 0 0 #b70000,
               0 0 1px #fff,
               0 0 1px #fff,
               0 0 2px #fff,
               0 0 2px #fff,
               0 0 3px #fff,
               0 0 3px #fff,
               0 0 4px #fff,
               0 0 4px #fff;
}

.rs-counter-id {
  font-weight: 300;
  -webkit-box-ordinal-group: 0;
  -webkit-order: 0;
  order: 0;
  width: 54px;
}

.rs-counter-value {
  font-weight: 300;
  -webkit-box-ordinal-group: 1;
  -webkit-order: 1;
  order: 1;
  text-align: right;
  width: 35px;
}

.rs-canvas {
  -webkit-box-ordinal-group: 2;
  -webkit-order: 2;
  order: 2;
}

@media (min-width: 480px) {
  .rs-base {
    left: 20px;
    top: 20px;
  }
}
`],sourceRoot:""}]);const y=g},"./src/style/aframe.css":(c,d,u)=>{u.r(d),u.d(d,{default:()=>T});var h=u("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),p=u.n(h),f=u("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),M=u.n(f),g=u("./node_modules/style-loader/dist/runtime/insertBySelector.js"),y=u.n(g),b=u("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),v=u.n(b),C=u("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),w=u.n(C),_=u("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),E=u.n(_),S=u("./node_modules/css-loader/dist/cjs.js!./src/style/aframe.css"),I={};I.styleTagTransform=E(),I.setAttributes=v(),I.insert=y().bind(null,"head"),I.domAPI=M(),I.insertStyleElement=w(),p()(S.default,I);const T=S.default&&S.default.locals?S.default.locals:void 0},"./src/style/rStats.css":(c,d,u)=>{u.r(d),u.d(d,{default:()=>T});var h=u("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),p=u.n(h),f=u("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),M=u.n(f),g=u("./node_modules/style-loader/dist/runtime/insertBySelector.js"),y=u.n(g),b=u("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),v=u.n(b),C=u("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),w=u.n(C),_=u("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),E=u.n(_),S=u("./node_modules/css-loader/dist/cjs.js!./src/style/rStats.css"),I={};I.styleTagTransform=E(),I.setAttributes=v(),I.insert=y().bind(null,"head"),I.domAPI=M(),I.insertStyleElement=w(),p()(S.default,I);const T=S.default&&S.default.locals?S.default.locals:void 0},"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":c=>{var d=[];function u(f){for(var M=-1,g=0;g<d.length;g++)if(d[g].identifier===f){M=g;break}return M}function h(f,M){for(var g={},y=[],b=0;b<f.length;b++){var v=f[b],C=M.base?v[0]+M.base:v[0],w=g[C]||0,_="".concat(C," ").concat(w);g[C]=w+1;var E=u(_),S={css:v[1],media:v[2],sourceMap:v[3],supports:v[4],layer:v[5]};if(E!==-1)d[E].references++,d[E].updater(S);else{var I=p(S,M);M.byIndex=b,d.splice(b,0,{identifier:_,updater:I,references:1})}y.push(_)}return y}function p(f,M){var g=M.domAPI(M);g.update(f);var y=function(v){if(v){if(v.css===f.css&&v.media===f.media&&v.sourceMap===f.sourceMap&&v.supports===f.supports&&v.layer===f.layer)return;g.update(f=v)}else g.remove()};return y}c.exports=function(f,M){M=M||{},f=f||[];var g=h(f,M);return function(b){b=b||[];for(var v=0;v<g.length;v++){var C=g[v],w=u(C);d[w].references--}for(var _=h(b,M),E=0;E<g.length;E++){var S=g[E],I=u(S);d[I].references===0&&(d[I].updater(),d.splice(I,1))}g=_}}},"./node_modules/style-loader/dist/runtime/insertBySelector.js":c=>{var d={};function u(p){if(typeof d[p]>"u"){var f=document.querySelector(p);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}d[p]=f}return d[p]}function h(p,f){var M=u(p);if(!M)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");M.appendChild(f)}c.exports=h},"./node_modules/style-loader/dist/runtime/insertStyleElement.js":c=>{function d(u){var h=document.createElement("style");return u.setAttributes(h,u.attributes),u.insert(h,u.options),h}c.exports=d},"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":(c,d,u)=>{function h(p){var f=u.nc;f&&p.setAttribute("nonce",f)}c.exports=h},"./node_modules/style-loader/dist/runtime/styleDomAPI.js":c=>{function d(p,f,M){var g="";M.supports&&(g+="@supports (".concat(M.supports,") {")),M.media&&(g+="@media ".concat(M.media," {"));var y=typeof M.layer<"u";y&&(g+="@layer".concat(M.layer.length>0?" ".concat(M.layer):""," {")),g+=M.css,y&&(g+="}"),M.media&&(g+="}"),M.supports&&(g+="}");var b=M.sourceMap;b&&typeof btoa<"u"&&(g+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(b))))," */")),f.styleTagTransform(g,p,f.options)}function u(p){if(p.parentNode===null)return!1;p.parentNode.removeChild(p)}function h(p){if(typeof document>"u")return{update:function(){},remove:function(){}};var f=p.insertStyleElement(p);return{update:function(g){d(f,p,g)},remove:function(){u(f)}}}c.exports=h},"./node_modules/style-loader/dist/runtime/styleTagTransform.js":c=>{function d(u,h){if(h.styleSheet)h.styleSheet.cssText=u;else{for(;h.firstChild;)h.removeChild(h.firstChild);h.appendChild(document.createTextNode(u))}}c.exports=d},"data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E":c=>{c.exports="data:image/svg+xml,%3C%3Fxml version=%271.0%27 encoding=%27UTF-8%27 standalone=%27no%27%3F%3E%3Csvg width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27 version=%271.1%27 id=%27svg320%27 sodipodi:docname=%27fullscreen-aframe.svg%27 xml:space=%27preserve%27 inkscape:version=%271.2.1 %289c6d41e  2022-07-14%29%27 xmlns:inkscape=%27http://www.inkscape.org/namespaces/inkscape%27 xmlns:sodipodi=%27http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd%27 xmlns=%27http://www.w3.org/2000/svg%27 xmlns:svg=%27http://www.w3.org/2000/svg%27 xmlns:rdf=%27http://www.w3.org/1999/02/22-rdf-syntax-ns%23%27 xmlns:cc=%27http://creativecommons.org/ns%23%27 xmlns:dc=%27http://purl.org/dc/elements/1.1/%27%3E%3Cdefs id=%27defs324%27 /%3E%3Csodipodi:namedview id=%27namedview322%27 pagecolor=%27%23ffffff%27 bordercolor=%27%23000000%27 borderopacity=%270.25%27 inkscape:showpageshadow=%272%27 inkscape:pageopacity=%270.0%27 inkscape:pagecheckerboard=%270%27 inkscape:deskcolor=%27%23d1d1d1%27 showgrid=%27false%27 inkscape:zoom=%273.8064516%27 inkscape:cx=%2791.423729%27 inkscape:cy=%27-1.4449153%27 inkscape:window-width=%271440%27 inkscape:window-height=%27847%27 inkscape:window-x=%2732%27 inkscape:window-y=%2725%27 inkscape:window-maximized=%270%27 inkscape:current-layer=%27svg320%27 /%3E%3Ctitle id=%27title312%27%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96 0H12A12 12 0 0 0 0 12V50A12 12 0 0 0 12 62H96a12 12 0 0 0 12-12V12A12 12 0 0 0 96 0Zm8 50a8 8 0 0 1-8 8H12a8 8 0 0 1-8-8V12a8 8 0 0 1 8-8H96a8 8 0 0 1 8 8Z%27 fill=%27%23fff%27 id=%27path314%27 style=%27fill:%23ffffff%27 /%3E%3Cg id=%27g356%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g358%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g360%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g362%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g364%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g366%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g368%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g370%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g372%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g374%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g376%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g378%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g380%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g382%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cg id=%27g384%27 transform=%27translate%28-206.61017 -232.61864%29%27%3E%3C/g%3E%3Cmetadata id=%27metadata561%27%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=%27%27%3E%3Cdc:title%3Eaframe-armode-noborder-reduced-tracking%3C/dc:title%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cpath d=%27m 98.168511 40.083649 c 0 -1.303681 -0.998788 -2.358041 -2.239389 -2.358041 -1.230088 0.0031 -2.240892 1.05436 -2.240892 2.358041 v 4.881296 l -9.041661 -9.041662 c -0.874129 -0.875631 -2.288954 -0.875631 -3.16308 0 -0.874129 0.874126 -0.874129 2.293459 0 3.167585 l 8.995101 8.992101 h -4.858767 c -1.323206 0.0031 -2.389583 1.004796 -2.389583 2.239386 0 1.237598 1.066377 2.237888 2.389583 2.237888 h 10.154599 c 1.323206 0 2.388082 -0.998789 2.392587 -2.237888 -0.0044 -0.03305 -0.009 -0.05858 -0.0134 -0.09161 0.0046 -0.04207 0.0134 -0.08712 0.0134 -0.13066 V 40.085172 h -1.52e-4%27 id=%27path596%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 23.091002 35.921781 -9.026643 9.041662 v -4.881296 c 0 -1.303681 -1.009302 -2.355037 -2.242393 -2.358041 -1.237598 0 -2.237888 1.05436 -2.237888 2.358041 l -0.0031 10.016421 c 0 0.04356 0.01211 0.08862 0.0015 0.130659 -0.0031 0.03153 -0.009 0.05709 -0.01211 0.09161 0.0031 1.239099 1.069379 2.237888 2.391085 2.237888 h 10.156101 c 1.320202 0 2.388079 -1.000291 2.388079 -2.237888 0 -1.234591 -1.067877 -2.236383 -2.388079 -2.239387 h -4.858767 l 8.995101 -8.9921 c 0.871126 -0.874127 0.871126 -2.293459 0 -3.167586 -0.875628 -0.877132 -2.291957 -0.877132 -3.169087 -1.52e-4%27 id=%27path598%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 84.649572 25.978033 9.041662 -9.041664 v 4.881298 c 0 1.299176 1.010806 2.350532 2.240891 2.355037 1.240601 0 2.23939 -1.055861 2.23939 -2.355037 V 11.798242 c 0 -0.04356 -0.009 -0.08862 -0.0134 -0.127671 0.0044 -0.03153 0.009 -0.06157 0.0134 -0.09313 -0.0044 -1.240598 -1.069379 -2.2393873 -2.391085 -2.2393873 h -10.1546 c -1.323205 0 -2.38958 0.9987893 -2.38958 2.2393873 0 1.233091 1.066375 2.237887 2.38958 2.240891 h 4.858768 l -8.995102 8.9921 c -0.874129 0.872625 -0.874129 2.288954 0 3.161578 0.874127 0.880137 2.288951 0.880137 3.16308 1.5e-4%27 id=%27path600%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3Cpath d=%27m 17.264988 13.822853 h 4.857265 c 1.320202 -0.0031 2.388079 -1.0078 2.388079 -2.240889 0 -1.240601 -1.067877 -2.2393893 -2.388079 -2.2393893 H 11.967654 c -1.321707 0 -2.388082 0.9987883 -2.391085 2.2393893 0.0031 0.03153 0.009 0.06157 0.01211 0.09313 -0.0031 0.03905 -0.0015 0.08262 -0.0015 0.127671 l 0.0031 10.020926 c 0 1.299176 1.00029 2.355038 2.237887 2.355038 1.233092 -0.0044 2.242393 -1.055862 2.242393 -2.355038 v -4.881295 l 9.026644 9.041661 c 0.877132 0.878635 2.293459 0.878635 3.169087 0 0.871125 -0.872624 0.871125 -2.288953 0 -3.161577 l -8.995282 -8.993616%27 id=%27path602%27 style=%27fill:%23ffffff%3Bstroke-width:1.50194%27 /%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":c=>{c.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-armode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0Zm8,50a8,8,0,0,1-8,8H12a8,8,0,0,1-8-8V12a8,8,0,0,1,8-8H96a8,8,0,0,1,8,8Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M43.35,39.82H32.51L30.45,46H23.88L35,16h5.73L52,46H45.43Zm-9.17-5h7.5L37.91,23.58Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M68.11,35H63.18V46H57V16H68.15q5.31,0,8.2,2.37a8.18,8.18,0,0,1,2.88,6.7,9.22,9.22,0,0,1-1.33,5.12,9.09,9.09,0,0,1-4,3.26l6.49,12.26V46H73.73Zm-4.93-5h5a5.09,5.09,0,0,0,3.6-1.18,4.21,4.21,0,0,0,1.28-3.27,4.56,4.56,0,0,0-1.2-3.34A5,5,0,0,0,68.15,21h-5Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E":c=>{c.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27108%27 height=%2762%27 viewBox=%270 0 108 62%27%3E%3Ctitle%3Eaframe-vrmode-noborder-reduced-tracking%3C/title%3E%3Cpath d=%27M68.81,21.56H64.23v8.27h4.58a4.13,4.13,0,0,0,3.1-1.09,4.2,4.2,0,0,0,1-3,4.24,4.24,0,0,0-1-3A4.05,4.05,0,0,0,68.81,21.56Z%27 fill=%27%23fff%27/%3E%3Cpath d=%27M96,0H12A12,12,0,0,0,0,12V50A12,12,0,0,0,12,62H96a12,12,0,0,0,12-12V12A12,12,0,0,0,96,0ZM41.9,46H34L24,16h8l6,21.84,6-21.84H52Zm39.29,0H73.44L68.15,35.39H64.23V46H57V16H68.81q5.32,0,8.34,2.37a8,8,0,0,1,3,6.69,9.68,9.68,0,0,1-1.27,5.18,8.9,8.9,0,0,1-4,3.34l6.26,12.11Z%27 fill=%27%23fff%27/%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E":c=>{c.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20100%20100%22%20enable-background%3D%22new%200%200%20100%20100%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M55.209%2C50l17.803-17.803c1.416-1.416%2C1.416-3.713%2C0-5.129c-1.416-1.417-3.713-1.417-5.129%2C0L50.08%2C44.872%20%20L32.278%2C27.069c-1.416-1.417-3.714-1.417-5.129%2C0c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129L44.951%2C50L27.149%2C67.803%20%20c-1.417%2C1.416-1.417%2C3.713%2C0%2C5.129c0.708%2C0.708%2C1.636%2C1.062%2C2.564%2C1.062c0.928%2C0%2C1.856-0.354%2C2.564-1.062L50.08%2C55.13l17.803%2C17.802%20%20c0.708%2C0.708%2C1.637%2C1.062%2C2.564%2C1.062s1.856-0.354%2C2.564-1.062c1.416-1.416%2C1.416-3.713%2C0-5.129L55.209%2C50z%22%3E%3C/path%3E%3C/svg%3E"},"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E":c=>{c.exports="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20xmlns%3Axlink%3D%22http%3A//www.w3.org/1999/xlink%22%20version%3D%221.1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%2090%2090%22%20enable-background%3D%22new%200%200%2090%2090%22%20xml%3Aspace%3D%22preserve%22%3E%3Cpolygon%20points%3D%220%2C0%200%2C0%200%2C0%20%22%3E%3C/polygon%3E%3Cg%3E%3Cpath%20d%3D%22M71.545%2C48.145h-31.98V20.743c0-2.627-2.138-4.765-4.765-4.765H18.456c-2.628%2C0-4.767%2C2.138-4.767%2C4.765v42.789%20%20%20c0%2C2.628%2C2.138%2C4.766%2C4.767%2C4.766h5.535v0.959c0%2C2.628%2C2.138%2C4.765%2C4.766%2C4.765h42.788c2.628%2C0%2C4.766-2.137%2C4.766-4.765V52.914%20%20%20C76.311%2C50.284%2C74.173%2C48.145%2C71.545%2C48.145z%20M18.455%2C16.935h16.344c2.1%2C0%2C3.808%2C1.708%2C3.808%2C3.808v27.401H37.25V22.636%20%20%20c0-0.264-0.215-0.478-0.479-0.478H16.482c-0.264%2C0-0.479%2C0.214-0.479%2C0.478v36.585c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h7.507v7.644%20%20%20h-5.534c-2.101%2C0-3.81-1.709-3.81-3.81V20.743C14.645%2C18.643%2C16.354%2C16.935%2C18.455%2C16.935z%20M16.96%2C23.116h19.331v25.031h-7.535%20%20%20c-2.628%2C0-4.766%2C2.139-4.766%2C4.768v5.828h-7.03V23.116z%20M71.545%2C73.064H28.757c-2.101%2C0-3.81-1.708-3.81-3.808V52.914%20%20%20c0-2.102%2C1.709-3.812%2C3.81-3.812h42.788c2.1%2C0%2C3.809%2C1.71%2C3.809%2C3.812v16.343C75.354%2C71.356%2C73.645%2C73.064%2C71.545%2C73.064z%22%3E%3C/path%3E%3Cpath%20d%3D%22M28.919%2C58.424c-1.466%2C0-2.659%2C1.193-2.659%2C2.66c0%2C1.466%2C1.193%2C2.658%2C2.659%2C2.658c1.468%2C0%2C2.662-1.192%2C2.662-2.658%20%20%20C31.581%2C59.617%2C30.387%2C58.424%2C28.919%2C58.424z%20M28.919%2C62.786c-0.939%2C0-1.703-0.764-1.703-1.702c0-0.939%2C0.764-1.704%2C1.703-1.704%20%20%20c0.94%2C0%2C1.705%2C0.765%2C1.705%2C1.704C30.623%2C62.022%2C29.858%2C62.786%2C28.919%2C62.786z%22%3E%3C/path%3E%3Cpath%20d%3D%22M69.654%2C50.461H33.069c-0.264%2C0-0.479%2C0.215-0.479%2C0.479v20.288c0%2C0.264%2C0.215%2C0.478%2C0.479%2C0.478h36.585%20%20%20c0.263%2C0%2C0.477-0.214%2C0.477-0.478V50.939C70.131%2C50.676%2C69.917%2C50.461%2C69.654%2C50.461z%20M69.174%2C51.417V70.75H33.548V51.417H69.174z%22%3E%3C/path%3E%3Cpath%20d%3D%22M45.201%2C30.296c6.651%2C0%2C12.233%2C5.351%2C12.551%2C11.977l-3.033-2.638c-0.193-0.165-0.507-0.142-0.675%2C0.048%20%20%20c-0.174%2C0.198-0.153%2C0.501%2C0.045%2C0.676l3.883%2C3.375c0.09%2C0.075%2C0.198%2C0.115%2C0.312%2C0.115c0.141%2C0%2C0.273-0.061%2C0.362-0.166%20%20%20l3.371-3.877c0.173-0.2%2C0.151-0.502-0.047-0.675c-0.194-0.166-0.508-0.144-0.676%2C0.048l-2.592%2C2.979%20%20%20c-0.18-3.417-1.629-6.605-4.099-9.001c-2.538-2.461-5.877-3.817-9.404-3.817c-0.264%2C0-0.479%2C0.215-0.479%2C0.479%20%20%20C44.72%2C30.083%2C44.936%2C30.296%2C45.201%2C30.296z%22%3E%3C/path%3E%3C/g%3E%3C/svg%3E"},"./node_modules/three/build/three.module.js":(c,d,u)=>{u.r(d),u.d(d,{ACESFilmicToneMapping:()=>pe,AddEquation:()=>U,AddOperation:()=>qe,AdditiveAnimationBlendMode:()=>zr,AdditiveBlending:()=>D,AgXToneMapping:()=>_t,AlphaFormat:()=>k0,AlwaysCompare:()=>q3,AlwaysDepth:()=>Jt,AlwaysStencilFunc:()=>Jh,AmbientLight:()=>x_,AnimationAction:()=>V_,AnimationClip:()=>A2,AnimationLoader:()=>DQ,AnimationMixer:()=>lz,AnimationObjectGroup:()=>oz,AnimationUtils:()=>TQ,ArcCurve:()=>VC,ArrayCamera:()=>hp,ArrowHelper:()=>Iz,AttachedBindMode:()=>Tt,Audio:()=>$_,AudioAnalyser:()=>qQ,AudioContext:()=>zp,AudioListener:()=>jQ,AudioLoader:()=>VQ,AxesHelper:()=>Bz,BackSide:()=>S,BasicDepthPacking:()=>k9,BasicShadowMap:()=>v,BatchedMesh:()=>kC,Bone:()=>yp,BooleanKeyframeTrack:()=>Eu,Box2:()=>gz,Box3:()=>L9,Box3Helper:()=>xz,BoxGeometry:()=>hu,BoxHelper:()=>Sz,BufferAttribute:()=>Y0,BufferGeometry:()=>u0,BufferGeometryLoader:()=>D_,ByteType:()=>Tn,Cache:()=>tl,Camera:()=>Am,CameraHelper:()=>Oz,CanvasTexture:()=>ZV,CapsuleGeometry:()=>Wm,CatmullRomCurve3:()=>QC,CineonToneMapping:()=>fe,CircleGeometry:()=>Km,ClampToEdgeWrapping:()=>ne,Clock:()=>F_,Color:()=>ln,ColorKeyframeTrack:()=>Jp,ColorManagement:()=>G0,CompressedArrayTexture:()=>XV,CompressedCubeTexture:()=>YV,CompressedTexture:()=>Vm,CompressedTextureLoader:()=>PQ,ConeGeometry:()=>qm,ConstantAlphaFactor:()=>lt,ConstantColorFactor:()=>gt,CubeCamera:()=>Nb,CubeReflectionMapping:()=>ut,CubeRefractionMapping:()=>X,CubeTexture:()=>Xh,CubeTextureLoader:()=>kQ,CubeUVReflectionMapping:()=>Qt,CubicBezierCurve:()=>xp,CubicBezierCurve3:()=>jC,CubicInterpolant:()=>M_,CullFaceBack:()=>g,CullFaceFront:()=>y,CullFaceFrontBack:()=>b,CullFaceNone:()=>M,Curve:()=>Fo,CurvePath:()=>KC,CustomBlending:()=>F,CustomToneMapping:()=>Ot,CylinderGeometry:()=>td,Cylindrical:()=>pz,Data3DTexture:()=>Vn,DataArrayTexture:()=>S1,DataTexture:()=>Zl,DataTextureLoader:()=>LQ,DataUtils:()=>OJ,DecrementStencilOp:()=>n7,DecrementWrapStencilOp:()=>a7,DefaultLoadingManager:()=>v_,DepthFormat:()=>Ue,DepthStencilFormat:()=>ui,DepthTexture:()=>sp,DetachedBindMode:()=>Et,DirectionalLight:()=>S_,DirectionalLightHelper:()=>wz,DiscreteInterpolant:()=>y_,DisplayP3ColorSpace:()=>_1,DodecahedronGeometry:()=>Xm,DoubleSide:()=>I,DstAlphaFactor:()=>ht,DstColorFactor:()=>St,DynamicCopyUsage:()=>v7,DynamicDrawUsage:()=>m7,DynamicReadUsage:()=>M7,EdgesGeometry:()=>qC,EllipseCurve:()=>Qm,EqualCompare:()=>z3,EqualDepth:()=>ae,EqualStencilFunc:()=>c7,EquirectangularReflectionMapping:()=>tt,EquirectangularRefractionMapping:()=>Bt,Euler:()=>ja,EventDispatcher:()=>ha,ExtrudeGeometry:()=>r4,FileLoader:()=>il,Float16BufferAttribute:()=>RJ,Float32BufferAttribute:()=>An,FloatType:()=>ai,Fog:()=>Sm,FogExp2:()=>Om,FramebufferTexture:()=>qV,FrontSide:()=>E,Frustum:()=>Yh,GLBufferAttribute:()=>hz,GLSL1:()=>C7,GLSL3:()=>Gh,GreaterCompare:()=>j3,GreaterDepth:()=>ue,GreaterEqualCompare:()=>K3,GreaterEqualDepth:()=>qt,GreaterEqualStencilFunc:()=>f7,GreaterStencilFunc:()=>d7,GridHelper:()=>_z,Group:()=>Mu,HalfFloatType:()=>Hi,HemisphereLight:()=>b_,HemisphereLightHelper:()=>Cz,IcosahedronGeometry:()=>a4,ImageBitmapLoader:()=>HQ,ImageLoader:()=>v2,ImageUtils:()=>zl,IncrementStencilOp:()=>i7,IncrementWrapStencilOp:()=>r7,InstancedBufferAttribute:()=>X1,InstancedBufferGeometry:()=>R_,InstancedInterleavedBuffer:()=>dz,InstancedMesh:()=>RC,Int16BufferAttribute:()=>IJ,Int32BufferAttribute:()=>BJ,Int8BufferAttribute:()=>SJ,IntType:()=>I0,InterleavedBuffer:()=>xm,InterleavedBufferAttribute:()=>Au,Interpolant:()=>g2,InterpolateDiscrete:()=>E9,InterpolateLinear:()=>w9,InterpolateSmooth:()=>R9,InvertStencilOp:()=>o7,KeepStencilOp:()=>Qs,KeyframeTrack:()=>Uo,LOD:()=>CC,LatheGeometry:()=>u2,Layers:()=>sm,LessCompare:()=>Q3,LessDepth:()=>Gt,LessEqualCompare:()=>$h,LessEqualDepth:()=>ce,LessEqualStencilFunc:()=>u7,LessStencilFunc:()=>l7,Light:()=>nc,LightProbe:()=>B_,Line:()=>ec,Line3:()=>Mz,LineBasicMaterial:()=>Ma,LineCurve:()=>Tp,LineCurve3:()=>WC,LineDashedMaterial:()=>m_,LineLoop:()=>JC,LineSegments:()=>hs,LinearDisplayP3ColorSpace:()=>nu,LinearFilter:()=>Ve,LinearInterpolant:()=>Up,LinearMipMapLinearFilter:()=>Di,LinearMipMapNearestFilter:()=>Ge,LinearMipmapLinearFilter:()=>ke,LinearMipmapNearestFilter:()=>ji,LinearSRGBColorSpace:()=>Po,LinearToneMapping:()=>oi,LinearTransfer:()=>ru,Loader:()=>Ba,LoaderUtils:()=>Qp,LoadingManager:()=>$p,LoopOnce:()=>r9,LoopPingPong:()=>B9,LoopRepeat:()=>W0,LuminanceAlphaFormat:()=>Xe,LuminanceFormat:()=>xe,MOUSE:()=>p,Material:()=>qr,MaterialLoader:()=>h4,MathUtils:()=>U7,Matrix3:()=>Hn,Matrix4:()=>gn,MaxEquation:()=>H,Mesh:()=>nr,MeshBasicMaterial:()=>ql,MeshDepthMaterial:()=>up,MeshDistanceMaterial:()=>dp,MeshLambertMaterial:()=>h_,MeshMatcapMaterial:()=>f_,MeshNormalMaterial:()=>d_,MeshPhongMaterial:()=>c_,MeshPhysicalMaterial:()=>l_,MeshStandardMaterial:()=>Lp,MeshToonMaterial:()=>u_,MinEquation:()=>G,MirroredRepeatWrapping:()=>se,MixOperation:()=>He,MultiplyBlending:()=>P,MultiplyOperation:()=>ve,NearestFilter:()=>Be,NearestMipMapLinearFilter:()=>zi,NearestMipMapNearestFilter:()=>Ne,NearestMipmapLinearFilter:()=>li,NearestMipmapNearestFilter:()=>we,NeutralToneMapping:()=>Ht,NeverCompare:()=>V3,NeverDepth:()=>kt,NeverStencilFunc:()=>s7,NoBlending:()=>T,NoColorSpace:()=>Nr,NoToneMapping:()=>ri,NormalAnimationBlendMode:()=>da,NormalBlending:()=>k,NotEqualCompare:()=>W3,NotEqualDepth:()=>$e,NotEqualStencilFunc:()=>h7,NumberKeyframeTrack:()=>M2,Object3D:()=>N0,ObjectLoader:()=>$Q,ObjectSpaceNormalMap:()=>cs,OctahedronGeometry:()=>m2,OneFactor:()=>Z,OneMinusConstantAlphaFactor:()=>zt,OneMinusConstantColorFactor:()=>yt,OneMinusDstAlphaFactor:()=>st,OneMinusDstColorFactor:()=>At,OneMinusSrcAlphaFactor:()=>dt,OneMinusSrcColorFactor:()=>W,OrthographicCamera:()=>Cm,P3Primaries:()=>ou,PCFShadowMap:()=>C,PCFSoftShadowMap:()=>w,PMREMGenerator:()=>ap,Path:()=>c2,PerspectiveCamera:()=>dr,Plane:()=>Yl,PlaneGeometry:()=>H1,PlaneHelper:()=>Tz,PointLight:()=>O_,PointLightHelper:()=>vz,Points:()=>GC,PointsMaterial:()=>Cp,PolarGridHelper:()=>Ez,PolyhedronGeometry:()=>ic,PositionalAudio:()=>KQ,PropertyBinding:()=>P0,PropertyMixer:()=>H_,QuadraticBezierCurve:()=>Ip,QuadraticBezierCurve3:()=>Bp,Quaternion:()=>L0,QuaternionKeyframeTrack:()=>id,QuaternionLinearInterpolant:()=>A_,RED_GREEN_RGTC2_Format:()=>b0,RED_RGTC1_Format:()=>Rn,REVISION:()=>h,RGBADepthPacking:()=>Ha,RGBAFormat:()=>le,RGBAIntegerFormat:()=>tn,RGBA_ASTC_10x10_Format:()=>si,RGBA_ASTC_10x5_Format:()=>pi,RGBA_ASTC_10x6_Format:()=>hi,RGBA_ASTC_10x8_Format:()=>Re,RGBA_ASTC_12x10_Format:()=>Ei,RGBA_ASTC_12x12_Format:()=>Se,RGBA_ASTC_4x4_Format:()=>Xn,RGBA_ASTC_5x4_Format:()=>ct,RGBA_ASTC_5x5_Format:()=>Mt,RGBA_ASTC_6x5_Format:()=>Nt,RGBA_ASTC_6x6_Format:()=>$t,RGBA_ASTC_8x5_Format:()=>Zt,RGBA_ASTC_8x6_Format:()=>Me,RGBA_ASTC_8x8_Format:()=>Ce,RGBA_BPTC_Format:()=>wi,RGBA_ETC2_EAC_Format:()=>q0,RGBA_PVRTC_2BPPV1_Format:()=>p9,RGBA_PVRTC_4BPPV1_Format:()=>B0,RGBA_S3TC_DXT1_Format:()=>Sn,RGBA_S3TC_DXT3_Format:()=>v0,RGBA_S3TC_DXT5_Format:()=>Pn,RGBFormat:()=>Xt,RGB_BPTC_SIGNED_Format:()=>pn,RGB_BPTC_UNSIGNED_Format:()=>Un,RGB_ETC1_Format:()=>Gi,RGB_ETC2_Format:()=>Nn,RGB_PVRTC_2BPPV1_Format:()=>Kn,RGB_PVRTC_4BPPV1_Format:()=>Bn,RGB_S3TC_DXT1_Format:()=>mn,RGFormat:()=>Oe,RGIntegerFormat:()=>Je,RawShaderMaterial:()=>s_,Ray:()=>ur,Raycaster:()=>fz,Rec709Primaries:()=>au,RectAreaLight:()=>T_,RedFormat:()=>Mi,RedIntegerFormat:()=>$i,ReinhardToneMapping:()=>oe,RenderTarget:()=>O1,RepeatWrapping:()=>jt,ReplaceStencilOp:()=>e7,ReverseSubtractEquation:()=>z,RingGeometry:()=>o4,SIGNED_RED_GREEN_RGTC2_Format:()=>R0,SIGNED_RED_RGTC1_Format:()=>wn,SRGBColorSpace:()=>O0,SRGBTransfer:()=>a9,Scene:()=>gC,ShaderChunk:()=>a0,ShaderLib:()=>No,ShaderMaterial:()=>Lo,ShadowMaterial:()=>o_,Shape:()=>bu,ShapeGeometry:()=>s4,ShapePath:()=>Rz,ShapeUtils:()=>fs,ShortType:()=>Le,Skeleton:()=>Pm,SkeletonHelper:()=>Az,SkinnedMesh:()=>xC,Source:()=>O9,Sphere:()=>cr,SphereGeometry:()=>p2,Spherical:()=>mz,SphericalHarmonics3:()=>I_,SplineCurve:()=>Rp,SpotLight:()=>E_,SpotLightHelper:()=>yz,Sprite:()=>vC,SpriteMaterial:()=>mp,SrcAlphaFactor:()=>et,SrcAlphaSaturateFactor:()=>xt,SrcColorFactor:()=>j,StaticCopyUsage:()=>A7,StaticDrawUsage:()=>su,StaticReadUsage:()=>g7,StereoCamera:()=>QQ,StreamCopyUsage:()=>b7,StreamDrawUsage:()=>p7,StreamReadUsage:()=>y7,StringKeyframeTrack:()=>wu,SubtractEquation:()=>V,SubtractiveBlending:()=>N,TOUCH:()=>f,TangentSpaceNormalMap:()=>jr,TetrahedronGeometry:()=>l4,Texture:()=>u9,TextureLoader:()=>NQ,TorusGeometry:()=>c4,TorusKnotGeometry:()=>u4,Triangle:()=>Wa,TriangleFanDrawMode:()=>uo,TriangleStripDrawMode:()=>co,TrianglesDrawMode:()=>lo,TubeGeometry:()=>d4,UVMapping:()=>Lt,Uint16BufferAttribute:()=>W7,Uint32BufferAttribute:()=>K7,Uint8BufferAttribute:()=>xJ,Uint8ClampedBufferAttribute:()=>TJ,Uniform:()=>Kp,UniformsGroup:()=>uz,UniformsLib:()=>Vi,UniformsUtils:()=>Pb,UnsignedByteType:()=>ni,UnsignedInt248Type:()=>dn,UnsignedInt5999Type:()=>n9,UnsignedIntType:()=>Gn,UnsignedShort4444Type:()=>f0,UnsignedShort5551Type:()=>_i,UnsignedShortType:()=>yn,VSMShadowMap:()=>_,Vector2:()=>yi,Vector3:()=>ie,Vector4:()=>D0,VectorKeyframeTrack:()=>y2,VideoTexture:()=>KV,WebGL3DRenderTarget:()=>w0,WebGLArrayRenderTarget:()=>hn,WebGLCoordinateSystem:()=>ho,WebGLCubeRenderTarget:()=>Fb,WebGLMultipleRenderTargets:()=>Dz,WebGLRenderTarget:()=>Sa,WebGLRenderer:()=>JV,WebGLUtils:()=>dC,WebGPUCoordinateSystem:()=>lu,WireframeGeometry:()=>n_,WrapAroundEnding:()=>Lr,ZeroCurvatureEnding:()=>g9,ZeroFactor:()=>J,ZeroSlopeEnding:()=>Z9,ZeroStencilOp:()=>t7,createCanvasElement:()=>Z3});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const h="164",p={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},f={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},M=0,g=1,y=2,b=3,v=0,C=1,w=2,_=3,E=0,S=1,I=2,T=0,k=1,D=2,N=3,P=4,F=5,U=100,V=101,z=102,G=103,H=104,J=200,Z=201,j=202,W=203,et=204,dt=205,ht=206,st=207,St=208,At=209,xt=210,gt=211,yt=212,lt=213,zt=214,kt=0,Jt=1,Gt=2,ce=3,ae=4,qt=5,ue=6,$e=7,ve=0,He=1,qe=2,ri=0,oi=1,oe=2,fe=3,pe=4,Ot=5,_t=6,Ht=7,Tt="attached",Et="detached",Lt=300,ut=301,X=302,tt=303,Bt=304,Qt=306,jt=1e3,ne=1001,se=1002,Be=1003,we=1004,Ne=1004,li=1005,zi=1005,Ve=1006,ji=1007,Ge=1007,ke=1008,Di=1008,ni=1009,Tn=1010,Le=1011,yn=1012,I0=1013,Gn=1014,ai=1015,Hi=1016,f0=1017,_i=1018,dn=1020,n9=35902,k0=1021,Xt=1022,le=1023,xe=1024,Xe=1025,Ue=1026,ui=1027,Mi=1028,$i=1029,Oe=1030,Je=1031,tn=1033,mn=33776,Sn=33777,v0=33778,Pn=33779,Bn=35840,Kn=35841,B0=35842,p9=35843,Gi=36196,Nn=37492,q0=37496,Xn=37808,ct=37809,Mt=37810,Nt=37811,$t=37812,Zt=37813,Me=37814,Ce=37815,pi=37816,hi=37817,Re=37818,si=37819,Ei=37820,Se=37821,wi=36492,pn=36494,Un=36495,Rn=36283,wn=36284,b0=36285,R0=36286,r9=2200,W0=2201,B9=2202,E9=2300,w9=2301,R9=2302,g9=2400,Z9=2401,Lr=2402,da=2500,zr=2501,lo=0,co=1,uo=2,k9=3200,Ha=3201,jr=0,cs=1,Nr="",O0="srgb",Po="srgb-linear",_1="display-p3",nu="display-p3-linear",ru="linear",a9="srgb",au="rec709",ou="p3",t7=0,Qs=7680,e7=7681,i7=7682,n7=7683,r7=34055,a7=34056,o7=5386,s7=512,l7=513,c7=514,u7=515,d7=516,h7=517,f7=518,Jh=519,V3=512,Q3=513,z3=514,$h=515,j3=516,W3=517,K3=518,q3=519,su=35044,m7=35048,p7=35040,g7=35045,M7=35049,y7=35041,A7=35046,v7=35050,b7=35042,C7="100",Gh="300 es",ho=2e3,lu=2001;class ha{addEventListener(r,s){this._listeners===void 0&&(this._listeners={});const m=this._listeners;m[r]===void 0&&(m[r]=[]),m[r].indexOf(s)===-1&&m[r].push(s)}hasEventListener(r,s){if(this._listeners===void 0)return!1;const m=this._listeners;return m[r]!==void 0&&m[r].indexOf(s)!==-1}removeEventListener(r,s){if(this._listeners===void 0)return;const A=this._listeners[r];if(A!==void 0){const O=A.indexOf(s);O!==-1&&A.splice(O,1)}}dispatchEvent(r){if(this._listeners===void 0)return;const m=this._listeners[r.type];if(m!==void 0){r.target=this;const A=m.slice(0);for(let O=0,R=A.length;O<R;O++)A[O].call(this,r);r.target=null}}}const br=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let X3=1234567;const zs=Math.PI/180,Hl=180/Math.PI;function fa(){const x=Math.random()*4294967295|0,r=Math.random()*4294967295|0,s=Math.random()*4294967295|0,m=Math.random()*4294967295|0;return(br[x&255]+br[x>>8&255]+br[x>>16&255]+br[x>>24&255]+"-"+br[r&255]+br[r>>8&255]+"-"+br[r>>16&15|64]+br[r>>24&255]+"-"+br[s&63|128]+br[s>>8&255]+"-"+br[s>>16&255]+br[s>>24&255]+br[m&255]+br[m>>8&255]+br[m>>16&255]+br[m>>24&255]).toLowerCase()}function D9(x,r,s){return Math.max(r,Math.min(s,x))}function Hh(x,r){return(x%r+r)%r}function _7(x,r,s,m,A){return m+(x-r)*(A-m)/(s-r)}function E7(x,r,s){return x!==r?(s-x)/(r-x):0}function cu(x,r,s){return(1-s)*x+s*r}function w7(x,r,s,m){return cu(x,r,1-Math.exp(-s*m))}function O7(x,r=1){return r-Math.abs(Hh(x,r*2)-r)}function S7(x,r,s){return x<=r?0:x>=s?1:(x=(x-r)/(s-r),x*x*(3-2*x))}function x7(x,r,s){return x<=r?0:x>=s?1:(x=(x-r)/(s-r),x*x*x*(x*(x*6-15)+10))}function T7(x,r){return x+Math.floor(Math.random()*(r-x+1))}function I7(x,r){return x+Math.random()*(r-x)}function B7(x){return x*(.5-Math.random())}function R7(x){x!==void 0&&(X3=x);let r=X3+=1831565813;return r=Math.imul(r^r>>>15,r|1),r^=r+Math.imul(r^r>>>7,r|61),((r^r>>>14)>>>0)/4294967296}function D7(x){return x*zs}function P7(x){return x*Hl}function k7(x){return(x&x-1)===0&&x!==0}function L7(x){return Math.pow(2,Math.ceil(Math.log(x)/Math.LN2))}function N7(x){return Math.pow(2,Math.floor(Math.log(x)/Math.LN2))}function F7(x,r,s,m,A){const O=Math.cos,R=Math.sin,L=O(s/2),$=R(s/2),Q=O((r+m)/2),Y=R((r+m)/2),nt=O((r-m)/2),rt=R((r-m)/2),at=O((m-r)/2),ft=R((m-r)/2);switch(A){case"XYX":x.set(L*Y,$*nt,$*rt,L*Q);break;case"YZY":x.set($*rt,L*Y,$*nt,L*Q);break;case"ZXZ":x.set($*nt,$*rt,L*Y,L*Q);break;case"XZX":x.set(L*Y,$*ft,$*at,L*Q);break;case"YXY":x.set($*at,L*Y,$*ft,L*Q);break;case"ZYZ":x.set($*ft,$*at,L*Y,L*Q);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+A)}}function Fr(x,r){switch(r.constructor){case Float32Array:return x;case Uint32Array:return x/4294967295;case Uint16Array:return x/65535;case Uint8Array:return x/255;case Int32Array:return Math.max(x/2147483647,-1);case Int16Array:return Math.max(x/32767,-1);case Int8Array:return Math.max(x/127,-1);default:throw new Error("Invalid component type.")}}function jn(x,r){switch(r.constructor){case Float32Array:return x;case Uint32Array:return Math.round(x*4294967295);case Uint16Array:return Math.round(x*65535);case Uint8Array:return Math.round(x*255);case Int32Array:return Math.round(x*2147483647);case Int16Array:return Math.round(x*32767);case Int8Array:return Math.round(x*127);default:throw new Error("Invalid component type.")}}const U7={DEG2RAD:zs,RAD2DEG:Hl,generateUUID:fa,clamp:D9,euclideanModulo:Hh,mapLinear:_7,inverseLerp:E7,lerp:cu,damp:w7,pingpong:O7,smoothstep:S7,smootherstep:x7,randInt:T7,randFloat:I7,randFloatSpread:B7,seededRandom:R7,degToRad:D7,radToDeg:P7,isPowerOfTwo:k7,ceilPowerOfTwo:L7,floorPowerOfTwo:N7,setQuaternionFromProperEuler:F7,normalize:jn,denormalize:Fr};class yi{constructor(r=0,s=0){yi.prototype.isVector2=!0,this.x=r,this.y=s}get width(){return this.x}set width(r){this.x=r}get height(){return this.y}set height(r){this.y=r}set(r,s){return this.x=r,this.y=s,this}setScalar(r){return this.x=r,this.y=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setComponent(r,s){switch(r){case 0:this.x=s;break;case 1:this.y=s;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y)}copy(r){return this.x=r.x,this.y=r.y,this}add(r){return this.x+=r.x,this.y+=r.y,this}addScalar(r){return this.x+=r,this.y+=r,this}addVectors(r,s){return this.x=r.x+s.x,this.y=r.y+s.y,this}addScaledVector(r,s){return this.x+=r.x*s,this.y+=r.y*s,this}sub(r){return this.x-=r.x,this.y-=r.y,this}subScalar(r){return this.x-=r,this.y-=r,this}subVectors(r,s){return this.x=r.x-s.x,this.y=r.y-s.y,this}multiply(r){return this.x*=r.x,this.y*=r.y,this}multiplyScalar(r){return this.x*=r,this.y*=r,this}divide(r){return this.x/=r.x,this.y/=r.y,this}divideScalar(r){return this.multiplyScalar(1/r)}applyMatrix3(r){const s=this.x,m=this.y,A=r.elements;return this.x=A[0]*s+A[3]*m+A[6],this.y=A[1]*s+A[4]*m+A[7],this}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this}clamp(r,s){return this.x=Math.max(r.x,Math.min(s.x,this.x)),this.y=Math.max(r.y,Math.min(s.y,this.y)),this}clampScalar(r,s){return this.x=Math.max(r,Math.min(s,this.x)),this.y=Math.max(r,Math.min(s,this.y)),this}clampLength(r,s){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(r,Math.min(s,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(r){return this.x*r.x+this.y*r.y}cross(r){return this.x*r.y-this.y*r.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(r){const s=Math.sqrt(this.lengthSq()*r.lengthSq());if(s===0)return Math.PI/2;const m=this.dot(r)/s;return Math.acos(D9(m,-1,1))}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const s=this.x-r.x,m=this.y-r.y;return s*s+m*m}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,s){return this.x+=(r.x-this.x)*s,this.y+=(r.y-this.y)*s,this}lerpVectors(r,s,m){return this.x=r.x+(s.x-r.x)*m,this.y=r.y+(s.y-r.y)*m,this}equals(r){return r.x===this.x&&r.y===this.y}fromArray(r,s=0){return this.x=r[s],this.y=r[s+1],this}toArray(r=[],s=0){return r[s]=this.x,r[s+1]=this.y,r}fromBufferAttribute(r,s){return this.x=r.getX(s),this.y=r.getY(s),this}rotateAround(r,s){const m=Math.cos(s),A=Math.sin(s),O=this.x-r.x,R=this.y-r.y;return this.x=O*m-R*A+r.x,this.y=O*A+R*m+r.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Hn{constructor(r,s,m,A,O,R,L,$,Q){Hn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],r!==void 0&&this.set(r,s,m,A,O,R,L,$,Q)}set(r,s,m,A,O,R,L,$,Q){const Y=this.elements;return Y[0]=r,Y[1]=A,Y[2]=L,Y[3]=s,Y[4]=O,Y[5]=$,Y[6]=m,Y[7]=R,Y[8]=Q,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(r){const s=this.elements,m=r.elements;return s[0]=m[0],s[1]=m[1],s[2]=m[2],s[3]=m[3],s[4]=m[4],s[5]=m[5],s[6]=m[6],s[7]=m[7],s[8]=m[8],this}extractBasis(r,s,m){return r.setFromMatrix3Column(this,0),s.setFromMatrix3Column(this,1),m.setFromMatrix3Column(this,2),this}setFromMatrix4(r){const s=r.elements;return this.set(s[0],s[4],s[8],s[1],s[5],s[9],s[2],s[6],s[10]),this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,s){const m=r.elements,A=s.elements,O=this.elements,R=m[0],L=m[3],$=m[6],Q=m[1],Y=m[4],nt=m[7],rt=m[2],at=m[5],ft=m[8],Ct=A[0],pt=A[3],ot=A[6],Vt=A[1],Ut=A[4],Ft=A[7],Ae=A[2],re=A[5],de=A[8];return O[0]=R*Ct+L*Vt+$*Ae,O[3]=R*pt+L*Ut+$*re,O[6]=R*ot+L*Ft+$*de,O[1]=Q*Ct+Y*Vt+nt*Ae,O[4]=Q*pt+Y*Ut+nt*re,O[7]=Q*ot+Y*Ft+nt*de,O[2]=rt*Ct+at*Vt+ft*Ae,O[5]=rt*pt+at*Ut+ft*re,O[8]=rt*ot+at*Ft+ft*de,this}multiplyScalar(r){const s=this.elements;return s[0]*=r,s[3]*=r,s[6]*=r,s[1]*=r,s[4]*=r,s[7]*=r,s[2]*=r,s[5]*=r,s[8]*=r,this}determinant(){const r=this.elements,s=r[0],m=r[1],A=r[2],O=r[3],R=r[4],L=r[5],$=r[6],Q=r[7],Y=r[8];return s*R*Y-s*L*Q-m*O*Y+m*L*$+A*O*Q-A*R*$}invert(){const r=this.elements,s=r[0],m=r[1],A=r[2],O=r[3],R=r[4],L=r[5],$=r[6],Q=r[7],Y=r[8],nt=Y*R-L*Q,rt=L*$-Y*O,at=Q*O-R*$,ft=s*nt+m*rt+A*at;if(ft===0)return this.set(0,0,0,0,0,0,0,0,0);const Ct=1/ft;return r[0]=nt*Ct,r[1]=(A*Q-Y*m)*Ct,r[2]=(L*m-A*R)*Ct,r[3]=rt*Ct,r[4]=(Y*s-A*$)*Ct,r[5]=(A*O-L*s)*Ct,r[6]=at*Ct,r[7]=(m*$-Q*s)*Ct,r[8]=(R*s-m*O)*Ct,this}transpose(){let r;const s=this.elements;return r=s[1],s[1]=s[3],s[3]=r,r=s[2],s[2]=s[6],s[6]=r,r=s[5],s[5]=s[7],s[7]=r,this}getNormalMatrix(r){return this.setFromMatrix4(r).invert().transpose()}transposeIntoArray(r){const s=this.elements;return r[0]=s[0],r[1]=s[3],r[2]=s[6],r[3]=s[1],r[4]=s[4],r[5]=s[7],r[6]=s[2],r[7]=s[5],r[8]=s[8],this}setUvTransform(r,s,m,A,O,R,L){const $=Math.cos(O),Q=Math.sin(O);return this.set(m*$,m*Q,-m*($*R+Q*L)+R+r,-A*Q,A*$,-A*(-Q*R+$*L)+L+s,0,0,1),this}scale(r,s){return this.premultiply(Vh.makeScale(r,s)),this}rotate(r){return this.premultiply(Vh.makeRotation(-r)),this}translate(r,s){return this.premultiply(Vh.makeTranslation(r,s)),this}makeTranslation(r,s){return r.isVector2?this.set(1,0,r.x,0,1,r.y,0,0,1):this.set(1,0,r,0,1,s,0,0,1),this}makeRotation(r){const s=Math.cos(r),m=Math.sin(r);return this.set(s,-m,0,m,s,0,0,0,1),this}makeScale(r,s){return this.set(r,0,0,0,s,0,0,0,1),this}equals(r){const s=this.elements,m=r.elements;for(let A=0;A<9;A++)if(s[A]!==m[A])return!1;return!0}fromArray(r,s=0){for(let m=0;m<9;m++)this.elements[m]=r[m+s];return this}toArray(r=[],s=0){const m=this.elements;return r[s]=m[0],r[s+1]=m[1],r[s+2]=m[2],r[s+3]=m[3],r[s+4]=m[4],r[s+5]=m[5],r[s+6]=m[6],r[s+7]=m[7],r[s+8]=m[8],r}clone(){return new this.constructor().fromArray(this.elements)}}const Vh=new Hn;function Y3(x){for(let r=x.length-1;r>=0;--r)if(x[r]>=65535)return!0;return!1}const J7={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Vl(x,r){return new J7[x](r)}function uu(x){return document.createElementNS("http://www.w3.org/1999/xhtml",x)}function Z3(){const x=uu("canvas");return x.style.display="block",x}const tm={};function em(x){x in tm||(tm[x]=!0,console.warn(x))}const im=new Hn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),nm=new Hn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),E1={[Po]:{transfer:ru,primaries:au,toReference:x=>x,fromReference:x=>x},[O0]:{transfer:a9,primaries:au,toReference:x=>x.convertSRGBToLinear(),fromReference:x=>x.convertLinearToSRGB()},[nu]:{transfer:ru,primaries:ou,toReference:x=>x.applyMatrix3(nm),fromReference:x=>x.applyMatrix3(im)},[_1]:{transfer:a9,primaries:ou,toReference:x=>x.convertSRGBToLinear().applyMatrix3(nm),fromReference:x=>x.applyMatrix3(im).convertLinearToSRGB()}},$7=new Set([Po,nu]),G0={enabled:!0,_workingColorSpace:Po,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(x){if(!$7.has(x))throw new Error(`Unsupported working color space, "${x}".`);this._workingColorSpace=x},convert:function(x,r,s){if(this.enabled===!1||r===s||!r||!s)return x;const m=E1[r].toReference,A=E1[s].fromReference;return A(m(x))},fromWorkingColorSpace:function(x,r){return this.convert(x,this._workingColorSpace,r)},toWorkingColorSpace:function(x,r){return this.convert(x,r,this._workingColorSpace)},getPrimaries:function(x){return E1[x].primaries},getTransfer:function(x){return x===Nr?ru:E1[x].transfer}};function Ql(x){return x<.04045?x*.0773993808:Math.pow(x*.9478672986+.0521327014,2.4)}function Qh(x){return x<.0031308?x*12.92:1.055*Math.pow(x,.41666)-.055}let js;class zl{static getDataURL(r){if(/^data:/i.test(r.src)||typeof HTMLCanvasElement>"u")return r.src;let s;if(r instanceof HTMLCanvasElement)s=r;else{js===void 0&&(js=uu("canvas")),js.width=r.width,js.height=r.height;const m=js.getContext("2d");r instanceof ImageData?m.putImageData(r,0,0):m.drawImage(r,0,0,r.width,r.height),s=js}return s.width>2048||s.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",r),s.toDataURL("image/jpeg",.6)):s.toDataURL("image/png")}static sRGBToLinear(r){if(typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap){const s=uu("canvas");s.width=r.width,s.height=r.height;const m=s.getContext("2d");m.drawImage(r,0,0,r.width,r.height);const A=m.getImageData(0,0,r.width,r.height),O=A.data;for(let R=0;R<O.length;R++)O[R]=Ql(O[R]/255)*255;return m.putImageData(A,0,0),s}else if(r.data){const s=r.data.slice(0);for(let m=0;m<s.length;m++)s instanceof Uint8Array||s instanceof Uint8ClampedArray?s[m]=Math.floor(Ql(s[m]/255)*255):s[m]=Ql(s[m]);return{data:s,width:r.width,height:r.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),r}}let rm=0;class O9{constructor(r=null){this.isSource=!0,Object.defineProperty(this,"id",{value:rm++}),this.uuid=fa(),this.data=r,this.dataReady=!0,this.version=0}set needsUpdate(r){r===!0&&this.version++}toJSON(r){const s=r===void 0||typeof r=="string";if(!s&&r.images[this.uuid]!==void 0)return r.images[this.uuid];const m={uuid:this.uuid,url:""},A=this.data;if(A!==null){let O;if(Array.isArray(A)){O=[];for(let R=0,L=A.length;R<L;R++)A[R].isDataTexture?O.push(w1(A[R].image)):O.push(w1(A[R]))}else O=w1(A);m.url=O}return s||(r.images[this.uuid]=m),m}}function w1(x){return typeof HTMLImageElement<"u"&&x instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&x instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&x instanceof ImageBitmap?zl.getDataURL(x):x.data?{data:Array.from(x.data),width:x.width,height:x.height,type:x.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let am=0;class u9 extends ha{constructor(r=u9.DEFAULT_IMAGE,s=u9.DEFAULT_MAPPING,m=ne,A=ne,O=Ve,R=ke,L=le,$=ni,Q=u9.DEFAULT_ANISOTROPY,Y=Nr){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:am++}),this.uuid=fa(),this.name="",this.source=new O9(r),this.mipmaps=[],this.mapping=s,this.channel=0,this.wrapS=m,this.wrapT=A,this.magFilter=O,this.minFilter=R,this.anisotropy=Q,this.format=L,this.internalFormat=null,this.type=$,this.offset=new yi(0,0),this.repeat=new yi(1,1),this.center=new yi(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Hn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=Y,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(r=null){this.source.data=r}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(r){return this.name=r.name,this.source=r.source,this.mipmaps=r.mipmaps.slice(0),this.mapping=r.mapping,this.channel=r.channel,this.wrapS=r.wrapS,this.wrapT=r.wrapT,this.magFilter=r.magFilter,this.minFilter=r.minFilter,this.anisotropy=r.anisotropy,this.format=r.format,this.internalFormat=r.internalFormat,this.type=r.type,this.offset.copy(r.offset),this.repeat.copy(r.repeat),this.center.copy(r.center),this.rotation=r.rotation,this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrix.copy(r.matrix),this.generateMipmaps=r.generateMipmaps,this.premultiplyAlpha=r.premultiplyAlpha,this.flipY=r.flipY,this.unpackAlignment=r.unpackAlignment,this.colorSpace=r.colorSpace,this.userData=JSON.parse(JSON.stringify(r.userData)),this.needsUpdate=!0,this}toJSON(r){const s=r===void 0||typeof r=="string";if(!s&&r.textures[this.uuid]!==void 0)return r.textures[this.uuid];const m={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(r).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(m.userData=this.userData),s||(r.textures[this.uuid]=m),m}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(r){if(this.mapping!==Lt)return r;if(r.applyMatrix3(this.matrix),r.x<0||r.x>1)switch(this.wrapS){case jt:r.x=r.x-Math.floor(r.x);break;case ne:r.x=r.x<0?0:1;break;case se:Math.abs(Math.floor(r.x)%2)===1?r.x=Math.ceil(r.x)-r.x:r.x=r.x-Math.floor(r.x);break}if(r.y<0||r.y>1)switch(this.wrapT){case jt:r.y=r.y-Math.floor(r.y);break;case ne:r.y=r.y<0?0:1;break;case se:Math.abs(Math.floor(r.y)%2)===1?r.y=Math.ceil(r.y)-r.y:r.y=r.y-Math.floor(r.y);break}return this.flipY&&(r.y=1-r.y),r}set needsUpdate(r){r===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(r){r===!0&&this.pmremVersion++}}u9.DEFAULT_IMAGE=null,u9.DEFAULT_MAPPING=Lt,u9.DEFAULT_ANISOTROPY=1;class D0{constructor(r=0,s=0,m=0,A=1){D0.prototype.isVector4=!0,this.x=r,this.y=s,this.z=m,this.w=A}get width(){return this.z}set width(r){this.z=r}get height(){return this.w}set height(r){this.w=r}set(r,s,m,A){return this.x=r,this.y=s,this.z=m,this.w=A,this}setScalar(r){return this.x=r,this.y=r,this.z=r,this.w=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setZ(r){return this.z=r,this}setW(r){return this.w=r,this}setComponent(r,s){switch(r){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;case 3:this.w=s;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this.w=r.w!==void 0?r.w:1,this}add(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this.w+=r.w,this}addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this.w+=r,this}addVectors(r,s){return this.x=r.x+s.x,this.y=r.y+s.y,this.z=r.z+s.z,this.w=r.w+s.w,this}addScaledVector(r,s){return this.x+=r.x*s,this.y+=r.y*s,this.z+=r.z*s,this.w+=r.w*s,this}sub(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this.w-=r.w,this}subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this.w-=r,this}subVectors(r,s){return this.x=r.x-s.x,this.y=r.y-s.y,this.z=r.z-s.z,this.w=r.w-s.w,this}multiply(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z,this.w*=r.w,this}multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this.w*=r,this}applyMatrix4(r){const s=this.x,m=this.y,A=this.z,O=this.w,R=r.elements;return this.x=R[0]*s+R[4]*m+R[8]*A+R[12]*O,this.y=R[1]*s+R[5]*m+R[9]*A+R[13]*O,this.z=R[2]*s+R[6]*m+R[10]*A+R[14]*O,this.w=R[3]*s+R[7]*m+R[11]*A+R[15]*O,this}divideScalar(r){return this.multiplyScalar(1/r)}setAxisAngleFromQuaternion(r){this.w=2*Math.acos(r.w);const s=Math.sqrt(1-r.w*r.w);return s<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=r.x/s,this.y=r.y/s,this.z=r.z/s),this}setAxisAngleFromRotationMatrix(r){let s,m,A,O;const $=r.elements,Q=$[0],Y=$[4],nt=$[8],rt=$[1],at=$[5],ft=$[9],Ct=$[2],pt=$[6],ot=$[10];if(Math.abs(Y-rt)<.01&&Math.abs(nt-Ct)<.01&&Math.abs(ft-pt)<.01){if(Math.abs(Y+rt)<.1&&Math.abs(nt+Ct)<.1&&Math.abs(ft+pt)<.1&&Math.abs(Q+at+ot-3)<.1)return this.set(1,0,0,0),this;s=Math.PI;const Ut=(Q+1)/2,Ft=(at+1)/2,Ae=(ot+1)/2,re=(Y+rt)/4,de=(nt+Ct)/4,ge=(ft+pt)/4;return Ut>Ft&&Ut>Ae?Ut<.01?(m=0,A=.707106781,O=.707106781):(m=Math.sqrt(Ut),A=re/m,O=de/m):Ft>Ae?Ft<.01?(m=.707106781,A=0,O=.707106781):(A=Math.sqrt(Ft),m=re/A,O=ge/A):Ae<.01?(m=.707106781,A=.707106781,O=0):(O=Math.sqrt(Ae),m=de/O,A=ge/O),this.set(m,A,O,s),this}let Vt=Math.sqrt((pt-ft)*(pt-ft)+(nt-Ct)*(nt-Ct)+(rt-Y)*(rt-Y));return Math.abs(Vt)<.001&&(Vt=1),this.x=(pt-ft)/Vt,this.y=(nt-Ct)/Vt,this.z=(rt-Y)/Vt,this.w=Math.acos((Q+at+ot-1)/2),this}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this.w=Math.min(this.w,r.w),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this.w=Math.max(this.w,r.w),this}clamp(r,s){return this.x=Math.max(r.x,Math.min(s.x,this.x)),this.y=Math.max(r.y,Math.min(s.y,this.y)),this.z=Math.max(r.z,Math.min(s.z,this.z)),this.w=Math.max(r.w,Math.min(s.w,this.w)),this}clampScalar(r,s){return this.x=Math.max(r,Math.min(s,this.x)),this.y=Math.max(r,Math.min(s,this.y)),this.z=Math.max(r,Math.min(s,this.z)),this.w=Math.max(r,Math.min(s,this.w)),this}clampLength(r,s){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(r,Math.min(s,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z+this.w*r.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,s){return this.x+=(r.x-this.x)*s,this.y+=(r.y-this.y)*s,this.z+=(r.z-this.z)*s,this.w+=(r.w-this.w)*s,this}lerpVectors(r,s,m){return this.x=r.x+(s.x-r.x)*m,this.y=r.y+(s.y-r.y)*m,this.z=r.z+(s.z-r.z)*m,this.w=r.w+(s.w-r.w)*m,this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z&&r.w===this.w}fromArray(r,s=0){return this.x=r[s],this.y=r[s+1],this.z=r[s+2],this.w=r[s+3],this}toArray(r=[],s=0){return r[s]=this.x,r[s+1]=this.y,r[s+2]=this.z,r[s+3]=this.w,r}fromBufferAttribute(r,s){return this.x=r.getX(s),this.y=r.getY(s),this.z=r.getZ(s),this.w=r.getW(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class O1 extends ha{constructor(r=1,s=1,m={}){super(),this.isRenderTarget=!0,this.width=r,this.height=s,this.depth=1,this.scissor=new D0(0,0,r,s),this.scissorTest=!1,this.viewport=new D0(0,0,r,s);const A={width:r,height:s,depth:1};m=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ve,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},m);const O=new u9(A,m.mapping,m.wrapS,m.wrapT,m.magFilter,m.minFilter,m.format,m.type,m.anisotropy,m.colorSpace);O.flipY=!1,O.generateMipmaps=m.generateMipmaps,O.internalFormat=m.internalFormat,this.textures=[];const R=m.count;for(let L=0;L<R;L++)this.textures[L]=O.clone(),this.textures[L].isRenderTargetTexture=!0;this.depthBuffer=m.depthBuffer,this.stencilBuffer=m.stencilBuffer,this.resolveDepthBuffer=m.resolveDepthBuffer,this.resolveStencilBuffer=m.resolveStencilBuffer,this.depthTexture=m.depthTexture,this.samples=m.samples}get texture(){return this.textures[0]}set texture(r){this.textures[0]=r}setSize(r,s,m=1){if(this.width!==r||this.height!==s||this.depth!==m){this.width=r,this.height=s,this.depth=m;for(let A=0,O=this.textures.length;A<O;A++)this.textures[A].image.width=r,this.textures[A].image.height=s,this.textures[A].image.depth=m;this.dispose()}this.viewport.set(0,0,r,s),this.scissor.set(0,0,r,s)}clone(){return new this.constructor().copy(this)}copy(r){this.width=r.width,this.height=r.height,this.depth=r.depth,this.scissor.copy(r.scissor),this.scissorTest=r.scissorTest,this.viewport.copy(r.viewport),this.textures.length=0;for(let m=0,A=r.textures.length;m<A;m++)this.textures[m]=r.textures[m].clone(),this.textures[m].isRenderTargetTexture=!0;const s=Object.assign({},r.texture.image);return this.texture.source=new O9(s),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,r.depthTexture!==null&&(this.depthTexture=r.depthTexture.clone()),this.samples=r.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sa extends O1{constructor(r=1,s=1,m={}){super(r,s,m),this.isWebGLRenderTarget=!0}}class S1 extends u9{constructor(r=null,s=1,m=1,A=1){super(null),this.isDataArrayTexture=!0,this.image={data:r,width:s,height:m,depth:A},this.magFilter=Be,this.minFilter=Be,this.wrapR=ne,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hn extends Sa{constructor(r=1,s=1,m=1,A={}){super(r,s,A),this.isWebGLArrayRenderTarget=!0,this.depth=m,this.texture=new S1(null,r,s,m),this.texture.isRenderTargetTexture=!0}}class Vn extends u9{constructor(r=null,s=1,m=1,A=1){super(null),this.isData3DTexture=!0,this.image={data:r,width:s,height:m,depth:A},this.magFilter=Be,this.minFilter=Be,this.wrapR=ne,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class w0 extends Sa{constructor(r=1,s=1,m=1,A={}){super(r,s,A),this.isWebGL3DRenderTarget=!0,this.depth=m,this.texture=new Vn(null,r,s,m),this.texture.isRenderTargetTexture=!0}}class L0{constructor(r=0,s=0,m=0,A=1){this.isQuaternion=!0,this._x=r,this._y=s,this._z=m,this._w=A}static slerpFlat(r,s,m,A,O,R,L){let $=m[A+0],Q=m[A+1],Y=m[A+2],nt=m[A+3];const rt=O[R+0],at=O[R+1],ft=O[R+2],Ct=O[R+3];if(L===0){r[s+0]=$,r[s+1]=Q,r[s+2]=Y,r[s+3]=nt;return}if(L===1){r[s+0]=rt,r[s+1]=at,r[s+2]=ft,r[s+3]=Ct;return}if(nt!==Ct||$!==rt||Q!==at||Y!==ft){let pt=1-L;const ot=$*rt+Q*at+Y*ft+nt*Ct,Vt=ot>=0?1:-1,Ut=1-ot*ot;if(Ut>Number.EPSILON){const Ae=Math.sqrt(Ut),re=Math.atan2(Ae,ot*Vt);pt=Math.sin(pt*re)/Ae,L=Math.sin(L*re)/Ae}const Ft=L*Vt;if($=$*pt+rt*Ft,Q=Q*pt+at*Ft,Y=Y*pt+ft*Ft,nt=nt*pt+Ct*Ft,pt===1-L){const Ae=1/Math.sqrt($*$+Q*Q+Y*Y+nt*nt);$*=Ae,Q*=Ae,Y*=Ae,nt*=Ae}}r[s]=$,r[s+1]=Q,r[s+2]=Y,r[s+3]=nt}static multiplyQuaternionsFlat(r,s,m,A,O,R){const L=m[A],$=m[A+1],Q=m[A+2],Y=m[A+3],nt=O[R],rt=O[R+1],at=O[R+2],ft=O[R+3];return r[s]=L*ft+Y*nt+$*at-Q*rt,r[s+1]=$*ft+Y*rt+Q*nt-L*at,r[s+2]=Q*ft+Y*at+L*rt-$*nt,r[s+3]=Y*ft-L*nt-$*rt-Q*at,r}get x(){return this._x}set x(r){this._x=r,this._onChangeCallback()}get y(){return this._y}set y(r){this._y=r,this._onChangeCallback()}get z(){return this._z}set z(r){this._z=r,this._onChangeCallback()}get w(){return this._w}set w(r){this._w=r,this._onChangeCallback()}set(r,s,m,A){return this._x=r,this._y=s,this._z=m,this._w=A,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(r){return this._x=r.x,this._y=r.y,this._z=r.z,this._w=r.w,this._onChangeCallback(),this}setFromEuler(r,s=!0){const m=r._x,A=r._y,O=r._z,R=r._order,L=Math.cos,$=Math.sin,Q=L(m/2),Y=L(A/2),nt=L(O/2),rt=$(m/2),at=$(A/2),ft=$(O/2);switch(R){case"XYZ":this._x=rt*Y*nt+Q*at*ft,this._y=Q*at*nt-rt*Y*ft,this._z=Q*Y*ft+rt*at*nt,this._w=Q*Y*nt-rt*at*ft;break;case"YXZ":this._x=rt*Y*nt+Q*at*ft,this._y=Q*at*nt-rt*Y*ft,this._z=Q*Y*ft-rt*at*nt,this._w=Q*Y*nt+rt*at*ft;break;case"ZXY":this._x=rt*Y*nt-Q*at*ft,this._y=Q*at*nt+rt*Y*ft,this._z=Q*Y*ft+rt*at*nt,this._w=Q*Y*nt-rt*at*ft;break;case"ZYX":this._x=rt*Y*nt-Q*at*ft,this._y=Q*at*nt+rt*Y*ft,this._z=Q*Y*ft-rt*at*nt,this._w=Q*Y*nt+rt*at*ft;break;case"YZX":this._x=rt*Y*nt+Q*at*ft,this._y=Q*at*nt+rt*Y*ft,this._z=Q*Y*ft-rt*at*nt,this._w=Q*Y*nt-rt*at*ft;break;case"XZY":this._x=rt*Y*nt-Q*at*ft,this._y=Q*at*nt-rt*Y*ft,this._z=Q*Y*ft+rt*at*nt,this._w=Q*Y*nt+rt*at*ft;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+R)}return s===!0&&this._onChangeCallback(),this}setFromAxisAngle(r,s){const m=s/2,A=Math.sin(m);return this._x=r.x*A,this._y=r.y*A,this._z=r.z*A,this._w=Math.cos(m),this._onChangeCallback(),this}setFromRotationMatrix(r){const s=r.elements,m=s[0],A=s[4],O=s[8],R=s[1],L=s[5],$=s[9],Q=s[2],Y=s[6],nt=s[10],rt=m+L+nt;if(rt>0){const at=.5/Math.sqrt(rt+1);this._w=.25/at,this._x=(Y-$)*at,this._y=(O-Q)*at,this._z=(R-A)*at}else if(m>L&&m>nt){const at=2*Math.sqrt(1+m-L-nt);this._w=(Y-$)/at,this._x=.25*at,this._y=(A+R)/at,this._z=(O+Q)/at}else if(L>nt){const at=2*Math.sqrt(1+L-m-nt);this._w=(O-Q)/at,this._x=(A+R)/at,this._y=.25*at,this._z=($+Y)/at}else{const at=2*Math.sqrt(1+nt-m-L);this._w=(R-A)/at,this._x=(O+Q)/at,this._y=($+Y)/at,this._z=.25*at}return this._onChangeCallback(),this}setFromUnitVectors(r,s){let m=r.dot(s)+1;return m<Number.EPSILON?(m=0,Math.abs(r.x)>Math.abs(r.z)?(this._x=-r.y,this._y=r.x,this._z=0,this._w=m):(this._x=0,this._y=-r.z,this._z=r.y,this._w=m)):(this._x=r.y*s.z-r.z*s.y,this._y=r.z*s.x-r.x*s.z,this._z=r.x*s.y-r.y*s.x,this._w=m),this.normalize()}angleTo(r){return 2*Math.acos(Math.abs(D9(this.dot(r),-1,1)))}rotateTowards(r,s){const m=this.angleTo(r);if(m===0)return this;const A=Math.min(1,s/m);return this.slerp(r,A),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(r){return this._x*r._x+this._y*r._y+this._z*r._z+this._w*r._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let r=this.length();return r===0?(this._x=0,this._y=0,this._z=0,this._w=1):(r=1/r,this._x=this._x*r,this._y=this._y*r,this._z=this._z*r,this._w=this._w*r),this._onChangeCallback(),this}multiply(r){return this.multiplyQuaternions(this,r)}premultiply(r){return this.multiplyQuaternions(r,this)}multiplyQuaternions(r,s){const m=r._x,A=r._y,O=r._z,R=r._w,L=s._x,$=s._y,Q=s._z,Y=s._w;return this._x=m*Y+R*L+A*Q-O*$,this._y=A*Y+R*$+O*L-m*Q,this._z=O*Y+R*Q+m*$-A*L,this._w=R*Y-m*L-A*$-O*Q,this._onChangeCallback(),this}slerp(r,s){if(s===0)return this;if(s===1)return this.copy(r);const m=this._x,A=this._y,O=this._z,R=this._w;let L=R*r._w+m*r._x+A*r._y+O*r._z;if(L<0?(this._w=-r._w,this._x=-r._x,this._y=-r._y,this._z=-r._z,L=-L):this.copy(r),L>=1)return this._w=R,this._x=m,this._y=A,this._z=O,this;const $=1-L*L;if($<=Number.EPSILON){const at=1-s;return this._w=at*R+s*this._w,this._x=at*m+s*this._x,this._y=at*A+s*this._y,this._z=at*O+s*this._z,this.normalize(),this}const Q=Math.sqrt($),Y=Math.atan2(Q,L),nt=Math.sin((1-s)*Y)/Q,rt=Math.sin(s*Y)/Q;return this._w=R*nt+this._w*rt,this._x=m*nt+this._x*rt,this._y=A*nt+this._y*rt,this._z=O*nt+this._z*rt,this._onChangeCallback(),this}slerpQuaternions(r,s,m){return this.copy(r).slerp(s,m)}random(){const r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random(),m=Math.random(),A=Math.sqrt(1-m),O=Math.sqrt(m);return this.set(A*Math.sin(r),A*Math.cos(r),O*Math.sin(s),O*Math.cos(s))}equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._w===this._w}fromArray(r,s=0){return this._x=r[s],this._y=r[s+1],this._z=r[s+2],this._w=r[s+3],this._onChangeCallback(),this}toArray(r=[],s=0){return r[s]=this._x,r[s+1]=this._y,r[s+2]=this._z,r[s+3]=this._w,r}fromBufferAttribute(r,s){return this._x=r.getX(s),this._y=r.getY(s),this._z=r.getZ(s),this._w=r.getW(s),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(r){return this._onChangeCallback=r,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ie{constructor(r=0,s=0,m=0){ie.prototype.isVector3=!0,this.x=r,this.y=s,this.z=m}set(r,s,m){return m===void 0&&(m=this.z),this.x=r,this.y=s,this.z=m,this}setScalar(r){return this.x=r,this.y=r,this.z=r,this}setX(r){return this.x=r,this}setY(r){return this.y=r,this}setZ(r){return this.z=r,this}setComponent(r,s){switch(r){case 0:this.x=s;break;case 1:this.y=s;break;case 2:this.z=s;break;default:throw new Error("index is out of range: "+r)}return this}getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+r)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this}add(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this}addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this}addVectors(r,s){return this.x=r.x+s.x,this.y=r.y+s.y,this.z=r.z+s.z,this}addScaledVector(r,s){return this.x+=r.x*s,this.y+=r.y*s,this.z+=r.z*s,this}sub(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this}subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this}subVectors(r,s){return this.x=r.x-s.x,this.y=r.y-s.y,this.z=r.z-s.z,this}multiply(r){return this.x*=r.x,this.y*=r.y,this.z*=r.z,this}multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this}multiplyVectors(r,s){return this.x=r.x*s.x,this.y=r.y*s.y,this.z=r.z*s.z,this}applyEuler(r){return this.applyQuaternion(H9.setFromEuler(r))}applyAxisAngle(r,s){return this.applyQuaternion(H9.setFromAxisAngle(r,s))}applyMatrix3(r){const s=this.x,m=this.y,A=this.z,O=r.elements;return this.x=O[0]*s+O[3]*m+O[6]*A,this.y=O[1]*s+O[4]*m+O[7]*A,this.z=O[2]*s+O[5]*m+O[8]*A,this}applyNormalMatrix(r){return this.applyMatrix3(r).normalize()}applyMatrix4(r){const s=this.x,m=this.y,A=this.z,O=r.elements,R=1/(O[3]*s+O[7]*m+O[11]*A+O[15]);return this.x=(O[0]*s+O[4]*m+O[8]*A+O[12])*R,this.y=(O[1]*s+O[5]*m+O[9]*A+O[13])*R,this.z=(O[2]*s+O[6]*m+O[10]*A+O[14])*R,this}applyQuaternion(r){const s=this.x,m=this.y,A=this.z,O=r.x,R=r.y,L=r.z,$=r.w,Q=2*(R*A-L*m),Y=2*(L*s-O*A),nt=2*(O*m-R*s);return this.x=s+$*Q+R*nt-L*Y,this.y=m+$*Y+L*Q-O*nt,this.z=A+$*nt+O*Y-R*Q,this}project(r){return this.applyMatrix4(r.matrixWorldInverse).applyMatrix4(r.projectionMatrix)}unproject(r){return this.applyMatrix4(r.projectionMatrixInverse).applyMatrix4(r.matrixWorld)}transformDirection(r){const s=this.x,m=this.y,A=this.z,O=r.elements;return this.x=O[0]*s+O[4]*m+O[8]*A,this.y=O[1]*s+O[5]*m+O[9]*A,this.z=O[2]*s+O[6]*m+O[10]*A,this.normalize()}divide(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z,this}divideScalar(r){return this.multiplyScalar(1/r)}min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this}max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this}clamp(r,s){return this.x=Math.max(r.x,Math.min(s.x,this.x)),this.y=Math.max(r.y,Math.min(s.y,this.y)),this.z=Math.max(r.z,Math.min(s.z,this.z)),this}clampScalar(r,s){return this.x=Math.max(r,Math.min(s,this.x)),this.y=Math.max(r,Math.min(s,this.y)),this.z=Math.max(r,Math.min(s,this.z)),this}clampLength(r,s){const m=this.length();return this.divideScalar(m||1).multiplyScalar(Math.max(r,Math.min(s,m)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(r){return this.x*r.x+this.y*r.y+this.z*r.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(r){return this.normalize().multiplyScalar(r)}lerp(r,s){return this.x+=(r.x-this.x)*s,this.y+=(r.y-this.y)*s,this.z+=(r.z-this.z)*s,this}lerpVectors(r,s,m){return this.x=r.x+(s.x-r.x)*m,this.y=r.y+(s.y-r.y)*m,this.z=r.z+(s.z-r.z)*m,this}cross(r){return this.crossVectors(this,r)}crossVectors(r,s){const m=r.x,A=r.y,O=r.z,R=s.x,L=s.y,$=s.z;return this.x=A*$-O*L,this.y=O*R-m*$,this.z=m*L-A*R,this}projectOnVector(r){const s=r.lengthSq();if(s===0)return this.set(0,0,0);const m=r.dot(this)/s;return this.copy(r).multiplyScalar(m)}projectOnPlane(r){return Va.copy(this).projectOnVector(r),this.sub(Va)}reflect(r){return this.sub(Va.copy(r).multiplyScalar(2*this.dot(r)))}angleTo(r){const s=Math.sqrt(this.lengthSq()*r.lengthSq());if(s===0)return Math.PI/2;const m=this.dot(r)/s;return Math.acos(D9(m,-1,1))}distanceTo(r){return Math.sqrt(this.distanceToSquared(r))}distanceToSquared(r){const s=this.x-r.x,m=this.y-r.y,A=this.z-r.z;return s*s+m*m+A*A}manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)+Math.abs(this.z-r.z)}setFromSpherical(r){return this.setFromSphericalCoords(r.radius,r.phi,r.theta)}setFromSphericalCoords(r,s,m){const A=Math.sin(s)*r;return this.x=A*Math.sin(m),this.y=Math.cos(s)*r,this.z=A*Math.cos(m),this}setFromCylindrical(r){return this.setFromCylindricalCoords(r.radius,r.theta,r.y)}setFromCylindricalCoords(r,s,m){return this.x=r*Math.sin(s),this.y=m,this.z=r*Math.cos(s),this}setFromMatrixPosition(r){const s=r.elements;return this.x=s[12],this.y=s[13],this.z=s[14],this}setFromMatrixScale(r){const s=this.setFromMatrixColumn(r,0).length(),m=this.setFromMatrixColumn(r,1).length(),A=this.setFromMatrixColumn(r,2).length();return this.x=s,this.y=m,this.z=A,this}setFromMatrixColumn(r,s){return this.fromArray(r.elements,s*4)}setFromMatrix3Column(r,s){return this.fromArray(r.elements,s*3)}setFromEuler(r){return this.x=r._x,this.y=r._y,this.z=r._z,this}setFromColor(r){return this.x=r.r,this.y=r.g,this.z=r.b,this}equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z}fromArray(r,s=0){return this.x=r[s],this.y=r[s+1],this.z=r[s+2],this}toArray(r=[],s=0){return r[s]=this.x,r[s+1]=this.y,r[s+2]=this.z,r}fromBufferAttribute(r,s){return this.x=r.getX(s),this.y=r.getY(s),this.z=r.getZ(s),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const r=Math.random()*Math.PI*2,s=Math.random()*2-1,m=Math.sqrt(1-s*s);return this.x=m*Math.cos(r),this.y=s,this.z=m*Math.sin(r),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Va=new ie,H9=new L0;class L9{constructor(r=new ie(1/0,1/0,1/0),s=new ie(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=r,this.max=s}set(r,s){return this.min.copy(r),this.max.copy(s),this}setFromArray(r){this.makeEmpty();for(let s=0,m=r.length;s<m;s+=3)this.expandByPoint(Wr.fromArray(r,s));return this}setFromBufferAttribute(r){this.makeEmpty();for(let s=0,m=r.count;s<m;s++)this.expandByPoint(Wr.fromBufferAttribute(r,s));return this}setFromPoints(r){this.makeEmpty();for(let s=0,m=r.length;s<m;s++)this.expandByPoint(r[s]);return this}setFromCenterAndSize(r,s){const m=Wr.copy(s).multiplyScalar(.5);return this.min.copy(r).sub(m),this.max.copy(r).add(m),this}setFromObject(r,s=!1){return this.makeEmpty(),this.expandByObject(r,s)}clone(){return new this.constructor().copy(this)}copy(r){return this.min.copy(r.min),this.max.copy(r.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(r){return this.isEmpty()?r.set(0,0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(r){return this.isEmpty()?r.set(0,0,0):r.subVectors(this.max,this.min)}expandByPoint(r){return this.min.min(r),this.max.max(r),this}expandByVector(r){return this.min.sub(r),this.max.add(r),this}expandByScalar(r){return this.min.addScalar(-r),this.max.addScalar(r),this}expandByObject(r,s=!1){r.updateWorldMatrix(!1,!1);const m=r.geometry;if(m!==void 0){const O=m.getAttribute("position");if(s===!0&&O!==void 0&&r.isInstancedMesh!==!0)for(let R=0,L=O.count;R<L;R++)r.isMesh===!0?r.getVertexPosition(R,Wr):Wr.fromBufferAttribute(O,R),Wr.applyMatrix4(r.matrixWorld),this.expandByPoint(Wr);else r.boundingBox!==void 0?(r.boundingBox===null&&r.computeBoundingBox(),us.copy(r.boundingBox)):(m.boundingBox===null&&m.computeBoundingBox(),us.copy(m.boundingBox)),us.applyMatrix4(r.matrixWorld),this.union(us)}const A=r.children;for(let O=0,R=A.length;O<R;O++)this.expandByObject(A[O],s);return this}containsPoint(r){return!(r.x<this.min.x||r.x>this.max.x||r.y<this.min.y||r.y>this.max.y||r.z<this.min.z||r.z>this.max.z)}containsBox(r){return this.min.x<=r.min.x&&r.max.x<=this.max.x&&this.min.y<=r.min.y&&r.max.y<=this.max.y&&this.min.z<=r.min.z&&r.max.z<=this.max.z}getParameter(r,s){return s.set((r.x-this.min.x)/(this.max.x-this.min.x),(r.y-this.min.y)/(this.max.y-this.min.y),(r.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(r){return!(r.max.x<this.min.x||r.min.x>this.max.x||r.max.y<this.min.y||r.min.y>this.max.y||r.max.z<this.min.z||r.min.z>this.max.z)}intersectsSphere(r){return this.clampPoint(r.center,Wr),Wr.distanceToSquared(r.center)<=r.radius*r.radius}intersectsPlane(r){let s,m;return r.normal.x>0?(s=r.normal.x*this.min.x,m=r.normal.x*this.max.x):(s=r.normal.x*this.max.x,m=r.normal.x*this.min.x),r.normal.y>0?(s+=r.normal.y*this.min.y,m+=r.normal.y*this.max.y):(s+=r.normal.y*this.max.y,m+=r.normal.y*this.min.y),r.normal.z>0?(s+=r.normal.z*this.min.z,m+=r.normal.z*this.max.z):(s+=r.normal.z*this.max.z,m+=r.normal.z*this.min.z),s<=-r.constant&&m>=-r.constant}intersectsTriangle(r){if(this.isEmpty())return!1;this.getCenter(S0),X0.subVectors(this.max,S0),xa.subVectors(r.a,S0),Cr.subVectors(r.b,S0),n0.subVectors(r.c,S0),Ur.subVectors(Cr,xa),Qa.subVectors(n0,Cr),_r.subVectors(xa,n0);let s=[0,-Ur.z,Ur.y,0,-Qa.z,Qa.y,0,-_r.z,_r.y,Ur.z,0,-Ur.x,Qa.z,0,-Qa.x,_r.z,0,-_r.x,-Ur.y,Ur.x,0,-Qa.y,Qa.x,0,-_r.y,_r.x,0];return!ma(s,xa,Cr,n0,X0)||(s=[1,0,0,0,1,0,0,0,1],!ma(s,xa,Cr,n0,X0))?!1:(r0.crossVectors(Ur,Qa),s=[r0.x,r0.y,r0.z],ma(s,xa,Cr,n0,X0))}clampPoint(r,s){return s.copy(r).clamp(this.min,this.max)}distanceToPoint(r){return this.clampPoint(r,Wr).distanceTo(r)}getBoundingSphere(r){return this.isEmpty()?r.makeEmpty():(this.getCenter(r.center),r.radius=this.getSize(Wr).length()*.5),r}intersect(r){return this.min.max(r.min),this.max.min(r.max),this.isEmpty()&&this.makeEmpty(),this}union(r){return this.min.min(r.min),this.max.max(r.max),this}applyMatrix4(r){return this.isEmpty()?this:(C0[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(r),C0[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(r),C0[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(r),C0[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(r),C0[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(r),C0[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(r),C0[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(r),C0[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(r),this.setFromPoints(C0),this)}translate(r){return this.min.add(r),this.max.add(r),this}equals(r){return r.min.equals(this.min)&&r.max.equals(this.max)}}const C0=[new ie,new ie,new ie,new ie,new ie,new ie,new ie,new ie],Wr=new ie,us=new L9,xa=new ie,Cr=new ie,n0=new ie,Ur=new ie,Qa=new ie,_r=new ie,S0=new ie,X0=new ie,r0=new ie,x0=new ie;function ma(x,r,s,m,A){for(let O=0,R=x.length-3;O<=R;O+=3){x0.fromArray(x,O);const L=A.x*Math.abs(x0.x)+A.y*Math.abs(x0.y)+A.z*Math.abs(x0.z),$=r.dot(x0),Q=s.dot(x0),Y=m.dot(x0);if(Math.max(-Math.max($,Q,Y),Math.min($,Q,Y))>L)return!1}return!0}const jl=new L9,Ws=new ie,x1=new ie;class cr{constructor(r=new ie,s=-1){this.isSphere=!0,this.center=r,this.radius=s}set(r,s){return this.center.copy(r),this.radius=s,this}setFromPoints(r,s){const m=this.center;s!==void 0?m.copy(s):jl.setFromPoints(r).getCenter(m);let A=0;for(let O=0,R=r.length;O<R;O++)A=Math.max(A,m.distanceToSquared(r[O]));return this.radius=Math.sqrt(A),this}copy(r){return this.center.copy(r.center),this.radius=r.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(r){return r.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(r){return r.distanceTo(this.center)-this.radius}intersectsSphere(r){const s=this.radius+r.radius;return r.center.distanceToSquared(this.center)<=s*s}intersectsBox(r){return r.intersectsSphere(this)}intersectsPlane(r){return Math.abs(r.distanceToPoint(this.center))<=this.radius}clampPoint(r,s){const m=this.center.distanceToSquared(r);return s.copy(r),m>this.radius*this.radius&&(s.sub(this.center).normalize(),s.multiplyScalar(this.radius).add(this.center)),s}getBoundingBox(r){return this.isEmpty()?(r.makeEmpty(),r):(r.set(this.center,this.center),r.expandByScalar(this.radius),r)}applyMatrix4(r){return this.center.applyMatrix4(r),this.radius=this.radius*r.getMaxScaleOnAxis(),this}translate(r){return this.center.add(r),this}expandByPoint(r){if(this.isEmpty())return this.center.copy(r),this.radius=0,this;Ws.subVectors(r,this.center);const s=Ws.lengthSq();if(s>this.radius*this.radius){const m=Math.sqrt(s),A=(m-this.radius)*.5;this.center.addScaledVector(Ws,A/m),this.radius+=A}return this}union(r){return r.isEmpty()?this:this.isEmpty()?(this.copy(r),this):(this.center.equals(r.center)===!0?this.radius=Math.max(this.radius,r.radius):(x1.subVectors(r.center,this.center).setLength(r.radius),this.expandByPoint(Ws.copy(r.center).add(x1)),this.expandByPoint(Ws.copy(r.center).sub(x1))),this)}equals(r){return r.center.equals(this.center)&&r.radius===this.radius}clone(){return new this.constructor().copy(this)}}const fo=new ie,T1=new ie,I1=new ie,ds=new ie,zh=new ie,B1=new ie,jh=new ie;class ur{constructor(r=new ie,s=new ie(0,0,-1)){this.origin=r,this.direction=s}set(r,s){return this.origin.copy(r),this.direction.copy(s),this}copy(r){return this.origin.copy(r.origin),this.direction.copy(r.direction),this}at(r,s){return s.copy(this.origin).addScaledVector(this.direction,r)}lookAt(r){return this.direction.copy(r).sub(this.origin).normalize(),this}recast(r){return this.origin.copy(this.at(r,fo)),this}closestPointToPoint(r,s){s.subVectors(r,this.origin);const m=s.dot(this.direction);return m<0?s.copy(this.origin):s.copy(this.origin).addScaledVector(this.direction,m)}distanceToPoint(r){return Math.sqrt(this.distanceSqToPoint(r))}distanceSqToPoint(r){const s=fo.subVectors(r,this.origin).dot(this.direction);return s<0?this.origin.distanceToSquared(r):(fo.copy(this.origin).addScaledVector(this.direction,s),fo.distanceToSquared(r))}distanceSqToSegment(r,s,m,A){T1.copy(r).add(s).multiplyScalar(.5),I1.copy(s).sub(r).normalize(),ds.copy(this.origin).sub(T1);const O=r.distanceTo(s)*.5,R=-this.direction.dot(I1),L=ds.dot(this.direction),$=-ds.dot(I1),Q=ds.lengthSq(),Y=Math.abs(1-R*R);let nt,rt,at,ft;if(Y>0)if(nt=R*$-L,rt=R*L-$,ft=O*Y,nt>=0)if(rt>=-ft)if(rt<=ft){const Ct=1/Y;nt*=Ct,rt*=Ct,at=nt*(nt+R*rt+2*L)+rt*(R*nt+rt+2*$)+Q}else rt=O,nt=Math.max(0,-(R*rt+L)),at=-nt*nt+rt*(rt+2*$)+Q;else rt=-O,nt=Math.max(0,-(R*rt+L)),at=-nt*nt+rt*(rt+2*$)+Q;else rt<=-ft?(nt=Math.max(0,-(-R*O+L)),rt=nt>0?-O:Math.min(Math.max(-O,-$),O),at=-nt*nt+rt*(rt+2*$)+Q):rt<=ft?(nt=0,rt=Math.min(Math.max(-O,-$),O),at=rt*(rt+2*$)+Q):(nt=Math.max(0,-(R*O+L)),rt=nt>0?O:Math.min(Math.max(-O,-$),O),at=-nt*nt+rt*(rt+2*$)+Q);else rt=R>0?-O:O,nt=Math.max(0,-(R*rt+L)),at=-nt*nt+rt*(rt+2*$)+Q;return m&&m.copy(this.origin).addScaledVector(this.direction,nt),A&&A.copy(T1).addScaledVector(I1,rt),at}intersectSphere(r,s){fo.subVectors(r.center,this.origin);const m=fo.dot(this.direction),A=fo.dot(fo)-m*m,O=r.radius*r.radius;if(A>O)return null;const R=Math.sqrt(O-A),L=m-R,$=m+R;return $<0?null:L<0?this.at($,s):this.at(L,s)}intersectsSphere(r){return this.distanceSqToPoint(r.center)<=r.radius*r.radius}distanceToPlane(r){const s=r.normal.dot(this.direction);if(s===0)return r.distanceToPoint(this.origin)===0?0:null;const m=-(this.origin.dot(r.normal)+r.constant)/s;return m>=0?m:null}intersectPlane(r,s){const m=this.distanceToPlane(r);return m===null?null:this.at(m,s)}intersectsPlane(r){const s=r.distanceToPoint(this.origin);return s===0||r.normal.dot(this.direction)*s<0}intersectBox(r,s){let m,A,O,R,L,$;const Q=1/this.direction.x,Y=1/this.direction.y,nt=1/this.direction.z,rt=this.origin;return Q>=0?(m=(r.min.x-rt.x)*Q,A=(r.max.x-rt.x)*Q):(m=(r.max.x-rt.x)*Q,A=(r.min.x-rt.x)*Q),Y>=0?(O=(r.min.y-rt.y)*Y,R=(r.max.y-rt.y)*Y):(O=(r.max.y-rt.y)*Y,R=(r.min.y-rt.y)*Y),m>R||O>A||((O>m||isNaN(m))&&(m=O),(R<A||isNaN(A))&&(A=R),nt>=0?(L=(r.min.z-rt.z)*nt,$=(r.max.z-rt.z)*nt):(L=(r.max.z-rt.z)*nt,$=(r.min.z-rt.z)*nt),m>$||L>A)||((L>m||m!==m)&&(m=L),($<A||A!==A)&&(A=$),A<0)?null:this.at(m>=0?m:A,s)}intersectsBox(r){return this.intersectBox(r,fo)!==null}intersectTriangle(r,s,m,A,O){zh.subVectors(s,r),B1.subVectors(m,r),jh.crossVectors(zh,B1);let R=this.direction.dot(jh),L;if(R>0){if(A)return null;L=1}else if(R<0)L=-1,R=-R;else return null;ds.subVectors(this.origin,r);const $=L*this.direction.dot(B1.crossVectors(ds,B1));if($<0)return null;const Q=L*this.direction.dot(zh.cross(ds));if(Q<0||$+Q>R)return null;const Y=-L*ds.dot(jh);return Y<0?null:this.at(Y/R,O)}applyMatrix4(r){return this.origin.applyMatrix4(r),this.direction.transformDirection(r),this}equals(r){return r.origin.equals(this.origin)&&r.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class gn{constructor(r,s,m,A,O,R,L,$,Q,Y,nt,rt,at,ft,Ct,pt){gn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r!==void 0&&this.set(r,s,m,A,O,R,L,$,Q,Y,nt,rt,at,ft,Ct,pt)}set(r,s,m,A,O,R,L,$,Q,Y,nt,rt,at,ft,Ct,pt){const ot=this.elements;return ot[0]=r,ot[4]=s,ot[8]=m,ot[12]=A,ot[1]=O,ot[5]=R,ot[9]=L,ot[13]=$,ot[2]=Q,ot[6]=Y,ot[10]=nt,ot[14]=rt,ot[3]=at,ot[7]=ft,ot[11]=Ct,ot[15]=pt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new gn().fromArray(this.elements)}copy(r){const s=this.elements,m=r.elements;return s[0]=m[0],s[1]=m[1],s[2]=m[2],s[3]=m[3],s[4]=m[4],s[5]=m[5],s[6]=m[6],s[7]=m[7],s[8]=m[8],s[9]=m[9],s[10]=m[10],s[11]=m[11],s[12]=m[12],s[13]=m[13],s[14]=m[14],s[15]=m[15],this}copyPosition(r){const s=this.elements,m=r.elements;return s[12]=m[12],s[13]=m[13],s[14]=m[14],this}setFromMatrix3(r){const s=r.elements;return this.set(s[0],s[3],s[6],0,s[1],s[4],s[7],0,s[2],s[5],s[8],0,0,0,0,1),this}extractBasis(r,s,m){return r.setFromMatrixColumn(this,0),s.setFromMatrixColumn(this,1),m.setFromMatrixColumn(this,2),this}makeBasis(r,s,m){return this.set(r.x,s.x,m.x,0,r.y,s.y,m.y,0,r.z,s.z,m.z,0,0,0,0,1),this}extractRotation(r){const s=this.elements,m=r.elements,A=1/Ks.setFromMatrixColumn(r,0).length(),O=1/Ks.setFromMatrixColumn(r,1).length(),R=1/Ks.setFromMatrixColumn(r,2).length();return s[0]=m[0]*A,s[1]=m[1]*A,s[2]=m[2]*A,s[3]=0,s[4]=m[4]*O,s[5]=m[5]*O,s[6]=m[6]*O,s[7]=0,s[8]=m[8]*R,s[9]=m[9]*R,s[10]=m[10]*R,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromEuler(r){const s=this.elements,m=r.x,A=r.y,O=r.z,R=Math.cos(m),L=Math.sin(m),$=Math.cos(A),Q=Math.sin(A),Y=Math.cos(O),nt=Math.sin(O);if(r.order==="XYZ"){const rt=R*Y,at=R*nt,ft=L*Y,Ct=L*nt;s[0]=$*Y,s[4]=-$*nt,s[8]=Q,s[1]=at+ft*Q,s[5]=rt-Ct*Q,s[9]=-L*$,s[2]=Ct-rt*Q,s[6]=ft+at*Q,s[10]=R*$}else if(r.order==="YXZ"){const rt=$*Y,at=$*nt,ft=Q*Y,Ct=Q*nt;s[0]=rt+Ct*L,s[4]=ft*L-at,s[8]=R*Q,s[1]=R*nt,s[5]=R*Y,s[9]=-L,s[2]=at*L-ft,s[6]=Ct+rt*L,s[10]=R*$}else if(r.order==="ZXY"){const rt=$*Y,at=$*nt,ft=Q*Y,Ct=Q*nt;s[0]=rt-Ct*L,s[4]=-R*nt,s[8]=ft+at*L,s[1]=at+ft*L,s[5]=R*Y,s[9]=Ct-rt*L,s[2]=-R*Q,s[6]=L,s[10]=R*$}else if(r.order==="ZYX"){const rt=R*Y,at=R*nt,ft=L*Y,Ct=L*nt;s[0]=$*Y,s[4]=ft*Q-at,s[8]=rt*Q+Ct,s[1]=$*nt,s[5]=Ct*Q+rt,s[9]=at*Q-ft,s[2]=-Q,s[6]=L*$,s[10]=R*$}else if(r.order==="YZX"){const rt=R*$,at=R*Q,ft=L*$,Ct=L*Q;s[0]=$*Y,s[4]=Ct-rt*nt,s[8]=ft*nt+at,s[1]=nt,s[5]=R*Y,s[9]=-L*Y,s[2]=-Q*Y,s[6]=at*nt+ft,s[10]=rt-Ct*nt}else if(r.order==="XZY"){const rt=R*$,at=R*Q,ft=L*$,Ct=L*Q;s[0]=$*Y,s[4]=-nt,s[8]=Q*Y,s[1]=rt*nt+Ct,s[5]=R*Y,s[9]=at*nt-ft,s[2]=ft*nt-at,s[6]=L*Y,s[10]=Ct*nt+rt}return s[3]=0,s[7]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,this}makeRotationFromQuaternion(r){return this.compose(yJ,r,AJ)}lookAt(r,s,m){const A=this.elements;return za.subVectors(r,s),za.lengthSq()===0&&(za.z=1),za.normalize(),Wl.crossVectors(m,za),Wl.lengthSq()===0&&(Math.abs(m.z)===1?za.x+=1e-4:za.z+=1e-4,za.normalize(),Wl.crossVectors(m,za)),Wl.normalize(),om.crossVectors(za,Wl),A[0]=Wl.x,A[4]=om.x,A[8]=za.x,A[1]=Wl.y,A[5]=om.y,A[9]=za.y,A[2]=Wl.z,A[6]=om.z,A[10]=za.z,this}multiply(r){return this.multiplyMatrices(this,r)}premultiply(r){return this.multiplyMatrices(r,this)}multiplyMatrices(r,s){const m=r.elements,A=s.elements,O=this.elements,R=m[0],L=m[4],$=m[8],Q=m[12],Y=m[1],nt=m[5],rt=m[9],at=m[13],ft=m[2],Ct=m[6],pt=m[10],ot=m[14],Vt=m[3],Ut=m[7],Ft=m[11],Ae=m[15],re=A[0],de=A[4],ge=A[8],Yt=A[12],Wt=A[1],ye=A[5],Ie=A[9],Te=A[13],De=A[2],ti=A[6],gi=A[10],Ni=A[14],ii=A[3],Ri=A[7],Pi=A[11],fn=A[15];return O[0]=R*re+L*Wt+$*De+Q*ii,O[4]=R*de+L*ye+$*ti+Q*Ri,O[8]=R*ge+L*Ie+$*gi+Q*Pi,O[12]=R*Yt+L*Te+$*Ni+Q*fn,O[1]=Y*re+nt*Wt+rt*De+at*ii,O[5]=Y*de+nt*ye+rt*ti+at*Ri,O[9]=Y*ge+nt*Ie+rt*gi+at*Pi,O[13]=Y*Yt+nt*Te+rt*Ni+at*fn,O[2]=ft*re+Ct*Wt+pt*De+ot*ii,O[6]=ft*de+Ct*ye+pt*ti+ot*Ri,O[10]=ft*ge+Ct*Ie+pt*gi+ot*Pi,O[14]=ft*Yt+Ct*Te+pt*Ni+ot*fn,O[3]=Vt*re+Ut*Wt+Ft*De+Ae*ii,O[7]=Vt*de+Ut*ye+Ft*ti+Ae*Ri,O[11]=Vt*ge+Ut*Ie+Ft*gi+Ae*Pi,O[15]=Vt*Yt+Ut*Te+Ft*Ni+Ae*fn,this}multiplyScalar(r){const s=this.elements;return s[0]*=r,s[4]*=r,s[8]*=r,s[12]*=r,s[1]*=r,s[5]*=r,s[9]*=r,s[13]*=r,s[2]*=r,s[6]*=r,s[10]*=r,s[14]*=r,s[3]*=r,s[7]*=r,s[11]*=r,s[15]*=r,this}determinant(){const r=this.elements,s=r[0],m=r[4],A=r[8],O=r[12],R=r[1],L=r[5],$=r[9],Q=r[13],Y=r[2],nt=r[6],rt=r[10],at=r[14],ft=r[3],Ct=r[7],pt=r[11],ot=r[15];return ft*(+O*$*nt-A*Q*nt-O*L*rt+m*Q*rt+A*L*at-m*$*at)+Ct*(+s*$*at-s*Q*rt+O*R*rt-A*R*at+A*Q*Y-O*$*Y)+pt*(+s*Q*nt-s*L*at-O*R*nt+m*R*at+O*L*Y-m*Q*Y)+ot*(-A*L*Y-s*$*nt+s*L*rt+A*R*nt-m*R*rt+m*$*Y)}transpose(){const r=this.elements;let s;return s=r[1],r[1]=r[4],r[4]=s,s=r[2],r[2]=r[8],r[8]=s,s=r[6],r[6]=r[9],r[9]=s,s=r[3],r[3]=r[12],r[12]=s,s=r[7],r[7]=r[13],r[13]=s,s=r[11],r[11]=r[14],r[14]=s,this}setPosition(r,s,m){const A=this.elements;return r.isVector3?(A[12]=r.x,A[13]=r.y,A[14]=r.z):(A[12]=r,A[13]=s,A[14]=m),this}invert(){const r=this.elements,s=r[0],m=r[1],A=r[2],O=r[3],R=r[4],L=r[5],$=r[6],Q=r[7],Y=r[8],nt=r[9],rt=r[10],at=r[11],ft=r[12],Ct=r[13],pt=r[14],ot=r[15],Vt=nt*pt*Q-Ct*rt*Q+Ct*$*at-L*pt*at-nt*$*ot+L*rt*ot,Ut=ft*rt*Q-Y*pt*Q-ft*$*at+R*pt*at+Y*$*ot-R*rt*ot,Ft=Y*Ct*Q-ft*nt*Q+ft*L*at-R*Ct*at-Y*L*ot+R*nt*ot,Ae=ft*nt*$-Y*Ct*$-ft*L*rt+R*Ct*rt+Y*L*pt-R*nt*pt,re=s*Vt+m*Ut+A*Ft+O*Ae;if(re===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const de=1/re;return r[0]=Vt*de,r[1]=(Ct*rt*O-nt*pt*O-Ct*A*at+m*pt*at+nt*A*ot-m*rt*ot)*de,r[2]=(L*pt*O-Ct*$*O+Ct*A*Q-m*pt*Q-L*A*ot+m*$*ot)*de,r[3]=(nt*$*O-L*rt*O-nt*A*Q+m*rt*Q+L*A*at-m*$*at)*de,r[4]=Ut*de,r[5]=(Y*pt*O-ft*rt*O+ft*A*at-s*pt*at-Y*A*ot+s*rt*ot)*de,r[6]=(ft*$*O-R*pt*O-ft*A*Q+s*pt*Q+R*A*ot-s*$*ot)*de,r[7]=(R*rt*O-Y*$*O+Y*A*Q-s*rt*Q-R*A*at+s*$*at)*de,r[8]=Ft*de,r[9]=(ft*nt*O-Y*Ct*O-ft*m*at+s*Ct*at+Y*m*ot-s*nt*ot)*de,r[10]=(R*Ct*O-ft*L*O+ft*m*Q-s*Ct*Q-R*m*ot+s*L*ot)*de,r[11]=(Y*L*O-R*nt*O-Y*m*Q+s*nt*Q+R*m*at-s*L*at)*de,r[12]=Ae*de,r[13]=(Y*Ct*A-ft*nt*A+ft*m*rt-s*Ct*rt-Y*m*pt+s*nt*pt)*de,r[14]=(ft*L*A-R*Ct*A-ft*m*$+s*Ct*$+R*m*pt-s*L*pt)*de,r[15]=(R*nt*A-Y*L*A+Y*m*$-s*nt*$-R*m*rt+s*L*rt)*de,this}scale(r){const s=this.elements,m=r.x,A=r.y,O=r.z;return s[0]*=m,s[4]*=A,s[8]*=O,s[1]*=m,s[5]*=A,s[9]*=O,s[2]*=m,s[6]*=A,s[10]*=O,s[3]*=m,s[7]*=A,s[11]*=O,this}getMaxScaleOnAxis(){const r=this.elements,s=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],m=r[4]*r[4]+r[5]*r[5]+r[6]*r[6],A=r[8]*r[8]+r[9]*r[9]+r[10]*r[10];return Math.sqrt(Math.max(s,m,A))}makeTranslation(r,s,m){return r.isVector3?this.set(1,0,0,r.x,0,1,0,r.y,0,0,1,r.z,0,0,0,1):this.set(1,0,0,r,0,1,0,s,0,0,1,m,0,0,0,1),this}makeRotationX(r){const s=Math.cos(r),m=Math.sin(r);return this.set(1,0,0,0,0,s,-m,0,0,m,s,0,0,0,0,1),this}makeRotationY(r){const s=Math.cos(r),m=Math.sin(r);return this.set(s,0,m,0,0,1,0,0,-m,0,s,0,0,0,0,1),this}makeRotationZ(r){const s=Math.cos(r),m=Math.sin(r);return this.set(s,-m,0,0,m,s,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(r,s){const m=Math.cos(s),A=Math.sin(s),O=1-m,R=r.x,L=r.y,$=r.z,Q=O*R,Y=O*L;return this.set(Q*R+m,Q*L-A*$,Q*$+A*L,0,Q*L+A*$,Y*L+m,Y*$-A*R,0,Q*$-A*L,Y*$+A*R,O*$*$+m,0,0,0,0,1),this}makeScale(r,s,m){return this.set(r,0,0,0,0,s,0,0,0,0,m,0,0,0,0,1),this}makeShear(r,s,m,A,O,R){return this.set(1,m,O,0,r,1,R,0,s,A,1,0,0,0,0,1),this}compose(r,s,m){const A=this.elements,O=s._x,R=s._y,L=s._z,$=s._w,Q=O+O,Y=R+R,nt=L+L,rt=O*Q,at=O*Y,ft=O*nt,Ct=R*Y,pt=R*nt,ot=L*nt,Vt=$*Q,Ut=$*Y,Ft=$*nt,Ae=m.x,re=m.y,de=m.z;return A[0]=(1-(Ct+ot))*Ae,A[1]=(at+Ft)*Ae,A[2]=(ft-Ut)*Ae,A[3]=0,A[4]=(at-Ft)*re,A[5]=(1-(rt+ot))*re,A[6]=(pt+Vt)*re,A[7]=0,A[8]=(ft+Ut)*de,A[9]=(pt-Vt)*de,A[10]=(1-(rt+Ct))*de,A[11]=0,A[12]=r.x,A[13]=r.y,A[14]=r.z,A[15]=1,this}decompose(r,s,m){const A=this.elements;let O=Ks.set(A[0],A[1],A[2]).length();const R=Ks.set(A[4],A[5],A[6]).length(),L=Ks.set(A[8],A[9],A[10]).length();this.determinant()<0&&(O=-O),r.x=A[12],r.y=A[13],r.z=A[14],Ta.copy(this);const Q=1/O,Y=1/R,nt=1/L;return Ta.elements[0]*=Q,Ta.elements[1]*=Q,Ta.elements[2]*=Q,Ta.elements[4]*=Y,Ta.elements[5]*=Y,Ta.elements[6]*=Y,Ta.elements[8]*=nt,Ta.elements[9]*=nt,Ta.elements[10]*=nt,s.setFromRotationMatrix(Ta),m.x=O,m.y=R,m.z=L,this}makePerspective(r,s,m,A,O,R,L=ho){const $=this.elements,Q=2*O/(s-r),Y=2*O/(m-A),nt=(s+r)/(s-r),rt=(m+A)/(m-A);let at,ft;if(L===ho)at=-(R+O)/(R-O),ft=-2*R*O/(R-O);else if(L===lu)at=-R/(R-O),ft=-R*O/(R-O);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+L);return $[0]=Q,$[4]=0,$[8]=nt,$[12]=0,$[1]=0,$[5]=Y,$[9]=rt,$[13]=0,$[2]=0,$[6]=0,$[10]=at,$[14]=ft,$[3]=0,$[7]=0,$[11]=-1,$[15]=0,this}makeOrthographic(r,s,m,A,O,R,L=ho){const $=this.elements,Q=1/(s-r),Y=1/(m-A),nt=1/(R-O),rt=(s+r)*Q,at=(m+A)*Y;let ft,Ct;if(L===ho)ft=(R+O)*nt,Ct=-2*nt;else if(L===lu)ft=O*nt,Ct=-1*nt;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+L);return $[0]=2*Q,$[4]=0,$[8]=0,$[12]=-rt,$[1]=0,$[5]=2*Y,$[9]=0,$[13]=-at,$[2]=0,$[6]=0,$[10]=Ct,$[14]=-ft,$[3]=0,$[7]=0,$[11]=0,$[15]=1,this}equals(r){const s=this.elements,m=r.elements;for(let A=0;A<16;A++)if(s[A]!==m[A])return!1;return!0}fromArray(r,s=0){for(let m=0;m<16;m++)this.elements[m]=r[m+s];return this}toArray(r=[],s=0){const m=this.elements;return r[s]=m[0],r[s+1]=m[1],r[s+2]=m[2],r[s+3]=m[3],r[s+4]=m[4],r[s+5]=m[5],r[s+6]=m[6],r[s+7]=m[7],r[s+8]=m[8],r[s+9]=m[9],r[s+10]=m[10],r[s+11]=m[11],r[s+12]=m[12],r[s+13]=m[13],r[s+14]=m[14],r[s+15]=m[15],r}}const Ks=new ie,Ta=new gn,yJ=new ie(0,0,0),AJ=new ie(1,1,1),Wl=new ie,om=new ie,za=new ie,Ab=new gn,vb=new L0;class ja{constructor(r=0,s=0,m=0,A=ja.DEFAULT_ORDER){this.isEuler=!0,this._x=r,this._y=s,this._z=m,this._order=A}get x(){return this._x}set x(r){this._x=r,this._onChangeCallback()}get y(){return this._y}set y(r){this._y=r,this._onChangeCallback()}get z(){return this._z}set z(r){this._z=r,this._onChangeCallback()}get order(){return this._order}set order(r){this._order=r,this._onChangeCallback()}set(r,s,m,A=this._order){return this._x=r,this._y=s,this._z=m,this._order=A,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(r){return this._x=r._x,this._y=r._y,this._z=r._z,this._order=r._order,this._onChangeCallback(),this}setFromRotationMatrix(r,s=this._order,m=!0){const A=r.elements,O=A[0],R=A[4],L=A[8],$=A[1],Q=A[5],Y=A[9],nt=A[2],rt=A[6],at=A[10];switch(s){case"XYZ":this._y=Math.asin(D9(L,-1,1)),Math.abs(L)<.9999999?(this._x=Math.atan2(-Y,at),this._z=Math.atan2(-R,O)):(this._x=Math.atan2(rt,Q),this._z=0);break;case"YXZ":this._x=Math.asin(-D9(Y,-1,1)),Math.abs(Y)<.9999999?(this._y=Math.atan2(L,at),this._z=Math.atan2($,Q)):(this._y=Math.atan2(-nt,O),this._z=0);break;case"ZXY":this._x=Math.asin(D9(rt,-1,1)),Math.abs(rt)<.9999999?(this._y=Math.atan2(-nt,at),this._z=Math.atan2(-R,Q)):(this._y=0,this._z=Math.atan2($,O));break;case"ZYX":this._y=Math.asin(-D9(nt,-1,1)),Math.abs(nt)<.9999999?(this._x=Math.atan2(rt,at),this._z=Math.atan2($,O)):(this._x=0,this._z=Math.atan2(-R,Q));break;case"YZX":this._z=Math.asin(D9($,-1,1)),Math.abs($)<.9999999?(this._x=Math.atan2(-Y,Q),this._y=Math.atan2(-nt,O)):(this._x=0,this._y=Math.atan2(L,at));break;case"XZY":this._z=Math.asin(-D9(R,-1,1)),Math.abs(R)<.9999999?(this._x=Math.atan2(rt,Q),this._y=Math.atan2(L,O)):(this._x=Math.atan2(-Y,at),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+s)}return this._order=s,m===!0&&this._onChangeCallback(),this}setFromQuaternion(r,s,m){return Ab.makeRotationFromQuaternion(r),this.setFromRotationMatrix(Ab,s,m)}setFromVector3(r,s=this._order){return this.set(r.x,r.y,r.z,s)}reorder(r){return vb.setFromEuler(this),this.setFromQuaternion(vb,r)}equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._order===this._order}fromArray(r){return this._x=r[0],this._y=r[1],this._z=r[2],r[3]!==void 0&&(this._order=r[3]),this._onChangeCallback(),this}toArray(r=[],s=0){return r[s]=this._x,r[s+1]=this._y,r[s+2]=this._z,r[s+3]=this._order,r}_onChange(r){return this._onChangeCallback=r,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ja.DEFAULT_ORDER="XYZ";class sm{constructor(){this.mask=1}set(r){this.mask=(1<<r|0)>>>0}enable(r){this.mask|=1<<r|0}enableAll(){this.mask=-1}toggle(r){this.mask^=1<<r|0}disable(r){this.mask&=~(1<<r|0)}disableAll(){this.mask=0}test(r){return(this.mask&r.mask)!==0}isEnabled(r){return(this.mask&(1<<r|0))!==0}}let vJ=0;const bb=new ie,R1=new L0,qs=new gn,lm=new ie,Wh=new ie,bJ=new ie,CJ=new L0,Cb=new ie(1,0,0),_b=new ie(0,1,0),Eb=new ie(0,0,1),wb={type:"added"},_J={type:"removed"},D1={type:"childadded",child:null},G7={type:"childremoved",child:null};class N0 extends ha{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:vJ++}),this.uuid=fa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=N0.DEFAULT_UP.clone();const r=new ie,s=new ja,m=new L0,A=new ie(1,1,1);function O(){m.setFromEuler(s,!1)}function R(){s.setFromQuaternion(m,void 0,!1)}s._onChange(O),m._onChange(R),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:s},quaternion:{configurable:!0,enumerable:!0,value:m},scale:{configurable:!0,enumerable:!0,value:A},modelViewMatrix:{value:new gn},normalMatrix:{value:new Hn}}),this.matrix=new gn,this.matrixWorld=new gn,this.matrixAutoUpdate=N0.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=N0.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new sm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(r){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(r),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(r){return this.quaternion.premultiply(r),this}setRotationFromAxisAngle(r,s){this.quaternion.setFromAxisAngle(r,s)}setRotationFromEuler(r){this.quaternion.setFromEuler(r,!0)}setRotationFromMatrix(r){this.quaternion.setFromRotationMatrix(r)}setRotationFromQuaternion(r){this.quaternion.copy(r)}rotateOnAxis(r,s){return R1.setFromAxisAngle(r,s),this.quaternion.multiply(R1),this}rotateOnWorldAxis(r,s){return R1.setFromAxisAngle(r,s),this.quaternion.premultiply(R1),this}rotateX(r){return this.rotateOnAxis(Cb,r)}rotateY(r){return this.rotateOnAxis(_b,r)}rotateZ(r){return this.rotateOnAxis(Eb,r)}translateOnAxis(r,s){return bb.copy(r).applyQuaternion(this.quaternion),this.position.add(bb.multiplyScalar(s)),this}translateX(r){return this.translateOnAxis(Cb,r)}translateY(r){return this.translateOnAxis(_b,r)}translateZ(r){return this.translateOnAxis(Eb,r)}localToWorld(r){return this.updateWorldMatrix(!0,!1),r.applyMatrix4(this.matrixWorld)}worldToLocal(r){return this.updateWorldMatrix(!0,!1),r.applyMatrix4(qs.copy(this.matrixWorld).invert())}lookAt(r,s,m){r.isVector3?lm.copy(r):lm.set(r,s,m);const A=this.parent;this.updateWorldMatrix(!0,!1),Wh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?qs.lookAt(Wh,lm,this.up):qs.lookAt(lm,Wh,this.up),this.quaternion.setFromRotationMatrix(qs),A&&(qs.extractRotation(A.matrixWorld),R1.setFromRotationMatrix(qs),this.quaternion.premultiply(R1.invert()))}add(r){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}return r===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",r),this):(r&&r.isObject3D?(r.removeFromParent(),r.parent=this,this.children.push(r),r.dispatchEvent(wb),D1.child=r,this.dispatchEvent(D1),D1.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",r),this)}remove(r){if(arguments.length>1){for(let m=0;m<arguments.length;m++)this.remove(arguments[m]);return this}const s=this.children.indexOf(r);return s!==-1&&(r.parent=null,this.children.splice(s,1),r.dispatchEvent(_J),G7.child=r,this.dispatchEvent(G7),G7.child=null),this}removeFromParent(){const r=this.parent;return r!==null&&r.remove(this),this}clear(){return this.remove(...this.children)}attach(r){return this.updateWorldMatrix(!0,!1),qs.copy(this.matrixWorld).invert(),r.parent!==null&&(r.parent.updateWorldMatrix(!0,!1),qs.multiply(r.parent.matrixWorld)),r.applyMatrix4(qs),r.removeFromParent(),r.parent=this,this.children.push(r),r.updateWorldMatrix(!1,!0),r.dispatchEvent(wb),D1.child=r,this.dispatchEvent(D1),D1.child=null,this}getObjectById(r){return this.getObjectByProperty("id",r)}getObjectByName(r){return this.getObjectByProperty("name",r)}getObjectByProperty(r,s){if(this[r]===s)return this;for(let m=0,A=this.children.length;m<A;m++){const R=this.children[m].getObjectByProperty(r,s);if(R!==void 0)return R}}getObjectsByProperty(r,s,m=[]){this[r]===s&&m.push(this);const A=this.children;for(let O=0,R=A.length;O<R;O++)A[O].getObjectsByProperty(r,s,m);return m}getWorldPosition(r){return this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(r){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wh,r,bJ),r}getWorldScale(r){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wh,CJ,r),r}getWorldDirection(r){this.updateWorldMatrix(!0,!1);const s=this.matrixWorld.elements;return r.set(s[8],s[9],s[10]).normalize()}raycast(){}traverse(r){r(this);const s=this.children;for(let m=0,A=s.length;m<A;m++)s[m].traverse(r)}traverseVisible(r){if(this.visible===!1)return;r(this);const s=this.children;for(let m=0,A=s.length;m<A;m++)s[m].traverseVisible(r)}traverseAncestors(r){const s=this.parent;s!==null&&(r(s),s.traverseAncestors(r))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(r){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||r)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,r=!0);const s=this.children;for(let m=0,A=s.length;m<A;m++){const O=s[m];(O.matrixWorldAutoUpdate===!0||r===!0)&&O.updateMatrixWorld(r)}}updateWorldMatrix(r,s){const m=this.parent;if(r===!0&&m!==null&&m.matrixWorldAutoUpdate===!0&&m.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),s===!0){const A=this.children;for(let O=0,R=A.length;O<R;O++){const L=A[O];L.matrixWorldAutoUpdate===!0&&L.updateWorldMatrix(!1,!0)}}}toJSON(r){const s=r===void 0||typeof r=="string",m={};s&&(r={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},m.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const A={};A.uuid=this.uuid,A.type=this.type,this.name!==""&&(A.name=this.name),this.castShadow===!0&&(A.castShadow=!0),this.receiveShadow===!0&&(A.receiveShadow=!0),this.visible===!1&&(A.visible=!1),this.frustumCulled===!1&&(A.frustumCulled=!1),this.renderOrder!==0&&(A.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(A.userData=this.userData),A.layers=this.layers.mask,A.matrix=this.matrix.toArray(),A.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(A.matrixAutoUpdate=!1),this.isInstancedMesh&&(A.type="InstancedMesh",A.count=this.count,A.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(A.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(A.type="BatchedMesh",A.perObjectFrustumCulled=this.perObjectFrustumCulled,A.sortObjects=this.sortObjects,A.drawRanges=this._drawRanges,A.reservedRanges=this._reservedRanges,A.visibility=this._visibility,A.active=this._active,A.bounds=this._bounds.map(L=>({boxInitialized:L.boxInitialized,boxMin:L.box.min.toArray(),boxMax:L.box.max.toArray(),sphereInitialized:L.sphereInitialized,sphereRadius:L.sphere.radius,sphereCenter:L.sphere.center.toArray()})),A.maxGeometryCount=this._maxGeometryCount,A.maxVertexCount=this._maxVertexCount,A.maxIndexCount=this._maxIndexCount,A.geometryInitialized=this._geometryInitialized,A.geometryCount=this._geometryCount,A.matricesTexture=this._matricesTexture.toJSON(r),this.boundingSphere!==null&&(A.boundingSphere={center:A.boundingSphere.center.toArray(),radius:A.boundingSphere.radius}),this.boundingBox!==null&&(A.boundingBox={min:A.boundingBox.min.toArray(),max:A.boundingBox.max.toArray()}));function O(L,$){return L[$.uuid]===void 0&&(L[$.uuid]=$.toJSON(r)),$.uuid}if(this.isScene)this.background&&(this.background.isColor?A.background=this.background.toJSON():this.background.isTexture&&(A.background=this.background.toJSON(r).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(A.environment=this.environment.toJSON(r).uuid);else if(this.isMesh||this.isLine||this.isPoints){A.geometry=O(r.geometries,this.geometry);const L=this.geometry.parameters;if(L!==void 0&&L.shapes!==void 0){const $=L.shapes;if(Array.isArray($))for(let Q=0,Y=$.length;Q<Y;Q++){const nt=$[Q];O(r.shapes,nt)}else O(r.shapes,$)}}if(this.isSkinnedMesh&&(A.bindMode=this.bindMode,A.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(O(r.skeletons,this.skeleton),A.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const L=[];for(let $=0,Q=this.material.length;$<Q;$++)L.push(O(r.materials,this.material[$]));A.material=L}else A.material=O(r.materials,this.material);if(this.children.length>0){A.children=[];for(let L=0;L<this.children.length;L++)A.children.push(this.children[L].toJSON(r).object)}if(this.animations.length>0){A.animations=[];for(let L=0;L<this.animations.length;L++){const $=this.animations[L];A.animations.push(O(r.animations,$))}}if(s){const L=R(r.geometries),$=R(r.materials),Q=R(r.textures),Y=R(r.images),nt=R(r.shapes),rt=R(r.skeletons),at=R(r.animations),ft=R(r.nodes);L.length>0&&(m.geometries=L),$.length>0&&(m.materials=$),Q.length>0&&(m.textures=Q),Y.length>0&&(m.images=Y),nt.length>0&&(m.shapes=nt),rt.length>0&&(m.skeletons=rt),at.length>0&&(m.animations=at),ft.length>0&&(m.nodes=ft)}return m.object=A,m;function R(L){const $=[];for(const Q in L){const Y=L[Q];delete Y.metadata,$.push(Y)}return $}}clone(r){return new this.constructor().copy(this,r)}copy(r,s=!0){if(this.name=r.name,this.up.copy(r.up),this.position.copy(r.position),this.rotation.order=r.rotation.order,this.quaternion.copy(r.quaternion),this.scale.copy(r.scale),this.matrix.copy(r.matrix),this.matrixWorld.copy(r.matrixWorld),this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrixWorldAutoUpdate=r.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=r.matrixWorldNeedsUpdate,this.layers.mask=r.layers.mask,this.visible=r.visible,this.castShadow=r.castShadow,this.receiveShadow=r.receiveShadow,this.frustumCulled=r.frustumCulled,this.renderOrder=r.renderOrder,this.animations=r.animations.slice(),this.userData=JSON.parse(JSON.stringify(r.userData)),s===!0)for(let m=0;m<r.children.length;m++){const A=r.children[m];this.add(A.clone())}return this}}N0.DEFAULT_UP=new ie(0,1,0),N0.DEFAULT_MATRIX_AUTO_UPDATE=!0,N0.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ko=new ie,Xs=new ie,H7=new ie,Ys=new ie,P1=new ie,k1=new ie,Ob=new ie,V7=new ie,Q7=new ie,z7=new ie;class Wa{constructor(r=new ie,s=new ie,m=new ie){this.a=r,this.b=s,this.c=m}static getNormal(r,s,m,A){A.subVectors(m,s),ko.subVectors(r,s),A.cross(ko);const O=A.lengthSq();return O>0?A.multiplyScalar(1/Math.sqrt(O)):A.set(0,0,0)}static getBarycoord(r,s,m,A,O){ko.subVectors(A,s),Xs.subVectors(m,s),H7.subVectors(r,s);const R=ko.dot(ko),L=ko.dot(Xs),$=ko.dot(H7),Q=Xs.dot(Xs),Y=Xs.dot(H7),nt=R*Q-L*L;if(nt===0)return O.set(0,0,0),null;const rt=1/nt,at=(Q*$-L*Y)*rt,ft=(R*Y-L*$)*rt;return O.set(1-at-ft,ft,at)}static containsPoint(r,s,m,A){return this.getBarycoord(r,s,m,A,Ys)===null?!1:Ys.x>=0&&Ys.y>=0&&Ys.x+Ys.y<=1}static getInterpolation(r,s,m,A,O,R,L,$){return this.getBarycoord(r,s,m,A,Ys)===null?($.x=0,$.y=0,"z"in $&&($.z=0),"w"in $&&($.w=0),null):($.setScalar(0),$.addScaledVector(O,Ys.x),$.addScaledVector(R,Ys.y),$.addScaledVector(L,Ys.z),$)}static isFrontFacing(r,s,m,A){return ko.subVectors(m,s),Xs.subVectors(r,s),ko.cross(Xs).dot(A)<0}set(r,s,m){return this.a.copy(r),this.b.copy(s),this.c.copy(m),this}setFromPointsAndIndices(r,s,m,A){return this.a.copy(r[s]),this.b.copy(r[m]),this.c.copy(r[A]),this}setFromAttributeAndIndices(r,s,m,A){return this.a.fromBufferAttribute(r,s),this.b.fromBufferAttribute(r,m),this.c.fromBufferAttribute(r,A),this}clone(){return new this.constructor().copy(this)}copy(r){return this.a.copy(r.a),this.b.copy(r.b),this.c.copy(r.c),this}getArea(){return ko.subVectors(this.c,this.b),Xs.subVectors(this.a,this.b),ko.cross(Xs).length()*.5}getMidpoint(r){return r.addVectors(this.a,this.b).add(this.c).multiplyScalar(.3333333333333333)}getNormal(r){return Wa.getNormal(this.a,this.b,this.c,r)}getPlane(r){return r.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(r,s){return Wa.getBarycoord(r,this.a,this.b,this.c,s)}getInterpolation(r,s,m,A,O){return Wa.getInterpolation(r,this.a,this.b,this.c,s,m,A,O)}containsPoint(r){return Wa.containsPoint(r,this.a,this.b,this.c)}isFrontFacing(r){return Wa.isFrontFacing(this.a,this.b,this.c,r)}intersectsBox(r){return r.intersectsTriangle(this)}closestPointToPoint(r,s){const m=this.a,A=this.b,O=this.c;let R,L;P1.subVectors(A,m),k1.subVectors(O,m),V7.subVectors(r,m);const $=P1.dot(V7),Q=k1.dot(V7);if($<=0&&Q<=0)return s.copy(m);Q7.subVectors(r,A);const Y=P1.dot(Q7),nt=k1.dot(Q7);if(Y>=0&&nt<=Y)return s.copy(A);const rt=$*nt-Y*Q;if(rt<=0&&$>=0&&Y<=0)return R=$/($-Y),s.copy(m).addScaledVector(P1,R);z7.subVectors(r,O);const at=P1.dot(z7),ft=k1.dot(z7);if(ft>=0&&at<=ft)return s.copy(O);const Ct=at*Q-$*ft;if(Ct<=0&&Q>=0&&ft<=0)return L=Q/(Q-ft),s.copy(m).addScaledVector(k1,L);const pt=Y*ft-at*nt;if(pt<=0&&nt-Y>=0&&at-ft>=0)return Ob.subVectors(O,A),L=(nt-Y)/(nt-Y+(at-ft)),s.copy(A).addScaledVector(Ob,L);const ot=1/(pt+Ct+rt);return R=Ct*ot,L=rt*ot,s.copy(m).addScaledVector(P1,R).addScaledVector(k1,L)}equals(r){return r.a.equals(this.a)&&r.b.equals(this.b)&&r.c.equals(this.c)}}const Sb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Kl={h:0,s:0,l:0},cm={h:0,s:0,l:0};function j7(x,r,s){return s<0&&(s+=1),s>1&&(s-=1),s<.16666666666666666?x+(r-x)*6*s:s<.5?r:s<.6666666666666666?x+(r-x)*6*(.6666666666666666-s):x}class ln{constructor(r,s,m){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(r,s,m)}set(r,s,m){if(s===void 0&&m===void 0){const A=r;A&&A.isColor?this.copy(A):typeof A=="number"?this.setHex(A):typeof A=="string"&&this.setStyle(A)}else this.setRGB(r,s,m);return this}setScalar(r){return this.r=r,this.g=r,this.b=r,this}setHex(r,s=O0){return r=Math.floor(r),this.r=(r>>16&255)/255,this.g=(r>>8&255)/255,this.b=(r&255)/255,G0.toWorkingColorSpace(this,s),this}setRGB(r,s,m,A=G0.workingColorSpace){return this.r=r,this.g=s,this.b=m,G0.toWorkingColorSpace(this,A),this}setHSL(r,s,m,A=G0.workingColorSpace){if(r=Hh(r,1),s=D9(s,0,1),m=D9(m,0,1),s===0)this.r=this.g=this.b=m;else{const O=m<=.5?m*(1+s):m+s-m*s,R=2*m-O;this.r=j7(R,O,r+.3333333333333333),this.g=j7(R,O,r),this.b=j7(R,O,r-.3333333333333333)}return G0.toWorkingColorSpace(this,A),this}setStyle(r,s=O0){function m(O){O!==void 0&&parseFloat(O)<1&&console.warn("THREE.Color: Alpha component of "+r+" will be ignored.")}let A;if(A=/^(\w+)\(([^\)]*)\)/.exec(r)){let O;const R=A[1],L=A[2];switch(R){case"rgb":case"rgba":if(O=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(L))return m(O[4]),this.setRGB(Math.min(255,parseInt(O[1],10))/255,Math.min(255,parseInt(O[2],10))/255,Math.min(255,parseInt(O[3],10))/255,s);if(O=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(L))return m(O[4]),this.setRGB(Math.min(100,parseInt(O[1],10))/100,Math.min(100,parseInt(O[2],10))/100,Math.min(100,parseInt(O[3],10))/100,s);break;case"hsl":case"hsla":if(O=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(L))return m(O[4]),this.setHSL(parseFloat(O[1])/360,parseFloat(O[2])/100,parseFloat(O[3])/100,s);break;default:console.warn("THREE.Color: Unknown color model "+r)}}else if(A=/^\#([A-Fa-f\d]+)$/.exec(r)){const O=A[1],R=O.length;if(R===3)return this.setRGB(parseInt(O.charAt(0),16)/15,parseInt(O.charAt(1),16)/15,parseInt(O.charAt(2),16)/15,s);if(R===6)return this.setHex(parseInt(O,16),s);console.warn("THREE.Color: Invalid hex color "+r)}else if(r&&r.length>0)return this.setColorName(r,s);return this}setColorName(r,s=O0){const m=Sb[r.toLowerCase()];return m!==void 0?this.setHex(m,s):console.warn("THREE.Color: Unknown color "+r),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(r){return this.r=r.r,this.g=r.g,this.b=r.b,this}copySRGBToLinear(r){return this.r=Ql(r.r),this.g=Ql(r.g),this.b=Ql(r.b),this}copyLinearToSRGB(r){return this.r=Qh(r.r),this.g=Qh(r.g),this.b=Qh(r.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(r=O0){return G0.fromWorkingColorSpace(Kr.copy(this),r),Math.round(D9(Kr.r*255,0,255))*65536+Math.round(D9(Kr.g*255,0,255))*256+Math.round(D9(Kr.b*255,0,255))}getHexString(r=O0){return("000000"+this.getHex(r).toString(16)).slice(-6)}getHSL(r,s=G0.workingColorSpace){G0.fromWorkingColorSpace(Kr.copy(this),s);const m=Kr.r,A=Kr.g,O=Kr.b,R=Math.max(m,A,O),L=Math.min(m,A,O);let $,Q;const Y=(L+R)/2;if(L===R)$=0,Q=0;else{const nt=R-L;switch(Q=Y<=.5?nt/(R+L):nt/(2-R-L),R){case m:$=(A-O)/nt+(A<O?6:0);break;case A:$=(O-m)/nt+2;break;case O:$=(m-A)/nt+4;break}$/=6}return r.h=$,r.s=Q,r.l=Y,r}getRGB(r,s=G0.workingColorSpace){return G0.fromWorkingColorSpace(Kr.copy(this),s),r.r=Kr.r,r.g=Kr.g,r.b=Kr.b,r}getStyle(r=O0){G0.fromWorkingColorSpace(Kr.copy(this),r);const s=Kr.r,m=Kr.g,A=Kr.b;return r!==O0?`color(${r} ${s.toFixed(3)} ${m.toFixed(3)} ${A.toFixed(3)})`:`rgb(${Math.round(s*255)},${Math.round(m*255)},${Math.round(A*255)})`}offsetHSL(r,s,m){return this.getHSL(Kl),this.setHSL(Kl.h+r,Kl.s+s,Kl.l+m)}add(r){return this.r+=r.r,this.g+=r.g,this.b+=r.b,this}addColors(r,s){return this.r=r.r+s.r,this.g=r.g+s.g,this.b=r.b+s.b,this}addScalar(r){return this.r+=r,this.g+=r,this.b+=r,this}sub(r){return this.r=Math.max(0,this.r-r.r),this.g=Math.max(0,this.g-r.g),this.b=Math.max(0,this.b-r.b),this}multiply(r){return this.r*=r.r,this.g*=r.g,this.b*=r.b,this}multiplyScalar(r){return this.r*=r,this.g*=r,this.b*=r,this}lerp(r,s){return this.r+=(r.r-this.r)*s,this.g+=(r.g-this.g)*s,this.b+=(r.b-this.b)*s,this}lerpColors(r,s,m){return this.r=r.r+(s.r-r.r)*m,this.g=r.g+(s.g-r.g)*m,this.b=r.b+(s.b-r.b)*m,this}lerpHSL(r,s){this.getHSL(Kl),r.getHSL(cm);const m=cu(Kl.h,cm.h,s),A=cu(Kl.s,cm.s,s),O=cu(Kl.l,cm.l,s);return this.setHSL(m,A,O),this}setFromVector3(r){return this.r=r.x,this.g=r.y,this.b=r.z,this}applyMatrix3(r){const s=this.r,m=this.g,A=this.b,O=r.elements;return this.r=O[0]*s+O[3]*m+O[6]*A,this.g=O[1]*s+O[4]*m+O[7]*A,this.b=O[2]*s+O[5]*m+O[8]*A,this}equals(r){return r.r===this.r&&r.g===this.g&&r.b===this.b}fromArray(r,s=0){return this.r=r[s],this.g=r[s+1],this.b=r[s+2],this}toArray(r=[],s=0){return r[s]=this.r,r[s+1]=this.g,r[s+2]=this.b,r}fromBufferAttribute(r,s){return this.r=r.getX(s),this.g=r.getY(s),this.b=r.getZ(s),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Kr=new ln;ln.NAMES=Sb;let EJ=0;class qr extends ha{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:EJ++}),this.uuid=fa(),this.name="",this.type="Material",this.blending=k,this.side=E,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=et,this.blendDst=dt,this.blendEquation=U,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ln(0,0,0),this.blendAlpha=0,this.depthFunc=ce,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Jh,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Qs,this.stencilZFail=Qs,this.stencilZPass=Qs,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(r){this._alphaTest>0!=r>0&&this.version++,this._alphaTest=r}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(r){if(r!==void 0)for(const s in r){const m=r[s];if(m===void 0){console.warn(`THREE.Material: parameter '${s}' has value of undefined.`);continue}const A=this[s];if(A===void 0){console.warn(`THREE.Material: '${s}' is not a property of THREE.${this.type}.`);continue}A&&A.isColor?A.set(m):A&&A.isVector3&&m&&m.isVector3?A.copy(m):this[s]=m}}toJSON(r){const s=r===void 0||typeof r=="string";s&&(r={textures:{},images:{}});const m={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};m.uuid=this.uuid,m.type=this.type,this.name!==""&&(m.name=this.name),this.color&&this.color.isColor&&(m.color=this.color.getHex()),this.roughness!==void 0&&(m.roughness=this.roughness),this.metalness!==void 0&&(m.metalness=this.metalness),this.sheen!==void 0&&(m.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(m.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(m.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(m.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(m.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(m.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(m.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(m.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(m.shininess=this.shininess),this.clearcoat!==void 0&&(m.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(m.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(m.clearcoatMap=this.clearcoatMap.toJSON(r).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(m.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(r).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(m.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(r).uuid,m.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(m.dispersion=this.dispersion),this.iridescence!==void 0&&(m.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(m.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(m.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(m.iridescenceMap=this.iridescenceMap.toJSON(r).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(m.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(r).uuid),this.anisotropy!==void 0&&(m.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(m.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(m.anisotropyMap=this.anisotropyMap.toJSON(r).uuid),this.map&&this.map.isTexture&&(m.map=this.map.toJSON(r).uuid),this.matcap&&this.matcap.isTexture&&(m.matcap=this.matcap.toJSON(r).uuid),this.alphaMap&&this.alphaMap.isTexture&&(m.alphaMap=this.alphaMap.toJSON(r).uuid),this.lightMap&&this.lightMap.isTexture&&(m.lightMap=this.lightMap.toJSON(r).uuid,m.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(m.aoMap=this.aoMap.toJSON(r).uuid,m.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(m.bumpMap=this.bumpMap.toJSON(r).uuid,m.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(m.normalMap=this.normalMap.toJSON(r).uuid,m.normalMapType=this.normalMapType,m.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(m.displacementMap=this.displacementMap.toJSON(r).uuid,m.displacementScale=this.displacementScale,m.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(m.roughnessMap=this.roughnessMap.toJSON(r).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(m.metalnessMap=this.metalnessMap.toJSON(r).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(m.emissiveMap=this.emissiveMap.toJSON(r).uuid),this.specularMap&&this.specularMap.isTexture&&(m.specularMap=this.specularMap.toJSON(r).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(m.specularIntensityMap=this.specularIntensityMap.toJSON(r).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(m.specularColorMap=this.specularColorMap.toJSON(r).uuid),this.envMap&&this.envMap.isTexture&&(m.envMap=this.envMap.toJSON(r).uuid,this.combine!==void 0&&(m.combine=this.combine)),this.envMapRotation!==void 0&&(m.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(m.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(m.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(m.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(m.gradientMap=this.gradientMap.toJSON(r).uuid),this.transmission!==void 0&&(m.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(m.transmissionMap=this.transmissionMap.toJSON(r).uuid),this.thickness!==void 0&&(m.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(m.thicknessMap=this.thicknessMap.toJSON(r).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(m.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(m.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(m.size=this.size),this.shadowSide!==null&&(m.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(m.sizeAttenuation=this.sizeAttenuation),this.blending!==k&&(m.blending=this.blending),this.side!==E&&(m.side=this.side),this.vertexColors===!0&&(m.vertexColors=!0),this.opacity<1&&(m.opacity=this.opacity),this.transparent===!0&&(m.transparent=!0),this.blendSrc!==et&&(m.blendSrc=this.blendSrc),this.blendDst!==dt&&(m.blendDst=this.blendDst),this.blendEquation!==U&&(m.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(m.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(m.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(m.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(m.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(m.blendAlpha=this.blendAlpha),this.depthFunc!==ce&&(m.depthFunc=this.depthFunc),this.depthTest===!1&&(m.depthTest=this.depthTest),this.depthWrite===!1&&(m.depthWrite=this.depthWrite),this.colorWrite===!1&&(m.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(m.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Jh&&(m.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(m.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(m.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Qs&&(m.stencilFail=this.stencilFail),this.stencilZFail!==Qs&&(m.stencilZFail=this.stencilZFail),this.stencilZPass!==Qs&&(m.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(m.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(m.rotation=this.rotation),this.polygonOffset===!0&&(m.polygonOffset=!0),this.polygonOffsetFactor!==0&&(m.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(m.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(m.linewidth=this.linewidth),this.dashSize!==void 0&&(m.dashSize=this.dashSize),this.gapSize!==void 0&&(m.gapSize=this.gapSize),this.scale!==void 0&&(m.scale=this.scale),this.dithering===!0&&(m.dithering=!0),this.alphaTest>0&&(m.alphaTest=this.alphaTest),this.alphaHash===!0&&(m.alphaHash=!0),this.alphaToCoverage===!0&&(m.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(m.premultipliedAlpha=!0),this.forceSinglePass===!0&&(m.forceSinglePass=!0),this.wireframe===!0&&(m.wireframe=!0),this.wireframeLinewidth>1&&(m.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(m.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(m.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(m.flatShading=!0),this.visible===!1&&(m.visible=!1),this.toneMapped===!1&&(m.toneMapped=!1),this.fog===!1&&(m.fog=!1),Object.keys(this.userData).length>0&&(m.userData=this.userData);function A(O){const R=[];for(const L in O){const $=O[L];delete $.metadata,R.push($)}return R}if(s){const O=A(r.textures),R=A(r.images);O.length>0&&(m.textures=O),R.length>0&&(m.images=R)}return m}clone(){return new this.constructor().copy(this)}copy(r){this.name=r.name,this.blending=r.blending,this.side=r.side,this.vertexColors=r.vertexColors,this.opacity=r.opacity,this.transparent=r.transparent,this.blendSrc=r.blendSrc,this.blendDst=r.blendDst,this.blendEquation=r.blendEquation,this.blendSrcAlpha=r.blendSrcAlpha,this.blendDstAlpha=r.blendDstAlpha,this.blendEquationAlpha=r.blendEquationAlpha,this.blendColor.copy(r.blendColor),this.blendAlpha=r.blendAlpha,this.depthFunc=r.depthFunc,this.depthTest=r.depthTest,this.depthWrite=r.depthWrite,this.stencilWriteMask=r.stencilWriteMask,this.stencilFunc=r.stencilFunc,this.stencilRef=r.stencilRef,this.stencilFuncMask=r.stencilFuncMask,this.stencilFail=r.stencilFail,this.stencilZFail=r.stencilZFail,this.stencilZPass=r.stencilZPass,this.stencilWrite=r.stencilWrite;const s=r.clippingPlanes;let m=null;if(s!==null){const A=s.length;m=new Array(A);for(let O=0;O!==A;++O)m[O]=s[O].clone()}return this.clippingPlanes=m,this.clipIntersection=r.clipIntersection,this.clipShadows=r.clipShadows,this.shadowSide=r.shadowSide,this.colorWrite=r.colorWrite,this.precision=r.precision,this.polygonOffset=r.polygonOffset,this.polygonOffsetFactor=r.polygonOffsetFactor,this.polygonOffsetUnits=r.polygonOffsetUnits,this.dithering=r.dithering,this.alphaTest=r.alphaTest,this.alphaHash=r.alphaHash,this.alphaToCoverage=r.alphaToCoverage,this.premultipliedAlpha=r.premultipliedAlpha,this.forceSinglePass=r.forceSinglePass,this.visible=r.visible,this.toneMapped=r.toneMapped,this.userData=JSON.parse(JSON.stringify(r.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(r){r===!0&&this.version++}}class ql extends qr{constructor(r){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ln(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ja,this.combine=ve,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.fog=r.fog,this}}const Zs=wJ();function wJ(){const x=new ArrayBuffer(4),r=new Float32Array(x),s=new Uint32Array(x),m=new Uint32Array(512),A=new Uint32Array(512);for(let $=0;$<256;++$){const Q=$-127;Q<-27?(m[$]=0,m[$|256]=32768,A[$]=24,A[$|256]=24):Q<-14?(m[$]=1024>>-Q-14,m[$|256]=1024>>-Q-14|32768,A[$]=-Q-1,A[$|256]=-Q-1):Q<=15?(m[$]=Q+15<<10,m[$|256]=Q+15<<10|32768,A[$]=13,A[$|256]=13):Q<128?(m[$]=31744,m[$|256]=64512,A[$]=24,A[$|256]=24):(m[$]=31744,m[$|256]=64512,A[$]=13,A[$|256]=13)}const O=new Uint32Array(2048),R=new Uint32Array(64),L=new Uint32Array(64);for(let $=1;$<1024;++$){let Q=$<<13,Y=0;for(;!(Q&8388608);)Q<<=1,Y-=8388608;Q&=-8388609,Y+=947912704,O[$]=Q|Y}for(let $=1024;$<2048;++$)O[$]=939524096+($-1024<<13);for(let $=1;$<31;++$)R[$]=$<<23;R[31]=1199570944,R[32]=2147483648;for(let $=33;$<63;++$)R[$]=2147483648+($-32<<23);R[63]=3347054592;for(let $=1;$<64;++$)$!==32&&(L[$]=1024);return{floatView:r,uint32View:s,baseTable:m,shiftTable:A,mantissaTable:O,exponentTable:R,offsetTable:L}}function Ia(x){Math.abs(x)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),x=D9(x,-65504,65504),Zs.floatView[0]=x;const r=Zs.uint32View[0],s=r>>23&511;return Zs.baseTable[s]+((r&8388607)>>Zs.shiftTable[s])}function Kh(x){const r=x>>10;return Zs.uint32View[0]=Zs.mantissaTable[Zs.offsetTable[r]+(x&1023)]+Zs.exponentTable[r],Zs.floatView[0]}const OJ={toHalfFloat:Ia,fromHalfFloat:Kh},ir=new ie,um=new yi;class Y0{constructor(r,s,m=!1){if(Array.isArray(r))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=r,this.itemSize=s,this.count=r!==void 0?r.length/s:0,this.normalized=m,this.usage=su,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=ai,this.version=0}onUploadCallback(){}set needsUpdate(r){r===!0&&this.version++}get updateRange(){return em("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(r){return this.usage=r,this}addUpdateRange(r,s){this.updateRanges.push({start:r,count:s})}clearUpdateRanges(){this.updateRanges.length=0}copy(r){return this.name=r.name,this.array=new r.array.constructor(r.array),this.itemSize=r.itemSize,this.count=r.count,this.normalized=r.normalized,this.usage=r.usage,this.gpuType=r.gpuType,this}copyAt(r,s,m){r*=this.itemSize,m*=s.itemSize;for(let A=0,O=this.itemSize;A<O;A++)this.array[r+A]=s.array[m+A];return this}copyArray(r){return this.array.set(r),this}applyMatrix3(r){if(this.itemSize===2)for(let s=0,m=this.count;s<m;s++)um.fromBufferAttribute(this,s),um.applyMatrix3(r),this.setXY(s,um.x,um.y);else if(this.itemSize===3)for(let s=0,m=this.count;s<m;s++)ir.fromBufferAttribute(this,s),ir.applyMatrix3(r),this.setXYZ(s,ir.x,ir.y,ir.z);return this}applyMatrix4(r){for(let s=0,m=this.count;s<m;s++)ir.fromBufferAttribute(this,s),ir.applyMatrix4(r),this.setXYZ(s,ir.x,ir.y,ir.z);return this}applyNormalMatrix(r){for(let s=0,m=this.count;s<m;s++)ir.fromBufferAttribute(this,s),ir.applyNormalMatrix(r),this.setXYZ(s,ir.x,ir.y,ir.z);return this}transformDirection(r){for(let s=0,m=this.count;s<m;s++)ir.fromBufferAttribute(this,s),ir.transformDirection(r),this.setXYZ(s,ir.x,ir.y,ir.z);return this}set(r,s=0){return this.array.set(r,s),this}getComponent(r,s){let m=this.array[r*this.itemSize+s];return this.normalized&&(m=Fr(m,this.array)),m}setComponent(r,s,m){return this.normalized&&(m=jn(m,this.array)),this.array[r*this.itemSize+s]=m,this}getX(r){let s=this.array[r*this.itemSize];return this.normalized&&(s=Fr(s,this.array)),s}setX(r,s){return this.normalized&&(s=jn(s,this.array)),this.array[r*this.itemSize]=s,this}getY(r){let s=this.array[r*this.itemSize+1];return this.normalized&&(s=Fr(s,this.array)),s}setY(r,s){return this.normalized&&(s=jn(s,this.array)),this.array[r*this.itemSize+1]=s,this}getZ(r){let s=this.array[r*this.itemSize+2];return this.normalized&&(s=Fr(s,this.array)),s}setZ(r,s){return this.normalized&&(s=jn(s,this.array)),this.array[r*this.itemSize+2]=s,this}getW(r){let s=this.array[r*this.itemSize+3];return this.normalized&&(s=Fr(s,this.array)),s}setW(r,s){return this.normalized&&(s=jn(s,this.array)),this.array[r*this.itemSize+3]=s,this}setXY(r,s,m){return r*=this.itemSize,this.normalized&&(s=jn(s,this.array),m=jn(m,this.array)),this.array[r+0]=s,this.array[r+1]=m,this}setXYZ(r,s,m,A){return r*=this.itemSize,this.normalized&&(s=jn(s,this.array),m=jn(m,this.array),A=jn(A,this.array)),this.array[r+0]=s,this.array[r+1]=m,this.array[r+2]=A,this}setXYZW(r,s,m,A,O){return r*=this.itemSize,this.normalized&&(s=jn(s,this.array),m=jn(m,this.array),A=jn(A,this.array),O=jn(O,this.array)),this.array[r+0]=s,this.array[r+1]=m,this.array[r+2]=A,this.array[r+3]=O,this}onUpload(r){return this.onUploadCallback=r,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const r={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(r.name=this.name),this.usage!==su&&(r.usage=this.usage),r}}class SJ extends Y0{constructor(r,s,m){super(new Int8Array(r),s,m)}}class xJ extends Y0{constructor(r,s,m){super(new Uint8Array(r),s,m)}}class TJ extends Y0{constructor(r,s,m){super(new Uint8ClampedArray(r),s,m)}}class IJ extends Y0{constructor(r,s,m){super(new Int16Array(r),s,m)}}class W7 extends Y0{constructor(r,s,m){super(new Uint16Array(r),s,m)}}class BJ extends Y0{constructor(r,s,m){super(new Int32Array(r),s,m)}}class K7 extends Y0{constructor(r,s,m){super(new Uint32Array(r),s,m)}}class RJ extends Y0{constructor(r,s,m){super(new Uint16Array(r),s,m),this.isFloat16BufferAttribute=!0}getX(r){let s=Kh(this.array[r*this.itemSize]);return this.normalized&&(s=Fr(s,this.array)),s}setX(r,s){return this.normalized&&(s=jn(s,this.array)),this.array[r*this.itemSize]=Ia(s),this}getY(r){let s=Kh(this.array[r*this.itemSize+1]);return this.normalized&&(s=Fr(s,this.array)),s}setY(r,s){return this.normalized&&(s=jn(s,this.array)),this.array[r*this.itemSize+1]=Ia(s),this}getZ(r){let s=Kh(this.array[r*this.itemSize+2]);return this.normalized&&(s=Fr(s,this.array)),s}setZ(r,s){return this.normalized&&(s=jn(s,this.array)),this.array[r*this.itemSize+2]=Ia(s),this}getW(r){let s=Kh(this.array[r*this.itemSize+3]);return this.normalized&&(s=Fr(s,this.array)),s}setW(r,s){return this.normalized&&(s=jn(s,this.array)),this.array[r*this.itemSize+3]=Ia(s),this}setXY(r,s,m){return r*=this.itemSize,this.normalized&&(s=jn(s,this.array),m=jn(m,this.array)),this.array[r+0]=Ia(s),this.array[r+1]=Ia(m),this}setXYZ(r,s,m,A){return r*=this.itemSize,this.normalized&&(s=jn(s,this.array),m=jn(m,this.array),A=jn(A,this.array)),this.array[r+0]=Ia(s),this.array[r+1]=Ia(m),this.array[r+2]=Ia(A),this}setXYZW(r,s,m,A,O){return r*=this.itemSize,this.normalized&&(s=jn(s,this.array),m=jn(m,this.array),A=jn(A,this.array),O=jn(O,this.array)),this.array[r+0]=Ia(s),this.array[r+1]=Ia(m),this.array[r+2]=Ia(A),this.array[r+3]=Ia(O),this}}class An extends Y0{constructor(r,s,m){super(new Float32Array(r),s,m)}}let DJ=0;const mo=new gn,q7=new N0,L1=new ie,Ka=new L9,qh=new L9,Er=new ie;class u0 extends ha{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:DJ++}),this.uuid=fa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(r){return Array.isArray(r)?this.index=new(Y3(r)?K7:W7)(r,1):this.index=r,this}getAttribute(r){return this.attributes[r]}setAttribute(r,s){return this.attributes[r]=s,this}deleteAttribute(r){return delete this.attributes[r],this}hasAttribute(r){return this.attributes[r]!==void 0}addGroup(r,s,m=0){this.groups.push({start:r,count:s,materialIndex:m})}clearGroups(){this.groups=[]}setDrawRange(r,s){this.drawRange.start=r,this.drawRange.count=s}applyMatrix4(r){const s=this.attributes.position;s!==void 0&&(s.applyMatrix4(r),s.needsUpdate=!0);const m=this.attributes.normal;if(m!==void 0){const O=new Hn().getNormalMatrix(r);m.applyNormalMatrix(O),m.needsUpdate=!0}const A=this.attributes.tangent;return A!==void 0&&(A.transformDirection(r),A.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(r){return mo.makeRotationFromQuaternion(r),this.applyMatrix4(mo),this}rotateX(r){return mo.makeRotationX(r),this.applyMatrix4(mo),this}rotateY(r){return mo.makeRotationY(r),this.applyMatrix4(mo),this}rotateZ(r){return mo.makeRotationZ(r),this.applyMatrix4(mo),this}translate(r,s,m){return mo.makeTranslation(r,s,m),this.applyMatrix4(mo),this}scale(r,s,m){return mo.makeScale(r,s,m),this.applyMatrix4(mo),this}lookAt(r){return q7.lookAt(r),q7.updateMatrix(),this.applyMatrix4(q7.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(L1).negate(),this.translate(L1.x,L1.y,L1.z),this}setFromPoints(r){const s=[];for(let m=0,A=r.length;m<A;m++){const O=r[m];s.push(O.x,O.y,O.z||0)}return this.setAttribute("position",new An(s,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new L9);const r=this.attributes.position,s=this.morphAttributes.position;if(r&&r.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ie(-1/0,-1/0,-1/0),new ie(1/0,1/0,1/0));return}if(r!==void 0){if(this.boundingBox.setFromBufferAttribute(r),s)for(let m=0,A=s.length;m<A;m++){const O=s[m];Ka.setFromBufferAttribute(O),this.morphTargetsRelative?(Er.addVectors(this.boundingBox.min,Ka.min),this.boundingBox.expandByPoint(Er),Er.addVectors(this.boundingBox.max,Ka.max),this.boundingBox.expandByPoint(Er)):(this.boundingBox.expandByPoint(Ka.min),this.boundingBox.expandByPoint(Ka.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new cr);const r=this.attributes.position,s=this.morphAttributes.position;if(r&&r.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ie,1/0);return}if(r){const m=this.boundingSphere.center;if(Ka.setFromBufferAttribute(r),s)for(let O=0,R=s.length;O<R;O++){const L=s[O];qh.setFromBufferAttribute(L),this.morphTargetsRelative?(Er.addVectors(Ka.min,qh.min),Ka.expandByPoint(Er),Er.addVectors(Ka.max,qh.max),Ka.expandByPoint(Er)):(Ka.expandByPoint(qh.min),Ka.expandByPoint(qh.max))}Ka.getCenter(m);let A=0;for(let O=0,R=r.count;O<R;O++)Er.fromBufferAttribute(r,O),A=Math.max(A,m.distanceToSquared(Er));if(s)for(let O=0,R=s.length;O<R;O++){const L=s[O],$=this.morphTargetsRelative;for(let Q=0,Y=L.count;Q<Y;Q++)Er.fromBufferAttribute(L,Q),$&&(L1.fromBufferAttribute(r,Q),Er.add(L1)),A=Math.max(A,m.distanceToSquared(Er))}this.boundingSphere.radius=Math.sqrt(A),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const r=this.index,s=this.attributes;if(r===null||s.position===void 0||s.normal===void 0||s.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const m=s.position,A=s.normal,O=s.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Y0(new Float32Array(4*m.count),4));const R=this.getAttribute("tangent"),L=[],$=[];for(let ge=0;ge<m.count;ge++)L[ge]=new ie,$[ge]=new ie;const Q=new ie,Y=new ie,nt=new ie,rt=new yi,at=new yi,ft=new yi,Ct=new ie,pt=new ie;function ot(ge,Yt,Wt){Q.fromBufferAttribute(m,ge),Y.fromBufferAttribute(m,Yt),nt.fromBufferAttribute(m,Wt),rt.fromBufferAttribute(O,ge),at.fromBufferAttribute(O,Yt),ft.fromBufferAttribute(O,Wt),Y.sub(Q),nt.sub(Q),at.sub(rt),ft.sub(rt);const ye=1/(at.x*ft.y-ft.x*at.y);isFinite(ye)&&(Ct.copy(Y).multiplyScalar(ft.y).addScaledVector(nt,-at.y).multiplyScalar(ye),pt.copy(nt).multiplyScalar(at.x).addScaledVector(Y,-ft.x).multiplyScalar(ye),L[ge].add(Ct),L[Yt].add(Ct),L[Wt].add(Ct),$[ge].add(pt),$[Yt].add(pt),$[Wt].add(pt))}let Vt=this.groups;Vt.length===0&&(Vt=[{start:0,count:r.count}]);for(let ge=0,Yt=Vt.length;ge<Yt;++ge){const Wt=Vt[ge],ye=Wt.start,Ie=Wt.count;for(let Te=ye,De=ye+Ie;Te<De;Te+=3)ot(r.getX(Te+0),r.getX(Te+1),r.getX(Te+2))}const Ut=new ie,Ft=new ie,Ae=new ie,re=new ie;function de(ge){Ae.fromBufferAttribute(A,ge),re.copy(Ae);const Yt=L[ge];Ut.copy(Yt),Ut.sub(Ae.multiplyScalar(Ae.dot(Yt))).normalize(),Ft.crossVectors(re,Yt);const ye=Ft.dot($[ge])<0?-1:1;R.setXYZW(ge,Ut.x,Ut.y,Ut.z,ye)}for(let ge=0,Yt=Vt.length;ge<Yt;++ge){const Wt=Vt[ge],ye=Wt.start,Ie=Wt.count;for(let Te=ye,De=ye+Ie;Te<De;Te+=3)de(r.getX(Te+0)),de(r.getX(Te+1)),de(r.getX(Te+2))}}computeVertexNormals(){const r=this.index,s=this.getAttribute("position");if(s!==void 0){let m=this.getAttribute("normal");if(m===void 0)m=new Y0(new Float32Array(s.count*3),3),this.setAttribute("normal",m);else for(let rt=0,at=m.count;rt<at;rt++)m.setXYZ(rt,0,0,0);const A=new ie,O=new ie,R=new ie,L=new ie,$=new ie,Q=new ie,Y=new ie,nt=new ie;if(r)for(let rt=0,at=r.count;rt<at;rt+=3){const ft=r.getX(rt+0),Ct=r.getX(rt+1),pt=r.getX(rt+2);A.fromBufferAttribute(s,ft),O.fromBufferAttribute(s,Ct),R.fromBufferAttribute(s,pt),Y.subVectors(R,O),nt.subVectors(A,O),Y.cross(nt),L.fromBufferAttribute(m,ft),$.fromBufferAttribute(m,Ct),Q.fromBufferAttribute(m,pt),L.add(Y),$.add(Y),Q.add(Y),m.setXYZ(ft,L.x,L.y,L.z),m.setXYZ(Ct,$.x,$.y,$.z),m.setXYZ(pt,Q.x,Q.y,Q.z)}else for(let rt=0,at=s.count;rt<at;rt+=3)A.fromBufferAttribute(s,rt+0),O.fromBufferAttribute(s,rt+1),R.fromBufferAttribute(s,rt+2),Y.subVectors(R,O),nt.subVectors(A,O),Y.cross(nt),m.setXYZ(rt+0,Y.x,Y.y,Y.z),m.setXYZ(rt+1,Y.x,Y.y,Y.z),m.setXYZ(rt+2,Y.x,Y.y,Y.z);this.normalizeNormals(),m.needsUpdate=!0}}normalizeNormals(){const r=this.attributes.normal;for(let s=0,m=r.count;s<m;s++)Er.fromBufferAttribute(r,s),Er.normalize(),r.setXYZ(s,Er.x,Er.y,Er.z)}toNonIndexed(){function r(L,$){const Q=L.array,Y=L.itemSize,nt=L.normalized,rt=new Q.constructor($.length*Y);let at=0,ft=0;for(let Ct=0,pt=$.length;Ct<pt;Ct++){L.isInterleavedBufferAttribute?at=$[Ct]*L.data.stride+L.offset:at=$[Ct]*Y;for(let ot=0;ot<Y;ot++)rt[ft++]=Q[at++]}return new Y0(rt,Y,nt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const s=new u0,m=this.index.array,A=this.attributes;for(const L in A){const $=A[L],Q=r($,m);s.setAttribute(L,Q)}const O=this.morphAttributes;for(const L in O){const $=[],Q=O[L];for(let Y=0,nt=Q.length;Y<nt;Y++){const rt=Q[Y],at=r(rt,m);$.push(at)}s.morphAttributes[L]=$}s.morphTargetsRelative=this.morphTargetsRelative;const R=this.groups;for(let L=0,$=R.length;L<$;L++){const Q=R[L];s.addGroup(Q.start,Q.count,Q.materialIndex)}return s}toJSON(){const r={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),Object.keys(this.userData).length>0&&(r.userData=this.userData),this.parameters!==void 0){const $=this.parameters;for(const Q in $)$[Q]!==void 0&&(r[Q]=$[Q]);return r}r.data={attributes:{}};const s=this.index;s!==null&&(r.data.index={type:s.array.constructor.name,array:Array.prototype.slice.call(s.array)});const m=this.attributes;for(const $ in m){const Q=m[$];r.data.attributes[$]=Q.toJSON(r.data)}const A={};let O=!1;for(const $ in this.morphAttributes){const Q=this.morphAttributes[$],Y=[];for(let nt=0,rt=Q.length;nt<rt;nt++){const at=Q[nt];Y.push(at.toJSON(r.data))}Y.length>0&&(A[$]=Y,O=!0)}O&&(r.data.morphAttributes=A,r.data.morphTargetsRelative=this.morphTargetsRelative);const R=this.groups;R.length>0&&(r.data.groups=JSON.parse(JSON.stringify(R)));const L=this.boundingSphere;return L!==null&&(r.data.boundingSphere={center:L.center.toArray(),radius:L.radius}),r}clone(){return new this.constructor().copy(this)}copy(r){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const s={};this.name=r.name;const m=r.index;m!==null&&this.setIndex(m.clone(s));const A=r.attributes;for(const Q in A){const Y=A[Q];this.setAttribute(Q,Y.clone(s))}const O=r.morphAttributes;for(const Q in O){const Y=[],nt=O[Q];for(let rt=0,at=nt.length;rt<at;rt++)Y.push(nt[rt].clone(s));this.morphAttributes[Q]=Y}this.morphTargetsRelative=r.morphTargetsRelative;const R=r.groups;for(let Q=0,Y=R.length;Q<Y;Q++){const nt=R[Q];this.addGroup(nt.start,nt.count,nt.materialIndex)}const L=r.boundingBox;L!==null&&(this.boundingBox=L.clone());const $=r.boundingSphere;return $!==null&&(this.boundingSphere=$.clone()),this.drawRange.start=r.drawRange.start,this.drawRange.count=r.drawRange.count,this.userData=r.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const xb=new gn,du=new ur,dm=new cr,Tb=new ie,N1=new ie,F1=new ie,U1=new ie,X7=new ie,hm=new ie,fm=new yi,mm=new yi,pm=new yi,Ib=new ie,Bb=new ie,Rb=new ie,gm=new ie,Mm=new ie;class nr extends N0{constructor(r=new u0,s=new ql){super(),this.isMesh=!0,this.type="Mesh",this.geometry=r,this.material=s,this.updateMorphTargets()}copy(r,s){return super.copy(r,s),r.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=r.morphTargetInfluences.slice()),r.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},r.morphTargetDictionary)),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}updateMorphTargets(){const s=this.geometry.morphAttributes,m=Object.keys(s);if(m.length>0){const A=s[m[0]];if(A!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let O=0,R=A.length;O<R;O++){const L=A[O].name||String(O);this.morphTargetInfluences.push(0),this.morphTargetDictionary[L]=O}}}}getVertexPosition(r,s){const m=this.geometry,A=m.attributes.position,O=m.morphAttributes.position,R=m.morphTargetsRelative;s.fromBufferAttribute(A,r);const L=this.morphTargetInfluences;if(O&&L){hm.set(0,0,0);for(let $=0,Q=O.length;$<Q;$++){const Y=L[$],nt=O[$];Y!==0&&(X7.fromBufferAttribute(nt,r),R?hm.addScaledVector(X7,Y):hm.addScaledVector(X7.sub(s),Y))}s.add(hm)}return s}raycast(r,s){const m=this.geometry,A=this.material,O=this.matrixWorld;A!==void 0&&(m.boundingSphere===null&&m.computeBoundingSphere(),dm.copy(m.boundingSphere),dm.applyMatrix4(O),du.copy(r.ray).recast(r.near),!(dm.containsPoint(du.origin)===!1&&(du.intersectSphere(dm,Tb)===null||du.origin.distanceToSquared(Tb)>(r.far-r.near)**2))&&(xb.copy(O).invert(),du.copy(r.ray).applyMatrix4(xb),!(m.boundingBox!==null&&du.intersectsBox(m.boundingBox)===!1)&&this._computeIntersections(r,s,du)))}_computeIntersections(r,s,m){let A;const O=this.geometry,R=this.material,L=O.index,$=O.attributes.position,Q=O.attributes.uv,Y=O.attributes.uv1,nt=O.attributes.normal,rt=O.groups,at=O.drawRange;if(L!==null)if(Array.isArray(R))for(let ft=0,Ct=rt.length;ft<Ct;ft++){const pt=rt[ft],ot=R[pt.materialIndex],Vt=Math.max(pt.start,at.start),Ut=Math.min(L.count,Math.min(pt.start+pt.count,at.start+at.count));for(let Ft=Vt,Ae=Ut;Ft<Ae;Ft+=3){const re=L.getX(Ft),de=L.getX(Ft+1),ge=L.getX(Ft+2);A=ym(this,ot,r,m,Q,Y,nt,re,de,ge),A&&(A.faceIndex=Math.floor(Ft/3),A.face.materialIndex=pt.materialIndex,s.push(A))}}else{const ft=Math.max(0,at.start),Ct=Math.min(L.count,at.start+at.count);for(let pt=ft,ot=Ct;pt<ot;pt+=3){const Vt=L.getX(pt),Ut=L.getX(pt+1),Ft=L.getX(pt+2);A=ym(this,R,r,m,Q,Y,nt,Vt,Ut,Ft),A&&(A.faceIndex=Math.floor(pt/3),s.push(A))}}else if($!==void 0)if(Array.isArray(R))for(let ft=0,Ct=rt.length;ft<Ct;ft++){const pt=rt[ft],ot=R[pt.materialIndex],Vt=Math.max(pt.start,at.start),Ut=Math.min($.count,Math.min(pt.start+pt.count,at.start+at.count));for(let Ft=Vt,Ae=Ut;Ft<Ae;Ft+=3){const re=Ft,de=Ft+1,ge=Ft+2;A=ym(this,ot,r,m,Q,Y,nt,re,de,ge),A&&(A.faceIndex=Math.floor(Ft/3),A.face.materialIndex=pt.materialIndex,s.push(A))}}else{const ft=Math.max(0,at.start),Ct=Math.min($.count,at.start+at.count);for(let pt=ft,ot=Ct;pt<ot;pt+=3){const Vt=pt,Ut=pt+1,Ft=pt+2;A=ym(this,R,r,m,Q,Y,nt,Vt,Ut,Ft),A&&(A.faceIndex=Math.floor(pt/3),s.push(A))}}}}function PJ(x,r,s,m,A,O,R,L){let $;if(r.side===S?$=m.intersectTriangle(R,O,A,!0,L):$=m.intersectTriangle(A,O,R,r.side===E,L),$===null)return null;Mm.copy(L),Mm.applyMatrix4(x.matrixWorld);const Q=s.ray.origin.distanceTo(Mm);return Q<s.near||Q>s.far?null:{distance:Q,point:Mm.clone(),object:x}}function ym(x,r,s,m,A,O,R,L,$,Q){x.getVertexPosition(L,N1),x.getVertexPosition($,F1),x.getVertexPosition(Q,U1);const Y=PJ(x,r,s,m,N1,F1,U1,gm);if(Y){A&&(fm.fromBufferAttribute(A,L),mm.fromBufferAttribute(A,$),pm.fromBufferAttribute(A,Q),Y.uv=Wa.getInterpolation(gm,N1,F1,U1,fm,mm,pm,new yi)),O&&(fm.fromBufferAttribute(O,L),mm.fromBufferAttribute(O,$),pm.fromBufferAttribute(O,Q),Y.uv1=Wa.getInterpolation(gm,N1,F1,U1,fm,mm,pm,new yi)),R&&(Ib.fromBufferAttribute(R,L),Bb.fromBufferAttribute(R,$),Rb.fromBufferAttribute(R,Q),Y.normal=Wa.getInterpolation(gm,N1,F1,U1,Ib,Bb,Rb,new ie),Y.normal.dot(m.direction)>0&&Y.normal.multiplyScalar(-1));const nt={a:L,b:$,c:Q,normal:new ie,materialIndex:0};Wa.getNormal(N1,F1,U1,nt.normal),Y.face=nt}return Y}class hu extends u0{constructor(r=1,s=1,m=1,A=1,O=1,R=1){super(),this.type="BoxGeometry",this.parameters={width:r,height:s,depth:m,widthSegments:A,heightSegments:O,depthSegments:R};const L=this;A=Math.floor(A),O=Math.floor(O),R=Math.floor(R);const $=[],Q=[],Y=[],nt=[];let rt=0,at=0;ft("z","y","x",-1,-1,m,s,r,R,O,0),ft("z","y","x",1,-1,m,s,-r,R,O,1),ft("x","z","y",1,1,r,m,s,A,R,2),ft("x","z","y",1,-1,r,m,-s,A,R,3),ft("x","y","z",1,-1,r,s,m,A,O,4),ft("x","y","z",-1,-1,r,s,-m,A,O,5),this.setIndex($),this.setAttribute("position",new An(Q,3)),this.setAttribute("normal",new An(Y,3)),this.setAttribute("uv",new An(nt,2));function ft(Ct,pt,ot,Vt,Ut,Ft,Ae,re,de,ge,Yt){const Wt=Ft/de,ye=Ae/ge,Ie=Ft/2,Te=Ae/2,De=re/2,ti=de+1,gi=ge+1;let Ni=0,ii=0;const Ri=new ie;for(let Pi=0;Pi<gi;Pi++){const fn=Pi*ye-Te;for(let d0=0;d0<ti;d0++){const H0=d0*Wt-Ie;Ri[Ct]=H0*Vt,Ri[pt]=fn*Ut,Ri[ot]=De,Q.push(Ri.x,Ri.y,Ri.z),Ri[Ct]=0,Ri[pt]=0,Ri[ot]=re>0?1:-1,Y.push(Ri.x,Ri.y,Ri.z),nt.push(d0/de),nt.push(1-Pi/ge),Ni+=1}}for(let Pi=0;Pi<ge;Pi++)for(let fn=0;fn<de;fn++){const d0=rt+fn+ti*Pi,H0=rt+fn+ti*(Pi+1),M9=rt+(fn+1)+ti*(Pi+1),F0=rt+(fn+1)+ti*Pi;$.push(d0,H0,F0),$.push(H0,M9,F0),ii+=6}L.addGroup(at,ii,Yt),at+=ii,rt+=Ni}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new hu(r.width,r.height,r.depth,r.widthSegments,r.heightSegments,r.depthSegments)}}function J1(x){const r={};for(const s in x){r[s]={};for(const m in x[s]){const A=x[s][m];A&&(A.isColor||A.isMatrix3||A.isMatrix4||A.isVector2||A.isVector3||A.isVector4||A.isTexture||A.isQuaternion)?A.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),r[s][m]=null):r[s][m]=A.clone():Array.isArray(A)?r[s][m]=A.slice():r[s][m]=A}}return r}function pa(x){const r={};for(let s=0;s<x.length;s++){const m=J1(x[s]);for(const A in m)r[A]=m[A]}return r}function kJ(x){const r=[];for(let s=0;s<x.length;s++)r.push(x[s].clone());return r}function Db(x){const r=x.getRenderTarget();return r===null?x.outputColorSpace:r.isXRRenderTarget===!0?r.texture.colorSpace:G0.workingColorSpace}const Pb={clone:J1,merge:pa};var LJ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,NJ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Lo extends qr{constructor(r){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=LJ,this.fragmentShader=NJ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,r!==void 0&&this.setValues(r)}copy(r){return super.copy(r),this.fragmentShader=r.fragmentShader,this.vertexShader=r.vertexShader,this.uniforms=J1(r.uniforms),this.uniformsGroups=kJ(r.uniformsGroups),this.defines=Object.assign({},r.defines),this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.fog=r.fog,this.lights=r.lights,this.clipping=r.clipping,this.extensions=Object.assign({},r.extensions),this.glslVersion=r.glslVersion,this}toJSON(r){const s=super.toJSON(r);s.glslVersion=this.glslVersion,s.uniforms={};for(const A in this.uniforms){const R=this.uniforms[A].value;R&&R.isTexture?s.uniforms[A]={type:"t",value:R.toJSON(r).uuid}:R&&R.isColor?s.uniforms[A]={type:"c",value:R.getHex()}:R&&R.isVector2?s.uniforms[A]={type:"v2",value:R.toArray()}:R&&R.isVector3?s.uniforms[A]={type:"v3",value:R.toArray()}:R&&R.isVector4?s.uniforms[A]={type:"v4",value:R.toArray()}:R&&R.isMatrix3?s.uniforms[A]={type:"m3",value:R.toArray()}:R&&R.isMatrix4?s.uniforms[A]={type:"m4",value:R.toArray()}:s.uniforms[A]={value:R}}Object.keys(this.defines).length>0&&(s.defines=this.defines),s.vertexShader=this.vertexShader,s.fragmentShader=this.fragmentShader,s.lights=this.lights,s.clipping=this.clipping;const m={};for(const A in this.extensions)this.extensions[A]===!0&&(m[A]=!0);return Object.keys(m).length>0&&(s.extensions=m),s}}class Am extends N0{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new gn,this.projectionMatrix=new gn,this.projectionMatrixInverse=new gn,this.coordinateSystem=ho}copy(r,s){return super.copy(r,s),this.matrixWorldInverse.copy(r.matrixWorldInverse),this.projectionMatrix.copy(r.projectionMatrix),this.projectionMatrixInverse.copy(r.projectionMatrixInverse),this.coordinateSystem=r.coordinateSystem,this}getWorldDirection(r){return super.getWorldDirection(r).negate()}updateMatrixWorld(r){super.updateMatrixWorld(r),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(r,s){super.updateWorldMatrix(r,s),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Xl=new ie,kb=new yi,Lb=new yi;class dr extends Am{constructor(r=50,s=1,m=.1,A=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=r,this.zoom=1,this.near=m,this.far=A,this.focus=10,this.aspect=s,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(r,s){return super.copy(r,s),this.fov=r.fov,this.zoom=r.zoom,this.near=r.near,this.far=r.far,this.focus=r.focus,this.aspect=r.aspect,this.view=r.view===null?null:Object.assign({},r.view),this.filmGauge=r.filmGauge,this.filmOffset=r.filmOffset,this}setFocalLength(r){const s=.5*this.getFilmHeight()/r;this.fov=Hl*2*Math.atan(s),this.updateProjectionMatrix()}getFocalLength(){const r=Math.tan(zs*.5*this.fov);return .5*this.getFilmHeight()/r}getEffectiveFOV(){return Hl*2*Math.atan(Math.tan(zs*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(r,s,m){Xl.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(Xl.x,Xl.y).multiplyScalar(-r/Xl.z),Xl.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),m.set(Xl.x,Xl.y).multiplyScalar(-r/Xl.z)}getViewSize(r,s){return this.getViewBounds(r,kb,Lb),s.subVectors(Lb,kb)}setViewOffset(r,s,m,A,O,R){this.aspect=r/s,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=s,this.view.offsetX=m,this.view.offsetY=A,this.view.width=O,this.view.height=R,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const r=this.near;let s=r*Math.tan(zs*.5*this.fov)/this.zoom,m=2*s,A=this.aspect*m,O=-.5*A;const R=this.view;if(this.view!==null&&this.view.enabled){const $=R.fullWidth,Q=R.fullHeight;O+=R.offsetX*A/$,s-=R.offsetY*m/Q,A*=R.width/$,m*=R.height/Q}const L=this.filmOffset;L!==0&&(O+=r*L/this.getFilmWidth()),this.projectionMatrix.makePerspective(O,O+A,s,s-m,r,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(r){const s=super.toJSON(r);return s.object.fov=this.fov,s.object.zoom=this.zoom,s.object.near=this.near,s.object.far=this.far,s.object.focus=this.focus,s.object.aspect=this.aspect,this.view!==null&&(s.object.view=Object.assign({},this.view)),s.object.filmGauge=this.filmGauge,s.object.filmOffset=this.filmOffset,s}}const $1=-90,G1=1;class Nb extends N0{constructor(r,s,m){super(),this.type="CubeCamera",this.renderTarget=m,this.coordinateSystem=null,this.activeMipmapLevel=0;const A=new dr($1,G1,r,s);A.layers=this.layers,this.add(A);const O=new dr($1,G1,r,s);O.layers=this.layers,this.add(O);const R=new dr($1,G1,r,s);R.layers=this.layers,this.add(R);const L=new dr($1,G1,r,s);L.layers=this.layers,this.add(L);const $=new dr($1,G1,r,s);$.layers=this.layers,this.add($);const Q=new dr($1,G1,r,s);Q.layers=this.layers,this.add(Q)}updateCoordinateSystem(){const r=this.coordinateSystem,s=this.children.concat(),[m,A,O,R,L,$]=s;for(const Q of s)this.remove(Q);if(r===ho)m.up.set(0,1,0),m.lookAt(1,0,0),A.up.set(0,1,0),A.lookAt(-1,0,0),O.up.set(0,0,-1),O.lookAt(0,1,0),R.up.set(0,0,1),R.lookAt(0,-1,0),L.up.set(0,1,0),L.lookAt(0,0,1),$.up.set(0,1,0),$.lookAt(0,0,-1);else if(r===lu)m.up.set(0,-1,0),m.lookAt(-1,0,0),A.up.set(0,-1,0),A.lookAt(1,0,0),O.up.set(0,0,1),O.lookAt(0,1,0),R.up.set(0,0,-1),R.lookAt(0,-1,0),L.up.set(0,-1,0),L.lookAt(0,0,1),$.up.set(0,-1,0),$.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+r);for(const Q of s)this.add(Q),Q.updateMatrixWorld()}update(r,s){this.parent===null&&this.updateMatrixWorld();const{renderTarget:m,activeMipmapLevel:A}=this;this.coordinateSystem!==r.coordinateSystem&&(this.coordinateSystem=r.coordinateSystem,this.updateCoordinateSystem());const[O,R,L,$,Q,Y]=this.children,nt=r.getRenderTarget(),rt=r.getActiveCubeFace(),at=r.getActiveMipmapLevel(),ft=r.xr.enabled;r.xr.enabled=!1;const Ct=m.texture.generateMipmaps;m.texture.generateMipmaps=!1,r.setRenderTarget(m,0,A),r.render(s,O),r.setRenderTarget(m,1,A),r.render(s,R),r.setRenderTarget(m,2,A),r.render(s,L),r.setRenderTarget(m,3,A),r.render(s,$),r.setRenderTarget(m,4,A),r.render(s,Q),m.texture.generateMipmaps=Ct,r.setRenderTarget(m,5,A),r.render(s,Y),r.setRenderTarget(nt,rt,at),r.xr.enabled=ft,m.texture.needsPMREMUpdate=!0}}class Xh extends u9{constructor(r,s,m,A,O,R,L,$,Q,Y){r=r!==void 0?r:[],s=s!==void 0?s:ut,super(r,s,m,A,O,R,L,$,Q,Y),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(r){this.image=r}}class Fb extends Sa{constructor(r=1,s={}){super(r,r,s),this.isWebGLCubeRenderTarget=!0;const m={width:r,height:r,depth:1},A=[m,m,m,m,m,m];this.texture=new Xh(A,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=s.generateMipmaps!==void 0?s.generateMipmaps:!1,this.texture.minFilter=s.minFilter!==void 0?s.minFilter:Ve}fromEquirectangularTexture(r,s){this.texture.type=s.type,this.texture.colorSpace=s.colorSpace,this.texture.generateMipmaps=s.generateMipmaps,this.texture.minFilter=s.minFilter,this.texture.magFilter=s.magFilter;const m={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},A=new hu(5,5,5),O=new Lo({name:"CubemapFromEquirect",uniforms:J1(m.uniforms),vertexShader:m.vertexShader,fragmentShader:m.fragmentShader,side:S,blending:T});O.uniforms.tEquirect.value=s;const R=new nr(A,O),L=s.minFilter;return s.minFilter===ke&&(s.minFilter=Ve),new Nb(1,10,this).update(r,R),s.minFilter=L,R.geometry.dispose(),R.material.dispose(),this}clear(r,s,m,A){const O=r.getRenderTarget();for(let R=0;R<6;R++)r.setRenderTarget(this,R),r.clear(s,m,A);r.setRenderTarget(O)}}const Y7=new ie,FJ=new ie,UJ=new Hn;class Yl{constructor(r=new ie(1,0,0),s=0){this.isPlane=!0,this.normal=r,this.constant=s}set(r,s){return this.normal.copy(r),this.constant=s,this}setComponents(r,s,m,A){return this.normal.set(r,s,m),this.constant=A,this}setFromNormalAndCoplanarPoint(r,s){return this.normal.copy(r),this.constant=-s.dot(this.normal),this}setFromCoplanarPoints(r,s,m){const A=Y7.subVectors(m,s).cross(FJ.subVectors(r,s)).normalize();return this.setFromNormalAndCoplanarPoint(A,r),this}copy(r){return this.normal.copy(r.normal),this.constant=r.constant,this}normalize(){const r=1/this.normal.length();return this.normal.multiplyScalar(r),this.constant*=r,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(r){return this.normal.dot(r)+this.constant}distanceToSphere(r){return this.distanceToPoint(r.center)-r.radius}projectPoint(r,s){return s.copy(r).addScaledVector(this.normal,-this.distanceToPoint(r))}intersectLine(r,s){const m=r.delta(Y7),A=this.normal.dot(m);if(A===0)return this.distanceToPoint(r.start)===0?s.copy(r.start):null;const O=-(r.start.dot(this.normal)+this.constant)/A;return O<0||O>1?null:s.copy(r.start).addScaledVector(m,O)}intersectsLine(r){const s=this.distanceToPoint(r.start),m=this.distanceToPoint(r.end);return s<0&&m>0||m<0&&s>0}intersectsBox(r){return r.intersectsPlane(this)}intersectsSphere(r){return r.intersectsPlane(this)}coplanarPoint(r){return r.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(r,s){const m=s||UJ.getNormalMatrix(r),A=this.coplanarPoint(Y7).applyMatrix4(r),O=this.normal.applyMatrix3(m).normalize();return this.constant=-A.dot(O),this}translate(r){return this.constant-=r.dot(this.normal),this}equals(r){return r.normal.equals(this.normal)&&r.constant===this.constant}clone(){return new this.constructor().copy(this)}}const fu=new cr,vm=new ie;class Yh{constructor(r=new Yl,s=new Yl,m=new Yl,A=new Yl,O=new Yl,R=new Yl){this.planes=[r,s,m,A,O,R]}set(r,s,m,A,O,R){const L=this.planes;return L[0].copy(r),L[1].copy(s),L[2].copy(m),L[3].copy(A),L[4].copy(O),L[5].copy(R),this}copy(r){const s=this.planes;for(let m=0;m<6;m++)s[m].copy(r.planes[m]);return this}setFromProjectionMatrix(r,s=ho){const m=this.planes,A=r.elements,O=A[0],R=A[1],L=A[2],$=A[3],Q=A[4],Y=A[5],nt=A[6],rt=A[7],at=A[8],ft=A[9],Ct=A[10],pt=A[11],ot=A[12],Vt=A[13],Ut=A[14],Ft=A[15];if(m[0].setComponents($-O,rt-Q,pt-at,Ft-ot).normalize(),m[1].setComponents($+O,rt+Q,pt+at,Ft+ot).normalize(),m[2].setComponents($+R,rt+Y,pt+ft,Ft+Vt).normalize(),m[3].setComponents($-R,rt-Y,pt-ft,Ft-Vt).normalize(),m[4].setComponents($-L,rt-nt,pt-Ct,Ft-Ut).normalize(),s===ho)m[5].setComponents($+L,rt+nt,pt+Ct,Ft+Ut).normalize();else if(s===lu)m[5].setComponents(L,nt,Ct,Ut).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+s);return this}intersectsObject(r){if(r.boundingSphere!==void 0)r.boundingSphere===null&&r.computeBoundingSphere(),fu.copy(r.boundingSphere).applyMatrix4(r.matrixWorld);else{const s=r.geometry;s.boundingSphere===null&&s.computeBoundingSphere(),fu.copy(s.boundingSphere).applyMatrix4(r.matrixWorld)}return this.intersectsSphere(fu)}intersectsSprite(r){return fu.center.set(0,0,0),fu.radius=.7071067811865476,fu.applyMatrix4(r.matrixWorld),this.intersectsSphere(fu)}intersectsSphere(r){const s=this.planes,m=r.center,A=-r.radius;for(let O=0;O<6;O++)if(s[O].distanceToPoint(m)<A)return!1;return!0}intersectsBox(r){const s=this.planes;for(let m=0;m<6;m++){const A=s[m];if(vm.x=A.normal.x>0?r.max.x:r.min.x,vm.y=A.normal.y>0?r.max.y:r.min.y,vm.z=A.normal.z>0?r.max.z:r.min.z,A.distanceToPoint(vm)<0)return!1}return!0}containsPoint(r){const s=this.planes;for(let m=0;m<6;m++)if(s[m].distanceToPoint(r)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function Z7(){let x=null,r=!1,s=null,m=null;function A(O,R){s(O,R),m=x.requestAnimationFrame(A)}return{start:function(){r!==!0&&s!==null&&(m=x.requestAnimationFrame(A),r=!0)},stop:function(){x.cancelAnimationFrame(m),r=!1},setAnimationLoop:function(O){s=O},setContext:function(O){x=O}}}function JJ(x){const r=new WeakMap;function s(L,$){const Q=L.array,Y=L.usage,nt=Q.byteLength,rt=x.createBuffer();x.bindBuffer($,rt),x.bufferData($,Q,Y),L.onUploadCallback();let at;if(Q instanceof Float32Array)at=x.FLOAT;else if(Q instanceof Uint16Array)L.isFloat16BufferAttribute?at=x.HALF_FLOAT:at=x.UNSIGNED_SHORT;else if(Q instanceof Int16Array)at=x.SHORT;else if(Q instanceof Uint32Array)at=x.UNSIGNED_INT;else if(Q instanceof Int32Array)at=x.INT;else if(Q instanceof Int8Array)at=x.BYTE;else if(Q instanceof Uint8Array)at=x.UNSIGNED_BYTE;else if(Q instanceof Uint8ClampedArray)at=x.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+Q);return{buffer:rt,type:at,bytesPerElement:Q.BYTES_PER_ELEMENT,version:L.version,size:nt}}function m(L,$,Q){const Y=$.array,nt=$._updateRange,rt=$.updateRanges;if(x.bindBuffer(Q,L),nt.count===-1&&rt.length===0&&x.bufferSubData(Q,0,Y),rt.length!==0){for(let at=0,ft=rt.length;at<ft;at++){const Ct=rt[at];x.bufferSubData(Q,Ct.start*Y.BYTES_PER_ELEMENT,Y,Ct.start,Ct.count)}$.clearUpdateRanges()}nt.count!==-1&&(x.bufferSubData(Q,nt.offset*Y.BYTES_PER_ELEMENT,Y,nt.offset,nt.count),nt.count=-1),$.onUploadCallback()}function A(L){return L.isInterleavedBufferAttribute&&(L=L.data),r.get(L)}function O(L){L.isInterleavedBufferAttribute&&(L=L.data);const $=r.get(L);$&&(x.deleteBuffer($.buffer),r.delete(L))}function R(L,$){if(L.isGLBufferAttribute){const Y=r.get(L);(!Y||Y.version<L.version)&&r.set(L,{buffer:L.buffer,type:L.type,bytesPerElement:L.elementSize,version:L.version});return}L.isInterleavedBufferAttribute&&(L=L.data);const Q=r.get(L);if(Q===void 0)r.set(L,s(L,$));else if(Q.version<L.version){if(Q.size!==L.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");m(Q.buffer,L,$),Q.version=L.version}}return{get:A,remove:O,update:R}}class H1 extends u0{constructor(r=1,s=1,m=1,A=1){super(),this.type="PlaneGeometry",this.parameters={width:r,height:s,widthSegments:m,heightSegments:A};const O=r/2,R=s/2,L=Math.floor(m),$=Math.floor(A),Q=L+1,Y=$+1,nt=r/L,rt=s/$,at=[],ft=[],Ct=[],pt=[];for(let ot=0;ot<Y;ot++){const Vt=ot*rt-R;for(let Ut=0;Ut<Q;Ut++){const Ft=Ut*nt-O;ft.push(Ft,-Vt,0),Ct.push(0,0,1),pt.push(Ut/L),pt.push(1-ot/$)}}for(let ot=0;ot<$;ot++)for(let Vt=0;Vt<L;Vt++){const Ut=Vt+Q*ot,Ft=Vt+Q*(ot+1),Ae=Vt+1+Q*(ot+1),re=Vt+1+Q*ot;at.push(Ut,Ft,re),at.push(Ft,Ae,re)}this.setIndex(at),this.setAttribute("position",new An(ft,3)),this.setAttribute("normal",new An(Ct,3)),this.setAttribute("uv",new An(pt,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new H1(r.width,r.height,r.widthSegments,r.heightSegments)}}var $J=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,GJ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,HJ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,VJ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,QJ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,zJ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,jJ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,WJ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,KJ=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,qJ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,XJ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,YJ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ZJ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,t$=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,e$=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,i$=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,n$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,r$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,a$=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,o$=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,s$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,l$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,c$=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,u$=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,d$=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,h$=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,f$=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,m$=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,p$=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,g$=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,M$="gl_FragColor = linearToOutputTexel( gl_FragColor );",y$=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,A$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,v$=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,b$=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,C$=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,_$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,E$=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,w$=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,O$=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,S$=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,x$=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,T$=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,I$=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,B$=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,R$=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,D$=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,P$=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,k$=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,L$=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,N$=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,F$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,U$=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,J$=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,G$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,H$=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,V$=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Q$=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,z$=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,j$=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,W$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,K$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,q$=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,X$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Y$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Z$=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,tG=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,eG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,iG=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,nG=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,rG=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,aG=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,oG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sG=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,lG=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,cG=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,uG=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,dG=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,hG=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,fG=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,mG=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,pG=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,gG=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,MG=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,yG=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,AG=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,vG=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,bG=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,CG=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,_G=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,EG=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,wG=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,OG=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,SG=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,xG=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,TG=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,IG=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,BG=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,RG=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,DG=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,PG=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,kG=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,LG=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,NG=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,FG=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,UG=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const a0={alphahash_fragment:$J,alphahash_pars_fragment:GJ,alphamap_fragment:HJ,alphamap_pars_fragment:VJ,alphatest_fragment:QJ,alphatest_pars_fragment:zJ,aomap_fragment:jJ,aomap_pars_fragment:WJ,batching_pars_vertex:KJ,batching_vertex:qJ,begin_vertex:XJ,beginnormal_vertex:YJ,bsdfs:ZJ,iridescence_fragment:t$,bumpmap_pars_fragment:e$,clipping_planes_fragment:i$,clipping_planes_pars_fragment:n$,clipping_planes_pars_vertex:r$,clipping_planes_vertex:a$,color_fragment:o$,color_pars_fragment:s$,color_pars_vertex:l$,color_vertex:c$,common:u$,cube_uv_reflection_fragment:d$,defaultnormal_vertex:h$,displacementmap_pars_vertex:f$,displacementmap_vertex:m$,emissivemap_fragment:p$,emissivemap_pars_fragment:g$,colorspace_fragment:M$,colorspace_pars_fragment:y$,envmap_fragment:A$,envmap_common_pars_fragment:v$,envmap_pars_fragment:b$,envmap_pars_vertex:C$,envmap_physical_pars_fragment:D$,envmap_vertex:_$,fog_vertex:E$,fog_pars_vertex:w$,fog_fragment:O$,fog_pars_fragment:S$,gradientmap_pars_fragment:x$,lightmap_pars_fragment:T$,lights_lambert_fragment:I$,lights_lambert_pars_fragment:B$,lights_pars_begin:R$,lights_toon_fragment:P$,lights_toon_pars_fragment:k$,lights_phong_fragment:L$,lights_phong_pars_fragment:N$,lights_physical_fragment:F$,lights_physical_pars_fragment:U$,lights_fragment_begin:J$,lights_fragment_maps:$$,lights_fragment_end:G$,logdepthbuf_fragment:H$,logdepthbuf_pars_fragment:V$,logdepthbuf_pars_vertex:Q$,logdepthbuf_vertex:z$,map_fragment:j$,map_pars_fragment:W$,map_particle_fragment:K$,map_particle_pars_fragment:q$,metalnessmap_fragment:X$,metalnessmap_pars_fragment:Y$,morphinstance_vertex:Z$,morphcolor_vertex:tG,morphnormal_vertex:eG,morphtarget_pars_vertex:iG,morphtarget_vertex:nG,normal_fragment_begin:rG,normal_fragment_maps:aG,normal_pars_fragment:oG,normal_pars_vertex:sG,normal_vertex:lG,normalmap_pars_fragment:cG,clearcoat_normal_fragment_begin:uG,clearcoat_normal_fragment_maps:dG,clearcoat_pars_fragment:hG,iridescence_pars_fragment:fG,opaque_fragment:mG,packing:pG,premultiplied_alpha_fragment:gG,project_vertex:MG,dithering_fragment:yG,dithering_pars_fragment:AG,roughnessmap_fragment:vG,roughnessmap_pars_fragment:bG,shadowmap_pars_fragment:CG,shadowmap_pars_vertex:_G,shadowmap_vertex:EG,shadowmask_pars_fragment:wG,skinbase_vertex:OG,skinning_pars_vertex:SG,skinning_vertex:xG,skinnormal_vertex:TG,specularmap_fragment:IG,specularmap_pars_fragment:BG,tonemapping_fragment:RG,tonemapping_pars_fragment:DG,transmission_fragment:PG,transmission_pars_fragment:kG,uv_pars_fragment:LG,uv_pars_vertex:NG,uv_vertex:FG,worldpos_vertex:UG,background_vert:`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,background_frag:`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,backgroundCube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,backgroundCube_frag:`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cube_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cube_frag:`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,depth_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,depth_frag:`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,distanceRGBA_vert:`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,distanceRGBA_frag:`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,equirect_vert:`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,equirect_frag:`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,linedashed_vert:`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,linedashed_frag:`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,meshbasic_vert:`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,meshbasic_frag:`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshlambert_vert:`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshlambert_frag:`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshmatcap_vert:`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,meshmatcap_frag:`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshnormal_vert:`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,meshnormal_frag:`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,meshphong_vert:`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshphong_frag:`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshphysical_vert:`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,meshphysical_frag:`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,meshtoon_vert:`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,meshtoon_frag:`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,points_vert:`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,points_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,shadow_vert:`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,shadow_frag:`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sprite_vert:`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sprite_frag:`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`},Vi={common:{diffuse:{value:new ln(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Hn},alphaMap:{value:null},alphaMapTransform:{value:new Hn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Hn}},envmap:{envMap:{value:null},envMapRotation:{value:new Hn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Hn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Hn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Hn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Hn},normalScale:{value:new yi(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Hn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Hn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Hn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Hn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ln(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ln(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Hn},alphaTest:{value:0},uvTransform:{value:new Hn}},sprite:{diffuse:{value:new ln(16777215)},opacity:{value:1},center:{value:new yi(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Hn},alphaMap:{value:null},alphaMapTransform:{value:new Hn},alphaTest:{value:0}}},No={basic:{uniforms:pa([Vi.common,Vi.specularmap,Vi.envmap,Vi.aomap,Vi.lightmap,Vi.fog]),vertexShader:a0.meshbasic_vert,fragmentShader:a0.meshbasic_frag},lambert:{uniforms:pa([Vi.common,Vi.specularmap,Vi.envmap,Vi.aomap,Vi.lightmap,Vi.emissivemap,Vi.bumpmap,Vi.normalmap,Vi.displacementmap,Vi.fog,Vi.lights,{emissive:{value:new ln(0)}}]),vertexShader:a0.meshlambert_vert,fragmentShader:a0.meshlambert_frag},phong:{uniforms:pa([Vi.common,Vi.specularmap,Vi.envmap,Vi.aomap,Vi.lightmap,Vi.emissivemap,Vi.bumpmap,Vi.normalmap,Vi.displacementmap,Vi.fog,Vi.lights,{emissive:{value:new ln(0)},specular:{value:new ln(1118481)},shininess:{value:30}}]),vertexShader:a0.meshphong_vert,fragmentShader:a0.meshphong_frag},standard:{uniforms:pa([Vi.common,Vi.envmap,Vi.aomap,Vi.lightmap,Vi.emissivemap,Vi.bumpmap,Vi.normalmap,Vi.displacementmap,Vi.roughnessmap,Vi.metalnessmap,Vi.fog,Vi.lights,{emissive:{value:new ln(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:a0.meshphysical_vert,fragmentShader:a0.meshphysical_frag},toon:{uniforms:pa([Vi.common,Vi.aomap,Vi.lightmap,Vi.emissivemap,Vi.bumpmap,Vi.normalmap,Vi.displacementmap,Vi.gradientmap,Vi.fog,Vi.lights,{emissive:{value:new ln(0)}}]),vertexShader:a0.meshtoon_vert,fragmentShader:a0.meshtoon_frag},matcap:{uniforms:pa([Vi.common,Vi.bumpmap,Vi.normalmap,Vi.displacementmap,Vi.fog,{matcap:{value:null}}]),vertexShader:a0.meshmatcap_vert,fragmentShader:a0.meshmatcap_frag},points:{uniforms:pa([Vi.points,Vi.fog]),vertexShader:a0.points_vert,fragmentShader:a0.points_frag},dashed:{uniforms:pa([Vi.common,Vi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:a0.linedashed_vert,fragmentShader:a0.linedashed_frag},depth:{uniforms:pa([Vi.common,Vi.displacementmap]),vertexShader:a0.depth_vert,fragmentShader:a0.depth_frag},normal:{uniforms:pa([Vi.common,Vi.bumpmap,Vi.normalmap,Vi.displacementmap,{opacity:{value:1}}]),vertexShader:a0.meshnormal_vert,fragmentShader:a0.meshnormal_frag},sprite:{uniforms:pa([Vi.sprite,Vi.fog]),vertexShader:a0.sprite_vert,fragmentShader:a0.sprite_frag},background:{uniforms:{uvTransform:{value:new Hn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:a0.background_vert,fragmentShader:a0.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Hn}},vertexShader:a0.backgroundCube_vert,fragmentShader:a0.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:a0.cube_vert,fragmentShader:a0.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:a0.equirect_vert,fragmentShader:a0.equirect_frag},distanceRGBA:{uniforms:pa([Vi.common,Vi.displacementmap,{referencePosition:{value:new ie},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:a0.distanceRGBA_vert,fragmentShader:a0.distanceRGBA_frag},shadow:{uniforms:pa([Vi.lights,Vi.fog,{color:{value:new ln(0)},opacity:{value:1}}]),vertexShader:a0.shadow_vert,fragmentShader:a0.shadow_frag}};No.physical={uniforms:pa([No.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Hn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Hn},clearcoatNormalScale:{value:new yi(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Hn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Hn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Hn},sheen:{value:0},sheenColor:{value:new ln(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Hn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Hn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Hn},transmissionSamplerSize:{value:new yi},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Hn},attenuationDistance:{value:0},attenuationColor:{value:new ln(0)},specularColor:{value:new ln(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Hn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Hn},anisotropyVector:{value:new yi},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Hn}}]),vertexShader:a0.meshphysical_vert,fragmentShader:a0.meshphysical_frag};const bm={r:0,b:0,g:0},mu=new ja,JG=new gn;function $G(x,r,s,m,A,O,R){const L=new ln(0);let $=O===!0?0:1,Q,Y,nt=null,rt=0,at=null;function ft(Vt){let Ut=Vt.isScene===!0?Vt.background:null;return Ut&&Ut.isTexture&&(Ut=(Vt.backgroundBlurriness>0?s:r).get(Ut)),Ut}function Ct(Vt){let Ut=!1;const Ft=ft(Vt);Ft===null?ot(L,$):Ft&&Ft.isColor&&(ot(Ft,1),Ut=!0);const Ae=x.xr.getEnvironmentBlendMode();Ae==="additive"?m.buffers.color.setClear(0,0,0,1,R):Ae==="alpha-blend"&&m.buffers.color.setClear(0,0,0,0,R),(x.autoClear||Ut)&&x.clear(x.autoClearColor,x.autoClearDepth,x.autoClearStencil)}function pt(Vt,Ut){const Ft=ft(Ut);Ft&&(Ft.isCubeTexture||Ft.mapping===Qt)?(Y===void 0&&(Y=new nr(new hu(1e4,1e4,1e4),new Lo({name:"BackgroundCubeMaterial",uniforms:J1(No.backgroundCube.uniforms),vertexShader:No.backgroundCube.vertexShader,fragmentShader:No.backgroundCube.fragmentShader,side:S,depthTest:!1,depthWrite:!1,fog:!1})),Y.geometry.deleteAttribute("normal"),Y.geometry.deleteAttribute("uv"),Y.onBeforeRender=function(Ae,re,de){this.matrixWorld.copyPosition(de.matrixWorld)},Object.defineProperty(Y.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),A.update(Y)),mu.copy(Ut.backgroundRotation),mu.x*=-1,mu.y*=-1,mu.z*=-1,Ft.isCubeTexture&&Ft.isRenderTargetTexture===!1&&(mu.y*=-1,mu.z*=-1),Y.material.uniforms.envMap.value=Ft,Y.material.uniforms.flipEnvMap.value=Ft.isCubeTexture&&Ft.isRenderTargetTexture===!1?-1:1,Y.material.uniforms.backgroundBlurriness.value=Ut.backgroundBlurriness,Y.material.uniforms.backgroundIntensity.value=Ut.backgroundIntensity,Y.material.uniforms.backgroundRotation.value.setFromMatrix4(JG.makeRotationFromEuler(mu)),Y.material.toneMapped=G0.getTransfer(Ft.colorSpace)!==a9,(nt!==Ft||rt!==Ft.version||at!==x.toneMapping)&&(Y.material.needsUpdate=!0,nt=Ft,rt=Ft.version,at=x.toneMapping),Y.layers.enableAll(),Vt.unshift(Y,Y.geometry,Y.material,0,0,null)):Ft&&Ft.isTexture&&(Q===void 0&&(Q=new nr(new H1(2,2),new Lo({name:"BackgroundMaterial",uniforms:J1(No.background.uniforms),vertexShader:No.background.vertexShader,fragmentShader:No.background.fragmentShader,side:E,depthTest:!1,depthWrite:!1,fog:!1})),Q.geometry.deleteAttribute("normal"),Object.defineProperty(Q.material,"map",{get:function(){return this.uniforms.t2D.value}}),A.update(Q)),Q.material.uniforms.t2D.value=Ft,Q.material.uniforms.backgroundIntensity.value=Ut.backgroundIntensity,Q.material.toneMapped=G0.getTransfer(Ft.colorSpace)!==a9,Ft.matrixAutoUpdate===!0&&Ft.updateMatrix(),Q.material.uniforms.uvTransform.value.copy(Ft.matrix),(nt!==Ft||rt!==Ft.version||at!==x.toneMapping)&&(Q.material.needsUpdate=!0,nt=Ft,rt=Ft.version,at=x.toneMapping),Q.layers.enableAll(),Vt.unshift(Q,Q.geometry,Q.material,0,0,null))}function ot(Vt,Ut){Vt.getRGB(bm,Db(x)),m.buffers.color.setClear(bm.r,bm.g,bm.b,Ut,R)}return{getClearColor:function(){return L},setClearColor:function(Vt,Ut=1){L.set(Vt),$=Ut,ot(L,$)},getClearAlpha:function(){return $},setClearAlpha:function(Vt){$=Vt,ot(L,$)},render:Ct,addToRenderList:pt}}function GG(x,r){const s=x.getParameter(x.MAX_VERTEX_ATTRIBS),m={},A=rt(null);let O=A,R=!1;function L(Wt,ye,Ie,Te,De){let ti=!1;const gi=nt(Te,Ie,ye);O!==gi&&(O=gi,Q(O.object)),ti=at(Wt,Te,Ie,De),ti&&ft(Wt,Te,Ie,De),De!==null&&r.update(De,x.ELEMENT_ARRAY_BUFFER),(ti||R)&&(R=!1,Ft(Wt,ye,Ie,Te),De!==null&&x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,r.get(De).buffer))}function $(){return x.createVertexArray()}function Q(Wt){return x.bindVertexArray(Wt)}function Y(Wt){return x.deleteVertexArray(Wt)}function nt(Wt,ye,Ie){const Te=Ie.wireframe===!0;let De=m[Wt.id];De===void 0&&(De={},m[Wt.id]=De);let ti=De[ye.id];ti===void 0&&(ti={},De[ye.id]=ti);let gi=ti[Te];return gi===void 0&&(gi=rt($()),ti[Te]=gi),gi}function rt(Wt){const ye=[],Ie=[],Te=[];for(let De=0;De<s;De++)ye[De]=0,Ie[De]=0,Te[De]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ye,enabledAttributes:Ie,attributeDivisors:Te,object:Wt,attributes:{},index:null}}function at(Wt,ye,Ie,Te){const De=O.attributes,ti=ye.attributes;let gi=0;const Ni=Ie.getAttributes();for(const ii in Ni)if(Ni[ii].location>=0){const Pi=De[ii];let fn=ti[ii];if(fn===void 0&&(ii==="instanceMatrix"&&Wt.instanceMatrix&&(fn=Wt.instanceMatrix),ii==="instanceColor"&&Wt.instanceColor&&(fn=Wt.instanceColor)),Pi===void 0||Pi.attribute!==fn||fn&&Pi.data!==fn.data)return!0;gi++}return O.attributesNum!==gi||O.index!==Te}function ft(Wt,ye,Ie,Te){const De={},ti=ye.attributes;let gi=0;const Ni=Ie.getAttributes();for(const ii in Ni)if(Ni[ii].location>=0){let Pi=ti[ii];Pi===void 0&&(ii==="instanceMatrix"&&Wt.instanceMatrix&&(Pi=Wt.instanceMatrix),ii==="instanceColor"&&Wt.instanceColor&&(Pi=Wt.instanceColor));const fn={};fn.attribute=Pi,Pi&&Pi.data&&(fn.data=Pi.data),De[ii]=fn,gi++}O.attributes=De,O.attributesNum=gi,O.index=Te}function Ct(){const Wt=O.newAttributes;for(let ye=0,Ie=Wt.length;ye<Ie;ye++)Wt[ye]=0}function pt(Wt){ot(Wt,0)}function ot(Wt,ye){const Ie=O.newAttributes,Te=O.enabledAttributes,De=O.attributeDivisors;Ie[Wt]=1,Te[Wt]===0&&(x.enableVertexAttribArray(Wt),Te[Wt]=1),De[Wt]!==ye&&(x.vertexAttribDivisor(Wt,ye),De[Wt]=ye)}function Vt(){const Wt=O.newAttributes,ye=O.enabledAttributes;for(let Ie=0,Te=ye.length;Ie<Te;Ie++)ye[Ie]!==Wt[Ie]&&(x.disableVertexAttribArray(Ie),ye[Ie]=0)}function Ut(Wt,ye,Ie,Te,De,ti,gi){gi===!0?x.vertexAttribIPointer(Wt,ye,Ie,De,ti):x.vertexAttribPointer(Wt,ye,Ie,Te,De,ti)}function Ft(Wt,ye,Ie,Te){Ct();const De=Te.attributes,ti=Ie.getAttributes(),gi=ye.defaultAttributeValues;for(const Ni in ti){const ii=ti[Ni];if(ii.location>=0){let Ri=De[Ni];if(Ri===void 0&&(Ni==="instanceMatrix"&&Wt.instanceMatrix&&(Ri=Wt.instanceMatrix),Ni==="instanceColor"&&Wt.instanceColor&&(Ri=Wt.instanceColor)),Ri!==void 0){const Pi=Ri.normalized,fn=Ri.itemSize,d0=r.get(Ri);if(d0===void 0)continue;const H0=d0.buffer,M9=d0.type,F0=d0.bytesPerElement,o9=M9===x.INT||M9===x.UNSIGNED_INT||Ri.gpuType===I0;if(Ri.isInterleavedBufferAttribute){const Mn=Ri.data,vi=Mn.stride,Ui=Ri.offset;if(Mn.isInstancedInterleavedBuffer){for(let Qi=0;Qi<ii.locationSize;Qi++)ot(ii.location+Qi,Mn.meshPerAttribute);Wt.isInstancedMesh!==!0&&Te._maxInstanceCount===void 0&&(Te._maxInstanceCount=Mn.meshPerAttribute*Mn.count)}else for(let Qi=0;Qi<ii.locationSize;Qi++)pt(ii.location+Qi);x.bindBuffer(x.ARRAY_BUFFER,H0);for(let Qi=0;Qi<ii.locationSize;Qi++)Ut(ii.location+Qi,fn/ii.locationSize,M9,Pi,vi*F0,(Ui+fn/ii.locationSize*Qi)*F0,o9)}else{if(Ri.isInstancedBufferAttribute){for(let Mn=0;Mn<ii.locationSize;Mn++)ot(ii.location+Mn,Ri.meshPerAttribute);Wt.isInstancedMesh!==!0&&Te._maxInstanceCount===void 0&&(Te._maxInstanceCount=Ri.meshPerAttribute*Ri.count)}else for(let Mn=0;Mn<ii.locationSize;Mn++)pt(ii.location+Mn);x.bindBuffer(x.ARRAY_BUFFER,H0);for(let Mn=0;Mn<ii.locationSize;Mn++)Ut(ii.location+Mn,fn/ii.locationSize,M9,Pi,fn*F0,fn/ii.locationSize*Mn*F0,o9)}}else if(gi!==void 0){const Pi=gi[Ni];if(Pi!==void 0)switch(Pi.length){case 2:x.vertexAttrib2fv(ii.location,Pi);break;case 3:x.vertexAttrib3fv(ii.location,Pi);break;case 4:x.vertexAttrib4fv(ii.location,Pi);break;default:x.vertexAttrib1fv(ii.location,Pi)}}}}Vt()}function Ae(){ge();for(const Wt in m){const ye=m[Wt];for(const Ie in ye){const Te=ye[Ie];for(const De in Te)Y(Te[De].object),delete Te[De];delete ye[Ie]}delete m[Wt]}}function re(Wt){if(m[Wt.id]===void 0)return;const ye=m[Wt.id];for(const Ie in ye){const Te=ye[Ie];for(const De in Te)Y(Te[De].object),delete Te[De];delete ye[Ie]}delete m[Wt.id]}function de(Wt){for(const ye in m){const Ie=m[ye];if(Ie[Wt.id]===void 0)continue;const Te=Ie[Wt.id];for(const De in Te)Y(Te[De].object),delete Te[De];delete Ie[Wt.id]}}function ge(){Yt(),R=!0,O!==A&&(O=A,Q(O.object))}function Yt(){A.geometry=null,A.program=null,A.wireframe=!1}return{setup:L,reset:ge,resetDefaultState:Yt,dispose:Ae,releaseStatesOfGeometry:re,releaseStatesOfProgram:de,initAttributes:Ct,enableAttribute:pt,disableUnusedAttributes:Vt}}function HG(x,r,s){let m;function A(Q){m=Q}function O(Q,Y){x.drawArrays(m,Q,Y),s.update(Y,m,1)}function R(Q,Y,nt){nt!==0&&(x.drawArraysInstanced(m,Q,Y,nt),s.update(Y,m,nt))}function L(Q,Y,nt){if(nt===0)return;const rt=r.get("WEBGL_multi_draw");if(rt===null)for(let at=0;at<nt;at++)this.render(Q[at],Y[at]);else{rt.multiDrawArraysWEBGL(m,Q,0,Y,0,nt);let at=0;for(let ft=0;ft<nt;ft++)at+=Y[ft];s.update(at,m,1)}}function $(Q,Y,nt,rt){if(nt===0)return;const at=r.get("WEBGL_multi_draw");if(at===null)for(let ft=0;ft<Q.length;ft++)R(Q[ft],Y[ft],rt[ft]);else{at.multiDrawArraysInstancedWEBGL(m,Q,0,Y,0,rt,0,nt);let ft=0;for(let Ct=0;Ct<nt;Ct++)ft+=Y[Ct];for(let Ct=0;Ct<rt.length;Ct++)s.update(ft,m,rt[Ct])}}this.setMode=A,this.render=O,this.renderInstances=R,this.renderMultiDraw=L,this.renderMultiDrawInstances=$}function VG(x,r,s,m){let A;function O(){if(A!==void 0)return A;if(r.has("EXT_texture_filter_anisotropic")===!0){const re=r.get("EXT_texture_filter_anisotropic");A=x.getParameter(re.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else A=0;return A}function R(re){return!(re!==le&&m.convert(re)!==x.getParameter(x.IMPLEMENTATION_COLOR_READ_FORMAT))}function L(re){const de=re===Hi&&(r.has("EXT_color_buffer_half_float")||r.has("EXT_color_buffer_float"));return!(re!==ni&&m.convert(re)!==x.getParameter(x.IMPLEMENTATION_COLOR_READ_TYPE)&&re!==ai&&!de)}function $(re){if(re==="highp"){if(x.getShaderPrecisionFormat(x.VERTEX_SHADER,x.HIGH_FLOAT).precision>0&&x.getShaderPrecisionFormat(x.FRAGMENT_SHADER,x.HIGH_FLOAT).precision>0)return"highp";re="mediump"}return re==="mediump"&&x.getShaderPrecisionFormat(x.VERTEX_SHADER,x.MEDIUM_FLOAT).precision>0&&x.getShaderPrecisionFormat(x.FRAGMENT_SHADER,x.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let Q=s.precision!==void 0?s.precision:"highp";const Y=$(Q);Y!==Q&&(console.warn("THREE.WebGLRenderer:",Q,"not supported, using",Y,"instead."),Q=Y);const nt=s.logarithmicDepthBuffer===!0,rt=x.getParameter(x.MAX_TEXTURE_IMAGE_UNITS),at=x.getParameter(x.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ft=x.getParameter(x.MAX_TEXTURE_SIZE),Ct=x.getParameter(x.MAX_CUBE_MAP_TEXTURE_SIZE),pt=x.getParameter(x.MAX_VERTEX_ATTRIBS),ot=x.getParameter(x.MAX_VERTEX_UNIFORM_VECTORS),Vt=x.getParameter(x.MAX_VARYING_VECTORS),Ut=x.getParameter(x.MAX_FRAGMENT_UNIFORM_VECTORS),Ft=at>0,Ae=x.getParameter(x.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:O,getMaxPrecision:$,textureFormatReadable:R,textureTypeReadable:L,precision:Q,logarithmicDepthBuffer:nt,maxTextures:rt,maxVertexTextures:at,maxTextureSize:ft,maxCubemapSize:Ct,maxAttributes:pt,maxVertexUniforms:ot,maxVaryings:Vt,maxFragmentUniforms:Ut,vertexTextures:Ft,maxSamples:Ae}}function QG(x){const r=this;let s=null,m=0,A=!1,O=!1;const R=new Yl,L=new Hn,$={value:null,needsUpdate:!1};this.uniform=$,this.numPlanes=0,this.numIntersection=0,this.init=function(nt,rt){const at=nt.length!==0||rt||m!==0||A;return A=rt,m=nt.length,at},this.beginShadows=function(){O=!0,Y(null)},this.endShadows=function(){O=!1},this.setGlobalState=function(nt,rt){s=Y(nt,rt,0)},this.setState=function(nt,rt,at){const ft=nt.clippingPlanes,Ct=nt.clipIntersection,pt=nt.clipShadows,ot=x.get(nt);if(!A||ft===null||ft.length===0||O&&!pt)O?Y(null):Q();else{const Vt=O?0:m,Ut=Vt*4;let Ft=ot.clippingState||null;$.value=Ft,Ft=Y(ft,rt,Ut,at);for(let Ae=0;Ae!==Ut;++Ae)Ft[Ae]=s[Ae];ot.clippingState=Ft,this.numIntersection=Ct?this.numPlanes:0,this.numPlanes+=Vt}};function Q(){$.value!==s&&($.value=s,$.needsUpdate=m>0),r.numPlanes=m,r.numIntersection=0}function Y(nt,rt,at,ft){const Ct=nt!==null?nt.length:0;let pt=null;if(Ct!==0){if(pt=$.value,ft!==!0||pt===null){const ot=at+Ct*4,Vt=rt.matrixWorldInverse;L.getNormalMatrix(Vt),(pt===null||pt.length<ot)&&(pt=new Float32Array(ot));for(let Ut=0,Ft=at;Ut!==Ct;++Ut,Ft+=4)R.copy(nt[Ut]).applyMatrix4(Vt,L),R.normal.toArray(pt,Ft),pt[Ft+3]=R.constant}$.value=pt,$.needsUpdate=!0}return r.numPlanes=Ct,r.numIntersection=0,pt}}function zG(x){let r=new WeakMap;function s(R,L){return L===tt?R.mapping=ut:L===Bt&&(R.mapping=X),R}function m(R){if(R&&R.isTexture){const L=R.mapping;if(L===tt||L===Bt)if(r.has(R)){const $=r.get(R).texture;return s($,R.mapping)}else{const $=R.image;if($&&$.height>0){const Q=new Fb($.height);return Q.fromEquirectangularTexture(x,R),r.set(R,Q),R.addEventListener("dispose",A),s(Q.texture,R.mapping)}else return null}}return R}function A(R){const L=R.target;L.removeEventListener("dispose",A);const $=r.get(L);$!==void 0&&(r.delete(L),$.dispose())}function O(){r=new WeakMap}return{get:m,dispose:O}}class Cm extends Am{constructor(r=-1,s=1,m=1,A=-1,O=.1,R=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=r,this.right=s,this.top=m,this.bottom=A,this.near=O,this.far=R,this.updateProjectionMatrix()}copy(r,s){return super.copy(r,s),this.left=r.left,this.right=r.right,this.top=r.top,this.bottom=r.bottom,this.near=r.near,this.far=r.far,this.zoom=r.zoom,this.view=r.view===null?null:Object.assign({},r.view),this}setViewOffset(r,s,m,A,O,R){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=s,this.view.offsetX=m,this.view.offsetY=A,this.view.width=O,this.view.height=R,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const r=(this.right-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),m=(this.right+this.left)/2,A=(this.top+this.bottom)/2;let O=m-r,R=m+r,L=A+s,$=A-s;if(this.view!==null&&this.view.enabled){const Q=(this.right-this.left)/this.view.fullWidth/this.zoom,Y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;O+=Q*this.view.offsetX,R=O+Q*this.view.width,L-=Y*this.view.offsetY,$=L-Y*this.view.height}this.projectionMatrix.makeOrthographic(O,R,L,$,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(r){const s=super.toJSON(r);return s.object.zoom=this.zoom,s.object.left=this.left,s.object.right=this.right,s.object.top=this.top,s.object.bottom=this.bottom,s.object.near=this.near,s.object.far=this.far,this.view!==null&&(s.object.view=Object.assign({},this.view)),s}}const V1=4,Ub=[.125,.215,.35,.446,.526,.582],pu=20,tp=new Cm,Jb=new ln;let ep=null,ip=0,np=0,rp=!1;const gu=(1+Math.sqrt(5))/2,Q1=1/gu,$b=[new ie(-gu,Q1,0),new ie(gu,Q1,0),new ie(-Q1,0,gu),new ie(Q1,0,gu),new ie(0,gu,-Q1),new ie(0,gu,Q1),new ie(-1,1,-1),new ie(1,1,-1),new ie(-1,1,1),new ie(1,1,1)];class ap{constructor(r){this._renderer=r,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(r,s=0,m=.1,A=100){ep=this._renderer.getRenderTarget(),ip=this._renderer.getActiveCubeFace(),np=this._renderer.getActiveMipmapLevel(),rp=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const O=this._allocateTargets();return O.depthBuffer=!0,this._sceneToCubeUV(r,m,A,O),s>0&&this._blur(O,0,0,s),this._applyPMREM(O),this._cleanup(O),O}fromEquirectangular(r,s=null){return this._fromTexture(r,s)}fromCubemap(r,s=null){return this._fromTexture(r,s)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Vb(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Hb(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(r){this._lodMax=Math.floor(Math.log2(r)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let r=0;r<this._lodPlanes.length;r++)this._lodPlanes[r].dispose()}_cleanup(r){this._renderer.setRenderTarget(ep,ip,np),this._renderer.xr.enabled=rp,r.scissorTest=!1,_m(r,0,0,r.width,r.height)}_fromTexture(r,s){r.mapping===ut||r.mapping===X?this._setSize(r.image.length===0?16:r.image[0].width||r.image[0].image.width):this._setSize(r.image.width/4),ep=this._renderer.getRenderTarget(),ip=this._renderer.getActiveCubeFace(),np=this._renderer.getActiveMipmapLevel(),rp=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const m=s||this._allocateTargets();return this._textureToCubeUV(r,m),this._applyPMREM(m),this._cleanup(m),m}_allocateTargets(){const r=3*Math.max(this._cubeSize,112),s=4*this._cubeSize,m={magFilter:Ve,minFilter:Ve,generateMipmaps:!1,type:Hi,format:le,colorSpace:Po,depthBuffer:!1},A=Gb(r,s,m);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==r||this._pingPongRenderTarget.height!==s){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Gb(r,s,m);const{_lodMax:O}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=jG(O)),this._blurMaterial=WG(O,r,s)}return A}_compileMaterial(r){const s=new nr(this._lodPlanes[0],r);this._renderer.compile(s,tp)}_sceneToCubeUV(r,s,m,A){const L=new dr(90,1,s,m),$=[1,-1,1,1,1,1],Q=[1,1,1,-1,-1,-1],Y=this._renderer,nt=Y.autoClear,rt=Y.toneMapping;Y.getClearColor(Jb),Y.toneMapping=ri,Y.autoClear=!1;const at=new ql({name:"PMREM.Background",side:S,depthWrite:!1,depthTest:!1}),ft=new nr(new hu,at);let Ct=!1;const pt=r.background;pt?pt.isColor&&(at.color.copy(pt),r.background=null,Ct=!0):(at.color.copy(Jb),Ct=!0);for(let ot=0;ot<6;ot++){const Vt=ot%3;Vt===0?(L.up.set(0,$[ot],0),L.lookAt(Q[ot],0,0)):Vt===1?(L.up.set(0,0,$[ot]),L.lookAt(0,Q[ot],0)):(L.up.set(0,$[ot],0),L.lookAt(0,0,Q[ot]));const Ut=this._cubeSize;_m(A,Vt*Ut,ot>2?Ut:0,Ut,Ut),Y.setRenderTarget(A),Ct&&Y.render(ft,L),Y.render(r,L)}ft.geometry.dispose(),ft.material.dispose(),Y.toneMapping=rt,Y.autoClear=nt,r.background=pt}_textureToCubeUV(r,s){const m=this._renderer,A=r.mapping===ut||r.mapping===X;A?(this._cubemapMaterial===null&&(this._cubemapMaterial=Vb()),this._cubemapMaterial.uniforms.flipEnvMap.value=r.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Hb());const O=A?this._cubemapMaterial:this._equirectMaterial,R=new nr(this._lodPlanes[0],O),L=O.uniforms;L.envMap.value=r;const $=this._cubeSize;_m(s,0,0,3*$,2*$),m.setRenderTarget(s),m.render(R,tp)}_applyPMREM(r){const s=this._renderer,m=s.autoClear;s.autoClear=!1;const A=this._lodPlanes.length;for(let O=1;O<A;O++){const R=Math.sqrt(this._sigmas[O]*this._sigmas[O]-this._sigmas[O-1]*this._sigmas[O-1]),L=$b[(A-O-1)%$b.length];this._blur(r,O-1,O,R,L)}s.autoClear=m}_blur(r,s,m,A,O){const R=this._pingPongRenderTarget;this._halfBlur(r,R,s,m,A,"latitudinal",O),this._halfBlur(R,r,m,m,A,"longitudinal",O)}_halfBlur(r,s,m,A,O,R,L){const $=this._renderer,Q=this._blurMaterial;R!=="latitudinal"&&R!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const Y=3,nt=new nr(this._lodPlanes[A],Q),rt=Q.uniforms,at=this._sizeLods[m]-1,ft=isFinite(O)?Math.PI/(2*at):2*Math.PI/(2*pu-1),Ct=O/ft,pt=isFinite(O)?1+Math.floor(Y*Ct):pu;pt>pu&&console.warn(`sigmaRadians, ${O}, is too large and will clip, as it requested ${pt} samples when the maximum is set to ${pu}`);const ot=[];let Vt=0;for(let de=0;de<pu;++de){const ge=de/Ct,Yt=Math.exp(-ge*ge/2);ot.push(Yt),de===0?Vt+=Yt:de<pt&&(Vt+=2*Yt)}for(let de=0;de<ot.length;de++)ot[de]=ot[de]/Vt;rt.envMap.value=r.texture,rt.samples.value=pt,rt.weights.value=ot,rt.latitudinal.value=R==="latitudinal",L&&(rt.poleAxis.value=L);const{_lodMax:Ut}=this;rt.dTheta.value=ft,rt.mipInt.value=Ut-m;const Ft=this._sizeLods[A],Ae=3*Ft*(A>Ut-V1?A-Ut+V1:0),re=4*(this._cubeSize-Ft);_m(s,Ae,re,3*Ft,2*Ft),$.setRenderTarget(s),$.render(nt,tp)}}function jG(x){const r=[],s=[],m=[];let A=x;const O=x-V1+1+Ub.length;for(let R=0;R<O;R++){const L=Math.pow(2,A);s.push(L);let $=1/L;R>x-V1?$=Ub[R-x+V1-1]:R===0&&($=0),m.push($);const Q=1/(L-2),Y=-Q,nt=1+Q,rt=[Y,Y,nt,Y,nt,nt,Y,Y,nt,nt,Y,nt],at=6,ft=6,Ct=3,pt=2,ot=1,Vt=new Float32Array(Ct*ft*at),Ut=new Float32Array(pt*ft*at),Ft=new Float32Array(ot*ft*at);for(let re=0;re<at;re++){const de=re%3*2/3-1,ge=re>2?0:-1,Yt=[de,ge,0,de+2/3,ge,0,de+2/3,ge+1,0,de,ge,0,de+2/3,ge+1,0,de,ge+1,0];Vt.set(Yt,Ct*ft*re),Ut.set(rt,pt*ft*re);const Wt=[re,re,re,re,re,re];Ft.set(Wt,ot*ft*re)}const Ae=new u0;Ae.setAttribute("position",new Y0(Vt,Ct)),Ae.setAttribute("uv",new Y0(Ut,pt)),Ae.setAttribute("faceIndex",new Y0(Ft,ot)),r.push(Ae),A>V1&&A--}return{lodPlanes:r,sizeLods:s,sigmas:m}}function Gb(x,r,s){const m=new Sa(x,r,s);return m.texture.mapping=Qt,m.texture.name="PMREM.cubeUv",m.scissorTest=!0,m}function _m(x,r,s,m,A){x.viewport.set(r,s,m,A),x.scissor.set(r,s,m,A)}function WG(x,r,s){const m=new Float32Array(pu),A=new ie(0,1,0);return new Lo({name:"SphericalGaussianBlur",defines:{n:pu,CUBEUV_TEXEL_WIDTH:1/r,CUBEUV_TEXEL_HEIGHT:1/s,CUBEUV_MAX_MIP:`${x}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:m},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:A}},vertexShader:op(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:T,depthTest:!1,depthWrite:!1})}function Hb(){return new Lo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:op(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:T,depthTest:!1,depthWrite:!1})}function Vb(){return new Lo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:op(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:T,depthTest:!1,depthWrite:!1})}function op(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function KG(x){let r=new WeakMap,s=null;function m(L){if(L&&L.isTexture){const $=L.mapping,Q=$===tt||$===Bt,Y=$===ut||$===X;if(Q||Y){let nt=r.get(L);const rt=nt!==void 0?nt.texture.pmremVersion:0;if(L.isRenderTargetTexture&&L.pmremVersion!==rt)return s===null&&(s=new ap(x)),nt=Q?s.fromEquirectangular(L,nt):s.fromCubemap(L,nt),nt.texture.pmremVersion=L.pmremVersion,r.set(L,nt),nt.texture;if(nt!==void 0)return nt.texture;{const at=L.image;return Q&&at&&at.height>0||Y&&at&&A(at)?(s===null&&(s=new ap(x)),nt=Q?s.fromEquirectangular(L):s.fromCubemap(L),nt.texture.pmremVersion=L.pmremVersion,r.set(L,nt),L.addEventListener("dispose",O),nt.texture):null}}}return L}function A(L){let $=0;const Q=6;for(let Y=0;Y<Q;Y++)L[Y]!==void 0&&$++;return $===Q}function O(L){const $=L.target;$.removeEventListener("dispose",O);const Q=r.get($);Q!==void 0&&(r.delete($),Q.dispose())}function R(){r=new WeakMap,s!==null&&(s.dispose(),s=null)}return{get:m,dispose:R}}function qG(x){const r={};function s(m){if(r[m]!==void 0)return r[m];let A;switch(m){case"WEBGL_depth_texture":A=x.getExtension("WEBGL_depth_texture")||x.getExtension("MOZ_WEBGL_depth_texture")||x.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":A=x.getExtension("EXT_texture_filter_anisotropic")||x.getExtension("MOZ_EXT_texture_filter_anisotropic")||x.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":A=x.getExtension("WEBGL_compressed_texture_s3tc")||x.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||x.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":A=x.getExtension("WEBGL_compressed_texture_pvrtc")||x.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:A=x.getExtension(m)}return r[m]=A,A}return{has:function(m){return s(m)!==null},init:function(){s("EXT_color_buffer_float"),s("WEBGL_clip_cull_distance"),s("OES_texture_float_linear"),s("EXT_color_buffer_half_float"),s("WEBGL_multisampled_render_to_texture"),s("WEBGL_render_shared_exponent")},get:function(m){const A=s(m);return A===null&&console.warn("THREE.WebGLRenderer: "+m+" extension not supported."),A}}}function XG(x,r,s,m){const A={},O=new WeakMap;function R(nt){const rt=nt.target;rt.index!==null&&r.remove(rt.index);for(const ft in rt.attributes)r.remove(rt.attributes[ft]);for(const ft in rt.morphAttributes){const Ct=rt.morphAttributes[ft];for(let pt=0,ot=Ct.length;pt<ot;pt++)r.remove(Ct[pt])}rt.removeEventListener("dispose",R),delete A[rt.id];const at=O.get(rt);at&&(r.remove(at),O.delete(rt)),m.releaseStatesOfGeometry(rt),rt.isInstancedBufferGeometry===!0&&delete rt._maxInstanceCount,s.memory.geometries--}function L(nt,rt){return A[rt.id]===!0||(rt.addEventListener("dispose",R),A[rt.id]=!0,s.memory.geometries++),rt}function $(nt){const rt=nt.attributes;for(const ft in rt)r.update(rt[ft],x.ARRAY_BUFFER);const at=nt.morphAttributes;for(const ft in at){const Ct=at[ft];for(let pt=0,ot=Ct.length;pt<ot;pt++)r.update(Ct[pt],x.ARRAY_BUFFER)}}function Q(nt){const rt=[],at=nt.index,ft=nt.attributes.position;let Ct=0;if(at!==null){const Vt=at.array;Ct=at.version;for(let Ut=0,Ft=Vt.length;Ut<Ft;Ut+=3){const Ae=Vt[Ut+0],re=Vt[Ut+1],de=Vt[Ut+2];rt.push(Ae,re,re,de,de,Ae)}}else if(ft!==void 0){const Vt=ft.array;Ct=ft.version;for(let Ut=0,Ft=Vt.length/3-1;Ut<Ft;Ut+=3){const Ae=Ut+0,re=Ut+1,de=Ut+2;rt.push(Ae,re,re,de,de,Ae)}}else return;const pt=new(Y3(rt)?K7:W7)(rt,1);pt.version=Ct;const ot=O.get(nt);ot&&r.remove(ot),O.set(nt,pt)}function Y(nt){const rt=O.get(nt);if(rt){const at=nt.index;at!==null&&rt.version<at.version&&Q(nt)}else Q(nt);return O.get(nt)}return{get:L,update:$,getWireframeAttribute:Y}}function YG(x,r,s){let m;function A(rt){m=rt}let O,R;function L(rt){O=rt.type,R=rt.bytesPerElement}function $(rt,at){x.drawElements(m,at,O,rt*R),s.update(at,m,1)}function Q(rt,at,ft){ft!==0&&(x.drawElementsInstanced(m,at,O,rt*R,ft),s.update(at,m,ft))}function Y(rt,at,ft){if(ft===0)return;const Ct=r.get("WEBGL_multi_draw");if(Ct===null)for(let pt=0;pt<ft;pt++)this.render(rt[pt]/R,at[pt]);else{Ct.multiDrawElementsWEBGL(m,at,0,O,rt,0,ft);let pt=0;for(let ot=0;ot<ft;ot++)pt+=at[ot];s.update(pt,m,1)}}function nt(rt,at,ft,Ct){if(ft===0)return;const pt=r.get("WEBGL_multi_draw");if(pt===null)for(let ot=0;ot<rt.length;ot++)Q(rt[ot]/R,at[ot],Ct[ot]);else{pt.multiDrawElementsInstancedWEBGL(m,at,0,O,rt,0,Ct,0,ft);let ot=0;for(let Vt=0;Vt<ft;Vt++)ot+=at[Vt];for(let Vt=0;Vt<Ct.length;Vt++)s.update(ot,m,Ct[Vt])}}this.setMode=A,this.setIndex=L,this.render=$,this.renderInstances=Q,this.renderMultiDraw=Y,this.renderMultiDrawInstances=nt}function ZG(x){const r={geometries:0,textures:0},s={frame:0,calls:0,triangles:0,points:0,lines:0};function m(O,R,L){switch(s.calls++,R){case x.TRIANGLES:s.triangles+=L*(O/3);break;case x.LINES:s.lines+=L*(O/2);break;case x.LINE_STRIP:s.lines+=L*(O-1);break;case x.LINE_LOOP:s.lines+=L*O;break;case x.POINTS:s.points+=L*O;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",R);break}}function A(){s.calls=0,s.triangles=0,s.points=0,s.lines=0}return{memory:r,render:s,programs:null,autoReset:!0,reset:A,update:m}}function tH(x,r,s){const m=new WeakMap,A=new D0;function O(R,L,$){const Q=R.morphTargetInfluences,Y=L.morphAttributes.position||L.morphAttributes.normal||L.morphAttributes.color,nt=Y!==void 0?Y.length:0;let rt=m.get(L);if(rt===void 0||rt.count!==nt){let at=function(){ge.dispose(),m.delete(L),L.removeEventListener("dispose",at)};rt!==void 0&&rt.texture.dispose();const ft=L.morphAttributes.position!==void 0,Ct=L.morphAttributes.normal!==void 0,pt=L.morphAttributes.color!==void 0,ot=L.morphAttributes.position||[],Vt=L.morphAttributes.normal||[],Ut=L.morphAttributes.color||[];let Ft=0;ft===!0&&(Ft=1),Ct===!0&&(Ft=2),pt===!0&&(Ft=3);let Ae=L.attributes.position.count*Ft,re=1;Ae>r.maxTextureSize&&(re=Math.ceil(Ae/r.maxTextureSize),Ae=r.maxTextureSize);const de=new Float32Array(Ae*re*4*nt),ge=new S1(de,Ae,re,nt);ge.type=ai,ge.needsUpdate=!0;const Yt=Ft*4;for(let Wt=0;Wt<nt;Wt++){const ye=ot[Wt],Ie=Vt[Wt],Te=Ut[Wt],De=Ae*re*4*Wt;for(let ti=0;ti<ye.count;ti++){const gi=ti*Yt;ft===!0&&(A.fromBufferAttribute(ye,ti),de[De+gi+0]=A.x,de[De+gi+1]=A.y,de[De+gi+2]=A.z,de[De+gi+3]=0),Ct===!0&&(A.fromBufferAttribute(Ie,ti),de[De+gi+4]=A.x,de[De+gi+5]=A.y,de[De+gi+6]=A.z,de[De+gi+7]=0),pt===!0&&(A.fromBufferAttribute(Te,ti),de[De+gi+8]=A.x,de[De+gi+9]=A.y,de[De+gi+10]=A.z,de[De+gi+11]=Te.itemSize===4?A.w:1)}}rt={count:nt,texture:ge,size:new yi(Ae,re)},m.set(L,rt),L.addEventListener("dispose",at)}if(R.isInstancedMesh===!0&&R.morphTexture!==null)$.getUniforms().setValue(x,"morphTexture",R.morphTexture,s);else{let at=0;for(let Ct=0;Ct<Q.length;Ct++)at+=Q[Ct];const ft=L.morphTargetsRelative?1:1-at;$.getUniforms().setValue(x,"morphTargetBaseInfluence",ft),$.getUniforms().setValue(x,"morphTargetInfluences",Q)}$.getUniforms().setValue(x,"morphTargetsTexture",rt.texture,s),$.getUniforms().setValue(x,"morphTargetsTextureSize",rt.size)}return{update:O}}class eH{constructor(r,s,m){if(this.renderer=r,this.DEFAULT_NUMVIEWS=2,this.maxNumViews=0,this.gl=m,this.extensions=s,this.available=this.extensions.has("OCULUS_multiview"),this.available){const O=this.extensions.get("OCULUS_multiview");this.maxNumViews=this.gl.getParameter(O.MAX_VIEWS_OVR),this.mat4=[],this.mat3=[],this.cameraArray=[];for(var A=0;A<this.maxNumViews;A++)this.mat4[A]=new gn,this.mat3[A]=new Hn}}getCameraArray(r){return r.isArrayCamera?r.cameras:(this.cameraArray[0]=r,this.cameraArray)}updateCameraProjectionMatricesUniform(r,s){for(var m=this.getCameraArray(r),A=0;A<m.length;A++)this.mat4[A].copy(m[A].projectionMatrix);s.setValue(this.gl,"projectionMatrices",this.mat4)}updateCameraViewMatricesUniform(r,s){for(var m=this.getCameraArray(r),A=0;A<m.length;A++)this.mat4[A].copy(m[A].matrixWorldInverse);s.setValue(this.gl,"viewMatrices",this.mat4)}updateObjectMatricesUniforms(r,s,m){for(var A=this.getCameraArray(s),O=0;O<A.length;O++)this.mat4[O].multiplyMatrices(A[O].matrixWorldInverse,r.matrixWorld),this.mat3[O].getNormalMatrix(this.mat4[O]);m.setValue(this.gl,"modelViewMatrices",this.mat4),m.setValue(this.gl,"normalMatrices",this.mat3)}}function iH(x,r,s,m){let A=new WeakMap;function O($){const Q=m.render.frame,Y=$.geometry,nt=r.get($,Y);if(A.get(nt)!==Q&&(r.update(nt),A.set(nt,Q)),$.isInstancedMesh&&($.hasEventListener("dispose",L)===!1&&$.addEventListener("dispose",L),A.get($)!==Q&&(s.update($.instanceMatrix,x.ARRAY_BUFFER),$.instanceColor!==null&&s.update($.instanceColor,x.ARRAY_BUFFER),A.set($,Q))),$.isSkinnedMesh){const rt=$.skeleton;A.get(rt)!==Q&&(rt.update(),A.set(rt,Q))}return nt}function R(){A=new WeakMap}function L($){const Q=$.target;Q.removeEventListener("dispose",L),s.remove(Q.instanceMatrix),Q.instanceColor!==null&&s.remove(Q.instanceColor)}return{update:O,dispose:R}}class sp extends u9{constructor(r,s,m,A,O,R,L,$,Q,Y){if(Y=Y!==void 0?Y:Ue,Y!==Ue&&Y!==ui)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");m===void 0&&Y===Ue&&(m=Gn),m===void 0&&Y===ui&&(m=dn),super(null,A,O,R,L,$,Y,m,Q),this.isDepthTexture=!0,this.image={width:r,height:s},this.magFilter=L!==void 0?L:Be,this.minFilter=$!==void 0?$:Be,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(r){return super.copy(r),this.compareFunction=r.compareFunction,this}toJSON(r){const s=super.toJSON(r);return this.compareFunction!==null&&(s.compareFunction=this.compareFunction),s}}const Qb=new u9,zb=new sp(1,1);zb.compareFunction=$h;const jb=new S1,Wb=new Vn,Kb=new Xh,qb=[],Xb=[],Yb=new Float32Array(16),Zb=new Float32Array(9),tC=new Float32Array(4);function z1(x,r,s){const m=x[0];if(m<=0||m>0)return x;const A=r*s;let O=qb[A];if(O===void 0&&(O=new Float32Array(A),qb[A]=O),r!==0){m.toArray(O,0);for(let R=1,L=0;R!==r;++R)L+=s,x[R].toArray(O,L)}return O}function hr(x,r){if(x.length!==r.length)return!1;for(let s=0,m=x.length;s<m;s++)if(x[s]!==r[s])return!1;return!0}function fr(x,r){for(let s=0,m=r.length;s<m;s++)x[s]=r[s]}function Em(x,r){let s=Xb[r];s===void 0&&(s=new Int32Array(r),Xb[r]=s);for(let m=0;m!==r;++m)s[m]=x.allocateTextureUnit();return s}function nH(x,r){const s=this.cache;s[0]!==r&&(x.uniform1f(this.addr,r),s[0]=r)}function rH(x,r){const s=this.cache;if(r.x!==void 0)(s[0]!==r.x||s[1]!==r.y)&&(x.uniform2f(this.addr,r.x,r.y),s[0]=r.x,s[1]=r.y);else{if(hr(s,r))return;x.uniform2fv(this.addr,r),fr(s,r)}}function aH(x,r){const s=this.cache;if(r.x!==void 0)(s[0]!==r.x||s[1]!==r.y||s[2]!==r.z)&&(x.uniform3f(this.addr,r.x,r.y,r.z),s[0]=r.x,s[1]=r.y,s[2]=r.z);else if(r.r!==void 0)(s[0]!==r.r||s[1]!==r.g||s[2]!==r.b)&&(x.uniform3f(this.addr,r.r,r.g,r.b),s[0]=r.r,s[1]=r.g,s[2]=r.b);else{if(hr(s,r))return;x.uniform3fv(this.addr,r),fr(s,r)}}function oH(x,r){const s=this.cache;if(r.x!==void 0)(s[0]!==r.x||s[1]!==r.y||s[2]!==r.z||s[3]!==r.w)&&(x.uniform4f(this.addr,r.x,r.y,r.z,r.w),s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=r.w);else{if(hr(s,r))return;x.uniform4fv(this.addr,r),fr(s,r)}}function sH(x,r){const s=this.cache,m=r.elements;if(m===void 0){if(hr(s,r))return;x.uniformMatrix2fv(this.addr,!1,r),fr(s,r)}else{if(hr(s,m))return;tC.set(m),x.uniformMatrix2fv(this.addr,!1,tC),fr(s,m)}}function lH(x,r){const s=this.cache,m=r.elements;if(m===void 0){if(hr(s,r))return;x.uniformMatrix3fv(this.addr,!1,r),fr(s,r)}else{if(hr(s,m))return;Zb.set(m),x.uniformMatrix3fv(this.addr,!1,Zb),fr(s,m)}}function cH(x,r){const s=this.cache,m=r.elements;if(m===void 0){if(hr(s,r))return;x.uniformMatrix4fv(this.addr,!1,r),fr(s,r)}else{if(hr(s,m))return;Yb.set(m),x.uniformMatrix4fv(this.addr,!1,Yb),fr(s,m)}}function uH(x,r){const s=this.cache;s[0]!==r&&(x.uniform1i(this.addr,r),s[0]=r)}function dH(x,r){const s=this.cache;if(r.x!==void 0)(s[0]!==r.x||s[1]!==r.y)&&(x.uniform2i(this.addr,r.x,r.y),s[0]=r.x,s[1]=r.y);else{if(hr(s,r))return;x.uniform2iv(this.addr,r),fr(s,r)}}function hH(x,r){const s=this.cache;if(r.x!==void 0)(s[0]!==r.x||s[1]!==r.y||s[2]!==r.z)&&(x.uniform3i(this.addr,r.x,r.y,r.z),s[0]=r.x,s[1]=r.y,s[2]=r.z);else{if(hr(s,r))return;x.uniform3iv(this.addr,r),fr(s,r)}}function fH(x,r){const s=this.cache;if(r.x!==void 0)(s[0]!==r.x||s[1]!==r.y||s[2]!==r.z||s[3]!==r.w)&&(x.uniform4i(this.addr,r.x,r.y,r.z,r.w),s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=r.w);else{if(hr(s,r))return;x.uniform4iv(this.addr,r),fr(s,r)}}function mH(x,r){const s=this.cache;s[0]!==r&&(x.uniform1ui(this.addr,r),s[0]=r)}function pH(x,r){const s=this.cache;if(r.x!==void 0)(s[0]!==r.x||s[1]!==r.y)&&(x.uniform2ui(this.addr,r.x,r.y),s[0]=r.x,s[1]=r.y);else{if(hr(s,r))return;x.uniform2uiv(this.addr,r),fr(s,r)}}function gH(x,r){const s=this.cache;if(r.x!==void 0)(s[0]!==r.x||s[1]!==r.y||s[2]!==r.z)&&(x.uniform3ui(this.addr,r.x,r.y,r.z),s[0]=r.x,s[1]=r.y,s[2]=r.z);else{if(hr(s,r))return;x.uniform3uiv(this.addr,r),fr(s,r)}}function MH(x,r){const s=this.cache;if(r.x!==void 0)(s[0]!==r.x||s[1]!==r.y||s[2]!==r.z||s[3]!==r.w)&&(x.uniform4ui(this.addr,r.x,r.y,r.z,r.w),s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=r.w);else{if(hr(s,r))return;x.uniform4uiv(this.addr,r),fr(s,r)}}function yH(x,r,s){const m=this.cache,A=s.allocateTextureUnit();m[0]!==A&&(x.uniform1i(this.addr,A),m[0]=A);const O=this.type===x.SAMPLER_2D_SHADOW?zb:Qb;s.setTexture2D(r||O,A)}function AH(x,r,s){const m=this.cache,A=s.allocateTextureUnit();m[0]!==A&&(x.uniform1i(this.addr,A),m[0]=A),s.setTexture3D(r||Wb,A)}function vH(x,r,s){const m=this.cache,A=s.allocateTextureUnit();m[0]!==A&&(x.uniform1i(this.addr,A),m[0]=A),s.setTextureCube(r||Kb,A)}function bH(x,r,s){const m=this.cache,A=s.allocateTextureUnit();m[0]!==A&&(x.uniform1i(this.addr,A),m[0]=A),s.setTexture2DArray(r||jb,A)}function CH(x){switch(x){case 5126:return nH;case 35664:return rH;case 35665:return aH;case 35666:return oH;case 35674:return sH;case 35675:return lH;case 35676:return cH;case 5124:case 35670:return uH;case 35667:case 35671:return dH;case 35668:case 35672:return hH;case 35669:case 35673:return fH;case 5125:return mH;case 36294:return pH;case 36295:return gH;case 36296:return MH;case 35678:case 36198:case 36298:case 36306:case 35682:return yH;case 35679:case 36299:case 36307:return AH;case 35680:case 36300:case 36308:case 36293:return vH;case 36289:case 36303:case 36311:case 36292:return bH}}function _H(x,r){x.uniform1fv(this.addr,r)}function EH(x,r){const s=z1(r,this.size,2);x.uniform2fv(this.addr,s)}function wH(x,r){const s=z1(r,this.size,3);x.uniform3fv(this.addr,s)}function OH(x,r){const s=z1(r,this.size,4);x.uniform4fv(this.addr,s)}function SH(x,r){const s=z1(r,this.size,4);x.uniformMatrix2fv(this.addr,!1,s)}function xH(x,r){const s=z1(r,this.size,9);x.uniformMatrix3fv(this.addr,!1,s)}function TH(x,r){const s=z1(r,this.size,16);x.uniformMatrix4fv(this.addr,!1,s)}function IH(x,r){x.uniform1iv(this.addr,r)}function BH(x,r){x.uniform2iv(this.addr,r)}function RH(x,r){x.uniform3iv(this.addr,r)}function DH(x,r){x.uniform4iv(this.addr,r)}function PH(x,r){x.uniform1uiv(this.addr,r)}function kH(x,r){x.uniform2uiv(this.addr,r)}function LH(x,r){x.uniform3uiv(this.addr,r)}function NH(x,r){x.uniform4uiv(this.addr,r)}function FH(x,r,s){const m=this.cache,A=r.length,O=Em(s,A);hr(m,O)||(x.uniform1iv(this.addr,O),fr(m,O));for(let R=0;R!==A;++R)s.setTexture2D(r[R]||Qb,O[R])}function UH(x,r,s){const m=this.cache,A=r.length,O=Em(s,A);hr(m,O)||(x.uniform1iv(this.addr,O),fr(m,O));for(let R=0;R!==A;++R)s.setTexture3D(r[R]||Wb,O[R])}function JH(x,r,s){const m=this.cache,A=r.length,O=Em(s,A);hr(m,O)||(x.uniform1iv(this.addr,O),fr(m,O));for(let R=0;R!==A;++R)s.setTextureCube(r[R]||Kb,O[R])}function $H(x,r,s){const m=this.cache,A=r.length,O=Em(s,A);hr(m,O)||(x.uniform1iv(this.addr,O),fr(m,O));for(let R=0;R!==A;++R)s.setTexture2DArray(r[R]||jb,O[R])}function GH(x){switch(x){case 5126:return _H;case 35664:return EH;case 35665:return wH;case 35666:return OH;case 35674:return SH;case 35675:return xH;case 35676:return TH;case 5124:case 35670:return IH;case 35667:case 35671:return BH;case 35668:case 35672:return RH;case 35669:case 35673:return DH;case 5125:return PH;case 36294:return kH;case 36295:return LH;case 36296:return NH;case 35678:case 36198:case 36298:case 36306:case 35682:return FH;case 35679:case 36299:case 36307:return UH;case 35680:case 36300:case 36308:case 36293:return JH;case 36289:case 36303:case 36311:case 36292:return $H}}class HH{constructor(r,s,m){this.id=r,this.addr=m,this.cache=[],this.type=s.type,this.setValue=CH(s.type)}}class VH{constructor(r,s,m){this.id=r,this.addr=m,this.cache=[],this.type=s.type,this.size=s.size,this.setValue=GH(s.type)}}class QH{constructor(r){this.id=r,this.seq=[],this.map={}}setValue(r,s,m){const A=this.seq;for(let O=0,R=A.length;O!==R;++O){const L=A[O];L.setValue(r,s[L.id],m)}}}const lp=/(\w+)(\])?(\[|\.)?/g;function eC(x,r){x.seq.push(r),x.map[r.id]=r}function zH(x,r,s){const m=x.name,A=m.length;for(lp.lastIndex=0;;){const O=lp.exec(m),R=lp.lastIndex;let L=O[1];const $=O[2]==="]",Q=O[3];if($&&(L=L|0),Q===void 0||Q==="["&&R+2===A){eC(s,Q===void 0?new HH(L,x,r):new VH(L,x,r));break}else{let nt=s.map[L];nt===void 0&&(nt=new QH(L),eC(s,nt)),s=nt}}}class wm{constructor(r,s){this.seq=[],this.map={};const m=r.getProgramParameter(s,r.ACTIVE_UNIFORMS);for(let A=0;A<m;++A){const O=r.getActiveUniform(s,A),R=r.getUniformLocation(s,O.name);zH(O,R,this)}}setValue(r,s,m,A){const O=this.map[s];O!==void 0&&O.setValue(r,m,A)}setOptional(r,s,m){const A=s[m];A!==void 0&&this.setValue(r,m,A)}static upload(r,s,m,A){for(let O=0,R=s.length;O!==R;++O){const L=s[O],$=m[L.id];$.needsUpdate!==!1&&L.setValue(r,$.value,A)}}static seqWithValue(r,s){const m=[];for(let A=0,O=r.length;A!==O;++A){const R=r[A];R.id in s&&m.push(R)}return m}}function iC(x,r,s){const m=x.createShader(r);return x.shaderSource(m,s),x.compileShader(m),m}const jH=37297;let WH=0;function KH(x,r){const s=x.split(`
`),m=[],A=Math.max(r-6,0),O=Math.min(r+6,s.length);for(let R=A;R<O;R++){const L=R+1;m.push(`${L===r?">":" "} ${L}: ${s[R]}`)}return m.join(`
`)}function qH(x){const r=G0.getPrimaries(G0.workingColorSpace),s=G0.getPrimaries(x);let m;switch(r===s?m="":r===ou&&s===au?m="LinearDisplayP3ToLinearSRGB":r===au&&s===ou&&(m="LinearSRGBToLinearDisplayP3"),x){case Po:case nu:return[m,"LinearTransferOETF"];case O0:case _1:return[m,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",x),[m,"LinearTransferOETF"]}}function nC(x,r,s){const m=x.getShaderParameter(r,x.COMPILE_STATUS),A=x.getShaderInfoLog(r).trim();if(m&&A==="")return"";const O=/ERROR: 0:(\d+)/.exec(A);if(O){const R=parseInt(O[1]);return s.toUpperCase()+`

`+A+`

`+KH(x.getShaderSource(r),R)}else return A}function XH(x,r){const s=qH(r);return`vec4 ${x}( vec4 value ) { return ${s[0]}( ${s[1]}( value ) ); }`}function YH(x,r){let s;switch(r){case oi:s="Linear";break;case oe:s="Reinhard";break;case fe:s="OptimizedCineon";break;case pe:s="ACESFilmic";break;case _t:s="AgX";break;case Ht:s="Neutral";break;case Ot:s="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",r),s="Linear"}return"vec3 "+x+"( vec3 color ) { return "+s+"ToneMapping( color ); }"}function ZH(x){return[x.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",x.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Zh).join(`
`)}function tV(x){const r=[];for(const s in x){const m=x[s];m!==!1&&r.push("#define "+s+" "+m)}return r.join(`
`)}function eV(x,r){const s={},m=x.getProgramParameter(r,x.ACTIVE_ATTRIBUTES);for(let A=0;A<m;A++){const O=x.getActiveAttrib(r,A),R=O.name;let L=1;O.type===x.FLOAT_MAT2&&(L=2),O.type===x.FLOAT_MAT3&&(L=3),O.type===x.FLOAT_MAT4&&(L=4),s[R]={type:O.type,location:x.getAttribLocation(r,R),locationSize:L}}return s}function Zh(x){return x!==""}function rC(x,r){const s=r.numSpotLightShadows+r.numSpotLightMaps-r.numSpotLightShadowsWithMaps;return x.replace(/NUM_DIR_LIGHTS/g,r.numDirLights).replace(/NUM_SPOT_LIGHTS/g,r.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,r.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,s).replace(/NUM_RECT_AREA_LIGHTS/g,r.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,r.numPointLights).replace(/NUM_HEMI_LIGHTS/g,r.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,r.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,r.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,r.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,r.numPointLightShadows)}function aC(x,r){return x.replace(/NUM_CLIPPING_PLANES/g,r.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,r.numClippingPlanes-r.numClipIntersection)}const iV=/^[ \t]*#include +<([\w\d./]+)>/gm;function cp(x){return x.replace(iV,rV)}const nV=new Map;function rV(x,r){let s=a0[r];if(s===void 0){const m=nV.get(r);if(m!==void 0)s=a0[m],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',r,m);else throw new Error("Can not resolve #include <"+r+">")}return cp(s)}const aV=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function oC(x){return x.replace(aV,oV)}function oV(x,r,s,m){let A="";for(let O=parseInt(r);O<parseInt(s);O++)A+=m.replace(/\[\s*i\s*\]/g,"[ "+O+" ]").replace(/UNROLLED_LOOP_INDEX/g,O);return A}function sC(x){let r=`precision ${x.precision} float;
	precision ${x.precision} int;
	precision ${x.precision} sampler2D;
	precision ${x.precision} samplerCube;
	precision ${x.precision} sampler3D;
	precision ${x.precision} sampler2DArray;
	precision ${x.precision} sampler2DShadow;
	precision ${x.precision} samplerCubeShadow;
	precision ${x.precision} sampler2DArrayShadow;
	precision ${x.precision} isampler2D;
	precision ${x.precision} isampler3D;
	precision ${x.precision} isamplerCube;
	precision ${x.precision} isampler2DArray;
	precision ${x.precision} usampler2D;
	precision ${x.precision} usampler3D;
	precision ${x.precision} usamplerCube;
	precision ${x.precision} usampler2DArray;
	`;return x.precision==="highp"?r+=`
#define HIGH_PRECISION`:x.precision==="mediump"?r+=`
#define MEDIUM_PRECISION`:x.precision==="lowp"&&(r+=`
#define LOW_PRECISION`),r}function sV(x){let r="SHADOWMAP_TYPE_BASIC";return x.shadowMapType===C?r="SHADOWMAP_TYPE_PCF":x.shadowMapType===w?r="SHADOWMAP_TYPE_PCF_SOFT":x.shadowMapType===_&&(r="SHADOWMAP_TYPE_VSM"),r}function lV(x){let r="ENVMAP_TYPE_CUBE";if(x.envMap)switch(x.envMapMode){case ut:case X:r="ENVMAP_TYPE_CUBE";break;case Qt:r="ENVMAP_TYPE_CUBE_UV";break}return r}function cV(x){let r="ENVMAP_MODE_REFLECTION";if(x.envMap)switch(x.envMapMode){case X:r="ENVMAP_MODE_REFRACTION";break}return r}function uV(x){let r="ENVMAP_BLENDING_NONE";if(x.envMap)switch(x.combine){case ve:r="ENVMAP_BLENDING_MULTIPLY";break;case He:r="ENVMAP_BLENDING_MIX";break;case qe:r="ENVMAP_BLENDING_ADD";break}return r}function dV(x){const r=x.envMapCubeUVHeight;if(r===null)return null;const s=Math.log2(r)-2,m=1/r;return{texelWidth:1/(3*Math.max(Math.pow(2,s),7*16)),texelHeight:m,maxMip:s}}function hV(x,r,s,m){const A=x.getContext(),O=s.defines;let R=s.vertexShader,L=s.fragmentShader;const $=sV(s),Q=lV(s),Y=cV(s),nt=uV(s),rt=dV(s),at=ZH(s),ft=tV(O),Ct=A.createProgram();let pt,ot,Vt=s.glslVersion?"#version "+s.glslVersion+`
`:"";const Ut=s.numMultiviewViews;s.isRawShaderMaterial?(pt=["#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,ft].filter(Zh).join(`
`),pt.length>0&&(pt+=`
`),ot=["#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,ft].filter(Zh).join(`
`),ot.length>0&&(ot+=`
`)):(pt=[sC(s),"#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,ft,s.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",s.batching?"#define USE_BATCHING":"",s.instancing?"#define USE_INSTANCING":"",s.instancingColor?"#define USE_INSTANCING_COLOR":"",s.instancingMorph?"#define USE_INSTANCING_MORPH":"",s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp2?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+Y:"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",s.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",s.displacementMap?"#define USE_DISPLACEMENTMAP":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.anisotropy?"#define USE_ANISOTROPY":"",s.anisotropyMap?"#define USE_ANISOTROPYMAP":"",s.clearcoatMap?"#define USE_CLEARCOATMAP":"",s.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",s.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",s.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",s.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",s.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.alphaHash?"#define USE_ALPHAHASH":"",s.transmission?"#define USE_TRANSMISSION":"",s.transmissionMap?"#define USE_TRANSMISSIONMAP":"",s.thicknessMap?"#define USE_THICKNESSMAP":"",s.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",s.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",s.mapUv?"#define MAP_UV "+s.mapUv:"",s.alphaMapUv?"#define ALPHAMAP_UV "+s.alphaMapUv:"",s.lightMapUv?"#define LIGHTMAP_UV "+s.lightMapUv:"",s.aoMapUv?"#define AOMAP_UV "+s.aoMapUv:"",s.emissiveMapUv?"#define EMISSIVEMAP_UV "+s.emissiveMapUv:"",s.bumpMapUv?"#define BUMPMAP_UV "+s.bumpMapUv:"",s.normalMapUv?"#define NORMALMAP_UV "+s.normalMapUv:"",s.displacementMapUv?"#define DISPLACEMENTMAP_UV "+s.displacementMapUv:"",s.metalnessMapUv?"#define METALNESSMAP_UV "+s.metalnessMapUv:"",s.roughnessMapUv?"#define ROUGHNESSMAP_UV "+s.roughnessMapUv:"",s.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+s.anisotropyMapUv:"",s.clearcoatMapUv?"#define CLEARCOATMAP_UV "+s.clearcoatMapUv:"",s.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+s.clearcoatNormalMapUv:"",s.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+s.clearcoatRoughnessMapUv:"",s.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+s.iridescenceMapUv:"",s.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+s.iridescenceThicknessMapUv:"",s.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+s.sheenColorMapUv:"",s.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+s.sheenRoughnessMapUv:"",s.specularMapUv?"#define SPECULARMAP_UV "+s.specularMapUv:"",s.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+s.specularColorMapUv:"",s.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+s.specularIntensityMapUv:"",s.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+s.transmissionMapUv:"",s.thicknessMapUv?"#define THICKNESSMAP_UV "+s.thicknessMapUv:"",s.vertexTangents&&s.flatShading===!1?"#define USE_TANGENT":"",s.vertexColors?"#define USE_COLOR":"",s.vertexAlphas?"#define USE_COLOR_ALPHA":"",s.vertexUv1s?"#define USE_UV1":"",s.vertexUv2s?"#define USE_UV2":"",s.vertexUv3s?"#define USE_UV3":"",s.pointsUvs?"#define USE_POINTS_UV":"",s.flatShading?"#define FLAT_SHADED":"",s.skinning?"#define USE_SKINNING":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals&&s.flatShading===!1?"#define USE_MORPHNORMALS":"",s.morphColors?"#define USE_MORPHCOLORS":"",s.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",s.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+s.morphTextureStride:"",s.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+s.morphTargetsCount:"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+$:"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.numLightProbes>0?"#define USE_LIGHT_PROBES":"",s.useLegacyLights?"#define LEGACY_LIGHTS":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Zh).join(`
`),ot=[sC(s),"#define SHADER_TYPE "+s.shaderType,"#define SHADER_NAME "+s.shaderName,ft,s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp2?"#define FOG_EXP2":"",s.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",s.map?"#define USE_MAP":"",s.matcap?"#define USE_MATCAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+Q:"",s.envMap?"#define "+Y:"",s.envMap?"#define "+nt:"",rt?"#define CUBEUV_TEXEL_WIDTH "+rt.texelWidth:"",rt?"#define CUBEUV_TEXEL_HEIGHT "+rt.texelHeight:"",rt?"#define CUBEUV_MAX_MIP "+rt.maxMip+".0":"",s.lightMap?"#define USE_LIGHTMAP":"",s.aoMap?"#define USE_AOMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",s.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",s.emissiveMap?"#define USE_EMISSIVEMAP":"",s.anisotropy?"#define USE_ANISOTROPY":"",s.anisotropyMap?"#define USE_ANISOTROPYMAP":"",s.clearcoat?"#define USE_CLEARCOAT":"",s.clearcoatMap?"#define USE_CLEARCOATMAP":"",s.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",s.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",s.dispersion?"#define USE_DISPERSION":"",s.iridescence?"#define USE_IRIDESCENCE":"",s.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",s.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",s.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",s.roughnessMap?"#define USE_ROUGHNESSMAP":"",s.metalnessMap?"#define USE_METALNESSMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.alphaTest?"#define USE_ALPHATEST":"",s.alphaHash?"#define USE_ALPHAHASH":"",s.sheen?"#define USE_SHEEN":"",s.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",s.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",s.transmission?"#define USE_TRANSMISSION":"",s.transmissionMap?"#define USE_TRANSMISSIONMAP":"",s.thicknessMap?"#define USE_THICKNESSMAP":"",s.vertexTangents&&s.flatShading===!1?"#define USE_TANGENT":"",s.vertexColors||s.instancingColor?"#define USE_COLOR":"",s.vertexAlphas?"#define USE_COLOR_ALPHA":"",s.vertexUv1s?"#define USE_UV1":"",s.vertexUv2s?"#define USE_UV2":"",s.vertexUv3s?"#define USE_UV3":"",s.pointsUvs?"#define USE_POINTS_UV":"",s.gradientMap?"#define USE_GRADIENTMAP":"",s.flatShading?"#define FLAT_SHADED":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+$:"",s.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",s.numLightProbes>0?"#define USE_LIGHT_PROBES":"",s.useLegacyLights?"#define LEGACY_LIGHTS":"",s.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",s.toneMapping!==ri?"#define TONE_MAPPING":"",s.toneMapping!==ri?a0.tonemapping_pars_fragment:"",s.toneMapping!==ri?YH("toneMapping",s.toneMapping):"",s.dithering?"#define DITHERING":"",s.opaque?"#define OPAQUE":"",a0.colorspace_pars_fragment,XH("linearToOutputTexel",s.outputColorSpace),s.useDepthPacking?"#define DEPTH_PACKING "+s.depthPacking:"",`
`].filter(Zh).join(`
`)),R=cp(R),R=rC(R,s),R=aC(R,s),L=cp(L),L=rC(L,s),L=aC(L,s),R=oC(R),L=oC(L),s.isRawShaderMaterial!==!0&&(Vt=`#version 300 es
`,pt=[at,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+pt,ot=["#define varying in",s.glslVersion===Gh?"":"layout(location = 0) out highp vec4 pc_fragColor;",s.glslVersion===Gh?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+ot,Ut>0&&(pt=["#extension GL_OVR_multiview : require","layout(num_views = "+Ut+") in;","#define VIEW_ID gl_ViewID_OVR"].join(`
`)+`
`+pt,pt=pt.replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join(`
`),["uniform mat4 modelViewMatrices["+Ut+"];","uniform mat4 projectionMatrices["+Ut+"];","uniform mat4 viewMatrices["+Ut+"];","uniform mat3 normalMatrices["+Ut+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join(`
`)),ot=["#extension GL_OVR_multiview : require","#define VIEW_ID gl_ViewID_OVR"].join(`
`)+`
`+ot,ot=ot.replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+Ut+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join(`
`))));const Ft=Vt+pt+R,Ae=Vt+ot+L,re=iC(A,A.VERTEX_SHADER,Ft),de=iC(A,A.FRAGMENT_SHADER,Ae);A.attachShader(Ct,re),A.attachShader(Ct,de),s.index0AttributeName!==void 0?A.bindAttribLocation(Ct,0,s.index0AttributeName):s.morphTargets===!0&&A.bindAttribLocation(Ct,0,"position"),A.linkProgram(Ct);function ge(Ie){if(x.debug.checkShaderErrors){const Te=A.getProgramInfoLog(Ct).trim(),De=A.getShaderInfoLog(re).trim(),ti=A.getShaderInfoLog(de).trim();let gi=!0,Ni=!0;if(A.getProgramParameter(Ct,A.LINK_STATUS)===!1)if(gi=!1,typeof x.debug.onShaderError=="function")x.debug.onShaderError(A,Ct,re,de);else{const ii=nC(A,re,"vertex"),Ri=nC(A,de,"fragment");console.error("THREE.WebGLProgram: Shader Error "+A.getError()+" - VALIDATE_STATUS "+A.getProgramParameter(Ct,A.VALIDATE_STATUS)+`

Material Name: `+Ie.name+`
Material Type: `+Ie.type+`

Program Info Log: `+Te+`
`+ii+`
`+Ri)}else Te!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Te):(De===""||ti==="")&&(Ni=!1);Ni&&(Ie.diagnostics={runnable:gi,programLog:Te,vertexShader:{log:De,prefix:pt},fragmentShader:{log:ti,prefix:ot}})}A.deleteShader(re),A.deleteShader(de),Yt=new wm(A,Ct),Wt=eV(A,Ct)}let Yt;this.getUniforms=function(){return Yt===void 0&&ge(this),Yt};let Wt;this.getAttributes=function(){return Wt===void 0&&ge(this),Wt};let ye=s.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return ye===!1&&(ye=A.getProgramParameter(Ct,jH)),ye},this.destroy=function(){m.releaseStatesOfProgram(this),A.deleteProgram(Ct),this.program=void 0},this.type=s.shaderType,this.name=s.shaderName,this.id=WH++,this.cacheKey=r,this.usedTimes=1,this.program=Ct,this.vertexShader=re,this.fragmentShader=de,this.numMultiviewViews=Ut,this}let fV=0;class mV{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(r){const s=r.vertexShader,m=r.fragmentShader,A=this._getShaderStage(s),O=this._getShaderStage(m),R=this._getShaderCacheForMaterial(r);return R.has(A)===!1&&(R.add(A),A.usedTimes++),R.has(O)===!1&&(R.add(O),O.usedTimes++),this}remove(r){const s=this.materialCache.get(r);for(const m of s)m.usedTimes--,m.usedTimes===0&&this.shaderCache.delete(m.code);return this.materialCache.delete(r),this}getVertexShaderID(r){return this._getShaderStage(r.vertexShader).id}getFragmentShaderID(r){return this._getShaderStage(r.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(r){const s=this.materialCache;let m=s.get(r);return m===void 0&&(m=new Set,s.set(r,m)),m}_getShaderStage(r){const s=this.shaderCache;let m=s.get(r);return m===void 0&&(m=new pV(r),s.set(r,m)),m}}class pV{constructor(r){this.id=fV++,this.code=r,this.usedTimes=0}}function gV(x,r,s,m,A,O,R){const L=new sm,$=new mV,Q=new Set,Y=[],nt=A.logarithmicDepthBuffer,rt=A.vertexTextures;let at=A.precision;const ft={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function Ct(Yt){return Q.add(Yt),Yt===0?"uv":`uv${Yt}`}function pt(Yt,Wt,ye,Ie,Te){const De=Ie.fog,ti=Te.geometry,gi=Yt.isMeshStandardMaterial?Ie.environment:null,Ni=(Yt.isMeshStandardMaterial?s:r).get(Yt.envMap||gi),ii=Ni&&Ni.mapping===Qt?Ni.image.height:null,Ri=ft[Yt.type];Yt.precision!==null&&(at=A.getMaxPrecision(Yt.precision),at!==Yt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Yt.precision,"not supported, using",at,"instead."));const Pi=ti.morphAttributes.position||ti.morphAttributes.normal||ti.morphAttributes.color,fn=Pi!==void 0?Pi.length:0;let d0=0;ti.morphAttributes.position!==void 0&&(d0=1),ti.morphAttributes.normal!==void 0&&(d0=2),ti.morphAttributes.color!==void 0&&(d0=3);let H0,M9,F0,o9;if(Ri){const mr=No[Ri];H0=mr.vertexShader,M9=mr.fragmentShader}else H0=Yt.vertexShader,M9=Yt.fragmentShader,$.update(Yt),F0=$.getVertexShaderID(Yt),o9=$.getFragmentShaderID(Yt);const Mn=x.getRenderTarget(),vi=Mn&&Mn.isWebGLMultiviewRenderTarget?Mn.numViews:0,Ui=Te.isInstancedMesh===!0,Qi=Te.isBatchedMesh===!0,Pe=!!Yt.map,bi=!!Yt.matcap,di=!!Ni,Bi=!!Yt.aoMap,Ii=!!Yt.lightMap,Si=!!Yt.bumpMap,Wi=!!Yt.normalMap,on=!!Yt.displacementMap,Jn=!!Yt.emissiveMap,Wn=!!Yt.metalnessMap,U0=!!Yt.roughnessMap,F9=Yt.anisotropy>0,y9=Yt.clearcoat>0,me=Yt.dispersion>0,Kt=Yt.iridescence>0,ci=Yt.sheen>0,Ai=Yt.transmission>0,Oi=F9&&!!Yt.anisotropyMap,Ci=y9&&!!Yt.clearcoatMap,vn=y9&&!!Yt.clearcoatNormalMap,Fi=y9&&!!Yt.clearcoatRoughnessMap,cn=Kt&&!!Yt.iridescenceMap,K0=Kt&&!!Yt.iridescenceThicknessMap,un=ci&&!!Yt.sheenColorMap,Cn=ci&&!!Yt.sheenRoughnessMap,o0=!!Yt.specularMap,kn=!!Yt.specularColorMap,be=!!Yt.specularIntensityMap,xi=Ai&&!!Yt.transmissionMap,ki=Ai&&!!Yt.thicknessMap,bn=!!Yt.gradientMap,rn=!!Yt.alphaMap,s0=Yt.alphaTest>0,an=!!Yt.alphaHash,Ki=!!Yt.extensions;let m0=ri;Yt.toneMapped&&(Mn===null||Mn.isXRRenderTarget===!0)&&(m0=x.toneMapping);const Ln={shaderID:Ri,shaderType:Yt.type,shaderName:Yt.name,vertexShader:H0,fragmentShader:M9,defines:Yt.defines,customVertexShaderID:F0,customFragmentShaderID:o9,isRawShaderMaterial:Yt.isRawShaderMaterial===!0,glslVersion:Yt.glslVersion,precision:at,batching:Qi,instancing:Ui,instancingColor:Ui&&Te.instanceColor!==null,instancingMorph:Ui&&Te.morphTexture!==null,supportsVertexTextures:rt,numMultiviewViews:vi,outputColorSpace:Mn===null?x.outputColorSpace:Mn.isXRRenderTarget===!0?Mn.texture.colorSpace:Po,alphaToCoverage:!!Yt.alphaToCoverage,map:Pe,matcap:bi,envMap:di,envMapMode:di&&Ni.mapping,envMapCubeUVHeight:ii,aoMap:Bi,lightMap:Ii,bumpMap:Si,normalMap:Wi,displacementMap:rt&&on,emissiveMap:Jn,normalMapObjectSpace:Wi&&Yt.normalMapType===cs,normalMapTangentSpace:Wi&&Yt.normalMapType===jr,metalnessMap:Wn,roughnessMap:U0,anisotropy:F9,anisotropyMap:Oi,clearcoat:y9,clearcoatMap:Ci,clearcoatNormalMap:vn,clearcoatRoughnessMap:Fi,dispersion:me,iridescence:Kt,iridescenceMap:cn,iridescenceThicknessMap:K0,sheen:ci,sheenColorMap:un,sheenRoughnessMap:Cn,specularMap:o0,specularColorMap:kn,specularIntensityMap:be,transmission:Ai,transmissionMap:xi,thicknessMap:ki,gradientMap:bn,opaque:Yt.transparent===!1&&Yt.blending===k&&Yt.alphaToCoverage===!1,alphaMap:rn,alphaTest:s0,alphaHash:an,combine:Yt.combine,mapUv:Pe&&Ct(Yt.map.channel),aoMapUv:Bi&&Ct(Yt.aoMap.channel),lightMapUv:Ii&&Ct(Yt.lightMap.channel),bumpMapUv:Si&&Ct(Yt.bumpMap.channel),normalMapUv:Wi&&Ct(Yt.normalMap.channel),displacementMapUv:on&&Ct(Yt.displacementMap.channel),emissiveMapUv:Jn&&Ct(Yt.emissiveMap.channel),metalnessMapUv:Wn&&Ct(Yt.metalnessMap.channel),roughnessMapUv:U0&&Ct(Yt.roughnessMap.channel),anisotropyMapUv:Oi&&Ct(Yt.anisotropyMap.channel),clearcoatMapUv:Ci&&Ct(Yt.clearcoatMap.channel),clearcoatNormalMapUv:vn&&Ct(Yt.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Fi&&Ct(Yt.clearcoatRoughnessMap.channel),iridescenceMapUv:cn&&Ct(Yt.iridescenceMap.channel),iridescenceThicknessMapUv:K0&&Ct(Yt.iridescenceThicknessMap.channel),sheenColorMapUv:un&&Ct(Yt.sheenColorMap.channel),sheenRoughnessMapUv:Cn&&Ct(Yt.sheenRoughnessMap.channel),specularMapUv:o0&&Ct(Yt.specularMap.channel),specularColorMapUv:kn&&Ct(Yt.specularColorMap.channel),specularIntensityMapUv:be&&Ct(Yt.specularIntensityMap.channel),transmissionMapUv:xi&&Ct(Yt.transmissionMap.channel),thicknessMapUv:ki&&Ct(Yt.thicknessMap.channel),alphaMapUv:rn&&Ct(Yt.alphaMap.channel),vertexTangents:!!ti.attributes.tangent&&(Wi||F9),vertexColors:Yt.vertexColors,vertexAlphas:Yt.vertexColors===!0&&!!ti.attributes.color&&ti.attributes.color.itemSize===4,pointsUvs:Te.isPoints===!0&&!!ti.attributes.uv&&(Pe||rn),fog:!!De,useFog:Yt.fog===!0,fogExp2:!!De&&De.isFogExp2,flatShading:Yt.flatShading===!0,sizeAttenuation:Yt.sizeAttenuation===!0,logarithmicDepthBuffer:nt,skinning:Te.isSkinnedMesh===!0,morphTargets:ti.morphAttributes.position!==void 0,morphNormals:ti.morphAttributes.normal!==void 0,morphColors:ti.morphAttributes.color!==void 0,morphTargetsCount:fn,morphTextureStride:d0,numDirLights:Wt.directional.length,numPointLights:Wt.point.length,numSpotLights:Wt.spot.length,numSpotLightMaps:Wt.spotLightMap.length,numRectAreaLights:Wt.rectArea.length,numHemiLights:Wt.hemi.length,numDirLightShadows:Wt.directionalShadowMap.length,numPointLightShadows:Wt.pointShadowMap.length,numSpotLightShadows:Wt.spotShadowMap.length,numSpotLightShadowsWithMaps:Wt.numSpotLightShadowsWithMaps,numLightProbes:Wt.numLightProbes,numClippingPlanes:R.numPlanes,numClipIntersection:R.numIntersection,dithering:Yt.dithering,shadowMapEnabled:x.shadowMap.enabled&&ye.length>0,shadowMapType:x.shadowMap.type,toneMapping:m0,useLegacyLights:x._useLegacyLights,decodeVideoTexture:Pe&&Yt.map.isVideoTexture===!0&&G0.getTransfer(Yt.map.colorSpace)===a9,premultipliedAlpha:Yt.premultipliedAlpha,doubleSided:Yt.side===I,flipSided:Yt.side===S,useDepthPacking:Yt.depthPacking>=0,depthPacking:Yt.depthPacking||0,index0AttributeName:Yt.index0AttributeName,extensionClipCullDistance:Ki&&Yt.extensions.clipCullDistance===!0&&m.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Ki&&Yt.extensions.multiDraw===!0&&m.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:m.has("KHR_parallel_shader_compile"),customProgramCacheKey:Yt.customProgramCacheKey()};return Ln.vertexUv1s=Q.has(1),Ln.vertexUv2s=Q.has(2),Ln.vertexUv3s=Q.has(3),Q.clear(),Ln}function ot(Yt){const Wt=[];if(Yt.shaderID?Wt.push(Yt.shaderID):(Wt.push(Yt.customVertexShaderID),Wt.push(Yt.customFragmentShaderID)),Yt.defines!==void 0)for(const ye in Yt.defines)Wt.push(ye),Wt.push(Yt.defines[ye]);return Yt.isRawShaderMaterial===!1&&(Vt(Wt,Yt),Ut(Wt,Yt),Wt.push(x.outputColorSpace)),Wt.push(Yt.customProgramCacheKey),Wt.join()}function Vt(Yt,Wt){Yt.push(Wt.precision),Yt.push(Wt.outputColorSpace),Yt.push(Wt.envMapMode),Yt.push(Wt.envMapCubeUVHeight),Yt.push(Wt.mapUv),Yt.push(Wt.alphaMapUv),Yt.push(Wt.lightMapUv),Yt.push(Wt.aoMapUv),Yt.push(Wt.bumpMapUv),Yt.push(Wt.normalMapUv),Yt.push(Wt.displacementMapUv),Yt.push(Wt.emissiveMapUv),Yt.push(Wt.metalnessMapUv),Yt.push(Wt.roughnessMapUv),Yt.push(Wt.anisotropyMapUv),Yt.push(Wt.clearcoatMapUv),Yt.push(Wt.clearcoatNormalMapUv),Yt.push(Wt.clearcoatRoughnessMapUv),Yt.push(Wt.iridescenceMapUv),Yt.push(Wt.iridescenceThicknessMapUv),Yt.push(Wt.sheenColorMapUv),Yt.push(Wt.sheenRoughnessMapUv),Yt.push(Wt.specularMapUv),Yt.push(Wt.specularColorMapUv),Yt.push(Wt.specularIntensityMapUv),Yt.push(Wt.transmissionMapUv),Yt.push(Wt.thicknessMapUv),Yt.push(Wt.combine),Yt.push(Wt.fogExp2),Yt.push(Wt.sizeAttenuation),Yt.push(Wt.morphTargetsCount),Yt.push(Wt.morphAttributeCount),Yt.push(Wt.numDirLights),Yt.push(Wt.numPointLights),Yt.push(Wt.numSpotLights),Yt.push(Wt.numSpotLightMaps),Yt.push(Wt.numHemiLights),Yt.push(Wt.numRectAreaLights),Yt.push(Wt.numDirLightShadows),Yt.push(Wt.numPointLightShadows),Yt.push(Wt.numSpotLightShadows),Yt.push(Wt.numSpotLightShadowsWithMaps),Yt.push(Wt.numLightProbes),Yt.push(Wt.shadowMapType),Yt.push(Wt.toneMapping),Yt.push(Wt.numClippingPlanes),Yt.push(Wt.numClipIntersection),Yt.push(Wt.depthPacking)}function Ut(Yt,Wt){L.disableAll(),Wt.supportsVertexTextures&&L.enable(0),Wt.instancing&&L.enable(1),Wt.instancingColor&&L.enable(2),Wt.instancingMorph&&L.enable(3),Wt.matcap&&L.enable(4),Wt.envMap&&L.enable(5),Wt.normalMapObjectSpace&&L.enable(6),Wt.normalMapTangentSpace&&L.enable(7),Wt.clearcoat&&L.enable(8),Wt.iridescence&&L.enable(9),Wt.alphaTest&&L.enable(10),Wt.vertexColors&&L.enable(11),Wt.vertexAlphas&&L.enable(12),Wt.vertexUv1s&&L.enable(13),Wt.vertexUv2s&&L.enable(14),Wt.vertexUv3s&&L.enable(15),Wt.vertexTangents&&L.enable(16),Wt.anisotropy&&L.enable(17),Wt.alphaHash&&L.enable(18),Wt.batching&&L.enable(19),Wt.dispersion&&L.enable(20),Yt.push(L.mask),L.disableAll(),Wt.fog&&L.enable(0),Wt.useFog&&L.enable(1),Wt.flatShading&&L.enable(2),Wt.logarithmicDepthBuffer&&L.enable(3),Wt.skinning&&L.enable(4),Wt.morphTargets&&L.enable(5),Wt.morphNormals&&L.enable(6),Wt.morphColors&&L.enable(7),Wt.premultipliedAlpha&&L.enable(8),Wt.shadowMapEnabled&&L.enable(9),Wt.useLegacyLights&&L.enable(10),Wt.doubleSided&&L.enable(11),Wt.flipSided&&L.enable(12),Wt.useDepthPacking&&L.enable(13),Wt.dithering&&L.enable(14),Wt.transmission&&L.enable(15),Wt.sheen&&L.enable(16),Wt.opaque&&L.enable(17),Wt.pointsUvs&&L.enable(18),Wt.decodeVideoTexture&&L.enable(19),Wt.alphaToCoverage&&L.enable(20),Wt.numMultiviewViews&&L.enable(21),Yt.push(L.mask)}function Ft(Yt){const Wt=ft[Yt.type];let ye;if(Wt){const Ie=No[Wt];ye=Pb.clone(Ie.uniforms)}else ye=Yt.uniforms;return ye}function Ae(Yt,Wt){let ye;for(let Ie=0,Te=Y.length;Ie<Te;Ie++){const De=Y[Ie];if(De.cacheKey===Wt){ye=De,++ye.usedTimes;break}}return ye===void 0&&(ye=new hV(x,Wt,Yt,O),Y.push(ye)),ye}function re(Yt){if(--Yt.usedTimes===0){const Wt=Y.indexOf(Yt);Y[Wt]=Y[Y.length-1],Y.pop(),Yt.destroy()}}function de(Yt){$.remove(Yt)}function ge(){$.dispose()}return{getParameters:pt,getProgramCacheKey:ot,getUniforms:Ft,acquireProgram:Ae,releaseProgram:re,releaseShaderCache:de,programs:Y,dispose:ge}}function MV(){let x=new WeakMap;function r(O){let R=x.get(O);return R===void 0&&(R={},x.set(O,R)),R}function s(O){x.delete(O)}function m(O,R,L){x.get(O)[R]=L}function A(){x=new WeakMap}return{get:r,remove:s,update:m,dispose:A}}function yV(x,r){return x.groupOrder!==r.groupOrder?x.groupOrder-r.groupOrder:x.renderOrder!==r.renderOrder?x.renderOrder-r.renderOrder:x.material.id!==r.material.id?x.material.id-r.material.id:x.z!==r.z?x.z-r.z:x.id-r.id}function lC(x,r){return x.groupOrder!==r.groupOrder?x.groupOrder-r.groupOrder:x.renderOrder!==r.renderOrder?x.renderOrder-r.renderOrder:x.z!==r.z?r.z-x.z:x.id-r.id}function cC(){const x=[];let r=0;const s=[],m=[],A=[];function O(){r=0,s.length=0,m.length=0,A.length=0}function R(nt,rt,at,ft,Ct,pt){let ot=x[r];return ot===void 0?(ot={id:nt.id,object:nt,geometry:rt,material:at,groupOrder:ft,renderOrder:nt.renderOrder,z:Ct,group:pt},x[r]=ot):(ot.id=nt.id,ot.object=nt,ot.geometry=rt,ot.material=at,ot.groupOrder=ft,ot.renderOrder=nt.renderOrder,ot.z=Ct,ot.group=pt),r++,ot}function L(nt,rt,at,ft,Ct,pt){const ot=R(nt,rt,at,ft,Ct,pt);at.transmission>0?m.push(ot):at.transparent===!0?A.push(ot):s.push(ot)}function $(nt,rt,at,ft,Ct,pt){const ot=R(nt,rt,at,ft,Ct,pt);at.transmission>0?m.unshift(ot):at.transparent===!0?A.unshift(ot):s.unshift(ot)}function Q(nt,rt){s.length>1&&s.sort(nt||yV),m.length>1&&m.sort(rt||lC),A.length>1&&A.sort(rt||lC)}function Y(){for(let nt=r,rt=x.length;nt<rt;nt++){const at=x[nt];if(at.id===null)break;at.id=null,at.object=null,at.geometry=null,at.material=null,at.group=null}}return{opaque:s,transmissive:m,transparent:A,init:O,push:L,unshift:$,finish:Y,sort:Q}}function AV(){let x=new WeakMap;function r(m,A){const O=x.get(m);let R;return O===void 0?(R=new cC,x.set(m,[R])):A>=O.length?(R=new cC,O.push(R)):R=O[A],R}function s(){x=new WeakMap}return{get:r,dispose:s}}function vV(){const x={};return{get:function(r){if(x[r.id]!==void 0)return x[r.id];let s;switch(r.type){case"DirectionalLight":s={direction:new ie,color:new ln};break;case"SpotLight":s={position:new ie,direction:new ie,color:new ln,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":s={position:new ie,color:new ln,distance:0,decay:0};break;case"HemisphereLight":s={direction:new ie,skyColor:new ln,groundColor:new ln};break;case"RectAreaLight":s={color:new ln,position:new ie,halfWidth:new ie,halfHeight:new ie};break}return x[r.id]=s,s}}}function bV(){const x={};return{get:function(r){if(x[r.id]!==void 0)return x[r.id];let s;switch(r.type){case"DirectionalLight":s={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yi};break;case"SpotLight":s={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yi};break;case"PointLight":s={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new yi,shadowCameraNear:1,shadowCameraFar:1e3};break}return x[r.id]=s,s}}}let CV=0;function _V(x,r){return(r.castShadow?2:0)-(x.castShadow?2:0)+(r.map?1:0)-(x.map?1:0)}function EV(x){const r=new vV,s=bV(),m={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let Q=0;Q<9;Q++)m.probe.push(new ie);const A=new ie,O=new gn,R=new gn;function L(Q,Y){let nt=0,rt=0,at=0;for(let ye=0;ye<9;ye++)m.probe[ye].set(0,0,0);let ft=0,Ct=0,pt=0,ot=0,Vt=0,Ut=0,Ft=0,Ae=0,re=0,de=0,ge=0;Q.sort(_V);const Yt=Y===!0?Math.PI:1;for(let ye=0,Ie=Q.length;ye<Ie;ye++){const Te=Q[ye],De=Te.color,ti=Te.intensity,gi=Te.distance,Ni=Te.shadow&&Te.shadow.map?Te.shadow.map.texture:null;if(Te.isAmbientLight)nt+=De.r*ti*Yt,rt+=De.g*ti*Yt,at+=De.b*ti*Yt;else if(Te.isLightProbe){for(let ii=0;ii<9;ii++)m.probe[ii].addScaledVector(Te.sh.coefficients[ii],ti);ge++}else if(Te.isDirectionalLight){const ii=r.get(Te);if(ii.color.copy(Te.color).multiplyScalar(Te.intensity*Yt),Te.castShadow){const Ri=Te.shadow,Pi=s.get(Te);Pi.shadowBias=Ri.bias,Pi.shadowNormalBias=Ri.normalBias,Pi.shadowRadius=Ri.radius,Pi.shadowMapSize=Ri.mapSize,m.directionalShadow[ft]=Pi,m.directionalShadowMap[ft]=Ni,m.directionalShadowMatrix[ft]=Te.shadow.matrix,Ut++}m.directional[ft]=ii,ft++}else if(Te.isSpotLight){const ii=r.get(Te);ii.position.setFromMatrixPosition(Te.matrixWorld),ii.color.copy(De).multiplyScalar(ti*Yt),ii.distance=gi,ii.coneCos=Math.cos(Te.angle),ii.penumbraCos=Math.cos(Te.angle*(1-Te.penumbra)),ii.decay=Te.decay,m.spot[pt]=ii;const Ri=Te.shadow;if(Te.map&&(m.spotLightMap[re]=Te.map,re++,Ri.updateMatrices(Te),Te.castShadow&&de++),m.spotLightMatrix[pt]=Ri.matrix,Te.castShadow){const Pi=s.get(Te);Pi.shadowBias=Ri.bias,Pi.shadowNormalBias=Ri.normalBias,Pi.shadowRadius=Ri.radius,Pi.shadowMapSize=Ri.mapSize,m.spotShadow[pt]=Pi,m.spotShadowMap[pt]=Ni,Ae++}pt++}else if(Te.isRectAreaLight){const ii=r.get(Te);ii.color.copy(De).multiplyScalar(ti),ii.halfWidth.set(Te.width*.5,0,0),ii.halfHeight.set(0,Te.height*.5,0),m.rectArea[ot]=ii,ot++}else if(Te.isPointLight){const ii=r.get(Te);if(ii.color.copy(Te.color).multiplyScalar(Te.intensity*Yt),ii.distance=Te.distance,ii.decay=Te.decay,Te.castShadow){const Ri=Te.shadow,Pi=s.get(Te);Pi.shadowBias=Ri.bias,Pi.shadowNormalBias=Ri.normalBias,Pi.shadowRadius=Ri.radius,Pi.shadowMapSize=Ri.mapSize,Pi.shadowCameraNear=Ri.camera.near,Pi.shadowCameraFar=Ri.camera.far,m.pointShadow[Ct]=Pi,m.pointShadowMap[Ct]=Ni,m.pointShadowMatrix[Ct]=Te.shadow.matrix,Ft++}m.point[Ct]=ii,Ct++}else if(Te.isHemisphereLight){const ii=r.get(Te);ii.skyColor.copy(Te.color).multiplyScalar(ti*Yt),ii.groundColor.copy(Te.groundColor).multiplyScalar(ti*Yt),m.hemi[Vt]=ii,Vt++}}ot>0&&(x.has("OES_texture_float_linear")===!0?(m.rectAreaLTC1=Vi.LTC_FLOAT_1,m.rectAreaLTC2=Vi.LTC_FLOAT_2):(m.rectAreaLTC1=Vi.LTC_HALF_1,m.rectAreaLTC2=Vi.LTC_HALF_2)),m.ambient[0]=nt,m.ambient[1]=rt,m.ambient[2]=at;const Wt=m.hash;(Wt.directionalLength!==ft||Wt.pointLength!==Ct||Wt.spotLength!==pt||Wt.rectAreaLength!==ot||Wt.hemiLength!==Vt||Wt.numDirectionalShadows!==Ut||Wt.numPointShadows!==Ft||Wt.numSpotShadows!==Ae||Wt.numSpotMaps!==re||Wt.numLightProbes!==ge)&&(m.directional.length=ft,m.spot.length=pt,m.rectArea.length=ot,m.point.length=Ct,m.hemi.length=Vt,m.directionalShadow.length=Ut,m.directionalShadowMap.length=Ut,m.pointShadow.length=Ft,m.pointShadowMap.length=Ft,m.spotShadow.length=Ae,m.spotShadowMap.length=Ae,m.directionalShadowMatrix.length=Ut,m.pointShadowMatrix.length=Ft,m.spotLightMatrix.length=Ae+re-de,m.spotLightMap.length=re,m.numSpotLightShadowsWithMaps=de,m.numLightProbes=ge,Wt.directionalLength=ft,Wt.pointLength=Ct,Wt.spotLength=pt,Wt.rectAreaLength=ot,Wt.hemiLength=Vt,Wt.numDirectionalShadows=Ut,Wt.numPointShadows=Ft,Wt.numSpotShadows=Ae,Wt.numSpotMaps=re,Wt.numLightProbes=ge,m.version=CV++)}function $(Q,Y){let nt=0,rt=0,at=0,ft=0,Ct=0;const pt=Y.matrixWorldInverse;for(let ot=0,Vt=Q.length;ot<Vt;ot++){const Ut=Q[ot];if(Ut.isDirectionalLight){const Ft=m.directional[nt];Ft.direction.setFromMatrixPosition(Ut.matrixWorld),A.setFromMatrixPosition(Ut.target.matrixWorld),Ft.direction.sub(A),Ft.direction.transformDirection(pt),nt++}else if(Ut.isSpotLight){const Ft=m.spot[at];Ft.position.setFromMatrixPosition(Ut.matrixWorld),Ft.position.applyMatrix4(pt),Ft.direction.setFromMatrixPosition(Ut.matrixWorld),A.setFromMatrixPosition(Ut.target.matrixWorld),Ft.direction.sub(A),Ft.direction.transformDirection(pt),at++}else if(Ut.isRectAreaLight){const Ft=m.rectArea[ft];Ft.position.setFromMatrixPosition(Ut.matrixWorld),Ft.position.applyMatrix4(pt),R.identity(),O.copy(Ut.matrixWorld),O.premultiply(pt),R.extractRotation(O),Ft.halfWidth.set(Ut.width*.5,0,0),Ft.halfHeight.set(0,Ut.height*.5,0),Ft.halfWidth.applyMatrix4(R),Ft.halfHeight.applyMatrix4(R),ft++}else if(Ut.isPointLight){const Ft=m.point[rt];Ft.position.setFromMatrixPosition(Ut.matrixWorld),Ft.position.applyMatrix4(pt),rt++}else if(Ut.isHemisphereLight){const Ft=m.hemi[Ct];Ft.direction.setFromMatrixPosition(Ut.matrixWorld),Ft.direction.transformDirection(pt),Ct++}}}return{setup:L,setupView:$,state:m}}function uC(x){const r=new EV(x),s=[],m=[];function A(Y){Q.camera=Y,s.length=0,m.length=0}function O(Y){s.push(Y)}function R(Y){m.push(Y)}function L(Y){r.setup(s,Y)}function $(Y){r.setupView(s,Y)}const Q={lightsArray:s,shadowsArray:m,camera:null,lights:r,transmissionRenderTarget:{}};return{init:A,state:Q,setupLights:L,setupLightsView:$,pushLight:O,pushShadow:R}}function wV(x){let r=new WeakMap;function s(A,O=0){const R=r.get(A);let L;return R===void 0?(L=new uC(x),r.set(A,[L])):O>=R.length?(L=new uC(x),R.push(L)):L=R[O],L}function m(){r=new WeakMap}return{get:s,dispose:m}}class up extends qr{constructor(r){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=k9,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(r)}copy(r){return super.copy(r),this.depthPacking=r.depthPacking,this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this}}class dp extends qr{constructor(r){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(r)}copy(r){return super.copy(r),this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this}}const OV=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,SV=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function xV(x,r,s){let m=new Yh;const A=new yi,O=new yi,R=new D0,L=new up({depthPacking:Ha}),$=new dp,Q={},Y=s.maxTextureSize,nt={[E]:S,[S]:E,[I]:I},rt=new Lo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new yi},radius:{value:4}},vertexShader:OV,fragmentShader:SV}),at=rt.clone();at.defines.HORIZONTAL_PASS=1;const ft=new u0;ft.setAttribute("position",new Y0(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const Ct=new nr(ft,rt),pt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=C;let ot=this.type;this.render=function(re,de,ge){if(pt.enabled===!1||pt.autoUpdate===!1&&pt.needsUpdate===!1||re.length===0)return;const Yt=x.getRenderTarget(),Wt=x.getActiveCubeFace(),ye=x.getActiveMipmapLevel(),Ie=x.state;Ie.setBlending(T),Ie.buffers.color.setClear(1,1,1,1),Ie.buffers.depth.setTest(!0),Ie.setScissorTest(!1);const Te=ot!==_&&this.type===_,De=ot===_&&this.type!==_;for(let ti=0,gi=re.length;ti<gi;ti++){const Ni=re[ti],ii=Ni.shadow;if(ii===void 0){console.warn("THREE.WebGLShadowMap:",Ni,"has no shadow.");continue}if(ii.autoUpdate===!1&&ii.needsUpdate===!1)continue;A.copy(ii.mapSize);const Ri=ii.getFrameExtents();if(A.multiply(Ri),O.copy(ii.mapSize),(A.x>Y||A.y>Y)&&(A.x>Y&&(O.x=Math.floor(Y/Ri.x),A.x=O.x*Ri.x,ii.mapSize.x=O.x),A.y>Y&&(O.y=Math.floor(Y/Ri.y),A.y=O.y*Ri.y,ii.mapSize.y=O.y)),ii.map===null||Te===!0||De===!0){const fn=this.type!==_?{minFilter:Be,magFilter:Be}:{};ii.map!==null&&ii.map.dispose(),ii.map=new Sa(A.x,A.y,fn),ii.map.texture.name=Ni.name+".shadowMap",ii.camera.updateProjectionMatrix()}x.setRenderTarget(ii.map),x.clear();const Pi=ii.getViewportCount();for(let fn=0;fn<Pi;fn++){const d0=ii.getViewport(fn);R.set(O.x*d0.x,O.y*d0.y,O.x*d0.z,O.y*d0.w),Ie.viewport(R),ii.updateMatrices(Ni,fn),m=ii.getFrustum(),Ft(de,ge,ii.camera,Ni,this.type)}ii.isPointLightShadow!==!0&&this.type===_&&Vt(ii,ge),ii.needsUpdate=!1}ot=this.type,pt.needsUpdate=!1,x.setRenderTarget(Yt,Wt,ye)};function Vt(re,de){const ge=r.update(Ct);rt.defines.VSM_SAMPLES!==re.blurSamples&&(rt.defines.VSM_SAMPLES=re.blurSamples,at.defines.VSM_SAMPLES=re.blurSamples,rt.needsUpdate=!0,at.needsUpdate=!0),re.mapPass===null&&(re.mapPass=new Sa(A.x,A.y)),rt.uniforms.shadow_pass.value=re.map.texture,rt.uniforms.resolution.value=re.mapSize,rt.uniforms.radius.value=re.radius,x.setRenderTarget(re.mapPass),x.clear(),x.renderBufferDirect(de,null,ge,rt,Ct,null),at.uniforms.shadow_pass.value=re.mapPass.texture,at.uniforms.resolution.value=re.mapSize,at.uniforms.radius.value=re.radius,x.setRenderTarget(re.map),x.clear(),x.renderBufferDirect(de,null,ge,at,Ct,null)}function Ut(re,de,ge,Yt){let Wt=null;const ye=ge.isPointLight===!0?re.customDistanceMaterial:re.customDepthMaterial;if(ye!==void 0)Wt=ye;else if(Wt=ge.isPointLight===!0?$:L,x.localClippingEnabled&&de.clipShadows===!0&&Array.isArray(de.clippingPlanes)&&de.clippingPlanes.length!==0||de.displacementMap&&de.displacementScale!==0||de.alphaMap&&de.alphaTest>0||de.map&&de.alphaTest>0){const Ie=Wt.uuid,Te=de.uuid;let De=Q[Ie];De===void 0&&(De={},Q[Ie]=De);let ti=De[Te];ti===void 0&&(ti=Wt.clone(),De[Te]=ti,de.addEventListener("dispose",Ae)),Wt=ti}if(Wt.visible=de.visible,Wt.wireframe=de.wireframe,Yt===_?Wt.side=de.shadowSide!==null?de.shadowSide:de.side:Wt.side=de.shadowSide!==null?de.shadowSide:nt[de.side],Wt.alphaMap=de.alphaMap,Wt.alphaTest=de.alphaTest,Wt.map=de.map,Wt.clipShadows=de.clipShadows,Wt.clippingPlanes=de.clippingPlanes,Wt.clipIntersection=de.clipIntersection,Wt.displacementMap=de.displacementMap,Wt.displacementScale=de.displacementScale,Wt.displacementBias=de.displacementBias,Wt.wireframeLinewidth=de.wireframeLinewidth,Wt.linewidth=de.linewidth,ge.isPointLight===!0&&Wt.isMeshDistanceMaterial===!0){const Ie=x.properties.get(Wt);Ie.light=ge}return Wt}function Ft(re,de,ge,Yt,Wt){if(re.visible===!1)return;if(re.layers.test(de.layers)&&(re.isMesh||re.isLine||re.isPoints)&&(re.castShadow||re.receiveShadow&&Wt===_)&&(!re.frustumCulled||m.intersectsObject(re))){re.modelViewMatrix.multiplyMatrices(ge.matrixWorldInverse,re.matrixWorld);const Te=r.update(re),De=re.material;if(Array.isArray(De)){const ti=Te.groups;for(let gi=0,Ni=ti.length;gi<Ni;gi++){const ii=ti[gi],Ri=De[ii.materialIndex];if(Ri&&Ri.visible){const Pi=Ut(re,Ri,Yt,Wt);re.onBeforeShadow(x,re,de,ge,Te,Pi,ii),x.renderBufferDirect(ge,null,Te,Pi,re,ii),re.onAfterShadow(x,re,de,ge,Te,Pi,ii)}}}else if(De.visible){const ti=Ut(re,De,Yt,Wt);re.onBeforeShadow(x,re,de,ge,Te,ti,null),x.renderBufferDirect(ge,null,Te,ti,re,null),re.onAfterShadow(x,re,de,ge,Te,ti,null)}}const Ie=re.children;for(let Te=0,De=Ie.length;Te<De;Te++)Ft(Ie[Te],de,ge,Yt,Wt)}function Ae(re){re.target.removeEventListener("dispose",Ae);for(const ge in Q){const Yt=Q[ge],Wt=re.target.uuid;Wt in Yt&&(Yt[Wt].dispose(),delete Yt[Wt])}}}function TV(x){function r(){let be=!1;const xi=new D0;let ki=null;const bn=new D0(0,0,0,0);return{setMask:function(rn){ki!==rn&&!be&&(x.colorMask(rn,rn,rn,rn),ki=rn)},setLocked:function(rn){be=rn},setClear:function(rn,s0,an,Ki,m0){m0===!0&&(rn*=Ki,s0*=Ki,an*=Ki),xi.set(rn,s0,an,Ki),bn.equals(xi)===!1&&(x.clearColor(rn,s0,an,Ki),bn.copy(xi))},reset:function(){be=!1,ki=null,bn.set(-1,0,0,0)}}}function s(){let be=!1,xi=null,ki=null,bn=null;return{setTest:function(rn){rn?o9(x.DEPTH_TEST):Mn(x.DEPTH_TEST)},setMask:function(rn){xi!==rn&&!be&&(x.depthMask(rn),xi=rn)},setFunc:function(rn){if(ki!==rn){switch(rn){case kt:x.depthFunc(x.NEVER);break;case Jt:x.depthFunc(x.ALWAYS);break;case Gt:x.depthFunc(x.LESS);break;case ce:x.depthFunc(x.LEQUAL);break;case ae:x.depthFunc(x.EQUAL);break;case qt:x.depthFunc(x.GEQUAL);break;case ue:x.depthFunc(x.GREATER);break;case $e:x.depthFunc(x.NOTEQUAL);break;default:x.depthFunc(x.LEQUAL)}ki=rn}},setLocked:function(rn){be=rn},setClear:function(rn){bn!==rn&&(x.clearDepth(rn),bn=rn)},reset:function(){be=!1,xi=null,ki=null,bn=null}}}function m(){let be=!1,xi=null,ki=null,bn=null,rn=null,s0=null,an=null,Ki=null,m0=null;return{setTest:function(Ln){be||(Ln?o9(x.STENCIL_TEST):Mn(x.STENCIL_TEST))},setMask:function(Ln){xi!==Ln&&!be&&(x.stencilMask(Ln),xi=Ln)},setFunc:function(Ln,mr,ms){(ki!==Ln||bn!==mr||rn!==ms)&&(x.stencilFunc(Ln,mr,ms),ki=Ln,bn=mr,rn=ms)},setOp:function(Ln,mr,ms){(s0!==Ln||an!==mr||Ki!==ms)&&(x.stencilOp(Ln,mr,ms),s0=Ln,an=mr,Ki=ms)},setLocked:function(Ln){be=Ln},setClear:function(Ln){m0!==Ln&&(x.clearStencil(Ln),m0=Ln)},reset:function(){be=!1,xi=null,ki=null,bn=null,rn=null,s0=null,an=null,Ki=null,m0=null}}}const A=new r,O=new s,R=new m,L=new WeakMap,$=new WeakMap;let Q={},Y={},nt=new WeakMap,rt=[],at=null,ft=!1,Ct=null,pt=null,ot=null,Vt=null,Ut=null,Ft=null,Ae=null,re=new ln(0,0,0),de=0,ge=!1,Yt=null,Wt=null,ye=null,Ie=null,Te=null;const De=x.getParameter(x.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ti=!1,gi=0;const Ni=x.getParameter(x.VERSION);Ni.indexOf("WebGL")!==-1?(gi=parseFloat(/^WebGL (\d)/.exec(Ni)[1]),ti=gi>=1):Ni.indexOf("OpenGL ES")!==-1&&(gi=parseFloat(/^OpenGL ES (\d)/.exec(Ni)[1]),ti=gi>=2);let ii=null,Ri={};const Pi=x.getParameter(x.SCISSOR_BOX),fn=x.getParameter(x.VIEWPORT),d0=new D0().fromArray(Pi),H0=new D0().fromArray(fn);function M9(be,xi,ki,bn){const rn=new Uint8Array(4),s0=x.createTexture();x.bindTexture(be,s0),x.texParameteri(be,x.TEXTURE_MIN_FILTER,x.NEAREST),x.texParameteri(be,x.TEXTURE_MAG_FILTER,x.NEAREST);for(let an=0;an<ki;an++)be===x.TEXTURE_3D||be===x.TEXTURE_2D_ARRAY?x.texImage3D(xi,0,x.RGBA,1,1,bn,0,x.RGBA,x.UNSIGNED_BYTE,rn):x.texImage2D(xi+an,0,x.RGBA,1,1,0,x.RGBA,x.UNSIGNED_BYTE,rn);return s0}const F0={};F0[x.TEXTURE_2D]=M9(x.TEXTURE_2D,x.TEXTURE_2D,1),F0[x.TEXTURE_CUBE_MAP]=M9(x.TEXTURE_CUBE_MAP,x.TEXTURE_CUBE_MAP_POSITIVE_X,6),F0[x.TEXTURE_2D_ARRAY]=M9(x.TEXTURE_2D_ARRAY,x.TEXTURE_2D_ARRAY,1,1),F0[x.TEXTURE_3D]=M9(x.TEXTURE_3D,x.TEXTURE_3D,1,1),A.setClear(0,0,0,1),O.setClear(1),R.setClear(0),o9(x.DEPTH_TEST),O.setFunc(ce),Ii(!1),Si(g),o9(x.CULL_FACE),di(T);function o9(be){Q[be]!==!0&&(x.enable(be),Q[be]=!0)}function Mn(be){Q[be]!==!1&&(x.disable(be),Q[be]=!1)}function vi(be,xi){return Y[be]!==xi?(x.bindFramebuffer(be,xi),Y[be]=xi,be===x.DRAW_FRAMEBUFFER&&(Y[x.FRAMEBUFFER]=xi),be===x.FRAMEBUFFER&&(Y[x.DRAW_FRAMEBUFFER]=xi),!0):!1}function Ui(be,xi){let ki=rt,bn=!1;if(be){ki=nt.get(xi),ki===void 0&&(ki=[],nt.set(xi,ki));const rn=be.textures;if(ki.length!==rn.length||ki[0]!==x.COLOR_ATTACHMENT0){for(let s0=0,an=rn.length;s0<an;s0++)ki[s0]=x.COLOR_ATTACHMENT0+s0;ki.length=rn.length,bn=!0}}else ki[0]!==x.BACK&&(ki[0]=x.BACK,bn=!0);bn&&x.drawBuffers(ki)}function Qi(be){return at!==be?(x.useProgram(be),at=be,!0):!1}const Pe={[U]:x.FUNC_ADD,[V]:x.FUNC_SUBTRACT,[z]:x.FUNC_REVERSE_SUBTRACT};Pe[G]=x.MIN,Pe[H]=x.MAX;const bi={[J]:x.ZERO,[Z]:x.ONE,[j]:x.SRC_COLOR,[et]:x.SRC_ALPHA,[xt]:x.SRC_ALPHA_SATURATE,[St]:x.DST_COLOR,[ht]:x.DST_ALPHA,[W]:x.ONE_MINUS_SRC_COLOR,[dt]:x.ONE_MINUS_SRC_ALPHA,[At]:x.ONE_MINUS_DST_COLOR,[st]:x.ONE_MINUS_DST_ALPHA,[gt]:x.CONSTANT_COLOR,[yt]:x.ONE_MINUS_CONSTANT_COLOR,[lt]:x.CONSTANT_ALPHA,[zt]:x.ONE_MINUS_CONSTANT_ALPHA};function di(be,xi,ki,bn,rn,s0,an,Ki,m0,Ln){if(be===T){ft===!0&&(Mn(x.BLEND),ft=!1);return}if(ft===!1&&(o9(x.BLEND),ft=!0),be!==F){if(be!==Ct||Ln!==ge){if((pt!==U||Ut!==U)&&(x.blendEquation(x.FUNC_ADD),pt=U,Ut=U),Ln)switch(be){case k:x.blendFuncSeparate(x.ONE,x.ONE_MINUS_SRC_ALPHA,x.ONE,x.ONE_MINUS_SRC_ALPHA);break;case D:x.blendFunc(x.ONE,x.ONE);break;case N:x.blendFuncSeparate(x.ZERO,x.ONE_MINUS_SRC_COLOR,x.ZERO,x.ONE);break;case P:x.blendFuncSeparate(x.ZERO,x.SRC_COLOR,x.ZERO,x.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}else switch(be){case k:x.blendFuncSeparate(x.SRC_ALPHA,x.ONE_MINUS_SRC_ALPHA,x.ONE,x.ONE_MINUS_SRC_ALPHA);break;case D:x.blendFunc(x.SRC_ALPHA,x.ONE);break;case N:x.blendFuncSeparate(x.ZERO,x.ONE_MINUS_SRC_COLOR,x.ZERO,x.ONE);break;case P:x.blendFunc(x.ZERO,x.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}ot=null,Vt=null,Ft=null,Ae=null,re.set(0,0,0),de=0,Ct=be,ge=Ln}return}rn=rn||xi,s0=s0||ki,an=an||bn,(xi!==pt||rn!==Ut)&&(x.blendEquationSeparate(Pe[xi],Pe[rn]),pt=xi,Ut=rn),(ki!==ot||bn!==Vt||s0!==Ft||an!==Ae)&&(x.blendFuncSeparate(bi[ki],bi[bn],bi[s0],bi[an]),ot=ki,Vt=bn,Ft=s0,Ae=an),(Ki.equals(re)===!1||m0!==de)&&(x.blendColor(Ki.r,Ki.g,Ki.b,m0),re.copy(Ki),de=m0),Ct=be,ge=!1}function Bi(be,xi){be.side===I?Mn(x.CULL_FACE):o9(x.CULL_FACE);let ki=be.side===S;xi&&(ki=!ki),Ii(ki),be.blending===k&&be.transparent===!1?di(T):di(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.blendColor,be.blendAlpha,be.premultipliedAlpha),O.setFunc(be.depthFunc),O.setTest(be.depthTest),O.setMask(be.depthWrite),A.setMask(be.colorWrite);const bn=be.stencilWrite;R.setTest(bn),bn&&(R.setMask(be.stencilWriteMask),R.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),R.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),on(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),be.alphaToCoverage===!0?o9(x.SAMPLE_ALPHA_TO_COVERAGE):Mn(x.SAMPLE_ALPHA_TO_COVERAGE)}function Ii(be){Yt!==be&&(be?x.frontFace(x.CW):x.frontFace(x.CCW),Yt=be)}function Si(be){be!==M?(o9(x.CULL_FACE),be!==Wt&&(be===g?x.cullFace(x.BACK):be===y?x.cullFace(x.FRONT):x.cullFace(x.FRONT_AND_BACK))):Mn(x.CULL_FACE),Wt=be}function Wi(be){be!==ye&&(ti&&x.lineWidth(be),ye=be)}function on(be,xi,ki){be?(o9(x.POLYGON_OFFSET_FILL),(Ie!==xi||Te!==ki)&&(x.polygonOffset(xi,ki),Ie=xi,Te=ki)):Mn(x.POLYGON_OFFSET_FILL)}function Jn(be){be?o9(x.SCISSOR_TEST):Mn(x.SCISSOR_TEST)}function Wn(be){be===void 0&&(be=x.TEXTURE0+De-1),ii!==be&&(x.activeTexture(be),ii=be)}function U0(be,xi,ki){ki===void 0&&(ii===null?ki=x.TEXTURE0+De-1:ki=ii);let bn=Ri[ki];bn===void 0&&(bn={type:void 0,texture:void 0},Ri[ki]=bn),(bn.type!==be||bn.texture!==xi)&&(ii!==ki&&(x.activeTexture(ki),ii=ki),x.bindTexture(be,xi||F0[be]),bn.type=be,bn.texture=xi)}function F9(){const be=Ri[ii];be!==void 0&&be.type!==void 0&&(x.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)}function y9(){try{x.compressedTexImage2D.apply(x,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function me(){try{x.compressedTexImage3D.apply(x,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Kt(){try{x.texSubImage2D.apply(x,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function ci(){try{x.texSubImage3D.apply(x,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Ai(){try{x.compressedTexSubImage2D.apply(x,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Oi(){try{x.compressedTexSubImage3D.apply(x,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Ci(){try{x.texStorage2D.apply(x,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function vn(){try{x.texStorage3D.apply(x,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Fi(){try{x.texImage2D.apply(x,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function cn(){try{x.texImage3D.apply(x,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function K0(be){d0.equals(be)===!1&&(x.scissor(be.x,be.y,be.z,be.w),d0.copy(be))}function un(be){H0.equals(be)===!1&&(x.viewport(be.x,be.y,be.z,be.w),H0.copy(be))}function Cn(be,xi){let ki=$.get(xi);ki===void 0&&(ki=new WeakMap,$.set(xi,ki));let bn=ki.get(be);bn===void 0&&(bn=x.getUniformBlockIndex(xi,be.name),ki.set(be,bn))}function o0(be,xi){const bn=$.get(xi).get(be);L.get(xi)!==bn&&(x.uniformBlockBinding(xi,bn,be.__bindingPointIndex),L.set(xi,bn))}function kn(){x.disable(x.BLEND),x.disable(x.CULL_FACE),x.disable(x.DEPTH_TEST),x.disable(x.POLYGON_OFFSET_FILL),x.disable(x.SCISSOR_TEST),x.disable(x.STENCIL_TEST),x.disable(x.SAMPLE_ALPHA_TO_COVERAGE),x.blendEquation(x.FUNC_ADD),x.blendFunc(x.ONE,x.ZERO),x.blendFuncSeparate(x.ONE,x.ZERO,x.ONE,x.ZERO),x.blendColor(0,0,0,0),x.colorMask(!0,!0,!0,!0),x.clearColor(0,0,0,0),x.depthMask(!0),x.depthFunc(x.LESS),x.clearDepth(1),x.stencilMask(4294967295),x.stencilFunc(x.ALWAYS,0,4294967295),x.stencilOp(x.KEEP,x.KEEP,x.KEEP),x.clearStencil(0),x.cullFace(x.BACK),x.frontFace(x.CCW),x.polygonOffset(0,0),x.activeTexture(x.TEXTURE0),x.bindFramebuffer(x.FRAMEBUFFER,null),x.bindFramebuffer(x.DRAW_FRAMEBUFFER,null),x.bindFramebuffer(x.READ_FRAMEBUFFER,null),x.useProgram(null),x.lineWidth(1),x.scissor(0,0,x.canvas.width,x.canvas.height),x.viewport(0,0,x.canvas.width,x.canvas.height),Q={},ii=null,Ri={},Y={},nt=new WeakMap,rt=[],at=null,ft=!1,Ct=null,pt=null,ot=null,Vt=null,Ut=null,Ft=null,Ae=null,re=new ln(0,0,0),de=0,ge=!1,Yt=null,Wt=null,ye=null,Ie=null,Te=null,d0.set(0,0,x.canvas.width,x.canvas.height),H0.set(0,0,x.canvas.width,x.canvas.height),A.reset(),O.reset(),R.reset()}return{buffers:{color:A,depth:O,stencil:R},enable:o9,disable:Mn,bindFramebuffer:vi,drawBuffers:Ui,useProgram:Qi,setBlending:di,setMaterial:Bi,setFlipSided:Ii,setCullFace:Si,setLineWidth:Wi,setPolygonOffset:on,setScissorTest:Jn,activeTexture:Wn,bindTexture:U0,unbindTexture:F9,compressedTexImage2D:y9,compressedTexImage3D:me,texImage2D:Fi,texImage3D:cn,updateUBOMapping:Cn,uniformBlockBinding:o0,texStorage2D:Ci,texStorage3D:vn,texSubImage2D:Kt,texSubImage3D:ci,compressedTexSubImage2D:Ai,compressedTexSubImage3D:Oi,scissor:K0,viewport:un,reset:kn}}function IV(x,r,s,m,A,O,R){const L=r.has("WEBGL_multisampled_render_to_texture")?r.get("WEBGL_multisampled_render_to_texture"):null,$=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),Q=r.has("OCULUS_multiview")?r.get("OCULUS_multiview"):null,Y=new yi,nt=new WeakMap;let rt;const at=new WeakMap;let ft=[],Ct=!1,pt=!1;try{pt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function ot(me,Kt){return pt?new OffscreenCanvas(me,Kt):uu("canvas")}function Vt(me,Kt,ci){let Ai=1;const Oi=y9(me);if((Oi.width>ci||Oi.height>ci)&&(Ai=ci/Math.max(Oi.width,Oi.height)),Ai<1)if(typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&me instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&me instanceof ImageBitmap||typeof VideoFrame<"u"&&me instanceof VideoFrame){const Ci=Math.floor(Ai*Oi.width),vn=Math.floor(Ai*Oi.height);rt===void 0&&(rt=ot(Ci,vn));const Fi=Kt?ot(Ci,vn):rt;return Fi.width=Ci,Fi.height=vn,Fi.getContext("2d").drawImage(me,0,0,Ci,vn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Oi.width+"x"+Oi.height+") to ("+Ci+"x"+vn+")."),Fi}else return"data"in me&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Oi.width+"x"+Oi.height+")."),me;return me}function Ut(me){return me.generateMipmaps&&me.minFilter!==Be&&me.minFilter!==Ve}function Ft(me){x.generateMipmap(me)}function Ae(me,Kt,ci,Ai,Oi=!1){if(me!==null){if(x[me]!==void 0)return x[me];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+me+"'")}let Ci=Kt;if(Kt===x.RED&&(ci===x.FLOAT&&(Ci=x.R32F),ci===x.HALF_FLOAT&&(Ci=x.R16F),ci===x.UNSIGNED_BYTE&&(Ci=x.R8)),Kt===x.RED_INTEGER&&(ci===x.UNSIGNED_BYTE&&(Ci=x.R8UI),ci===x.UNSIGNED_SHORT&&(Ci=x.R16UI),ci===x.UNSIGNED_INT&&(Ci=x.R32UI),ci===x.BYTE&&(Ci=x.R8I),ci===x.SHORT&&(Ci=x.R16I),ci===x.INT&&(Ci=x.R32I)),Kt===x.RG&&(ci===x.FLOAT&&(Ci=x.RG32F),ci===x.HALF_FLOAT&&(Ci=x.RG16F),ci===x.UNSIGNED_BYTE&&(Ci=x.RG8)),Kt===x.RG_INTEGER&&(ci===x.UNSIGNED_BYTE&&(Ci=x.RG8UI),ci===x.UNSIGNED_SHORT&&(Ci=x.RG16UI),ci===x.UNSIGNED_INT&&(Ci=x.RG32UI),ci===x.BYTE&&(Ci=x.RG8I),ci===x.SHORT&&(Ci=x.RG16I),ci===x.INT&&(Ci=x.RG32I)),Kt===x.RGB&&ci===x.UNSIGNED_INT_5_9_9_9_REV&&(Ci=x.RGB9_E5),Kt===x.RGBA){const vn=Oi?ru:G0.getTransfer(Ai);ci===x.FLOAT&&(Ci=x.RGBA32F),ci===x.HALF_FLOAT&&(Ci=x.RGBA16F),ci===x.UNSIGNED_BYTE&&(Ci=vn===a9?x.SRGB8_ALPHA8:x.RGBA8),ci===x.UNSIGNED_SHORT_4_4_4_4&&(Ci=x.RGBA4),ci===x.UNSIGNED_SHORT_5_5_5_1&&(Ci=x.RGB5_A1)}return(Ci===x.R16F||Ci===x.R32F||Ci===x.RG16F||Ci===x.RG32F||Ci===x.RGBA16F||Ci===x.RGBA32F)&&r.get("EXT_color_buffer_float"),Ci}function re(me,Kt){return Ut(me)===!0||me.isFramebufferTexture&&me.minFilter!==Be&&me.minFilter!==Ve?Math.log2(Math.max(Kt.width,Kt.height))+1:me.mipmaps!==void 0&&me.mipmaps.length>0?me.mipmaps.length:me.isCompressedTexture&&Array.isArray(me.image)?Kt.mipmaps.length:1}function de(me){const Kt=me.target;Kt.removeEventListener("dispose",de),Yt(Kt),Kt.isVideoTexture&&nt.delete(Kt)}function ge(me){const Kt=me.target;Kt.removeEventListener("dispose",ge),ye(Kt)}function Yt(me){const Kt=m.get(me);if(Kt.__webglInit===void 0)return;const ci=me.source,Ai=at.get(ci);if(Ai){const Oi=Ai[Kt.__cacheKey];Oi.usedTimes--,Oi.usedTimes===0&&Wt(me),Object.keys(Ai).length===0&&at.delete(ci)}m.remove(me)}function Wt(me){const Kt=m.get(me);x.deleteTexture(Kt.__webglTexture);const ci=me.source,Ai=at.get(ci);delete Ai[Kt.__cacheKey],R.memory.textures--}function ye(me){const Kt=m.get(me);if(me.depthTexture&&me.depthTexture.dispose(),me.isWebGLCubeRenderTarget)for(let Ai=0;Ai<6;Ai++){if(Array.isArray(Kt.__webglFramebuffer[Ai]))for(let Oi=0;Oi<Kt.__webglFramebuffer[Ai].length;Oi++)x.deleteFramebuffer(Kt.__webglFramebuffer[Ai][Oi]);else x.deleteFramebuffer(Kt.__webglFramebuffer[Ai]);Kt.__webglDepthbuffer&&x.deleteRenderbuffer(Kt.__webglDepthbuffer[Ai])}else{if(Array.isArray(Kt.__webglFramebuffer))for(let Ai=0;Ai<Kt.__webglFramebuffer.length;Ai++)x.deleteFramebuffer(Kt.__webglFramebuffer[Ai]);else x.deleteFramebuffer(Kt.__webglFramebuffer);if(Kt.__webglDepthbuffer&&x.deleteRenderbuffer(Kt.__webglDepthbuffer),Kt.__webglMultisampledFramebuffer&&x.deleteFramebuffer(Kt.__webglMultisampledFramebuffer),Kt.__webglColorRenderbuffer)for(let Ai=0;Ai<Kt.__webglColorRenderbuffer.length;Ai++)Kt.__webglColorRenderbuffer[Ai]&&x.deleteRenderbuffer(Kt.__webglColorRenderbuffer[Ai]);Kt.__webglDepthRenderbuffer&&x.deleteRenderbuffer(Kt.__webglDepthRenderbuffer)}const ci=me.textures;for(let Ai=0,Oi=ci.length;Ai<Oi;Ai++){const Ci=m.get(ci[Ai]);Ci.__webglTexture&&(x.deleteTexture(Ci.__webglTexture),R.memory.textures--),m.remove(ci[Ai])}m.remove(me)}let Ie=0;function Te(){Ie=0}function De(){const me=Ie;return me>=A.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+me+" texture units while this GPU supports only "+A.maxTextures),Ie+=1,me}function ti(me){const Kt=[];return Kt.push(me.wrapS),Kt.push(me.wrapT),Kt.push(me.wrapR||0),Kt.push(me.magFilter),Kt.push(me.minFilter),Kt.push(me.anisotropy),Kt.push(me.internalFormat),Kt.push(me.format),Kt.push(me.type),Kt.push(me.generateMipmaps),Kt.push(me.premultiplyAlpha),Kt.push(me.flipY),Kt.push(me.unpackAlignment),Kt.push(me.colorSpace),Kt.join()}function gi(me,Kt){const ci=m.get(me);if(me.isVideoTexture&&U0(me),me.isRenderTargetTexture===!1&&me.version>0&&ci.__version!==me.version){const Ai=me.image;if(Ai===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ai.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else if(Mn(ci,me,Kt))return}s.bindTexture(x.TEXTURE_2D,ci.__webglTexture,x.TEXTURE0+Kt)}function Ni(me,Kt){const ci=m.get(me);if(me.version>0&&ci.__version!==me.version){Mn(ci,me,Kt);return}s.bindTexture(x.TEXTURE_2D_ARRAY,ci.__webglTexture,x.TEXTURE0+Kt)}function ii(me,Kt){const ci=m.get(me);if(me.version>0&&ci.__version!==me.version){Mn(ci,me,Kt);return}s.bindTexture(x.TEXTURE_3D,ci.__webglTexture,x.TEXTURE0+Kt)}function Ri(me,Kt){const ci=m.get(me);if(me.version>0&&ci.__version!==me.version){vi(ci,me,Kt);return}s.bindTexture(x.TEXTURE_CUBE_MAP,ci.__webglTexture,x.TEXTURE0+Kt)}const Pi={[jt]:x.REPEAT,[ne]:x.CLAMP_TO_EDGE,[se]:x.MIRRORED_REPEAT},fn={[Be]:x.NEAREST,[we]:x.NEAREST_MIPMAP_NEAREST,[li]:x.NEAREST_MIPMAP_LINEAR,[Ve]:x.LINEAR,[ji]:x.LINEAR_MIPMAP_NEAREST,[ke]:x.LINEAR_MIPMAP_LINEAR},d0={[V3]:x.NEVER,[q3]:x.ALWAYS,[Q3]:x.LESS,[$h]:x.LEQUAL,[z3]:x.EQUAL,[K3]:x.GEQUAL,[j3]:x.GREATER,[W3]:x.NOTEQUAL};function H0(me,Kt){if(Kt.type===ai&&r.has("OES_texture_float_linear")===!1&&(Kt.magFilter===Ve||Kt.magFilter===ji||Kt.magFilter===li||Kt.magFilter===ke||Kt.minFilter===Ve||Kt.minFilter===ji||Kt.minFilter===li||Kt.minFilter===ke)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),x.texParameteri(me,x.TEXTURE_WRAP_S,Pi[Kt.wrapS]),x.texParameteri(me,x.TEXTURE_WRAP_T,Pi[Kt.wrapT]),(me===x.TEXTURE_3D||me===x.TEXTURE_2D_ARRAY)&&x.texParameteri(me,x.TEXTURE_WRAP_R,Pi[Kt.wrapR]),x.texParameteri(me,x.TEXTURE_MAG_FILTER,fn[Kt.magFilter]),x.texParameteri(me,x.TEXTURE_MIN_FILTER,fn[Kt.minFilter]),Kt.compareFunction&&(x.texParameteri(me,x.TEXTURE_COMPARE_MODE,x.COMPARE_REF_TO_TEXTURE),x.texParameteri(me,x.TEXTURE_COMPARE_FUNC,d0[Kt.compareFunction])),r.has("EXT_texture_filter_anisotropic")===!0){if(Kt.magFilter===Be||Kt.minFilter!==li&&Kt.minFilter!==ke||Kt.type===ai&&r.has("OES_texture_float_linear")===!1)return;if(Kt.anisotropy>1||m.get(Kt).__currentAnisotropy){const ci=r.get("EXT_texture_filter_anisotropic");x.texParameterf(me,ci.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Kt.anisotropy,A.getMaxAnisotropy())),m.get(Kt).__currentAnisotropy=Kt.anisotropy}}}function M9(me,Kt){let ci=!1;me.__webglInit===void 0&&(me.__webglInit=!0,Kt.addEventListener("dispose",de));const Ai=Kt.source;let Oi=at.get(Ai);Oi===void 0&&(Oi={},at.set(Ai,Oi));const Ci=ti(Kt);if(Ci!==me.__cacheKey){Oi[Ci]===void 0&&(Oi[Ci]={texture:x.createTexture(),usedTimes:0},R.memory.textures++,ci=!0),Oi[Ci].usedTimes++;const vn=Oi[me.__cacheKey];vn!==void 0&&(Oi[me.__cacheKey].usedTimes--,vn.usedTimes===0&&Wt(Kt)),me.__cacheKey=Ci,me.__webglTexture=Oi[Ci].texture}return ci}function F0(me){Ct=me}function o9(){const me=Ct;Ct=!1;for(const Kt of ft)Mn(Kt.textureProperties,Kt.texture,Kt.slot),Kt.texture.isPendingDeferredUpload=!1;ft=[],Ct=me}function Mn(me,Kt,ci){if(Ct)return Kt.isPendingDeferredUpload||(Kt.isPendingDeferredUpload=!0,ft.push({textureProperties:me,texture:Kt,slot:ci})),!1;let Ai=x.TEXTURE_2D;(Kt.isDataArrayTexture||Kt.isCompressedArrayTexture)&&(Ai=x.TEXTURE_2D_ARRAY),Kt.isData3DTexture&&(Ai=x.TEXTURE_3D);const Oi=M9(me,Kt),Ci=Kt.source;s.bindTexture(Ai,me.__webglTexture,x.TEXTURE0+ci);const vn=m.get(Ci);if(Ci.version!==vn.__version||Oi===!0){s.activeTexture(x.TEXTURE0+ci);const Fi=G0.getPrimaries(G0.workingColorSpace),cn=Kt.colorSpace===Nr?null:G0.getPrimaries(Kt.colorSpace),K0=Kt.colorSpace===Nr||Fi===cn?x.NONE:x.BROWSER_DEFAULT_WEBGL;x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,Kt.flipY),x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Kt.premultiplyAlpha),x.pixelStorei(x.UNPACK_ALIGNMENT,Kt.unpackAlignment),x.pixelStorei(x.UNPACK_COLORSPACE_CONVERSION_WEBGL,K0);let un=Vt(Kt.image,!1,A.maxTextureSize);un=F9(Kt,un);const Cn=O.convert(Kt.format,Kt.colorSpace),o0=O.convert(Kt.type);let kn=Ae(Kt.internalFormat,Cn,o0,Kt.colorSpace,Kt.isVideoTexture);H0(Ai,Kt);let be;const xi=Kt.mipmaps,ki=Kt.isVideoTexture!==!0,bn=vn.__version===void 0||Oi===!0,rn=Ci.dataReady,s0=re(Kt,un);if(Kt.isDepthTexture)kn=x.DEPTH_COMPONENT16,Kt.type===ai?kn=x.DEPTH_COMPONENT32F:Kt.type===Gn?kn=x.DEPTH_COMPONENT24:Kt.type===dn&&(kn=x.DEPTH24_STENCIL8),bn&&(ki?s.texStorage2D(x.TEXTURE_2D,1,kn,un.width,un.height):s.texImage2D(x.TEXTURE_2D,0,kn,un.width,un.height,0,Cn,o0,null));else if(Kt.isDataTexture)if(xi.length>0){ki&&bn&&s.texStorage2D(x.TEXTURE_2D,s0,kn,xi[0].width,xi[0].height);for(let an=0,Ki=xi.length;an<Ki;an++)be=xi[an],ki?rn&&s.texSubImage2D(x.TEXTURE_2D,an,0,0,be.width,be.height,Cn,o0,be.data):s.texImage2D(x.TEXTURE_2D,an,kn,be.width,be.height,0,Cn,o0,be.data);Kt.generateMipmaps=!1}else ki?(bn&&s.texStorage2D(x.TEXTURE_2D,s0,kn,un.width,un.height),rn&&s.texSubImage2D(x.TEXTURE_2D,0,0,0,un.width,un.height,Cn,o0,un.data)):s.texImage2D(x.TEXTURE_2D,0,kn,un.width,un.height,0,Cn,o0,un.data);else if(Kt.isCompressedTexture)if(Kt.isCompressedArrayTexture){ki&&bn&&s.texStorage3D(x.TEXTURE_2D_ARRAY,s0,kn,xi[0].width,xi[0].height,un.depth);for(let an=0,Ki=xi.length;an<Ki;an++)be=xi[an],Kt.format!==le?Cn!==null?ki?rn&&s.compressedTexSubImage3D(x.TEXTURE_2D_ARRAY,an,0,0,0,be.width,be.height,un.depth,Cn,be.data,0,0):s.compressedTexImage3D(x.TEXTURE_2D_ARRAY,an,kn,be.width,be.height,un.depth,0,be.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ki?rn&&s.texSubImage3D(x.TEXTURE_2D_ARRAY,an,0,0,0,be.width,be.height,un.depth,Cn,o0,be.data):s.texImage3D(x.TEXTURE_2D_ARRAY,an,kn,be.width,be.height,un.depth,0,Cn,o0,be.data)}else{ki&&bn&&s.texStorage2D(x.TEXTURE_2D,s0,kn,xi[0].width,xi[0].height);for(let an=0,Ki=xi.length;an<Ki;an++)be=xi[an],Kt.format!==le?Cn!==null?ki?rn&&s.compressedTexSubImage2D(x.TEXTURE_2D,an,0,0,be.width,be.height,Cn,be.data):s.compressedTexImage2D(x.TEXTURE_2D,an,kn,be.width,be.height,0,be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ki?rn&&s.texSubImage2D(x.TEXTURE_2D,an,0,0,be.width,be.height,Cn,o0,be.data):s.texImage2D(x.TEXTURE_2D,an,kn,be.width,be.height,0,Cn,o0,be.data)}else if(Kt.isDataArrayTexture)ki?(bn&&s.texStorage3D(x.TEXTURE_2D_ARRAY,s0,kn,un.width,un.height,un.depth),rn&&s.texSubImage3D(x.TEXTURE_2D_ARRAY,0,0,0,0,un.width,un.height,un.depth,Cn,o0,un.data)):s.texImage3D(x.TEXTURE_2D_ARRAY,0,kn,un.width,un.height,un.depth,0,Cn,o0,un.data);else if(Kt.isData3DTexture)ki?(bn&&s.texStorage3D(x.TEXTURE_3D,s0,kn,un.width,un.height,un.depth),rn&&s.texSubImage3D(x.TEXTURE_3D,0,0,0,0,un.width,un.height,un.depth,Cn,o0,un.data)):s.texImage3D(x.TEXTURE_3D,0,kn,un.width,un.height,un.depth,0,Cn,o0,un.data);else if(Kt.isFramebufferTexture){if(bn)if(ki)s.texStorage2D(x.TEXTURE_2D,s0,kn,un.width,un.height);else{let an=un.width,Ki=un.height;for(let m0=0;m0<s0;m0++)s.texImage2D(x.TEXTURE_2D,m0,kn,an,Ki,0,Cn,o0,null),an>>=1,Ki>>=1}}else if(xi.length>0){if(ki&&bn){const an=y9(xi[0]);s.texStorage2D(x.TEXTURE_2D,s0,kn,an.width,an.height)}for(let an=0,Ki=xi.length;an<Ki;an++)be=xi[an],ki?rn&&s.texSubImage2D(x.TEXTURE_2D,an,0,0,Cn,o0,be):s.texImage2D(x.TEXTURE_2D,an,kn,Cn,o0,be);Kt.generateMipmaps=!1}else if(ki){if(bn){const an=y9(un);s.texStorage2D(x.TEXTURE_2D,s0,kn,an.width,an.height)}rn&&s.texSubImage2D(x.TEXTURE_2D,0,0,0,Cn,o0,un)}else s.texImage2D(x.TEXTURE_2D,0,kn,Cn,o0,un);Ut(Kt)&&Ft(Ai),vn.__version=Ci.version,Kt.onUpdate&&Kt.onUpdate(Kt)}return me.__version=Kt.version,!0}function vi(me,Kt,ci){if(Kt.image.length!==6)return;const Ai=M9(me,Kt),Oi=Kt.source;s.bindTexture(x.TEXTURE_CUBE_MAP,me.__webglTexture,x.TEXTURE0+ci);const Ci=m.get(Oi);if(Oi.version!==Ci.__version||Ai===!0){s.activeTexture(x.TEXTURE0+ci);const vn=G0.getPrimaries(G0.workingColorSpace),Fi=Kt.colorSpace===Nr?null:G0.getPrimaries(Kt.colorSpace),cn=Kt.colorSpace===Nr||vn===Fi?x.NONE:x.BROWSER_DEFAULT_WEBGL;x.pixelStorei(x.UNPACK_FLIP_Y_WEBGL,Kt.flipY),x.pixelStorei(x.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Kt.premultiplyAlpha),x.pixelStorei(x.UNPACK_ALIGNMENT,Kt.unpackAlignment),x.pixelStorei(x.UNPACK_COLORSPACE_CONVERSION_WEBGL,cn);const K0=Kt.isCompressedTexture||Kt.image[0].isCompressedTexture,un=Kt.image[0]&&Kt.image[0].isDataTexture,Cn=[];for(let Ki=0;Ki<6;Ki++)!K0&&!un?Cn[Ki]=Vt(Kt.image[Ki],!0,A.maxCubemapSize):Cn[Ki]=un?Kt.image[Ki].image:Kt.image[Ki],Cn[Ki]=F9(Kt,Cn[Ki]);const o0=Cn[0],kn=O.convert(Kt.format,Kt.colorSpace),be=O.convert(Kt.type),xi=Ae(Kt.internalFormat,kn,be,Kt.colorSpace),ki=Kt.isVideoTexture!==!0,bn=Ci.__version===void 0||Ai===!0,rn=Oi.dataReady;let s0=re(Kt,o0);H0(x.TEXTURE_CUBE_MAP,Kt);let an;if(K0){ki&&bn&&s.texStorage2D(x.TEXTURE_CUBE_MAP,s0,xi,o0.width,o0.height);for(let Ki=0;Ki<6;Ki++){an=Cn[Ki].mipmaps;for(let m0=0;m0<an.length;m0++){const Ln=an[m0];Kt.format!==le?kn!==null?ki?rn&&s.compressedTexSubImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,m0,0,0,Ln.width,Ln.height,kn,Ln.data):s.compressedTexImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,m0,xi,Ln.width,Ln.height,0,Ln.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ki?rn&&s.texSubImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,m0,0,0,Ln.width,Ln.height,kn,be,Ln.data):s.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,m0,xi,Ln.width,Ln.height,0,kn,be,Ln.data)}}}else{if(an=Kt.mipmaps,ki&&bn){an.length>0&&s0++;const Ki=y9(Cn[0]);s.texStorage2D(x.TEXTURE_CUBE_MAP,s0,xi,Ki.width,Ki.height)}for(let Ki=0;Ki<6;Ki++)if(un){ki?rn&&s.texSubImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,0,0,0,Cn[Ki].width,Cn[Ki].height,kn,be,Cn[Ki].data):s.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,0,xi,Cn[Ki].width,Cn[Ki].height,0,kn,be,Cn[Ki].data);for(let m0=0;m0<an.length;m0++){const mr=an[m0].image[Ki].image;ki?rn&&s.texSubImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,m0+1,0,0,mr.width,mr.height,kn,be,mr.data):s.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,m0+1,xi,mr.width,mr.height,0,kn,be,mr.data)}}else{ki?rn&&s.texSubImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,0,0,0,kn,be,Cn[Ki]):s.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,0,xi,kn,be,Cn[Ki]);for(let m0=0;m0<an.length;m0++){const Ln=an[m0];ki?rn&&s.texSubImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,m0+1,0,0,kn,be,Ln.image[Ki]):s.texImage2D(x.TEXTURE_CUBE_MAP_POSITIVE_X+Ki,m0+1,xi,kn,be,Ln.image[Ki])}}}Ut(Kt)&&Ft(x.TEXTURE_CUBE_MAP),Ci.__version=Oi.version,Kt.onUpdate&&Kt.onUpdate(Kt)}me.__version=Kt.version}function Ui(me,Kt,ci,Ai,Oi,Ci){const vn=O.convert(ci.format,ci.colorSpace),Fi=O.convert(ci.type),cn=Ae(ci.internalFormat,vn,Fi,ci.colorSpace);if(!m.get(Kt).__hasExternalTextures){const Cn=Math.max(1,Kt.width>>Ci),o0=Math.max(1,Kt.height>>Ci);Kt.isWebGLMultiviewRenderTarget===!0?s.texStorage3D(x.TEXTURE_2D_ARRAY,0,cn,Kt.width,Kt.height,Kt.numViews):Oi===x.TEXTURE_3D||Oi===x.TEXTURE_2D_ARRAY?s.texImage3D(Oi,Ci,cn,Cn,o0,Kt.depth,0,vn,Fi,null):s.texImage2D(Oi,Ci,cn,Cn,o0,0,vn,Fi,null)}s.bindFramebuffer(x.FRAMEBUFFER,me);const un=Wn(Kt);Kt.isWebGLMultiviewRenderTarget===!0?un?Q.framebufferTextureMultisampleMultiviewOVR(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,m.get(ci).__webglTexture,0,Jn(Kt),0,Kt.numViews):Q.framebufferTextureMultiviewOVR(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0,m.get(ci).__webglTexture,0,0,Kt.numViews):(Oi===x.TEXTURE_2D||Oi>=x.TEXTURE_CUBE_MAP_POSITIVE_X&&Oi<=x.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&(un?L.framebufferTexture2DMultisampleEXT(x.FRAMEBUFFER,Ai,Oi,m.get(ci).__webglTexture,0,Jn(Kt)):x.framebufferTexture2D(x.FRAMEBUFFER,Ai,Oi,m.get(ci).__webglTexture,Ci)),s.bindFramebuffer(x.FRAMEBUFFER,null)}function Qi(me,Kt,ci){if(x.bindRenderbuffer(x.RENDERBUFFER,me),Kt.isWebGLMultiviewRenderTarget===!0){const Ai=Wn(Kt),Oi=Kt.numViews,Ci=Kt.depthTexture;let vn=x.DEPTH_COMPONENT24,Fi=x.DEPTH_ATTACHMENT;Ci&&Ci.isDepthTexture&&(Ci.type===ai?vn=x.DEPTH_COMPONENT32F:Ci.type===dn&&(vn=x.DEPTH24_STENCIL8,Fi=x.DEPTH_STENCIL_ATTACHMENT));let cn=m.get(Kt.depthTexture).__webglTexture;cn===void 0&&(cn=x.createTexture(),x.bindTexture(x.TEXTURE_2D_ARRAY,cn),x.texStorage3D(x.TEXTURE_2D_ARRAY,1,vn,Kt.width,Kt.height,Oi)),Ai?Q.framebufferTextureMultisampleMultiviewOVR(x.FRAMEBUFFER,Fi,cn,0,Jn(Kt),0,Oi):Q.framebufferTextureMultiviewOVR(x.FRAMEBUFFER,Fi,cn,0,0,Oi)}else if(Kt.depthBuffer&&!Kt.stencilBuffer){let Ai=x.DEPTH_COMPONENT24;if(ci||Wn(Kt)){const Oi=Kt.depthTexture;Oi&&Oi.isDepthTexture&&(Oi.type===ai?Ai=x.DEPTH_COMPONENT32F:Oi.type===Gn&&(Ai=x.DEPTH_COMPONENT24));const Ci=Jn(Kt);Wn(Kt)?L.renderbufferStorageMultisampleEXT(x.RENDERBUFFER,Ci,Ai,Kt.width,Kt.height):x.renderbufferStorageMultisample(x.RENDERBUFFER,Ci,Ai,Kt.width,Kt.height)}else x.renderbufferStorage(x.RENDERBUFFER,Ai,Kt.width,Kt.height);x.framebufferRenderbuffer(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,x.RENDERBUFFER,me)}else if(Kt.depthBuffer&&Kt.stencilBuffer){const Ai=Jn(Kt);ci&&Wn(Kt)===!1?x.renderbufferStorageMultisample(x.RENDERBUFFER,Ai,x.DEPTH24_STENCIL8,Kt.width,Kt.height):Wn(Kt)?L.renderbufferStorageMultisampleEXT(x.RENDERBUFFER,Ai,x.DEPTH24_STENCIL8,Kt.width,Kt.height):x.renderbufferStorage(x.RENDERBUFFER,x.DEPTH_STENCIL,Kt.width,Kt.height),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.DEPTH_STENCIL_ATTACHMENT,x.RENDERBUFFER,me)}else{const Ai=Kt.textures;for(let Oi=0;Oi<Ai.length;Oi++){const Ci=Ai[Oi],vn=O.convert(Ci.format,Ci.colorSpace),Fi=O.convert(Ci.type),cn=Ae(Ci.internalFormat,vn,Fi,Ci.colorSpace),K0=Jn(Kt);ci&&Wn(Kt)===!1?x.renderbufferStorageMultisample(x.RENDERBUFFER,K0,cn,Kt.width,Kt.height):Wn(Kt)?L.renderbufferStorageMultisampleEXT(x.RENDERBUFFER,K0,cn,Kt.width,Kt.height):x.renderbufferStorage(x.RENDERBUFFER,cn,Kt.width,Kt.height)}}x.bindRenderbuffer(x.RENDERBUFFER,null)}function Pe(me,Kt){if(Kt&&Kt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(s.bindFramebuffer(x.FRAMEBUFFER,me),!(Kt.depthTexture&&Kt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!m.get(Kt.depthTexture).__webglTexture||Kt.depthTexture.image.width!==Kt.width||Kt.depthTexture.image.height!==Kt.height)&&(Kt.depthTexture.image.width=Kt.width,Kt.depthTexture.image.height=Kt.height,Kt.depthTexture.needsUpdate=!0),gi(Kt.depthTexture,0),Kt.depthTexture.image.depth!=1?Ni(Kt.depthTexture,0):gi(Kt.depthTexture,0);const Ai=m.get(Kt.depthTexture).__webglTexture,Oi=Jn(Kt);if(Kt.isWebGLMultiviewRenderTarget===!0){const Ci=Wn(Kt),vn=Kt.numViews;if(Kt.depthTexture.format===Ue)Ci?Q.framebufferTextureMultisampleMultiviewOVR(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,Ai,0,Oi,0,vn):Q.framebufferTextureMultiviewOVR(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,Ai,0,0,vn);else if(Kt.depthTexture.format===ui)Ci?Q.framebufferTextureMultisampleMultiviewOVR(x.FRAMEBUFFER,x.DEPTH_STENCIL_ATTACHMENT,Ai,0,Oi,0,vn):Q.framebufferTextureMultiviewOVR(x.FRAMEBUFFER,x.DEPTH_STENCIL_ATTACHMENT,Ai,0,0,vn);else throw new Error("Unknown depthTexture format")}else if(Kt.depthTexture.format===Ue)Wn(Kt)?L.framebufferTexture2DMultisampleEXT(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,x.TEXTURE_2D,Ai,0,Oi):x.framebufferTexture2D(x.FRAMEBUFFER,x.DEPTH_ATTACHMENT,x.TEXTURE_2D,Ai,0);else if(Kt.depthTexture.format===ui)Wn(Kt)?L.framebufferTexture2DMultisampleEXT(x.FRAMEBUFFER,x.DEPTH_STENCIL_ATTACHMENT,x.TEXTURE_2D,Ai,0,Oi):x.framebufferTexture2D(x.FRAMEBUFFER,x.DEPTH_STENCIL_ATTACHMENT,x.TEXTURE_2D,Ai,0);else throw new Error("Unknown depthTexture format")}function bi(me){const Kt=m.get(me),ci=me.isWebGLCubeRenderTarget===!0;if(me.depthTexture&&!Kt.__autoAllocateDepthBuffer){if(ci)throw new Error("target.depthTexture not supported in Cube render targets");Pe(Kt.__webglFramebuffer,me)}else if(ci){Kt.__webglDepthbuffer=[];for(let Ai=0;Ai<6;Ai++)s.bindFramebuffer(x.FRAMEBUFFER,Kt.__webglFramebuffer[Ai]),Kt.__webglDepthbuffer[Ai]=x.createRenderbuffer(),Qi(Kt.__webglDepthbuffer[Ai],me,!1)}else s.bindFramebuffer(x.FRAMEBUFFER,Kt.__webglFramebuffer),Kt.__webglDepthbuffer=x.createRenderbuffer(),Qi(Kt.__webglDepthbuffer,me,!1);s.bindFramebuffer(x.FRAMEBUFFER,null)}function di(me,Kt,ci){const Ai=m.get(me);Kt!==void 0&&Ui(Ai.__webglFramebuffer,me,me.texture,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,0),ci!==void 0&&bi(me)}function Bi(me){const Kt=me.texture,ci=m.get(me),Ai=m.get(Kt);me.addEventListener("dispose",ge);const Oi=me.textures,Ci=me.isWebGLCubeRenderTarget===!0,vn=Oi.length>1;if(vn||(Ai.__webglTexture===void 0&&(Ai.__webglTexture=x.createTexture()),Ai.__version=Kt.version,R.memory.textures++),Ci){ci.__webglFramebuffer=[];for(let Fi=0;Fi<6;Fi++)if(Kt.mipmaps&&Kt.mipmaps.length>0){ci.__webglFramebuffer[Fi]=[];for(let cn=0;cn<Kt.mipmaps.length;cn++)ci.__webglFramebuffer[Fi][cn]=x.createFramebuffer()}else ci.__webglFramebuffer[Fi]=x.createFramebuffer()}else{if(Kt.mipmaps&&Kt.mipmaps.length>0){ci.__webglFramebuffer=[];for(let Fi=0;Fi<Kt.mipmaps.length;Fi++)ci.__webglFramebuffer[Fi]=x.createFramebuffer()}else ci.__webglFramebuffer=x.createFramebuffer();if(vn)for(let Fi=0,cn=Oi.length;Fi<cn;Fi++){const K0=m.get(Oi[Fi]);K0.__webglTexture===void 0&&(K0.__webglTexture=x.createTexture(),R.memory.textures++)}if(me.samples>0&&Wn(me)===!1){ci.__webglMultisampledFramebuffer=x.createFramebuffer(),ci.__webglColorRenderbuffer=[],s.bindFramebuffer(x.FRAMEBUFFER,ci.__webglMultisampledFramebuffer);for(let Fi=0;Fi<Oi.length;Fi++){const cn=Oi[Fi];ci.__webglColorRenderbuffer[Fi]=x.createRenderbuffer(),x.bindRenderbuffer(x.RENDERBUFFER,ci.__webglColorRenderbuffer[Fi]);const K0=O.convert(cn.format,cn.colorSpace),un=O.convert(cn.type),Cn=Ae(cn.internalFormat,K0,un,cn.colorSpace,me.isXRRenderTarget===!0),o0=Jn(me);x.renderbufferStorageMultisample(x.RENDERBUFFER,o0,Cn,me.width,me.height),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0+Fi,x.RENDERBUFFER,ci.__webglColorRenderbuffer[Fi])}x.bindRenderbuffer(x.RENDERBUFFER,null),me.depthBuffer&&(ci.__webglDepthRenderbuffer=x.createRenderbuffer(),Qi(ci.__webglDepthRenderbuffer,me,!0)),s.bindFramebuffer(x.FRAMEBUFFER,null)}}if(Ci){s.bindTexture(x.TEXTURE_CUBE_MAP,Ai.__webglTexture),H0(x.TEXTURE_CUBE_MAP,Kt);for(let Fi=0;Fi<6;Fi++)if(Kt.mipmaps&&Kt.mipmaps.length>0)for(let cn=0;cn<Kt.mipmaps.length;cn++)Ui(ci.__webglFramebuffer[Fi][cn],me,Kt,x.COLOR_ATTACHMENT0,x.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,cn);else Ui(ci.__webglFramebuffer[Fi],me,Kt,x.COLOR_ATTACHMENT0,x.TEXTURE_CUBE_MAP_POSITIVE_X+Fi,0);Ut(Kt)&&Ft(x.TEXTURE_CUBE_MAP),s.unbindTexture()}else if(vn){for(let Fi=0,cn=Oi.length;Fi<cn;Fi++){const K0=Oi[Fi],un=m.get(K0);s.bindTexture(x.TEXTURE_2D,un.__webglTexture),H0(x.TEXTURE_2D,K0),Ui(ci.__webglFramebuffer,me,K0,x.COLOR_ATTACHMENT0+Fi,x.TEXTURE_2D,0),Ut(K0)&&Ft(x.TEXTURE_2D)}s.unbindTexture()}else{let Fi=x.TEXTURE_2D;if((me.isWebGL3DRenderTarget||me.isWebGLArrayRenderTarget)&&(Fi=me.isWebGL3DRenderTarget?x.TEXTURE_3D:x.TEXTURE_2D_ARRAY),me.isWebGLMultiviewRenderTarget===!0&&(Fi=x.TEXTURE_2D_ARRAY),s.bindTexture(Fi,Ai.__webglTexture),H0(Fi,Kt),Kt.mipmaps&&Kt.mipmaps.length>0)for(let cn=0;cn<Kt.mipmaps.length;cn++)Ui(ci.__webglFramebuffer[cn],me,Kt,x.COLOR_ATTACHMENT0,Fi,cn);else Ui(ci.__webglFramebuffer,me,Kt,x.COLOR_ATTACHMENT0,Fi,0);Ut(Kt)&&Ft(Fi),s.unbindTexture()}(me.depthBuffer||me.isWebGLMultiviewRenderTarget===!0)&&this.setupDepthRenderbuffer(me)}function Ii(me){const Kt=me.textures;for(let ci=0,Ai=Kt.length;ci<Ai;ci++){const Oi=Kt[ci];if(Ut(Oi)){const Ci=me.isWebGLCubeRenderTarget?x.TEXTURE_CUBE_MAP:x.TEXTURE_2D,vn=m.get(Oi).__webglTexture;s.bindTexture(Ci,vn),Ft(Ci),s.unbindTexture()}}}const Si=[],Wi=[];function on(me){if(me.samples>0){if(Wn(me)===!1){const Kt=me.textures,ci=me.width,Ai=me.height;let Oi=x.COLOR_BUFFER_BIT;const Ci=me.stencilBuffer?x.DEPTH_STENCIL_ATTACHMENT:x.DEPTH_ATTACHMENT,vn=m.get(me),Fi=Kt.length>1;if(Fi)for(let cn=0;cn<Kt.length;cn++)s.bindFramebuffer(x.FRAMEBUFFER,vn.__webglMultisampledFramebuffer),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0+cn,x.RENDERBUFFER,null),s.bindFramebuffer(x.FRAMEBUFFER,vn.__webglFramebuffer),x.framebufferTexture2D(x.DRAW_FRAMEBUFFER,x.COLOR_ATTACHMENT0+cn,x.TEXTURE_2D,null,0);s.bindFramebuffer(x.READ_FRAMEBUFFER,vn.__webglMultisampledFramebuffer),s.bindFramebuffer(x.DRAW_FRAMEBUFFER,vn.__webglFramebuffer);for(let cn=0;cn<Kt.length;cn++){if(me.resolveDepthBuffer&&(me.depthBuffer&&(Oi|=x.DEPTH_BUFFER_BIT),me.stencilBuffer&&me.resolveStencilBuffer&&(Oi|=x.STENCIL_BUFFER_BIT)),Fi){x.framebufferRenderbuffer(x.READ_FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.RENDERBUFFER,vn.__webglColorRenderbuffer[cn]);const K0=m.get(Kt[cn]).__webglTexture;x.framebufferTexture2D(x.DRAW_FRAMEBUFFER,x.COLOR_ATTACHMENT0,x.TEXTURE_2D,K0,0)}x.blitFramebuffer(0,0,ci,Ai,0,0,ci,Ai,Oi,x.NEAREST),$===!0&&(Si.length=0,Wi.length=0,Si.push(x.COLOR_ATTACHMENT0+cn),me.depthBuffer&&me.resolveDepthBuffer===!1&&(Si.push(Ci),Wi.push(Ci),x.invalidateFramebuffer(x.DRAW_FRAMEBUFFER,Wi)),x.invalidateFramebuffer(x.READ_FRAMEBUFFER,Si))}if(s.bindFramebuffer(x.READ_FRAMEBUFFER,null),s.bindFramebuffer(x.DRAW_FRAMEBUFFER,null),Fi)for(let cn=0;cn<Kt.length;cn++){s.bindFramebuffer(x.FRAMEBUFFER,vn.__webglMultisampledFramebuffer),x.framebufferRenderbuffer(x.FRAMEBUFFER,x.COLOR_ATTACHMENT0+cn,x.RENDERBUFFER,vn.__webglColorRenderbuffer[cn]);const K0=m.get(Kt[cn]).__webglTexture;s.bindFramebuffer(x.FRAMEBUFFER,vn.__webglFramebuffer),x.framebufferTexture2D(x.DRAW_FRAMEBUFFER,x.COLOR_ATTACHMENT0+cn,x.TEXTURE_2D,K0,0)}s.bindFramebuffer(x.DRAW_FRAMEBUFFER,vn.__webglMultisampledFramebuffer)}else if(me.depthBuffer&&me.resolveDepthBuffer===!1&&$){const Kt=me.stencilBuffer?x.DEPTH_STENCIL_ATTACHMENT:x.DEPTH_ATTACHMENT;x.invalidateFramebuffer(x.DRAW_FRAMEBUFFER,[Kt])}}}function Jn(me){return Math.min(A.maxSamples,me.samples)}function Wn(me){const Kt=m.get(me);return me.samples>0&&r.has("WEBGL_multisampled_render_to_texture")===!0&&Kt.__useRenderToTexture!==!1}function U0(me){const Kt=R.render.frame;nt.get(me)!==Kt&&(nt.set(me,Kt),me.update())}function F9(me,Kt){const ci=me.colorSpace,Ai=me.format,Oi=me.type;return me.isCompressedTexture===!0||me.isVideoTexture===!0||ci!==Po&&ci!==Nr&&(G0.getTransfer(ci)===a9?(Ai!==le||Oi!==ni)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ci)),Kt}function y9(me){return typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement?(Y.width=me.naturalWidth||me.width,Y.height=me.naturalHeight||me.height):typeof VideoFrame<"u"&&me instanceof VideoFrame?(Y.width=me.displayWidth,Y.height=me.displayHeight):(Y.width=me.width,Y.height=me.height),Y}this.allocateTextureUnit=De,this.resetTextureUnits=Te,this.setTexture2D=gi,this.setTexture2DArray=Ni,this.setTexture3D=ii,this.setTextureCube=Ri,this.rebindTextures=di,this.uploadTexture=Mn,this.setupRenderTarget=Bi,this.updateRenderTargetMipmap=Ii,this.updateMultisampleRenderTarget=on,this.setupDepthTexture=Pe,this.setupDepthRenderbuffer=bi,this.setupFrameBufferTexture=Ui,this.useMultisampledRTT=Wn,this.runDeferredUploads=o9,this.setDeferTextureUploads=F0}function dC(x,r){function s(m,A=Nr){let O;const R=G0.getTransfer(A);if(m===ni)return x.UNSIGNED_BYTE;if(m===f0)return x.UNSIGNED_SHORT_4_4_4_4;if(m===_i)return x.UNSIGNED_SHORT_5_5_5_1;if(m===n9)return x.UNSIGNED_INT_5_9_9_9_REV;if(m===Tn)return x.BYTE;if(m===Le)return x.SHORT;if(m===yn)return x.UNSIGNED_SHORT;if(m===I0)return x.INT;if(m===Gn)return x.UNSIGNED_INT;if(m===ai)return x.FLOAT;if(m===Hi)return x.HALF_FLOAT;if(m===k0)return x.ALPHA;if(m===Xt)return x.RGB;if(m===le)return x.RGBA;if(m===xe)return x.LUMINANCE;if(m===Xe)return x.LUMINANCE_ALPHA;if(m===Ue)return x.DEPTH_COMPONENT;if(m===ui)return x.DEPTH_STENCIL;if(m===Mi)return x.RED;if(m===$i)return x.RED_INTEGER;if(m===Oe)return x.RG;if(m===Je)return x.RG_INTEGER;if(m===tn)return x.RGBA_INTEGER;if(m===mn||m===Sn||m===v0||m===Pn)if(R===a9)if(O=r.get("WEBGL_compressed_texture_s3tc_srgb"),O!==null){if(m===mn)return O.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(m===Sn)return O.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(m===v0)return O.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(m===Pn)return O.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(O=r.get("WEBGL_compressed_texture_s3tc"),O!==null){if(m===mn)return O.COMPRESSED_RGB_S3TC_DXT1_EXT;if(m===Sn)return O.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(m===v0)return O.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(m===Pn)return O.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(m===Bn||m===Kn||m===B0||m===p9)if(O=r.get("WEBGL_compressed_texture_pvrtc"),O!==null){if(m===Bn)return O.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(m===Kn)return O.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(m===B0)return O.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(m===p9)return O.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(m===Gi||m===Nn||m===q0)if(O=r.get("WEBGL_compressed_texture_etc"),O!==null){if(m===Gi||m===Nn)return R===a9?O.COMPRESSED_SRGB8_ETC2:O.COMPRESSED_RGB8_ETC2;if(m===q0)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:O.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(m===Xn||m===ct||m===Mt||m===Nt||m===$t||m===Zt||m===Me||m===Ce||m===pi||m===hi||m===Re||m===si||m===Ei||m===Se)if(O=r.get("WEBGL_compressed_texture_astc"),O!==null){if(m===Xn)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:O.COMPRESSED_RGBA_ASTC_4x4_KHR;if(m===ct)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:O.COMPRESSED_RGBA_ASTC_5x4_KHR;if(m===Mt)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:O.COMPRESSED_RGBA_ASTC_5x5_KHR;if(m===Nt)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:O.COMPRESSED_RGBA_ASTC_6x5_KHR;if(m===$t)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:O.COMPRESSED_RGBA_ASTC_6x6_KHR;if(m===Zt)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:O.COMPRESSED_RGBA_ASTC_8x5_KHR;if(m===Me)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:O.COMPRESSED_RGBA_ASTC_8x6_KHR;if(m===Ce)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:O.COMPRESSED_RGBA_ASTC_8x8_KHR;if(m===pi)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:O.COMPRESSED_RGBA_ASTC_10x5_KHR;if(m===hi)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:O.COMPRESSED_RGBA_ASTC_10x6_KHR;if(m===Re)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:O.COMPRESSED_RGBA_ASTC_10x8_KHR;if(m===si)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:O.COMPRESSED_RGBA_ASTC_10x10_KHR;if(m===Ei)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:O.COMPRESSED_RGBA_ASTC_12x10_KHR;if(m===Se)return R===a9?O.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:O.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(m===wi||m===pn||m===Un)if(O=r.get("EXT_texture_compression_bptc"),O!==null){if(m===wi)return R===a9?O.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:O.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(m===pn)return O.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(m===Un)return O.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(m===Rn||m===wn||m===b0||m===R0)if(O=r.get("EXT_texture_compression_rgtc"),O!==null){if(m===wi)return O.COMPRESSED_RED_RGTC1_EXT;if(m===wn)return O.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(m===b0)return O.COMPRESSED_RED_GREEN_RGTC2_EXT;if(m===R0)return O.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return m===dn?x.UNSIGNED_INT_24_8:x[m]!==void 0?x[m]:null}return{convert:s}}class Mu extends N0{constructor(){super(),this.isGroup=!0,this.type="Group"}}class hp extends dr{constructor(r=[]){super(),this.isArrayCamera=!0,this.cameras=r}}var hC=new ie,fC=new ie;function BV(x,r,s){hC.setFromMatrixPosition(r.matrixWorld),fC.setFromMatrixPosition(s.matrixWorld);var m=hC.distanceTo(fC),A=r.projectionMatrix.elements,O=s.projectionMatrix.elements,R=A[14]/(A[10]-1),L=A[14]/(A[10]+1),$=(A[9]+1)/A[5],Q=(A[9]-1)/A[5],Y=(A[8]-1)/A[0],nt=(O[8]+1)/O[0],rt=R*Y,at=R*nt,ft=m/(-Y+nt),Ct=ft*-Y;r.matrixWorld.decompose(x.position,x.quaternion,x.scale),x.translateX(Ct),x.translateZ(ft),x.matrixWorld.compose(x.position,x.quaternion,x.scale),x.matrixWorldInverse.copy(x.matrixWorld).invert();var pt=R+ft,ot=L+ft,Vt=rt-Ct,Ut=at+(m-Ct),Ft=$*L/ot*pt,Ae=Q*L/ot*pt;x.projectionMatrix.makePerspective(Vt,Ut,Ft,Ae,pt,ot)}function mC(x){var r,s,m=this,A=null,O=null,R=null,L=[],$=new gn,Q=new gn,Y=1,nt="local-floor";typeof window<"u"&&"VRFrameData"in window&&(O=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",Ft,!1));var rt=new gn,at=new L0,ft=new ie,Ct=new dr;Ct.viewport=new D0,Ct.layers.enable(1);var pt=new dr;pt.viewport=new D0,pt.layers.enable(2);var ot=new hp([Ct,pt]);ot.layers.enable(1),ot.layers.enable(2);var Vt=new yi,Ut;function Ft(){var ye=m.isPresenting=A!==null&&A.isPresenting===!0;if(ye){var Ie=A.getEyeParameters("left");r=2*Ie.renderWidth*Y,s=Ie.renderHeight*Y,Ut=x.getPixelRatio(),x.getSize(Vt),x.setDrawingBufferSize(r,s,1),Ct.viewport.set(0,0,r/2,s),pt.viewport.set(r/2,0,r/2,s),Wt.start(),m.dispatchEvent({type:"sessionstart"})}else m.enabled&&x.setDrawingBufferSize(Vt.width,Vt.height,Ut),Wt.stop(),m.dispatchEvent({type:"sessionend"})}var Ae=[],re=[];function de(ye){for(var Ie=navigator.getGamepads&&navigator.getGamepads(),Te=0,De=Ie.length;Te<De;Te++){var ti=Ie[Te];if(ti&&(ti.id==="Daydream Controller"||ti.id==="Gear VR Controller"||ti.id==="Oculus Go Controller"||ti.id==="OpenVR Gamepad"||ti.id.startsWith("Oculus Touch")||ti.id.startsWith("HTC Vive Focus")||ti.id.startsWith("Spatial Controller"))){var gi=ti.hand;if(ye===0&&(gi===""||gi==="right")||ye===1&&gi==="left")return ti}}}function ge(){for(var ye=0;ye<L.length;ye++){var Ie=L[ye],Te=de(ye);if(Te!==void 0&&Te.pose!==void 0){if(Te.pose===null)return;var De=Te.pose;De.hasPosition===!1&&Ie.position.set(.2,-.6,-.05),De.position!==null&&Ie.position.fromArray(De.position),De.orientation!==null&&Ie.quaternion.fromArray(De.orientation),Ie.matrix.compose(Ie.position,Ie.quaternion,Ie.scale),Ie.matrix.premultiply($),Ie.matrix.decompose(Ie.position,Ie.quaternion,Ie.scale),Ie.matrixWorldNeedsUpdate=!0,Ie.visible=!0;var ti=Te.id==="Daydream Controller"?0:1;Ae[ye]===void 0&&(Ae[ye]=!1),Ae[ye]!==Te.buttons[ti].pressed&&(Ae[ye]=Te.buttons[ti].pressed,Ae[ye]===!0?Ie.dispatchEvent({type:"selectstart"}):(Ie.dispatchEvent({type:"selectend"}),Ie.dispatchEvent({type:"select"}))),ti=2,re[ye]===void 0&&(re[ye]=!1),Te.buttons[ti]!==void 0&&re[ye]!==Te.buttons[ti].pressed&&(re[ye]=Te.buttons[ti].pressed,re[ye]===!0?Ie.dispatchEvent({type:"squeezestart"}):(Ie.dispatchEvent({type:"squeezeend"}),Ie.dispatchEvent({type:"squeeze"})))}else Ie.visible=!1}}function Yt(ye,Ie){Ie!==null&&Ie.length===4&&ye.set(Ie[0]*r,Ie[1]*s,Ie[2]*r,Ie[3]*s)}this.enabled=!1,this.getController=function(ye){var Ie=L[ye];return Ie===void 0&&(Ie=new Mu,Ie.matrixAutoUpdate=!1,Ie.visible=!1,L[ye]=Ie),Ie},this.getDevice=function(){return A},this.setDevice=function(ye){ye!==void 0&&(A=ye),Wt.setContext(ye)},this.setFramebufferScaleFactor=function(ye){Y=ye},this.setReferenceSpaceType=function(ye){nt=ye},this.setPoseTarget=function(ye){ye!==void 0&&(R=ye)},this.cameraAutoUpdate=!0,this.updateCamera=function(ye){var Ie=nt==="local-floor"?1.6:0;if(A.depthNear=ye.near,A.depthFar=ye.far,A.getFrameData(O),nt==="local-floor"){var Te=A.stageParameters;Te?$.fromArray(Te.sittingToStandingTransform):$.makeTranslation(0,Ie,0)}var De=O.pose,ti=R!==null?R:ye;ti.matrix.copy($),ti.matrix.decompose(ti.position,ti.quaternion,ti.scale),De.orientation!==null&&(at.fromArray(De.orientation),ti.quaternion.multiply(at)),De.position!==null&&(at.setFromRotationMatrix($),ft.fromArray(De.position),ft.applyQuaternion(at),ti.position.add(ft)),ti.updateMatrixWorld();for(var gi=ti.children,Ni=0,ii=gi.length;Ni<ii;Ni++)gi[Ni].updateMatrixWorld(!0);Ct.near=ye.near,pt.near=ye.near,Ct.far=ye.far,pt.far=ye.far,Ct.matrixWorldInverse.fromArray(O.leftViewMatrix),pt.matrixWorldInverse.fromArray(O.rightViewMatrix),Q.copy($).invert(),nt==="local-floor"&&(Ct.matrixWorldInverse.multiply(Q),pt.matrixWorldInverse.multiply(Q));var Ri=ti.parent;Ri!==null&&(rt.copy(Ri.matrixWorld).invert(),Ct.matrixWorldInverse.multiply(rt),pt.matrixWorldInverse.multiply(rt)),Ct.matrixWorld.copy(Ct.matrixWorldInverse).invert(),pt.matrixWorld.copy(pt.matrixWorldInverse).invert(),Ct.projectionMatrix.fromArray(O.leftProjectionMatrix),pt.projectionMatrix.fromArray(O.rightProjectionMatrix),BV(ot,Ct,pt);var Pi=A.getLayers();if(Pi.length){var fn=Pi[0];Yt(Ct.viewport,fn.leftBounds),Yt(pt.viewport,fn.rightBounds)}return ge(),ot},this.getCamera=function(){return ot},this.getFoveation=function(){return 1},this.setFoveation=function(ye){ye!==1&&console.warn("THREE.WebVRManager: setFoveation() not used in WebVR.")},this.getEnvironmentBlendMode=function(){if(m.isPresenting)return"opaque"},this.getStandingMatrix=function(){return $},this.isPresenting=!1;var Wt=new Z7;this.setAnimationLoop=function(ye){Wt.setAnimationLoop(ye),this.isPresenting&&Wt.start()},this.submitFrame=function(){this.isPresenting&&A.submitFrame()},this.dispose=function(){typeof window<"u"&&window.removeEventListener("vrdisplaypresentchange",Ft)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}Object.assign(mC.prototype,{addEventListener:ha.prototype.addEventListener,hasEventListener:ha.prototype.hasEventListener,removeEventListener:ha.prototype.removeEventListener,dispatchEvent:ha.prototype.dispatchEvent});class pC extends Sa{constructor(r,s,m,A={}){super(r,s,A),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=m}copy(r){return super.copy(r),this.numViews=r.numViews,this}}pC.prototype.isWebGLMultiviewRenderTarget=!0;const RV={type:"move"};class fp{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ie,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ie),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ie,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ie),this._grip}dispatchEvent(r){return this._targetRay!==null&&this._targetRay.dispatchEvent(r),this._grip!==null&&this._grip.dispatchEvent(r),this._hand!==null&&this._hand.dispatchEvent(r),this}connect(r){if(r&&r.hand){const s=this._hand;if(s)for(const m of r.hand.values())this._getHandJoint(s,m)}return this.dispatchEvent({type:"connected",data:r}),this}disconnect(r){return this.dispatchEvent({type:"disconnected",data:r}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(r,s,m){let A=null,O=null,R=null;const L=this._targetRay,$=this._grip,Q=this._hand;if(r&&s.session.visibilityState!=="visible-blurred"){if(Q&&r.hand){R=!0;for(const Ct of r.hand.values()){const pt=s.getJointPose(Ct,m),ot=this._getHandJoint(Q,Ct);pt!==null&&(ot.matrix.fromArray(pt.transform.matrix),ot.matrix.decompose(ot.position,ot.rotation,ot.scale),ot.matrixWorldNeedsUpdate=!0,ot.jointRadius=pt.radius),ot.visible=pt!==null}const Y=Q.joints["index-finger-tip"],nt=Q.joints["thumb-tip"],rt=Y.position.distanceTo(nt.position),at=.02,ft=.005;Q.inputState.pinching&&rt>at+ft?(Q.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:r.handedness,target:this})):!Q.inputState.pinching&&rt<=at-ft&&(Q.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:r.handedness,target:this}))}else $!==null&&r.gripSpace&&(O=s.getPose(r.gripSpace,m),O!==null&&($.matrix.fromArray(O.transform.matrix),$.matrix.decompose($.position,$.rotation,$.scale),$.matrixWorldNeedsUpdate=!0,O.linearVelocity?($.hasLinearVelocity=!0,$.linearVelocity.copy(O.linearVelocity)):$.hasLinearVelocity=!1,O.angularVelocity?($.hasAngularVelocity=!0,$.angularVelocity.copy(O.angularVelocity)):$.hasAngularVelocity=!1));L!==null&&(A=s.getPose(r.targetRaySpace,m),A===null&&O!==null&&(A=O),A!==null&&(L.matrix.fromArray(A.transform.matrix),L.matrix.decompose(L.position,L.rotation,L.scale),L.matrixWorldNeedsUpdate=!0,A.linearVelocity?(L.hasLinearVelocity=!0,L.linearVelocity.copy(A.linearVelocity)):L.hasLinearVelocity=!1,A.angularVelocity?(L.hasAngularVelocity=!0,L.angularVelocity.copy(A.angularVelocity)):L.hasAngularVelocity=!1,this.dispatchEvent(RV)))}return L!==null&&(L.visible=A!==null),$!==null&&($.visible=O!==null),Q!==null&&(Q.visible=R!==null),this}_getHandJoint(r,s){if(r.joints[s.jointName]===void 0){const m=new Mu;m.matrixAutoUpdate=!1,m.visible=!1,r.joints[s.jointName]=m,r.add(m)}return r.joints[s.jointName]}}const DV=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,PV=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class kV{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(r,s,m){if(this.texture===null){const A=new u9,O=r.properties.get(A);O.__webglTexture=s.texture,(s.depthNear!=m.depthNear||s.depthFar!=m.depthFar)&&(this.depthNear=s.depthNear,this.depthFar=s.depthFar),this.texture=A}}render(r,s){if(this.texture!==null){if(this.mesh===null){const m=s.cameras[0].viewport,A=new Lo({vertexShader:DV,fragmentShader:PV,uniforms:{depthColor:{value:this.texture},depthWidth:{value:m.z},depthHeight:{value:m.w}}});this.mesh=new nr(new H1(20,20),A)}r.render(this.mesh,s)}}reset(){this.texture=null,this.mesh=null}}class LV extends ha{constructor(r,s,m,A){super();const O=this;let R=null,L=1;var $=null;let Q=null,Y="local-floor",nt=1,rt=null,at=null;var ft=[];let Ct=null,pt=null,ot=null,Vt=null;const Ut=new kV,Ft=s.getContextAttributes();let Ae=null,re=null;const de=[],ge=[],Yt=new yi;let Wt=null;const ye=new dr;ye.layers.enable(1),ye.viewport=new D0;const Ie=new dr;Ie.layers.enable(2),Ie.viewport=new D0;const Te=[ye,Ie],De=new hp;De.layers.enable(1),De.layers.enable(2);let ti=null,gi=null;this.cameraAutoUpdate=!0,this.layersEnabled=!1,this.enabled=!1,this.isPresenting=!1,this.isMultiview=!1,this.getCameraPose=function(){return at},this.getController=function(vi){let Ui=de[vi];return Ui===void 0&&(Ui=new fp,de[vi]=Ui),Ui.getTargetRaySpace()},this.getControllerGrip=function(vi){let Ui=de[vi];return Ui===void 0&&(Ui=new fp,de[vi]=Ui),Ui.getGripSpace()},this.getHand=function(vi){let Ui=de[vi];return Ui===void 0&&(Ui=new fp,de[vi]=Ui),Ui.getHandSpace()};function Ni(vi){const Ui=ge.indexOf(vi.inputSource);if(Ui===-1)return;const Qi=de[Ui];Qi!==void 0&&(Qi.update(vi.inputSource,vi.frame,rt||Q),Qi.dispatchEvent({type:vi.type,data:vi.inputSource}))}function ii(){R.removeEventListener("select",Ni),R.removeEventListener("selectstart",Ni),R.removeEventListener("selectend",Ni),R.removeEventListener("squeeze",Ni),R.removeEventListener("squeezestart",Ni),R.removeEventListener("squeezeend",Ni),R.removeEventListener("end",ii),R.removeEventListener("inputsourceschange",Ri);for(let vi=0;vi<de.length;vi++){const Ui=ge[vi];Ui!==null&&(ge[vi]=null,de[vi].disconnect(Ui))}ti=null,gi=null,Ut.reset(),r.setRenderTarget(Ae),ot=null,pt=null,Ct=null,R=null,re=null,Mn.stop(),O.isPresenting=!1,r.setPixelRatio(Wt),r.setSize(Yt.width,Yt.height,!1),O.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(vi){L=vi,O.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(vi){Y=vi,O.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return rt||Q},this.setReferenceSpace=function(vi){rt=vi},this.getBaseLayer=function(){return pt!==null?pt:ot},this.getBinding=function(){return Ct},this.getFrame=function(){return Vt},this.getSession=function(){return R},this.setSession=async function(vi){if(R=vi,R!==null){if(Ae=r.getRenderTarget(),R.addEventListener("select",Ni),R.addEventListener("selectstart",Ni),R.addEventListener("selectend",Ni),R.addEventListener("squeeze",Ni),R.addEventListener("squeezestart",Ni),R.addEventListener("squeezeend",Ni),R.addEventListener("end",ii),R.addEventListener("inputsourceschange",Ri),Ft.xrCompatible!==!0&&await s.makeXRCompatible(),Wt=r.getPixelRatio(),r.getSize(Yt),R.renderState.layers===void 0){const Ui={antialias:Ft.antialias,alpha:!0,depth:Ft.depth,stencil:Ft.stencil,framebufferScaleFactor:L};ot=new XRWebGLLayer(R,s,Ui),R.updateRenderState({baseLayer:ot}),r.setPixelRatio(1),r.setSize(ot.framebufferWidth,ot.framebufferHeight,!1),re=new Sa(ot.framebufferWidth,ot.framebufferHeight,{format:le,type:ni,colorSpace:r.outputColorSpace,stencilBuffer:Ft.stencil})}else{let Ui=null,Qi=null,Pe=null;Ft.depth&&(Pe=Ft.stencil?s.DEPTH24_STENCIL8:s.DEPTH_COMPONENT24,Ui=Ft.stencil?ui:Ue,Qi=Ft.stencil?dn:Gn),O.isMultiview=A&&m.has("OCULUS_multiview");const bi={colorFormat:s.RGBA8,depthFormat:Pe,scaleFactor:L};O.isMultiview&&(bi.textureType="texture-array"),Ct=new XRWebGLBinding(R,s),pt=Ct.createProjectionLayer(bi),R.updateRenderState({layers:[pt]}),r.setPixelRatio(1),r.setSize(pt.textureWidth,pt.textureHeight,!1);const di={format:le,type:ni,depthTexture:new sp(pt.textureWidth,pt.textureHeight,Qi,void 0,void 0,void 0,void 0,void 0,void 0,Ui),stencilBuffer:Ft.stencil,colorSpace:r.outputColorSpace,samples:Ft.antialias?4:0,resolveDepthBuffer:pt.ignoreDepthValues===!1};if(O.isMultiview){const Bi=m.get("OCULUS_multiview");this.maxNumViews=s.getParameter(Bi.MAX_VIEWS_OVR),re=new pC(pt.textureWidth,pt.textureHeight,2,di)}else re=new Sa(pt.textureWidth,pt.textureHeight,di)}re.isXRRenderTarget=!0,this.setFoveation(nt),rt=null,Q=await R.requestReferenceSpace(Y),Mn.setContext(R),Mn.start(),O.isPresenting=!0,O.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(R!==null)return R.environmentBlendMode},this.addLayer=function(vi){!window.XRWebGLBinding||!this.layersEnabled||!R||(ft.push(vi),this.updateLayers())},this.removeLayer=function(vi){ft.splice(ft.indexOf(vi),1),!(!window.XRWebGLBinding||!this.layersEnabled||!R)&&this.updateLayers()},this.updateLayers=function(){var vi=ft.map(function(Ui){return Ui});vi.unshift(R.renderState.layers[0]),R.updateRenderState({layers:vi})};function Ri(vi){for(let Ui=0;Ui<vi.removed.length;Ui++){const Qi=vi.removed[Ui],Pe=ge.indexOf(Qi);Pe>=0&&(ge[Pe]=null,de[Pe].disconnect(Qi))}for(let Ui=0;Ui<vi.added.length;Ui++){const Qi=vi.added[Ui];let Pe=ge.indexOf(Qi);if(Pe===-1){for(let di=0;di<de.length;di++)if(di>=ge.length){ge.push(Qi),Pe=di;break}else if(ge[di]===null){ge[di]=Qi,Pe=di;break}if(Pe===-1)break}const bi=de[Pe];bi&&bi.connect(Qi)}}const Pi=new ie,fn=new ie;function d0(vi,Ui,Qi){Pi.setFromMatrixPosition(Ui.matrixWorld),fn.setFromMatrixPosition(Qi.matrixWorld);const Pe=Pi.distanceTo(fn),bi=Ui.projectionMatrix.elements,di=Qi.projectionMatrix.elements,Bi=bi[14]/(bi[10]-1),Ii=bi[14]/(bi[10]+1),Si=(bi[9]+1)/bi[5],Wi=(bi[9]-1)/bi[5],on=(bi[8]-1)/bi[0],Jn=(di[8]+1)/di[0],Wn=Bi*on,U0=Bi*Jn,F9=Pe/(-on+Jn),y9=F9*-on;Ui.matrixWorld.decompose(vi.position,vi.quaternion,vi.scale),vi.translateX(y9),vi.translateZ(F9),vi.matrixWorld.compose(vi.position,vi.quaternion,vi.scale),vi.matrixWorldInverse.copy(vi.matrixWorld).invert();const me=Bi+F9,Kt=Ii+F9,ci=Wn-y9,Ai=U0+(Pe-y9),Oi=Si*Ii/Kt*me,Ci=Wi*Ii/Kt*me;vi.projectionMatrix.makePerspective(ci,Ai,Oi,Ci,me,Kt),vi.projectionMatrixInverse.copy(vi.projectionMatrix).invert()}function H0(vi,Ui){Ui===null?vi.matrixWorld.copy(vi.matrix):vi.matrixWorld.multiplyMatrices(Ui.matrixWorld,vi.matrix),vi.matrixWorldInverse.copy(vi.matrixWorld).invert()}this.setPoseTarget=function(vi){vi!==void 0&&($=vi)},this.updateCamera=function(vi){if(R===null)return;Ut.texture!==null&&(vi.near=Ut.depthNear,vi.far=Ut.depthFar),De.near=Ie.near=ye.near=vi.near,De.far=Ie.far=ye.far=vi.far,(ti!==De.near||gi!==De.far)&&(R.updateRenderState({depthNear:De.near,depthFar:De.far}),ti=De.near,gi=De.far,ye.near=ti,ye.far=gi,Ie.near=ti,Ie.far=gi,ye.updateProjectionMatrix(),Ie.updateProjectionMatrix(),vi.updateProjectionMatrix());const Ui=De.cameras;var Qi=$||vi;const Pe=Qi.parent;H0(De,Pe);for(let bi=0;bi<Ui.length;bi++)H0(Ui[bi],Pe);Ui.length===2?d0(De,ye,Ie):De.projectionMatrix.copy(ye.projectionMatrix),M9(vi,De,Qi)};function M9(vi,Ui,Qi){Ui.matrixWorld.decompose(Ui.position,Ui.quaternion,Ui.scale),Qi.parent===null?Qi.matrix.copy(Ui.matrixWorld):(Qi.matrix.copy(Qi.parent.matrixWorld),Qi.matrix.invert(),Qi.matrix.multiply(Ui.matrixWorld)),Qi.matrix.decompose(Qi.position,Qi.quaternion,Qi.scale),Qi.updateMatrixWorld(!0),vi.projectionMatrix.copy(Ui.projectionMatrix),vi.projectionMatrixInverse.copy(Ui.projectionMatrixInverse),vi.isPerspectiveCamera&&(vi.fov=Hl*2*Math.atan(1/vi.projectionMatrix.elements[5]),vi.zoom=1)}this.getCamera=function(){return De},this.getFoveation=function(){if(!(pt===null&&ot===null))return nt},this.setFoveation=function(vi){nt=vi,pt!==null&&(pt.fixedFoveation=vi),ot!==null&&ot.fixedFoveation!==void 0&&(ot.fixedFoveation=vi)},this.hasDepthSensing=function(){return Ut.texture!==null};let F0=null;function o9(vi,Ui){if(at=Ui.getViewerPose(rt||Q),Vt=Ui,at!==null){const Qi=at.views;ot!==null&&(r.setRenderTargetFramebuffer(re,ot.framebuffer),r.setRenderTarget(re));let Pe=!1;Qi.length!==De.cameras.length&&(De.cameras.length=0,Pe=!0);for(let di=0;di<Qi.length;di++){const Bi=Qi[di];let Ii=null;if(ot!==null)Ii=ot.getViewport(Bi);else{const Wi=Ct.getViewSubImage(pt,Bi);Ii=Wi.viewport,di===0&&(r.setRenderTargetTextures(re,Wi.colorTexture,pt.ignoreDepthValues?void 0:Wi.depthStencilTexture),r.setRenderTarget(re))}let Si=Te[di];Si===void 0&&(Si=new dr,Si.layers.enable(di),Si.viewport=new D0,Te[di]=Si),Si.matrix.fromArray(Bi.transform.matrix),Si.matrix.decompose(Si.position,Si.quaternion,Si.scale),Si.projectionMatrix.fromArray(Bi.projectionMatrix),Si.projectionMatrixInverse.copy(Si.projectionMatrix).invert(),Si.viewport.set(Ii.x,Ii.y,Ii.width,Ii.height),di===0&&(De.matrix.copy(Si.matrix),De.matrix.decompose(De.position,De.quaternion,De.scale)),Pe===!0&&De.cameras.push(Si)}const bi=R.enabledFeatures;if(bi&&bi.includes("depth-sensing")){const di=Ct.getDepthInformation(Qi[0]);di&&di.isValid&&di.texture&&Ut.init(r,di,R.renderState)}}for(let Qi=0;Qi<de.length;Qi++){const Pe=ge[Qi],bi=de[Qi];Pe!==null&&bi!==void 0&&bi.update(Pe,Ui,rt||Q)}Ut.render(r,De),F0&&F0(vi,Ui),Ui.detectedPlanes&&O.dispatchEvent({type:"planesdetected",data:Ui}),Vt=null}const Mn=new Z7;Mn.setAnimationLoop(o9),this.setAnimationLoop=function(vi){F0=vi},this.dispose=function(){}}}const yu=new ja,NV=new gn;function FV(x,r){function s(pt,ot){pt.matrixAutoUpdate===!0&&pt.updateMatrix(),ot.value.copy(pt.matrix)}function m(pt,ot){ot.color.getRGB(pt.fogColor.value,Db(x)),ot.isFog?(pt.fogNear.value=ot.near,pt.fogFar.value=ot.far):ot.isFogExp2&&(pt.fogDensity.value=ot.density)}function A(pt,ot,Vt,Ut,Ft){ot.isMeshBasicMaterial||ot.isMeshLambertMaterial?O(pt,ot):ot.isMeshToonMaterial?(O(pt,ot),nt(pt,ot)):ot.isMeshPhongMaterial?(O(pt,ot),Y(pt,ot)):ot.isMeshStandardMaterial?(O(pt,ot),rt(pt,ot),ot.isMeshPhysicalMaterial&&at(pt,ot,Ft)):ot.isMeshMatcapMaterial?(O(pt,ot),ft(pt,ot)):ot.isMeshDepthMaterial?O(pt,ot):ot.isMeshDistanceMaterial?(O(pt,ot),Ct(pt,ot)):ot.isMeshNormalMaterial?O(pt,ot):ot.isLineBasicMaterial?(R(pt,ot),ot.isLineDashedMaterial&&L(pt,ot)):ot.isPointsMaterial?$(pt,ot,Vt,Ut):ot.isSpriteMaterial?Q(pt,ot):ot.isShadowMaterial?(pt.color.value.copy(ot.color),pt.opacity.value=ot.opacity):ot.isShaderMaterial&&(ot.uniformsNeedUpdate=!1)}function O(pt,ot){pt.opacity.value=ot.opacity,ot.color&&pt.diffuse.value.copy(ot.color),ot.emissive&&pt.emissive.value.copy(ot.emissive).multiplyScalar(ot.emissiveIntensity),ot.map&&(pt.map.value=ot.map,s(ot.map,pt.mapTransform)),ot.alphaMap&&(pt.alphaMap.value=ot.alphaMap,s(ot.alphaMap,pt.alphaMapTransform)),ot.bumpMap&&(pt.bumpMap.value=ot.bumpMap,s(ot.bumpMap,pt.bumpMapTransform),pt.bumpScale.value=ot.bumpScale,ot.side===S&&(pt.bumpScale.value*=-1)),ot.normalMap&&(pt.normalMap.value=ot.normalMap,s(ot.normalMap,pt.normalMapTransform),pt.normalScale.value.copy(ot.normalScale),ot.side===S&&pt.normalScale.value.negate()),ot.displacementMap&&(pt.displacementMap.value=ot.displacementMap,s(ot.displacementMap,pt.displacementMapTransform),pt.displacementScale.value=ot.displacementScale,pt.displacementBias.value=ot.displacementBias),ot.emissiveMap&&(pt.emissiveMap.value=ot.emissiveMap,s(ot.emissiveMap,pt.emissiveMapTransform)),ot.specularMap&&(pt.specularMap.value=ot.specularMap,s(ot.specularMap,pt.specularMapTransform)),ot.alphaTest>0&&(pt.alphaTest.value=ot.alphaTest);const Vt=r.get(ot),Ut=Vt.envMap,Ft=Vt.envMapRotation;if(Ut&&(pt.envMap.value=Ut,yu.copy(Ft),yu.x*=-1,yu.y*=-1,yu.z*=-1,Ut.isCubeTexture&&Ut.isRenderTargetTexture===!1&&(yu.y*=-1,yu.z*=-1),pt.envMapRotation.value.setFromMatrix4(NV.makeRotationFromEuler(yu)),pt.flipEnvMap.value=Ut.isCubeTexture&&Ut.isRenderTargetTexture===!1?-1:1,pt.reflectivity.value=ot.reflectivity,pt.ior.value=ot.ior,pt.refractionRatio.value=ot.refractionRatio),ot.lightMap){pt.lightMap.value=ot.lightMap;const Ae=x._useLegacyLights===!0?Math.PI:1;pt.lightMapIntensity.value=ot.lightMapIntensity*Ae,s(ot.lightMap,pt.lightMapTransform)}ot.aoMap&&(pt.aoMap.value=ot.aoMap,pt.aoMapIntensity.value=ot.aoMapIntensity,s(ot.aoMap,pt.aoMapTransform))}function R(pt,ot){pt.diffuse.value.copy(ot.color),pt.opacity.value=ot.opacity,ot.map&&(pt.map.value=ot.map,s(ot.map,pt.mapTransform))}function L(pt,ot){pt.dashSize.value=ot.dashSize,pt.totalSize.value=ot.dashSize+ot.gapSize,pt.scale.value=ot.scale}function $(pt,ot,Vt,Ut){pt.diffuse.value.copy(ot.color),pt.opacity.value=ot.opacity,pt.size.value=ot.size*Vt,pt.scale.value=Ut*.5,ot.map&&(pt.map.value=ot.map,s(ot.map,pt.uvTransform)),ot.alphaMap&&(pt.alphaMap.value=ot.alphaMap,s(ot.alphaMap,pt.alphaMapTransform)),ot.alphaTest>0&&(pt.alphaTest.value=ot.alphaTest)}function Q(pt,ot){pt.diffuse.value.copy(ot.color),pt.opacity.value=ot.opacity,pt.rotation.value=ot.rotation,ot.map&&(pt.map.value=ot.map,s(ot.map,pt.mapTransform)),ot.alphaMap&&(pt.alphaMap.value=ot.alphaMap,s(ot.alphaMap,pt.alphaMapTransform)),ot.alphaTest>0&&(pt.alphaTest.value=ot.alphaTest)}function Y(pt,ot){pt.specular.value.copy(ot.specular),pt.shininess.value=Math.max(ot.shininess,1e-4)}function nt(pt,ot){ot.gradientMap&&(pt.gradientMap.value=ot.gradientMap)}function rt(pt,ot){pt.metalness.value=ot.metalness,ot.metalnessMap&&(pt.metalnessMap.value=ot.metalnessMap,s(ot.metalnessMap,pt.metalnessMapTransform)),pt.roughness.value=ot.roughness,ot.roughnessMap&&(pt.roughnessMap.value=ot.roughnessMap,s(ot.roughnessMap,pt.roughnessMapTransform)),ot.envMap&&(pt.envMapIntensity.value=ot.envMapIntensity)}function at(pt,ot,Vt){pt.ior.value=ot.ior,ot.sheen>0&&(pt.sheenColor.value.copy(ot.sheenColor).multiplyScalar(ot.sheen),pt.sheenRoughness.value=ot.sheenRoughness,ot.sheenColorMap&&(pt.sheenColorMap.value=ot.sheenColorMap,s(ot.sheenColorMap,pt.sheenColorMapTransform)),ot.sheenRoughnessMap&&(pt.sheenRoughnessMap.value=ot.sheenRoughnessMap,s(ot.sheenRoughnessMap,pt.sheenRoughnessMapTransform))),ot.clearcoat>0&&(pt.clearcoat.value=ot.clearcoat,pt.clearcoatRoughness.value=ot.clearcoatRoughness,ot.clearcoatMap&&(pt.clearcoatMap.value=ot.clearcoatMap,s(ot.clearcoatMap,pt.clearcoatMapTransform)),ot.clearcoatRoughnessMap&&(pt.clearcoatRoughnessMap.value=ot.clearcoatRoughnessMap,s(ot.clearcoatRoughnessMap,pt.clearcoatRoughnessMapTransform)),ot.clearcoatNormalMap&&(pt.clearcoatNormalMap.value=ot.clearcoatNormalMap,s(ot.clearcoatNormalMap,pt.clearcoatNormalMapTransform),pt.clearcoatNormalScale.value.copy(ot.clearcoatNormalScale),ot.side===S&&pt.clearcoatNormalScale.value.negate())),ot.dispersion>0&&(pt.dispersion.value=ot.dispersion),ot.iridescence>0&&(pt.iridescence.value=ot.iridescence,pt.iridescenceIOR.value=ot.iridescenceIOR,pt.iridescenceThicknessMinimum.value=ot.iridescenceThicknessRange[0],pt.iridescenceThicknessMaximum.value=ot.iridescenceThicknessRange[1],ot.iridescenceMap&&(pt.iridescenceMap.value=ot.iridescenceMap,s(ot.iridescenceMap,pt.iridescenceMapTransform)),ot.iridescenceThicknessMap&&(pt.iridescenceThicknessMap.value=ot.iridescenceThicknessMap,s(ot.iridescenceThicknessMap,pt.iridescenceThicknessMapTransform))),ot.transmission>0&&(pt.transmission.value=ot.transmission,pt.transmissionSamplerMap.value=Vt.texture,pt.transmissionSamplerSize.value.set(Vt.width,Vt.height),ot.transmissionMap&&(pt.transmissionMap.value=ot.transmissionMap,s(ot.transmissionMap,pt.transmissionMapTransform)),pt.thickness.value=ot.thickness,ot.thicknessMap&&(pt.thicknessMap.value=ot.thicknessMap,s(ot.thicknessMap,pt.thicknessMapTransform)),pt.attenuationDistance.value=ot.attenuationDistance,pt.attenuationColor.value.copy(ot.attenuationColor)),ot.anisotropy>0&&(pt.anisotropyVector.value.set(ot.anisotropy*Math.cos(ot.anisotropyRotation),ot.anisotropy*Math.sin(ot.anisotropyRotation)),ot.anisotropyMap&&(pt.anisotropyMap.value=ot.anisotropyMap,s(ot.anisotropyMap,pt.anisotropyMapTransform))),pt.specularIntensity.value=ot.specularIntensity,pt.specularColor.value.copy(ot.specularColor),ot.specularColorMap&&(pt.specularColorMap.value=ot.specularColorMap,s(ot.specularColorMap,pt.specularColorMapTransform)),ot.specularIntensityMap&&(pt.specularIntensityMap.value=ot.specularIntensityMap,s(ot.specularIntensityMap,pt.specularIntensityMapTransform))}function ft(pt,ot){ot.matcap&&(pt.matcap.value=ot.matcap)}function Ct(pt,ot){const Vt=r.get(ot).light;pt.referencePosition.value.setFromMatrixPosition(Vt.matrixWorld),pt.nearDistance.value=Vt.shadow.camera.near,pt.farDistance.value=Vt.shadow.camera.far}return{refreshFogUniforms:m,refreshMaterialUniforms:A}}function UV(x,r,s,m){let A={},O={},R=[];const L=x.getParameter(x.MAX_UNIFORM_BUFFER_BINDINGS);function $(Vt,Ut){const Ft=Ut.program;m.uniformBlockBinding(Vt,Ft)}function Q(Vt,Ut){let Ft=A[Vt.id];Ft===void 0&&(ft(Vt),Ft=Y(Vt),A[Vt.id]=Ft,Vt.addEventListener("dispose",pt));const Ae=Ut.program;m.updateUBOMapping(Vt,Ae);const re=r.render.frame;O[Vt.id]!==re&&(rt(Vt),O[Vt.id]=re)}function Y(Vt){const Ut=nt();Vt.__bindingPointIndex=Ut;const Ft=x.createBuffer(),Ae=Vt.__size,re=Vt.usage;return x.bindBuffer(x.UNIFORM_BUFFER,Ft),x.bufferData(x.UNIFORM_BUFFER,Ae,re),x.bindBuffer(x.UNIFORM_BUFFER,null),x.bindBufferBase(x.UNIFORM_BUFFER,Ut,Ft),Ft}function nt(){for(let Vt=0;Vt<L;Vt++)if(R.indexOf(Vt)===-1)return R.push(Vt),Vt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function rt(Vt){const Ut=A[Vt.id],Ft=Vt.uniforms,Ae=Vt.__cache;x.bindBuffer(x.UNIFORM_BUFFER,Ut);for(let re=0,de=Ft.length;re<de;re++){const ge=Array.isArray(Ft[re])?Ft[re]:[Ft[re]];for(let Yt=0,Wt=ge.length;Yt<Wt;Yt++){const ye=ge[Yt];if(at(ye,re,Yt,Ae)===!0){const Ie=ye.__offset,Te=Array.isArray(ye.value)?ye.value:[ye.value];let De=0;for(let ti=0;ti<Te.length;ti++){const gi=Te[ti],Ni=Ct(gi);typeof gi=="number"||typeof gi=="boolean"?(ye.__data[0]=gi,x.bufferSubData(x.UNIFORM_BUFFER,Ie+De,ye.__data)):gi.isMatrix3?(ye.__data[0]=gi.elements[0],ye.__data[1]=gi.elements[1],ye.__data[2]=gi.elements[2],ye.__data[3]=0,ye.__data[4]=gi.elements[3],ye.__data[5]=gi.elements[4],ye.__data[6]=gi.elements[5],ye.__data[7]=0,ye.__data[8]=gi.elements[6],ye.__data[9]=gi.elements[7],ye.__data[10]=gi.elements[8],ye.__data[11]=0):(gi.toArray(ye.__data,De),De+=Ni.storage/Float32Array.BYTES_PER_ELEMENT)}x.bufferSubData(x.UNIFORM_BUFFER,Ie,ye.__data)}}}x.bindBuffer(x.UNIFORM_BUFFER,null)}function at(Vt,Ut,Ft,Ae){const re=Vt.value,de=Ut+"_"+Ft;if(Ae[de]===void 0)return typeof re=="number"||typeof re=="boolean"?Ae[de]=re:Ae[de]=re.clone(),!0;{const ge=Ae[de];if(typeof re=="number"||typeof re=="boolean"){if(ge!==re)return Ae[de]=re,!0}else if(ge.equals(re)===!1)return ge.copy(re),!0}return!1}function ft(Vt){const Ut=Vt.uniforms;let Ft=0;const Ae=16;for(let de=0,ge=Ut.length;de<ge;de++){const Yt=Array.isArray(Ut[de])?Ut[de]:[Ut[de]];for(let Wt=0,ye=Yt.length;Wt<ye;Wt++){const Ie=Yt[Wt],Te=Array.isArray(Ie.value)?Ie.value:[Ie.value];for(let De=0,ti=Te.length;De<ti;De++){const gi=Te[De],Ni=Ct(gi),ii=Ft%Ae;ii!==0&&Ae-ii<Ni.boundary&&(Ft+=Ae-ii),Ie.__data=new Float32Array(Ni.storage/Float32Array.BYTES_PER_ELEMENT),Ie.__offset=Ft,Ft+=Ni.storage}}}const re=Ft%Ae;return re>0&&(Ft+=Ae-re),Vt.__size=Ft,Vt.__cache={},this}function Ct(Vt){const Ut={boundary:0,storage:0};return typeof Vt=="number"||typeof Vt=="boolean"?(Ut.boundary=4,Ut.storage=4):Vt.isVector2?(Ut.boundary=8,Ut.storage=8):Vt.isVector3||Vt.isColor?(Ut.boundary=16,Ut.storage=12):Vt.isVector4?(Ut.boundary=16,Ut.storage=16):Vt.isMatrix3?(Ut.boundary=48,Ut.storage=48):Vt.isMatrix4?(Ut.boundary=64,Ut.storage=64):Vt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Vt),Ut}function pt(Vt){const Ut=Vt.target;Ut.removeEventListener("dispose",pt);const Ft=R.indexOf(Ut.__bindingPointIndex);R.splice(Ft,1),x.deleteBuffer(A[Ut.id]),delete A[Ut.id],delete O[Ut.id]}function ot(){for(const Vt in A)x.deleteBuffer(A[Vt]);R=[],A={},O={}}return{bind:$,update:Q,dispose:ot}}class JV{constructor(r={}){const{canvas:s=Z3(),context:m=null,depth:A=!0,stencil:O=!1,alpha:R=!1,antialias:L=!1,premultipliedAlpha:$=!0,preserveDrawingBuffer:Q=!1,powerPreference:Y="default",failIfMajorPerformanceCaveat:nt=!1,multiviewStereo:rt=!1}=r;this.isWebGLRenderer=!0;let at;if(m!==null){if(typeof WebGLRenderingContext<"u"&&m instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");at=m.getContextAttributes().alpha}else at=R;const ft=new Uint32Array(4),Ct=new Int32Array(4);let pt=null,ot=null;const Vt=[],Ut=[];this.domElement=s,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=O0,this._useLegacyLights=!1,this.toneMapping=ri,this.toneMappingExposure=1;const Ft=this;let Ae=!1,re=0,de=0,ge=null,Yt=-1,Wt=null;const ye=new D0,Ie=new D0;let Te=null;const De=new ln(0);let ti=0,gi=s.width,Ni=s.height,ii=1,Ri=null,Pi=null;const fn=new D0(0,0,gi,Ni),d0=new D0(0,0,gi,Ni);let H0=!1;const M9=new Yh;let F0=!1,o9=!1;const Mn=new gn,vi=new ie,Ui={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Qi(){return ge===null?ii:1}let Pe=m;function bi(ee,Fe){return s.getContext(ee,Fe)}try{const ee={alpha:!0,depth:A,stencil:O,antialias:L,premultipliedAlpha:$,preserveDrawingBuffer:Q,powerPreference:Y,failIfMajorPerformanceCaveat:nt};if("setAttribute"in s&&s.setAttribute("data-engine",`three.js r${h}`),s.addEventListener("webglcontextlost",ki,!1),s.addEventListener("webglcontextrestored",bn,!1),s.addEventListener("webglcontextcreationerror",rn,!1),Pe===null){const Fe="webgl2";if(Pe=bi(Fe,ee),Pe===null)throw bi(Fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ee){throw console.error("THREE.WebGLRenderer: "+ee.message),ee}let di,Bi,Ii,Si,Wi,on,Jn,Wn,U0,F9,y9,me,Kt,ci,Ai,Oi,Ci,vn,Fi,cn,K0,un,Cn,o0,kn;function be(){di=new qG(Pe),di.init(),Cn=new dC(Pe,di),Bi=new VG(Pe,di,r,Cn),Ii=new TV(Pe),Si=new ZG(Pe),Wi=new MV,on=new IV(Pe,di,Ii,Wi,Bi,Cn,Si),Jn=new zG(Ft),Wn=new KG(Ft),U0=new JJ(Pe),o0=new GG(Pe,U0),F9=new XG(Pe,U0,Si,o0),y9=new iH(Pe,F9,U0,Si),cn=new tH(Pe,Bi,on),Oi=new QG(Wi),me=new gV(Ft,Jn,Wn,di,Bi,o0,Oi),Kt=new FV(Ft,Wi),ci=new AV,Ai=new wV(di),Fi=new $G(Ft,Jn,Wn,Ii,y9,at,$),vn=new eH(Ft,di,Pe),Ci=new xV(Ft,y9,Bi),kn=new UV(Pe,Si,Bi,Ii),K0=new HG(Pe,di,Si),un=new YG(Pe,di,Si),Si.programs=me.programs,Ft.capabilities=Bi,Ft.extensions=di,Ft.properties=Wi,Ft.renderLists=ci,Ft.shadowMap=Ci,Ft.state=Ii,Ft.info=Si}be();const xi=typeof navigator<"u"&&"xr"in navigator?new LV(Ft,Pe,di,rt):new mC(Ft);this.xr=xi,this.getContext=function(){return Pe},this.getContextAttributes=function(){return Pe.getContextAttributes()},this.forceContextLoss=function(){const ee=di.get("WEBGL_lose_context");ee&&ee.loseContext()},this.forceContextRestore=function(){const ee=di.get("WEBGL_lose_context");ee&&ee.restoreContext()},this.getPixelRatio=function(){return ii},this.setPixelRatio=function(ee){ee!==void 0&&(ii=ee,this.setSize(gi,Ni,!1))},this.getSize=function(ee){return ee.set(gi,Ni)},this.setSize=function(ee,Fe,ei=!0){if(xi.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}gi=ee,Ni=Fe,s.width=Math.floor(ee*ii),s.height=Math.floor(Fe*ii),ei===!0&&(s.style.width=ee+"px",s.style.height=Fe+"px"),this.setViewport(0,0,ee,Fe)},this.getDrawingBufferSize=function(ee){return ee.set(gi*ii,Ni*ii).floor()},this.setDrawingBufferSize=function(ee,Fe,ei){gi=ee,Ni=Fe,ii=ei,s.width=Math.floor(ee*ei),s.height=Math.floor(Fe*ei),this.setViewport(0,0,ee,Fe)},this.getCurrentViewport=function(ee){return ee.copy(ye)},this.getViewport=function(ee){return ee.copy(fn)},this.setViewport=function(ee,Fe,ei,Ye){ee.isVector4?fn.set(ee.x,ee.y,ee.z,ee.w):fn.set(ee,Fe,ei,Ye),Ii.viewport(ye.copy(fn).multiplyScalar(ii).round())},this.getScissor=function(ee){return ee.copy(d0)},this.setScissor=function(ee,Fe,ei,Ye){ee.isVector4?d0.set(ee.x,ee.y,ee.z,ee.w):d0.set(ee,Fe,ei,Ye),Ii.scissor(Ie.copy(d0).multiplyScalar(ii).round())},this.getScissorTest=function(){return H0},this.setScissorTest=function(ee){Ii.setScissorTest(H0=ee)},this.setOpaqueSort=function(ee){Ri=ee},this.setTransparentSort=function(ee){Pi=ee},this.getClearColor=function(ee){return ee.copy(Fi.getClearColor())},this.setClearColor=function(){Fi.setClearColor.apply(Fi,arguments)},this.getClearAlpha=function(){return Fi.getClearAlpha()},this.setClearAlpha=function(){Fi.setClearAlpha.apply(Fi,arguments)},this.clear=function(ee=!0,Fe=!0,ei=!0){let Ye=0;if(ee){let Ze=!1;if(ge!==null){const en=ge.texture.format;Ze=en===tn||en===Je||en===$i}if(Ze){const en=ge.texture.type,_n=en===ni||en===Gn||en===yn||en===dn||en===f0||en===_i,xn=Fi.getClearColor(),Fn=Fi.getClearAlpha(),Yn=xn.r,h0=xn.g,y0=xn.b;_n?(ft[0]=Yn,ft[1]=h0,ft[2]=y0,ft[3]=Fn,Pe.clearBufferuiv(Pe.COLOR,0,ft)):(Ct[0]=Yn,Ct[1]=h0,Ct[2]=y0,Ct[3]=Fn,Pe.clearBufferiv(Pe.COLOR,0,Ct))}else Ye|=Pe.COLOR_BUFFER_BIT}Fe&&(Ye|=Pe.DEPTH_BUFFER_BIT),ei&&(Ye|=Pe.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Pe.clear(Ye)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){s.removeEventListener("webglcontextlost",ki,!1),s.removeEventListener("webglcontextrestored",bn,!1),s.removeEventListener("webglcontextcreationerror",rn,!1),ci.dispose(),Ai.dispose(),Wi.dispose(),Jn.dispose(),Wn.dispose(),y9.dispose(),o0.dispose(),kn.dispose(),me.dispose(),xi.dispose(),xi.removeEventListener("sessionstart",ms),xi.removeEventListener("sessionend",iE),Bu.stop()};function ki(ee){ee.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Ae=!0}function bn(){console.log("THREE.WebGLRenderer: Context Restored."),Ae=!1;const ee=Si.autoReset,Fe=Ci.enabled,ei=Ci.autoUpdate,Ye=Ci.needsUpdate,Ze=Ci.type;be(),Si.autoReset=ee,Ci.enabled=Fe,Ci.autoUpdate=ei,Ci.needsUpdate=Ye,Ci.type=Ze}function rn(ee){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ee.statusMessage)}function s0(ee){const Fe=ee.target;Fe.removeEventListener("dispose",s0),an(Fe)}function an(ee){Ki(ee),Wi.remove(ee)}function Ki(ee){const Fe=Wi.get(ee).programs;Fe!==void 0&&(Fe.forEach(function(ei){me.releaseProgram(ei)}),ee.isShaderMaterial&&me.releaseShaderCache(ee))}this.renderBufferDirect=function(ee,Fe,ei,Ye,Ze,en){Fe===null&&(Fe=Ui);const _n=Ze.isMesh&&Ze.matrixWorld.determinant()<0,xn=Pz(ee,Fe,ei,Ye,Ze);Ii.setMaterial(Ye,_n);let Fn=ei.index,Yn=1;if(Ye.wireframe===!0){if(Fn=F9.getWireframeAttribute(ei),Fn===void 0)return;Yn=2}const h0=ei.drawRange,y0=ei.attributes.position;let rr=h0.start*Yn,Yr=(h0.start+h0.count)*Yn;en!==null&&(rr=Math.max(rr,en.start*Yn),Yr=Math.min(Yr,(en.start+en.count)*Yn)),Fn!==null?(rr=Math.max(rr,0),Yr=Math.min(Yr,Fn.count)):y0!=null&&(rr=Math.max(rr,0),Yr=Math.min(Yr,y0.count));const qa=Yr-rr;if(qa<0||qa===1/0)return;o0.setup(Ze,Ye,xn,ei,Fn);let ac,V0=K0;if(Fn!==null&&(ac=U0.get(Fn),V0=un,V0.setIndex(ac)),Ze.isMesh)Ye.wireframe===!0?(Ii.setLineWidth(Ye.wireframeLinewidth*Qi()),V0.setMode(Pe.LINES)):V0.setMode(Pe.TRIANGLES);else if(Ze.isLine){let nl=Ye.linewidth;nl===void 0&&(nl=1),Ii.setLineWidth(nl*Qi()),Ze.isLineSegments?V0.setMode(Pe.LINES):Ze.isLineLoop?V0.setMode(Pe.LINE_LOOP):V0.setMode(Pe.LINE_STRIP)}else Ze.isPoints?V0.setMode(Pe.POINTS):Ze.isSprite&&V0.setMode(Pe.TRIANGLES);if(Ze.isBatchedMesh)Ze._multiDrawInstances!==null?V0.renderMultiDrawInstances(Ze._multiDrawStarts,Ze._multiDrawCounts,Ze._multiDrawCount,Ze._multiDrawInstances):V0.renderMultiDraw(Ze._multiDrawStarts,Ze._multiDrawCounts,Ze._multiDrawCount);else if(Ze.isInstancedMesh)V0.renderInstances(rr,qa,Ze.count);else if(ei.isInstancedBufferGeometry){const nl=ei._maxInstanceCount!==void 0?ei._maxInstanceCount:1/0,p0=Math.min(ei.instanceCount,nl);V0.renderInstances(rr,qa,p0)}else V0.render(rr,qa)};function m0(ee,Fe,ei){ee.transparent===!0&&ee.side===I&&ee.forceSinglePass===!1?(ee.side=S,ee.needsUpdate=!0,b4(ee,Fe,ei),ee.side=E,ee.needsUpdate=!0,b4(ee,Fe,ei),ee.side=I):b4(ee,Fe,ei)}this.compile=function(ee,Fe,ei=null){ei===null&&(ei=ee),ot=Ai.get(ei),ot.init(Fe),Ut.push(ot),ei.traverseVisible(function(Ze){Ze.isLight&&Ze.layers.test(Fe.layers)&&(ot.pushLight(Ze),Ze.castShadow&&ot.pushShadow(Ze))}),ee!==ei&&ee.traverseVisible(function(Ze){Ze.isLight&&Ze.layers.test(Fe.layers)&&(ot.pushLight(Ze),Ze.castShadow&&ot.pushShadow(Ze))}),ot.setupLights(Ft._useLegacyLights);const Ye=new Set;return ee.traverse(function(Ze){const en=Ze.material;if(en)if(Array.isArray(en))for(let _n=0;_n<en.length;_n++){const xn=en[_n];m0(xn,ei,Ze),Ye.add(xn)}else m0(en,ei,Ze),Ye.add(en)}),Ut.pop(),ot=null,Ye},this.compileAsync=function(ee,Fe,ei=null){const Ye=this.compile(ee,Fe,ei);return new Promise(Ze=>{function en(){if(Ye.forEach(function(_n){Wi.get(_n).currentProgram.isReady()&&Ye.delete(_n)}),Ye.size===0){Ze(ee);return}setTimeout(en,10)}di.get("KHR_parallel_shader_compile")!==null?en():setTimeout(en,10)})};let Ln=null;function mr(ee){Ln&&Ln(ee)}function ms(){Bu.stop()}function iE(){Bu.start()}const Bu=new Z7;Bu.setAnimationLoop(mr),typeof self<"u"&&Bu.setContext(self),this.setAnimationLoop=function(ee){Ln=ee,xi.setAnimationLoop(ee),ee===null?Bu.stop():Bu.start()},xi.addEventListener("sessionstart",ms),xi.addEventListener("sessionend",iE),this.render=function(ee,Fe){if(Fe!==void 0&&Fe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Ae===!0)return;ee.matrixWorldAutoUpdate===!0&&ee.updateMatrixWorld(),Fe.parent===null&&Fe.matrixWorldAutoUpdate===!0&&Fe.updateMatrixWorld(),xi.enabled===!0&&xi.isPresenting===!0&&(xi.cameraAutoUpdate===!0&&xi.updateCamera(Fe),Fe=xi.getCamera()),ee.isScene===!0&&ee.onBeforeRender(Ft,ee,Fe,ge),ot=Ai.get(ee,Ut.length),ot.init(Fe),Ut.push(ot),Mn.multiplyMatrices(Fe.projectionMatrix,Fe.matrixWorldInverse),M9.setFromProjectionMatrix(Mn),o9=this.localClippingEnabled,F0=Oi.init(this.clippingPlanes,o9),pt=ci.get(ee,Vt.length),pt.init(),Vt.push(pt),nE(ee,Fe,0,Ft.sortObjects),pt.finish(),Ft.sortObjects===!0&&pt.sort(Ri,Pi);const ei=xi.enabled===!1||xi.isPresenting===!1||xi.hasDepthSensing()===!1;ei&&Fi.addToRenderList(pt,ee),this.info.render.frame++,F0===!0&&Oi.beginShadows();const Ye=ot.state.shadowsArray;Ci.render(Ye,ee,Fe),F0===!0&&Oi.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ze=pt.opaque,en=pt.transmissive;if(ot.setupLights(Ft._useLegacyLights),Fe.isArrayCamera){const _n=Fe.cameras;if(en.length>0)for(let xn=0,Fn=_n.length;xn<Fn;xn++){const Yn=_n[xn];rE(Ze,en,ee,Yn)}if(ei&&Fi.render(ee),xi.enabled&&xi.isMultiview)on.setDeferTextureUploads(!0),Zp(pt,ee,Fe,Fe.cameras[0].viewport);else for(let xn=0,Fn=_n.length;xn<Fn;xn++){const Yn=_n[xn];Zp(pt,ee,Yn,Yn.viewport)}}else en.length>0&&rE(Ze,en,ee,Fe),ei&&Fi.render(ee),Zp(pt,ee,Fe);ge!==null&&(on.updateMultisampleRenderTarget(ge),on.updateRenderTargetMipmap(ge)),ee.isScene===!0&&ee.onAfterRender(Ft,ee,Fe),on.runDeferredUploads(),xi.enabled&&xi.submitFrame&&xi.submitFrame(),o0.resetDefaultState(),Yt=-1,Wt=null,Ut.pop(),Ut.length>0?(ot=Ut[Ut.length-1],F0===!0&&Oi.setGlobalState(Ft.clippingPlanes,ot.state.camera)):ot=null,Vt.pop(),Vt.length>0?pt=Vt[Vt.length-1]:pt=null};function nE(ee,Fe,ei,Ye){if(ee.visible===!1)return;if(ee.layers.test(Fe.layers)){if(ee.isGroup)ei=ee.renderOrder;else if(ee.isLOD)ee.autoUpdate===!0&&ee.update(Fe);else if(ee.isLight)ot.pushLight(ee),ee.castShadow&&ot.pushShadow(ee);else if(ee.isSprite){if(!ee.frustumCulled||M9.intersectsSprite(ee)){Ye&&vi.setFromMatrixPosition(ee.matrixWorld).applyMatrix4(Mn);const _n=y9.update(ee),xn=ee.material;xn.visible&&pt.push(ee,_n,xn,ei,vi.z,null)}}else if((ee.isMesh||ee.isLine||ee.isPoints)&&(!ee.frustumCulled||M9.intersectsObject(ee))){const _n=y9.update(ee),xn=ee.material;if(Ye&&(ee.boundingSphere!==void 0?(ee.boundingSphere===null&&ee.computeBoundingSphere(),vi.copy(ee.boundingSphere.center)):(_n.boundingSphere===null&&_n.computeBoundingSphere(),vi.copy(_n.boundingSphere.center)),vi.applyMatrix4(ee.matrixWorld).applyMatrix4(Mn)),Array.isArray(xn)){const Fn=_n.groups;for(let Yn=0,h0=Fn.length;Yn<h0;Yn++){const y0=Fn[Yn],rr=xn[y0.materialIndex];rr&&rr.visible&&pt.push(ee,_n,rr,ei,vi.z,y0)}}else xn.visible&&pt.push(ee,_n,xn,ei,vi.z,null)}}const en=ee.children;for(let _n=0,xn=en.length;_n<xn;_n++)nE(en[_n],Fe,ei,Ye)}function Zp(ee,Fe,ei,Ye){const Ze=ee.opaque,en=ee.transmissive,_n=ee.transparent;ot.setupLightsView(ei),F0===!0&&Oi.setGlobalState(Ft.clippingPlanes,ei),Ye&&Ii.viewport(ye.copy(Ye)),Ze.length>0&&v4(Ze,Fe,ei),en.length>0&&v4(en,Fe,ei),_n.length>0&&v4(_n,Fe,ei),Ii.buffers.depth.setTest(!0),Ii.buffers.depth.setMask(!0),Ii.buffers.color.setMask(!0),Ii.setPolygonOffset(!1)}function rE(ee,Fe,ei,Ye){if((ei.isScene===!0?ei.overrideMaterial:null)!==null)return;ot.state.transmissionRenderTarget[Ye.id]===void 0&&(ot.state.transmissionRenderTarget[Ye.id]=new Sa(1,1,{generateMipmaps:!0,type:di.has("EXT_color_buffer_half_float")||di.has("EXT_color_buffer_float")?Hi:ni,minFilter:ke,samples:4,stencilBuffer:O,resolveDepthBuffer:!1,resolveStencilBuffer:!1}));const en=ot.state.transmissionRenderTarget[Ye.id],_n=Ye.viewport||ye;en.setSize(_n.z,_n.w);const xn=Ft.getRenderTarget();Ft.setRenderTarget(en),Ft.getClearColor(De),ti=Ft.getClearAlpha(),ti<1&&Ft.setClearColor(16777215,.5),Ft.clear();const Fn=Ft.toneMapping;Ft.toneMapping=ri;const Yn=Ye.viewport;if(Ye.viewport!==void 0&&(Ye.viewport=void 0),ot.setupLightsView(Ye),F0===!0&&Oi.setGlobalState(Ft.clippingPlanes,Ye),v4(ee,ei,Ye),on.updateMultisampleRenderTarget(en),on.updateRenderTargetMipmap(en),di.has("WEBGL_multisampled_render_to_texture")===!1){let h0=!1;for(let y0=0,rr=Fe.length;y0<rr;y0++){const Yr=Fe[y0],qa=Yr.object,ac=Yr.geometry,V0=Yr.material,nl=Yr.group;if(V0.side===I&&qa.layers.test(Ye.layers)){const p0=V0.side;V0.side=S,V0.needsUpdate=!0,aE(qa,ei,Ye,ac,V0,nl),V0.side=p0,V0.needsUpdate=!0,h0=!0}}h0===!0&&(on.updateMultisampleRenderTarget(en),on.updateRenderTargetMipmap(en))}Ft.setRenderTarget(xn),Ft.setClearColor(De,ti),Yn!==void 0&&(Ye.viewport=Yn),Ft.toneMapping=Fn}function v4(ee,Fe,ei){const Ye=Fe.isScene===!0?Fe.overrideMaterial:null;for(let Ze=0,en=ee.length;Ze<en;Ze++){const _n=ee[Ze],xn=_n.object,Fn=_n.geometry,Yn=Ye===null?_n.material:Ye,h0=_n.group;xn.layers.test(ei.layers)&&aE(xn,Fe,ei,Fn,Yn,h0)}}function aE(ee,Fe,ei,Ye,Ze,en){ee.onBeforeRender(Ft,Fe,ei,Ye,Ze,en),ee.modelViewMatrix.multiplyMatrices(ei.matrixWorldInverse,ee.matrixWorld),ee.normalMatrix.getNormalMatrix(ee.modelViewMatrix),Ze.onBeforeRender(Ft,Fe,ei,Ye,ee,en),Ze.transparent===!0&&Ze.side===I&&Ze.forceSinglePass===!1?(Ze.side=S,Ze.needsUpdate=!0,Ft.renderBufferDirect(ei,Fe,Ye,Ze,ee,en),Ze.side=E,Ze.needsUpdate=!0,Ft.renderBufferDirect(ei,Fe,Ye,Ze,ee,en),Ze.side=I):Ft.renderBufferDirect(ei,Fe,Ye,Ze,ee,en),ee.onAfterRender(Ft,Fe,ei,Ye,Ze,en)}function b4(ee,Fe,ei){Fe.isScene!==!0&&(Fe=Ui);const Ye=Wi.get(ee),Ze=ot.state.lights,en=ot.state.shadowsArray,_n=Ze.state.version,xn=me.getParameters(ee,Ze.state,en,Fe,ei),Fn=me.getProgramCacheKey(xn);let Yn=Ye.programs;Ye.environment=ee.isMeshStandardMaterial?Fe.environment:null,Ye.fog=Fe.fog,Ye.envMap=(ee.isMeshStandardMaterial?Wn:Jn).get(ee.envMap||Ye.environment),Ye.envMapRotation=Ye.environment!==null&&ee.envMap===null?Fe.environmentRotation:ee.envMapRotation,Yn===void 0&&(ee.addEventListener("dispose",s0),Yn=new Map,Ye.programs=Yn);let h0=Yn.get(Fn);if(h0!==void 0){if(Ye.currentProgram===h0&&Ye.lightsStateVersion===_n)return sE(ee,xn),h0}else xn.uniforms=me.getUniforms(ee),ee.onBuild(ei,xn,Ft),ee.onBeforeCompile(xn,Ft),h0=me.acquireProgram(xn,Fn),Yn.set(Fn,h0),Ye.uniforms=xn.uniforms;const y0=Ye.uniforms;return(!ee.isShaderMaterial&&!ee.isRawShaderMaterial||ee.clipping===!0)&&(y0.clippingPlanes=Oi.uniform),sE(ee,xn),Ye.needsLights=Lz(ee),Ye.lightsStateVersion=_n,Ye.needsLights&&(y0.ambientLightColor.value=Ze.state.ambient,y0.lightProbe.value=Ze.state.probe,y0.directionalLights.value=Ze.state.directional,y0.directionalLightShadows.value=Ze.state.directionalShadow,y0.spotLights.value=Ze.state.spot,y0.spotLightShadows.value=Ze.state.spotShadow,y0.rectAreaLights.value=Ze.state.rectArea,y0.ltc_1.value=Ze.state.rectAreaLTC1,y0.ltc_2.value=Ze.state.rectAreaLTC2,y0.pointLights.value=Ze.state.point,y0.pointLightShadows.value=Ze.state.pointShadow,y0.hemisphereLights.value=Ze.state.hemi,y0.directionalShadowMap.value=Ze.state.directionalShadowMap,y0.directionalShadowMatrix.value=Ze.state.directionalShadowMatrix,y0.spotShadowMap.value=Ze.state.spotShadowMap,y0.spotLightMatrix.value=Ze.state.spotLightMatrix,y0.spotLightMap.value=Ze.state.spotLightMap,y0.pointShadowMap.value=Ze.state.pointShadowMap,y0.pointShadowMatrix.value=Ze.state.pointShadowMatrix),Ye.currentProgram=h0,Ye.uniformsList=null,h0}function oE(ee){if(ee.uniformsList===null){const Fe=ee.currentProgram.getUniforms();ee.uniformsList=wm.seqWithValue(Fe.seq,ee.uniforms)}return ee.uniformsList}function sE(ee,Fe){const ei=Wi.get(ee);ei.outputColorSpace=Fe.outputColorSpace,ei.batching=Fe.batching,ei.instancing=Fe.instancing,ei.instancingColor=Fe.instancingColor,ei.instancingMorph=Fe.instancingMorph,ei.skinning=Fe.skinning,ei.morphTargets=Fe.morphTargets,ei.morphNormals=Fe.morphNormals,ei.morphColors=Fe.morphColors,ei.morphTargetsCount=Fe.morphTargetsCount,ei.numClippingPlanes=Fe.numClippingPlanes,ei.numIntersection=Fe.numClipIntersection,ei.vertexAlphas=Fe.vertexAlphas,ei.vertexTangents=Fe.vertexTangents,ei.toneMapping=Fe.toneMapping,ei.numMultiviewViews=Fe.numMultiviewViews}function Pz(ee,Fe,ei,Ye,Ze){Fe.isScene!==!0&&(Fe=Ui),on.resetTextureUnits();const en=Fe.fog,_n=Ye.isMeshStandardMaterial?Fe.environment:null,xn=ge===null?Ft.outputColorSpace:ge.isXRRenderTarget===!0?ge.texture.colorSpace:Po,Fn=(Ye.isMeshStandardMaterial?Wn:Jn).get(Ye.envMap||_n),Yn=Ye.vertexColors===!0&&!!ei.attributes.color&&ei.attributes.color.itemSize===4,h0=!!ei.attributes.tangent&&(!!Ye.normalMap||Ye.anisotropy>0),y0=!!ei.morphAttributes.position,rr=!!ei.morphAttributes.normal,Yr=!!ei.morphAttributes.color;let qa=ri;Ye.toneMapped&&(ge===null||ge.isXRRenderTarget===!0)&&(qa=Ft.toneMapping);const ac=ge&&ge.isWebGLMultiviewRenderTarget?ge.numViews:0,V0=ei.morphAttributes.position||ei.morphAttributes.normal||ei.morphAttributes.color,nl=V0!==void 0?V0.length:0,p0=Wi.get(Ye),Nz=ot.state.lights;if(F0===!0&&(o9===!0||ee!==Wt)){const po=ee===Wt&&Ye.id===Yt;Oi.setState(Ye,ee,po)}let S9=!1;Ye.version===p0.__version?(p0.needsLights&&p0.lightsStateVersion!==Nz.state.version||p0.outputColorSpace!==xn||Ze.isBatchedMesh&&p0.batching===!1||!Ze.isBatchedMesh&&p0.batching===!0||Ze.isInstancedMesh&&p0.instancing===!1||!Ze.isInstancedMesh&&p0.instancing===!0||Ze.isSkinnedMesh&&p0.skinning===!1||!Ze.isSkinnedMesh&&p0.skinning===!0||Ze.isInstancedMesh&&p0.instancingColor===!0&&Ze.instanceColor===null||Ze.isInstancedMesh&&p0.instancingColor===!1&&Ze.instanceColor!==null||Ze.isInstancedMesh&&p0.instancingMorph===!0&&Ze.morphTexture===null||Ze.isInstancedMesh&&p0.instancingMorph===!1&&Ze.morphTexture!==null||p0.envMap!==Fn||Ye.fog===!0&&p0.fog!==en||p0.numClippingPlanes!==void 0&&(p0.numClippingPlanes!==Oi.numPlanes||p0.numIntersection!==Oi.numIntersection)||p0.vertexAlphas!==Yn||p0.vertexTangents!==h0||p0.morphTargets!==y0||p0.morphNormals!==rr||p0.morphColors!==Yr||p0.toneMapping!==qa||p0.morphTargetsCount!==nl||p0.numMultiviewViews!==ac)&&(S9=!0):(S9=!0,p0.__version=Ye.version);let rl=p0.currentProgram;S9===!0&&(rl=b4(Ye,Fe,Ze));let lE=!1,C2=!1,tg=!1;const pr=rl.getUniforms(),oc=p0.uniforms;if(Ii.useProgram(rl.program)&&(lE=!0,C2=!0,tg=!0),Ye.id!==Yt&&(Yt=Ye.id,C2=!0),lE||Wt!==ee){rl.numMultiviewViews>0?(vn.updateCameraProjectionMatricesUniform(ee,pr),vn.updateCameraViewMatricesUniform(ee,pr)):(pr.setValue(Pe,"projectionMatrix",ee.projectionMatrix),pr.setValue(Pe,"viewMatrix",ee.matrixWorldInverse));const po=pr.map.cameraPosition;po!==void 0&&po.setValue(Pe,vi.setFromMatrixPosition(ee.matrixWorld)),Bi.logarithmicDepthBuffer&&pr.setValue(Pe,"logDepthBufFC",2/(Math.log(ee.far+1)/Math.LN2)),(Ye.isMeshPhongMaterial||Ye.isMeshToonMaterial||Ye.isMeshLambertMaterial||Ye.isMeshBasicMaterial||Ye.isMeshStandardMaterial||Ye.isShaderMaterial)&&pr.setValue(Pe,"isOrthographic",ee.isOrthographicCamera===!0),Wt!==ee&&(Wt=ee,C2=!0,tg=!0)}if(Ze.isSkinnedMesh){pr.setOptional(Pe,Ze,"bindMatrix"),pr.setOptional(Pe,Ze,"bindMatrixInverse");const po=Ze.skeleton;po&&(po.boneTexture===null&&po.computeBoneTexture(),pr.setValue(Pe,"boneTexture",po.boneTexture,on))}Ze.isBatchedMesh&&(pr.setOptional(Pe,Ze,"batchingTexture"),pr.setValue(Pe,"batchingTexture",Ze._matricesTexture,on));const eg=ei.morphAttributes;if((eg.position!==void 0||eg.normal!==void 0||eg.color!==void 0)&&cn.update(Ze,ei,rl),(C2||p0.receiveShadow!==Ze.receiveShadow)&&(p0.receiveShadow=Ze.receiveShadow,pr.setValue(Pe,"receiveShadow",Ze.receiveShadow)),Ye.isMeshGouraudMaterial&&Ye.envMap!==null&&(oc.envMap.value=Fn,oc.flipEnvMap.value=Fn.isCubeTexture&&Fn.isRenderTargetTexture===!1?-1:1),Ye.isMeshStandardMaterial&&Ye.envMap===null&&Fe.environment!==null&&(oc.envMapIntensity.value=Fe.environmentIntensity),C2&&(pr.setValue(Pe,"toneMappingExposure",Ft.toneMappingExposure),p0.needsLights&&kz(oc,tg),en&&Ye.fog===!0&&Kt.refreshFogUniforms(oc,en),Kt.refreshMaterialUniforms(oc,Ye,ii,Ni,ot.state.transmissionRenderTarget[ee.id]),wm.upload(Pe,oE(p0),oc,on)),Ye.isShaderMaterial&&Ye.uniformsNeedUpdate===!0&&(wm.upload(Pe,oE(p0),oc,on),Ye.uniformsNeedUpdate=!1),Ye.isSpriteMaterial&&pr.setValue(Pe,"center",Ze.center),rl.numMultiviewViews>0?vn.updateObjectMatricesUniforms(Ze,ee,pr):(pr.setValue(Pe,"modelViewMatrix",Ze.modelViewMatrix),pr.setValue(Pe,"normalMatrix",Ze.normalMatrix)),pr.setValue(Pe,"modelMatrix",Ze.matrixWorld),Ye.isShaderMaterial||Ye.isRawShaderMaterial){const po=Ye.uniformsGroups;for(let ig=0,Fz=po.length;ig<Fz;ig++){const cE=po[ig];kn.update(cE,rl),kn.bind(cE,rl)}}return rl}function kz(ee,Fe){ee.ambientLightColor.needsUpdate=Fe,ee.lightProbe.needsUpdate=Fe,ee.directionalLights.needsUpdate=Fe,ee.directionalLightShadows.needsUpdate=Fe,ee.pointLights.needsUpdate=Fe,ee.pointLightShadows.needsUpdate=Fe,ee.spotLights.needsUpdate=Fe,ee.spotLightShadows.needsUpdate=Fe,ee.rectAreaLights.needsUpdate=Fe,ee.hemisphereLights.needsUpdate=Fe}function Lz(ee){return ee.isMeshLambertMaterial||ee.isMeshToonMaterial||ee.isMeshPhongMaterial||ee.isMeshStandardMaterial||ee.isShadowMaterial||ee.isShaderMaterial&&ee.lights===!0}this.setTexture2D=function(){var ee=!1;return function(ei,Ye){ei&&ei.isWebGLRenderTarget&&(ee||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),ee=!0),ei=ei.texture),on.setTexture2D(ei,Ye)}}(),this.getActiveCubeFace=function(){return re},this.getActiveMipmapLevel=function(){return de},this.getRenderTarget=function(){return ge},this.setRenderTargetTextures=function(ee,Fe,ei){Wi.get(ee.texture).__webglTexture=Fe,Wi.get(ee.depthTexture).__webglTexture=ei;const Ye=Wi.get(ee);Ye.__hasExternalTextures=!0,Ye.__autoAllocateDepthBuffer=ei===void 0,!Ye.__autoAllocateDepthBuffer&&(!ge||!ge.isWebGLMultiviewRenderTarget)&&di.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ye.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(ee,Fe){const ei=Wi.get(ee);ei.__webglFramebuffer=Fe,ei.__useDefaultFramebuffer=Fe===void 0},this.setRenderTarget=function(ee,Fe=0,ei=0){ge=ee,re=Fe,de=ei;let Ye=!0,Ze=null,en=!1,_n=!1;if(ee){const Fn=Wi.get(ee);Fn.__useDefaultFramebuffer!==void 0?(Ii.bindFramebuffer(Pe.FRAMEBUFFER,null),Ye=!1):Fn.__webglFramebuffer===void 0?on.setupRenderTarget(ee):Fn.__hasExternalTextures&&on.rebindTextures(ee,Wi.get(ee.texture).__webglTexture,Wi.get(ee.depthTexture).__webglTexture);const Yn=ee.texture;(Yn.isData3DTexture||Yn.isDataArrayTexture||Yn.isCompressedArrayTexture)&&(_n=!0);const h0=Wi.get(ee).__webglFramebuffer;ee.isWebGLCubeRenderTarget?(Array.isArray(h0[Fe])?Ze=h0[Fe][ei]:Ze=h0[Fe],en=!0):ee.samples>0&&on.useMultisampledRTT(ee)===!1?Ze=Wi.get(ee).__webglMultisampledFramebuffer:Array.isArray(h0)?Ze=h0[ei]:Ze=h0,ye.copy(ee.viewport),Ie.copy(ee.scissor),Te=ee.scissorTest}else ye.copy(fn).multiplyScalar(ii).floor(),Ie.copy(d0).multiplyScalar(ii).floor(),Te=H0;if(Ii.bindFramebuffer(Pe.FRAMEBUFFER,Ze)&&Ye&&Ii.drawBuffers(ee,Ze),Ii.viewport(ye),Ii.scissor(Ie),Ii.setScissorTest(Te),en){const Fn=Wi.get(ee.texture);Pe.framebufferTexture2D(Pe.FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,Pe.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,Fn.__webglTexture,ei)}else if(_n){const Fn=Wi.get(ee.texture),Yn=Fe||0;Pe.framebufferTextureLayer(Pe.FRAMEBUFFER,Pe.COLOR_ATTACHMENT0,Fn.__webglTexture,ei||0,Yn)}Yt=-1},this.readRenderTargetPixels=function(ee,Fe,ei,Ye,Ze,en,_n){if(!(ee&&ee.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xn=Wi.get(ee).__webglFramebuffer;if(ee.isWebGLCubeRenderTarget&&_n!==void 0&&(xn=xn[_n]),xn){Ii.bindFramebuffer(Pe.FRAMEBUFFER,xn);try{const Fn=ee.texture,Yn=Fn.format,h0=Fn.type;if(!Bi.textureFormatReadable(Yn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Bi.textureTypeReadable(h0)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Fe>=0&&Fe<=ee.width-Ye&&ei>=0&&ei<=ee.height-Ze&&Pe.readPixels(Fe,ei,Ye,Ze,Cn.convert(Yn),Cn.convert(h0),en)}finally{const Fn=ge!==null?Wi.get(ge).__webglFramebuffer:null;Ii.bindFramebuffer(Pe.FRAMEBUFFER,Fn)}}},this.copyFramebufferToTexture=function(ee,Fe,ei=0){const Ye=Math.pow(2,-ei),Ze=Math.floor(Fe.image.width*Ye),en=Math.floor(Fe.image.height*Ye);on.setTexture2D(Fe,0),Pe.copyTexSubImage2D(Pe.TEXTURE_2D,ei,0,0,ee.x,ee.y,Ze,en),Ii.unbindTexture()},this.copyTextureToTexture=function(ee,Fe,ei,Ye=0){const Ze=Fe.image.width,en=Fe.image.height,_n=Cn.convert(ei.format),xn=Cn.convert(ei.type);on.setTexture2D(ei,0),Pe.pixelStorei(Pe.UNPACK_FLIP_Y_WEBGL,ei.flipY),Pe.pixelStorei(Pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ei.premultiplyAlpha),Pe.pixelStorei(Pe.UNPACK_ALIGNMENT,ei.unpackAlignment),Fe.isDataTexture?Pe.texSubImage2D(Pe.TEXTURE_2D,Ye,ee.x,ee.y,Ze,en,_n,xn,Fe.image.data):Fe.isCompressedTexture?Pe.compressedTexSubImage2D(Pe.TEXTURE_2D,Ye,ee.x,ee.y,Fe.mipmaps[0].width,Fe.mipmaps[0].height,_n,Fe.mipmaps[0].data):Pe.texSubImage2D(Pe.TEXTURE_2D,Ye,ee.x,ee.y,_n,xn,Fe.image),Ye===0&&ei.generateMipmaps&&Pe.generateMipmap(Pe.TEXTURE_2D),Ii.unbindTexture()},this.copyTextureToTexture3D=function(ee,Fe,ei,Ye,Ze=0){const en=ee.max.x-ee.min.x,_n=ee.max.y-ee.min.y,xn=ee.max.z-ee.min.z,Fn=Cn.convert(Ye.format),Yn=Cn.convert(Ye.type);let h0;if(Ye.isData3DTexture)on.setTexture3D(Ye,0),h0=Pe.TEXTURE_3D;else if(Ye.isDataArrayTexture||Ye.isCompressedArrayTexture)on.setTexture2DArray(Ye,0),h0=Pe.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Pe.pixelStorei(Pe.UNPACK_FLIP_Y_WEBGL,Ye.flipY),Pe.pixelStorei(Pe.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ye.premultiplyAlpha),Pe.pixelStorei(Pe.UNPACK_ALIGNMENT,Ye.unpackAlignment);const y0=Pe.getParameter(Pe.UNPACK_ROW_LENGTH),rr=Pe.getParameter(Pe.UNPACK_IMAGE_HEIGHT),Yr=Pe.getParameter(Pe.UNPACK_SKIP_PIXELS),qa=Pe.getParameter(Pe.UNPACK_SKIP_ROWS),ac=Pe.getParameter(Pe.UNPACK_SKIP_IMAGES),V0=ei.isCompressedTexture?ei.mipmaps[Ze]:ei.image;Pe.pixelStorei(Pe.UNPACK_ROW_LENGTH,V0.width),Pe.pixelStorei(Pe.UNPACK_IMAGE_HEIGHT,V0.height),Pe.pixelStorei(Pe.UNPACK_SKIP_PIXELS,ee.min.x),Pe.pixelStorei(Pe.UNPACK_SKIP_ROWS,ee.min.y),Pe.pixelStorei(Pe.UNPACK_SKIP_IMAGES,ee.min.z),ei.isDataTexture||ei.isData3DTexture?Pe.texSubImage3D(h0,Ze,Fe.x,Fe.y,Fe.z,en,_n,xn,Fn,Yn,V0.data):Ye.isCompressedArrayTexture?Pe.compressedTexSubImage3D(h0,Ze,Fe.x,Fe.y,Fe.z,en,_n,xn,Fn,V0.data):Pe.texSubImage3D(h0,Ze,Fe.x,Fe.y,Fe.z,en,_n,xn,Fn,Yn,V0),Pe.pixelStorei(Pe.UNPACK_ROW_LENGTH,y0),Pe.pixelStorei(Pe.UNPACK_IMAGE_HEIGHT,rr),Pe.pixelStorei(Pe.UNPACK_SKIP_PIXELS,Yr),Pe.pixelStorei(Pe.UNPACK_SKIP_ROWS,qa),Pe.pixelStorei(Pe.UNPACK_SKIP_IMAGES,ac),Ze===0&&Ye.generateMipmaps&&Pe.generateMipmap(h0),Ii.unbindTexture()},this.initTexture=function(ee){ee.isCubeTexture?on.setTextureCube(ee,0):ee.isData3DTexture?on.setTexture3D(ee,0):ee.isDataArrayTexture||ee.isCompressedArrayTexture?on.setTexture2DArray(ee,0):on.setTexture2D(ee,0),Ii.unbindTexture()},this.resetState=function(){re=0,de=0,ge=null,Ii.reset(),o0.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ho}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(r){this._outputColorSpace=r;const s=this.getContext();s.drawingBufferColorSpace=r===_1?"display-p3":"srgb",s.unpackColorSpace=G0.workingColorSpace===nu?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(r){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=r}}class Om{constructor(r,s=25e-5){this.isFogExp2=!0,this.name="",this.color=new ln(r),this.density=s}clone(){return new Om(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Sm{constructor(r,s=1,m=1e3){this.isFog=!0,this.name="",this.color=new ln(r),this.near=s,this.far=m}clone(){return new Sm(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class gC extends N0{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ja,this.environmentIntensity=1,this.environmentRotation=new ja,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(r,s){return super.copy(r,s),r.background!==null&&(this.background=r.background.clone()),r.environment!==null&&(this.environment=r.environment.clone()),r.fog!==null&&(this.fog=r.fog.clone()),this.backgroundBlurriness=r.backgroundBlurriness,this.backgroundIntensity=r.backgroundIntensity,this.backgroundRotation.copy(r.backgroundRotation),this.environmentIntensity=r.environmentIntensity,this.environmentRotation.copy(r.environmentRotation),r.overrideMaterial!==null&&(this.overrideMaterial=r.overrideMaterial.clone()),this.matrixAutoUpdate=r.matrixAutoUpdate,this}toJSON(r){const s=super.toJSON(r);return this.fog!==null&&(s.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(s.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(s.object.backgroundIntensity=this.backgroundIntensity),s.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(s.object.environmentIntensity=this.environmentIntensity),s.object.environmentRotation=this.environmentRotation.toArray(),s}}class xm{constructor(r,s){this.isInterleavedBuffer=!0,this.array=r,this.stride=s,this.count=r!==void 0?r.length/s:0,this.usage=su,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=fa()}onUploadCallback(){}set needsUpdate(r){r===!0&&this.version++}get updateRange(){return em("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(r){return this.usage=r,this}addUpdateRange(r,s){this.updateRanges.push({start:r,count:s})}clearUpdateRanges(){this.updateRanges.length=0}copy(r){return this.array=new r.array.constructor(r.array),this.count=r.count,this.stride=r.stride,this.usage=r.usage,this}copyAt(r,s,m){r*=this.stride,m*=s.stride;for(let A=0,O=this.stride;A<O;A++)this.array[r+A]=s.array[m+A];return this}set(r,s=0){return this.array.set(r,s),this}clone(r){r.arrayBuffers===void 0&&(r.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fa()),r.arrayBuffers[this.array.buffer._uuid]===void 0&&(r.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const s=new this.array.constructor(r.arrayBuffers[this.array.buffer._uuid]),m=new this.constructor(s,this.stride);return m.setUsage(this.usage),m}onUpload(r){return this.onUploadCallback=r,this}toJSON(r){return r.arrayBuffers===void 0&&(r.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fa()),r.arrayBuffers[this.array.buffer._uuid]===void 0&&(r.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ga=new ie;class Au{constructor(r,s,m,A=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=r,this.itemSize=s,this.offset=m,this.normalized=A}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(r){this.data.needsUpdate=r}applyMatrix4(r){for(let s=0,m=this.data.count;s<m;s++)ga.fromBufferAttribute(this,s),ga.applyMatrix4(r),this.setXYZ(s,ga.x,ga.y,ga.z);return this}applyNormalMatrix(r){for(let s=0,m=this.count;s<m;s++)ga.fromBufferAttribute(this,s),ga.applyNormalMatrix(r),this.setXYZ(s,ga.x,ga.y,ga.z);return this}transformDirection(r){for(let s=0,m=this.count;s<m;s++)ga.fromBufferAttribute(this,s),ga.transformDirection(r),this.setXYZ(s,ga.x,ga.y,ga.z);return this}getComponent(r,s){let m=this.array[r*this.data.stride+this.offset+s];return this.normalized&&(m=Fr(m,this.array)),m}setComponent(r,s,m){return this.normalized&&(m=jn(m,this.array)),this.data.array[r*this.data.stride+this.offset+s]=m,this}setX(r,s){return this.normalized&&(s=jn(s,this.array)),this.data.array[r*this.data.stride+this.offset]=s,this}setY(r,s){return this.normalized&&(s=jn(s,this.array)),this.data.array[r*this.data.stride+this.offset+1]=s,this}setZ(r,s){return this.normalized&&(s=jn(s,this.array)),this.data.array[r*this.data.stride+this.offset+2]=s,this}setW(r,s){return this.normalized&&(s=jn(s,this.array)),this.data.array[r*this.data.stride+this.offset+3]=s,this}getX(r){let s=this.data.array[r*this.data.stride+this.offset];return this.normalized&&(s=Fr(s,this.array)),s}getY(r){let s=this.data.array[r*this.data.stride+this.offset+1];return this.normalized&&(s=Fr(s,this.array)),s}getZ(r){let s=this.data.array[r*this.data.stride+this.offset+2];return this.normalized&&(s=Fr(s,this.array)),s}getW(r){let s=this.data.array[r*this.data.stride+this.offset+3];return this.normalized&&(s=Fr(s,this.array)),s}setXY(r,s,m){return r=r*this.data.stride+this.offset,this.normalized&&(s=jn(s,this.array),m=jn(m,this.array)),this.data.array[r+0]=s,this.data.array[r+1]=m,this}setXYZ(r,s,m,A){return r=r*this.data.stride+this.offset,this.normalized&&(s=jn(s,this.array),m=jn(m,this.array),A=jn(A,this.array)),this.data.array[r+0]=s,this.data.array[r+1]=m,this.data.array[r+2]=A,this}setXYZW(r,s,m,A,O){return r=r*this.data.stride+this.offset,this.normalized&&(s=jn(s,this.array),m=jn(m,this.array),A=jn(A,this.array),O=jn(O,this.array)),this.data.array[r+0]=s,this.data.array[r+1]=m,this.data.array[r+2]=A,this.data.array[r+3]=O,this}clone(r){if(r===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const s=[];for(let m=0;m<this.count;m++){const A=m*this.data.stride+this.offset;for(let O=0;O<this.itemSize;O++)s.push(this.data.array[A+O])}return new Y0(new this.array.constructor(s),this.itemSize,this.normalized)}else return r.interleavedBuffers===void 0&&(r.interleavedBuffers={}),r.interleavedBuffers[this.data.uuid]===void 0&&(r.interleavedBuffers[this.data.uuid]=this.data.clone(r)),new Au(r.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(r){if(r===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const s=[];for(let m=0;m<this.count;m++){const A=m*this.data.stride+this.offset;for(let O=0;O<this.itemSize;O++)s.push(this.data.array[A+O])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:s,normalized:this.normalized}}else return r.interleavedBuffers===void 0&&(r.interleavedBuffers={}),r.interleavedBuffers[this.data.uuid]===void 0&&(r.interleavedBuffers[this.data.uuid]=this.data.toJSON(r)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class mp extends qr{constructor(r){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ln(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.rotation=r.rotation,this.sizeAttenuation=r.sizeAttenuation,this.fog=r.fog,this}}let j1;const t2=new ie,W1=new ie,K1=new ie,q1=new yi,e2=new yi,MC=new gn,Tm=new ie,i2=new ie,Im=new ie,yC=new yi,pp=new yi,AC=new yi;class vC extends N0{constructor(r=new mp){if(super(),this.isSprite=!0,this.type="Sprite",j1===void 0){j1=new u0;const s=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),m=new xm(s,5);j1.setIndex([0,1,2,0,2,3]),j1.setAttribute("position",new Au(m,3,0,!1)),j1.setAttribute("uv",new Au(m,2,3,!1))}this.geometry=j1,this.material=r,this.center=new yi(.5,.5)}raycast(r,s){r.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),W1.setFromMatrixScale(this.matrixWorld),MC.copy(r.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(r.camera.matrixWorldInverse,this.matrixWorld),K1.setFromMatrixPosition(this.modelViewMatrix),r.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&W1.multiplyScalar(-K1.z);const m=this.material.rotation;let A,O;m!==0&&(O=Math.cos(m),A=Math.sin(m));const R=this.center;Bm(Tm.set(-.5,-.5,0),K1,R,W1,A,O),Bm(i2.set(.5,-.5,0),K1,R,W1,A,O),Bm(Im.set(.5,.5,0),K1,R,W1,A,O),yC.set(0,0),pp.set(1,0),AC.set(1,1);let L=r.ray.intersectTriangle(Tm,i2,Im,!1,t2);if(L===null&&(Bm(i2.set(-.5,.5,0),K1,R,W1,A,O),pp.set(0,1),L=r.ray.intersectTriangle(Tm,Im,i2,!1,t2),L===null))return;const $=r.ray.origin.distanceTo(t2);$<r.near||$>r.far||s.push({distance:$,point:t2.clone(),uv:Wa.getInterpolation(t2,Tm,i2,Im,yC,pp,AC,new yi),face:null,object:this})}copy(r,s){return super.copy(r,s),r.center!==void 0&&this.center.copy(r.center),this.material=r.material,this}}function Bm(x,r,s,m,A,O){q1.subVectors(x,s).addScalar(.5).multiply(m),A!==void 0?(e2.x=O*q1.x-A*q1.y,e2.y=A*q1.x+O*q1.y):e2.copy(q1),x.copy(r),x.x+=e2.x,x.y+=e2.y,x.applyMatrix4(MC)}const Rm=new ie,bC=new ie;class CC extends N0{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(r){super.copy(r,!1);const s=r.levels;for(let m=0,A=s.length;m<A;m++){const O=s[m];this.addLevel(O.object.clone(),O.distance,O.hysteresis)}return this.autoUpdate=r.autoUpdate,this}addLevel(r,s=0,m=0){s=Math.abs(s);const A=this.levels;let O;for(O=0;O<A.length&&!(s<A[O].distance);O++);return A.splice(O,0,{distance:s,hysteresis:m,object:r}),this.add(r),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(r){const s=this.levels;if(s.length>0){let m,A;for(m=1,A=s.length;m<A;m++){let O=s[m].distance;if(s[m].object.visible&&(O-=O*s[m].hysteresis),r<O)break}return s[m-1].object}return null}raycast(r,s){if(this.levels.length>0){Rm.setFromMatrixPosition(this.matrixWorld);const A=r.ray.origin.distanceTo(Rm);this.getObjectForDistance(A).raycast(r,s)}}update(r){const s=this.levels;if(s.length>1){Rm.setFromMatrixPosition(r.matrixWorld),bC.setFromMatrixPosition(this.matrixWorld);const m=Rm.distanceTo(bC)/r.zoom;s[0].object.visible=!0;let A,O;for(A=1,O=s.length;A<O;A++){let R=s[A].distance;if(s[A].object.visible&&(R-=R*s[A].hysteresis),m>=R)s[A-1].object.visible=!1,s[A].object.visible=!0;else break}for(this._currentLevel=A-1;A<O;A++)s[A].object.visible=!1}}toJSON(r){const s=super.toJSON(r);this.autoUpdate===!1&&(s.object.autoUpdate=!1),s.object.levels=[];const m=this.levels;for(let A=0,O=m.length;A<O;A++){const R=m[A];s.object.levels.push({object:R.object.uuid,distance:R.distance,hysteresis:R.hysteresis})}return s}}const _C=new ie,EC=new D0,wC=new D0,$V=new ie,OC=new gn,Dm=new ie,gp=new cr,SC=new gn,Mp=new ur;class xC extends nr{constructor(r,s){super(r,s),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Tt,this.bindMatrix=new gn,this.bindMatrixInverse=new gn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const r=this.geometry;this.boundingBox===null&&(this.boundingBox=new L9),this.boundingBox.makeEmpty();const s=r.getAttribute("position");for(let m=0;m<s.count;m++)this.getVertexPosition(m,Dm),this.boundingBox.expandByPoint(Dm)}computeBoundingSphere(){const r=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new cr),this.boundingSphere.makeEmpty();const s=r.getAttribute("position");for(let m=0;m<s.count;m++)this.getVertexPosition(m,Dm),this.boundingSphere.expandByPoint(Dm)}copy(r,s){return super.copy(r,s),this.bindMode=r.bindMode,this.bindMatrix.copy(r.bindMatrix),this.bindMatrixInverse.copy(r.bindMatrixInverse),this.skeleton=r.skeleton,r.boundingBox!==null&&(this.boundingBox=r.boundingBox.clone()),r.boundingSphere!==null&&(this.boundingSphere=r.boundingSphere.clone()),this}raycast(r,s){const m=this.material,A=this.matrixWorld;m!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),gp.copy(this.boundingSphere),gp.applyMatrix4(A),r.ray.intersectsSphere(gp)!==!1&&(SC.copy(A).invert(),Mp.copy(r.ray).applyMatrix4(SC),!(this.boundingBox!==null&&Mp.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(r,s,Mp)))}getVertexPosition(r,s){return super.getVertexPosition(r,s),this.applyBoneTransform(r,s),s}bind(r,s){this.skeleton=r,s===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),s=this.matrixWorld),this.bindMatrix.copy(s),this.bindMatrixInverse.copy(s).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const r=new D0,s=this.geometry.attributes.skinWeight;for(let m=0,A=s.count;m<A;m++){r.fromBufferAttribute(s,m);const O=1/r.manhattanLength();O!==1/0?r.multiplyScalar(O):r.set(1,0,0,0),s.setXYZW(m,r.x,r.y,r.z,r.w)}}updateMatrixWorld(r){super.updateMatrixWorld(r),this.bindMode===Tt?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Et?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(r,s){const m=this.skeleton,A=this.geometry;EC.fromBufferAttribute(A.attributes.skinIndex,r),wC.fromBufferAttribute(A.attributes.skinWeight,r),_C.copy(s).applyMatrix4(this.bindMatrix),s.set(0,0,0);for(let O=0;O<4;O++){const R=wC.getComponent(O);if(R!==0){const L=EC.getComponent(O);OC.multiplyMatrices(m.bones[L].matrixWorld,m.boneInverses[L]),s.addScaledVector($V.copy(_C).applyMatrix4(OC),R)}}return s.applyMatrix4(this.bindMatrixInverse)}}class yp extends N0{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Zl extends u9{constructor(r=null,s=1,m=1,A,O,R,L,$,Q=Be,Y=Be,nt,rt){super(null,R,L,$,Q,Y,A,O,nt,rt),this.isDataTexture=!0,this.image={data:r,width:s,height:m},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const TC=new gn,GV=new gn;class Pm{constructor(r=[],s=[]){this.uuid=fa(),this.bones=r.slice(0),this.boneInverses=s,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const r=this.bones,s=this.boneInverses;if(this.boneMatrices=new Float32Array(r.length*16),s.length===0)this.calculateInverses();else if(r.length!==s.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let m=0,A=this.bones.length;m<A;m++)this.boneInverses.push(new gn)}}calculateInverses(){this.boneInverses.length=0;for(let r=0,s=this.bones.length;r<s;r++){const m=new gn;this.bones[r]&&m.copy(this.bones[r].matrixWorld).invert(),this.boneInverses.push(m)}}pose(){for(let r=0,s=this.bones.length;r<s;r++){const m=this.bones[r];m&&m.matrixWorld.copy(this.boneInverses[r]).invert()}for(let r=0,s=this.bones.length;r<s;r++){const m=this.bones[r];m&&(m.parent&&m.parent.isBone?(m.matrix.copy(m.parent.matrixWorld).invert(),m.matrix.multiply(m.matrixWorld)):m.matrix.copy(m.matrixWorld),m.matrix.decompose(m.position,m.quaternion,m.scale))}}update(){const r=this.bones,s=this.boneInverses,m=this.boneMatrices,A=this.boneTexture;for(let O=0,R=r.length;O<R;O++){const L=r[O]?r[O].matrixWorld:GV;TC.multiplyMatrices(L,s[O]),TC.toArray(m,O*16)}A!==null&&(A.needsUpdate=!0)}clone(){return new Pm(this.bones,this.boneInverses)}computeBoneTexture(){let r=Math.sqrt(this.bones.length*4);r=Math.ceil(r/4)*4,r=Math.max(r,4);const s=new Float32Array(r*r*4);s.set(this.boneMatrices);const m=new Zl(s,r,r,le,ai);return m.needsUpdate=!0,this.boneMatrices=s,this.boneTexture=m,this}getBoneByName(r){for(let s=0,m=this.bones.length;s<m;s++){const A=this.bones[s];if(A.name===r)return A}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(r,s){this.uuid=r.uuid;for(let m=0,A=r.bones.length;m<A;m++){const O=r.bones[m];let R=s[O];R===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",O),R=new yp),this.bones.push(R),this.boneInverses.push(new gn().fromArray(r.boneInverses[m]))}return this.init(),this}toJSON(){const r={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};r.uuid=this.uuid;const s=this.bones,m=this.boneInverses;for(let A=0,O=s.length;A<O;A++){const R=s[A];r.bones.push(R.uuid);const L=m[A];r.boneInverses.push(L.toArray())}return r}}class X1 extends Y0{constructor(r,s,m,A=1){super(r,s,m),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=A}copy(r){return super.copy(r),this.meshPerAttribute=r.meshPerAttribute,this}toJSON(){const r=super.toJSON();return r.meshPerAttribute=this.meshPerAttribute,r.isInstancedBufferAttribute=!0,r}}const Y1=new gn,IC=new gn,km=[],BC=new L9,HV=new gn,n2=new nr,r2=new cr;class RC extends nr{constructor(r,s,m){super(r,s),this.isInstancedMesh=!0,this.instanceMatrix=new X1(new Float32Array(m*16),16),this.instanceColor=null,this.morphTexture=null,this.count=m,this.boundingBox=null,this.boundingSphere=null;for(let A=0;A<m;A++)this.setMatrixAt(A,HV)}computeBoundingBox(){const r=this.geometry,s=this.count;this.boundingBox===null&&(this.boundingBox=new L9),r.boundingBox===null&&r.computeBoundingBox(),this.boundingBox.makeEmpty();for(let m=0;m<s;m++)this.getMatrixAt(m,Y1),BC.copy(r.boundingBox).applyMatrix4(Y1),this.boundingBox.union(BC)}computeBoundingSphere(){const r=this.geometry,s=this.count;this.boundingSphere===null&&(this.boundingSphere=new cr),r.boundingSphere===null&&r.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let m=0;m<s;m++)this.getMatrixAt(m,Y1),r2.copy(r.boundingSphere).applyMatrix4(Y1),this.boundingSphere.union(r2)}copy(r,s){return super.copy(r,s),this.instanceMatrix.copy(r.instanceMatrix),r.morphTexture!==null&&(this.morphTexture=r.morphTexture.clone()),r.instanceColor!==null&&(this.instanceColor=r.instanceColor.clone()),this.count=r.count,r.boundingBox!==null&&(this.boundingBox=r.boundingBox.clone()),r.boundingSphere!==null&&(this.boundingSphere=r.boundingSphere.clone()),this}getColorAt(r,s){s.fromArray(this.instanceColor.array,r*3)}getMatrixAt(r,s){s.fromArray(this.instanceMatrix.array,r*16)}getMorphAt(r,s){const m=s.morphTargetInfluences,A=this.morphTexture.source.data.data,O=m.length+1,R=r*O+1;for(let L=0;L<m.length;L++)m[L]=A[R+L]}raycast(r,s){const m=this.matrixWorld,A=this.count;if(n2.geometry=this.geometry,n2.material=this.material,n2.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),r2.copy(this.boundingSphere),r2.applyMatrix4(m),r.ray.intersectsSphere(r2)!==!1))for(let O=0;O<A;O++){this.getMatrixAt(O,Y1),IC.multiplyMatrices(m,Y1),n2.matrixWorld=IC,n2.raycast(r,km);for(let R=0,L=km.length;R<L;R++){const $=km[R];$.instanceId=O,$.object=this,s.push($)}km.length=0}}setColorAt(r,s){this.instanceColor===null&&(this.instanceColor=new X1(new Float32Array(this.instanceMatrix.count*3),3)),s.toArray(this.instanceColor.array,r*3)}setMatrixAt(r,s){s.toArray(this.instanceMatrix.array,r*16)}setMorphAt(r,s){const m=s.morphTargetInfluences,A=m.length+1;this.morphTexture===null&&(this.morphTexture=new Zl(new Float32Array(A*this.count),A,this.count,Mi,ai));const O=this.morphTexture.source.data.data;let R=0;for(let Q=0;Q<m.length;Q++)R+=m[Q];const L=this.geometry.morphTargetsRelative?1:1-R,$=A*r;O[$]=L,O.set(m,$+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function VV(x,r){return x.z-r.z}function QV(x,r){return r.z-x.z}class zV{constructor(){this.index=0,this.pool=[],this.list=[]}push(r,s){const m=this.pool,A=this.list;this.index>=m.length&&m.push({start:-1,count:-1,z:-1});const O=m[this.index];A.push(O),this.index++,O.start=r.start,O.count=r.count,O.z=s}reset(){this.list.length=0,this.index=0}}const Z1="batchId",tc=new gn,DC=new gn,jV=new gn,PC=new gn,Ap=new Yh,Lm=new L9,vu=new cr,a2=new ie,vp=new zV,Xr=new nr,Nm=[];function WV(x,r,s=0){const m=r.itemSize;if(x.isInterleavedBufferAttribute||x.array.constructor!==r.array.constructor){const A=x.count;for(let O=0;O<A;O++)for(let R=0;R<m;R++)r.setComponent(O+s,R,x.getComponent(O,R))}else r.array.set(x.array,s*m);r.needsUpdate=!0}class kC extends nr{get maxGeometryCount(){return this._maxGeometryCount}constructor(r,s,m=s*2,A){super(new u0,A),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=r,this._maxVertexCount=s,this._maxIndexCount=m,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(r),this._multiDrawStarts=new Int32Array(r),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let r=Math.sqrt(this._maxGeometryCount*4);r=Math.ceil(r/4)*4,r=Math.max(r,4);const s=new Float32Array(r*r*4),m=new Zl(s,r,r,le,ai);this._matricesTexture=m}_initializeGeometry(r){const s=this.geometry,m=this._maxVertexCount,A=this._maxGeometryCount,O=this._maxIndexCount;if(this._geometryInitialized===!1){for(const L in r.attributes){const $=r.getAttribute(L),{array:Q,itemSize:Y,normalized:nt}=$,rt=new Q.constructor(m*Y),at=new Y0(rt,Y,nt);s.setAttribute(L,at)}if(r.getIndex()!==null){const L=m>65536?new Uint32Array(O):new Uint16Array(O);s.setIndex(new Y0(L,1))}const R=A>65536?new Uint32Array(m):new Uint16Array(m);s.setAttribute(Z1,new Y0(R,1)),this._geometryInitialized=!0}}_validateGeometry(r){if(r.getAttribute(Z1))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Z1}"`);const s=this.geometry;if(!!r.getIndex()!=!!s.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const m in s.attributes){if(m===Z1)continue;if(!r.hasAttribute(m))throw new Error(`BatchedMesh: Added geometry missing "${m}". All geometries must have consistent attributes.`);const A=r.getAttribute(m),O=s.getAttribute(m);if(A.itemSize!==O.itemSize||A.normalized!==O.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(r){return this.customSort=r,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new L9);const r=this._geometryCount,s=this.boundingBox,m=this._active;s.makeEmpty();for(let A=0;A<r;A++)m[A]!==!1&&(this.getMatrixAt(A,tc),this.getBoundingBoxAt(A,Lm).applyMatrix4(tc),s.union(Lm))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new cr);const r=this._geometryCount,s=this.boundingSphere,m=this._active;s.makeEmpty();for(let A=0;A<r;A++)m[A]!==!1&&(this.getMatrixAt(A,tc),this.getBoundingSphereAt(A,vu).applyMatrix4(tc),s.union(vu))}addGeometry(r,s=-1,m=-1){if(this._initializeGeometry(r),this._validateGeometry(r),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const A={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let O=null;const R=this._reservedRanges,L=this._drawRanges,$=this._bounds;this._geometryCount!==0&&(O=R[R.length-1]),s===-1?A.vertexCount=r.getAttribute("position").count:A.vertexCount=s,O===null?A.vertexStart=0:A.vertexStart=O.vertexStart+O.vertexCount;const Q=r.getIndex(),Y=Q!==null;if(Y&&(m===-1?A.indexCount=Q.count:A.indexCount=m,O===null?A.indexStart=0:A.indexStart=O.indexStart+O.indexCount),A.indexStart!==-1&&A.indexStart+A.indexCount>this._maxIndexCount||A.vertexStart+A.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const nt=this._visibility,rt=this._active,at=this._matricesTexture,ft=this._matricesTexture.image.data;nt.push(!0),rt.push(!0);const Ct=this._geometryCount;this._geometryCount++,jV.toArray(ft,Ct*16),at.needsUpdate=!0,R.push(A),L.push({start:Y?A.indexStart:A.vertexStart,count:-1}),$.push({boxInitialized:!1,box:new L9,sphereInitialized:!1,sphere:new cr});const pt=this.geometry.getAttribute(Z1);for(let ot=0;ot<A.vertexCount;ot++)pt.setX(A.vertexStart+ot,Ct);return pt.needsUpdate=!0,this.setGeometryAt(Ct,r),Ct}setGeometryAt(r,s){if(r>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(s);const m=this.geometry,A=m.getIndex()!==null,O=m.getIndex(),R=s.getIndex(),L=this._reservedRanges[r];if(A&&R.count>L.indexCount||s.attributes.position.count>L.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const $=L.vertexStart,Q=L.vertexCount;for(const at in m.attributes){if(at===Z1)continue;const ft=s.getAttribute(at),Ct=m.getAttribute(at);WV(ft,Ct,$);const pt=ft.itemSize;for(let ot=ft.count,Vt=Q;ot<Vt;ot++){const Ut=$+ot;for(let Ft=0;Ft<pt;Ft++)Ct.setComponent(Ut,Ft,0)}Ct.needsUpdate=!0,Ct.addUpdateRange($*pt,Q*pt)}if(A){const at=L.indexStart;for(let ft=0;ft<R.count;ft++)O.setX(at+ft,$+R.getX(ft));for(let ft=R.count,Ct=L.indexCount;ft<Ct;ft++)O.setX(at+ft,$);O.needsUpdate=!0,O.addUpdateRange(at,L.indexCount)}const Y=this._bounds[r];s.boundingBox!==null?(Y.box.copy(s.boundingBox),Y.boxInitialized=!0):Y.boxInitialized=!1,s.boundingSphere!==null?(Y.sphere.copy(s.boundingSphere),Y.sphereInitialized=!0):Y.sphereInitialized=!1;const nt=this._drawRanges[r],rt=s.getAttribute("position");return nt.count=A?R.count:rt.count,this._visibilityChanged=!0,r}deleteGeometry(r){const s=this._active;return r>=s.length||s[r]===!1?this:(s[r]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(r){return this._multiDrawInstances===null?null:this._multiDrawInstances[r]}setInstanceCountAt(r,s){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[r]=s,r}getBoundingBoxAt(r,s){if(this._active[r]===!1)return null;const A=this._bounds[r],O=A.box,R=this.geometry;if(A.boxInitialized===!1){O.makeEmpty();const L=R.index,$=R.attributes.position,Q=this._drawRanges[r];for(let Y=Q.start,nt=Q.start+Q.count;Y<nt;Y++){let rt=Y;L&&(rt=L.getX(rt)),O.expandByPoint(a2.fromBufferAttribute($,rt))}A.boxInitialized=!0}return s.copy(O),s}getBoundingSphereAt(r,s){if(this._active[r]===!1)return null;const A=this._bounds[r],O=A.sphere,R=this.geometry;if(A.sphereInitialized===!1){O.makeEmpty(),this.getBoundingBoxAt(r,Lm),Lm.getCenter(O.center);const L=R.index,$=R.attributes.position,Q=this._drawRanges[r];let Y=0;for(let nt=Q.start,rt=Q.start+Q.count;nt<rt;nt++){let at=nt;L&&(at=L.getX(at)),a2.fromBufferAttribute($,at),Y=Math.max(Y,O.center.distanceToSquared(a2))}O.radius=Math.sqrt(Y),A.sphereInitialized=!0}return s.copy(O),s}setMatrixAt(r,s){const m=this._active,A=this._matricesTexture,O=this._matricesTexture.image.data,R=this._geometryCount;return r>=R||m[r]===!1?this:(s.toArray(O,r*16),A.needsUpdate=!0,this)}getMatrixAt(r,s){const m=this._active,A=this._matricesTexture.image.data,O=this._geometryCount;return r>=O||m[r]===!1?null:s.fromArray(A,r*16)}setVisibleAt(r,s){const m=this._visibility,A=this._active,O=this._geometryCount;return r>=O||A[r]===!1||m[r]===s?this:(m[r]=s,this._visibilityChanged=!0,this)}getVisibleAt(r){const s=this._visibility,m=this._active,A=this._geometryCount;return r>=A||m[r]===!1?!1:s[r]}raycast(r,s){const m=this._visibility,A=this._active,O=this._drawRanges,R=this._geometryCount,L=this.matrixWorld,$=this.geometry;Xr.material=this.material,Xr.geometry.index=$.index,Xr.geometry.attributes=$.attributes,Xr.geometry.boundingBox===null&&(Xr.geometry.boundingBox=new L9),Xr.geometry.boundingSphere===null&&(Xr.geometry.boundingSphere=new cr);for(let Q=0;Q<R;Q++){if(!m[Q]||!A[Q])continue;const Y=O[Q];Xr.geometry.setDrawRange(Y.start,Y.count),this.getMatrixAt(Q,Xr.matrixWorld).premultiply(L),this.getBoundingBoxAt(Q,Xr.geometry.boundingBox),this.getBoundingSphereAt(Q,Xr.geometry.boundingSphere),Xr.raycast(r,Nm);for(let nt=0,rt=Nm.length;nt<rt;nt++){const at=Nm[nt];at.object=this,at.batchId=Q,s.push(at)}Nm.length=0}Xr.material=null,Xr.geometry.index=null,Xr.geometry.attributes={},Xr.geometry.setDrawRange(0,1/0)}copy(r){return super.copy(r),this.geometry=r.geometry.clone(),this.perObjectFrustumCulled=r.perObjectFrustumCulled,this.sortObjects=r.sortObjects,this.boundingBox=r.boundingBox!==null?r.boundingBox.clone():null,this.boundingSphere=r.boundingSphere!==null?r.boundingSphere.clone():null,this._drawRanges=r._drawRanges.map(s=>({...s})),this._reservedRanges=r._reservedRanges.map(s=>({...s})),this._visibility=r._visibility.slice(),this._active=r._active.slice(),this._bounds=r._bounds.map(s=>({boxInitialized:s.boxInitialized,box:s.box.clone(),sphereInitialized:s.sphereInitialized,sphere:s.sphere.clone()})),this._maxGeometryCount=r._maxGeometryCount,this._maxVertexCount=r._maxVertexCount,this._maxIndexCount=r._maxIndexCount,this._geometryInitialized=r._geometryInitialized,this._geometryCount=r._geometryCount,this._multiDrawCounts=r._multiDrawCounts.slice(),this._multiDrawStarts=r._multiDrawStarts.slice(),this._matricesTexture=r._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(r,s,m,A,O){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const R=A.getIndex(),L=R===null?1:R.array.BYTES_PER_ELEMENT,$=this._active,Q=this._visibility,Y=this._multiDrawStarts,nt=this._multiDrawCounts,rt=this._drawRanges,at=this.perObjectFrustumCulled;at&&(PC.multiplyMatrices(m.projectionMatrix,m.matrixWorldInverse).multiply(this.matrixWorld),Ap.setFromProjectionMatrix(PC,r.coordinateSystem));let ft=0;if(this.sortObjects){DC.copy(this.matrixWorld).invert(),a2.setFromMatrixPosition(m.matrixWorld).applyMatrix4(DC);for(let ot=0,Vt=Q.length;ot<Vt;ot++)if(Q[ot]&&$[ot]){this.getMatrixAt(ot,tc),this.getBoundingSphereAt(ot,vu).applyMatrix4(tc);let Ut=!1;if(at&&(Ut=!Ap.intersectsSphere(vu)),!Ut){const Ft=a2.distanceTo(vu.center);vp.push(rt[ot],Ft)}}const Ct=vp.list,pt=this.customSort;pt===null?Ct.sort(O.transparent?QV:VV):pt.call(this,Ct,m);for(let ot=0,Vt=Ct.length;ot<Vt;ot++){const Ut=Ct[ot];Y[ft]=Ut.start*L,nt[ft]=Ut.count,ft++}vp.reset()}else for(let Ct=0,pt=Q.length;Ct<pt;Ct++)if(Q[Ct]&&$[Ct]){let ot=!1;if(at&&(this.getMatrixAt(Ct,tc),this.getBoundingSphereAt(Ct,vu).applyMatrix4(tc),ot=!Ap.intersectsSphere(vu)),!ot){const Vt=rt[Ct];Y[ft]=Vt.start*L,nt[ft]=Vt.count,ft++}}this._multiDrawCount=ft,this._visibilityChanged=!1}onBeforeShadow(r,s,m,A,O,R){this.onBeforeRender(r,null,A,O,R)}}class Ma extends qr{constructor(r){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ln(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.linewidth=r.linewidth,this.linecap=r.linecap,this.linejoin=r.linejoin,this.fog=r.fog,this}}const Fm=new ie,Um=new ie,LC=new gn,o2=new ur,Jm=new cr,bp=new ie,NC=new ie;class ec extends N0{constructor(r=new u0,s=new Ma){super(),this.isLine=!0,this.type="Line",this.geometry=r,this.material=s,this.updateMorphTargets()}copy(r,s){return super.copy(r,s),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}computeLineDistances(){const r=this.geometry;if(r.index===null){const s=r.attributes.position,m=[0];for(let A=1,O=s.count;A<O;A++)Fm.fromBufferAttribute(s,A-1),Um.fromBufferAttribute(s,A),m[A]=m[A-1],m[A]+=Fm.distanceTo(Um);r.setAttribute("lineDistance",new An(m,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(r,s){const m=this.geometry,A=this.matrixWorld,O=r.params.Line.threshold,R=m.drawRange;if(m.boundingSphere===null&&m.computeBoundingSphere(),Jm.copy(m.boundingSphere),Jm.applyMatrix4(A),Jm.radius+=O,r.ray.intersectsSphere(Jm)===!1)return;LC.copy(A).invert(),o2.copy(r.ray).applyMatrix4(LC);const L=O/((this.scale.x+this.scale.y+this.scale.z)/3),$=L*L,Q=this.isLineSegments?2:1,Y=m.index,rt=m.attributes.position;if(Y!==null){const at=Math.max(0,R.start),ft=Math.min(Y.count,R.start+R.count);for(let Ct=at,pt=ft-1;Ct<pt;Ct+=Q){const ot=Y.getX(Ct),Vt=Y.getX(Ct+1),Ut=$m(this,r,o2,$,ot,Vt);Ut&&s.push(Ut)}if(this.isLineLoop){const Ct=Y.getX(ft-1),pt=Y.getX(at),ot=$m(this,r,o2,$,Ct,pt);ot&&s.push(ot)}}else{const at=Math.max(0,R.start),ft=Math.min(rt.count,R.start+R.count);for(let Ct=at,pt=ft-1;Ct<pt;Ct+=Q){const ot=$m(this,r,o2,$,Ct,Ct+1);ot&&s.push(ot)}if(this.isLineLoop){const Ct=$m(this,r,o2,$,ft-1,at);Ct&&s.push(Ct)}}}updateMorphTargets(){const s=this.geometry.morphAttributes,m=Object.keys(s);if(m.length>0){const A=s[m[0]];if(A!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let O=0,R=A.length;O<R;O++){const L=A[O].name||String(O);this.morphTargetInfluences.push(0),this.morphTargetDictionary[L]=O}}}}}function $m(x,r,s,m,A,O){const R=x.geometry.attributes.position;if(Fm.fromBufferAttribute(R,A),Um.fromBufferAttribute(R,O),s.distanceSqToSegment(Fm,Um,bp,NC)>m)return;bp.applyMatrix4(x.matrixWorld);const $=r.ray.origin.distanceTo(bp);if(!($<r.near||$>r.far))return{distance:$,point:NC.clone().applyMatrix4(x.matrixWorld),index:A,face:null,faceIndex:null,object:x}}const FC=new ie,UC=new ie;class hs extends ec{constructor(r,s){super(r,s),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const r=this.geometry;if(r.index===null){const s=r.attributes.position,m=[];for(let A=0,O=s.count;A<O;A+=2)FC.fromBufferAttribute(s,A),UC.fromBufferAttribute(s,A+1),m[A]=A===0?0:m[A-1],m[A+1]=m[A]+FC.distanceTo(UC);r.setAttribute("lineDistance",new An(m,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class JC extends ec{constructor(r,s){super(r,s),this.isLineLoop=!0,this.type="LineLoop"}}class Cp extends qr{constructor(r){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ln(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.size=r.size,this.sizeAttenuation=r.sizeAttenuation,this.fog=r.fog,this}}const $C=new gn,_p=new ur,Gm=new cr,Hm=new ie;class GC extends N0{constructor(r=new u0,s=new Cp){super(),this.isPoints=!0,this.type="Points",this.geometry=r,this.material=s,this.updateMorphTargets()}copy(r,s){return super.copy(r,s),this.material=Array.isArray(r.material)?r.material.slice():r.material,this.geometry=r.geometry,this}raycast(r,s){const m=this.geometry,A=this.matrixWorld,O=r.params.Points.threshold,R=m.drawRange;if(m.boundingSphere===null&&m.computeBoundingSphere(),Gm.copy(m.boundingSphere),Gm.applyMatrix4(A),Gm.radius+=O,r.ray.intersectsSphere(Gm)===!1)return;$C.copy(A).invert(),_p.copy(r.ray).applyMatrix4($C);const L=O/((this.scale.x+this.scale.y+this.scale.z)/3),$=L*L,Q=m.index,nt=m.attributes.position;if(Q!==null){const rt=Math.max(0,R.start),at=Math.min(Q.count,R.start+R.count);for(let ft=rt,Ct=at;ft<Ct;ft++){const pt=Q.getX(ft);Hm.fromBufferAttribute(nt,pt),HC(Hm,pt,$,A,r,s,this)}}else{const rt=Math.max(0,R.start),at=Math.min(nt.count,R.start+R.count);for(let ft=rt,Ct=at;ft<Ct;ft++)Hm.fromBufferAttribute(nt,ft),HC(Hm,ft,$,A,r,s,this)}}updateMorphTargets(){const s=this.geometry.morphAttributes,m=Object.keys(s);if(m.length>0){const A=s[m[0]];if(A!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let O=0,R=A.length;O<R;O++){const L=A[O].name||String(O);this.morphTargetInfluences.push(0),this.morphTargetDictionary[L]=O}}}}}function HC(x,r,s,m,A,O,R){const L=_p.distanceSqToPoint(x);if(L<s){const $=new ie;_p.closestPointToPoint(x,$),$.applyMatrix4(m);const Q=A.ray.origin.distanceTo($);if(Q<A.near||Q>A.far)return;O.push({distance:Q,distanceToRay:Math.sqrt(L),point:$,index:r,face:null,object:R})}}class KV extends u9{constructor(r,s,m,A,O,R,L,$,Q){super(r,s,m,A,O,R,L,$,Q),this.isVideoTexture=!0,this.minFilter=R!==void 0?R:Ve,this.magFilter=O!==void 0?O:Ve,this.generateMipmaps=!1;const Y=this;function nt(){Y.needsUpdate=!0,r.requestVideoFrameCallback(nt)}"requestVideoFrameCallback"in r&&r.requestVideoFrameCallback(nt)}clone(){return new this.constructor(this.image).copy(this)}update(){const r=this.image;"requestVideoFrameCallback"in r===!1&&r.readyState>=r.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class qV extends u9{constructor(r,s){super({width:r,height:s}),this.isFramebufferTexture=!0,this.magFilter=Be,this.minFilter=Be,this.generateMipmaps=!1,this.needsUpdate=!0}}class Vm extends u9{constructor(r,s,m,A,O,R,L,$,Q,Y,nt,rt){super(null,R,L,$,Q,Y,A,O,nt,rt),this.isCompressedTexture=!0,this.image={width:s,height:m},this.mipmaps=r,this.flipY=!1,this.generateMipmaps=!1}}class XV extends Vm{constructor(r,s,m,A,O,R){super(r,s,m,O,R),this.isCompressedArrayTexture=!0,this.image.depth=A,this.wrapR=ne}}class YV extends Vm{constructor(r,s,m){super(void 0,r[0].width,r[0].height,s,m,ut),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=r}}class ZV extends u9{constructor(r,s,m,A,O,R,L,$,Q){super(r,s,m,A,O,R,L,$,Q),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Fo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(r,s){const m=this.getUtoTmapping(r);return this.getPoint(m,s)}getPoints(r=5){const s=[];for(let m=0;m<=r;m++)s.push(this.getPoint(m/r));return s}getSpacedPoints(r=5){const s=[];for(let m=0;m<=r;m++)s.push(this.getPointAt(m/r));return s}getLength(){const r=this.getLengths();return r[r.length-1]}getLengths(r=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===r+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const s=[];let m,A=this.getPoint(0),O=0;s.push(0);for(let R=1;R<=r;R++)m=this.getPoint(R/r),O+=m.distanceTo(A),s.push(O),A=m;return this.cacheArcLengths=s,s}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(r,s){const m=this.getLengths();let A=0;const O=m.length;let R;s?R=s:R=r*m[O-1];let L=0,$=O-1,Q;for(;L<=$;)if(A=Math.floor(L+($-L)/2),Q=m[A]-R,Q<0)L=A+1;else if(Q>0)$=A-1;else{$=A;break}if(A=$,m[A]===R)return A/(O-1);const Y=m[A],rt=m[A+1]-Y,at=(R-Y)/rt;return(A+at)/(O-1)}getTangent(r,s){let A=r-1e-4,O=r+1e-4;A<0&&(A=0),O>1&&(O=1);const R=this.getPoint(A),L=this.getPoint(O),$=s||(R.isVector2?new yi:new ie);return $.copy(L).sub(R).normalize(),$}getTangentAt(r,s){const m=this.getUtoTmapping(r);return this.getTangent(m,s)}computeFrenetFrames(r,s){const m=new ie,A=[],O=[],R=[],L=new ie,$=new gn;for(let at=0;at<=r;at++){const ft=at/r;A[at]=this.getTangentAt(ft,new ie)}O[0]=new ie,R[0]=new ie;let Q=Number.MAX_VALUE;const Y=Math.abs(A[0].x),nt=Math.abs(A[0].y),rt=Math.abs(A[0].z);Y<=Q&&(Q=Y,m.set(1,0,0)),nt<=Q&&(Q=nt,m.set(0,1,0)),rt<=Q&&m.set(0,0,1),L.crossVectors(A[0],m).normalize(),O[0].crossVectors(A[0],L),R[0].crossVectors(A[0],O[0]);for(let at=1;at<=r;at++){if(O[at]=O[at-1].clone(),R[at]=R[at-1].clone(),L.crossVectors(A[at-1],A[at]),L.length()>Number.EPSILON){L.normalize();const ft=Math.acos(D9(A[at-1].dot(A[at]),-1,1));O[at].applyMatrix4($.makeRotationAxis(L,ft))}R[at].crossVectors(A[at],O[at])}if(s===!0){let at=Math.acos(D9(O[0].dot(O[r]),-1,1));at/=r,A[0].dot(L.crossVectors(O[0],O[r]))>0&&(at=-at);for(let ft=1;ft<=r;ft++)O[ft].applyMatrix4($.makeRotationAxis(A[ft],at*ft)),R[ft].crossVectors(A[ft],O[ft])}return{tangents:A,normals:O,binormals:R}}clone(){return new this.constructor().copy(this)}copy(r){return this.arcLengthDivisions=r.arcLengthDivisions,this}toJSON(){const r={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return r.arcLengthDivisions=this.arcLengthDivisions,r.type=this.type,r}fromJSON(r){return this.arcLengthDivisions=r.arcLengthDivisions,this}}class Qm extends Fo{constructor(r=0,s=0,m=1,A=1,O=0,R=Math.PI*2,L=!1,$=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=r,this.aY=s,this.xRadius=m,this.yRadius=A,this.aStartAngle=O,this.aEndAngle=R,this.aClockwise=L,this.aRotation=$}getPoint(r,s=new yi){const m=s,A=Math.PI*2;let O=this.aEndAngle-this.aStartAngle;const R=Math.abs(O)<Number.EPSILON;for(;O<0;)O+=A;for(;O>A;)O-=A;O<Number.EPSILON&&(R?O=0:O=A),this.aClockwise===!0&&!R&&(O===A?O=-A:O=O-A);const L=this.aStartAngle+r*O;let $=this.aX+this.xRadius*Math.cos(L),Q=this.aY+this.yRadius*Math.sin(L);if(this.aRotation!==0){const Y=Math.cos(this.aRotation),nt=Math.sin(this.aRotation),rt=$-this.aX,at=Q-this.aY;$=rt*Y-at*nt+this.aX,Q=rt*nt+at*Y+this.aY}return m.set($,Q)}copy(r){return super.copy(r),this.aX=r.aX,this.aY=r.aY,this.xRadius=r.xRadius,this.yRadius=r.yRadius,this.aStartAngle=r.aStartAngle,this.aEndAngle=r.aEndAngle,this.aClockwise=r.aClockwise,this.aRotation=r.aRotation,this}toJSON(){const r=super.toJSON();return r.aX=this.aX,r.aY=this.aY,r.xRadius=this.xRadius,r.yRadius=this.yRadius,r.aStartAngle=this.aStartAngle,r.aEndAngle=this.aEndAngle,r.aClockwise=this.aClockwise,r.aRotation=this.aRotation,r}fromJSON(r){return super.fromJSON(r),this.aX=r.aX,this.aY=r.aY,this.xRadius=r.xRadius,this.yRadius=r.yRadius,this.aStartAngle=r.aStartAngle,this.aEndAngle=r.aEndAngle,this.aClockwise=r.aClockwise,this.aRotation=r.aRotation,this}}class VC extends Qm{constructor(r,s,m,A,O,R){super(r,s,m,m,A,O,R),this.isArcCurve=!0,this.type="ArcCurve"}}function Ep(){let x=0,r=0,s=0,m=0;function A(O,R,L,$){x=O,r=L,s=-3*O+3*R-2*L-$,m=2*O-2*R+L+$}return{initCatmullRom:function(O,R,L,$,Q){A(R,L,Q*(L-O),Q*($-R))},initNonuniformCatmullRom:function(O,R,L,$,Q,Y,nt){let rt=(R-O)/Q-(L-O)/(Q+Y)+(L-R)/Y,at=(L-R)/Y-($-R)/(Y+nt)+($-L)/nt;rt*=Y,at*=Y,A(R,L,rt,at)},calc:function(O){const R=O*O,L=R*O;return x+r*O+s*R+m*L}}}const zm=new ie,wp=new Ep,Op=new Ep,Sp=new Ep;class QC extends Fo{constructor(r=[],s=!1,m="centripetal",A=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=r,this.closed=s,this.curveType=m,this.tension=A}getPoint(r,s=new ie){const m=s,A=this.points,O=A.length,R=(O-(this.closed?0:1))*r;let L=Math.floor(R),$=R-L;this.closed?L+=L>0?0:(Math.floor(Math.abs(L)/O)+1)*O:$===0&&L===O-1&&(L=O-2,$=1);let Q,Y;this.closed||L>0?Q=A[(L-1)%O]:(zm.subVectors(A[0],A[1]).add(A[0]),Q=zm);const nt=A[L%O],rt=A[(L+1)%O];if(this.closed||L+2<O?Y=A[(L+2)%O]:(zm.subVectors(A[O-1],A[O-2]).add(A[O-1]),Y=zm),this.curveType==="centripetal"||this.curveType==="chordal"){const at=this.curveType==="chordal"?.5:.25;let ft=Math.pow(Q.distanceToSquared(nt),at),Ct=Math.pow(nt.distanceToSquared(rt),at),pt=Math.pow(rt.distanceToSquared(Y),at);Ct<1e-4&&(Ct=1),ft<1e-4&&(ft=Ct),pt<1e-4&&(pt=Ct),wp.initNonuniformCatmullRom(Q.x,nt.x,rt.x,Y.x,ft,Ct,pt),Op.initNonuniformCatmullRom(Q.y,nt.y,rt.y,Y.y,ft,Ct,pt),Sp.initNonuniformCatmullRom(Q.z,nt.z,rt.z,Y.z,ft,Ct,pt)}else this.curveType==="catmullrom"&&(wp.initCatmullRom(Q.x,nt.x,rt.x,Y.x,this.tension),Op.initCatmullRom(Q.y,nt.y,rt.y,Y.y,this.tension),Sp.initCatmullRom(Q.z,nt.z,rt.z,Y.z,this.tension));return m.set(wp.calc($),Op.calc($),Sp.calc($)),m}copy(r){super.copy(r),this.points=[];for(let s=0,m=r.points.length;s<m;s++){const A=r.points[s];this.points.push(A.clone())}return this.closed=r.closed,this.curveType=r.curveType,this.tension=r.tension,this}toJSON(){const r=super.toJSON();r.points=[];for(let s=0,m=this.points.length;s<m;s++){const A=this.points[s];r.points.push(A.toArray())}return r.closed=this.closed,r.curveType=this.curveType,r.tension=this.tension,r}fromJSON(r){super.fromJSON(r),this.points=[];for(let s=0,m=r.points.length;s<m;s++){const A=r.points[s];this.points.push(new ie().fromArray(A))}return this.closed=r.closed,this.curveType=r.curveType,this.tension=r.tension,this}}function zC(x,r,s,m,A){const O=(m-r)*.5,R=(A-s)*.5,L=x*x,$=x*L;return(2*s-2*m+O+R)*$+(-3*s+3*m-2*O-R)*L+O*x+s}function tQ(x,r){const s=1-x;return s*s*r}function eQ(x,r){return 2*(1-x)*x*r}function iQ(x,r){return x*x*r}function s2(x,r,s,m){return tQ(x,r)+eQ(x,s)+iQ(x,m)}function nQ(x,r){const s=1-x;return s*s*s*r}function rQ(x,r){const s=1-x;return 3*s*s*x*r}function aQ(x,r){return 3*(1-x)*x*x*r}function oQ(x,r){return x*x*x*r}function l2(x,r,s,m,A){return nQ(x,r)+rQ(x,s)+aQ(x,m)+oQ(x,A)}class xp extends Fo{constructor(r=new yi,s=new yi,m=new yi,A=new yi){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=r,this.v1=s,this.v2=m,this.v3=A}getPoint(r,s=new yi){const m=s,A=this.v0,O=this.v1,R=this.v2,L=this.v3;return m.set(l2(r,A.x,O.x,R.x,L.x),l2(r,A.y,O.y,R.y,L.y)),m}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this.v3.copy(r.v3),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r.v3=this.v3.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this.v3.fromArray(r.v3),this}}class jC extends Fo{constructor(r=new ie,s=new ie,m=new ie,A=new ie){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=r,this.v1=s,this.v2=m,this.v3=A}getPoint(r,s=new ie){const m=s,A=this.v0,O=this.v1,R=this.v2,L=this.v3;return m.set(l2(r,A.x,O.x,R.x,L.x),l2(r,A.y,O.y,R.y,L.y),l2(r,A.z,O.z,R.z,L.z)),m}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this.v3.copy(r.v3),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r.v3=this.v3.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this.v3.fromArray(r.v3),this}}class Tp extends Fo{constructor(r=new yi,s=new yi){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=r,this.v2=s}getPoint(r,s=new yi){const m=s;return r===1?m.copy(this.v2):(m.copy(this.v2).sub(this.v1),m.multiplyScalar(r).add(this.v1)),m}getPointAt(r,s){return this.getPoint(r,s)}getTangent(r,s=new yi){return s.subVectors(this.v2,this.v1).normalize()}getTangentAt(r,s){return this.getTangent(r,s)}copy(r){return super.copy(r),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class WC extends Fo{constructor(r=new ie,s=new ie){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=r,this.v2=s}getPoint(r,s=new ie){const m=s;return r===1?m.copy(this.v2):(m.copy(this.v2).sub(this.v1),m.multiplyScalar(r).add(this.v1)),m}getPointAt(r,s){return this.getPoint(r,s)}getTangent(r,s=new ie){return s.subVectors(this.v2,this.v1).normalize()}getTangentAt(r,s){return this.getTangent(r,s)}copy(r){return super.copy(r),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class Ip extends Fo{constructor(r=new yi,s=new yi,m=new yi){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=r,this.v1=s,this.v2=m}getPoint(r,s=new yi){const m=s,A=this.v0,O=this.v1,R=this.v2;return m.set(s2(r,A.x,O.x,R.x),s2(r,A.y,O.y,R.y)),m}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class Bp extends Fo{constructor(r=new ie,s=new ie,m=new ie){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=r,this.v1=s,this.v2=m}getPoint(r,s=new ie){const m=s,A=this.v0,O=this.v1,R=this.v2;return m.set(s2(r,A.x,O.x,R.x),s2(r,A.y,O.y,R.y),s2(r,A.z,O.z,R.z)),m}copy(r){return super.copy(r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this}toJSON(){const r=super.toJSON();return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r}fromJSON(r){return super.fromJSON(r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this}}class Rp extends Fo{constructor(r=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=r}getPoint(r,s=new yi){const m=s,A=this.points,O=(A.length-1)*r,R=Math.floor(O),L=O-R,$=A[R===0?R:R-1],Q=A[R],Y=A[R>A.length-2?A.length-1:R+1],nt=A[R>A.length-3?A.length-1:R+2];return m.set(zC(L,$.x,Q.x,Y.x,nt.x),zC(L,$.y,Q.y,Y.y,nt.y)),m}copy(r){super.copy(r),this.points=[];for(let s=0,m=r.points.length;s<m;s++){const A=r.points[s];this.points.push(A.clone())}return this}toJSON(){const r=super.toJSON();r.points=[];for(let s=0,m=this.points.length;s<m;s++){const A=this.points[s];r.points.push(A.toArray())}return r}fromJSON(r){super.fromJSON(r),this.points=[];for(let s=0,m=r.points.length;s<m;s++){const A=r.points[s];this.points.push(new yi().fromArray(A))}return this}}var jm=Object.freeze({__proto__:null,ArcCurve:VC,CatmullRomCurve3:QC,CubicBezierCurve:xp,CubicBezierCurve3:jC,EllipseCurve:Qm,LineCurve:Tp,LineCurve3:WC,QuadraticBezierCurve:Ip,QuadraticBezierCurve3:Bp,SplineCurve:Rp});class KC extends Fo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(r){this.curves.push(r)}closePath(){const r=this.curves[0].getPoint(0),s=this.curves[this.curves.length-1].getPoint(1);if(!r.equals(s)){const m=r.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new jm[m](s,r))}return this}getPoint(r,s){const m=r*this.getLength(),A=this.getCurveLengths();let O=0;for(;O<A.length;){if(A[O]>=m){const R=A[O]-m,L=this.curves[O],$=L.getLength(),Q=$===0?0:1-R/$;return L.getPointAt(Q,s)}O++}return null}getLength(){const r=this.getCurveLengths();return r[r.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const r=[];let s=0;for(let m=0,A=this.curves.length;m<A;m++)s+=this.curves[m].getLength(),r.push(s);return this.cacheLengths=r,r}getSpacedPoints(r=40){const s=[];for(let m=0;m<=r;m++)s.push(this.getPoint(m/r));return this.autoClose&&s.push(s[0]),s}getPoints(r=12){const s=[];let m;for(let A=0,O=this.curves;A<O.length;A++){const R=O[A],L=R.isEllipseCurve?r*2:R.isLineCurve||R.isLineCurve3?1:R.isSplineCurve?r*R.points.length:r,$=R.getPoints(L);for(let Q=0;Q<$.length;Q++){const Y=$[Q];m&&m.equals(Y)||(s.push(Y),m=Y)}}return this.autoClose&&s.length>1&&!s[s.length-1].equals(s[0])&&s.push(s[0]),s}copy(r){super.copy(r),this.curves=[];for(let s=0,m=r.curves.length;s<m;s++){const A=r.curves[s];this.curves.push(A.clone())}return this.autoClose=r.autoClose,this}toJSON(){const r=super.toJSON();r.autoClose=this.autoClose,r.curves=[];for(let s=0,m=this.curves.length;s<m;s++){const A=this.curves[s];r.curves.push(A.toJSON())}return r}fromJSON(r){super.fromJSON(r),this.autoClose=r.autoClose,this.curves=[];for(let s=0,m=r.curves.length;s<m;s++){const A=r.curves[s];this.curves.push(new jm[A.type]().fromJSON(A))}return this}}class c2 extends KC{constructor(r){super(),this.type="Path",this.currentPoint=new yi,r&&this.setFromPoints(r)}setFromPoints(r){this.moveTo(r[0].x,r[0].y);for(let s=1,m=r.length;s<m;s++)this.lineTo(r[s].x,r[s].y);return this}moveTo(r,s){return this.currentPoint.set(r,s),this}lineTo(r,s){const m=new Tp(this.currentPoint.clone(),new yi(r,s));return this.curves.push(m),this.currentPoint.set(r,s),this}quadraticCurveTo(r,s,m,A){const O=new Ip(this.currentPoint.clone(),new yi(r,s),new yi(m,A));return this.curves.push(O),this.currentPoint.set(m,A),this}bezierCurveTo(r,s,m,A,O,R){const L=new xp(this.currentPoint.clone(),new yi(r,s),new yi(m,A),new yi(O,R));return this.curves.push(L),this.currentPoint.set(O,R),this}splineThru(r){const s=[this.currentPoint.clone()].concat(r),m=new Rp(s);return this.curves.push(m),this.currentPoint.copy(r[r.length-1]),this}arc(r,s,m,A,O,R){const L=this.currentPoint.x,$=this.currentPoint.y;return this.absarc(r+L,s+$,m,A,O,R),this}absarc(r,s,m,A,O,R){return this.absellipse(r,s,m,m,A,O,R),this}ellipse(r,s,m,A,O,R,L,$){const Q=this.currentPoint.x,Y=this.currentPoint.y;return this.absellipse(r+Q,s+Y,m,A,O,R,L,$),this}absellipse(r,s,m,A,O,R,L,$){const Q=new Qm(r,s,m,A,O,R,L,$);if(this.curves.length>0){const nt=Q.getPoint(0);nt.equals(this.currentPoint)||this.lineTo(nt.x,nt.y)}this.curves.push(Q);const Y=Q.getPoint(1);return this.currentPoint.copy(Y),this}copy(r){return super.copy(r),this.currentPoint.copy(r.currentPoint),this}toJSON(){const r=super.toJSON();return r.currentPoint=this.currentPoint.toArray(),r}fromJSON(r){return super.fromJSON(r),this.currentPoint.fromArray(r.currentPoint),this}}class u2 extends u0{constructor(r=[new yi(0,-.5),new yi(.5,0),new yi(0,.5)],s=12,m=0,A=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:r,segments:s,phiStart:m,phiLength:A},s=Math.floor(s),A=D9(A,0,Math.PI*2);const O=[],R=[],L=[],$=[],Q=[],Y=1/s,nt=new ie,rt=new yi,at=new ie,ft=new ie,Ct=new ie;let pt=0,ot=0;for(let Vt=0;Vt<=r.length-1;Vt++)switch(Vt){case 0:pt=r[Vt+1].x-r[Vt].x,ot=r[Vt+1].y-r[Vt].y,at.x=ot*1,at.y=-pt,at.z=ot*0,Ct.copy(at),at.normalize(),$.push(at.x,at.y,at.z);break;case r.length-1:$.push(Ct.x,Ct.y,Ct.z);break;default:pt=r[Vt+1].x-r[Vt].x,ot=r[Vt+1].y-r[Vt].y,at.x=ot*1,at.y=-pt,at.z=ot*0,ft.copy(at),at.x+=Ct.x,at.y+=Ct.y,at.z+=Ct.z,at.normalize(),$.push(at.x,at.y,at.z),Ct.copy(ft)}for(let Vt=0;Vt<=s;Vt++){const Ut=m+Vt*Y*A,Ft=Math.sin(Ut),Ae=Math.cos(Ut);for(let re=0;re<=r.length-1;re++){nt.x=r[re].x*Ft,nt.y=r[re].y,nt.z=r[re].x*Ae,R.push(nt.x,nt.y,nt.z),rt.x=Vt/s,rt.y=re/(r.length-1),L.push(rt.x,rt.y);const de=$[3*re+0]*Ft,ge=$[3*re+1],Yt=$[3*re+0]*Ae;Q.push(de,ge,Yt)}}for(let Vt=0;Vt<s;Vt++)for(let Ut=0;Ut<r.length-1;Ut++){const Ft=Ut+Vt*r.length,Ae=Ft,re=Ft+r.length,de=Ft+r.length+1,ge=Ft+1;O.push(Ae,re,ge),O.push(de,ge,re)}this.setIndex(O),this.setAttribute("position",new An(R,3)),this.setAttribute("uv",new An(L,2)),this.setAttribute("normal",new An(Q,3))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new u2(r.points,r.segments,r.phiStart,r.phiLength)}}class Wm extends u2{constructor(r=1,s=1,m=4,A=8){const O=new c2;O.absarc(0,-s/2,r,Math.PI*1.5,0),O.absarc(0,s/2,r,0,Math.PI*.5),super(O.getPoints(m),A),this.type="CapsuleGeometry",this.parameters={radius:r,length:s,capSegments:m,radialSegments:A}}static fromJSON(r){return new Wm(r.radius,r.length,r.capSegments,r.radialSegments)}}class Km extends u0{constructor(r=1,s=32,m=0,A=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:r,segments:s,thetaStart:m,thetaLength:A},s=Math.max(3,s);const O=[],R=[],L=[],$=[],Q=new ie,Y=new yi;R.push(0,0,0),L.push(0,0,1),$.push(.5,.5);for(let nt=0,rt=3;nt<=s;nt++,rt+=3){const at=m+nt/s*A;Q.x=r*Math.cos(at),Q.y=r*Math.sin(at),R.push(Q.x,Q.y,Q.z),L.push(0,0,1),Y.x=(R[rt]/r+1)/2,Y.y=(R[rt+1]/r+1)/2,$.push(Y.x,Y.y)}for(let nt=1;nt<=s;nt++)O.push(nt,nt+1,0);this.setIndex(O),this.setAttribute("position",new An(R,3)),this.setAttribute("normal",new An(L,3)),this.setAttribute("uv",new An($,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new Km(r.radius,r.segments,r.thetaStart,r.thetaLength)}}class td extends u0{constructor(r=1,s=1,m=1,A=32,O=1,R=!1,L=0,$=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:r,radiusBottom:s,height:m,radialSegments:A,heightSegments:O,openEnded:R,thetaStart:L,thetaLength:$};const Q=this;A=Math.floor(A),O=Math.floor(O);const Y=[],nt=[],rt=[],at=[];let ft=0;const Ct=[],pt=m/2;let ot=0;Vt(),R===!1&&(r>0&&Ut(!0),s>0&&Ut(!1)),this.setIndex(Y),this.setAttribute("position",new An(nt,3)),this.setAttribute("normal",new An(rt,3)),this.setAttribute("uv",new An(at,2));function Vt(){const Ft=new ie,Ae=new ie;let re=0;const de=(s-r)/m;for(let ge=0;ge<=O;ge++){const Yt=[],Wt=ge/O,ye=Wt*(s-r)+r;for(let Ie=0;Ie<=A;Ie++){const Te=Ie/A,De=Te*$+L,ti=Math.sin(De),gi=Math.cos(De);Ae.x=ye*ti,Ae.y=-Wt*m+pt,Ae.z=ye*gi,nt.push(Ae.x,Ae.y,Ae.z),Ft.set(ti,de,gi).normalize(),rt.push(Ft.x,Ft.y,Ft.z),at.push(Te,1-Wt),Yt.push(ft++)}Ct.push(Yt)}for(let ge=0;ge<A;ge++)for(let Yt=0;Yt<O;Yt++){const Wt=Ct[Yt][ge],ye=Ct[Yt+1][ge],Ie=Ct[Yt+1][ge+1],Te=Ct[Yt][ge+1];Y.push(Wt,ye,Te),Y.push(ye,Ie,Te),re+=6}Q.addGroup(ot,re,0),ot+=re}function Ut(Ft){const Ae=ft,re=new yi,de=new ie;let ge=0;const Yt=Ft===!0?r:s,Wt=Ft===!0?1:-1;for(let Ie=1;Ie<=A;Ie++)nt.push(0,pt*Wt,0),rt.push(0,Wt,0),at.push(.5,.5),ft++;const ye=ft;for(let Ie=0;Ie<=A;Ie++){const De=Ie/A*$+L,ti=Math.cos(De),gi=Math.sin(De);de.x=Yt*gi,de.y=pt*Wt,de.z=Yt*ti,nt.push(de.x,de.y,de.z),rt.push(0,Wt,0),re.x=ti*.5+.5,re.y=gi*.5*Wt+.5,at.push(re.x,re.y),ft++}for(let Ie=0;Ie<A;Ie++){const Te=Ae+Ie,De=ye+Ie;Ft===!0?Y.push(De,De+1,Te):Y.push(De+1,De,Te),ge+=3}Q.addGroup(ot,ge,Ft===!0?1:2),ot+=ge}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new td(r.radiusTop,r.radiusBottom,r.height,r.radialSegments,r.heightSegments,r.openEnded,r.thetaStart,r.thetaLength)}}class qm extends td{constructor(r=1,s=1,m=32,A=1,O=!1,R=0,L=Math.PI*2){super(0,r,s,m,A,O,R,L),this.type="ConeGeometry",this.parameters={radius:r,height:s,radialSegments:m,heightSegments:A,openEnded:O,thetaStart:R,thetaLength:L}}static fromJSON(r){return new qm(r.radius,r.height,r.radialSegments,r.heightSegments,r.openEnded,r.thetaStart,r.thetaLength)}}class ic extends u0{constructor(r=[],s=[],m=1,A=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:r,indices:s,radius:m,detail:A};const O=[],R=[];L(A),Q(m),Y(),this.setAttribute("position",new An(O,3)),this.setAttribute("normal",new An(O.slice(),3)),this.setAttribute("uv",new An(R,2)),A===0?this.computeVertexNormals():this.normalizeNormals();function L(Vt){const Ut=new ie,Ft=new ie,Ae=new ie;for(let re=0;re<s.length;re+=3)at(s[re+0],Ut),at(s[re+1],Ft),at(s[re+2],Ae),$(Ut,Ft,Ae,Vt)}function $(Vt,Ut,Ft,Ae){const re=Ae+1,de=[];for(let ge=0;ge<=re;ge++){de[ge]=[];const Yt=Vt.clone().lerp(Ft,ge/re),Wt=Ut.clone().lerp(Ft,ge/re),ye=re-ge;for(let Ie=0;Ie<=ye;Ie++)Ie===0&&ge===re?de[ge][Ie]=Yt:de[ge][Ie]=Yt.clone().lerp(Wt,Ie/ye)}for(let ge=0;ge<re;ge++)for(let Yt=0;Yt<2*(re-ge)-1;Yt++){const Wt=Math.floor(Yt/2);Yt%2===0?(rt(de[ge][Wt+1]),rt(de[ge+1][Wt]),rt(de[ge][Wt])):(rt(de[ge][Wt+1]),rt(de[ge+1][Wt+1]),rt(de[ge+1][Wt]))}}function Q(Vt){const Ut=new ie;for(let Ft=0;Ft<O.length;Ft+=3)Ut.x=O[Ft+0],Ut.y=O[Ft+1],Ut.z=O[Ft+2],Ut.normalize().multiplyScalar(Vt),O[Ft+0]=Ut.x,O[Ft+1]=Ut.y,O[Ft+2]=Ut.z}function Y(){const Vt=new ie;for(let Ut=0;Ut<O.length;Ut+=3){Vt.x=O[Ut+0],Vt.y=O[Ut+1],Vt.z=O[Ut+2];const Ft=pt(Vt)/2/Math.PI+.5,Ae=ot(Vt)/Math.PI+.5;R.push(Ft,1-Ae)}ft(),nt()}function nt(){for(let Vt=0;Vt<R.length;Vt+=6){const Ut=R[Vt+0],Ft=R[Vt+2],Ae=R[Vt+4],re=Math.max(Ut,Ft,Ae),de=Math.min(Ut,Ft,Ae);re>.9&&de<.1&&(Ut<.2&&(R[Vt+0]+=1),Ft<.2&&(R[Vt+2]+=1),Ae<.2&&(R[Vt+4]+=1))}}function rt(Vt){O.push(Vt.x,Vt.y,Vt.z)}function at(Vt,Ut){const Ft=Vt*3;Ut.x=r[Ft+0],Ut.y=r[Ft+1],Ut.z=r[Ft+2]}function ft(){const Vt=new ie,Ut=new ie,Ft=new ie,Ae=new ie,re=new yi,de=new yi,ge=new yi;for(let Yt=0,Wt=0;Yt<O.length;Yt+=9,Wt+=6){Vt.set(O[Yt+0],O[Yt+1],O[Yt+2]),Ut.set(O[Yt+3],O[Yt+4],O[Yt+5]),Ft.set(O[Yt+6],O[Yt+7],O[Yt+8]),re.set(R[Wt+0],R[Wt+1]),de.set(R[Wt+2],R[Wt+3]),ge.set(R[Wt+4],R[Wt+5]),Ae.copy(Vt).add(Ut).add(Ft).divideScalar(3);const ye=pt(Ae);Ct(re,Wt+0,Vt,ye),Ct(de,Wt+2,Ut,ye),Ct(ge,Wt+4,Ft,ye)}}function Ct(Vt,Ut,Ft,Ae){Ae<0&&Vt.x===1&&(R[Ut]=Vt.x-1),Ft.x===0&&Ft.z===0&&(R[Ut]=Ae/2/Math.PI+.5)}function pt(Vt){return Math.atan2(Vt.z,-Vt.x)}function ot(Vt){return Math.atan2(-Vt.y,Math.sqrt(Vt.x*Vt.x+Vt.z*Vt.z))}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new ic(r.vertices,r.indices,r.radius,r.details)}}class Xm extends ic{constructor(r=1,s=0){const m=(1+Math.sqrt(5))/2,A=1/m,O=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-A,-m,0,-A,m,0,A,-m,0,A,m,-A,-m,0,-A,m,0,A,-m,0,A,m,0,-m,0,-A,m,0,-A,-m,0,A,m,0,A],R=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(O,R,r,s),this.type="DodecahedronGeometry",this.parameters={radius:r,detail:s}}static fromJSON(r){return new Xm(r.radius,r.detail)}}const Ym=new ie,Zm=new ie,Dp=new ie,t4=new Wa;class qC extends u0{constructor(r=null,s=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:r,thresholdAngle:s},r!==null){const A=Math.pow(10,4),O=Math.cos(zs*s),R=r.getIndex(),L=r.getAttribute("position"),$=R?R.count:L.count,Q=[0,0,0],Y=["a","b","c"],nt=new Array(3),rt={},at=[];for(let ft=0;ft<$;ft+=3){R?(Q[0]=R.getX(ft),Q[1]=R.getX(ft+1),Q[2]=R.getX(ft+2)):(Q[0]=ft,Q[1]=ft+1,Q[2]=ft+2);const{a:Ct,b:pt,c:ot}=t4;if(Ct.fromBufferAttribute(L,Q[0]),pt.fromBufferAttribute(L,Q[1]),ot.fromBufferAttribute(L,Q[2]),t4.getNormal(Dp),nt[0]=`${Math.round(Ct.x*A)},${Math.round(Ct.y*A)},${Math.round(Ct.z*A)}`,nt[1]=`${Math.round(pt.x*A)},${Math.round(pt.y*A)},${Math.round(pt.z*A)}`,nt[2]=`${Math.round(ot.x*A)},${Math.round(ot.y*A)},${Math.round(ot.z*A)}`,!(nt[0]===nt[1]||nt[1]===nt[2]||nt[2]===nt[0]))for(let Vt=0;Vt<3;Vt++){const Ut=(Vt+1)%3,Ft=nt[Vt],Ae=nt[Ut],re=t4[Y[Vt]],de=t4[Y[Ut]],ge=`${Ft}_${Ae}`,Yt=`${Ae}_${Ft}`;Yt in rt&&rt[Yt]?(Dp.dot(rt[Yt].normal)<=O&&(at.push(re.x,re.y,re.z),at.push(de.x,de.y,de.z)),rt[Yt]=null):ge in rt||(rt[ge]={index0:Q[Vt],index1:Q[Ut],normal:Dp.clone()})}}for(const ft in rt)if(rt[ft]){const{index0:Ct,index1:pt}=rt[ft];Ym.fromBufferAttribute(L,Ct),Zm.fromBufferAttribute(L,pt),at.push(Ym.x,Ym.y,Ym.z),at.push(Zm.x,Zm.y,Zm.z)}this.setAttribute("position",new An(at,3))}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}}class bu extends c2{constructor(r){super(r),this.uuid=fa(),this.type="Shape",this.holes=[]}getPointsHoles(r){const s=[];for(let m=0,A=this.holes.length;m<A;m++)s[m]=this.holes[m].getPoints(r);return s}extractPoints(r){return{shape:this.getPoints(r),holes:this.getPointsHoles(r)}}copy(r){super.copy(r),this.holes=[];for(let s=0,m=r.holes.length;s<m;s++){const A=r.holes[s];this.holes.push(A.clone())}return this}toJSON(){const r=super.toJSON();r.uuid=this.uuid,r.holes=[];for(let s=0,m=this.holes.length;s<m;s++){const A=this.holes[s];r.holes.push(A.toJSON())}return r}fromJSON(r){super.fromJSON(r),this.uuid=r.uuid,this.holes=[];for(let s=0,m=r.holes.length;s<m;s++){const A=r.holes[s];this.holes.push(new c2().fromJSON(A))}return this}}const sQ={triangulate:function(x,r,s=2){const m=r&&r.length,A=m?r[0]*s:x.length;let O=XC(x,0,A,s,!0);const R=[];if(!O||O.next===O.prev)return R;let L,$,Q,Y,nt,rt,at;if(m&&(O=hQ(x,r,O,s)),x.length>80*s){L=Q=x[0],$=Y=x[1];for(let ft=s;ft<A;ft+=s)nt=x[ft],rt=x[ft+1],nt<L&&(L=nt),rt<$&&($=rt),nt>Q&&(Q=nt),rt>Y&&(Y=rt);at=Math.max(Q-L,Y-$),at=at!==0?32767/at:0}return d2(O,R,s,L,$,at,0),R}};function XC(x,r,s,m,A){let O,R;if(A===_Q(x,r,s,m)>0)for(O=r;O<s;O+=m)R=t_(O,x[O],x[O+1],R);else for(O=s-m;O>=r;O-=m)R=t_(O,x[O],x[O+1],R);return R&&e4(R,R.next)&&(f2(R),R=R.next),R}function Cu(x,r){if(!x)return x;r||(r=x);let s=x,m;do if(m=!1,!s.steiner&&(e4(s,s.next)||N9(s.prev,s,s.next)===0)){if(f2(s),s=r=s.prev,s===s.next)break;m=!0}else s=s.next;while(m||s!==r);return r}function d2(x,r,s,m,A,O,R){if(!x)return;!R&&O&&MQ(x,m,A,O);let L=x,$,Q;for(;x.prev!==x.next;){if($=x.prev,Q=x.next,O?cQ(x,m,A,O):lQ(x)){r.push($.i/s|0),r.push(x.i/s|0),r.push(Q.i/s|0),f2(x),x=Q.next,L=Q.next;continue}if(x=Q,x===L){R?R===1?(x=uQ(Cu(x),r,s),d2(x,r,s,m,A,O,2)):R===2&&dQ(x,r,s,m,A,O):d2(Cu(x),r,s,m,A,O,1);break}}}function lQ(x){const r=x.prev,s=x,m=x.next;if(N9(r,s,m)>=0)return!1;const A=r.x,O=s.x,R=m.x,L=r.y,$=s.y,Q=m.y,Y=A<O?A<R?A:R:O<R?O:R,nt=L<$?L<Q?L:Q:$<Q?$:Q,rt=A>O?A>R?A:R:O>R?O:R,at=L>$?L>Q?L:Q:$>Q?$:Q;let ft=m.next;for(;ft!==r;){if(ft.x>=Y&&ft.x<=rt&&ft.y>=nt&&ft.y<=at&&ed(A,L,O,$,R,Q,ft.x,ft.y)&&N9(ft.prev,ft,ft.next)>=0)return!1;ft=ft.next}return!0}function cQ(x,r,s,m){const A=x.prev,O=x,R=x.next;if(N9(A,O,R)>=0)return!1;const L=A.x,$=O.x,Q=R.x,Y=A.y,nt=O.y,rt=R.y,at=L<$?L<Q?L:Q:$<Q?$:Q,ft=Y<nt?Y<rt?Y:rt:nt<rt?nt:rt,Ct=L>$?L>Q?L:Q:$>Q?$:Q,pt=Y>nt?Y>rt?Y:rt:nt>rt?nt:rt,ot=Pp(at,ft,r,s,m),Vt=Pp(Ct,pt,r,s,m);let Ut=x.prevZ,Ft=x.nextZ;for(;Ut&&Ut.z>=ot&&Ft&&Ft.z<=Vt;){if(Ut.x>=at&&Ut.x<=Ct&&Ut.y>=ft&&Ut.y<=pt&&Ut!==A&&Ut!==R&&ed(L,Y,$,nt,Q,rt,Ut.x,Ut.y)&&N9(Ut.prev,Ut,Ut.next)>=0||(Ut=Ut.prevZ,Ft.x>=at&&Ft.x<=Ct&&Ft.y>=ft&&Ft.y<=pt&&Ft!==A&&Ft!==R&&ed(L,Y,$,nt,Q,rt,Ft.x,Ft.y)&&N9(Ft.prev,Ft,Ft.next)>=0))return!1;Ft=Ft.nextZ}for(;Ut&&Ut.z>=ot;){if(Ut.x>=at&&Ut.x<=Ct&&Ut.y>=ft&&Ut.y<=pt&&Ut!==A&&Ut!==R&&ed(L,Y,$,nt,Q,rt,Ut.x,Ut.y)&&N9(Ut.prev,Ut,Ut.next)>=0)return!1;Ut=Ut.prevZ}for(;Ft&&Ft.z<=Vt;){if(Ft.x>=at&&Ft.x<=Ct&&Ft.y>=ft&&Ft.y<=pt&&Ft!==A&&Ft!==R&&ed(L,Y,$,nt,Q,rt,Ft.x,Ft.y)&&N9(Ft.prev,Ft,Ft.next)>=0)return!1;Ft=Ft.nextZ}return!0}function uQ(x,r,s){let m=x;do{const A=m.prev,O=m.next.next;!e4(A,O)&&YC(A,m,m.next,O)&&h2(A,O)&&h2(O,A)&&(r.push(A.i/s|0),r.push(m.i/s|0),r.push(O.i/s|0),f2(m),f2(m.next),m=x=O),m=m.next}while(m!==x);return Cu(m)}function dQ(x,r,s,m,A,O){let R=x;do{let L=R.next.next;for(;L!==R.prev;){if(R.i!==L.i&&vQ(R,L)){let $=ZC(R,L);R=Cu(R,R.next),$=Cu($,$.next),d2(R,r,s,m,A,O,0),d2($,r,s,m,A,O,0);return}L=L.next}R=R.next}while(R!==x)}function hQ(x,r,s,m){const A=[];let O,R,L,$,Q;for(O=0,R=r.length;O<R;O++)L=r[O]*m,$=O<R-1?r[O+1]*m:x.length,Q=XC(x,L,$,m,!1),Q===Q.next&&(Q.steiner=!0),A.push(AQ(Q));for(A.sort(fQ),O=0;O<A.length;O++)s=mQ(A[O],s);return s}function fQ(x,r){return x.x-r.x}function mQ(x,r){const s=pQ(x,r);if(!s)return r;const m=ZC(s,x);return Cu(m,m.next),Cu(s,s.next)}function pQ(x,r){let s=r,m=-1/0,A;const O=x.x,R=x.y;do{if(R<=s.y&&R>=s.next.y&&s.next.y!==s.y){const rt=s.x+(R-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(rt<=O&&rt>m&&(m=rt,A=s.x<s.next.x?s:s.next,rt===O))return A}s=s.next}while(s!==r);if(!A)return null;const L=A,$=A.x,Q=A.y;let Y=1/0,nt;s=A;do O>=s.x&&s.x>=$&&O!==s.x&&ed(R<Q?O:m,R,$,Q,R<Q?m:O,R,s.x,s.y)&&(nt=Math.abs(R-s.y)/(O-s.x),h2(s,x)&&(nt<Y||nt===Y&&(s.x>A.x||s.x===A.x&&gQ(A,s)))&&(A=s,Y=nt)),s=s.next;while(s!==L);return A}function gQ(x,r){return N9(x.prev,x,r.prev)<0&&N9(r.next,x,x.next)<0}function MQ(x,r,s,m){let A=x;do A.z===0&&(A.z=Pp(A.x,A.y,r,s,m)),A.prevZ=A.prev,A.nextZ=A.next,A=A.next;while(A!==x);A.prevZ.nextZ=null,A.prevZ=null,yQ(A)}function yQ(x){let r,s,m,A,O,R,L,$,Q=1;do{for(s=x,x=null,O=null,R=0;s;){for(R++,m=s,L=0,r=0;r<Q&&(L++,m=m.nextZ,!!m);r++);for($=Q;L>0||$>0&&m;)L!==0&&($===0||!m||s.z<=m.z)?(A=s,s=s.nextZ,L--):(A=m,m=m.nextZ,$--),O?O.nextZ=A:x=A,A.prevZ=O,O=A;s=m}O.nextZ=null,Q*=2}while(R>1);return x}function Pp(x,r,s,m,A){return x=(x-s)*A|0,r=(r-m)*A|0,x=(x|x<<8)&16711935,x=(x|x<<4)&252645135,x=(x|x<<2)&858993459,x=(x|x<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,x|r<<1}function AQ(x){let r=x,s=x;do(r.x<s.x||r.x===s.x&&r.y<s.y)&&(s=r),r=r.next;while(r!==x);return s}function ed(x,r,s,m,A,O,R,L){return(A-R)*(r-L)>=(x-R)*(O-L)&&(x-R)*(m-L)>=(s-R)*(r-L)&&(s-R)*(O-L)>=(A-R)*(m-L)}function vQ(x,r){return x.next.i!==r.i&&x.prev.i!==r.i&&!bQ(x,r)&&(h2(x,r)&&h2(r,x)&&CQ(x,r)&&(N9(x.prev,x,r.prev)||N9(x,r.prev,r))||e4(x,r)&&N9(x.prev,x,x.next)>0&&N9(r.prev,r,r.next)>0)}function N9(x,r,s){return(r.y-x.y)*(s.x-r.x)-(r.x-x.x)*(s.y-r.y)}function e4(x,r){return x.x===r.x&&x.y===r.y}function YC(x,r,s,m){const A=n4(N9(x,r,s)),O=n4(N9(x,r,m)),R=n4(N9(s,m,x)),L=n4(N9(s,m,r));return!!(A!==O&&R!==L||A===0&&i4(x,s,r)||O===0&&i4(x,m,r)||R===0&&i4(s,x,m)||L===0&&i4(s,r,m))}function i4(x,r,s){return r.x<=Math.max(x.x,s.x)&&r.x>=Math.min(x.x,s.x)&&r.y<=Math.max(x.y,s.y)&&r.y>=Math.min(x.y,s.y)}function n4(x){return x>0?1:x<0?-1:0}function bQ(x,r){let s=x;do{if(s.i!==x.i&&s.next.i!==x.i&&s.i!==r.i&&s.next.i!==r.i&&YC(s,s.next,x,r))return!0;s=s.next}while(s!==x);return!1}function h2(x,r){return N9(x.prev,x,x.next)<0?N9(x,r,x.next)>=0&&N9(x,x.prev,r)>=0:N9(x,r,x.prev)<0||N9(x,x.next,r)<0}function CQ(x,r){let s=x,m=!1;const A=(x.x+r.x)/2,O=(x.y+r.y)/2;do s.y>O!=s.next.y>O&&s.next.y!==s.y&&A<(s.next.x-s.x)*(O-s.y)/(s.next.y-s.y)+s.x&&(m=!m),s=s.next;while(s!==x);return m}function ZC(x,r){const s=new kp(x.i,x.x,x.y),m=new kp(r.i,r.x,r.y),A=x.next,O=r.prev;return x.next=r,r.prev=x,s.next=A,A.prev=s,m.next=s,s.prev=m,O.next=m,m.prev=O,m}function t_(x,r,s,m){const A=new kp(x,r,s);return m?(A.next=m.next,A.prev=m,m.next.prev=A,m.next=A):(A.prev=A,A.next=A),A}function f2(x){x.next.prev=x.prev,x.prev.next=x.next,x.prevZ&&(x.prevZ.nextZ=x.nextZ),x.nextZ&&(x.nextZ.prevZ=x.prevZ)}function kp(x,r,s){this.i=x,this.x=r,this.y=s,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function _Q(x,r,s,m){let A=0;for(let O=r,R=s-m;O<s;O+=m)A+=(x[R]-x[O])*(x[O+1]+x[R+1]),R=O;return A}class fs{static area(r){const s=r.length;let m=0;for(let A=s-1,O=0;O<s;A=O++)m+=r[A].x*r[O].y-r[O].x*r[A].y;return m*.5}static isClockWise(r){return fs.area(r)<0}static triangulateShape(r,s){const m=[],A=[],O=[];e_(r),i_(m,r);let R=r.length;s.forEach(e_);for(let $=0;$<s.length;$++)A.push(R),R+=s[$].length,i_(m,s[$]);const L=sQ.triangulate(m,A);for(let $=0;$<L.length;$+=3)O.push(L.slice($,$+3));return O}}function e_(x){const r=x.length;r>2&&x[r-1].equals(x[0])&&x.pop()}function i_(x,r){for(let s=0;s<r.length;s++)x.push(r[s].x),x.push(r[s].y)}class r4 extends u0{constructor(r=new bu([new yi(.5,.5),new yi(-.5,.5),new yi(-.5,-.5),new yi(.5,-.5)]),s={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:r,options:s},r=Array.isArray(r)?r:[r];const m=this,A=[],O=[];for(let L=0,$=r.length;L<$;L++){const Q=r[L];R(Q)}this.setAttribute("position",new An(A,3)),this.setAttribute("uv",new An(O,2)),this.computeVertexNormals();function R(L){const $=[],Q=s.curveSegments!==void 0?s.curveSegments:12,Y=s.steps!==void 0?s.steps:1,nt=s.depth!==void 0?s.depth:1;let rt=s.bevelEnabled!==void 0?s.bevelEnabled:!0,at=s.bevelThickness!==void 0?s.bevelThickness:.2,ft=s.bevelSize!==void 0?s.bevelSize:at-.1,Ct=s.bevelOffset!==void 0?s.bevelOffset:0,pt=s.bevelSegments!==void 0?s.bevelSegments:3;const ot=s.extrudePath,Vt=s.UVGenerator!==void 0?s.UVGenerator:EQ;let Ut,Ft=!1,Ae,re,de,ge;ot&&(Ut=ot.getSpacedPoints(Y),Ft=!0,rt=!1,Ae=ot.computeFrenetFrames(Y,!1),re=new ie,de=new ie,ge=new ie),rt||(pt=0,at=0,ft=0,Ct=0);const Yt=L.extractPoints(Q);let Wt=Yt.shape;const ye=Yt.holes;if(!fs.isClockWise(Wt)){Wt=Wt.reverse();for(let bi=0,di=ye.length;bi<di;bi++){const Bi=ye[bi];fs.isClockWise(Bi)&&(ye[bi]=Bi.reverse())}}const Te=fs.triangulateShape(Wt,ye),De=Wt;for(let bi=0,di=ye.length;bi<di;bi++){const Bi=ye[bi];Wt=Wt.concat(Bi)}function ti(bi,di,Bi){return di||console.error("THREE.ExtrudeGeometry: vec does not exist"),bi.clone().addScaledVector(di,Bi)}const gi=Wt.length,Ni=Te.length;function ii(bi,di,Bi){let Ii,Si,Wi;const on=bi.x-di.x,Jn=bi.y-di.y,Wn=Bi.x-bi.x,U0=Bi.y-bi.y,F9=on*on+Jn*Jn,y9=on*U0-Jn*Wn;if(Math.abs(y9)>Number.EPSILON){const me=Math.sqrt(F9),Kt=Math.sqrt(Wn*Wn+U0*U0),ci=di.x-Jn/me,Ai=di.y+on/me,Oi=Bi.x-U0/Kt,Ci=Bi.y+Wn/Kt,vn=((Oi-ci)*U0-(Ci-Ai)*Wn)/(on*U0-Jn*Wn);Ii=ci+on*vn-bi.x,Si=Ai+Jn*vn-bi.y;const Fi=Ii*Ii+Si*Si;if(Fi<=2)return new yi(Ii,Si);Wi=Math.sqrt(Fi/2)}else{let me=!1;on>Number.EPSILON?Wn>Number.EPSILON&&(me=!0):on<-Number.EPSILON?Wn<-Number.EPSILON&&(me=!0):Math.sign(Jn)===Math.sign(U0)&&(me=!0),me?(Ii=-Jn,Si=on,Wi=Math.sqrt(F9)):(Ii=on,Si=Jn,Wi=Math.sqrt(F9/2))}return new yi(Ii/Wi,Si/Wi)}const Ri=[];for(let bi=0,di=De.length,Bi=di-1,Ii=bi+1;bi<di;bi++,Bi++,Ii++)Bi===di&&(Bi=0),Ii===di&&(Ii=0),Ri[bi]=ii(De[bi],De[Bi],De[Ii]);const Pi=[];let fn,d0=Ri.concat();for(let bi=0,di=ye.length;bi<di;bi++){const Bi=ye[bi];fn=[];for(let Ii=0,Si=Bi.length,Wi=Si-1,on=Ii+1;Ii<Si;Ii++,Wi++,on++)Wi===Si&&(Wi=0),on===Si&&(on=0),fn[Ii]=ii(Bi[Ii],Bi[Wi],Bi[on]);Pi.push(fn),d0=d0.concat(fn)}for(let bi=0;bi<pt;bi++){const di=bi/pt,Bi=at*Math.cos(di*Math.PI/2),Ii=ft*Math.sin(di*Math.PI/2)+Ct;for(let Si=0,Wi=De.length;Si<Wi;Si++){const on=ti(De[Si],Ri[Si],Ii);Mn(on.x,on.y,-Bi)}for(let Si=0,Wi=ye.length;Si<Wi;Si++){const on=ye[Si];fn=Pi[Si];for(let Jn=0,Wn=on.length;Jn<Wn;Jn++){const U0=ti(on[Jn],fn[Jn],Ii);Mn(U0.x,U0.y,-Bi)}}}const H0=ft+Ct;for(let bi=0;bi<gi;bi++){const di=rt?ti(Wt[bi],d0[bi],H0):Wt[bi];Ft?(de.copy(Ae.normals[0]).multiplyScalar(di.x),re.copy(Ae.binormals[0]).multiplyScalar(di.y),ge.copy(Ut[0]).add(de).add(re),Mn(ge.x,ge.y,ge.z)):Mn(di.x,di.y,0)}for(let bi=1;bi<=Y;bi++)for(let di=0;di<gi;di++){const Bi=rt?ti(Wt[di],d0[di],H0):Wt[di];Ft?(de.copy(Ae.normals[bi]).multiplyScalar(Bi.x),re.copy(Ae.binormals[bi]).multiplyScalar(Bi.y),ge.copy(Ut[bi]).add(de).add(re),Mn(ge.x,ge.y,ge.z)):Mn(Bi.x,Bi.y,nt/Y*bi)}for(let bi=pt-1;bi>=0;bi--){const di=bi/pt,Bi=at*Math.cos(di*Math.PI/2),Ii=ft*Math.sin(di*Math.PI/2)+Ct;for(let Si=0,Wi=De.length;Si<Wi;Si++){const on=ti(De[Si],Ri[Si],Ii);Mn(on.x,on.y,nt+Bi)}for(let Si=0,Wi=ye.length;Si<Wi;Si++){const on=ye[Si];fn=Pi[Si];for(let Jn=0,Wn=on.length;Jn<Wn;Jn++){const U0=ti(on[Jn],fn[Jn],Ii);Ft?Mn(U0.x,U0.y+Ut[Y-1].y,Ut[Y-1].x+Bi):Mn(U0.x,U0.y,nt+Bi)}}}M9(),F0();function M9(){const bi=A.length/3;if(rt){let di=0,Bi=gi*di;for(let Ii=0;Ii<Ni;Ii++){const Si=Te[Ii];vi(Si[2]+Bi,Si[1]+Bi,Si[0]+Bi)}di=Y+pt*2,Bi=gi*di;for(let Ii=0;Ii<Ni;Ii++){const Si=Te[Ii];vi(Si[0]+Bi,Si[1]+Bi,Si[2]+Bi)}}else{for(let di=0;di<Ni;di++){const Bi=Te[di];vi(Bi[2],Bi[1],Bi[0])}for(let di=0;di<Ni;di++){const Bi=Te[di];vi(Bi[0]+gi*Y,Bi[1]+gi*Y,Bi[2]+gi*Y)}}m.addGroup(bi,A.length/3-bi,0)}function F0(){const bi=A.length/3;let di=0;o9(De,di),di+=De.length;for(let Bi=0,Ii=ye.length;Bi<Ii;Bi++){const Si=ye[Bi];o9(Si,di),di+=Si.length}m.addGroup(bi,A.length/3-bi,1)}function o9(bi,di){let Bi=bi.length;for(;--Bi>=0;){const Ii=Bi;let Si=Bi-1;Si<0&&(Si=bi.length-1);for(let Wi=0,on=Y+pt*2;Wi<on;Wi++){const Jn=gi*Wi,Wn=gi*(Wi+1),U0=di+Ii+Jn,F9=di+Si+Jn,y9=di+Si+Wn,me=di+Ii+Wn;Ui(U0,F9,y9,me)}}}function Mn(bi,di,Bi){$.push(bi),$.push(di),$.push(Bi)}function vi(bi,di,Bi){Qi(bi),Qi(di),Qi(Bi);const Ii=A.length/3,Si=Vt.generateTopUV(m,A,Ii-3,Ii-2,Ii-1);Pe(Si[0]),Pe(Si[1]),Pe(Si[2])}function Ui(bi,di,Bi,Ii){Qi(bi),Qi(di),Qi(Ii),Qi(di),Qi(Bi),Qi(Ii);const Si=A.length/3,Wi=Vt.generateSideWallUV(m,A,Si-6,Si-3,Si-2,Si-1);Pe(Wi[0]),Pe(Wi[1]),Pe(Wi[3]),Pe(Wi[1]),Pe(Wi[2]),Pe(Wi[3])}function Qi(bi){A.push($[bi*3+0]),A.push($[bi*3+1]),A.push($[bi*3+2])}function Pe(bi){O.push(bi.x),O.push(bi.y)}}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}toJSON(){const r=super.toJSON(),s=this.parameters.shapes,m=this.parameters.options;return wQ(s,m,r)}static fromJSON(r,s){const m=[];for(let O=0,R=r.shapes.length;O<R;O++){const L=s[r.shapes[O]];m.push(L)}const A=r.options.extrudePath;return A!==void 0&&(r.options.extrudePath=new jm[A.type]().fromJSON(A)),new r4(m,r.options)}}const EQ={generateTopUV:function(x,r,s,m,A){const O=r[s*3],R=r[s*3+1],L=r[m*3],$=r[m*3+1],Q=r[A*3],Y=r[A*3+1];return[new yi(O,R),new yi(L,$),new yi(Q,Y)]},generateSideWallUV:function(x,r,s,m,A,O){const R=r[s*3],L=r[s*3+1],$=r[s*3+2],Q=r[m*3],Y=r[m*3+1],nt=r[m*3+2],rt=r[A*3],at=r[A*3+1],ft=r[A*3+2],Ct=r[O*3],pt=r[O*3+1],ot=r[O*3+2];return Math.abs(L-Y)<Math.abs(R-Q)?[new yi(R,1-$),new yi(Q,1-nt),new yi(rt,1-ft),new yi(Ct,1-ot)]:[new yi(L,1-$),new yi(Y,1-nt),new yi(at,1-ft),new yi(pt,1-ot)]}};function wQ(x,r,s){if(s.shapes=[],Array.isArray(x))for(let m=0,A=x.length;m<A;m++){const O=x[m];s.shapes.push(O.uuid)}else s.shapes.push(x.uuid);return s.options=Object.assign({},r),r.extrudePath!==void 0&&(s.options.extrudePath=r.extrudePath.toJSON()),s}class a4 extends ic{constructor(r=1,s=0){const m=(1+Math.sqrt(5))/2,A=[-1,m,0,1,m,0,-1,-m,0,1,-m,0,0,-1,m,0,1,m,0,-1,-m,0,1,-m,m,0,-1,m,0,1,-m,0,-1,-m,0,1],O=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(A,O,r,s),this.type="IcosahedronGeometry",this.parameters={radius:r,detail:s}}static fromJSON(r){return new a4(r.radius,r.detail)}}class m2 extends ic{constructor(r=1,s=0){const m=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],A=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(m,A,r,s),this.type="OctahedronGeometry",this.parameters={radius:r,detail:s}}static fromJSON(r){return new m2(r.radius,r.detail)}}class o4 extends u0{constructor(r=.5,s=1,m=32,A=1,O=0,R=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:r,outerRadius:s,thetaSegments:m,phiSegments:A,thetaStart:O,thetaLength:R},m=Math.max(3,m),A=Math.max(1,A);const L=[],$=[],Q=[],Y=[];let nt=r;const rt=(s-r)/A,at=new ie,ft=new yi;for(let Ct=0;Ct<=A;Ct++){for(let pt=0;pt<=m;pt++){const ot=O+pt/m*R;at.x=nt*Math.cos(ot),at.y=nt*Math.sin(ot),$.push(at.x,at.y,at.z),Q.push(0,0,1),ft.x=(at.x/s+1)/2,ft.y=(at.y/s+1)/2,Y.push(ft.x,ft.y)}nt+=rt}for(let Ct=0;Ct<A;Ct++){const pt=Ct*(m+1);for(let ot=0;ot<m;ot++){const Vt=ot+pt,Ut=Vt,Ft=Vt+m+1,Ae=Vt+m+2,re=Vt+1;L.push(Ut,Ft,re),L.push(Ft,Ae,re)}}this.setIndex(L),this.setAttribute("position",new An($,3)),this.setAttribute("normal",new An(Q,3)),this.setAttribute("uv",new An(Y,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new o4(r.innerRadius,r.outerRadius,r.thetaSegments,r.phiSegments,r.thetaStart,r.thetaLength)}}class s4 extends u0{constructor(r=new bu([new yi(0,.5),new yi(-.5,-.5),new yi(.5,-.5)]),s=12){super(),this.type="ShapeGeometry",this.parameters={shapes:r,curveSegments:s};const m=[],A=[],O=[],R=[];let L=0,$=0;if(Array.isArray(r)===!1)Q(r);else for(let Y=0;Y<r.length;Y++)Q(r[Y]),this.addGroup(L,$,Y),L+=$,$=0;this.setIndex(m),this.setAttribute("position",new An(A,3)),this.setAttribute("normal",new An(O,3)),this.setAttribute("uv",new An(R,2));function Q(Y){const nt=A.length/3,rt=Y.extractPoints(s);let at=rt.shape;const ft=rt.holes;fs.isClockWise(at)===!1&&(at=at.reverse());for(let pt=0,ot=ft.length;pt<ot;pt++){const Vt=ft[pt];fs.isClockWise(Vt)===!0&&(ft[pt]=Vt.reverse())}const Ct=fs.triangulateShape(at,ft);for(let pt=0,ot=ft.length;pt<ot;pt++){const Vt=ft[pt];at=at.concat(Vt)}for(let pt=0,ot=at.length;pt<ot;pt++){const Vt=at[pt];A.push(Vt.x,Vt.y,0),O.push(0,0,1),R.push(Vt.x,Vt.y)}for(let pt=0,ot=Ct.length;pt<ot;pt++){const Vt=Ct[pt],Ut=Vt[0]+nt,Ft=Vt[1]+nt,Ae=Vt[2]+nt;m.push(Ut,Ft,Ae),$+=3}}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}toJSON(){const r=super.toJSON(),s=this.parameters.shapes;return OQ(s,r)}static fromJSON(r,s){const m=[];for(let A=0,O=r.shapes.length;A<O;A++){const R=s[r.shapes[A]];m.push(R)}return new s4(m,r.curveSegments)}}function OQ(x,r){if(r.shapes=[],Array.isArray(x))for(let s=0,m=x.length;s<m;s++){const A=x[s];r.shapes.push(A.uuid)}else r.shapes.push(x.uuid);return r}class p2 extends u0{constructor(r=1,s=32,m=16,A=0,O=Math.PI*2,R=0,L=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:r,widthSegments:s,heightSegments:m,phiStart:A,phiLength:O,thetaStart:R,thetaLength:L},s=Math.max(3,Math.floor(s)),m=Math.max(2,Math.floor(m));const $=Math.min(R+L,Math.PI);let Q=0;const Y=[],nt=new ie,rt=new ie,at=[],ft=[],Ct=[],pt=[];for(let ot=0;ot<=m;ot++){const Vt=[],Ut=ot/m;let Ft=0;ot===0&&R===0?Ft=.5/s:ot===m&&$===Math.PI&&(Ft=-.5/s);for(let Ae=0;Ae<=s;Ae++){const re=Ae/s;nt.x=-r*Math.cos(A+re*O)*Math.sin(R+Ut*L),nt.y=r*Math.cos(R+Ut*L),nt.z=r*Math.sin(A+re*O)*Math.sin(R+Ut*L),ft.push(nt.x,nt.y,nt.z),rt.copy(nt).normalize(),Ct.push(rt.x,rt.y,rt.z),pt.push(re+Ft,1-Ut),Vt.push(Q++)}Y.push(Vt)}for(let ot=0;ot<m;ot++)for(let Vt=0;Vt<s;Vt++){const Ut=Y[ot][Vt+1],Ft=Y[ot][Vt],Ae=Y[ot+1][Vt],re=Y[ot+1][Vt+1];(ot!==0||R>0)&&at.push(Ut,Ft,re),(ot!==m-1||$<Math.PI)&&at.push(Ft,Ae,re)}this.setIndex(at),this.setAttribute("position",new An(ft,3)),this.setAttribute("normal",new An(Ct,3)),this.setAttribute("uv",new An(pt,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new p2(r.radius,r.widthSegments,r.heightSegments,r.phiStart,r.phiLength,r.thetaStart,r.thetaLength)}}class l4 extends ic{constructor(r=1,s=0){const m=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],A=[2,1,0,0,3,2,1,3,0,2,3,1];super(m,A,r,s),this.type="TetrahedronGeometry",this.parameters={radius:r,detail:s}}static fromJSON(r){return new l4(r.radius,r.detail)}}class c4 extends u0{constructor(r=1,s=.4,m=12,A=48,O=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:r,tube:s,radialSegments:m,tubularSegments:A,arc:O},m=Math.floor(m),A=Math.floor(A);const R=[],L=[],$=[],Q=[],Y=new ie,nt=new ie,rt=new ie;for(let at=0;at<=m;at++)for(let ft=0;ft<=A;ft++){const Ct=ft/A*O,pt=at/m*Math.PI*2;nt.x=(r+s*Math.cos(pt))*Math.cos(Ct),nt.y=(r+s*Math.cos(pt))*Math.sin(Ct),nt.z=s*Math.sin(pt),L.push(nt.x,nt.y,nt.z),Y.x=r*Math.cos(Ct),Y.y=r*Math.sin(Ct),rt.subVectors(nt,Y).normalize(),$.push(rt.x,rt.y,rt.z),Q.push(ft/A),Q.push(at/m)}for(let at=1;at<=m;at++)for(let ft=1;ft<=A;ft++){const Ct=(A+1)*at+ft-1,pt=(A+1)*(at-1)+ft-1,ot=(A+1)*(at-1)+ft,Vt=(A+1)*at+ft;R.push(Ct,pt,Vt),R.push(pt,ot,Vt)}this.setIndex(R),this.setAttribute("position",new An(L,3)),this.setAttribute("normal",new An($,3)),this.setAttribute("uv",new An(Q,2))}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new c4(r.radius,r.tube,r.radialSegments,r.tubularSegments,r.arc)}}class u4 extends u0{constructor(r=1,s=.4,m=64,A=8,O=2,R=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:r,tube:s,tubularSegments:m,radialSegments:A,p:O,q:R},m=Math.floor(m),A=Math.floor(A);const L=[],$=[],Q=[],Y=[],nt=new ie,rt=new ie,at=new ie,ft=new ie,Ct=new ie,pt=new ie,ot=new ie;for(let Ut=0;Ut<=m;++Ut){const Ft=Ut/m*O*Math.PI*2;Vt(Ft,O,R,r,at),Vt(Ft+.01,O,R,r,ft),pt.subVectors(ft,at),ot.addVectors(ft,at),Ct.crossVectors(pt,ot),ot.crossVectors(Ct,pt),Ct.normalize(),ot.normalize();for(let Ae=0;Ae<=A;++Ae){const re=Ae/A*Math.PI*2,de=-s*Math.cos(re),ge=s*Math.sin(re);nt.x=at.x+(de*ot.x+ge*Ct.x),nt.y=at.y+(de*ot.y+ge*Ct.y),nt.z=at.z+(de*ot.z+ge*Ct.z),$.push(nt.x,nt.y,nt.z),rt.subVectors(nt,at).normalize(),Q.push(rt.x,rt.y,rt.z),Y.push(Ut/m),Y.push(Ae/A)}}for(let Ut=1;Ut<=m;Ut++)for(let Ft=1;Ft<=A;Ft++){const Ae=(A+1)*(Ut-1)+(Ft-1),re=(A+1)*Ut+(Ft-1),de=(A+1)*Ut+Ft,ge=(A+1)*(Ut-1)+Ft;L.push(Ae,re,ge),L.push(re,de,ge)}this.setIndex(L),this.setAttribute("position",new An($,3)),this.setAttribute("normal",new An(Q,3)),this.setAttribute("uv",new An(Y,2));function Vt(Ut,Ft,Ae,re,de){const ge=Math.cos(Ut),Yt=Math.sin(Ut),Wt=Ae/Ft*Ut,ye=Math.cos(Wt);de.x=re*(2+ye)*.5*ge,de.y=re*(2+ye)*Yt*.5,de.z=re*Math.sin(Wt)*.5}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}static fromJSON(r){return new u4(r.radius,r.tube,r.tubularSegments,r.radialSegments,r.p,r.q)}}class d4 extends u0{constructor(r=new Bp(new ie(-1,-1,0),new ie(-1,1,0),new ie(1,1,0)),s=64,m=1,A=8,O=!1){super(),this.type="TubeGeometry",this.parameters={path:r,tubularSegments:s,radius:m,radialSegments:A,closed:O};const R=r.computeFrenetFrames(s,O);this.tangents=R.tangents,this.normals=R.normals,this.binormals=R.binormals;const L=new ie,$=new ie,Q=new yi;let Y=new ie;const nt=[],rt=[],at=[],ft=[];Ct(),this.setIndex(ft),this.setAttribute("position",new An(nt,3)),this.setAttribute("normal",new An(rt,3)),this.setAttribute("uv",new An(at,2));function Ct(){for(let Ut=0;Ut<s;Ut++)pt(Ut);pt(O===!1?s:0),Vt(),ot()}function pt(Ut){Y=r.getPointAt(Ut/s,Y);const Ft=R.normals[Ut],Ae=R.binormals[Ut];for(let re=0;re<=A;re++){const de=re/A*Math.PI*2,ge=Math.sin(de),Yt=-Math.cos(de);$.x=Yt*Ft.x+ge*Ae.x,$.y=Yt*Ft.y+ge*Ae.y,$.z=Yt*Ft.z+ge*Ae.z,$.normalize(),rt.push($.x,$.y,$.z),L.x=Y.x+m*$.x,L.y=Y.y+m*$.y,L.z=Y.z+m*$.z,nt.push(L.x,L.y,L.z)}}function ot(){for(let Ut=1;Ut<=s;Ut++)for(let Ft=1;Ft<=A;Ft++){const Ae=(A+1)*(Ut-1)+(Ft-1),re=(A+1)*Ut+(Ft-1),de=(A+1)*Ut+Ft,ge=(A+1)*(Ut-1)+Ft;ft.push(Ae,re,ge),ft.push(re,de,ge)}}function Vt(){for(let Ut=0;Ut<=s;Ut++)for(let Ft=0;Ft<=A;Ft++)Q.x=Ut/s,Q.y=Ft/A,at.push(Q.x,Q.y)}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}toJSON(){const r=super.toJSON();return r.path=this.parameters.path.toJSON(),r}static fromJSON(r){return new d4(new jm[r.path.type]().fromJSON(r.path),r.tubularSegments,r.radius,r.radialSegments,r.closed)}}class n_ extends u0{constructor(r=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:r},r!==null){const s=[],m=new Set,A=new ie,O=new ie;if(r.index!==null){const R=r.attributes.position,L=r.index;let $=r.groups;$.length===0&&($=[{start:0,count:L.count,materialIndex:0}]);for(let Q=0,Y=$.length;Q<Y;++Q){const nt=$[Q],rt=nt.start,at=nt.count;for(let ft=rt,Ct=rt+at;ft<Ct;ft+=3)for(let pt=0;pt<3;pt++){const ot=L.getX(ft+pt),Vt=L.getX(ft+(pt+1)%3);A.fromBufferAttribute(R,ot),O.fromBufferAttribute(R,Vt),r_(A,O,m)===!0&&(s.push(A.x,A.y,A.z),s.push(O.x,O.y,O.z))}}}else{const R=r.attributes.position;for(let L=0,$=R.count/3;L<$;L++)for(let Q=0;Q<3;Q++){const Y=3*L+Q,nt=3*L+(Q+1)%3;A.fromBufferAttribute(R,Y),O.fromBufferAttribute(R,nt),r_(A,O,m)===!0&&(s.push(A.x,A.y,A.z),s.push(O.x,O.y,O.z))}}this.setAttribute("position",new An(s,3))}}copy(r){return super.copy(r),this.parameters=Object.assign({},r.parameters),this}}function r_(x,r,s){const m=`${x.x},${x.y},${x.z}-${r.x},${r.y},${r.z}`,A=`${r.x},${r.y},${r.z}-${x.x},${x.y},${x.z}`;return s.has(m)===!0||s.has(A)===!0?!1:(s.add(m),s.add(A),!0)}var a_=Object.freeze({__proto__:null,BoxGeometry:hu,CapsuleGeometry:Wm,CircleGeometry:Km,ConeGeometry:qm,CylinderGeometry:td,DodecahedronGeometry:Xm,EdgesGeometry:qC,ExtrudeGeometry:r4,IcosahedronGeometry:a4,LatheGeometry:u2,OctahedronGeometry:m2,PlaneGeometry:H1,PolyhedronGeometry:ic,RingGeometry:o4,ShapeGeometry:s4,SphereGeometry:p2,TetrahedronGeometry:l4,TorusGeometry:c4,TorusKnotGeometry:u4,TubeGeometry:d4,WireframeGeometry:n_});class o_ extends qr{constructor(r){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ln(0),this.transparent=!0,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.fog=r.fog,this}}class s_ extends Lo{constructor(r){super(r),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Lp extends qr{constructor(r){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ln(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ln(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jr,this.normalScale=new yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ja,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.defines={STANDARD:""},this.color.copy(r.color),this.roughness=r.roughness,this.metalness=r.metalness,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.roughnessMap=r.roughnessMap,this.metalnessMap=r.metalnessMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.envMapIntensity=r.envMapIntensity,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class l_ extends Lp{constructor(r){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new yi(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return D9(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(s){this.ior=(1+.4*s)/(1-.4*s)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ln(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ln(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ln(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(r)}get anisotropy(){return this._anisotropy}set anisotropy(r){this._anisotropy>0!=r>0&&this.version++,this._anisotropy=r}get clearcoat(){return this._clearcoat}set clearcoat(r){this._clearcoat>0!=r>0&&this.version++,this._clearcoat=r}get iridescence(){return this._iridescence}set iridescence(r){this._iridescence>0!=r>0&&this.version++,this._iridescence=r}get dispersion(){return this._dispersion}set dispersion(r){this._dispersion>0!=r>0&&this.version++,this._dispersion=r}get sheen(){return this._sheen}set sheen(r){this._sheen>0!=r>0&&this.version++,this._sheen=r}get transmission(){return this._transmission}set transmission(r){this._transmission>0!=r>0&&this.version++,this._transmission=r}copy(r){return super.copy(r),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=r.anisotropy,this.anisotropyRotation=r.anisotropyRotation,this.anisotropyMap=r.anisotropyMap,this.clearcoat=r.clearcoat,this.clearcoatMap=r.clearcoatMap,this.clearcoatRoughness=r.clearcoatRoughness,this.clearcoatRoughnessMap=r.clearcoatRoughnessMap,this.clearcoatNormalMap=r.clearcoatNormalMap,this.clearcoatNormalScale.copy(r.clearcoatNormalScale),this.dispersion=r.dispersion,this.ior=r.ior,this.iridescence=r.iridescence,this.iridescenceMap=r.iridescenceMap,this.iridescenceIOR=r.iridescenceIOR,this.iridescenceThicknessRange=[...r.iridescenceThicknessRange],this.iridescenceThicknessMap=r.iridescenceThicknessMap,this.sheen=r.sheen,this.sheenColor.copy(r.sheenColor),this.sheenColorMap=r.sheenColorMap,this.sheenRoughness=r.sheenRoughness,this.sheenRoughnessMap=r.sheenRoughnessMap,this.transmission=r.transmission,this.transmissionMap=r.transmissionMap,this.thickness=r.thickness,this.thicknessMap=r.thicknessMap,this.attenuationDistance=r.attenuationDistance,this.attenuationColor.copy(r.attenuationColor),this.specularIntensity=r.specularIntensity,this.specularIntensityMap=r.specularIntensityMap,this.specularColor.copy(r.specularColor),this.specularColorMap=r.specularColorMap,this}}class c_ extends qr{constructor(r){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ln(16777215),this.specular=new ln(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ln(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jr,this.normalScale=new yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ja,this.combine=ve,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.specular.copy(r.specular),this.shininess=r.shininess,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class u_ extends qr{constructor(r){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ln(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ln(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jr,this.normalScale=new yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.gradientMap=r.gradientMap,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.alphaMap=r.alphaMap,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.fog=r.fog,this}}class d_ extends qr{constructor(r){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jr,this.normalScale=new yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(r)}copy(r){return super.copy(r),this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.flatShading=r.flatShading,this}}class h_ extends qr{constructor(r){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ln(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ln(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jr,this.normalScale=new yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ja,this.combine=ve,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapRotation.copy(r.envMapRotation),this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.flatShading=r.flatShading,this.fog=r.fog,this}}class f_ extends qr{constructor(r){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ln(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=jr,this.normalScale=new yi(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(r)}copy(r){return super.copy(r),this.defines={MATCAP:""},this.color.copy(r.color),this.matcap=r.matcap,this.map=r.map,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.alphaMap=r.alphaMap,this.flatShading=r.flatShading,this.fog=r.fog,this}}class m_ extends Ma{constructor(r){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(r)}copy(r){return super.copy(r),this.scale=r.scale,this.dashSize=r.dashSize,this.gapSize=r.gapSize,this}}function _u(x,r,s){return!x||!s&&x.constructor===r?x:typeof r.BYTES_PER_ELEMENT=="number"?new r(x):Array.prototype.slice.call(x)}function p_(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}function g_(x){function r(A,O){return x[A]-x[O]}const s=x.length,m=new Array(s);for(let A=0;A!==s;++A)m[A]=A;return m.sort(r),m}function Np(x,r,s){const m=x.length,A=new x.constructor(m);for(let O=0,R=0;R!==m;++O){const L=s[O]*r;for(let $=0;$!==r;++$)A[R++]=x[L+$]}return A}function Fp(x,r,s,m){let A=1,O=x[0];for(;O!==void 0&&O[m]===void 0;)O=x[A++];if(O===void 0)return;let R=O[m];if(R!==void 0)if(Array.isArray(R))do R=O[m],R!==void 0&&(r.push(O.time),s.push.apply(s,R)),O=x[A++];while(O!==void 0);else if(R.toArray!==void 0)do R=O[m],R!==void 0&&(r.push(O.time),R.toArray(s,s.length)),O=x[A++];while(O!==void 0);else do R=O[m],R!==void 0&&(r.push(O.time),s.push(R)),O=x[A++];while(O!==void 0)}function SQ(x,r,s,m,A=30){const O=x.clone();O.name=r;const R=[];for(let $=0;$<O.tracks.length;++$){const Q=O.tracks[$],Y=Q.getValueSize(),nt=[],rt=[];for(let at=0;at<Q.times.length;++at){const ft=Q.times[at]*A;if(!(ft<s||ft>=m)){nt.push(Q.times[at]);for(let Ct=0;Ct<Y;++Ct)rt.push(Q.values[at*Y+Ct])}}nt.length!==0&&(Q.times=_u(nt,Q.times.constructor),Q.values=_u(rt,Q.values.constructor),R.push(Q))}O.tracks=R;let L=1/0;for(let $=0;$<O.tracks.length;++$)L>O.tracks[$].times[0]&&(L=O.tracks[$].times[0]);for(let $=0;$<O.tracks.length;++$)O.tracks[$].shift(-1*L);return O.resetDuration(),O}function xQ(x,r=0,s=x,m=30){m<=0&&(m=30);const A=s.tracks.length,O=r/m;for(let R=0;R<A;++R){const L=s.tracks[R],$=L.ValueTypeName;if($==="bool"||$==="string")continue;const Q=x.tracks.find(function(ot){return ot.name===L.name&&ot.ValueTypeName===$});if(Q===void 0)continue;let Y=0;const nt=L.getValueSize();L.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(Y=nt/3);let rt=0;const at=Q.getValueSize();Q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(rt=at/3);const ft=L.times.length-1;let Ct;if(O<=L.times[0]){const ot=Y,Vt=nt-Y;Ct=L.values.slice(ot,Vt)}else if(O>=L.times[ft]){const ot=ft*nt+Y,Vt=ot+nt-Y;Ct=L.values.slice(ot,Vt)}else{const ot=L.createInterpolant(),Vt=Y,Ut=nt-Y;ot.evaluate(O),Ct=ot.resultBuffer.slice(Vt,Ut)}$==="quaternion"&&new L0().fromArray(Ct).normalize().conjugate().toArray(Ct);const pt=Q.times.length;for(let ot=0;ot<pt;++ot){const Vt=ot*at+rt;if($==="quaternion")L0.multiplyQuaternionsFlat(Q.values,Vt,Ct,0,Q.values,Vt);else{const Ut=at-rt*2;for(let Ft=0;Ft<Ut;++Ft)Q.values[Vt+Ft]-=Ct[Ft]}}}return x.blendMode=zr,x}const TQ={convertArray:_u,isTypedArray:p_,getKeyframeOrder:g_,sortedArray:Np,flattenJSON:Fp,subclip:SQ,makeClipAdditive:xQ};class g2{constructor(r,s,m,A){this.parameterPositions=r,this._cachedIndex=0,this.resultBuffer=A!==void 0?A:new s.constructor(m),this.sampleValues=s,this.valueSize=m,this.settings=null,this.DefaultSettings_={}}evaluate(r){const s=this.parameterPositions;let m=this._cachedIndex,A=s[m],O=s[m-1];t:{e:{let R;i:{n:if(!(r<A)){for(let L=m+2;;){if(A===void 0){if(r<O)break n;return m=s.length,this._cachedIndex=m,this.copySampleValue_(m-1)}if(m===L)break;if(O=A,A=s[++m],r<A)break e}R=s.length;break i}if(!(r>=O)){const L=s[1];r<L&&(m=2,O=L);for(let $=m-2;;){if(O===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(m===$)break;if(A=O,O=s[--m-1],r>=O)break e}R=m,m=0;break i}break t}for(;m<R;){const L=m+R>>>1;r<s[L]?R=L:m=L+1}if(A=s[m],O=s[m-1],O===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(A===void 0)return m=s.length,this._cachedIndex=m,this.copySampleValue_(m-1)}this._cachedIndex=m,this.intervalChanged_(m,O,A)}return this.interpolate_(m,O,r,A)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(r){const s=this.resultBuffer,m=this.sampleValues,A=this.valueSize,O=r*A;for(let R=0;R!==A;++R)s[R]=m[O+R];return s}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class M_ extends g2{constructor(r,s,m,A){super(r,s,m,A),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:g9,endingEnd:g9}}intervalChanged_(r,s,m){const A=this.parameterPositions;let O=r-2,R=r+1,L=A[O],$=A[R];if(L===void 0)switch(this.getSettings_().endingStart){case Z9:O=r,L=2*s-m;break;case Lr:O=A.length-2,L=s+A[O]-A[O+1];break;default:O=r,L=m}if($===void 0)switch(this.getSettings_().endingEnd){case Z9:R=r,$=2*m-s;break;case Lr:R=1,$=m+A[1]-A[0];break;default:R=r-1,$=s}const Q=(m-s)*.5,Y=this.valueSize;this._weightPrev=Q/(s-L),this._weightNext=Q/($-m),this._offsetPrev=O*Y,this._offsetNext=R*Y}interpolate_(r,s,m,A){const O=this.resultBuffer,R=this.sampleValues,L=this.valueSize,$=r*L,Q=$-L,Y=this._offsetPrev,nt=this._offsetNext,rt=this._weightPrev,at=this._weightNext,ft=(m-s)/(A-s),Ct=ft*ft,pt=Ct*ft,ot=-rt*pt+2*rt*Ct-rt*ft,Vt=(1+rt)*pt+(-1.5-2*rt)*Ct+(-.5+rt)*ft+1,Ut=(-1-at)*pt+(1.5+at)*Ct+.5*ft,Ft=at*pt-at*Ct;for(let Ae=0;Ae!==L;++Ae)O[Ae]=ot*R[Y+Ae]+Vt*R[Q+Ae]+Ut*R[$+Ae]+Ft*R[nt+Ae];return O}}class Up extends g2{constructor(r,s,m,A){super(r,s,m,A)}interpolate_(r,s,m,A){const O=this.resultBuffer,R=this.sampleValues,L=this.valueSize,$=r*L,Q=$-L,Y=(m-s)/(A-s),nt=1-Y;for(let rt=0;rt!==L;++rt)O[rt]=R[Q+rt]*nt+R[$+rt]*Y;return O}}class y_ extends g2{constructor(r,s,m,A){super(r,s,m,A)}interpolate_(r){return this.copySampleValue_(r-1)}}class Uo{constructor(r,s,m,A){if(r===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(s===void 0||s.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+r);this.name=r,this.times=_u(s,this.TimeBufferType),this.values=_u(m,this.ValueBufferType),this.setInterpolation(A||this.DefaultInterpolation)}static toJSON(r){const s=r.constructor;let m;if(s.toJSON!==this.toJSON)m=s.toJSON(r);else{m={name:r.name,times:_u(r.times,Array),values:_u(r.values,Array)};const A=r.getInterpolation();A!==r.DefaultInterpolation&&(m.interpolation=A)}return m.type=r.ValueTypeName,m}InterpolantFactoryMethodDiscrete(r){return new y_(this.times,this.values,this.getValueSize(),r)}InterpolantFactoryMethodLinear(r){return new Up(this.times,this.values,this.getValueSize(),r)}InterpolantFactoryMethodSmooth(r){return new M_(this.times,this.values,this.getValueSize(),r)}setInterpolation(r){let s;switch(r){case E9:s=this.InterpolantFactoryMethodDiscrete;break;case w9:s=this.InterpolantFactoryMethodLinear;break;case R9:s=this.InterpolantFactoryMethodSmooth;break}if(s===void 0){const m="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(r!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(m);return console.warn("THREE.KeyframeTrack:",m),this}return this.createInterpolant=s,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return E9;case this.InterpolantFactoryMethodLinear:return w9;case this.InterpolantFactoryMethodSmooth:return R9}}getValueSize(){return this.values.length/this.times.length}shift(r){if(r!==0){const s=this.times;for(let m=0,A=s.length;m!==A;++m)s[m]+=r}return this}scale(r){if(r!==1){const s=this.times;for(let m=0,A=s.length;m!==A;++m)s[m]*=r}return this}trim(r,s){const m=this.times,A=m.length;let O=0,R=A-1;for(;O!==A&&m[O]<r;)++O;for(;R!==-1&&m[R]>s;)--R;if(++R,O!==0||R!==A){O>=R&&(R=Math.max(R,1),O=R-1);const L=this.getValueSize();this.times=m.slice(O,R),this.values=this.values.slice(O*L,R*L)}return this}validate(){let r=!0;const s=this.getValueSize();s-Math.floor(s)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),r=!1);const m=this.times,A=this.values,O=m.length;O===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),r=!1);let R=null;for(let L=0;L!==O;L++){const $=m[L];if(typeof $=="number"&&isNaN($)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,L,$),r=!1;break}if(R!==null&&R>$){console.error("THREE.KeyframeTrack: Out of order keys.",this,L,$,R),r=!1;break}R=$}if(A!==void 0&&p_(A))for(let L=0,$=A.length;L!==$;++L){const Q=A[L];if(isNaN(Q)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,L,Q),r=!1;break}}return r}optimize(){const r=this.times.slice(),s=this.values.slice(),m=this.getValueSize(),A=this.getInterpolation()===R9,O=r.length-1;let R=1;for(let L=1;L<O;++L){let $=!1;const Q=r[L],Y=r[L+1];if(Q!==Y&&(L!==1||Q!==r[0]))if(A)$=!0;else{const nt=L*m,rt=nt-m,at=nt+m;for(let ft=0;ft!==m;++ft){const Ct=s[nt+ft];if(Ct!==s[rt+ft]||Ct!==s[at+ft]){$=!0;break}}}if($){if(L!==R){r[R]=r[L];const nt=L*m,rt=R*m;for(let at=0;at!==m;++at)s[rt+at]=s[nt+at]}++R}}if(O>0){r[R]=r[O];for(let L=O*m,$=R*m,Q=0;Q!==m;++Q)s[$+Q]=s[L+Q];++R}return R!==r.length?(this.times=r.slice(0,R),this.values=s.slice(0,R*m)):(this.times=r,this.values=s),this}clone(){const r=this.times.slice(),s=this.values.slice(),m=this.constructor,A=new m(this.name,r,s);return A.createInterpolant=this.createInterpolant,A}}Uo.prototype.TimeBufferType=Float32Array,Uo.prototype.ValueBufferType=Float32Array,Uo.prototype.DefaultInterpolation=w9;class Eu extends Uo{}Eu.prototype.ValueTypeName="bool",Eu.prototype.ValueBufferType=Array,Eu.prototype.DefaultInterpolation=E9,Eu.prototype.InterpolantFactoryMethodLinear=void 0,Eu.prototype.InterpolantFactoryMethodSmooth=void 0;class Jp extends Uo{}Jp.prototype.ValueTypeName="color";class M2 extends Uo{}M2.prototype.ValueTypeName="number";class A_ extends g2{constructor(r,s,m,A){super(r,s,m,A)}interpolate_(r,s,m,A){const O=this.resultBuffer,R=this.sampleValues,L=this.valueSize,$=(m-s)/(A-s);let Q=r*L;for(let Y=Q+L;Q!==Y;Q+=4)L0.slerpFlat(O,0,R,Q-L,R,Q,$);return O}}class id extends Uo{InterpolantFactoryMethodLinear(r){return new A_(this.times,this.values,this.getValueSize(),r)}}id.prototype.ValueTypeName="quaternion",id.prototype.DefaultInterpolation=w9,id.prototype.InterpolantFactoryMethodSmooth=void 0;class wu extends Uo{}wu.prototype.ValueTypeName="string",wu.prototype.ValueBufferType=Array,wu.prototype.DefaultInterpolation=E9,wu.prototype.InterpolantFactoryMethodLinear=void 0,wu.prototype.InterpolantFactoryMethodSmooth=void 0;class y2 extends Uo{}y2.prototype.ValueTypeName="vector";class A2{constructor(r="",s=-1,m=[],A=da){this.name=r,this.tracks=m,this.duration=s,this.blendMode=A,this.uuid=fa(),this.duration<0&&this.resetDuration()}static parse(r){const s=[],m=r.tracks,A=1/(r.fps||1);for(let R=0,L=m.length;R!==L;++R)s.push(BQ(m[R]).scale(A));const O=new this(r.name,r.duration,s,r.blendMode);return O.uuid=r.uuid,O}static toJSON(r){const s=[],m=r.tracks,A={name:r.name,duration:r.duration,tracks:s,uuid:r.uuid,blendMode:r.blendMode};for(let O=0,R=m.length;O!==R;++O)s.push(Uo.toJSON(m[O]));return A}static CreateFromMorphTargetSequence(r,s,m,A){const O=s.length,R=[];for(let L=0;L<O;L++){let $=[],Q=[];$.push((L+O-1)%O,L,(L+1)%O),Q.push(0,1,0);const Y=g_($);$=Np($,1,Y),Q=Np(Q,1,Y),!A&&$[0]===0&&($.push(O),Q.push(Q[0])),R.push(new M2(".morphTargetInfluences["+s[L].name+"]",$,Q).scale(1/m))}return new this(r,-1,R)}static findByName(r,s){let m=r;if(!Array.isArray(r)){const A=r;m=A.geometry&&A.geometry.animations||A.animations}for(let A=0;A<m.length;A++)if(m[A].name===s)return m[A];return null}static CreateClipsFromMorphTargetSequences(r,s,m){const A={},O=/^([\w-]*?)([\d]+)$/;for(let L=0,$=r.length;L<$;L++){const Q=r[L],Y=Q.name.match(O);if(Y&&Y.length>1){const nt=Y[1];let rt=A[nt];rt||(A[nt]=rt=[]),rt.push(Q)}}const R=[];for(const L in A)R.push(this.CreateFromMorphTargetSequence(L,A[L],s,m));return R}static parseAnimation(r,s){if(!r)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const m=function(nt,rt,at,ft,Ct){if(at.length!==0){const pt=[],ot=[];Fp(at,pt,ot,ft),pt.length!==0&&Ct.push(new nt(rt,pt,ot))}},A=[],O=r.name||"default",R=r.fps||30,L=r.blendMode;let $=r.length||-1;const Q=r.hierarchy||[];for(let nt=0;nt<Q.length;nt++){const rt=Q[nt].keys;if(!(!rt||rt.length===0))if(rt[0].morphTargets){const at={};let ft;for(ft=0;ft<rt.length;ft++)if(rt[ft].morphTargets)for(let Ct=0;Ct<rt[ft].morphTargets.length;Ct++)at[rt[ft].morphTargets[Ct]]=-1;for(const Ct in at){const pt=[],ot=[];for(let Vt=0;Vt!==rt[ft].morphTargets.length;++Vt){const Ut=rt[ft];pt.push(Ut.time),ot.push(Ut.morphTarget===Ct?1:0)}A.push(new M2(".morphTargetInfluence["+Ct+"]",pt,ot))}$=at.length*R}else{const at=".bones["+s[nt].name+"]";m(y2,at+".position",rt,"pos",A),m(id,at+".quaternion",rt,"rot",A),m(y2,at+".scale",rt,"scl",A)}}return A.length===0?null:new this(O,$,A,L)}resetDuration(){const r=this.tracks;let s=0;for(let m=0,A=r.length;m!==A;++m){const O=this.tracks[m];s=Math.max(s,O.times[O.times.length-1])}return this.duration=s,this}trim(){for(let r=0;r<this.tracks.length;r++)this.tracks[r].trim(0,this.duration);return this}validate(){let r=!0;for(let s=0;s<this.tracks.length;s++)r=r&&this.tracks[s].validate();return r}optimize(){for(let r=0;r<this.tracks.length;r++)this.tracks[r].optimize();return this}clone(){const r=[];for(let s=0;s<this.tracks.length;s++)r.push(this.tracks[s].clone());return new this.constructor(this.name,this.duration,r,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function IQ(x){switch(x.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return M2;case"vector":case"vector2":case"vector3":case"vector4":return y2;case"color":return Jp;case"quaternion":return id;case"bool":case"boolean":return Eu;case"string":return wu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+x)}function BQ(x){if(x.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const r=IQ(x.type);if(x.times===void 0){const s=[],m=[];Fp(x.keys,s,m,"value"),x.times=s,x.values=m}return r.parse!==void 0?r.parse(x):new r(x.name,x.times,x.values,x.interpolation)}const tl={enabled:!1,files:{},add:function(x,r){this.enabled!==!1&&(this.files[x]=r)},get:function(x){if(this.enabled!==!1)return this.files[x]},remove:function(x){delete this.files[x]},clear:function(){this.files={}}};class $p{constructor(r,s,m){const A=this;let O=!1,R=0,L=0,$;const Q=[];this.onStart=void 0,this.onLoad=r,this.onProgress=s,this.onError=m,this.itemStart=function(Y){L++,O===!1&&A.onStart!==void 0&&A.onStart(Y,R,L),O=!0},this.itemEnd=function(Y){R++,A.onProgress!==void 0&&A.onProgress(Y,R,L),R===L&&(O=!1,A.onLoad!==void 0&&A.onLoad())},this.itemError=function(Y){A.onError!==void 0&&A.onError(Y)},this.resolveURL=function(Y){return $?$(Y):Y},this.setURLModifier=function(Y){return $=Y,this},this.addHandler=function(Y,nt){return Q.push(Y,nt),this},this.removeHandler=function(Y){const nt=Q.indexOf(Y);return nt!==-1&&Q.splice(nt,2),this},this.getHandler=function(Y){for(let nt=0,rt=Q.length;nt<rt;nt+=2){const at=Q[nt],ft=Q[nt+1];if(at.global&&(at.lastIndex=0),at.test(Y))return ft}return null}}}const v_=new $p;class Ba{constructor(r){this.manager=r!==void 0?r:v_,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(r,s){const m=this;return new Promise(function(A,O){m.load(r,A,s,O)})}parse(){}setCrossOrigin(r){return this.crossOrigin=r,this}setWithCredentials(r){return this.withCredentials=r,this}setPath(r){return this.path=r,this}setResourcePath(r){return this.resourcePath=r,this}setRequestHeader(r){return this.requestHeader=r,this}}Ba.DEFAULT_MATERIAL_NAME="__DEFAULT";const el={};class RQ extends Error{constructor(r,s){super(r),this.response=s}}class il extends Ba{constructor(r){super(r)}load(r,s,m,A){r===void 0&&(r=""),this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const O=tl.get(r);if(O!==void 0)return this.manager.itemStart(r),setTimeout(()=>{s&&s(O),this.manager.itemEnd(r)},0),O;if(el[r]!==void 0){el[r].push({onLoad:s,onProgress:m,onError:A});return}el[r]=[],el[r].push({onLoad:s,onProgress:m,onError:A});const R=new Request(r,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),L=this.mimeType,$=this.responseType;fetch(R).then(Q=>{if(Q.status===200||Q.status===0){if(Q.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||Q.body===void 0||Q.body.getReader===void 0)return Q;const Y=el[r],nt=Q.body.getReader(),rt=Q.headers.get("X-File-Size")||Q.headers.get("Content-Length"),at=rt?parseInt(rt):0,ft=at!==0;let Ct=0;const pt=new ReadableStream({start(ot){Vt();function Vt(){nt.read().then(({done:Ut,value:Ft})=>{if(Ut)ot.close();else{Ct+=Ft.byteLength;const Ae=new ProgressEvent("progress",{lengthComputable:ft,loaded:Ct,total:at});for(let re=0,de=Y.length;re<de;re++){const ge=Y[re];ge.onProgress&&ge.onProgress(Ae)}ot.enqueue(Ft),Vt()}})}}});return new Response(pt)}else throw new RQ(`fetch for "${Q.url}" responded with ${Q.status}: ${Q.statusText}`,Q)}).then(Q=>{switch($){case"arraybuffer":return Q.arrayBuffer();case"blob":return Q.blob();case"document":return Q.text().then(Y=>new DOMParser().parseFromString(Y,L));case"json":return Q.json();default:if(L===void 0)return Q.text();{const nt=/charset="?([^;"\s]*)"?/i.exec(L),rt=nt&&nt[1]?nt[1].toLowerCase():void 0,at=new TextDecoder(rt);return Q.arrayBuffer().then(ft=>at.decode(ft))}}}).then(Q=>{tl.add(r,Q);const Y=el[r];delete el[r];for(let nt=0,rt=Y.length;nt<rt;nt++){const at=Y[nt];at.onLoad&&at.onLoad(Q)}}).catch(Q=>{const Y=el[r];if(Y===void 0)throw this.manager.itemError(r),Q;delete el[r];for(let nt=0,rt=Y.length;nt<rt;nt++){const at=Y[nt];at.onError&&at.onError(Q)}this.manager.itemError(r)}).finally(()=>{this.manager.itemEnd(r)}),this.manager.itemStart(r)}setResponseType(r){return this.responseType=r,this}setMimeType(r){return this.mimeType=r,this}}class DQ extends Ba{constructor(r){super(r)}load(r,s,m,A){const O=this,R=new il(this.manager);R.setPath(this.path),R.setRequestHeader(this.requestHeader),R.setWithCredentials(this.withCredentials),R.load(r,function(L){try{s(O.parse(JSON.parse(L)))}catch($){A?A($):console.error($),O.manager.itemError(r)}},m,A)}parse(r){const s=[];for(let m=0;m<r.length;m++){const A=A2.parse(r[m]);s.push(A)}return s}}class PQ extends Ba{constructor(r){super(r)}load(r,s,m,A){const O=this,R=[],L=new Vm,$=new il(this.manager);$.setPath(this.path),$.setResponseType("arraybuffer"),$.setRequestHeader(this.requestHeader),$.setWithCredentials(O.withCredentials);let Q=0;function Y(nt){$.load(r[nt],function(rt){const at=O.parse(rt,!0);R[nt]={width:at.width,height:at.height,format:at.format,mipmaps:at.mipmaps},Q+=1,Q===6&&(at.mipmapCount===1&&(L.minFilter=Ve),L.image=R,L.format=at.format,L.needsUpdate=!0,s&&s(L))},m,A)}if(Array.isArray(r))for(let nt=0,rt=r.length;nt<rt;++nt)Y(nt);else $.load(r,function(nt){const rt=O.parse(nt,!0);if(rt.isCubemap){const at=rt.mipmaps.length/rt.mipmapCount;for(let ft=0;ft<at;ft++){R[ft]={mipmaps:[]};for(let Ct=0;Ct<rt.mipmapCount;Ct++)R[ft].mipmaps.push(rt.mipmaps[ft*rt.mipmapCount+Ct]),R[ft].format=rt.format,R[ft].width=rt.width,R[ft].height=rt.height}L.image=R}else L.image.width=rt.width,L.image.height=rt.height,L.mipmaps=rt.mipmaps;rt.mipmapCount===1&&(L.minFilter=Ve),L.format=rt.format,L.needsUpdate=!0,s&&s(L)},m,A);return L}}class v2 extends Ba{constructor(r){super(r)}load(r,s,m,A){this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const O=this,R=tl.get(r);if(R!==void 0)return O.manager.itemStart(r),setTimeout(function(){s&&s(R),O.manager.itemEnd(r)},0),R;const L=uu("img");function $(){Y(),tl.add(r,this),s&&s(this),O.manager.itemEnd(r)}function Q(nt){Y(),A&&A(nt),O.manager.itemError(r),O.manager.itemEnd(r)}function Y(){L.removeEventListener("load",$,!1),L.removeEventListener("error",Q,!1)}return L.addEventListener("load",$,!1),L.addEventListener("error",Q,!1),r.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(L.crossOrigin=this.crossOrigin),O.manager.itemStart(r),L.src=r,L}}class kQ extends Ba{constructor(r){super(r)}load(r,s,m,A){const O=new Xh;O.colorSpace=O0;const R=new v2(this.manager);R.setCrossOrigin(this.crossOrigin),R.setPath(this.path);let L=0;function $(Q){R.load(r[Q],function(Y){O.images[Q]=Y,L++,L===6&&(O.needsUpdate=!0,s&&s(O))},void 0,A)}for(let Q=0;Q<r.length;++Q)$(Q);return O}}class LQ extends Ba{constructor(r){super(r)}load(r,s,m,A){const O=this,R=new Zl,L=new il(this.manager);return L.setResponseType("arraybuffer"),L.setRequestHeader(this.requestHeader),L.setPath(this.path),L.setWithCredentials(O.withCredentials),L.load(r,function($){let Q;try{Q=O.parse($)}catch(Y){if(A!==void 0)A(Y);else{console.error(Y);return}}Q.image!==void 0?R.image=Q.image:Q.data!==void 0&&(R.image.width=Q.width,R.image.height=Q.height,R.image.data=Q.data),R.wrapS=Q.wrapS!==void 0?Q.wrapS:ne,R.wrapT=Q.wrapT!==void 0?Q.wrapT:ne,R.magFilter=Q.magFilter!==void 0?Q.magFilter:Ve,R.minFilter=Q.minFilter!==void 0?Q.minFilter:Ve,R.anisotropy=Q.anisotropy!==void 0?Q.anisotropy:1,Q.colorSpace!==void 0&&(R.colorSpace=Q.colorSpace),Q.flipY!==void 0&&(R.flipY=Q.flipY),Q.format!==void 0&&(R.format=Q.format),Q.type!==void 0&&(R.type=Q.type),Q.mipmaps!==void 0&&(R.mipmaps=Q.mipmaps,R.minFilter=ke),Q.mipmapCount===1&&(R.minFilter=Ve),Q.generateMipmaps!==void 0&&(R.generateMipmaps=Q.generateMipmaps),R.needsUpdate=!0,s&&s(R,Q)},m,A),R}}class NQ extends Ba{constructor(r){super(r)}load(r,s,m,A){const O=new u9,R=new v2(this.manager);return R.setCrossOrigin(this.crossOrigin),R.setPath(this.path),R.load(r,function(L){O.image=L,O.needsUpdate=!0,s!==void 0&&s(O)},m,A),O}}class nc extends N0{constructor(r,s=1){super(),this.isLight=!0,this.type="Light",this.color=new ln(r),this.intensity=s}dispose(){}copy(r,s){return super.copy(r,s),this.color.copy(r.color),this.intensity=r.intensity,this}toJSON(r){const s=super.toJSON(r);return s.object.color=this.color.getHex(),s.object.intensity=this.intensity,this.groundColor!==void 0&&(s.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(s.object.distance=this.distance),this.angle!==void 0&&(s.object.angle=this.angle),this.decay!==void 0&&(s.object.decay=this.decay),this.penumbra!==void 0&&(s.object.penumbra=this.penumbra),this.shadow!==void 0&&(s.object.shadow=this.shadow.toJSON()),s}}class b_ extends nc{constructor(r,s,m){super(r,m),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(N0.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ln(s)}copy(r,s){return super.copy(r,s),this.groundColor.copy(r.groundColor),this}}const Gp=new gn,C_=new ie,__=new ie;class Hp{constructor(r){this.camera=r,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new yi(512,512),this.map=null,this.mapPass=null,this.matrix=new gn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Yh,this._frameExtents=new yi(1,1),this._viewportCount=1,this._viewports=[new D0(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(r){const s=this.camera,m=this.matrix;C_.setFromMatrixPosition(r.matrixWorld),s.position.copy(C_),__.setFromMatrixPosition(r.target.matrixWorld),s.lookAt(__),s.updateMatrixWorld(),Gp.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Gp),m.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),m.multiply(Gp)}getViewport(r){return this._viewports[r]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(r){return this.camera=r.camera.clone(),this.bias=r.bias,this.radius=r.radius,this.mapSize.copy(r.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const r={};return this.bias!==0&&(r.bias=this.bias),this.normalBias!==0&&(r.normalBias=this.normalBias),this.radius!==1&&(r.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(r.mapSize=this.mapSize.toArray()),r.camera=this.camera.toJSON(!1).object,delete r.camera.matrix,r}}class FQ extends Hp{constructor(){super(new dr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(r){const s=this.camera,m=Hl*2*r.angle*this.focus,A=this.mapSize.width/this.mapSize.height,O=r.distance||s.far;(m!==s.fov||A!==s.aspect||O!==s.far)&&(s.fov=m,s.aspect=A,s.far=O,s.updateProjectionMatrix()),super.updateMatrices(r)}copy(r){return super.copy(r),this.focus=r.focus,this}}class E_ extends nc{constructor(r,s,m=0,A=Math.PI/3,O=0,R=2){super(r,s),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(N0.DEFAULT_UP),this.updateMatrix(),this.target=new N0,this.distance=m,this.angle=A,this.penumbra=O,this.decay=R,this.map=null,this.shadow=new FQ}get power(){return this.intensity*Math.PI}set power(r){this.intensity=r/Math.PI}dispose(){this.shadow.dispose()}copy(r,s){return super.copy(r,s),this.distance=r.distance,this.angle=r.angle,this.penumbra=r.penumbra,this.decay=r.decay,this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}const w_=new gn,b2=new ie,Vp=new ie;class UQ extends Hp{constructor(){super(new dr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new yi(4,2),this._viewportCount=6,this._viewports=[new D0(2,1,1,1),new D0(0,1,1,1),new D0(3,1,1,1),new D0(1,1,1,1),new D0(3,0,1,1),new D0(1,0,1,1)],this._cubeDirections=[new ie(1,0,0),new ie(-1,0,0),new ie(0,0,1),new ie(0,0,-1),new ie(0,1,0),new ie(0,-1,0)],this._cubeUps=[new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,1,0),new ie(0,0,1),new ie(0,0,-1)]}updateMatrices(r,s=0){const m=this.camera,A=this.matrix,O=r.distance||m.far;O!==m.far&&(m.far=O,m.updateProjectionMatrix()),b2.setFromMatrixPosition(r.matrixWorld),m.position.copy(b2),Vp.copy(m.position),Vp.add(this._cubeDirections[s]),m.up.copy(this._cubeUps[s]),m.lookAt(Vp),m.updateMatrixWorld(),A.makeTranslation(-b2.x,-b2.y,-b2.z),w_.multiplyMatrices(m.projectionMatrix,m.matrixWorldInverse),this._frustum.setFromProjectionMatrix(w_)}}class O_ extends nc{constructor(r,s,m=0,A=2){super(r,s),this.isPointLight=!0,this.type="PointLight",this.distance=m,this.decay=A,this.shadow=new UQ}get power(){return this.intensity*4*Math.PI}set power(r){this.intensity=r/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(r,s){return super.copy(r,s),this.distance=r.distance,this.decay=r.decay,this.shadow=r.shadow.clone(),this}}class JQ extends Hp{constructor(){super(new Cm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class S_ extends nc{constructor(r,s){super(r,s),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(N0.DEFAULT_UP),this.updateMatrix(),this.target=new N0,this.shadow=new JQ}dispose(){this.shadow.dispose()}copy(r){return super.copy(r),this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}class x_ extends nc{constructor(r,s){super(r,s),this.isAmbientLight=!0,this.type="AmbientLight"}}class T_ extends nc{constructor(r,s,m=10,A=10){super(r,s),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=m,this.height=A}get power(){return this.intensity*this.width*this.height*Math.PI}set power(r){this.intensity=r/(this.width*this.height*Math.PI)}copy(r){return super.copy(r),this.width=r.width,this.height=r.height,this}toJSON(r){const s=super.toJSON(r);return s.object.width=this.width,s.object.height=this.height,s}}class I_{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let r=0;r<9;r++)this.coefficients.push(new ie)}set(r){for(let s=0;s<9;s++)this.coefficients[s].copy(r[s]);return this}zero(){for(let r=0;r<9;r++)this.coefficients[r].set(0,0,0);return this}getAt(r,s){const m=r.x,A=r.y,O=r.z,R=this.coefficients;return s.copy(R[0]).multiplyScalar(.282095),s.addScaledVector(R[1],.488603*A),s.addScaledVector(R[2],.488603*O),s.addScaledVector(R[3],.488603*m),s.addScaledVector(R[4],1.092548*(m*A)),s.addScaledVector(R[5],1.092548*(A*O)),s.addScaledVector(R[6],.315392*(3*O*O-1)),s.addScaledVector(R[7],1.092548*(m*O)),s.addScaledVector(R[8],.546274*(m*m-A*A)),s}getIrradianceAt(r,s){const m=r.x,A=r.y,O=r.z,R=this.coefficients;return s.copy(R[0]).multiplyScalar(.886227),s.addScaledVector(R[1],1.023328*A),s.addScaledVector(R[2],1.023328*O),s.addScaledVector(R[3],1.023328*m),s.addScaledVector(R[4],.858086*m*A),s.addScaledVector(R[5],.858086*A*O),s.addScaledVector(R[6],.743125*O*O-.247708),s.addScaledVector(R[7],.858086*m*O),s.addScaledVector(R[8],.429043*(m*m-A*A)),s}add(r){for(let s=0;s<9;s++)this.coefficients[s].add(r.coefficients[s]);return this}addScaledSH(r,s){for(let m=0;m<9;m++)this.coefficients[m].addScaledVector(r.coefficients[m],s);return this}scale(r){for(let s=0;s<9;s++)this.coefficients[s].multiplyScalar(r);return this}lerp(r,s){for(let m=0;m<9;m++)this.coefficients[m].lerp(r.coefficients[m],s);return this}equals(r){for(let s=0;s<9;s++)if(!this.coefficients[s].equals(r.coefficients[s]))return!1;return!0}copy(r){return this.set(r.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(r,s=0){const m=this.coefficients;for(let A=0;A<9;A++)m[A].fromArray(r,s+A*3);return this}toArray(r=[],s=0){const m=this.coefficients;for(let A=0;A<9;A++)m[A].toArray(r,s+A*3);return r}static getBasisAt(r,s){const m=r.x,A=r.y,O=r.z;s[0]=.282095,s[1]=.488603*A,s[2]=.488603*O,s[3]=.488603*m,s[4]=1.092548*m*A,s[5]=1.092548*A*O,s[6]=.315392*(3*O*O-1),s[7]=1.092548*m*O,s[8]=.546274*(m*m-A*A)}}class B_ extends nc{constructor(r=new I_,s=1){super(void 0,s),this.isLightProbe=!0,this.sh=r}copy(r){return super.copy(r),this.sh.copy(r.sh),this}fromJSON(r){return this.intensity=r.intensity,this.sh.fromArray(r.sh),this}toJSON(r){const s=super.toJSON(r);return s.object.sh=this.sh.toArray(),s}}class h4 extends Ba{constructor(r){super(r),this.textures={}}load(r,s,m,A){const O=this,R=new il(O.manager);R.setPath(O.path),R.setRequestHeader(O.requestHeader),R.setWithCredentials(O.withCredentials),R.load(r,function(L){try{s(O.parse(JSON.parse(L)))}catch($){A?A($):console.error($),O.manager.itemError(r)}},m,A)}parse(r){const s=this.textures;function m(O){return s[O]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",O),s[O]}const A=h4.createMaterialFromType(r.type);if(r.uuid!==void 0&&(A.uuid=r.uuid),r.name!==void 0&&(A.name=r.name),r.color!==void 0&&A.color!==void 0&&A.color.setHex(r.color),r.roughness!==void 0&&(A.roughness=r.roughness),r.metalness!==void 0&&(A.metalness=r.metalness),r.sheen!==void 0&&(A.sheen=r.sheen),r.sheenColor!==void 0&&(A.sheenColor=new ln().setHex(r.sheenColor)),r.sheenRoughness!==void 0&&(A.sheenRoughness=r.sheenRoughness),r.emissive!==void 0&&A.emissive!==void 0&&A.emissive.setHex(r.emissive),r.specular!==void 0&&A.specular!==void 0&&A.specular.setHex(r.specular),r.specularIntensity!==void 0&&(A.specularIntensity=r.specularIntensity),r.specularColor!==void 0&&A.specularColor!==void 0&&A.specularColor.setHex(r.specularColor),r.shininess!==void 0&&(A.shininess=r.shininess),r.clearcoat!==void 0&&(A.clearcoat=r.clearcoat),r.clearcoatRoughness!==void 0&&(A.clearcoatRoughness=r.clearcoatRoughness),r.dispersion!==void 0&&(A.dispersion=r.dispersion),r.iridescence!==void 0&&(A.iridescence=r.iridescence),r.iridescenceIOR!==void 0&&(A.iridescenceIOR=r.iridescenceIOR),r.iridescenceThicknessRange!==void 0&&(A.iridescenceThicknessRange=r.iridescenceThicknessRange),r.transmission!==void 0&&(A.transmission=r.transmission),r.thickness!==void 0&&(A.thickness=r.thickness),r.attenuationDistance!==void 0&&(A.attenuationDistance=r.attenuationDistance),r.attenuationColor!==void 0&&A.attenuationColor!==void 0&&A.attenuationColor.setHex(r.attenuationColor),r.anisotropy!==void 0&&(A.anisotropy=r.anisotropy),r.anisotropyRotation!==void 0&&(A.anisotropyRotation=r.anisotropyRotation),r.fog!==void 0&&(A.fog=r.fog),r.flatShading!==void 0&&(A.flatShading=r.flatShading),r.blending!==void 0&&(A.blending=r.blending),r.combine!==void 0&&(A.combine=r.combine),r.side!==void 0&&(A.side=r.side),r.shadowSide!==void 0&&(A.shadowSide=r.shadowSide),r.opacity!==void 0&&(A.opacity=r.opacity),r.transparent!==void 0&&(A.transparent=r.transparent),r.alphaTest!==void 0&&(A.alphaTest=r.alphaTest),r.alphaHash!==void 0&&(A.alphaHash=r.alphaHash),r.depthFunc!==void 0&&(A.depthFunc=r.depthFunc),r.depthTest!==void 0&&(A.depthTest=r.depthTest),r.depthWrite!==void 0&&(A.depthWrite=r.depthWrite),r.colorWrite!==void 0&&(A.colorWrite=r.colorWrite),r.blendSrc!==void 0&&(A.blendSrc=r.blendSrc),r.blendDst!==void 0&&(A.blendDst=r.blendDst),r.blendEquation!==void 0&&(A.blendEquation=r.blendEquation),r.blendSrcAlpha!==void 0&&(A.blendSrcAlpha=r.blendSrcAlpha),r.blendDstAlpha!==void 0&&(A.blendDstAlpha=r.blendDstAlpha),r.blendEquationAlpha!==void 0&&(A.blendEquationAlpha=r.blendEquationAlpha),r.blendColor!==void 0&&A.blendColor!==void 0&&A.blendColor.setHex(r.blendColor),r.blendAlpha!==void 0&&(A.blendAlpha=r.blendAlpha),r.stencilWriteMask!==void 0&&(A.stencilWriteMask=r.stencilWriteMask),r.stencilFunc!==void 0&&(A.stencilFunc=r.stencilFunc),r.stencilRef!==void 0&&(A.stencilRef=r.stencilRef),r.stencilFuncMask!==void 0&&(A.stencilFuncMask=r.stencilFuncMask),r.stencilFail!==void 0&&(A.stencilFail=r.stencilFail),r.stencilZFail!==void 0&&(A.stencilZFail=r.stencilZFail),r.stencilZPass!==void 0&&(A.stencilZPass=r.stencilZPass),r.stencilWrite!==void 0&&(A.stencilWrite=r.stencilWrite),r.wireframe!==void 0&&(A.wireframe=r.wireframe),r.wireframeLinewidth!==void 0&&(A.wireframeLinewidth=r.wireframeLinewidth),r.wireframeLinecap!==void 0&&(A.wireframeLinecap=r.wireframeLinecap),r.wireframeLinejoin!==void 0&&(A.wireframeLinejoin=r.wireframeLinejoin),r.rotation!==void 0&&(A.rotation=r.rotation),r.linewidth!==void 0&&(A.linewidth=r.linewidth),r.dashSize!==void 0&&(A.dashSize=r.dashSize),r.gapSize!==void 0&&(A.gapSize=r.gapSize),r.scale!==void 0&&(A.scale=r.scale),r.polygonOffset!==void 0&&(A.polygonOffset=r.polygonOffset),r.polygonOffsetFactor!==void 0&&(A.polygonOffsetFactor=r.polygonOffsetFactor),r.polygonOffsetUnits!==void 0&&(A.polygonOffsetUnits=r.polygonOffsetUnits),r.dithering!==void 0&&(A.dithering=r.dithering),r.alphaToCoverage!==void 0&&(A.alphaToCoverage=r.alphaToCoverage),r.premultipliedAlpha!==void 0&&(A.premultipliedAlpha=r.premultipliedAlpha),r.forceSinglePass!==void 0&&(A.forceSinglePass=r.forceSinglePass),r.visible!==void 0&&(A.visible=r.visible),r.toneMapped!==void 0&&(A.toneMapped=r.toneMapped),r.userData!==void 0&&(A.userData=r.userData),r.vertexColors!==void 0&&(typeof r.vertexColors=="number"?A.vertexColors=r.vertexColors>0:A.vertexColors=r.vertexColors),r.uniforms!==void 0)for(const O in r.uniforms){const R=r.uniforms[O];switch(A.uniforms[O]={},R.type){case"t":A.uniforms[O].value=m(R.value);break;case"c":A.uniforms[O].value=new ln().setHex(R.value);break;case"v2":A.uniforms[O].value=new yi().fromArray(R.value);break;case"v3":A.uniforms[O].value=new ie().fromArray(R.value);break;case"v4":A.uniforms[O].value=new D0().fromArray(R.value);break;case"m3":A.uniforms[O].value=new Hn().fromArray(R.value);break;case"m4":A.uniforms[O].value=new gn().fromArray(R.value);break;default:A.uniforms[O].value=R.value}}if(r.defines!==void 0&&(A.defines=r.defines),r.vertexShader!==void 0&&(A.vertexShader=r.vertexShader),r.fragmentShader!==void 0&&(A.fragmentShader=r.fragmentShader),r.glslVersion!==void 0&&(A.glslVersion=r.glslVersion),r.extensions!==void 0)for(const O in r.extensions)A.extensions[O]=r.extensions[O];if(r.lights!==void 0&&(A.lights=r.lights),r.clipping!==void 0&&(A.clipping=r.clipping),r.size!==void 0&&(A.size=r.size),r.sizeAttenuation!==void 0&&(A.sizeAttenuation=r.sizeAttenuation),r.map!==void 0&&(A.map=m(r.map)),r.matcap!==void 0&&(A.matcap=m(r.matcap)),r.alphaMap!==void 0&&(A.alphaMap=m(r.alphaMap)),r.bumpMap!==void 0&&(A.bumpMap=m(r.bumpMap)),r.bumpScale!==void 0&&(A.bumpScale=r.bumpScale),r.normalMap!==void 0&&(A.normalMap=m(r.normalMap)),r.normalMapType!==void 0&&(A.normalMapType=r.normalMapType),r.normalScale!==void 0){let O=r.normalScale;Array.isArray(O)===!1&&(O=[O,O]),A.normalScale=new yi().fromArray(O)}return r.displacementMap!==void 0&&(A.displacementMap=m(r.displacementMap)),r.displacementScale!==void 0&&(A.displacementScale=r.displacementScale),r.displacementBias!==void 0&&(A.displacementBias=r.displacementBias),r.roughnessMap!==void 0&&(A.roughnessMap=m(r.roughnessMap)),r.metalnessMap!==void 0&&(A.metalnessMap=m(r.metalnessMap)),r.emissiveMap!==void 0&&(A.emissiveMap=m(r.emissiveMap)),r.emissiveIntensity!==void 0&&(A.emissiveIntensity=r.emissiveIntensity),r.specularMap!==void 0&&(A.specularMap=m(r.specularMap)),r.specularIntensityMap!==void 0&&(A.specularIntensityMap=m(r.specularIntensityMap)),r.specularColorMap!==void 0&&(A.specularColorMap=m(r.specularColorMap)),r.envMap!==void 0&&(A.envMap=m(r.envMap)),r.envMapRotation!==void 0&&A.envMapRotation.fromArray(r.envMapRotation),r.envMapIntensity!==void 0&&(A.envMapIntensity=r.envMapIntensity),r.reflectivity!==void 0&&(A.reflectivity=r.reflectivity),r.refractionRatio!==void 0&&(A.refractionRatio=r.refractionRatio),r.lightMap!==void 0&&(A.lightMap=m(r.lightMap)),r.lightMapIntensity!==void 0&&(A.lightMapIntensity=r.lightMapIntensity),r.aoMap!==void 0&&(A.aoMap=m(r.aoMap)),r.aoMapIntensity!==void 0&&(A.aoMapIntensity=r.aoMapIntensity),r.gradientMap!==void 0&&(A.gradientMap=m(r.gradientMap)),r.clearcoatMap!==void 0&&(A.clearcoatMap=m(r.clearcoatMap)),r.clearcoatRoughnessMap!==void 0&&(A.clearcoatRoughnessMap=m(r.clearcoatRoughnessMap)),r.clearcoatNormalMap!==void 0&&(A.clearcoatNormalMap=m(r.clearcoatNormalMap)),r.clearcoatNormalScale!==void 0&&(A.clearcoatNormalScale=new yi().fromArray(r.clearcoatNormalScale)),r.iridescenceMap!==void 0&&(A.iridescenceMap=m(r.iridescenceMap)),r.iridescenceThicknessMap!==void 0&&(A.iridescenceThicknessMap=m(r.iridescenceThicknessMap)),r.transmissionMap!==void 0&&(A.transmissionMap=m(r.transmissionMap)),r.thicknessMap!==void 0&&(A.thicknessMap=m(r.thicknessMap)),r.anisotropyMap!==void 0&&(A.anisotropyMap=m(r.anisotropyMap)),r.sheenColorMap!==void 0&&(A.sheenColorMap=m(r.sheenColorMap)),r.sheenRoughnessMap!==void 0&&(A.sheenRoughnessMap=m(r.sheenRoughnessMap)),A}setTextures(r){return this.textures=r,this}static createMaterialFromType(r){const s={ShadowMaterial:o_,SpriteMaterial:mp,RawShaderMaterial:s_,ShaderMaterial:Lo,PointsMaterial:Cp,MeshPhysicalMaterial:l_,MeshStandardMaterial:Lp,MeshPhongMaterial:c_,MeshToonMaterial:u_,MeshNormalMaterial:d_,MeshLambertMaterial:h_,MeshDepthMaterial:up,MeshDistanceMaterial:dp,MeshBasicMaterial:ql,MeshMatcapMaterial:f_,LineDashedMaterial:m_,LineBasicMaterial:Ma,Material:qr};return new s[r]}}class Qp{static decodeText(r){if(typeof TextDecoder<"u")return new TextDecoder().decode(r);let s="";for(let m=0,A=r.length;m<A;m++)s+=String.fromCharCode(r[m]);try{return decodeURIComponent(escape(s))}catch{return s}}static extractUrlBase(r){const s=r.lastIndexOf("/");return s===-1?"./":r.slice(0,s+1)}static resolveURL(r,s){return typeof r!="string"||r===""?"":(/^https?:\/\//i.test(s)&&/^\//.test(r)&&(s=s.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(r)||/^data:.*,.*$/i.test(r)||/^blob:.*$/i.test(r)?r:s+r)}}class R_ extends u0{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(r){return super.copy(r),this.instanceCount=r.instanceCount,this}toJSON(){const r=super.toJSON();return r.instanceCount=this.instanceCount,r.isInstancedBufferGeometry=!0,r}}class D_ extends Ba{constructor(r){super(r)}load(r,s,m,A){const O=this,R=new il(O.manager);R.setPath(O.path),R.setRequestHeader(O.requestHeader),R.setWithCredentials(O.withCredentials),R.load(r,function(L){try{s(O.parse(JSON.parse(L)))}catch($){A?A($):console.error($),O.manager.itemError(r)}},m,A)}parse(r){const s={},m={};function A(at,ft){if(s[ft]!==void 0)return s[ft];const pt=at.interleavedBuffers[ft],ot=O(at,pt.buffer),Vt=Vl(pt.type,ot),Ut=new xm(Vt,pt.stride);return Ut.uuid=pt.uuid,s[ft]=Ut,Ut}function O(at,ft){if(m[ft]!==void 0)return m[ft];const pt=at.arrayBuffers[ft],ot=new Uint32Array(pt).buffer;return m[ft]=ot,ot}const R=r.isInstancedBufferGeometry?new R_:new u0,L=r.data.index;if(L!==void 0){const at=Vl(L.type,L.array);R.setIndex(new Y0(at,1))}const $=r.data.attributes;for(const at in $){const ft=$[at];let Ct;if(ft.isInterleavedBufferAttribute){const pt=A(r.data,ft.data);Ct=new Au(pt,ft.itemSize,ft.offset,ft.normalized)}else{const pt=Vl(ft.type,ft.array),ot=ft.isInstancedBufferAttribute?X1:Y0;Ct=new ot(pt,ft.itemSize,ft.normalized)}ft.name!==void 0&&(Ct.name=ft.name),ft.usage!==void 0&&Ct.setUsage(ft.usage),R.setAttribute(at,Ct)}const Q=r.data.morphAttributes;if(Q)for(const at in Q){const ft=Q[at],Ct=[];for(let pt=0,ot=ft.length;pt<ot;pt++){const Vt=ft[pt];let Ut;if(Vt.isInterleavedBufferAttribute){const Ft=A(r.data,Vt.data);Ut=new Au(Ft,Vt.itemSize,Vt.offset,Vt.normalized)}else{const Ft=Vl(Vt.type,Vt.array);Ut=new Y0(Ft,Vt.itemSize,Vt.normalized)}Vt.name!==void 0&&(Ut.name=Vt.name),Ct.push(Ut)}R.morphAttributes[at]=Ct}r.data.morphTargetsRelative&&(R.morphTargetsRelative=!0);const nt=r.data.groups||r.data.drawcalls||r.data.offsets;if(nt!==void 0)for(let at=0,ft=nt.length;at!==ft;++at){const Ct=nt[at];R.addGroup(Ct.start,Ct.count,Ct.materialIndex)}const rt=r.data.boundingSphere;if(rt!==void 0){const at=new ie;rt.center!==void 0&&at.fromArray(rt.center),R.boundingSphere=new cr(at,rt.radius)}return r.name&&(R.name=r.name),r.userData&&(R.userData=r.userData),R}}class $Q extends Ba{constructor(r){super(r)}load(r,s,m,A){const O=this,R=this.path===""?Qp.extractUrlBase(r):this.path;this.resourcePath=this.resourcePath||R;const L=new il(this.manager);L.setPath(this.path),L.setRequestHeader(this.requestHeader),L.setWithCredentials(this.withCredentials),L.load(r,function($){let Q=null;try{Q=JSON.parse($)}catch(nt){A!==void 0&&A(nt),console.error("THREE:ObjectLoader: Can't parse "+r+".",nt.message);return}const Y=Q.metadata;if(Y===void 0||Y.type===void 0||Y.type.toLowerCase()==="geometry"){A!==void 0&&A(new Error("THREE.ObjectLoader: Can't load "+r)),console.error("THREE.ObjectLoader: Can't load "+r);return}O.parse(Q,s)},m,A)}async loadAsync(r,s){const m=this,A=this.path===""?Qp.extractUrlBase(r):this.path;this.resourcePath=this.resourcePath||A;const O=new il(this.manager);O.setPath(this.path),O.setRequestHeader(this.requestHeader),O.setWithCredentials(this.withCredentials);const R=await O.loadAsync(r,s),L=JSON.parse(R),$=L.metadata;if($===void 0||$.type===void 0||$.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+r);return await m.parseAsync(L)}parse(r,s){const m=this.parseAnimations(r.animations),A=this.parseShapes(r.shapes),O=this.parseGeometries(r.geometries,A),R=this.parseImages(r.images,function(){s!==void 0&&s(Q)}),L=this.parseTextures(r.textures,R),$=this.parseMaterials(r.materials,L),Q=this.parseObject(r.object,O,$,L,m),Y=this.parseSkeletons(r.skeletons,Q);if(this.bindSkeletons(Q,Y),s!==void 0){let nt=!1;for(const rt in R)if(R[rt].data instanceof HTMLImageElement){nt=!0;break}nt===!1&&s(Q)}return Q}async parseAsync(r){const s=this.parseAnimations(r.animations),m=this.parseShapes(r.shapes),A=this.parseGeometries(r.geometries,m),O=await this.parseImagesAsync(r.images),R=this.parseTextures(r.textures,O),L=this.parseMaterials(r.materials,R),$=this.parseObject(r.object,A,L,R,s),Q=this.parseSkeletons(r.skeletons,$);return this.bindSkeletons($,Q),$}parseShapes(r){const s={};if(r!==void 0)for(let m=0,A=r.length;m<A;m++){const O=new bu().fromJSON(r[m]);s[O.uuid]=O}return s}parseSkeletons(r,s){const m={},A={};if(s.traverse(function(O){O.isBone&&(A[O.uuid]=O)}),r!==void 0)for(let O=0,R=r.length;O<R;O++){const L=new Pm().fromJSON(r[O],A);m[L.uuid]=L}return m}parseGeometries(r,s){const m={};if(r!==void 0){const O=new D_;for(let R=0,L=r.length;R<L;R++){let $;const Q=r[R];switch(Q.type){case"BufferGeometry":case"InstancedBufferGeometry":$=O.parse(Q);break;case"Geometry":if("THREE"in window&&"LegacyJSONLoader"in THREE){var A=new THREE.LegacyJSONLoader;$=A.parse(Q,this.resourcePath).geometry}else console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:Q.type in a_?$=a_[Q.type].fromJSON(Q,s):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${Q.type}"`)}$.uuid=Q.uuid,Q.name!==void 0&&($.name=Q.name),Q.userData!==void 0&&($.userData=Q.userData),m[Q.uuid]=$}}return m}parseMaterials(r,s){const m={},A={};if(r!==void 0){const O=new h4;O.setTextures(s);for(let R=0,L=r.length;R<L;R++){const $=r[R];m[$.uuid]===void 0&&(m[$.uuid]=O.parse($)),A[$.uuid]=m[$.uuid]}}return A}parseAnimations(r){const s={};if(r!==void 0)for(let m=0;m<r.length;m++){const A=r[m],O=A2.parse(A);s[O.uuid]=O}return s}parseImages(r,s){const m=this,A={};let O;function R($){return m.manager.itemStart($),O.load($,function(){m.manager.itemEnd($)},void 0,function(){m.manager.itemError($),m.manager.itemEnd($)})}function L($){if(typeof $=="string"){const Q=$,Y=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Q)?Q:m.resourcePath+Q;return R(Y)}else return $.data?{data:Vl($.type,$.data),width:$.width,height:$.height}:null}if(r!==void 0&&r.length>0){const $=new $p(s);O=new v2($),O.setCrossOrigin(this.crossOrigin);for(let Q=0,Y=r.length;Q<Y;Q++){const nt=r[Q],rt=nt.url;if(Array.isArray(rt)){const at=[];for(let ft=0,Ct=rt.length;ft<Ct;ft++){const pt=rt[ft],ot=L(pt);ot!==null&&(ot instanceof HTMLImageElement?at.push(ot):at.push(new Zl(ot.data,ot.width,ot.height)))}A[nt.uuid]=new O9(at)}else{const at=L(nt.url);A[nt.uuid]=new O9(at)}}}return A}async parseImagesAsync(r){const s=this,m={};let A;async function O(R){if(typeof R=="string"){const L=R,$=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(L)?L:s.resourcePath+L;return await A.loadAsync($)}else return R.data?{data:Vl(R.type,R.data),width:R.width,height:R.height}:null}if(r!==void 0&&r.length>0){A=new v2(this.manager),A.setCrossOrigin(this.crossOrigin);for(let R=0,L=r.length;R<L;R++){const $=r[R],Q=$.url;if(Array.isArray(Q)){const Y=[];for(let nt=0,rt=Q.length;nt<rt;nt++){const at=Q[nt],ft=await O(at);ft!==null&&(ft instanceof HTMLImageElement?Y.push(ft):Y.push(new Zl(ft.data,ft.width,ft.height)))}m[$.uuid]=new O9(Y)}else{const Y=await O($.url);m[$.uuid]=new O9(Y)}}}return m}parseTextures(r,s){function m(O,R){return typeof O=="number"?O:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",O),R[O])}const A={};if(r!==void 0)for(let O=0,R=r.length;O<R;O++){const L=r[O];L.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',L.uuid),s[L.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",L.image);const $=s[L.image],Q=$.data;let Y;Array.isArray(Q)?(Y=new Xh,Q.length===6&&(Y.needsUpdate=!0)):(Q&&Q.data?Y=new Zl:Y=new u9,Q&&(Y.needsUpdate=!0)),Y.source=$,Y.uuid=L.uuid,L.name!==void 0&&(Y.name=L.name),L.mapping!==void 0&&(Y.mapping=m(L.mapping,GQ)),L.channel!==void 0&&(Y.channel=L.channel),L.offset!==void 0&&Y.offset.fromArray(L.offset),L.repeat!==void 0&&Y.repeat.fromArray(L.repeat),L.center!==void 0&&Y.center.fromArray(L.center),L.rotation!==void 0&&(Y.rotation=L.rotation),L.wrap!==void 0&&(Y.wrapS=m(L.wrap[0],P_),Y.wrapT=m(L.wrap[1],P_)),L.format!==void 0&&(Y.format=L.format),L.internalFormat!==void 0&&(Y.internalFormat=L.internalFormat),L.type!==void 0&&(Y.type=L.type),L.colorSpace!==void 0&&(Y.colorSpace=L.colorSpace),L.minFilter!==void 0&&(Y.minFilter=m(L.minFilter,k_)),L.magFilter!==void 0&&(Y.magFilter=m(L.magFilter,k_)),L.anisotropy!==void 0&&(Y.anisotropy=L.anisotropy),L.flipY!==void 0&&(Y.flipY=L.flipY),L.generateMipmaps!==void 0&&(Y.generateMipmaps=L.generateMipmaps),L.premultiplyAlpha!==void 0&&(Y.premultiplyAlpha=L.premultiplyAlpha),L.unpackAlignment!==void 0&&(Y.unpackAlignment=L.unpackAlignment),L.compareFunction!==void 0&&(Y.compareFunction=L.compareFunction),L.userData!==void 0&&(Y.userData=L.userData),A[L.uuid]=Y}return A}parseObject(r,s,m,A,O){let R;function L(rt){return s[rt]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",rt),s[rt]}function $(rt){if(rt!==void 0){if(Array.isArray(rt)){const at=[];for(let ft=0,Ct=rt.length;ft<Ct;ft++){const pt=rt[ft];m[pt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",pt),at.push(m[pt])}return at}return m[rt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",rt),m[rt]}}function Q(rt){return A[rt]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",rt),A[rt]}let Y,nt;switch(r.type){case"Scene":R=new gC,r.background!==void 0&&(Number.isInteger(r.background)?R.background=new ln(r.background):R.background=Q(r.background)),r.environment!==void 0&&(R.environment=Q(r.environment)),r.fog!==void 0&&(r.fog.type==="Fog"?R.fog=new Sm(r.fog.color,r.fog.near,r.fog.far):r.fog.type==="FogExp2"&&(R.fog=new Om(r.fog.color,r.fog.density)),r.fog.name!==""&&(R.fog.name=r.fog.name)),r.backgroundBlurriness!==void 0&&(R.backgroundBlurriness=r.backgroundBlurriness),r.backgroundIntensity!==void 0&&(R.backgroundIntensity=r.backgroundIntensity),r.backgroundRotation!==void 0&&R.backgroundRotation.fromArray(r.backgroundRotation),r.environmentIntensity!==void 0&&(R.environmentIntensity=r.environmentIntensity),r.environmentRotation!==void 0&&R.environmentRotation.fromArray(r.environmentRotation);break;case"PerspectiveCamera":R=new dr(r.fov,r.aspect,r.near,r.far),r.focus!==void 0&&(R.focus=r.focus),r.zoom!==void 0&&(R.zoom=r.zoom),r.filmGauge!==void 0&&(R.filmGauge=r.filmGauge),r.filmOffset!==void 0&&(R.filmOffset=r.filmOffset),r.view!==void 0&&(R.view=Object.assign({},r.view));break;case"OrthographicCamera":R=new Cm(r.left,r.right,r.top,r.bottom,r.near,r.far),r.zoom!==void 0&&(R.zoom=r.zoom),r.view!==void 0&&(R.view=Object.assign({},r.view));break;case"AmbientLight":R=new x_(r.color,r.intensity);break;case"DirectionalLight":R=new S_(r.color,r.intensity);break;case"PointLight":R=new O_(r.color,r.intensity,r.distance,r.decay);break;case"RectAreaLight":R=new T_(r.color,r.intensity,r.width,r.height);break;case"SpotLight":R=new E_(r.color,r.intensity,r.distance,r.angle,r.penumbra,r.decay);break;case"HemisphereLight":R=new b_(r.color,r.groundColor,r.intensity);break;case"LightProbe":R=new B_().fromJSON(r);break;case"SkinnedMesh":Y=L(r.geometry),nt=$(r.material),R=new xC(Y,nt),r.bindMode!==void 0&&(R.bindMode=r.bindMode),r.bindMatrix!==void 0&&R.bindMatrix.fromArray(r.bindMatrix),r.skeleton!==void 0&&(R.skeleton=r.skeleton);break;case"Mesh":Y=L(r.geometry),nt=$(r.material),R=new nr(Y,nt);break;case"InstancedMesh":Y=L(r.geometry),nt=$(r.material);const rt=r.count,at=r.instanceMatrix,ft=r.instanceColor;R=new RC(Y,nt,rt),R.instanceMatrix=new X1(new Float32Array(at.array),16),ft!==void 0&&(R.instanceColor=new X1(new Float32Array(ft.array),ft.itemSize));break;case"BatchedMesh":Y=L(r.geometry),nt=$(r.material),R=new kC(r.maxGeometryCount,r.maxVertexCount,r.maxIndexCount,nt),R.geometry=Y,R.perObjectFrustumCulled=r.perObjectFrustumCulled,R.sortObjects=r.sortObjects,R._drawRanges=r.drawRanges,R._reservedRanges=r.reservedRanges,R._visibility=r.visibility,R._active=r.active,R._bounds=r.bounds.map(Ct=>{const pt=new L9;pt.min.fromArray(Ct.boxMin),pt.max.fromArray(Ct.boxMax);const ot=new cr;return ot.radius=Ct.sphereRadius,ot.center.fromArray(Ct.sphereCenter),{boxInitialized:Ct.boxInitialized,box:pt,sphereInitialized:Ct.sphereInitialized,sphere:ot}}),R._maxGeometryCount=r.maxGeometryCount,R._maxVertexCount=r.maxVertexCount,R._maxIndexCount=r.maxIndexCount,R._geometryInitialized=r.geometryInitialized,R._geometryCount=r.geometryCount,R._matricesTexture=Q(r.matricesTexture.uuid);break;case"LOD":R=new CC;break;case"Line":R=new ec(L(r.geometry),$(r.material));break;case"LineLoop":R=new JC(L(r.geometry),$(r.material));break;case"LineSegments":R=new hs(L(r.geometry),$(r.material));break;case"PointCloud":case"Points":R=new GC(L(r.geometry),$(r.material));break;case"Sprite":R=new vC($(r.material));break;case"Group":R=new Mu;break;case"Bone":R=new yp;break;default:R=new N0}if(R.uuid=r.uuid,r.name!==void 0&&(R.name=r.name),r.matrix!==void 0?(R.matrix.fromArray(r.matrix),r.matrixAutoUpdate!==void 0&&(R.matrixAutoUpdate=r.matrixAutoUpdate),R.matrixAutoUpdate&&R.matrix.decompose(R.position,R.quaternion,R.scale)):(r.position!==void 0&&R.position.fromArray(r.position),r.rotation!==void 0&&R.rotation.fromArray(r.rotation),r.quaternion!==void 0&&R.quaternion.fromArray(r.quaternion),r.scale!==void 0&&R.scale.fromArray(r.scale)),r.up!==void 0&&R.up.fromArray(r.up),r.castShadow!==void 0&&(R.castShadow=r.castShadow),r.receiveShadow!==void 0&&(R.receiveShadow=r.receiveShadow),r.shadow&&(r.shadow.bias!==void 0&&(R.shadow.bias=r.shadow.bias),r.shadow.normalBias!==void 0&&(R.shadow.normalBias=r.shadow.normalBias),r.shadow.radius!==void 0&&(R.shadow.radius=r.shadow.radius),r.shadow.mapSize!==void 0&&R.shadow.mapSize.fromArray(r.shadow.mapSize),r.shadow.camera!==void 0&&(R.shadow.camera=this.parseObject(r.shadow.camera))),r.visible!==void 0&&(R.visible=r.visible),r.frustumCulled!==void 0&&(R.frustumCulled=r.frustumCulled),r.renderOrder!==void 0&&(R.renderOrder=r.renderOrder),r.userData!==void 0&&(R.userData=r.userData),r.layers!==void 0&&(R.layers.mask=r.layers),r.children!==void 0){const rt=r.children;for(let at=0;at<rt.length;at++)R.add(this.parseObject(rt[at],s,m,A,O))}if(r.animations!==void 0){const rt=r.animations;for(let at=0;at<rt.length;at++){const ft=rt[at];R.animations.push(O[ft])}}if(r.type==="LOD"){r.autoUpdate!==void 0&&(R.autoUpdate=r.autoUpdate);const rt=r.levels;for(let at=0;at<rt.length;at++){const ft=rt[at],Ct=R.getObjectByProperty("uuid",ft.object);Ct!==void 0&&R.addLevel(Ct,ft.distance,ft.hysteresis)}}return R}bindSkeletons(r,s){Object.keys(s).length!==0&&r.traverse(function(m){if(m.isSkinnedMesh===!0&&m.skeleton!==void 0){const A=s[m.skeleton];A===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",m.skeleton):m.bind(A,m.bindMatrix)}})}}const GQ={UVMapping:Lt,CubeReflectionMapping:ut,CubeRefractionMapping:X,EquirectangularReflectionMapping:tt,EquirectangularRefractionMapping:Bt,CubeUVReflectionMapping:Qt},P_={RepeatWrapping:jt,ClampToEdgeWrapping:ne,MirroredRepeatWrapping:se},k_={NearestFilter:Be,NearestMipmapNearestFilter:we,NearestMipmapLinearFilter:li,LinearFilter:Ve,LinearMipmapNearestFilter:ji,LinearMipmapLinearFilter:ke};class HQ extends Ba{constructor(r){super(r),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(r){return this.options=r,this}load(r,s,m,A){r===void 0&&(r=""),this.path!==void 0&&(r=this.path+r),r=this.manager.resolveURL(r);const O=this,R=tl.get(r);if(R!==void 0){if(O.manager.itemStart(r),R.then){R.then(Q=>{s&&s(Q),O.manager.itemEnd(r)}).catch(Q=>{A&&A(Q)});return}return setTimeout(function(){s&&s(R),O.manager.itemEnd(r)},0),R}const L={};L.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",L.headers=this.requestHeader;const $=fetch(r,L).then(function(Q){return Q.blob()}).then(function(Q){return createImageBitmap(Q,Object.assign(O.options,{colorSpaceConversion:"none"}))}).then(function(Q){return tl.add(r,Q),s&&s(Q),O.manager.itemEnd(r),Q}).catch(function(Q){A&&A(Q),tl.remove(r),O.manager.itemError(r),O.manager.itemEnd(r)});tl.add(r,$),O.manager.itemStart(r)}}let f4;class zp{static getContext(){return f4===void 0&&(f4=new(window.AudioContext||window.webkitAudioContext)),f4}static setContext(r){f4=r}}class VQ extends Ba{constructor(r){super(r)}load(r,s,m,A){const O=this,R=new il(this.manager);R.setResponseType("arraybuffer"),R.setPath(this.path),R.setRequestHeader(this.requestHeader),R.setWithCredentials(this.withCredentials),R.load(r,function($){try{const Q=$.slice(0);zp.getContext().decodeAudioData(Q,function(nt){s(nt)}).catch(L)}catch(Q){L(Q)}},m,A);function L($){A?A($):console.error($),O.manager.itemError(r)}}}const L_=new gn,N_=new gn,Ou=new gn;class QQ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new dr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new dr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(r){const s=this._cache;if(s.focus!==r.focus||s.fov!==r.fov||s.aspect!==r.aspect*this.aspect||s.near!==r.near||s.far!==r.far||s.zoom!==r.zoom||s.eyeSep!==this.eyeSep){s.focus=r.focus,s.fov=r.fov,s.aspect=r.aspect*this.aspect,s.near=r.near,s.far=r.far,s.zoom=r.zoom,s.eyeSep=this.eyeSep,Ou.copy(r.projectionMatrix);const A=s.eyeSep/2,O=A*s.near/s.focus,R=s.near*Math.tan(zs*s.fov*.5)/s.zoom;let L,$;N_.elements[12]=-A,L_.elements[12]=A,L=-R*s.aspect+O,$=R*s.aspect+O,Ou.elements[0]=2*s.near/($-L),Ou.elements[8]=($+L)/($-L),this.cameraL.projectionMatrix.copy(Ou),L=-R*s.aspect-O,$=R*s.aspect-O,Ou.elements[0]=2*s.near/($-L),Ou.elements[8]=($+L)/($-L),this.cameraR.projectionMatrix.copy(Ou)}this.cameraL.matrixWorld.copy(r.matrixWorld).multiply(N_),this.cameraR.matrixWorld.copy(r.matrixWorld).multiply(L_)}}class F_{constructor(r=!0){this.autoStart=r,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=U_(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let r=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const s=U_();r=(s-this.oldTime)/1e3,this.oldTime=s,this.elapsedTime+=r}return r}}function U_(){return(typeof performance>"u"?Date:performance).now()}const Su=new ie,J_=new L0,zQ=new ie,xu=new ie;class jQ extends N0{constructor(){super(),this.type="AudioListener",this.context=zp.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new F_}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(r){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=r,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(r){return this.gain.gain.setTargetAtTime(r,this.context.currentTime,.01),this}updateMatrixWorld(r){super.updateMatrixWorld(r);const s=this.context.listener,m=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Su,J_,zQ),xu.set(0,0,-1).applyQuaternion(J_),s.positionX){const A=this.context.currentTime+this.timeDelta;s.positionX.linearRampToValueAtTime(Su.x,A),s.positionY.linearRampToValueAtTime(Su.y,A),s.positionZ.linearRampToValueAtTime(Su.z,A),s.forwardX.linearRampToValueAtTime(xu.x,A),s.forwardY.linearRampToValueAtTime(xu.y,A),s.forwardZ.linearRampToValueAtTime(xu.z,A),s.upX.linearRampToValueAtTime(m.x,A),s.upY.linearRampToValueAtTime(m.y,A),s.upZ.linearRampToValueAtTime(m.z,A)}else s.setPosition(Su.x,Su.y,Su.z),s.setOrientation(xu.x,xu.y,xu.z,m.x,m.y,m.z)}}class $_ extends N0{constructor(r){super(),this.type="Audio",this.listener=r,this.context=r.context,this.gain=this.context.createGain(),this.gain.connect(r.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(r){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=r,this.connect(),this}setMediaElementSource(r){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(r),this.connect(),this}setMediaStreamSource(r){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(r),this.connect(),this}setBuffer(r){return this.buffer=r,this.sourceType="buffer",this.autoplay&&this.play(),this}play(r=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+r;const s=this.context.createBufferSource();return s.buffer=this.buffer,s.loop=this.loop,s.loopStart=this.loopStart,s.loopEnd=this.loopEnd,s.onended=this.onEnded.bind(this),s.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=s,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let r=1,s=this.filters.length;r<s;r++)this.filters[r-1].connect(this.filters[r]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let r=1,s=this.filters.length;r<s;r++)this.filters[r-1].disconnect(this.filters[r]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(r){return r||(r=[]),this._connected===!0?(this.disconnect(),this.filters=r.slice(),this.connect()):this.filters=r.slice(),this}setDetune(r){return this.detune=r,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(r){return this.setFilters(r?[r]:[])}setPlaybackRate(r){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=r,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(r){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=r,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(r){return this.loopStart=r,this}setLoopEnd(r){return this.loopEnd=r,this}getVolume(){return this.gain.gain.value}setVolume(r){return this.gain.gain.setTargetAtTime(r,this.context.currentTime,.01),this}}const Tu=new ie,G_=new L0,WQ=new ie,Iu=new ie;class KQ extends $_{constructor(r){super(r),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(r){return this.panner.refDistance=r,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(r){return this.panner.rolloffFactor=r,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(r){return this.panner.distanceModel=r,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(r){return this.panner.maxDistance=r,this}setDirectionalCone(r,s,m){return this.panner.coneInnerAngle=r,this.panner.coneOuterAngle=s,this.panner.coneOuterGain=m,this}updateMatrixWorld(r){if(super.updateMatrixWorld(r),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Tu,G_,WQ),Iu.set(0,0,1).applyQuaternion(G_);const s=this.panner;if(s.positionX){const m=this.context.currentTime+this.listener.timeDelta;s.positionX.linearRampToValueAtTime(Tu.x,m),s.positionY.linearRampToValueAtTime(Tu.y,m),s.positionZ.linearRampToValueAtTime(Tu.z,m),s.orientationX.linearRampToValueAtTime(Iu.x,m),s.orientationY.linearRampToValueAtTime(Iu.y,m),s.orientationZ.linearRampToValueAtTime(Iu.z,m)}else s.setPosition(Tu.x,Tu.y,Tu.z),s.setOrientation(Iu.x,Iu.y,Iu.z)}}class qQ{constructor(r,s=2048){this.analyser=r.context.createAnalyser(),this.analyser.fftSize=s,this.data=new Uint8Array(this.analyser.frequencyBinCount),r.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let r=0;const s=this.getFrequencyData();for(let m=0;m<s.length;m++)r+=s[m];return r/s.length}}class H_{constructor(r,s,m){this.binding=r,this.valueSize=m;let A,O,R;switch(s){case"quaternion":A=this._slerp,O=this._slerpAdditive,R=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(m*6),this._workIndex=5;break;case"string":case"bool":A=this._select,O=this._select,R=this._setAdditiveIdentityOther,this.buffer=new Array(m*5);break;default:A=this._lerp,O=this._lerpAdditive,R=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(m*5)}this._mixBufferRegion=A,this._mixBufferRegionAdditive=O,this._setIdentity=R,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(r,s){const m=this.buffer,A=this.valueSize,O=r*A+A;let R=this.cumulativeWeight;if(R===0){for(let L=0;L!==A;++L)m[O+L]=m[L];R=s}else{R+=s;const L=s/R;this._mixBufferRegion(m,O,0,L,A)}this.cumulativeWeight=R}accumulateAdditive(r){const s=this.buffer,m=this.valueSize,A=m*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(s,A,0,r,m),this.cumulativeWeightAdditive+=r}apply(r){const s=this.valueSize,m=this.buffer,A=r*s+s,O=this.cumulativeWeight,R=this.cumulativeWeightAdditive,L=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,O<1){const $=s*this._origIndex;this._mixBufferRegion(m,A,$,1-O,s)}R>0&&this._mixBufferRegionAdditive(m,A,this._addIndex*s,1,s);for(let $=s,Q=s+s;$!==Q;++$)if(m[$]!==m[$+s]){L.setValue(m,A);break}}saveOriginalState(){const r=this.binding,s=this.buffer,m=this.valueSize,A=m*this._origIndex;r.getValue(s,A);for(let O=m,R=A;O!==R;++O)s[O]=s[A+O%m];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const r=this.valueSize*3;this.binding.setValue(this.buffer,r)}_setAdditiveIdentityNumeric(){const r=this._addIndex*this.valueSize,s=r+this.valueSize;for(let m=r;m<s;m++)this.buffer[m]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const r=this._origIndex*this.valueSize,s=this._addIndex*this.valueSize;for(let m=0;m<this.valueSize;m++)this.buffer[s+m]=this.buffer[r+m]}_select(r,s,m,A,O){if(A>=.5)for(let R=0;R!==O;++R)r[s+R]=r[m+R]}_slerp(r,s,m,A){L0.slerpFlat(r,s,r,s,r,m,A)}_slerpAdditive(r,s,m,A,O){const R=this._workIndex*O;L0.multiplyQuaternionsFlat(r,R,r,s,r,m),L0.slerpFlat(r,s,r,s,r,R,A)}_lerp(r,s,m,A,O){const R=1-A;for(let L=0;L!==O;++L){const $=s+L;r[$]=r[$]*R+r[m+L]*A}}_lerpAdditive(r,s,m,A,O){for(let R=0;R!==O;++R){const L=s+R;r[L]=r[L]+r[m+R]*A}}}const jp="\\[\\]\\.:\\/",XQ=new RegExp("["+jp+"]","g"),Wp="[^"+jp+"]",YQ="[^"+jp.replace("\\.","")+"]",ZQ=/((?:WC+[\/:])*)/.source.replace("WC",Wp),tz=/(WCOD+)?/.source.replace("WCOD",YQ),ez=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Wp),iz=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Wp),nz=new RegExp("^"+ZQ+tz+ez+iz+"$"),rz=["material","materials","bones","map"];class az{constructor(r,s,m){const A=m||P0.parseTrackName(s);this._targetGroup=r,this._bindings=r.subscribe_(s,A)}getValue(r,s){this.bind();const m=this._targetGroup.nCachedObjects_,A=this._bindings[m];A!==void 0&&A.getValue(r,s)}setValue(r,s){const m=this._bindings;for(let A=this._targetGroup.nCachedObjects_,O=m.length;A!==O;++A)m[A].setValue(r,s)}bind(){const r=this._bindings;for(let s=this._targetGroup.nCachedObjects_,m=r.length;s!==m;++s)r[s].bind()}unbind(){const r=this._bindings;for(let s=this._targetGroup.nCachedObjects_,m=r.length;s!==m;++s)r[s].unbind()}}class P0{constructor(r,s,m){this.path=s,this.parsedPath=m||P0.parseTrackName(s),this.node=P0.findNode(r,this.parsedPath.nodeName),this.rootNode=r,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(r,s,m){return r&&r.isAnimationObjectGroup?new P0.Composite(r,s,m):new P0(r,s,m)}static sanitizeNodeName(r){return r.replace(/\s/g,"_").replace(XQ,"")}static parseTrackName(r){const s=nz.exec(r);if(s===null)throw new Error("PropertyBinding: Cannot parse trackName: "+r);const m={nodeName:s[2],objectName:s[3],objectIndex:s[4],propertyName:s[5],propertyIndex:s[6]},A=m.nodeName&&m.nodeName.lastIndexOf(".");if(A!==void 0&&A!==-1){const O=m.nodeName.substring(A+1);rz.indexOf(O)!==-1&&(m.nodeName=m.nodeName.substring(0,A),m.objectName=O)}if(m.propertyName===null||m.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+r);return m}static findNode(r,s){if(s===void 0||s===""||s==="."||s===-1||s===r.name||s===r.uuid)return r;if(r.skeleton){const m=r.skeleton.getBoneByName(s);if(m!==void 0)return m}if(r.children){const m=function(O){for(let R=0;R<O.length;R++){const L=O[R];if(L.name===s||L.uuid===s)return L;const $=m(L.children);if($)return $}return null},A=m(r.children);if(A)return A}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(r,s){r[s]=this.targetObject[this.propertyName]}_getValue_array(r,s){const m=this.resolvedProperty;for(let A=0,O=m.length;A!==O;++A)r[s++]=m[A]}_getValue_arrayElement(r,s){r[s]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(r,s){this.resolvedProperty.toArray(r,s)}_setValue_direct(r,s){this.targetObject[this.propertyName]=r[s]}_setValue_direct_setNeedsUpdate(r,s){this.targetObject[this.propertyName]=r[s],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(r,s){this.targetObject[this.propertyName]=r[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(r,s){const m=this.resolvedProperty;for(let A=0,O=m.length;A!==O;++A)m[A]=r[s++]}_setValue_array_setNeedsUpdate(r,s){const m=this.resolvedProperty;for(let A=0,O=m.length;A!==O;++A)m[A]=r[s++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(r,s){const m=this.resolvedProperty;for(let A=0,O=m.length;A!==O;++A)m[A]=r[s++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(r,s){this.resolvedProperty[this.propertyIndex]=r[s]}_setValue_arrayElement_setNeedsUpdate(r,s){this.resolvedProperty[this.propertyIndex]=r[s],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(r,s){this.resolvedProperty[this.propertyIndex]=r[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(r,s){this.resolvedProperty.fromArray(r,s)}_setValue_fromArray_setNeedsUpdate(r,s){this.resolvedProperty.fromArray(r,s),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(r,s){this.resolvedProperty.fromArray(r,s),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(r,s){this.bind(),this.getValue(r,s)}_setValue_unbound(r,s){this.bind(),this.setValue(r,s)}bind(){let r=this.node;const s=this.parsedPath,m=s.objectName,A=s.propertyName;let O=s.propertyIndex;if(r||(r=P0.findNode(this.rootNode,s.nodeName),this.node=r),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!r){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(m){let Q=s.objectIndex;switch(m){case"materials":if(!r.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!r.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}r=r.material.materials;break;case"bones":if(!r.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}r=r.skeleton.bones;for(let Y=0;Y<r.length;Y++)if(r[Y].name===Q){Q=Y;break}break;case"map":if("map"in r){r=r.map;break}if(!r.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!r.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}r=r.material.map;break;default:if(r[m]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}r=r[m]}if(Q!==void 0){if(r[Q]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,r);return}r=r[Q]}}const R=r[A];if(R===void 0){const Q=s.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+Q+"."+A+" but it wasn't found.",r);return}let L=this.Versioning.None;this.targetObject=r,r.needsUpdate!==void 0?L=this.Versioning.NeedsUpdate:r.matrixWorldNeedsUpdate!==void 0&&(L=this.Versioning.MatrixWorldNeedsUpdate);let $=this.BindingType.Direct;if(O!==void 0){if(A==="morphTargetInfluences"){if(!r.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!r.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}r.morphTargetDictionary[O]!==void 0&&(O=r.morphTargetDictionary[O])}$=this.BindingType.ArrayElement,this.resolvedProperty=R,this.propertyIndex=O}else R.fromArray!==void 0&&R.toArray!==void 0?($=this.BindingType.HasFromToArray,this.resolvedProperty=R):Array.isArray(R)?($=this.BindingType.EntireArray,this.resolvedProperty=R):this.propertyName=A;this.getValue=this.GetterByBindingType[$],this.setValue=this.SetterByBindingTypeAndVersioning[$][L]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}P0.Composite=az,P0.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},P0.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},P0.prototype.GetterByBindingType=[P0.prototype._getValue_direct,P0.prototype._getValue_array,P0.prototype._getValue_arrayElement,P0.prototype._getValue_toArray],P0.prototype.SetterByBindingTypeAndVersioning=[[P0.prototype._setValue_direct,P0.prototype._setValue_direct_setNeedsUpdate,P0.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[P0.prototype._setValue_array,P0.prototype._setValue_array_setNeedsUpdate,P0.prototype._setValue_array_setMatrixWorldNeedsUpdate],[P0.prototype._setValue_arrayElement,P0.prototype._setValue_arrayElement_setNeedsUpdate,P0.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[P0.prototype._setValue_fromArray,P0.prototype._setValue_fromArray_setNeedsUpdate,P0.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class oz{constructor(){this.isAnimationObjectGroup=!0,this.uuid=fa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const r={};this._indicesByUUID=r;for(let m=0,A=arguments.length;m!==A;++m)r[arguments[m].uuid]=m;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const s=this;this.stats={objects:{get total(){return s._objects.length},get inUse(){return this.total-s.nCachedObjects_}},get bindingsPerObject(){return s._bindings.length}}}add(){const r=this._objects,s=this._indicesByUUID,m=this._paths,A=this._parsedPaths,O=this._bindings,R=O.length;let L,$=r.length,Q=this.nCachedObjects_;for(let Y=0,nt=arguments.length;Y!==nt;++Y){const rt=arguments[Y],at=rt.uuid;let ft=s[at];if(ft===void 0){ft=$++,s[at]=ft,r.push(rt);for(let Ct=0,pt=R;Ct!==pt;++Ct)O[Ct].push(new P0(rt,m[Ct],A[Ct]))}else if(ft<Q){L=r[ft];const Ct=--Q,pt=r[Ct];s[pt.uuid]=ft,r[ft]=pt,s[at]=Ct,r[Ct]=rt;for(let ot=0,Vt=R;ot!==Vt;++ot){const Ut=O[ot],Ft=Ut[Ct];let Ae=Ut[ft];Ut[ft]=Ft,Ae===void 0&&(Ae=new P0(rt,m[ot],A[ot])),Ut[Ct]=Ae}}else r[ft]!==L&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=Q}remove(){const r=this._objects,s=this._indicesByUUID,m=this._bindings,A=m.length;let O=this.nCachedObjects_;for(let R=0,L=arguments.length;R!==L;++R){const $=arguments[R],Q=$.uuid,Y=s[Q];if(Y!==void 0&&Y>=O){const nt=O++,rt=r[nt];s[rt.uuid]=Y,r[Y]=rt,s[Q]=nt,r[nt]=$;for(let at=0,ft=A;at!==ft;++at){const Ct=m[at],pt=Ct[nt],ot=Ct[Y];Ct[Y]=pt,Ct[nt]=ot}}}this.nCachedObjects_=O}uncache(){const r=this._objects,s=this._indicesByUUID,m=this._bindings,A=m.length;let O=this.nCachedObjects_,R=r.length;for(let L=0,$=arguments.length;L!==$;++L){const Q=arguments[L],Y=Q.uuid,nt=s[Y];if(nt!==void 0)if(delete s[Y],nt<O){const rt=--O,at=r[rt],ft=--R,Ct=r[ft];s[at.uuid]=nt,r[nt]=at,s[Ct.uuid]=rt,r[rt]=Ct,r.pop();for(let pt=0,ot=A;pt!==ot;++pt){const Vt=m[pt],Ut=Vt[rt],Ft=Vt[ft];Vt[nt]=Ut,Vt[rt]=Ft,Vt.pop()}}else{const rt=--R,at=r[rt];rt>0&&(s[at.uuid]=nt),r[nt]=at,r.pop();for(let ft=0,Ct=A;ft!==Ct;++ft){const pt=m[ft];pt[nt]=pt[rt],pt.pop()}}}this.nCachedObjects_=O}subscribe_(r,s){const m=this._bindingsIndicesByPath;let A=m[r];const O=this._bindings;if(A!==void 0)return O[A];const R=this._paths,L=this._parsedPaths,$=this._objects,Q=$.length,Y=this.nCachedObjects_,nt=new Array(Q);A=O.length,m[r]=A,R.push(r),L.push(s),O.push(nt);for(let rt=Y,at=$.length;rt!==at;++rt){const ft=$[rt];nt[rt]=new P0(ft,r,s)}return nt}unsubscribe_(r){const s=this._bindingsIndicesByPath,m=s[r];if(m!==void 0){const A=this._paths,O=this._parsedPaths,R=this._bindings,L=R.length-1,$=R[L],Q=r[L];s[Q]=m,R[m]=$,R.pop(),O[m]=O[L],O.pop(),A[m]=A[L],A.pop()}}}class V_{constructor(r,s,m=null,A=s.blendMode){this._mixer=r,this._clip=s,this._localRoot=m,this.blendMode=A;const O=s.tracks,R=O.length,L=new Array(R),$={endingStart:g9,endingEnd:g9};for(let Q=0;Q!==R;++Q){const Y=O[Q].createInterpolant(null);L[Q]=Y,Y.settings=$}this._interpolantSettings=$,this._interpolants=L,this._propertyBindings=new Array(R),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=W0,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(r){return this._startTime=r,this}setLoop(r,s){return this.loop=r,this.repetitions=s,this}setEffectiveWeight(r){return this.weight=r,this._effectiveWeight=this.enabled?r:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(r){return this._scheduleFading(r,0,1)}fadeOut(r){return this._scheduleFading(r,1,0)}crossFadeFrom(r,s,m){if(r.fadeOut(s),this.fadeIn(s),m){const A=this._clip.duration,O=r._clip.duration,R=O/A,L=A/O;r.warp(1,R,s),this.warp(L,1,s)}return this}crossFadeTo(r,s,m){return r.crossFadeFrom(this,s,m)}stopFading(){const r=this._weightInterpolant;return r!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(r)),this}setEffectiveTimeScale(r){return this.timeScale=r,this._effectiveTimeScale=this.paused?0:r,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(r){return this.timeScale=this._clip.duration/r,this.stopWarping()}syncWith(r){return this.time=r.time,this.timeScale=r.timeScale,this.stopWarping()}halt(r){return this.warp(this._effectiveTimeScale,0,r)}warp(r,s,m){const A=this._mixer,O=A.time,R=this.timeScale;let L=this._timeScaleInterpolant;L===null&&(L=A._lendControlInterpolant(),this._timeScaleInterpolant=L);const $=L.parameterPositions,Q=L.sampleValues;return $[0]=O,$[1]=O+m,Q[0]=r/R,Q[1]=s/R,this}stopWarping(){const r=this._timeScaleInterpolant;return r!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(r)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(r,s,m,A){if(!this.enabled){this._updateWeight(r);return}const O=this._startTime;if(O!==null){const $=(r-O)*m;$<0||m===0?s=0:(this._startTime=null,s=m*$)}s*=this._updateTimeScale(r);const R=this._updateTime(s),L=this._updateWeight(r);if(L>0){const $=this._interpolants,Q=this._propertyBindings;switch(this.blendMode){case zr:for(let Y=0,nt=$.length;Y!==nt;++Y)$[Y].evaluate(R),Q[Y].accumulateAdditive(L);break;case da:default:for(let Y=0,nt=$.length;Y!==nt;++Y)$[Y].evaluate(R),Q[Y].accumulate(A,L)}}}_updateWeight(r){let s=0;if(this.enabled){s=this.weight;const m=this._weightInterpolant;if(m!==null){const A=m.evaluate(r)[0];s*=A,r>m.parameterPositions[1]&&(this.stopFading(),A===0&&(this.enabled=!1))}}return this._effectiveWeight=s,s}_updateTimeScale(r){let s=0;if(!this.paused){s=this.timeScale;const m=this._timeScaleInterpolant;if(m!==null){const A=m.evaluate(r)[0];s*=A,r>m.parameterPositions[1]&&(this.stopWarping(),s===0?this.paused=!0:this.timeScale=s)}}return this._effectiveTimeScale=s,s}_updateTime(r){const s=this._clip.duration,m=this.loop;let A=this.time+r,O=this._loopCount;const R=m===B9;if(r===0)return O===-1?A:R&&(O&1)===1?s-A:A;if(m===r9){O===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(A>=s)A=s;else if(A<0)A=0;else{this.time=A;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=A,this._mixer.dispatchEvent({type:"finished",action:this,direction:r<0?-1:1})}}else{if(O===-1&&(r>=0?(O=0,this._setEndings(!0,this.repetitions===0,R)):this._setEndings(this.repetitions===0,!0,R)),A>=s||A<0){const L=Math.floor(A/s);A-=s*L,O+=Math.abs(L);const $=this.repetitions-O;if($<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,A=r>0?s:0,this.time=A,this._mixer.dispatchEvent({type:"finished",action:this,direction:r>0?1:-1});else{if($===1){const Q=r<0;this._setEndings(Q,!Q,R)}else this._setEndings(!1,!1,R);this._loopCount=O,this.time=A,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:L})}}else this.time=A;if(R&&(O&1)===1)return s-A}return A}_setEndings(r,s,m){const A=this._interpolantSettings;m?(A.endingStart=Z9,A.endingEnd=Z9):(r?A.endingStart=this.zeroSlopeAtStart?Z9:g9:A.endingStart=Lr,s?A.endingEnd=this.zeroSlopeAtEnd?Z9:g9:A.endingEnd=Lr)}_scheduleFading(r,s,m){const A=this._mixer,O=A.time;let R=this._weightInterpolant;R===null&&(R=A._lendControlInterpolant(),this._weightInterpolant=R);const L=R.parameterPositions,$=R.sampleValues;return L[0]=O,$[0]=s,L[1]=O+r,$[1]=m,this}}const sz=new Float32Array(1);class lz extends ha{constructor(r){super(),this._root=r,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(r,s){const m=r._localRoot||this._root,A=r._clip.tracks,O=A.length,R=r._propertyBindings,L=r._interpolants,$=m.uuid,Q=this._bindingsByRootAndName;let Y=Q[$];Y===void 0&&(Y={},Q[$]=Y);for(let nt=0;nt!==O;++nt){const rt=A[nt],at=rt.name;let ft=Y[at];if(ft!==void 0)++ft.referenceCount,R[nt]=ft;else{if(ft=R[nt],ft!==void 0){ft._cacheIndex===null&&(++ft.referenceCount,this._addInactiveBinding(ft,$,at));continue}const Ct=s&&s._propertyBindings[nt].binding.parsedPath;ft=new H_(P0.create(m,at,Ct),rt.ValueTypeName,rt.getValueSize()),++ft.referenceCount,this._addInactiveBinding(ft,$,at),R[nt]=ft}L[nt].resultBuffer=ft.buffer}}_activateAction(r){if(!this._isActiveAction(r)){if(r._cacheIndex===null){const m=(r._localRoot||this._root).uuid,A=r._clip.uuid,O=this._actionsByClip[A];this._bindAction(r,O&&O.knownActions[0]),this._addInactiveAction(r,A,m)}const s=r._propertyBindings;for(let m=0,A=s.length;m!==A;++m){const O=s[m];O.useCount++===0&&(this._lendBinding(O),O.saveOriginalState())}this._lendAction(r)}}_deactivateAction(r){if(this._isActiveAction(r)){const s=r._propertyBindings;for(let m=0,A=s.length;m!==A;++m){const O=s[m];--O.useCount===0&&(O.restoreOriginalState(),this._takeBackBinding(O))}this._takeBackAction(r)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const r=this;this.stats={actions:{get total(){return r._actions.length},get inUse(){return r._nActiveActions}},bindings:{get total(){return r._bindings.length},get inUse(){return r._nActiveBindings}},controlInterpolants:{get total(){return r._controlInterpolants.length},get inUse(){return r._nActiveControlInterpolants}}}}_isActiveAction(r){const s=r._cacheIndex;return s!==null&&s<this._nActiveActions}_addInactiveAction(r,s,m){const A=this._actions,O=this._actionsByClip;let R=O[s];if(R===void 0)R={knownActions:[r],actionByRoot:{}},r._byClipCacheIndex=0,O[s]=R;else{const L=R.knownActions;r._byClipCacheIndex=L.length,L.push(r)}r._cacheIndex=A.length,A.push(r),R.actionByRoot[m]=r}_removeInactiveAction(r){const s=this._actions,m=s[s.length-1],A=r._cacheIndex;m._cacheIndex=A,s[A]=m,s.pop(),r._cacheIndex=null;const O=r._clip.uuid,R=this._actionsByClip,L=R[O],$=L.knownActions,Q=$[$.length-1],Y=r._byClipCacheIndex;Q._byClipCacheIndex=Y,$[Y]=Q,$.pop(),r._byClipCacheIndex=null;const nt=L.actionByRoot,rt=(r._localRoot||this._root).uuid;delete nt[rt],$.length===0&&delete R[O],this._removeInactiveBindingsForAction(r)}_removeInactiveBindingsForAction(r){const s=r._propertyBindings;for(let m=0,A=s.length;m!==A;++m){const O=s[m];--O.referenceCount===0&&this._removeInactiveBinding(O)}}_lendAction(r){const s=this._actions,m=r._cacheIndex,A=this._nActiveActions++,O=s[A];r._cacheIndex=A,s[A]=r,O._cacheIndex=m,s[m]=O}_takeBackAction(r){const s=this._actions,m=r._cacheIndex,A=--this._nActiveActions,O=s[A];r._cacheIndex=A,s[A]=r,O._cacheIndex=m,s[m]=O}_addInactiveBinding(r,s,m){const A=this._bindingsByRootAndName,O=this._bindings;let R=A[s];R===void 0&&(R={},A[s]=R),R[m]=r,r._cacheIndex=O.length,O.push(r)}_removeInactiveBinding(r){const s=this._bindings,m=r.binding,A=m.rootNode.uuid,O=m.path,R=this._bindingsByRootAndName,L=R[A],$=s[s.length-1],Q=r._cacheIndex;$._cacheIndex=Q,s[Q]=$,s.pop(),delete L[O],Object.keys(L).length===0&&delete R[A]}_lendBinding(r){const s=this._bindings,m=r._cacheIndex,A=this._nActiveBindings++,O=s[A];r._cacheIndex=A,s[A]=r,O._cacheIndex=m,s[m]=O}_takeBackBinding(r){const s=this._bindings,m=r._cacheIndex,A=--this._nActiveBindings,O=s[A];r._cacheIndex=A,s[A]=r,O._cacheIndex=m,s[m]=O}_lendControlInterpolant(){const r=this._controlInterpolants,s=this._nActiveControlInterpolants++;let m=r[s];return m===void 0&&(m=new Up(new Float32Array(2),new Float32Array(2),1,sz),m.__cacheIndex=s,r[s]=m),m}_takeBackControlInterpolant(r){const s=this._controlInterpolants,m=r.__cacheIndex,A=--this._nActiveControlInterpolants,O=s[A];r.__cacheIndex=A,s[A]=r,O.__cacheIndex=m,s[m]=O}clipAction(r,s,m){const A=s||this._root,O=A.uuid;let R=typeof r=="string"?A2.findByName(A,r):r;const L=R!==null?R.uuid:r,$=this._actionsByClip[L];let Q=null;if(m===void 0&&(R!==null?m=R.blendMode:m=da),$!==void 0){const nt=$.actionByRoot[O];if(nt!==void 0&&nt.blendMode===m)return nt;Q=$.knownActions[0],R===null&&(R=Q._clip)}if(R===null)return null;const Y=new V_(this,R,s,m);return this._bindAction(Y,Q),this._addInactiveAction(Y,L,O),Y}existingAction(r,s){const m=s||this._root,A=m.uuid,O=typeof r=="string"?A2.findByName(m,r):r,R=O?O.uuid:r,L=this._actionsByClip[R];return L!==void 0&&L.actionByRoot[A]||null}stopAllAction(){const r=this._actions,s=this._nActiveActions;for(let m=s-1;m>=0;--m)r[m].stop();return this}update(r){r*=this.timeScale;const s=this._actions,m=this._nActiveActions,A=this.time+=r,O=Math.sign(r),R=this._accuIndex^=1;for(let Q=0;Q!==m;++Q)s[Q]._update(A,r,O,R);const L=this._bindings,$=this._nActiveBindings;for(let Q=0;Q!==$;++Q)L[Q].apply(R);return this}setTime(r){this.time=0;for(let s=0;s<this._actions.length;s++)this._actions[s].time=0;return this.update(r)}getRoot(){return this._root}uncacheClip(r){const s=this._actions,m=r.uuid,A=this._actionsByClip,O=A[m];if(O!==void 0){const R=O.knownActions;for(let L=0,$=R.length;L!==$;++L){const Q=R[L];this._deactivateAction(Q);const Y=Q._cacheIndex,nt=s[s.length-1];Q._cacheIndex=null,Q._byClipCacheIndex=null,nt._cacheIndex=Y,s[Y]=nt,s.pop(),this._removeInactiveBindingsForAction(Q)}delete A[m]}}uncacheRoot(r){const s=r.uuid,m=this._actionsByClip;for(const R in m){const L=m[R].actionByRoot,$=L[s];$!==void 0&&(this._deactivateAction($),this._removeInactiveAction($))}const A=this._bindingsByRootAndName,O=A[s];if(O!==void 0)for(const R in O){const L=O[R];L.restoreOriginalState(),this._removeInactiveBinding(L)}}uncacheAction(r,s){const m=this.existingAction(r,s);m!==null&&(this._deactivateAction(m),this._removeInactiveAction(m))}}class Kp{constructor(r){this.value=r}clone(){return new Kp(this.value.clone===void 0?this.value:this.value.clone())}}let cz=0;class uz extends ha{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:cz++}),this.name="",this.usage=su,this.uniforms=[]}add(r){return this.uniforms.push(r),this}remove(r){const s=this.uniforms.indexOf(r);return s!==-1&&this.uniforms.splice(s,1),this}setName(r){return this.name=r,this}setUsage(r){return this.usage=r,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(r){this.name=r.name,this.usage=r.usage;const s=r.uniforms;this.uniforms.length=0;for(let m=0,A=s.length;m<A;m++){const O=Array.isArray(s[m])?s[m]:[s[m]];for(let R=0;R<O.length;R++)this.uniforms.push(O[R].clone())}return this}clone(){return new this.constructor().copy(this)}}class dz extends xm{constructor(r,s,m=1){super(r,s),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=m}copy(r){return super.copy(r),this.meshPerAttribute=r.meshPerAttribute,this}clone(r){const s=super.clone(r);return s.meshPerAttribute=this.meshPerAttribute,s}toJSON(r){const s=super.toJSON(r);return s.isInstancedInterleavedBuffer=!0,s.meshPerAttribute=this.meshPerAttribute,s}}class hz{constructor(r,s,m,A,O){this.isGLBufferAttribute=!0,this.name="",this.buffer=r,this.type=s,this.itemSize=m,this.elementSize=A,this.count=O,this.version=0}set needsUpdate(r){r===!0&&this.version++}setBuffer(r){return this.buffer=r,this}setType(r,s){return this.type=r,this.elementSize=s,this}setItemSize(r){return this.itemSize=r,this}setCount(r){return this.count=r,this}}const Q_=new gn;class fz{constructor(r,s,m=0,A=1/0){this.ray=new ur(r,s),this.near=m,this.far=A,this.camera=null,this.layers=new sm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(r,s){this.ray.set(r,s)}setFromCamera(r,s){s.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(s.matrixWorld),this.ray.direction.set(r.x,r.y,.5).unproject(s).sub(this.ray.origin).normalize(),this.camera=s):s.isOrthographicCamera?(this.ray.origin.set(r.x,r.y,(s.near+s.far)/(s.near-s.far)).unproject(s),this.ray.direction.set(0,0,-1).transformDirection(s.matrixWorld),this.camera=s):console.error("THREE.Raycaster: Unsupported camera type: "+s.type)}setFromXRController(r){return Q_.identity().extractRotation(r.matrixWorld),this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Q_),this}intersectObject(r,s=!0,m=[]){return qp(r,this,m,s),m.sort(z_),m}intersectObjects(r,s=!0,m=[]){for(let A=0,O=r.length;A<O;A++)qp(r[A],this,m,s);return m.sort(z_),m}}function z_(x,r){return x.distance-r.distance}function qp(x,r,s,m){if(x.layers.test(r.layers)&&x.raycast(r,s),m===!0){const A=x.children;for(let O=0,R=A.length;O<R;O++)qp(A[O],r,s,!0)}}class mz{constructor(r=1,s=0,m=0){return this.radius=r,this.phi=s,this.theta=m,this}set(r,s,m){return this.radius=r,this.phi=s,this.theta=m,this}copy(r){return this.radius=r.radius,this.phi=r.phi,this.theta=r.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(r){return this.setFromCartesianCoords(r.x,r.y,r.z)}setFromCartesianCoords(r,s,m){return this.radius=Math.sqrt(r*r+s*s+m*m),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(r,m),this.phi=Math.acos(D9(s/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class pz{constructor(r=1,s=0,m=0){return this.radius=r,this.theta=s,this.y=m,this}set(r,s,m){return this.radius=r,this.theta=s,this.y=m,this}copy(r){return this.radius=r.radius,this.theta=r.theta,this.y=r.y,this}setFromVector3(r){return this.setFromCartesianCoords(r.x,r.y,r.z)}setFromCartesianCoords(r,s,m){return this.radius=Math.sqrt(r*r+m*m),this.theta=Math.atan2(r,m),this.y=s,this}clone(){return new this.constructor().copy(this)}}const j_=new yi;class gz{constructor(r=new yi(1/0,1/0),s=new yi(-1/0,-1/0)){this.isBox2=!0,this.min=r,this.max=s}set(r,s){return this.min.copy(r),this.max.copy(s),this}setFromPoints(r){this.makeEmpty();for(let s=0,m=r.length;s<m;s++)this.expandByPoint(r[s]);return this}setFromCenterAndSize(r,s){const m=j_.copy(s).multiplyScalar(.5);return this.min.copy(r).sub(m),this.max.copy(r).add(m),this}clone(){return new this.constructor().copy(this)}copy(r){return this.min.copy(r.min),this.max.copy(r.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(r){return this.isEmpty()?r.set(0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(r){return this.isEmpty()?r.set(0,0):r.subVectors(this.max,this.min)}expandByPoint(r){return this.min.min(r),this.max.max(r),this}expandByVector(r){return this.min.sub(r),this.max.add(r),this}expandByScalar(r){return this.min.addScalar(-r),this.max.addScalar(r),this}containsPoint(r){return!(r.x<this.min.x||r.x>this.max.x||r.y<this.min.y||r.y>this.max.y)}containsBox(r){return this.min.x<=r.min.x&&r.max.x<=this.max.x&&this.min.y<=r.min.y&&r.max.y<=this.max.y}getParameter(r,s){return s.set((r.x-this.min.x)/(this.max.x-this.min.x),(r.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(r){return!(r.max.x<this.min.x||r.min.x>this.max.x||r.max.y<this.min.y||r.min.y>this.max.y)}clampPoint(r,s){return s.copy(r).clamp(this.min,this.max)}distanceToPoint(r){return this.clampPoint(r,j_).distanceTo(r)}intersect(r){return this.min.max(r.min),this.max.min(r.max),this.isEmpty()&&this.makeEmpty(),this}union(r){return this.min.min(r.min),this.max.max(r.max),this}translate(r){return this.min.add(r),this.max.add(r),this}equals(r){return r.min.equals(this.min)&&r.max.equals(this.max)}}const W_=new ie,m4=new ie;class Mz{constructor(r=new ie,s=new ie){this.start=r,this.end=s}set(r,s){return this.start.copy(r),this.end.copy(s),this}copy(r){return this.start.copy(r.start),this.end.copy(r.end),this}getCenter(r){return r.addVectors(this.start,this.end).multiplyScalar(.5)}delta(r){return r.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(r,s){return this.delta(s).multiplyScalar(r).add(this.start)}closestPointToPointParameter(r,s){W_.subVectors(r,this.start),m4.subVectors(this.end,this.start);const m=m4.dot(m4);let O=m4.dot(W_)/m;return s&&(O=D9(O,0,1)),O}closestPointToPoint(r,s,m){const A=this.closestPointToPointParameter(r,s);return this.delta(m).multiplyScalar(A).add(this.start)}applyMatrix4(r){return this.start.applyMatrix4(r),this.end.applyMatrix4(r),this}equals(r){return r.start.equals(this.start)&&r.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const K_=new ie;class yz extends N0{constructor(r,s){super(),this.light=r,this.matrixAutoUpdate=!1,this.color=s,this.type="SpotLightHelper";const m=new u0,A=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let R=0,L=1,$=32;R<$;R++,L++){const Q=R/$*Math.PI*2,Y=L/$*Math.PI*2;A.push(Math.cos(Q),Math.sin(Q),1,Math.cos(Y),Math.sin(Y),1)}m.setAttribute("position",new An(A,3));const O=new Ma({fog:!1,toneMapped:!1});this.cone=new hs(m,O),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const r=this.light.distance?this.light.distance:1e3,s=r*Math.tan(this.light.angle);this.cone.scale.set(s,s,r),K_.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(K_),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const rc=new ie,p4=new gn,Xp=new gn;class Az extends hs{constructor(r){const s=q_(r),m=new u0,A=[],O=[],R=new ln(0,0,1),L=new ln(0,1,0);for(let Q=0;Q<s.length;Q++){const Y=s[Q];Y.parent&&Y.parent.isBone&&(A.push(0,0,0),A.push(0,0,0),O.push(R.r,R.g,R.b),O.push(L.r,L.g,L.b))}m.setAttribute("position",new An(A,3)),m.setAttribute("color",new An(O,3));const $=new Ma({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(m,$),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=r,this.bones=s,this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(r){const s=this.bones,m=this.geometry,A=m.getAttribute("position");Xp.copy(this.root.matrixWorld).invert();for(let O=0,R=0;O<s.length;O++){const L=s[O];L.parent&&L.parent.isBone&&(p4.multiplyMatrices(Xp,L.matrixWorld),rc.setFromMatrixPosition(p4),A.setXYZ(R,rc.x,rc.y,rc.z),p4.multiplyMatrices(Xp,L.parent.matrixWorld),rc.setFromMatrixPosition(p4),A.setXYZ(R+1,rc.x,rc.y,rc.z),R+=2)}m.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(r)}dispose(){this.geometry.dispose(),this.material.dispose()}}function q_(x){const r=[];x.isBone===!0&&r.push(x);for(let s=0;s<x.children.length;s++)r.push.apply(r,q_(x.children[s]));return r}class vz extends nr{constructor(r,s,m){const A=new p2(s,4,2),O=new ql({wireframe:!0,fog:!1,toneMapped:!1});super(A,O),this.light=r,this.color=m,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const bz=new ie,X_=new ln,Y_=new ln;class Cz extends N0{constructor(r,s,m){super(),this.light=r,this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1,this.color=m,this.type="HemisphereLightHelper";const A=new m2(s);A.rotateY(Math.PI*.5),this.material=new ql({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const O=A.getAttribute("position"),R=new Float32Array(O.count*3);A.setAttribute("color",new Y0(R,3)),this.add(new nr(A,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const r=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const s=r.geometry.getAttribute("color");X_.copy(this.light.color),Y_.copy(this.light.groundColor);for(let m=0,A=s.count;m<A;m++){const O=m<A/2?X_:Y_;s.setXYZ(m,O.r,O.g,O.b)}s.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),r.lookAt(bz.setFromMatrixPosition(this.light.matrixWorld).negate())}}class _z extends hs{constructor(r=10,s=10,m=4473924,A=8947848){m=new ln(m),A=new ln(A);const O=s/2,R=r/s,L=r/2,$=[],Q=[];for(let rt=0,at=0,ft=-L;rt<=s;rt++,ft+=R){$.push(-L,0,ft,L,0,ft),$.push(ft,0,-L,ft,0,L);const Ct=rt===O?m:A;Ct.toArray(Q,at),at+=3,Ct.toArray(Q,at),at+=3,Ct.toArray(Q,at),at+=3,Ct.toArray(Q,at),at+=3}const Y=new u0;Y.setAttribute("position",new An($,3)),Y.setAttribute("color",new An(Q,3));const nt=new Ma({vertexColors:!0,toneMapped:!1});super(Y,nt),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ez extends hs{constructor(r=10,s=16,m=8,A=64,O=4473924,R=8947848){O=new ln(O),R=new ln(R);const L=[],$=[];if(s>1)for(let nt=0;nt<s;nt++){const rt=nt/s*(Math.PI*2),at=Math.sin(rt)*r,ft=Math.cos(rt)*r;L.push(0,0,0),L.push(at,0,ft);const Ct=nt&1?O:R;$.push(Ct.r,Ct.g,Ct.b),$.push(Ct.r,Ct.g,Ct.b)}for(let nt=0;nt<m;nt++){const rt=nt&1?O:R,at=r-r/m*nt;for(let ft=0;ft<A;ft++){let Ct=ft/A*(Math.PI*2),pt=Math.sin(Ct)*at,ot=Math.cos(Ct)*at;L.push(pt,0,ot),$.push(rt.r,rt.g,rt.b),Ct=(ft+1)/A*(Math.PI*2),pt=Math.sin(Ct)*at,ot=Math.cos(Ct)*at,L.push(pt,0,ot),$.push(rt.r,rt.g,rt.b)}}const Q=new u0;Q.setAttribute("position",new An(L,3)),Q.setAttribute("color",new An($,3));const Y=new Ma({vertexColors:!0,toneMapped:!1});super(Q,Y),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Z_=new ie,g4=new ie,tE=new ie;class wz extends N0{constructor(r,s,m){super(),this.light=r,this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1,this.color=m,this.type="DirectionalLightHelper",s===void 0&&(s=1);let A=new u0;A.setAttribute("position",new An([-s,s,0,s,s,0,s,-s,0,-s,-s,0,-s,s,0],3));const O=new Ma({fog:!1,toneMapped:!1});this.lightPlane=new ec(A,O),this.add(this.lightPlane),A=new u0,A.setAttribute("position",new An([0,0,0,0,0,1],3)),this.targetLine=new ec(A,O),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Z_.setFromMatrixPosition(this.light.matrixWorld),g4.setFromMatrixPosition(this.light.target.matrixWorld),tE.subVectors(g4,Z_),this.lightPlane.lookAt(g4),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(g4),this.targetLine.scale.z=tE.length()}}const M4=new ie,V9=new Am;class Oz extends hs{constructor(r){const s=new u0,m=new Ma({color:16777215,vertexColors:!0,toneMapped:!1}),A=[],O=[],R={};L("n1","n2"),L("n2","n4"),L("n4","n3"),L("n3","n1"),L("f1","f2"),L("f2","f4"),L("f4","f3"),L("f3","f1"),L("n1","f1"),L("n2","f2"),L("n3","f3"),L("n4","f4"),L("p","n1"),L("p","n2"),L("p","n3"),L("p","n4"),L("u1","u2"),L("u2","u3"),L("u3","u1"),L("c","t"),L("p","c"),L("cn1","cn2"),L("cn3","cn4"),L("cf1","cf2"),L("cf3","cf4");function L(ft,Ct){$(ft),$(Ct)}function $(ft){A.push(0,0,0),O.push(0,0,0),R[ft]===void 0&&(R[ft]=[]),R[ft].push(A.length/3-1)}s.setAttribute("position",new An(A,3)),s.setAttribute("color",new An(O,3)),super(s,m),this.type="CameraHelper",this.camera=r,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=R,this.update();const Q=new ln(16755200),Y=new ln(16711680),nt=new ln(43775),rt=new ln(16777215),at=new ln(3355443);this.setColors(Q,Y,nt,rt,at)}setColors(r,s,m,A,O){const L=this.geometry.getAttribute("color");L.setXYZ(0,r.r,r.g,r.b),L.setXYZ(1,r.r,r.g,r.b),L.setXYZ(2,r.r,r.g,r.b),L.setXYZ(3,r.r,r.g,r.b),L.setXYZ(4,r.r,r.g,r.b),L.setXYZ(5,r.r,r.g,r.b),L.setXYZ(6,r.r,r.g,r.b),L.setXYZ(7,r.r,r.g,r.b),L.setXYZ(8,r.r,r.g,r.b),L.setXYZ(9,r.r,r.g,r.b),L.setXYZ(10,r.r,r.g,r.b),L.setXYZ(11,r.r,r.g,r.b),L.setXYZ(12,r.r,r.g,r.b),L.setXYZ(13,r.r,r.g,r.b),L.setXYZ(14,r.r,r.g,r.b),L.setXYZ(15,r.r,r.g,r.b),L.setXYZ(16,r.r,r.g,r.b),L.setXYZ(17,r.r,r.g,r.b),L.setXYZ(18,r.r,r.g,r.b),L.setXYZ(19,r.r,r.g,r.b),L.setXYZ(20,r.r,r.g,r.b),L.setXYZ(21,r.r,r.g,r.b),L.setXYZ(22,r.r,r.g,r.b),L.setXYZ(23,r.r,r.g,r.b),L.setXYZ(24,s.r,s.g,s.b),L.setXYZ(25,s.r,s.g,s.b),L.setXYZ(26,s.r,s.g,s.b),L.setXYZ(27,s.r,s.g,s.b),L.setXYZ(28,s.r,s.g,s.b),L.setXYZ(29,s.r,s.g,s.b),L.setXYZ(30,s.r,s.g,s.b),L.setXYZ(31,s.r,s.g,s.b),L.setXYZ(32,m.r,m.g,m.b),L.setXYZ(33,m.r,m.g,m.b),L.setXYZ(34,m.r,m.g,m.b),L.setXYZ(35,m.r,m.g,m.b),L.setXYZ(36,m.r,m.g,m.b),L.setXYZ(37,m.r,m.g,m.b),L.setXYZ(38,A.r,A.g,A.b),L.setXYZ(39,A.r,A.g,A.b),L.setXYZ(40,O.r,O.g,O.b),L.setXYZ(41,O.r,O.g,O.b),L.setXYZ(42,O.r,O.g,O.b),L.setXYZ(43,O.r,O.g,O.b),L.setXYZ(44,O.r,O.g,O.b),L.setXYZ(45,O.r,O.g,O.b),L.setXYZ(46,O.r,O.g,O.b),L.setXYZ(47,O.r,O.g,O.b),L.setXYZ(48,O.r,O.g,O.b),L.setXYZ(49,O.r,O.g,O.b),L.needsUpdate=!0}update(){const r=this.geometry,s=this.pointMap,m=1,A=1;V9.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),tr("c",s,r,V9,0,0,-1),tr("t",s,r,V9,0,0,1),tr("n1",s,r,V9,-m,-A,-1),tr("n2",s,r,V9,m,-A,-1),tr("n3",s,r,V9,-m,A,-1),tr("n4",s,r,V9,m,A,-1),tr("f1",s,r,V9,-m,-A,1),tr("f2",s,r,V9,m,-A,1),tr("f3",s,r,V9,-m,A,1),tr("f4",s,r,V9,m,A,1),tr("u1",s,r,V9,m*.7,A*1.1,-1),tr("u2",s,r,V9,-m*.7,A*1.1,-1),tr("u3",s,r,V9,0,A*2,-1),tr("cf1",s,r,V9,-m,0,1),tr("cf2",s,r,V9,m,0,1),tr("cf3",s,r,V9,0,-A,1),tr("cf4",s,r,V9,0,A,1),tr("cn1",s,r,V9,-m,0,-1),tr("cn2",s,r,V9,m,0,-1),tr("cn3",s,r,V9,0,-A,-1),tr("cn4",s,r,V9,0,A,-1),r.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function tr(x,r,s,m,A,O,R){M4.set(A,O,R).unproject(m);const L=r[x];if(L!==void 0){const $=s.getAttribute("position");for(let Q=0,Y=L.length;Q<Y;Q++)$.setXYZ(L[Q],M4.x,M4.y,M4.z)}}const y4=new L9;class Sz extends hs{constructor(r,s=16776960){const m=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),A=new Float32Array(8*3),O=new u0;O.setIndex(new Y0(m,1)),O.setAttribute("position",new Y0(A,3)),super(O,new Ma({color:s,toneMapped:!1})),this.object=r,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(r){if(r!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&y4.setFromObject(this.object),y4.isEmpty())return;const s=y4.min,m=y4.max,A=this.geometry.attributes.position,O=A.array;O[0]=m.x,O[1]=m.y,O[2]=m.z,O[3]=s.x,O[4]=m.y,O[5]=m.z,O[6]=s.x,O[7]=s.y,O[8]=m.z,O[9]=m.x,O[10]=s.y,O[11]=m.z,O[12]=m.x,O[13]=m.y,O[14]=s.z,O[15]=s.x,O[16]=m.y,O[17]=s.z,O[18]=s.x,O[19]=s.y,O[20]=s.z,O[21]=m.x,O[22]=s.y,O[23]=s.z,A.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(r){return this.object=r,this.update(),this}copy(r,s){return super.copy(r,s),this.object=r.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xz extends hs{constructor(r,s=16776960){const m=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),A=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],O=new u0;O.setIndex(new Y0(m,1)),O.setAttribute("position",new An(A,3)),super(O,new Ma({color:s,toneMapped:!1})),this.box=r,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(r){const s=this.box;s.isEmpty()||(s.getCenter(this.position),s.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(r))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Tz extends ec{constructor(r,s=1,m=16776960){const A=m,O=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],R=new u0;R.setAttribute("position",new An(O,3)),R.computeBoundingSphere(),super(R,new Ma({color:A,toneMapped:!1})),this.type="PlaneHelper",this.plane=r,this.size=s;const L=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],$=new u0;$.setAttribute("position",new An(L,3)),$.computeBoundingSphere(),this.add(new nr($,new ql({color:A,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(r){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(r)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const eE=new ie;let A4,Yp;class Iz extends N0{constructor(r=new ie(0,0,1),s=new ie(0,0,0),m=1,A=16776960,O=m*.2,R=O*.2){super(),this.type="ArrowHelper",A4===void 0&&(A4=new u0,A4.setAttribute("position",new An([0,0,0,0,1,0],3)),Yp=new td(0,.5,1,5,1),Yp.translate(0,-.5,0)),this.position.copy(s),this.line=new ec(A4,new Ma({color:A,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new nr(Yp,new ql({color:A,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(r),this.setLength(m,O,R)}setDirection(r){if(r.y>.99999)this.quaternion.set(0,0,0,1);else if(r.y<-.99999)this.quaternion.set(1,0,0,0);else{eE.set(r.z,0,-r.x).normalize();const s=Math.acos(r.y);this.quaternion.setFromAxisAngle(eE,s)}}setLength(r,s=r*.2,m=s*.2){this.line.scale.set(1,Math.max(1e-4,r-s),1),this.line.updateMatrix(),this.cone.scale.set(m,s,m),this.cone.position.y=r,this.cone.updateMatrix()}setColor(r){this.line.material.color.set(r),this.cone.material.color.set(r)}copy(r){return super.copy(r,!1),this.line.copy(r.line),this.cone.copy(r.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Bz extends hs{constructor(r=1){const s=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],m=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],A=new u0;A.setAttribute("position",new An(s,3)),A.setAttribute("color",new An(m,3));const O=new Ma({vertexColors:!0,toneMapped:!1});super(A,O),this.type="AxesHelper"}setColors(r,s,m){const A=new ln,O=this.geometry.attributes.color.array;return A.set(r),A.toArray(O,0),A.toArray(O,3),A.set(s),A.toArray(O,6),A.toArray(O,9),A.set(m),A.toArray(O,12),A.toArray(O,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Rz{constructor(){this.type="ShapePath",this.color=new ln,this.subPaths=[],this.currentPath=null}moveTo(r,s){return this.currentPath=new c2,this.subPaths.push(this.currentPath),this.currentPath.moveTo(r,s),this}lineTo(r,s){return this.currentPath.lineTo(r,s),this}quadraticCurveTo(r,s,m,A){return this.currentPath.quadraticCurveTo(r,s,m,A),this}bezierCurveTo(r,s,m,A,O,R){return this.currentPath.bezierCurveTo(r,s,m,A,O,R),this}splineThru(r){return this.currentPath.splineThru(r),this}toShapes(r){function s(ot){const Vt=[];for(let Ut=0,Ft=ot.length;Ut<Ft;Ut++){const Ae=ot[Ut],re=new bu;re.curves=Ae.curves,Vt.push(re)}return Vt}function m(ot,Vt){const Ut=Vt.length;let Ft=!1;for(let Ae=Ut-1,re=0;re<Ut;Ae=re++){let de=Vt[Ae],ge=Vt[re],Yt=ge.x-de.x,Wt=ge.y-de.y;if(Math.abs(Wt)>Number.EPSILON){if(Wt<0&&(de=Vt[re],Yt=-Yt,ge=Vt[Ae],Wt=-Wt),ot.y<de.y||ot.y>ge.y)continue;if(ot.y===de.y){if(ot.x===de.x)return!0}else{const ye=Wt*(ot.x-de.x)-Yt*(ot.y-de.y);if(ye===0)return!0;if(ye<0)continue;Ft=!Ft}}else{if(ot.y!==de.y)continue;if(ge.x<=ot.x&&ot.x<=de.x||de.x<=ot.x&&ot.x<=ge.x)return!0}}return Ft}const A=fs.isClockWise,O=this.subPaths;if(O.length===0)return[];let R,L,$;const Q=[];if(O.length===1)return L=O[0],$=new bu,$.curves=L.curves,Q.push($),Q;let Y=!A(O[0].getPoints());Y=r?!Y:Y;const nt=[],rt=[];let at=[],ft=0,Ct;rt[ft]=void 0,at[ft]=[];for(let ot=0,Vt=O.length;ot<Vt;ot++)L=O[ot],Ct=L.getPoints(),R=A(Ct),R=r?!R:R,R?(!Y&&rt[ft]&&ft++,rt[ft]={s:new bu,p:Ct},rt[ft].s.curves=L.curves,Y&&ft++,at[ft]=[]):at[ft].push({h:L,p:Ct[0]});if(!rt[0])return s(O);if(rt.length>1){let ot=!1,Vt=0;for(let Ut=0,Ft=rt.length;Ut<Ft;Ut++)nt[Ut]=[];for(let Ut=0,Ft=rt.length;Ut<Ft;Ut++){const Ae=at[Ut];for(let re=0;re<Ae.length;re++){const de=Ae[re];let ge=!0;for(let Yt=0;Yt<rt.length;Yt++)m(de.p,rt[Yt].p)&&(Ut!==Yt&&Vt++,ge?(ge=!1,nt[Yt].push(de)):ot=!0);ge&&nt[Ut].push(de)}}Vt>0&&ot===!1&&(at=nt)}let pt;for(let ot=0,Vt=rt.length;ot<Vt;ot++){$=rt[ot].s,Q.push($),pt=at[ot];for(let Ut=0,Ft=pt.length;Ut<Ft;Ut++)$.holes.push(pt[Ut].h)}return Q}}class Dz extends Sa{constructor(r=1,s=1,m=1,A={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(r,s,{...A,count:m}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:h}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=h)},"./node_modules/three/examples/jsm/libs/ktx-parse.module.js":(c,d,u)=>{u.r(d),u.d(d,{KHR_DF_CHANNEL_RGBSDA_ALPHA:()=>oi,KHR_DF_CHANNEL_RGBSDA_BLUE:()=>He,KHR_DF_CHANNEL_RGBSDA_DEPTH:()=>ri,KHR_DF_CHANNEL_RGBSDA_GREEN:()=>ve,KHR_DF_CHANNEL_RGBSDA_RED:()=>$e,KHR_DF_CHANNEL_RGBSDA_STENCIL:()=>qe,KHR_DF_FLAG_ALPHA_PREMULTIPLIED:()=>k,KHR_DF_FLAG_ALPHA_STRAIGHT:()=>T,KHR_DF_KHR_DESCRIPTORTYPE_BASICFORMAT:()=>y,KHR_DF_MODEL_ASTC:()=>S,KHR_DF_MODEL_ETC1:()=>_,KHR_DF_MODEL_ETC1S:()=>I,KHR_DF_MODEL_ETC2:()=>E,KHR_DF_MODEL_RGBSDA:()=>w,KHR_DF_MODEL_UNSPECIFIED:()=>C,KHR_DF_PRIMARIES_ACES:()=>Jt,KHR_DF_PRIMARIES_ACESCC:()=>Gt,KHR_DF_PRIMARIES_ADOBERGB:()=>ue,KHR_DF_PRIMARIES_BT2020:()=>zt,KHR_DF_PRIMARIES_BT601_EBU:()=>yt,KHR_DF_PRIMARIES_BT601_SMPTE:()=>lt,KHR_DF_PRIMARIES_BT709:()=>gt,KHR_DF_PRIMARIES_CIEXYZ:()=>kt,KHR_DF_PRIMARIES_DISPLAYP3:()=>qt,KHR_DF_PRIMARIES_NTSC1953:()=>ce,KHR_DF_PRIMARIES_PAL525:()=>ae,KHR_DF_PRIMARIES_UNSPECIFIED:()=>xt,KHR_DF_SAMPLE_DATATYPE_EXPONENT:()=>pe,KHR_DF_SAMPLE_DATATYPE_FLOAT:()=>oe,KHR_DF_SAMPLE_DATATYPE_LINEAR:()=>Ot,KHR_DF_SAMPLE_DATATYPE_SIGNED:()=>fe,KHR_DF_TRANSFER_ACESCC:()=>st,KHR_DF_TRANSFER_ACESCCT:()=>St,KHR_DF_TRANSFER_ADOBERGB:()=>At,KHR_DF_TRANSFER_BT1886:()=>G,KHR_DF_TRANSFER_DCIP3:()=>W,KHR_DF_TRANSFER_HLG_EOTF:()=>J,KHR_DF_TRANSFER_HLG_OETF:()=>H,KHR_DF_TRANSFER_ITU:()=>F,KHR_DF_TRANSFER_LINEAR:()=>N,KHR_DF_TRANSFER_NTSC:()=>U,KHR_DF_TRANSFER_PAL625_EOTF:()=>dt,KHR_DF_TRANSFER_PAL_OETF:()=>et,KHR_DF_TRANSFER_PQ_EOTF:()=>Z,KHR_DF_TRANSFER_PQ_OETF:()=>j,KHR_DF_TRANSFER_SLOG:()=>V,KHR_DF_TRANSFER_SLOG2:()=>z,KHR_DF_TRANSFER_SRGB:()=>P,KHR_DF_TRANSFER_ST240:()=>ht,KHR_DF_TRANSFER_UNSPECIFIED:()=>D,KHR_DF_VENDORID_KHRONOS:()=>b,KHR_DF_VERSION:()=>v,KHR_SUPERCOMPRESSION_BASISLZ:()=>f,KHR_SUPERCOMPRESSION_NONE:()=>p,KHR_SUPERCOMPRESSION_ZLIB:()=>g,KHR_SUPERCOMPRESSION_ZSTD:()=>M,KTX2Container:()=>js,VK_FORMAT_A1R5G5B5_UNORM_PACK16:()=>Bt,VK_FORMAT_A2B10G10R10_SINT_PACK32:()=>tn,VK_FORMAT_A2B10G10R10_SNORM_PACK32:()=>Oe,VK_FORMAT_A2B10G10R10_UINT_PACK32:()=>Je,VK_FORMAT_A2B10G10R10_UNORM_PACK32:()=>$i,VK_FORMAT_A2R10G10B10_SINT_PACK32:()=>Mi,VK_FORMAT_A2R10G10B10_SNORM_PACK32:()=>Ue,VK_FORMAT_A2R10G10B10_UINT_PACK32:()=>ui,VK_FORMAT_A2R10G10B10_UNORM_PACK32:()=>Xe,VK_FORMAT_A4B4G4R4_UNORM_PACK16_EXT:()=>Qh,VK_FORMAT_A4R4G4B4_UNORM_PACK16_EXT:()=>Ql,VK_FORMAT_ASTC_10x10_SFLOAT_BLOCK_EXT:()=>E1,VK_FORMAT_ASTC_10x10_SRGB_BLOCK:()=>D9,VK_FORMAT_ASTC_10x10_UNORM_BLOCK:()=>fa,VK_FORMAT_ASTC_10x5_SFLOAT_BLOCK_EXT:()=>em,VK_FORMAT_ASTC_10x5_SRGB_BLOCK:()=>ha,VK_FORMAT_ASTC_10x5_UNORM_BLOCK:()=>lu,VK_FORMAT_ASTC_10x6_SFLOAT_BLOCK_EXT:()=>im,VK_FORMAT_ASTC_10x6_SRGB_BLOCK:()=>X3,VK_FORMAT_ASTC_10x6_UNORM_BLOCK:()=>br,VK_FORMAT_ASTC_10x8_SFLOAT_BLOCK_EXT:()=>nm,VK_FORMAT_ASTC_10x8_SRGB_BLOCK:()=>Hl,VK_FORMAT_ASTC_10x8_UNORM_BLOCK:()=>zs,VK_FORMAT_ASTC_12x10_SFLOAT_BLOCK_EXT:()=>$7,VK_FORMAT_ASTC_12x10_SRGB_BLOCK:()=>_7,VK_FORMAT_ASTC_12x10_UNORM_BLOCK:()=>Hh,VK_FORMAT_ASTC_12x12_SFLOAT_BLOCK_EXT:()=>G0,VK_FORMAT_ASTC_12x12_SRGB_BLOCK:()=>cu,VK_FORMAT_ASTC_12x12_UNORM_BLOCK:()=>E7,VK_FORMAT_ASTC_4x4_SFLOAT_BLOCK_EXT:()=>Hn,VK_FORMAT_ASTC_4x4_SRGB_BLOCK:()=>W3,VK_FORMAT_ASTC_4x4_UNORM_BLOCK:()=>j3,VK_FORMAT_ASTC_5x4_SFLOAT_BLOCK_EXT:()=>Vh,VK_FORMAT_ASTC_5x4_SRGB_BLOCK:()=>q3,VK_FORMAT_ASTC_5x4_UNORM_BLOCK:()=>K3,VK_FORMAT_ASTC_5x5_SFLOAT_BLOCK_EXT:()=>Y3,VK_FORMAT_ASTC_5x5_SRGB_BLOCK:()=>m7,VK_FORMAT_ASTC_5x5_UNORM_BLOCK:()=>su,VK_FORMAT_ASTC_6x5_SFLOAT_BLOCK_EXT:()=>J7,VK_FORMAT_ASTC_6x5_SRGB_BLOCK:()=>g7,VK_FORMAT_ASTC_6x5_UNORM_BLOCK:()=>p7,VK_FORMAT_ASTC_6x6_SFLOAT_BLOCK_EXT:()=>Vl,VK_FORMAT_ASTC_6x6_SRGB_BLOCK:()=>y7,VK_FORMAT_ASTC_6x6_UNORM_BLOCK:()=>M7,VK_FORMAT_ASTC_8x5_SFLOAT_BLOCK_EXT:()=>uu,VK_FORMAT_ASTC_8x5_SRGB_BLOCK:()=>v7,VK_FORMAT_ASTC_8x5_UNORM_BLOCK:()=>A7,VK_FORMAT_ASTC_8x6_SFLOAT_BLOCK_EXT:()=>Z3,VK_FORMAT_ASTC_8x6_SRGB_BLOCK:()=>C7,VK_FORMAT_ASTC_8x6_UNORM_BLOCK:()=>b7,VK_FORMAT_ASTC_8x8_SFLOAT_BLOCK_EXT:()=>tm,VK_FORMAT_ASTC_8x8_SRGB_BLOCK:()=>ho,VK_FORMAT_ASTC_8x8_UNORM_BLOCK:()=>Gh,VK_FORMAT_B10G11R11_UFLOAT_PACK32:()=>co,VK_FORMAT_B10X6G10X6R10X6G10X6_422_UNORM_4PACK16:()=>T7,VK_FORMAT_B12X4G12X4R12X4G12X4_422_UNORM_4PACK16:()=>P7,VK_FORMAT_B4G4R4A4_UNORM_PACK16:()=>Et,VK_FORMAT_B5G5R5A1_UNORM_PACK16:()=>tt,VK_FORMAT_B5G6R5_UNORM_PACK16:()=>ut,VK_FORMAT_B8G8R8A8_SINT:()=>le,VK_FORMAT_B8G8R8A8_SNORM:()=>k0,VK_FORMAT_B8G8R8A8_SRGB:()=>xe,VK_FORMAT_B8G8R8A8_UINT:()=>Xt,VK_FORMAT_B8G8R8A8_UNORM:()=>n9,VK_FORMAT_B8G8R8_SINT:()=>I0,VK_FORMAT_B8G8R8_SNORM:()=>Le,VK_FORMAT_B8G8R8_SRGB:()=>Gn,VK_FORMAT_B8G8R8_UINT:()=>yn,VK_FORMAT_B8G8R8_UNORM:()=>Tn,VK_FORMAT_BC1_RGBA_SRGB_BLOCK:()=>a9,VK_FORMAT_BC1_RGBA_UNORM_BLOCK:()=>ru,VK_FORMAT_BC1_RGB_SRGB_BLOCK:()=>nu,VK_FORMAT_BC1_RGB_UNORM_BLOCK:()=>_1,VK_FORMAT_BC2_SRGB_BLOCK:()=>ou,VK_FORMAT_BC2_UNORM_BLOCK:()=>au,VK_FORMAT_BC3_SRGB_BLOCK:()=>Qs,VK_FORMAT_BC3_UNORM_BLOCK:()=>t7,VK_FORMAT_BC4_SNORM_BLOCK:()=>i7,VK_FORMAT_BC4_UNORM_BLOCK:()=>e7,VK_FORMAT_BC5_SNORM_BLOCK:()=>r7,VK_FORMAT_BC5_UNORM_BLOCK:()=>n7,VK_FORMAT_BC6H_SFLOAT_BLOCK:()=>o7,VK_FORMAT_BC6H_UFLOAT_BLOCK:()=>a7,VK_FORMAT_BC7_SRGB_BLOCK:()=>l7,VK_FORMAT_BC7_UNORM_BLOCK:()=>s7,VK_FORMAT_D16_UNORM:()=>k9,VK_FORMAT_D16_UNORM_S8_UINT:()=>Nr,VK_FORMAT_D24_UNORM_S8_UINT:()=>O0,VK_FORMAT_D32_SFLOAT:()=>jr,VK_FORMAT_D32_SFLOAT_S8_UINT:()=>Po,VK_FORMAT_E5B9G9R9_UFLOAT_PACK32:()=>uo,VK_FORMAT_EAC_R11G11_SNORM_BLOCK:()=>$h,VK_FORMAT_EAC_R11G11_UNORM_BLOCK:()=>z3,VK_FORMAT_EAC_R11_SNORM_BLOCK:()=>Q3,VK_FORMAT_EAC_R11_UNORM_BLOCK:()=>V3,VK_FORMAT_ETC2_R8G8B8A1_SRGB_BLOCK:()=>h7,VK_FORMAT_ETC2_R8G8B8A1_UNORM_BLOCK:()=>d7,VK_FORMAT_ETC2_R8G8B8A8_SRGB_BLOCK:()=>Jh,VK_FORMAT_ETC2_R8G8B8A8_UNORM_BLOCK:()=>f7,VK_FORMAT_ETC2_R8G8B8_SRGB_BLOCK:()=>u7,VK_FORMAT_ETC2_R8G8B8_UNORM_BLOCK:()=>c7,VK_FORMAT_G10X6B10X6G10X6R10X6_422_UNORM_4PACK16:()=>x7,VK_FORMAT_G12X4B12X4G12X4R12X4_422_UNORM_4PACK16:()=>D7,VK_FORMAT_PVRTC1_2BPP_SRGB_BLOCK_IMG:()=>Fr,VK_FORMAT_PVRTC1_2BPP_UNORM_BLOCK_IMG:()=>k7,VK_FORMAT_PVRTC1_4BPP_SRGB_BLOCK_IMG:()=>jn,VK_FORMAT_PVRTC1_4BPP_UNORM_BLOCK_IMG:()=>L7,VK_FORMAT_PVRTC2_2BPP_SRGB_BLOCK_IMG:()=>U7,VK_FORMAT_PVRTC2_2BPP_UNORM_BLOCK_IMG:()=>N7,VK_FORMAT_PVRTC2_4BPP_SRGB_BLOCK_IMG:()=>yi,VK_FORMAT_PVRTC2_4BPP_UNORM_BLOCK_IMG:()=>F7,VK_FORMAT_R10X6G10X6B10X6A10X6_UNORM_4PACK16:()=>S7,VK_FORMAT_R10X6G10X6_UNORM_2PACK16:()=>O7,VK_FORMAT_R10X6_UNORM_PACK16:()=>w7,VK_FORMAT_R12X4G12X4B12X4A12X4_UNORM_4PACK16:()=>R7,VK_FORMAT_R12X4G12X4_UNORM_2PACK16:()=>B7,VK_FORMAT_R12X4_UNORM_PACK16:()=>I7,VK_FORMAT_R16G16B16A16_SFLOAT:()=>pi,VK_FORMAT_R16G16B16A16_SINT:()=>Ce,VK_FORMAT_R16G16B16A16_SNORM:()=>Zt,VK_FORMAT_R16G16B16A16_UINT:()=>Me,VK_FORMAT_R16G16B16A16_UNORM:()=>$t,VK_FORMAT_R16G16B16_SFLOAT:()=>Nt,VK_FORMAT_R16G16B16_SINT:()=>Mt,VK_FORMAT_R16G16B16_SNORM:()=>Xn,VK_FORMAT_R16G16B16_UINT:()=>ct,VK_FORMAT_R16G16B16_UNORM:()=>q0,VK_FORMAT_R16G16_SFLOAT:()=>Nn,VK_FORMAT_R16G16_SINT:()=>Gi,VK_FORMAT_R16G16_SNORM:()=>B0,VK_FORMAT_R16G16_UINT:()=>p9,VK_FORMAT_R16G16_UNORM:()=>Kn,VK_FORMAT_R16_SFLOAT:()=>Bn,VK_FORMAT_R16_SINT:()=>Pn,VK_FORMAT_R16_SNORM:()=>Sn,VK_FORMAT_R16_UINT:()=>v0,VK_FORMAT_R16_UNORM:()=>mn,VK_FORMAT_R32G32B32A32_SFLOAT:()=>R0,VK_FORMAT_R32G32B32A32_SINT:()=>b0,VK_FORMAT_R32G32B32A32_UINT:()=>wn,VK_FORMAT_R32G32B32_SFLOAT:()=>Rn,VK_FORMAT_R32G32B32_SINT:()=>Un,VK_FORMAT_R32G32B32_UINT:()=>pn,VK_FORMAT_R32G32_SFLOAT:()=>wi,VK_FORMAT_R32G32_SINT:()=>Se,VK_FORMAT_R32G32_UINT:()=>Ei,VK_FORMAT_R32_SFLOAT:()=>si,VK_FORMAT_R32_SINT:()=>Re,VK_FORMAT_R32_UINT:()=>hi,VK_FORMAT_R4G4B4A4_UNORM_PACK16:()=>Tt,VK_FORMAT_R4G4_UNORM_PACK8:()=>Ht,VK_FORMAT_R5G5B5A1_UNORM_PACK16:()=>X,VK_FORMAT_R5G6B5_UNORM_PACK16:()=>Lt,VK_FORMAT_R64G64B64A64_SFLOAT:()=>lo,VK_FORMAT_R64G64B64A64_SINT:()=>zr,VK_FORMAT_R64G64B64A64_UINT:()=>da,VK_FORMAT_R64G64B64_SFLOAT:()=>Lr,VK_FORMAT_R64G64B64_SINT:()=>Z9,VK_FORMAT_R64G64B64_UINT:()=>g9,VK_FORMAT_R64G64_SFLOAT:()=>R9,VK_FORMAT_R64G64_SINT:()=>w9,VK_FORMAT_R64G64_UINT:()=>E9,VK_FORMAT_R64_SFLOAT:()=>B9,VK_FORMAT_R64_SINT:()=>W0,VK_FORMAT_R64_UINT:()=>r9,VK_FORMAT_R8G8B8A8_SINT:()=>_i,VK_FORMAT_R8G8B8A8_SNORM:()=>Hi,VK_FORMAT_R8G8B8A8_SRGB:()=>dn,VK_FORMAT_R8G8B8A8_UINT:()=>f0,VK_FORMAT_R8G8B8A8_UNORM:()=>ai,VK_FORMAT_R8G8B8_SINT:()=>Di,VK_FORMAT_R8G8B8_SNORM:()=>Ge,VK_FORMAT_R8G8B8_SRGB:()=>ni,VK_FORMAT_R8G8B8_UINT:()=>ke,VK_FORMAT_R8G8B8_UNORM:()=>ji,VK_FORMAT_R8G8_SINT:()=>zi,VK_FORMAT_R8G8_SNORM:()=>Ne,VK_FORMAT_R8G8_SRGB:()=>Ve,VK_FORMAT_R8G8_UINT:()=>li,VK_FORMAT_R8G8_UNORM:()=>we,VK_FORMAT_R8_SINT:()=>se,VK_FORMAT_R8_SNORM:()=>jt,VK_FORMAT_R8_SRGB:()=>Be,VK_FORMAT_R8_UINT:()=>ne,VK_FORMAT_R8_UNORM:()=>Qt,VK_FORMAT_S8_UINT:()=>cs,VK_FORMAT_UNDEFINED:()=>_t,VK_FORMAT_X8_D24_UNORM_PACK32:()=>Ha,read:()=>D0,write:()=>S1});var h=u("./node_modules/buffer/index.js").Buffer;const p=0,f=1,M=2,g=3,y=0,b=0,v=2,C=0,w=1,_=160,E=161,S=162,I=163,T=0,k=1,D=0,N=1,P=2,F=3,U=4,V=5,z=6,G=7,H=8,J=9,Z=10,j=11,W=12,et=13,dt=14,ht=15,st=16,St=17,At=18,xt=0,gt=1,yt=2,lt=3,zt=4,kt=5,Jt=6,Gt=7,ce=8,ae=9,qt=10,ue=11,$e=0,ve=1,He=2,qe=13,ri=14,oi=15,oe=128,fe=64,pe=32,Ot=16,_t=0,Ht=1,Tt=2,Et=3,Lt=4,ut=5,X=6,tt=7,Bt=8,Qt=9,jt=10,ne=13,se=14,Be=15,we=16,Ne=17,li=20,zi=21,Ve=22,ji=23,Ge=24,ke=27,Di=28,ni=29,Tn=30,Le=31,yn=34,I0=35,Gn=36,ai=37,Hi=38,f0=41,_i=42,dn=43,n9=44,k0=45,Xt=48,le=49,xe=50,Xe=58,Ue=59,ui=62,Mi=63,$i=64,Oe=65,Je=68,tn=69,mn=70,Sn=71,v0=74,Pn=75,Bn=76,Kn=77,B0=78,p9=81,Gi=82,Nn=83,q0=84,Xn=85,ct=88,Mt=89,Nt=90,$t=91,Zt=92,Me=95,Ce=96,pi=97,hi=98,Re=99,si=100,Ei=101,Se=102,wi=103,pn=104,Un=105,Rn=106,wn=107,b0=108,R0=109,r9=110,W0=111,B9=112,E9=113,w9=114,R9=115,g9=116,Z9=117,Lr=118,da=119,zr=120,lo=121,co=122,uo=123,k9=124,Ha=125,jr=126,cs=127,Nr=128,O0=129,Po=130,_1=131,nu=132,ru=133,a9=134,au=135,ou=136,t7=137,Qs=138,e7=139,i7=140,n7=141,r7=142,a7=143,o7=144,s7=145,l7=146,c7=147,u7=148,d7=149,h7=150,f7=151,Jh=152,V3=153,Q3=154,z3=155,$h=156,j3=157,W3=158,K3=159,q3=160,su=161,m7=162,p7=163,g7=164,M7=165,y7=166,A7=167,v7=168,b7=169,C7=170,Gh=171,ho=172,lu=173,ha=174,br=175,X3=176,zs=177,Hl=178,fa=179,D9=180,Hh=181,_7=182,E7=183,cu=184,w7=1000156007,O7=1000156008,S7=1000156009,x7=1000156010,T7=1000156011,I7=1000156017,B7=1000156018,R7=1000156019,D7=1000156020,P7=1000156021,k7=1000054e3,L7=1000054001,N7=1000054002,F7=1000054003,Fr=1000054004,jn=1000054005,U7=1000054006,yi=1000054007,Hn=1000066e3,Vh=1000066001,Y3=1000066002,J7=1000066003,Vl=1000066004,uu=1000066005,Z3=1000066006,tm=1000066007,em=1000066008,im=1000066009,nm=1000066010,E1=1000066011,$7=1000066012,G0=1000066013,Ql=100034e4,Qh=1000340001;class js{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class zl{constructor(Vn,w0,L0,ie){this._dataView=new DataView(Vn.buffer,Vn.byteOffset+w0,L0),this._littleEndian=ie,this._offset=0}_nextUint8(){const Vn=this._dataView.getUint8(this._offset);return this._offset+=1,Vn}_nextUint16(){const Vn=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,Vn}_nextUint32(){const Vn=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,Vn}_nextUint64(){const Vn=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,Vn}_nextInt32(){const Vn=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,Vn}_skip(Vn){return this._offset+=Vn,this}_scan(Vn,w0=0){const L0=this._offset;let ie=0;for(;this._dataView.getUint8(this._offset)!==w0&&ie<Vn;)ie++,this._offset++;return ie<Vn&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+L0,ie)}}const rm=new Uint8Array([0]),O9=[171,75,84,88,32,50,48,187,13,10,26,10];function w1(hn){return typeof TextEncoder<"u"?new TextEncoder().encode(hn):h.from(hn)}function am(hn){return typeof TextDecoder<"u"?new TextDecoder().decode(hn):h.from(hn).toString("utf8")}function u9(hn){let Vn=0;for(const ie of hn)Vn+=ie.byteLength;const w0=new Uint8Array(Vn);let L0=0;for(const ie of hn)w0.set(new Uint8Array(ie),L0),L0+=ie.byteLength;return w0}function D0(hn){const Vn=new Uint8Array(hn.buffer,hn.byteOffset,O9.length);if(Vn[0]!==O9[0]||Vn[1]!==O9[1]||Vn[2]!==O9[2]||Vn[3]!==O9[3]||Vn[4]!==O9[4]||Vn[5]!==O9[5]||Vn[6]!==O9[6]||Vn[7]!==O9[7]||Vn[8]!==O9[8]||Vn[9]!==O9[9]||Vn[10]!==O9[10]||Vn[11]!==O9[11])throw new Error("Missing KTX 2.0 identifier.");const w0=new js,L0=17*Uint32Array.BYTES_PER_ELEMENT,ie=new zl(hn,O9.length,L0,!0);w0.vkFormat=ie._nextUint32(),w0.typeSize=ie._nextUint32(),w0.pixelWidth=ie._nextUint32(),w0.pixelHeight=ie._nextUint32(),w0.pixelDepth=ie._nextUint32(),w0.layerCount=ie._nextUint32(),w0.faceCount=ie._nextUint32();const Va=ie._nextUint32();w0.supercompressionScheme=ie._nextUint32();const H9=ie._nextUint32(),L9=ie._nextUint32(),C0=ie._nextUint32(),Wr=ie._nextUint32(),us=ie._nextUint64(),xa=ie._nextUint64(),Cr=new zl(hn,O9.length+L0,3*Va*8,!0);for(let ur=0;ur<Va;ur++)w0.levels.push({levelData:new Uint8Array(hn.buffer,hn.byteOffset+Cr._nextUint64(),Cr._nextUint64()),uncompressedByteLength:Cr._nextUint64()});const n0=new zl(hn,H9,L9,!0),Ur={vendorId:n0._skip(4)._nextUint16(),descriptorType:n0._nextUint16(),versionNumber:n0._nextUint16(),descriptorBlockSize:n0._nextUint16(),colorModel:n0._nextUint8(),colorPrimaries:n0._nextUint8(),transferFunction:n0._nextUint8(),flags:n0._nextUint8(),texelBlockDimension:[n0._nextUint8(),n0._nextUint8(),n0._nextUint8(),n0._nextUint8()],bytesPlane:[n0._nextUint8(),n0._nextUint8(),n0._nextUint8(),n0._nextUint8(),n0._nextUint8(),n0._nextUint8(),n0._nextUint8(),n0._nextUint8()],samples:[]},Qa=(Ur.descriptorBlockSize/4-6)/4;for(let ur=0;ur<Qa;ur++){const gn={bitOffset:n0._nextUint16(),bitLength:n0._nextUint8(),channelType:n0._nextUint8(),samplePosition:[n0._nextUint8(),n0._nextUint8(),n0._nextUint8(),n0._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&gn.channelType?(gn.sampleLower=n0._nextInt32(),gn.sampleUpper=n0._nextInt32()):(gn.sampleLower=n0._nextUint32(),gn.sampleUpper=n0._nextUint32()),Ur.samples[ur]=gn}w0.dataFormatDescriptor.length=0,w0.dataFormatDescriptor.push(Ur);const _r=new zl(hn,C0,Wr,!0);for(;_r._offset<Wr;){const ur=_r._nextUint32(),gn=_r._scan(ur),Ks=am(gn),Ta=_r._scan(ur-gn.byteLength);w0.keyValue[Ks]=Ks.match(/^ktx/i)?am(Ta):Ta,_r._offset%4&&_r._skip(4-_r._offset%4)}if(xa<=0)return w0;const S0=new zl(hn,us,xa,!0),X0=S0._nextUint16(),r0=S0._nextUint16(),x0=S0._nextUint32(),ma=S0._nextUint32(),jl=S0._nextUint32(),Ws=S0._nextUint32(),x1=[];for(let ur=0;ur<Va;ur++)x1.push({imageFlags:S0._nextUint32(),rgbSliceByteOffset:S0._nextUint32(),rgbSliceByteLength:S0._nextUint32(),alphaSliceByteOffset:S0._nextUint32(),alphaSliceByteLength:S0._nextUint32()});const cr=us+S0._offset,fo=cr+x0,T1=fo+ma,I1=T1+jl,ds=new Uint8Array(hn.buffer,hn.byteOffset+cr,x0),zh=new Uint8Array(hn.buffer,hn.byteOffset+fo,ma),B1=new Uint8Array(hn.buffer,hn.byteOffset+T1,jl),jh=new Uint8Array(hn.buffer,hn.byteOffset+I1,Ws);return w0.globalData={endpointCount:X0,selectorCount:r0,imageDescs:x1,endpointsData:ds,selectorsData:zh,tablesData:B1,extendedData:jh},w0}function O1(){return(O1=Object.assign||function(hn){for(var Vn=1;Vn<arguments.length;Vn++){var w0=arguments[Vn];for(var L0 in w0)Object.prototype.hasOwnProperty.call(w0,L0)&&(hn[L0]=w0[L0])}return hn}).apply(this,arguments)}const Sa={keepWriter:!1};function S1(hn,Vn={}){Vn=O1({},Sa,Vn);let w0=new ArrayBuffer(0);if(hn.globalData){const X0=new ArrayBuffer(20+5*hn.globalData.imageDescs.length*4),r0=new DataView(X0);r0.setUint16(0,hn.globalData.endpointCount,!0),r0.setUint16(2,hn.globalData.selectorCount,!0),r0.setUint32(4,hn.globalData.endpointsData.byteLength,!0),r0.setUint32(8,hn.globalData.selectorsData.byteLength,!0),r0.setUint32(12,hn.globalData.tablesData.byteLength,!0),r0.setUint32(16,hn.globalData.extendedData.byteLength,!0);for(let x0=0;x0<hn.globalData.imageDescs.length;x0++){const ma=hn.globalData.imageDescs[x0];r0.setUint32(20+5*x0*4+0,ma.imageFlags,!0),r0.setUint32(20+5*x0*4+4,ma.rgbSliceByteOffset,!0),r0.setUint32(20+5*x0*4+8,ma.rgbSliceByteLength,!0),r0.setUint32(20+5*x0*4+12,ma.alphaSliceByteOffset,!0),r0.setUint32(20+5*x0*4+16,ma.alphaSliceByteLength,!0)}w0=u9([X0,hn.globalData.endpointsData,hn.globalData.selectorsData,hn.globalData.tablesData,hn.globalData.extendedData])}const L0=[];let ie=hn.keyValue;Vn.keepWriter||(ie=O1({},hn.keyValue,{KTXwriter:"KTX-Parse v0.3.1"}));for(const X0 in ie){const r0=ie[X0],x0=w1(X0),ma=typeof r0=="string"?w1(r0):r0,jl=x0.byteLength+1+ma.byteLength+1,Ws=jl%4?4-jl%4:0;L0.push(u9([new Uint32Array([jl]),x0,rm,ma,rm,new Uint8Array(Ws).fill(0)]))}const Va=u9(L0);if(hn.dataFormatDescriptor.length!==1||hn.dataFormatDescriptor[0].descriptorType!==0)throw new Error("Only BASICFORMAT Data Format Descriptor output supported.");const H9=hn.dataFormatDescriptor[0],L9=new ArrayBuffer(28+16*H9.samples.length),C0=new DataView(L9),Wr=24+16*H9.samples.length;if(C0.setUint32(0,L9.byteLength,!0),C0.setUint16(4,H9.vendorId,!0),C0.setUint16(6,H9.descriptorType,!0),C0.setUint16(8,H9.versionNumber,!0),C0.setUint16(10,Wr,!0),C0.setUint8(12,H9.colorModel),C0.setUint8(13,H9.colorPrimaries),C0.setUint8(14,H9.transferFunction),C0.setUint8(15,H9.flags),!Array.isArray(H9.texelBlockDimension))throw new Error("texelBlockDimension is now an array. For dimensionality `d`, set `d - 1`.");C0.setUint8(16,H9.texelBlockDimension[0]),C0.setUint8(17,H9.texelBlockDimension[1]),C0.setUint8(18,H9.texelBlockDimension[2]),C0.setUint8(19,H9.texelBlockDimension[3]);for(let X0=0;X0<8;X0++)C0.setUint8(20+X0,H9.bytesPlane[X0]);for(let X0=0;X0<H9.samples.length;X0++){const r0=H9.samples[X0],x0=28+16*X0;if(r0.channelID)throw new Error("channelID has been renamed to channelType.");C0.setUint16(x0+0,r0.bitOffset,!0),C0.setUint8(x0+2,r0.bitLength),C0.setUint8(x0+3,r0.channelType),C0.setUint8(x0+4,r0.samplePosition[0]),C0.setUint8(x0+5,r0.samplePosition[1]),C0.setUint8(x0+6,r0.samplePosition[2]),C0.setUint8(x0+7,r0.samplePosition[3]),64&r0.channelType?(C0.setInt32(x0+8,r0.sampleLower,!0),C0.setInt32(x0+12,r0.sampleUpper,!0)):(C0.setUint32(x0+8,r0.sampleLower,!0),C0.setUint32(x0+12,r0.sampleUpper,!0))}const us=O9.length+68+3*hn.levels.length*8,xa=us+L9.byteLength;let Cr=w0.byteLength>0?xa+Va.byteLength:0;Cr%8&&(Cr+=8-Cr%8);const n0=[],Ur=new DataView(new ArrayBuffer(3*hn.levels.length*8));let Qa=(Cr||xa+Va.byteLength)+w0.byteLength;for(let X0=0;X0<hn.levels.length;X0++){const r0=hn.levels[X0];n0.push(r0.levelData),Ur.setBigUint64(24*X0+0,BigInt(Qa),!0),Ur.setBigUint64(24*X0+8,BigInt(r0.levelData.byteLength),!0),Ur.setBigUint64(24*X0+16,BigInt(r0.uncompressedByteLength),!0),Qa+=r0.levelData.byteLength}const _r=new ArrayBuffer(68),S0=new DataView(_r);return S0.setUint32(0,hn.vkFormat,!0),S0.setUint32(4,hn.typeSize,!0),S0.setUint32(8,hn.pixelWidth,!0),S0.setUint32(12,hn.pixelHeight,!0),S0.setUint32(16,hn.pixelDepth,!0),S0.setUint32(20,hn.layerCount,!0),S0.setUint32(24,hn.faceCount,!0),S0.setUint32(28,hn.levels.length,!0),S0.setUint32(32,hn.supercompressionScheme,!0),S0.setUint32(36,us,!0),S0.setUint32(40,L9.byteLength,!0),S0.setUint32(44,xa,!0),S0.setUint32(48,Va.byteLength,!0),S0.setBigUint64(52,BigInt(w0.byteLength>0?Cr:0),!0),S0.setBigUint64(60,BigInt(w0.byteLength),!0),new Uint8Array(u9([new Uint8Array(O9).buffer,_r,Ur.buffer,L9,Va,Cr>0?new ArrayBuffer(Cr-(xa+Va.byteLength)):new ArrayBuffer(0),w0,...n0]))}},"./node_modules/three/examples/jsm/libs/zstddec.module.js":(c,d,u)=>{u.r(d),u.d(d,{ZSTDDecoder:()=>y});var h=u("./node_modules/buffer/index.js").Buffer;let p,f,M;const g={env:{emscripten_notify_memory_growth:function(v){M=new Uint8Array(f.exports.memory.buffer)}}};class y{init(){return p||(p=typeof fetch<"u"?fetch("data:application/wasm;base64,"+b).then(C=>C.arrayBuffer()).then(C=>WebAssembly.instantiate(C,g)).then(this._init):WebAssembly.instantiate(h.from(b,"base64"),g).then(this._init),p)}_init(C){f=C.instance,g.env.emscripten_notify_memory_growth(0)}decode(C,w=0){if(!f)throw new Error("ZSTDDecoder: Await .init() before decoding.");const _=C.byteLength,E=f.exports.malloc(_);M.set(C,E),w=w||Number(f.exports.ZSTD_findDecompressedSize(E,_));const S=f.exports.malloc(w),I=f.exports.ZSTD_decompress(S,w,E,_),T=M.slice(S,S+I);return f.exports.free(E),f.exports.free(S),T}}const b="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ"},"./node_modules/three/examples/jsm/lights/LightProbeGenerator.js":(c,d,u)=>{u.r(d),u.d(d,{LightProbeGenerator:()=>p});var h=u("./node_modules/three/build/three.module.js");class p{static fromCubeTexture(g){let y=0;const b=new h.Vector3,v=new h.Vector3,C=new h.Color,w=[0,0,0,0,0,0,0,0,0],_=new h.SphericalHarmonics3,E=_.coefficients;for(let I=0;I<6;I++){const T=g.image[I],k=T.width,D=T.height,N=document.createElement("canvas");N.width=k,N.height=D;const P=N.getContext("2d");P.drawImage(T,0,0,k,D);const F=P.getImageData(0,0,k,D),U=F.data,V=F.width,z=2/V;for(let G=0,H=U.length;G<H;G+=4){C.setRGB(U[G]/255,U[G+1]/255,U[G+2]/255),f(C,g.colorSpace);const J=G/4,Z=-1+(J%V+.5)*z,j=1-(Math.floor(J/V)+.5)*z;switch(I){case 0:b.set(-1,j,-Z);break;case 1:b.set(1,j,Z);break;case 2:b.set(-Z,1,-j);break;case 3:b.set(-Z,-1,j);break;case 4:b.set(-Z,j,1);break;case 5:b.set(Z,j,-1);break}const W=b.lengthSq(),et=4/(Math.sqrt(W)*W);y+=et,v.copy(b).normalize(),h.SphericalHarmonics3.getBasisAt(v,w);for(let dt=0;dt<9;dt++)E[dt].x+=w[dt]*C.r*et,E[dt].y+=w[dt]*C.g*et,E[dt].z+=w[dt]*C.b*et}}const S=4*Math.PI/y;for(let I=0;I<9;I++)E[I].x*=S,E[I].y*=S,E[I].z*=S;return new h.LightProbe(_)}static fromCubeRenderTarget(g,y){let b=0;const v=new h.Vector3,C=new h.Vector3,w=new h.Color,_=[0,0,0,0,0,0,0,0,0],E=new h.SphericalHarmonics3,S=E.coefficients,I=y.texture.type;for(let k=0;k<6;k++){const D=y.width;let N;I===h.HalfFloatType?N=new Uint16Array(D*D*4):N=new Uint8Array(D*D*4),g.readRenderTargetPixels(y,0,0,D,D,N,k);const P=2/D;for(let F=0,U=N.length;F<U;F+=4){let V,z,G;I===h.HalfFloatType?(V=h.DataUtils.fromHalfFloat(N[F]),z=h.DataUtils.fromHalfFloat(N[F+1]),G=h.DataUtils.fromHalfFloat(N[F+2])):(V=N[F]/255,z=N[F+1]/255,G=N[F+2]/255),w.setRGB(V,z,G),f(w,y.texture.colorSpace);const H=F/4,J=-1+(H%D+.5)*P,Z=1-(Math.floor(H/D)+.5)*P;switch(k){case 0:v.set(1,Z,-J);break;case 1:v.set(-1,Z,J);break;case 2:v.set(J,1,-Z);break;case 3:v.set(J,-1,Z);break;case 4:v.set(J,Z,1);break;case 5:v.set(-J,Z,-1);break}const j=v.lengthSq(),W=4/(Math.sqrt(j)*j);b+=W,C.copy(v).normalize(),h.SphericalHarmonics3.getBasisAt(C,_);for(let et=0;et<9;et++)S[et].x+=_[et]*w.r*W,S[et].y+=_[et]*w.g*W,S[et].z+=_[et]*w.b*W}}const T=4*Math.PI/b;for(let k=0;k<9;k++)S[k].x*=T,S[k].y*=T,S[k].z*=T;return new h.LightProbe(E)}}function f(M,g){switch(g){case h.SRGBColorSpace:M.convertSRGBToLinear();break;case h.LinearSRGBColorSpace:case h.NoColorSpace:break;default:console.warn("WARNING: LightProbeGenerator convertColorToLinear() encountered an unsupported color space.");break}return M}},"./node_modules/three/examples/jsm/loaders/DRACOLoader.js":(c,d,u)=>{u.r(d),u.d(d,{DRACOLoader:()=>f});var h=u("./node_modules/three/build/three.module.js");const p=new WeakMap;class f extends h.Loader{constructor(y){super(y),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(y){return this.decoderPath=y,this}setDecoderConfig(y){return this.decoderConfig=y,this}setWorkerLimit(y){return this.workerLimit=y,this}load(y,b,v,C){const w=new h.FileLoader(this.manager);w.setPath(this.path),w.setResponseType("arraybuffer"),w.setRequestHeader(this.requestHeader),w.setWithCredentials(this.withCredentials),w.load(y,_=>{this.parse(_,b,C)},v,C)}parse(y,b,v=()=>{}){this.decodeDracoFile(y,b,null,null,h.SRGBColorSpace).catch(v)}decodeDracoFile(y,b,v,C,w=h.LinearSRGBColorSpace,_=()=>{}){const E={attributeIDs:v||this.defaultAttributeIDs,attributeTypes:C||this.defaultAttributeTypes,useUniqueIDs:!!v,vertexColorSpace:w};return this.decodeGeometry(y,E).then(b).catch(_)}decodeGeometry(y,b){const v=JSON.stringify(b);if(p.has(y)){const S=p.get(y);if(S.key===v)return S.promise;if(y.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let C;const w=this.workerNextTaskID++,_=y.byteLength,E=this._getWorker(w,_).then(S=>(C=S,new Promise((I,T)=>{C._callbacks[w]={resolve:I,reject:T},C.postMessage({type:"decode",id:w,taskConfig:b,buffer:y},[y])}))).then(S=>this._createGeometry(S.geometry));return E.catch(()=>!0).then(()=>{C&&w&&this._releaseTask(C,w)}),p.set(y,{key:v,promise:E}),E}_createGeometry(y){const b=new h.BufferGeometry;y.index&&b.setIndex(new h.BufferAttribute(y.index.array,1));for(let v=0;v<y.attributes.length;v++){const C=y.attributes[v],w=C.name,_=C.array,E=C.itemSize,S=new h.BufferAttribute(_,E);w==="color"&&(this._assignVertexColorSpace(S,C.vertexColorSpace),S.normalized=!(_ instanceof Float32Array)),b.setAttribute(w,S)}return b}_assignVertexColorSpace(y,b){if(b!==h.SRGBColorSpace)return;const v=new h.Color;for(let C=0,w=y.count;C<w;C++)v.fromBufferAttribute(y,C).convertSRGBToLinear(),y.setXYZ(C,v.r,v.g,v.b)}_loadLibrary(y,b){const v=new h.FileLoader(this.manager);return v.setPath(this.decoderPath),v.setResponseType(b),v.setWithCredentials(this.withCredentials),new Promise((C,w)=>{v.load(y,C,void 0,w)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const y=typeof WebAssembly!="object"||this.decoderConfig.type==="js",b=[];return y?b.push(this._loadLibrary("draco_decoder.js","text")):(b.push(this._loadLibrary("draco_wasm_wrapper.js","text")),b.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(b).then(v=>{const C=v[0];y||(this.decoderConfig.wasmBinary=v[1]);const w=M.toString(),_=["/* draco decoder */",C,"","/* worker */",w.substring(w.indexOf("{")+1,w.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([_]))}),this.decoderPending}_getWorker(y,b){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const C=new Worker(this.workerSourceURL);C._callbacks={},C._taskCosts={},C._taskLoad=0,C.postMessage({type:"init",decoderConfig:this.decoderConfig}),C.onmessage=function(w){const _=w.data;switch(_.type){case"decode":C._callbacks[_.id].resolve(_);break;case"error":C._callbacks[_.id].reject(_);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+_.type+'"')}},this.workerPool.push(C)}else this.workerPool.sort(function(C,w){return C._taskLoad>w._taskLoad?-1:1});const v=this.workerPool[this.workerPool.length-1];return v._taskCosts[y]=b,v._taskLoad+=b,v})}_releaseTask(y,b){y._taskLoad-=y._taskCosts[b],delete y._callbacks[b],delete y._taskCosts[b]}debug(){console.log("Task load: ",this.workerPool.map(y=>y._taskLoad))}dispose(){for(let y=0;y<this.workerPool.length;++y)this.workerPool[y].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function M(){let g,y;onmessage=function(_){const E=_.data;switch(E.type){case"init":g=E.decoderConfig,y=new Promise(function(T){g.onModuleLoaded=function(k){T({draco:k})},DracoDecoderModule(g)});break;case"decode":const S=E.buffer,I=E.taskConfig;y.then(T=>{const k=T.draco,D=new k.Decoder;try{const N=b(k,D,new Int8Array(S),I),P=N.attributes.map(F=>F.array.buffer);N.index&&P.push(N.index.array.buffer),self.postMessage({type:"decode",id:E.id,geometry:N},P)}catch(N){console.error(N),self.postMessage({type:"error",id:E.id,error:N.message})}finally{k.destroy(D)}});break}};function b(_,E,S,I){const T=I.attributeIDs,k=I.attributeTypes;let D,N;const P=E.GetEncodedGeometryType(S);if(P===_.TRIANGULAR_MESH)D=new _.Mesh,N=E.DecodeArrayToMesh(S,S.byteLength,D);else if(P===_.POINT_CLOUD)D=new _.PointCloud,N=E.DecodeArrayToPointCloud(S,S.byteLength,D);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!N.ok()||D.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+N.error_msg());const F={index:null,attributes:[]};for(const U in T){const V=self[k[U]];let z,G;if(I.useUniqueIDs)G=T[U],z=E.GetAttributeByUniqueId(D,G);else{if(G=E.GetAttributeId(D,_[T[U]]),G===-1)continue;z=E.GetAttribute(D,G)}const H=C(_,E,D,U,V,z);U==="color"&&(H.vertexColorSpace=I.vertexColorSpace),F.attributes.push(H)}return P===_.TRIANGULAR_MESH&&(F.index=v(_,E,D)),_.destroy(D),F}function v(_,E,S){const T=S.num_faces()*3,k=T*4,D=_._malloc(k);E.GetTrianglesUInt32Array(S,k,D);const N=new Uint32Array(_.HEAPF32.buffer,D,T).slice();return _._free(D),{array:N,itemSize:1}}function C(_,E,S,I,T,k){const D=k.num_components(),P=S.num_points()*D,F=P*T.BYTES_PER_ELEMENT,U=w(_,T),V=_._malloc(F);E.GetAttributeDataArrayForAllPoints(S,k,U,F,V);const z=new T(_.HEAPF32.buffer,V,P).slice();return _._free(V),{name:I,array:z,itemSize:D}}function w(_,E){switch(E){case Float32Array:return _.DT_FLOAT32;case Int8Array:return _.DT_INT8;case Int16Array:return _.DT_INT16;case Int32Array:return _.DT_INT32;case Uint8Array:return _.DT_UINT8;case Uint16Array:return _.DT_UINT16;case Uint32Array:return _.DT_UINT32}}}},"./node_modules/three/examples/jsm/loaders/GLTFLoader.js":(c,d,u)=>{u.r(d),u.d(d,{GLTFLoader:()=>f});var h=u("./node_modules/three/build/three.module.js"),p=u("./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js");class f extends h.Loader{constructor(Ot){super(Ot),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(_t){return new C(_t)}),this.register(function(_t){return new w(_t)}),this.register(function(_t){return new P(_t)}),this.register(function(_t){return new F(_t)}),this.register(function(_t){return new U(_t)}),this.register(function(_t){return new E(_t)}),this.register(function(_t){return new S(_t)}),this.register(function(_t){return new I(_t)}),this.register(function(_t){return new T(_t)}),this.register(function(_t){return new v(_t)}),this.register(function(_t){return new k(_t)}),this.register(function(_t){return new _(_t)}),this.register(function(_t){return new N(_t)}),this.register(function(_t){return new D(_t)}),this.register(function(_t){return new y(_t)}),this.register(function(_t){return new V(_t)}),this.register(function(_t){return new z(_t)})}load(Ot,_t,Ht,Tt){const Et=this;let Lt;if(this.resourcePath!=="")Lt=this.resourcePath;else if(this.path!==""){const tt=h.LoaderUtils.extractUrlBase(Ot);Lt=h.LoaderUtils.resolveURL(tt,this.path)}else Lt=h.LoaderUtils.extractUrlBase(Ot);this.manager.itemStart(Ot);const ut=function(tt){Tt?Tt(tt):console.error(tt),Et.manager.itemError(Ot),Et.manager.itemEnd(Ot)},X=new h.FileLoader(this.manager);X.setPath(this.path),X.setResponseType("arraybuffer"),X.setRequestHeader(this.requestHeader),X.setWithCredentials(this.withCredentials),X.load(Ot,function(tt){try{Et.parse(tt,Lt,function(Bt){_t(Bt),Et.manager.itemEnd(Ot)},ut)}catch(Bt){ut(Bt)}},Ht,ut)}setDRACOLoader(Ot){return this.dracoLoader=Ot,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(Ot){return this.ktx2Loader=Ot,this}setMeshoptDecoder(Ot){return this.meshoptDecoder=Ot,this}register(Ot){return this.pluginCallbacks.indexOf(Ot)===-1&&this.pluginCallbacks.push(Ot),this}unregister(Ot){return this.pluginCallbacks.indexOf(Ot)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(Ot),1),this}parse(Ot,_t,Ht,Tt){let Et;const Lt={},ut={},X=new TextDecoder;if(typeof Ot=="string")Et=JSON.parse(Ot);else if(Ot instanceof ArrayBuffer)if(X.decode(new Uint8Array(Ot,0,4))===G){try{Lt[g.KHR_BINARY_GLTF]=new Z(Ot)}catch(Qt){Tt&&Tt(Qt);return}Et=JSON.parse(Lt[g.KHR_BINARY_GLTF].content)}else Et=JSON.parse(X.decode(Ot));else Et=Ot;if(Et.asset===void 0||Et.asset.version[0]<2){Tt&&Tt(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const tt=new oi(Et,{path:_t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});tt.fileLoader.setRequestHeader(this.requestHeader);for(let Bt=0;Bt<this.pluginCallbacks.length;Bt++){const Qt=this.pluginCallbacks[Bt](tt);Qt.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),ut[Qt.name]=Qt,Lt[Qt.name]=!0}if(Et.extensionsUsed)for(let Bt=0;Bt<Et.extensionsUsed.length;++Bt){const Qt=Et.extensionsUsed[Bt],jt=Et.extensionsRequired||[];switch(Qt){case g.KHR_MATERIALS_UNLIT:Lt[Qt]=new b;break;case g.KHR_DRACO_MESH_COMPRESSION:Lt[Qt]=new j(Et,this.dracoLoader);break;case g.KHR_TEXTURE_TRANSFORM:Lt[Qt]=new W;break;case g.KHR_MESH_QUANTIZATION:Lt[Qt]=new et;break;default:jt.indexOf(Qt)>=0&&ut[Qt]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+Qt+'".')}}tt.setExtensions(Lt),tt.setPlugins(ut),tt.parse(Ht,Tt)}parseAsync(Ot,_t){const Ht=this;return new Promise(function(Tt,Et){Ht.parse(Ot,_t,Tt,Et)})}}function M(){let pe={};return{get:function(Ot){return pe[Ot]},add:function(Ot,_t){pe[Ot]=_t},remove:function(Ot){delete pe[Ot]},removeAll:function(){pe={}}}}const g={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class y{constructor(Ot){this.parser=Ot,this.name=g.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const Ot=this.parser,_t=this.parser.json.nodes||[];for(let Ht=0,Tt=_t.length;Ht<Tt;Ht++){const Et=_t[Ht];Et.extensions&&Et.extensions[this.name]&&Et.extensions[this.name].light!==void 0&&Ot._addNodeRef(this.cache,Et.extensions[this.name].light)}}_loadLight(Ot){const _t=this.parser,Ht="light:"+Ot;let Tt=_t.cache.get(Ht);if(Tt)return Tt;const Et=_t.json,X=((Et.extensions&&Et.extensions[this.name]||{}).lights||[])[Ot];let tt;const Bt=new h.Color(16777215);X.color!==void 0&&Bt.setRGB(X.color[0],X.color[1],X.color[2],h.LinearSRGBColorSpace);const Qt=X.range!==void 0?X.range:0;switch(X.type){case"directional":tt=new h.DirectionalLight(Bt),tt.target.position.set(0,0,-1),tt.add(tt.target);break;case"point":tt=new h.PointLight(Bt),tt.distance=Qt;break;case"spot":tt=new h.SpotLight(Bt),tt.distance=Qt,X.spot=X.spot||{},X.spot.innerConeAngle=X.spot.innerConeAngle!==void 0?X.spot.innerConeAngle:0,X.spot.outerConeAngle=X.spot.outerConeAngle!==void 0?X.spot.outerConeAngle:Math.PI/4,tt.angle=X.spot.outerConeAngle,tt.penumbra=1-X.spot.innerConeAngle/X.spot.outerConeAngle,tt.target.position.set(0,0,-1),tt.add(tt.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+X.type)}return tt.position.set(0,0,0),tt.decay=2,ae(tt,X),X.intensity!==void 0&&(tt.intensity=X.intensity),tt.name=_t.createUniqueName(X.name||"light_"+Ot),Tt=Promise.resolve(tt),_t.cache.add(Ht,Tt),Tt}getDependency(Ot,_t){if(Ot==="light")return this._loadLight(_t)}createNodeAttachment(Ot){const _t=this,Ht=this.parser,Et=Ht.json.nodes[Ot],ut=(Et.extensions&&Et.extensions[this.name]||{}).light;return ut===void 0?null:this._loadLight(ut).then(function(X){return Ht._getNodeRef(_t.cache,ut,X)})}}class b{constructor(){this.name=g.KHR_MATERIALS_UNLIT}getMaterialType(){return h.MeshBasicMaterial}extendParams(Ot,_t,Ht){const Tt=[];Ot.color=new h.Color(1,1,1),Ot.opacity=1;const Et=_t.pbrMetallicRoughness;if(Et){if(Array.isArray(Et.baseColorFactor)){const Lt=Et.baseColorFactor;Ot.color.setRGB(Lt[0],Lt[1],Lt[2],h.LinearSRGBColorSpace),Ot.opacity=Lt[3]}Et.baseColorTexture!==void 0&&Tt.push(Ht.assignTexture(Ot,"map",Et.baseColorTexture,h.SRGBColorSpace))}return Promise.all(Tt)}}class v{constructor(Ot){this.parser=Ot,this.name=g.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(Ot,_t){const Tt=this.parser.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=Tt.extensions[this.name].emissiveStrength;return Et!==void 0&&(_t.emissiveIntensity=Et),Promise.resolve()}}class C{constructor(Ot){this.parser=Ot,this.name=g.KHR_MATERIALS_CLEARCOAT}getMaterialType(Ot){const Ht=this.parser.json.materials[Ot];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Ot,_t){const Ht=this.parser,Tt=Ht.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=[],Lt=Tt.extensions[this.name];if(Lt.clearcoatFactor!==void 0&&(_t.clearcoat=Lt.clearcoatFactor),Lt.clearcoatTexture!==void 0&&Et.push(Ht.assignTexture(_t,"clearcoatMap",Lt.clearcoatTexture)),Lt.clearcoatRoughnessFactor!==void 0&&(_t.clearcoatRoughness=Lt.clearcoatRoughnessFactor),Lt.clearcoatRoughnessTexture!==void 0&&Et.push(Ht.assignTexture(_t,"clearcoatRoughnessMap",Lt.clearcoatRoughnessTexture)),Lt.clearcoatNormalTexture!==void 0&&(Et.push(Ht.assignTexture(_t,"clearcoatNormalMap",Lt.clearcoatNormalTexture)),Lt.clearcoatNormalTexture.scale!==void 0)){const ut=Lt.clearcoatNormalTexture.scale;_t.clearcoatNormalScale=new h.Vector2(ut,ut)}return Promise.all(Et)}}class w{constructor(Ot){this.parser=Ot,this.name=g.KHR_MATERIALS_DISPERSION}getMaterialType(Ot){const Ht=this.parser.json.materials[Ot];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Ot,_t){const Tt=this.parser.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=Tt.extensions[this.name];return _t.dispersion=Et.dispersion!==void 0?Et.dispersion:0,Promise.resolve()}}class _{constructor(Ot){this.parser=Ot,this.name=g.KHR_MATERIALS_IRIDESCENCE}getMaterialType(Ot){const Ht=this.parser.json.materials[Ot];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Ot,_t){const Ht=this.parser,Tt=Ht.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=[],Lt=Tt.extensions[this.name];return Lt.iridescenceFactor!==void 0&&(_t.iridescence=Lt.iridescenceFactor),Lt.iridescenceTexture!==void 0&&Et.push(Ht.assignTexture(_t,"iridescenceMap",Lt.iridescenceTexture)),Lt.iridescenceIor!==void 0&&(_t.iridescenceIOR=Lt.iridescenceIor),_t.iridescenceThicknessRange===void 0&&(_t.iridescenceThicknessRange=[100,400]),Lt.iridescenceThicknessMinimum!==void 0&&(_t.iridescenceThicknessRange[0]=Lt.iridescenceThicknessMinimum),Lt.iridescenceThicknessMaximum!==void 0&&(_t.iridescenceThicknessRange[1]=Lt.iridescenceThicknessMaximum),Lt.iridescenceThicknessTexture!==void 0&&Et.push(Ht.assignTexture(_t,"iridescenceThicknessMap",Lt.iridescenceThicknessTexture)),Promise.all(Et)}}class E{constructor(Ot){this.parser=Ot,this.name=g.KHR_MATERIALS_SHEEN}getMaterialType(Ot){const Ht=this.parser.json.materials[Ot];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Ot,_t){const Ht=this.parser,Tt=Ht.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=[];_t.sheenColor=new h.Color(0,0,0),_t.sheenRoughness=0,_t.sheen=1;const Lt=Tt.extensions[this.name];if(Lt.sheenColorFactor!==void 0){const ut=Lt.sheenColorFactor;_t.sheenColor.setRGB(ut[0],ut[1],ut[2],h.LinearSRGBColorSpace)}return Lt.sheenRoughnessFactor!==void 0&&(_t.sheenRoughness=Lt.sheenRoughnessFactor),Lt.sheenColorTexture!==void 0&&Et.push(Ht.assignTexture(_t,"sheenColorMap",Lt.sheenColorTexture,h.SRGBColorSpace)),Lt.sheenRoughnessTexture!==void 0&&Et.push(Ht.assignTexture(_t,"sheenRoughnessMap",Lt.sheenRoughnessTexture)),Promise.all(Et)}}class S{constructor(Ot){this.parser=Ot,this.name=g.KHR_MATERIALS_TRANSMISSION}getMaterialType(Ot){const Ht=this.parser.json.materials[Ot];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Ot,_t){const Ht=this.parser,Tt=Ht.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=[],Lt=Tt.extensions[this.name];return Lt.transmissionFactor!==void 0&&(_t.transmission=Lt.transmissionFactor),Lt.transmissionTexture!==void 0&&Et.push(Ht.assignTexture(_t,"transmissionMap",Lt.transmissionTexture)),Promise.all(Et)}}class I{constructor(Ot){this.parser=Ot,this.name=g.KHR_MATERIALS_VOLUME}getMaterialType(Ot){const Ht=this.parser.json.materials[Ot];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Ot,_t){const Ht=this.parser,Tt=Ht.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=[],Lt=Tt.extensions[this.name];_t.thickness=Lt.thicknessFactor!==void 0?Lt.thicknessFactor:0,Lt.thicknessTexture!==void 0&&Et.push(Ht.assignTexture(_t,"thicknessMap",Lt.thicknessTexture)),_t.attenuationDistance=Lt.attenuationDistance||1/0;const ut=Lt.attenuationColor||[1,1,1];return _t.attenuationColor=new h.Color().setRGB(ut[0],ut[1],ut[2],h.LinearSRGBColorSpace),Promise.all(Et)}}class T{constructor(Ot){this.parser=Ot,this.name=g.KHR_MATERIALS_IOR}getMaterialType(Ot){const Ht=this.parser.json.materials[Ot];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Ot,_t){const Tt=this.parser.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=Tt.extensions[this.name];return _t.ior=Et.ior!==void 0?Et.ior:1.5,Promise.resolve()}}class k{constructor(Ot){this.parser=Ot,this.name=g.KHR_MATERIALS_SPECULAR}getMaterialType(Ot){const Ht=this.parser.json.materials[Ot];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Ot,_t){const Ht=this.parser,Tt=Ht.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=[],Lt=Tt.extensions[this.name];_t.specularIntensity=Lt.specularFactor!==void 0?Lt.specularFactor:1,Lt.specularTexture!==void 0&&Et.push(Ht.assignTexture(_t,"specularIntensityMap",Lt.specularTexture));const ut=Lt.specularColorFactor||[1,1,1];return _t.specularColor=new h.Color().setRGB(ut[0],ut[1],ut[2],h.LinearSRGBColorSpace),Lt.specularColorTexture!==void 0&&Et.push(Ht.assignTexture(_t,"specularColorMap",Lt.specularColorTexture,h.SRGBColorSpace)),Promise.all(Et)}}class D{constructor(Ot){this.parser=Ot,this.name=g.EXT_MATERIALS_BUMP}getMaterialType(Ot){const Ht=this.parser.json.materials[Ot];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Ot,_t){const Ht=this.parser,Tt=Ht.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=[],Lt=Tt.extensions[this.name];return _t.bumpScale=Lt.bumpFactor!==void 0?Lt.bumpFactor:1,Lt.bumpTexture!==void 0&&Et.push(Ht.assignTexture(_t,"bumpMap",Lt.bumpTexture)),Promise.all(Et)}}class N{constructor(Ot){this.parser=Ot,this.name=g.KHR_MATERIALS_ANISOTROPY}getMaterialType(Ot){const Ht=this.parser.json.materials[Ot];return!Ht.extensions||!Ht.extensions[this.name]?null:h.MeshPhysicalMaterial}extendMaterialParams(Ot,_t){const Ht=this.parser,Tt=Ht.json.materials[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return Promise.resolve();const Et=[],Lt=Tt.extensions[this.name];return Lt.anisotropyStrength!==void 0&&(_t.anisotropy=Lt.anisotropyStrength),Lt.anisotropyRotation!==void 0&&(_t.anisotropyRotation=Lt.anisotropyRotation),Lt.anisotropyTexture!==void 0&&Et.push(Ht.assignTexture(_t,"anisotropyMap",Lt.anisotropyTexture)),Promise.all(Et)}}class P{constructor(Ot){this.parser=Ot,this.name=g.KHR_TEXTURE_BASISU}loadTexture(Ot){const _t=this.parser,Ht=_t.json,Tt=Ht.textures[Ot];if(!Tt.extensions||!Tt.extensions[this.name])return null;const Et=Tt.extensions[this.name],Lt=_t.options.ktx2Loader;if(!Lt){if(Ht.extensionsRequired&&Ht.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return _t.loadTextureImage(Ot,Et.source,Lt)}}class F{constructor(Ot){this.parser=Ot,this.name=g.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(Ot){const _t=this.name,Ht=this.parser,Tt=Ht.json,Et=Tt.textures[Ot];if(!Et.extensions||!Et.extensions[_t])return null;const Lt=Et.extensions[_t],ut=Tt.images[Lt.source];let X=Ht.textureLoader;if(ut.uri){const tt=Ht.options.manager.getHandler(ut.uri);tt!==null&&(X=tt)}return this.detectSupport().then(function(tt){if(tt)return Ht.loadTextureImage(Ot,Lt.source,X);if(Tt.extensionsRequired&&Tt.extensionsRequired.indexOf(_t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return Ht.loadTexture(Ot)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(Ot){const _t=new Image;_t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",_t.onload=_t.onerror=function(){Ot(_t.height===1)}})),this.isSupported}}class U{constructor(Ot){this.parser=Ot,this.name=g.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(Ot){const _t=this.name,Ht=this.parser,Tt=Ht.json,Et=Tt.textures[Ot];if(!Et.extensions||!Et.extensions[_t])return null;const Lt=Et.extensions[_t],ut=Tt.images[Lt.source];let X=Ht.textureLoader;if(ut.uri){const tt=Ht.options.manager.getHandler(ut.uri);tt!==null&&(X=tt)}return this.detectSupport().then(function(tt){if(tt)return Ht.loadTextureImage(Ot,Lt.source,X);if(Tt.extensionsRequired&&Tt.extensionsRequired.indexOf(_t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return Ht.loadTexture(Ot)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(Ot){const _t=new Image;_t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",_t.onload=_t.onerror=function(){Ot(_t.height===1)}})),this.isSupported}}class V{constructor(Ot){this.name=g.EXT_MESHOPT_COMPRESSION,this.parser=Ot}loadBufferView(Ot){const _t=this.parser.json,Ht=_t.bufferViews[Ot];if(Ht.extensions&&Ht.extensions[this.name]){const Tt=Ht.extensions[this.name],Et=this.parser.getDependency("buffer",Tt.buffer),Lt=this.parser.options.meshoptDecoder;if(!Lt||!Lt.supported){if(_t.extensionsRequired&&_t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Et.then(function(ut){const X=Tt.byteOffset||0,tt=Tt.byteLength||0,Bt=Tt.count,Qt=Tt.byteStride,jt=new Uint8Array(ut,X,tt);return Lt.decodeGltfBufferAsync?Lt.decodeGltfBufferAsync(Bt,Qt,jt,Tt.mode,Tt.filter).then(function(ne){return ne.buffer}):Lt.ready.then(function(){const ne=new ArrayBuffer(Bt*Qt);return Lt.decodeGltfBuffer(new Uint8Array(ne),Bt,Qt,jt,Tt.mode,Tt.filter),ne})})}else return null}}class z{constructor(Ot){this.name=g.EXT_MESH_GPU_INSTANCING,this.parser=Ot}createNodeMesh(Ot){const _t=this.parser.json,Ht=_t.nodes[Ot];if(!Ht.extensions||!Ht.extensions[this.name]||Ht.mesh===void 0)return null;const Tt=_t.meshes[Ht.mesh];for(const tt of Tt.primitives)if(tt.mode!==St.TRIANGLES&&tt.mode!==St.TRIANGLE_STRIP&&tt.mode!==St.TRIANGLE_FAN&&tt.mode!==void 0)return null;const Lt=Ht.extensions[this.name].attributes,ut=[],X={};for(const tt in Lt)ut.push(this.parser.getDependency("accessor",Lt[tt]).then(Bt=>(X[tt]=Bt,X[tt])));return ut.length<1?null:(ut.push(this.parser.createNodeMesh(Ot)),Promise.all(ut).then(tt=>{const Bt=tt.pop(),Qt=Bt.isGroup?Bt.children:[Bt],jt=tt[0].count,ne=[];for(const se of Qt){const Be=new h.Matrix4,we=new h.Vector3,Ne=new h.Quaternion,li=new h.Vector3(1,1,1),zi=new h.InstancedMesh(se.geometry,se.material,jt);for(let Ve=0;Ve<jt;Ve++)X.TRANSLATION&&we.fromBufferAttribute(X.TRANSLATION,Ve),X.ROTATION&&Ne.fromBufferAttribute(X.ROTATION,Ve),X.SCALE&&li.fromBufferAttribute(X.SCALE,Ve),zi.setMatrixAt(Ve,Be.compose(we,Ne,li));for(const Ve in X)if(Ve==="_COLOR_0"){const ji=X[Ve];zi.instanceColor=new h.InstancedBufferAttribute(ji.array,ji.itemSize,ji.normalized)}else Ve!=="TRANSLATION"&&Ve!=="ROTATION"&&Ve!=="SCALE"&&se.geometry.setAttribute(Ve,X[Ve]);h.Object3D.prototype.copy.call(zi,se),this.parser.assignFinalMaterial(zi),ne.push(zi)}return Bt.isGroup?(Bt.clear(),Bt.add(...ne),Bt):ne[0]}))}}const G="glTF",H=12,J={JSON:1313821514,BIN:5130562};class Z{constructor(Ot){this.name=g.KHR_BINARY_GLTF,this.content=null,this.body=null;const _t=new DataView(Ot,0,H),Ht=new TextDecoder;if(this.header={magic:Ht.decode(new Uint8Array(Ot.slice(0,4))),version:_t.getUint32(4,!0),length:_t.getUint32(8,!0)},this.header.magic!==G)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const Tt=this.header.length-H,Et=new DataView(Ot,H);let Lt=0;for(;Lt<Tt;){const ut=Et.getUint32(Lt,!0);Lt+=4;const X=Et.getUint32(Lt,!0);if(Lt+=4,X===J.JSON){const tt=new Uint8Array(Ot,H+Lt,ut);this.content=Ht.decode(tt)}else if(X===J.BIN){const tt=H+Lt;this.body=Ot.slice(tt,tt+ut)}Lt+=ut}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class j{constructor(Ot,_t){if(!_t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=g.KHR_DRACO_MESH_COMPRESSION,this.json=Ot,this.dracoLoader=_t,this.dracoLoader.preload()}decodePrimitive(Ot,_t){const Ht=this.json,Tt=this.dracoLoader,Et=Ot.extensions[this.name].bufferView,Lt=Ot.extensions[this.name].attributes,ut={},X={},tt={};for(const Bt in Lt){const Qt=lt[Bt]||Bt.toLowerCase();ut[Qt]=Lt[Bt]}for(const Bt in Ot.attributes){const Qt=lt[Bt]||Bt.toLowerCase();if(Lt[Bt]!==void 0){const jt=Ht.accessors[Ot.attributes[Bt]],ne=At[jt.componentType];tt[Qt]=ne.name,X[Qt]=jt.normalized===!0}}return _t.getDependency("bufferView",Et).then(function(Bt){return new Promise(function(Qt,jt){Tt.decodeDracoFile(Bt,function(ne){for(const se in ne.attributes){const Be=ne.attributes[se],we=X[se];we!==void 0&&(Be.normalized=we)}Qt(ne)},ut,tt,h.LinearSRGBColorSpace,jt)})})}}class W{constructor(){this.name=g.KHR_TEXTURE_TRANSFORM}extendTexture(Ot,_t){return(_t.texCoord===void 0||_t.texCoord===Ot.channel)&&_t.offset===void 0&&_t.rotation===void 0&&_t.scale===void 0||(Ot=Ot.clone(),_t.texCoord!==void 0&&(Ot.channel=_t.texCoord),_t.offset!==void 0&&Ot.offset.fromArray(_t.offset),_t.rotation!==void 0&&(Ot.rotation=_t.rotation),_t.scale!==void 0&&Ot.repeat.fromArray(_t.scale),Ot.needsUpdate=!0),Ot}}class et{constructor(){this.name=g.KHR_MESH_QUANTIZATION}}class dt extends h.Interpolant{constructor(Ot,_t,Ht,Tt){super(Ot,_t,Ht,Tt)}copySampleValue_(Ot){const _t=this.resultBuffer,Ht=this.sampleValues,Tt=this.valueSize,Et=Ot*Tt*3+Tt;for(let Lt=0;Lt!==Tt;Lt++)_t[Lt]=Ht[Et+Lt];return _t}interpolate_(Ot,_t,Ht,Tt){const Et=this.resultBuffer,Lt=this.sampleValues,ut=this.valueSize,X=ut*2,tt=ut*3,Bt=Tt-_t,Qt=(Ht-_t)/Bt,jt=Qt*Qt,ne=jt*Qt,se=Ot*tt,Be=se-tt,we=-2*ne+3*jt,Ne=ne-jt,li=1-we,zi=Ne-jt+Qt;for(let Ve=0;Ve!==ut;Ve++){const ji=Lt[Be+Ve+ut],Ge=Lt[Be+Ve+X]*Bt,ke=Lt[se+Ve+ut],Di=Lt[se+Ve]*Bt;Et[Ve]=li*ji+zi*Ge+we*ke+Ne*Di}return Et}}const ht=new h.Quaternion;class st extends dt{interpolate_(Ot,_t,Ht,Tt){const Et=super.interpolate_(Ot,_t,Ht,Tt);return ht.fromArray(Et).normalize().toArray(Et),Et}}const St={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},At={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},xt={9728:h.NearestFilter,9729:h.LinearFilter,9984:h.NearestMipmapNearestFilter,9985:h.LinearMipmapNearestFilter,9986:h.NearestMipmapLinearFilter,9987:h.LinearMipmapLinearFilter},gt={33071:h.ClampToEdgeWrapping,33648:h.MirroredRepeatWrapping,10497:h.RepeatWrapping},yt={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},lt={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},zt={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},kt={CUBICSPLINE:void 0,LINEAR:h.InterpolateLinear,STEP:h.InterpolateDiscrete},Jt={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Gt(pe){return pe.DefaultMaterial===void 0&&(pe.DefaultMaterial=new h.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:h.FrontSide})),pe.DefaultMaterial}function ce(pe,Ot,_t){for(const Ht in _t.extensions)pe[Ht]===void 0&&(Ot.userData.gltfExtensions=Ot.userData.gltfExtensions||{},Ot.userData.gltfExtensions[Ht]=_t.extensions[Ht])}function ae(pe,Ot){Ot.extras!==void 0&&(typeof Ot.extras=="object"?Object.assign(pe.userData,Ot.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+Ot.extras))}function qt(pe,Ot,_t){let Ht=!1,Tt=!1,Et=!1;for(let tt=0,Bt=Ot.length;tt<Bt;tt++){const Qt=Ot[tt];if(Qt.POSITION!==void 0&&(Ht=!0),Qt.NORMAL!==void 0&&(Tt=!0),Qt.COLOR_0!==void 0&&(Et=!0),Ht&&Tt&&Et)break}if(!Ht&&!Tt&&!Et)return Promise.resolve(pe);const Lt=[],ut=[],X=[];for(let tt=0,Bt=Ot.length;tt<Bt;tt++){const Qt=Ot[tt];if(Ht){const jt=Qt.POSITION!==void 0?_t.getDependency("accessor",Qt.POSITION):pe.attributes.position;Lt.push(jt)}if(Tt){const jt=Qt.NORMAL!==void 0?_t.getDependency("accessor",Qt.NORMAL):pe.attributes.normal;ut.push(jt)}if(Et){const jt=Qt.COLOR_0!==void 0?_t.getDependency("accessor",Qt.COLOR_0):pe.attributes.color;X.push(jt)}}return Promise.all([Promise.all(Lt),Promise.all(ut),Promise.all(X)]).then(function(tt){const Bt=tt[0],Qt=tt[1],jt=tt[2];return Ht&&(pe.morphAttributes.position=Bt),Tt&&(pe.morphAttributes.normal=Qt),Et&&(pe.morphAttributes.color=jt),pe.morphTargetsRelative=!0,pe})}function ue(pe,Ot){if(pe.updateMorphTargets(),Ot.weights!==void 0)for(let _t=0,Ht=Ot.weights.length;_t<Ht;_t++)pe.morphTargetInfluences[_t]=Ot.weights[_t];if(Ot.extras&&Array.isArray(Ot.extras.targetNames)){const _t=Ot.extras.targetNames;if(pe.morphTargetInfluences.length===_t.length){pe.morphTargetDictionary={};for(let Ht=0,Tt=_t.length;Ht<Tt;Ht++)pe.morphTargetDictionary[_t[Ht]]=Ht}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function $e(pe){let Ot;const _t=pe.extensions&&pe.extensions[g.KHR_DRACO_MESH_COMPRESSION];if(_t?Ot="draco:"+_t.bufferView+":"+_t.indices+":"+ve(_t.attributes):Ot=pe.indices+":"+ve(pe.attributes)+":"+pe.mode,pe.targets!==void 0)for(let Ht=0,Tt=pe.targets.length;Ht<Tt;Ht++)Ot+=":"+ve(pe.targets[Ht]);return Ot}function ve(pe){let Ot="";const _t=Object.keys(pe).sort();for(let Ht=0,Tt=_t.length;Ht<Tt;Ht++)Ot+=_t[Ht]+":"+pe[_t[Ht]]+";";return Ot}function He(pe){switch(pe){case Int8Array:return .007874015748031496;case Uint8Array:return .00392156862745098;case Int16Array:return 3051850947599719e-20;case Uint16Array:return 15259021896696422e-21;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function qe(pe){return pe.search(/\.jpe?g($|\?)/i)>0||pe.search(/^data\:image\/jpeg/)===0?"image/jpeg":pe.search(/\.webp($|\?)/i)>0||pe.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const ri=new h.Matrix4;class oi{constructor(Ot={},_t={}){this.json=Ot,this.extensions={},this.plugins={},this.options=_t,this.cache=new M,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let Ht=!1,Tt=!1,Et=-1;typeof navigator<"u"&&(Ht=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,Tt=navigator.userAgent.indexOf("Firefox")>-1,Et=Tt?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||Ht||Tt&&Et<98?this.textureLoader=new h.TextureLoader(this.options.manager):this.textureLoader=new h.ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new h.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(Ot){this.extensions=Ot}setPlugins(Ot){this.plugins=Ot}parse(Ot,_t){const Ht=this,Tt=this.json,Et=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(Lt){return Lt._markDefs&&Lt._markDefs()}),Promise.all(this._invokeAll(function(Lt){return Lt.beforeRoot&&Lt.beforeRoot()})).then(function(){return Promise.all([Ht.getDependencies("scene"),Ht.getDependencies("animation"),Ht.getDependencies("camera")])}).then(function(Lt){const ut={scene:Lt[0][Tt.scene||0],scenes:Lt[0],animations:Lt[1],cameras:Lt[2],asset:Tt.asset,parser:Ht,userData:{}};return ce(Et,ut,Tt),ae(ut,Tt),Promise.all(Ht._invokeAll(function(X){return X.afterRoot&&X.afterRoot(ut)})).then(function(){for(const X of ut.scenes)X.updateMatrixWorld();Ot(ut)})}).catch(_t)}_markDefs(){const Ot=this.json.nodes||[],_t=this.json.skins||[],Ht=this.json.meshes||[];for(let Tt=0,Et=_t.length;Tt<Et;Tt++){const Lt=_t[Tt].joints;for(let ut=0,X=Lt.length;ut<X;ut++)Ot[Lt[ut]].isBone=!0}for(let Tt=0,Et=Ot.length;Tt<Et;Tt++){const Lt=Ot[Tt];Lt.mesh!==void 0&&(this._addNodeRef(this.meshCache,Lt.mesh),Lt.skin!==void 0&&(Ht[Lt.mesh].isSkinnedMesh=!0)),Lt.camera!==void 0&&this._addNodeRef(this.cameraCache,Lt.camera)}}_addNodeRef(Ot,_t){_t!==void 0&&(Ot.refs[_t]===void 0&&(Ot.refs[_t]=Ot.uses[_t]=0),Ot.refs[_t]++)}_getNodeRef(Ot,_t,Ht){if(Ot.refs[_t]<=1)return Ht;const Tt=Ht.clone(),Et=(Lt,ut)=>{const X=this.associations.get(Lt);X!=null&&this.associations.set(ut,X);for(const[tt,Bt]of Lt.children.entries())Et(Bt,ut.children[tt])};return Et(Ht,Tt),Tt.name+="_instance_"+Ot.uses[_t]++,Tt}_invokeOne(Ot){const _t=Object.values(this.plugins);_t.push(this);for(let Ht=0;Ht<_t.length;Ht++){const Tt=Ot(_t[Ht]);if(Tt)return Tt}return null}_invokeAll(Ot){const _t=Object.values(this.plugins);_t.unshift(this);const Ht=[];for(let Tt=0;Tt<_t.length;Tt++){const Et=Ot(_t[Tt]);Et&&Ht.push(Et)}return Ht}getDependency(Ot,_t){const Ht=Ot+":"+_t;let Tt=this.cache.get(Ht);if(!Tt){switch(Ot){case"scene":Tt=this.loadScene(_t);break;case"node":Tt=this._invokeOne(function(Et){return Et.loadNode&&Et.loadNode(_t)});break;case"mesh":Tt=this._invokeOne(function(Et){return Et.loadMesh&&Et.loadMesh(_t)});break;case"accessor":Tt=this.loadAccessor(_t);break;case"bufferView":Tt=this._invokeOne(function(Et){return Et.loadBufferView&&Et.loadBufferView(_t)});break;case"buffer":Tt=this.loadBuffer(_t);break;case"material":Tt=this._invokeOne(function(Et){return Et.loadMaterial&&Et.loadMaterial(_t)});break;case"texture":Tt=this._invokeOne(function(Et){return Et.loadTexture&&Et.loadTexture(_t)});break;case"skin":Tt=this.loadSkin(_t);break;case"animation":Tt=this._invokeOne(function(Et){return Et.loadAnimation&&Et.loadAnimation(_t)});break;case"camera":Tt=this.loadCamera(_t);break;default:if(Tt=this._invokeOne(function(Et){return Et!=this&&Et.getDependency&&Et.getDependency(Ot,_t)}),!Tt)throw new Error("Unknown type: "+Ot);break}this.cache.add(Ht,Tt)}return Tt}getDependencies(Ot){let _t=this.cache.get(Ot);if(!_t){const Ht=this,Tt=this.json[Ot+(Ot==="mesh"?"es":"s")]||[];_t=Promise.all(Tt.map(function(Et,Lt){return Ht.getDependency(Ot,Lt)})),this.cache.add(Ot,_t)}return _t}loadBuffer(Ot){const _t=this.json.buffers[Ot],Ht=this.fileLoader;if(_t.type&&_t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+_t.type+" buffer type is not supported.");if(_t.uri===void 0&&Ot===0)return Promise.resolve(this.extensions[g.KHR_BINARY_GLTF].body);const Tt=this.options;return new Promise(function(Et,Lt){Ht.load(h.LoaderUtils.resolveURL(_t.uri,Tt.path),Et,void 0,function(){Lt(new Error('THREE.GLTFLoader: Failed to load buffer "'+_t.uri+'".'))})})}loadBufferView(Ot){const _t=this.json.bufferViews[Ot];return this.getDependency("buffer",_t.buffer).then(function(Ht){const Tt=_t.byteLength||0,Et=_t.byteOffset||0;return Ht.slice(Et,Et+Tt)})}loadAccessor(Ot){const _t=this,Ht=this.json,Tt=this.json.accessors[Ot];if(Tt.bufferView===void 0&&Tt.sparse===void 0){const Lt=yt[Tt.type],ut=At[Tt.componentType],X=Tt.normalized===!0,tt=new ut(Tt.count*Lt);return Promise.resolve(new h.BufferAttribute(tt,Lt,X))}const Et=[];return Tt.bufferView!==void 0?Et.push(this.getDependency("bufferView",Tt.bufferView)):Et.push(null),Tt.sparse!==void 0&&(Et.push(this.getDependency("bufferView",Tt.sparse.indices.bufferView)),Et.push(this.getDependency("bufferView",Tt.sparse.values.bufferView))),Promise.all(Et).then(function(Lt){const ut=Lt[0],X=yt[Tt.type],tt=At[Tt.componentType],Bt=tt.BYTES_PER_ELEMENT,Qt=Bt*X,jt=Tt.byteOffset||0,ne=Tt.bufferView!==void 0?Ht.bufferViews[Tt.bufferView].byteStride:void 0,se=Tt.normalized===!0;let Be,we;if(ne&&ne!==Qt){const Ne=Math.floor(jt/ne),li="InterleavedBuffer:"+Tt.bufferView+":"+Tt.componentType+":"+Ne+":"+Tt.count;let zi=_t.cache.get(li);zi||(Be=new tt(ut,Ne*ne,Tt.count*ne/Bt),zi=new h.InterleavedBuffer(Be,ne/Bt),_t.cache.add(li,zi)),we=new h.InterleavedBufferAttribute(zi,X,jt%ne/Bt,se)}else ut===null?Be=new tt(Tt.count*X):Be=new tt(ut,jt,Tt.count*X),we=new h.BufferAttribute(Be,X,se);if(Tt.sparse!==void 0){const Ne=yt.SCALAR,li=At[Tt.sparse.indices.componentType],zi=Tt.sparse.indices.byteOffset||0,Ve=Tt.sparse.values.byteOffset||0,ji=new li(Lt[1],zi,Tt.sparse.count*Ne),Ge=new tt(Lt[2],Ve,Tt.sparse.count*X);ut!==null&&(we=new h.BufferAttribute(we.array.slice(),we.itemSize,we.normalized));for(let ke=0,Di=ji.length;ke<Di;ke++){const ni=ji[ke];if(we.setX(ni,Ge[ke*X]),X>=2&&we.setY(ni,Ge[ke*X+1]),X>=3&&we.setZ(ni,Ge[ke*X+2]),X>=4&&we.setW(ni,Ge[ke*X+3]),X>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return we})}loadTexture(Ot){const _t=this.json,Ht=this.options,Et=_t.textures[Ot].source,Lt=_t.images[Et];let ut=this.textureLoader;if(Lt.uri){const X=Ht.manager.getHandler(Lt.uri);X!==null&&(ut=X)}return this.loadTextureImage(Ot,Et,ut)}loadTextureImage(Ot,_t,Ht){const Tt=this,Et=this.json,Lt=Et.textures[Ot],ut=Et.images[_t],X=(ut.uri||ut.bufferView)+":"+Lt.sampler;if(this.textureCache[X])return this.textureCache[X];const tt=this.loadImageSource(_t,Ht).then(function(Bt){Bt.flipY=!1,Bt.name=Lt.name||ut.name||"",Bt.name===""&&typeof ut.uri=="string"&&ut.uri.startsWith("data:image/")===!1&&(Bt.name=ut.uri);const jt=(Et.samplers||{})[Lt.sampler]||{};return Bt.magFilter=xt[jt.magFilter]||h.LinearFilter,Bt.minFilter=xt[jt.minFilter]||h.LinearMipmapLinearFilter,Bt.wrapS=gt[jt.wrapS]||h.RepeatWrapping,Bt.wrapT=gt[jt.wrapT]||h.RepeatWrapping,Tt.associations.set(Bt,{textures:Ot}),Bt}).catch(function(){return null});return this.textureCache[X]=tt,tt}loadImageSource(Ot,_t){const Ht=this,Tt=this.json,Et=this.options;if(this.sourceCache[Ot]!==void 0)return this.sourceCache[Ot].then(Qt=>Qt.clone());const Lt=Tt.images[Ot],ut=self.URL||self.webkitURL;let X=Lt.uri||"",tt=!1;if(Lt.bufferView!==void 0)X=Ht.getDependency("bufferView",Lt.bufferView).then(function(Qt){tt=!0;const jt=new Blob([Qt],{type:Lt.mimeType});return X=ut.createObjectURL(jt),X});else if(Lt.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+Ot+" is missing URI and bufferView");const Bt=Promise.resolve(X).then(function(Qt){return new Promise(function(jt,ne){let se=jt;_t.isImageBitmapLoader===!0&&(se=function(Be){const we=new h.Texture(Be);we.needsUpdate=!0,jt(we)}),_t.load(h.LoaderUtils.resolveURL(Qt,Et.path),se,void 0,ne)})}).then(function(Qt){return tt===!0&&ut.revokeObjectURL(X),Qt.userData.mimeType=Lt.mimeType||qe(Lt.uri),Qt}).catch(function(Qt){throw console.error("THREE.GLTFLoader: Couldn't load texture",X),Qt});return this.sourceCache[Ot]=Bt,Bt}assignTexture(Ot,_t,Ht,Tt){const Et=this;return this.getDependency("texture",Ht.index).then(function(Lt){if(!Lt)return null;if(Ht.texCoord!==void 0&&Ht.texCoord>0&&(Lt=Lt.clone(),Lt.channel=Ht.texCoord),Et.extensions[g.KHR_TEXTURE_TRANSFORM]){const ut=Ht.extensions!==void 0?Ht.extensions[g.KHR_TEXTURE_TRANSFORM]:void 0;if(ut){const X=Et.associations.get(Lt);Lt=Et.extensions[g.KHR_TEXTURE_TRANSFORM].extendTexture(Lt,ut),Et.associations.set(Lt,X)}}return Tt!==void 0&&(Lt.colorSpace=Tt),Ot[_t]=Lt,Lt})}assignFinalMaterial(Ot){const _t=Ot.geometry;let Ht=Ot.material;const Tt=_t.attributes.tangent===void 0,Et=_t.attributes.color!==void 0,Lt=_t.attributes.normal===void 0;if(Ot.isPoints){const ut="PointsMaterial:"+Ht.uuid;let X=this.cache.get(ut);X||(X=new h.PointsMaterial,h.Material.prototype.copy.call(X,Ht),X.color.copy(Ht.color),X.map=Ht.map,X.sizeAttenuation=!1,this.cache.add(ut,X)),Ht=X}else if(Ot.isLine){const ut="LineBasicMaterial:"+Ht.uuid;let X=this.cache.get(ut);X||(X=new h.LineBasicMaterial,h.Material.prototype.copy.call(X,Ht),X.color.copy(Ht.color),X.map=Ht.map,this.cache.add(ut,X)),Ht=X}if(Tt||Et||Lt){let ut="ClonedMaterial:"+Ht.uuid+":";Tt&&(ut+="derivative-tangents:"),Et&&(ut+="vertex-colors:"),Lt&&(ut+="flat-shading:");let X=this.cache.get(ut);X||(X=Ht.clone(),Et&&(X.vertexColors=!0),Lt&&(X.flatShading=!0),Tt&&(X.normalScale&&(X.normalScale.y*=-1),X.clearcoatNormalScale&&(X.clearcoatNormalScale.y*=-1)),this.cache.add(ut,X),this.associations.set(X,this.associations.get(Ht))),Ht=X}Ot.material=Ht}getMaterialType(){return h.MeshStandardMaterial}loadMaterial(Ot){const _t=this,Ht=this.json,Tt=this.extensions,Et=Ht.materials[Ot];let Lt;const ut={},X=Et.extensions||{},tt=[];if(X[g.KHR_MATERIALS_UNLIT]){const Qt=Tt[g.KHR_MATERIALS_UNLIT];Lt=Qt.getMaterialType(),tt.push(Qt.extendParams(ut,Et,_t))}else{const Qt=Et.pbrMetallicRoughness||{};if(ut.color=new h.Color(1,1,1),ut.opacity=1,Array.isArray(Qt.baseColorFactor)){const jt=Qt.baseColorFactor;ut.color.setRGB(jt[0],jt[1],jt[2],h.LinearSRGBColorSpace),ut.opacity=jt[3]}Qt.baseColorTexture!==void 0&&tt.push(_t.assignTexture(ut,"map",Qt.baseColorTexture,h.SRGBColorSpace)),ut.metalness=Qt.metallicFactor!==void 0?Qt.metallicFactor:1,ut.roughness=Qt.roughnessFactor!==void 0?Qt.roughnessFactor:1,Qt.metallicRoughnessTexture!==void 0&&(tt.push(_t.assignTexture(ut,"metalnessMap",Qt.metallicRoughnessTexture)),tt.push(_t.assignTexture(ut,"roughnessMap",Qt.metallicRoughnessTexture))),Lt=this._invokeOne(function(jt){return jt.getMaterialType&&jt.getMaterialType(Ot)}),tt.push(Promise.all(this._invokeAll(function(jt){return jt.extendMaterialParams&&jt.extendMaterialParams(Ot,ut)})))}Et.doubleSided===!0&&(ut.side=h.DoubleSide);const Bt=Et.alphaMode||Jt.OPAQUE;if(Bt===Jt.BLEND?(ut.transparent=!0,ut.depthWrite=!1):(ut.transparent=!1,Bt===Jt.MASK&&(ut.alphaTest=Et.alphaCutoff!==void 0?Et.alphaCutoff:.5)),Et.normalTexture!==void 0&&Lt!==h.MeshBasicMaterial&&(tt.push(_t.assignTexture(ut,"normalMap",Et.normalTexture)),ut.normalScale=new h.Vector2(1,1),Et.normalTexture.scale!==void 0)){const Qt=Et.normalTexture.scale;ut.normalScale.set(Qt,Qt)}if(Et.occlusionTexture!==void 0&&Lt!==h.MeshBasicMaterial&&(tt.push(_t.assignTexture(ut,"aoMap",Et.occlusionTexture)),Et.occlusionTexture.strength!==void 0&&(ut.aoMapIntensity=Et.occlusionTexture.strength)),Et.emissiveFactor!==void 0&&Lt!==h.MeshBasicMaterial){const Qt=Et.emissiveFactor;ut.emissive=new h.Color().setRGB(Qt[0],Qt[1],Qt[2],h.LinearSRGBColorSpace)}return Et.emissiveTexture!==void 0&&Lt!==h.MeshBasicMaterial&&tt.push(_t.assignTexture(ut,"emissiveMap",Et.emissiveTexture,h.SRGBColorSpace)),Promise.all(tt).then(function(){const Qt=new Lt(ut);return Et.name&&(Qt.name=Et.name),ae(Qt,Et),_t.associations.set(Qt,{materials:Ot}),Et.extensions&&ce(Tt,Qt,Et),Qt})}createUniqueName(Ot){const _t=h.PropertyBinding.sanitizeNodeName(Ot||"");return _t in this.nodeNamesUsed?_t+"_"+ ++this.nodeNamesUsed[_t]:(this.nodeNamesUsed[_t]=0,_t)}loadGeometries(Ot){const _t=this,Ht=this.extensions,Tt=this.primitiveCache;function Et(ut){return Ht[g.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(ut,_t).then(function(X){return fe(X,ut,_t)})}const Lt=[];for(let ut=0,X=Ot.length;ut<X;ut++){const tt=Ot[ut],Bt=$e(tt),Qt=Tt[Bt];if(Qt)Lt.push(Qt.promise);else{let jt;tt.extensions&&tt.extensions[g.KHR_DRACO_MESH_COMPRESSION]?jt=Et(tt):jt=fe(new h.BufferGeometry,tt,_t),Tt[Bt]={primitive:tt,promise:jt},Lt.push(jt)}}return Promise.all(Lt)}loadMesh(Ot){const _t=this,Ht=this.json,Tt=this.extensions,Et=Ht.meshes[Ot],Lt=Et.primitives,ut=[];for(let X=0,tt=Lt.length;X<tt;X++){const Bt=Lt[X].material===void 0?Gt(this.cache):this.getDependency("material",Lt[X].material);ut.push(Bt)}return ut.push(_t.loadGeometries(Lt)),Promise.all(ut).then(function(X){const tt=X.slice(0,X.length-1),Bt=X[X.length-1],Qt=[];for(let ne=0,se=Bt.length;ne<se;ne++){const Be=Bt[ne],we=Lt[ne];let Ne;const li=tt[ne];if(we.mode===St.TRIANGLES||we.mode===St.TRIANGLE_STRIP||we.mode===St.TRIANGLE_FAN||we.mode===void 0)Ne=Et.isSkinnedMesh===!0?new h.SkinnedMesh(Be,li):new h.Mesh(Be,li),Ne.isSkinnedMesh===!0&&Ne.normalizeSkinWeights(),we.mode===St.TRIANGLE_STRIP?Ne.geometry=(0,p.toTrianglesDrawMode)(Ne.geometry,h.TriangleStripDrawMode):we.mode===St.TRIANGLE_FAN&&(Ne.geometry=(0,p.toTrianglesDrawMode)(Ne.geometry,h.TriangleFanDrawMode));else if(we.mode===St.LINES)Ne=new h.LineSegments(Be,li);else if(we.mode===St.LINE_STRIP)Ne=new h.Line(Be,li);else if(we.mode===St.LINE_LOOP)Ne=new h.LineLoop(Be,li);else if(we.mode===St.POINTS)Ne=new h.Points(Be,li);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+we.mode);Object.keys(Ne.geometry.morphAttributes).length>0&&ue(Ne,Et),Ne.name=_t.createUniqueName(Et.name||"mesh_"+Ot),ae(Ne,Et),we.extensions&&ce(Tt,Ne,we),_t.assignFinalMaterial(Ne),Qt.push(Ne)}for(let ne=0,se=Qt.length;ne<se;ne++)_t.associations.set(Qt[ne],{meshes:Ot,primitives:ne});if(Qt.length===1)return Et.extensions&&ce(Tt,Qt[0],Et),Qt[0];const jt=new h.Group;Et.extensions&&ce(Tt,jt,Et),_t.associations.set(jt,{meshes:Ot});for(let ne=0,se=Qt.length;ne<se;ne++)jt.add(Qt[ne]);return jt})}loadCamera(Ot){let _t;const Ht=this.json.cameras[Ot],Tt=Ht[Ht.type];if(!Tt){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return Ht.type==="perspective"?_t=new h.PerspectiveCamera(h.MathUtils.radToDeg(Tt.yfov),Tt.aspectRatio||1,Tt.znear||1,Tt.zfar||2e6):Ht.type==="orthographic"&&(_t=new h.OrthographicCamera(-Tt.xmag,Tt.xmag,Tt.ymag,-Tt.ymag,Tt.znear,Tt.zfar)),Ht.name&&(_t.name=this.createUniqueName(Ht.name)),ae(_t,Ht),Promise.resolve(_t)}loadSkin(Ot){const _t=this.json.skins[Ot],Ht=[];for(let Tt=0,Et=_t.joints.length;Tt<Et;Tt++)Ht.push(this._loadNodeShallow(_t.joints[Tt]));return _t.inverseBindMatrices!==void 0?Ht.push(this.getDependency("accessor",_t.inverseBindMatrices)):Ht.push(null),Promise.all(Ht).then(function(Tt){const Et=Tt.pop(),Lt=Tt,ut=[],X=[];for(let tt=0,Bt=Lt.length;tt<Bt;tt++){const Qt=Lt[tt];if(Qt){ut.push(Qt);const jt=new h.Matrix4;Et!==null&&jt.fromArray(Et.array,tt*16),X.push(jt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',_t.joints[tt])}return new h.Skeleton(ut,X)})}loadAnimation(Ot){const _t=this.json,Ht=this,Tt=_t.animations[Ot],Et=Tt.name?Tt.name:"animation_"+Ot,Lt=[],ut=[],X=[],tt=[],Bt=[];for(let Qt=0,jt=Tt.channels.length;Qt<jt;Qt++){const ne=Tt.channels[Qt],se=Tt.samplers[ne.sampler],Be=ne.target,we=Be.node,Ne=Tt.parameters!==void 0?Tt.parameters[se.input]:se.input,li=Tt.parameters!==void 0?Tt.parameters[se.output]:se.output;Be.node!==void 0&&(Lt.push(this.getDependency("node",we)),ut.push(this.getDependency("accessor",Ne)),X.push(this.getDependency("accessor",li)),tt.push(se),Bt.push(Be))}return Promise.all([Promise.all(Lt),Promise.all(ut),Promise.all(X),Promise.all(tt),Promise.all(Bt)]).then(function(Qt){const jt=Qt[0],ne=Qt[1],se=Qt[2],Be=Qt[3],we=Qt[4],Ne=[];for(let li=0,zi=jt.length;li<zi;li++){const Ve=jt[li],ji=ne[li],Ge=se[li],ke=Be[li],Di=we[li];if(Ve===void 0)continue;Ve.updateMatrix&&Ve.updateMatrix();const ni=Ht._createAnimationTracks(Ve,ji,Ge,ke,Di);if(ni)for(let Tn=0;Tn<ni.length;Tn++)Ne.push(ni[Tn])}return new h.AnimationClip(Et,void 0,Ne)})}createNodeMesh(Ot){const _t=this.json,Ht=this,Tt=_t.nodes[Ot];return Tt.mesh===void 0?null:Ht.getDependency("mesh",Tt.mesh).then(function(Et){const Lt=Ht._getNodeRef(Ht.meshCache,Tt.mesh,Et);return Tt.weights!==void 0&&Lt.traverse(function(ut){if(ut.isMesh)for(let X=0,tt=Tt.weights.length;X<tt;X++)ut.morphTargetInfluences[X]=Tt.weights[X]}),Lt})}loadNode(Ot){const _t=this.json,Ht=this,Tt=_t.nodes[Ot],Et=Ht._loadNodeShallow(Ot),Lt=[],ut=Tt.children||[];for(let tt=0,Bt=ut.length;tt<Bt;tt++)Lt.push(Ht.getDependency("node",ut[tt]));const X=Tt.skin===void 0?Promise.resolve(null):Ht.getDependency("skin",Tt.skin);return Promise.all([Et,Promise.all(Lt),X]).then(function(tt){const Bt=tt[0],Qt=tt[1],jt=tt[2];jt!==null&&Bt.traverse(function(ne){ne.isSkinnedMesh&&ne.bind(jt,ri)});for(let ne=0,se=Qt.length;ne<se;ne++)Bt.add(Qt[ne]);return Bt})}_loadNodeShallow(Ot){const _t=this.json,Ht=this.extensions,Tt=this;if(this.nodeCache[Ot]!==void 0)return this.nodeCache[Ot];const Et=_t.nodes[Ot],Lt=Et.name?Tt.createUniqueName(Et.name):"",ut=[],X=Tt._invokeOne(function(tt){return tt.createNodeMesh&&tt.createNodeMesh(Ot)});return X&&ut.push(X),Et.camera!==void 0&&ut.push(Tt.getDependency("camera",Et.camera).then(function(tt){return Tt._getNodeRef(Tt.cameraCache,Et.camera,tt)})),Tt._invokeAll(function(tt){return tt.createNodeAttachment&&tt.createNodeAttachment(Ot)}).forEach(function(tt){ut.push(tt)}),this.nodeCache[Ot]=Promise.all(ut).then(function(tt){let Bt;if(Et.isBone===!0?Bt=new h.Bone:tt.length>1?Bt=new h.Group:tt.length===1?Bt=tt[0]:Bt=new h.Object3D,Bt!==tt[0])for(let Qt=0,jt=tt.length;Qt<jt;Qt++)Bt.add(tt[Qt]);if(Et.name&&(Bt.userData.name=Et.name,Bt.name=Lt),ae(Bt,Et),Et.extensions&&ce(Ht,Bt,Et),Et.matrix!==void 0){const Qt=new h.Matrix4;Qt.fromArray(Et.matrix),Bt.applyMatrix4(Qt)}else Et.translation!==void 0&&Bt.position.fromArray(Et.translation),Et.rotation!==void 0&&Bt.quaternion.fromArray(Et.rotation),Et.scale!==void 0&&Bt.scale.fromArray(Et.scale);return Tt.associations.has(Bt)||Tt.associations.set(Bt,{}),Tt.associations.get(Bt).nodes=Ot,Bt}),this.nodeCache[Ot]}loadScene(Ot){const _t=this.extensions,Ht=this.json.scenes[Ot],Tt=this,Et=new h.Group;Ht.name&&(Et.name=Tt.createUniqueName(Ht.name)),ae(Et,Ht),Ht.extensions&&ce(_t,Et,Ht);const Lt=Ht.nodes||[],ut=[];for(let X=0,tt=Lt.length;X<tt;X++)ut.push(Tt.getDependency("node",Lt[X]));return Promise.all(ut).then(function(X){for(let Bt=0,Qt=X.length;Bt<Qt;Bt++)Et.add(X[Bt]);const tt=Bt=>{const Qt=new Map;for(const[jt,ne]of Tt.associations)(jt instanceof h.Material||jt instanceof h.Texture)&&Qt.set(jt,ne);return Bt.traverse(jt=>{const ne=Tt.associations.get(jt);ne!=null&&Qt.set(jt,ne)}),Qt};return Tt.associations=tt(Et),Et})}_createAnimationTracks(Ot,_t,Ht,Tt,Et){const Lt=[],ut=Ot.name?Ot.name:Ot.uuid,X=[];zt[Et.path]===zt.weights?Ot.traverse(function(jt){jt.morphTargetInfluences&&X.push(jt.name?jt.name:jt.uuid)}):X.push(ut);let tt;switch(zt[Et.path]){case zt.weights:tt=h.NumberKeyframeTrack;break;case zt.rotation:tt=h.QuaternionKeyframeTrack;break;case zt.position:case zt.scale:tt=h.VectorKeyframeTrack;break;default:switch(Ht.itemSize){case 1:tt=h.NumberKeyframeTrack;break;case 2:case 3:default:tt=h.VectorKeyframeTrack;break}break}const Bt=Tt.interpolation!==void 0?kt[Tt.interpolation]:h.InterpolateLinear,Qt=this._getArrayFromAccessor(Ht);for(let jt=0,ne=X.length;jt<ne;jt++){const se=new tt(X[jt]+"."+zt[Et.path],_t.array,Qt,Bt);Tt.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(se),Lt.push(se)}return Lt}_getArrayFromAccessor(Ot){let _t=Ot.array;if(Ot.normalized){const Ht=He(_t.constructor),Tt=new Float32Array(_t.length);for(let Et=0,Lt=_t.length;Et<Lt;Et++)Tt[Et]=_t[Et]*Ht;_t=Tt}return _t}_createCubicSplineTrackInterpolant(Ot){Ot.createInterpolant=function(Ht){const Tt=this instanceof h.QuaternionKeyframeTrack?st:dt;return new Tt(this.times,this.values,this.getValueSize()/3,Ht)},Ot.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function oe(pe,Ot,_t){const Ht=Ot.attributes,Tt=new h.Box3;if(Ht.POSITION!==void 0){const ut=_t.json.accessors[Ht.POSITION],X=ut.min,tt=ut.max;if(X!==void 0&&tt!==void 0){if(Tt.set(new h.Vector3(X[0],X[1],X[2]),new h.Vector3(tt[0],tt[1],tt[2])),ut.normalized){const Bt=He(At[ut.componentType]);Tt.min.multiplyScalar(Bt),Tt.max.multiplyScalar(Bt)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const Et=Ot.targets;if(Et!==void 0){const ut=new h.Vector3,X=new h.Vector3;for(let tt=0,Bt=Et.length;tt<Bt;tt++){const Qt=Et[tt];if(Qt.POSITION!==void 0){const jt=_t.json.accessors[Qt.POSITION],ne=jt.min,se=jt.max;if(ne!==void 0&&se!==void 0){if(X.setX(Math.max(Math.abs(ne[0]),Math.abs(se[0]))),X.setY(Math.max(Math.abs(ne[1]),Math.abs(se[1]))),X.setZ(Math.max(Math.abs(ne[2]),Math.abs(se[2]))),jt.normalized){const Be=He(At[jt.componentType]);X.multiplyScalar(Be)}ut.max(X)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}Tt.expandByVector(ut)}pe.boundingBox=Tt;const Lt=new h.Sphere;Tt.getCenter(Lt.center),Lt.radius=Tt.min.distanceTo(Tt.max)/2,pe.boundingSphere=Lt}function fe(pe,Ot,_t){const Ht=Ot.attributes,Tt=[];function Et(Lt,ut){return _t.getDependency("accessor",Lt).then(function(X){pe.setAttribute(ut,X)})}for(const Lt in Ht){const ut=lt[Lt]||Lt.toLowerCase();ut in pe.attributes||Tt.push(Et(Ht[Lt],ut))}if(Ot.indices!==void 0&&!pe.index){const Lt=_t.getDependency("accessor",Ot.indices).then(function(ut){pe.setIndex(ut)});Tt.push(Lt)}return h.ColorManagement.workingColorSpace!==h.LinearSRGBColorSpace&&"COLOR_0"in Ht&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${h.ColorManagement.workingColorSpace}" not supported.`),ae(pe,Ot),oe(pe,Ot,_t),Promise.all(Tt).then(function(){return Ot.targets!==void 0?qt(pe,Ot.targets,_t):pe})}},"./node_modules/three/examples/jsm/loaders/KTX2Loader.js":(c,d,u)=>{u.r(d),u.d(d,{KTX2Loader:()=>v});var h=u("./node_modules/three/build/three.module.js"),p=u("./node_modules/three/examples/jsm/utils/WorkerPool.js"),f=u("./node_modules/three/examples/jsm/libs/ktx-parse.module.js"),M=u("./node_modules/three/examples/jsm/libs/zstddec.module.js");const g=new WeakMap;let y=0,b;class v extends h.Loader{constructor(T){super(T),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new p.WorkerPool,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(T){return this.transcoderPath=T,this}setWorkerLimit(T){return this.workerPool.setWorkerLimit(T),this}async detectSupportAsync(T){return this.workerConfig={astcSupported:await T.hasFeatureAsync("texture-compression-astc"),etc1Supported:await T.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await T.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await T.hasFeatureAsync("texture-compression-bc"),bptcSupported:await T.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await T.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(T){return T.isWebGPURenderer===!0?this.workerConfig={astcSupported:T.hasFeature("texture-compression-astc"),etc1Supported:T.hasFeature("texture-compression-etc1"),etc2Supported:T.hasFeature("texture-compression-etc2"),dxtSupported:T.hasFeature("texture-compression-bc"),bptcSupported:T.hasFeature("texture-compression-bptc"),pvrtcSupported:T.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:T.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:T.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:T.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:T.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:T.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:T.extensions.has("WEBGL_compressed_texture_pvrtc")||T.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const T=new h.FileLoader(this.manager);T.setPath(this.transcoderPath),T.setWithCredentials(this.withCredentials);const k=T.loadAsync("basis_transcoder.js"),D=new h.FileLoader(this.manager);D.setPath(this.transcoderPath),D.setResponseType("arraybuffer"),D.setWithCredentials(this.withCredentials);const N=D.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([k,N]).then(([P,F])=>{const U=v.BasisWorker.toString(),V=["/* constants */","let _EngineFormat = "+JSON.stringify(v.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(v.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(v.BasisFormat),"/* basis_transcoder.js */",P,"/* worker */",U.substring(U.indexOf("{")+1,U.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([V])),this.transcoderBinary=F,this.workerPool.setWorkerCreator(()=>{const z=new Worker(this.workerSourceURL),G=this.transcoderBinary.slice(0);return z.postMessage({type:"init",config:this.workerConfig,transcoderBinary:G},[G]),z})}),y>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),y++}return this.transcoderPending}load(T,k,D,N){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const P=new h.FileLoader(this.manager);P.setResponseType("arraybuffer"),P.setWithCredentials(this.withCredentials),P.load(T,F=>{if(g.has(F))return g.get(F).promise.then(k).catch(N);this._createTexture(F).then(U=>k?k(U):null).catch(N)},D,N)}_createTextureFrom(T,k){const{faces:D,width:N,height:P,format:F,type:U,error:V,dfdFlags:z}=T;if(U==="error")return Promise.reject(V);let G;if(k.faceCount===6)G=new h.CompressedCubeTexture(D,F,h.UnsignedByteType);else{const H=D[0].mipmaps;G=k.layerCount>1?new h.CompressedArrayTexture(H,N,P,k.layerCount,F,h.UnsignedByteType):new h.CompressedTexture(H,N,P,F,h.UnsignedByteType)}return G.minFilter=D[0].mipmaps.length===1?h.LinearFilter:h.LinearMipmapLinearFilter,G.magFilter=h.LinearFilter,G.generateMipmaps=!1,G.needsUpdate=!0,G.colorSpace=S(k),G.premultiplyAlpha=!!(z&f.KHR_DF_FLAG_ALPHA_PREMULTIPLIED),G}async _createTexture(T,k={}){const D=(0,f.read)(new Uint8Array(T));if(D.vkFormat!==f.VK_FORMAT_UNDEFINED)return E(D);const N=k,P=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:T,taskConfig:N},[T])).then(F=>this._createTextureFrom(F.data,D));return g.set(T,{promise:P}),P}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),y--,this}}v.BasisFormat={ETC1S:0,UASTC_4x4:1},v.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},v.EngineFormat={RGBAFormat:h.RGBAFormat,RGBA_ASTC_4x4_Format:h.RGBA_ASTC_4x4_Format,RGBA_BPTC_Format:h.RGBA_BPTC_Format,RGBA_ETC2_EAC_Format:h.RGBA_ETC2_EAC_Format,RGBA_PVRTC_4BPPV1_Format:h.RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT5_Format:h.RGBA_S3TC_DXT5_Format,RGB_ETC1_Format:h.RGB_ETC1_Format,RGB_ETC2_Format:h.RGB_ETC2_Format,RGB_PVRTC_4BPPV1_Format:h.RGB_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format:h.RGBA_S3TC_DXT1_Format},v.BasisWorker=function(){let I,T,k;const D=_EngineFormat,N=_TranscoderFormat,P=_BasisFormat;self.addEventListener("message",function(j){const W=j.data;switch(W.type){case"init":I=W.config,F(W.transcoderBinary);break;case"transcode":T.then(()=>{try{const{faces:et,buffers:dt,width:ht,height:st,hasAlpha:St,format:At,dfdFlags:xt}=U(W.buffer);self.postMessage({type:"transcode",id:W.id,faces:et,width:ht,height:st,hasAlpha:St,format:At,dfdFlags:xt},dt)}catch(et){console.error(et),self.postMessage({type:"error",id:W.id,error:et.message})}});break}});function F(j){T=new Promise(W=>{k={wasmBinary:j,onRuntimeInitialized:W},BASIS(k)}).then(()=>{k.initializeBasis(),k.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function U(j){const W=new k.KTX2File(new Uint8Array(j));function et(){W.close(),W.delete()}if(!W.isValid())throw et(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");const dt=W.isUASTC()?P.UASTC_4x4:P.ETC1S,ht=W.getWidth(),st=W.getHeight(),St=W.getLayers()||1,At=W.getLevels(),xt=W.getFaces(),gt=W.getHasAlpha(),yt=W.getDFDFlags(),{transcoderFormat:lt,engineFormat:zt}=H(dt,ht,st,gt);if(!ht||!st||!At)throw et(),new Error("THREE.KTX2Loader:	Invalid texture");if(!W.startTranscoding())throw et(),new Error("THREE.KTX2Loader: .startTranscoding failed");const kt=[],Jt=[];for(let Gt=0;Gt<xt;Gt++){const ce=[];for(let ae=0;ae<At;ae++){const qt=[];let ue,$e;for(let He=0;He<St;He++){const qe=W.getImageLevelInfo(ae,He,Gt);Gt===0&&ae===0&&He===0&&(qe.origWidth%4!==0||qe.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),At>1?(ue=qe.origWidth,$e=qe.origHeight):(ue=qe.width,$e=qe.height);const ri=new Uint8Array(W.getImageTranscodedSizeInBytes(ae,He,0,lt));if(!W.transcodeImage(ri,ae,He,Gt,lt,0,-1,-1))throw et(),new Error("THREE.KTX2Loader: .transcodeImage failed.");qt.push(ri)}const ve=Z(qt);ce.push({data:ve,width:ue,height:$e}),Jt.push(ve.buffer)}kt.push({mipmaps:ce,width:ht,height:st,format:zt})}return et(),{faces:kt,buffers:Jt,width:ht,height:st,hasAlpha:gt,format:zt,dfdFlags:yt}}const V=[{if:"astcSupported",basisFormat:[P.UASTC_4x4],transcoderFormat:[N.ASTC_4x4,N.ASTC_4x4],engineFormat:[D.RGBA_ASTC_4x4_Format,D.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[P.ETC1S,P.UASTC_4x4],transcoderFormat:[N.BC7_M5,N.BC7_M5],engineFormat:[D.RGBA_BPTC_Format,D.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[P.ETC1S,P.UASTC_4x4],transcoderFormat:[N.BC1,N.BC3],engineFormat:[D.RGBA_S3TC_DXT1_Format,D.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[P.ETC1S,P.UASTC_4x4],transcoderFormat:[N.ETC1,N.ETC2],engineFormat:[D.RGB_ETC2_Format,D.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[P.ETC1S,P.UASTC_4x4],transcoderFormat:[N.ETC1],engineFormat:[D.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[P.ETC1S,P.UASTC_4x4],transcoderFormat:[N.PVRTC1_4_RGB,N.PVRTC1_4_RGBA],engineFormat:[D.RGB_PVRTC_4BPPV1_Format,D.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],z=V.sort(function(j,W){return j.priorityETC1S-W.priorityETC1S}),G=V.sort(function(j,W){return j.priorityUASTC-W.priorityUASTC});function H(j,W,et,dt){let ht,st;const St=j===P.ETC1S?z:G;for(let At=0;At<St.length;At++){const xt=St[At];if(I[xt.if]&&xt.basisFormat.includes(j)&&!(dt&&xt.transcoderFormat.length<2)&&!(xt.needsPowerOfTwo&&!(J(W)&&J(et))))return ht=xt.transcoderFormat[dt?1:0],st=xt.engineFormat[dt?1:0],{transcoderFormat:ht,engineFormat:st}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),ht=N.RGBA32,st=D.RGBAFormat,{transcoderFormat:ht,engineFormat:st}}function J(j){return j<=2?!0:(j&j-1)===0&&j!==0}function Z(j){if(j.length===1)return j[0];let W=0;for(let ht=0;ht<j.length;ht++){const st=j[ht];W+=st.byteLength}const et=new Uint8Array(W);let dt=0;for(let ht=0;ht<j.length;ht++){const st=j[ht];et.set(st,dt),dt+=st.byteLength}return et}};const C=new Set([h.RGBAFormat,h.RGFormat,h.RedFormat]),w={[f.VK_FORMAT_R32G32B32A32_SFLOAT]:h.RGBAFormat,[f.VK_FORMAT_R16G16B16A16_SFLOAT]:h.RGBAFormat,[f.VK_FORMAT_R8G8B8A8_UNORM]:h.RGBAFormat,[f.VK_FORMAT_R8G8B8A8_SRGB]:h.RGBAFormat,[f.VK_FORMAT_R32G32_SFLOAT]:h.RGFormat,[f.VK_FORMAT_R16G16_SFLOAT]:h.RGFormat,[f.VK_FORMAT_R8G8_UNORM]:h.RGFormat,[f.VK_FORMAT_R8G8_SRGB]:h.RGFormat,[f.VK_FORMAT_R32_SFLOAT]:h.RedFormat,[f.VK_FORMAT_R16_SFLOAT]:h.RedFormat,[f.VK_FORMAT_R8_SRGB]:h.RedFormat,[f.VK_FORMAT_R8_UNORM]:h.RedFormat,[f.VK_FORMAT_ASTC_6x6_SRGB_BLOCK]:h.RGBA_ASTC_6x6_Format,[f.VK_FORMAT_ASTC_6x6_UNORM_BLOCK]:h.RGBA_ASTC_6x6_Format},_={[f.VK_FORMAT_R32G32B32A32_SFLOAT]:h.FloatType,[f.VK_FORMAT_R16G16B16A16_SFLOAT]:h.HalfFloatType,[f.VK_FORMAT_R8G8B8A8_UNORM]:h.UnsignedByteType,[f.VK_FORMAT_R8G8B8A8_SRGB]:h.UnsignedByteType,[f.VK_FORMAT_R32G32_SFLOAT]:h.FloatType,[f.VK_FORMAT_R16G16_SFLOAT]:h.HalfFloatType,[f.VK_FORMAT_R8G8_UNORM]:h.UnsignedByteType,[f.VK_FORMAT_R8G8_SRGB]:h.UnsignedByteType,[f.VK_FORMAT_R32_SFLOAT]:h.FloatType,[f.VK_FORMAT_R16_SFLOAT]:h.HalfFloatType,[f.VK_FORMAT_R8_SRGB]:h.UnsignedByteType,[f.VK_FORMAT_R8_UNORM]:h.UnsignedByteType,[f.VK_FORMAT_ASTC_6x6_SRGB_BLOCK]:h.UnsignedByteType,[f.VK_FORMAT_ASTC_6x6_UNORM_BLOCK]:h.UnsignedByteType};async function E(I){const{vkFormat:T}=I;if(w[T]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let k;I.supercompressionScheme===f.KHR_SUPERCOMPRESSION_ZSTD&&(b||(b=new Promise(async P=>{const F=new M.ZSTDDecoder;await F.init(),P(F)})),k=await b);const D=[];for(let P=0;P<I.levels.length;P++){const F=Math.max(1,I.pixelWidth>>P),U=Math.max(1,I.pixelHeight>>P),V=I.pixelDepth?Math.max(1,I.pixelDepth>>P):0,z=I.levels[P];let G;if(I.supercompressionScheme===f.KHR_SUPERCOMPRESSION_NONE)G=z.levelData;else if(I.supercompressionScheme===f.KHR_SUPERCOMPRESSION_ZSTD)G=k.decode(z.levelData,z.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let H;_[T]===h.FloatType?H=new Float32Array(G.buffer,G.byteOffset,G.byteLength/Float32Array.BYTES_PER_ELEMENT):_[T]===h.HalfFloatType?H=new Uint16Array(G.buffer,G.byteOffset,G.byteLength/Uint16Array.BYTES_PER_ELEMENT):H=G,D.push({data:H,width:F,height:U,depth:V})}let N;if(C.has(w[T]))N=I.pixelDepth===0?new h.DataTexture(D[0].data,I.pixelWidth,I.pixelHeight):new h.Data3DTexture(D[0].data,I.pixelWidth,I.pixelHeight,I.pixelDepth);else{if(I.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");N=new h.CompressedTexture(D,I.pixelWidth,I.pixelHeight)}return N.mipmaps=D,N.type=_[T],N.format=w[T],N.colorSpace=S(I),N.needsUpdate=!0,Promise.resolve(N)}function S(I){const T=I.dataFormatDescriptor[0];return T.colorPrimaries===f.KHR_DF_PRIMARIES_BT709?T.transferFunction===f.KHR_DF_TRANSFER_SRGB?h.SRGBColorSpace:h.LinearSRGBColorSpace:T.colorPrimaries===f.KHR_DF_PRIMARIES_DISPLAYP3?T.transferFunction===f.KHR_DF_TRANSFER_SRGB?h.DisplayP3ColorSpace:h.LinearDisplayP3ColorSpace:(T.colorPrimaries===f.KHR_DF_PRIMARIES_UNSPECIFIED||console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${T.colorPrimaries}"`),h.NoColorSpace)}},"./node_modules/three/examples/jsm/loaders/MTLLoader.js":(c,d,u)=>{u.r(d),u.d(d,{MTLLoader:()=>p});var h=u("./node_modules/three/build/three.module.js");class p extends h.Loader{constructor(g){super(g)}load(g,y,b,v){const C=this,w=this.path===""?h.LoaderUtils.extractUrlBase(g):this.path,_=new h.FileLoader(this.manager);_.setPath(this.path),_.setRequestHeader(this.requestHeader),_.setWithCredentials(this.withCredentials),_.load(g,function(E){try{y(C.parse(E,w))}catch(S){v?v(S):console.error(S),C.manager.itemError(g)}},b,v)}setMaterialOptions(g){return this.materialOptions=g,this}parse(g,y){const b=g.split(`
`);let v={};const C=/\s+/,w={};for(let E=0;E<b.length;E++){let S=b[E];if(S=S.trim(),S.length===0||S.charAt(0)==="#")continue;const I=S.indexOf(" ");let T=I>=0?S.substring(0,I):S;T=T.toLowerCase();let k=I>=0?S.substring(I+1):"";if(k=k.trim(),T==="newmtl")v={name:k},w[k]=v;else if(T==="ka"||T==="kd"||T==="ks"||T==="ke"){const D=k.split(C,3);v[T]=[parseFloat(D[0]),parseFloat(D[1]),parseFloat(D[2])]}else v[T]=k}const _=new f(this.resourcePath||y,this.materialOptions);return _.setCrossOrigin(this.crossOrigin),_.setManager(this.manager),_.setMaterials(w),_}}class f{constructor(g="",y={}){this.baseUrl=g,this.options=y,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:h.FrontSide,this.wrap=this.options.wrap!==void 0?this.options.wrap:h.RepeatWrapping}setCrossOrigin(g){return this.crossOrigin=g,this}setManager(g){this.manager=g}setMaterials(g){this.materialsInfo=this.convert(g),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(g){if(!this.options)return g;const y={};for(const b in g){const v=g[b],C={};y[b]=C;for(const w in v){let _=!0,E=v[w];const S=w.toLowerCase();switch(S){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(E=[E[0]/255,E[1]/255,E[2]/255]),this.options&&this.options.ignoreZeroRGBs&&E[0]===0&&E[1]===0&&E[2]===0&&(_=!1);break}_&&(C[S]=E)}}return y}preload(){for(const g in this.materialsInfo)this.create(g)}getIndex(g){return this.nameLookup[g]}getAsArray(){let g=0;for(const y in this.materialsInfo)this.materialsArray[g]=this.create(y),this.nameLookup[y]=g,g++;return this.materialsArray}create(g){return this.materials[g]===void 0&&this.createMaterial_(g),this.materials[g]}createMaterial_(g){const y=this,b=this.materialsInfo[g],v={name:g,side:this.side};function C(_,E){return typeof E!="string"||E===""?"":/^https?:\/\//i.test(E)?E:_+E}function w(_,E){if(v[_])return;const S=y.getTextureParams(E,v),I=y.loadTexture(C(y.baseUrl,S.url));I.repeat.copy(S.scale),I.offset.copy(S.offset),I.wrapS=y.wrap,I.wrapT=y.wrap,(_==="map"||_==="emissiveMap")&&(I.colorSpace=h.SRGBColorSpace),v[_]=I}for(const _ in b){const E=b[_];let S;if(E!=="")switch(_.toLowerCase()){case"kd":v.color=new h.Color().fromArray(E).convertSRGBToLinear();break;case"ks":v.specular=new h.Color().fromArray(E).convertSRGBToLinear();break;case"ke":v.emissive=new h.Color().fromArray(E).convertSRGBToLinear();break;case"map_kd":w("map",E);break;case"map_ks":w("specularMap",E);break;case"map_ke":w("emissiveMap",E);break;case"norm":w("normalMap",E);break;case"map_bump":case"bump":w("bumpMap",E);break;case"map_d":w("alphaMap",E),v.transparent=!0;break;case"ns":v.shininess=parseFloat(E);break;case"d":S=parseFloat(E),S<1&&(v.opacity=S,v.transparent=!0);break;case"tr":S=parseFloat(E),this.options&&this.options.invertTrProperty&&(S=1-S),S>0&&(v.opacity=1-S,v.transparent=!0);break}}return this.materials[g]=new h.MeshPhongMaterial(v),this.materials[g]}getTextureParams(g,y){const b={scale:new h.Vector2(1,1),offset:new h.Vector2(0,0)},v=g.split(/\s+/);let C;return C=v.indexOf("-bm"),C>=0&&(y.bumpScale=parseFloat(v[C+1]),v.splice(C,2)),C=v.indexOf("-s"),C>=0&&(b.scale.set(parseFloat(v[C+1]),parseFloat(v[C+2])),v.splice(C,4)),C=v.indexOf("-o"),C>=0&&(b.offset.set(parseFloat(v[C+1]),parseFloat(v[C+2])),v.splice(C,4)),b.url=v.join(" ").trim(),b}loadTexture(g,y,b,v,C){const w=this.manager!==void 0?this.manager:h.DefaultLoadingManager;let _=w.getHandler(g);_===null&&(_=new h.TextureLoader(w)),_.setCrossOrigin&&_.setCrossOrigin(this.crossOrigin);const E=_.load(g,b,v,C);return y!==void 0&&(E.mapping=y),E}}},"./node_modules/three/examples/jsm/loaders/OBJLoader.js":(c,d,u)=>{u.r(d),u.d(d,{OBJLoader:()=>I});var h=u("./node_modules/three/build/three.module.js");const p=/^[og]\s*(.+)?/,f=/^mtllib /,M=/^usemtl /,g=/^usemap /,y=/\s+/,b=new h.Vector3,v=new h.Vector3,C=new h.Vector3,w=new h.Vector3,_=new h.Vector3,E=new h.Color;function S(){const T={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(k,D){if(this.object&&this.object.fromDeclaration===!1){this.object.name=k,this.object.fromDeclaration=D!==!1;return}const N=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:k||"",fromDeclaration:D!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(P,F){const U=this._finalize(!1);U&&(U.inherited||U.groupCount<=0)&&this.materials.splice(U.index,1);const V={index:this.materials.length,name:P||"",mtllib:Array.isArray(F)&&F.length>0?F[F.length-1]:"",smooth:U!==void 0?U.smooth:this.smooth,groupStart:U!==void 0?U.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(z){const G={index:typeof z=="number"?z:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return G.clone=this.clone.bind(G),G}};return this.materials.push(V),V},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(P){const F=this.currentMaterial();if(F&&F.groupEnd===-1&&(F.groupEnd=this.geometry.vertices.length/3,F.groupCount=F.groupEnd-F.groupStart,F.inherited=!1),P&&this.materials.length>1)for(let U=this.materials.length-1;U>=0;U--)this.materials[U].groupCount<=0&&this.materials.splice(U,1);return P&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),F}},N&&N.name&&typeof N.clone=="function"){const P=N.clone(0);P.inherited=!0,this.object.materials.push(P)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(k,D){const N=parseInt(k,10);return(N>=0?N-1:N+D/3)*3},parseNormalIndex:function(k,D){const N=parseInt(k,10);return(N>=0?N-1:N+D/3)*3},parseUVIndex:function(k,D){const N=parseInt(k,10);return(N>=0?N-1:N+D/2)*2},addVertex:function(k,D,N){const P=this.vertices,F=this.object.geometry.vertices;F.push(P[k+0],P[k+1],P[k+2]),F.push(P[D+0],P[D+1],P[D+2]),F.push(P[N+0],P[N+1],P[N+2])},addVertexPoint:function(k){const D=this.vertices;this.object.geometry.vertices.push(D[k+0],D[k+1],D[k+2])},addVertexLine:function(k){const D=this.vertices;this.object.geometry.vertices.push(D[k+0],D[k+1],D[k+2])},addNormal:function(k,D,N){const P=this.normals,F=this.object.geometry.normals;F.push(P[k+0],P[k+1],P[k+2]),F.push(P[D+0],P[D+1],P[D+2]),F.push(P[N+0],P[N+1],P[N+2])},addFaceNormal:function(k,D,N){const P=this.vertices,F=this.object.geometry.normals;b.fromArray(P,k),v.fromArray(P,D),C.fromArray(P,N),_.subVectors(C,v),w.subVectors(b,v),_.cross(w),_.normalize(),F.push(_.x,_.y,_.z),F.push(_.x,_.y,_.z),F.push(_.x,_.y,_.z)},addColor:function(k,D,N){const P=this.colors,F=this.object.geometry.colors;P[k]!==void 0&&F.push(P[k+0],P[k+1],P[k+2]),P[D]!==void 0&&F.push(P[D+0],P[D+1],P[D+2]),P[N]!==void 0&&F.push(P[N+0],P[N+1],P[N+2])},addUV:function(k,D,N){const P=this.uvs,F=this.object.geometry.uvs;F.push(P[k+0],P[k+1]),F.push(P[D+0],P[D+1]),F.push(P[N+0],P[N+1])},addDefaultUV:function(){const k=this.object.geometry.uvs;k.push(0,0),k.push(0,0),k.push(0,0)},addUVLine:function(k){const D=this.uvs;this.object.geometry.uvs.push(D[k+0],D[k+1])},addFace:function(k,D,N,P,F,U,V,z,G){const H=this.vertices.length;let J=this.parseVertexIndex(k,H),Z=this.parseVertexIndex(D,H),j=this.parseVertexIndex(N,H);if(this.addVertex(J,Z,j),this.addColor(J,Z,j),V!==void 0&&V!==""){const W=this.normals.length;J=this.parseNormalIndex(V,W),Z=this.parseNormalIndex(z,W),j=this.parseNormalIndex(G,W),this.addNormal(J,Z,j)}else this.addFaceNormal(J,Z,j);if(P!==void 0&&P!==""){const W=this.uvs.length;J=this.parseUVIndex(P,W),Z=this.parseUVIndex(F,W),j=this.parseUVIndex(U,W),this.addUV(J,Z,j),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(k){this.object.geometry.type="Points";const D=this.vertices.length;for(let N=0,P=k.length;N<P;N++){const F=this.parseVertexIndex(k[N],D);this.addVertexPoint(F),this.addColor(F)}},addLineGeometry:function(k,D){this.object.geometry.type="Line";const N=this.vertices.length,P=this.uvs.length;for(let F=0,U=k.length;F<U;F++)this.addVertexLine(this.parseVertexIndex(k[F],N));for(let F=0,U=D.length;F<U;F++)this.addUVLine(this.parseUVIndex(D[F],P))}};return T.startObject("",!1),T}class I extends h.Loader{constructor(k){super(k),this.materials=null}load(k,D,N,P){const F=this,U=new h.FileLoader(this.manager);U.setPath(this.path),U.setRequestHeader(this.requestHeader),U.setWithCredentials(this.withCredentials),U.load(k,function(V){try{D(F.parse(V))}catch(z){P?P(z):console.error(z),F.manager.itemError(k)}},N,P)}setMaterials(k){return this.materials=k,this}parse(k){const D=new S;k.indexOf(`\r
`)!==-1&&(k=k.replace(/\r\n/g,`
`)),k.indexOf(`\\
`)!==-1&&(k=k.replace(/\\\n/g,""));const N=k.split(`
`);let P=[];for(let V=0,z=N.length;V<z;V++){const G=N[V].trimStart();if(G.length===0)continue;const H=G.charAt(0);if(H!=="#")if(H==="v"){const J=G.split(y);switch(J[0]){case"v":D.vertices.push(parseFloat(J[1]),parseFloat(J[2]),parseFloat(J[3])),J.length>=7?(E.setRGB(parseFloat(J[4]),parseFloat(J[5]),parseFloat(J[6])).convertSRGBToLinear(),D.colors.push(E.r,E.g,E.b)):D.colors.push(void 0,void 0,void 0);break;case"vn":D.normals.push(parseFloat(J[1]),parseFloat(J[2]),parseFloat(J[3]));break;case"vt":D.uvs.push(parseFloat(J[1]),parseFloat(J[2]));break}}else if(H==="f"){const Z=G.slice(1).trim().split(y),j=[];for(let et=0,dt=Z.length;et<dt;et++){const ht=Z[et];if(ht.length>0){const st=ht.split("/");j.push(st)}}const W=j[0];for(let et=1,dt=j.length-1;et<dt;et++){const ht=j[et],st=j[et+1];D.addFace(W[0],ht[0],st[0],W[1],ht[1],st[1],W[2],ht[2],st[2])}}else if(H==="l"){const J=G.substring(1).trim().split(" ");let Z=[];const j=[];if(G.indexOf("/")===-1)Z=J;else for(let W=0,et=J.length;W<et;W++){const dt=J[W].split("/");dt[0]!==""&&Z.push(dt[0]),dt[1]!==""&&j.push(dt[1])}D.addLineGeometry(Z,j)}else if(H==="p"){const Z=G.slice(1).trim().split(" ");D.addPointGeometry(Z)}else if((P=p.exec(G))!==null){const J=(" "+P[0].slice(1).trim()).slice(1);D.startObject(J)}else if(M.test(G))D.object.startMaterial(G.substring(7).trim(),D.materialLibraries);else if(f.test(G))D.materialLibraries.push(G.substring(7).trim());else if(g.test(G))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(H==="s"){if(P=G.split(" "),P.length>1){const Z=P[1].trim().toLowerCase();D.object.smooth=Z!=="0"&&Z!=="off"}else D.object.smooth=!0;const J=D.object.currentMaterial();J&&(J.smooth=D.object.smooth)}else{if(G==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+G+'"')}}D.finalize();const F=new h.Group;if(F.materialLibraries=[].concat(D.materialLibraries),!(D.objects.length===1&&D.objects[0].geometry.vertices.length===0)===!0)for(let V=0,z=D.objects.length;V<z;V++){const G=D.objects[V],H=G.geometry,J=G.materials,Z=H.type==="Line",j=H.type==="Points";let W=!1;if(H.vertices.length===0)continue;const et=new h.BufferGeometry;et.setAttribute("position",new h.Float32BufferAttribute(H.vertices,3)),H.normals.length>0&&et.setAttribute("normal",new h.Float32BufferAttribute(H.normals,3)),H.colors.length>0&&(W=!0,et.setAttribute("color",new h.Float32BufferAttribute(H.colors,3))),H.hasUVIndices===!0&&et.setAttribute("uv",new h.Float32BufferAttribute(H.uvs,2));const dt=[];for(let st=0,St=J.length;st<St;st++){const At=J[st],xt=At.name+"_"+At.smooth+"_"+W;let gt=D.materials[xt];if(this.materials!==null){if(gt=this.materials.create(At.name),Z&&gt&&!(gt instanceof h.LineBasicMaterial)){const yt=new h.LineBasicMaterial;h.Material.prototype.copy.call(yt,gt),yt.color.copy(gt.color),gt=yt}else if(j&&gt&&!(gt instanceof h.PointsMaterial)){const yt=new h.PointsMaterial({size:10,sizeAttenuation:!1});h.Material.prototype.copy.call(yt,gt),yt.color.copy(gt.color),yt.map=gt.map,gt=yt}}gt===void 0&&(Z?gt=new h.LineBasicMaterial:j?gt=new h.PointsMaterial({size:1,sizeAttenuation:!1}):gt=new h.MeshPhongMaterial,gt.name=At.name,gt.flatShading=!At.smooth,gt.vertexColors=W,D.materials[xt]=gt),dt.push(gt)}let ht;if(dt.length>1){for(let st=0,St=J.length;st<St;st++){const At=J[st];et.addGroup(At.groupStart,At.groupCount,st)}Z?ht=new h.LineSegments(et,dt):j?ht=new h.Points(et,dt):ht=new h.Mesh(et,dt)}else Z?ht=new h.LineSegments(et,dt[0]):j?ht=new h.Points(et,dt[0]):ht=new h.Mesh(et,dt[0]);ht.name=G.name,F.add(ht)}else if(D.vertices.length>0){const V=new h.PointsMaterial({size:1,sizeAttenuation:!1}),z=new h.BufferGeometry;z.setAttribute("position",new h.Float32BufferAttribute(D.vertices,3)),D.colors.length>0&&D.colors[0]!==void 0&&(z.setAttribute("color",new h.Float32BufferAttribute(D.colors,3)),V.vertexColors=!0);const G=new h.Points(z,V);F.add(G)}return F}}},"./node_modules/three/examples/jsm/math/OBB.js":(c,d,u)=>{u.r(d),u.d(d,{OBB:()=>N});var h=u("./node_modules/three/build/three.module.js");const p={c:null,u:[new h.Vector3,new h.Vector3,new h.Vector3],e:[]},f={c:null,u:[new h.Vector3,new h.Vector3,new h.Vector3],e:[]},M=[[],[],[]],g=[[],[],[]],y=[],b=new h.Vector3,v=new h.Vector3,C=new h.Vector3,w=new h.Vector3,_=new h.Vector3,E=new h.Vector3,S=new h.Matrix3,I=new h.Box3,T=new h.Matrix4,k=new h.Matrix4,D=new h.Ray;class N{constructor(U=new h.Vector3,V=new h.Vector3,z=new h.Matrix3){this.center=U,this.halfSize=V,this.rotation=z}set(U,V,z){return this.center=U,this.halfSize=V,this.rotation=z,this}copy(U){return this.center.copy(U.center),this.halfSize.copy(U.halfSize),this.rotation.copy(U.rotation),this}clone(){return new this.constructor().copy(this)}getSize(U){return U.copy(this.halfSize).multiplyScalar(2)}clampPoint(U,V){const z=this.halfSize;w.subVectors(U,this.center),this.rotation.extractBasis(b,v,C),V.copy(this.center);const G=h.MathUtils.clamp(w.dot(b),-z.x,z.x);V.add(b.multiplyScalar(G));const H=h.MathUtils.clamp(w.dot(v),-z.y,z.y);V.add(v.multiplyScalar(H));const J=h.MathUtils.clamp(w.dot(C),-z.z,z.z);return V.add(C.multiplyScalar(J)),V}containsPoint(U){return w.subVectors(U,this.center),this.rotation.extractBasis(b,v,C),Math.abs(w.dot(b))<=this.halfSize.x&&Math.abs(w.dot(v))<=this.halfSize.y&&Math.abs(w.dot(C))<=this.halfSize.z}intersectsBox3(U){return this.intersectsOBB(P.fromBox3(U))}intersectsSphere(U){return this.clampPoint(U.center,E),E.distanceToSquared(U.center)<=U.radius*U.radius}intersectsOBB(U,V=Number.EPSILON){p.c=this.center,p.e[0]=this.halfSize.x,p.e[1]=this.halfSize.y,p.e[2]=this.halfSize.z,this.rotation.extractBasis(p.u[0],p.u[1],p.u[2]),f.c=U.center,f.e[0]=U.halfSize.x,f.e[1]=U.halfSize.y,f.e[2]=U.halfSize.z,U.rotation.extractBasis(f.u[0],f.u[1],f.u[2]);for(let H=0;H<3;H++)for(let J=0;J<3;J++)M[H][J]=p.u[H].dot(f.u[J]);w.subVectors(f.c,p.c),y[0]=w.dot(p.u[0]),y[1]=w.dot(p.u[1]),y[2]=w.dot(p.u[2]);for(let H=0;H<3;H++)for(let J=0;J<3;J++)g[H][J]=Math.abs(M[H][J])+V;let z,G;for(let H=0;H<3;H++)if(z=p.e[H],G=f.e[0]*g[H][0]+f.e[1]*g[H][1]+f.e[2]*g[H][2],Math.abs(y[H])>z+G)return!1;for(let H=0;H<3;H++)if(z=p.e[0]*g[0][H]+p.e[1]*g[1][H]+p.e[2]*g[2][H],G=f.e[H],Math.abs(y[0]*M[0][H]+y[1]*M[1][H]+y[2]*M[2][H])>z+G)return!1;return z=p.e[1]*g[2][0]+p.e[2]*g[1][0],G=f.e[1]*g[0][2]+f.e[2]*g[0][1],!(Math.abs(y[2]*M[1][0]-y[1]*M[2][0])>z+G||(z=p.e[1]*g[2][1]+p.e[2]*g[1][1],G=f.e[0]*g[0][2]+f.e[2]*g[0][0],Math.abs(y[2]*M[1][1]-y[1]*M[2][1])>z+G)||(z=p.e[1]*g[2][2]+p.e[2]*g[1][2],G=f.e[0]*g[0][1]+f.e[1]*g[0][0],Math.abs(y[2]*M[1][2]-y[1]*M[2][2])>z+G)||(z=p.e[0]*g[2][0]+p.e[2]*g[0][0],G=f.e[1]*g[1][2]+f.e[2]*g[1][1],Math.abs(y[0]*M[2][0]-y[2]*M[0][0])>z+G)||(z=p.e[0]*g[2][1]+p.e[2]*g[0][1],G=f.e[0]*g[1][2]+f.e[2]*g[1][0],Math.abs(y[0]*M[2][1]-y[2]*M[0][1])>z+G)||(z=p.e[0]*g[2][2]+p.e[2]*g[0][2],G=f.e[0]*g[1][1]+f.e[1]*g[1][0],Math.abs(y[0]*M[2][2]-y[2]*M[0][2])>z+G)||(z=p.e[0]*g[1][0]+p.e[1]*g[0][0],G=f.e[1]*g[2][2]+f.e[2]*g[2][1],Math.abs(y[1]*M[0][0]-y[0]*M[1][0])>z+G)||(z=p.e[0]*g[1][1]+p.e[1]*g[0][1],G=f.e[0]*g[2][2]+f.e[2]*g[2][0],Math.abs(y[1]*M[0][1]-y[0]*M[1][1])>z+G)||(z=p.e[0]*g[1][2]+p.e[1]*g[0][2],G=f.e[0]*g[2][1]+f.e[1]*g[2][0],Math.abs(y[1]*M[0][2]-y[0]*M[1][2])>z+G))}intersectsPlane(U){this.rotation.extractBasis(b,v,C);const V=this.halfSize.x*Math.abs(U.normal.dot(b))+this.halfSize.y*Math.abs(U.normal.dot(v))+this.halfSize.z*Math.abs(U.normal.dot(C)),z=U.normal.dot(this.center)-U.constant;return Math.abs(z)<=V}intersectRay(U,V){return this.getSize(_),I.setFromCenterAndSize(w.set(0,0,0),_),T.setFromMatrix3(this.rotation),T.setPosition(this.center),k.copy(T).invert(),D.copy(U).applyMatrix4(k),D.intersectBox(I,V)?V.applyMatrix4(T):null}intersectsRay(U){return this.intersectRay(U,w)!==null}fromBox3(U){return U.getCenter(this.center),U.getSize(this.halfSize).multiplyScalar(.5),this.rotation.identity(),this}equals(U){return U.center.equals(this.center)&&U.halfSize.equals(this.halfSize)&&U.rotation.equals(this.rotation)}applyMatrix4(U){const V=U.elements;let z=w.set(V[0],V[1],V[2]).length();const G=w.set(V[4],V[5],V[6]).length(),H=w.set(V[8],V[9],V[10]).length();U.determinant()<0&&(z=-z),S.setFromMatrix4(U);const Z=1/z,j=1/G,W=1/H;return S.elements[0]*=Z,S.elements[1]*=Z,S.elements[2]*=Z,S.elements[3]*=j,S.elements[4]*=j,S.elements[5]*=j,S.elements[6]*=W,S.elements[7]*=W,S.elements[8]*=W,this.rotation.multiply(S),this.halfSize.x*=z,this.halfSize.y*=G,this.halfSize.z*=H,w.setFromMatrixPosition(U),this.center.add(w),this}}const P=new N},"./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js":(c,d,u)=>{u.r(d),u.d(d,{computeMikkTSpaceTangents:()=>p,computeMorphedAttributes:()=>E,deepCloneAttribute:()=>g,deinterleaveAttribute:()=>b,deinterleaveGeometry:()=>v,estimateBytesUsed:()=>C,interleaveAttributes:()=>y,mergeAttributes:()=>M,mergeGeometries:()=>f,mergeGroups:()=>S,mergeVertices:()=>w,toCreasedNormals:()=>I,toTrianglesDrawMode:()=>_});var h=u("./node_modules/three/build/three.module.js");function p(T,k,D=!0){if(!k||!k.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!T.hasAttribute("position")||!T.hasAttribute("normal")||!T.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function N(U){if(U.normalized||U.isInterleavedBufferAttribute){const V=new Float32Array(U.count*U.itemSize);for(let z=0,G=0;z<U.count;z++)V[G++]=U.getX(z),V[G++]=U.getY(z),U.itemSize>2&&(V[G++]=U.getZ(z));return V}return U.array instanceof Float32Array?U.array:new Float32Array(U.array)}const P=T.index?T.toNonIndexed():T,F=k.generateTangents(N(P.attributes.position),N(P.attributes.normal),N(P.attributes.uv));if(D)for(let U=3;U<F.length;U+=4)F[U]*=-1;return P.setAttribute("tangent",new h.BufferAttribute(F,4)),T!==P&&T.copy(P),T}function f(T,k=!1){const D=T[0].index!==null,N=new Set(Object.keys(T[0].attributes)),P=new Set(Object.keys(T[0].morphAttributes)),F={},U={},V=T[0].morphTargetsRelative,z=new h.BufferGeometry;let G=0;for(let H=0;H<T.length;++H){const J=T[H];let Z=0;if(D!==(J.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+H+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const j in J.attributes){if(!N.has(j))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+H+'. All geometries must have compatible attributes; make sure "'+j+'" attribute exists among all geometries, or in none of them.'),null;F[j]===void 0&&(F[j]=[]),F[j].push(J.attributes[j]),Z++}if(Z!==N.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+H+". Make sure all geometries have the same number of attributes."),null;if(V!==J.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+H+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const j in J.morphAttributes){if(!P.has(j))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+H+".  .morphAttributes must be consistent throughout all geometries."),null;U[j]===void 0&&(U[j]=[]),U[j].push(J.morphAttributes[j])}if(k){let j;if(D)j=J.index.count;else if(J.attributes.position!==void 0)j=J.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+H+". The geometry must have either an index or a position attribute"),null;z.addGroup(G,j,H),G+=j}}if(D){let H=0;const J=[];for(let Z=0;Z<T.length;++Z){const j=T[Z].index;for(let W=0;W<j.count;++W)J.push(j.getX(W)+H);H+=T[Z].attributes.position.count}z.setIndex(J)}for(const H in F){const J=M(F[H]);if(!J)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+H+" attribute."),null;z.setAttribute(H,J)}for(const H in U){const J=U[H][0].length;if(J===0)break;z.morphAttributes=z.morphAttributes||{},z.morphAttributes[H]=[];for(let Z=0;Z<J;++Z){const j=[];for(let et=0;et<U[H].length;++et)j.push(U[H][et][Z]);const W=M(j);if(!W)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+H+" morphAttribute."),null;z.morphAttributes[H].push(W)}}return z}function M(T){let k,D,N,P=-1,F=0;for(let G=0;G<T.length;++G){const H=T[G];if(k===void 0&&(k=H.array.constructor),k!==H.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(D===void 0&&(D=H.itemSize),D!==H.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(N===void 0&&(N=H.normalized),N!==H.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(P===-1&&(P=H.gpuType),P!==H.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;F+=H.count*D}const U=new k(F),V=new h.BufferAttribute(U,D,N);let z=0;for(let G=0;G<T.length;++G){const H=T[G];if(H.isInterleavedBufferAttribute){const J=z/D;for(let Z=0,j=H.count;Z<j;Z++)for(let W=0;W<D;W++){const et=H.getComponent(Z,W);V.setComponent(Z+J,W,et)}}else U.set(H.array,z);z+=H.count*D}return P!==void 0&&(V.gpuType=P),V}function g(T){return T.isInstancedInterleavedBufferAttribute||T.isInterleavedBufferAttribute?b(T):T.isInstancedBufferAttribute?new h.InstancedBufferAttribute().copy(T):new h.BufferAttribute().copy(T)}function y(T){let k,D=0,N=0;for(let G=0,H=T.length;G<H;++G){const J=T[G];if(k===void 0&&(k=J.array.constructor),k!==J.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;D+=J.array.length,N+=J.itemSize}const P=new h.InterleavedBuffer(new k(D),N);let F=0;const U=[],V=["getX","getY","getZ","getW"],z=["setX","setY","setZ","setW"];for(let G=0,H=T.length;G<H;G++){const J=T[G],Z=J.itemSize,j=J.count,W=new h.InterleavedBufferAttribute(P,Z,F,J.normalized);U.push(W),F+=Z;for(let et=0;et<j;et++)for(let dt=0;dt<Z;dt++)W[z[dt]](et,J[V[dt]](et))}return U}function b(T){const k=T.data.array.constructor,D=T.count,N=T.itemSize,P=T.normalized,F=new k(D*N);let U;T.isInstancedInterleavedBufferAttribute?U=new h.InstancedBufferAttribute(F,N,P,T.meshPerAttribute):U=new h.BufferAttribute(F,N,P);for(let V=0;V<D;V++)U.setX(V,T.getX(V)),N>=2&&U.setY(V,T.getY(V)),N>=3&&U.setZ(V,T.getZ(V)),N>=4&&U.setW(V,T.getW(V));return U}function v(T){const k=T.attributes,D=T.morphTargets,N=new Map;for(const P in k){const F=k[P];F.isInterleavedBufferAttribute&&(N.has(F)||N.set(F,b(F)),k[P]=N.get(F))}for(const P in D){const F=D[P];F.isInterleavedBufferAttribute&&(N.has(F)||N.set(F,b(F)),D[P]=N.get(F))}}function C(T){let k=0;for(const N in T.attributes){const P=T.getAttribute(N);k+=P.count*P.itemSize*P.array.BYTES_PER_ELEMENT}const D=T.getIndex();return k+=D?D.count*D.itemSize*D.array.BYTES_PER_ELEMENT:0,k}function w(T,k=1e-4){k=Math.max(k,Number.EPSILON);const D={},N=T.getIndex(),P=T.getAttribute("position"),F=N?N.count:P.count;let U=0;const V=Object.keys(T.attributes),z={},G={},H=[],J=["getX","getY","getZ","getW"],Z=["setX","setY","setZ","setW"];for(let st=0,St=V.length;st<St;st++){const At=V[st],xt=T.attributes[At];z[At]=new h.BufferAttribute(new xt.array.constructor(xt.count*xt.itemSize),xt.itemSize,xt.normalized);const gt=T.morphAttributes[At];gt&&(G[At]=new h.BufferAttribute(new gt.array.constructor(gt.count*gt.itemSize),gt.itemSize,gt.normalized))}const j=k*.5,W=Math.log10(1/k),et=Math.pow(10,W),dt=j*et;for(let st=0;st<F;st++){const St=N?N.getX(st):st;let At="";for(let xt=0,gt=V.length;xt<gt;xt++){const yt=V[xt],lt=T.getAttribute(yt),zt=lt.itemSize;for(let kt=0;kt<zt;kt++)At+=`${~~(lt[J[kt]](St)*et+dt)},`}if(At in D)H.push(D[At]);else{for(let xt=0,gt=V.length;xt<gt;xt++){const yt=V[xt],lt=T.getAttribute(yt),zt=T.morphAttributes[yt],kt=lt.itemSize,Jt=z[yt],Gt=G[yt];for(let ce=0;ce<kt;ce++){const ae=J[ce],qt=Z[ce];if(Jt[qt](U,lt[ae](St)),zt)for(let ue=0,$e=zt.length;ue<$e;ue++)Gt[ue][qt](U,zt[ue][ae](St))}}D[At]=U,H.push(U),U++}}const ht=T.clone();for(const st in T.attributes){const St=z[st];if(ht.setAttribute(st,new h.BufferAttribute(St.array.slice(0,U*St.itemSize),St.itemSize,St.normalized)),st in G)for(let At=0;At<G[st].length;At++){const xt=G[st][At];ht.morphAttributes[st][At]=new h.BufferAttribute(xt.array.slice(0,U*xt.itemSize),xt.itemSize,xt.normalized)}}return ht.setIndex(H),ht}function _(T,k){if(k===h.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),T;if(k===h.TriangleFanDrawMode||k===h.TriangleStripDrawMode){let D=T.getIndex();if(D===null){const U=[],V=T.getAttribute("position");if(V!==void 0){for(let z=0;z<V.count;z++)U.push(z);T.setIndex(U),D=T.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),T}const N=D.count-2,P=[];if(k===h.TriangleFanDrawMode)for(let U=1;U<=N;U++)P.push(D.getX(0)),P.push(D.getX(U)),P.push(D.getX(U+1));else for(let U=0;U<N;U++)U%2===0?(P.push(D.getX(U)),P.push(D.getX(U+1)),P.push(D.getX(U+2))):(P.push(D.getX(U+2)),P.push(D.getX(U+1)),P.push(D.getX(U)));P.length/3!==N&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const F=T.clone();return F.setIndex(P),F.clearGroups(),F}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",k),T}function E(T){const k=new h.Vector3,D=new h.Vector3,N=new h.Vector3,P=new h.Vector3,F=new h.Vector3,U=new h.Vector3,V=new h.Vector3,z=new h.Vector3,G=new h.Vector3;function H(He,qe,ri,oi,oe,fe,pe,Ot){k.fromBufferAttribute(qe,oe),D.fromBufferAttribute(qe,fe),N.fromBufferAttribute(qe,pe);const _t=He.morphTargetInfluences;if(ri&&_t){V.set(0,0,0),z.set(0,0,0),G.set(0,0,0);for(let Ht=0,Tt=ri.length;Ht<Tt;Ht++){const Et=_t[Ht],Lt=ri[Ht];Et!==0&&(P.fromBufferAttribute(Lt,oe),F.fromBufferAttribute(Lt,fe),U.fromBufferAttribute(Lt,pe),oi?(V.addScaledVector(P,Et),z.addScaledVector(F,Et),G.addScaledVector(U,Et)):(V.addScaledVector(P.sub(k),Et),z.addScaledVector(F.sub(D),Et),G.addScaledVector(U.sub(N),Et)))}k.add(V),D.add(z),N.add(G)}He.isSkinnedMesh&&(He.applyBoneTransform(oe,k),He.applyBoneTransform(fe,D),He.applyBoneTransform(pe,N)),Ot[oe*3+0]=k.x,Ot[oe*3+1]=k.y,Ot[oe*3+2]=k.z,Ot[fe*3+0]=D.x,Ot[fe*3+1]=D.y,Ot[fe*3+2]=D.z,Ot[pe*3+0]=N.x,Ot[pe*3+1]=N.y,Ot[pe*3+2]=N.z}const J=T.geometry,Z=T.material;let j,W,et;const dt=J.index,ht=J.attributes.position,st=J.morphAttributes.position,St=J.morphTargetsRelative,At=J.attributes.normal,xt=J.morphAttributes.position,gt=J.groups,yt=J.drawRange;let lt,zt,kt,Jt,Gt,ce,ae;const qt=new Float32Array(ht.count*ht.itemSize),ue=new Float32Array(At.count*At.itemSize);if(dt!==null)if(Array.isArray(Z))for(lt=0,kt=gt.length;lt<kt;lt++)for(Gt=gt[lt],ce=Math.max(Gt.start,yt.start),ae=Math.min(Gt.start+Gt.count,yt.start+yt.count),zt=ce,Jt=ae;zt<Jt;zt+=3)j=dt.getX(zt),W=dt.getX(zt+1),et=dt.getX(zt+2),H(T,ht,st,St,j,W,et,qt),H(T,At,xt,St,j,W,et,ue);else for(ce=Math.max(0,yt.start),ae=Math.min(dt.count,yt.start+yt.count),lt=ce,kt=ae;lt<kt;lt+=3)j=dt.getX(lt),W=dt.getX(lt+1),et=dt.getX(lt+2),H(T,ht,st,St,j,W,et,qt),H(T,At,xt,St,j,W,et,ue);else if(Array.isArray(Z))for(lt=0,kt=gt.length;lt<kt;lt++)for(Gt=gt[lt],ce=Math.max(Gt.start,yt.start),ae=Math.min(Gt.start+Gt.count,yt.start+yt.count),zt=ce,Jt=ae;zt<Jt;zt+=3)j=zt,W=zt+1,et=zt+2,H(T,ht,st,St,j,W,et,qt),H(T,At,xt,St,j,W,et,ue);else for(ce=Math.max(0,yt.start),ae=Math.min(ht.count,yt.start+yt.count),lt=ce,kt=ae;lt<kt;lt+=3)j=lt,W=lt+1,et=lt+2,H(T,ht,st,St,j,W,et,qt),H(T,At,xt,St,j,W,et,ue);const $e=new h.Float32BufferAttribute(qt,3),ve=new h.Float32BufferAttribute(ue,3);return{positionAttribute:ht,normalAttribute:At,morphedPositionAttribute:$e,morphedNormalAttribute:ve}}function S(T){if(T.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),T;let k=T.groups;if(k=k.sort((U,V)=>U.materialIndex!==V.materialIndex?U.materialIndex-V.materialIndex:U.start-V.start),T.getIndex()===null){const U=T.getAttribute("position"),V=[];for(let z=0;z<U.count;z+=3)V.push(z,z+1,z+2);T.setIndex(V)}const D=T.getIndex(),N=[];for(let U=0;U<k.length;U++){const V=k[U],z=V.start,G=z+V.count;for(let H=z;H<G;H++)N.push(D.getX(H))}T.dispose(),T.setIndex(N);let P=0;for(let U=0;U<k.length;U++){const V=k[U];V.start=P,P+=V.count}let F=k[0];T.groups=[F];for(let U=1;U<k.length;U++){const V=k[U];F.materialIndex===V.materialIndex?F.count+=V.count:(F=V,T.groups.push(F))}return T}function I(T,k=Math.PI/3){const D=Math.cos(k),N=(1+1e-10)*100,P=[new h.Vector3,new h.Vector3,new h.Vector3],F=new h.Vector3,U=new h.Vector3,V=new h.Vector3,z=new h.Vector3;function G(et){const dt=~~(et.x*N),ht=~~(et.y*N),st=~~(et.z*N);return`${dt},${ht},${st}`}const H=T.index?T.toNonIndexed():T,J=H.attributes.position,Z={};for(let et=0,dt=J.count/3;et<dt;et++){const ht=3*et,st=P[0].fromBufferAttribute(J,ht+0),St=P[1].fromBufferAttribute(J,ht+1),At=P[2].fromBufferAttribute(J,ht+2);F.subVectors(At,St),U.subVectors(st,St);const xt=new h.Vector3().crossVectors(F,U).normalize();for(let gt=0;gt<3;gt++){const yt=P[gt],lt=G(yt);lt in Z||(Z[lt]=[]),Z[lt].push(xt)}}const j=new Float32Array(J.count*3),W=new h.BufferAttribute(j,3,!1);for(let et=0,dt=J.count/3;et<dt;et++){const ht=3*et,st=P[0].fromBufferAttribute(J,ht+0),St=P[1].fromBufferAttribute(J,ht+1),At=P[2].fromBufferAttribute(J,ht+2);F.subVectors(At,St),U.subVectors(st,St),V.crossVectors(F,U).normalize();for(let xt=0;xt<3;xt++){const gt=P[xt],yt=G(gt),lt=Z[yt];z.set(0,0,0);for(let zt=0,kt=lt.length;zt<kt;zt++){const Jt=lt[zt];V.dot(Jt)>D&&z.add(Jt)}z.normalize(),W.setXYZ(ht+xt,z.x,z.y,z.z)}}return H.setAttribute("normal",W),H}},"./node_modules/three/examples/jsm/utils/WorkerPool.js":(c,d,u)=>{u.r(d),u.d(d,{WorkerPool:()=>h});class h{constructor(f=4){this.pool=f,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(f){if(!this.workers[f]){const M=this.workerCreator();M.addEventListener("message",this._onMessage.bind(this,f)),this.workers[f]=M}}_getIdleWorker(){for(let f=0;f<this.pool;f++)if(!(this.workerStatus&1<<f))return f;return-1}_onMessage(f,M){const g=this.workersResolve[f];if(g&&g(M),this.queue.length){const{resolve:y,msg:b,transfer:v}=this.queue.shift();this.workersResolve[f]=y,this.workers[f].postMessage(b,v)}else this.workerStatus^=1<<f}setWorkerCreator(f){this.workerCreator=f}setWorkerLimit(f){this.pool=f}postMessage(f,M){return new Promise(g=>{const y=this._getIdleWorker();y!==-1?(this._initWorker(y),this.workerStatus|=1<<y,this.workersResolve[y]=g,this.workers[y].postMessage(f,M)):this.queue.push({resolve:g,msg:f,transfer:M})})}dispose(){this.workers.forEach(f=>f.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}},"./src/lib/three.mjs":(c,d,u)=>{u.r(d),u.d(d,{default:()=>_});var h=u("./node_modules/three/build/three.module.js"),p=u("./node_modules/three/examples/jsm/loaders/DRACOLoader.js"),f=u("./node_modules/three/examples/jsm/loaders/GLTFLoader.js"),M=u("./node_modules/three/examples/jsm/loaders/KTX2Loader.js"),g=u("./node_modules/three/examples/jsm/math/OBB.js"),y=u("./node_modules/three/examples/jsm/loaders/OBJLoader.js"),b=u("./node_modules/three/examples/jsm/loaders/MTLLoader.js"),v=u("./node_modules/three/examples/jsm/utils/BufferGeometryUtils.js"),C=u("./node_modules/three/examples/jsm/lights/LightProbeGenerator.js"),w={...h};w.DRACOLoader=p.DRACOLoader,w.GLTFLoader=f.GLTFLoader,w.KTX2Loader=M.KTX2Loader,w.OBJLoader=y.OBJLoader,w.MTLLoader=b.MTLLoader,w.OBB=g.OBB,w.BufferGeometryUtils=v,w.LightProbeGenerator=C.LightProbeGenerator;const _=w},"./package.json":c=>{c.exports=JSON.parse('{"name":"aframe","version":"1.6.0","description":"A web framework for building virtual reality experiences.","homepage":"https://aframe.io/","main":"dist/aframe-master.js","scripts":{"dev":"cross-env INSPECTOR_VERSION=dev webpack serve --port 8080","dist":"node scripts/updateVersionLog.js && npm run dist:min && npm run dist:max","dist:max":"webpack --config webpack.config.js","dist:min":"webpack --config webpack.prod.config.js","docs":"markserv --dir docs --port 9001","preghpages":"node ./scripts/preghpages.js","ghpages":"ghpages -p gh-pages/","lint":"standardx -v | snazzy","lint:fix":"standardx --fix","precommit":"npm run lint","prepush":"node scripts/testOnlyCheck.js","prerelease":"node scripts/release.js 1.5.0 1.6.0","start":"npm run dev","start:https":"npm run dev -- --server-type https","test":"karma start ./tests/karma.conf.js","test:docs":"node scripts/docsLint.js","test:firefox":"npm test -- --browsers Firefox","test:chrome":"npm test -- --browsers Chrome","test:nobrowser":"NO_BROWSER=true npm test","test:node":"node --experimental-require-module ./node_modules/mocha/bin/mocha --ui tdd tests/node"},"repository":"aframevr/aframe","license":"MIT","files":["dist/*","docs/**/*","src/**/*","vendor/**/*"],"dependencies":{"buffer":"^6.0.3","debug":"^4.3.4","deep-assign":"^2.0.0","load-bmfont":"^1.2.3","super-animejs":"^3.1.0","three":"npm:super-three@0.164.0","three-bmfont-text":"dmarcos/three-bmfont-text#eed4878795be9b3e38cf6aec6b903f56acd1f695","webvr-polyfill":"^0.10.12"},"devDependencies":{"@babel/core":"^7.17.10","babel-loader":"^8.2.5","babel-plugin-istanbul":"^6.1.1","chai":"^4.3.6","chai-shallow-deep-equal":"^1.4.0","chalk":"^1.1.3","cross-env":"^7.0.3","css-loader":"^6.7.1","eslint":"^8.45.0","eslint-config-semistandard":"^17.0.0","eslint-config-standard-jsx":"^11.0.0","ghpages":"0.0.8","git-rev":"^0.2.1","glob":"^8.0.3","husky":"^0.11.7","jsdom":"^24.0.0","jsdom-global":"^3.0.2","karma":"^6.4.0","karma-chai-shallow-deep-equal":"0.0.4","karma-chrome-launcher":"^3.1.1","karma-coverage":"^2.2.0","karma-env-preprocessor":"^0.1.1","karma-firefox-launcher":"^2.1.2","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-sinon-chai":"^2.0.2","karma-webpack":"^5.0.0","markserv":"github:sukima/markserv#feature/fix-broken-websoketio-link","mocha":"^10.0.0","replace-in-file":"^2.5.3","shelljs":"^0.7.7","shx":"^0.2.2","sinon":"<12.0.0","sinon-chai":"^3.7.0","snazzy":"^5.0.0","standardx":"^7.0.0","style-loader":"^3.3.1","too-wordy":"ngokevin/too-wordy","webpack":"^5.73.0","webpack-cli":"^4.10.0","webpack-dev-server":"^4.11.0","webpack-merge":"^5.8.0","write-good":"^1.0.8"},"link":true,"standardx":{"ignore":["build/**","dist/**","examples/**/shaders/*.js","**/vendor/**"]},"keywords":["3d","aframe","cardboard","components","oculus","three","three.js","rift","vive","vr","quest","meta","web-components","webvr","webxr"],"engines":{"node":">= 4.6.0","npm":">= 2.15.9"}}')}},a={};function o(c){var d=a[c];if(d!==void 0)return d.exports;var u=a[c]={id:c,exports:{}};return n[c].call(u.exports,u,u.exports,o),u.exports}o.m=n,o.n=c=>{var d=c&&c.__esModule?()=>c.default:()=>c;return o.d(d,{a:d}),d},o.d=(c,d)=>{for(var u in d)o.o(d,u)&&!o.o(c,u)&&Object.defineProperty(c,u,{enumerable:!0,get:d[u]})},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=(c,d)=>Object.prototype.hasOwnProperty.call(c,d),o.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.b=document.baseURI||self.location.href,o.nc=void 0;var l=o("./src/index.js");return l})())})(uJ);var k5t=uJ.exports;const L5t={},N5t={};AFRAME.registerComponent("svelte",{multiple:!0,schema:{props:{default:{},parse(e){switch(typeof e){case"string":return JSON.parse(e);default:return e}},serialize(e){return JSON.stringify(e)}},component:{parse(e){return L5t[e]},serialize(e){return e.name}},gather:{parse(e){return N5t[e]},serialize(e){return e.name},default:function(){return this.data.props}}},update(){this.remove(),this.data.component&&requestAnimationFrame(()=>{this.svelte=new this.data.component({target:this.el,props:this.data.gather.call(this)})})},remove(){this.svelte&&(this.svelte.$destroy(),delete this.svelte)}});function Ux(e,t,i){const n=e.slice();return n[14]=t[i],n}function Jx(e,t,i){const n=e.slice();return n[17]=t[i],n}function F5t(e,t,i){const n=e.slice();return n[20]=t[i],n}function U5t(e,t,i){const n=e.slice();return n[20]=t[i],n}function $x(e,t,i){const n=e.slice();return n[25]=t[i],n}function Gx(e,t,i){const n=e.slice();return n[28]=t[i],n}function Hx(e){let t,i,n;return{c(){t=q("a-cylinder"),i=K(),n=q("a-entity"),nn(t,"position",`${Ah/2} 0 ${e[28]-5}`),nn(t,"radius",.02*(e[28]/6+1)),nn(t,"height","26"),nn(t,"rotation","0 0 90"),nn(t,"color",e[7][Ff-e[28]-1]),nn(n,"text","value: "+e[6][e[28]]+"; color: #666"),nn(n,"position",`2.5 0 ${e[28]-5}`),nn(n,"scale","10 10 10")},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function Vx(e){let t,i,n;return{c(){t=q("a-cylinder"),i=K(),n=q("a-entity"),nn(t,"position",`${e[25]} 0 -2.5`),nn(t,"radius",.02),nn(t,"height","5"),nn(t,"rotation","90 0 0"),nn(t,"color","#ddd"),nn(n,"text","value: "+e[25]+"; color: #666"),nn(n,"position",`${e[25]+4.5} 0 1`),nn(n,"scale","10 10 10")},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function J5t(e){let t;return{c(){t=q("a-sphere"),nn(t,"position",e[20]-.5+" 0 -2.5"),nn(t,"color","silver"),nn(t,"scale","0.25 0.1 0.25")},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function $5t(e){let t,i,n;return{c(){t=q("a-sphere"),i=K(),n=q("a-sphere"),nn(t,"position",e[20]-.5+" 0 -1.5"),nn(t,"color","silver"),nn(t,"scale","0.25 0.1 0.25"),nn(n,"position",e[20]-.5+" 0 -3.5"),nn(n,"color","silver"),nn(n,"scale","0.25 0.1 0.25")},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function Qx(e){let t,i,n,a,o,l;return{c(){t=q("a-cylinder"),n=K(),a=q("a-entity"),nn(t,"position",i=`${Ah/2} ${e[5](e[17])} -6`),nn(t,"radius","0.02"),nn(t,"height","26"),nn(t,"rotation","0 0 90"),nn(t,"color","#ccc"),nn(a,"text",o="value: "+e[17].toFixed()+"s; color: #666"),nn(a,"position",l=`2.5 ${e[5](e[17])} -6 `),nn(a,"scale","10 10 10")},m(c,d){bt(c,t,d),bt(c,n,d),bt(c,a,d)},p(c,d){d&38&&i!==(i=`${Ah/2} ${c[5](c[17])} -6`)&&nn(t,"position",i),d&6&&o!==(o="value: "+c[17].toFixed()+"s; color: #666")&&nn(a,"text",o),d&38&&l!==(l=`2.5 ${c[5](c[17])} -6 `)&&nn(a,"position",l)},d(c){c&&(vt(t),vt(n),vt(a))}}}function zx(e){let t,i,n,a,o,l;return{c(){t=q("a-box"),i=q("a-entity"),a=K(),nn(i,"text",n="value: "+e[14].note+"\\n"+e[14].fret+"; color: #666"),nn(i,"position","2.35 0 0.201"),nn(i,"scale","5 5 5"),nn(t,"position",o=`${e[14].fret-.3} ${e[5](e[14].time)} ${e[14].string-5}`),nn(t,"color",l=e[7][Ff-e[14].string-1]),nn(t,"opacity","0.5"),nn(t,"width","0.4"),nn(t,"height","0.4"),nn(t,"depth","0.4")},m(c,d){bt(c,t,d),B(t,i),B(t,a)},p(c,d){d&16&&n!==(n="value: "+c[14].note+"\\n"+c[14].fret+"; color: #666")&&nn(i,"text",n),d&48&&o!==(o=`${c[14].fret-.3} ${c[5](c[14].time)} ${c[14].string-5}`)&&nn(t,"position",o),d&16&&l!==(l=c[7][Ff-c[14].string-1])&&nn(t,"color",l)},d(c){c&&vt(t)}}}function G5t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U=je(fi(Ff)),V=[];for(let st=0;st<U.length;st+=1)V[st]=Hx(Gx(e,U,st));let z=je(fi(Ah+1)),G=[];for(let st=0;st<z.length;st+=1)G[st]=Vx($x(e,z,st));let H=je([3,5,7,9,15,17,19,21]),J=[];for(let st=0;st<8;st+=1)J[st]=J5t(U5t(e,H,st));let Z=je([12,24]),j=[];for(let st=0;st<2;st+=1)j[st]=$5t(F5t(e,Z,st));let W=je(fi(Yw(e[2],5),e[1]+1,5)),et=[];for(let st=0;st<W.length;st+=1)et[st]=Qx(Jx(e,W,st));let dt=je(e[4]),ht=[];for(let st=0;st<dt.length;st+=1)ht[st]=zx(Ux(e,dt,st));return P=new j0({props:{noteOn:e[8]}}),{c(){t=q("main"),i=q("a-scene"),n=q("a-entity"),a=K(),o=q("a-entity"),l=K(),c=q("a-entity"),d=K(),u=q("a-entity"),h=K(),p=q("a-sky"),f=K(),M=q("a-entity"),y=K(),b=q("a-entity"),v=K(),C=q("a-entity"),_=K(),E=q("a-box");for(let st=0;st<V.length;st+=1)V[st].c();S=K();for(let st=0;st<G.length;st+=1)G[st].c();I=K();for(let st=0;st<8;st+=1)J[st].c();T=K();for(let st=0;st<2;st+=1)j[st].c();k=K();for(let st=0;st<et.length;st+=1)et[st].c();D=K();for(let st=0;st<ht.length;st+=1)ht[st].c();N=K(),Pt(P.$$.fragment),nn(n,"oculus-touch-controls","hand: left"),nn(o,"oculus-touch-controls","hand: right"),nn(c,"id","leftHand"),nn(c,"hand-tracking-controls","hand: left;"),nn(u,"id","rightHand"),nn(u,"hand-tracking-controls","hand: right;"),nn(p,"color","white"),nn(M,"text",g="value: "+e[0].title+"; color: #666; width: 5"),nn(M,"position","-1.75 1.85 -3"),nn(M,"scale",".35 .35 .35"),nn(b,"text","value: Connect a MIDI guitar and start playing. Notes are positioned based on their string (forward), fret (right), and time (up). They are colored by string and labelled with note name and fret number.\\n\\nRandom notes are shown until you play.\\n\\nGo back in your browser to return to the main page.; color: #666; width: 5"),nn(b,"position","-2 1.5 -3"),nn(b,"scale",".25 .25 .25"),nn(C,"text",w="value: "+e[3]+"; color: #666; width: 5"),nn(C,"position","-2 1 -3"),nn(C,"scale",".25 .25 .25"),nn(E,"position","-1 .5 -3"),nn(E,"rotation","0 0 0"),nn(E,"scale",".1 .1 .1"),nn(E,"visible","true"),nn(E,"opacity","0"),mt(t,"class","app")},m(st,St){bt(st,t,St),B(t,i),B(i,n),B(i,a),B(i,o),B(i,l),B(i,c),B(i,d),B(i,u),B(i,h),B(i,p),B(i,f),B(i,M),B(i,y),B(i,b),B(i,v),B(i,C),B(i,_),B(i,E);for(let At=0;At<V.length;At+=1)V[At]&&V[At].m(E,null);B(E,S);for(let At=0;At<G.length;At+=1)G[At]&&G[At].m(E,null);B(E,I);for(let At=0;At<8;At+=1)J[At]&&J[At].m(E,null);B(E,T);for(let At=0;At<2;At+=1)j[At]&&j[At].m(E,null);B(E,k);for(let At=0;At<et.length;At+=1)et[At]&&et[At].m(E,null);B(E,D);for(let At=0;At<ht.length;At+=1)ht[At]&&ht[At].m(E,null);B(t,N),Rt(P,t,null),F=!0},p(st,[St]){if((!F||St&1&&g!==(g="value: "+st[0].title+"; color: #666; width: 5"))&&nn(M,"text",g),(!F||St&8&&w!==(w="value: "+st[3]+"; color: #666; width: 5"))&&nn(C,"text",w),St&192){U=je(fi(Ff));let At;for(At=0;At<U.length;At+=1){const xt=Gx(st,U,At);V[At]?V[At].p(xt,St):(V[At]=Hx(xt),V[At].c(),V[At].m(E,S))}for(;At<V.length;At+=1)V[At].d(1);V.length=U.length}if(St&0){z=je(fi(Ah+1));let At;for(At=0;At<z.length;At+=1){const xt=$x(st,z,At);G[At]?G[At].p(xt,St):(G[At]=Vx(xt),G[At].c(),G[At].m(E,I))}for(;At<G.length;At+=1)G[At].d(1);G.length=z.length}if(St&38){W=je(fi(Yw(st[2],5),st[1]+1,5));let At;for(At=0;At<W.length;At+=1){const xt=Jx(st,W,At);et[At]?et[At].p(xt,St):(et[At]=Qx(xt),et[At].c(),et[At].m(E,D))}for(;At<et.length;At+=1)et[At].d(1);et.length=W.length}if(St&176){dt=je(st[4]);let At;for(At=0;At<dt.length;At+=1){const xt=Ux(st,dt,At);ht[At]?ht[At].p(xt,St):(ht[At]=zx(xt),ht[At].c(),ht[At].m(E,null))}for(;At<ht.length;At+=1)ht[At].d(1);ht.length=dt.length}},i(st){F||(wt(P.$$.fragment,st),F=!0)},o(st){It(P.$$.fragment,st),F=!1},d(st){st&&vt(t),Ti(V,st),Ti(G,st),Ti(J,st),Ti(j,st),Ti(et,st),Ti(ht,st),Dt(P)}}}let Ff=6,Ah=24,H5t=1,eM=60;function V5t(e,t,i){let n,a,o,{appInfo:l}=t,c=[64,59,55,50,45,40];const d=c.map(Fa),u=Wo;let h=0,p=60,f=[];const M=v=>{const C=Math.floor(Math.random()*6),w=Math.round(Math.random()*24),_=Math.round(Math.random()*127),E=c[C]+w;return v=v??Math.round(Math.random()*60),i(1,p=v),{string:C,fret:w,time:v,note:Dr[E%12],velocity:_}};let g=setInterval(()=>i(9,f=[...f,M(performance.now()/1e3)]),500),y="";const b=v=>{g&&(clearInterval(g),g=null,i(9,f=[])),f.length===0&&(h=v.timestamp);const C=v.message.channel-1,w=v.note.number-c[C];if(w<0||w>Ah)return;const _=(v.timestamp-h)/1e3,E={number:v.note.number,note:Dr[v.note.number%12],velocity:v.rawVelocity,time:_,channel:v.message.channel,string:C,fret:w};i(9,f=[...f,E]),i(1,p=_)};return yr(()=>{k5t.registerComponent("thumbstick-logging",{init(){this.el.addEventListener("thumbstickmoved",this.logThumbstick)},logThumbstick(v){v.detail.y>.95&&console.log("DOWN"),v.detail.y<-.95&&console.log("UP"),v.detail.x<-.95&&console.log("LEFT"),v.detail.x>.95&&console.log("RIGHT"),i(3,y=`x ${v.detail.x} y ${v.detail.y}`)}})}),c0(()=>{clearInterval(g),window.location.reload()}),e.$$set=v=>{"appInfo"in v&&i(0,l=v.appInfo)},e.$$.update=()=>{e.$$.dirty&2&&i(2,n=p-eM),e.$$.dirty&6&&i(5,a=s3().domain([p,n]).range([.5,eM*H5t])),e.$$.dirty&514&&i(4,o=f.filter(v=>v.time>p-eM))},[l,p,n,y,o,a,d,u,b,f]}class Q5t extends Zi{constructor(t){super(),Yi(this,t,V5t,G5t,Xi,{appInfo:0})}}const z5t="C",j5t="major",W5t="ii V I (2-5-1) 7th",K5t=50,q5t=!0,X5t=!0,Y5t=!0,Z5t=!1,t7t=!0,e7t=!0,i7t=[{name:"C",number:60,velocity:.5905511811023622,time:10.695799999952316,channel:1,duration:.4419000000357638,end:11.13769999998808},{name:"E",number:64,velocity:.2755905511811024,time:11.327799999952317,channel:1,duration:.14399999999999835,end:11.471799999952315},{name:"F",number:65,velocity:.4566929133858268,time:11.98669999998808,channel:1,duration:.09609999996423646,end:12.082799999952316},{name:"G",number:67,velocity:.30708661417322836,time:12.622799999952317,channel:1,duration:.08699999999999974,end:12.709799999952317},{name:"F",number:65,velocity:.2125984251968504,time:13.27169999998808,channel:1,duration:1.3060999999642373,end:14.577799999952317},{name:"E",number:64,velocity:.11811023622047244,time:14.599799999952316,channel:1,duration:1.3779000000357637,end:15.97769999998808},{name:"C",number:60,velocity:.3464566929133858,time:15.991799999952317,channel:1,duration:1.6559000000357607,end:17.647699999988077},{name:"E",number:64,velocity:.1968503937007874,time:17.67369999998808,channel:1,duration:.10209999996423491,end:17.775799999952316},{name:"F",number:65,velocity:.05511811023622047,time:17.842799999952316,channel:1,duration:.10300000000000153,end:17.945799999952317},{name:"F",number:65,velocity:.4881889763779528,time:18.025799999952316,channel:1,duration:.5259999999999998,end:18.551799999952316},{name:"G",number:67,velocity:.4251968503937008,time:18.533799999952315,channel:1,duration:1.3879000000357635,end:19.92169999998808},{name:"A",number:69,velocity:.4409448818897638,time:20.001799999952315,channel:1,duration:.4430000000000014,end:20.444799999952316},{name:"G",number:67,velocity:.7401574803149606,time:20.391799999952315,channel:1,duration:.4139000000357633,end:20.80569999998808},{name:"F",number:65,velocity:.4251968503937008,time:20.717799999952316,channel:1,duration:.6479999999999997,end:21.365799999952316},{name:"E",number:64,velocity:.5196850393700787,time:21.383699999988078,channel:1,duration:1.656099999964237,end:23.039799999952315},{name:"C",number:60,velocity:.4566929133858268,time:23.055799999952317,channel:1,duration:.370000000000001,end:23.425799999952318},{name:"E",number:64,velocity:.5196850393700787,time:23.396799999952318,channel:1,duration:.6289999999999978,end:24.025799999952316},{name:"F",number:65,velocity:.4881889763779528,time:24.01769999998808,channel:1,duration:1.3210000000000015,end:25.33869999998808},{name:"C",number:60,velocity:.4409448818897638,time:25.623799999952315,channel:1,duration:.3630000000000031,end:25.986799999952318},{name:"G",number:67,velocity:.5039370078740157,time:25.966799999952315,channel:1,duration:.6160000000000032,end:26.582799999952318},{name:"A",number:69,velocity:.4251968503937008,time:26.61369999998808,channel:1,duration:.6820999999642368,end:27.295799999952315},{name:"C",number:60,velocity:.14173228346456693,time:28.284699999988078,channel:1,duration:.31400000000000006,end:28.598699999988078},{name:"E",number:64,velocity:.3464566929133858,time:28.647799999952316,channel:1,duration:.6460000000000008,end:29.293799999952316},{name:"F",number:65,velocity:.2677165354330709,time:29.291799999952318,channel:1,duration:.6879999999999988,end:29.979799999952316},{name:"C",number:48,velocity:.4566929133858268,time:33.77269999998808,channel:1,duration:.3710999999642368,end:34.143799999952314},{name:"E",number:52,velocity:.6614173228346457,time:34.103799999952315,channel:1,duration:.6099000000357648,end:34.71369999998808},{name:"F",number:53,velocity:.5118110236220472,time:34.72479999995232,channel:1,duration:1.9139000000357598,end:36.63869999998808},{name:"G",number:55,velocity:.31496062992125984,time:36.655799999952315,channel:1,duration:.40100000000000335,end:37.05679999995232},{name:"F",number:53,velocity:.5039370078740157,time:37.04779999995232,channel:1,duration:.3780000000000001,end:37.42579999995232},{name:"E",number:52,velocity:.5275590551181102,time:37.39879999995232,channel:1,duration:1.8979000000357615,end:39.29669999998808},{name:"D",number:50,velocity:.44881889763779526,time:39.29479999995232,channel:1,duration:.3609000000357625,end:39.65569999998808},{name:"E",number:52,velocity:.5669291338582677,time:39.62969999998808,channel:1,duration:1.7390000000000043,end:41.36869999998808},{name:"D",number:50,velocity:.4566929133858268,time:41.358699999988076,channel:1,duration:.38409999996424204,end:41.74279999995232},{name:"E",number:52,velocity:.3228346456692913,time:41.72369999998808,channel:1,duration:.3580999999642387,end:42.08179999995232},{name:"D",number:50,velocity:.4251968503937008,time:42.053699999988076,channel:1,duration:.4540000000000006,end:42.50769999998808},{name:"C",number:48,velocity:.47244094488188976,time:42.70269999998808,channel:1,duration:1.8820999999642396,end:44.58479999995232},{name:"E",number:52,velocity:.4330708661417323,time:44.57569999998808,channel:1,duration:.3999999999999986,end:44.97569999998808},{name:"F",number:53,velocity:.4881889763779528,time:44.95579999995232,channel:1,duration:2.107999999999997,end:47.063799999952316},{name:"A",number:57,velocity:.44881889763779526,time:47.06879999995232,channel:1,duration:.38400000000000034,end:47.45279999995232},{name:"G",number:55,velocity:.49606299212598426,time:47.420799999952315,channel:1,duration:.3269999999999982,end:47.74779999995231},{name:"F",number:53,velocity:.41732283464566927,time:47.76369999998808,channel:1,duration:.3359999999999985,end:48.099699999988076},{name:"E",number:52,velocity:.5354330708661418,time:48.08979999995232,channel:1,duration:1.8429000000357618,end:49.93269999998808},{name:"D",number:50,velocity:.5196850393700787,time:49.93379999995231,channel:1,duration:.3569999999999993,end:50.29079999995231},{name:"E",number:52,velocity:.5196850393700787,time:50.27079999995232,channel:1,duration:1.7889000000357598,end:52.05969999998808},{name:"D",number:50,velocity:.5275590551181102,time:52.04069999998808,channel:1,duration:.3650999999642366,end:52.405799999952315},{name:"E",number:52,velocity:.3464566929133858,time:52.39179999995232,channel:1,duration:.9169999999999945,end:53.30879999995231},{name:"C",number:48,velocity:.5354330708661418,time:53.301799999952316,channel:1,duration:2.091900000035764,end:55.39369999998808},{name:"D",number:50,velocity:.3543307086614173,time:55.414799999952315,channel:1,duration:.36299999999999955,end:55.777799999952315},{name:"E",number:52,velocity:.1732283464566929,time:55.78179999995232,channel:1,duration:2.073999999999998,end:57.85579999995232},{name:"G",number:55,velocity:.2283464566929134,time:57.88469999998808,channel:1,duration:.4299999999999997,end:58.31469999998808},{name:"F",number:53,velocity:.4330708661417323,time:58.301799999952316,channel:1,duration:2.4009000000357616,end:60.70269999998808},{name:"E",number:52,velocity:.15748031496062992,time:60.68769999998808,channel:1,duration:.355000000000004,end:61.04269999998808},{name:"D",number:50,velocity:.5196850393700787,time:61.03479999995232,channel:1,duration:1.6389999999999958,end:62.673799999952315},{name:"C",number:48,velocity:.4881889763779528,time:62.65369999998808,channel:1,duration:1.3910000000000053,end:64.04469999998808},{name:"D",number:50,velocity:.25196850393700787,time:64.02779999995232,channel:1,duration:.73599999999999,end:64.76379999995231},{name:"C",number:48,velocity:.4881889763779528,time:64.75379999995232,channel:1,duration:.597999999999999,end:65.35179999995232},{name:"D",number:50,velocity:.5433070866141733,time:65.33169999998807,channel:1,duration:.7420000000000044,end:66.07369999998808},{name:"C",number:48,velocity:.5275590551181102,time:66.06969999998807,channel:1,duration:.6100999999642482,end:66.67979999995232},{name:"D",number:50,velocity:.4566929133858268,time:66.68269999998807,channel:1,duration:.6420999999642447,end:67.32479999995232},{name:"C",number:48,velocity:.31496062992125984,time:67.33269999998808,channel:1,duration:.735099999964234,end:68.06779999995231},{name:"F",number:53,velocity:.5905511811023622,time:68.04679999995231,channel:1,duration:.6400000000000006,end:68.68679999995231},{name:"G",number:55,velocity:.5354330708661418,time:68.67979999995232,channel:1,duration:.6809999999999974,end:69.36079999995232},{name:"C",number:48,velocity:.5196850393700787,time:69.36079999995232,channel:1,duration:.6609000000357526,end:70.02169999998807},{name:"D",number:50,velocity:.33858267716535434,time:70.02169999998807,channel:1,duration:.6460999999642496,end:70.66779999995232},{name:"C",number:48,velocity:.28346456692913385,time:70.69769999998807,channel:1,duration:.6350999999642397,end:71.33279999995231},{name:"D",number:50,velocity:.15748031496062992,time:71.34269999998808,channel:1,duration:.688999999999993,end:72.03169999998808},{name:"C",number:48,velocity:.25984251968503935,time:72.01679999995231,channel:1,duration:.6849000000357677,end:72.70169999998808},{name:"D",number:50,velocity:.2204724409448819,time:72.68769999998808,channel:1,duration:.6310999999642348,end:73.31879999995232},{name:"F",number:53,velocity:.4409448818897638,time:73.35479999995232,channel:1,duration:.6239999999999952,end:73.97879999995232},{name:"G",number:55,velocity:.007874015748031496,time:74.29169999998808,channel:1,duration:1.7779999999999916,end:76.06969999998807}],n7t="improvisation-chord-progression",r7t="0.22.4",a7t="2024-11-15T15:59:13.364Z",jx={root:z5t,scaleType:j5t,chordProgLabel:W5t,barCount:K5t,showNoteTypePlot:q5t,showRhythmPlot:X5t,showChromaPlot:Y5t,showChordPlot:Z5t,showDurationPlot:t7t,showPianoRoll:e7t,notes:i7t,_appId:n7t,_softwareVersion:r7t,_date:a7t},o7t="C",s7t="major",l7t="ii V I (2-5-1) 7th",c7t=50,u7t=.1,d7t=.2,h7t=!0,f7t=!0,m7t=!0,p7t=!1,g7t=!1,M7t=!1,y7t=[{name:"G",number:55,velocity:1,time:1.458,channel:4,duration:.3660000000000001,end:1.824},{name:"C#",number:61,velocity:1,time:2.18,channel:3,duration:.020099999964236837,end:2.200099999964237},{name:"C",number:60,velocity:.9921259842519685,time:2.198,channel:3,duration:.30699999999999994,end:2.505},{name:"D#",number:63,velocity:1,time:2.518099999964237,channel:3,duration:.015000000000000124,end:2.533099999964237},{name:"D",number:62,velocity:.9921259842519685,time:2.530099999964237,channel:3,duration:1.597900000035763,end:4.128},{name:"C",number:60,velocity:.984251968503937,time:4.153099999964237,channel:3,duration:1.2530000000000001,end:5.406099999964237},{name:"A",number:57,velocity:1,time:5.442099999964237,channel:4,duration:1.6319000000357624,end:7.074},{name:"G#",number:56,velocity:1,time:7.0910999999642375,channel:4,duration:.011900000035762304,end:7.103},{name:"G",number:55,velocity:1,time:7.102099999964238,channel:4,duration:.2909000000357622,end:7.393},{name:"A",number:57,velocity:.7401574803149606,time:7.432,channel:4,duration:.3260999999642369,end:7.758099999964237},{name:"C",number:60,velocity:.07874015748031496,time:7.771,channel:2,duration:.20199999999999996,end:7.973},{name:"C",number:60,velocity:1,time:7.779099999964237,channel:3,duration:1.6469999999999994,end:9.426099999964237},{name:"A",number:57,velocity:1,time:9.439,channel:4,duration:.641,end:10.08},{name:"C#",number:61,velocity:1,time:10.103,channel:3,duration:.021000000000000796,end:10.124},{name:"C",number:60,velocity:1,time:10.121099999964237,channel:3,duration:.6319999999999997,end:10.753099999964236},{name:"D#",number:63,velocity:1,time:10.758099999964237,channel:3,duration:.016900000035763085,end:10.775},{name:"D",number:62,velocity:1,time:10.772,channel:3,duration:1.3559999999999999,end:12.128},{name:"C#",number:61,velocity:1,time:12.132099999964238,channel:3,duration:.00890000003576219,end:12.141},{name:"C",number:60,velocity:1,time:12.139,channel:3,duration:1.3210000000000015,end:13.46},{name:"A",number:57,velocity:.18110236220472442,time:13.423099999964236,channel:4,duration:.057900000035763455,end:13.481},{name:"A#",number:58,velocity:1,time:13.485099999964238,channel:4,duration:.018900000035761977,end:13.504},{name:"A",number:57,velocity:1,time:13.502,channel:4,duration:1.2630999999642363,end:14.765099999964237},{name:"G#",number:56,velocity:1,time:14.786099999964238,channel:4,duration:.02190000003576209,end:14.808},{name:"G",number:55,velocity:1,time:14.806,channel:4,duration:.3230000000000004,end:15.129},{name:"A#",number:58,velocity:1,time:15.140099999964237,channel:4,duration:.018900000035763753,end:15.159},{name:"A",number:57,velocity:1,time:15.155,channel:4,duration:.27800000000000047,end:15.433},{name:"C#",number:61,velocity:1,time:15.49,channel:3,duration:.016000000000000014,end:15.506},{name:"C",number:60,velocity:1,time:15.504099999964238,channel:3,duration:.23690000003576195,end:15.741},{name:"D",number:62,velocity:.9763779527559056,time:15.734099999964236,channel:3,duration:.03300000000000125,end:15.767099999964238},{name:"D#",number:63,velocity:.905511811023622,time:15.764,channel:3,duration:.018000000000000682,end:15.782},{name:"D",number:62,velocity:1,time:15.807099999964237,channel:3,duration:.32290000003576225,end:16.13},{name:"C#",number:61,velocity:1,time:16.149099999964236,channel:3,duration:.010000000000001563,end:16.159099999964237},{name:"C",number:60,velocity:1,time:16.154099999964238,channel:3,duration:1.6159999999999997,end:17.770099999964238},{name:"C#",number:61,velocity:1,time:17.773099999964238,channel:3,duration:.03999999999999915,end:17.813099999964237},{name:"D",number:62,velocity:.952755905511811,time:17.81,channel:3,duration:.31009999996423687,end:18.120099999964236},{name:"D#",number:63,velocity:1,time:18.133099999964237,channel:3,duration:.014900000035762417,end:18.148},{name:"D",number:62,velocity:1,time:18.143,channel:3,duration:.2950999999642363,end:18.438099999964237},{name:"C",number:60,velocity:.937007874015748,time:18.452,channel:3,duration:1.6429999999999971,end:20.095},{name:"D#",number:63,velocity:1,time:20.1,channel:3,duration:.007099999964236048,end:20.107099999964237},{name:"D",number:62,velocity:1,time:20.104,channel:3,duration:.2789999999999999,end:20.383},{name:"F",number:65,velocity:1,time:20.452,channel:2,duration:.01709999996423406,end:20.469099999964236},{name:"E",number:64,velocity:1,time:20.466099999964236,channel:2,duration:.2789999999999999,end:20.745099999964236},{name:"G#",number:68,velocity:1,time:20.789099999964236,channel:2,duration:.015000000000000568,end:20.804099999964237},{name:"G",number:67,velocity:1,time:20.801099999964237,channel:2,duration:.26200000000000045,end:21.063099999964237},{name:"F",number:65,velocity:1,time:21.12,channel:2,duration:.018000000000000682,end:21.138},{name:"E",number:64,velocity:1,time:21.133099999964237,channel:2,duration:.29299999999999926,end:21.426099999964237},{name:"G#",number:68,velocity:1,time:21.462,channel:2,duration:.00809999996423727,end:21.470099999964237},{name:"G",number:67,velocity:1,time:21.466099999964236,channel:2,duration:.2789000000357653,end:21.745},{name:"A",number:69,velocity:1,time:21.803,channel:1,duration:.34809999996423713,end:22.151099999964238},{name:"G",number:67,velocity:1,time:22.135,channel:2,duration:.27809999996423684,end:22.41309999996424},{name:"C",number:72,velocity:.7637795275590551,time:22.148,channel:1,duration:.07700000000000173,end:22.225},{name:"E",number:64,velocity:.7716535433070866,time:22.446099999964236,channel:2,duration:.3429000000357654,end:22.789},{name:"G#",number:68,velocity:1,time:22.798,channel:2,duration:.00809999996423727,end:22.806099999964236},{name:"G",number:67,velocity:1,time:22.802099999964238,channel:2,duration:.6419000000357613,end:23.444},{name:"G#",number:68,velocity:1,time:23.452099999964236,channel:2,duration:.019999999999999574,end:23.472099999964236},{name:"G",number:67,velocity:1,time:23.468099999964238,channel:2,duration:.27890000003576176,end:23.747},{name:"E",number:64,velocity:.84251968503937,time:23.81,channel:2,duration:.3160000000000025,end:24.126},{name:"D",number:62,velocity:.33858267716535434,time:24.092,channel:3,duration:.046099999964237526,end:24.138099999964236},{name:"D",number:62,velocity:.7401574803149606,time:24.14,channel:3,duration:.6840999999642356,end:24.824099999964236},{name:"D",number:62,velocity:.9606299212598425,time:24.826,channel:3,duration:.995000000000001,end:25.821},{name:"C#",number:61,velocity:1,time:25.825099999964237,channel:3,duration:.012999999999998124,end:25.838099999964236},{name:"C",number:60,velocity:1,time:25.834099999964238,channel:3,duration:.2339000000357636,end:26.068},{name:"C#",number:61,velocity:.889763779527559,time:26.066099999964237,channel:3,duration:.045900000035761224,end:26.112},{name:"D",number:62,velocity:.8582677165354331,time:26.110099999964238,channel:3,duration:.0329000000357631,end:26.143},{name:"D#",number:63,velocity:1,time:26.149,channel:3,duration:.00999999999999801,end:26.159},{name:"D",number:62,velocity:1,time:26.153099999964237,channel:3,duration:.279900000035763,end:26.433},{name:"C",number:60,velocity:.905511811023622,time:26.479099999964237,channel:3,duration:.2589000000357622,end:26.738},{name:"D",number:62,velocity:.7952755905511811,time:26.734,channel:3,duration:.01809999996423528,end:26.752099999964237},{name:"D",number:62,velocity:1,time:26.79109999996424,channel:3,duration:.09090000003576293,end:26.882},{name:"D#",number:63,velocity:1,time:26.880099999964237,channel:3,duration:.17800000000000082,end:27.058099999964238},{name:"D",number:62,velocity:.9763779527559056,time:27.053,channel:3,duration:.047999999999998266,end:27.101},{name:"D#",number:63,velocity:1,time:27.127,channel:3,duration:.01699999999999946,end:27.144},{name:"D",number:62,velocity:1,time:27.142,channel:3,duration:.24909999996423693,end:27.391099999964236},{name:"C#",number:61,velocity:.8582677165354331,time:27.38709999996424,channel:3,duration:.0329999999999977,end:27.420099999964236},{name:"C",number:60,velocity:.937007874015748,time:27.483,channel:3,duration:.3710999999642368,end:27.854099999964237},{name:"A",number:57,velocity:.18110236220472442,time:27.813,channel:4,duration:.05209999996423775,end:27.865099999964237},{name:"A",number:57,velocity:1,time:27.87,channel:4,duration:4.630099999964234,end:32.500099999964235},{name:"D",number:50,velocity:.889763779527559,time:32.122,channel:5,duration:2.658999999999999,end:34.781},{name:"D",number:50,velocity:.9133858267716536,time:34.78409999996424,channel:5,duration:.1389999999999958,end:34.923099999964236},{name:"C#",number:49,velocity:.8110236220472441,time:34.919,channel:5,duration:.029099999964238066,end:34.948099999964235},{name:"C",number:48,velocity:.7952755905511811,time:34.94609999996424,channel:5,duration:1.1809000000357628,end:36.127},{name:"F",number:77,velocity:.07874015748031496,time:36.095,channel:4,duration:.01709999996423761,end:36.11209999996424},{name:"E",number:76,velocity:.07874015748031496,time:36.109099999964236,channel:4,duration:.03390000003576432,end:36.143},{name:"D#",number:75,velocity:.07874015748031496,time:36.140099999964235,channel:4,duration:.0039000000357631848,end:36.144},{name:"G",number:55,velocity:1,time:36.146,channel:4,duration:.08099999999999596,end:36.227},{name:"G#",number:56,velocity:1,time:36.22409999996424,channel:4,duration:.16390000003575977,end:36.388},{name:"A",number:57,velocity:1,time:36.385,channel:4,duration:1.0030000000000001,end:37.388},{name:"G#",number:56,velocity:.952755905511811,time:37.38609999996424,channel:4,duration:.04390000003576233,end:37.43},{name:"G#",number:56,velocity:1,time:37.451,channel:4,duration:.027000000000001023,end:37.478},{name:"G",number:55,velocity:1,time:37.473,channel:4,duration:3.0000999999642417,end:40.47309999996424},{name:"G#",number:56,velocity:1,time:40.476099999964234,channel:4,duration:.018900000035763753,end:40.495},{name:"G",number:55,velocity:1,time:40.492,channel:4,duration:.2950000000000017,end:40.787},{name:"A",number:57,velocity:.6929133858267716,time:40.833,channel:4,duration:.2839999999999989,end:41.117},{name:"C",number:60,velocity:.7165354330708661,time:41.16909999996424,channel:3,duration:.6589999999999989,end:41.82809999996424},{name:"D",number:62,velocity:.7401574803149606,time:41.831,channel:3,duration:.6219999999999999,end:42.453},{name:"C",number:60,velocity:.6456692913385826,time:42.475099999964236,channel:3,duration:.2679000000357661,end:42.743},{name:"D",number:62,velocity:.6220472440944882,time:42.741,channel:3,duration:.05100000000000193,end:42.792},{name:"D",number:62,velocity:.7401574803149606,time:42.794,channel:3,duration:.3410999999642428,end:43.13509999996424},{name:"D",number:62,velocity:.6929133858267716,time:43.138,channel:3,duration:.142000000000003,end:43.28},{name:"D#",number:63,velocity:.6456692913385826,time:43.27609999996424,channel:3,duration:.14990000003576398,end:43.426},{name:"D",number:62,velocity:.6062992125984252,time:43.421099999964234,channel:3,duration:.061900000035763014,end:43.483},{name:"D",number:62,velocity:.7401574803149606,time:43.49309999996424,channel:3,duration:.27990000003576654,end:43.773},{name:"C#",number:61,velocity:.5905511811023622,time:43.771099999964235,channel:3,duration:.030000000000001137,end:43.80109999996424},{name:"C#",number:61,velocity:.905511811023622,time:43.829099999964235,channel:3,duration:.017900000035766084,end:43.847},{name:"C",number:60,velocity:.905511811023622,time:43.843,channel:3,duration:1.0050999999642372,end:44.84809999996424},{name:"F#",number:66,velocity:.07874015748031496,time:44.792099999964236,channel:2,duration:.054999999999999716,end:44.847099999964236},{name:"G",number:67,velocity:.937007874015748,time:44.88009999996424,channel:2,duration:.33200000000000074,end:45.21209999996424},{name:"D",number:62,velocity:.8976377952755905,time:45.201099999964235,channel:3,duration:1.9389000000357655,end:47.14},{name:"C",number:72,velocity:.905511811023622,time:47.168099999964234,channel:1,duration:.6110000000000042,end:47.77909999996424},{name:"G#",number:68,velocity:.9921259842519685,time:47.79109999996424,channel:2,duration:.01690000003576131,end:47.808},{name:"G",number:67,velocity:.9763779527559056,time:47.808,channel:2,duration:.6250999999642346,end:48.433099999964234},{name:"F#",number:66,velocity:.7559055118110236,time:48.43109999996424,channel:2,duration:.028999999999996362,end:48.460099999964235},{name:"E",number:64,velocity:.7480314960629921,time:48.457099999964235,channel:2,duration:.018900000035763753,end:48.476},{name:"E",number:64,velocity:.7322834645669292,time:48.501,channel:2,duration:.35200000000000387,end:48.853},{name:"D",number:62,velocity:.7086614173228346,time:48.831,channel:3,duration:.2990999999642341,end:49.13009999996424},{name:"C#",number:61,velocity:.5433070866141733,time:49.12709999996424,channel:3,duration:.04390000003576233,end:49.171},{name:"C",number:60,velocity:.6614173228346457,time:49.17809999996424,channel:3,duration:.35600000000000165,end:49.53409999996424},{name:"A#",number:82,velocity:.47244094488188976,time:49.53209999996424,channel:3,duration:.007900000035760968,end:49.54},{name:"D",number:62,velocity:.889763779527559,time:49.547,channel:3,duration:.6830999999642415,end:50.23009999996424},{name:"A#",number:58,velocity:1,time:50.21709999996424,channel:4,duration:.013900000035761195,end:50.231},{name:"A",number:57,velocity:1,time:50.228,channel:4,duration:.28000000000000114,end:50.508},{name:"C#",number:61,velocity:.9133858267716536,time:50.53409999996424,channel:3,duration:.017999999999993577,end:50.552099999964234},{name:"C",number:60,velocity:.952755905511811,time:50.549,channel:3,duration:1.8610999999642388,end:52.41009999996424},{name:"G",number:55,velocity:1,time:52.472,channel:4,duration:.12299999999999756,end:52.595},{name:"A",number:57,velocity:.9212598425196851,time:52.593,channel:4,duration:.1489999999999938,end:52.742},{name:"C",number:60,velocity:.7086614173228346,time:52.78109999996424,channel:3,duration:.134999999999998,end:52.91609999996424},{name:"C#",number:61,velocity:.6850393700787402,time:52.914,channel:3,duration:.015999999999998238,end:52.93},{name:"D#",number:63,velocity:.984251968503937,time:53.082,channel:3,duration:.009000000000000341,end:53.091},{name:"D",number:62,velocity:1,time:53.087,channel:3,duration:.08899999999999864,end:53.176},{name:"D#",number:63,velocity:.9448818897637795,time:53.173099999964236,channel:3,duration:.03399999999999892,end:53.207099999964235},{name:"E",number:64,velocity:.9133858267716536,time:53.20309999996424,channel:3,duration:1.6649999999999991,end:54.86809999996424},{name:"D",number:62,velocity:.9133858267716536,time:54.872,channel:3,duration:.32200000000000273,end:55.194},{name:"C#",number:61,velocity:.7716535433070866,time:55.191,channel:3,duration:.030999999999998806,end:55.222},{name:"C",number:60,velocity:.7559055118110236,time:55.22,channel:3,duration:.23709999996423647,end:55.457099999964235},{name:"F#",number:66,velocity:.18110236220472442,time:55.43809999996424,channel:2,duration:.09390000003575949,end:55.532},{name:"D",number:62,velocity:.6692913385826772,time:55.45209999996424,channel:3,duration:.03399999999999892,end:55.48609999996424},{name:"D#",number:63,velocity:.6456692913385826,time:55.48009999996424,channel:3,duration:.03390000003576432,end:55.514},{name:"D",number:62,velocity:.8031496062992126,time:55.511,channel:3,duration:.0030000000000001137,end:55.514},{name:"D",number:62,velocity:.8188976377952756,time:55.52,channel:3,duration:.2979999999999947,end:55.818},{name:"C#",number:61,velocity:.5905511811023622,time:55.815,channel:3,duration:.019000000000005457,end:55.834},{name:"C",number:60,velocity:.6299212598425197,time:55.846,channel:3,duration:2.962099999964238,end:58.808099999964234},{name:"A",number:57,velocity:.18110236220472442,time:58.76009999996424,channel:4,duration:.06690000003575847,end:58.827},{name:"A",number:57,velocity:.6771653543307087,time:58.83109999996424,channel:4,duration:1.0799000000357637,end:59.911},{name:"C",number:60,velocity:.07874015748031496,time:59.902,channel:3,duration:.1109999999999971,end:60.013},{name:"F",number:65,velocity:.07874015748031496,time:59.906,channel:2,duration:.020000000000003126,end:59.926},{name:"G",number:55,velocity:.5905511811023622,time:59.90909999996424,channel:4,duration:3.193900000035761,end:63.103},{name:"E",number:64,velocity:.07874015748031496,time:59.92209999996424,channel:2,duration:.03499999999999659,end:59.957099999964235},{name:"D",number:50,velocity:.44881889763779526,time:63.219,channel:5,duration:.11509999996423659,end:63.33409999996424},{name:"E",number:52,velocity:.41732283464566927,time:63.33109999996424,channel:5,duration:.1489000000357592,end:63.48},{name:"G",number:55,velocity:.07874015748031496,time:63.42609999996424,channel:4,duration:.09100000000000108,end:63.51709999996424},{name:"G",number:55,velocity:.7322834645669292,time:63.522,channel:4,duration:.30700000000000216,end:63.829},{name:"E",number:52,velocity:.18110236220472442,time:63.732,channel:5,duration:.06509999996423943,end:63.79709999996424},{name:"E",number:52,velocity:.6062992125984252,time:63.818,channel:5,duration:.3440999999642429,end:64.16209999996424},{name:"F",number:53,velocity:.07874015748031496,time:64.12209999996423,channel:6,duration:.026900000035766425,end:64.149},{name:"G",number:55,velocity:.07874015748031496,time:64.14609999996424,channel:6,duration:.00390000003577029,end:64.15},{name:"C",number:48,velocity:.905511811023622,time:64.156,channel:6,duration:1.6460000000000008,end:65.802},{name:"C#",number:49,velocity:.6929133858267716,time:65.798,channel:6,duration:.06199999999999761,end:65.86},{name:"C",number:48,velocity:.6850393700787402,time:65.856,channel:6,duration:.33809999996424267,end:66.19409999996424},{name:"E",number:52,velocity:.07874015748031496,time:66.13409999996423,channel:5,duration:.05290000003576267,end:66.187},{name:"E",number:52,velocity:.5984251968503937,time:66.19009999996423,channel:5,duration:.3230000000000075,end:66.51309999996424},{name:"D#",number:51,velocity:.48031496062992124,time:66.51,channel:5,duration:.028999999999996362,end:66.539},{name:"D",number:50,velocity:.47244094488188976,time:66.536,channel:5,duration:1.9519999999999982,end:68.488},{name:"E",number:52,velocity:.6062992125984252,time:68.502,channel:5,duration:.30400000000000205,end:68.806},{name:"D",number:50,velocity:.6614173228346457,time:68.82609999996424,channel:5,duration:.2849999999999966,end:69.11109999996424},{name:"D",number:74,velocity:.07874015748031496,time:69.08009999996423,channel:4,duration:.055999999999997385,end:69.13609999996423},{name:"G",number:55,velocity:1,time:69.14,channel:4,duration:1.0140999999642304,end:70.15409999996423},{name:"C",number:60,velocity:.07874015748031496,time:70.155,channel:3,duration:.17399999999999238,end:70.329},{name:"C",number:60,velocity:.7165354330708661,time:70.156,channel:4,duration:.015999999999991132,end:70.172},{name:"D",number:50,velocity:.7007874015748031,time:70.16909999996423,channel:4,duration:.060000000000002274,end:70.22909999996423},{name:"G",number:55,velocity:1,time:72.50109999996424,channel:4,duration:.3100000000000023,end:72.81109999996424},{name:"A",number:57,velocity:.8503937007874016,time:72.808,channel:4,duration:.01809999996423528,end:72.82609999996424},{name:"A#",number:58,velocity:1,time:72.847,channel:4,duration:.007000000000005002,end:72.854},{name:"A",number:57,velocity:1,time:72.85009999996424,channel:4,duration:.26490000003575176,end:73.115},{name:"C#",number:61,velocity:.905511811023622,time:73.149,channel:3,duration:.008099999964230165,end:73.15709999996423},{name:"C",number:60,velocity:.8976377952755905,time:73.15509999996424,channel:3,duration:.26500000000000057,end:73.42009999996424},{name:"D",number:62,velocity:.7637795275590551,time:73.416,channel:3,duration:.04600000000000648,end:73.462},{name:"D#",number:63,velocity:1,time:73.482,channel:3,duration:.010000000000005116,end:73.492},{name:"D",number:62,velocity:.937007874015748,time:73.49009999996424,channel:3,duration:.3219999999999885,end:73.81209999996423},{name:"E",number:64,velocity:.905511811023622,time:73.834,channel:3,duration:.32509999996423744,end:74.15909999996424},{name:"D#",number:63,velocity:.8818897637795275,time:74.182,channel:3,duration:.008099999964230165,end:74.19009999996423},{name:"D",number:62,velocity:.8110236220472441,time:74.18709999996423,channel:3,duration:.3229000000357729,end:74.51},{name:"C#",number:61,velocity:.9448818897637795,time:74.538,channel:3,duration:.015000000000000568,end:74.553},{name:"C",number:60,velocity:.905511811023622,time:74.55,channel:3,duration:.2920000000000016,end:74.842},{name:"D",number:62,velocity:.7480314960629921,time:74.838,channel:3,duration:.036000000000001364,end:74.874},{name:"D#",number:63,velocity:.937007874015748,time:74.89,channel:3,duration:.010000000000005116,end:74.9},{name:"D",number:62,velocity:.937007874015748,time:74.897,channel:3,duration:1.9700999999642335,end:76.86709999996424},{name:"D#",number:63,velocity:.968503937007874,time:76.87109999996424,channel:3,duration:.017900000035751873,end:76.889},{name:"D",number:62,velocity:.937007874015748,time:76.88609999996423,channel:3,duration:.33490000003577336,end:77.221},{name:"D#",number:75,velocity:.07874015748031496,time:77.18209999996424,channel:4,duration:.028000000000005798,end:77.21009999996424},{name:"E",number:76,velocity:.07874015748031496,time:77.20709999996424,channel:4,duration:.013900000035761195,end:77.221},{name:"A#",number:58,velocity:1,time:77.22709999996424,channel:4,duration:.006900000035756193,end:77.234},{name:"A",number:57,velocity:1,time:77.234,channel:4,duration:2.3170000000000073,end:79.551},{name:"G#",number:56,velocity:1,time:79.554,channel:4,duration:.01999999999999602,end:79.574},{name:"G",number:55,velocity:1,time:79.57209999996424,channel:4,duration:.33499999999999375,end:79.90709999996423},{name:"G",number:55,velocity:.937007874015748,time:79.91109999996424,channel:4,duration:.30100000000000193,end:80.21209999996424},{name:"G#",number:68,velocity:.07874015748031496,time:80.19609999996423,channel:3,duration:.07500000000000284,end:80.27109999996424},{name:"A",number:57,velocity:.8740157480314961,time:80.209,channel:4,duration:.29299999999999216,end:80.502},{name:"A",number:69,velocity:.07874015748031496,time:80.268,channel:3,duration:.2469999999999999,end:80.515},{name:"G",number:55,velocity:.07874015748031496,time:80.513,channel:3,duration:.7740000000000009,end:81.287},{name:"E",number:52,velocity:.6062992125984252,time:80.52109999996424,channel:5,duration:1.2569000000357704,end:81.778},{name:"D#",number:51,velocity:.4251968503937008,time:81.777,channel:5,duration:.03109999996424051,end:81.80809999996424},{name:"D",number:50,velocity:.4094488188976378,time:81.806,channel:5,duration:.030000000000001137,end:81.836},{name:"D",number:50,velocity:.29133858267716534,time:81.87509999996423,channel:5,duration:.3369000000357687,end:82.212},{name:"A",number:57,velocity:.4330708661417323,time:82.17609999996424,channel:4,duration:.18190000003576756,end:82.358},{name:"E",number:52,velocity:.6771653543307087,time:82.215,channel:5,duration:.27609999996423085,end:82.49109999996423},{name:"D",number:50,velocity:.5984251968503937,time:82.543,channel:5,duration:2.2400999999642295,end:84.78309999996424},{name:"E",number:52,velocity:.4015748031496063,time:84.78009999996424,channel:5,duration:.07090000003576336,end:84.851},{name:"E",number:52,velocity:.5196850393700787,time:84.853,channel:5,duration:.7270000000000039,end:85.58},{name:"C",number:48,velocity:.6614173228346457,time:85.547,channel:6,duration:6.000099999964235,end:91.54709999996423}],A7t="improvisation-chord-progression",v7t="0.23.3",b7t="2024-11-26T15:25:22.972Z",C7t={root:o7t,scaleType:s7t,chordProgLabel:l7t,barCount:c7t,maxNoteDistance:u7t,minDuration:d7t,showNoteTypePlot:h7t,showRhythmPlot:f7t,showChromaPlot:m7t,showChordPlot:p7t,showDurationPlot:g7t,showPianoRoll:M7t,notes:y7t,_appId:A7t,_softwareVersion:v7t,_date:b7t},_7t="C",E7t="major",w7t="ii V I (2-5-1) 7th",O7t=50,S7t=.1,x7t=.1,T7t=!0,I7t=!0,B7t=!0,R7t=!1,D7t=!1,P7t=!1,k7t=[{name:"B",number:59,velocity:.07874015748031496,time:2.341600000023842,channel:3,duration:.005999999999999783,end:2.3476000000238417},{name:"D#",number:63,velocity:1,time:2.3516000000238417,channel:3,duration:.014000000000000234,end:2.365600000023842},{name:"D",number:62,velocity:.952755905511811,time:2.361600000023842,channel:3,duration:.5089999999999999,end:2.870600000023842},{name:"D#",number:63,velocity:.8267716535433071,time:2.868600000023842,channel:3,duration:.19099999999999984,end:3.059600000023842},{name:"F",number:65,velocity:.984251968503937,time:3.088600000023842,channel:2,duration:.016999999999999904,end:3.1056000000238417},{name:"E",number:64,velocity:.9763779527559056,time:3.1016000000238417,channel:2,duration:.2650000000000001,end:3.366600000023842},{name:"A#",number:70,velocity:1,time:3.199600000023842,channel:1,duration:.020000000000000018,end:3.219600000023842},{name:"A",number:69,velocity:1,time:3.215600000023842,channel:1,duration:.1349999999999998,end:3.350600000023842},{name:"G",number:67,velocity:.7952755905511811,time:3.3596000000238417,channel:2,duration:.09299999999999997,end:3.4526000000238417},{name:"E",number:64,velocity:.7952755905511811,time:3.450600000023842,channel:2,duration:.07600000000000007,end:3.526600000023842},{name:"D",number:62,velocity:.6141732283464567,time:3.503600000023842,channel:3,duration:.12299999999999978,end:3.6266000000238416},{name:"C",number:60,velocity:.5669291338582677,time:3.623600000023842,channel:3,duration:.11909999996423704,end:3.742699999988079},{name:"C#",number:61,velocity:.5118110236220472,time:3.739600000023842,channel:3,duration:.49699999999999944,end:4.2366000000238415},{name:"E",number:76,velocity:.3543307086614173,time:4.022600000023842,channel:4,duration:.0259999999999998,end:4.048600000023842},{name:"D#",number:75,velocity:.11811023622047244,time:4.046600000023842,channel:4,duration:.009999999999999787,end:4.056600000023842},{name:"A",number:57,velocity:.9291338582677166,time:4.059600000023842,channel:4,duration:.17799999999999994,end:4.237600000023842},{name:"G",number:55,velocity:.7401574803149606,time:4.233600000023842,channel:4,duration:.05599999999999916,end:4.2896000000238415},{name:"A",number:57,velocity:.7952755905511811,time:4.293600000023842,channel:4,duration:.11699999999999999,end:4.410600000023842},{name:"C#",number:61,velocity:.984251968503937,time:4.394600000023842,channel:3,duration:.016000000000000014,end:4.410600000023842},{name:"C",number:60,velocity:.8818897637795275,time:4.4066000000238414,channel:3,duration:.14809999996423784,end:4.554699999988079},{name:"A",number:57,velocity:.6614173228346457,time:4.534600000023842,channel:4,duration:.18100000000000005,end:4.715600000023842},{name:"C#",number:61,velocity:1,time:4.674600000023842,channel:3,duration:.01100000000000012,end:4.685600000023842},{name:"C",number:60,velocity:1,time:4.683600000023842,channel:3,duration:.11800000000000033,end:4.801600000023842},{name:"D",number:50,velocity:.5118110236220472,time:4.7126000000238415,channel:4,duration:.2940000000000005,end:5.006600000023842},{name:"D#",number:63,velocity:1,time:4.820600000023842,channel:3,duration:.009999999999999787,end:4.830600000023842},{name:"D",number:62,velocity:1,time:4.827600000023842,channel:3,duration:.16300000000000026,end:4.990600000023842},{name:"E",number:64,velocity:.968503937007874,time:5.045600000023842,channel:3,duration:.04499999999999993,end:5.090600000023842},{name:"A",number:81,velocity:.7795275590551181,time:5.088600000023842,channel:3,duration:.020000000000000462,end:5.108600000023842},{name:"G",number:67,velocity:1,time:6.224600000023842,channel:2,duration:.2450000000000001,end:6.469600000023842},{name:"E",number:64,velocity:.7716535433070866,time:6.3456000000238415,channel:1,duration:.242,end:6.5876000000238415},{name:"G#",number:68,velocity:.937007874015748,time:6.473600000023842,channel:2,duration:.012000000000000455,end:6.485600000023842},{name:"G",number:67,velocity:.952755905511811,time:6.481600000023842,channel:2,duration:.10599999999999987,end:6.5876000000238415},{name:"A",number:69,velocity:.8188976377952756,time:6.585600000023842,channel:2,duration:.007000000000000561,end:6.592600000023842},{name:"A",number:69,velocity:.9763779527559056,time:6.5956000000238415,channel:2,duration:.3930000000000007,end:6.988600000023842},{name:"G",number:55,velocity:.07874015748031496,time:6.940600000023842,channel:3,duration:.10799999999999965,end:7.048600000023842},{name:"G",number:67,velocity:.9133858267716536,time:6.993600000023842,channel:2,duration:.11399999999999988,end:7.107600000023842},{name:"G#",number:68,velocity:.8346456692913385,time:7.104600000023842,channel:2,duration:.06099999999999994,end:7.165600000023842},{name:"F",number:65,velocity:.23622047244094488,time:7.124600000023841,channel:3,duration:.10100000000000087,end:7.225600000023842},{name:"E",number:64,velocity:1,time:7.167600000023842,channel:1,duration:.08999999999999986,end:7.257600000023841},{name:"G",number:55,velocity:.10236220472440945,time:7.2206000000238415,channel:3,duration:.06400000000000006,end:7.284600000023842},{name:"C",number:72,velocity:.8346456692913385,time:7.253600000023842,channel:1,duration:.08999999999999986,end:7.343600000023842},{name:"B",number:59,velocity:.8346456692913385,time:7.308600000023842,channel:2,duration:.05000000000000071,end:7.358600000023842},{name:"D",number:74,velocity:.8031496062992126,time:7.338600000023842,channel:1,duration:.17600000000000016,end:7.514600000023842},{name:"A",number:69,velocity:.7716535433070866,time:7.354600000023842,channel:2,duration:.028999999999999915,end:7.383600000023842},{name:"D",number:74,velocity:.937007874015748,time:7.517600000023842,channel:1,duration:.09999999999999964,end:7.617600000023842},{name:"E",number:76,velocity:.905511811023622,time:7.613600000023842,channel:1,duration:.030999999999999694,end:7.644600000023842},{name:"F",number:77,velocity:.8740157480314961,time:7.642600000023842,channel:1,duration:.07699999999999996,end:7.719600000023842},{name:"D#",number:75,velocity:.7716535433070866,time:7.717600000023842,channel:1,duration:.1299999999999999,end:7.847600000023842},{name:"D",number:74,velocity:.7401574803149606,time:7.8456000000238415,channel:1,duration:.019000000000000128,end:7.864600000023842},{name:"C",number:72,velocity:.7401574803149606,time:7.859600000023842,channel:1,duration:.13900000000000023,end:7.998600000023842},{name:"B",number:59,velocity:.6535433070866141,time:7.888600000023842,channel:2,duration:.10599999999999987,end:7.9946000000238415},{name:"C",number:72,velocity:.7874015748031497,time:8.000600000023843,channel:1,duration:.2129999999999992,end:8.213600000023842},{name:"B",number:59,velocity:1,time:8.117600000023842,channel:2,duration:.021000000000000796,end:8.138600000023843},{name:"A",number:69,velocity:.952755905511811,time:8.136600000023842,channel:2,duration:.24900000000000055,end:8.385600000023842},{name:"B",number:71,velocity:.889763779527559,time:8.380600000023842,channel:2,duration:.03599999999999959,end:8.416600000023841},{name:"C",number:72,velocity:.889763779527559,time:8.414699999988079,channel:2,duration:.1319000000357633,end:8.546600000023842},{name:"D",number:74,velocity:.5905511811023622,time:8.554600000023841,channel:1,duration:.10800000000000054,end:8.662600000023842},{name:"C",number:72,velocity:.4645669291338583,time:8.647600000023841,channel:2,duration:.027000000000001023,end:8.674600000023842},{name:"F",number:77,velocity:.3858267716535433,time:8.658600000023842,channel:1,duration:.019000000000000128,end:8.677600000023842},{name:"C",number:72,velocity:.9921259842519685,time:8.678600000023842,channel:2,duration:.10100000000000087,end:8.779600000023843},{name:"D",number:74,velocity:.5275590551181102,time:8.803600000023842,channel:1,duration:.11800000000000033,end:8.921600000023842},{name:"E",number:76,velocity:.8582677165354331,time:8.924600000023842,channel:1,duration:.15899999999999892,end:9.083600000023841},{name:"E",number:76,velocity:.8818897637795275,time:9.109600000023843,channel:1,duration:.10499999999999865,end:9.214600000023841},{name:"F",number:77,velocity:.937007874015748,time:9.209600000023842,channel:1,duration:.3249999999999993,end:9.534600000023842},{name:"E",number:76,velocity:.8346456692913385,time:9.528600000023841,channel:1,duration:.03200000000000003,end:9.560600000023841},{name:"D#",number:75,velocity:.8188976377952756,time:9.559600000023842,channel:1,duration:.016000000000000014,end:9.575600000023842},{name:"D",number:74,velocity:.7952755905511811,time:9.573600000023841,channel:1,duration:.07600000000000051,end:9.649600000023842},{name:"C",number:72,velocity:.6456692913385826,time:9.628600000023841,channel:2,duration:.10800000000000054,end:9.736600000023842},{name:"D",number:74,velocity:.937007874015748,time:9.729600000023842,channel:1,duration:.13700000000000045,end:9.866600000023842},{name:"C",number:72,velocity:1,time:9.850600000023842,channel:2,duration:.14700000000000024,end:9.997600000023843},{name:"F",number:77,velocity:.7874015748031497,time:9.863600000023842,channel:1,duration:.07499999999999929,end:9.938600000023841},{name:"C#",number:73,velocity:.9448818897637795,time:9.995600000023842,channel:2,duration:.026999999999999247,end:10.022600000023841},{name:"D",number:74,velocity:.9133858267716536,time:10.021600000023842,channel:2,duration:.13700000000000045,end:10.158600000023842},{name:"F",number:77,velocity:.7559055118110236,time:10.157600000023843,channel:1,duration:.18799999999999883,end:10.345600000023842},{name:"B",number:59,velocity:.5433070866141733,time:10.197600000023842,channel:2,duration:.07699999999999996,end:10.274600000023842},{name:"D",number:50,velocity:.07874015748031496,time:10.256600000023841,channel:3,duration:.018000000000000682,end:10.274600000023842},{name:"B",number:71,velocity:.07874015748031496,time:10.268600000023842,channel:3,duration:.04899999999999949,end:10.317600000023841},{name:"D",number:74,velocity:.9606299212598425,time:10.283600000023842,channel:2,duration:.11899999999999977,end:10.402600000023842},{name:"E",number:76,velocity:.48031496062992124,time:10.342600000023841,channel:1,duration:.03200000000000003,end:10.374600000023841},{name:"F",number:77,velocity:.5039370078740157,time:10.369600000023842,channel:1,duration:.045999999999999375,end:10.415600000023842},{name:"F",number:77,velocity:.8818897637795275,time:10.418600000023842,channel:1,duration:.07199999999999918,end:10.490600000023841},{name:"E",number:76,velocity:.8031496062992126,time:10.486600000023842,channel:1,duration:.06099999999999994,end:10.547600000023841},{name:"F#",number:78,velocity:.937007874015748,time:10.568600000023842,channel:1,duration:.15399999999999991,end:10.722600000023842},{name:"G",number:79,velocity:.9606299212598425,time:10.834600000023842,channel:1,duration:.10599999999999987,end:10.940600000023842},{name:"G#",number:80,velocity:.9921259842519685,time:10.938600000023841,channel:1,duration:.10400000000000098,end:11.042600000023842},{name:"G#",number:80,velocity:.968503937007874,time:11.067600000023841,channel:1,duration:.1800000000000015,end:11.247600000023843},{name:"A",number:69,velocity:.25196850393700787,time:11.200600000023842,channel:3,duration:.11800000000000033,end:11.318600000023842},{name:"A",number:81,velocity:.9921259842519685,time:11.240600000023841,channel:1,duration:.35300000000000153,end:11.593600000023843},{name:"G#",number:80,velocity:.9291338582677166,time:11.589600000023841,channel:1,duration:.0600000000000005,end:11.649600000023842},{name:"G",number:55,velocity:.16535433070866143,time:11.609600000023843,channel:3,duration:.09799999999999898,end:11.707600000023842},{name:"F#",number:78,velocity:.9291338582677166,time:11.647600000023841,channel:1,duration:.017000000000001236,end:11.664600000023842},{name:"E",number:76,velocity:.9212598425196851,time:11.663600000023841,channel:1,duration:.4380000000000006,end:12.101600000023842},{name:"B",number:59,velocity:.7401574803149606,time:11.713600000023842,channel:2,duration:.06700000000000017,end:11.780600000023842},{name:"D",number:74,velocity:.7007874015748031,time:11.778600000023841,channel:2,duration:.04600000000000115,end:11.824600000023842},{name:"C#",number:73,velocity:.5511811023622047,time:11.834600000023842,channel:2,duration:.02099999999999902,end:11.855600000023841},{name:"B",number:59,velocity:.5905511811023622,time:11.849600000023841,channel:2,duration:.07600000000000051,end:11.925600000023842},{name:"D",number:74,velocity:1,time:11.928600000023842,channel:2,duration:.391,end:12.319600000023842},{name:"D#",number:75,velocity:.9763779527559056,time:12.316600000023842,channel:2,duration:.04600000000000115,end:12.362600000023843},{name:"D",number:74,velocity:.968503937007874,time:12.359600000023843,channel:2,duration:1.3389999999999986,end:13.698600000023841},{name:"G",number:55,velocity:.968503937007874,time:13.738600000023842,channel:3,duration:.14599999999999902,end:13.884600000023841},{name:"D#",number:75,velocity:.7874015748031497,time:13.920600000023843,channel:3,duration:.1399999999999988,end:14.060600000023841},{name:"E",number:76,velocity:.7480314960629921,time:14.057600000023841,channel:3,duration:.031000000000000583,end:14.088600000023842},{name:"E",number:76,velocity:.23622047244094488,time:14.096600000023843,channel:2,duration:.0649999999999995,end:14.161600000023842},{name:"A",number:81,velocity:1,time:14.202600000023843,channel:1,duration:.2629999999999999,end:14.465600000023842},{name:"E",number:76,velocity:1,time:14.329600000023841,channel:2,duration:.11700000000000088,end:14.446600000023842},{name:"G",number:79,velocity:.8582677165354331,time:14.450600000023842,channel:2,duration:.20599999999999952,end:14.656600000023841},{name:"B",number:59,velocity:.7007874015748031,time:14.654600000023843,channel:2,duration:.14699999999999847,end:14.801600000023841},{name:"A",number:81,velocity:.2204724409448819,time:14.660600000023841,channel:1,duration:.13900000000000112,end:14.799600000023842},{name:"G",number:79,velocity:1,time:14.816600000023842,channel:2,duration:.11299999999999955,end:14.929600000023841},{name:"A",number:81,velocity:.9921259842519685,time:14.954600000023841,channel:1,duration:.09100000000000108,end:15.045600000023843},{name:"C",number:84,velocity:.905511811023622,time:15.042600000023842,channel:1,duration:.019000000000000128,end:15.061600000023843},{name:"C",number:84,velocity:.9448818897637795,time:15.068600000023842,channel:1,duration:.13700000000000045,end:15.205600000023843},{name:"C",number:84,velocity:.9921259842519685,time:15.223600000023842,channel:1,duration:.08399999999999963,end:15.307600000023841},{name:"C#",number:85,velocity:.9921259842519685,time:15.304600000023841,channel:1,duration:.0470000000000006,end:15.351600000023842},{name:"D",number:86,velocity:.984251968503937,time:15.348600000023842,channel:1,duration:.0600000000000005,end:15.408600000023842},{name:"D#",number:87,velocity:.905511811023622,time:15.405600000023842,channel:1,duration:.29299999999999926,end:15.698600000023841},{name:"D",number:86,velocity:.7795275590551181,time:15.696600000023842,channel:1,duration:.045999999999999375,end:15.742600000023842},{name:"C#",number:85,velocity:.7716535433070866,time:15.738600000023842,channel:1,duration:.04800000000000004,end:15.786600000023842},{name:"C",number:84,velocity:.7637795275590551,time:15.784600000023842,channel:1,duration:.08999999999999986,end:15.874600000023841},{name:"G#",number:80,velocity:.16535433070866143,time:15.882600000023842,channel:1,duration:.03599999999999959,end:15.918600000023842},{name:"A",number:81,velocity:.12598425196850394,time:15.915600000023842,channel:1,duration:.045999999999999375,end:15.961600000023841},{name:"G",number:79,velocity:.2283464566929134,time:15.979600000023842,channel:2,duration:.06900000000000084,end:16.048600000023843},{name:"E",number:76,velocity:.1968503937007874,time:16.150600000023843,channel:2,duration:.028999999999999915,end:16.179600000023843},{name:"G",number:79,velocity:.23622047244094488,time:16.176600000023843,channel:2,duration:.07499999999999929,end:16.251600000023842},{name:"F#",number:78,velocity:.29133858267716534,time:16.248600000023842,channel:2,duration:.01699999999999946,end:16.26560000002384},{name:"B",number:83,velocity:.2283464566929134,time:16.26160000002384,channel:1,duration:.018000000000000682,end:16.27960000002384},{name:"E",number:76,velocity:.30708661417322836,time:16.26160000002384,channel:2,duration:.18000000000000327,end:16.441600000023843},{name:"E",number:64,velocity:.12598425196850394,time:16.277600000023842,channel:1,duration:.045999999999999375,end:16.32360000002384},{name:"F",number:77,velocity:.16535433070866143,time:16.43660000002384,channel:2,duration:.045000000000001705,end:16.481600000023843},{name:"E",number:76,velocity:.12598425196850394,time:16.479600000023844,channel:2,duration:.07399999999999807,end:16.55360000002384},{name:"G",number:55,velocity:.07874015748031496,time:16.52060000002384,channel:3,duration:.06400000000000006,end:16.58460000002384},{name:"E",number:76,velocity:.07874015748031496,time:16.556600000023842,channel:2,duration:.04200000000000159,end:16.598600000023843},{name:"F",number:77,velocity:.07874015748031496,time:16.59660000002384,channel:2,duration:.12300000000000111,end:16.719600000023842},{name:"F",number:77,velocity:.7401574803149606,time:16.72160000002384,channel:2,duration:.08200000000000074,end:16.80360000002384},{name:"G",number:79,velocity:.6771653543307087,time:16.80060000002384,channel:2,duration:.08099999999999952,end:16.88160000002384},{name:"G#",number:56,velocity:.7559055118110236,time:16.82660000002384,channel:3,duration:.019000000000001904,end:16.845600000023843},{name:"G",number:55,velocity:.7401574803149606,time:16.841600000023842,channel:3,duration:.062000000000001165,end:16.903600000023843},{name:"E",number:76,velocity:.48031496062992124,time:16.88460000002384,channel:2,duration:.120000000000001,end:17.004600000023842},{name:"B",number:71,velocity:.5669291338582677,time:16.96260000002384,channel:3,duration:.028999999999999915,end:16.99160000002384},{name:"C",number:72,velocity:.5039370078740157,time:16.987600000023843,channel:3,duration:.047999999999998266,end:17.03560000002384},{name:"F",number:77,velocity:.3937007874015748,time:17.001600000023842,channel:2,duration:.03399999999999892,end:17.03560000002384},{name:"D",number:74,velocity:.5118110236220472,time:17.033600000023842,channel:3,duration:.0710000000000015,end:17.104600000023844},{name:"D",number:74,velocity:.15748031496062992,time:17.10860000002384,channel:3,duration:.04200000000000159,end:17.150600000023843},{name:"C",number:72,velocity:.25984251968503935,time:17.147600000023843,channel:3,duration:.05799999999999983,end:17.205600000023843},{name:"G",number:67,velocity:.07874015748031496,time:17.153600000023843,channel:4,duration:.09999999999999787,end:17.25360000002384},{name:"B",number:59,velocity:.16535433070866143,time:17.158600000023842,channel:2,duration:.10899999999999821,end:17.26760000002384},{name:"C",number:72,velocity:.5669291338582677,time:17.20960000002384,channel:3,duration:.08699999999999974,end:17.29660000002384},{name:"D#",number:75,velocity:.07874015748031496,time:17.263600000023843,channel:2,duration:.03200000000000003,end:17.295600000023843},{name:"C#",number:73,velocity:.5039370078740157,time:17.29360000002384,channel:3,duration:.04600000000000293,end:17.339600000023843},{name:"D",number:50,velocity:.3464566929133858,time:17.29960000002384,channel:4,duration:.04100000000000037,end:17.34060000002384},{name:"F#",number:66,velocity:.3228346456692913,time:17.338600000023842,channel:4,duration:.04400000000000048,end:17.382600000023842},{name:"B",number:71,velocity:.3779527559055118,time:17.36460000002384,channel:3,duration:.120000000000001,end:17.484600000023843},{name:"D",number:50,velocity:.7244094488188977,time:17.44860000002384,channel:4,duration:.10900000000000176,end:17.557600000023843},{name:"C",number:72,velocity:.41732283464566927,time:17.48060000002384,channel:3,duration:.0470000000000006,end:17.527600000023842},{name:"B",number:71,velocity:.3228346456692913,time:17.525600000023843,channel:3,duration:.1479999999999997,end:17.673600000023843},{name:"G",number:67,velocity:.7165354330708661,time:17.61660000002384,channel:4,duration:.10200000000000031,end:17.71860000002384},{name:"G",number:55,velocity:.30708661417322836,time:17.66860000002384,channel:3,duration:.04900000000000304,end:17.717600000023843},{name:"A#",number:70,velocity:.5669291338582677,time:17.71560000002384,channel:4,duration:.01600000000000179,end:17.731600000023843},{name:"B",number:71,velocity:.6141732283464567,time:17.777600000023842,channel:3,duration:.3440000000000012,end:18.121600000023843},{name:"A#",number:58,velocity:.7559055118110236,time:17.80560000002384,channel:4,duration:.028000000000002245,end:17.833600000023843},{name:"D",number:50,velocity:.7244094488188977,time:17.82860000002384,channel:4,duration:.06900000000000261,end:17.897600000023843},{name:"A",number:69,velocity:.8267716535433071,time:17.89960000002384,channel:4,duration:.0940000000000012,end:17.993600000023843},{name:"A#",number:70,velocity:.6929133858267716,time:17.98960000002384,channel:4,duration:.01600000000000179,end:18.005600000023843},{name:"D",number:50,velocity:.7874015748031497,time:18.028600000023843,channel:4,duration:.055999999999997385,end:18.08460000002384},{name:"A",number:69,velocity:.8582677165354331,time:18.10760000002384,channel:4,duration:.04600000000000293,end:18.153600000023843},{name:"D#",number:75,velocity:1,time:18.12260000002384,channel:3,duration:.01600000000000179,end:18.138600000023843},{name:"D",number:74,velocity:1,time:18.135600000023842,channel:3,duration:.08800000000000097,end:18.223600000023843},{name:"D#",number:75,velocity:1,time:18.22160000002384,channel:3,duration:.045999999999999375,end:18.26760000002384},{name:"E",number:76,velocity:.9921259842519685,time:18.28560000002384,channel:2,duration:.07199999999999918,end:18.35760000002384},{name:"E",number:76,velocity:1,time:18.414600000023842,channel:2,duration:.07099999999999795,end:18.48560000002384},{name:"G",number:79,velocity:.968503937007874,time:18.48260000002384,channel:2,duration:.07600000000000051,end:18.55860000002384},{name:"E",number:76,velocity:.9133858267716536,time:18.556600000023842,channel:2,duration:.2010000000000005,end:18.757600000023842},{name:"D",number:50,velocity:1,time:18.60760000002384,channel:4,duration:.06900000000000261,end:18.676600000023843},{name:"D",number:74,velocity:.3937007874015748,time:18.615600000023843,channel:3,duration:.11799999999999855,end:18.73360000002384},{name:"D#",number:75,velocity:.25196850393700787,time:18.72760000002384,channel:3,duration:.01699999999999946,end:18.74460000002384},{name:"E",number:76,velocity:.5748031496062992,time:18.760600000023842,channel:2,duration:.10200000000000031,end:18.862600000023843},{name:"E",number:76,velocity:.6456692913385826,time:18.891600000023843,channel:2,duration:.11599999999999966,end:19.007600000023842},{name:"D",number:74,velocity:.31496062992125984,time:18.979600000023844,channel:3,duration:.10199999999999676,end:19.08160000002384},{name:"C#",number:73,velocity:.11811023622047244,time:19.07860000002384,channel:3,duration:.005000000000002558,end:19.083600000023843},{name:"D",number:62,velocity:.3464566929133858,time:19.086600000023843,channel:3,duration:.036999999999999034,end:19.123600000023842},{name:"G",number:55,velocity:.31496062992125984,time:19.120600000023842,channel:3,duration:.06099999999999994,end:19.181600000023842},{name:"D",number:74,velocity:.4251968503937008,time:19.234600000023843,channel:3,duration:.1509999999999998,end:19.385600000023842},{name:"G#",number:80,velocity:.07874015748031496,time:19.287600000023843,channel:1,duration:.03999999999999915,end:19.327600000023843},{name:"A",number:81,velocity:.07874015748031496,time:19.32560000002384,channel:1,duration:.1490000000000009,end:19.47460000002384},{name:"G",number:55,velocity:.07874015748031496,time:19.383600000023844,channel:3,duration:.06299999999999883,end:19.446600000023842},{name:"G",number:79,velocity:.14173228346456693,time:19.449600000023842,channel:2,duration:.10999999999999943,end:19.559600000023842},{name:"D",number:62,velocity:.48031496062992124,time:19.45060000002384,channel:3,duration:.09500000000000242,end:19.545600000023843},{name:"B",number:83,velocity:.07874015748031496,time:19.469600000023842,channel:1,duration:.015999999999998238,end:19.48560000002384},{name:"G",number:55,velocity:.3937007874015748,time:19.542600000023842,channel:3,duration:.22100000000000009,end:19.763600000023843},{name:"E",number:76,velocity:.16535433070866143,time:19.55669999998808,channel:2,duration:.07890000003576247,end:19.635600000023842},{name:"G",number:79,velocity:.25984251968503935,time:19.638600000023843,channel:2,duration:.10999999999999943,end:19.748600000023842},{name:"G#",number:80,velocity:.1968503937007874,time:19.745600000023842,channel:2,duration:.01699999999999946,end:19.76260000002384},{name:"D#",number:63,velocity:.2283464566929134,time:19.86460000002384,channel:3,duration:.03399999999999892,end:19.89860000002384},{name:"G",number:79,velocity:.07874015748031496,time:19.865600000023843,channel:2,duration:.03200000000000003,end:19.897600000023843},{name:"F#",number:78,velocity:.07874015748031496,time:19.888600000023843,channel:2,duration:.010999999999999233,end:19.89960000002384},{name:"D#",number:75,velocity:.16535433070866143,time:19.891600000023843,channel:3,duration:.038999999999997925,end:19.93060000002384},{name:"G",number:79,velocity:.5354330708661418,time:19.89960000002384,channel:2,duration:.054999999999999716,end:19.95460000002384},{name:"B",number:59,velocity:.3779527559055118,time:19.93660000002384,channel:3,duration:.018000000000000682,end:19.95460000002384},{name:"F#",number:78,velocity:.5354330708661418,time:19.947600000023844,channel:2,duration:.020999999999997243,end:19.96860000002384},{name:"G",number:55,velocity:.2677165354330709,time:19.949600000023842,channel:3,duration:.05900000000000105,end:20.008600000023844},{name:"E",number:76,velocity:.48031496062992124,time:19.963600000023842,channel:2,duration:.03200000000000003,end:19.995600000023842},{name:"E",number:76,velocity:.6692913385826772,time:20.01760000002384,channel:2,duration:.08109999996423767,end:20.098699999988078},{name:"C",number:72,velocity:.07874015748031496,time:20.08260000002384,channel:3,duration:.019000000000001904,end:20.101600000023844},{name:"G",number:79,velocity:.6850393700787402,time:20.09360000002384,channel:2,duration:.15200000000000102,end:20.245600000023842},{name:"D",number:74,velocity:.8818897637795275,time:20.103600000023842,channel:3,duration:.06499999999999773,end:20.16860000002384},{name:"E",number:76,velocity:.41732283464566927,time:20.25060000002384,channel:2,duration:.04899999999999949,end:20.29960000002384},{name:"C",number:60,velocity:.3464566929133858,time:20.27960000002384,channel:3,duration:.021000000000000796,end:20.30060000002384},{name:"G",number:79,velocity:.44881889763779526,time:20.29760000002384,channel:2,duration:.1180000000000021,end:20.415600000023844},{name:"D#",number:75,velocity:.3228346456692913,time:20.29960000002384,channel:3,duration:.04400000000000048,end:20.34360000002384},{name:"D",number:74,velocity:.8661417322834646,time:20.347600000023842,channel:3,duration:.11199999999999832,end:20.45960000002384},{name:"E",number:76,velocity:.31496062992125984,time:20.41360000002384,channel:2,duration:.060000000000002274,end:20.473600000023843},{name:"G",number:79,velocity:.3543307086614173,time:20.469600000023842,channel:2,duration:.007999999999999119,end:20.47760000002384},{name:"G",number:79,velocity:.4094488188976378,time:20.481600000023843,channel:2,duration:.0799999999999983,end:20.56160000002384},{name:"D",number:74,velocity:.8661417322834646,time:20.55060000002384,channel:3,duration:.02499999999999858,end:20.57560000002384},{name:"F#",number:78,velocity:.3543307086614173,time:20.557600000023843,channel:2,duration:.015999999999998238,end:20.57360000002384},{name:"D#",number:75,velocity:.8110236220472441,time:20.57360000002384,channel:3,duration:.0470000000000006,end:20.620600000023842},{name:"G",number:79,velocity:.7401574803149606,time:20.57660000002384,channel:2,duration:.05700000000000216,end:20.633600000023844},{name:"E",number:76,velocity:.6377952755905512,time:20.629600000023842,channel:2,duration:.07399999999999807,end:20.70360000002384},{name:"E",number:76,velocity:.16535433070866143,time:20.70769999998808,channel:2,duration:.08090000003576137,end:20.78860000002384},{name:"C",number:60,velocity:1,time:20.79360000002384,channel:2,duration:.028000000000002245,end:20.821600000023842},{name:"C",number:84,velocity:.8976377952755905,time:20.807600000023843,channel:1,duration:.20709999996423534,end:21.01469999998808},{name:"F#",number:78,velocity:1,time:20.818600000023842,channel:2,duration:.047099999964235195,end:20.865699999988077},{name:"C#",number:85,velocity:.9133858267716536,time:21.007600000023842,channel:1,duration:.0470000000000006,end:21.054600000023843},{name:"D",number:86,velocity:.905511811023622,time:21.051600000023843,channel:1,duration:.06299999999999883,end:21.11460000002384},{name:"D#",number:87,velocity:.889763779527559,time:21.10860000002384,channel:1,duration:.09100000000000108,end:21.199600000023842},{name:"D",number:86,velocity:.8503937007874016,time:21.199600000023842,channel:1,duration:.027000000000001023,end:21.226600000023844},{name:"C#",number:85,velocity:.8346456692913385,time:21.225600000023842,channel:1,duration:.1750000000000007,end:21.400600000023843},{name:"D",number:86,velocity:.8267716535433071,time:21.344600000023842,channel:1,duration:.0730000000000004,end:21.417600000023842},{name:"D#",number:87,velocity:.8188976377952756,time:21.414600000023842,channel:1,duration:.08899999999999864,end:21.50360000002384},{name:"D",number:86,velocity:.8031496062992126,time:21.50060000002384,channel:1,duration:.26500000000000057,end:21.76560000002384},{name:"G",number:55,velocity:.8976377952755905,time:21.720600000023843,channel:3,duration:.14399999999999835,end:21.86460000002384},{name:"B",number:59,velocity:.6614173228346457,time:21.743600000023843,channel:2,duration:.11100000000000065,end:21.854600000023844},{name:"A",number:81,velocity:.5354330708661418,time:21.769600000023843,channel:1,duration:.08500000000000085,end:21.854600000023844},{name:"B",number:59,velocity:.7874015748031497,time:21.85860000002384,channel:2,duration:.09600000000000009,end:21.95460000002384},{name:"G#",number:80,velocity:.5669291338582677,time:21.949600000023842,channel:2,duration:.006000000000000227,end:21.955600000023843},{name:"G",number:79,velocity:.952755905511811,time:21.958600000023843,channel:2,duration:.5180000000000007,end:22.476600000023844},{name:"G#",number:80,velocity:.8346456692913385,time:22.47460000002384,channel:2,duration:.0730000000000004,end:22.54760000002384},{name:"G",number:79,velocity:.8110236220472441,time:22.54360000002384,channel:2,duration:.5280000000000022,end:23.071600000023842},{name:"E",number:76,velocity:.07874015748031496,time:23.11360000002384,channel:2,duration:.07400000000000162,end:23.187600000023842},{name:"F#",number:78,velocity:.07874015748031496,time:23.184600000023842,channel:2,duration:.0470000000000006,end:23.231600000023843},{name:"D",number:74,velocity:.07874015748031496,time:23.220600000023843,channel:3,duration:.019999999999999574,end:23.240600000023843},{name:"B",number:59,velocity:.07874015748031496,time:23.243600000023843,channel:3,duration:.06099999999999994,end:23.304600000023843},{name:"F#",number:78,velocity:.07874015748031496,time:23.26560000002384,channel:2,duration:.009000000000000341,end:23.27460000002384},{name:"E",number:76,velocity:.07874015748031496,time:23.269600000023843,channel:2,duration:.134999999999998,end:23.40460000002384},{name:"G",number:55,velocity:.07874015748031496,time:23.29960000002384,channel:3,duration:.03400000000000247,end:23.333600000023843},{name:"D",number:74,velocity:.07874015748031496,time:23.371600000023843,channel:3,duration:.1059999999999981,end:23.47760000002384},{name:"C",number:72,velocity:.07874015748031496,time:23.47460000002384,channel:3,duration:.03100000000000236,end:23.505600000023843},{name:"C",number:72,velocity:.07874015748031496,time:23.50960000002384,channel:3,duration:.07000000000000028,end:23.57960000002384},{name:"C",number:72,velocity:.7244094488188977,time:23.59960000002384,channel:3,duration:.02409999996423906,end:23.62369999998808},{name:"B",number:71,velocity:.07874015748031496,time:23.600600000023842,channel:4,duration:.0019999999999988916,end:23.60260000002384},{name:"F",number:65,velocity:.3700787401574803,time:23.604600000023844,channel:4,duration:.06199999999999761,end:23.66660000002384},{name:"D",number:74,velocity:.7559055118110236,time:23.620600000023842,channel:3,duration:.2940000000000005,end:23.914600000023842},{name:"D",number:50,velocity:.25196850393700787,time:23.665600000023844,channel:4,duration:.3349999999999973,end:24.00060000002384},{name:"A",number:69,velocity:.23622047244094488,time:24.12860000002384,channel:4,duration:.060000000000002274,end:24.188600000023843},{name:"G#",number:68,velocity:.08661417322834646,time:24.185600000023843,channel:4,duration:.027999999999998693,end:24.213600000023842},{name:"A",number:69,velocity:.7795275590551181,time:24.21560000002384,channel:4,duration:.028999999999999915,end:24.24460000002384},{name:"G#",number:68,velocity:.7480314960629921,time:24.24260000002384,channel:4,duration:.01699999999999946,end:24.25960000002384},{name:"G",number:67,velocity:.6692913385826772,time:24.257600000023842,channel:4,duration:.07600000000000051,end:24.333600000023843},{name:"A",number:69,velocity:.7559055118110236,time:24.338600000023842,channel:4,duration:.09799999999999898,end:24.43660000002384},{name:"A",number:69,velocity:.6850393700787402,time:24.44260000002384,channel:4,duration:.10699999999999932,end:24.54960000002384},{name:"C",number:72,velocity:.9606299212598425,time:24.559600000023842,channel:3,duration:.05000000000000071,end:24.609600000023843},{name:"C#",number:73,velocity:.9291338582677166,time:24.60560000002384,channel:3,duration:.43799999999999883,end:25.04360000002384},{name:"D",number:74,velocity:.7480314960629921,time:25.040600000023844,channel:3,duration:.06199999999999761,end:25.10260000002384},{name:"C#",number:73,velocity:.7401574803149606,time:25.09960000002384,channel:3,duration:.1490000000000009,end:25.248600000023842},{name:"C",number:60,velocity:.25196850393700787,time:25.24460000002384,channel:2,duration:.019000000000001904,end:25.263600000023843},{name:"C",number:72,velocity:.7322834645669292,time:25.24460000002384,channel:3,duration:.06099999999999994,end:25.30560000002384},{name:"B",number:59,velocity:.25984251968503935,time:25.258600000023844,channel:2,duration:.06199999999999761,end:25.32060000002384},{name:"A",number:69,velocity:.7007874015748031,time:25.31460000002384,channel:4,duration:.31200000000000117,end:25.626600000023842},{name:"F#",number:78,velocity:.12598425196850394,time:25.318600000023842,channel:2,duration:.42299999999999827,end:25.74160000002384},{name:"A#",number:70,velocity:.5275590551181102,time:25.62260000002384,channel:4,duration:.19200000000000017,end:25.81460000002384},{name:"G#",number:68,velocity:.49606299212598426,time:25.81160000002384,channel:4,duration:.03100000000000236,end:25.842600000023843},{name:"G",number:67,velocity:.4881889763779528,time:25.839600000023843,channel:4,duration:.01899999999999835,end:25.85860000002384},{name:"F#",number:66,velocity:.48031496062992124,time:25.854600000023844,channel:4,duration:.01899999999999835,end:25.873600000023842},{name:"F",number:65,velocity:.47244094488188976,time:25.86760000002384,channel:4,duration:.01699999999999946,end:25.88460000002384},{name:"D#",number:63,velocity:.4645669291338583,time:25.882600000023842,channel:4,duration:.01899999999999835,end:25.90160000002384},{name:"D",number:62,velocity:.48031496062992124,time:25.897699999988077,channel:4,duration:.018900000035763753,end:25.91660000002384},{name:"C#",number:61,velocity:.47244094488188976,time:25.914600000023842,channel:4,duration:.015000000000000568,end:25.929600000023843},{name:"C",number:60,velocity:.5118110236220472,time:25.926600000023843,channel:4,duration:.015000000000000568,end:25.941600000023843},{name:"B",number:59,velocity:.3700787401574803,time:25.943600000023842,channel:4,duration:.030000000000001137,end:25.973600000023843},{name:"A",number:57,velocity:.33858267716535434,time:25.970600000023843,channel:4,duration:.06299999999999883,end:26.033600000023842},{name:"G#",number:56,velocity:1,time:26.08160000002384,channel:4,duration:.02300000000000324,end:26.104600000023844},{name:"G",number:55,velocity:1,time:26.101600000023844,channel:4,duration:.134999999999998,end:26.23660000002384},{name:"A",number:57,velocity:1,time:26.23260000002384,channel:4,duration:.030000000000001137,end:26.26260000002384},{name:"A",number:57,velocity:.9921259842519685,time:26.26560000002384,channel:4,duration:.14300000000000068,end:26.408600000023842},{name:"C",number:60,velocity:.968503937007874,time:26.434600000023842,channel:3,duration:.13500000000000156,end:26.569600000023843},{name:"D",number:62,velocity:.7716535433070866,time:26.565600000023842,channel:3,duration:.018000000000000682,end:26.583600000023843},{name:"D",number:62,velocity:.9763779527559056,time:26.61160000002384,channel:3,duration:.19500000000000028,end:26.806600000023842},{name:"F#",number:66,velocity:.968503937007874,time:26.824600000023842,channel:3,duration:.05009999996423531,end:26.874699999988078},{name:"E",number:64,velocity:1,time:27.05560000002384,channel:3,duration:.022000000000002018,end:27.077600000023843},{name:"D#",number:63,velocity:1,time:27.074600000023842,channel:3,duration:.08999999999999986,end:27.164600000023842},{name:"D",number:62,velocity:1,time:27.159600000023843,channel:3,duration:.06199999999999761,end:27.22160000002384},{name:"C#",number:61,velocity:1,time:27.260600000023842,channel:3,duration:.01899999999999835,end:27.27960000002384},{name:"C",number:60,velocity:1,time:27.277600000023842,channel:3,duration:.045999999999999375,end:27.32360000002384},{name:"D#",number:63,velocity:1,time:27.464600000023843,channel:3,duration:.0030000000000001137,end:27.467600000023843},{name:"D",number:62,velocity:1,time:27.46560000002384,channel:3,duration:.6560000000000024,end:28.121600000023843},{name:"E",number:64,velocity:1,time:28.18060000002384,channel:2,duration:.14300000000000068,end:28.32360000002384},{name:"F",number:65,velocity:.9133858267716536,time:28.321600000023842,channel:2,duration:.08899999999999864,end:28.41060000002384},{name:"E",number:64,velocity:.84251968503937,time:28.408600000023842,channel:2,duration:.10500000000000043,end:28.513600000023843},{name:"F",number:65,velocity:.8110236220472441,time:28.50960000002384,channel:2,duration:.09100000000000108,end:28.600600000023842},{name:"E",number:64,velocity:.7952755905511811,time:28.597600000023842,channel:2,duration:.10500000000000043,end:28.702600000023843},{name:"F",number:65,velocity:1,time:28.71060000002384,channel:2,duration:.09299999999999997,end:28.80360000002384},{name:"F#",number:66,velocity:.8818897637795275,time:28.80060000002384,channel:2,duration:.03300000000000125,end:28.833600000023843},{name:"G",number:67,velocity:.8661417322834646,time:28.82660000002384,channel:2,duration:.03399999999999892,end:28.86060000002384},{name:"G#",number:68,velocity:.8582677165354331,time:28.85860000002384,channel:2,duration:.16199999999999903,end:29.02060000002384},{name:"G",number:67,velocity:.7637795275590551,time:29.019600000023843,channel:2,duration:.11799999999999855,end:29.13760000002384},{name:"G",number:67,velocity:.8582677165354331,time:29.13960000002384,channel:2,duration:.07000000000000028,end:29.20960000002384},{name:"G#",number:68,velocity:.8582677165354331,time:29.205600000023843,channel:2,duration:.06799999999999784,end:29.27360000002384},{name:"A",number:69,velocity:.8346456692913385,time:29.269600000023843,channel:2,duration:.08500000000000085,end:29.354600000023844},{name:"C",number:72,velocity:.9448818897637795,time:29.341600000023842,channel:1,duration:.14199999999999946,end:29.48360000002384},{name:"A",number:69,velocity:.16535433070866143,time:29.464600000023843,channel:2,duration:.01899999999999835,end:29.48360000002384},{name:"A",number:69,velocity:.8976377952755905,time:29.48560000002384,channel:2,duration:.10209999996423846,end:29.58769999998808},{name:"F#",number:66,velocity:.31496062992125984,time:29.63660000002384,channel:2,duration:.053000000000000824,end:29.68960000002384},{name:"B",number:59,velocity:.952755905511811,time:29.693600000023842,channel:2,duration:.06799999999999784,end:29.76160000002384},{name:"D",number:74,velocity:1,time:29.876600000023842,channel:2,duration:.061099999964238094,end:29.93769999998808},{name:"D",number:74,velocity:.8346456692913385,time:29.89360000002384,channel:1,duration:.044099999964238634,end:29.93769999998808},{name:"D#",number:75,velocity:.8503937007874016,time:29.934600000023842,channel:1,duration:.08800000000000097,end:30.022600000023843},{name:"E",number:76,velocity:.7952755905511811,time:30.019600000023843,channel:1,duration:.22100000000000009,end:30.240600000023843},{name:"D#",number:75,velocity:.7480314960629921,time:30.237600000023843,channel:1,duration:.07600000000000051,end:30.313600000023843},{name:"D",number:74,velocity:.6771653543307087,time:30.30860000002384,channel:1,duration:.04800000000000182,end:30.356600000023843},{name:"C",number:72,velocity:.6220472440944882,time:30.354600000023844,channel:1,duration:.11909999996423437,end:30.473699999988078},{name:"C#",number:73,velocity:.6062992125984252,time:30.469600000023842,channel:1,duration:.11799999999999855,end:30.58760000002384},{name:"D",number:74,velocity:.6141732283464567,time:30.58460000002384,channel:1,duration:.10600000000000165,end:30.690600000023842},{name:"C",number:72,velocity:.5039370078740157,time:30.69560000002384,channel:1,duration:.15500000000000114,end:30.850600000023842},{name:"C#",number:73,velocity:.5354330708661418,time:30.84660000002384,channel:1,duration:.11899999999999977,end:30.96560000002384},{name:"A",number:69,velocity:.33070866141732286,time:30.93960000002384,channel:2,duration:.027000000000001023,end:30.966600000023842},{name:"A",number:69,velocity:.7086614173228346,time:30.970600000023843,channel:2,duration:.10999999999999943,end:31.080600000023843},{name:"C",number:72,velocity:1,time:31.08560000002384,channel:1,duration:.11400000000000077,end:31.199600000023842},{name:"C#",number:73,velocity:.8188976377952756,time:31.196600000023842,channel:1,duration:.14699999999999847,end:31.34360000002384},{name:"A",number:69,velocity:.30708661417322836,time:31.29460000002384,channel:2,duration:.1490000000000009,end:31.443600000023842},{name:"C",number:72,velocity:.4094488188976378,time:31.420600000023843,channel:1,duration:.13899999999999935,end:31.559600000023842},{name:"B",number:59,velocity:.14173228346456693,time:31.440600000023842,channel:2,duration:.10500000000000043,end:31.545600000023843},{name:"C#",number:73,velocity:.3700787401574803,time:31.557699999988078,channel:1,duration:.029900000035762986,end:31.58760000002384},{name:"C",number:72,velocity:.3700787401574803,time:31.58460000002384,channel:1,duration:.07900000000000063,end:31.66360000002384},{name:"B",number:59,velocity:.31496062992125984,time:31.658600000023842,channel:2,duration:.03300000000000125,end:31.691600000023843},{name:"C#",number:73,velocity:.4015748031496063,time:31.66060000002384,channel:1,duration:.13400000000000034,end:31.79460000002384},{name:"F#",number:66,velocity:.15748031496062992,time:31.687600000023842,channel:2,duration:.05999999999999872,end:31.74760000002384},{name:"E",number:64,velocity:.25196850393700787,time:31.714600000023843,channel:3,duration:.019999999999999574,end:31.734600000023843},{name:"F",number:65,velocity:.15748031496062992,time:31.728600000023842,channel:3,duration:.07699999999999818,end:31.80560000002384},{name:"C",number:72,velocity:.5039370078740157,time:31.804600000023843,channel:1,duration:.13400000000000034,end:31.938600000023843},{name:"C#",number:73,velocity:.41732283464566927,time:31.935600000023843,channel:1,duration:.08799999999999741,end:32.02360000002384},{name:"C",number:72,velocity:.3858267716535433,time:32.021600000023845,channel:1,duration:.16199999999999903,end:32.183600000023844},{name:"G",number:55,velocity:.6614173228346457,time:32.03860000002384,channel:3,duration:.07099999999999795,end:32.10960000002384},{name:"F#",number:66,velocity:.25984251968503935,time:32.07460000002384,channel:2,duration:.0660000000000025,end:32.140600000023845},{name:"F",number:65,velocity:.5039370078740157,time:32.11460000002384,channel:3,duration:.07000000000000028,end:32.18460000002384},{name:"C",number:72,velocity:.8818897637795275,time:32.195600000023845,channel:1,duration:.12099999999999511,end:32.31660000002384},{name:"C#",number:73,velocity:.7401574803149606,time:32.314600000023844,channel:1,duration:.08699999999999619,end:32.40160000002384},{name:"C",number:72,velocity:.6614173228346457,time:32.39860000002384,channel:1,duration:.134999999999998,end:32.53360000002384},{name:"B",number:59,velocity:.18110236220472442,time:32.42960000002384,channel:2,duration:.11899999999999977,end:32.54860000002384},{name:"C#",number:73,velocity:.5748031496062992,time:32.52860000002384,channel:1,duration:.01899999999999835,end:32.54760000002384},{name:"F#",number:54,velocity:.07874015748031496,time:32.55360000002384,channel:2,duration:.02499999999999858,end:32.57860000002384},{name:"C",number:72,velocity:.5275590551181102,time:32.55460000002384,channel:1,duration:.035000000000003695,end:32.58960000002384},{name:"F#",number:66,velocity:.07874015748031496,time:32.57460000002384,channel:2,duration:.04399999999999693,end:32.61860000002384},{name:"C#",number:73,velocity:.5039370078740157,time:32.585600000023845,channel:1,duration:.09299999999999642,end:32.67860000002384},{name:"C",number:72,velocity:.4566929133858268,time:32.67560000002384,channel:1,duration:.14699999999999847,end:32.82260000002384},{name:"B",number:59,velocity:.7401574803149606,time:32.72260000002384,channel:2,duration:.1010000000000062,end:32.823600000023845},{name:"D",number:74,velocity:.5826771653543307,time:32.93860000002384,channel:1,duration:.20400000000000063,end:33.14260000002384},{name:"D#",number:75,velocity:.5354330708661418,time:33.13960000002384,channel:1,duration:.045999999999999375,end:33.18560000002384},{name:"E",number:76,velocity:.5118110236220472,time:33.18160000002384,channel:1,duration:.10499999999999687,end:33.28660000002384},{name:"D#",number:75,velocity:.48031496062992124,time:33.28360000002384,channel:1,duration:.04800000000000182,end:33.33160000002384},{name:"G",number:55,velocity:.07874015748031496,time:33.30360000002384,channel:3,duration:.2150000000000034,end:33.518600000023845},{name:"D",number:74,velocity:.48031496062992124,time:33.32760000002384,channel:1,duration:.04800000000000182,end:33.375600000023844},{name:"C",number:72,velocity:.4566929133858268,time:33.37060000002384,channel:1,duration:.12100000000000222,end:33.491600000023844},{name:"F#",number:66,velocity:.12598425196850394,time:33.40560000002384,channel:2,duration:.08600000000000563,end:33.491600000023844},{name:"A",number:69,velocity:.07874015748031496,time:33.488600000023844,channel:2,duration:.07499999999999574,end:33.56360000002384},{name:"A",number:69,velocity:.984251968503937,time:33.619600000023844,channel:2,duration:.1769999999999996,end:33.796600000023844},{name:"B",number:71,velocity:.889763779527559,time:33.79460000002384,channel:2,duration:.045099999964236304,end:33.83969999998808},{name:"C",number:72,velocity:.8110236220472441,time:33.83760000002384,channel:2,duration:.8870000000000005,end:34.72460000002384},{name:"C",number:72,velocity:.7874015748031497,time:34.72860000002384,channel:2,duration:.07000000000000028,end:34.79860000002384},{name:"C#",number:73,velocity:.7637795275590551,time:34.79460000002384,channel:2,duration:.045000000000001705,end:34.83960000002384},{name:"D",number:74,velocity:.7559055118110236,time:34.83660000002384,channel:2,duration:.9609999999999985,end:35.79760000002384},{name:"C#",number:73,velocity:.5433070866141733,time:35.79460000002384,channel:2,duration:.22299999999999898,end:36.01760000002384},{name:"B",number:71,velocity:.8503937007874016,time:36.29460000002384,channel:2,duration:.3440000000000012,end:36.63860000002384},{name:"G",number:55,velocity:.4251968503937008,time:36.56860000002384,channel:3,duration:.027999999999998693,end:36.59660000002384},{name:"A",number:69,velocity:.4566929133858268,time:36.59360000002384,channel:3,duration:.06199999999999761,end:36.65560000002384},{name:"B",number:71,velocity:.8110236220472441,time:36.65860000002384,channel:2,duration:.18299999999999983,end:36.84160000002384},{name:"A",number:69,velocity:.9212598425196851,time:36.77960000002384,channel:3,duration:.07800000000000296,end:36.857600000023844},{name:"B",number:71,velocity:.984251968503937,time:36.887600000023845,channel:2,duration:.055999999999997385,end:36.94360000002384},{name:"B",number:71,velocity:.07874015748031496,time:36.89460000002384,channel:1,duration:.06499999999999773,end:36.95960000002384},{name:"C",number:72,velocity:.9921259842519685,time:36.94160000002384,channel:2,duration:.10500000000000398,end:37.046600000023844},{name:"C",number:72,velocity:.07874015748031496,time:36.95660000002384,channel:1,duration:.1039999999999992,end:37.06060000002384},{name:"C#",number:73,velocity:.84251968503937,time:37.04160000002384,channel:2,duration:.01899999999999835,end:37.06060000002384},{name:"G",number:55,velocity:.44881889763779526,time:37.19460000002384,channel:3,duration:.04100000000000392,end:37.235600000023844},{name:"A",number:69,velocity:.4251968503937008,time:37.23160000002384,channel:3,duration:.06300000000000239,end:37.29460000002384},{name:"A",number:69,velocity:.23622047244094488,time:37.30460000002384,channel:3,duration:.01709999996423761,end:37.32169999998808},{name:"G#",number:68,velocity:.2283464566929134,time:37.31860000002384,channel:3,duration:.01899999999999835,end:37.33760000002384},{name:"A",number:69,velocity:.2047244094488189,time:37.33460000002384,channel:3,duration:.014000000000002899,end:37.34860000002384},{name:"G",number:67,velocity:.1968503937007874,time:37.34660000002384,channel:3,duration:.06799999999999784,end:37.41460000002384},{name:"G",number:67,velocity:.4409448818897638,time:37.41960000002384,channel:3,duration:.046999999999997044,end:37.46660000002384},{name:"A",number:69,velocity:.3937007874015748,time:37.46260000002384,channel:3,duration:.07699999999999818,end:37.53960000002384},{name:"B",number:71,velocity:.7244094488188977,time:37.55360000002384,channel:2,duration:.5069999999999979,end:38.06060000002384},{name:"C",number:72,velocity:.5669291338582677,time:38.058600000023844,channel:2,duration:.015999999999998238,end:38.07460000002384},{name:"C",number:72,velocity:.4409448818897638,time:38.07860000002384,channel:2,duration:.8100000000000023,end:38.88860000002384},{name:"C#",number:73,velocity:.3464566929133858,time:38.884600000023845,channel:2,duration:.032999999999994145,end:38.91760000002384},{name:"D",number:74,velocity:.33858267716535434,time:38.91460000002384,channel:2,duration:.10000000000000142,end:39.01460000002384},{name:"D",number:74,velocity:.7007874015748031,time:39.01960000002384,channel:2,duration:.43599999999999994,end:39.45560000002384},{name:"D",number:74,velocity:.9606299212598425,time:39.45860000002384,channel:2,duration:.08099999999999596,end:39.53960000002384},{name:"D#",number:75,velocity:.9133858267716536,time:39.53760000002384,channel:2,duration:.03399999999999892,end:39.57160000002384},{name:"E",number:76,velocity:.8976377952755905,time:39.567600000023845,channel:2,duration:.25900000000000034,end:39.826600000023845},{name:"E",number:76,velocity:.7716535433070866,time:39.82860000002384,channel:2,duration:.4969999999999999,end:40.32560000002384},{name:"G",number:55,velocity:.952755905511811,time:40.42060000002384,channel:3,duration:.06500000000000483,end:40.485600000023844},{name:"D",number:74,velocity:1,time:40.69160000002384,channel:3,duration:.12700000000000244,end:40.81860000002384},{name:"D#",number:75,velocity:.9291338582677166,time:40.81560000002384,channel:3,duration:.0899999999999963,end:40.90560000002384},{name:"E",number:76,velocity:.8740157480314961,time:40.90260000002384,channel:3,duration:.12000000000000455,end:41.02260000002384},{name:"D#",number:75,velocity:.8503937007874016,time:41.018600000023845,channel:3,duration:.031999999999996476,end:41.05060000002384},{name:"D",number:74,velocity:.8346456692913385,time:41.04760000002384,channel:3,duration:.11899999999999977,end:41.16660000002384},{name:"D#",number:75,velocity:.8031496062992126,time:41.16260000002384,channel:3,duration:.046999999999997044,end:41.20960000002384},{name:"E",number:76,velocity:.8031496062992126,time:41.20660000002384,channel:3,duration:.12100000000000222,end:41.32760000002384},{name:"A#",number:70,velocity:.18110236220472442,time:41.27760000002384,channel:4,duration:.06300000000000239,end:41.34060000002384},{name:"E",number:76,velocity:.9212598425196851,time:41.34560000002384,channel:2,duration:.11200000000000188,end:41.457600000023845},{name:"F",number:77,velocity:.7559055118110236,time:41.454600000023845,channel:2,duration:.015999999999998238,end:41.47060000002384},{name:"A",number:81,velocity:.84251968503937,time:41.48160000002384,channel:1,duration:.20700000000000074,end:41.68860000002384},{name:"E",number:76,velocity:.9763779527559056,time:41.60260000002384,channel:2,duration:.10200000000000387,end:41.704600000023845},{name:"B",number:83,velocity:.6062992125984252,time:41.68560000002384,channel:1,duration:.019000000000005457,end:41.704600000023845},{name:"G",number:79,velocity:1,time:41.74360000002384,channel:2,duration:.16400000000000148,end:41.90760000002384},{name:"G#",number:80,velocity:.8661417322834646,time:41.90460000002384,channel:2,duration:.06099999999999994,end:41.96560000002384},{name:"A#",number:82,velocity:.8267716535433071,time:41.96260000002384,channel:2,duration:.09100000000000108,end:42.05360000002384},{name:"E",number:64,velocity:.6299212598425197,time:42.058600000023844,channel:1,duration:.021999999999998465,end:42.08060000002384},{name:"B",number:83,velocity:.6062992125984252,time:42.07860000002384,channel:1,duration:.25,end:42.32860000002384},{name:"A",number:81,velocity:.7716535433070866,time:42.19060000002384,channel:2,duration:.12400000000000233,end:42.314600000023844},{name:"B",number:83,velocity:.9921259842519685,time:42.33760000002384,channel:1,duration:.09000000000000341,end:42.427600000023844},{name:"C#",number:85,velocity:.84251968503937,time:42.42560000002384,channel:1,duration:.017000000000003013,end:42.442600000023845},{name:"D",number:86,velocity:.7637795275590551,time:42.45360000002384,channel:1,duration:.06300000000000239,end:42.51660000002384},{name:"D",number:86,velocity:.6929133858267716,time:42.634600000023845,channel:1,duration:.20299999999999585,end:42.83760000002384},{name:"D#",number:87,velocity:1,time:42.94460000002384,channel:1,duration:.12400000000000233,end:43.06860000002384},{name:"E",number:88,velocity:1,time:43.06560000002384,channel:1,duration:.16199999999999903,end:43.22760000002384},{name:"D#",number:87,velocity:.9448818897637795,time:43.22460000002384,channel:1,duration:.39000000000000057,end:43.61460000002384},{name:"C",number:84,velocity:.23622047244094488,time:43.61860000002384,channel:1,duration:.04700000000000415,end:43.665600000023844},{name:"F#",number:78,velocity:.6062992125984252,time:43.65760000002384,channel:2,duration:.04800000000000182,end:43.70560000002384},{name:"C#",number:85,velocity:.07874015748031496,time:43.65860000002384,channel:1,duration:.03300000000000125,end:43.69160000002384},{name:"A",number:81,velocity:.5196850393700787,time:43.70360000002384,channel:2,duration:.017000000000003013,end:43.72060000002384},{name:"C",number:84,velocity:.8346456692913385,time:43.77760000002384,channel:1,duration:.1460999999642425,end:43.92369999998808},{name:"A",number:81,velocity:1,time:43.88360000002384,channel:2,duration:.33100000000000307,end:44.21460000002384},{name:"A#",number:82,velocity:1,time:44.21160000002384,channel:2,duration:.07499999999999574,end:44.28660000002384},{name:"A",number:81,velocity:.9921259842519685,time:44.28460000002384,channel:2,duration:.3369999999999962,end:44.62160000002384},{name:"A#",number:82,velocity:.952755905511811,time:44.619600000023844,channel:2,duration:.1319999999999979,end:44.75160000002384},{name:"G#",number:80,velocity:.9448818897637795,time:44.74860000002384,channel:2,duration:.3950000000000031,end:45.143600000023845},{name:"G#",number:56,velocity:.8503937007874016,time:45.02260000002384,channel:3,duration:.01899999999999835,end:45.04160000002384},{name:"G",number:55,velocity:.8661417322834646,time:45.03860000002384,channel:3,duration:.08899999999999864,end:45.12760000002384},{name:"F",number:65,velocity:.7559055118110236,time:45.125600000023844,channel:3,duration:.0899999999999963,end:45.21560000002384},{name:"B",number:71,velocity:.7480314960629921,time:45.213600000023845,channel:3,duration:.06099999999999994,end:45.274600000023845},{name:"D#",number:75,velocity:.7401574803149606,time:45.271600000023845,channel:3,duration:.032999999999994145,end:45.30460000002384},{name:"G",number:55,velocity:.889763779527559,time:45.308600000023844,channel:3,duration:.24099999999999966,end:45.549600000023844},{name:"F#",number:54,velocity:.937007874015748,time:45.55160000002384,channel:4,duration:.11299999999999955,end:45.66460000002384},{name:"A",number:45,velocity:.07874015748031496,time:45.56260000002384,channel:6,duration:.05700000000000216,end:45.619600000023844},{name:"A#",number:46,velocity:.30708661417322836,time:45.61760000002384,channel:6,duration:.03200000000000358,end:45.649600000023845},{name:"B",number:47,velocity:.3464566929133858,time:45.64760000002384,channel:6,duration:.06199999999999761,end:45.70960000002384},{name:"A#",number:58,velocity:.905511811023622,time:45.66260000002384,channel:4,duration:.05999999999999517,end:45.72260000002384},{name:"D#",number:51,velocity:.3700787401574803,time:45.70660000002384,channel:6,duration:.09000000000000341,end:45.796600000023844},{name:"D",number:62,velocity:.8740157480314961,time:45.71960000002384,channel:4,duration:.034000000000006025,end:45.753600000023845},{name:"E",number:64,velocity:.8503937007874016,time:45.74960000002384,channel:4,duration:.1039999999999992,end:45.85360000002384},{name:"A",number:57,velocity:.3543307086614173,time:45.793600000023844,channel:6,duration:.07499999999999574,end:45.86860000002384},{name:"D",number:50,velocity:.9606299212598425,time:45.924600000023844,channel:4,duration:.35599999999999454,end:46.28060000002384},{name:"C",number:60,velocity:.41732283464566927,time:46.128600000023845,channel:3,duration:.0589999999999975,end:46.18760000002384},{name:"A",number:57,velocity:.2283464566929134,time:46.28960000002384,channel:4,duration:.11700000000000443,end:46.40660000002384},{name:"D",number:62,velocity:.5118110236220472,time:46.33460000002384,channel:3,duration:.07099999999999795,end:46.40560000002384},{name:"C",number:60,velocity:.07874015748031496,time:46.524600000023845,channel:3,duration:.12999999999999545,end:46.65460000002384},{name:"E",number:64,velocity:.9921259842519685,time:46.69960000002384,channel:3,duration:.03900000000000148,end:46.738600000023844},{name:"F#",number:66,velocity:.8346456692913385,time:46.73660000002384,channel:3,duration:.030000000000001137,end:46.76660000002384},{name:"B",number:71,velocity:1,time:46.90360000002384,channel:3,duration:.02400000000000091,end:46.927600000023844},{name:"B",number:59,velocity:.44881889763779526,time:46.92260000002384,channel:2,duration:.021000000000000796,end:46.94360000002384},{name:"D",number:62,velocity:1,time:46.924600000023844,channel:3,duration:.046999999999997044,end:46.97160000002384},{name:"F#",number:66,velocity:.4251968503937008,time:46.939600000023844,channel:2,duration:.046999999999997044,end:46.98660000002384},{name:"G#",number:56,velocity:.6771653543307087,time:47.588600000023845,channel:4,duration:.15199999999999392,end:47.74060000002384},{name:"D",number:50,velocity:.5433070866141733,time:47.73960000002384,channel:4,duration:.31400000000000006,end:48.05360000002384},{name:"C#",number:61,velocity:1,time:47.78460000002384,channel:3,duration:.028999999999996362,end:47.81360000002384},{name:"C",number:60,velocity:.8346456692913385,time:47.81060000002384,channel:3,duration:.14800000000000324,end:47.95860000002384},{name:"C#",number:61,velocity:.7795275590551181,time:47.95560000002384,channel:3,duration:.13300000000000267,end:48.088600000023845},{name:"A",number:57,velocity:.36220472440944884,time:48.058600000023844,channel:4,duration:.13100000000000023,end:48.189600000023844},{name:"G#",number:56,velocity:.3228346456692913,time:48.18760000002384,channel:4,duration:.030999999999998806,end:48.21860000002384},{name:"G#",number:68,velocity:.07874015748031496,time:48.378600000023845,channel:1,duration:.04299999999999926,end:48.421600000023844},{name:"D",number:62,velocity:1,time:48.39460000002384,channel:3,duration:.027000000000001023,end:48.421600000023844},{name:"E",number:64,velocity:1,time:48.418600000023844,channel:3,duration:.046999999999997044,end:48.46560000002384},{name:"C#",number:61,velocity:.2992125984251969,time:49.13860000002384,channel:4,duration:.01899999999999835,end:49.15760000002384},{name:"A#",number:58,velocity:1,time:49.16169999998808,channel:4,duration:.01590000003576364,end:49.177600000023844},{name:"A",number:57,velocity:.9921259842519685,time:49.174600000023844,channel:4,duration:.4089999999999989,end:49.58360000002384},{name:"A#",number:58,velocity:.8976377952755905,time:49.58160000002384,channel:4,duration:.07500000000000284,end:49.65660000002384},{name:"A",number:57,velocity:.8818897637795275,time:49.65360000002384,channel:4,duration:.25,end:49.90360000002384},{name:"A#",number:58,velocity:.8503937007874016,time:49.899600000023845,channel:4,duration:.046999999999997044,end:49.94660000002384},{name:"B",number:59,velocity:.8582677165354331,time:49.94360000002384,channel:4,duration:.031999999999996476,end:49.97560000002384},{name:"C",number:60,velocity:.8661417322834646,time:49.97360000002384,channel:4,duration:.030000000000001137,end:50.003600000023845},{name:"C#",number:61,velocity:.8740157480314961,time:50.00069999998808,channel:4,duration:.03290000003575955,end:50.03360000002384},{name:"D",number:62,velocity:.8661417322834646,time:50.02960000002384,channel:4,duration:.03300000000000125,end:50.06260000002384},{name:"D#",number:63,velocity:.8582677165354331,time:50.058600000023844,channel:4,duration:.01899999999999835,end:50.07760000002384},{name:"E",number:64,velocity:.8582677165354331,time:50.073600000023845,channel:4,duration:.030999999999998806,end:50.104600000023844},{name:"F",number:65,velocity:.8582677165354331,time:50.10160000002384,channel:4,duration:.03300000000000125,end:50.134600000023845},{name:"F#",number:66,velocity:.8503937007874016,time:50.13060000002384,channel:4,duration:.03300000000000125,end:50.16360000002384},{name:"G",number:67,velocity:.84251968503937,time:50.15960000002384,channel:4,duration:.07900000000000063,end:50.238600000023844},{name:"F#",number:66,velocity:.8110236220472441,time:50.235600000023844,channel:4,duration:.030000000000001137,end:50.265600000023845},{name:"F",number:65,velocity:.8031496062992126,time:50.262600000023845,channel:4,duration:.031999999999996476,end:50.29460000002384},{name:"E",number:64,velocity:.7952755905511811,time:50.290600000023844,channel:4,duration:.013999999999995794,end:50.30460000002384},{name:"D",number:62,velocity:.7007874015748031,time:50.32860000002384,channel:4,duration:.06800000000000495,end:50.396600000023845},{name:"D",number:50,velocity:.2283464566929134,time:50.54560000002384,channel:4,duration:.02200000000000557,end:50.567600000023845},{name:"D",number:50,velocity:.8976377952755905,time:50.57160000002384,channel:4,duration:.22009999996423346,end:50.791699999988076},{name:"G",number:55,velocity:1,time:50.82369999998808,channel:4,duration:.34190000003576415,end:51.165600000023844},{name:"G#",number:56,velocity:1,time:51.16260000002384,channel:4,duration:.06199999999999761,end:51.22460000002384},{name:"G",number:55,velocity:1,time:51.22060000002384,channel:4,duration:.1629999999999967,end:51.38360000002384},{name:"G#",number:56,velocity:.9921259842519685,time:51.38060000002384,channel:4,duration:.059000000000004604,end:51.439600000023844},{name:"G",number:55,velocity:.9921259842519685,time:51.43860000002384,channel:4,duration:.14800000000000324,end:51.58660000002384},{name:"G#",number:56,velocity:.984251968503937,time:51.58160000002384,channel:4,duration:.09199999999999875,end:51.67360000002384},{name:"G",number:55,velocity:.9763779527559056,time:51.66960000002384,channel:4,duration:.2220000000000013,end:51.89160000002384},{name:"G#",number:56,velocity:.952755905511811,time:51.88860000002384,channel:4,duration:.0899999999999963,end:51.97860000002384},{name:"G",number:55,velocity:.9448818897637795,time:51.97560000002384,channel:4,duration:.5440999999642386,end:52.51969999998808},{name:"A#",number:58,velocity:.5039370078740157,time:52.52360000002384,channel:4,duration:.021000000000000796,end:52.54460000002384},{name:"D",number:50,velocity:.4566929133858268,time:52.53960000002384,channel:4,duration:.25200000000000244,end:52.79160000002384},{name:"B",number:59,velocity:.8740157480314961,time:52.58460000002384,channel:2,duration:.19200000000000017,end:52.77660000002384},{name:"C#",number:61,velocity:.6850393700787402,time:52.84860000002384,channel:2,duration:.056999999999995055,end:52.90560000002384},{name:"G",number:67,velocity:.9133858267716536,time:53.143600000023845,channel:1,duration:.21399999999999864,end:53.357600000023844},{name:"F#",number:66,velocity:1,time:53.46460000002384,channel:2,duration:.021999999999998465,end:53.48660000002384},{name:"E",number:64,velocity:1,time:53.48360000002384,channel:2,duration:.30799999999999983,end:53.79160000002384},{name:"D",number:74,velocity:1,time:53.811600000023844,channel:2,duration:.00809999996423727,end:53.81969999998808},{name:"F",number:65,velocity:1,time:53.817600000023845,channel:2,duration:.22099999999999653,end:54.03860000002384},{name:"A#",number:82,velocity:1,time:54.16060000002384,channel:2,duration:.027999999999998693,end:54.18860000002384},{name:"E",number:64,velocity:1,time:54.180600000023844,channel:2,duration:.046999999999997044,end:54.22760000002384},{name:"D",number:74,velocity:1,time:54.503600000023845,channel:2,duration:.013999999999995794,end:54.51760000002384},{name:"F",number:65,velocity:1,time:54.51460000002384,channel:2,duration:.9299999999999997,end:55.44460000002384},{name:"A#",number:58,velocity:1,time:55.56060000002384,channel:3,duration:.018000000000000682,end:55.57860000002384},{name:"A",number:57,velocity:1,time:55.57460000002384,channel:3,duration:.030999999999998806,end:55.60560000002384},{name:"A#",number:58,velocity:1,time:55.60260000002384,channel:3,duration:.045999999999999375,end:55.64860000002384},{name:"B",number:59,velocity:.984251968503937,time:55.64560000002384,channel:3,duration:.28000000000000114,end:55.92560000002384},{name:"D#",number:63,velocity:1,time:55.94760000002384,channel:2,duration:.020000000000003126,end:55.96760000002384},{name:"D",number:62,velocity:1,time:55.96460000002384,channel:2,duration:.8320000000000007,end:56.796600000023844},{name:"C",number:60,velocity:1,time:56.63660000002384,channel:3,duration:.01300000000000523,end:56.649600000023845},{name:"B",number:59,velocity:.952755905511811,time:56.646600000023845,channel:3,duration:.3089999999999975,end:56.95560000002384},{name:"C",number:60,velocity:.8346456692913385,time:56.95360000002384,channel:3,duration:.07500000000000284,end:57.02860000002384},{name:"B",number:59,velocity:.8188976377952756,time:57.024600000023845,channel:3,duration:.17799999999999727,end:57.20260000002384},{name:"C",number:60,velocity:.7795275590551181,time:57.19960000002384,channel:3,duration:.07509999996423744,end:57.27469999998808},{name:"B",number:59,velocity:.7716535433070866,time:57.271600000023845,channel:3,duration:.13299999999999557,end:57.40460000002384},{name:"C",number:60,velocity:.7401574803149606,time:57.40160000002384,channel:3,duration:.07699999999999818,end:57.47860000002384},{name:"B",number:59,velocity:.7480314960629921,time:57.47560000002384,channel:3,duration:.1460000000000008,end:57.62160000002384},{name:"C",number:60,velocity:.7401574803149606,time:57.61860000002384,channel:3,duration:.06300000000000239,end:57.68160000002384},{name:"B",number:59,velocity:.7401574803149606,time:57.677600000023844,channel:3,duration:.49799999999999756,end:58.17560000002384},{name:"C",number:60,velocity:.9448818897637795,time:58.17860000002384,channel:3,duration:.35999999999999943,end:58.53860000002384},{name:"C",number:60,velocity:.6929133858267716,time:58.54160000002384,channel:3,duration:.5470000000000041,end:59.088600000023845},{name:"C#",number:61,velocity:.5275590551181102,time:59.085600000023845,channel:3,duration:.047999999999994714,end:59.13360000002384},{name:"C",number:60,velocity:.5039370078740157,time:59.12760000002384,channel:3,duration:.39700000000000557,end:59.524600000023845},{name:"C#",number:61,velocity:.47244094488188976,time:59.51960000002384,channel:3,duration:.0899999999999963,end:59.60960000002384},{name:"C",number:60,velocity:.47244094488188976,time:59.607600000023844,channel:3,duration:.11999999999999744,end:59.72760000002384},{name:"C#",number:61,velocity:.4645669291338583,time:59.72260000002384,channel:3,duration:.10500000000000398,end:59.82760000002384},{name:"C",number:60,velocity:.4566929133858268,time:59.82460000002384,channel:3,duration:.25200000000000244,end:60.076600000023845},{name:"C#",number:61,velocity:.4330708661417323,time:60.07460000002384,channel:3,duration:.0589999999999975,end:60.13360000002384},{name:"D",number:62,velocity:.4330708661417323,time:60.12960000002384,channel:3,duration:.030999999999998806,end:60.16060000002384},{name:"D#",number:63,velocity:.44881889763779526,time:60.15860000002384,channel:3,duration:.019000000000005457,end:60.177600000023844},{name:"E",number:64,velocity:.47244094488188976,time:60.174600000023844,channel:3,duration:.031999999999996476,end:60.20660000002384},{name:"F",number:65,velocity:.48031496062992124,time:60.20260000002384,channel:3,duration:.018000000000000682,end:60.22060000002384},{name:"F#",number:66,velocity:.48031496062992124,time:60.21860000002384,channel:3,duration:.0589999999999975,end:60.27760000002384},{name:"A",number:69,velocity:.5196850393700787,time:60.274600000023845,channel:3,duration:.01999999999999602,end:60.29460000002384},{name:"A#",number:70,velocity:.5196850393700787,time:60.28860000002384,channel:3,duration:.03399999999999892,end:60.32260000002384},{name:"B",number:71,velocity:.5118110236220472,time:60.31960000002384,channel:3,duration:.030000000000001137,end:60.34960000002384},{name:"C",number:72,velocity:.49606299212598426,time:60.34660000002384,channel:3,duration:.07800000000000296,end:60.424600000023844},{name:"B",number:71,velocity:.48031496062992124,time:60.41960000002384,channel:3,duration:.045999999999999375,end:60.46560000002384},{name:"A#",number:70,velocity:.44881889763779526,time:60.46460000002384,channel:3,duration:.015000000000000568,end:60.479600000023844},{name:"A",number:69,velocity:.4251968503937008,time:60.47860000002384,channel:3,duration:.03300000000000125,end:60.51160000002384},{name:"G#",number:68,velocity:.4251968503937008,time:60.50760000002384,channel:3,duration:.018000000000000682,end:60.52560000002384},{name:"G",number:67,velocity:.4251968503937008,time:60.521600000023845,channel:3,duration:.032999999999994145,end:60.55460000002384},{name:"F#",number:66,velocity:.4094488188976378,time:60.55160000002384,channel:3,duration:.03200000000000358,end:60.58360000002384},{name:"F",number:65,velocity:.4094488188976378,time:60.579600000023845,channel:3,duration:.03399999999999892,end:60.613600000023844},{name:"E",number:64,velocity:.4015748031496063,time:60.60960000002384,channel:3,duration:.03200000000000358,end:60.64160000002384},{name:"D#",number:63,velocity:.4015748031496063,time:60.637600000023845,channel:3,duration:.047999999999994714,end:60.68560000002384},{name:"C#",number:61,velocity:.4251968503937008,time:60.68160000002384,channel:3,duration:.06199999999999761,end:60.74360000002384},{name:"A",number:45,velocity:.7480314960629921,time:60.69460000002384,channel:5,duration:.22400000000000375,end:60.918600000023844},{name:"G",number:55,velocity:.4094488188976378,time:60.74060000002384,channel:3,duration:.45300000000000296,end:61.19360000002384},{name:"D",number:50,velocity:.7874015748031497,time:60.92560000002384,channel:5,duration:.12199999999999989,end:61.04760000002384},{name:"D#",number:51,velocity:.7322834645669292,time:61.04460000002384,channel:5,duration:.03200000000000358,end:61.076600000023845},{name:"E",number:52,velocity:.7559055118110236,time:61.073600000023845,channel:5,duration:.10599999999999454,end:61.17960000002384},{name:"G",number:55,velocity:.937007874015748,time:61.177600000023844,channel:4,duration:.117999999999995,end:61.29560000002384},{name:"E",number:52,velocity:.1968503937007874,time:61.27960000002384,channel:5,duration:.021999999999998465,end:61.30160000002384},{name:"A",number:57,velocity:.9291338582677166,time:61.29160000002384,channel:4,duration:.13300000000000267,end:61.424600000023844},{name:"D#",number:51,velocity:.4251968503937008,time:61.31360000002384,channel:5,duration:.06800000000000495,end:61.381600000023845},{name:"G",number:55,velocity:.8818897637795275,time:61.436600000023844,channel:4,duration:.10499999999999687,end:61.54160000002384},{name:"A",number:57,velocity:.84251968503937,time:61.53960000002384,channel:4,duration:.132000000000005,end:61.671600000023844},{name:"E",number:64,velocity:.3543307086614173,time:61.56469999998808,channel:5,duration:.04890000003576489,end:61.613600000023844},{name:"C",number:60,velocity:.8740157480314961,time:61.674600000023844,channel:3,duration:.14399999999999835,end:61.81860000002384},{name:"D",number:62,velocity:.8188976377952756,time:61.814600000023844,channel:3,duration:.08200000000000074,end:61.896600000023845},{name:"D",number:62,velocity:.8740157480314961,time:61.90060000002384,channel:3,duration:.14799999999999613,end:62.04860000002384},{name:"D#",number:63,velocity:.7874015748031497,time:62.04460000002384,channel:3,duration:.04899999999999949,end:62.09360000002384},{name:"E",number:64,velocity:.8031496062992126,time:62.08960000002384,channel:3,duration:.07499999999999574,end:62.16460000002384},{name:"G",number:67,velocity:.7716535433070866,time:62.195600000023845,channel:2,duration:.1599999999999966,end:62.35560000002384},{name:"G#",number:68,velocity:.6929133858267716,time:62.35060000002384,channel:2,duration:.03200000000000358,end:62.38260000002384},{name:"A",number:69,velocity:.7480314960629921,time:62.378600000023845,channel:2,duration:.07799999999999585,end:62.45660000002384},{name:"C",number:72,velocity:.9212598425196851,time:62.47060000002384,channel:1,duration:.23100000000000165,end:62.701600000023845},{name:"A",number:69,velocity:.9606299212598425,time:62.60260000002384,channel:2,duration:.10000000000000142,end:62.70260000002384},{name:"C",number:72,velocity:.968503937007874,time:62.72560000002384,channel:1,duration:.10900000000000176,end:62.83460000002384},{name:"D",number:74,velocity:.8503937007874016,time:62.83960000002384,channel:1,duration:.21099999999999852,end:63.05060000002384},{name:"D#",number:75,velocity:.7637795275590551,time:63.046600000023844,channel:1,duration:.14999999999999858,end:63.19660000002384},{name:"D",number:74,velocity:.7086614173228346,time:63.19460000002384,channel:1,duration:.060000000000002274,end:63.25460000002384},{name:"C",number:72,velocity:.7086614173228346,time:63.24860000002384,channel:1,duration:.11999999999999744,end:63.36860000002384},{name:"G",number:67,velocity:.18110236220472442,time:63.26460000002384,channel:2,duration:.06099999999999994,end:63.32560000002384},{name:"E",number:64,velocity:.07874015748031496,time:63.30360000002384,channel:3,duration:.05100000000000193,end:63.354600000023844},{name:"A",number:69,velocity:.23622047244094488,time:63.32260000002384,channel:2,duration:.045999999999999375,end:63.36860000002384},{name:"C",number:72,velocity:.7007874015748031,time:63.37660000002384,channel:1,duration:.18299999999999983,end:63.55960000002384},{name:"A",number:69,velocity:1,time:63.50160000002384,channel:2,duration:.10000000000000142,end:63.60160000002384},{name:"A#",number:70,velocity:.8976377952755905,time:63.59960000002384,channel:2,duration:.045000000000001705,end:63.64460000002384},{name:"C",number:72,velocity:.8976377952755905,time:63.63960000002384,channel:2,duration:.10600000000000165,end:63.74560000002384},{name:"D",number:74,velocity:.7559055118110236,time:63.76160000002384,channel:1,duration:.11599999999999966,end:63.87760000002384},{name:"C",number:72,velocity:.15748031496062992,time:63.85560000002384,channel:2,duration:.03300000000000125,end:63.88860000002384},{name:"C",number:72,velocity:.9291338582677166,time:63.89160000002384,channel:2,duration:.08800000000000097,end:63.979600000023844},{name:"D",number:74,velocity:.9448818897637795,time:64.03460000002384,channel:1,duration:.060000000000002274,end:64.09460000002385},{name:"D#",number:75,velocity:.8267716535433071,time:64.09160000002385,channel:1,duration:.03300000000000125,end:64.12460000002385},{name:"E",number:76,velocity:.952755905511811,time:64.14160000002384,channel:1,duration:.0969999999999942,end:64.23860000002384},{name:"F",number:77,velocity:.8110236220472441,time:64.23660000002384,channel:1,duration:.1770000000000067,end:64.41360000002385},{name:"F#",number:78,velocity:.7401574803149606,time:64.41060000002385,channel:1,duration:.11999999999999034,end:64.53060000002384},{name:"B",number:59,velocity:.6692913385826772,time:64.58860000002385,channel:2,duration:.14499999999999602,end:64.73360000002384},{name:"E",number:76,velocity:.8661417322834646,time:64.72760000002384,channel:1,duration:.23799999999999955,end:64.96560000002384},{name:"F#",number:78,velocity:.5354330708661418,time:64.85760000002384,channel:3,duration:.049000000000006594,end:64.90660000002384},{name:"C#",number:73,velocity:.8267716535433071,time:64.86560000002385,channel:2,duration:.07099999999999795,end:64.93660000002384},{name:"F",number:77,velocity:.6377952755905512,time:64.96060000002385,channel:1,duration:.018000000000000682,end:64.97860000002385},{name:"E",number:76,velocity:.8110236220472441,time:64.98960000002384,channel:1,duration:.12000000000000455,end:65.10960000002385},{name:"C#",number:73,velocity:1,time:65.10160000002384,channel:2,duration:.3719999999999999,end:65.47360000002384},{name:"D",number:74,velocity:.8818897637795275,time:65.47060000002384,channel:2,duration:.8460000000000036,end:66.31660000002384},{name:"A#",number:70,velocity:.07874015748031496,time:66.58160000002384,channel:3,duration:.02400000000000091,end:66.60560000002384},{name:"B",number:71,velocity:.07874015748031496,time:66.60160000002384,channel:3,duration:.03300000000000125,end:66.63460000002384},{name:"C",number:72,velocity:.07874015748031496,time:66.63060000002385,channel:3,duration:.03300000000000125,end:66.66360000002385},{name:"C#",number:73,velocity:.07874015748031496,time:66.65969999998808,channel:3,duration:.08990000003576881,end:66.74960000002385},{name:"B",number:71,velocity:.07874015748031496,time:66.74560000002384,channel:3,duration:.03300000000000125,end:66.77860000002384},{name:"A#",number:70,velocity:.07874015748031496,time:66.77660000002385,channel:3,duration:.016999999999995907,end:66.79360000002384},{name:"A",number:69,velocity:.07874015748031496,time:66.79060000002384,channel:3,duration:.016999999999995907,end:66.80760000002384},{name:"G#",number:68,velocity:.07874015748031496,time:66.80560000002384,channel:3,duration:.018000000000000682,end:66.82360000002384},{name:"G",number:67,velocity:.07874015748031496,time:66.81860000002384,channel:3,duration:.020000000000010232,end:66.83860000002385},{name:"F#",number:66,velocity:.07874015748031496,time:66.83460000002384,channel:3,duration:.019000000000005457,end:66.85360000002385},{name:"F",number:65,velocity:.07874015748031496,time:66.84760000002385,channel:3,duration:.033999999999991815,end:66.88160000002384},{name:"E",number:64,velocity:.07874015748031496,time:66.87760000002385,channel:3,duration:.031999999999996476,end:66.90960000002384},{name:"D#",number:63,velocity:.07874015748031496,time:66.90660000002384,channel:3,duration:.1629999999999967,end:67.06960000002384},{name:"E",number:64,velocity:.07874015748031496,time:67.06660000002384,channel:3,duration:.07600000000000762,end:67.14260000002385},{name:"G",number:67,velocity:.07874015748031496,time:67.13960000002385,channel:3,duration:.0309999999999917,end:67.17060000002384},{name:"A",number:69,velocity:.07874015748031496,time:67.16760000002384,channel:3,duration:.060000000000002274,end:67.22760000002384},{name:"C#",number:73,velocity:.07874015748031496,time:67.22460000002384,channel:3,duration:.018000000000000682,end:67.24260000002384},{name:"D",number:74,velocity:.07874015748031496,time:67.23860000002384,channel:3,duration:.15100000000001046,end:67.38960000002385},{name:"B",number:59,velocity:.25984251968503935,time:67.40160000002385,channel:2,duration:.07499999999998863,end:67.47660000002384},{name:"D",number:74,velocity:.12598425196850394,time:67.51660000002384,channel:3,duration:.07699999999999818,end:67.59360000002384},{name:"G#",number:68,velocity:.07874015748031496,time:67.52160000002384,channel:4,duration:.07200000000000273,end:67.59360000002384},{name:"A",number:81,velocity:.6614173228346457,time:67.55560000002384,channel:1,duration:.1389999999999958,end:67.69460000002384},{name:"A",number:69,velocity:.07874015748031496,time:67.58869999998808,channel:4,duration:.13390000003576574,end:67.72260000002385},{name:"E",number:76,velocity:.952755905511811,time:67.67360000002384,channel:2,duration:.16500000000000625,end:67.83860000002385},{name:"A",number:57,velocity:.07874015748031496,time:67.71860000002384,channel:4,duration:.1039999999999992,end:67.82260000002384},{name:"G",number:79,velocity:.8661417322834646,time:67.84460000002385,channel:2,duration:.21299999999999386,end:68.05760000002384},{name:"A",number:81,velocity:.7086614173228346,time:68.07760000002384,channel:1,duration:.06700000000000728,end:68.14460000002384},{name:"A",number:81,velocity:.7322834645669292,time:68.89660000002384,channel:1,duration:.32500000000000284,end:69.22160000002384},{name:"G",number:79,velocity:.5669291338582677,time:69.04960000002384,channel:2,duration:.10899999999999466,end:69.15860000002384},{name:"G#",number:80,velocity:.5826771653543307,time:69.15660000002384,channel:2,duration:.046999999999997044,end:69.20360000002384},{name:"A",number:81,velocity:.5669291338582677,time:69.19860000002384,channel:2,duration:.13599999999999568,end:69.33460000002384},{name:"A",number:81,velocity:.6456692913385826,time:69.22460000002384,channel:1,duration:.29699999999999704,end:69.52160000002384},{name:"G#",number:80,velocity:.5196850393700787,time:69.32960000002385,channel:2,duration:.04800000000000182,end:69.37760000002385},{name:"G",number:79,velocity:.9448818897637795,time:69.38660000002385,channel:2,duration:.12099999999999511,end:69.50760000002384},{name:"A",number:81,velocity:.8582677165354331,time:69.50260000002385,channel:2,duration:.03609999996423596,end:69.53869999998808},{name:"A#",number:82,velocity:.4251968503937008,time:69.51960000002384,channel:1,duration:.018000000000000682,end:69.53760000002384},{name:"A",number:81,velocity:.7874015748031497,time:69.54660000002384,channel:1,duration:.2950999999642363,end:69.84169999998808},{name:"G",number:79,velocity:.952755905511811,time:69.69960000002384,channel:2,duration:.10000000000000853,end:69.79960000002384},{name:"G#",number:80,velocity:.905511811023622,time:69.79660000002384,channel:2,duration:.030000000000001137,end:69.82660000002384},{name:"A",number:81,velocity:.7559055118110236,time:69.82360000002384,channel:2,duration:.01809999996423528,end:69.84169999998808},{name:"A",number:81,velocity:1,time:69.85060000002385,channel:1,duration:.13599999999999568,end:69.98660000002384},{name:"A",number:81,velocity:.7244094488188977,time:69.99060000002385,channel:1,duration:.05299999999999727,end:70.04360000002384},{name:"C",number:84,velocity:.5905511811023622,time:70.04160000002385,channel:1,duration:.07699999999999818,end:70.11860000002385},{name:"B",number:83,velocity:.6141732283464567,time:70.11460000002384,channel:1,duration:.016999999999995907,end:70.13160000002384},{name:"A",number:81,velocity:.6141732283464567,time:70.12760000002385,channel:1,duration:.19699999999998852,end:70.32460000002384},{name:"G",number:79,velocity:.6929133858267716,time:70.21560000002384,channel:2,duration:.10500000000000398,end:70.32060000002384},{name:"G#",number:80,velocity:.5354330708661418,time:70.31860000002384,channel:2,duration:.015000000000000568,end:70.33360000002384},{name:"A",number:81,velocity:.6929133858267716,time:70.32860000002384,channel:1,duration:.12199999999999989,end:70.45060000002384},{name:"C",number:84,velocity:.5748031496062992,time:70.44760000002384,channel:1,duration:.03100000000000591,end:70.47860000002385},{name:"B",number:83,velocity:.5826771653543307,time:70.47660000002384,channel:1,duration:.018000000000000682,end:70.49460000002384},{name:"A",number:81,velocity:.5590551181102362,time:70.49060000002385,channel:1,duration:.17300000000000182,end:70.66360000002385},{name:"B",number:59,velocity:.47244094488188976,time:70.54460000002385,channel:2,duration:.09399999999999409,end:70.63860000002384},{name:"G",number:79,velocity:.30708661417322836,time:70.63760000002384,channel:2,duration:.017000000000010118,end:70.65460000002385},{name:"A",number:81,velocity:.6850393700787402,time:70.66760000002384,channel:1,duration:.11599999999999966,end:70.78360000002384},{name:"A",number:81,velocity:.6299212598425197,time:70.82360000002384,channel:1,duration:.16599999999999682,end:70.98960000002384},{name:"B",number:59,velocity:.07874015748031496,time:70.98160000002385,channel:2,duration:.06399999999999295,end:71.04560000002384},{name:"C",number:84,velocity:.4330708661417323,time:70.98460000002385,channel:1,duration:.027000000000001023,end:71.01160000002385},{name:"A",number:81,velocity:.3228346456692913,time:71.01460000002385,channel:1,duration:.1460000000000008,end:71.16060000002385},{name:"B",number:59,velocity:.11811023622047244,time:71.04960000002384,channel:2,duration:.024999999999991473,end:71.07460000002384},{name:"D",number:74,velocity:.07874015748031496,time:71.05860000002384,channel:3,duration:.0309999999999917,end:71.08960000002384},{name:"F#",number:78,velocity:.07874015748031496,time:71.07060000002384,channel:2,duration:.09099999999999397,end:71.16160000002384},{name:"D#",number:75,velocity:.07874015748031496,time:71.08660000002384,channel:3,duration:.047000000000011255,end:71.13360000002385},{name:"D",number:74,velocity:.07874015748031496,time:71.12960000002384,channel:3,duration:.031999999999996476,end:71.16160000002384},{name:"A",number:81,velocity:.5433070866141733,time:71.16360000002385,channel:1,duration:.09999999999999432,end:71.26360000002384},{name:"A",number:81,velocity:.6614173228346457,time:71.31160000002384,channel:1,duration:.1419999999999959,end:71.45360000002384},{name:"C",number:84,velocity:.5039370078740157,time:71.44860000002384,channel:1,duration:.0379999999999967,end:71.48660000002384},{name:"A",number:81,velocity:.3464566929133858,time:71.49160000002384,channel:1,duration:.13400000000000034,end:71.62560000002384},{name:"D",number:74,velocity:.18110236220472442,time:71.52760000002384,channel:3,duration:.02600000000001046,end:71.55360000002385},{name:"F#",number:78,velocity:.31496062992125984,time:71.53760000002384,channel:2,duration:.10299999999999443,end:71.64060000002384},{name:"D#",number:75,velocity:.08661417322834646,time:71.54960000002384,channel:3,duration:.04800000000000182,end:71.59760000002385},{name:"D",number:74,velocity:.07874015748031496,time:71.59460000002385,channel:3,duration:.031999999999996476,end:71.62660000002384},{name:"A",number:81,velocity:.41732283464566927,time:71.65960000002384,channel:1,duration:.09900000000000375,end:71.75860000002385},{name:"A",number:81,velocity:.5984251968503937,time:71.79860000002384,channel:1,duration:.1460000000000008,end:71.94460000002384},{name:"B",number:59,velocity:.07874015748031496,time:71.97460000002384,channel:2,duration:.028000000000005798,end:72.00260000002385},{name:"A",number:81,velocity:.07874015748031496,time:71.97860000002385,channel:1,duration:.09599999999998943,end:72.07460000002384},{name:"G",number:79,velocity:.14173228346456693,time:71.99960000002385,channel:2,duration:.05999999999998806,end:72.05960000002383},{name:"A",number:81,velocity:.3779527559055118,time:72.07860000002384,channel:1,duration:.09900000000000375,end:72.17760000002384},{name:"C",number:84,velocity:.4330708661417323,time:72.18160000002385,channel:1,duration:.11199999999999477,end:72.29360000002384},{name:"C#",number:85,velocity:.5354330708661418,time:72.28960000002384,channel:1,duration:.049000000000006594,end:72.33860000002385},{name:"D",number:86,velocity:.5354330708661418,time:72.33360000002384,channel:1,duration:.32500000000000284,end:72.65860000002384},{name:"D#",number:87,velocity:.41732283464566927,time:72.65560000002384,channel:1,duration:.1460999999642354,end:72.80169999998807},{name:"D",number:86,velocity:.3937007874015748,time:72.79960000002384,channel:1,duration:.04599999999999227,end:72.84560000002384},{name:"C#",number:85,velocity:.3858267716535433,time:72.84169999998808,channel:1,duration:.06290000003576779,end:72.90460000002385},{name:"G",number:55,velocity:.5039370078740157,time:72.87360000002384,channel:3,duration:.23399999999999466,end:73.10760000002384},{name:"C",number:84,velocity:.3779527559055118,time:72.89960000002384,channel:1,duration:.0799999999999983,end:72.97960000002384},{name:"A",number:81,velocity:.4330708661417323,time:72.98260000002384,channel:1,duration:.11700000000000443,end:73.09960000002384},{name:"B",number:59,velocity:.2204724409448819,time:73.00760000002384,channel:2,duration:.15800000000000125,end:73.16560000002384},{name:"A",number:81,velocity:.4566929133858268,time:73.10560000002384,channel:1,duration:.015000000000000568,end:73.12060000002384},{name:"A#",number:82,velocity:.4645669291338583,time:73.11860000002385,channel:1,duration:.04599999999999227,end:73.16460000002384},{name:"F#",number:78,velocity:.07874015748031496,time:73.16160000002384,channel:2,duration:.04999999999999716,end:73.21160000002384},{name:"G",number:79,velocity:.952755905511811,time:73.21760000002384,channel:2,duration:.16509999996424085,end:73.38269999998808},{name:"G#",number:80,velocity:.8582677165354331,time:73.37960000002384,channel:2,duration:.117999999999995,end:73.49760000002384},{name:"A",number:81,velocity:.8110236220472441,time:73.49360000002385,channel:2,duration:.32499999999998863,end:73.81860000002384},{name:"A",number:81,velocity:.6850393700787402,time:73.84060000002384,channel:1,duration:.3230000000000075,end:74.16360000002385},{name:"B",number:59,velocity:.5433070866141733,time:73.97460000002384,channel:2,duration:.031999999999996476,end:74.00660000002384},{name:"F#",number:78,velocity:.3858267716535433,time:74.00360000002384,channel:2,duration:.1460000000000008,end:74.14960000002384},{name:"D",number:74,velocity:.10236220472440945,time:74.09060000002384,channel:3,duration:.0730000000000075,end:74.16360000002385},{name:"D#",number:75,velocity:.07874015748031496,time:74.16360000002385,channel:3,duration:.018000000000000682,end:74.18160000002385},{name:"A",number:81,velocity:.9763779527559056,time:74.17860000002385,channel:1,duration:.1319999999999908,end:74.31060000002384},{name:"F#",number:78,velocity:.10236220472440945,time:74.24060000002385,channel:2,duration:.09899999999998954,end:74.33960000002384},{name:"C",number:84,velocity:.7559055118110236,time:74.30860000002384,channel:1,duration:.19400000000000261,end:74.50260000002385},{name:"G",number:79,velocity:.6377952755905512,time:74.34260000002384,channel:2,duration:.15800000000000125,end:74.50060000002384},{name:"C",number:84,velocity:.25196850393700787,time:74.50560000002385,channel:1,duration:.16899999999999693,end:74.67460000002384},{name:"B",number:59,velocity:.08661417322834646,time:74.63360000002385,channel:2,duration:.024999999999991473,end:74.65860000002384},{name:"G",number:79,velocity:.07874015748031496,time:74.65560000002384,channel:2,duration:.015000000000000568,end:74.67060000002384},{name:"B",number:83,velocity:.1968503937007874,time:74.66960000002385,channel:1,duration:.04799999999998761,end:74.71760000002384},{name:"G",number:79,velocity:.7874015748031497,time:74.67669999998807,channel:2,duration:.09790000003576438,end:74.77460000002384},{name:"D",number:74,velocity:.8582677165354331,time:74.91960000002385,channel:3,duration:.10299999999999443,end:75.02260000002384},{name:"E",number:76,velocity:.8188976377952756,time:75.03160000002384,channel:2,duration:.09099999999999397,end:75.12260000002384},{name:"D",number:74,velocity:.2677165354330709,time:75.10960000002385,channel:3,duration:.11409999996423892,end:75.22369999998809},{name:"F",number:77,velocity:.6535433070866141,time:75.11960000002384,channel:2,duration:.018000000000000682,end:75.13760000002384},{name:"C",number:72,velocity:.3228346456692913,time:75.22060000002384,channel:3,duration:.1490000000000009,end:75.36960000002384},{name:"F",number:77,velocity:.36220472440944884,time:75.23360000002384,channel:2,duration:.01999999999999602,end:75.25360000002384},{name:"D#",number:75,velocity:.3228346456692913,time:75.24960000002385,channel:2,duration:.04800000000000182,end:75.29760000002385},{name:"C#",number:73,velocity:.30708661417322836,time:75.36660000002384,channel:3,duration:.10300000000000864,end:75.46960000002385},{name:"C",number:72,velocity:.10236220472440945,time:75.46760000002384,channel:3,duration:.04100000000001103,end:75.50860000002385},{name:"D",number:74,velocity:.1968503937007874,time:75.51360000002384,channel:3,duration:.11700000000000443,end:75.63060000002385},{name:"G",number:67,velocity:.3464566929133858,time:75.60160000002384,channel:4,duration:.11700000000000443,end:75.71860000002384},{name:"G",number:55,velocity:.12598425196850394,time:75.62760000002385,channel:3,duration:.03300000000000125,end:75.66060000002385},{name:"A",number:69,velocity:.2047244094488189,time:75.71560000002384,channel:4,duration:.030000000000001137,end:75.74560000002384},{name:"D",number:74,velocity:.5196850393700787,time:75.75960000002384,channel:3,duration:.07500000000000284,end:75.83460000002384},{name:"D",number:50,velocity:.30708661417322836,time:75.78360000002384,channel:4,duration:.09100000000000819,end:75.87460000002385},{name:"D",number:50,velocity:.8818897637795275,time:75.87860000002384,channel:4,duration:.0870000000000033,end:75.96560000002384},{name:"G#",number:56,velocity:.16535433070866143,time:75.93660000002384,channel:5,duration:.07099999999999795,end:76.00760000002384},{name:"A",number:69,velocity:.8503937007874016,time:75.96160000002384,channel:4,duration:.06200000000001182,end:76.02360000002385},{name:"C#",number:73,velocity:.952755905511811,time:76.03860000002385,channel:3,duration:.07099999999999795,end:76.10960000002385},{name:"C",number:72,velocity:.8503937007874016,time:76.21960000002385,channel:3,duration:.38299999999999557,end:76.60260000002384},{name:"C#",number:73,velocity:.7244094488188977,time:76.59960000002384,channel:3,duration:.1039999999999992,end:76.70360000002384},{name:"C",number:72,velocity:.7007874015748031,time:76.70160000002384,channel:3,duration:.14699999999999136,end:76.84860000002384},{name:"C#",number:73,velocity:.6692913385826772,time:76.84560000002384,channel:3,duration:.07700000000001239,end:76.92260000002385},{name:"C",number:72,velocity:.6535433070866141,time:76.92060000002384,channel:3,duration:.016999999999995907,end:76.93760000002383},{name:"B",number:71,velocity:.6377952755905512,time:76.93360000002384,channel:3,duration:.016999999999995907,end:76.95060000002384},{name:"A#",number:70,velocity:.6377952755905512,time:76.94760000002384,channel:3,duration:.018000000000000682,end:76.96560000002384},{name:"A",number:69,velocity:.6456692913385826,time:76.96260000002384,channel:3,duration:.016999999999995907,end:76.97960000002384},{name:"G#",number:68,velocity:.6220472440944882,time:76.97760000002384,channel:3,duration:.018000000000000682,end:76.99560000002384},{name:"G",number:67,velocity:.6614173228346457,time:76.99360000002385,channel:3,duration:.015999999999991132,end:77.00960000002384},{name:"F#",number:66,velocity:.6299212598425197,time:77.00660000002384,channel:3,duration:.018000000000000682,end:77.02460000002384},{name:"E",number:64,velocity:.6220472440944882,time:77.02160000002384,channel:3,duration:.04600000000000648,end:77.06760000002384},{name:"D",number:62,velocity:.6141732283464567,time:77.06460000002384,channel:3,duration:.032099999964231074,end:77.09669999998808},{name:"C#",number:61,velocity:.7244094488188977,time:77.17860000002385,channel:3,duration:.06399999999999295,end:77.24260000002384},{name:"D",number:62,velocity:.7480314960629921,time:77.23860000002384,channel:3,duration:.018000000000000682,end:77.25660000002384},{name:"D#",number:63,velocity:.7480314960629921,time:77.25360000002384,channel:3,duration:.07500000000000284,end:77.32860000002384},{name:"G",number:67,velocity:.7795275590551181,time:77.32560000002384,channel:3,duration:.04800000000000182,end:77.37360000002384},{name:"G#",number:68,velocity:.7480314960629921,time:77.36860000002385,channel:3,duration:.07699999999999818,end:77.44560000002384},{name:"C",number:72,velocity:.84251968503937,time:77.47160000002384,channel:2,duration:.07600000000000762,end:77.54760000002385},{name:"B",number:71,velocity:.7795275590551181,time:77.83960000002384,channel:2,duration:.02600000000001046,end:77.86560000002385},{name:"C",number:72,velocity:.7244094488188977,time:77.86160000002384,channel:2,duration:.17900000000000205,end:78.04060000002384},{name:"E",number:64,velocity:.16535433070866143,time:77.92960000002384,channel:1,duration:.09600000000000364,end:78.02560000002384},{name:"B",number:71,velocity:.6929133858267716,time:78.03760000002384,channel:2,duration:.13400000000000034,end:78.17160000002384},{name:"A",number:69,velocity:.5590551181102362,time:78.15360000002384,channel:3,duration:.10599999999999454,end:78.25960000002384},{name:"B",number:71,velocity:.8188976377952756,time:78.28060000002384,channel:2,duration:.0940000000000083,end:78.37460000002385},{name:"C",number:72,velocity:.7637795275590551,time:78.36960000002384,channel:2,duration:.15000000000000568,end:78.51960000002384},{name:"A",number:69,velocity:.5039370078740157,time:78.67160000002384,channel:3,duration:.12399999999999523,end:78.79560000002384},{name:"F#",number:66,velocity:.18110236220472442,time:78.80560000002384,channel:3,duration:.06199999999999761,end:78.86760000002384},{name:"A",number:69,velocity:.23622047244094488,time:78.87160000002385,channel:3,duration:.024999999999991473,end:78.89660000002384},{name:"A#",number:70,velocity:.07874015748031496,time:78.89360000002384,channel:3,duration:.01100000000000989,end:78.90460000002385},{name:"A",number:69,velocity:.8582677165354331,time:78.90760000002385,channel:3,duration:.09099999999999397,end:78.99860000002384},{name:"G",number:67,velocity:.7637795275590551,time:79.01860000002384,channel:3,duration:.0660000000000025,end:79.08460000002384},{name:"G",number:55,velocity:.07874015748031496,time:79.06360000002384,channel:2,duration:.05100000000000193,end:79.11460000002384},{name:"A",number:69,velocity:.7401574803149606,time:79.08060000002384,channel:3,duration:.04100000000001103,end:79.12160000002385},{name:"A",number:69,velocity:.9763779527559056,time:79.12460000002385,channel:3,duration:.16400000000000148,end:79.28860000002385},{name:"C",number:72,velocity:1,time:79.32460000002384,channel:2,duration:.1810000000000116,end:79.50560000002385},{name:"B",number:59,velocity:.7716535433070866,time:79.54960000002384,channel:2,duration:.11599999999999966,end:79.66560000002384},{name:"E",number:76,velocity:.5905511811023622,time:79.55160000002384,channel:1,duration:.20300000000000296,end:79.75460000002384},{name:"A",number:69,velocity:.9133858267716536,time:79.87960000002384,channel:3,duration:.1039999999999992,end:79.98360000002384},{name:"C",number:72,velocity:.7716535433070866,time:80.01860000002384,channel:2,duration:.4609999999999985,end:80.47960000002384},{name:"C#",number:73,velocity:.6377952755905512,time:80.47660000002384,channel:2,duration:.060000000000002274,end:80.53660000002384},{name:"C",number:72,velocity:.6299212598425197,time:80.53460000002384,channel:2,duration:.45000000000000284,end:80.98460000002385},{name:"B",number:71,velocity:.5826771653543307,time:80.98160000002385,channel:2,duration:.04800000000000182,end:81.02960000002385},{name:"A#",number:70,velocity:.5669291338582677,time:81.02560000002384,channel:2,duration:.04899999999999238,end:81.07460000002384},{name:"A",number:69,velocity:.5669291338582677,time:81.06960000002384,channel:2,duration:.046999999999997044,end:81.11660000002384},{name:"G#",number:68,velocity:.5590551181102362,time:81.11360000002384,channel:2,duration:.045000000000001705,end:81.15860000002384},{name:"G",number:67,velocity:.5433070866141733,time:81.15660000002384,channel:2,duration:.046999999999997044,end:81.20360000002384},{name:"F#",number:66,velocity:.5433070866141733,time:81.20160000002384,channel:2,duration:.03300000000000125,end:81.23460000002385},{name:"F",number:65,velocity:.5354330708661418,time:81.22860000002385,channel:2,duration:.046999999999997044,end:81.27560000002384},{name:"E",number:64,velocity:.5354330708661418,time:81.27360000002385,channel:2,duration:.0799999999999983,end:81.35360000002385},{name:"G",number:79,velocity:.36220472440944884,time:81.35660000002385,channel:2,duration:.0379999999999967,end:81.39460000002384},{name:"B",number:47,velocity:.10236220472440945,time:81.36460000002384,channel:4,duration:.030000000000001137,end:81.39460000002384},{name:"G",number:55,velocity:.07874015748031496,time:81.38060000002385,channel:3,duration:.4469999999999885,end:81.82760000002384},{name:"E",number:64,velocity:.25984251968503935,time:81.38560000002384,channel:1,duration:.19599999999999795,end:81.58160000002384},{name:"B",number:59,velocity:.07874015748031496,time:81.38760000002384,channel:2,duration:.39700000000000557,end:81.78460000002384},{name:"D",number:50,velocity:.07874015748031496,time:81.38960000002385,channel:4,duration:1.8489999999999895,end:83.23860000002384},{name:"E",number:64,velocity:1,time:81.59660000002384,channel:1,duration:.2459999999999951,end:81.84260000002384},{name:"F#",number:78,velocity:.07874015748031496,time:81.78160000002384,channel:2,duration:.007999999999995566,end:81.78960000002384},{name:"C",number:60,velocity:1,time:81.79360000002384,channel:2,duration:.033999999999991815,end:81.82760000002384},{name:"E",number:64,velocity:1,time:81.82460000002384,channel:2,duration:.03300000000000125,end:81.85760000002384},{name:"A",number:69,velocity:.9212598425196851,time:81.83960000002384,channel:1,duration:.32200000000000273,end:82.16160000002384},{name:"F#",number:66,velocity:1,time:81.99160000002384,channel:2,duration:.010000000000005116,end:82.00160000002384},{name:"F",number:65,velocity:1,time:81.99860000002384,channel:2,duration:.2360000000000042,end:82.23460000002385},{name:"D",number:62,velocity:.7244094488188977,time:82.18860000002384,channel:3,duration:.17600000000000193,end:82.36460000002384},{name:"C",number:60,velocity:.7480314960629921,time:82.37460000002385,channel:3,duration:.14999999999999147,end:82.52460000002384},{name:"D",number:62,velocity:.5984251968503937,time:82.52160000002384,channel:3,duration:.018000000000000682,end:82.53960000002384},{name:"D",number:62,velocity:1,time:82.56560000002384,channel:3,duration:.19200000000000728,end:82.75760000002384},{name:"F",number:65,velocity:1,time:82.77860000002384,channel:3,duration:.01999999999999602,end:82.79860000002384},{name:"D#",number:63,velocity:1,time:82.79660000002384,channel:3,duration:.10500000000000398,end:82.90160000002385},{name:"E",number:64,velocity:1,time:82.89960000002384,channel:3,duration:.07399999999999807,end:82.97360000002384},{name:"D#",number:63,velocity:1,time:82.97060000002384,channel:3,duration:.03300000000000125,end:83.00360000002384},{name:"D",number:62,velocity:1,time:82.99860000002384,channel:3,duration:.43200000000000216,end:83.43060000002384},{name:"A",number:57,velocity:.7874015748031497,time:83.24360000002385,channel:4,duration:.17900000000000205,end:83.42260000002385},{name:"G#",number:80,velocity:.33858267716535434,time:83.44860000002384,channel:3,duration:.19199999999999307,end:83.64060000002384},{name:"A",number:57,velocity:.7637795275590551,time:83.63660000002385,channel:4,duration:1.1939999999999884,end:84.83060000002384},{name:"C#",number:61,velocity:.5039370078740157,time:83.63960000002385,channel:3,duration:.07399999999999807,end:83.71360000002385},{name:"G#",number:56,velocity:.7086614173228346,time:84.82769999998808,channel:4,duration:.046900000035762446,end:84.87460000002385},{name:"G",number:55,velocity:.6614173228346457,time:84.87160000002385,channel:4,duration:.07699999999999818,end:84.94860000002384},{name:"D",number:74,velocity:.07874015748031496,time:84.95760000002385,channel:3,duration:.1490000000000009,end:85.10660000002385},{name:"D",number:50,velocity:.968503937007874,time:84.98060000002384,channel:4,duration:.21399999999999864,end:85.19460000002384},{name:"D",number:50,velocity:.07874015748031496,time:85.02360000002385,channel:5,duration:.27199999999999136,end:85.29560000002384},{name:"E",number:52,velocity:.7952755905511811,time:85.19060000002384,channel:4,duration:.05900000000001171,end:85.24960000002385},{name:"G#",number:56,velocity:1,time:85.25360000002384,channel:4,duration:.01300000000000523,end:85.26660000002384},{name:"G",number:55,velocity:1,time:85.26260000002384,channel:4,duration:.34499999999999886,end:85.60760000002384},{name:"F#",number:66,velocity:.07874015748031496,time:85.29360000002384,channel:5,duration:.11700000000000443,end:85.41060000002385},{name:"G#",number:56,velocity:1,time:85.61060000002384,channel:4,duration:.019000000000005457,end:85.62960000002384},{name:"G",number:55,velocity:1,time:85.62560000002384,channel:4,duration:.12000000000000455,end:85.74560000002384},{name:"A",number:57,velocity:1,time:85.74060000002385,channel:4,duration:2.198999999999998,end:87.93960000002384},{name:"G#",number:56,velocity:1,time:87.98860000002384,channel:4,duration:.021000000000000796,end:88.00960000002384},{name:"G",number:55,velocity:1,time:88.00660000002384,channel:4,duration:2.493000000000009,end:90.49960000002385},{name:"A",number:45,velocity:.07874015748031496,time:88.02660000002385,channel:5,duration:.17199999999999704,end:88.19860000002384},{name:"C#",number:49,velocity:.07874015748031496,time:88.19560000002384,channel:5,duration:.4380000000000024,end:88.63360000002385},{name:"C#",number:49,velocity:.07874015748031496,time:90.50560000002385,channel:4,duration:.028999999999996362,end:90.53460000002384},{name:"D",number:50,velocity:.07874015748031496,time:90.53060000002384,channel:4,duration:.3960000000000008,end:90.92660000002384},{name:"A",number:45,velocity:.6850393700787402,time:90.60660000002385,channel:5,duration:.3199999999999932,end:90.92660000002384},{name:"D",number:50,velocity:.7795275590551181,time:90.93760000002383,channel:5,duration:.1910000000000025,end:91.12860000002384},{name:"D#",number:51,velocity:.7165354330708661,time:91.12560000002384,channel:5,duration:.03300000000000125,end:91.15860000002384},{name:"E",number:52,velocity:.7086614173228346,time:91.15560000002384,channel:5,duration:1.990000000000009,end:93.14560000002385},{name:"D",number:50,velocity:.7559055118110236,time:93.15560000002384,channel:5,duration:2.503,end:95.65860000002384},{name:"B",number:47,velocity:.30708661417322836,time:95.61860000002385,channel:6,duration:.024999999999991473,end:95.64360000002384},{name:"B",number:47,velocity:.6692913385826772,time:95.65160000002385,channel:6,duration:.3819999999999908,end:96.03360000002384},{name:"C",number:48,velocity:.5905511811023622,time:96.03060000002384,channel:6,duration:.4380000000000024,end:96.46860000002384},{name:"C#",number:49,velocity:.5433070866141733,time:96.46560000002384,channel:6,duration:.10500000000000398,end:96.57060000002384},{name:"C",number:48,velocity:.5433070866141733,time:96.56660000002384,channel:6,duration:4.3430000000000035,end:100.90960000002384}],L7t="improvisation-chord-progression",N7t="0.23.3",F7t="2024-11-26T15:27:39.279Z",U7t={root:_7t,scaleType:E7t,chordProgLabel:w7t,barCount:O7t,maxNoteDistance:S7t,minDuration:x7t,showNoteTypePlot:T7t,showRhythmPlot:I7t,showChromaPlot:B7t,showChordPlot:R7t,showDurationPlot:D7t,showPianoRoll:P7t,notes:k7t,_appId:L7t,_softwareVersion:N7t,_date:F7t},Py=[{label:"ii V I (2-5-1) 7th",chords:["IIm7","V7","IMaj7","IMaj7"],chordsShort:["ii7","V7","I7","I7"]},{label:"ii V I (2-5-1)",chords:["IIm","V","I","I"],chordsShort:["ii","V","I","I"]},{label:"I ii V (1-2-7)",chords:["IMaj7","IIm7","V7","V7"],chordsShort:["I7","ii","V","V"]},{label:"I V vi IV (1-5-6-4)",chords:["I","V","VIm","IV"],chordsShort:["I","V","vi","IV"]},{label:"V vi IV I (5-6-4-1)",chords:["V","VIm","IV","I"],chordsShort:["V","vi","IV","I"]},{label:"vi IV I V (6-4-1-5)",chords:["VIm","IV","I","V"],chordsShort:["vi","IV","I","V"]},{label:"V I V vi (4-1-5-6)",chords:["IV","I","V","VIm"],chordsShort:["IV","I","V","vi"]},{label:"circle",chords:["VIm","IIm","V","I"],chordsShort:["vi","ii","V","I"]},{label:"8 bar blues",chords:["I","V","IV","IV","I","V","I","V"],chordsShort:["I","V","IV","IV","I","V","I","V"]},{label:"12 bar blues",chords:["IMaj7","IMaj7","IMaj7","IMaj7","IVMaj7","IVMaj7","IMaj7","IMaj7","VMaj7","IVMaj7","IMaj7","VMaj7"],chordsShort:["I7","I7","I7","I7","IV7","IV7","I7","I7","V7","IV7","I7","V7"]},{label:"canon",chords:["I","V","VIm","IIIm","IV","I","IV","V"],chordsShort:["I","V","vi","iii","IV","I","IV","V"]}],{window:dJ}=Qc;function Wx(e,t,i){const n=e.slice();return n[66]=t[i],n[68]=i,n}function J7t(e,t,i){const n=e.slice();return n[69]=t[i],n}function $7t(e,t,i){const n=e.slice();return n[72]=t[i],n}function G7t(e,t,i){const n=e.slice();return n[75]=t[i],n}function H7t(e){let t;return{c(){t=q("option"),t.textContent=`${e[75].label}`,t.__value=e[75].label,qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function V7t(e){let t,i=je(Py),n=[];for(let a=0;a<i.length;a+=1)n[a]=H7t(G7t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function Q7t(e){let t;return{c(){t=q("option"),t.textContent=`${e[72]}`,t.__value=e[72],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function z7t(e){let t,i=je(Dr),n=[];for(let a=0;a<i.length;a+=1)n[a]=Q7t($7t(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function j7t(e){let t;return{c(){t=q("option"),t.textContent=`${e[69]}`,t.__value=e[69],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function W7t(e){let t,i=je(["major","minor"]),n=[];for(let a=0;a<2;a+=1)n[a]=j7t(J7t(e,i,a));return{c(){for(let a=0;a<2;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<2;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function Kx(e){let t,i=e[66]+"",n,a,o,l=[...e[8].chordNotes[e[68]]].join(", ")+"",c;return{c(){t=q("div"),n=te(i),a=q("br"),o=K(),c=te(l),sn(t,"background",yb),sn(t,"border-color",e[68]===e[22]?"#555":"transparent"),mt(t,"class","svelte-14jprg")},m(d,u){bt(d,t,u),B(t,n),B(t,a),B(t,o),B(t,c)},p(d,u){u[0]&256&&i!==(i=d[66]+"")&&Qe(n,i),u[0]&256&&l!==(l=[...d[8].chordNotes[d[68]]].join(", ")+"")&&Qe(c,l),u[0]&4194304&&sn(t,"border-color",d[68]===d[22]?"#555":"transparent")},d(d){d&&vt(t)}}}function K7t(e){let t;return{c(){t=te("example slow")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function q7t(e){let t;return{c(){t=te("example fast")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function X7t(e){let t;return{c(){t=te("example varying durations")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function Y7t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b,v,C;return t=new T9({props:{onclick:e[57],$$slots:{default:[K7t]},$$scope:{ctx:e}}}),n=new T9({props:{onclick:e[58],$$slots:{default:[q7t]},$$scope:{ctx:e}}}),o=new T9({props:{onclick:e[59],$$slots:{default:[X7t]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment),i=K(),Pt(n.$$.fragment),a=K(),Pt(o.$$.fragment),l=K(),c=q("p"),d=te("1) Improvise using only the "),u=te(e[5]),h=te(" pentatonic scale."),p=K(),f=q("p"),M=te("2) Improvise using only the "),g=te(e[5]),y=te(" major scale."),b=K(),v=q("p"),v.textContent=`3) Improvise using only the notes of the current chord similar to an
          arpeggio.`},m(w,_){Rt(t,w,_),bt(w,i,_),Rt(n,w,_),bt(w,a,_),Rt(o,w,_),bt(w,l,_),bt(w,c,_),B(c,d),B(c,u),B(c,h),bt(w,p,_),bt(w,f,_),B(f,M),B(f,g),B(f,y),bt(w,b,_),bt(w,v,_),C=!0},p(w,_){const E={};_[2]&65536&&(E.$$scope={dirty:_,ctx:w}),t.$set(E);const S={};_[2]&65536&&(S.$$scope={dirty:_,ctx:w}),n.$set(S);const I={};_[2]&65536&&(I.$$scope={dirty:_,ctx:w}),o.$set(I),(!C||_[0]&32)&&Qe(u,w[5]),(!C||_[0]&32)&&Qe(g,w[5])},i(w){C||(wt(t.$$.fragment,w),wt(n.$$.fragment,w),wt(o.$$.fragment,w),C=!0)},o(w){It(t.$$.fragment,w),It(n.$$.fragment,w),It(o.$$.fragment,w),C=!1},d(w){w&&(vt(i),vt(a),vt(l),vt(c),vt(p),vt(f),vt(b),vt(v)),Dt(t,w),Dt(n,w),Dt(o,w)}}}function Z7t(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt,ue,$e,ve,He,qe,ri,oi,oe,fe,pe,Ot,_t,Ht,Tt,Et,Lt=[...e[23]].join(", ")+"",ut,X,tt,Bt,Qt,jt,ne=[...Ao(Dr,e[23])].join(", ")+"",se,Be,we,Ne,li,zi,Ve,ji,Ge,ke,Di,ni,Tn,Le,yn,I0,Gn,ai,Hi,f0,_i,dn,n9,k0;function Xt(Se){e[35](Se)}let le={callback:e[27]};e[13]!==void 0&&(le.value=e[13]),M=new eu({props:le}),he.push(()=>Ee(M,"value",Xt));function xe(Se){e[36](Se)}let Xe={title:"Maximum time distance in beats between notes such that they still count as beloning to the same chord/arpeggio",label:"max. distance",callback:e[27],min:.05,max:2,step:.05,defaultValue:.1};e[11]!==void 0&&(Xe.value=e[11]),b=new M0({props:Xe}),he.push(()=>Ee(b,"value",xe));function Ue(Se){e[37](Se)}let ui={title:"Minimum note duration in beats. Shorter notes will be filtered out to reduce noise",label:"min. duration",callback:e[27],min:0,max:.5,step:.01,defaultValue:0};e[12]!==void 0&&(ui.value=e[12]),w=new M0({props:ui}),he.push(()=>Ee(w,"value",Ue));function Mi(Se){e[38](Se)}let $i={label:"note type chart",callback:e[27]};e[14]!==void 0&&($i.checked=e[14]),I=new zn({props:$i}),he.push(()=>Ee(I,"checked",Mi));function Oe(Se){e[39](Se)}let Je={label:"rhythm chart",callback:e[27]};e[15]!==void 0&&(Je.checked=e[15]),D=new zn({props:Je}),he.push(()=>Ee(D,"checked",Oe));function tn(Se){e[40](Se)}let mn={label:"note chroma chart",callback:e[27]};e[16]!==void 0&&(mn.checked=e[16]),F=new zn({props:mn}),he.push(()=>Ee(F,"checked",tn));function Sn(Se){e[41](Se)}let v0={label:"duration chart",callback:e[27]};e[18]!==void 0&&(v0.checked=e[18]),z=new zn({props:v0}),he.push(()=>Ee(z,"checked",Sn));function Pn(Se){e[42](Se)}let Bn={label:"chord chart",callback:e[27]};e[17]!==void 0&&(Bn.checked=e[17]),J=new zn({props:Bn}),he.push(()=>Ee(J,"checked",Pn));function Kn(Se){e[43](Se)}let B0={label:"piano roll",callback:e[27]};e[19]!==void 0&&(B0.checked=e[19]),W=new zn({props:B0}),he.push(()=>Ee(W,"checked",Kn));function p9(Se){e[44](Se)}let Gi={label:"progression",callback:e[27],style:"background-color: "+yb+";",$$slots:{default:[V7t]},$$scope:{ctx:e}};e[2]!==void 0&&(Gi.value=e[2]),st=new t9({props:Gi}),he.push(()=>Ee(st,"value",p9));function Nn(Se){e[45](Se)}let q0={label:"root note",callback:e[27],$$slots:{default:[z7t]},$$scope:{ctx:e}};e[5]!==void 0&&(q0.value=e[5]),xt=new t9({props:q0}),he.push(()=>Ee(xt,"value",Nn));function Xn(Se){e[46](Se)}let ct={label:"scale type",callback:e[27],style:"background-color: "+ky+";",$$slots:{default:[W7t]},$$scope:{ctx:e}};e[6]!==void 0&&(ct.value=e[6]),lt=new t9({props:ct}),he.push(()=>Ee(lt,"value",Xn));function Mt(Se){e[48](Se)}let Nt={callback:e[27]};e[7]!==void 0&&(Nt.value=e[7]),ae=new Vr({props:Nt}),he.push(()=>Ee(ae,"value",Mt));function $t(Se){e[49](Se)}let Zt={title:"backing track volume",label:"volume",min:.1,max:3,step:.1};e[3]!==void 0&&(Zt.value=e[3]),$e=new M0({props:Zt}),he.push(()=>Ee($e,"value",$t));let Me=je(e[8].chordsShort),Ce=[];for(let Se=0;Se<Me.length;Se+=1)Ce[Se]=Kx(Wx(e,Me,Se));function pi(Se){e[53](Se)}let hi={saveToStorage:e[30],callback:e[52]};e[20]!==void 0&&(hi.notes=e[20]),zi=new c9({props:hi}),he.push(()=>Ee(zi,"notes",pi)),Ge=new _9({props:{appId:e[0].id,loadData:e[29]}});function Re(Se){e[55](Se)}function si(Se){e[56](Se)}let Ei={callback:e[27],onStart:e[54],onStop:e[32],startAtFirstNote:!1,sound:"acoustic_grand_piano"};return e[20]!==void 0&&(Ei.notes=e[20]),e[10]!==void 0&&(Ei.speed=e[10]),Di=new Oa({props:Ei}),he.push(()=>Ee(Di,"notes",Re)),he.push(()=>Ee(Di,"speed",si)),yn=new f9({props:{loadData:e[29],getExportData:e[28],appId:e[0].id}}),Gn=new e9({props:{$$slots:{default:[Y7t]},$$scope:{ctx:e}}}),Hi=new j0({props:{noteOn:e[25],noteOff:e[26],pcKeyAllowed:!0}}),_i=new i9({props:{appId:e[0].id}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing improvising in a scale over a chord progression.
      Notes that you play are colored to show whether a note belongs to the
      current chord, the scale, or neither. For example, when improvising in C
      Major over ii-V-I, the notes that fit the currently active chord will be
      dark green, notes that fit C Major will be light green, and all others
      will be gray. The bars' height encodes the notes' durations.`,c=K(),d=q("p"),d.textContent="Start the backing track before you play!",u=K(),h=q("p"),h.innerHTML=`<b>Note type summary:</b> This visualization shows how many notes of each
      type (chord, scale, rest) you played in each bar.
      <b>Note chroma summary:</b> In the second visualization, you can see how
      often you played each note.
      <b>Note durations:</b> This bar chart displays notes sorted by time
      (ignoring chords) and encodes the duration in the bar&#39;s height.
      <b>Chords:</b> To see where you played chords, you can look at the chord
      visualization that stacks the notes of each chord on top of each other.
      <b>Piano roll:</b> This visualization shows time on the X axis and chroma (pitch
      without octave) on the Y axis for full detail.`,p=K(),f=q("div"),Pt(M.$$.fragment),y=K(),Pt(b.$$.fragment),C=K(),Pt(w.$$.fragment),E=K(),S=q("div"),Pt(I.$$.fragment),k=K(),Pt(D.$$.fragment),P=K(),Pt(F.$$.fragment),V=K(),Pt(z.$$.fragment),H=K(),Pt(J.$$.fragment),j=K(),Pt(W.$$.fragment),dt=K(),ht=q("div"),Pt(st.$$.fragment),At=K(),Pt(xt.$$.fragment),yt=K(),Pt(lt.$$.fragment),kt=K(),Jt=q("div"),Gt=q("button"),Gt.textContent="play/mute backing track",ce=K(),Pt(ae.$$.fragment),ue=K(),Pt($e.$$.fragment),He=K(),qe=q("button"),ri=te(e[4]),oi=K(),oe=q("div"),fe=q("div");for(let Se=0;Se<Ce.length;Se+=1)Ce[Se].c();pe=K(),Ot=q("div"),_t=te(e[6]),Ht=te(":"),Tt=q("br"),Et=K(),ut=te(Lt),X=K(),tt=q("div"),Bt=te("chromatic:"),Qt=q("br"),jt=K(),se=te(ne),Be=K(),we=q("div"),Ne=K(),li=q("div"),Pt(zi.$$.fragment),ji=K(),Pt(Ge.$$.fragment),ke=K(),Pt(Di.$$.fragment),Le=K(),Pt(yn.$$.fragment),I0=K(),Pt(Gn.$$.fragment),ai=K(),Pt(Hi.$$.fragment),f0=K(),Pt(_i.$$.fragment),mt(l,"class","explanation"),mt(d,"class","explanation"),mt(h,"class","explanation"),mt(f,"class","control"),mt(S,"class","control"),mt(ht,"class","control"),mt(Gt,"class","primary"),mt(qe,"title","Toggle whole notes and quarters for the backing track"),sn(qe,"width","100px"),mt(Jt,"class","control"),sn(Ot,"background",ky),mt(Ot,"class","svelte-14jprg"),sn(tt,"background",hJ),mt(tt,"class","svelte-14jprg"),mt(fe,"class","legend svelte-14jprg"),mt(we,"class","visualization"),mt(li,"class","control"),mt(t,"class","app")},m(Se,wi){bt(Se,t,wi),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(t,u),B(t,h),B(t,p),B(t,f),Rt(M,f,null),B(f,y),Rt(b,f,null),B(f,C),Rt(w,f,null),B(t,E),B(t,S),Rt(I,S,null),B(S,k),Rt(D,S,null),B(S,P),Rt(F,S,null),B(S,V),Rt(z,S,null),B(S,H),Rt(J,S,null),B(S,j),Rt(W,S,null),B(t,dt),B(t,ht),Rt(st,ht,null),B(ht,At),Rt(xt,ht,null),B(ht,yt),Rt(lt,ht,null),B(t,kt),B(t,Jt),B(Jt,Gt),B(Jt,ce),Rt(ae,Jt,null),B(Jt,ue),Rt($e,Jt,null),B(Jt,He),B(Jt,qe),B(qe,ri),B(t,oi),B(t,oe),B(oe,fe);for(let pn=0;pn<Ce.length;pn+=1)Ce[pn]&&Ce[pn].m(fe,null);B(fe,pe),B(fe,Ot),B(Ot,_t),B(Ot,Ht),B(Ot,Tt),B(Ot,Et),B(Ot,ut),B(fe,X),B(fe,tt),B(tt,Bt),B(tt,Qt),B(tt,jt),B(tt,se),B(oe,Be),B(oe,we),e[51](we),B(oe,Ne),B(oe,li),Rt(zi,li,null),B(li,ji),Rt(Ge,li,null),B(li,ke),Rt(Di,li,null),B(li,Le),Rt(yn,li,null),B(oe,I0),Rt(Gn,oe,null),B(oe,ai),Rt(Hi,oe,null),B(oe,f0),Rt(_i,oe,null),dn=!0,n9||(k0=[ze(Gt,"click",e[47]),ze(qe,"click",e[50])],n9=!0)},p(Se,wi){(!dn||wi[0]&1)&&n!==(n=Se[0].title+"")&&Qe(a,n);const pn={};!g&&wi[0]&8192&&(g=!0,pn.value=Se[13],_e(()=>g=!1)),M.$set(pn);const Un={};!v&&wi[0]&2048&&(v=!0,Un.value=Se[11],_e(()=>v=!1)),b.$set(Un);const Rn={};!_&&wi[0]&4096&&(_=!0,Rn.value=Se[12],_e(()=>_=!1)),w.$set(Rn);const wn={};!T&&wi[0]&16384&&(T=!0,wn.checked=Se[14],_e(()=>T=!1)),I.$set(wn);const b0={};!N&&wi[0]&32768&&(N=!0,b0.checked=Se[15],_e(()=>N=!1)),D.$set(b0);const R0={};!U&&wi[0]&65536&&(U=!0,R0.checked=Se[16],_e(()=>U=!1)),F.$set(R0);const r9={};!G&&wi[0]&262144&&(G=!0,r9.checked=Se[18],_e(()=>G=!1)),z.$set(r9);const W0={};!Z&&wi[0]&131072&&(Z=!0,W0.checked=Se[17],_e(()=>Z=!1)),J.$set(W0);const B9={};!et&&wi[0]&524288&&(et=!0,B9.checked=Se[19],_e(()=>et=!1)),W.$set(B9);const E9={};wi[2]&65536&&(E9.$$scope={dirty:wi,ctx:Se}),!St&&wi[0]&4&&(St=!0,E9.value=Se[2],_e(()=>St=!1)),st.$set(E9);const w9={};wi[2]&65536&&(w9.$$scope={dirty:wi,ctx:Se}),!gt&&wi[0]&32&&(gt=!0,w9.value=Se[5],_e(()=>gt=!1)),xt.$set(w9);const R9={};wi[2]&65536&&(R9.$$scope={dirty:wi,ctx:Se}),!zt&&wi[0]&64&&(zt=!0,R9.value=Se[6],_e(()=>zt=!1)),lt.$set(R9);const g9={};!qt&&wi[0]&128&&(qt=!0,g9.value=Se[7],_e(()=>qt=!1)),ae.$set(g9);const Z9={};if(!ve&&wi[0]&8&&(ve=!0,Z9.value=Se[3],_e(()=>ve=!1)),$e.$set(Z9),(!dn||wi[0]&16)&&Qe(ri,Se[4]),wi[0]&4194560){Me=je(Se[8].chordsShort);let k9;for(k9=0;k9<Me.length;k9+=1){const Ha=Wx(Se,Me,k9);Ce[k9]?Ce[k9].p(Ha,wi):(Ce[k9]=Kx(Ha),Ce[k9].c(),Ce[k9].m(fe,pe))}for(;k9<Ce.length;k9+=1)Ce[k9].d(1);Ce.length=Me.length}(!dn||wi[0]&64)&&Qe(_t,Se[6]),(!dn||wi[0]&8388608)&&Lt!==(Lt=[...Se[23]].join(", ")+"")&&Qe(ut,Lt),(!dn||wi[0]&8388608)&&ne!==(ne=[...Ao(Dr,Se[23])].join(", ")+"")&&Qe(se,ne);const Lr={};wi[0]&2097152&&(Lr.callback=Se[52]),!Ve&&wi[0]&1048576&&(Ve=!0,Lr.notes=Se[20],_e(()=>Ve=!1)),zi.$set(Lr);const da={};wi[0]&1&&(da.appId=Se[0].id),Ge.$set(da);const zr={};wi[0]&1040&&(zr.onStart=Se[54]),!ni&&wi[0]&1048576&&(ni=!0,zr.notes=Se[20],_e(()=>ni=!1)),!Tn&&wi[0]&1024&&(Tn=!0,zr.speed=Se[10],_e(()=>Tn=!1)),Di.$set(zr);const lo={};wi[0]&1&&(lo.appId=Se[0].id),yn.$set(lo);const co={};wi[0]&32|wi[2]&65536&&(co.$$scope={dirty:wi,ctx:Se}),Gn.$set(co);const uo={};wi[0]&1&&(uo.appId=Se[0].id),_i.$set(uo)},i(Se){dn||(wt(M.$$.fragment,Se),wt(b.$$.fragment,Se),wt(w.$$.fragment,Se),wt(I.$$.fragment,Se),wt(D.$$.fragment,Se),wt(F.$$.fragment,Se),wt(z.$$.fragment,Se),wt(J.$$.fragment,Se),wt(W.$$.fragment,Se),wt(st.$$.fragment,Se),wt(xt.$$.fragment,Se),wt(lt.$$.fragment,Se),wt(ae.$$.fragment,Se),wt($e.$$.fragment,Se),wt(zi.$$.fragment,Se),wt(Ge.$$.fragment,Se),wt(Di.$$.fragment,Se),wt(yn.$$.fragment,Se),wt(Gn.$$.fragment,Se),wt(Hi.$$.fragment,Se),wt(_i.$$.fragment,Se),dn=!0)},o(Se){It(M.$$.fragment,Se),It(b.$$.fragment,Se),It(w.$$.fragment,Se),It(I.$$.fragment,Se),It(D.$$.fragment,Se),It(F.$$.fragment,Se),It(z.$$.fragment,Se),It(J.$$.fragment,Se),It(W.$$.fragment,Se),It(st.$$.fragment,Se),It(xt.$$.fragment,Se),It(lt.$$.fragment,Se),It(ae.$$.fragment,Se),It($e.$$.fragment,Se),It(zi.$$.fragment,Se),It(Ge.$$.fragment,Se),It(Di.$$.fragment,Se),It(yn.$$.fragment,Se),It(Gn.$$.fragment,Se),It(Hi.$$.fragment,Se),It(_i.$$.fragment,Se),dn=!1},d(Se){Se&&vt(t),Dt(M),Dt(b),Dt(w),Dt(I),Dt(D),Dt(F),Dt(z),Dt(J),Dt(W),Dt(st),Dt(xt),Dt(lt),Dt(ae),Dt($e),Ti(Ce,Se),e[51](null),Dt(zi),Dt(Ge),Dt(Di),Dt(yn),Dt(Gn),Dt(Hi),Dt(_i),n9=!1,t0(k0)}}}function tpt(e){let t,i,n,a,o,l;return J9(e[34]),t=new m9({props:{loadData:e[29],disabled:e[24],$$slots:{default:[Z7t]},$$scope:{ctx:e}}}),n=new $3({props:{callback:e[27]}}),{c(){Pt(t.$$.fragment),i=K(),Pt(n.$$.fragment)},m(c,d){Rt(t,c,d),bt(c,i,d),Rt(n,c,d),a=!0,o||(l=ze(dJ,"resize",e[34]),o=!0)},p(c,d){const u={};d[0]&16777213|d[2]&65536&&(u.$$scope={dirty:d,ctx:c}),t.$set(u)},i(c){a||(wt(t.$$.fragment,c),wt(n.$$.fragment,c),a=!0)},o(c){It(t.$$.fragment,c),It(n.$$.fragment,c),a=!1},d(c){c&&vt(i),Dt(t,c),Dt(n,c),o=!1,l()}}}const ept=.001,ky="#D4E157",yb="#689F38",hJ="lightgray";function ipt(e,t,i){let n,a,o,l,c,{appInfo:d}=t,u=window.innerWidth,h,p;const f={domain:["chord","scale","rest"],range:[yb,ky,hJ]},M=Dr;let g=Py[0].label,y=1,b="quarters";const v=new O8;v.preloadInstrument("acoustic_grand_piano");let C="C",w="major",_=90,E=.1,S=0,I=50,T=!0,k=!0,D=!0,N=!1,P=!1,F=!1,U=0,V=[],z=new Map,G=0,H;const J=Tt=>{const Et=(Tt.timestamp-U)/1e3;if(V.length>0&&Et-V.at(-1)<ept)return;const Lt={name:Tt.note.name+(Tt.note.accidental??""),number:Tt.note.number,velocity:Tt.velocity,time:Et,channel:Tt.message.channel,duration:0},ut=`${Tt.note.number} ${Tt.message.channel}`;if(z.has(ut)){const X=z.get(ut);X.end===void 0&&(X.end=Et)}i(20,V=[...V,Lt]),z.set(ut,Lt),j()},Z=Tt=>{const Et=`${Tt.note.number} ${Tt.message.channel}`;if(z.has(Et)){const Lt=z.get(Et),ut=(Tt.timestamp-U)/1e3;Lt.end=ut,Lt.duration=Lt.end-Lt.time}j()},j=()=>{var Bt,Qt;if(i(9,h.textContent="",h),V.length===0)return;const Tt=Q0(_),Et=o.chords.length,Lt=V.filter(jt=>jt.duration===0||jt.duration/Tt>=S).map(jt=>{const ne=Math.floor(jt.time/c),se=ne%Et,Be=o.chordNotes[se];let we="rest";return Be.has(jt.name)?we="chord":l.has(jt.name)&&(we="scale"),{...jt,time:jt.time/Tt,duration:jt.duration/Tt,colorType:we,bar:ne,chordIndex:se,chord:o.chords[se],chordShort:o.chordsShort[se]}});if(T){const jt=Aa(Lt,se=>se.bar).flatMap(([se,Be])=>Aa(Be,we=>we.colorType).map(([we,Ne])=>({bar:se,colorType:we,count:Ne.length,notes:Ne.sort((li,zi)=>li.number%12-zi.number%12).map(li=>li.name).join(" ")}))),ne=On({subtitle:"Note Type Counts Per Bar",caption:`${ad} See how many notes of each type (matching chord, scale, none) you played in each bar`,width:n,height:120,marginLeft:30,marginTop:30,marginBottom:0,x:{axis:!1},y:{domain:fi(Et),tickFormat:se=>o.chordsShort[se],label:"bar / chord"},fx:{label:"repetition"},color:f,marks:[xy({stroke:"#eee",rx:3}),Ss(jt,{y:se=>se.bar%Et,x:"count",fx:se=>Math.floor(se.bar/Et),fill:"colorType",rx:3,tip:!0,title:se=>`${se.count} notes fit ${se.colorType}
${se.notes}`})]});h.appendChild(ne)}if(k){const jt=Lt.map(we=>({...we,duration:j3t(we.duration)})),ne=Aa(jt,we=>we.bar).flatMap(([we,Ne])=>Aa(Ne,li=>li.duration.name).map(([li,zi])=>({bar:we,durationType:li,count:zi.length}))),se=jU.map(we=>we.name),Be=On({subtitle:"Note Durations Per Bar",caption:`${ad} See how many notes of each duration you played in each bar`,width:n,height:120,marginLeft:30,marginTop:30,marginBottom:0,x:{axis:!1},y:{domain:fi(Et),tickFormat:we=>o.chordsShort[we],label:"bar / chord"},fx:{label:"repetition"},color:{legend:!0,domain:se},marks:[xy({stroke:"#eee",rx:3}),Ss(ne,{y:we=>we.bar%Et,x:"count",fx:we=>Math.floor(we.bar/Et),fill:"durationType",rx:3,tip:!0,title:we=>`${we.durationType}
${we.count} times`})]});h.appendChild(Be)}if(D){const jt=Aa(Lt,se=>se.bar).flatMap(([se,Be])=>Aa(Be,we=>we.number%12).map(([we,Ne])=>({bar:se,chroma:we,note:Ne[0].name,count:Ne.length,colorType:Ne[0].colorType}))),ne=On({subtitle:"Note Chroma Counts Per Bar",caption:`${ad} See how often you played each note in each bar`,width:n,height:200,marginLeft:50,marginRight:50,marginTop:20,color:f,x:{axis:!1},y:{domain:fi(0,12,1),reverse:!0},fx:{label:null,tickFormat:se=>o.chordsShort[se%Et]},marks:[T0(Ry,{stroke:"#eee",strokeWidth:10}),Ro({tickFormat:se=>M[se],anchor:"left"}),Ro({anchor:"right",tickFormat:se=>M[se]}),q9([0],{strokeWidth:1,stroke:"darkgray"}),Ss(jt,{x:"count",y:"chroma",fx:"bar",fill:"colorType",dx:.5,rx:3,tip:!0,title:se=>`${se.note}
fits ${se.colorType}`})]});h.appendChild(ne)}if(P){const jt=Lt.slice(-I),ne=2,se=[0,.5,1,2],Be=On({subtitle:"Note Durations",caption:`${ad} this chart shows note durations, so you can see whether notes that do not fit chord or scale are shorter, which could mean quickly passing through, e.g., while bending or sliding`,width:n,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',height:150,marginLeft:50,marginBottom:50,padding:0,x:{axis:!1},y:{label:"duration in beats",labelAnchor:"center",axis:!0,domain:[0,ne],ticks:se,tickFormat:we=>[0,UA,iy,z2][se.indexOf(we)],grid:!0},color:f,marks:[T0([0],{stroke:"#ddd"}),C1(jt,{x:(we,Ne)=>Ne,y:we=>we.duration>0?we.duration:ne,fill:"colorType",stroke:"colorType",fillOpacity:we=>we.duration===0?0:1,inset:1.5,rx:4}),J0(jt,{x:(we,Ne)=>Ne,y:0,text:we=>we.name.split("").join(`
`),fontSize:12,dy:16}),J0(jt,{x:(we,Ne)=>Ne,y:0,text:(we,Ne,li)=>{if(Ne===0||we.chordShort!==li[Ne-1].chordShort)return we.chordShort},fontSize:12,dy:36})]});h.appendChild(Be)}let ut,X,tt;if((N||F)&&(ut=Fh(Lt,E).map(jt=>jt.sort((ne,se)=>ne.number-se.number)),X=ut.map(jt=>y3(jt.map(ne=>ne.name))),tt=ut.flatMap((jt,ne)=>jt.map((se,Be)=>({...se,chordIndex:ne,noteIndex:Be})))),N){const jt=On({subtitle:"Chords",caption:`${ad} This chart shows you the chords you played`,width:n,height:300,marginLeft:30,marginRight:50,marginTop:0,marginBottom:120,padding:0,x:{axis:!1,domain:fi(Math.max(ut.length-I,0),ut.length-1)},y:{ticks:[],label:"chord notes sorted by pitch",labelAnchor:"center"},color:f,marks:[Ls(tt,{y1:ne=>ne.noteIndex,y2:ne=>ne.noteIndex+1,x:"chordIndex",fill:"colorType",stroke:"colorType",offset:"normalize",rx:4,inset:1.5,tip:!0,title:"name"}),J0(tt,{x:"chordIndex",y:"noteIndex",text:ne=>ne.name.split("").join(`
`),fontSize:10,fill:"black",stroke:"#eee",strokeWidth:3,dy:-12,pointerEvents:"none"}),J0(ut,{x:(ne,se)=>se,y:0,text:(ne,se,Be)=>{var we,Ne;if(se===0)return(we=ne[0])==null?void 0:we.chordShort;if(ne[0].chordShort!==Be[se-1][0].chordShort)return(Ne=ne[0])==null?void 0:Ne.chordShort},fontSize:12,dy:8,textAnchor:"middle"}),J0(X,{x:(ne,se)=>se,y:0,text:ne=>ne.join("   "),fontSize:11,dy:28,rotate:90,textAnchor:"start"})]});h.appendChild(jt)}if(F){const jt=Math.floor((((Bt=tt.at(0))==null?void 0:Bt.time)??0)/16)*16,ne=((Qt=tt.at(-1))==null?void 0:Qt.time)??4,se=fi(12),Be=tt,we=On({subtitle:"Piano Roll",caption:`${ad} See your playing in more detail with quantized notes`,width:n,height:280,marginLeft:50,marginRight:50,marginTop:20,marginBottom:100,padding:0,x:{label:"time in beats",tickFormat:Ne=>{const li=Ne-jt,zi=li/4;return`${Math.floor(zi)+1} : ${Math.floor(li%4)+1}`}},y:{domain:se,ticks:se,tickFormat:Ne=>Dr[Ne],label:"notes",labelAnchor:"center",reverse:!0},color:f,fy:{},marks:[T0(Ry,{stroke:"#eee",strokeWidth:10}),q9(fi(jt,ne+2,1),{stroke:"#e8e8e8",strokeWidth:1}),q9(fi(jt,ne+5,Et),{stroke:"#ccc",strokeWidth:2}),q9(fi(jt,ne+5,16),{stroke:"#666",strokeWidth:2}),J0(fi(jt,ne,Et),{x:Ne=>Ne+2,y:11,text:Ne=>o.chordsShort[Ne/Et%o.chords.length],fontSize:12,dy:-20,textAnchor:"middle"}),rb({ticks:fi(jt,ne,4),tickSize:16,tickPadding:-11,tickFormat:Ne=>` ${(Ne-jt)/4+1}`,textAnchor:"start",color:"#ccc",strokeWidth:2}),Kht(Be,{x1:"time",x2:Ne=>Ne.time+Ne.duration,y:Ne=>Ne.number%12,fill:"colorType",stroke:"#eee",rx:4}),J0(X,{x:(Ne,li)=>{var zi;return((zi=ut[li][0])==null?void 0:zi.time)??0},y:0,text:Ne=>Ne.join("   "),fontSize:11,dy:30,rotate:90,textAnchor:"start"})]});h.appendChild(we)}};yr(j);const W=()=>({root:C,scaleType:w,chordProgLabel:g,barCount:I,maxNoteDistance:E,minDuration:S,showNoteTypePlot:T,showRhythmPlot:k,showChromaPlot:D,showChordPlot:N,showDurationPlot:P,showPianoRoll:F,notes:V}),et=Tt=>{dt(),i(5,C=Tt.root??"C"),i(6,w=Tt.scaleType??"major"),i(2,g=Tt.chordProgLabel),i(13,I=Tt.barCount??50),i(11,E=Tt.maxNoteDistance??.1),i(12,S=Tt.minDuration??0),i(14,T=Tt.showNoteTypePlot??!0),i(15,k=Tt.showRhythmPlot??!0),i(16,D=Tt.showChromaPlot??!0),i(17,N=Tt.showChordPlot??!0),i(18,P=Tt.showDurationPlot??!0),i(19,F=Tt.showPianoRoll??!0),i(20,V=Tt.notes),j()},dt=()=>{V.length>0&&JSON.stringify(V)!==JSON.stringify(jx.notes)&&C9(d.id,W())},ht=(Tt=1,Et="quarters")=>{if(v.isPlaying())v.isMuted()?v.unMute():v.mute();else{i(20,V=[]),j(),U=performance.now();const Lt=4,ut=o.chordNotes,X=Q0(_)/Tt,tt=Et==="quarters"?4:1,Bt=Et==="quarters"?X:X*4,Qt=ut.flatMap((jt,ne)=>fi(tt).flatMap(se=>{const Be=X*(se+4*ne);return[...jt].map(we=>{const Ne=Ns.get(we)+Lt*12;return Ku.from({pitch:Ne,start:Be,end:Be+Bt,duration:Bt,velocity:se===0?.7:.5,channel:0})})}));v.playNotes(Qt,"acoustic_grand_piano",0,void 0,1,!0),v.onTimeChange(()=>{const jt=(performance.now()-U)/1e3;i(22,G=Math.floor(jt/c)%o.chords.length)})}},st=()=>{v.stop(),i(22,G=0)};c0(()=>{dt(),v.stop()});function St(){i(1,u=dJ.innerWidth)}function At(Tt){I=Tt,i(13,I)}function xt(Tt){E=Tt,i(11,E)}function gt(Tt){S=Tt,i(12,S)}function yt(Tt){T=Tt,i(14,T)}function lt(Tt){k=Tt,i(15,k)}function zt(Tt){D=Tt,i(16,D)}function kt(Tt){P=Tt,i(18,P)}function Jt(Tt){N=Tt,i(17,N)}function Gt(Tt){F=Tt,i(19,F)}function ce(Tt){g=Tt,i(2,g)}function ae(Tt){C=Tt,i(5,C)}function qt(Tt){w=Tt,i(6,w)}const ue=()=>ht(1,b);function $e(Tt){_=Tt,i(7,_)}function ve(Tt){y=Tt,i(3,y)}const He=()=>{i(4,b=b==="quarters"?"whole":"quarters")};function qe(Tt){he[Tt?"unshift":"push"](()=>{h=Tt,i(9,h)})}const ri=()=>{i(21,z=new Map),st(),j()};function oi(Tt){V=Tt,i(20,V)}const oe=()=>ht(p,b);function fe(Tt){V=Tt,i(20,V)}function pe(Tt){p=Tt,i(10,p)}const Ot=()=>et(C7t),_t=()=>et(U7t),Ht=()=>et(jx);return e.$$set=Tt=>{"appInfo"in Tt&&i(0,d=Tt.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&2&&(n=u<1200?900:Math.floor(u-200)),e.$$.dirty[0]&32&&i(33,a=Py.map(Tt=>{const Lt=h9t(C,Tt.chords).map(ut=>new Set(ty(ut).notes));return{...Tt,chordNotes:Lt}})),e.$$.dirty[0]&4|e.$$.dirty[1]&4&&i(8,o=a.filter(Tt=>Tt.label===g)[0]),e.$$.dirty[0]&8&&(v==null||v.setVolume(y)),e.$$.dirty[0]&96&&i(23,l=new Set(oa(`${C} ${w}`).notes.map(Tt=>M[Ns.get(Tt)]))),e.$$.dirty[0]&128&&(c=Q0(_)*4),e.$$.dirty[0]&496&&st()},[d,u,g,y,b,C,w,_,o,h,p,E,S,I,T,k,D,N,P,F,V,z,G,l,H,J,Z,j,W,et,dt,ht,st,a,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt,ue,$e,ve,He,qe,ri,oi,oe,fe,pe,Ot,_t,Ht]}class npt extends Zi{constructor(t){super(),Yi(this,t,ipt,tpt,Xi,{appInfo:0},null,[-1,-1,-1])}}const rpt=!0,apt=!0,opt=[{number:72,velocity:34,time:290372.10000014305,channel:1},{number:79,velocity:66,time:290628.10000014305,channel:1},{number:77,velocity:48,time:292438.10000014305,channel:1},{number:76,velocity:98,time:292732.10000014305,channel:1},{number:81,velocity:42,time:294628.10000014305,channel:1},{number:81,velocity:127,time:295494.10000014305,channel:1},{number:81,velocity:127,time:295679.10000014305,channel:1},{number:83,velocity:20,time:297681.10000014305,channel:1},{number:71,velocity:45,time:299932.10000014305,channel:1},{number:64,velocity:55,time:300356.10000014305,channel:1},{number:76,velocity:54,time:302248.10000014305,channel:1},{number:72,velocity:80,time:302624.10000014305,channel:1},{number:67,velocity:69,time:304313.10000014305,channel:1},{number:69,velocity:37,time:307079.2000000477,channel:1},{number:71,velocity:58,time:307343.10000014305,channel:1},{number:72,velocity:55,time:307629.10000014305,channel:1},{number:66,velocity:51,time:309766.10000014305,channel:1},{number:68,velocity:48,time:309968.10000014305,channel:1},{number:70,velocity:76,time:310370.10000014305,channel:1},{number:72,velocity:49,time:312700.10000014305,channel:1},{number:76,velocity:70,time:313177.10000014305,channel:1},{number:77,velocity:60,time:314654.10000014305,channel:1},{number:79,velocity:79,time:315093.10000014305,channel:1},{number:71,velocity:73,time:317319.10000014305,channel:1},{number:69,velocity:99,time:318431.10000014305,channel:1},{number:67,velocity:60,time:318848.10000014305,channel:1},{number:65,velocity:110,time:319800.10000014305,channel:1},{number:60,velocity:62,time:320876.10000014305,channel:1},{number:72,velocity:105,time:324679.10000014305,channel:1},{number:76,velocity:63,time:327670.2000000477,channel:1},{number:79,velocity:72,time:329615.10000014305,channel:1},{number:84,velocity:64,time:330978.10000014305,channel:1},{number:86,velocity:73,time:335036.10000014305,channel:1},{number:88,velocity:99,time:335408.10000014305,channel:1},{number:82,velocity:46,time:337702.10000014305,channel:1},{number:80,velocity:26,time:337932.10000014305,channel:1},{number:77,velocity:57,time:339103.10000014305,channel:1},{number:83,velocity:69,time:343022.10000014305,channel:1},{number:81,velocity:115,time:343185.10000014305,channel:1},{number:76,velocity:79,time:345086.10000014305,channel:1}],spt="improvisation-intervals",lpt="2024-09-04T12:05:22.821Z",qx={showUnison:rpt,useColors:apt,notes:opt,_appId:spt,_date:lpt},cpt=!0,upt=[{name:"G",number:67,velocity:127,time:.037},{name:"E",number:64,velocity:127,time:.157},{name:"D",number:62,velocity:83,time:.238},{name:"G",number:55,velocity:82,time:.346},{name:"D",number:62,velocity:64,time:.493},{name:"C",number:60,velocity:61,time:.578},{name:"A",number:57,velocity:69,time:.693},{name:"A",number:45,velocity:81,time:.745},{name:"D",number:50,velocity:82,time:.877},{name:"A",number:57,velocity:112,time:.9780999999642372},{name:"G",number:55,velocity:119,time:1.085},{name:"A",number:57,velocity:110,time:1.185},{name:"A",number:57,velocity:103,time:1.326},{name:"A#",number:58,velocity:127,time:1.449},{name:"A",number:57,velocity:127,time:1.462},{name:"G",number:55,velocity:122,time:1.939},{name:"G#",number:56,velocity:119,time:2.154},{name:"E",number:64,velocity:45,time:2.185},{name:"A",number:57,velocity:40,time:2.198},{name:"E",number:52,velocity:90,time:2.202},{name:"E",number:40,velocity:10,time:2.213},{name:"G",number:55,velocity:110,time:2.263099999964237},{name:"E",number:52,velocity:72,time:2.357},{name:"D#",number:51,velocity:63,time:2.478},{name:"D",number:50,velocity:76,time:2.626},{name:"D",number:50,velocity:97,time:2.726},{name:"C",number:48,velocity:96,time:2.88},{name:"A",number:45,velocity:116,time:3.004},{name:"A#",number:58,velocity:21,time:3.232},{name:"E",number:52,velocity:46,time:3.233},{name:"C",number:48,velocity:117,time:3.263},{name:"D",number:50,velocity:127,time:3.496},{name:"D",number:50,velocity:90,time:3.953},{name:"D#",number:51,velocity:83,time:4.033},{name:"E",number:52,velocity:79,time:4.104},{name:"G",number:55,velocity:71,time:4.155},{name:"E",number:52,velocity:43,time:4.264},{name:"G",number:55,velocity:120,time:4.388},{name:"A",number:57,velocity:126,time:4.465},{name:"A",number:57,velocity:127,time:4.494},{name:"C",number:60,velocity:127,time:4.638},{name:"D",number:50,velocity:87,time:4.675},{name:"A",number:57,velocity:127,time:4.754},{name:"C",number:60,velocity:127,time:4.873},{name:"D#",number:63,velocity:127,time:4.966},{name:"A",number:57,velocity:10,time:4.984},{name:"D",number:62,velocity:127,time:4.989},{name:"E",number:64,velocity:127,time:5.269},{name:"F",number:65,velocity:109,time:5.422},{name:"E",number:64,velocity:106,time:5.48},{name:"F",number:65,velocity:99,time:5.599},{name:"E",number:64,velocity:96,time:5.657},{name:"A",number:57,velocity:83,time:5.74},{name:"G",number:55,velocity:87,time:5.75},{name:"D",number:74,velocity:82,time:5.773},{name:"E",number:64,velocity:102,time:5.863},{name:"F",number:65,velocity:101,time:5.946},{name:"G",number:67,velocity:89,time:6.048},{name:"F",number:65,velocity:80,time:6.104099999964237},{name:"E",number:64,velocity:76,time:6.153},{name:"E",number:64,velocity:64,time:6.226},{name:"C",number:84,velocity:87,time:6.358},{name:"F#",number:66,velocity:93,time:6.414},{name:"A",number:69,velocity:122,time:6.482},{name:"B",number:71,velocity:92,time:6.675},{name:"C",number:72,velocity:86,time:6.86},{name:"D",number:74,velocity:85,time:6.934},{name:"C",number:72,velocity:85,time:6.993},{name:"B",number:71,velocity:84,time:7.035},{name:"F#",number:66,velocity:74,time:7.113},{name:"C",number:72,velocity:83,time:7.121},{name:"B",number:71,velocity:53,time:7.229},{name:"G",number:67,velocity:72,time:7.34},{name:"G#",number:68,velocity:78,time:7.383},{name:"A",number:69,velocity:77,time:7.425},{name:"C",number:72,velocity:51,time:7.495},{name:"B",number:59,velocity:100,time:7.595},{name:"C",number:72,velocity:55,time:7.705},{name:"D",number:74,velocity:103,time:7.797},{name:"C",number:72,velocity:83,time:8.137},{name:"B",number:59,velocity:67,time:8.186},{name:"F#",number:66,velocity:60,time:8.213},{name:"F",number:65,velocity:54,time:8.254},{name:"A",number:69,velocity:54,time:8.282},{name:"F#",number:66,velocity:56,time:8.326},{name:"F#",number:66,velocity:40,time:8.397},{name:"C#",number:73,velocity:10,time:8.426},{name:"A",number:69,velocity:52,time:8.427},{name:"C",number:72,velocity:114,time:8.745},{name:"C#",number:73,velocity:101,time:8.864},{name:"D",number:74,velocity:100,time:8.894},{name:"C",number:72,velocity:97,time:8.965},{name:"B",number:71,velocity:98,time:9.008},{name:"A#",number:70,velocity:98,time:9.038},{name:"A",number:69,velocity:95,time:9.08},{name:"A#",number:70,velocity:94,time:9.166},{name:"C",number:72,velocity:95,time:9.255},{name:"B",number:71,velocity:93,time:9.316},{name:"A",number:69,velocity:93,time:9.326},{name:"A#",number:70,velocity:92,time:9.416},{name:"G",number:55,velocity:74,time:9.702},{name:"D",number:62,velocity:68,time:9.762},{name:"E",number:64,velocity:46,time:9.837},{name:"F",number:65,velocity:46,time:9.923},{name:"G",number:67,velocity:47,time:9.966},{name:"D",number:62,velocity:57,time:10.108},{name:"C",number:60,velocity:44,time:10.214},{name:"C#",number:61,velocity:42,time:10.316},{name:"C",number:60,velocity:42,time:10.402},{name:"A",number:57,velocity:96,time:10.458},{name:"G",number:55,velocity:82,time:10.605},{name:"A",number:57,velocity:82,time:10.706},{name:"C",number:60,velocity:76,time:10.782},{name:"D",number:50,velocity:57,time:10.835},{name:"A",number:57,velocity:88,time:10.896},{name:"C",number:60,velocity:107,time:11.029},{name:"D",number:62,velocity:108,time:11.115},{name:"D",number:62,velocity:111,time:11.138},{name:"G#",number:56,velocity:74,time:11.34},{name:"D#",number:63,velocity:103,time:11.36},{name:"A#",number:58,velocity:59,time:11.36},{name:"D",number:62,velocity:100,time:11.433},{name:"C",number:60,velocity:100,time:11.49},{name:"D",number:50,velocity:78,time:11.573},{name:"A",number:57,velocity:73,time:11.606},{name:"A",number:57,velocity:71,time:11.77},{name:"G",number:55,velocity:63,time:11.894},{name:"E",number:52,velocity:87,time:11.998},{name:"A#",number:70,velocity:44,time:12.119},{name:"G",number:55,velocity:40,time:12.144},{name:"A",number:45,velocity:28,time:12.177},{name:"E",number:52,velocity:70,time:12.212},{name:"D#",number:51,velocity:64,time:12.289},{name:"D#",number:51,velocity:54,time:12.386},{name:"C",number:48,velocity:88,time:12.44},{name:"C",number:48,velocity:79,time:12.536},{name:"A",number:45,velocity:66,time:12.595},{name:"A",number:45,velocity:113,time:12.659},{name:"A#",number:46,velocity:104,time:12.927},{name:"A",number:45,velocity:101,time:12.955}],dpt="improvisation-intervals",hpt="0.23.3",fpt="2024-11-26T16:03:45.227Z",Xx={showUnison:cpt,notes:upt,_appId:dpt,_softwareVersion:hpt,_date:fpt};function mpt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function ppt(e){let t;return{c(){t=te("example guitar")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function gpt(e){let t,i,n,a,o,l,c,d,u,h,p,f;return t=new T9({props:{onclick:e[16],$$slots:{default:[mpt]},$$scope:{ctx:e}}}),n=new T9({props:{onclick:e[17],$$slots:{default:[ppt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment),i=K(),Pt(n.$$.fragment),a=K(),o=q("p"),o.textContent="1) Play different notes and see which intervals are between them.",l=K(),c=q("p"),c.textContent=`2) Try to play only perfect 5ths (for example, go through the circle of
        fifths).`,d=K(),u=q("p"),u.textContent="3) Try to play only perfect 5ths and major intervals.",h=K(),p=q("p"),p.textContent="4) Try to play only perfect 5ths and minor intervals."},m(M,g){Rt(t,M,g),bt(M,i,g),Rt(n,M,g),bt(M,a,g),bt(M,o,g),bt(M,l,g),bt(M,c,g),bt(M,d,g),bt(M,u,g),bt(M,h,g),bt(M,p,g),f=!0},p(M,g){const y={};g&524288&&(y.$$scope={dirty:g,ctx:M}),t.$set(y);const b={};g&524288&&(b.$$scope={dirty:g,ctx:M}),n.$set(b)},i(M){f||(wt(t.$$.fragment,M),wt(n.$$.fragment,M),f=!0)},o(M){It(t.$$.fragment,M),It(n.$$.fragment,M),f=!1},d(M){M&&(vt(i),vt(a),vt(o),vt(l),vt(c),vt(d),vt(u),vt(h),vt(p)),Dt(t,M),Dt(n,M)}}}function Mpt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G;function H(st){e[11](st)}let J={label:"unison",title:"Toggle filtering unison intervals"};e[2]!==void 0&&(J.checked=e[2]),u=new zn({props:J}),he.push(()=>Ee(u,"checked",H));function Z(st){e[12](st)}let j={title:"The number of most recent notes that are shown as bars.",label:"bars",defaultValue:40,step:10,min:40};e[3]!==void 0&&(j.value=e[3]),f=new M0({props:j}),he.push(()=>Ee(f,"value",Z));function W(st){e[14](st)}let et={saveToStorage:e[10]};e[4]!==void 0&&(et.notes=e[4]),C=new c9({props:et}),he.push(()=>Ee(C,"notes",W)),E=new _9({props:{appId:e[0].id,loadData:e[9]}});function dt(st){e[15](st)}let ht={callback:e[7]};return e[4]!==void 0&&(ht.notes=e[4]),I=new Oa({props:ht}),he.push(()=>Ee(I,"notes",dt)),D=new f9({props:{loadData:e[9],getExportData:e[8],appId:e[0].id}}),P=new e9({props:{$$slots:{default:[gpt]},$$scope:{ctx:e}}}),U=new j0({props:{noteOn:e[5],pcKeyAllowed:!0}}),z=new i9({props:{appId:e[0].id}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing intervals between notes in a melody. You can
      play a note, then another one some interval apart, and so on. The bar
      chart below shows how often you played each interval: when you go up in
      pitch, the bar of the played interval in the top half will increase. If
      you go down, it will show up in the bottom half. Colors denote the type of
      interval, so you can quickly see if you play, for example, more major or
      minor intervals. The intervals are labelled by their name and the number
      of semitones (negative when going from higher to lower notes). The second
      chart on the bottom shows the intervals over time with the same colors.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),y=q("div"),b=K(),v=q("div"),Pt(C.$$.fragment),_=K(),Pt(E.$$.fragment),S=K(),Pt(I.$$.fragment),k=K(),Pt(D.$$.fragment),N=K(),Pt(P.$$.fragment),F=K(),Pt(U.$$.fragment),V=K(),Pt(z.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(y,"class","visualization"),mt(v,"class","control"),mt(t,"class","app")},m(st,St){bt(st,t,St),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(t,g),B(t,y),e[13](y),B(t,b),B(t,v),Rt(C,v,null),B(v,_),Rt(E,v,null),B(v,S),Rt(I,v,null),B(v,k),Rt(D,v,null),B(t,N),Rt(P,t,null),B(t,F),Rt(U,t,null),B(t,V),Rt(z,t,null),G=!0},p(st,St){(!G||St&1)&&n!==(n=st[0].title+"")&&Qe(a,n);const At={};!h&&St&4&&(h=!0,At.checked=st[2],_e(()=>h=!1)),u.$set(At);const xt={};!M&&St&8&&(M=!0,xt.value=st[3],_e(()=>M=!1)),f.$set(xt);const gt={};!w&&St&16&&(w=!0,gt.notes=st[4],_e(()=>w=!1)),C.$set(gt);const yt={};St&1&&(yt.appId=st[0].id),E.$set(yt);const lt={};!T&&St&16&&(T=!0,lt.notes=st[4],_e(()=>T=!1)),I.$set(lt);const zt={};St&1&&(zt.appId=st[0].id),D.$set(zt);const kt={};St&524288&&(kt.$$scope={dirty:St,ctx:st}),P.$set(kt);const Jt={};St&1&&(Jt.appId=st[0].id),z.$set(Jt)},i(st){G||(wt(u.$$.fragment,st),wt(f.$$.fragment,st),wt(C.$$.fragment,st),wt(E.$$.fragment,st),wt(I.$$.fragment,st),wt(D.$$.fragment,st),wt(P.$$.fragment,st),wt(U.$$.fragment,st),wt(z.$$.fragment,st),G=!0)},o(st){It(u.$$.fragment,st),It(f.$$.fragment,st),It(C.$$.fragment,st),It(E.$$.fragment,st),It(I.$$.fragment,st),It(D.$$.fragment,st),It(P.$$.fragment,st),It(U.$$.fragment,st),It(z.$$.fragment,st),G=!1},d(st){st&&vt(t),Dt(u),Dt(f),e[13](null),Dt(C),Dt(E),Dt(I),Dt(D),Dt(P),Dt(U),Dt(z)}}}function ypt(e){let t,i;return t=new m9({props:{loadData:e[9],disabled:e[6],$$slots:{default:[Mpt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&524319&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let Yx=900,Zx=360;function Apt(e,t,i){let{appInfo:n}=t,a,o=!0,l=40,c,d=[];const u=S=>{d.length===0&&(c=S.timestamp);const I=(S.timestamp-c)/1e3,T={name:S.note.name+(S.note.accidental??""),number:S.note.number,velocity:S.rawVelocity,time:I};i(4,d=[...d,T])};let h;const p=()=>{let S=d.map((P,F)=>F===0?0:P.number-d[F-1].number);o||(S=S.filter(P=>P!==0)),S=S.map(P=>{if(Math.abs(P)<=12)return P;{const F=P>0?12:-12;for(;Math.abs(P)>12;)P-=F;return P}});const I=Aa(S,P=>P).map(([P,F])=>({interval:P,count:F.length})),T=" ".repeat(20);i(1,a.textContent="",a);const k=On({width:Yx,height:Zx,marginLeft:125,marginRight:10,marginTop:0,marginBottom:30,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',color:{domain:["minor","major","perfect","tritone"],range:["#7da2e8","#ed796a","gold","#ccc"],marginLeft:100},y:{label:` going down ${T}|${T} going up      `,reverse:!0,domain:fi(-12,13,1),tickFormat:P=>P>=0?`${Du[P].name} (${P})`:`${Du[-P].name} (${P})`,type:"band"},marks:[T0([-12,0,12],{stroke:"#888",strokeWidth:1.5}),Ss(I,{x:"count",y:"interval",fill:P=>Du[Math.abs(P.interval)].type,dx:.5,rx:4})]});a.appendChild(k);const D=S.slice(-l),N=On({width:Yx,height:Zx,marginLeft:125,marginRight:10,marginTop:0,marginBottom:10,color:{legend:!0,domain:["minor","major","perfect","tritone"],range:["#7da2e8","#ed796a","gold","#ccc"],marginLeft:100},x:{nice:!0,label:"intervals sorted by time",ticks:[]},y:{label:` going down ${T}|${T} going up      `,reverse:!0,domain:fi(-12,13,1),tickFormat:P=>P>=0?`${Du[P].name} (${P})`:`${Du[-P].name} (${P})`,type:"band"},marks:[T0([-12,0,12],{stroke:"#888",strokeWidth:1.5}),Ls(D,{x:(P,F)=>F,fill:P=>Du[Math.abs(P)].type,rx:4}),D.length<=40?eb(D,{x:(P,F)=>F,y:P=>P>0?P+1:P-1,text:P=>Du[Math.abs(P)].short,fill:"black",stroke:"white",strokeWidth:3}):null]});a.appendChild(N)};$9(p);const f=()=>({showUnison:o,intervalLimit:l,notes:d}),M=S=>{g(),i(2,o=S.showUnison),i(3,l=S.intervalLimit??100),i(4,d=S.notes)},g=()=>{d.length>0&&JSON.stringify(d)!==JSON.stringify(qx.notes)&&JSON.stringify(d)!==JSON.stringify(Xx.notes)&&C9(n.id,f())};c0(g);function y(S){o=S,i(2,o)}function b(S){l=S,i(3,l)}function v(S){he[S?"unshift":"push"](()=>{a=S,i(1,a)})}function C(S){d=S,i(4,d)}function w(S){d=S,i(4,d)}const _=()=>M(qx),E=()=>M(Xx);return e.$$set=S=>{"appInfo"in S&&i(0,n=S.appInfo)},[n,a,o,l,d,u,h,p,f,M,g,y,b,v,C,w,_,E]}class vpt extends Zi{constructor(t){super(),Yi(this,t,Apt,ypt,Xi,{appInfo:0})}}const bpt="D",Cpt="minor",_pt=100,Ept=!0,wpt="1 4 5",Opt=[{name:"D",number:62,velocity:.5354330708661418,time:0,channel:1,duration:1.629,end:1.629},{name:"F",number:65,velocity:.4881889763779528,time:1.55,channel:1,duration:2.9720000000000004,end:4.522},{name:"E",number:64,velocity:.4251968503937008,time:4.48,channel:1,duration:.4289999999999994,end:4.909},{name:"C",number:60,velocity:.5354330708661418,time:4.755,channel:1,duration:2.3950000000000005,end:7.15},{name:"A",number:69,velocity:.5984251968503937,time:7.105,channel:1,duration:3.530999999999999,end:10.636},{name:"G",number:67,velocity:.4881889763779528,time:10.668,channel:1,duration:.3490000000000002,end:11.017},{name:"A",number:69,velocity:.5433070866141733,time:10.95,channel:1,duration:2.373900000095368,end:13.323900000095367},{name:"G#",number:68,velocity:.6299212598425197,time:13.292,channel:1,duration:.33800000000000097,end:13.63},{name:"F",number:65,velocity:.7322834645669292,time:13.572,channel:1,duration:2.817,end:16.389},{name:"E",number:64,velocity:.31496062992125984,time:16.355,channel:1,duration:.5560000000000009,end:16.911},{name:"D",number:62,velocity:.6850393700787402,time:16.859,channel:1,duration:3.4619999999999997,end:20.321},{name:"D",number:62,velocity:.3779527559055118,time:21.237,channel:1,duration:2.759900000095371,end:23.99690000009537},{name:"A",number:57,velocity:.5196850393700787,time:24.006,channel:1,duration:.13700000000000045,end:24.143},{name:"D",number:62,velocity:.49606299212598426,time:24.139,channel:1,duration:.14700000000000202,end:24.286},{name:"A",number:57,velocity:.7007874015748031,time:24.241,channel:1,duration:2.2029999999999994,end:26.444},{name:"C#",number:61,velocity:.4015748031496063,time:26.479,channel:1,duration:.277000000000001,end:26.756},{name:"C",number:60,velocity:.8031496062992126,time:26.706,channel:1,duration:3.649000000000001,end:30.355},{name:"G",number:55,velocity:.7165354330708661,time:30.122900000095367,channel:1,duration:.5470999999046349,end:30.67},{name:"A",number:69,velocity:.30708661417322836,time:30.395,channel:1,duration:3.032,end:33.427},{name:"F",number:65,velocity:.6377952755905512,time:33.351,channel:1,duration:.37599999999999767,end:33.727},{name:"E",number:64,velocity:.8031496062992126,time:33.663,channel:1,duration:3.436,end:37.099},{name:"B",number:71,velocity:.3464566929133858,time:37.075,channel:1,duration:.26200000000000045,end:37.337},{name:"A",number:69,velocity:.4094488188976378,time:37.253,channel:1,duration:.07590000009536624,end:37.328900000095366},{name:"G",number:67,velocity:.8740157480314961,time:37.305,channel:1,duration:.6509000000953691,end:37.95590000009537},{name:"D",number:62,velocity:.49606299212598426,time:37.883,channel:1,duration:4.606999999999999,end:42.49},{name:"F#",number:66,velocity:.9763779527559056,time:42.417,channel:1,duration:1.0379999999999967,end:43.455},{name:"F",number:65,velocity:.47244094488188976,time:43.424,channel:1,duration:2.2310000000000016,end:45.655},{name:"D",number:62,velocity:.6062992125984252,time:45.6,channel:1,duration:3.9039999999999964,end:49.504},{name:"A",number:57,velocity:.7559055118110236,time:49.5,channel:1,duration:.11399999999999721,end:49.614},{name:"D",number:62,velocity:.5354330708661418,time:49.644,channel:1,duration:.142000000000003,end:49.786},{name:"A",number:57,velocity:.7637795275590551,time:49.741,channel:1,duration:4.308,end:54.049},{name:"G",number:55,velocity:.5511811023622047,time:54.021900000095364,channel:1,duration:.2460999999046365,end:54.268},{name:"A#",number:58,velocity:.7480314960629921,time:54.214,channel:1,duration:3.301000000000002,end:57.515},{name:"C",number:60,velocity:.5748031496062992,time:57.491,channel:1,duration:.347999999999999,end:57.839},{name:"D",number:62,velocity:.6141732283464567,time:57.768,channel:1,duration:2.8569999999999993,end:60.625},{name:"D",number:50,velocity:.7716535433070866,time:60.559,channel:1,duration:3.4399000000953706,end:63.99890000009537},{name:"F",number:53,velocity:.5748031496062992,time:63.945,channel:1,duration:.3309000000953617,end:64.27590000009536},{name:"A",number:57,velocity:.7795275590551181,time:64.24290000009536,channel:1,duration:3.494099999904634,end:67.737},{name:"F",number:65,velocity:.6614173228346457,time:67.747,channel:1,duration:.3719999999999999,end:68.119},{name:"D",number:62,velocity:.8582677165354331,time:68.088,channel:1,duration:2.8290000000000077,end:70.917},{name:"C",number:60,velocity:.5669291338582677,time:70.871,channel:1,duration:.36299999999999955,end:71.234},{name:"A#",number:58,velocity:.9606299212598425,time:71.195,channel:1,duration:2.3940000000000055,end:73.589},{name:"G",number:55,velocity:.5196850393700787,time:73.504,channel:1,duration:4.411999999999992,end:77.916},{name:"E",number:52,velocity:.4330708661417323,time:77.835,channel:1,duration:.3719999999999999,end:78.207},{name:"D",number:62,velocity:.4015748031496063,time:78.11590000009537,channel:1,duration:2.52209999990464,end:80.638}],Spt="improvisation-note-colors2",xpt="0.22.0",Tpt="2024-11-12T17:32:16.142Z",tT={root:bpt,scaleType:Cpt,barCount:_pt,showDuration:Ept,colorMapName:wpt,notes:Opt,_appId:Spt,_softwareVersion:xpt,_date:Tpt};function eT(e,t,i){const n=e.slice();return n[36]=t[i],n[38]=i,n}function iT(e,t,i){const n=e.slice();return n[39]=t[i],n}function nT(e){let t,i=e[39].label+"",n;return{c(){t=q("option"),n=te(i),t.__value=e[39].label,qi(t,t.__value)},m(a,o){bt(a,t,o),B(t,n)},p:We,d(a){a&&vt(t)}}}function Ipt(e){let t,i=je(e[12]),n=[];for(let a=0;a<i.length;a+=1)n[a]=nT(iT(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p(a,o){if(o[0]&4096){i=je(a[12]);let l;for(l=0;l<i.length;l+=1){const c=iT(a,i,l);n[l]?n[l].p(c,o):(n[l]=nT(c),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=i.length}},d(a){a&&vt(t),Ti(n,a)}}}function rT(e){let t,i,n,a,o=e[36].name+"",l,c,d,u;function h(...p){return e[26](e[38],...p)}return{c(){var p;t=q("label"),i=q("input"),a=K(),l=te(o),c=K(),mt(i,"type","color"),i.value=n=(p=e[10].colors)==null?void 0:p[e[38]+1],mt(i,"class","svelte-17kk98k"),mt(t,"title","change color"),mt(t,"class","svelte-17kk98k")},m(p,f){bt(p,t,f),B(t,i),B(t,a),B(t,l),B(t,c),d||(u=ze(i,"change",h),d=!0)},p(p,f){var M;e=p,f[0]&1024&&n!==(n=(M=e[10].colors)==null?void 0:M[e[38]+1])&&(i.value=n),f[0]&2048&&o!==(o=e[36].name+"")&&Qe(l,o)},d(p){p&&vt(t),d=!1,u()}}}function Bpt(e){let t,i,n,a,o,l,c;return{c(){t=q("p"),t.textContent=`1) Improvise something in the scale of C major pentatonic. Check if you
        only used this scale's notes using the colors.`,i=K(),n=q("p"),n.textContent=`2) Improvise something in A minor pentatonic. Check if you only used
        this scale's notes using the colors and how often and when you used the
        tonic A.`,a=K(),o=q("p"),o.textContent=`3) Improvise in A minor blues, see how often and when you used the blue
        note (D#).`,l=K(),c=q("p"),c.textContent="4) Improvise in a scale you do not know yet."},m(d,u){bt(d,t,u),bt(d,i,u),bt(d,n,u),bt(d,a,u),bt(d,o,u),bt(d,l,u),bt(d,c,u)},p:We,d(d){d&&(vt(t),vt(i),vt(n),vt(a),vt(o),vt(l),vt(c))}}}function Rpt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt;function kt(_t){e[20](_t)}function Jt(_t){e[21](_t)}let Gt={allowedScales:["major","minor"]};e[1]!==void 0&&(Gt.scaleRoot=e[1]),e[2]!==void 0&&(Gt.scaleType=e[2]),u=new Uh({props:Gt}),he.push(()=>Ee(u,"scaleRoot",kt)),he.push(()=>Ee(u,"scaleType",Jt));function ce(_t){e[22](_t)}let ae={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio",label:"max. note distance",min:.05,max:2,step:.05};e[6]!==void 0&&(ae.value=e[6]),M=new M0({props:ae}),he.push(()=>Ee(M,"value",ce));function qt(_t){e[23](_t)}let ue={title:"The number of played chords that is displayed",label:"chord count",min:10,max:100,step:10};e[5]!==void 0&&(ue.value=e[5]),b=new M0({props:ue}),he.push(()=>Ee(b,"value",qt));function $e(_t){e[24](_t)}let ve={label:"show duration",title:"Show duration in the bar's height?"};e[7]!==void 0&&(ve.checked=e[7]),w=new zn({props:ve}),he.push(()=>Ee(w,"checked",$e));function He(_t){e[25](_t)}let qe={label:"colors",title:"Choose a color map",$$slots:{default:[Ipt]},$$scope:{ctx:e}};e[3]!==void 0&&(qe.value=e[3]),S=new t9({props:qe}),he.push(()=>Ee(S,"value",He));let ri=je(e[11]),oi=[];for(let _t=0;_t<ri.length;_t+=1)oi[_t]=rT(eT(e,ri,_t));function oe(_t){e[29](_t)}let fe={saveToStorage:e[19],callback:e[28]};e[8]!==void 0&&(fe.notes=e[8]),U=new c9({props:fe}),he.push(()=>Ee(U,"notes",oe)),J=new _9({props:{appId:e[0].id,loadData:e[18]}});function pe(_t){e[31](_t)}let Ot={callback:e[16]};return e[8]!==void 0&&(Ot.notes=e[8]),j=new Oa({props:Ot}),he.push(()=>Ee(j,"notes",pe)),dt=new f9({props:{loadData:e[18],getExportData:e[17],appId:e[0].id}}),st=new e9({props:{$$slots:{default:[Bpt]},$$scope:{ctx:e}}}),At=new j0({props:{noteOn:e[14],noteOff:e[15],pcKeyAllowed:!0}}),gt=new i9({props:{appId:e[0].id}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing improvising in a scale by coloring the different
      scale degrees to show you which you play when. Notes that you play are
      shown as bars. Optionally, the bars' height encodes the notes' durations.
      You can change the colors if you like.`,c=K(),d=q("div"),Pt(u.$$.fragment),f=K(),Pt(M.$$.fragment),y=K(),Pt(b.$$.fragment),C=K(),Pt(w.$$.fragment),E=K(),Pt(S.$$.fragment),T=K(),k=q("div");for(let _t=0;_t<oi.length;_t+=1)oi[_t].c();D=K(),N=q("div"),P=K(),F=q("div"),Pt(U.$$.fragment),z=K(),G=q("button"),G.textContent="example",H=K(),Pt(J.$$.fragment),Z=K(),Pt(j.$$.fragment),et=K(),Pt(dt.$$.fragment),ht=K(),Pt(st.$$.fragment),St=K(),Pt(At.$$.fragment),xt=K(),Pt(gt.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(k,"class","legend svelte-17kk98k"),mt(N,"class","visualization"),mt(F,"class","control"),mt(t,"class","app")},m(_t,Ht){bt(_t,t,Ht),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,f),Rt(M,d,null),B(d,y),Rt(b,d,null),B(d,C),Rt(w,d,null),B(d,E),Rt(S,d,null),B(t,T),B(t,k);for(let Tt=0;Tt<oi.length;Tt+=1)oi[Tt]&&oi[Tt].m(k,null);B(t,D),B(t,N),e[27](N),B(t,P),B(t,F),Rt(U,F,null),B(F,z),B(F,G),B(F,H),Rt(J,F,null),B(F,Z),Rt(j,F,null),B(F,et),Rt(dt,F,null),B(t,ht),Rt(st,t,null),B(t,St),Rt(At,t,null),B(t,xt),Rt(gt,t,null),yt=!0,lt||(zt=ze(G,"click",e[30]),lt=!0)},p(_t,Ht){(!yt||Ht[0]&1)&&n!==(n=_t[0].title+"")&&Qe(a,n);const Tt={};!h&&Ht[0]&2&&(h=!0,Tt.scaleRoot=_t[1],_e(()=>h=!1)),!p&&Ht[0]&4&&(p=!0,Tt.scaleType=_t[2],_e(()=>p=!1)),u.$set(Tt);const Et={};!g&&Ht[0]&64&&(g=!0,Et.value=_t[6],_e(()=>g=!1)),M.$set(Et);const Lt={};!v&&Ht[0]&32&&(v=!0,Lt.value=_t[5],_e(()=>v=!1)),b.$set(Lt);const ut={};!_&&Ht[0]&128&&(_=!0,ut.checked=_t[7],_e(()=>_=!1)),w.$set(ut);const X={};if(Ht[1]&2048&&(X.$$scope={dirty:Ht,ctx:_t}),!I&&Ht[0]&8&&(I=!0,X.value=_t[3],_e(()=>I=!1)),S.$set(X),Ht[0]&3072){ri=je(_t[11]);let Be;for(Be=0;Be<ri.length;Be+=1){const we=eT(_t,ri,Be);oi[Be]?oi[Be].p(we,Ht):(oi[Be]=rT(we),oi[Be].c(),oi[Be].m(k,null))}for(;Be<oi.length;Be+=1)oi[Be].d(1);oi.length=ri.length}const tt={};Ht[0]&512&&(tt.callback=_t[28]),!V&&Ht[0]&256&&(V=!0,tt.notes=_t[8],_e(()=>V=!1)),U.$set(tt);const Bt={};Ht[0]&1&&(Bt.appId=_t[0].id),J.$set(Bt);const Qt={};!W&&Ht[0]&256&&(W=!0,Qt.notes=_t[8],_e(()=>W=!1)),j.$set(Qt);const jt={};Ht[0]&1&&(jt.appId=_t[0].id),dt.$set(jt);const ne={};Ht[1]&2048&&(ne.$$scope={dirty:Ht,ctx:_t}),st.$set(ne);const se={};Ht[0]&1&&(se.appId=_t[0].id),gt.$set(se)},i(_t){yt||(wt(u.$$.fragment,_t),wt(M.$$.fragment,_t),wt(b.$$.fragment,_t),wt(w.$$.fragment,_t),wt(S.$$.fragment,_t),wt(U.$$.fragment,_t),wt(J.$$.fragment,_t),wt(j.$$.fragment,_t),wt(dt.$$.fragment,_t),wt(st.$$.fragment,_t),wt(At.$$.fragment,_t),wt(gt.$$.fragment,_t),yt=!0)},o(_t){It(u.$$.fragment,_t),It(M.$$.fragment,_t),It(b.$$.fragment,_t),It(w.$$.fragment,_t),It(S.$$.fragment,_t),It(U.$$.fragment,_t),It(J.$$.fragment,_t),It(j.$$.fragment,_t),It(dt.$$.fragment,_t),It(st.$$.fragment,_t),It(At.$$.fragment,_t),It(gt.$$.fragment,_t),yt=!1},d(_t){_t&&vt(t),Dt(u),Dt(M),Dt(b),Dt(w),Dt(S),Ti(oi,_t),e[27](null),Dt(U),Dt(J),Dt(j),Dt(dt),Dt(st),Dt(At),Dt(gt),lt=!1,zt()}}}function Dpt(e){let t,i;return t=new m9({props:{loadData:e[18],disabled:e[13],$$slots:{default:[Rpt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,a){const o={};a[0]&4095|a[1]&2048&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}function Ppt(e,t,i){let n,a,o,l,{appInfo:c}=t,d;const u=Dr;let h="C",p="major",f=50,M=.1,g=!0,y,b=[],v=new Map,C="all";const w=[{label:"all",colors:["#eeeeee",...Zr]},{label:"1 3 7",colors:["#eeeeee",Zr[0],"#dddddd",Zr[1],"#dddddd","#dddddd","#dddddd",Zr[2]]},{label:"1 4 5",colors:["#eeeeee",Zr[0],"#dddddd","#dddddd",Zr[1],Zr[2],"#dddddd","#dddddd"]},{label:"1 4 7",colors:["#eeeeee",Zr[0],"#dddddd","#dddddd",Zr[1],"#dddddd","#dddddd",Zr[2]]},{label:"1 4 5 7",colors:["#eeeeee",Zr[0],"#dddddd","#dddddd",Zr[1],Zr[2],"#dddddd",Zr[3]]}];let _;const E=et=>{b.length===0&&(y=et.timestamp);const dt=(et.timestamp-y)/1e3,ht={name:et.note.name+(et.note.accidental??""),number:et.note.number,velocity:et.velocity,time:dt,channel:et.message.channel,duration:0};if(v.has(et.note.number)){const st=v.get(et.note.number);st.end===void 0&&(st.end=dt)}i(8,b=[...b,ht]),v.set(et.note.number,ht)},S=et=>{if(v.has(et.note.number)){const dt=v.get(et.note.number),ht=(et.timestamp-y)/1e3;dt.end=ht,dt.duration=dt.end-dt.time,i(8,b=[...b])}},I=()=>{const et=b.slice(-f),dt=1;i(4,d.textContent="",d);const ht=On({width:n,height:250,marginLeft:45,marginRight:10,marginBottom:50,padding:0,x:{axis:!1},y:{axis:g,domain:[0,dt],label:"duration in seconds",labelAnchor:"center"},color:{domain:fi(-1,7),range:l.colors,legend:!0,tickFormat:gt=>gt===-1?"non-scale":a[gt],marginLeft:n/2-150},marks:[T0([0],{stroke:"#ddd"}),C1(et,{x:(gt,yt)=>yt,y:gt=>g&&gt.duration>0?gt.duration:dt,fill:gt=>a.indexOf(gt.name),stroke:gt=>a.indexOf(gt.name),fillOpacity:gt=>g&&gt.duration===0?0:1,inset:1.5,rx:4}),J0(et,{x:(gt,yt)=>yt,y:0,text:gt=>gt.name.split("").join(`
`),fontSize:12,dy:16})]});d.appendChild(ht);const st=Fh(b,M).slice(-f).map(gt=>gt.sort((yt,lt)=>yt.number-lt.number)),St=st.map(gt=>y3(gt.map(yt=>yt.name))),At=st.flatMap((gt,yt)=>gt.map((lt,zt)=>({...lt,chordIndex:yt,noteIndex:zt}))),xt=On({width:n,height:300,marginLeft:30,marginRight:50,marginBottom:120,padding:0,x:{axis:!1},y:{ticks:[],label:"chord notes sorted by pitch",labelAnchor:"center"},color:{domain:fi(-1,7),range:l.colors},marks:[T0([0],{stroke:"#ddd"}),Ls(At,{y1:gt=>gt.noteIndex,y2:gt=>gt.noteIndex+1,x:"chordIndex",fill:gt=>a.indexOf(gt.name),stroke:gt=>a.indexOf(gt.name),offset:"normalize",rx:4,inset:1.5}),J0(At,{x:"chordIndex",y:"noteIndex",text:gt=>gt.name.split("").join(`
`),fontSize:10,fill:"black",stroke:"#eee",strokeWidth:2,dy:-12}),J0(St,{x:(gt,yt)=>yt,y:0,text:gt=>gt.join("   "),fontSize:10,dy:8,rotate:45,textAnchor:"start"})]});d.appendChild(xt)};$9(I);const T=()=>({root:h,scaleType:p,barCount:f,showDuration:g,colorMapName:C,notes:b}),k=et=>{D(),i(1,h=et.root),i(2,p=et.scaleType),i(5,f=et.barCount??50),i(7,g=et.showDuration??!1),i(3,C=et.colorMapName??"all"),i(8,b=et.notes)},D=()=>{b.length>0&&JSON.stringify(b)!==JSON.stringify(tT.notes)&&C9(c.id,T())};c0(D);function N(et){h=et,i(1,h)}function P(et){p=et,i(2,p)}function F(et){M=et,i(6,M)}function U(et){f=et,i(5,f)}function V(et){g=et,i(7,g)}function z(et){C=et,i(3,C)}const G=(et,dt)=>{i(10,l.colors[et+1]=dt.target.value,l),i(10,l={...l,colors:[...l.colors]})};function H(et){he[et?"unshift":"push"](()=>{d=et,i(4,d)})}const J=()=>{i(9,v=new Map)};function Z(et){b=et,i(8,b)}const j=()=>k(tT);function W(et){b=et,i(8,b)}return e.$$set=et=>{"appInfo"in et&&i(0,c=et.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&6&&(a=oa(`${h} ${p}`).notes.map(et=>u[Ns.get(et)])),e.$$.dirty[0]&4&&i(11,o=[...(p==="major"?Rmt:Dmt).values()]),e.$$.dirty[0]&8&&i(10,l=w.filter(et=>et.label===C)[0])},n=window.innerWidth<1200?900:Math.floor(window.innerWidth-200),[c,h,p,C,d,f,M,g,b,v,l,o,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W]}class kpt extends Zi{constructor(t){super(),Yi(this,t,Ppt,Dpt,Xi,{appInfo:0},null,[-1,-1])}}const Lpt="C",Npt="major pentatonic",Fpt=!0,Upt=!0,Jpt=[{number:60,velocity:28,time:368361.90000009537,channel:1},{number:67,velocity:22,time:369318.90000009537,channel:1},{number:69,velocity:23,time:370665.90000009537,channel:1},{number:64,velocity:32,time:372451.90000009537,channel:1},{number:62,velocity:40,time:372714.90000009537,channel:1},{number:60,velocity:53,time:374098,channel:1},{number:57,velocity:36,time:375437.90000009537,channel:1},{number:55,velocity:32,time:375751.90000009537,channel:1},{number:48,velocity:33,time:376917.90000009537,channel:1},{number:60,velocity:30,time:377811.90000009537,channel:1},{number:65,velocity:45,time:380359,channel:1},{number:64,velocity:85,time:380491.90000009537,channel:1},{number:65,velocity:55,time:380696,channel:1},{number:64,velocity:62,time:380868.90000009537,channel:1},{number:65,velocity:75,time:381073.90000009537,channel:1},{number:66,velocity:22,time:382357.90000009537,channel:1},{number:62,velocity:35,time:385011.90000009537,channel:1},{number:60,velocity:43,time:385457.90000009537,channel:1},{number:52,velocity:36,time:387174.90000009537,channel:1},{number:55,velocity:68,time:388009.90000009537,channel:1},{number:67,velocity:37,time:389847.90000009537,channel:1},{number:52,velocity:38,time:392573.90000009537,channel:1},{number:48,velocity:55,time:393137.90000009537,channel:1},{number:49,velocity:62,time:395960.90000009537,channel:1},{number:50,velocity:88,time:396157.90000009537,channel:1},{number:59,velocity:61,time:399249.90000009537,channel:1},{number:60,velocity:100,time:399445.90000009537,channel:1},{number:72,velocity:29,time:404650,channel:1},{number:74,velocity:67,time:407511.90000009537,channel:1},{number:81,velocity:48,time:408827.90000009537,channel:1},{number:79,velocity:70,time:410352.90000009537,channel:1},{number:76,velocity:89,time:411115,channel:1},{number:72,velocity:65,time:411454.90000009537,channel:1},{number:67,velocity:62,time:412677.90000009537,channel:1},{number:71,velocity:65,time:416872.90000009537,channel:1},{number:76,velocity:50,time:418128,channel:1},{number:78,velocity:44,time:419986,channel:1},{number:75,velocity:66,time:421073.90000009537,channel:1},{number:73,velocity:94,time:421417,channel:1},{number:72,velocity:55,time:421892.90000009537,channel:1}],$pt="improvisation-scale-degrees",Gpt="2024-09-04T12:13:35.595Z",aT={root:Lpt,scale:Npt,useColors:Fpt,showOutsideScale:Upt,notes:Jpt,_appId:$pt,_date:Gpt};function Hpt(e){let t,i,n;return{c(){t=q("p"),t.textContent="1) Improvise in A minor pentatonic.",i=K(),n=q("p"),n.textContent="2) Improvise in a scale you did not know before."},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function Vpt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et;function dt(zt){e[12](zt)}function ht(zt){e[13](zt)}let st={};e[2]!==void 0&&(st.scaleRoot=e[2]),e[3]!==void 0&&(st.scaleType=e[3]),u=new Uh({props:st}),he.push(()=>Ee(u,"scaleRoot",dt)),he.push(()=>Ee(u,"scaleType",ht));function St(zt){e[14](zt)}let At={label:"colors",title:"Use colors for root, in-scale, outside-scale"};e[4]!==void 0&&(At.checked=e[4]),g=new zn({props:At}),he.push(()=>Ee(g,"checked",St));function xt(zt){e[15](zt)}let gt={label:"non-scale notes",title:"Show notes outside the scale"};e[5]!==void 0&&(gt.checked=e[5]),v=new zn({props:gt}),he.push(()=>Ee(v,"checked",xt));function yt(zt){e[17](zt)}let lt={saveToStorage:e[11]};return e[6]!==void 0&&(lt.notes=e[6]),I=new c9({props:lt}),he.push(()=>Ee(I,"notes",yt)),P=new _9({props:{appId:e[0].id,loadData:e[10]}}),U=new f9({props:{loadData:e[10],getExportData:e[9],appId:e[0].id}}),z=new e9({props:{$$slots:{default:[Hpt]},$$scope:{ctx:e}}}),H=new j0({props:{noteOn:e[7],pcKeyAllowed:!0}}),Z=new i9({props:{appId:e[0].id}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing how to use the different degrees of a scale. The
      bar chart below shows how often you played each scale degree.`,c=K(),d=q("div"),Pt(u.$$.fragment),f=K(),M=q("div"),Pt(g.$$.fragment),b=K(),Pt(v.$$.fragment),w=K(),_=q("div"),E=K(),S=q("div"),Pt(I.$$.fragment),k=K(),D=q("button"),D.textContent="example",N=K(),Pt(P.$$.fragment),F=K(),Pt(U.$$.fragment),V=K(),Pt(z.$$.fragment),G=K(),Pt(H.$$.fragment),J=K(),Pt(Z.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(M,"class","control"),mt(_,"class","visualization"),mt(S,"class","control"),mt(t,"class","app")},m(zt,kt){bt(zt,t,kt),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(t,f),B(t,M),Rt(g,M,null),B(M,b),Rt(v,M,null),B(t,w),B(t,_),e[16](_),B(t,E),B(t,S),Rt(I,S,null),B(S,k),B(S,D),B(S,N),Rt(P,S,null),B(S,F),Rt(U,S,null),B(t,V),Rt(z,t,null),B(t,G),Rt(H,t,null),B(t,J),Rt(Z,t,null),j=!0,W||(et=ze(D,"click",e[18]),W=!0)},p(zt,kt){(!j||kt&1)&&n!==(n=zt[0].title+"")&&Qe(a,n);const Jt={};!h&&kt&4&&(h=!0,Jt.scaleRoot=zt[2],_e(()=>h=!1)),!p&&kt&8&&(p=!0,Jt.scaleType=zt[3],_e(()=>p=!1)),u.$set(Jt);const Gt={};!y&&kt&16&&(y=!0,Gt.checked=zt[4],_e(()=>y=!1)),g.$set(Gt);const ce={};!C&&kt&32&&(C=!0,ce.checked=zt[5],_e(()=>C=!1)),v.$set(ce);const ae={};!T&&kt&64&&(T=!0,ae.notes=zt[6],_e(()=>T=!1)),I.$set(ae);const qt={};kt&1&&(qt.appId=zt[0].id),P.$set(qt);const ue={};kt&1&&(ue.appId=zt[0].id),U.$set(ue);const $e={};kt&8388608&&($e.$$scope={dirty:kt,ctx:zt}),z.$set($e);const ve={};kt&1&&(ve.appId=zt[0].id),Z.$set(ve)},i(zt){j||(wt(u.$$.fragment,zt),wt(g.$$.fragment,zt),wt(v.$$.fragment,zt),wt(I.$$.fragment,zt),wt(P.$$.fragment,zt),wt(U.$$.fragment,zt),wt(z.$$.fragment,zt),wt(H.$$.fragment,zt),wt(Z.$$.fragment,zt),j=!0)},o(zt){It(u.$$.fragment,zt),It(g.$$.fragment,zt),It(v.$$.fragment,zt),It(I.$$.fragment,zt),It(P.$$.fragment,zt),It(U.$$.fragment,zt),It(z.$$.fragment,zt),It(H.$$.fragment,zt),It(Z.$$.fragment,zt),j=!1},d(zt){zt&&vt(t),Dt(u),Dt(g),Dt(v),e[16](null),Dt(I),Dt(P),Dt(U),Dt(z),Dt(H),Dt(Z),W=!1,et()}}}function Qpt(e){let t,i;return t=new m9({props:{loadData:e[10],disabled:e[8],$$slots:{default:[Vpt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&8388735&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let zpt=300;const jpt="#1B5E20",Wpt="#689F38",Kpt="lightgray";function qpt(e,t,i){let n,{appInfo:a}=t,o,l="C",c="major pentatonic",d=!0,u=!0,h,p=[];const f=yA,M=D=>{p.length===0&&(h=D.timestamp);const N=(D.timestamp-h)/1e3,P={name:D.note.name+(D.note.accidental??""),number:D.note.number,velocity:D.rawVelocity,time:N};i(6,p=[...p,P])};let g;$9(()=>{if(p.length===0)return;const D=f.indexOf(l),N=oa(`${l} ${c}`),P=N.notes.map((H,J)=>{const Z=Ns.get(H);let j=Z-D;return j=j>=0?j:j+12,{name:H,chroma:Z,interval:N.intervals[J],degree:J,offset:j}}),F=new Set(P.map(H=>H.offset)),V=p.map(H=>H.number%12).map(H=>{const J=H-D;return J>=0?J:J+12}),z=Aa(V,H=>H).map(([H,J])=>({value:H,count:J.length})),G=On({width:n,height:zpt,marginLeft:70,marginRight:10,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',color:{legend:d,domain:["root","scale","outside scale"],range:[jpt,Wpt,Kpt],marginLeft:100},y:{tickFormat:H=>f[(H+D)%12],domain:u?fi(0,12,1):[...F],reverse:!0,label:"notes, increasing from tonic "},marks:[Ss(z,{x:"count",y:"value",fill:H=>d?H.value===0?"root":F.has(H.value)?"scale":"outside scale":"#ddd",dx:.5,rx:4})]});i(1,o.textContent="",o),o.appendChild(G)});const b=()=>({root:l,scale:c,useColors:d,showOutsideScale:u,notes:p}),v=D=>{C(),i(2,l=D.root),i(3,c=D.scale),i(4,d=D.useColors??!0),i(5,u=D.showOutsideScale??!0),i(6,p=D.notes)},C=()=>{p.length>0&&JSON.stringify(p)!==JSON.stringify(aT.notes)&&C9(a.id,b())};c0(C);function w(D){l=D,i(2,l)}function _(D){c=D,i(3,c)}function E(D){d=D,i(4,d)}function S(D){u=D,i(5,u)}function I(D){he[D?"unshift":"push"](()=>{o=D,i(1,o)})}function T(D){p=D,i(6,p)}const k=()=>v(aT);return e.$$set=D=>{"appInfo"in D&&i(0,a=D.appInfo)},n=window.innerWidth<1200?900:Math.floor(window.innerWidth-200),[a,o,l,c,d,u,p,M,g,b,v,C,w,_,E,S,I,T,k]}class Xpt extends Zi{constructor(t){super(),Yi(this,t,qpt,Qpt,Xi,{appInfo:0})}}const Ypt="A",Zpt="minor pentatonic",tgt=!0,egt=!0,igt=120,ngt=[{number:57,velocity:120,time:0},{number:60,velocity:79,time:9.863799999952317},{number:62,velocity:102,time:10.05589999985695},{number:64,velocity:74,time:11.08189999985695},{number:60,velocity:124,time:12.088899999856949},{number:59,velocity:79,time:13.06189999985695},{number:57,velocity:105,time:13.52089999985695},{number:55,velocity:101,time:13.765899999856948},{number:53,velocity:75,time:14.003899999856948},{number:62,velocity:97,time:16.09589999985695},{number:53,velocity:107,time:16.206899999856947},{number:62,velocity:106,time:16.345799999952316},{number:53,velocity:110,time:16.427899999856947},{number:62,velocity:105,time:16.62489999985695},{number:64,velocity:74,time:17.84189999985695},{number:65,velocity:43,time:17.86289999985695},{number:65,velocity:108,time:18.102899999856948},{number:62,velocity:96,time:19.53789999985695},{number:60,velocity:90,time:19.53989999985695},{number:59,velocity:83,time:20.06089999985695},{number:62,velocity:100,time:20.22589999985695},{number:59,velocity:68,time:20.354799999952316},{number:62,velocity:98,time:20.471899999856948},{number:61,velocity:123,time:21.82789999985695},{number:69,velocity:70,time:21.99089999985695},{number:67,velocity:55,time:22.000899999856948},{number:61,velocity:127,time:23.01089999985695},{number:61,velocity:126,time:23.564899999856948},{number:65,velocity:72,time:24.07289999985695},{number:67,velocity:59,time:24.08289999985695},{number:65,velocity:101,time:24.968899999856948},{number:65,velocity:93,time:25.517899999856947},{number:64,velocity:72,time:25.69789999985695},{number:62,velocity:82,time:26.08589999985695},{number:60,velocity:109,time:27.881799999952317},{number:57,velocity:109,time:28.122899999856948},{number:50,velocity:70,time:30.046899999856947},{number:52,velocity:67,time:31.81989999985695},{number:53,velocity:87,time:32.02489999985695},{number:55,velocity:98,time:34.376899999856946},{number:55,velocity:103,time:35.25089999985695},{number:55,velocity:111,time:35.81389999985695},{number:60,velocity:112,time:36.02679999995232},{number:59,velocity:107,time:36.02889999985695},{number:62,velocity:75,time:37.59589999985695},{number:60,velocity:93,time:37.84589999985695},{number:62,velocity:96,time:38.00889999985695},{number:60,velocity:109,time:38.120899999856945},{number:62,velocity:94,time:38.283799999952315},{number:60,velocity:108,time:38.43589999985695},{number:64,velocity:70,time:39.56089999985695},{number:57,velocity:102,time:39.80889999985695},{number:65,velocity:101,time:40.09789999985695},{number:64,velocity:90,time:41.55389999985695},{number:62,velocity:109,time:42.04089999985695},{number:57,velocity:71,time:43.81389999985695},{number:55,velocity:52,time:43.96689999985695},{number:55,velocity:93,time:44.565899999856946},{number:57,velocity:88,time:45.38189999985695},{number:69,velocity:82,time:45.86179999995232},{number:57,velocity:89,time:46.02079999995232},{number:69,velocity:102,time:46.12189999985695},{number:57,velocity:97,time:46.22489999985695},{number:65,velocity:117,time:46.72389999985695},{number:59,velocity:108,time:47.501899999856946},{number:64,velocity:70,time:47.884799999952314},{number:57,velocity:98,time:48.072799999952316},{number:69,velocity:107,time:48.55189999985695},{number:57,velocity:88,time:48.83189999985695},{number:69,velocity:88,time:49.03289999985695},{number:64,velocity:60,time:49.54689999985695},{number:62,velocity:92,time:50.04689999985695},{number:59,velocity:55,time:50.52089999985695},{number:62,velocity:68,time:50.78789999985695},{number:59,velocity:62,time:50.975799999952315},{number:62,velocity:97,time:51.30189999985695},{number:57,velocity:85,time:51.57589999985695},{number:64,velocity:80,time:51.84589999985695},{number:55,velocity:87,time:52.01189999985695},{number:64,velocity:98,time:52.64089999985695},{number:57,velocity:96,time:53.06489999985695},{number:65,velocity:109,time:53.32779999995232},{number:59,velocity:74,time:53.54089999985695},{number:62,velocity:65,time:53.78889999985695},{number:53,velocity:98,time:54.06489999985695}],rgt="improvisation-scale-degrees-bar",agt="2024-09-04T12:28:19.393Z",oT={root:Ypt,scale:Zpt,useColors:tgt,showOutsideScale:egt,tempo:igt,notes:ngt,_appId:rgt,_date:agt};function ogt(e){let t,i,n,a,o;return{c(){t=q("p"),t.textContent="1) Improvise in A minor pentatonic.",i=K(),n=q("p"),n.textContent="2) Improvise in a scale you did not know before.",a=K(),o=q("p"),o.textContent="3) Try to change the key, for example in every fourth bar."},m(l,c){bt(l,t,c),bt(l,i,c),bt(l,n,c),bt(l,a,c),bt(l,o,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n),vt(a),vt(o))}}}function sgt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At;function xt(ue){e[13](ue)}function gt(ue){e[14](ue)}let yt={};e[2]!==void 0&&(yt.scaleRoot=e[2]),e[3]!==void 0&&(yt.scaleType=e[3]),u=new Uh({props:yt}),he.push(()=>Ee(u,"scaleRoot",xt)),he.push(()=>Ee(u,"scaleType",gt));function lt(ue){e[15](ue)}let zt={};e[6]!==void 0&&(zt.value=e[6]),g=new Vr({props:zt}),he.push(()=>Ee(g,"value",lt));function kt(ue){e[16](ue)}let Jt={label:"colors",title:"Use colors for root, in-scale, outside-scale"};e[4]!==void 0&&(Jt.checked=e[4]),v=new zn({props:Jt}),he.push(()=>Ee(v,"checked",kt));function Gt(ue){e[17](ue)}let ce={label:"non-scale notes",title:"Show notes outside the scale"};e[5]!==void 0&&(ce.checked=e[5]),_=new zn({props:ce}),he.push(()=>Ee(_,"checked",Gt)),D=new so({props:{tempo:e[6],accent:4}});function ae(ue){e[19](ue)}let qt={saveToStorage:e[12]};return e[7]!==void 0&&(qt.notes=e[7]),P=new c9({props:qt}),he.push(()=>Ee(P,"notes",ae)),G=new _9({props:{appId:e[0].id,loadData:e[11]}}),J=new f9({props:{loadData:e[11],getExportData:e[10],appId:e[0].id}}),j=new e9({props:{$$slots:{default:[ogt]},$$scope:{ctx:e}}}),et=new j0({props:{noteOn:e[9],pcKeyAllowed:!0}}),ht=new i9({props:{appId:e[0].id}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing how to use the different degrees of a scale. The
      bar chart below shows how often you played each scale degree.`,c=K(),d=q("div"),Pt(u.$$.fragment),f=K(),M=q("div"),Pt(g.$$.fragment),b=K(),Pt(v.$$.fragment),w=K(),Pt(_.$$.fragment),S=K(),I=q("div"),T=K(),k=q("div"),Pt(D.$$.fragment),N=K(),Pt(P.$$.fragment),U=K(),V=q("button"),V.textContent="example",z=K(),Pt(G.$$.fragment),H=K(),Pt(J.$$.fragment),Z=K(),Pt(j.$$.fragment),W=K(),Pt(et.$$.fragment),dt=K(),Pt(ht.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(M,"class","control"),mt(I,"class","visualization"),mt(k,"class","control"),mt(t,"class","app")},m(ue,$e){bt(ue,t,$e),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(t,f),B(t,M),Rt(g,M,null),B(M,b),Rt(v,M,null),B(M,w),Rt(_,M,null),B(t,S),B(t,I),e[18](I),B(t,T),B(t,k),Rt(D,k,null),B(k,N),Rt(P,k,null),B(k,U),B(k,V),B(k,z),Rt(G,k,null),B(k,H),Rt(J,k,null),B(t,Z),Rt(j,t,null),B(t,W),Rt(et,t,null),B(t,dt),Rt(ht,t,null),st=!0,St||(At=ze(V,"click",e[20]),St=!0)},p(ue,$e){(!st||$e&1)&&n!==(n=ue[0].title+"")&&Qe(a,n);const ve={};!h&&$e&4&&(h=!0,ve.scaleRoot=ue[2],_e(()=>h=!1)),!p&&$e&8&&(p=!0,ve.scaleType=ue[3],_e(()=>p=!1)),u.$set(ve);const He={};!y&&$e&64&&(y=!0,He.value=ue[6],_e(()=>y=!1)),g.$set(He);const qe={};!C&&$e&16&&(C=!0,qe.checked=ue[4],_e(()=>C=!1)),v.$set(qe);const ri={};!E&&$e&32&&(E=!0,ri.checked=ue[5],_e(()=>E=!1)),_.$set(ri);const oi={};$e&64&&(oi.tempo=ue[6]),D.$set(oi);const oe={};!F&&$e&128&&(F=!0,oe.notes=ue[7],_e(()=>F=!1)),P.$set(oe);const fe={};$e&1&&(fe.appId=ue[0].id),G.$set(fe);const pe={};$e&1&&(pe.appId=ue[0].id),J.$set(pe);const Ot={};$e&33554432&&(Ot.$$scope={dirty:$e,ctx:ue}),j.$set(Ot);const _t={};$e&1&&(_t.appId=ue[0].id),ht.$set(_t)},i(ue){st||(wt(u.$$.fragment,ue),wt(g.$$.fragment,ue),wt(v.$$.fragment,ue),wt(_.$$.fragment,ue),wt(D.$$.fragment,ue),wt(P.$$.fragment,ue),wt(G.$$.fragment,ue),wt(J.$$.fragment,ue),wt(j.$$.fragment,ue),wt(et.$$.fragment,ue),wt(ht.$$.fragment,ue),st=!0)},o(ue){It(u.$$.fragment,ue),It(g.$$.fragment,ue),It(v.$$.fragment,ue),It(_.$$.fragment,ue),It(D.$$.fragment,ue),It(P.$$.fragment,ue),It(G.$$.fragment,ue),It(J.$$.fragment,ue),It(j.$$.fragment,ue),It(et.$$.fragment,ue),It(ht.$$.fragment,ue),st=!1},d(ue){ue&&vt(t),Dt(u),Dt(g),Dt(v),Dt(_),e[18](null),Dt(D),Dt(P),Dt(G),Dt(J),Dt(j),Dt(et),Dt(ht),St=!1,At()}}}function lgt(e){let t,i;return t=new m9({props:{loadData:e[11],disabled:e[8],$$slots:{default:[sgt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&33554687&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let cgt=350;const ugt="#1B5E20",dgt="#689F38",hgt="lightgray";function fgt(e,t,i){let n,{appInfo:a}=t,o,l="C",c="major pentatonic",d=!0,u=!0,h=120,p,f=[];const M=Dr;let g;const y=P=>{f.length===0&&(p=P.timestamp);const F=(P.timestamp-p)/1e3,U={name:P.note.name+(P.note.accidental??""),number:P.note.number,velocity:P.rawVelocity,time:F};i(7,f=[...f,U])};$9(()=>{if(f.length===0)return;const P=M.indexOf(l),F=oa(`${l} ${c}`),U=F.notes.map((W,et)=>{const dt=Ns.get(W);let ht=dt-P;return ht=ht>=0?ht:ht+12,{name:W,chroma:dt,interval:F.intervals[et],degree:et,offset:ht}}),V=new Set(U.map(W=>W.offset)),z=Q0(h)*4,G=Aa(f,W=>Math.floor(W.time/z));let H=[];for(const[W,et]of G){const dt=et.map(st=>{const At=st.number%12-P;return At>=0?At:At+12}),ht=Aa(dt,st=>st).map(([st,St])=>({value:st,count:St.length,barId:W}));H=H.concat(ht)}const Z=Math.floor(f.at(-1).time/z)-7;H=H.filter(W=>W.barId>=Z);const j=On({width:n,height:cgt,marginLeft:50,marginRight:50,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',color:{legend:d,domain:["root","scale","outside scale"],range:[ugt,dgt,hgt],marginLeft:100},y:{domain:u?fi(0,12,1):[...V],reverse:!0,label:"notes, increasing from tonic "},fx:{label:null,axis:!1},marks:[Ro({tickFormat:W=>M[(W+P)%12],anchor:"left"}),Ro({anchor:"right",tickFormat:W=>M[(W+P)%12]}),T0(Ry.map(W=>(W-P+12)%12),{stroke:"#eee",strokeWidth:20}),q9([0],{strokeWidth:2,stroke:"darkgray"}),Ss(H,{x:"count",y:"value",fx:"barId",fill:W=>d?W.value===0?"root":V.has(W.value)?"scale":"outside scale":"#ddd",dx:.5,rx:4})]});i(1,o.textContent="",o),o.appendChild(j)});const v=()=>({root:l,scale:c,useColors:d,showOutsideScale:u,tempo:h,notes:f}),C=P=>{w(),i(2,l=P.root),i(3,c=P.scale),i(4,d=P.useColors??!0),i(5,u=P.showOutsideScale??!0),i(6,h=P.tempo??120),i(7,f=P.notes)},w=()=>{f.length>0&&JSON.stringify(f)!==JSON.stringify(oT.notes)&&C9(a.id,v())};c0(w);function _(P){l=P,i(2,l)}function E(P){c=P,i(3,c)}function S(P){h=P,i(6,h)}function I(P){d=P,i(4,d)}function T(P){u=P,i(5,u)}function k(P){he[P?"unshift":"push"](()=>{o=P,i(1,o)})}function D(P){f=P,i(7,f)}const N=()=>C(oT);return e.$$set=P=>{"appInfo"in P&&i(0,a=P.appInfo)},n=window.innerWidth<1200?900:Math.floor(window.innerWidth-200),[a,o,l,c,d,u,h,f,g,y,v,C,w,_,E,S,I,T,k,D,N]}class mgt extends Zi{constructor(t){super(),Yi(this,t,fgt,lgt,Xi,{appInfo:0})}}const pgt="D",ggt="minor",Mgt="pentatonic",ygt=50,Agt=!0,vgt=[{name:"D",number:62,velocity:.5354330708661418,time:0,channel:1,duration:1.629,end:1.629},{name:"F",number:65,velocity:.4881889763779528,time:1.55,channel:1,duration:2.9720000000000004,end:4.522},{name:"E",number:64,velocity:.4251968503937008,time:4.48,channel:1,duration:.4289999999999994,end:4.909},{name:"C",number:60,velocity:.5354330708661418,time:4.755,channel:1,duration:2.3950000000000005,end:7.15},{name:"A",number:69,velocity:.5984251968503937,time:7.105,channel:1,duration:3.530999999999999,end:10.636},{name:"G",number:67,velocity:.4881889763779528,time:10.668,channel:1,duration:.3490000000000002,end:11.017},{name:"A",number:69,velocity:.5433070866141733,time:10.95,channel:1,duration:2.373900000095368,end:13.323900000095367},{name:"G#",number:68,velocity:.6299212598425197,time:13.292,channel:1,duration:.33800000000000097,end:13.63},{name:"F",number:65,velocity:.7322834645669292,time:13.572,channel:1,duration:2.817,end:16.389},{name:"E",number:64,velocity:.31496062992125984,time:16.355,channel:1,duration:.5560000000000009,end:16.911},{name:"D",number:62,velocity:.6850393700787402,time:16.859,channel:1,duration:3.4619999999999997,end:20.321},{name:"D",number:62,velocity:.3779527559055118,time:21.237,channel:1,duration:2.759900000095371,end:23.99690000009537},{name:"A",number:57,velocity:.5196850393700787,time:24.006,channel:1,duration:.13700000000000045,end:24.143},{name:"D",number:62,velocity:.49606299212598426,time:24.139,channel:1,duration:.14700000000000202,end:24.286},{name:"A",number:57,velocity:.7007874015748031,time:24.241,channel:1,duration:2.2029999999999994,end:26.444},{name:"C#",number:61,velocity:.4015748031496063,time:26.479,channel:1,duration:.277000000000001,end:26.756},{name:"C",number:60,velocity:.8031496062992126,time:26.706,channel:1,duration:3.649000000000001,end:30.355},{name:"G",number:55,velocity:.7165354330708661,time:30.122900000095367,channel:1,duration:.5470999999046349,end:30.67},{name:"A",number:69,velocity:.30708661417322836,time:30.395,channel:1,duration:3.032,end:33.427},{name:"F",number:65,velocity:.6377952755905512,time:33.351,channel:1,duration:.37599999999999767,end:33.727},{name:"E",number:64,velocity:.8031496062992126,time:33.663,channel:1,duration:3.436,end:37.099},{name:"B",number:71,velocity:.3464566929133858,time:37.075,channel:1,duration:.26200000000000045,end:37.337},{name:"A",number:69,velocity:.4094488188976378,time:37.253,channel:1,duration:.07590000009536624,end:37.328900000095366},{name:"G",number:67,velocity:.8740157480314961,time:37.305,channel:1,duration:.6509000000953691,end:37.95590000009537},{name:"D",number:62,velocity:.49606299212598426,time:37.883,channel:1,duration:4.606999999999999,end:42.49},{name:"F#",number:66,velocity:.9763779527559056,time:42.417,channel:1,duration:1.0379999999999967,end:43.455},{name:"F",number:65,velocity:.47244094488188976,time:43.424,channel:1,duration:2.2310000000000016,end:45.655},{name:"D",number:62,velocity:.6062992125984252,time:45.6,channel:1,duration:3.9039999999999964,end:49.504},{name:"A",number:57,velocity:.7559055118110236,time:49.5,channel:1,duration:.11399999999999721,end:49.614},{name:"D",number:62,velocity:.5354330708661418,time:49.644,channel:1,duration:.142000000000003,end:49.786},{name:"A",number:57,velocity:.7637795275590551,time:49.741,channel:1,duration:4.308,end:54.049},{name:"G",number:55,velocity:.5511811023622047,time:54.021900000095364,channel:1,duration:.2460999999046365,end:54.268},{name:"A#",number:58,velocity:.7480314960629921,time:54.214,channel:1,duration:3.301000000000002,end:57.515},{name:"C",number:60,velocity:.5748031496062992,time:57.491,channel:1,duration:.347999999999999,end:57.839},{name:"D",number:62,velocity:.6141732283464567,time:57.768,channel:1,duration:2.8569999999999993,end:60.625},{name:"D",number:50,velocity:.7716535433070866,time:60.559,channel:1,duration:3.4399000000953706,end:63.99890000009537},{name:"F",number:53,velocity:.5748031496062992,time:63.945,channel:1,duration:.3309000000953617,end:64.27590000009536},{name:"A",number:57,velocity:.7795275590551181,time:64.24290000009536,channel:1,duration:3.494099999904634,end:67.737},{name:"F",number:65,velocity:.6614173228346457,time:67.747,channel:1,duration:.3719999999999999,end:68.119},{name:"D",number:62,velocity:.8582677165354331,time:68.088,channel:1,duration:2.8290000000000077,end:70.917},{name:"C",number:60,velocity:.5669291338582677,time:70.871,channel:1,duration:.36299999999999955,end:71.234},{name:"A#",number:58,velocity:.9606299212598425,time:71.195,channel:1,duration:2.3940000000000055,end:73.589},{name:"G",number:55,velocity:.5196850393700787,time:73.504,channel:1,duration:4.411999999999992,end:77.916},{name:"E",number:52,velocity:.4330708661417323,time:77.835,channel:1,duration:.3719999999999999,end:78.207},{name:"D",number:62,velocity:.4015748031496063,time:78.11590000009537,channel:1,duration:2.52209999990464,end:80.638}],bgt="improvisation-note-colors",Cgt="0.17.0",_gt="2024-10-11T15:21:23.731Z",sT={root:pgt,scaleType1:ggt,scaleType2:Mgt,pastNoteCount:ygt,showDuration:Agt,notes:vgt,_appId:bgt,_softwareVersion:Cgt,_date:_gt};function Egt(e,t,i){const n=e.slice();return n[36]=t[i],n}function lT(e,t,i){const n=e.slice();return n[39]=t[i],n}function wgt(e,t,i){const n=e.slice();return n[39]=t[i],n}function Ogt(e){let t;return{c(){t=q("option"),t.textContent=`${e[39]}`,t.__value=e[39],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function Sgt(e){let t,i=je(["major","minor"]),n=[];for(let a=0;a<2;a+=1)n[a]=Ogt(wgt(e,i,a));return{c(){for(let a=0;a<2;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<2;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function cT(e){let t,i=e[39]+"",n,a;return{c(){t=q("option"),n=te(i),t.__value=a=e[39],qi(t,t.__value)},m(o,l){bt(o,t,l),B(t,n)},p(o,l){l[0]&4&&i!==(i=o[39]+"")&&Qe(n,i),l[0]&4&&a!==(a=o[39])&&(t.__value=a,qi(t,t.__value))},d(o){o&&vt(t)}}}function xgt(e){let t,i=je(["pentatonic","blues"].map(e[21])),n=[];for(let a=0;a<i.length;a+=1)n[a]=cT(lT(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p(a,o){if(o[0]&4){i=je(["pentatonic","blues"].map(a[21]));let l;for(l=0;l<i.length;l+=1){const c=lT(a,i,l);n[l]?n[l].p(c,o):(n[l]=cT(c),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=i.length}},d(a){a&&vt(t),Ti(n,a)}}}function Tgt(e){let t;return{c(){t=q("option"),t.textContent=`${e[36]}`,t.__value=e[36],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function Igt(e){let t,i=je(Dr),n=[];for(let a=0;a<i.length;a+=1)n[a]=Tgt(Egt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function Bgt(e){let t,i,n,a,o,l,c;return{c(){t=q("p"),t.textContent=`1) Improvise something in the scale of C major pentatonic. Check if you
        only used this scale's notes using the colors.`,i=K(),n=q("p"),n.textContent=`2) Improvise something in A minor pentatonic. Check if you only used
        this scale's notes using the colors and how often and when you used the
        tonic A.`,a=K(),o=q("p"),o.textContent=`3) Improvise in A minor blues, see how often and when you used the blue
        note (D#).`,l=K(),c=q("p"),c.textContent="4) Improvise in a scale you do not know yet."},m(d,u){bt(d,t,u),bt(d,i,u),bt(d,n,u),bt(d,a,u),bt(d,o,u),bt(d,l,u),bt(d,c,u)},p:We,d(d){d&&(vt(t),vt(i),vt(n),vt(a),vt(o),vt(l),vt(c))}}}function Rgt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St=[...Ao(e[12],[e[1]])].join(", ")+"",At,xt,gt,yt,lt,zt,kt=[...Ao(e[11],e[12])].join(", ")+"",Jt,Gt,ce,ae,qt=[...Ao(Dr,e[11])].join(", ")+"",ue,$e,ve,He,qe,ri,oi,oe,fe,pe,Ot,_t,Ht,Tt,Et,Lt,ut,X,tt,Bt,Qt,jt,ne,se,Be;function we(_i){e[20](_i)}let Ne={label:"scale type 1",style:"background-color: "+Ny+";",$$slots:{default:[Sgt]},$$scope:{ctx:e}};e[2]!==void 0&&(Ne.value=e[2]),u=new t9({props:Ne}),he.push(()=>Ee(u,"value",we));function li(_i){e[22](_i)}let zi={label:"scale type 2",style:"background-color: "+Fy+";",$$slots:{default:[xgt]},$$scope:{ctx:e}};e[3]!==void 0&&(zi.value=e[3]),f=new t9({props:zi}),he.push(()=>Ee(f,"value",li));function Ve(_i){e[23](_i)}let ji={label:"root note",style:"background-color: "+Ly+";",$$slots:{default:[Igt]},$$scope:{ctx:e}};e[1]!==void 0&&(ji.value=e[1]),y=new t9({props:ji}),he.push(()=>Ee(y,"value",Ve));function Ge(_i){e[24](_i)}let ke={callback:e[16]};e[6]!==void 0&&(ke.value=e[6]),w=new eu({props:ke}),he.push(()=>Ee(w,"value",Ge));function Di(_i){e[25](_i)}let ni={title:"maximum distance between notes such that they still count as beloning to the same chord/arpeggio",label:"max. note distance",min:.05,max:2,step:.05};e[5]!==void 0&&(ni.value=e[5]),S=new M0({props:ni}),he.push(()=>Ee(S,"value",Di));function Tn(_i){e[26](_i)}let Le={label:"show duration",title:"Show duration in the bar's height?"};e[7]!==void 0&&(Le.checked=e[7]),k=new zn({props:Le}),he.push(()=>Ee(k,"checked",Tn));function yn(_i){e[27](_i)}let I0={label:"show loudness",title:"Show loudness in the bar's opacity?"};e[8]!==void 0&&(I0.checked=e[8]),P=new zn({props:I0}),he.push(()=>Ee(P,"checked",yn));function Gn(_i){e[30](_i)}let ai={saveToStorage:e[19],callback:e[29]};e[9]!==void 0&&(ai.notes=e[9]),ri=new c9({props:ai}),he.push(()=>Ee(ri,"notes",Gn)),Ot=new _9({props:{appId:e[0].id,loadData:e[18]}});function Hi(_i){e[32](_i)}let f0={callback:e[16]};return e[9]!==void 0&&(f0.notes=e[9]),Ht=new Oa({props:f0}),he.push(()=>Ee(Ht,"notes",Hi)),Lt=new f9({props:{loadData:e[18],getExportData:e[17],appId:e[0].id}}),X=new e9({props:{$$slots:{default:[Bgt]},$$scope:{ctx:e}}}),Bt=new j0({props:{noteOn:e[14],noteOff:e[15],pcKeyAllowed:!0}}),jt=new i9({props:{appId:e[0].id}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing improvising in a scale that is a sub-set of
      another scale. Notes that you play are shown as bars. The color shows
      which scale subset a note belongs to. For example, when improvising in C
      major pentatonic, the note C would be the darkest, followed by the notes
      of the pentatonic in a brighter color, the rest of the major scale even
      brighter, and all remaining notes of the chromatic scale in gray. The
      bars' height encodes the notes' durations.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),C=q("div"),Pt(w.$$.fragment),E=K(),Pt(S.$$.fragment),T=K(),Pt(k.$$.fragment),N=K(),Pt(P.$$.fragment),U=K(),V=q("div"),z=q("div"),G=q("div"),H=q("div"),J=q("div"),Z=te("root: "),j=te(e[1]),W=K(),et=te(e[3]),dt=te(":"),ht=q("br"),st=K(),At=te(St),xt=K(),gt=te(e[2]),yt=te(":"),lt=q("br"),zt=K(),Jt=te(kt),Gt=te(`
        chromatic:`),ce=q("br"),ae=K(),ue=te(qt),$e=K(),ve=q("div"),He=K(),qe=q("div"),Pt(ri.$$.fragment),oe=K(),fe=q("button"),fe.textContent="example",pe=K(),Pt(Ot.$$.fragment),_t=K(),Pt(Ht.$$.fragment),Et=K(),Pt(Lt.$$.fragment),ut=K(),Pt(X.$$.fragment),tt=K(),Pt(Bt.$$.fragment),Qt=K(),Pt(jt.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(C,"class","control"),sn(J,"background",Ly),sn(J,"color","white"),mt(J,"class","svelte-1ph1sn"),sn(H,"background",Fy),sn(H,"color","white"),mt(H,"class","svelte-1ph1sn"),sn(G,"background",Ny),mt(G,"class","svelte-1ph1sn"),sn(z,"background",fJ),sn(z,"width","250px"),mt(z,"class","svelte-1ph1sn"),mt(V,"class","legend svelte-1ph1sn"),mt(ve,"class","visualization"),mt(qe,"class","control"),mt(t,"class","app")},m(_i,dn){bt(_i,t,dn),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(t,v),B(t,C),Rt(w,C,null),B(C,E),Rt(S,C,null),B(C,T),Rt(k,C,null),B(C,N),Rt(P,C,null),B(t,U),B(t,V),B(V,z),B(z,G),B(G,H),B(H,J),B(J,Z),B(J,j),B(H,W),B(H,et),B(H,dt),B(H,ht),B(H,st),B(H,At),B(G,xt),B(G,gt),B(G,yt),B(G,lt),B(G,zt),B(G,Jt),B(z,Gt),B(z,ce),B(z,ae),B(z,ue),B(t,$e),B(t,ve),e[28](ve),B(t,He),B(t,qe),Rt(ri,qe,null),B(qe,oe),B(qe,fe),B(qe,pe),Rt(Ot,qe,null),B(qe,_t),Rt(Ht,qe,null),B(qe,Et),Rt(Lt,qe,null),B(t,ut),Rt(X,t,null),B(t,tt),Rt(Bt,t,null),B(t,Qt),Rt(jt,t,null),ne=!0,se||(Be=ze(fe,"click",e[31]),se=!0)},p(_i,dn){(!ne||dn[0]&1)&&n!==(n=_i[0].title+"")&&Qe(a,n);const n9={};dn[1]&8192&&(n9.$$scope={dirty:dn,ctx:_i}),!h&&dn[0]&4&&(h=!0,n9.value=_i[2],_e(()=>h=!1)),u.$set(n9);const k0={};dn[0]&4|dn[1]&8192&&(k0.$$scope={dirty:dn,ctx:_i}),!M&&dn[0]&8&&(M=!0,k0.value=_i[3],_e(()=>M=!1)),f.$set(k0);const Xt={};dn[1]&8192&&(Xt.$$scope={dirty:dn,ctx:_i}),!b&&dn[0]&2&&(b=!0,Xt.value=_i[1],_e(()=>b=!1)),y.$set(Xt);const le={};!_&&dn[0]&64&&(_=!0,le.value=_i[6],_e(()=>_=!1)),w.$set(le);const xe={};!I&&dn[0]&32&&(I=!0,xe.value=_i[5],_e(()=>I=!1)),S.$set(xe);const Xe={};!D&&dn[0]&128&&(D=!0,Xe.checked=_i[7],_e(()=>D=!1)),k.$set(Xe);const Ue={};!F&&dn[0]&256&&(F=!0,Ue.checked=_i[8],_e(()=>F=!1)),P.$set(Ue),(!ne||dn[0]&2)&&Qe(j,_i[1]),(!ne||dn[0]&8)&&Qe(et,_i[3]),(!ne||dn[0]&4098)&&St!==(St=[...Ao(_i[12],[_i[1]])].join(", ")+"")&&Qe(At,St),(!ne||dn[0]&4)&&Qe(gt,_i[2]),(!ne||dn[0]&6144)&&kt!==(kt=[...Ao(_i[11],_i[12])].join(", ")+"")&&Qe(Jt,kt),(!ne||dn[0]&2048)&&qt!==(qt=[...Ao(Dr,_i[11])].join(", ")+"")&&Qe(ue,qt);const ui={};dn[0]&1024&&(ui.callback=_i[29]),!oi&&dn[0]&512&&(oi=!0,ui.notes=_i[9],_e(()=>oi=!1)),ri.$set(ui);const Mi={};dn[0]&1&&(Mi.appId=_i[0].id),Ot.$set(Mi);const $i={};!Tt&&dn[0]&512&&(Tt=!0,$i.notes=_i[9],_e(()=>Tt=!1)),Ht.$set($i);const Oe={};dn[0]&1&&(Oe.appId=_i[0].id),Lt.$set(Oe);const Je={};dn[1]&8192&&(Je.$$scope={dirty:dn,ctx:_i}),X.$set(Je);const tn={};dn[0]&1&&(tn.appId=_i[0].id),jt.$set(tn)},i(_i){ne||(wt(u.$$.fragment,_i),wt(f.$$.fragment,_i),wt(y.$$.fragment,_i),wt(w.$$.fragment,_i),wt(S.$$.fragment,_i),wt(k.$$.fragment,_i),wt(P.$$.fragment,_i),wt(ri.$$.fragment,_i),wt(Ot.$$.fragment,_i),wt(Ht.$$.fragment,_i),wt(Lt.$$.fragment,_i),wt(X.$$.fragment,_i),wt(Bt.$$.fragment,_i),wt(jt.$$.fragment,_i),ne=!0)},o(_i){It(u.$$.fragment,_i),It(f.$$.fragment,_i),It(y.$$.fragment,_i),It(w.$$.fragment,_i),It(S.$$.fragment,_i),It(k.$$.fragment,_i),It(P.$$.fragment,_i),It(ri.$$.fragment,_i),It(Ot.$$.fragment,_i),It(Ht.$$.fragment,_i),It(Lt.$$.fragment,_i),It(X.$$.fragment,_i),It(Bt.$$.fragment,_i),It(jt.$$.fragment,_i),ne=!1},d(_i){_i&&vt(t),Dt(u),Dt(f),Dt(y),Dt(w),Dt(S),Dt(k),Dt(P),e[28](null),Dt(ri),Dt(Ot),Dt(Ht),Dt(Lt),Dt(X),Dt(Bt),Dt(jt),se=!1,Be()}}}function Dgt(e){let t,i;return t=new m9({props:{loadData:e[18],disabled:e[13],$$slots:{default:[Rgt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,a){const o={};a[0]&8191|a[1]&8192&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let Pgt=250;const Ly="#1B5E20",Ny="#D4E157",Fy="#689F38",fJ="lightgray";function kgt(e,t,i){let n,a,o,l,{appInfo:c}=t,d;const u=Dr;let h="C",p="major",f=.1,M=50,g=!1,y=!1,b,v=[],C=new Map,w;const _=et=>{v.length===0&&(b=et.timestamp);const dt=(et.timestamp-b)/1e3,ht={name:et.note.name+(et.note.accidental??""),number:et.note.number,velocity:et.velocity,time:dt,channel:et.message.channel,duration:0};if(C.has(et.note.number)){const st=C.get(et.note.number);st.end===void 0&&(st.end=dt)}i(9,v=[...v,ht]),C.set(et.note.number,ht)},E=et=>{if(C.has(et.note.number)){const dt=C.get(et.note.number),ht=(et.timestamp-b)/1e3;dt.end=ht,dt.duration=dt.end-dt.time,i(9,v=[...v])}},S=()=>{const et=u.map(yt=>yt===h?Ly:l.has(yt)?Fy:o.has(yt)?Ny:fJ),dt=v.slice(-M),ht=1,st=On({width:n,height:Pgt,marginLeft:50,marginBottom:50,padding:0,x:{axis:!1},y:{axis:g,domain:[0,ht],label:"duration in seconds",labelAnchor:"center"},color:{domain:fi(12),range:et},opacity:{domain:[0,127],range:[.3,1]},marks:[T0([0],{stroke:"#ddd"}),C1(dt,{x:(yt,lt)=>lt,y:yt=>g&&yt.duration>0?yt.duration:ht,fill:yt=>yt.number%12,stroke:yt=>yt.number%12,opacity:y?yt=>yt.velocity:1,fillOpacity:yt=>g&&yt.duration===0?0:1,inset:1.5,rx:4}),J0(dt,{x:(yt,lt)=>lt,y:0,text:yt=>yt.name.split("").join(`
`),fontSize:12,dy:16})]});i(4,d.textContent="",d),d.appendChild(st);const St=Fh(v,f).slice(-M).map(yt=>yt.sort((lt,zt)=>lt.number-zt.number)),At=St.map(yt=>y3(yt.map(lt=>lt.name))),xt=St.flatMap((yt,lt)=>yt.map((zt,kt)=>({...zt,chordIndex:lt,noteIndex:kt}))),gt=On({width:n,height:300,marginLeft:30,marginRight:50,marginBottom:120,padding:0,x:{axis:!1},y:{ticks:[],label:"chord notes sorted by pitch",labelAnchor:"center"},color:{domain:fi(12),range:et},marks:[T0([0],{stroke:"#ddd"}),Ls(xt,{y1:yt=>yt.noteIndex,y2:yt=>yt.noteIndex+1,x:"chordIndex",fill:yt=>yt.number%12,stroke:yt=>yt.number%12,offset:"normalize",rx:4,inset:1.5}),J0(xt,{x:"chordIndex",y:"noteIndex",text:yt=>yt.name.split("").join(`
`),fontSize:10,fill:"black",stroke:"#eee",strokeWidth:2,dy:-12}),J0(At,{x:(yt,lt)=>lt,y:0,text:yt=>yt.join("   "),fontSize:10,dy:8,rotate:45,textAnchor:"start"})]});d.appendChild(gt)};$9(S);const I=()=>({root:h,scaleType1:p,scaleType2:a,barCount:M,showDuration:g,showLoudness:y,notes:v}),T=et=>{k(),i(1,h=et.root),i(2,p=et.scaleType1),i(3,a=et.scaleType2),i(6,M=et.barCount??50),i(7,g=et.showDuration??!1),i(8,y=et.showLoudness??!1),i(9,v=et.notes)},k=()=>{v.length>0&&JSON.stringify(v)!==JSON.stringify(sT.notes)&&C9(c.id,I())};c0(k);function D(et){p=et,i(2,p)}const N=et=>`${p} ${et}`;function P(et){a=et,i(3,a),i(2,p)}function F(et){h=et,i(1,h)}function U(et){M=et,i(6,M)}function V(et){f=et,i(5,f)}function z(et){g=et,i(7,g)}function G(et){y=et,i(8,y)}function H(et){he[et?"unshift":"push"](()=>{d=et,i(4,d)})}const J=()=>{i(10,C=new Map)};function Z(et){v=et,i(9,v)}const j=()=>T(sT);function W(et){v=et,i(9,v)}return e.$$set=et=>{"appInfo"in et&&i(0,c=et.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&4&&i(3,a=`${p} pentatonic`),e.$$.dirty[0]&6&&i(11,o=new Set(oa(`${h} ${p}`).notes.map(et=>u[Ns.get(et)]))),e.$$.dirty[0]&10&&i(12,l=new Set(oa(`${h} ${a}`).notes.map(et=>u[Ns.get(et)])))},n=window.innerWidth<1200?900:Math.floor(window.innerWidth-200),[c,h,p,a,d,f,M,g,y,v,C,o,l,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W]}class Lgt extends Zi{constructor(t){super(),Yi(this,t,kgt,Dgt,Xi,{appInfo:0},null,[-1,-1])}}const Ngt=50,Fgt="D",Ugt="minor",Jgt=[{name:"D",number:62,velocity:.5354330708661418,time:0,channel:1,duration:1.629,end:1.629},{name:"F",number:65,velocity:.4881889763779528,time:1.55,channel:1,duration:2.9720000000000004,end:4.522},{name:"E",number:64,velocity:.4251968503937008,time:4.48,channel:1,duration:.4289999999999994,end:4.909},{name:"C",number:60,velocity:.5354330708661418,time:4.755,channel:1,duration:2.3950000000000005,end:7.15},{name:"A",number:69,velocity:.5984251968503937,time:7.105,channel:1,duration:3.530999999999999,end:10.636},{name:"G",number:67,velocity:.4881889763779528,time:10.668,channel:1,duration:.3490000000000002,end:11.017},{name:"A",number:69,velocity:.5433070866141733,time:10.95,channel:1,duration:2.373900000095368,end:13.323900000095367},{name:"G#",number:68,velocity:.6299212598425197,time:13.292,channel:1,duration:.33800000000000097,end:13.63},{name:"F",number:65,velocity:.7322834645669292,time:13.572,channel:1,duration:2.817,end:16.389},{name:"E",number:64,velocity:.31496062992125984,time:16.355,channel:1,duration:.5560000000000009,end:16.911},{name:"D",number:62,velocity:.6850393700787402,time:16.859,channel:1,duration:3.4619999999999997,end:20.321},{name:"D",number:62,velocity:.3779527559055118,time:21.237,channel:1,duration:2.759900000095371,end:23.99690000009537},{name:"A",number:57,velocity:.5196850393700787,time:24.006,channel:1,duration:.13700000000000045,end:24.143},{name:"D",number:62,velocity:.49606299212598426,time:24.139,channel:1,duration:.14700000000000202,end:24.286},{name:"A",number:57,velocity:.7007874015748031,time:24.241,channel:1,duration:2.2029999999999994,end:26.444},{name:"C#",number:61,velocity:.4015748031496063,time:26.479,channel:1,duration:.277000000000001,end:26.756},{name:"C",number:60,velocity:.8031496062992126,time:26.706,channel:1,duration:3.649000000000001,end:30.355},{name:"G",number:55,velocity:.7165354330708661,time:30.122900000095367,channel:1,duration:.5470999999046349,end:30.67},{name:"A",number:69,velocity:.30708661417322836,time:30.395,channel:1,duration:3.032,end:33.427},{name:"F",number:65,velocity:.6377952755905512,time:33.351,channel:1,duration:.37599999999999767,end:33.727},{name:"E",number:64,velocity:.8031496062992126,time:33.663,channel:1,duration:3.436,end:37.099},{name:"B",number:71,velocity:.3464566929133858,time:37.075,channel:1,duration:.26200000000000045,end:37.337},{name:"A",number:69,velocity:.4094488188976378,time:37.253,channel:1,duration:.07590000009536624,end:37.328900000095366},{name:"G",number:67,velocity:.8740157480314961,time:37.305,channel:1,duration:.6509000000953691,end:37.95590000009537},{name:"D",number:62,velocity:.49606299212598426,time:37.883,channel:1,duration:4.606999999999999,end:42.49},{name:"F#",number:66,velocity:.9763779527559056,time:42.417,channel:1,duration:1.0379999999999967,end:43.455},{name:"F",number:65,velocity:.47244094488188976,time:43.424,channel:1,duration:2.2310000000000016,end:45.655},{name:"D",number:62,velocity:.6062992125984252,time:45.6,channel:1,duration:3.9039999999999964,end:49.504},{name:"A",number:57,velocity:.7559055118110236,time:49.5,channel:1,duration:.11399999999999721,end:49.614},{name:"D",number:62,velocity:.5354330708661418,time:49.644,channel:1,duration:.142000000000003,end:49.786},{name:"A",number:57,velocity:.7637795275590551,time:49.741,channel:1,duration:4.308,end:54.049},{name:"G",number:55,velocity:.5511811023622047,time:54.021900000095364,channel:1,duration:.2460999999046365,end:54.268},{name:"A#",number:58,velocity:.7480314960629921,time:54.214,channel:1,duration:3.301000000000002,end:57.515},{name:"C",number:60,velocity:.5748031496062992,time:57.491,channel:1,duration:.347999999999999,end:57.839},{name:"D",number:62,velocity:.6141732283464567,time:57.768,channel:1,duration:2.8569999999999993,end:60.625},{name:"D",number:50,velocity:.7716535433070866,time:60.559,channel:1,duration:3.4399000000953706,end:63.99890000009537},{name:"F",number:53,velocity:.5748031496062992,time:63.945,channel:1,duration:.3309000000953617,end:64.27590000009536},{name:"A",number:57,velocity:.7795275590551181,time:64.24290000009536,channel:1,duration:3.494099999904634,end:67.737},{name:"F",number:65,velocity:.6614173228346457,time:67.747,channel:1,duration:.3719999999999999,end:68.119},{name:"D",number:62,velocity:.8582677165354331,time:68.088,channel:1,duration:2.8290000000000077,end:70.917},{name:"C",number:60,velocity:.5669291338582677,time:70.871,channel:1,duration:.36299999999999955,end:71.234},{name:"A#",number:58,velocity:.9606299212598425,time:71.195,channel:1,duration:2.3940000000000055,end:73.589},{name:"G",number:55,velocity:.5196850393700787,time:73.504,channel:1,duration:4.411999999999992,end:77.916},{name:"E",number:52,velocity:.4330708661417323,time:77.835,channel:1,duration:.3719999999999999,end:78.207},{name:"D",number:62,velocity:.4015748031496063,time:78.11590000009537,channel:1,duration:2.52209999990464,end:80.638}],$gt="keyboard-histogram",Ggt="0.16.2",Hgt="2024-10-09T17:09:18.391Z",uT={pastNoteCount:Ngt,scaleRoot:Fgt,scaleType:Ugt,notes:Jgt,_appId:$gt,_softwareVersion:Ggt,_date:Hgt};function Vgt(e){let t,i,n;return{c(){t=q("p"),t.textContent=`1) Improvise something while trying to use the whole range of the
        keyboard.`,i=K(),n=q("p"),n.textContent=`2) Improvise something while trying to use both hands (far enough apart)
        for the same amount of notes.`},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function Qgt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st;function St(qt){e[14](qt)}let At={};e[3]!==void 0&&(At.value=e[3]),u=new eu({props:At}),he.push(()=>Ee(u,"value",St));function xt(qt){e[15](qt)}let gt={label:"show scale",title:"If active, the color hue will show whether notes are in the selected scale or not"};e[6]!==void 0&&(gt.checked=e[6]),f=new zn({props:gt}),he.push(()=>Ee(f,"checked",xt));function yt(qt){e[16](qt)}function lt(qt){e[17](qt)}function zt(qt){e[18](qt)}let kt={disabled:!e[6]};e[1]!==void 0&&(kt.scaleInfo=e[1]),e[4]!==void 0&&(kt.scaleRoot=e[4]),e[5]!==void 0&&(kt.scaleType=e[5]),y=new Uh({props:kt}),he.push(()=>Ee(y,"scaleInfo",yt)),he.push(()=>Ee(y,"scaleRoot",lt)),he.push(()=>Ee(y,"scaleType",zt));function Jt(qt){e[20](qt)}let Gt={saveToStorage:e[13]};e[7]!==void 0&&(Gt.notes=e[7]),I=new c9({props:Gt}),he.push(()=>Ee(I,"notes",Jt)),P=new _9({props:{appId:e[0].id,loadData:e[12]}});function ce(qt){e[22](qt)}let ae={callback:e[10]};return e[7]!==void 0&&(ae.notes=e[7]),U=new Oa({props:ae}),he.push(()=>Ee(U,"notes",ce)),G=new f9({props:{loadData:e[12],getExportData:e[11],appId:e[0].id}}),J=new e9({props:{$$slots:{default:[Vgt]},$$scope:{ctx:e}}}),j=new i9({props:{appId:e[0].id}}),et=new j0({props:{noteOn:e[8],pcKeyAllowed:!0}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing scales on a keyboard. The heatmap below shows
      how often you played each keyboard key. You can color notes depending on
      whether they belong to the chosen scale or not, so you can see how often
      you played one outside the scale (on purpose or by accident).`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),w=K(),_=q("div"),E=K(),S=q("div"),Pt(I.$$.fragment),k=K(),D=q("button"),D.textContent="example",N=K(),Pt(P.$$.fragment),F=K(),Pt(U.$$.fragment),z=K(),Pt(G.$$.fragment),H=K(),Pt(J.$$.fragment),Z=K(),Pt(j.$$.fragment),W=K(),Pt(et.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(_,"class","visualization"),mt(S,"class","control"),mt(t,"class","app")},m(qt,ue){bt(qt,t,ue),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(t,w),B(t,_),e[19](_),B(t,E),B(t,S),Rt(I,S,null),B(S,k),B(S,D),B(S,N),Rt(P,S,null),B(S,F),Rt(U,S,null),B(S,z),Rt(G,S,null),B(t,H),Rt(J,t,null),B(t,Z),Rt(j,t,null),B(t,W),Rt(et,t,null),dt=!0,ht||(st=ze(D,"click",e[21]),ht=!0)},p(qt,ue){(!dt||ue&1)&&n!==(n=qt[0].title+"")&&Qe(a,n);const $e={};!h&&ue&8&&(h=!0,$e.value=qt[3],_e(()=>h=!1)),u.$set($e);const ve={};!M&&ue&64&&(M=!0,ve.checked=qt[6],_e(()=>M=!1)),f.$set(ve);const He={};ue&64&&(He.disabled=!qt[6]),!b&&ue&2&&(b=!0,He.scaleInfo=qt[1],_e(()=>b=!1)),!v&&ue&16&&(v=!0,He.scaleRoot=qt[4],_e(()=>v=!1)),!C&&ue&32&&(C=!0,He.scaleType=qt[5],_e(()=>C=!1)),y.$set(He);const qe={};!T&&ue&128&&(T=!0,qe.notes=qt[7],_e(()=>T=!1)),I.$set(qe);const ri={};ue&1&&(ri.appId=qt[0].id),P.$set(ri);const oi={};!V&&ue&128&&(V=!0,oi.notes=qt[7],_e(()=>V=!1)),U.$set(oi);const oe={};ue&1&&(oe.appId=qt[0].id),G.$set(oe);const fe={};ue&33554432&&(fe.$$scope={dirty:ue,ctx:qt}),J.$set(fe);const pe={};ue&1&&(pe.appId=qt[0].id),j.$set(pe)},i(qt){dt||(wt(u.$$.fragment,qt),wt(f.$$.fragment,qt),wt(y.$$.fragment,qt),wt(I.$$.fragment,qt),wt(P.$$.fragment,qt),wt(U.$$.fragment,qt),wt(G.$$.fragment,qt),wt(J.$$.fragment,qt),wt(j.$$.fragment,qt),wt(et.$$.fragment,qt),dt=!0)},o(qt){It(u.$$.fragment,qt),It(f.$$.fragment,qt),It(y.$$.fragment,qt),It(I.$$.fragment,qt),It(P.$$.fragment,qt),It(U.$$.fragment,qt),It(G.$$.fragment,qt),It(J.$$.fragment,qt),It(j.$$.fragment,qt),It(et.$$.fragment,qt),dt=!1},d(qt){qt&&vt(t),Dt(u),Dt(f),Dt(y),e[19](null),Dt(I),Dt(P),Dt(U),Dt(G),Dt(J),Dt(j),Dt(et),ht=!1,st()}}}function zgt(e){let t,i;return t=new m9({props:{loadData:e[12],disabled:e[9],$$slots:{default:[Qgt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&33554687&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let dT=900,jgt=300;const iM=21,nM=108;function Wgt(e,t,i){let n,{appInfo:a}=t,o,l,c=500,d="C",u="major",h=!0,p,f=[];const M=P=>{f.length===0&&(p=P.timestamp);const F=(P.timestamp-p)/1e3,U={number:P.note.number,velocity:P.rawVelocity,time:F,channel:P.message.channel};i(7,f=[...f,U])};let g;const y=()=>{const P=f.slice(-c),F=Aa(P,G=>G.number),U=v9(F,G=>G[1].length);i(2,o.textContent="",o);const V=On({width:dT,height:jgt,marginLeft:30,marginBottom:28,marginRight:5,padding:0,x:{label:"",domain:fi(iM,nM+1),tickFormat:G=>hc(G)?"":G%12===0?`
`+Fa(G):Fa(G).slice(0,-1)},y:{label:"count",interval:1,nice:!0},color:{legend:h,domain:["in scale","not in scale"],range:Zr,marginLeft:380},marks:[T0([0],{stroke:"#ddd"}),C1(fi(iM,nM+1).filter(G=>hc(G)),{x:G=>G,y:()=>U,fill:"#f8f8f8",inset:.5}),wft(P,Lut({y:"count"},{x:"number",fill:h?G=>n.has(G.number%12)?"in scale":"not in scale":G=>hc(G.number)?"#444":"#ccc",inset:.5,rx:4,tip:!0}))]});o.appendChild(V);const z=On({width:dT,height:60,marginLeft:h?65:30,marginRight:h?40:5,marginBottom:10,padding:0,x:{axis:!1,interval:1},y:{axis:!1},marks:[Ls(fi(iM,nM+1),{x:G=>G,y1:G=>hc(G)?2:1.5,y2:G=>hc(G)?.5:0,fill:G=>hc(G)?"#333":"white",stroke:"#bbb",inset:1,rx:2.5,clip:!1})]});o.appendChild(z)};$9(y);const b=()=>({pastNoteCount:c,scaleRoot:d,scaleType:u,notes:f}),v=P=>{C(),i(3,c=P.pastNoteCount),i(4,d=P.scaleRoot),i(5,u=P.scaleType),i(7,f=P.notes)},C=()=>{f.length>0&&JSON.stringify(f)!==JSON.stringify(uT.notes)&&C9(a.id,b())};c0(C);function w(P){c=P,i(3,c)}function _(P){h=P,i(6,h)}function E(P){l=P,i(1,l)}function S(P){d=P,i(4,d)}function I(P){u=P,i(5,u)}function T(P){he[P?"unshift":"push"](()=>{o=P,i(2,o)})}function k(P){f=P,i(7,f)}const D=()=>v(uT);function N(P){f=P,i(7,f)}return e.$$set=P=>{"appInfo"in P&&i(0,a=P.appInfo)},e.$$.update=()=>{e.$$.dirty&2&&(n=new Set(l?l.notes.map(P=>Ns.get(P)):[]))},[a,l,o,c,d,u,h,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N]}class Kgt extends Zi{constructor(t){super(),Yi(this,t,Wgt,zgt,Xi,{appInfo:0})}}const qgt=20,Xgt=268290.80000000005,Ygt=-20,Zgt=!0,tMt=[{time:6.866100000000094,pitch:164.84394981764146,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.8558387003551999},{time:6.882699999999954,pitch:165.13856985862867,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.8717938546740882},{time:6.899399999999907,pitch:168.62434413709184,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9550674496646963},{time:6.916100000000093,pitch:166.47566607514122,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9892278466152646},{time:6.9326999999999535,pitch:165.50585321263233,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9985202891473897},{time:6.9493999999999065,pitch:164.99543357303352,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.998910431492817},{time:6.966100000000093,pitch:164.8487478097934,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9990359914436446},{time:6.982800000000046,pitch:164.95743237248462,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994584921478911},{time:6.9995,pitch:164.80896988770772,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9992993320414669},{time:7.016100000000093,pitch:164.841824151065,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9989685956499592},{time:7.032800000000046,pitch:164.85334356864416,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9992501424627882},{time:7.0495,pitch:164.866500940062,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9992278286807306},{time:7.066100000000093,pitch:164.9950305803836,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9987453238050286},{time:7.082800000000047,pitch:164.94150244683595,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9985164754781799},{time:7.099399999999907,pitch:165.0572032559152,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9992148272991805},{time:7.116100000000094,pitch:164.8610917153099,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9988873273261767},{time:7.132899999999907,pitch:165.0984178548978,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9984405615214733},{time:7.151899999999907,pitch:164.94967400278276,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9987463365972289},{time:7.166100000000093,pitch:164.81419903812036,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9987159745650764},{time:7.1826999999999535,pitch:164.90151204025747,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9986094038283042},{time:7.1995,pitch:164.78527366479423,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9982966174686894},{time:7.216100000000093,pitch:165.03819567012926,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9987167405897956},{time:7.232699999999953,pitch:164.77597239369763,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9981829247023377},{time:7.249399999999907,pitch:165.0629985434194,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9977194747458284},{time:7.266100000000093,pitch:165.08961565904517,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985446299963563},{time:7.282800000000046,pitch:165.14883112356247,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9981114660209442},{time:7.299399999999907,pitch:163.9517820760354,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9931167050345593},{time:7.316100000000093,pitch:163.81234068839808,noteMidi:52,actualMidi:51.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9881696274460765},{time:7.332699999999954,pitch:165.69085168456365,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9743155662962835},{time:7.349399999999907,pitch:163.6914381640926,noteMidi:52,actualMidi:51.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9500692155729453},{time:7.366100000000094,pitch:162.2325439731973,noteMidi:52,actualMidi:51.73,actualMidiChroma:3.729999999999997,centsOffset:-27.000000000000313,clarity:.8873816464558963},{time:7.382699999999954,pitch:161.73750038958147,noteMidi:52,actualMidi:51.67,actualMidiChroma:3.6700000000000017,centsOffset:-32.99999999999983,clarity:.86465913358645},{time:7.399399999999907,pitch:152.82987217031967,noteMidi:51,actualMidi:50.69,actualMidiChroma:2.6899999999999977,centsOffset:-31.000000000000227,clarity:.4891711867699211},{time:7.416100000000093,pitch:155.24270348486192,noteMidi:51,actualMidi:50.96,actualMidiChroma:2.960000000000001,centsOffset:-3.9999999999999147,clarity:.6306220024590541},{time:7.4326999999999535,pitch:161.8269658172597,noteMidi:52,actualMidi:51.68,actualMidiChroma:3.6799999999999997,centsOffset:-32.00000000000003,clarity:.6914854286082885},{time:7.4493999999999065,pitch:164.78687538436128,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.7315233545188917},{time:7.466100000000093,pitch:164.51599485204596,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9312925520659476},{time:7.482699999999953,pitch:164.56655461757478,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9975351172510756},{time:7.499399999999907,pitch:164.6091096975178,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999728817947485},{time:7.518600000000093,pitch:164.60448306937226,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997637395205743},{time:7.532800000000046,pitch:164.6021324768012,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997767661574102},{time:7.549399999999907,pitch:164.61430798885218,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998081201834026},{time:7.566100000000093,pitch:164.5966987735068,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998238892243236},{time:7.582800000000047,pitch:164.583513443727,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998474338232768},{time:7.5995,pitch:164.55118862232186,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998562822041208},{time:7.616100000000094,pitch:164.54775693070215,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998733775956552},{time:7.632699999999954,pitch:164.55287782522797,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998697881286063},{time:7.649399999999907,pitch:164.57993399437402,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998807215246472},{time:7.666,pitch:164.62599768003454,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998862841845693},{time:7.6826999999999535,pitch:164.62633525776772,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998926206189438},{time:7.6993999999999065,pitch:164.63117779162107,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999083887412894},{time:7.716100000000093,pitch:164.6217692113757,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999048298632474},{time:7.732699999999953,pitch:164.62298099777067,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999064967878866},{time:7.749399999999907,pitch:164.64627519220136,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998998459822062},{time:7.766100000000093,pitch:164.69291928303588,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998851241170215},{time:7.782800000000046,pitch:164.76414528652464,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998674813727533},{time:7.799399999999907,pitch:164.9039124696968,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998659451371452},{time:7.816100000000093,pitch:165.09595006695162,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998508547546976},{time:7.832699999999954,pitch:165.21236391966048,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998501269187727},{time:7.849399999999907,pitch:165.59909371193066,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9997168184625096},{time:7.866100000000094,pitch:166.32959674748992,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9996002451489829},{time:7.885199999999953,pitch:166.95005672321903,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9995674358182214},{time:7.8995,pitch:167.30822520388563,noteMidi:52,actualMidi:52.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9995460139737204},{time:7.916100000000093,pitch:167.96869061390035,noteMidi:52,actualMidi:52.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.9992575823123317},{time:7.9326999999999535,pitch:168.42974787165807,noteMidi:52,actualMidi:52.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9988347989439674},{time:7.9493999999999065,pitch:169.69146990273828,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9969885331529795},{time:7.966100000000093,pitch:171.25631625699404,noteMidi:53,actualMidi:52.66,actualMidiChroma:4.659999999999997,centsOffset:-34.00000000000034,clarity:.9929487160522186},{time:7.982699999999953,pitch:172.3707299352859,noteMidi:53,actualMidi:52.78,actualMidiChroma:4.780000000000001,centsOffset:-21.999999999999886,clarity:.9913604806097283},{time:7.999399999999907,pitch:173.45397592440486,noteMidi:53,actualMidi:52.88,actualMidiChroma:4.880000000000003,centsOffset:-11.999999999999744,clarity:.9911117339865996},{time:8.016100000000094,pitch:173.58105402136647,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9913338229458546},{time:8.032699999999954,pitch:173.6323235849193,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9922206622500909},{time:8.049399999999906,pitch:173.6185964608792,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9944782262746585},{time:8.066100000000093,pitch:173.15416900152098,noteMidi:53,actualMidi:52.85,actualMidiChroma:4.850000000000001,centsOffset:-14.999999999999858,clarity:.995203740044488},{time:8.082699999999953,pitch:173.25198025412067,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.9937208794896861},{time:8.099399999999907,pitch:174.1311707063476,noteMidi:53,actualMidi:52.95,actualMidiChroma:4.950000000000003,centsOffset:-4.999999999999716,clarity:.9883601213378483},{time:8.116100000000094,pitch:172.82310265013388,noteMidi:53,actualMidi:52.82,actualMidiChroma:4.82,centsOffset:-17.99999999999997,clarity:.986285733678173},{time:8.132699999999954,pitch:171.48070740457166,noteMidi:53,actualMidi:52.69,actualMidiChroma:4.689999999999998,centsOffset:-31.000000000000227,clarity:.9899169337489582},{time:8.149300000000046,pitch:169.697948578165,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.996847439023206},{time:8.166100000000093,pitch:168.66735385929246,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9981152319323741},{time:8.182800000000046,pitch:168.05758001719303,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9985024094434252},{time:8.199399999999907,pitch:167.05123138099424,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9989938470060906},{time:8.216100000000093,pitch:166.38371693034617,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.999509127897042},{time:8.232800000000047,pitch:166.1269850402358,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9996331147481996},{time:8.251699999999953,pitch:165.6685333591511,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9996724018451957},{time:8.266100000000094,pitch:165.14962450335688,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998590675734533},{time:8.282699999999954,pitch:165.0717615825231,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998738842335939},{time:8.299399999999906,pitch:164.9279133573899,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9999057670331482},{time:8.316,pitch:164.93212260038686,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9999131890453299},{time:8.332699999999953,pitch:164.92347146272655,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9999231240141029},{time:8.349399999999907,pitch:164.97450531958546,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999072588426401},{time:8.366,pitch:165.15897932688134,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998485492188394},{time:8.382800000000046,pitch:165.32536336264081,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997492275956077},{time:8.399399999999908,pitch:165.90951513260146,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9995347198668654},{time:8.416100000000093,pitch:166.46650082048882,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9994799374476457},{time:8.432699999999953,pitch:166.77875843523165,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9994846219575919},{time:8.449399999999907,pitch:167.21741274129107,noteMidi:52,actualMidi:52.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9993352694181681},{time:8.466100000000093,pitch:167.8834258809413,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9982656364979121},{time:8.482800000000047,pitch:168.11538904071602,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9980810644853264},{time:8.499399999999907,pitch:169.2328567090309,noteMidi:52,actualMidi:52.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.9931708717753978},{time:8.516100000000094,pitch:170.63571142124826,noteMidi:53,actualMidi:52.6,actualMidiChroma:4.600000000000001,centsOffset:-39.99999999999986,clarity:.9848737299755683},{time:8.532699999999954,pitch:171.4389763130013,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.976238655929123},{time:8.549399999999906,pitch:171.4310832497451,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.9778200538953712},{time:8.566100000000093,pitch:170.5180356340411,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.9889662790078333},{time:8.582699999999953,pitch:170.43058152497653,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.9927388886325517},{time:8.599399999999907,pitch:169.9080704023652,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9955827277791869},{time:8.618399999999907,pitch:168.9995379704416,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9969674259488954},{time:8.632699999999954,pitch:168.42667788359935,noteMidi:52,actualMidi:52.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9978202310170872},{time:8.649399999999908,pitch:167.15582143002482,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9987653272755246},{time:8.666100000000093,pitch:166.09050347337185,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9995995763451901},{time:8.682800000000046,pitch:165.87465410744227,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9996424773777051},{time:8.699399999999907,pitch:165.3534795084119,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997655162181331},{time:8.716100000000093,pitch:164.984884753777,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994715088380985},{time:8.732699999999953,pitch:164.8245410794315,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.999512930167981},{time:8.749399999999907,pitch:164.7207070591235,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998817083187461},{time:8.766100000000094,pitch:164.64659978959494,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998772790801418},{time:8.782699999999954,pitch:164.71407577372304,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998890539555383},{time:8.799399999999906,pitch:164.66590845176603,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998875932531526},{time:8.816100000000093,pitch:164.73662181616334,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998739480376813},{time:8.832699999999953,pitch:164.8525857386244,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9995090709635548},{time:8.849399999999907,pitch:165.0826442074827,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9992637761081724},{time:8.866,pitch:165.6740243015302,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9995195579426692},{time:8.882699999999954,pitch:165.74978285617087,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9994388275967054},{time:8.899399999999908,pitch:166.48677382649606,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9992100552002796},{time:8.916100000000093,pitch:167.1076192118069,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9985475958831067},{time:8.932800000000046,pitch:167.65459050773455,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9977380928952151},{time:8.949399999999907,pitch:168.63518660042632,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9907558074830476},{time:8.966100000000093,pitch:170.58319863199816,noteMidi:53,actualMidi:52.6,actualMidiChroma:4.600000000000001,centsOffset:-39.99999999999986,clarity:.9553077129905745},{time:8.985100000000093,pitch:172.05277576137826,noteMidi:53,actualMidi:52.74,actualMidiChroma:4.740000000000002,centsOffset:-25.9999999999998,clarity:.9194256710938689},{time:8.999399999999907,pitch:170.98417004058112,noteMidi:53,actualMidi:52.64,actualMidiChroma:4.640000000000001,centsOffset:-35.99999999999994,clarity:.9399612675385001},{time:9.016100000000094,pitch:170.36704863131982,noteMidi:53,actualMidi:52.57,actualMidiChroma:4.57,centsOffset:-42.99999999999997,clarity:.9831707372620571},{time:9.032699999999954,pitch:170.13882509361062,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9871076528192191},{time:9.049399999999906,pitch:169.69540228209473,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9915116048877266},{time:9.066,pitch:169.05893495241105,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9921280372532024},{time:9.082699999999953,pitch:168.74648795639789,noteMidi:52,actualMidi:52.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.9924070653775559},{time:9.099399999999907,pitch:167.6830133905739,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.990465699078527},{time:9.116,pitch:166.65325408413136,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9903528820599945},{time:9.132699999999954,pitch:166.23699225640473,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.988907364964831},{time:9.149399999999908,pitch:165.5622709441096,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9913537136596986},{time:9.166100000000093,pitch:165.22312077190833,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9966486026359718},{time:9.182699999999953,pitch:165.1399288232579,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985897293870778},{time:9.199399999999907,pitch:164.88233655796014,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9993198256611109},{time:9.216100000000093,pitch:164.6600828663795,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990255529635306},{time:9.232699999999953,pitch:164.62335189211518,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991440116177372},{time:9.249399999999907,pitch:164.67595654446146,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993777889130584},{time:9.266,pitch:164.71651627097233,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993470217003022},{time:9.282699999999954,pitch:164.72896324446975,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990619944315782},{time:9.299399999999906,pitch:164.97747703320175,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9977693631834512},{time:9.316,pitch:165.75001027182515,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9965839168588957},{time:9.332699999999953,pitch:165.99927080703412,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9964715988682258},{time:9.351699999999953,pitch:167.0659050426878,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9919009463752033},{time:9.366,pitch:168.26587195782554,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.9797269577048056},{time:9.382699999999954,pitch:169.34312222183863,noteMidi:52,actualMidi:52.47,actualMidiChroma:4.469999999999999,centsOffset:46.999999999999886,clarity:.9638938319865531},{time:9.399300000000046,pitch:170.1678883326128,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9430821418404562},{time:9.416,pitch:170.01430859937165,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.9744575301589435},{time:9.432699999999953,pitch:169.94504987608735,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9852338418709685},{time:9.449399999999907,pitch:169.6497293432335,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9926115060415235},{time:9.466,pitch:169.5985685999916,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9922799111601108},{time:9.482699999999953,pitch:169.65375984588474,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.992723744401502},{time:9.499399999999907,pitch:169.07131699408137,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9865183460268199},{time:9.516,pitch:168.0972758463785,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9772078129089792},{time:9.532699999999954,pitch:167.5682595577913,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9759038123749235},{time:9.549399999999906,pitch:166.12520106416568,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9763967440546821},{time:9.566100000000093,pitch:165.64998344842908,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9852065984185714},{time:9.582800000000047,pitch:165.51943218727814,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9922176721904208},{time:9.599399999999907,pitch:164.98825779187862,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9924823669119007},{time:9.616,pitch:164.60217164673278,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9807802833970527},{time:9.632699999999954,pitch:164.83698110997156,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9825379258077049},{time:9.649399999999908,pitch:164.63474094254883,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.997060225410273},{time:9.666,pitch:164.7260982893437,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9980249238046426},{time:9.682699999999953,pitch:164.6657384449429,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9978444502666264},{time:9.701699999999953,pitch:164.98565134462098,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9965799200352947},{time:9.716,pitch:165.05236705028852,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.983006061158477},{time:9.732800000000047,pitch:165.3890936476649,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9777208156034405},{time:9.749399999999907,pitch:165.58999374381565,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9783472680551171},{time:9.766100000000094,pitch:166.86780501763303,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9644738741329277},{time:9.782699999999954,pitch:167.67902923697974,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9672960957388312},{time:9.799300000000047,pitch:168.09866906086964,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9594326654171823},{time:9.816100000000093,pitch:168.9694989976726,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9677405818198608},{time:9.832699999999953,pitch:168.8575859106849,noteMidi:52,actualMidi:52.42,actualMidiChroma:4.420000000000002,centsOffset:42.00000000000017,clarity:.9738915202702074},{time:9.849399999999907,pitch:169.17723905819736,noteMidi:52,actualMidi:52.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9821519944541066},{time:9.866,pitch:169.29232387294206,noteMidi:52,actualMidi:52.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.9882856925358325},{time:9.882699999999954,pitch:168.94799882079442,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.988974822156365},{time:9.899399999999908,pitch:168.99347003062866,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9812760653675561},{time:9.916100000000093,pitch:169.16510838169606,noteMidi:52,actualMidi:52.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9689671237469177},{time:9.932699999999953,pitch:168.5293676207821,noteMidi:52,actualMidi:52.39,actualMidiChroma:4.390000000000001,centsOffset:39.00000000000006,clarity:.9367946230635447},{time:9.949199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.965899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.982600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.999199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.015899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.049199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.068399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.099300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.115899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.1325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.149199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.165899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.1825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.199199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.215899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.232600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.249199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.265899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.2825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.299300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.315899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.3325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.349199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.365800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.382600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.399199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.415899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.435199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.449300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.465899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.482600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.499300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.515899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.532600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.549199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.565899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.5825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.599199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.615800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.6325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.649300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.665899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.682600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.699199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.715899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.732600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.749199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.765899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.782600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.801600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.815899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.832600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.849199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.865899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.8825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.899199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.915899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.932600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.949300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.965899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.9825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.999199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.015899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.0325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.049199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.065899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.0825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.099300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.115899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.132600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.149199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.168399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.182600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.199199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.215800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.232600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.249199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.265800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.2825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.299199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.315800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.332600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.349199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.365800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.382600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.399199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.415899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.432600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.449199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.465899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.4825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.499199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.515800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.535199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.549300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.565800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.5825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.599199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.615899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.6325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.649199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.665899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.6825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.699199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.715800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.7325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.749199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.765899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.7825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.799199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.815899999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.832600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.849199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.865899999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.882600000000092,pitch:122.99971404694507,noteMidi:47,actualMidi:46.93,actualMidiChroma:10.93,centsOffset:-7.000000000000028,clarity:.22237098169316383},{time:11.901699999999954,pitch:158.07340275858212,noteMidi:51,actualMidi:51.28,actualMidiChroma:3.280000000000001,centsOffset:28.000000000000114,clarity:.3794272410180053},{time:11.916100000000093,pitch:165.47234417598042,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.7220560826078994},{time:11.932699999999953,pitch:165.24102216474537,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.8417470226440003},{time:11.949399999999907,pitch:164.91299942464866,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9971877262032791},{time:11.966,pitch:164.87568493678106,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996251686185076},{time:11.982699999999953,pitch:164.86963256676034,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996613988714813},{time:11.999300000000046,pitch:164.85060616947288,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997231937070552},{time:12.016,pitch:164.80474989435524,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997932752779803},{time:12.032600000000093,pitch:164.78955396509568,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9998167876406967},{time:12.049300000000047,pitch:164.76806716445725,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9998382793698397},{time:12.065899999999907,pitch:164.75406595268652,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998444207794535},{time:12.082699999999953,pitch:164.75673196447767,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998568463410891},{time:12.099300000000046,pitch:164.76132698567326,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998642070386836},{time:12.116,pitch:164.7599415929434,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998745190893032},{time:12.132600000000092,pitch:164.7506830773582,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998762562625245},{time:12.149300000000046,pitch:164.7383580992646,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998898641161631},{time:12.166,pitch:164.7416464508854,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998978884198522},{time:12.182600000000093,pitch:164.76165570263183,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998952432946595},{time:12.199300000000047,pitch:164.86287146138318,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998899689868566},{time:12.216,pitch:164.95859291058477,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999080117683832},{time:12.232600000000094,pitch:164.9791938813049,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999135973180557},{time:12.249399999999907,pitch:165.00760802829015,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999194956776662},{time:12.268600000000093,pitch:165.06960784854692,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9999207640101702},{time:12.282600000000093,pitch:165.13080901636337,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9999107818479587},{time:12.299300000000047,pitch:165.28936313648663,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9999102115855081},{time:12.316,pitch:165.4964278600309,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9998858470831351},{time:12.332600000000093,pitch:165.65369203423543,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9998408498919602},{time:12.349300000000046,pitch:166.02861243044143,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9997800566134529},{time:12.366,pitch:166.31627146361407,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9997546818203844},{time:12.382600000000092,pitch:166.49068221116875,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996897098282247},{time:12.399300000000046,pitch:166.8427732150061,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9996153493309521},{time:12.416,pitch:167.3894408302328,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9994756116351553},{time:12.432600000000093,pitch:167.73142602922553,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9993223127299871},{time:12.449399999999907,pitch:168.3645214576296,noteMidi:52,actualMidi:52.37,actualMidiChroma:4.369999999999997,centsOffset:36.999999999999744,clarity:.9985561142493182},{time:12.466,pitch:169.43647741383396,noteMidi:52,actualMidi:52.48,actualMidiChroma:4.479999999999997,centsOffset:47.99999999999969,clarity:.99624246217018},{time:12.482600000000094,pitch:169.9867167796157,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.9948881897144233},{time:12.499300000000046,pitch:171.60990828566023,noteMidi:53,actualMidi:52.7,actualMidiChroma:4.700000000000003,centsOffset:-29.999999999999716,clarity:.9931344371906619},{time:12.516,pitch:172.08588772594808,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.9927442831063047},{time:12.532699999999954,pitch:172.2321352845652,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.9928908174880036},{time:12.549300000000047,pitch:172.73607892274683,noteMidi:53,actualMidi:52.81,actualMidiChroma:4.810000000000002,centsOffset:-18.999999999999773,clarity:.9920640177391604},{time:12.566,pitch:173.24069505521152,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.9936870420610688},{time:12.582699999999953,pitch:173.20361801957,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.9945483208836663},{time:12.599399999999907,pitch:173.12705041047704,noteMidi:53,actualMidi:52.85,actualMidiChroma:4.850000000000001,centsOffset:-14.999999999999858,clarity:.9934031762708244},{time:12.6185,pitch:174.77530175576314,noteMidi:53,actualMidi:53.02,actualMidiChroma:5.020000000000003,centsOffset:2.0000000000003126,clarity:.9841012773140534},{time:12.632699999999954,pitch:175.26404850040137,noteMidi:53,actualMidi:53.06,actualMidiChroma:5.060000000000002,centsOffset:6.000000000000227,clarity:.9822435739459223},{time:12.649399999999908,pitch:174.63629436596383,noteMidi:53,actualMidi:53,actualMidiChroma:5,centsOffset:0,clarity:.9868766288684867},{time:12.666,pitch:174.29026792475238,noteMidi:53,actualMidi:52.97,actualMidiChroma:4.969999999999999,centsOffset:-3.0000000000001137,clarity:.9917270322447962},{time:12.682600000000093,pitch:174.0637455277285,noteMidi:53,actualMidi:52.95,actualMidiChroma:4.950000000000003,centsOffset:-4.999999999999716,clarity:.9928826823691494},{time:12.699300000000047,pitch:173.87239914293505,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.992273598010037},{time:12.716,pitch:174.73475052519015,noteMidi:53,actualMidi:53.01,actualMidiChroma:5.009999999999998,centsOffset:.999999999999801,clarity:.9859587106853738},{time:12.732699999999953,pitch:175.24020160912042,noteMidi:53,actualMidi:53.06,actualMidiChroma:5.060000000000002,centsOffset:6.000000000000227,clarity:.9815880842788118},{time:12.749399999999907,pitch:174.3603189169219,noteMidi:53,actualMidi:52.97,actualMidiChroma:4.969999999999999,centsOffset:-3.0000000000001137,clarity:.9870553855781736},{time:12.766,pitch:173.80799851091464,noteMidi:53,actualMidi:52.92,actualMidiChroma:4.920000000000002,centsOffset:-7.9999999999998295,clarity:.9919719199465078},{time:12.782699999999954,pitch:173.7396026782135,noteMidi:53,actualMidi:52.91,actualMidiChroma:4.909999999999997,centsOffset:-9.000000000000341,clarity:.9929966404166493},{time:12.799399999999906,pitch:173.3838860088675,noteMidi:53,actualMidi:52.88,actualMidiChroma:4.880000000000003,centsOffset:-11.999999999999744,clarity:.993641802509444},{time:12.816,pitch:173.87839139242186,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9879404665678848},{time:12.832600000000093,pitch:174.42277110483084,noteMidi:53,actualMidi:52.98,actualMidiChroma:4.979999999999997,centsOffset:-2.0000000000003126,clarity:.983568348834865},{time:12.849300000000046,pitch:173.9391404907044,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9832787731692321},{time:12.866,pitch:172.14373155966902,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.9929482009900283},{time:12.882600000000092,pitch:171.72990348246213,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9948651799283894},{time:12.899300000000046,pitch:171.02297536743802,noteMidi:53,actualMidi:52.64,actualMidiChroma:4.640000000000001,centsOffset:-35.99999999999994,clarity:.996447381238049},{time:12.915899999999906,pitch:170.42345857860482,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.9971628295995458},{time:12.932600000000093,pitch:170.08476078947328,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.99700320834976},{time:12.949300000000047,pitch:169.39413852411047,noteMidi:52,actualMidi:52.47,actualMidiChroma:4.469999999999999,centsOffset:46.999999999999886,clarity:.9969980514072745},{time:12.966,pitch:169.02426391169752,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9965993075577444},{time:12.985199999999953,pitch:168.67231413855737,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9966534863021792},{time:12.999300000000046,pitch:168.5207640347269,noteMidi:52,actualMidi:52.39,actualMidiChroma:4.390000000000001,centsOffset:39.00000000000006,clarity:.9968482891196118},{time:13.015899999999906,pitch:167.92464193116618,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9976491054710124},{time:13.032600000000093,pitch:167.61483567921258,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9980503690941305},{time:13.049300000000047,pitch:167.09129784408603,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9988878303043407},{time:13.066,pitch:166.6829552590152,noteMidi:52,actualMidi:52.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9993186997678123},{time:13.082600000000093,pitch:166.58317265915653,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9993564214868798},{time:13.099300000000046,pitch:166.4514631287783,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9994600422887459},{time:13.116,pitch:166.21271719795286,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9995356609317128},{time:13.132699999999954,pitch:166.0325330874872,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9995281016834383},{time:13.149300000000046,pitch:165.61337287991176,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9997349583266484},{time:13.166,pitch:165.4480044454292,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9998340115880993},{time:13.182600000000093,pitch:165.4012574552898,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9998300271252987},{time:13.199300000000047,pitch:165.27553403620354,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997589306951085},{time:13.216,pitch:165.0906997268016,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997629228747371},{time:13.232699999999953,pitch:164.97919779476177,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9998238237108055},{time:13.249399999999907,pitch:164.92303771364152,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998275582155998},{time:13.266,pitch:164.85622243336738,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997845330453572},{time:13.282600000000093,pitch:164.84259926678848,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9997956247800914},{time:13.299399999999906,pitch:164.72670793960103,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998012658377817},{time:13.316,pitch:164.641405023088,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997091293004772},{time:13.335,pitch:164.637110613443,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997088875487776},{time:13.349300000000046,pitch:164.59122699206978,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996793912388497},{time:13.365899999999908,pitch:164.57947265406804,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995687888261173},{time:13.382699999999954,pitch:164.56030023328938,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9995399120996709},{time:13.399300000000046,pitch:164.51639960802152,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994165082193405},{time:13.415899999999906,pitch:164.48359106117042,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993899801025847},{time:13.432600000000093,pitch:164.43112458806115,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992696440699049},{time:13.449300000000047,pitch:164.4425323765353,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993623287569733},{time:13.466,pitch:164.40605840518236,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993468355192903},{time:13.482699999999953,pitch:164.39781468249478,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992525615174088},{time:13.499399999999907,pitch:164.3410826468068,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991928274286295},{time:13.516,pitch:164.26876940089196,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991876664441008},{time:13.532600000000093,pitch:164.26672190246717,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992320413191038},{time:13.549300000000047,pitch:164.21794330654635,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990156914919055},{time:13.566,pitch:164.24060574267608,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990411018327308},{time:13.582699999999953,pitch:164.2447384453097,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992094731190662},{time:13.599300000000046,pitch:164.22971176769647,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9989939239932681},{time:13.615899999999908,pitch:164.24091735167738,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992433094639068},{time:13.632600000000092,pitch:164.21003383787328,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991090206632975},{time:13.649199999999954,pitch:164.2556155991957,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993112338180481},{time:13.666,pitch:164.29162817498033,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9994627584294449},{time:13.685100000000093,pitch:164.29970896619275,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992528862222088},{time:13.699300000000047,pitch:164.32959235634198,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991774315972464},{time:13.716,pitch:164.31640222820613,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992310713122237},{time:13.732600000000094,pitch:164.36255583671883,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9995523300291751},{time:13.749300000000046,pitch:164.35342987798222,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9993532281192188},{time:13.765899999999906,pitch:164.36085012487695,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9994437565953831},{time:13.782699999999954,pitch:164.38226521492422,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9995137500092142},{time:13.799300000000047,pitch:164.36217898011918,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9993684728012227},{time:13.815899999999907,pitch:164.3620880396468,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992878482371026},{time:13.832600000000093,pitch:164.31081347948037,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9993046951839801},{time:13.849199999999954,pitch:164.31280475561084,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9990824134482068},{time:13.866,pitch:164.3092896873149,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9987750238061466},{time:13.882699999999954,pitch:164.26407209423783,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990447205735364},{time:13.899300000000046,pitch:164.26781961681317,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991600074539093},{time:13.915899999999906,pitch:164.21415818918268,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990426000864403},{time:13.932699999999953,pitch:164.23438217716568,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9991991439029348},{time:13.949300000000047,pitch:164.2092557689644,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993184035342395},{time:13.965899999999907,pitch:164.19466961887287,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9990780851586791},{time:13.982699999999953,pitch:164.23892996661354,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9990728958285615},{time:13.999300000000046,pitch:164.21134227891287,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999346645964593},{time:14.015899999999906,pitch:164.30335765031938,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991206855691885},{time:14.035,pitch:164.30873597708282,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9992484194013684},{time:14.049300000000047,pitch:164.3469586308741,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.999386699475167},{time:14.066,pitch:164.41417191807906,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992802703053769},{time:14.082600000000093,pitch:164.4153658135478,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992038078464063},{time:14.099300000000046,pitch:164.43129277952977,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993975555990531},{time:14.116,pitch:164.41905008114782,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9993548362102374},{time:14.132600000000092,pitch:164.46025832427284,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992115273028901},{time:14.149300000000046,pitch:164.46826097384925,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9992652576446446},{time:14.166,pitch:164.48139191155713,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994216745291453},{time:14.182600000000093,pitch:164.50005733807768,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994705719196233},{time:14.199199999999953,pitch:164.50851278743286,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993325487670646},{time:14.216,pitch:164.51017648379926,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994818457615651},{time:14.232600000000094,pitch:164.47787761903572,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9994177051864455},{time:14.249300000000046,pitch:164.49826987829263,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9990872126857155},{time:14.266,pitch:164.4763328130946,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9988359269634088},{time:14.282600000000093,pitch:164.40913999678048,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9984127702426591},{time:14.299399999999906,pitch:164.42182486344177,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9962046883178388},{time:14.315899999999907,pitch:164.2911837270567,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9960264698730228},{time:14.332699999999953,pitch:164.38519088269106,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9971910778496209},{time:14.349300000000046,pitch:164.36555778499675,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9978360686914414},{time:14.368300000000046,pitch:164.2613950230256,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9969157547704413},{time:14.382600000000092,pitch:164.29481095338707,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9969762286552566},{time:14.399199999999954,pitch:164.12739376041603,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9958686635816747},{time:14.415800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.4325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.449199999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.465800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.4825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.499100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.515899999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.532399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.549100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.565800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.599100000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.615800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.632399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.649199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.665800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.6825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.699100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.718300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.7325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.749100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.765800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.7825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.799100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.815800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.8325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:14.849199999999954,pitch:290.9140056137336,noteMidi:62,actualMidi:61.84,actualMidiChroma:1.8400000000000034,centsOffset:-15.999999999999659,clarity:.2421313985819058},{time:14.865899999999908,pitch:164.57012995428374,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.8161532855289124},{time:14.882600000000092,pitch:164.59298841329377,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.8698257839050854},{time:14.899300000000046,pitch:164.63586749164165,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995485340638623},{time:14.916,pitch:164.63383497695725,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997147633418848},{time:14.932600000000093,pitch:164.64071969565765,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997367593636852},{time:14.949199999999953,pitch:164.65980504316636,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999782768953807},{time:14.966,pitch:164.64064530521335,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998257550867891},{time:14.982600000000094,pitch:164.6344279350128,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998262423623743},{time:14.999399999999907,pitch:164.62870798109938,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998356210945047},{time:15.016,pitch:164.62814794109997,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998081349558277},{time:15.032600000000093,pitch:164.62949132452215,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998020798130369},{time:15.051699999999954,pitch:164.62829554202895,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997970145577852},{time:15.066,pitch:164.630218059076,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997956739972551},{time:15.082600000000093,pitch:164.63879695193455,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998118981975921},{time:15.099199999999954,pitch:164.65117001408288,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998110556905004},{time:15.115899999999908,pitch:164.68160178066645,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998106616520133},{time:15.132600000000092,pitch:164.71784052003287,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998145140247914},{time:15.149199999999954,pitch:164.85377336740225,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9998154542374422},{time:15.165899999999906,pitch:165.03377061189093,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.999843429535126},{time:15.1825,pitch:165.13854308818927,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998452151946537},{time:15.199300000000047,pitch:165.33102314013576,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998616350365239},{time:15.215899999999907,pitch:165.63137576129907,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.999832274931471},{time:15.232600000000094,pitch:165.7837934414672,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9997788083299142},{time:15.249300000000046,pitch:166.08544101027576,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9997690124005914},{time:15.265899999999906,pitch:166.46274937407688,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9996731555713652},{time:15.282600000000093,pitch:166.6370431408558,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996250258911132},{time:15.299199999999953,pitch:167.1052915495754,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9995911963624025},{time:15.316,pitch:167.581455773751,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9994859710838071},{time:15.332600000000093,pitch:167.86512732593093,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9993876619500384},{time:15.349300000000046,pitch:168.6245858564438,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9983964587898271},{time:15.365899999999908,pitch:169.70874392975196,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9961058049698011},{time:15.385100000000094,pitch:171.66495337432676,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9925077706296719},{time:15.399300000000046,pitch:172.40644266397334,noteMidi:53,actualMidi:52.78,actualMidiChroma:4.780000000000001,centsOffset:-21.999999999999886,clarity:.9924732277651884},{time:15.415899999999906,pitch:173.48726713804393,noteMidi:53,actualMidi:52.89,actualMidiChroma:4.890000000000001,centsOffset:-10.999999999999943,clarity:.9916148206848874},{time:15.432600000000093,pitch:173.963511164248,noteMidi:53,actualMidi:52.94,actualMidiChroma:4.939999999999998,centsOffset:-6.000000000000227,clarity:.9896689706848463},{time:15.449300000000047,pitch:175.16036943900133,noteMidi:53,actualMidi:53.05,actualMidiChroma:5.049999999999997,centsOffset:4.999999999999716,clarity:.9907720181884017},{time:15.466,pitch:175.6584190101521,noteMidi:53,actualMidi:53.1,actualMidiChroma:5.100000000000001,centsOffset:10.000000000000142,clarity:.9921100629148185},{time:15.482600000000094,pitch:175.81819853608042,noteMidi:53,actualMidi:53.12,actualMidiChroma:5.119999999999997,centsOffset:11.999999999999744,clarity:.9900103829605271},{time:15.499199999999954,pitch:177.47569149438309,noteMidi:53,actualMidi:53.28,actualMidiChroma:5.280000000000001,centsOffset:28.000000000000114,clarity:.9821667798021849},{time:15.516,pitch:177.85746860743478,noteMidi:53,actualMidi:53.32,actualMidiChroma:5.32,centsOffset:32.00000000000003,clarity:.9822603927675857},{time:15.532600000000093,pitch:177.7305141963233,noteMidi:53,actualMidi:53.31,actualMidiChroma:5.310000000000002,centsOffset:31.000000000000227,clarity:.986045796150151},{time:15.549300000000047,pitch:177.92672222634016,noteMidi:53,actualMidi:53.33,actualMidiChroma:5.329999999999998,centsOffset:32.99999999999983,clarity:.9870553053559306},{time:15.565899999999907,pitch:178.9528408841786,noteMidi:53,actualMidi:53.42,actualMidiChroma:5.420000000000002,centsOffset:42.00000000000017,clarity:.979806463977944},{time:15.582600000000093,pitch:179.5221695955171,noteMidi:53,actualMidi:53.48,actualMidiChroma:5.479999999999997,centsOffset:47.99999999999969,clarity:.9771490056626959},{time:15.599199999999954,pitch:179.1673950280054,noteMidi:53,actualMidi:53.45,actualMidiChroma:5.450000000000003,centsOffset:45.000000000000284,clarity:.9825840230796743},{time:15.616,pitch:178.72440821034422,noteMidi:53,actualMidi:53.4,actualMidiChroma:5.399999999999999,centsOffset:39.99999999999986,clarity:.9866950393541387},{time:15.6325,pitch:179.30692986338647,noteMidi:53,actualMidi:53.46,actualMidiChroma:5.460000000000001,centsOffset:46.000000000000085,clarity:.9826147241884229},{time:15.649300000000046,pitch:180.47615780704726,noteMidi:54,actualMidi:53.57,actualMidiChroma:5.57,centsOffset:-42.99999999999997,clarity:.9736180940988106},{time:15.665899999999906,pitch:179.9556847611114,noteMidi:54,actualMidi:53.52,actualMidiChroma:5.520000000000003,centsOffset:-47.99999999999969,clarity:.9831329414000791},{time:15.682600000000093,pitch:179.89652600468818,noteMidi:54,actualMidi:53.52,actualMidiChroma:5.520000000000003,centsOffset:-47.99999999999969,clarity:.9840994032757209},{time:15.699199999999953,pitch:181.11645824795818,noteMidi:54,actualMidi:53.63,actualMidiChroma:5.630000000000003,centsOffset:-36.999999999999744,clarity:.975128993526809},{time:15.718300000000047,pitch:182.10848209627042,noteMidi:54,actualMidi:53.73,actualMidiChroma:5.729999999999997,centsOffset:-27.000000000000313,clarity:.9727933440239411},{time:15.732600000000094,pitch:181.68479145332344,noteMidi:54,actualMidi:53.69,actualMidiChroma:5.689999999999998,centsOffset:-31.000000000000227,clarity:.9787736678922485},{time:15.749300000000046,pitch:181.5577754482416,noteMidi:54,actualMidi:53.68,actualMidiChroma:5.68,centsOffset:-32.00000000000003,clarity:.9786507611462625},{time:15.765899999999906,pitch:182.36748846015303,noteMidi:54,actualMidi:53.75,actualMidiChroma:5.75,centsOffset:-25,clarity:.9712378016005658},{time:15.782600000000093,pitch:182.26210996180527,noteMidi:54,actualMidi:53.74,actualMidiChroma:5.740000000000002,centsOffset:-25.9999999999998,clarity:.9727220947547579},{time:15.799199999999953,pitch:180.82489419714184,noteMidi:54,actualMidi:53.61,actualMidiChroma:5.609999999999999,centsOffset:-39.00000000000006,clarity:.981265437623982},{time:15.815899999999907,pitch:181.78412403084377,noteMidi:54,actualMidi:53.7,actualMidiChroma:5.700000000000003,centsOffset:-29.999999999999716,clarity:.9740195968928731},{time:15.8325,pitch:182.14308730495148,noteMidi:54,actualMidi:53.73,actualMidiChroma:5.729999999999997,centsOffset:-27.000000000000313,clarity:.968022192538811},{time:15.849300000000046,pitch:181.0743062334016,noteMidi:54,actualMidi:53.63,actualMidiChroma:5.630000000000003,centsOffset:-36.999999999999744,clarity:.9794905094546493},{time:15.865899999999908,pitch:180.96524965056975,noteMidi:54,actualMidi:53.62,actualMidiChroma:5.619999999999997,centsOffset:-38.000000000000256,clarity:.9788311902833797},{time:15.882600000000092,pitch:181.22669918505758,noteMidi:54,actualMidi:53.64,actualMidiChroma:5.640000000000001,centsOffset:-35.99999999999994,clarity:.9780995164753676},{time:15.899199999999954,pitch:181.04540937765643,noteMidi:54,actualMidi:53.63,actualMidiChroma:5.630000000000003,centsOffset:-36.999999999999744,clarity:.9730196600587107},{time:15.915899999999906,pitch:179.37990877061884,noteMidi:53,actualMidi:53.47,actualMidiChroma:5.469999999999999,centsOffset:46.999999999999886,clarity:.9832734268029455},{time:15.932600000000093,pitch:179.1655569708442,noteMidi:53,actualMidi:53.45,actualMidiChroma:5.450000000000003,centsOffset:45.000000000000284,clarity:.9836109636626347},{time:15.949199999999953,pitch:179.7265060932876,noteMidi:54,actualMidi:53.5,actualMidiChroma:5.5,centsOffset:-50,clarity:.9772443902440102},{time:15.965899999999907,pitch:178.12473526829396,noteMidi:53,actualMidi:53.34,actualMidiChroma:5.340000000000003,centsOffset:34.00000000000034,clarity:.9786240854316546},{time:15.982600000000094,pitch:176.58710134283783,noteMidi:53,actualMidi:53.19,actualMidiChroma:5.189999999999998,centsOffset:18.999999999999773,clarity:.9862545657755959},{time:15.999199999999954,pitch:174.0578246980628,noteMidi:53,actualMidi:52.94,actualMidiChroma:4.939999999999998,centsOffset:-6.000000000000227,clarity:.9908591509370837},{time:16.015899999999906,pitch:172.57986228893117,noteMidi:53,actualMidi:52.8,actualMidiChroma:4.799999999999997,centsOffset:-20.000000000000284,clarity:.9911189512797094},{time:16.032600000000095,pitch:172.57715731370683,noteMidi:53,actualMidi:52.8,actualMidiChroma:4.799999999999997,centsOffset:-20.000000000000284,clarity:.9859343972285828},{time:16.051600000000093,pitch:172.6973310566844,noteMidi:53,actualMidi:52.81,actualMidiChroma:4.810000000000002,centsOffset:-18.999999999999773,clarity:.9831621103904382},{time:16.066,pitch:171.7537433769402,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9837132304895135},{time:16.08260000000009,pitch:171.18076907456629,noteMidi:53,actualMidi:52.66,actualMidiChroma:4.659999999999997,centsOffset:-34.00000000000034,clarity:.9873499495040079},{time:16.099199999999954,pitch:169.65290825954716,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9917157825764633},{time:16.115899999999908,pitch:169.08842489845517,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9936791588650138},{time:16.1325,pitch:168.8543860482823,noteMidi:52,actualMidi:52.42,actualMidiChroma:4.420000000000002,centsOffset:42.00000000000017,clarity:.9943031374838256},{time:16.149199999999954,pitch:168.2533860507679,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.9943735297103089},{time:16.16589999999991,pitch:168.10895951079405,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9950852633783995},{time:16.1825,pitch:167.88870429414325,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.9946549322413034},{time:16.199300000000047,pitch:167.5414404316285,noteMidi:52,actualMidi:52.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9943736488862456},{time:16.215899999999905,pitch:167.39093757729333,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9929152654336022},{time:16.232600000000094,pitch:167.04477240607747,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9924381580804322},{time:16.249300000000048,pitch:166.9030006274428,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9918287158560517},{time:16.265899999999906,pitch:166.64922107662372,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9901634557768375},{time:16.282600000000095,pitch:166.52317812132702,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9897762314990715},{time:16.299300000000045,pitch:166.55574962002436,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9882995059442337},{time:16.315899999999907,pitch:166.14069773425553,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9867146377900795},{time:16.33260000000009,pitch:166.4010516945281,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9872918224744964},{time:16.349199999999954,pitch:165.81423696109044,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9845739560435618},{time:16.366,pitch:165.89841010934978,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9830363592428384},{time:16.385,pitch:166.07727465239654,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9809857788645502},{time:16.399199999999954,pitch:165.7760672219568,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9799340897605404},{time:16.41589999999991,pitch:165.95531350853008,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9792327503982392},{time:16.4325,pitch:165.69011936094003,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9779035418244106},{time:16.449199999999955,pitch:166.03583863829118,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9781225427776121},{time:16.465899999999905,pitch:165.35493338383029,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.975252786098352},{time:16.482600000000094,pitch:165.99540945817478,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.974701476490111},{time:16.499300000000048,pitch:165.2762453195656,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9733510664492329},{time:16.515899999999906,pitch:165.62961527079156,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9730420622325511},{time:16.532600000000095,pitch:165.0826041311463,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9723120499144926},{time:16.549199999999953,pitch:165.59348400504587,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9703490821784655},{time:16.565899999999907,pitch:164.9925357453912,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.969573980743391},{time:16.58260000000009,pitch:165.40895280035508,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9714670973299491},{time:16.599199999999954,pitch:164.6091744737456,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9695280051537978},{time:16.615899999999908,pitch:164.74234044580953,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9714951260245854},{time:16.632600000000092,pitch:164.2763204116287,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9689488776002051},{time:16.649300000000046,pitch:164.52003772077492,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9715520733761238},{time:16.66589999999991,pitch:164.31221103783005,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9732129306843973},{time:16.682600000000093,pitch:164.50513720389506,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9739552509479736},{time:16.699199999999955,pitch:164.08311359632793,noteMidi:52,actualMidi:51.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9749666715345526},{time:16.718199999999953,pitch:164.493114738392,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.97298635220492},{time:16.732600000000094,pitch:164.2812436673432,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.97418951544973},{time:16.749199999999952,pitch:164.70486357217123,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9748809594906476},{time:16.765899999999906,pitch:164.32320486302282,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9744087512066173},{time:16.782600000000095,pitch:164.8442799201956,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9757426113209533},{time:16.799199999999953,pitch:163.98532547859693,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9749200377585439},{time:16.815800000000046,pitch:164.43892121743576,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9777309271296843},{time:16.8325,pitch:163.97845924960347,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9776095106905132},{time:16.849300000000046,pitch:164.3025656584806,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9789039412166431},{time:16.865899999999908,pitch:163.88619311270043,noteMidi:52,actualMidi:51.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9789124387957031},{time:16.882600000000092,pitch:164.5972019494292,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9765877996930215},{time:16.899300000000046,pitch:164.16604024716332,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9745155261679557},{time:16.91589999999991,pitch:164.42141677570973,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9719924726658604},{time:16.9325,pitch:164.2823726393027,noteMidi:52,actualMidi:51.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9706357914766883},{time:16.949199999999955,pitch:164.9310903712281,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9685338288299477},{time:16.965899999999905,pitch:163.97034415772086,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.964452584747292},{time:16.982600000000094,pitch:164.9828934533351,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9655245442445519},{time:16.999199999999952,pitch:163.47886469388828,noteMidi:52,actualMidi:51.86,actualMidiChroma:3.8599999999999994,centsOffset:-14.000000000000057,clarity:.9650959486634463},{time:17.016,pitch:164.40767478547127,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9650638561715112},{time:17.032600000000095,pitch:164.1138124977332,noteMidi:52,actualMidi:51.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9590824975024361},{time:17.051600000000093,pitch:164.78423332122753,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9484419636517885},{time:17.066,pitch:163.97846169559966,noteMidi:52,actualMidi:51.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.93807170864455},{time:17.08260000000009,pitch:165.17572554039168,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9321226597723253},{time:17.099300000000046,pitch:164.38572972521004,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9164446683576486},{time:17.115899999999908,pitch:165.1442444149234,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9054764180555992},{time:17.132399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.149,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.165699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.182399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.199100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.215699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.232399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.249100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.282399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.29910000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.315800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.332399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.365699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.384800000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.415699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.432399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.449100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.465800000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.4825,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.499100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.515699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.532399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.549,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.565699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.599,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.615800000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.632399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.649,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.665800000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.682399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:17.699199999999955,pitch:164.57998956916842,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.7727720442789803},{time:17.718300000000045,pitch:164.47721978676518,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9246529358668312},{time:17.7325,pitch:164.45578935925158,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9969270385712719},{time:17.749199999999952,pitch:164.4149330328975,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996402448748398},{time:17.765899999999906,pitch:164.44192272643383,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996589550079591},{time:17.7825,pitch:164.4825083325738,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996502675211758},{time:17.799199999999953,pitch:164.55517540086996,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996484187045525},{time:17.815899999999907,pitch:164.88169234767184,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995704376009229},{time:17.8325,pitch:165.10641321497263,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9994829198074342},{time:17.849300000000046,pitch:165.6676152815397,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9992742112508068},{time:17.865899999999908,pitch:166.4060070391678,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.999037556667389},{time:17.8825,pitch:166.91940569218582,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9990396778874029},{time:17.899199999999954,pitch:167.96361774512616,noteMidi:52,actualMidi:52.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.998317130348795},{time:17.91589999999991,pitch:169.23796065493778,noteMidi:52,actualMidi:52.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.9977794218778726},{time:17.932600000000093,pitch:170.06654866910802,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.997127260606419},{time:17.949199999999955,pitch:172.25072570902444,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.9943001882427893},{time:17.965899999999905,pitch:173.7199575445278,noteMidi:53,actualMidi:52.91,actualMidiChroma:4.909999999999997,centsOffset:-9.000000000000341,clarity:.9961581555997299},{time:17.9825,pitch:173.91781227503608,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9968169905550468},{time:17.999300000000048,pitch:173.88446138127503,noteMidi:53,actualMidi:52.93,actualMidiChroma:4.93,centsOffset:-7.000000000000028,clarity:.9965775740244567},{time:18.015899999999906,pitch:173.63387104701584,noteMidi:53,actualMidi:52.9,actualMidiChroma:4.899999999999999,centsOffset:-10.000000000000142,clarity:.9966155610723106},{time:18.032600000000095,pitch:172.78384867194669,noteMidi:53,actualMidi:52.82,actualMidiChroma:4.82,centsOffset:-17.99999999999997,clarity:.9951105908396514},{time:18.051100000000094,pitch:170.08775804537447,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9916798371994133},{time:18.066,pitch:166.86389856475975,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9957191318935585},{time:18.0825,pitch:165.98736315145183,noteMidi:52,actualMidi:52.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9981692907414512},{time:18.099199999999954,pitch:164.88311284756796,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9992467871283992},{time:18.115899999999908,pitch:164.51474133474554,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9994753958775817},{time:18.1325,pitch:164.45115317740897,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996266073228526},{time:18.149100000000093,pitch:164.43862086254407,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9995002523822976},{time:18.16589999999991,pitch:164.48732682994628,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9995730223335499},{time:18.182600000000093,pitch:164.63361382583108,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995562954528978},{time:18.199199999999955,pitch:165.14742332810414,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9990159644724628},{time:18.215899999999905,pitch:166.62436970045832,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9974683968552043},{time:18.232399999999906,pitch:167.66486934881792,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9975439322931408},{time:18.249199999999952,pitch:169.72913251036255,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9952223978808945},{time:18.265800000000045,pitch:172.46704755161718,noteMidi:53,actualMidi:52.79,actualMidiChroma:4.789999999999999,centsOffset:-21.000000000000085,clarity:.9865751326285022},{time:18.282600000000095,pitch:173.73037148108455,noteMidi:53,actualMidi:52.91,actualMidiChroma:4.909999999999997,centsOffset:-9.000000000000341,clarity:.9851265790425643},{time:18.299199999999953,pitch:174.84464473761142,noteMidi:53,actualMidi:53.02,actualMidiChroma:5.020000000000003,centsOffset:2.0000000000003126,clarity:.9857757586510871},{time:18.315800000000046,pitch:174.2640528707011,noteMidi:53,actualMidi:52.97,actualMidiChroma:4.969999999999999,centsOffset:-3.0000000000001137,clarity:.9883993225014152},{time:18.3325,pitch:173.98260702768584,noteMidi:53,actualMidi:52.94,actualMidiChroma:4.939999999999998,centsOffset:-6.000000000000227,clarity:.9910026034929444},{time:18.349300000000046,pitch:171.74792071135678,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.9902939780493085},{time:18.365899999999908,pitch:168.67651283378117,noteMidi:52,actualMidi:52.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9929500045224557},{time:18.384899999999906,pitch:166.13627783624412,noteMidi:52,actualMidi:52.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9977212136227536},{time:18.399199999999954,pitch:165.7675233679335,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.998050684530206},{time:18.41589999999991,pitch:164.735494526045,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988547892763933},{time:18.4325,pitch:164.67257705113946,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99905210500593},{time:18.449199999999955,pitch:164.5490994686062,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9995279523206548},{time:18.465800000000048,pitch:164.71409764890294,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995310718626484},{time:18.482600000000094,pitch:164.76666142715274,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9994748400759903},{time:18.499199999999952,pitch:165.66144596266213,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9986019406279709},{time:18.515899999999906,pitch:167.13261781341328,noteMidi:52,actualMidi:52.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9974949761015992},{time:18.5325,pitch:168.1067615925246,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9972864128409924},{time:18.549300000000045,pitch:170.04599456947807,noteMidi:53,actualMidi:52.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.9934944731182185},{time:18.565800000000046,pitch:172.06570133883574,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.984860053159224},{time:18.5825,pitch:173.29296687972533,noteMidi:53,actualMidi:52.87,actualMidiChroma:4.869999999999997,centsOffset:-13.000000000000256,clarity:.9807336000324796},{time:18.599199999999954,pitch:172.9932802447196,noteMidi:53,actualMidi:52.84,actualMidiChroma:4.840000000000003,centsOffset:-15.999999999999659,clarity:.9799297298676635},{time:18.615899999999908,pitch:171.36492150324185,noteMidi:53,actualMidi:52.67,actualMidiChroma:4.670000000000002,centsOffset:-32.99999999999983,clarity:.9897893074874844},{time:18.6325,pitch:170.14980006791941,noteMidi:53,actualMidi:52.55,actualMidiChroma:4.549999999999997,centsOffset:-45.000000000000284,clarity:.9910362643511021},{time:18.649199999999954,pitch:167.44384117714105,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.993051792624172},{time:18.665800000000047,pitch:165.22582272657877,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9981739872805448},{time:18.6825,pitch:164.78879069527054,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.9983012373363778},{time:18.699199999999955,pitch:164.32625733635055,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9991416024744311},{time:18.718300000000045,pitch:164.3903231521565,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999189560110139},{time:18.732600000000094,pitch:164.46385047142346,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9990973850110692},{time:18.749199999999952,pitch:164.53049698340166,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9988266088829292},{time:18.765899999999906,pitch:164.92667230794933,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9984491645588633},{time:18.7825,pitch:165.30675676679945,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.997597406277599},{time:18.799199999999953,pitch:166.90761095332266,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9969923746601381},{time:18.815800000000046,pitch:168.73573424861826,noteMidi:52,actualMidi:52.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.9961034421286357},{time:18.832399999999907,pitch:169.6041950565177,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9962297700892222},{time:18.849199999999954,pitch:170.57338648094893,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.9943968837526143},{time:18.865899999999908,pitch:171.31291330076056,noteMidi:53,actualMidi:52.67,actualMidiChroma:4.670000000000002,centsOffset:-32.99999999999983,clarity:.9891469652018898},{time:18.8825,pitch:171.22883686892695,noteMidi:53,actualMidi:52.66,actualMidiChroma:4.659999999999997,centsOffset:-34.00000000000034,clarity:.9869853479615216},{time:18.899199999999954,pitch:170.27383423140733,noteMidi:53,actualMidi:52.56,actualMidiChroma:4.560000000000002,centsOffset:-43.99999999999977,clarity:.9775011954684771},{time:18.915800000000047,pitch:167.71592374224616,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9812556826286993},{time:18.932600000000093,pitch:166.22138186738889,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9887732968119707},{time:18.949199999999955,pitch:164.8982681101341,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9948917420969394},{time:18.965899999999905,pitch:164.55115053891606,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9966348282612216},{time:18.9825,pitch:164.4735597470431,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9964157800242077},{time:18.999199999999952,pitch:164.55622824203806,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9965722272201418},{time:19.015899999999906,pitch:164.92072315029398,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9957028177327061},{time:19.032600000000095,pitch:165.33281593048216,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9935828708774466},{time:19.049399999999906,pitch:166.9967368371517,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9881827871475082},{time:19.065899999999907,pitch:168.95780132726878,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9902845598306982},{time:19.0825,pitch:169.40737836787082,noteMidi:52,actualMidi:52.48,actualMidiChroma:4.479999999999997,centsOffset:47.99999999999969,clarity:.9867912160503352},{time:19.099100000000092,pitch:170.44965854250455,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.9849351718486687},{time:19.115800000000046,pitch:170.29193324934093,noteMidi:53,actualMidi:52.57,actualMidiChroma:4.57,centsOffset:-42.99999999999997,clarity:.9899208990849857},{time:19.1325,pitch:169.68642079390094,noteMidi:53,actualMidi:52.5,actualMidiChroma:4.5,centsOffset:-50,clarity:.9930653730752823},{time:19.149199999999954,pitch:167.49688798620843,noteMidi:52,actualMidi:52.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9955527264094499},{time:19.16589999999991,pitch:165.679074452243,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.997882574260359},{time:19.1825,pitch:165.01335564073892,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9981803240697786},{time:19.199199999999955,pitch:164.51865397590194,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.998665138074692},{time:19.215800000000048,pitch:164.4397190427387,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9985661489071589},{time:19.2325,pitch:164.4685504202222,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9985983274136956},{time:19.249199999999952,pitch:164.56773279425377,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9980672886831776},{time:19.265800000000045,pitch:165.8627174266473,noteMidi:52,actualMidi:52.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9970910370976291},{time:19.282600000000095,pitch:166.3648561719326,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9959837252060488},{time:19.299199999999953,pitch:168.47476615320636,noteMidi:52,actualMidi:52.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9943038072476327},{time:19.315800000000046,pitch:169.94072689004724,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9912736468743546},{time:19.3325,pitch:170.76862209908052,noteMidi:53,actualMidi:52.61,actualMidiChroma:4.609999999999999,centsOffset:-39.00000000000006,clarity:.9860803610243991},{time:19.349100000000092,pitch:172.89948735302,noteMidi:53,actualMidi:52.83,actualMidiChroma:4.829999999999998,centsOffset:-17.00000000000017,clarity:.9638011170199903},{time:19.365800000000046,pitch:173.0498734715289,noteMidi:53,actualMidi:52.84,actualMidiChroma:4.840000000000003,centsOffset:-15.999999999999659,clarity:.9571045928507687},{time:19.384699999999953,pitch:170.79729802886033,noteMidi:53,actualMidi:52.62,actualMidiChroma:4.619999999999997,centsOffset:-38.000000000000256,clarity:.9668708445818055},{time:19.399100000000093,pitch:169.4903012884934,noteMidi:52,actualMidi:52.48,actualMidiChroma:4.479999999999997,centsOffset:47.99999999999969,clarity:.9653903824279766},{time:19.41589999999991,pitch:166.36512838538366,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9848366052161452},{time:19.4325,pitch:165.2705057508452,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9935585702064742},{time:19.449199999999955,pitch:164.56252860615638,noteMidi:52,actualMidi:51.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9968436529344586},{time:19.465899999999905,pitch:164.47170713626528,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.998098569218655},{time:19.4825,pitch:164.36083845120723,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9978143175691159},{time:19.499199999999952,pitch:164.9048148927852,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9974313589979005},{time:19.515800000000045,pitch:165.74402273235313,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9955778571276994},{time:19.5325,pitch:166.50940026992177,noteMidi:52,actualMidi:52.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9951580883332056},{time:19.549199999999953,pitch:167.994426537849,noteMidi:52,actualMidi:52.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.9940050512762646},{time:19.565800000000046,pitch:168.96705826010216,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9928928361282168},{time:19.5825,pitch:168.94884520002324,noteMidi:52,actualMidi:52.43,actualMidiChroma:4.43,centsOffset:42.99999999999997,clarity:.9943650482001516},{time:19.599199999999954,pitch:169.18202330666264,noteMidi:52,actualMidi:52.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9926188576843415},{time:19.615800000000046,pitch:168.0969240532466,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.988447193970373},{time:19.6325,pitch:167.40196788959187,noteMidi:52,actualMidi:52.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9858606810899531},{time:19.649199999999954,pitch:165.71655037734524,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9914006918700835},{time:19.665800000000047,pitch:164.88612499065755,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9952268350780074},{time:19.6825,pitch:165.11697692775184,noteMidi:52,actualMidi:52.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9955985416050908},{time:19.699300000000047,pitch:164.92967109458556,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9936953873331547},{time:19.718199999999953,pitch:165.8139785784379,noteMidi:52,actualMidi:52.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9893994698099462},{time:19.732600000000094,pitch:166.01761581422676,noteMidi:52,actualMidi:52.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.986286924307457},{time:19.749199999999952,pitch:168.1032622945923,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.9799163663223496},{time:19.765899999999906,pitch:169.976861329392,noteMidi:53,actualMidi:52.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.9757273795520405},{time:19.782300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.799,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.815699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.832300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.849199999999954,pitch:165.27472527472528,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9815936240744065},{time:19.865800000000046,pitch:164.66410132903746,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9938913691267004},{time:19.8825,pitch:164.36341042779847,noteMidi:52,actualMidi:51.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9949264360666135},{time:19.899199999999954,pitch:164.6708455564373,noteMidi:52,actualMidi:51.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9956311543627621},{time:19.915699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.932300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.949100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.965800000000048,pitch:167.87580053135977,noteMidi:52,actualMidi:52.32,actualMidiChroma:4.32,centsOffset:32.00000000000003,clarity:.991443034661522},{time:19.9825,pitch:168.3522347794266,noteMidi:52,actualMidi:52.37,actualMidiChroma:4.369999999999997,centsOffset:36.999999999999744,clarity:.9922386423190233},{time:19.999199999999952,pitch:169.03958168031645,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9900293494549324},{time:20.015800000000045,pitch:169.0567393273612,noteMidi:52,actualMidi:52.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.9832601877331157},{time:20.0325,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.05139999999991,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.065699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.082300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.099100000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.115699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.132300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.149,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.165699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.182399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.199,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.215600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.232399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.249,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.282399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.299,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.315699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.332300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.368100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.382399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.415699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.432300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.449,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.465699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.482300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.499100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.51560000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.532399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.549,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.565699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.599,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.615600000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.632300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.649,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.665699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.682399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.7015,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.715699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.732399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.749,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.765699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.782300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.799,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.815699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.832399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.849100000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.865699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.882300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.899,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.915600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.932300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.949,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.965699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.982399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.999,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.015699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.0345,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.049,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.065600000000092,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.082399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.099,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.115699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.132300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.149,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.165699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.182300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.199,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.215600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.232300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.249100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.282300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.29910000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.315699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.332300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.365699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.382399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.415699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.432399999999905,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.449,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.465699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.482399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.499199999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.515699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.532300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.54910000000009,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.565699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.582399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.599,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.615699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.632399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.649,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.665699999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.684300000000047,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.699199999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.715600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.732300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.749,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.765699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.782399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.799,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.815699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.832300000000046,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.849,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.865699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.882399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.899199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.915600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.932300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.949100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.965699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.982300000000045,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.001199999999955,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.015699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.032399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.049,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.065699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.082399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.099199999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.115699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.132399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.149100000000093,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.165600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.182300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.199100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.215699999999952,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.232399999999906,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.249,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.265699999999953,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.282399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.299,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.318100000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.332399999999907,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.349,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.365699999999954,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.382399999999908,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.399,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.415600000000094,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.432300000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.449,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.465800000000048,pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0}],eMt="pitch-bend-audio",iMt="2024-07-03T13:38:52.148Z",nMt={pastTime:qgt,firstTimeStamp:Xgt,minVolumeDecibels:Ygt,ignoreOctave:Zgt,bendValues:tMt,_appId:eMt,_date:iMt};function rMt(e){let t,i,n,a,o,l,c,d,u;return{c(){t=q("p"),t.textContent="1) Play/sing a bend by one semitone (for example, A to A#).",i=K(),n=q("p"),n.textContent="2) Play/sing a bend by two semitones (for example, A to B).",a=K(),o=q("p"),o.textContent="3) Play/sing a vibrato where you always bend by one semitone.",l=K(),c=q("p"),c.textContent=`4) Play/sing a vibrato and then a second one with twice the
                frequency of modulation.`,d=K(),u=q("p"),u.textContent=`5) Slide from one note to a much higher one as smoothly as
                possible.`},m(h,p){bt(h,t,p),bt(h,i,p),bt(h,n,p),bt(h,a,p),bt(h,o,p),bt(h,l,p),bt(h,c,p),bt(h,d,p),bt(h,u,p)},p:We,d(h){h&&(vt(t),vt(i),vt(n),vt(a),vt(o),vt(l),vt(c),vt(d),vt(u))}}}function aMt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h=e[3]?"play":"pause",p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht;function st(kt){e[15](kt)}let St={label:"past seconds",callback:e[10],min:5,max:60,step:5};e[5]!==void 0&&(St.value=e[5]),M=new M0({props:St}),he.push(()=>Ee(M,"value",st));function At(kt){e[17](kt)}let xt={title:"The minimum loudness in decibels for a sound to be registered as input. Lower means fainter notes will be registered but there will be more noise such as octave errors.",label:"min. decibels",callback:e[16],min:-40,max:-5,step:5};e[7]!==void 0&&(xt.value=e[7]),b=new M0({props:xt}),he.push(()=>Ee(b,"value",At));function gt(kt){e[18](kt)}let yt={label:"ignore octave",title:"When ignoring the octave, the lower visualization will only show the note's chroma from C to B",callback:e[10]};e[6]!==void 0&&(yt.checked=e[6]),w=new zn({props:yt}),he.push(()=>Ee(w,"checked",gt));function lt(kt){e[22](kt)}let zt={saveToStorage:lMt,callback:e[21]};return e[8]!==void 0&&(zt.notes=e[8]),N=new c9({props:zt}),he.push(()=>Ee(N,"notes",lt)),z=new f9({props:{loadData:e[13],getExportData:e[12],appId:e[0].id}}),H=new e9({props:{$$slots:{default:[rMt]},$$scope:{ctx:e}}}),Z=new i9({props:{appId:e[0].id}}),W=new X9({props:{key:" ",keyDown:e[14]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing pitch bends or vibratos with any
            instrument that supports pitch modulation or with you singing voice.
            The line chart below shows how far you bend up and down over time.`,c=K(),d=q("div"),u=q("button"),p=te(h),f=K(),Pt(M.$$.fragment),y=K(),Pt(b.$$.fragment),C=K(),Pt(w.$$.fragment),E=K(),S=q("button"),S.textContent="resume",I=K(),T=q("div"),k=K(),D=q("div"),Pt(N.$$.fragment),F=K(),U=q("button"),U.textContent="example",V=K(),Pt(z.$$.fragment),G=K(),Pt(H.$$.fragment),J=K(),Pt(Z.$$.fragment),j=K(),Pt(W.$$.fragment),mt(l,"class","explanation"),mt(u,"title","Pause the moving visualization (shortcut: space)"),sn(u,"width","75px"),mt(S,"title","Press this button if your browser prevents audio access because there needs to be a user interaction first"),mt(d,"class","control"),mt(T,"class","visualization"),mt(D,"class","control"),mt(t,"class","app")},m(kt,Jt){bt(kt,t,Jt),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(d,u),B(u,p),B(d,f),Rt(M,d,null),B(d,y),Rt(b,d,null),B(d,C),Rt(w,d,null),B(d,E),B(d,S),B(t,I),B(t,T),e[20](T),B(t,k),B(t,D),Rt(N,D,null),B(D,F),B(D,U),B(D,V),Rt(z,D,null),B(t,G),Rt(H,t,null),B(t,J),Rt(Z,t,null),B(t,j),Rt(W,t,null),et=!0,dt||(ht=[ze(u,"click",e[14]),ze(S,"click",e[19]),ze(U,"click",e[23])],dt=!0)},p(kt,Jt){(!et||Jt&1)&&n!==(n=kt[0].title+"")&&Qe(a,n),(!et||Jt&8)&&h!==(h=kt[3]?"play":"pause")&&Qe(p,h);const Gt={};!g&&Jt&32&&(g=!0,Gt.value=kt[5],_e(()=>g=!1)),M.$set(Gt);const ce={};Jt&132&&(ce.callback=kt[16]),!v&&Jt&128&&(v=!0,ce.value=kt[7],_e(()=>v=!1)),b.$set(ce);const ae={};!_&&Jt&64&&(_=!0,ae.checked=kt[6],_e(()=>_=!1)),w.$set(ae);const qt={};Jt&16&&(qt.callback=kt[21]),!P&&Jt&256&&(P=!0,qt.notes=kt[8],_e(()=>P=!1)),N.$set(qt);const ue={};Jt&1&&(ue.appId=kt[0].id),z.$set(ue);const $e={};Jt&536870912&&($e.$$scope={dirty:Jt,ctx:kt}),H.$set($e);const ve={};Jt&1&&(ve.appId=kt[0].id),Z.$set(ve)},i(kt){et||(wt(M.$$.fragment,kt),wt(b.$$.fragment,kt),wt(w.$$.fragment,kt),wt(N.$$.fragment,kt),wt(z.$$.fragment,kt),wt(H.$$.fragment,kt),wt(Z.$$.fragment,kt),wt(W.$$.fragment,kt),et=!0)},o(kt){It(M.$$.fragment,kt),It(b.$$.fragment,kt),It(w.$$.fragment,kt),It(N.$$.fragment,kt),It(z.$$.fragment,kt),It(H.$$.fragment,kt),It(Z.$$.fragment,kt),It(W.$$.fragment,kt),et=!1},d(kt){kt&&vt(t),Dt(M),Dt(b),Dt(w),e[20](null),Dt(N),Dt(z),Dt(H),Dt(Z),Dt(W),dt=!1,t0(ht)}}}function oMt(e){let t,i;return t=new m9({props:{loadData:e[13],$$slots:{default:[aMt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&536871423&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let sMt=600;const hT=16,lMt=()=>{};function cMt(e,t,i){let n,{appInfo:a}=t,o,l,c,d,u=!1,h=performance.now(),p=new window.AudioContext,f=10,M=!0,g=-20,y=[],b=0;function v(z,G){l.getFloatTimeDomainData(z);const H=c.findPitch(z,G),J=H[0],Z=H[1],j=A3(J),et={time:(performance.now()-h)/1e3,pitch:J,actualMidi:j,actualMidiChroma:j%12,clarity:Z};if(y.push(et),y.length>3){const dt=j,ht=y.at(-2).actualMidi,st=y.at(-3).actualMidi;Math.abs(dt-st)<1.5&&Math.abs(dt-ht)>1.5&&y.splice(-2,1)}C(),d=requestAnimationFrame(()=>v(z,G))}const C=()=>{if(!o)return;i(1,o.textContent="",o);let z;y.length>0?z=y.at(-1).time:z=(performance.now()-h)/1e3;const G=y.filter((et,dt)=>dt===0||Math.abs(y[dt-1].pitch-et.pitch)<3),H=z-f,J=1e3/hT;let Z=Math.round(Qd(G.slice(-J),et=>et.actualMidi));isNaN(Z)?Z=b:b=Z;const j=et=>Math.floor(et)===et?DA(et,{pitchClass:M,sharps:!0}):"",W=On({width:n,height:sMt,marginBottom:50,padding:0,x:{domain:[H,z-hT/1e3],label:"time in seconds"},y:{domain:M?[0,12]:[Z-5,Z+5],label:M?"chroma":"pitch",grid:!0},marks:[pb(G,{x:"time",y:M?"actualMidiChroma":"actualMidi",clip:!0,curve:"basis",stroke:"#666",strokeWidth:2}),Ro({anchor:"left",tickFormat:j}),Ro({anchor:"right",tickFormat:j})]});o.appendChild(W)},w=()=>{l=p.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(z=>{p.createMediaStreamSource(z).connect(l),i(2,c=Tc.forFloat32Array(l.fftSize)),i(2,c.minVolumeDecibels=g,c);const G=new Float32Array(c.inputLength);v(G,p.sampleRate)}),C()};yr(w);const _=()=>({pastTime:f,firstTimeStamp:h,minVolumeDecibels:g,ignoreOctave:M,bendValues:y}),E=z=>{i(3,u=!0),cancelAnimationFrame(d),i(5,f=z.pastTime),i(4,h=z.firstTimeStamp),i(7,g=z.minVolumeDecibels),i(6,M=z.ignoreOctave??!1),i(8,y=z.bendValues),C()};c0(()=>{clearTimeout(d),cancelAnimationFrame(d)});const S=()=>{i(3,u=!u),u?cancelAnimationFrame(d):w()};function I(z){f=z,i(5,f)}const T=()=>i(2,c.minVolumeDecibels=g,c);function k(z){g=z,i(7,g)}function D(z){M=z,i(6,M)}const N=()=>{p.resume(),w()};function P(z){he[z?"unshift":"push"](()=>{o=z,i(1,o)})}const F=()=>{i(4,h=performance.now()),C()};function U(z){y=z,i(8,y)}const V=()=>E(nMt);return e.$$set=z=>{"appInfo"in z&&i(0,a=z.appInfo)},n=window.innerWidth<1200?900:Math.floor(window.innerWidth-200),[a,o,c,u,h,f,M,g,y,p,C,w,_,E,S,I,T,k,D,N,P,F,U,V]}class uMt extends Zi{constructor(t){super(),Yi(this,t,cMt,oMt,Xi,{appInfo:0})}}const dMt=15,hMt=33129.90000009537,fMt=-25,mMt=!0,pMt=[{time:.017299999952316285,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.028,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.044899999856948855,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.061399999856948856,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.078,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.09459999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.11129999995231628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.128,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.14459999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.16129999995231628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.17809999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.19459999990463256,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.21139999985694885,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.228,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.24459999990463258,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.2612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.278,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.2945999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.3112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.328,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.3445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.36129999995231626,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.378,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.39459999990463257,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.4112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.4278999998569489,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.44459999990463256,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.4612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.478,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.49459999990463255,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5113999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.528,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5611999998092652,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5778999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.5945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6781999998092652,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.6945999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7278999998569489,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7612999999523162,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7778999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.7946999998092651,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.828,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8778999998569489,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.8945999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9112999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9278999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:.9616999998092651,note:"E2",pitch:83.56865000290836,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.36734256884756533},{time:.9781999998092651,note:"E2",pitch:84.03204558710574,noteMidi:40,actualMidi:40.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.28548823458057093},{time:.9946999998092652,note:"A0",pitch:28.20510072559441,noteMidi:21,actualMidi:21.44,actualMidiChroma:9.440000000000001,centsOffset:44.00000000000013,clarity:.42969844868787277},{time:1.011399999856949,note:"A4",pitch:432.3990181924554,noteMidi:69,actualMidi:68.7,actualMidiChroma:8.700000000000003,centsOffset:-29.999999999999716,clarity:.5012674832709241},{time:1.0280999999046325,note:"A4",pitch:435.98698398196944,noteMidi:69,actualMidi:68.84,actualMidiChroma:8.840000000000003,centsOffset:-15.999999999999659,clarity:.4880171096876236},{time:1.0445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.0612999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.0945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.1111999998092652,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.1278999998569488,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:1.144699999809265,note:"C1",pitch:32.88495963522127,noteMidi:24,actualMidi:24.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.01257515143433352},{time:1.1613999998569489,note:"E2",pitch:83.98191350111632,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.5921441079905208},{time:1.178,note:"E2",pitch:83.04846868191989,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.7619197261586379},{time:1.1946999998092651,note:"E2",pitch:83.2911415442013,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9367037292415432},{time:1.211399999856949,note:"E2",pitch:83.30867749556846,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9399263496657966},{time:1.2280999999046325,note:"E2",pitch:83.36697963878561,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9331100178867757},{time:1.2446999998092652,note:"E2",pitch:83.43869868690359,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9455124740793508},{time:1.261399999856949,note:"E2",pitch:83.62552594670407,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9391197029899274},{time:1.2780999999046325,note:"E2",pitch:83.47807978976537,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9403479105035331},{time:1.2946999998092652,note:"E2",pitch:83.44869772383375,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9474955656462214},{time:1.3115,note:"E2",pitch:83.28262142389825,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9263490800501586},{time:1.3280999999046326,note:"E2",pitch:83.46467844703064,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.924952996526855},{time:1.3446999998092652,note:"E2",pitch:83.43813604409073,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9390574832663958},{time:1.3612999999523163,note:"E2",pitch:83.30289849240798,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9497658143106804},{time:1.3780999999046326,note:"E2",pitch:83.77077445245168,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9486261197398846},{time:1.394699999809265,note:"E2",pitch:83.60887316340514,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9396027646618279},{time:1.4112999999523164,note:"E2",pitch:83.4535191090718,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9465869610037174},{time:1.4280999999046327,note:"E2",pitch:83.38011614718087,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9473009955986953},{time:1.444899999856949,note:"E2",pitch:83.61773277489769,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9296394976345681},{time:1.461399999856949,note:"E2",pitch:83.62131786648243,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9437911256281666},{time:1.478,note:"E2",pitch:83.26970350630133,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.954638121325587},{time:1.4946999998092652,note:"E2",pitch:83.15623457376218,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9432576344602666},{time:1.511399999856949,note:"E2",pitch:83.28585273152603,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9397615489091606},{time:1.5280999999046325,note:"E2",pitch:83.31928462149796,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9476775552848551},{time:1.5446999998092652,note:"E2",pitch:83.28338544999899,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9512859884175668},{time:1.5613999998569488,note:"E2",pitch:83.19967165400541,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9271788353989336},{time:1.578,note:"E2",pitch:83.40734840777999,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9368849255423299},{time:1.5946999998092652,note:"E2",pitch:83.40162684752946,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9481471282774407},{time:1.6113999998569488,note:"E2",pitch:83.186290776606,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9375809588908055},{time:1.6280999999046326,note:"E2",pitch:83.53880651492764,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9276889982759542},{time:1.644699999809265,note:"E2",pitch:83.36444105959293,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9415344515684296},{time:1.6613999998569489,note:"E2",pitch:83.38330870913661,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9417691553971395},{time:1.6780999999046327,note:"E2",pitch:83.56476039767564,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9179823898515451},{time:1.6945999999046326,note:"E2",pitch:83.54962783126022,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9308430738161064},{time:1.711399999856949,note:"E2",pitch:83.51359812741026,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9394064386730463},{time:1.7280999999046325,note:"E2",pitch:83.40472879923547,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9255064518656866},{time:1.7445999999046327,note:"E2",pitch:83.59429349333952,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9064287560612456},{time:1.761399999856949,note:"E2",pitch:83.46710406415164,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9272216124665249},{time:1.7780999999046325,note:"E2",pitch:83.27141744797525,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9280671429026199},{time:1.7946999998092652,note:"E2",pitch:83.24783112336945,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9035475899777623},{time:1.8113999998569488,note:"E2",pitch:83.47427346673234,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.8989598105267191},{time:1.8280999999046326,note:"E2",pitch:83.61727930125453,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9007445372366192},{time:1.8446999998092652,note:"E2",pitch:83.5452111891312,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.913247792575163},{time:1.8613999998569488,note:"E2",pitch:83.33915393103493,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9018297703991607},{time:1.8780999999046326,note:"E2",pitch:83.73295973153097,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9132557012659106},{time:1.894699999809265,note:"E2",pitch:83.51103711110177,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9286626628310728},{time:1.9113999998569489,note:"E2",pitch:83.76430699400564,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9111753493920105},{time:1.928,note:"E2",pitch:83.34634689495516,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9066889748682456},{time:1.9445999999046326,note:"E2",pitch:83.57996073187275,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9215394476626102},{time:1.961399999856949,note:"E2",pitch:83.4905322790394,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9349760579533495},{time:1.978,note:"E2",pitch:83.29576461640528,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9373431425422041},{time:1.9947999999523163,note:"E2",pitch:83.39819301947443,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9295593447502313},{time:2.0113999998569487,note:"E2",pitch:83.16901808987956,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9345636201971104},{time:2.028,note:"E2",pitch:83.31142552776856,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9356322405107278},{time:2.044699999809265,note:"E2",pitch:83.23829500743575,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9193349789077274},{time:2.061399999856949,note:"E2",pitch:83.24011282803359,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9337831432988537},{time:2.078,note:"E2",pitch:83.18052875381633,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9435693605477979},{time:2.094699999809265,note:"E2",pitch:83.30390339563503,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9348399769655771},{time:2.111399999856949,note:"E2",pitch:83.24911081154517,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9368836293864149},{time:2.128,note:"E2",pitch:83.36825976054297,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9507427650053728},{time:2.1446999998092653,note:"E2",pitch:83.31737344415194,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9809750071235896},{time:2.1613999998569486,note:"E2",pitch:83.53329308567467,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9902614241587173},{time:2.178199999809265,note:"E2",pitch:83.57119064617795,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9865470940608247},{time:2.1947999999523162,note:"E2",pitch:83.44934533317509,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9684382703887877},{time:2.211399999856949,note:"E2",pitch:83.4885454054069,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9649892810028291},{time:2.2280999999046327,note:"E2",pitch:83.4839793053308,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9677360675792954},{time:2.244699999809265,note:"B3",pitch:249.52266480609734,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9381800244286538},{time:2.2613999998569487,note:"B3",pitch:250.38838215289945,noteMidi:59,actualMidi:59.24,actualMidiChroma:11.240000000000002,centsOffset:24.0000000000002,clarity:.9928115789267586},{time:2.2780999999046325,note:"B3",pitch:249.98304251430082,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9980025586206125},{time:2.294699999809265,note:"B3",pitch:249.6865563284747,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9995758980641938},{time:2.311399999856949,note:"B3",pitch:249.6224180842238,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9996501992621383},{time:2.328099999904633,note:"B3",pitch:249.55794483980125,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9997110949690189},{time:2.344699999809265,note:"B3",pitch:249.5168144422139,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998584703777347},{time:2.361399999856949,note:"B3",pitch:249.55012258575695,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998815757110222},{time:2.378199999809265,note:"B3",pitch:249.54316407331524,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998768286449469},{time:2.3946999998092653,note:"B3",pitch:249.5911381509047,noteMidi:59,actualMidi:59.18,actualMidiChroma:11.18,centsOffset:17.99999999999997,clarity:.9998731337561431},{time:2.4113999998569486,note:"B3",pitch:249.63021665560973,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9998803354656758},{time:2.428,note:"B3",pitch:249.66793380022318,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9998897110094376},{time:2.444699999809265,note:"B3",pitch:249.71574035152838,noteMidi:59,actualMidi:59.19,actualMidiChroma:11.189999999999998,centsOffset:18.999999999999773,clarity:.9999011673404361},{time:2.461399999856949,note:"B3",pitch:249.76743022608997,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999095353011036},{time:2.4780999999046327,note:"B3",pitch:249.779877523333,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999103074670295},{time:2.4945999999046324,note:"B3",pitch:249.82147029917567,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999093489904176},{time:2.5113999998569487,note:"B3",pitch:249.87838203235717,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999109131351815},{time:2.5280999999046325,note:"B3",pitch:249.90013590683114,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999141989584821},{time:2.544699999809265,note:"B3",pitch:249.91655907015183,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999188748797572},{time:2.5612999999523165,note:"B3",pitch:249.925070548409,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999308631840265},{time:2.578,note:"B3",pitch:249.90557998857597,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999364183353556},{time:2.594699999809265,note:"B3",pitch:249.87891129168378,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.999932393955671},{time:2.6112999999523163,note:"B3",pitch:249.83545961236936,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999266730021752},{time:2.6280999999046326,note:"B3",pitch:249.82327134403556,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999243911676601},{time:2.6445999999046323,note:"B3",pitch:249.80826991676832,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999255598549297},{time:2.661299999952316,note:"B3",pitch:249.7950962728168,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999311724040787},{time:2.6780999999046324,note:"B3",pitch:249.78957891429255,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.999931465680028},{time:2.694699999809265,note:"B3",pitch:249.76248672512088,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999387760066654},{time:2.711399999856949,note:"B3",pitch:249.75221935265432,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.999939524803068},{time:2.7280999999046327,note:"B3",pitch:249.75419122276648,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999397547078921},{time:2.7445999999046324,note:"B3",pitch:249.75542295031113,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999368012897492},{time:2.7612999999523162,note:"B3",pitch:249.78232643397234,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999413699524062},{time:2.778,note:"B3",pitch:249.7823059027025,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999431639054102},{time:2.794699999809265,note:"B3",pitch:249.79059692753478,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999432776488248},{time:2.811399999856949,note:"B3",pitch:249.82376530805655,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999466245066699},{time:2.828099999904633,note:"B3",pitch:249.83675653504255,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999458194858768},{time:2.844699999809265,note:"B3",pitch:249.86383519955552,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9999485841882247},{time:2.8612999999523163,note:"B3",pitch:249.89608981603743,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999547853611439},{time:2.8780999999046326,note:"B3",pitch:249.90768984729434,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999551497698498},{time:2.8946999998092653,note:"B3",pitch:249.92761266935085,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999493733064533},{time:2.911299999952316,note:"B3",pitch:249.95288411637264,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999431138352186},{time:2.928,note:"B3",pitch:249.9640702140536,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999410372030617},{time:2.9447999999523162,note:"B3",pitch:249.9800773570908,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999318168890845},{time:2.961399999856949,note:"B3",pitch:249.99640678270364,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999348561531853},{time:2.978,note:"B3",pitch:249.98836914955922,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999342405318146},{time:2.994699999809265,note:"B3",pitch:249.98657188619651,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999321069521372},{time:3.0112999999523162,note:"B3",pitch:249.9739104871976,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999190403350582},{time:3.0280999999046325,note:"B3",pitch:249.95834496936303,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999133400306768},{time:3.044699999809265,note:"B3",pitch:249.9448503429846,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.99991237630719},{time:3.061399999856949,note:"B3",pitch:249.91215527723327,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999025737841372},{time:3.078099999904633,note:"B3",pitch:249.8852793645268,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9999019514463576},{time:3.094699999809265,note:"B3",pitch:249.86668114999503,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998809734119938},{time:3.1112999999523163,note:"B3",pitch:249.86322519522028,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998562527635677},{time:3.128,note:"B3",pitch:249.87425830060812,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998661599227887},{time:3.1446999998092653,note:"B3",pitch:249.87654537368303,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998514163739749},{time:3.1613999998569486,note:"B3",pitch:249.8879720710945,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.999840461984693},{time:3.1780999999046324,note:"B3",pitch:249.8810361578343,noteMidi:59,actualMidi:59.2,actualMidiChroma:11.200000000000003,centsOffset:20.000000000000284,clarity:.9998383705667067},{time:3.194699999809265,note:"B3",pitch:249.9010965299323,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997980387683683},{time:3.211399999856949,note:"B3",pitch:249.92265641912311,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997678786712747},{time:3.228,note:"B3",pitch:249.95395467220885,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997427584668408},{time:3.244699999809265,note:"B3",pitch:249.9904664352006,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9997211380167386},{time:3.2612999999523162,note:"B3",pitch:249.9834008655377,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.999679175410936},{time:3.2780999999046325,note:"B3",pitch:249.95646438205495,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9996668114658078},{time:3.294699999809265,note:"B3",pitch:249.97796495287034,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9996474175852441},{time:3.3112999999523165,note:"B3",pitch:249.97176960865565,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9995380173575406},{time:3.328,note:"B3",pitch:250.01993634277667,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9995188750629254},{time:3.344699999809265,note:"B3",pitch:250.0076493120332,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9994328802752186},{time:3.361399999856949,note:"B3",pitch:250.04279323434523,noteMidi:59,actualMidi:59.22,actualMidiChroma:11.219999999999999,centsOffset:21.999999999999886,clarity:.9994019565831671},{time:3.3780999999046326,note:"B3",pitch:250.0248164532874,noteMidi:59,actualMidi:59.21,actualMidiChroma:11.21,centsOffset:21.000000000000085,clarity:.9993590926421696},{time:3.3945999999046323,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.411199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4277999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4445999999046326,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4612999999523164,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.478,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.4945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.5112999999523162,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.561199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.578,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.5945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.611199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.627899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.6445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.661199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.677899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.6945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7111999998092653,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7445999999046324,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.761199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.777899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.7945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8112999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8278999998569487,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8445999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.861399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.877899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.8945999999046323,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9113999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9277999999523163,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9611999998092653,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.978,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:3.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.011199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.027899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.044599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.0612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.0945999999046325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.111199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.1278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.1445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.161299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.177899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.1945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.211199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.227899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.2445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.261199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.277899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.294599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.327899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.361299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.3778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.412099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.427899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.444599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.461199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.477899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.494599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.5612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.577899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.5945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.611299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.6278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.644599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.677899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.694599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.711199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.727899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.761299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.777899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.7945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.827899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.8945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.9111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.927899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.977899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:4.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.011199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.027899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.061199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.0945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.111199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.177899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.1945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.211199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.227899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.2445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.261199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.277799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.294599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.327899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.361399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.3778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.4111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.427899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.4445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.461199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.477899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.4945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.5612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.577899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.5945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.611199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.6445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.677799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.6945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.711199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.727899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.761199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.794599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.827799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.8945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.9111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.927899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.977899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:5.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.011199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.027799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.061199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.077899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.0945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.111199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1278999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.177799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.1945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.211199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.228,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.244599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.261199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.277899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.2945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.328,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.361199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.377799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.4111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.427899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.4445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.461199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.477899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.4945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.527899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.561199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.577799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.5945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.611199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.644399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.677899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.6945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.711299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.727899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.761199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.7945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.827799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.8778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.8945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.9111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.927799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.978,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:6.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.011399999856949,note:"Db4",pitch:271.06362728332886,noteMidi:61,actualMidi:60.61,actualMidiChroma:.6099999999999994,centsOffset:-39.00000000000006,clarity:.08040075813761538},{time:7.028,note:"F3",pitch:169.85649763095245,noteMidi:53,actualMidi:52.52,actualMidiChroma:4.520000000000003,centsOffset:-47.99999999999969,clarity:.7818871198568331},{time:7.044599999904633,note:"F3",pitch:169.72477189912775,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.8121939736008414},{time:7.0612999999523165,note:"E3",pitch:168.2727382189103,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.8064913792516109},{time:7.078099999904633,note:"E3",pitch:168.08179308768607,noteMidi:52,actualMidi:52.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.6857714637934009},{time:7.094699999809265,note:"F3",pitch:178.67248721021238,noteMidi:53,actualMidi:53.4,actualMidiChroma:5.399999999999999,centsOffset:39.99999999999986,clarity:.8124283236965084},{time:7.111299999952316,note:"F3",pitch:177.999685389489,noteMidi:53,actualMidi:53.33,actualMidiChroma:5.329999999999998,centsOffset:32.99999999999983,clarity:.9503452882862575},{time:7.128,note:"F3",pitch:177.97116376244952,noteMidi:53,actualMidi:53.33,actualMidiChroma:5.329999999999998,centsOffset:32.99999999999983,clarity:.9430279422282979},{time:7.144699999809265,note:"F3",pitch:178.2320150375641,noteMidi:53,actualMidi:53.36,actualMidiChroma:5.359999999999999,centsOffset:35.99999999999994,clarity:.9441299092914051},{time:7.161399999856949,note:"F3",pitch:178.6106398691054,noteMidi:53,actualMidi:53.39,actualMidiChroma:5.390000000000001,centsOffset:39.00000000000006,clarity:.9335209896674428},{time:7.177899999856949,note:"F3",pitch:178.85801101262834,noteMidi:53,actualMidi:53.42,actualMidiChroma:5.420000000000002,centsOffset:42.00000000000017,clarity:.9227312057840891},{time:7.194699999809266,note:"F3",pitch:179.33779359664553,noteMidi:53,actualMidi:53.46,actualMidiChroma:5.460000000000001,centsOffset:46.000000000000085,clarity:.9237773952430075},{time:7.2113999998569485,note:"Gb3",pitch:179.87678323274235,noteMidi:54,actualMidi:53.51,actualMidiChroma:5.509999999999998,centsOffset:-49.0000000000002,clarity:.9234556953728088},{time:7.227899999856949,note:"Gb3",pitch:180.19252463188346,noteMidi:54,actualMidi:53.54,actualMidiChroma:5.539999999999999,centsOffset:-46.000000000000085,clarity:.9286744275160572},{time:7.244699999809265,note:"Gb3",pitch:181.02461061605996,noteMidi:54,actualMidi:53.62,actualMidiChroma:5.619999999999997,centsOffset:-38.000000000000256,clarity:.9165656342985926},{time:7.261299999952317,note:"Gb3",pitch:182.6711380455531,noteMidi:54,actualMidi:53.78,actualMidiChroma:5.780000000000001,centsOffset:-21.999999999999886,clarity:.8425687125230183},{time:7.277899999856949,note:"Gb3",pitch:183.19474065981416,noteMidi:54,actualMidi:53.83,actualMidiChroma:5.829999999999998,centsOffset:-17.00000000000017,clarity:.8070065069124439},{time:7.294599999904633,note:"F3",pitch:171.3845854122462,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.8626372300479659},{time:7.3112999999523165,note:"F3",pitch:171.93295478243638,noteMidi:53,actualMidi:52.73,actualMidiChroma:4.729999999999997,centsOffset:-27.000000000000313,clarity:.9018536533558859},{time:7.328,note:"F3",pitch:172.07543528475193,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.8768688782174081},{time:7.3445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.361199999809265,note:"F3",pitch:172.20308702893945,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.8690860650982586},{time:7.378,note:"F3",pitch:172.05858161897024,noteMidi:53,actualMidi:52.74,actualMidiChroma:4.740000000000002,centsOffset:-25.9999999999998,clarity:.9029524129360595},{time:7.394699999809265,note:"F3",pitch:170.75965870541697,noteMidi:53,actualMidi:52.61,actualMidiChroma:4.609999999999999,centsOffset:-39.00000000000006,clarity:.8516494571662321},{time:7.4111999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.427799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.444599999904632,note:"E3",pitch:165.39698192348558,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.8786491126944469},{time:7.461299999952316,note:"E3",pitch:165.4914769158506,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9325141064955389},{time:7.478,note:"E3",pitch:165.38151238024753,noteMidi:52,actualMidi:52.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9395410841602185},{time:7.494599999904633,note:"E3",pitch:165.51182335594999,noteMidi:52,actualMidi:52.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9326510312881169},{time:7.511199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.527799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.5445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.5612999999523165,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.577899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.5945999999046325,note:"E3",pitch:167.66105756453007,noteMidi:52,actualMidi:52.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9316236031343053},{time:7.611299999952316,note:"E3",pitch:168.28999494413193,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.9306105360878192},{time:7.628,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.6445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.6611999998092655,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.677799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.694399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.711299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.727799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.761099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.778,note:"E3",pitch:166.58744276712162,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9113997721521514},{time:7.794599999904633,note:"E3",pitch:166.93139482595817,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9128077148477871},{time:7.811099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.828,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.861199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.8778999998569486,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.894599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.911299999952316,note:"E3",pitch:167.55774741567868,noteMidi:52,actualMidi:52.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.8974041656857992},{time:7.927899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.961199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.977799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:7.9945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.011299999952316,note:"E2",pitch:83.19365364648253,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9698783200147432},{time:8.028,note:"E2",pitch:83.3360770189433,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.980146451901291},{time:8.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.077799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.0945,note:"E2",pitch:83.80783704710825,noteMidi:40,actualMidi:40.29,actualMidiChroma:4.289999999999999,centsOffset:28.999999999999915,clarity:.9695941456862442},{time:8.111299999952315,note:"E2",pitch:83.49509334756333,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9944641822980174},{time:8.128,note:"E2",pitch:83.21782046523856,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.998028178280407},{time:8.144599999904633,note:"E2",pitch:83.36913366831975,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.998554656555271},{time:8.161099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.177799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:8.194599999904632,note:"E2",pitch:83.31114968108781,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9990628281254033},{time:8.211299999952317,note:"E2",pitch:83.50948860963466,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9970373404913744},{time:8.228099999904632,note:"E2",pitch:83.49918272597772,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9907585435884982},{time:8.244599999904633,note:"E3",pitch:166.60208683546534,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9091201557837394},{time:8.261299999952316,note:"E2",pitch:83.18714921279305,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9928336565264857},{time:8.278,note:"E2",pitch:83.10713839178656,noteMidi:40,actualMidi:40.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9944495310200239},{time:8.294599999904632,note:"E2",pitch:83.29558613649449,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9989964191388481},{time:8.311399999856949,note:"E2",pitch:83.24707110704878,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9989015965839343},{time:8.328,note:"E2",pitch:83.42665365553933,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9978977627574466},{time:8.344699999809265,note:"E2",pitch:83.44022058356474,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9953843850545212},{time:8.36139999985695,note:"Gb4",pitch:377.19050289080735,noteMidi:66,actualMidi:66.33,actualMidiChroma:6.329999999999998,centsOffset:32.99999999999983,clarity:.18216382935662723},{time:8.377899999856949,note:"F3",pitch:174.5690951081058,noteMidi:53,actualMidi:53,actualMidiChroma:5,centsOffset:0,clarity:.6258386485877665},{time:8.394599999904633,note:"F3",pitch:172.62533155925195,noteMidi:53,actualMidi:52.8,actualMidiChroma:4.799999999999997,centsOffset:-20.000000000000284,clarity:.8598827117467067},{time:8.411399999856949,note:"F3",pitch:172.21997738583175,noteMidi:53,actualMidi:52.76,actualMidiChroma:4.759999999999998,centsOffset:-24.0000000000002,clarity:.9033507580080595},{time:8.428,note:"F3",pitch:172.08992870587514,noteMidi:53,actualMidi:52.75,actualMidiChroma:4.75,centsOffset:-25,clarity:.8388006226238076},{time:8.444599999904632,note:"F3",pitch:170.53760291546797,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.8400651396792114},{time:8.461299999952317,note:"F3",pitch:170.45382293768034,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.8691572346070018},{time:8.478,note:"F3",pitch:171.0018170771062,noteMidi:53,actualMidi:52.64,actualMidiChroma:4.640000000000001,centsOffset:-35.99999999999994,clarity:.8709567760186587},{time:8.494599999904633,note:"Gb3",pitch:182.71878175835238,noteMidi:54,actualMidi:53.79,actualMidiChroma:5.789999999999999,centsOffset:-21.000000000000085,clarity:.9363432164074936},{time:8.511299999952316,note:"Gb3",pitch:184.3897147113502,noteMidi:54,actualMidi:53.94,actualMidiChroma:5.939999999999998,centsOffset:-6.000000000000227,clarity:.9631368530200319},{time:8.528,note:"Gb3",pitch:184.48438185492353,noteMidi:54,actualMidi:53.95,actualMidiChroma:5.950000000000003,centsOffset:-4.999999999999716,clarity:.9644609328700398},{time:8.544599999904632,note:"Gb3",pitch:184.91566303244994,noteMidi:54,actualMidi:53.99,actualMidiChroma:5.990000000000002,centsOffset:-.999999999999801,clarity:.9475553102848835},{time:8.561299999952316,note:"Gb3",pitch:187.02763018042535,noteMidi:54,actualMidi:54.19,actualMidiChroma:6.189999999999998,centsOffset:18.999999999999773,clarity:.9151423220461226},{time:8.57789999985695,note:"Gb3",pitch:187.2513932564633,noteMidi:54,actualMidi:54.21,actualMidiChroma:6.210000000000001,centsOffset:21.000000000000085,clarity:.9261743991103941},{time:8.594599999904633,note:"Gb3",pitch:187.19928742004018,noteMidi:54,actualMidi:54.2,actualMidiChroma:6.200000000000003,centsOffset:20.000000000000284,clarity:.9250986192861959},{time:8.611299999952315,note:"Gb3",pitch:189.35157298564798,noteMidi:54,actualMidi:54.4,actualMidiChroma:6.399999999999999,centsOffset:39.99999999999986,clarity:.8937435530741169},{time:8.628,note:"Gb3",pitch:189.32956419997714,noteMidi:54,actualMidi:54.4,actualMidiChroma:6.399999999999999,centsOffset:39.99999999999986,clarity:.8886805340433028},{time:8.644599999904633,note:"F3",pitch:177.05022710561988,noteMidi:53,actualMidi:53.24,actualMidiChroma:5.240000000000002,centsOffset:24.0000000000002,clarity:.8862540838475041},{time:8.661199999809265,note:"F3",pitch:176.47972280180585,noteMidi:53,actualMidi:53.18,actualMidiChroma:5.18,centsOffset:17.99999999999997,clarity:.7982107112744217},{time:8.67789999985695,note:"F3",pitch:176.54781281925537,noteMidi:53,actualMidi:53.19,actualMidiChroma:5.189999999999998,centsOffset:18.999999999999773,clarity:.8115945291019528},{time:8.694599999904632,note:"G0",pitch:23.836295567173778,noteMidi:19,actualMidi:18.52,actualMidiChroma:6.52,centsOffset:-48.00000000000004,clarity:.9690810186075396},{time:8.711299999952317,note:"F3",pitch:174.9109314561057,noteMidi:53,actualMidi:53.03,actualMidiChroma:5.030000000000001,centsOffset:3.0000000000001137,clarity:.7918201297121499},{time:8.727899999856948,note:"F3",pitch:174.07771529884945,noteMidi:53,actualMidi:52.95,actualMidiChroma:4.950000000000003,centsOffset:-4.999999999999716,clarity:.8084391795277668},{time:8.744599999904633,note:"F3",pitch:172.53725223758343,noteMidi:53,actualMidi:52.79,actualMidiChroma:4.789999999999999,centsOffset:-21.000000000000085,clarity:.8681668810506267},{time:8.761299999952316,note:"F3",pitch:170.53654974913266,noteMidi:53,actualMidi:52.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.7320937827541769},{time:8.777899999856949,note:"F3",pitch:169.81858812188838,noteMidi:53,actualMidi:52.52,actualMidiChroma:4.520000000000003,centsOffset:-47.99999999999969,clarity:.8376796080263915},{time:8.794599999904632,note:"F3",pitch:169.753446134875,noteMidi:53,actualMidi:52.51,actualMidiChroma:4.509999999999998,centsOffset:-49.0000000000002,clarity:.9164382067307528},{time:8.811299999952316,note:"E3",pitch:168.30382118369525,noteMidi:52,actualMidi:52.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.8773505561648136},{time:8.828,note:"E3",pitch:167.17015751238046,noteMidi:52,actualMidi:52.25,actualMidiChroma:4.25,centsOffset:25,clarity:.8247883831664637},{time:8.844599999904633,note:"E3",pitch:165.6312923106978,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.7931297994577164},{time:8.861299999952315,note:"E3",pitch:166.92191676165763,noteMidi:52,actualMidi:52.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.8984869621231084},{time:8.877899999856949,note:"E3",pitch:167.2033800797346,noteMidi:52,actualMidi:52.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9197061871177112},{time:8.894599999904633,note:"E3",pitch:167.26233023588279,noteMidi:52,actualMidi:52.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9369667371114048},{time:8.911299999952316,note:"E3",pitch:166.2319644744594,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9235298584980853},{time:8.928,note:"E3",pitch:165.64499897409843,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.8842860309413467},{time:8.944599999904632,note:"E2",pitch:82.95606287181089,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9406593366718994},{time:8.961299999952317,note:"E2",pitch:83.0557679042339,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9485758347457818},{time:8.977899999856948,note:"E3",pitch:166.25317914709373,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.8634979258388356},{time:8.994699999809265,note:"E3",pitch:166.66395953597615,noteMidi:52,actualMidi:52.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9039883697235567},{time:9.011299999952316,note:"E3",pitch:167.0593121682053,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9286429081727547},{time:9.028,note:"E3",pitch:166.9731736579849,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9350220424886757},{time:9.044599999904632,note:"E3",pitch:166.40219079638265,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9191025864924995},{time:9.061299999952316,note:"E3",pitch:166.33700864977118,noteMidi:52,actualMidi:52.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.8863633544763516},{time:9.078,note:"E2",pitch:82.84814829451665,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9738648030651973},{time:9.094599999904633,note:"E2",pitch:83.00098111345571,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9692138030310105},{time:9.111299999952315,note:"E3",pitch:166.84023124667107,noteMidi:52,actualMidi:52.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.8841741234765763},{time:9.127899999856949,note:"E3",pitch:166.98311799482317,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.891384057321666},{time:9.1445,note:"E3",pitch:166.97209847260174,noteMidi:52,actualMidi:52.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.8840548309707188},{time:9.161299999952316,note:"E2",pitch:82.92332844456688,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9840790345847381},{time:9.17789999985695,note:"E2",pitch:83.01704943570131,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9849427649875508},{time:9.194599999904632,note:"E2",pitch:83.1835159042653,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9865294966244562},{time:9.211199999809265,note:"E2",pitch:82.9558247534857,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.984555845117228},{time:9.228,note:"E2",pitch:82.89287880889094,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9835091808501772},{time:9.244599999904633,note:"E2",pitch:83.07487139073281,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9850288314833335},{time:9.261299999952316,note:"E2",pitch:82.96484316699964,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.989976889046261},{time:9.278,note:"E2",pitch:82.8895380542204,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9907621751790714},{time:9.294599999904632,note:"E2",pitch:83.04769195532513,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9882381956278437},{time:9.311299999952316,note:"E2",pitch:83.04030540553406,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9869489724885057},{time:9.327799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.344599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.361099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.377799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.39439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.411199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.427799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.444399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.461099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.477799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.494399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.511199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.527799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.54439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.561099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.577799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.594399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.611099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.64439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.661099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.677799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.694399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.711099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.727799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.744399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.761199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.79439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.811099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.827799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.844599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.861099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.89439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.911199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.927799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.961099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.977799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:9.994399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.011299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.027799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.077799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.0945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.111099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.127799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.14439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.161199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.178,note:"B3",pitch:248.71590222203193,noteMidi:59,actualMidi:59.12,actualMidiChroma:11.119999999999997,centsOffset:11.999999999999744,clarity:.5840499150733507},{time:10.194599999904632,note:"F3",pitch:172.45101721435643,noteMidi:53,actualMidi:52.78,actualMidiChroma:4.780000000000001,centsOffset:-21.999999999999886,clarity:.764106955670087},{time:10.211299999952317,note:"F3",pitch:171.6922375799798,noteMidi:53,actualMidi:52.71,actualMidiChroma:4.710000000000001,centsOffset:-28.999999999999915,clarity:.8530905320258171},{time:10.227899999856948,note:"F3",pitch:171.43177822885116,noteMidi:53,actualMidi:52.68,actualMidiChroma:4.68,centsOffset:-32.00000000000003,clarity:.9220854327745087},{time:10.244599999904633,note:"F3",pitch:170.8429731862728,noteMidi:53,actualMidi:52.62,actualMidiChroma:4.619999999999997,centsOffset:-38.000000000000256,clarity:.8026087540077924},{time:10.261399999856948,note:"F3",pitch:170.22412125950723,noteMidi:53,actualMidi:52.56,actualMidiChroma:4.560000000000002,centsOffset:-43.99999999999977,clarity:.8134539923845523},{time:10.277899999856949,note:"F3",pitch:170.46022716786885,noteMidi:53,actualMidi:52.58,actualMidiChroma:4.579999999999998,centsOffset:-42.00000000000017,clarity:.788898232445149},{time:10.294599999904632,note:"Gb3",pitch:182.74636277809245,noteMidi:54,actualMidi:53.79,actualMidiChroma:5.789999999999999,centsOffset:-21.000000000000085,clarity:.7828808897170347},{time:10.311399999856949,note:"Gb3",pitch:182.01489298316457,noteMidi:54,actualMidi:53.72,actualMidiChroma:5.719999999999999,centsOffset:-28.000000000000114,clarity:.92626491408015},{time:10.328,note:"Gb3",pitch:183.12740132755812,noteMidi:54,actualMidi:53.82,actualMidiChroma:5.82,centsOffset:-17.99999999999997,clarity:.9493449146960984},{time:10.344599999904633,note:"Gb3",pitch:184.9134569354542,noteMidi:54,actualMidi:53.99,actualMidiChroma:5.990000000000002,centsOffset:-.999999999999801,clarity:.9490766037212097},{time:10.361299999952315,note:"Gb3",pitch:186.5743710685163,noteMidi:54,actualMidi:54.15,actualMidiChroma:6.149999999999999,centsOffset:14.999999999999858,clarity:.932044078662642},{time:10.378099999904633,note:"Gb3",pitch:188.0137260004386,noteMidi:54,actualMidi:54.28,actualMidiChroma:6.280000000000001,centsOffset:28.000000000000114,clarity:.9173624087522967},{time:10.394599999904633,note:"Gb3",pitch:189.35529176205063,noteMidi:54,actualMidi:54.4,actualMidiChroma:6.399999999999999,centsOffset:39.99999999999986,clarity:.9193492461791379},{time:10.411299999952316,note:"Gb3",pitch:190.11857200013085,noteMidi:54,actualMidi:54.47,actualMidiChroma:6.469999999999999,centsOffset:46.999999999999886,clarity:.9204204694571274},{time:10.428,note:"G3",pitch:190.7655683486787,noteMidi:55,actualMidi:54.53,actualMidiChroma:6.530000000000001,centsOffset:-46.999999999999886,clarity:.9114416657444337},{time:10.444599999904632,note:"G3",pitch:191.49746208529152,noteMidi:55,actualMidi:54.6,actualMidiChroma:6.600000000000001,centsOffset:-39.99999999999986,clarity:.8994993463661842},{time:10.461299999952317,note:"G3",pitch:191.91244359060283,noteMidi:55,actualMidi:54.64,actualMidiChroma:6.640000000000001,centsOffset:-35.99999999999994,clarity:.8617443199403851},{time:10.477899999856948,note:"G3",pitch:192.1806120360001,noteMidi:55,actualMidi:54.66,actualMidiChroma:6.659999999999997,centsOffset:-34.00000000000034,clarity:.8332309223862353},{time:10.4945,note:"G3",pitch:192.06818530361744,noteMidi:55,actualMidi:54.65,actualMidiChroma:6.649999999999999,centsOffset:-35.00000000000014,clarity:.8244714752007667},{time:10.511199999809266,note:"Gb0",pitch:23.763078509836912,noteMidi:18,actualMidi:18.47,actualMidiChroma:6.469999999999999,centsOffset:46.999999999999886,clarity:.8853665351271047},{time:10.527899999856949,note:"G3",pitch:191.93202708372894,noteMidi:55,actualMidi:54.64,actualMidiChroma:6.640000000000001,centsOffset:-35.99999999999994,clarity:.7326660369460569},{time:10.544599999904632,note:"F3",pitch:173.19635614672922,noteMidi:53,actualMidi:52.86,actualMidiChroma:4.859999999999999,centsOffset:-14.000000000000057,clarity:.7832540571276354},{time:10.561299999952316,note:"Gb0",pitch:23.50385492659778,noteMidi:18,actualMidi:18.28,actualMidiChroma:6.280000000000001,centsOffset:28.000000000000114,clarity:.9005270437919535},{time:10.577799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.594599999904633,note:"Gb0",pitch:23.64654595005964,noteMidi:18,actualMidi:18.39,actualMidiChroma:6.390000000000001,centsOffset:39.00000000000006,clarity:.9393869334890042},{time:10.611099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.64439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.661099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.677699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.694399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.711,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.727799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.7445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.761099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.777799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.79439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.811099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.827799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.861199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.877699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.89439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.911099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.927699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.944399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.961099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.977899999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:10.994399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.011099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.027799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.0445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.077699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.094399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.111199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.127799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.14439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.161399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.177799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.194399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.211099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.227799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.244399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.261299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.277699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.29439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.327799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.344399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.361099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.377799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.3945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.411099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.427799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.444399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.461099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.477799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.494399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.511099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.527799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.54439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.561199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.577799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.594399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.611199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.627799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.64439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.661099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.677699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.694399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.711099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.727699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.744399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.761099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.777899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.79439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.811199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.827799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.844399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.861099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.877799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.89439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.911099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.927699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.9445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.961099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.977799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:11.994399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.011099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.027899999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.04439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.061099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.077799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.094399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.111,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.127699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.14439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.161199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.177699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.194399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.211099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.227799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.244399999856949,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.261,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.277699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.29439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.311199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.327699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.344399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:12.361199999809266,note:"Db3",pitch:138.9776562481823,noteMidi:49,actualMidi:49.05,actualMidiChroma:1.0499999999999972,centsOffset:4.999999999999716,clarity:.5692454597053214},{time:12.377899999856949,note:"C3",pitch:132.82012461181446,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.827786727332672},{time:12.394699999809266,note:"C3",pitch:132.51671296883308,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9501402702940993},{time:12.411299999952316,note:"C3",pitch:132.60452326897047,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9978847574416108},{time:12.427799999952317,note:"C3",pitch:132.6419669219357,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9975007496057273},{time:12.444599999904632,note:"C3",pitch:132.60438329435672,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9971238136692548},{time:12.461199999809265,note:"C3",pitch:132.61585185030646,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9971346393179346},{time:12.477799999952316,note:"C3",pitch:132.6473023082439,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9972020905154153},{time:12.4945,note:"C3",pitch:132.67496463269816,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9970560742768697},{time:12.511199999809266,note:"C3",pitch:132.73522884463398,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9974392958051297},{time:12.527799999952316,note:"C3",pitch:132.75616648557158,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9975873120360603},{time:12.5445,note:"C3",pitch:132.88060683841323,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9978846580018548},{time:12.561199999809265,note:"C3",pitch:132.8498672374689,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9981718883480113},{time:12.57789999985695,note:"C3",pitch:133.0357773293992,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9983663240076659},{time:12.5945,note:"C3",pitch:133.04975703655973,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.998682668435336},{time:12.611199999809266,note:"C3",pitch:133.24098555158727,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9989693724273678},{time:12.627799999952316,note:"C3",pitch:133.38528113116172,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9991628850212066},{time:12.64439999985695,note:"C3",pitch:133.68890087220774,noteMidi:48,actualMidi:48.38,actualMidiChroma:.38000000000000256,centsOffset:38.000000000000256,clarity:.999318782589512},{time:12.661099999904632,note:"C3",pitch:134.25621954544823,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9994078078053832},{time:12.67789999985695,note:"C3",pitch:134.48529019986356,noteMidi:48,actualMidi:48.48,actualMidiChroma:.4799999999999969,centsOffset:47.99999999999969,clarity:.999507378191204},{time:12.6945,note:"Db3",pitch:135.08030953019122,noteMidi:49,actualMidi:48.56,actualMidiChroma:.5600000000000023,centsOffset:-43.99999999999977,clarity:.9996096899189411},{time:12.711199999809265,note:"Db3",pitch:135.83929094721572,noteMidi:49,actualMidi:48.65,actualMidiChroma:.6499999999999986,centsOffset:-35.00000000000014,clarity:.9989916426512622},{time:12.727899999856948,note:"Db3",pitch:136.55215861960346,noteMidi:49,actualMidi:48.74,actualMidiChroma:.740000000000002,centsOffset:-25.9999999999998,clarity:.9979794337995997},{time:12.744599999904633,note:"Db3",pitch:138.70461894513718,noteMidi:49,actualMidi:49.01,actualMidiChroma:1.009999999999998,centsOffset:.999999999999801,clarity:.9974080136793049},{time:12.761199999809266,note:"Db3",pitch:140.42060544095722,noteMidi:49,actualMidi:49.23,actualMidiChroma:1.2299999999999969,centsOffset:22.999999999999687,clarity:.9988884470055268},{time:12.777899999856949,note:"Db3",pitch:140.93444867191957,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.9993278559015906},{time:12.7945,note:"Db3",pitch:141.65120845784614,noteMidi:49,actualMidi:49.38,actualMidiChroma:1.3800000000000026,centsOffset:38.000000000000256,clarity:.9995788995679646},{time:12.811199999809265,note:"Db3",pitch:142.0885791883037,noteMidi:49,actualMidi:49.43,actualMidiChroma:1.4299999999999997,centsOffset:42.99999999999997,clarity:.9996991189088931},{time:12.82789999985695,note:"Db3",pitch:142.22368933836913,noteMidi:49,actualMidi:49.45,actualMidiChroma:1.4500000000000028,centsOffset:45.000000000000284,clarity:.9997363954694336},{time:12.844599999904633,note:"Db3",pitch:142.2998212878994,noteMidi:49,actualMidi:49.46,actualMidiChroma:1.4600000000000009,centsOffset:46.000000000000085,clarity:.9997351686485842},{time:12.861199999809266,note:"Db3",pitch:142.25313857260224,noteMidi:49,actualMidi:49.45,actualMidiChroma:1.4500000000000028,centsOffset:45.000000000000284,clarity:.9997038916588963},{time:12.877899999856949,note:"Db3",pitch:142.19292494271684,noteMidi:49,actualMidi:49.44,actualMidiChroma:1.4399999999999977,centsOffset:43.99999999999977,clarity:.9996803246968184},{time:12.8945,note:"Db3",pitch:141.87596199606526,noteMidi:49,actualMidi:49.41,actualMidiChroma:1.4099999999999966,centsOffset:40.99999999999966,clarity:.9995855613629345},{time:12.911199999809265,note:"Db3",pitch:141.4346320828793,noteMidi:49,actualMidi:49.35,actualMidiChroma:1.3500000000000014,centsOffset:35.00000000000014,clarity:.9994587538248041},{time:12.927799999952317,note:"Db3",pitch:140.9358508542775,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.99898138237171},{time:12.9445,note:"Db3",pitch:139.37059179917466,noteMidi:49,actualMidi:49.1,actualMidiChroma:1.1000000000000014,centsOffset:10.000000000000142,clarity:.9967514308770831},{time:12.961199999809265,note:"Db3",pitch:137.64847293370377,noteMidi:49,actualMidi:48.88,actualMidiChroma:.8800000000000026,centsOffset:-11.999999999999744,clarity:.996183450127269},{time:12.977799999952316,note:"Db3",pitch:136.19825941374978,noteMidi:49,actualMidi:48.7,actualMidiChroma:.7000000000000028,centsOffset:-29.999999999999716,clarity:.9961706734031068},{time:12.9945,note:"Db3",pitch:134.72888521435246,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9982588804594386},{time:13.011199999809266,note:"C3",pitch:133.43933234597137,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9991077683665708},{time:13.028,note:"C3",pitch:132.99324902117453,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9996447217331053},{time:13.04439999985695,note:"C3",pitch:132.71697226754773,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997654995534901},{time:13.061199999809265,note:"C3",pitch:132.55156244753292,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998433346675881},{time:13.07789999985695,note:"C3",pitch:132.53400141699007,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998448938440561},{time:13.0945,note:"C3",pitch:132.5521438105791,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.999876257709893},{time:13.111299999952315,note:"C3",pitch:132.5737470645916,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998827449811714},{time:13.127899999856949,note:"C3",pitch:132.6129479007038,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999876265821193},{time:13.1445,note:"C3",pitch:132.86678848339452,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9997497671619442},{time:13.161299999952316,note:"C3",pitch:133.45391155032752,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9994048540768858},{time:13.17789999985695,note:"C3",pitch:133.8233381698133,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9992914026803916},{time:13.1945,note:"Db3",pitch:134.6110819816604,noteMidi:49,actualMidi:48.5,actualMidiChroma:.5,centsOffset:-50,clarity:.9994484483197468},{time:13.211199999809265,note:"Db3",pitch:135.69281418851074,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9988136144055133},{time:13.227899999856948,note:"Db3",pitch:136.26655021451302,noteMidi:49,actualMidi:48.71,actualMidiChroma:.7100000000000009,centsOffset:-28.999999999999915,clarity:.9986373058258096},{time:13.2445,note:"Db3",pitch:137.80447397935652,noteMidi:49,actualMidi:48.9,actualMidiChroma:.8999999999999986,centsOffset:-10.000000000000142,clarity:.9978018025117237},{time:13.261299999952316,note:"Db3",pitch:139.5277980708673,noteMidi:49,actualMidi:49.12,actualMidiChroma:1.1199999999999974,centsOffset:11.999999999999744,clarity:.9986204023603662},{time:13.277899999856949,note:"Db3",pitch:140.00034666798848,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9989884827259345},{time:13.2945,note:"Db3",pitch:140.85728391170588,noteMidi:49,actualMidi:49.28,actualMidiChroma:1.2800000000000011,centsOffset:28.000000000000114,clarity:.9997819488621928},{time:13.311199999809265,note:"Db3",pitch:141.06309416538343,noteMidi:49,actualMidi:49.31,actualMidiChroma:1.3100000000000023,centsOffset:31.000000000000227,clarity:.9998476954783015},{time:13.32789999985695,note:"Db3",pitch:141.0715447750383,noteMidi:49,actualMidi:49.31,actualMidiChroma:1.3100000000000023,centsOffset:31.000000000000227,clarity:.9998566413795658},{time:13.3445,note:"Gb0",pitch:23.483204872334596,noteMidi:18,actualMidi:18.27,actualMidiChroma:6.27,centsOffset:26.999999999999957,clarity:1},{time:13.361299999952315,note:"Db3",pitch:140.93623414575245,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.9998916380900624},{time:13.377899999856949,note:"Db3",pitch:140.8729226852274,noteMidi:49,actualMidi:49.28,actualMidiChroma:1.2800000000000011,centsOffset:28.000000000000114,clarity:.9969514986730985},{time:13.3945,note:"Db3",pitch:139.90507447741274,noteMidi:49,actualMidi:49.16,actualMidiChroma:1.1599999999999966,centsOffset:15.999999999999659,clarity:.9879963408269745},{time:13.411199999809265,note:"Db3",pitch:136.8579632359689,noteMidi:49,actualMidi:48.78,actualMidiChroma:.7800000000000011,centsOffset:-21.999999999999886,clarity:.9953559082321632},{time:13.42789999985695,note:"Db3",pitch:135.87654670698376,noteMidi:49,actualMidi:48.66,actualMidiChroma:.6599999999999966,centsOffset:-34.00000000000034,clarity:.9977335206957534},{time:13.444599999904632,note:"C3",pitch:134.49834093912793,noteMidi:48,actualMidi:48.48,actualMidiChroma:.4799999999999969,centsOffset:47.99999999999969,clarity:.9991153405848223},{time:13.461199999809265,note:"C3",pitch:133.5007658412193,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9995475723442624},{time:13.477899999856948,note:"C3",pitch:133.25163861414177,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9996543035072349},{time:13.4945,note:"C3",pitch:132.89521324257208,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999319946488541},{time:13.511099999904632,note:"C3",pitch:132.87750122335663,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.999947449367113},{time:13.527799999952316,note:"C3",pitch:132.89936742069838,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999445682157955},{time:13.544599999904632,note:"C3",pitch:133.03390378249708,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9998997045113853},{time:13.561199999809265,note:"C3",pitch:133.5149316469505,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9996033320897695},{time:13.577799999952317,note:"C3",pitch:133.86154920559076,noteMidi:48,actualMidi:48.4,actualMidiChroma:.3999999999999986,centsOffset:39.99999999999986,clarity:.9993845634777543},{time:13.5945,note:"Db3",pitch:134.74486023239604,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9995286245925925},{time:13.611199999809266,note:"Db3",pitch:135.72551003210668,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.999106792664378},{time:13.627799999952316,note:"Db3",pitch:136.3170722025591,noteMidi:49,actualMidi:48.71,actualMidiChroma:.7100000000000009,centsOffset:-28.999999999999915,clarity:.9990954062669601},{time:13.6445,note:"Db3",pitch:137.54600260159324,noteMidi:49,actualMidi:48.87,actualMidiChroma:.8699999999999974,centsOffset:-13.000000000000256,clarity:.9983359840738473},{time:13.661099999904632,note:"Db3",pitch:139.04522674208738,noteMidi:49,actualMidi:49.06,actualMidiChroma:1.0600000000000023,centsOffset:6.000000000000227,clarity:.9989733289563247},{time:13.677799999952317,note:"Db3",pitch:139.4627280839928,noteMidi:49,actualMidi:49.11,actualMidiChroma:1.1099999999999994,centsOffset:10.999999999999943,clarity:.9994658192738655},{time:13.694599999904632,note:"Db3",pitch:140.01577313785683,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9999065498110369},{time:13.711199999809265,note:"Db3",pitch:140.07812909571624,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9999497402448654},{time:13.727899999856948,note:"Db3",pitch:140.02119068585807,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.999945130552959},{time:13.7445,note:"Db3",pitch:139.70514250191675,noteMidi:49,actualMidi:49.14,actualMidiChroma:1.1400000000000006,centsOffset:14.000000000000057,clarity:.9997015578740616},{time:13.761199999809266,note:"Db3",pitch:138.57834788563173,noteMidi:49,actualMidi:49,actualMidiChroma:1,centsOffset:0,clarity:.9968497726215091},{time:13.777899999856949,note:"Db3",pitch:137.0375476263259,noteMidi:49,actualMidi:48.8,actualMidiChroma:.7999999999999972,centsOffset:-20.000000000000284,clarity:.9958399323277476},{time:13.7945,note:"Db3",pitch:135.21275252178592,noteMidi:49,actualMidi:48.57,actualMidiChroma:.5700000000000003,centsOffset:-42.99999999999997,clarity:.9983299421055705},{time:13.811299999952316,note:"C3",pitch:133.79830881421302,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9989185392721822},{time:13.82789999985695,note:"C3",pitch:133.1547887517991,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9995185085062772},{time:13.8445,note:"C3",pitch:132.69399894234456,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9998197806115954},{time:13.861199999809266,note:"C3",pitch:132.57187783225413,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998903132083541},{time:13.877799999952316,note:"C3",pitch:132.58384692613365,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998806617416847},{time:13.8945,note:"C3",pitch:132.6859548717525,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9998653438154719},{time:13.911199999809265,note:"C3",pitch:133.05551338165066,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9995584048390924},{time:13.92789999985695,note:"C3",pitch:133.576906273501,noteMidi:48,actualMidi:48.36,actualMidiChroma:.35999999999999943,centsOffset:35.99999999999994,clarity:.9991171910185059},{time:13.9445,note:"Db3",pitch:134.64362270074125,noteMidi:49,actualMidi:48.5,actualMidiChroma:.5,centsOffset:-50,clarity:.9994605141074615},{time:13.961199999809265,note:"Db3",pitch:135.38522440496808,noteMidi:49,actualMidi:48.59,actualMidiChroma:.5900000000000034,centsOffset:-40.99999999999966,clarity:.9994313497292353},{time:13.977899999856948,note:"Db3",pitch:135.97802110009897,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9994778642113786},{time:13.9945,note:"Db3",pitch:136.83661943032118,noteMidi:49,actualMidi:48.78,actualMidiChroma:.7800000000000011,centsOffset:-21.999999999999886,clarity:.9993867132899865},{time:14.011299999952316,note:"Db3",pitch:138.0782913592546,noteMidi:49,actualMidi:48.94,actualMidiChroma:.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992491521874882},{time:14.027899999856949,note:"Db3",pitch:138.80745465350117,noteMidi:49,actualMidi:49.03,actualMidiChroma:1.0300000000000011,centsOffset:3.0000000000001137,clarity:.9993191071750793},{time:14.0445,note:"Db3",pitch:139.559025679126,noteMidi:49,actualMidi:49.12,actualMidiChroma:1.1199999999999974,centsOffset:11.999999999999744,clarity:.9997243690653619},{time:14.061199999809265,note:"Db3",pitch:139.99897743643314,noteMidi:49,actualMidi:49.17,actualMidiChroma:1.1700000000000017,centsOffset:17.00000000000017,clarity:.9999174455489808},{time:14.078,note:"Db3",pitch:140.0318245108386,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9999226057563639},{time:14.0945,note:"Db3",pitch:139.9342407188639,noteMidi:49,actualMidi:49.17,actualMidiChroma:1.1700000000000017,centsOffset:17.00000000000017,clarity:.9999031688375624},{time:14.111199999809266,note:"Db3",pitch:139.40231925500817,noteMidi:49,actualMidi:49.1,actualMidiChroma:1.1000000000000014,centsOffset:10.000000000000142,clarity:.9994129170518207},{time:14.127899999856949,note:"Db3",pitch:138.80215448097957,noteMidi:49,actualMidi:49.03,actualMidiChroma:1.0300000000000011,centsOffset:3.0000000000001137,clarity:.9985313984608375},{time:14.1445,note:"Db3",pitch:136.731141090701,noteMidi:49,actualMidi:48.77,actualMidiChroma:.7700000000000031,centsOffset:-22.999999999999687,clarity:.997987220727083},{time:14.161199999809265,note:"Db3",pitch:134.908222975801,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9986711445290091},{time:14.17789999985695,note:"C3",pitch:134.15805896219024,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9986173571746448},{time:14.1945,note:"C3",pitch:133.04456553145465,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9994222734852016},{time:14.211099999904633,note:"C3",pitch:132.47987527191682,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.999501606791199},{time:14.227799999952316,note:"C3",pitch:132.34336102803053,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.999737200730209},{time:14.244399999856949,note:"C3",pitch:132.33759501932457,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999124312875516},{time:14.261099999904632,note:"C3",pitch:132.3813476981442,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999043443177555},{time:14.277799999952316,note:"C3",pitch:132.39436340436416,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999100695157317},{time:14.294599999904632,note:"C3",pitch:132.50133992668546,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.999870919468318},{time:14.311199999809265,note:"C3",pitch:133.07717730978663,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9995288112626604},{time:14.328,note:"C3",pitch:133.49000555384345,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9993697709684},{time:14.3445,note:"C3",pitch:134.48457496811545,noteMidi:48,actualMidi:48.48,actualMidiChroma:.4799999999999969,centsOffset:47.99999999999969,clarity:.9995919850086281},{time:14.361199999809266,note:"Db3",pitch:135.2660977793798,noteMidi:49,actualMidi:48.58,actualMidiChroma:.5799999999999983,centsOffset:-42.00000000000017,clarity:.9995859084949821},{time:14.378,note:"Db3",pitch:135.7181931101811,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.9995883422137979},{time:14.3945,note:"Db3",pitch:136.7606298416048,noteMidi:49,actualMidi:48.77,actualMidiChroma:.7700000000000031,centsOffset:-22.999999999999687,clarity:.9993849149815155},{time:14.411299999952316,note:"Db3",pitch:138.04404071737352,noteMidi:49,actualMidi:48.93,actualMidiChroma:.9299999999999997,centsOffset:-7.000000000000028,clarity:.999385939719609},{time:14.42789999985695,note:"Db3",pitch:138.65728403270276,noteMidi:49,actualMidi:49.01,actualMidiChroma:1.009999999999998,centsOffset:.999999999999801,clarity:.9994624312105032},{time:14.444599999904632,note:"Db3",pitch:139.6195528780777,noteMidi:49,actualMidi:49.13,actualMidiChroma:1.1300000000000026,centsOffset:13.000000000000256,clarity:.9995231429901388},{time:14.461199999809265,note:"Db3",pitch:140.33594439957974,noteMidi:49,actualMidi:49.22,actualMidiChroma:1.2199999999999989,centsOffset:21.999999999999886,clarity:.999807297868351},{time:14.477899999856948,note:"Db3",pitch:140.51773896128915,noteMidi:49,actualMidi:49.24,actualMidiChroma:1.240000000000002,centsOffset:24.0000000000002,clarity:.9998307097742689},{time:14.4945,note:"Db3",pitch:140.68902075572944,noteMidi:49,actualMidi:49.26,actualMidiChroma:1.259999999999998,centsOffset:25.9999999999998,clarity:.9998481113941864},{time:14.511199999809266,note:"Db3",pitch:140.60289054775922,noteMidi:49,actualMidi:49.25,actualMidiChroma:1.25,centsOffset:25,clarity:.9997664092748906},{time:14.527899999856949,note:"Db3",pitch:140.54139794277518,noteMidi:49,actualMidi:49.24,actualMidiChroma:1.240000000000002,centsOffset:24.0000000000002,clarity:.999735969694239},{time:14.5445,note:"Db3",pitch:139.70155512601355,noteMidi:49,actualMidi:49.14,actualMidiChroma:1.1400000000000006,centsOffset:14.000000000000057,clarity:.9986967617683469},{time:14.561299999952316,note:"Db3",pitch:138.00250213441603,noteMidi:49,actualMidi:48.93,actualMidiChroma:.9299999999999997,centsOffset:-7.000000000000028,clarity:.9973197703715044},{time:14.57789999985695,note:"Db3",pitch:136.85748986031703,noteMidi:49,actualMidi:48.78,actualMidiChroma:.7800000000000011,centsOffset:-21.999999999999886,clarity:.997362681120709},{time:14.5945,note:"Db3",pitch:135.26775233097686,noteMidi:49,actualMidi:48.58,actualMidiChroma:.5799999999999983,centsOffset:-42.00000000000017,clarity:.9985951348770072},{time:14.611099999904633,note:"C3",pitch:134.27034774147197,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9994151374559195},{time:14.627899999856949,note:"C3",pitch:133.77338020771444,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9996547705785517},{time:14.644599999904633,note:"C3",pitch:133.39779372701975,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.999798911055418},{time:14.661199999809265,note:"C3",pitch:133.3040141191138,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9998466231850216},{time:14.67789999985695,note:"C3",pitch:133.31175247072693,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9997624584335156},{time:14.6945,note:"C3",pitch:133.31715121090087,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9994795447594278},{time:14.711299999952317,note:"C3",pitch:133.42229429082317,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9997805673601938},{time:14.727899999856948,note:"C3",pitch:133.50066996005785,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9997523308226945},{time:14.7445,note:"C3",pitch:134.1501606408276,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9995150081787152},{time:14.761199999809266,note:"Db3",pitch:135.02399726070496,noteMidi:49,actualMidi:48.55,actualMidiChroma:.5499999999999972,centsOffset:-45.000000000000284,clarity:.9994295579025021},{time:14.777899999856949,note:"Db3",pitch:135.62817864092037,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9994620395345706},{time:14.7945,note:"Db3",pitch:136.50023147081785,noteMidi:49,actualMidi:48.74,actualMidiChroma:.740000000000002,centsOffset:-25.9999999999998,clarity:.9995815163010349},{time:14.811199999809265,note:"Db3",pitch:137.2872646250798,noteMidi:49,actualMidi:48.84,actualMidiChroma:.8400000000000034,centsOffset:-15.999999999999659,clarity:.9996733011793744},{time:14.828,note:"Db3",pitch:137.53353944562502,noteMidi:49,actualMidi:48.87,actualMidiChroma:.8699999999999974,centsOffset:-13.000000000000256,clarity:.9997476415974482},{time:14.8445,note:"Db3",pitch:137.71873709017572,noteMidi:49,actualMidi:48.89,actualMidiChroma:.8900000000000006,centsOffset:-10.999999999999943,clarity:.9998163459313325},{time:14.861199999809266,note:"Db3",pitch:137.74328906305618,noteMidi:49,actualMidi:48.89,actualMidiChroma:.8900000000000006,centsOffset:-10.999999999999943,clarity:.9998382580255303},{time:14.877899999856949,note:"Db3",pitch:137.68611228860013,noteMidi:49,actualMidi:48.89,actualMidiChroma:.8900000000000006,centsOffset:-10.999999999999943,clarity:.9998219617370232},{time:14.8945,note:"Db3",pitch:137.43398919887068,noteMidi:49,actualMidi:48.85,actualMidiChroma:.8500000000000014,centsOffset:-14.999999999999858,clarity:.9998163639191695},{time:14.911199999809265,note:"Db3",pitch:136.57791627414318,noteMidi:49,actualMidi:48.75,actualMidiChroma:.75,centsOffset:-25,clarity:.9989253522082002},{time:14.928,note:"Db3",pitch:135.842239951829,noteMidi:49,actualMidi:48.65,actualMidiChroma:.6499999999999986,centsOffset:-35.00000000000014,clarity:.9988114540564226},{time:14.944599999904632,note:"C3",pitch:134.287211923551,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9984588070186398},{time:14.961199999809265,note:"C3",pitch:133.19076330007945,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9983646461795388},{time:14.977899999856948,note:"C3",pitch:132.86153651080144,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9987892986726337},{time:14.9945,note:"C3",pitch:132.80894511126075,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9988191319652593},{time:15.011299999952316,note:"C3",pitch:132.719823510873,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9988622811699344},{time:15.027799999952316,note:"C3",pitch:132.7689609454652,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9987669549643847},{time:15.0445,note:"C3",pitch:132.74455985390796,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9984752511555968},{time:15.061199999809265,note:"C3",pitch:132.949032454723,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9977138387616016},{time:15.077699999809266,note:"C3",pitch:133.1927150854756,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.997324701930264},{time:15.094399999856948,note:"C3",pitch:133.92559689061633,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.9971003565029086},{time:15.111199999809266,note:"Db3",pitch:134.70623422550958,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9966231068835363},{time:15.127799999952316,note:"Db3",pitch:134.85854680781875,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9968042896730935},{time:15.1445,note:"Db3",pitch:135.6919518567696,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9963888645623662},{time:15.161199999809265,note:"Db3",pitch:135.94102519384674,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9966946309812315},{time:15.177799999952317,note:"Db3",pitch:136.2103657004436,noteMidi:49,actualMidi:48.7,actualMidiChroma:.7000000000000028,centsOffset:-29.999999999999716,clarity:.9969607366327793},{time:15.1945,note:"Db3",pitch:136.10522426981106,noteMidi:49,actualMidi:48.69,actualMidiChroma:.6899999999999977,centsOffset:-31.000000000000227,clarity:.9969440903443463},{time:15.211099999904633,note:"Db3",pitch:135.94277494974082,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9967889897255944},{time:15.227799999952316,note:"Db3",pitch:135.94095956324122,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.996563340136742},{time:15.244599999904633,note:"Db3",pitch:134.90421646864522,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9944369514541656},{time:15.261099999904632,note:"C3",pitch:133.75545207935147,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9955186396980196},{time:15.277799999952316,note:"C3",pitch:133.38233281531896,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9946261620670569},{time:15.2945,note:"C3",pitch:132.91993449696142,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.994653354578336},{time:15.311199999809265,note:"C3",pitch:132.8965282133997,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9936336224459055},{time:15.328,note:"C3",pitch:132.75130371455697,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9943668935506302},{time:15.3445,note:"C3",pitch:133.07411866677347,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9939807367826461},{time:15.361199999809266,note:"C3",pitch:133.0997213793348,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9929165703283687},{time:15.377799999952316,note:"C3",pitch:133.57868017578176,noteMidi:48,actualMidi:48.36,actualMidiChroma:.35999999999999943,centsOffset:35.99999999999994,clarity:.9921666386235763},{time:15.3945,note:"C3",pitch:134.0678550132667,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9913215683003322},{time:15.411199999809265,note:"Db3",pitch:134.71655138859435,noteMidi:49,actualMidi:48.51,actualMidiChroma:.509999999999998,centsOffset:-49.0000000000002,clarity:.9924029721420702},{time:15.427799999952317,note:"Db3",pitch:135.45453664799973,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9929021698850633},{time:15.444599999904632,note:"Db3",pitch:135.34507641499886,noteMidi:49,actualMidi:48.59,actualMidiChroma:.5900000000000034,centsOffset:-40.99999999999966,clarity:.9927714038516484},{time:15.461199999809265,note:"Db3",pitch:136.15815701037164,noteMidi:49,actualMidi:48.69,actualMidiChroma:.6899999999999977,centsOffset:-31.000000000000227,clarity:.9926743299878211},{time:15.477799999952316,note:"Db3",pitch:135.77636878463386,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.9926965529730758},{time:15.4945,note:"Db3",pitch:136.32210010741542,noteMidi:49,actualMidi:48.71,actualMidiChroma:.7100000000000009,centsOffset:-28.999999999999915,clarity:.9921755528445075},{time:15.511099999904632,note:"Db3",pitch:136.6442282170498,noteMidi:49,actualMidi:48.76,actualMidiChroma:.759999999999998,centsOffset:-24.0000000000002,clarity:.9905393493259993},{time:15.527799999952316,note:"Db3",pitch:136.12368016641153,noteMidi:49,actualMidi:48.69,actualMidiChroma:.6899999999999977,centsOffset:-31.000000000000227,clarity:.9908332192592546},{time:15.54439999985695,note:"Db3",pitch:135.9794075865065,noteMidi:49,actualMidi:48.67,actualMidiChroma:.6700000000000017,centsOffset:-32.99999999999983,clarity:.9895263379122063},{time:15.561099999904632,note:"Db3",pitch:134.80344773647036,noteMidi:49,actualMidi:48.52,actualMidiChroma:.5200000000000031,centsOffset:-47.99999999999969,clarity:.9886965251282192},{time:15.577799999952317,note:"C3",pitch:134.32506581483824,noteMidi:48,actualMidi:48.46,actualMidiChroma:.46000000000000085,centsOffset:46.000000000000085,clarity:.9896758576220819},{time:15.5945,note:"C3",pitch:133.37420712443912,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9867587282202024},{time:15.611199999809266,note:"C3",pitch:132.6572287567036,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9854942680712284},{time:15.627799999952316,note:"C3",pitch:132.7412673680641,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9851913759465205},{time:15.64439999985695,note:"C3",pitch:132.0545076446563,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9844968123987918},{time:15.661099999904632,note:"C3",pitch:132.45031426525577,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9835204100612955},{time:15.677799999952317,note:"C3",pitch:132.06492627487782,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9836052482379287},{time:15.6945,note:"C3",pitch:133.0569698894612,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.981335663387231},{time:15.711199999809265,note:"C3",pitch:134.10512635367206,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9824881891564239},{time:15.727799999952316,note:"C3",pitch:134.24382494222834,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.982461377641016},{time:15.7445,note:"Db3",pitch:135.45686913542522,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9810919357049066},{time:15.761099999904632,note:"Db3",pitch:135.23255831904078,noteMidi:49,actualMidi:48.58,actualMidiChroma:.5799999999999983,centsOffset:-42.00000000000017,clarity:.9810008049991019},{time:15.777799999952316,note:"Db3",pitch:136.20600632739084,noteMidi:49,actualMidi:48.7,actualMidiChroma:.7000000000000028,centsOffset:-29.999999999999716,clarity:.9823258104641717},{time:15.79439999985695,note:"Db3",pitch:135.9031543781941,noteMidi:49,actualMidi:48.66,actualMidiChroma:.6599999999999966,centsOffset:-34.00000000000034,clarity:.9813881317039872},{time:15.811199999809265,note:"Db3",pitch:136.0477658789484,noteMidi:49,actualMidi:48.68,actualMidiChroma:.6799999999999997,centsOffset:-32.00000000000003,clarity:.9835732324664797},{time:15.827799999952317,note:"Db3",pitch:136.9595445270959,noteMidi:49,actualMidi:48.79,actualMidiChroma:.7899999999999991,centsOffset:-21.000000000000085,clarity:.9821920152047952},{time:15.8445,note:"Db3",pitch:135.8365414503576,noteMidi:49,actualMidi:48.65,actualMidiChroma:.6499999999999986,centsOffset:-35.00000000000014,clarity:.9826240696631139},{time:15.861099999904633,note:"Db3",pitch:135.15551009495812,noteMidi:49,actualMidi:48.57,actualMidiChroma:.5700000000000003,centsOffset:-42.99999999999997,clarity:.9822862475583136},{time:15.877699999809264,note:"C3",pitch:134.41158124824577,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.9823353667539081},{time:15.8945,note:"C3",pitch:133.34848355812818,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9835922803458956},{time:15.911199999809265,note:"C3",pitch:132.97320504679072,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.980080302525387},{time:15.927699999809265,note:"C3",pitch:132.69931992430614,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9785345468521598},{time:15.9445,note:"C3",pitch:132.84633517899238,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9770230213321405},{time:15.961199999809265,note:"C3",pitch:132.51404300880566,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9746369632676277},{time:15.977699999809266,note:"C3",pitch:132.83605059351063,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9742593342764181},{time:15.9945,note:"C3",pitch:132.4208839138319,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9745486453674239},{time:16.011299999952318,note:"C3",pitch:133.19636419514427,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9720375794661145},{time:16.027799999952315,note:"C3",pitch:134.08757446187835,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9709723572991784},{time:16.04439999985695,note:"C3",pitch:134.42532973155272,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.9727891292313053},{time:16.061099999904634,note:"Db3",pitch:135.61726400896973,noteMidi:49,actualMidi:48.62,actualMidiChroma:.6199999999999974,centsOffset:-38.000000000000256,clarity:.9719588286379448},{time:16.077699999809266,note:"Db3",pitch:135.378910728753,noteMidi:49,actualMidi:48.59,actualMidiChroma:.5900000000000034,centsOffset:-40.99999999999966,clarity:.9722599249191823},{time:16.09439999985695,note:"Db3",pitch:135.7463137296998,noteMidi:49,actualMidi:48.64,actualMidiChroma:.6400000000000006,centsOffset:-35.99999999999994,clarity:.9733795405569943},{time:16.11109999990463,note:"Db3",pitch:136.34201883319253,noteMidi:49,actualMidi:48.72,actualMidiChroma:.7199999999999989,centsOffset:-28.000000000000114,clarity:.971549599638756},{time:16.127799999952316,note:"Db3",pitch:135.5321257997657,noteMidi:49,actualMidi:48.61,actualMidiChroma:.6099999999999994,centsOffset:-39.00000000000006,clarity:.9734564051032066},{time:16.144399999856947,note:"Db3",pitch:135.8882068591285,noteMidi:49,actualMidi:48.66,actualMidiChroma:.6599999999999966,centsOffset:-34.00000000000034,clarity:.9738399415666734},{time:16.161099999904632,note:"Db3",pitch:135.41891500093058,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9719529824179389},{time:16.177799999952317,note:"Db3",pitch:134.667116077926,noteMidi:49,actualMidi:48.5,actualMidiChroma:.5,centsOffset:-50,clarity:.9753579959490928},{time:16.1945,note:"C3",pitch:134.13568142775662,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9703149305665519},{time:16.211,note:"C3",pitch:132.54592004201405,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9691492638838675},{time:16.227699999809264,note:"C3",pitch:132.64060508814742,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9672394679098346},{time:16.244299999952315,note:"C3",pitch:131.8183030325596,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9688373009782403},{time:16.261099999904634,note:"C3",pitch:132.06738098555445,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9662612154860035},{time:16.277799999952315,note:"C3",pitch:131.70068079112346,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.965389921038895},{time:16.2945,note:"C3",pitch:131.2605200429957,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9672793532365134},{time:16.311099999904634,note:"C3",pitch:131.17118983977198,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9613940682108719},{time:16.327699999809266,note:"C3",pitch:130.90036362067917,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9538792589150837},{time:16.34439999985695,note:"C3",pitch:134.03007468648292,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.8887675054401818},{time:16.361,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.377599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.394299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.411,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.427599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.444399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.461,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.477599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.494299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.511,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.527599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.544299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.561,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.57759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.594299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.611199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.627599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.644299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.661,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.677699999809263,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.694299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.71089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.727599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.744299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.761099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.777599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.794299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.811,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.827699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:16.84439999985695,note:"C3",pitch:133.16818398303806,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.6015556636363826},{time:16.86109999990463,note:"C3",pitch:131.8994334149491,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9062431912168449},{time:16.877699999809266,note:"C3",pitch:131.809002729845,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9648108326958962},{time:16.894399999856947,note:"C3",pitch:131.6575007313411,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9984406108407029},{time:16.911099999904632,note:"C3",pitch:131.62367587314688,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9985856674680065},{time:16.927899999856947,note:"C3",pitch:131.62286417629966,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.99840655473335},{time:16.944299999952317,note:"C3",pitch:131.65018054017168,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9983774062932156},{time:16.961,note:"C3",pitch:131.68451783842627,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9983586228025416},{time:16.977799999952317,note:"C3",pitch:131.65347971587806,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9983956642591139},{time:16.994299999952315,note:"C3",pitch:131.7242424823377,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9984764614219799},{time:17.011099999904634,note:"C3",pitch:131.7024679719076,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9986850134019605},{time:17.027799999952315,note:"C3",pitch:131.69338356791127,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9988427333104042},{time:17.0445,note:"C3",pitch:131.69869536557124,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9990017909864903},{time:17.061099999904634,note:"C3",pitch:131.65064710398994,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9990209368752652},{time:17.077799999952315,note:"C3",pitch:131.65385878600333,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9990751486642466},{time:17.0945,note:"C3",pitch:131.70635461556805,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999135640039281},{time:17.11109999990463,note:"C3",pitch:131.75954867785813,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9991679710151402},{time:17.127699999809266,note:"C3",pitch:131.76307544346443,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.999183195502745},{time:17.144399999856947,note:"C3",pitch:131.76187521747164,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9993354955235105},{time:17.161199999809266,note:"C3",pitch:131.68092042214772,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9994532686497983},{time:17.177799999952317,note:"C3",pitch:131.7215604517747,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995120414900747},{time:17.194399999856948,note:"C3",pitch:131.6995048581183,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995759283975687},{time:17.211,note:"C3",pitch:131.77469839444743,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9996231828471736},{time:17.227799999952317,note:"C3",pitch:131.7740769026921,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.999664226337778},{time:17.2445,note:"C3",pitch:131.8813702602198,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.999653472552879},{time:17.261099999904634,note:"C3",pitch:131.88615697280198,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9997096113269208},{time:17.277799999952315,note:"C3",pitch:131.87957267215447,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.999736141207471},{time:17.294299999952315,note:"C3",pitch:131.9122947106379,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998231395468231},{time:17.311099999904634,note:"C3",pitch:131.93845795637407,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998211520077973},{time:17.327699999809266,note:"C3",pitch:131.93638225645563,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998504078686423},{time:17.34439999985695,note:"C3",pitch:131.98464335544472,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998694173638683},{time:17.36109999990463,note:"C3",pitch:132.05815592665914,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9998645727059099},{time:17.377699999809266,note:"C3",pitch:132.08853892239583,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998715679702741},{time:17.394399999856947,note:"C3",pitch:132.13792884924626,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998882085283896},{time:17.411099999904632,note:"C3",pitch:132.18267867922992,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999049698604949},{time:17.427899999856947,note:"C3",pitch:132.23423535401653,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9999142457041259},{time:17.444299999952317,note:"C3",pitch:132.3865169159113,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999087617080633},{time:17.461,note:"C3",pitch:132.6343989119493,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999910504934256},{time:17.477699999809264,note:"C3",pitch:132.72844590764535,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999157130369554},{time:17.494599999904633,note:"C3",pitch:132.86513728624743,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999198732610068},{time:17.511099999904634,note:"C3",pitch:132.9168413426133,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999175204627875},{time:17.527699999809265,note:"C3",pitch:132.93740615611304,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999044866007765},{time:17.5445,note:"C3",pitch:132.9756984815868,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999262609304509},{time:17.561,note:"C3",pitch:132.9565304215249,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.999934495992143},{time:17.577699999809266,note:"C3",pitch:132.95696697786954,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999448462138929},{time:17.594299999952316,note:"C3",pitch:132.91410617459434,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999509675718627},{time:17.61109999990463,note:"C3",pitch:132.72507751474663,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.999873666102296},{time:17.627699999809266,note:"C3",pitch:132.588757613995,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.99987109624022},{time:17.644399999856947,note:"C3",pitch:132.40892139125933,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9998784805496612},{time:17.661199999809266,note:"C3",pitch:132.25614469456897,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9998662664264444},{time:17.677699999809263,note:"C3",pitch:132.18611447658535,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9998668251818117},{time:17.694399999856948,note:"C3",pitch:131.96733074653622,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998752945030986},{time:17.711,note:"C3",pitch:131.82517784988028,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999118769731368},{time:17.727699999809264,note:"C3",pitch:131.78400145484318,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999342378088798},{time:17.74439999985695,note:"C3",pitch:131.7182843979575,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999505500022252},{time:17.761,note:"C3",pitch:131.66815002174093,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.999956261907613},{time:17.777699999809265,note:"C3",pitch:131.65230348979728,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999601776938079},{time:17.7945,note:"C3",pitch:131.62402379454386,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999657941809801},{time:17.811,note:"C3",pitch:131.58798864915696,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999603521650684},{time:17.827799999952315,note:"C3",pitch:131.57963132151022,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999593340562498},{time:17.84439999985695,note:"C3",pitch:131.51690957095983,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999552293982248},{time:17.86109999990463,note:"C3",pitch:131.47749528854624,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999607170200733},{time:17.877799999952316,note:"C3",pitch:131.48144319493903,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999661969571605},{time:17.8945,note:"C3",pitch:131.50227628371402,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.999948547926266},{time:17.911099999904632,note:"C3",pitch:131.51825683792038,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999549489225927},{time:17.927799999952317,note:"C3",pitch:131.5249840574442,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999597070692019},{time:17.944399999856948,note:"C3",pitch:131.50854743801432,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999688332320247},{time:17.961099999904633,note:"C3",pitch:131.52423572019563,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9999491437070347},{time:17.977799999952317,note:"C3",pitch:131.5594782270102,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999951484829964},{time:17.99439999985695,note:"C3",pitch:131.65015750526968,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999318930316932},{time:18.011099999904634,note:"C3",pitch:131.70823472142055,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999455710311622},{time:18.027699999809265,note:"C3",pitch:131.75553593214104,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999607788786022},{time:18.04439999985695,note:"C3",pitch:131.8482922776368,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9999673175173456},{time:18.061099999904634,note:"C3",pitch:132.00507107033,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9999479178234978},{time:18.077799999952315,note:"C3",pitch:132.08025582343785,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999293681434054},{time:18.094799999952315,note:"C3",pitch:132.33190525815075,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999351974993189},{time:18.11109999990463,note:"C3",pitch:132.51212952150266,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999294171809154},{time:18.127699999809266,note:"C3",pitch:132.65465480900343,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999938649012762},{time:18.144399999856947,note:"C3",pitch:132.9245196631058,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.999922969398213},{time:18.161199999809266,note:"C3",pitch:133.09420442984273,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9999426541624103},{time:18.177799999952317,note:"C3",pitch:133.1633039086572,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999443313202292},{time:18.194299999952317,note:"C3",pitch:133.30517997575984,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9999465129940717},{time:18.211,note:"C3",pitch:133.43624290418163,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9999538542361464},{time:18.227799999952317,note:"C3",pitch:133.46496723653928,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999549375990924},{time:18.2445,note:"C3",pitch:133.4996424743408,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999693474888005},{time:18.26209999990463,note:"C3",pitch:133.47232085629605,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999632914592311},{time:18.277799999952315,note:"C3",pitch:133.4512175990561,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9999622921886555},{time:18.2945,note:"C3",pitch:133.17073448565878,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9998283397243171},{time:18.311,note:"C3",pitch:132.6907099102131,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997839553065688},{time:18.327699999809266,note:"C3",pitch:132.49069677916077,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9998102991402007},{time:18.34439999985695,note:"C3",pitch:132.15501890012337,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999014820626861},{time:18.361,note:"C3",pitch:131.93275995446868,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9999311566138367},{time:18.377799999952316,note:"C3",pitch:131.8287964443266,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999263066470903},{time:18.394399999856947,note:"C3",pitch:131.6849842246889,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999166367598811},{time:18.4115,note:"C3",pitch:131.64481789316366,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999094452897701},{time:18.427699999809263,note:"C3",pitch:131.64865370574324,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999318915633033},{time:18.444299999952317,note:"C3",pitch:131.67910975633058,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999533996606615},{time:18.461199999809264,note:"C3",pitch:131.71078513971725,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999608267918312},{time:18.477699999809264,note:"C3",pitch:131.72390961880842,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999596290658523},{time:18.49439999985695,note:"C3",pitch:131.75673113957836,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999606196707518},{time:18.511,note:"C3",pitch:131.74123478907003,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999582374112244},{time:18.527599999904634,note:"C3",pitch:131.74249342662733,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999968506983727},{time:18.5445,note:"C3",pitch:131.73342987923144,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999743380591468},{time:18.561099999904634,note:"C3",pitch:131.78189927366378,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999622641794979},{time:18.577699999809266,note:"C3",pitch:131.85262044192936,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9999452185694047},{time:18.59439999985695,note:"C3",pitch:131.96408821315026,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9999632286779381},{time:18.61109999990463,note:"C3",pitch:132.0775721194497,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999424697183557},{time:18.627699999809266,note:"C3",pitch:132.1280788197331,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999389229555184},{time:18.644299999952317,note:"C3",pitch:132.30191762986766,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999585092142595},{time:18.661,note:"C3",pitch:132.42224468157895,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9999628131353475},{time:18.677699999809263,note:"C3",pitch:132.48118344935224,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999581484645823},{time:18.694399999856948,note:"C3",pitch:132.6368650743773,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9999578657582404},{time:18.711099999904633,note:"C3",pitch:132.72415171267636,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.999965232806975},{time:18.727799999952317,note:"C3",pitch:132.74847912319754,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999633247908264},{time:18.74439999985695,note:"C3",pitch:132.77172757596037,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9999595786607394},{time:18.761199999809264,note:"C3",pitch:132.73288048153776,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999540721640692},{time:18.777699999809265,note:"C3",pitch:132.73575703760102,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9998199766089151},{time:18.794299999952315,note:"C3",pitch:132.69723478327188,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.99960226944129},{time:18.811,note:"C3",pitch:132.4642168922775,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9996498807667678},{time:18.82789999985695,note:"C3",pitch:132.18991326010826,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9998167531552937},{time:18.844299999952316,note:"C3",pitch:131.8794699522541,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998773795090194},{time:18.861,note:"C3",pitch:131.67200978286016,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999087287718993},{time:18.877699999809266,note:"C3",pitch:131.63942101017741,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999155319111956},{time:18.894299999952317,note:"C3",pitch:131.6045729570649,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999535777796034},{time:18.911199999809266,note:"C3",pitch:131.60175243672765,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9997796211551453},{time:18.927699999809263,note:"C3",pitch:131.61190378502326,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9997433790995736},{time:18.944399999856948,note:"C3",pitch:131.59536395574088,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9994938366427384},{time:18.961,note:"C3",pitch:131.57973179302556,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9991032774295725},{time:18.977799999952317,note:"C3",pitch:131.60329134127278,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999074661031603},{time:18.994299999952315,note:"C3",pitch:131.69414663556057,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.998940632553996},{time:19.011,note:"C3",pitch:131.82775453349927,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9983829193870299},{time:19.027699999809265,note:"C3",pitch:131.87234944925524,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9978299943409183},{time:19.04439999985695,note:"C3",pitch:131.99467891486927,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9969257479970643},{time:19.061099999904634,note:"C3",pitch:132.1174183658524,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9956385681382933},{time:19.077699999809266,note:"C3",pitch:132.17557018860234,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9961513559858091},{time:19.094299999952316,note:"C3",pitch:132.20182129149666,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9957938946225333},{time:19.11109999990463,note:"C3",pitch:132.3378935423361,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9952538467512468},{time:19.129299999952316,note:"C3",pitch:132.36141550419143,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9949053851870104},{time:19.144299999952317,note:"C3",pitch:132.52143759857117,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9947368808532246},{time:19.161099999904632,note:"C3",pitch:132.40748512434755,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9945269659357621},{time:19.177799999952317,note:"C3",pitch:132.28293335199993,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9937289348185026},{time:19.194299999952317,note:"C3",pitch:131.92194573458025,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9933818673729036},{time:19.211,note:"C3",pitch:131.71529992307399,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9953563929220373},{time:19.227699999809264,note:"C3",pitch:131.8060797080413,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9980446050124385},{time:19.244299999952315,note:"C3",pitch:131.65017959310316,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9998012886415459},{time:19.261199999809264,note:"C3",pitch:131.6381446620517,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9998279608248666},{time:19.277699999809265,note:"C3",pitch:131.70277353876602,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999825201669438},{time:19.29439999985695,note:"C3",pitch:131.67587895193412,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9998468571644779},{time:19.311,note:"C3",pitch:131.7031405620321,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9998378614082348},{time:19.327699999809266,note:"C3",pitch:131.74666811343022,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9998263128383975},{time:19.344299999952316,note:"C3",pitch:131.99307160427716,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9997917878056377},{time:19.361,note:"C3",pitch:132.23626081802308,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9998027382214865},{time:19.377599999904632,note:"C3",pitch:132.33511909481146,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9998582251387838},{time:19.394399999856947,note:"C3",pitch:132.4613915683652,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9998219288613726},{time:19.411,note:"C3",pitch:132.5417436597141,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9998928560321652},{time:19.427699999809263,note:"C3",pitch:132.49902004578627,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999027477410998},{time:19.444399999856948,note:"C3",pitch:132.50054727271882,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999022477623853},{time:19.461,note:"C3",pitch:132.29277519399852,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9997931591693003},{time:19.477699999809264,note:"C3",pitch:132.2078479288892,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9997626157925978},{time:19.4955,note:"C3",pitch:131.84613257568608,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998437124643509},{time:19.511,note:"C3",pitch:131.7332209366319,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999168863158232},{time:19.5275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.544199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.561,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.577699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.594199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.610899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.627599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.644299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.661,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.677599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.694299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.71089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.727599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.744199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.761,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.777699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.794199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.811,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.828199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.844199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.860899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.877699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.894299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.911,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.927599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.944199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.961,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.9775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:19.994199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.01089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.0275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.044199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.06089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.07759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.094299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.110899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.127599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.144199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.161,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.177799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.19739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.21089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.227599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.24439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.26089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.2775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.294199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.311,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.32759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.344299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.361,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.377599999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.394299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.410899999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.427599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.444299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.461,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:20.478,note:"D4",pitch:291.8398106416368,noteMidi:62,actualMidi:61.89,actualMidiChroma:1.8900000000000006,centsOffset:-10.999999999999943,clarity:.1178841495547367},{time:20.494299999952315,note:"E2",pitch:83.76978036378426,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.6376876238600602},{time:20.511,note:"E2",pitch:83.2446448913192,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9394686281037679},{time:20.527699999809265,note:"E2",pitch:83.33747634161404,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993226079566853},{time:20.544299999952315,note:"E2",pitch:83.33879898190835,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999441705254867},{time:20.562699999809265,note:"E2",pitch:83.30197030378594,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993778251826484},{time:20.577699999809266,note:"E2",pitch:83.29169437568979,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9994132197846852},{time:20.59439999985695,note:"E2",pitch:83.31455832594962,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9995190827251861},{time:20.61109999990463,note:"E2",pitch:83.3408628817681,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9995154951183167},{time:20.627699999809266,note:"E2",pitch:83.32737834387008,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9994961172219092},{time:20.644299999952317,note:"E2",pitch:83.33684675285988,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996001489284652},{time:20.661199999809266,note:"E2",pitch:83.34986507607783,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9995931335377719},{time:20.677699999809263,note:"E2",pitch:83.35638176853686,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9995428219793467},{time:20.694399999856948,note:"E2",pitch:83.32526760983069,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9995223789823768},{time:20.711,note:"E2",pitch:83.3203555350386,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999657007810157},{time:20.727699999809264,note:"E2",pitch:83.31469679135498,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996922032386379},{time:20.744299999952315,note:"E2",pitch:83.30337676786104,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9996822461699111},{time:20.761099999904634,note:"E2",pitch:83.2865237506789,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999718704993569},{time:20.777699999809265,note:"E2",pitch:83.27995831658176,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997246759333791},{time:20.794299999952315,note:"E2",pitch:83.27791470683019,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997100035268858},{time:20.811,note:"E2",pitch:83.27551606547658,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997451233893315},{time:20.82759999990463,note:"E2",pitch:83.27359520753657,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997786147804959},{time:20.844299999952316,note:"E2",pitch:83.28366274413709,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998043113312463},{time:20.861,note:"E2",pitch:83.27545924080452,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997814822504694},{time:20.877699999809266,note:"E2",pitch:83.28123752617584,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998270716973536},{time:20.894299999952317,note:"E2",pitch:83.28683078136528,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998203773458698},{time:20.911099999904632,note:"E2",pitch:83.29128325499735,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998207006811128},{time:20.929699999809266,note:"E2",pitch:83.2830458844166,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997964776308947},{time:20.944299999952317,note:"E2",pitch:83.27943903147802,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997660738281979},{time:20.961,note:"E2",pitch:83.2702603005351,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997962690992352},{time:20.977799999952317,note:"E2",pitch:83.26602112685192,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998181630220557},{time:20.994299999952315,note:"E2",pitch:83.24784355090631,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999836216522425},{time:21.011,note:"E2",pitch:83.26379002238656,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997762474028065},{time:21.027699999809265,note:"E2",pitch:83.2607068065159,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999812247326247},{time:21.044299999952315,note:"E2",pitch:83.23980306338349,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9998435147148683},{time:21.061099999904634,note:"E2",pitch:83.24614019538883,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997445211475053},{time:21.077699999809266,note:"E2",pitch:83.25660652529783,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997333981450396},{time:21.094299999952316,note:"E2",pitch:83.26300156083664,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998143689324621},{time:21.11109999990463,note:"E2",pitch:83.25389059588815,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998405535185242},{time:21.127699999809266,note:"E2",pitch:83.2651572993744,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997453868260635},{time:21.144299999952317,note:"E2",pitch:83.28171449423259,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997335754543286},{time:21.160899999856948,note:"E2",pitch:83.25593343423459,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998436875571457},{time:21.177699999809263,note:"E2",pitch:83.2521545981479,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997431057259121},{time:21.194299999952317,note:"E2",pitch:83.28012102109336,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999621480171669},{time:21.211099999904633,note:"E2",pitch:83.27056928352123,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996939643020823},{time:21.227599999904633,note:"E2",pitch:83.25086895021383,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9997872809857},{time:21.24439999985695,note:"E2",pitch:83.26746393822351,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996403080215543},{time:21.261,note:"E2",pitch:83.27838216645532,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9995534434573585},{time:21.277599999904634,note:"E2",pitch:83.27742070299327,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999528418573874},{time:21.294299999952315,note:"E2",pitch:83.26177397704154,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9996975364609},{time:21.313299999952317,note:"E2",pitch:83.27830858855343,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999447479040839},{time:21.327699999809266,note:"E2",pitch:83.27463220778351,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9993971313089105},{time:21.344299999952316,note:"E2",pitch:83.22615141400141,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9996819008087812},{time:21.36109999990463,note:"E2",pitch:83.26890742120023,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9995155051942106},{time:21.377699999809266,note:"E2",pitch:83.29552530489175,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993422533799077},{time:21.394299999952317,note:"E2",pitch:83.28261121148864,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9992695825230697},{time:21.411,note:"E2",pitch:83.25021649522192,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999595801776195},{time:21.427699999809263,note:"E2",pitch:83.26989439627971,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9991699846616768},{time:21.444199999809264,note:"E2",pitch:83.28445594432291,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999037603482094},{time:21.461,note:"E2",pitch:83.22127586745216,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9995016337251315},{time:21.477599999904633,note:"E2",pitch:83.22947980537451,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9995729678195033},{time:21.494299999952315,note:"E2",pitch:83.28347697418734,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9989977464806827},{time:21.511099999904634,note:"E2",pitch:83.29107721759146,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.99819291381651},{time:21.527699999809265,note:"E2",pitch:83.3093769156211,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9934269035826162},{time:21.544299999952315,note:"E2",pitch:83.41839424378429,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9386731322364454},{time:21.561,note:"E2",pitch:84.40436949016457,noteMidi:40,actualMidi:40.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.8131299251171455},{time:21.577699999809266,note:"F2",pitch:86.25563232085959,noteMidi:41,actualMidi:40.79,actualMidiChroma:4.789999999999999,centsOffset:-21.000000000000085,clarity:.8060052095244004},{time:21.594299999952316,note:"F2",pitch:85.75254996794689,noteMidi:41,actualMidi:40.69,actualMidiChroma:4.689999999999998,centsOffset:-31.000000000000227,clarity:.8279213849463929},{time:21.610899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.627699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.644299999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:21.661,note:"C3",pitch:134.3840509846314,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.46229527054739705},{time:21.677699999809263,note:"E2",pitch:84.11879722927574,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.46122493351665383},{time:21.696299999952316,note:"E2",pitch:83.48292389612538,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.8930284360513383},{time:21.711,note:"E2",pitch:83.3755605139034,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9991821562884695},{time:21.727599999904633,note:"E2",pitch:83.37546923687533,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9994905827583409},{time:21.7445,note:"E2",pitch:83.36027950718234,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9994265572268688},{time:21.76089999985695,note:"E2",pitch:83.32889565782327,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992765499038825},{time:21.777599999904634,note:"E2",pitch:83.3178620975538,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993285510295209},{time:21.794299999952315,note:"E2",pitch:83.31914234147065,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9995902392659985},{time:21.811,note:"E2",pitch:83.33880714190033,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993327655576394},{time:21.827799999952315,note:"E2",pitch:83.32632281911103,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993069716570488},{time:21.844299999952316,note:"E2",pitch:83.30015454271184,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993386436994172},{time:21.861,note:"E2",pitch:83.335693380576,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992892429979321},{time:21.877699999809266,note:"E2",pitch:83.34275510225473,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9992749893298054},{time:21.894299999952317,note:"E2",pitch:83.31369689832023,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992027379564945},{time:21.911,note:"E2",pitch:83.30728768861427,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999554637541678},{time:21.927699999809263,note:"E2",pitch:83.3332475378031,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.999403357629518},{time:21.944299999952317,note:"E2",pitch:83.33023164058244,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992832424187981},{time:21.961,note:"E2",pitch:83.2802158513508,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9994096713286638},{time:21.977699999809264,note:"E2",pitch:83.30315451783667,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993982260125733},{time:21.994299999952315,note:"E2",pitch:83.31823041552694,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992430362958657},{time:22.011,note:"E2",pitch:83.27797714270558,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9991905196035589},{time:22.027699999809265,note:"E2",pitch:83.24619534857538,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9994166975383791},{time:22.044299999952315,note:"E2",pitch:83.32795763426638,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9991307826086882},{time:22.061,note:"E2",pitch:83.67278408248544,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9397035477649354},{time:22.07989999985695,note:"E2",pitch:84.36089231721324,noteMidi:40,actualMidi:40.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.7369575964699848},{time:22.094199999809266,note:"F2",pitch:85.03941740978176,noteMidi:41,actualMidi:40.54,actualMidiChroma:4.539999999999999,centsOffset:-46.000000000000085,clarity:.6404448166435728},{time:22.111,note:"F2",pitch:86.54222026817521,noteMidi:41,actualMidi:40.85,actualMidiChroma:4.850000000000001,centsOffset:-14.999999999999858,clarity:.7140539838999302},{time:22.127799999952316,note:"E2",pitch:84.51857640144159,noteMidi:40,actualMidi:40.44,actualMidiChroma:4.439999999999998,centsOffset:43.99999999999977,clarity:.6221999837102743},{time:22.144299999952317,note:"E2",pitch:83.97875063834303,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.5264648753553729},{time:22.161,note:"E2",pitch:83.50356556213895,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.8577109123824016},{time:22.177699999809263,note:"E2",pitch:83.24758583815357,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9886014634309532},{time:22.194299999952317,note:"E2",pitch:83.33424584298179,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.998944118097441},{time:22.211,note:"E2",pitch:83.32825986067155,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9986470700155365},{time:22.227599999904633,note:"E2",pitch:83.28640891557824,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9989692268078016},{time:22.244299999952315,note:"E2",pitch:83.27496311410881,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9992124915449949},{time:22.261,note:"E2",pitch:83.32882799334728,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9986829033337159},{time:22.277599999904634,note:"E2",pitch:83.32183322442758,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.998296144484641},{time:22.294299999952315,note:"E2",pitch:83.265052572176,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9990421563071266},{time:22.31089999985695,note:"E2",pitch:83.32292859337656,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9991557851390809},{time:22.32759999990463,note:"E2",pitch:83.35443498561021,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9987312246037305},{time:22.344199999809266,note:"E2",pitch:83.31193122705217,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9989395263546612},{time:22.360899999856947,note:"E2",pitch:83.28747275788463,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9992419423153365},{time:22.377599999904632,note:"E2",pitch:83.29515236815872,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988556637347017},{time:22.394299999952317,note:"E2",pitch:83.28338016082577,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9982991030199599},{time:22.411,note:"E2",pitch:83.36811566022702,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9965694364887696},{time:22.427699999809263,note:"E2",pitch:83.73718529726668,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9381473557561719},{time:22.444299999952317,note:"E2",pitch:84.75498207212998,noteMidi:40,actualMidi:40.49,actualMidiChroma:4.490000000000002,centsOffset:49.0000000000002,clarity:.7467139887398986},{time:22.463599999904634,note:"G2",pitch:95.92124519429103,noteMidi:43,actualMidi:42.63,actualMidiChroma:6.630000000000003,centsOffset:-36.999999999999744,clarity:.6016363129721505},{time:22.477699999809264,note:"C4",pitch:262.35900115297244,noteMidi:60,actualMidi:60.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.21298559101615755},{time:22.494199999809265,note:"E2",pitch:83.89391781718287,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.7809203028915732},{time:22.511,note:"E2",pitch:83.09336893847902,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9818022692466002},{time:22.527599999904634,note:"E2",pitch:83.28815033797832,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9980873650640802},{time:22.544299999952315,note:"E2",pitch:83.34495340872985,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9989629134530986},{time:22.561,note:"E2",pitch:83.292318155597,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988138655252641},{time:22.577699999809266,note:"E2",pitch:83.3005765616181,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992219942608358},{time:22.594199999809266,note:"E2",pitch:83.36520505386414,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9992382151294521},{time:22.611,note:"E2",pitch:83.39989945939087,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9987969113590651},{time:22.627599999904632,note:"E2",pitch:83.38471530373577,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9989385443012111},{time:22.644299999952317,note:"E2",pitch:83.41063511746978,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9994796208014805},{time:22.661,note:"E2",pitch:83.49294378438249,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9989732058342327},{time:22.677599999904633,note:"E2",pitch:83.50597491333919,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9984399146998157},{time:22.694299999952317,note:"E2",pitch:83.47375545002055,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9992423291413957},{time:22.71089999985695,note:"E2",pitch:83.5267255368791,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9992739161167066},{time:22.727599999904633,note:"E2",pitch:83.54543984906974,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.99877137252399},{time:22.744299999952315,note:"E2",pitch:83.50568919149936,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9986581397426733},{time:22.76089999985695,note:"E2",pitch:83.48034606208135,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9995224543269217},{time:22.777699999809265,note:"E2",pitch:83.5882986920573,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9949809648628332},{time:22.794299999952315,note:"E2",pitch:84.12260467333765,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.8926733168556211},{time:22.811,note:"F2",pitch:88.15010869351057,noteMidi:41,actualMidi:41.17,actualMidiChroma:5.170000000000002,centsOffset:17.00000000000017,clarity:.5777317421426744},{time:22.82759999990463,note:"F2",pitch:89.72615617892343,noteMidi:41,actualMidi:41.47,actualMidiChroma:5.469999999999999,centsOffset:46.999999999999886,clarity:.536405821808895},{time:22.844099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:22.861,note:"G0",pitch:23.82476698908005,noteMidi:19,actualMidi:18.52,actualMidiChroma:6.52,centsOffset:-48.00000000000004,clarity:.4305725403382894},{time:22.881299999952315,note:"E2",pitch:84.14335924831931,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.7692796130478428},{time:22.894199999809267,note:"E2",pitch:83.69653200444137,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.8804764673944874},{time:22.911,note:"E2",pitch:83.50431119281987,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9985873869699731},{time:22.927699999809263,note:"E2",pitch:83.56781668963598,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993431524851673},{time:22.944199999809264,note:"E2",pitch:83.556720744926,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992715784929658},{time:22.96089999985695,note:"E2",pitch:83.49840056505563,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994646336243562},{time:22.977599999904633,note:"E2",pitch:83.52071856231457,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994389782713995},{time:22.994299999952315,note:"E2",pitch:83.57525513232063,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992611145019623},{time:23.01089999985695,note:"E2",pitch:83.54761775236113,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992232506510561},{time:23.027599999904634,note:"E2",pitch:83.50476939499036,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993675077185458},{time:23.044199999809265,note:"E2",pitch:83.52817703541841,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994123841526346},{time:23.06089999985695,note:"E2",pitch:83.52921028161455,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999348253139658},{time:23.07759999990463,note:"E2",pitch:83.52166358835588,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999115271492883},{time:23.094199999809266,note:"E2",pitch:83.49642191110256,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993405952135959},{time:23.110899999856947,note:"E2",pitch:83.52525786093581,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9992714021548323},{time:23.127599999904632,note:"E2",pitch:83.52338251651788,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9992123367668881},{time:23.144199999809267,note:"E2",pitch:83.48840287227621,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993722985883693},{time:23.160899999856948,note:"E2",pitch:83.5155225185833,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9994051612484611},{time:23.177599999904633,note:"E2",pitch:83.53658670980796,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993158276546694},{time:23.194299999952317,note:"E2",pitch:83.54098954843417,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9990058211578798},{time:23.21089999985695,note:"E2",pitch:83.52030460823991,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993615810067098},{time:23.227599999904633,note:"E2",pitch:83.53878407906063,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993790857930662},{time:23.244299999952315,note:"E2",pitch:83.57122424025494,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9991505813139128},{time:23.261,note:"E2",pitch:83.54652536977687,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9991206378209796},{time:23.277699999809265,note:"E2",pitch:83.55792859804444,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9994385169356121},{time:23.2975,note:"E2",pitch:83.56551889822563,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.999295339641435},{time:23.31089999985695,note:"E2",pitch:83.570713812633,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9986701809883982},{time:23.32759999990463,note:"E2",pitch:83.54885968747911,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9988870710831748},{time:23.344299999952316,note:"E2",pitch:83.56122470046272,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9993378764272052},{time:23.360899999856947,note:"E2",pitch:83.58459724619047,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9988990784671472},{time:23.377599999904632,note:"E2",pitch:83.57471817779955,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9986610509713927},{time:23.394199999809267,note:"E2",pitch:83.55369989659114,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9992226219738569},{time:23.411099999904632,note:"E2",pitch:83.57022292341152,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9991035614621069},{time:23.427599999904633,note:"E2",pitch:83.58174617142843,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9987632079371735},{time:23.444199999809264,note:"E2",pitch:83.55417495291258,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9982801076832999},{time:23.46089999985695,note:"E2",pitch:83.55009457656485,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9990798870642976},{time:23.477599999904633,note:"E2",pitch:83.56639427006795,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9990833421282019},{time:23.494199999809265,note:"E2",pitch:83.57329827853881,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9979687782789739},{time:23.51089999985695,note:"E2",pitch:83.5392621510604,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9988105090917969},{time:23.527599999904634,note:"E2",pitch:83.52999364763824,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9993228757673194},{time:23.544199999809265,note:"E2",pitch:83.57876994446347,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9982074300403667},{time:23.56089999985695,note:"E2",pitch:83.53398733254865,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.997363018920467},{time:23.57759999990463,note:"E2",pitch:83.50217786273758,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9985027864070588},{time:23.594299999952316,note:"E2",pitch:83.56235624293043,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9989148991190575},{time:23.610899999856947,note:"E2",pitch:83.57821298601561,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9973190346569254},{time:23.627599999904632,note:"E2",pitch:83.53478519166043,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.99726471775314},{time:23.644199999809267,note:"E2",pitch:83.51394161868605,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999005582506598},{time:23.660899999856948,note:"E2",pitch:83.56594208208702,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9971345412944004},{time:23.677599999904633,note:"E2",pitch:83.54178345884053,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9953862232218142},{time:23.694299999952317,note:"E2",pitch:83.4438324331234,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9977559865949246},{time:23.710799999952318,note:"E2",pitch:83.49017714473483,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9983330388731417},{time:23.73159999990463,note:"E2",pitch:83.49135541084762,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9951893782478862},{time:23.744199999809265,note:"E2",pitch:83.45255489171305,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9952401281047543},{time:23.76089999985695,note:"E2",pitch:83.41012781184807,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9985223120101097},{time:23.777699999809265,note:"E2",pitch:83.41503699553185,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.998004517300302},{time:23.794199999809265,note:"E2",pitch:83.41154384929258,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9954192509794524},{time:23.811,note:"E2",pitch:83.33100931347977,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9974517470373172},{time:23.82759999990463,note:"E2",pitch:83.34820182602765,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9975710135127969},{time:23.84439999985695,note:"E2",pitch:83.35543798637623,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9970832890661541},{time:23.860899999856947,note:"E2",pitch:83.28080371887141,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9967602141990994},{time:23.877599999904632,note:"E2",pitch:83.25094692062758,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9973037578077282},{time:23.894299999952317,note:"E2",pitch:83.32603922210721,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9977209585743907},{time:23.910899999856948,note:"E2",pitch:83.43034554564365,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9946059881267502},{time:23.927599999904633,note:"E2",pitch:83.60541794755643,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9734857259985716},{time:23.944199999809264,note:"E2",pitch:84.12060384916495,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.7445802789743112},{time:23.96089999985695,note:"F2",pitch:87.52704073625232,noteMidi:41,actualMidi:41.04,actualMidiChroma:5.039999999999999,centsOffset:3.9999999999999147,clarity:.6061479499515663},{time:23.9775,note:"F2",pitch:88.06918113333914,noteMidi:41,actualMidi:41.15,actualMidiChroma:5.149999999999999,centsOffset:14.999999999999858,clarity:.691122379496786},{time:23.994099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.010799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.0275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.044199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.061,note:"F2",pitch:84.95125653006257,noteMidi:41,actualMidi:40.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.46818263155333284},{time:24.07759999990463,note:"F2",pitch:84.92906259609326,noteMidi:41,actualMidi:40.52,actualMidiChroma:4.520000000000003,centsOffset:-47.99999999999969,clarity:.5553899921074219},{time:24.094199999809266,note:"E2",pitch:83.36103117340218,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.8891230397209},{time:24.110899999856947,note:"E2",pitch:83.45280067244157,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9688998650279927},{time:24.127599999904632,note:"E2",pitch:83.43728811505858,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9765928647015159},{time:24.144199999809267,note:"E2",pitch:83.20768998681989,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9762780166214213},{time:24.164799999952315,note:"E2",pitch:83.24262790680538,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9879114246406289},{time:24.177599999904633,note:"E2",pitch:83.3201989406603,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9833416022588182},{time:24.194299999952317,note:"E2",pitch:83.24320252735494,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9691407398097596},{time:24.211,note:"E2",pitch:83.08685427291029,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9786190312437526},{time:24.2275,note:"E2",pitch:83.17734130661688,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9820665800306756},{time:24.244199999809265,note:"E2",pitch:83.28169185898219,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9805750515389917},{time:24.26089999985695,note:"E2",pitch:83.09374116069206,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9781979374943433},{time:24.277699999809265,note:"E2",pitch:83.18398054084368,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9842713148140092},{time:24.294199999809265,note:"E2",pitch:83.35253892393601,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9842121419618337},{time:24.31089999985695,note:"E2",pitch:84.11187749079687,noteMidi:40,actualMidi:40.35,actualMidiChroma:4.350000000000001,centsOffset:35.00000000000014,clarity:.9054351062649602},{time:24.32759999990463,note:"F2",pitch:85.26159728316594,noteMidi:41,actualMidi:40.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.7324437539323725},{time:24.344099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:24.360899999856947,note:"F2",pitch:88.57933601497851,noteMidi:41,actualMidi:41.25,actualMidiChroma:5.25,centsOffset:25,clarity:.28742340109027964},{time:24.3775,note:"E2",pitch:84.585940349349,noteMidi:40,actualMidi:40.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.45415277426783973},{time:24.394199999809267,note:"E2",pitch:83.36511421586059,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.8956628395027053},{time:24.410899999856948,note:"E2",pitch:83.38640843210696,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9980988128987747},{time:24.427599999904633,note:"E2",pitch:83.37616229165307,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9984078161867558},{time:24.444199999809264,note:"E2",pitch:83.31226609646681,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988607027067644},{time:24.46089999985695,note:"E2",pitch:83.335131985064,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988510605431316},{time:24.477599999904633,note:"E2",pitch:83.34474726272052,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9986174255419371},{time:24.494199999809265,note:"E2",pitch:83.31658267690467,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9982902805957821},{time:24.51089999985695,note:"E2",pitch:83.2932848142969,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9993544889486259},{time:24.527599999904634,note:"E2",pitch:83.31898502709569,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9991165953300651},{time:24.544199999809265,note:"E2",pitch:83.341172160192,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9983774762823572},{time:24.56089999985695,note:"E2",pitch:83.31408621113277,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988841067676901},{time:24.57759999990463,note:"E2",pitch:83.32392088833846,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9992213221118362},{time:24.594199999809266,note:"E2",pitch:83.3650893420049,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9984613487189904},{time:24.610899999856947,note:"E2",pitch:83.33929396648162,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9979218386079083},{time:24.627599999904632,note:"E2",pitch:83.32575507613439,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9988166447379285},{time:24.648299999952318,note:"E2",pitch:83.36027271498736,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9991516439029624},{time:24.661,note:"E2",pitch:83.36087974610838,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.997935140761598},{time:24.677599999904633,note:"E2",pitch:83.33578934292683,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9976434540011354},{time:24.694199999809264,note:"E2",pitch:83.35589094569958,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9993097249728038},{time:24.71089999985695,note:"E2",pitch:83.36799997615798,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9982591085313715},{time:24.7275,note:"E2",pitch:83.36572554613271,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9972495350248494},{time:24.744299999952315,note:"E2",pitch:83.32956647006915,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9985418344949721},{time:24.76089999985695,note:"E2",pitch:83.38957290732735,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.999083317879311},{time:24.7775,note:"E2",pitch:83.40610132959071,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9980788924100068},{time:24.794199999809265,note:"E2",pitch:83.3760135196718,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9969760558858525},{time:24.81089999985695,note:"E2",pitch:83.41066214387644,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.999270605399488},{time:24.82759999990463,note:"E2",pitch:83.44272405726245,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.998414302234778},{time:24.844199999809266,note:"E2",pitch:83.42671463011199,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.996272356097208},{time:24.860899999856947,note:"E2",pitch:83.37959112200674,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.998026120446383},{time:24.877599999904632,note:"E2",pitch:83.39104129460218,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9993260056822493},{time:24.894199999809267,note:"E2",pitch:83.45773478055897,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9973254028528089},{time:24.910899999856948,note:"E2",pitch:83.4092882723182,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9956191029817063},{time:24.927599999904633,note:"E2",pitch:83.42220412391788,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9977302565432637},{time:24.944299999952317,note:"E2",pitch:83.45831441802773,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9978247205700228},{time:24.96089999985695,note:"E2",pitch:83.44596766277833,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9950357999633894},{time:24.977599999904633,note:"E2",pitch:83.41095343000335,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9950493813934713},{time:24.994099999904634,note:"E2",pitch:83.40886909060599,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9992011715690836},{time:25.01089999985695,note:"E2",pitch:83.47272720085458,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9962465351727161},{time:25.027599999904634,note:"E2",pitch:83.44710669640367,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9950925468098291},{time:25.044199999809265,note:"E2",pitch:83.40769528433208,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9972801299928733},{time:25.06089999985695,note:"E2",pitch:83.45656192236599,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.997512151236549},{time:25.07759999990463,note:"E2",pitch:83.47372655178792,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.996297882695302},{time:25.099,note:"E2",pitch:83.42081263972982,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9947786054698895},{time:25.1115,note:"E2",pitch:83.42448996361529,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9989354466744516},{time:25.127599999904632,note:"E2",pitch:83.4708781322753,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9974239477821243},{time:25.144399999856947,note:"E2",pitch:83.46216026994969,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9947796191823102},{time:25.160899999856948,note:"E2",pitch:83.40313788991331,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9974294478578969},{time:25.177599999904633,note:"E2",pitch:83.43841062032705,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9982649357214513},{time:25.194399999856948,note:"E2",pitch:83.50462917541094,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9949615440309572},{time:25.211,note:"E2",pitch:83.44409921728447,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9955616195351809},{time:25.227599999904633,note:"E2",pitch:83.418880444203,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.997512546591409},{time:25.244299999952315,note:"E2",pitch:83.49129703615269,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9968161114411771},{time:25.26089999985695,note:"E2",pitch:83.48741121083017,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9943530485965368},{time:25.277599999904634,note:"E2",pitch:83.44710452257945,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9948582740990446},{time:25.294299999952315,note:"E2",pitch:83.43902741269459,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9978767648711226},{time:25.31089999985695,note:"E2",pitch:83.50801698566303,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9951486787578006},{time:25.32759999990463,note:"E2",pitch:83.49366196852982,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9939947391152941},{time:25.344299999952316,note:"E2",pitch:83.41142437271657,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.996870102824829},{time:25.361,note:"E2",pitch:83.48185648556225,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9967824499121747},{time:25.377699999809266,note:"E2",pitch:83.509395700356,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9949176673405589},{time:25.394299999952317,note:"E2",pitch:83.45488942228786,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9930137372507772},{time:25.411,note:"E2",pitch:83.44792253346023,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9970818622207815},{time:25.427599999904633,note:"E2",pitch:83.4646799949509,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9965935375474544},{time:25.444199999809264,note:"E2",pitch:83.49551250805642,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9927635821872371},{time:25.461,note:"E2",pitch:83.40269288266212,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9953262213976757},{time:25.477599999904633,note:"E2",pitch:83.44734448415521,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9974540847844651},{time:25.494199999809265,note:"E2",pitch:83.50465996259176,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9943488299358734},{time:25.51089999985695,note:"E2",pitch:83.46584182838708,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9905381892730389},{time:25.527599999904634,note:"E2",pitch:83.39627380096901,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9942208163468393},{time:25.544299999952315,note:"E2",pitch:83.44146396097526,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.996388314369753},{time:25.561,note:"E2",pitch:83.47564949797457,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9924779913952761},{time:25.577699999809266,note:"E2",pitch:83.46054404955233,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.990931782536407},{time:25.594299999952316,note:"E2",pitch:83.40773649766427,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9964991647559742},{time:25.616,note:"E2",pitch:83.45876822113318,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9946455248458506},{time:25.629799999952315,note:"E2",pitch:83.44110241111916,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9895768968136451},{time:25.644199999809267,note:"E2",pitch:83.38716433154997,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9922707648727851},{time:25.661,note:"E2",pitch:83.41836642805941,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9959057257508874},{time:25.677799999952317,note:"E2",pitch:83.44001182152833,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9945578053948054},{time:25.694299999952317,note:"E2",pitch:83.43221967810405,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9899238190398734},{time:25.711,note:"E2",pitch:83.41279076718135,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9951127435394511},{time:25.727599999904633,note:"E2",pitch:83.41967771082047,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9961177610505558},{time:25.744199999809265,note:"E2",pitch:83.47161590415648,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.992205126442343},{time:25.761,note:"E2",pitch:83.40600395320624,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9901497300634787},{time:25.777599999904634,note:"E2",pitch:83.38604943227946,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9930807328308191},{time:25.794199999809265,note:"E2",pitch:83.41474254745313,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9942272518898818},{time:25.81089999985695,note:"E2",pitch:83.42014853715058,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9890469408999536},{time:25.827699999809266,note:"E2",pitch:83.37229229760885,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9907229366403669},{time:25.844299999952316,note:"E2",pitch:83.41795742727192,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9949289033662012},{time:25.861,note:"E2",pitch:83.49054710392166,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9925649524881237},{time:25.877599999904632,note:"E2",pitch:83.46042481709877,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9889343748405821},{time:25.894299999952317,note:"E2",pitch:83.40777487978177,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9918985210286735},{time:25.910899999856948,note:"E2",pitch:83.42446654676819,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9944737253203328},{time:25.927599999904633,note:"E2",pitch:83.4571791602768,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9925388162909456},{time:25.944299999952317,note:"E2",pitch:83.39623380570625,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9918322209745014},{time:25.961,note:"E2",pitch:83.4181796839289,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9950987629690502},{time:25.977599999904633,note:"E2",pitch:83.46463463240403,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9938937861052608},{time:25.994299999952315,note:"E2",pitch:83.4705853969309,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9906101900631228},{time:26.011,note:"E2",pitch:83.41452985853749,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9925310925093243},{time:26.027699999809265,note:"E2",pitch:83.45541303077961,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9942863642076389},{time:26.044299999952315,note:"E2",pitch:83.5378847853618,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.992822565746522},{time:26.06089999985695,note:"E2",pitch:83.87850870944747,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.9459521076933299},{time:26.077699999809266,note:"E2",pitch:84.32554471090754,noteMidi:40,actualMidi:40.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.8833188797476481},{time:26.094299999952316,note:"F2",pitch:85.64221037467217,noteMidi:41,actualMidi:40.67,actualMidiChroma:4.670000000000002,centsOffset:-32.99999999999983,clarity:.6125509599302035},{time:26.110799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.1275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.144099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.160799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.1775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.194199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.210799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.232299999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.247699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.260799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.277599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.29409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.310799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.32759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.344099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.360799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.3775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.394199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.410799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.4275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.444099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.460799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.4775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.494099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.510799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.5275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.54409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.560799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.5775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.594199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.610699999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.6275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.644199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.660799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.6775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.694099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.710799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.7275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.744199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.761099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.782,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.795299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.810799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.8275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.844199999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.860799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.877399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.894199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.910799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.927599999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.944099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.960799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.9775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:26.994099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.01089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.02739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.04409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.060799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.077399999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.094099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.110799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.1275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.144199999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.160799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.17739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.194099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.210799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.22739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.244199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.260799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.2775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.29409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.310799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.3275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.344099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.360799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.3775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.39909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.41459999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.4275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.444199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.460799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.4775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.494199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.510699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.52739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.54409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.560799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.577399999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.594099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.610699999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.627399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.644099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.660799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.6775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.694099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.710799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.7275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.744099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.760799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.77739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.794199999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.810799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.8275,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.844099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.860799999952317,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.8775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.894099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.910899999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.92739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.944099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.960699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.97739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:27.994099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.010799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.027699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.046899999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.062599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.0775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.094099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.110699999809267,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.127399999856948,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.144099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.160699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.17739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.194099999904633,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.210799999952318,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.227599999904633,note:"C3",pitch:133.85532566871504,noteMidi:48,actualMidi:48.4,actualMidiChroma:.3999999999999986,centsOffset:39.99999999999986,clarity:.2498412962849894},{time:28.244199999809265,note:"E2",pitch:81.56200252752028,noteMidi:40,actualMidi:39.82,actualMidiChroma:3.8200000000000003,centsOffset:-17.99999999999997,clarity:.5976108843739851},{time:28.26089999985695,note:"E2",pitch:83.18896133686496,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9317721724950019},{time:28.277599999904634,note:"E2",pitch:83.48686865793223,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9962837007934269},{time:28.294199999809265,note:"E2",pitch:83.52266158305758,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9996097151373675},{time:28.310799999952316,note:"E2",pitch:83.49298992024758,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.999701348955611},{time:28.32759999990463,note:"E2",pitch:83.4677621026803,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9996728658040155},{time:28.344299999952316,note:"E2",pitch:83.44411494017793,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9995997407857118},{time:28.360899999856947,note:"E2",pitch:83.44929600613598,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997500491743239},{time:28.377599999904632,note:"E2",pitch:83.45177897447533,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997660395937231},{time:28.394199999809267,note:"E2",pitch:83.44316209659628,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997025965715949},{time:28.410899999856948,note:"E2",pitch:83.44620319587212,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997342455432232},{time:28.427599999904633,note:"E2",pitch:83.45810339954258,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997949140307583},{time:28.444199999809264,note:"E2",pitch:83.46076578265365,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998079838756411},{time:28.461,note:"E2",pitch:83.46868623750056,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997618878225012},{time:28.4775,note:"E2",pitch:83.47723284948871,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998364014996639},{time:28.494199999809265,note:"E2",pitch:83.48033453777015,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998676849141361},{time:28.51089999985695,note:"E2",pitch:83.47389025380997,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998117128260873},{time:28.5275,note:"E2",pitch:83.46360311289743,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998192256806817},{time:28.544199999809265,note:"E2",pitch:83.44665413648441,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998466385406317},{time:28.56089999985695,note:"E2",pitch:83.40707632315153,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998629830000851},{time:28.57759999990463,note:"E2",pitch:83.38237489296891,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998592762726588},{time:28.594199999809266,note:"E2",pitch:83.34815217732404,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998592330389755},{time:28.610799999952317,note:"E2",pitch:83.32550907993317,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998837666762483},{time:28.6275,note:"E2",pitch:83.30922322738117,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998824165930102},{time:28.644299999952317,note:"E2",pitch:83.27939799428464,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998591815265172},{time:28.662,note:"E2",pitch:83.26121638364032,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998888824328986},{time:28.682699999809266,note:"E2",pitch:83.26212774517518,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998925509243577},{time:28.69839999985695,note:"E2",pitch:83.25629860945519,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998856346261391},{time:28.711399999856948,note:"E2",pitch:83.2570161818252,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.999906246254028},{time:28.727599999904633,note:"E2",pitch:83.25994164864431,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999097921302678},{time:28.744199999809265,note:"E2",pitch:83.26722896643193,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999132027488145},{time:28.76089999985695,note:"E2",pitch:83.2651808049249,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9998921240777321},{time:28.777599999904634,note:"E2",pitch:83.26137849793773,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999115184254066},{time:28.794199999809265,note:"E2",pitch:83.26111235347665,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9999295026511561},{time:28.81089999985695,note:"E2",pitch:83.28865623576189,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.99455034713543},{time:28.82759999990463,note:"E2",pitch:83.54084443522045,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.963003049305982},{time:28.844199999809266,note:"E2",pitch:83.91734029051271,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.8485152304012047},{time:28.860899999856947,note:"F2",pitch:88.39206165321349,noteMidi:41,actualMidi:41.21,actualMidiChroma:5.210000000000001,centsOffset:21.000000000000085,clarity:.6260963466844238},{time:28.878,note:"Gb2",pitch:93.23346415409817,noteMidi:42,actualMidi:42.14,actualMidiChroma:6.140000000000001,centsOffset:14.000000000000057,clarity:.7913983924751786},{time:28.894,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.910699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.92739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.944199999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.960699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.9775,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:28.994,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.010799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.02739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.04409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.060699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.077399999856947,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.094099999904632,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:29.110899999856947,note:"D3",pitch:149.5089559724154,noteMidi:50,actualMidi:50.31,actualMidiChroma:2.3100000000000023,centsOffset:31.000000000000227,clarity:.4532607054971898},{time:29.1275,note:"E2",pitch:83.51285506227376,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.6581503455619355},{time:29.144199999809267,note:"E2",pitch:83.29403926202833,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9784504493561599},{time:29.160899999856948,note:"E2",pitch:83.51221177925463,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9997779891852616},{time:29.177599999904633,note:"E2",pitch:83.5044372908564,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9997815942153778},{time:29.194199999809264,note:"E2",pitch:83.46598249974066,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.999823784740272},{time:29.21089999985695,note:"E2",pitch:83.4511392493092,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998234250955278},{time:29.2275,note:"E2",pitch:83.46178653117616,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9998154108102},{time:29.244199999809265,note:"E2",pitch:83.46878261253717,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9997921605350939},{time:29.26089999985695,note:"E2",pitch:83.42832887564778,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998584554884502},{time:29.278099999904633,note:"E2",pitch:83.41745208724373,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998723947799704},{time:29.298299999952317,note:"E2",pitch:83.42379570200801,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998384952168067},{time:29.314299999952315,note:"E2",pitch:83.42191890566598,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998762696793335},{time:29.327399999856947,note:"E2",pitch:83.40463514618854,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998924700788052},{time:29.344299999952316,note:"E2",pitch:83.39064962854654,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998832067824992},{time:29.360799999952317,note:"E2",pitch:83.39129552542734,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.9998740530417507},{time:29.3775,note:"E2",pitch:83.37648946317618,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998925047052154},{time:29.394199999809267,note:"E2",pitch:83.34299293821171,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999030719891664},{time:29.411,note:"E2",pitch:83.33421551295216,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998907570431896},{time:29.427599999904633,note:"E2",pitch:83.346253306618,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9998980862639968},{time:29.444299999952317,note:"E2",pitch:83.3541259058011,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999439523907654},{time:29.46089999985695,note:"E2",pitch:83.36554068804412,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999362554391382},{time:29.4775,note:"E2",pitch:83.3742658284445,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.9999160283189781},{time:29.494199999809265,note:"E2",pitch:83.3235900782468,noteMidi:40,actualMidi:40.19,actualMidiChroma:4.189999999999998,centsOffset:18.999999999999773,clarity:.9998784932953555},{time:29.510799999952315,note:"E2",pitch:83.09526527858131,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.999621590692584},{time:29.527599999904634,note:"E2",pitch:82.95135996781414,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9997148494745289},{time:29.544299999952315,note:"E2",pitch:82.73427241992977,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9998322973151517},{time:29.56089999985695,note:"E2",pitch:82.59318402519841,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998761300178103},{time:29.5775,note:"E2",pitch:82.5363516570246,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9999083396801041},{time:29.594199999809266,note:"E2",pitch:82.48384399243218,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9999255995349756},{time:29.610899999856947,note:"E2",pitch:82.44705272311855,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.999935383879162},{time:29.6275,note:"E2",pitch:82.42607588998155,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999374145031368},{time:29.644199999809267,note:"E2",pitch:82.38845189954681,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999288741501573},{time:29.660899999856948,note:"E2",pitch:82.3419284533236,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999283137684785},{time:29.677599999904633,note:"E2",pitch:82.32311383072938,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999325585666128},{time:29.694199999809264,note:"E2",pitch:82.27286198430714,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999342310237864},{time:29.71089999985695,note:"E2",pitch:82.24652624948264,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999300673863729},{time:29.7275,note:"E2",pitch:82.2345099545153,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999264391112206},{time:29.744299999952315,note:"E2",pitch:82.19430411483188,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999297030893501},{time:29.760799999952315,note:"E2",pitch:82.15628666892329,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999265350968187},{time:29.777599999904634,note:"E2",pitch:82.12068542253074,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999326784388813},{time:29.794199999809265,note:"E2",pitch:82.0537441795839,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999147363903944},{time:29.810799999952316,note:"E2",pitch:81.9934530087355,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999124659344432},{time:29.8275,note:"E2",pitch:81.97818338767348,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999293940761476},{time:29.844099999904632,note:"E2",pitch:81.93792173130826,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9999342090511618},{time:29.860899999856947,note:"E2",pitch:81.89791181217204,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.999927517939696},{time:29.8775,note:"E2",pitch:81.8868142675283,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999264778201677},{time:29.894199999809267,note:"E2",pitch:81.88265761567966,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999347112177475},{time:29.910899999856948,note:"E2",pitch:81.86786533491427,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999402581679533},{time:29.9275,note:"E2",pitch:81.86063529598952,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999469804133412},{time:29.945799999952317,note:"E2",pitch:81.85172041274329,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999569195223472},{time:29.965599999904633,note:"E2",pitch:81.84084513584895,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999483055621141},{time:29.98389999985695,note:"E2",pitch:81.83582986431789,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.999941517789253},{time:29.997599999904633,note:"E2",pitch:81.84206005714589,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.999936102001854},{time:30.011299999952318,note:"E2",pitch:81.8480416724357,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999381073029809},{time:30.0275,note:"E2",pitch:81.84446901991056,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999449416461346},{time:30.044199999809265,note:"E2",pitch:81.8382641087548,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999381200650532},{time:30.06089999985695,note:"E2",pitch:81.82511594525006,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999367101491714},{time:30.07759999990463,note:"E2",pitch:81.8149161759209,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999403545162124},{time:30.094299999952316,note:"E2",pitch:81.80294856510594,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999442898658089},{time:30.110899999856947,note:"E2",pitch:81.79894930544835,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999421487665359},{time:30.1275,note:"E2",pitch:81.79082033292032,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999412628518058},{time:30.144199999809267,note:"E2",pitch:81.78981551855179,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999566068937185},{time:30.160899999856948,note:"E2",pitch:81.80113677693683,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999530319631589},{time:30.1775,note:"E2",pitch:81.80848571255397,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999477131383117},{time:30.194199999809264,note:"E2",pitch:81.80451623945018,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999479430773306},{time:30.21089999985695,note:"E2",pitch:81.80509036343027,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999493175474612},{time:30.227599999904633,note:"E2",pitch:81.81132672283051,noteMidi:40,actualMidi:39.87,actualMidiChroma:3.8699999999999974,centsOffset:-13.000000000000256,clarity:.9999531441319647},{time:30.244099999904634,note:"E2",pitch:81.83061236358522,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999526036679356},{time:30.260799999952315,note:"E2",pitch:81.85938415128179,noteMidi:40,actualMidi:39.88,actualMidiChroma:3.8800000000000026,centsOffset:-11.999999999999744,clarity:.9999561264570787},{time:30.2775,note:"E2",pitch:81.86884819240942,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999414252651206},{time:30.294199999809265,note:"E2",pitch:81.8679633523228,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999297868414345},{time:30.310799999952316,note:"E2",pitch:81.87729109249993,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999566922000866},{time:30.3275,note:"E2",pitch:81.88541745476175,noteMidi:40,actualMidi:39.89,actualMidiChroma:3.8900000000000006,centsOffset:-10.999999999999943,clarity:.9999582998206336},{time:30.344199999809266,note:"E2",pitch:81.91257755546347,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9999569901139722},{time:30.360799999952317,note:"E2",pitch:81.93720067481465,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.9999611656842688},{time:30.3775,note:"E2",pitch:81.95619594937268,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999598149197766},{time:30.394199999809267,note:"E2",pitch:81.98513078679458,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999357835274765},{time:30.410899999856948,note:"E2",pitch:82.00248971070744,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999497125158854},{time:30.4275,note:"E2",pitch:82.00571807535033,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999515156265915},{time:30.444199999809264,note:"E2",pitch:81.99759348930746,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999564566088566},{time:30.46089999985695,note:"E2",pitch:82.00296594463686,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999559372903661},{time:30.4775,note:"E2",pitch:82.00624785926223,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999567539507694},{time:30.494199999809265,note:"E2",pitch:82.00903080565655,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999523657330371},{time:30.510799999952315,note:"E2",pitch:82.01353208894014,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999557552345522},{time:30.5275,note:"E2",pitch:82.02020042740357,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999485208009133},{time:30.544199999809265,note:"E2",pitch:82.02781085453672,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999398317455643},{time:30.56089999985695,note:"E2",pitch:82.0184193600529,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999471146367256},{time:30.5775,note:"E2",pitch:82.01112117672197,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999531934939228},{time:30.594199999809266,note:"E2",pitch:82.01370887170772,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999613436293515},{time:30.6125,note:"E2",pitch:82.01066600961948,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.99995837678388},{time:30.6325,note:"E2",pitch:81.99958887020033,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999510728793126},{time:30.651099999904634,note:"E2",pitch:81.99891141968686,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999527028758308},{time:30.665199999809264,note:"E2",pitch:81.9966047167371,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999407368566011},{time:30.678299999952316,note:"E2",pitch:81.99366838167313,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999408818367783},{time:30.694099999904633,note:"E2",pitch:81.99684781345921,noteMidi:40,actualMidi:39.91,actualMidiChroma:3.9099999999999966,centsOffset:-9.000000000000341,clarity:.9999433491758083},{time:30.710799999952318,note:"E2",pitch:82.0202796678903,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999484121913014},{time:30.727599999904633,note:"E2",pitch:82.02388546407732,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999526230878644},{time:30.744199999809265,note:"E2",pitch:82.04246629774502,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.999939115872678},{time:30.76089999985695,note:"E2",pitch:82.08011541771023,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999623916279887},{time:30.7775,note:"E2",pitch:82.08392449237203,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999587750892402},{time:30.794199999809265,note:"E2",pitch:82.0927573976778,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9999571019923224},{time:30.810799999952316,note:"E2",pitch:82.09730363935883,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999948788911226},{time:30.827399999856947,note:"E2",pitch:82.10494795155279,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999433802280606},{time:30.844199999809266,note:"E2",pitch:82.12806509098536,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999936276414644},{time:30.860899999856947,note:"E2",pitch:82.1437064513631,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999532699871878},{time:30.8775,note:"E2",pitch:82.15231977134258,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999466621270585},{time:30.894099999904633,note:"E2",pitch:82.14919208303718,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999414258418682},{time:30.910799999952317,note:"E2",pitch:82.15210129242816,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999274172962913},{time:30.9275,note:"E2",pitch:82.16927676076085,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999228926668451},{time:30.944199999809264,note:"E2",pitch:82.17270947669115,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999348045396914},{time:30.96089999985695,note:"E2",pitch:82.16372030744832,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999400592739676},{time:30.9775,note:"E2",pitch:82.16365356241798,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.999945895673477},{time:30.994199999809265,note:"E2",pitch:82.16945535475818,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999391322904359},{time:31.01089999985695,note:"E2",pitch:82.17822120240812,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999311401271598},{time:31.02739999985695,note:"E2",pitch:82.19288965676395,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999335585483777},{time:31.044199999809265,note:"E2",pitch:82.20711172909635,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999442401498868},{time:31.06089999985695,note:"E2",pitch:82.19845690828008,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999382340557332},{time:31.0775,note:"E2",pitch:82.18977655585572,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9999441492015819},{time:31.094099999904632,note:"E2",pitch:82.20639751899611,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999327455941796},{time:31.110899999856947,note:"E2",pitch:82.21469548373854,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999944667967128},{time:31.1275,note:"E2",pitch:82.21438166049006,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999306299148145},{time:31.144099999904633,note:"E2",pitch:82.22694208973178,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.99994589017885},{time:31.160799999952317,note:"E2",pitch:82.22299301660875,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999331854829165},{time:31.1775,note:"E2",pitch:82.23299537233716,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999164427270415},{time:31.194099999904633,note:"E2",pitch:82.22971884585517,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999083869665242},{time:31.211,note:"E2",pitch:82.23486637998691,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999273219099223},{time:31.2275,note:"E2",pitch:82.2262666154996,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999341962738697},{time:31.244199999809265,note:"E2",pitch:82.2178759251138,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999932093065766},{time:31.26089999985695,note:"E2",pitch:82.23769460501394,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999288008155958},{time:31.282799999952317,note:"E2",pitch:82.24362576006672,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999330387441177},{time:31.302599999904633,note:"E2",pitch:82.2433743089876,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999190683097936},{time:31.319599999904632,note:"E2",pitch:82.24165354992829,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999367788228},{time:31.33389999985695,note:"E2",pitch:82.23321543184323,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999341447102381},{time:31.34759999990463,note:"E2",pitch:82.23841252746357,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999924707544082},{time:31.36139999985695,note:"E2",pitch:82.22981440713322,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999083514426417},{time:31.377599999904632,note:"E2",pitch:82.23033359130335,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998997344705316},{time:31.394099999904633,note:"E2",pitch:82.23748342385176,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998987790927742},{time:31.410799999952317,note:"E2",pitch:82.23351448559515,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999008312002502},{time:31.4275,note:"E2",pitch:82.23886035331869,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999172557635205},{time:31.444199999809264,note:"E2",pitch:82.22980749859177,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999262866985958},{time:31.4655,note:"E2",pitch:82.21132602139392,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998726194247354},{time:31.479699999809267,note:"E2",pitch:82.21746139816165,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998930087715507},{time:31.494099999904634,note:"E2",pitch:82.22587312800643,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999216921047775},{time:31.510799999952315,note:"E2",pitch:82.23038199617842,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999221500004154},{time:31.5275,note:"E2",pitch:82.2263571683442,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999217888182415},{time:31.54409999990463,note:"E2",pitch:82.23377464756081,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999106149741834},{time:31.560799999952316,note:"E2",pitch:82.21638708449576,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998802100808319},{time:31.5775,note:"E2",pitch:82.20625220331773,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998632046122538},{time:31.594199999809266,note:"E2",pitch:82.22923172960184,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998882109458123},{time:31.610699999809267,note:"E2",pitch:82.23480562102465,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999149181638813},{time:31.6275,note:"E2",pitch:82.23043784142858,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998886293746239},{time:31.644099999904633,note:"E2",pitch:82.22344132334061,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998703129627842},{time:31.660799999952317,note:"E2",pitch:82.23252714818798,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998732043705303},{time:31.677599999904633,note:"E2",pitch:82.24097980636134,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998801744268775},{time:31.694099999904633,note:"E2",pitch:82.22734689477704,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998862108301836},{time:31.710799999952318,note:"E2",pitch:82.24065286938307,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998902223473607},{time:31.727599999904633,note:"E2",pitch:82.24036937983713,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998333718593244},{time:31.744199999809265,note:"E2",pitch:82.21450868525572,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997925946348829},{time:31.76089999985695,note:"E2",pitch:82.23827196925801,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998463085167089},{time:31.7775,note:"E2",pitch:82.24997717040051,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998672085050799},{time:31.79409999990463,note:"E2",pitch:82.25900076810491,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9997952102018388},{time:31.81089999985695,note:"E2",pitch:82.2608359426805,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998690403004105},{time:31.8275,note:"E2",pitch:82.28242446226918,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999898420204417},{time:31.844099999904632,note:"E2",pitch:82.29170107779909,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998504758472677},{time:31.860799999952317,note:"E2",pitch:82.27253137921998,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998037494600993},{time:31.8775,note:"E2",pitch:82.29857129781409,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995406652179213},{time:31.894199999809267,note:"E2",pitch:82.5038312451979,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9927503586669104},{time:31.910799999952317,note:"E2",pitch:82.72129255252935,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9646766224341405},{time:31.9275,note:"E2",pitch:82.88197537367954,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9495315179474488},{time:31.944199999809264,note:"E2",pitch:82.86406126816082,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9359955582900668},{time:31.960799999952318,note:"E2",pitch:83.16304659805498,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9498640544161105},{time:31.977299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:31.994,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.01069999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.02759999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.04969999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.070099999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:32.088099999904635,note:"Eb3",pitch:151.23207583543928,noteMidi:51,actualMidi:50.51,actualMidiChroma:2.509999999999998,centsOffset:-49.0000000000002,clarity:.19849424696199858},{time:32.102299999952315,note:"E2",pitch:82.28090947481762,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.8156429127778608},{time:32.116,note:"E2",pitch:82.3161984410137,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9105312045023197},{time:32.129899999856946,note:"E2",pitch:82.37544992669586,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999715988427738},{time:32.14419999980927,note:"E2",pitch:82.3917308038144,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997555761719497},{time:32.16089999985695,note:"E2",pitch:82.36666541968395,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998377194406913},{time:32.1775,note:"E2",pitch:82.3445392945485,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998377404289727},{time:32.19409999990463,note:"E2",pitch:82.32496149908742,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998023550788275},{time:32.211,note:"E2",pitch:82.33388045572393,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998256182958016},{time:32.2275,note:"E2",pitch:82.33952374261055,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998269401678073},{time:32.244099999904634,note:"E2",pitch:82.3260545132346,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997964474400618},{time:32.260899999856946,note:"E2",pitch:82.28233190535353,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998416272758277},{time:32.2775,note:"E2",pitch:82.27743068787748,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998633220152016},{time:32.294199999809265,note:"E2",pitch:82.28796532427938,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999819761683753},{time:32.310799999952316,note:"E2",pitch:82.31080304260296,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998644681921149},{time:32.3275,note:"E2",pitch:82.3025599758182,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998853131009469},{time:32.344099999904635,note:"E2",pitch:82.29234610896825,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998894773047482},{time:32.36089999985695,note:"E2",pitch:82.2876140802944,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998643803656506},{time:32.37739999985695,note:"E2",pitch:82.29500471253534,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998738447470146},{time:32.39419999980927,note:"E2",pitch:82.29795388376702,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999032378263877},{time:32.41079999995232,note:"E2",pitch:82.29584786319514,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998862699648043},{time:32.4275,note:"E2",pitch:82.29294914962168,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998843155747466},{time:32.44409999990463,note:"E2",pitch:82.28396922669761,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998959280647028},{time:32.460799999952314,note:"E2",pitch:82.27817015549945,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998878425035258},{time:32.4775,note:"E2",pitch:82.27056691560341,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999002395478414},{time:32.49419999980927,note:"E2",pitch:82.26968730589371,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999216733529437},{time:32.51079999995232,note:"E2",pitch:82.27720322239811,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999098430987772},{time:32.52739999985695,note:"E2",pitch:82.28688721578138,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999900389909854},{time:32.54409999990463,note:"E2",pitch:82.28668169406262,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999153496631976},{time:32.560799999952316,note:"E2",pitch:82.27468053410108,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999248309254796},{time:32.57739999985695,note:"E2",pitch:82.27782901423866,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999208324671685},{time:32.59419999980926,note:"E2",pitch:82.2871879388496,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999306971346158},{time:32.61079999995231,note:"E2",pitch:82.29308102213822,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999931684235591},{time:32.6275,note:"E2",pitch:82.2891004886441,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999286459876231},{time:32.64409999990463,note:"E2",pitch:82.27423395998227,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.99992036734659},{time:32.66079999995232,note:"E2",pitch:82.27908631500021,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999929652319139},{time:32.6775,note:"E2",pitch:82.28240693183997,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999928807616854},{time:32.69409999990463,note:"E2",pitch:82.29534743778949,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999218833067829},{time:32.710799999952314,note:"E2",pitch:82.28839088990954,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999470715149528},{time:32.7275,note:"E2",pitch:82.28042342622518,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999371497136735},{time:32.74419999980927,note:"E2",pitch:82.26565780113799,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999283011448057},{time:32.76079999995232,note:"E2",pitch:82.25905808264065,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999324288474156},{time:32.7775,note:"E2",pitch:82.26323260338923,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999446884044829},{time:32.79409999990463,note:"E2",pitch:82.26110985299799,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999377010317403},{time:32.810799999952316,note:"E2",pitch:82.27569494740692,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999312722599996},{time:32.8275,note:"E2",pitch:82.2733673445832,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999507880371397},{time:32.84429999995232,note:"E2",pitch:82.26359218673677,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999431818551869},{time:32.86789999985695,note:"E2",pitch:82.27054660325815,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999501158398658},{time:32.88819999980927,note:"E2",pitch:82.28655978630759,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999466978827627},{time:32.90839999985695,note:"E2",pitch:82.30000492793215,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999437322965434},{time:32.923099999904636,note:"E2",pitch:82.30814191038155,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999366783016086},{time:32.937599999904634,note:"E2",pitch:82.31632385409588,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999453737189299},{time:32.95269999980926,note:"E2",pitch:82.28382413080048,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999267807338299},{time:32.96709999990463,note:"E2",pitch:82.27079236812374,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999258769296517},{time:32.981799999952315,note:"E2",pitch:82.26836408555224,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999428046330081},{time:32.99639999985695,note:"E2",pitch:82.27572031240129,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999552230709412},{time:33.010899999856946,note:"E2",pitch:82.28880729366855,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999944830320203},{time:33.0275,note:"E2",pitch:82.29767767881023,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999389878500722},{time:33.04409999990463,note:"E2",pitch:82.30839979052293,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999401919542237},{time:33.060799999952316,note:"E2",pitch:82.30186645506713,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999356148794618},{time:33.07739999985695,note:"E2",pitch:82.2938872533131,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999360412995486},{time:33.094099999904635,note:"E2",pitch:82.29520005590706,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999465190970653},{time:33.11079999995231,note:"E2",pitch:82.30262130370403,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999949623773702},{time:33.12739999985695,note:"E2",pitch:82.31382773770984,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999434078147971},{time:33.14409999990463,note:"E2",pitch:82.32904304162456,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999390441791007},{time:33.16069999980927,note:"E2",pitch:82.31939394926275,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999395378818576},{time:33.1775,note:"E2",pitch:82.30650258572425,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999355620929009},{time:33.19409999990463,note:"E2",pitch:82.30159095253218,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999171413406458},{time:33.210799999952314,note:"E2",pitch:82.31712389159694,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999409134385928},{time:33.2275,note:"E2",pitch:82.30770304940671,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999361167390077},{time:33.244,note:"E2",pitch:82.32006937084498,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999316662884752},{time:33.26079999995232,note:"E2",pitch:82.34242453704442,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999569371838106},{time:33.2775,note:"E2",pitch:82.34686527297683,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999617752503553},{time:33.29409999990463,note:"E2",pitch:82.33945802062924,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999414809561955},{time:33.310799999952316,note:"E2",pitch:82.32742684865093,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999146212803112},{time:33.32739999985695,note:"E2",pitch:82.34466877519519,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998887072268445},{time:33.344099999904635,note:"E2",pitch:82.3473301864114,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999899850260789},{time:33.36079999995231,note:"E2",pitch:82.36105099710967,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999164986781182},{time:33.37759999990463,note:"E2",pitch:82.36538835104966,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999364152544388},{time:33.39409999990463,note:"E2",pitch:82.35852181327711,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999440101376962},{time:33.41069999980927,note:"E2",pitch:82.35534993867422,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999179557826352},{time:33.42739999985695,note:"E2",pitch:82.35507968246081,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999344890492097},{time:33.444,note:"E2",pitch:82.37688400861778,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999511586677698},{time:33.460799999952314,note:"E2",pitch:82.38635395966926,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999302465495958},{time:33.4775,note:"E2",pitch:82.38674830541696,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999910807838333},{time:33.494,note:"E2",pitch:82.39441081529972,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998977714003701},{time:33.51079999995232,note:"E2",pitch:82.36533725838,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999025919135676},{time:33.5275,note:"E2",pitch:82.36239453595822,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99990191750409},{time:33.54409999990463,note:"E2",pitch:82.38027669759434,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999911575699727},{time:33.560699999809266,note:"E2",pitch:82.39531654924619,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999383174742036},{time:33.57739999985695,note:"E2",pitch:82.39418032101182,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999079020469992},{time:33.594099999904635,note:"E2",pitch:82.38882342238225,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998825770666997},{time:33.61079999995231,note:"E2",pitch:82.38039671148191,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999902848425009},{time:33.6275,note:"E2",pitch:82.36907595462888,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998840188046074},{time:33.64409999990463,note:"E2",pitch:82.37909304932609,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998725659743855},{time:33.66069999980927,note:"E2",pitch:82.40841240618039,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999172150723012},{time:33.67739999985695,note:"E2",pitch:82.41526315871916,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9999279791909714},{time:33.69409999990463,note:"E2",pitch:82.39390439443747,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998562538967661},{time:33.710699999809265,note:"E2",pitch:82.38580998958942,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998304415906176},{time:33.7275,note:"E2",pitch:82.38660458804466,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999909032770816},{time:33.744099999904634,note:"E2",pitch:82.36830290395503,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998930680672515},{time:33.7685,note:"E2",pitch:82.40122170323816,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997951016266882},{time:33.789,note:"E2",pitch:82.41203468765296,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998397637183842},{time:33.808399999856945,note:"E2",pitch:82.37447698744771,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998080463636398},{time:33.82439999985695,note:"E2",pitch:82.37077702938416,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999813287090447},{time:33.8385,note:"E2",pitch:82.37638327875224,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998466678661373},{time:33.85359999990463,note:"E2",pitch:82.33825542240832,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999852048052901},{time:33.86809999990463,note:"E2",pitch:82.34609760968425,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997260068285385},{time:33.88309999990463,note:"E2",pitch:82.37529021828495,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996682869769842},{time:33.89739999985695,note:"E2",pitch:82.36921249706991,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997874816560852},{time:33.912599999904636,note:"E2",pitch:82.32739714472997,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999804583101664},{time:33.92739999985695,note:"E2",pitch:82.32908803539874,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996467761700671},{time:33.94409999990463,note:"E2",pitch:82.37646201987644,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999435900507919},{time:33.960699999809265,note:"E2",pitch:82.34613959967956,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999769650555848},{time:33.9775,note:"E2",pitch:82.33633622142386,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997112147033818},{time:33.994099999904634,note:"E2",pitch:82.36953418396948,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994882125191538},{time:34.01079999995232,note:"E2",pitch:82.38766129256854,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9996178246304623},{time:34.02739999985695,note:"E2",pitch:82.32780369902011,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.99970068605775},{time:34.04409999990463,note:"E2",pitch:82.34068467101193,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994176175254381},{time:34.060699999809266,note:"E2",pitch:82.47841022291809,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9957110617841067},{time:34.0775,note:"E2",pitch:82.56958040338908,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9693906509694727},{time:34.094099999904635,note:"E2",pitch:83.36423727457307,noteMidi:40,actualMidi:40.2,actualMidiChroma:4.200000000000003,centsOffset:20.000000000000284,clarity:.8444447805676774},{time:34.11069999980926,note:"F2",pitch:86.47109223645941,noteMidi:41,actualMidi:40.83,actualMidiChroma:4.829999999999998,centsOffset:-17.00000000000017,clarity:.7865511659642195},{time:34.12739999985695,note:"F2",pitch:88.3583304858632,noteMidi:41,actualMidi:41.21,actualMidiChroma:5.210000000000001,centsOffset:21.000000000000085,clarity:.8669940730759862},{time:34.14389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:34.16079999995232,note:"E2",pitch:82.99660549688696,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.3772884661543827},{time:34.17729999995232,note:"E2",pitch:82.55645180158807,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.7845067782985495},{time:34.194,note:"E2",pitch:82.40075407430261,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9917642179644872},{time:34.210699999809265,note:"E2",pitch:82.37543626873692,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996195372996084},{time:34.22739999985695,note:"E2",pitch:82.37802011159448,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996627601922654},{time:34.244099999904634,note:"E2",pitch:82.33999944909749,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995613321127337},{time:34.26069999980926,note:"E2",pitch:82.31547483075695,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999605421447086},{time:34.2775,note:"E2",pitch:82.32162166319047,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997328469679445},{time:34.29409999990463,note:"E2",pitch:82.3256437230474,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994197182211195},{time:34.310699999809266,note:"E2",pitch:82.29256583806618,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994139771708035},{time:34.3275,note:"E2",pitch:82.30175830157279,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996113499565098},{time:34.344099999904635,note:"E2",pitch:82.30792709655144,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994980541374758},{time:34.36069999980926,note:"E2",pitch:82.31916252033501,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9993309562327966},{time:34.3775,note:"E2",pitch:82.31586610254769,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995524777811653},{time:34.39409999990463,note:"E2",pitch:82.33100909274704,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999555402051655},{time:34.41069999980927,note:"E2",pitch:82.3118563042361,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999140110855194},{time:34.42739999985695,note:"E2",pitch:82.29333905594878,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992562977778903},{time:34.44409999990463,note:"E2",pitch:82.31598089838087,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996919834481304},{time:34.460799999952314,note:"E2",pitch:82.31243713428668,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987729281013316},{time:34.47739999985695,note:"E2",pitch:82.32030996057539,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9980678056411278},{time:34.494099999904634,note:"E2",pitch:82.34066731402977,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992544652521218},{time:34.51079999995232,note:"E2",pitch:82.33359906371456,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992524509165719},{time:34.52739999985695,note:"E2",pitch:82.31026963181013,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989925956370485},{time:34.54409999990463,note:"E2",pitch:82.2957026823459,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992747205778869},{time:34.560699999809266,note:"E2",pitch:82.33088645120951,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992145319207566},{time:34.57739999985695,note:"E2",pitch:82.31446039761963,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9983883181226929},{time:34.594,note:"E2",pitch:82.2768150861973,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9976312657882858},{time:34.61069999980926,note:"E2",pitch:82.31629603382353,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999194715628235},{time:34.62759999990463,note:"E2",pitch:82.31572100174448,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987447297778687},{time:34.65219999980926,note:"E2",pitch:82.29111668797309,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9981606108506327},{time:34.67339999985695,note:"E2",pitch:82.2996318199665,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999177525123315},{time:34.69489999985695,note:"E2",pitch:82.2791598424398,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.998287002564993},{time:34.71019999980926,note:"E2",pitch:82.26803478596092,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9986018078937633},{time:34.725,note:"E2",pitch:82.3124946872314,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991429279470196},{time:34.73979999995232,note:"E2",pitch:82.2935001077256,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9974994851196044},{time:34.754899999856946,note:"E2",pitch:82.28187882659705,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.996128417403753},{time:34.76969999980926,note:"E2",pitch:82.29499226334104,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9980643643346383},{time:34.785,note:"E2",pitch:82.31692852701235,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9984212963173036},{time:34.79989999985695,note:"E2",pitch:82.29973350414485,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975847055242468},{time:34.815199999809266,note:"E2",pitch:82.30780221842045,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9967305930807555},{time:34.83009999990463,note:"E2",pitch:82.30815640637066,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9986031150572074},{time:34.84539999985695,note:"E2",pitch:82.32901851352449,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987221468275465},{time:34.86069999980926,note:"E2",pitch:82.31304665762813,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9971290025120823},{time:34.87739999985695,note:"E2",pitch:82.30638752822084,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9961333269515222},{time:34.89409999990463,note:"E2",pitch:82.32618237779,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9985306741378679},{time:34.91069999980927,note:"E2",pitch:82.32655446029742,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9963525088278544},{time:34.92739999985695,note:"E2",pitch:82.33846286800235,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9942356998943893},{time:34.94409999990463,note:"E2",pitch:82.32562851152284,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9968689394209065},{time:34.960699999809265,note:"E2",pitch:82.39705208541724,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9965762131868559},{time:34.97739999985695,note:"E2",pitch:82.5158525506318,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9902402021229477},{time:34.994099999904634,note:"E2",pitch:82.98487927174452,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9174545824432556},{time:35.01069999980926,note:"E2",pitch:83.87613859810227,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.7218601782635972},{time:35.02739999985695,note:"F2",pitch:85.82801215672511,noteMidi:41,actualMidi:40.7,actualMidiChroma:4.700000000000003,centsOffset:-29.999999999999716,clarity:.5268517320793578},{time:35.04389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.06059999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.07729999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.094,note:"C3",pitch:131.70190634180844,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.5982418961995464},{time:35.11069999980926,note:"E2",pitch:82.43424111897691,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.781085270689232},{time:35.1275,note:"E2",pitch:82.36352931294721,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.8971018043529995},{time:35.144,note:"E2",pitch:82.39840322099646,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973628982142202},{time:35.16069999980927,note:"E2",pitch:82.39841754710197,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9991976427785971},{time:35.17739999985695,note:"E2",pitch:82.37763802492515,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994411875392757},{time:35.19409999990463,note:"E2",pitch:82.34040785222486,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9987601757595712},{time:35.210699999809265,note:"E2",pitch:82.3402921214343,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989934322569667},{time:35.22739999985695,note:"E2",pitch:82.3468678328552,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992186147028974},{time:35.244,note:"E2",pitch:82.35835368019836,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9981629298270036},{time:35.26069999980926,note:"E2",pitch:82.36018708287351,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979390937400439},{time:35.27739999985695,note:"E2",pitch:82.35808494711617,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9987988050890948},{time:35.294,note:"E2",pitch:82.35774246740716,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9986798446127096},{time:35.310699999809266,note:"E2",pitch:82.38510471629769,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9971926093760288},{time:35.32729999995232,note:"E2",pitch:82.38188473274468,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9978431440833333},{time:35.344099999904635,note:"E2",pitch:82.371429248307,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990449905659773},{time:35.36069999980926,note:"E2",pitch:82.3634657737181,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998532648912331},{time:35.37739999985695,note:"E2",pitch:82.39261582463945,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9982429933548218},{time:35.394,note:"E2",pitch:82.40403125728882,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999250283669781},{time:35.41069999980927,note:"E2",pitch:82.35474781263703,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9983459584238261},{time:35.42729999995232,note:"E2",pitch:82.34514568577761,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9980114168413223},{time:35.44409999990463,note:"E2",pitch:82.35899509219738,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998765402454552},{time:35.46059999990463,note:"E2",pitch:82.37443399600956,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982358937181033},{time:35.477299999952315,note:"E2",pitch:82.38021898910975,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9974484994386899},{time:35.494,note:"E2",pitch:82.42329774115295,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9974496053227568},{time:35.51109999990463,note:"E2",pitch:82.36932352526665,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988831846613095},{time:35.53629999995232,note:"E2",pitch:82.36954216213525,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998060590030903},{time:35.55909999990463,note:"E2",pitch:82.3968255698222,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983639357680119},{time:35.57989999985695,note:"E2",pitch:82.36713089478677,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982659317789171},{time:35.59659999990463,note:"E2",pitch:82.38191655920323,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975530548000933},{time:35.61179999995232,note:"E2",pitch:82.39673408261274,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9986423453597979},{time:35.62739999985695,note:"E2",pitch:82.39499589984621,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9988671099134336},{time:35.646799999952314,note:"E2",pitch:82.36015008603466,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9969510091580958},{time:35.662,note:"E2",pitch:82.42896005546741,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9969140480564818},{time:35.67769999980926,note:"E2",pitch:82.40132822038977,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980559476850317},{time:35.69409999990463,note:"E2",pitch:82.36397773748448,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9973138075882702},{time:35.71059999990463,note:"E2",pitch:82.40194149334957,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9960653485379822},{time:35.727299999952315,note:"E2",pitch:82.42781317812036,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9976073880333445},{time:35.744,note:"E2",pitch:82.39148404597547,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9972620749391155},{time:35.76069999980926,note:"E2",pitch:82.3830670347711,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9958520876693768},{time:35.77729999995232,note:"E2",pitch:82.49173842845599,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9947160508601058},{time:35.794,note:"E2",pitch:82.87117702950957,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9052183086809578},{time:35.810699999809266,note:"E2",pitch:84.29271299512659,noteMidi:40,actualMidi:40.39,actualMidiChroma:4.390000000000001,centsOffset:39.00000000000006,clarity:.5492001624822151},{time:35.82729999995232,note:"F3",pitch:178.3731909068759,noteMidi:53,actualMidi:53.37,actualMidiChroma:5.369999999999997,centsOffset:36.999999999999744,clarity:.5073908275175771},{time:35.84389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:35.860599999904636,note:"Bb3",pitch:229.62633536540923,noteMidi:58,actualMidi:57.74,actualMidiChroma:9.740000000000002,centsOffset:-25.9999999999998,clarity:.3764694465405718},{time:35.877299999952314,note:"E2",pitch:83.86363753222084,noteMidi:40,actualMidi:40.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.6737958812825724},{time:35.894,note:"E2",pitch:82.45816008773483,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9384725107144618},{time:35.91059999990463,note:"E2",pitch:82.47507406462054,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9981467862829447},{time:35.92729999995232,note:"E2",pitch:82.46328168922327,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.998281083205768},{time:35.944,note:"E2",pitch:82.3849593517507,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9986517203434175},{time:35.96059999990463,note:"E2",pitch:82.39716963652371,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9995109670306448},{time:35.977299999952315,note:"E2",pitch:82.41408657969582,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9989708098543133},{time:35.994,note:"E2",pitch:82.40386935599147,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.998027842255965},{time:36.01069999980926,note:"E2",pitch:82.38185767183374,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992151828769664},{time:36.02739999985695,note:"E2",pitch:82.39024756717615,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9993035029454234},{time:36.044,note:"E2",pitch:82.39110480185438,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9988718063690385},{time:36.060699999809266,note:"E2",pitch:82.36562733148274,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990930612393925},{time:36.07729999995232,note:"E2",pitch:82.40264149052268,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9994266212792837},{time:36.094,note:"E2",pitch:82.42395807819287,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9982430879751121},{time:36.11079999995231,note:"E2",pitch:82.36987483096074,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9976645119468088},{time:36.127299999952314,note:"E2",pitch:82.37130838807018,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988400320407322},{time:36.144,note:"E2",pitch:82.41273286383871,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983315672739081},{time:36.16069999980927,note:"E2",pitch:82.40014372118091,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9962461178385809},{time:36.17729999995232,note:"E2",pitch:82.36517506452162,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9976465271182491},{time:36.194,note:"E2",pitch:82.4065677906996,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9991301678487048},{time:36.210699999809265,note:"E2",pitch:82.38628975632591,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980151305596081},{time:36.227299999952315,note:"E2",pitch:82.3703223241908,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9978495168585084},{time:36.244099999904634,note:"E2",pitch:82.39025199768442,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9989980913485255},{time:36.260599999904635,note:"E2",pitch:82.4228913121043,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9966801232286429},{time:36.27729999995232,note:"E2",pitch:82.42572859948083,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9949048821980568},{time:36.294,note:"E2",pitch:82.36670630429167,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979110387087928},{time:36.310699999809266,note:"E2",pitch:82.41874230478588,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964104105247458},{time:36.327599999904635,note:"E2",pitch:82.3936987699521,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948211276223873},{time:36.35319999980926,note:"E2",pitch:82.38140961080101,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9978157653664397},{time:36.374799999952316,note:"E2",pitch:82.41333615374243,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9958890671640575},{time:36.39569999980927,note:"E2",pitch:82.38249897515182,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9942894756585758},{time:36.41139999985695,note:"E2",pitch:82.39671798002023,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.998131179661911},{time:36.42789999985695,note:"E2",pitch:82.43934785361706,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9958411613464051},{time:36.44439999985695,note:"E2",pitch:82.42988578745314,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9928735257144439},{time:36.460699999809265,note:"E2",pitch:82.3793925689011,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965657831132688},{time:36.477299999952315,note:"E2",pitch:82.39898367504809,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9974957782981733},{time:36.494,note:"E2",pitch:82.39851564204318,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9929894992620092},{time:36.510599999904635,note:"E2",pitch:82.36161091915297,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9942705360724347},{time:36.52729999995232,note:"E2",pitch:82.3818568308865,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9967115535516058},{time:36.544,note:"E2",pitch:82.40770223796733,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948313628189425},{time:36.560699999809266,note:"E2",pitch:82.36424026406137,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9927968310556992},{time:36.57729999995232,note:"E2",pitch:82.36040232413163,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9960611700899165},{time:36.594,note:"E2",pitch:82.42621676872179,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9956041292636257},{time:36.61069999980926,note:"E2",pitch:82.38475749062647,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9920920829475932},{time:36.627299999952314,note:"E2",pitch:82.33677701695949,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9939688151302164},{time:36.644,note:"E2",pitch:82.36859972593443,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9969275452763071},{time:36.66069999980927,note:"E2",pitch:82.39945434022853,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9910673294661763},{time:36.67729999995232,note:"E2",pitch:82.40931259198668,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9863893260398413},{time:36.694,note:"E2",pitch:82.38530275880883,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9950061872072951},{time:36.710699999809265,note:"E2",pitch:82.4004446431074,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9933284748950797},{time:36.727299999952315,note:"E2",pitch:82.38797776084434,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9917298721083512},{time:36.744,note:"E2",pitch:82.3552380244492,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9947443651268202},{time:36.76069999980926,note:"E2",pitch:82.40276485711533,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940883525866013},{time:36.77729999995232,note:"E2",pitch:82.38417905316773,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9930472236216872},{time:36.794,note:"E2",pitch:82.35342836064638,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9917984213386148},{time:36.810699999809266,note:"E2",pitch:82.34695229863522,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9960784778834864},{time:36.82739999985695,note:"E2",pitch:82.3907816721339,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9926510994720843},{time:36.844,note:"E2",pitch:82.39311906249773,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9873789789045304},{time:36.86069999980926,note:"E2",pitch:82.37846129308979,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.994540357083622},{time:36.87739999985695,note:"E2",pitch:82.37940933025729,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9953094560384841},{time:36.894,note:"E2",pitch:82.37186833623555,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9911126551474894},{time:36.91079999995232,note:"E2",pitch:82.36192604296421,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9924306857524243},{time:36.92739999985695,note:"E2",pitch:82.37414765704453,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9950466966061242},{time:36.944,note:"E2",pitch:82.36244728000904,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.992407520943928},{time:36.960699999809265,note:"E2",pitch:82.36321609432109,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.990448532385642},{time:36.97739999985695,note:"E2",pitch:82.36481135002258,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9932946234632425},{time:36.99419999980927,note:"E2",pitch:82.35926779612373,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9933946415610109},{time:37.01079999995232,note:"E2",pitch:82.40096479580475,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9891939811870145},{time:37.02729999995232,note:"E2",pitch:82.39092564088092,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9926329100572673},{time:37.044,note:"E2",pitch:82.48002702922108,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9908392634699652},{time:37.06089999985695,note:"E2",pitch:82.86681960942613,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.865595134407755},{time:37.08789999985695,note:"E2",pitch:84.15617759316306,noteMidi:40,actualMidi:40.36,actualMidiChroma:4.359999999999999,centsOffset:35.99999999999994,clarity:.44560019495531833},{time:37.1095,note:"E2",pitch:82.23800890454747,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.5276207642939852},{time:37.129,note:"E2",pitch:82.37667432186967,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.7517943650737067},{time:37.145,note:"E2",pitch:82.53081149914135,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9513206175775508},{time:37.16089999985695,note:"E2",pitch:82.49378924634533,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9865961513565367},{time:37.17729999995232,note:"E2",pitch:82.41546237748081,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9912229013816898},{time:37.194,note:"E2",pitch:82.44551414079008,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9942633252539963},{time:37.21059999990463,note:"E2",pitch:82.45515805477338,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9914810184567386},{time:37.22739999985695,note:"E2",pitch:82.41022783527676,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9942958597352458},{time:37.244,note:"E2",pitch:82.41798656163787,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9967348917793402},{time:37.26069999980926,note:"E2",pitch:82.4080632061651,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940553245477304},{time:37.27729999995232,note:"E2",pitch:82.39761981383135,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99194782048599},{time:37.294,note:"E2",pitch:82.41296805340427,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964128543414006},{time:37.310699999809266,note:"E2",pitch:82.44582485472509,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934416008982794},{time:37.32729999995232,note:"E2",pitch:82.479838812994,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9913243880903906},{time:37.344,note:"E2",pitch:82.39416490621907,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948396371009096},{time:37.360599999904636,note:"E2",pitch:82.38750686923147,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9943312759785101},{time:37.37739999985695,note:"E2",pitch:82.41185847150227,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.992157505973239},{time:37.394,note:"E2",pitch:82.4763587539136,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9919581097707351},{time:37.41069999980927,note:"E2",pitch:82.40937378374078,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951462457837295},{time:37.42729999995232,note:"E2",pitch:82.39199592430697,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9942568737989461},{time:37.444,note:"E2",pitch:82.43172126317656,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9915582990690552},{time:37.460799999952314,note:"E2",pitch:82.44316656100173,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959597855158648},{time:37.47769999980927,note:"E2",pitch:82.41860291833473,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948693541257114},{time:37.49419999980927,note:"E2",pitch:82.42377835852268,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9920987084080366},{time:37.51069999980926,note:"E2",pitch:82.40870745369874,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.994660035596155},{time:37.52729999995232,note:"E2",pitch:82.40922650932636,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9962506549108667},{time:37.544,note:"E2",pitch:82.41770576568831,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9929813864704329},{time:37.56059999990463,note:"E2",pitch:82.49711034786162,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9929355853149673},{time:37.57729999995232,note:"E2",pitch:82.43986401462011,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9949207494295536},{time:37.594,note:"E2",pitch:82.38484848730839,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9935952887425401},{time:37.61069999980926,note:"E2",pitch:82.47889270347264,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9912114060317379},{time:37.627299999952314,note:"E2",pitch:82.51053471063301,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9944362191662037},{time:37.644,note:"E2",pitch:82.4529847051143,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934937322154269},{time:37.66079999995232,note:"E2",pitch:82.42869986669271,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9910661552331419},{time:37.67729999995232,note:"E2",pitch:82.4642687873824,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9919662067627542},{time:37.69409999990463,note:"E2",pitch:82.43857537580521,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9950026415836817},{time:37.710799999952314,note:"E2",pitch:82.4134068148682,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9919298635154234},{time:37.727299999952315,note:"E2",pitch:82.45965230440312,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.989833015113021},{time:37.744,note:"E2",pitch:82.4746161978185,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943624170360295},{time:37.76069999980926,note:"E2",pitch:82.37636060174223,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9923606129763414},{time:37.77729999995232,note:"E2",pitch:82.40876992666988,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9911457217723978},{time:37.794,note:"E2",pitch:82.48586202976033,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9936534033606677},{time:37.810699999809266,note:"E2",pitch:82.41157024227194,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9903539756104891},{time:37.8275,note:"E2",pitch:82.38844397595138,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9874826747438163},{time:37.84589999985695,note:"E2",pitch:82.31711092384508,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9898001397349816},{time:37.86169999980927,note:"E2",pitch:82.37239993275017,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9960955679959795},{time:37.87819999980927,note:"E2",pitch:82.35951173570773,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.996882598543138},{time:37.894899999856946,note:"E2",pitch:82.3552774555303,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9972218758695135},{time:37.922,note:"E2",pitch:82.37395702848936,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998863175438402},{time:37.943899999856946,note:"E2",pitch:82.37544678066216,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998778707749381},{time:37.9655,note:"E2",pitch:82.35470174687552,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998878606619712},{time:37.982599999904636,note:"E2",pitch:82.3609869358568,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999254799004689},{time:37.999199999809264,note:"E2",pitch:82.34963048610624,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998971195151967},{time:38.015799999952314,note:"E2",pitch:82.34115960287157,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998829935239684},{time:38.0315,note:"E2",pitch:82.32813601965998,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999225000099727},{time:38.048,note:"E2",pitch:82.32149505114026,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999208354124249},{time:38.06429999995232,note:"E2",pitch:82.30028568887957,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999102828033415},{time:38.08079999995232,note:"E2",pitch:82.2818045049358,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999894465769259},{time:38.097799999952315,note:"E2",pitch:82.2906892241667,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999188287376768},{time:38.11369999980926,note:"E2",pitch:82.29236704895477,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999214970894599},{time:38.130299999952314,note:"E2",pitch:82.30746400338472,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999071704349234},{time:38.146399999856946,note:"E2",pitch:82.29396214729076,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999912877981572},{time:38.16289999985695,note:"E2",pitch:82.27200518440632,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999208193572571},{time:38.1795,note:"E2",pitch:82.2538614549947,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998675986178966},{time:38.1955,note:"E2",pitch:82.24136723797588,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998826807251362},{time:38.21239999985695,note:"E2",pitch:82.23244314126089,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9999266111151002},{time:38.22919999980927,note:"E2",pitch:82.19748844559585,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998682098309786},{time:38.24509999990463,note:"E2",pitch:82.14721609058375,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998286402456102},{time:38.26229999995232,note:"E2",pitch:82.10619045547483,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999031608203666},{time:38.279,note:"E2",pitch:82.06103648749456,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998820434222608},{time:38.29479999995232,note:"E2",pitch:82.01972137382218,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.999879832904341},{time:38.311799999952314,note:"E2",pitch:82.02555978865098,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999027884869918},{time:38.32839999985695,note:"E2",pitch:82.02883846096941,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9998993710528197},{time:38.34429999995232,note:"E2",pitch:82.0468156603187,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9999093128496384},{time:38.361299999952315,note:"E2",pitch:82.04874173919427,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9998912563810904},{time:38.3785,note:"E2",pitch:82.09110847963198,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998860150479914},{time:38.39439999985695,note:"E2",pitch:82.12371741583397,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999173787260673},{time:38.41159999990463,note:"E2",pitch:82.14682242415188,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998753591938936},{time:38.42869999980927,note:"E2",pitch:82.1349227821273,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998738315107545},{time:38.4445,note:"E2",pitch:82.12191045103052,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999091279695875},{time:38.4615,note:"E2",pitch:82.1521833382176,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998544933210667},{time:38.47829999995231,note:"E2",pitch:82.14802985850633,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9998790905229811},{time:38.49429999995232,note:"E2",pitch:82.1430291951726,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999203192722774},{time:38.51159999990463,note:"E2",pitch:82.13425014581253,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999267324068768},{time:38.528599999904635,note:"E2",pitch:82.10846914754374,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998850432446744},{time:38.5445,note:"E2",pitch:82.1188587591198,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999228910508151},{time:38.56189999985695,note:"E2",pitch:82.09995664918624,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999327659885893},{time:38.57889999985695,note:"E2",pitch:82.10714634425065,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999094402235045},{time:38.59509999990463,note:"E2",pitch:82.10047187716985,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999237505254541},{time:38.61209999990463,note:"E2",pitch:82.10424688752427,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999251949190011},{time:38.62909999990463,note:"E2",pitch:82.11540401644886,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999268097570564},{time:38.64539999985695,note:"E2",pitch:82.11263979537102,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999046113031511},{time:38.67389999985695,note:"E2",pitch:82.15956493574103,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9996430126946336},{time:38.696,note:"E2",pitch:82.16876469913439,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9990697859346085},{time:38.71769999980926,note:"E2",pitch:82.13650687463691,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999860710261288},{time:38.7355,note:"E2",pitch:82.13576391050323,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999360186881745},{time:38.752,note:"E2",pitch:82.129552393099,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998670018114524},{time:38.76909999990463,note:"E2",pitch:82.11682361832985,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998414055686169},{time:38.786,note:"E2",pitch:82.10129991582187,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998923938438367},{time:38.80279999995231,note:"E2",pitch:82.08668507623963,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998954027407336},{time:38.81939999985695,note:"E2",pitch:82.0828188004235,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998752433779146},{time:38.8365,note:"E2",pitch:82.07058036297516,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998366699144015},{time:38.85339999985695,note:"E2",pitch:82.08527694977536,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998613569752166},{time:38.87,note:"E2",pitch:82.07798847576626,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998395038883672},{time:38.88689999985695,note:"E2",pitch:82.07272860240333,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998082302613795},{time:38.90379999995232,note:"E2",pitch:82.07993368683324,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998718542128131},{time:38.92059999990463,note:"E2",pitch:82.09161002696395,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997924939302294},{time:38.93769999980927,note:"E2",pitch:82.08749327965731,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996987751817983},{time:38.95459999990463,note:"E2",pitch:82.05225737665013,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997062206219596},{time:38.97139999985695,note:"E2",pitch:82.09164904969732,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998532239369524},{time:38.98879999995231,note:"E2",pitch:82.08404142038914,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997834586817902},{time:39.005799999952316,note:"E2",pitch:82.06456074897193,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996337537372142},{time:39.02279999995232,note:"E2",pitch:82.11468004115798,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997663869451401},{time:39.04009999990463,note:"E2",pitch:82.11122242575944,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9995890350809162},{time:39.05729999995231,note:"E2",pitch:82.10341141425047,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9995035364676568},{time:39.0745,note:"E2",pitch:82.10677909433022,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997238590314623},{time:39.091699999809265,note:"E2",pitch:82.14044728981705,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996545630040288},{time:39.10879999995232,note:"E2",pitch:82.11212627506674,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993715141934132},{time:39.125799999952314,note:"E2",pitch:82.0713673351546,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9993105166036571},{time:39.143099999904635,note:"E2",pitch:82.14104476305496,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996704429886165},{time:39.16,note:"E2",pitch:82.09258210211907,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996171684512234},{time:39.176799999952316,note:"E2",pitch:82.08767861827074,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9995126194460511},{time:39.194,note:"E2",pitch:82.09211721937686,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999496660411836},{time:39.21089999985695,note:"E2",pitch:82.08879788218512,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9992515416769407},{time:39.22779999995232,note:"E2",pitch:82.06598532941257,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9990145891546405},{time:39.24479999995231,note:"E2",pitch:82.06444933350588,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999573393756819},{time:39.26189999985695,note:"E2",pitch:82.11963837316874,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9995395537405329},{time:39.27889999985695,note:"E2",pitch:82.09559644903212,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9995013340028436},{time:39.2965,note:"E2",pitch:82.09011298237586,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9992427176220531},{time:39.31309999990463,note:"E2",pitch:82.12180662530895,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999502570930531},{time:39.32989999985695,note:"E2",pitch:82.07349898837049,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9991089494175753},{time:39.34729999995232,note:"E2",pitch:82.0619150923767,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999280890356232},{time:39.36409999990463,note:"E2",pitch:82.1018711420549,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9994652078176216},{time:39.38089999985695,note:"E2",pitch:82.08098863871196,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9986138999342558},{time:39.39869999980927,note:"E2",pitch:82.0589415870949,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9983680935544328},{time:39.4275,note:"E2",pitch:82.11494193912425,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993923633866189},{time:39.449599999904635,note:"E2",pitch:82.07852659436908,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9988172010524181},{time:39.47109999990463,note:"E2",pitch:82.31632779605167,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9923054084346035},{time:39.48839999985695,note:"E2",pitch:82.66308448318809,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9700588284231628},{time:39.50539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.52229999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.5395,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.55609999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.57329999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.590299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:39.6075,note:"E2",pitch:82.95564765011905,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.8245476996715979},{time:39.6245,note:"E2",pitch:82.47394096320211,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9420477171708797},{time:39.6415,note:"E2",pitch:82.29185760031962,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9795272486421993},{time:39.65909999990463,note:"E2",pitch:82.32793393952693,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9869113890272558},{time:39.67609999990463,note:"E2",pitch:82.34725962038958,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9857316547785615},{time:39.693599999904635,note:"E2",pitch:82.23859148873575,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9886190233548007},{time:39.71109999990463,note:"E2",pitch:82.282012212177,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9890771429059271},{time:39.7285,note:"E2",pitch:82.30089484265989,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9875333407815674},{time:39.7455,note:"E2",pitch:82.15082771966603,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9872923700345098},{time:39.76259999990463,note:"E2",pitch:82.23138786299502,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9896989433334511},{time:39.78,note:"E2",pitch:82.25079860095296,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9862163824018921},{time:39.797199999809266,note:"E2",pitch:82.16505731566556,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9852432405966169},{time:39.814399999856946,note:"E2",pitch:82.21045081629977,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9915474899355274},{time:39.83259999990463,note:"E2",pitch:82.25516866283772,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9880314964811134},{time:39.850099999904636,note:"E2",pitch:82.16152243902935,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9872910435153415},{time:39.8675,note:"E2",pitch:82.17694328360223,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9889734542760493},{time:39.885299999952316,note:"E2",pitch:82.26173075966088,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.985839394744346},{time:39.9025,note:"E2",pitch:82.20155084206378,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9828578837761484},{time:39.920099999904636,note:"E2",pitch:82.22473617121288,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9904399755965017},{time:39.938299999952314,note:"E2",pitch:82.25296843443685,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9876242433783773},{time:39.9555,note:"E2",pitch:82.31442537254466,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9772630398441038},{time:39.97289999985695,note:"E2",pitch:82.31305103267304,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9860239360019136},{time:39.991099999904634,note:"E2",pitch:82.29724650312878,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9844707410990168},{time:40.00859999990463,note:"E2",pitch:82.34623557063571,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9821597837905358},{time:40.02659999990463,note:"E2",pitch:82.33417587152542,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9898957406551574},{time:40.044299999952315,note:"E2",pitch:82.3202092792015,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9919478273392031},{time:40.0615,note:"E2",pitch:82.29905233388608,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9921352008080646},{time:40.079699999809264,note:"E2",pitch:82.3492057334437,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9922299811303219},{time:40.09809999990463,note:"E2",pitch:82.3644020314569,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.994008595840981},{time:40.116,note:"E2",pitch:82.32009611828283,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9945552497620156},{time:40.13339999985695,note:"E2",pitch:82.31143941072384,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.994463663758566},{time:40.15069999980926,note:"E2",pitch:82.29794690433656,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.994818447377142},{time:40.16839999985695,note:"E2",pitch:82.29800030158471,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9947940032473355},{time:40.186,note:"E2",pitch:82.26900106103624,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9952655357261904},{time:40.20359999990463,note:"E2",pitch:82.220592695895,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.997016801355727},{time:40.221,note:"E2",pitch:82.21950019232658,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9968059978669714},{time:40.23889999985695,note:"E2",pitch:82.26078980323223,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9959844231208734},{time:40.27009999990463,note:"E2",pitch:82.17855810926429,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9980481037212598},{time:40.29289999985695,note:"E2",pitch:82.20229063323038,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9977489496748291},{time:40.316199999809264,note:"E2",pitch:82.16787910828242,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9984030564442037},{time:40.3355,note:"E2",pitch:82.13958168472655,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9987578734871363},{time:40.35319999980926,note:"E2",pitch:82.11459771047448,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9988049082898698},{time:40.370599999904634,note:"E2",pitch:82.08638727488612,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9992196876650752},{time:40.38959999990463,note:"E2",pitch:82.1022502286711,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9992569858158049},{time:40.40789999985695,note:"E2",pitch:82.11779618852593,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9993654567193744},{time:40.426699999809266,note:"E2",pitch:82.0745201504514,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9995291004551348},{time:40.444699999809266,note:"E2",pitch:82.09125786417884,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996604143207435},{time:40.462199999809265,note:"E2",pitch:82.10011862108381,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996782943597822},{time:40.47979999995231,note:"E2",pitch:82.10357896945614,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998153511140089},{time:40.49729999995232,note:"E2",pitch:82.10219496003752,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998357958379955},{time:40.5145,note:"E2",pitch:82.09943608961086,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999747119992989},{time:40.532,note:"E2",pitch:82.08807227975004,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998522847968729},{time:40.54969999980926,note:"E2",pitch:82.09844893391353,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998562426174118},{time:40.56719999980926,note:"E2",pitch:82.10053618046136,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997511335487559},{time:40.5845,note:"E2",pitch:82.08325754876998,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997425898209684},{time:40.602199999809265,note:"E2",pitch:82.09508780715969,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998854892688627},{time:40.61989999985695,note:"E2",pitch:82.11277783686586,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998425854145978},{time:40.6375,note:"E2",pitch:82.11335890258466,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998106948224006},{time:40.65479999995232,note:"E2",pitch:82.09377462440214,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999900159060104},{time:40.6725,note:"E2",pitch:82.09904417394014,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998044403204602},{time:40.69039999985695,note:"E2",pitch:82.09160144946708,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998092792881295},{time:40.708,note:"E2",pitch:82.08804013659798,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998677768615352},{time:40.726,note:"E2",pitch:82.10828793299343,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9999018573174254},{time:40.743699999809266,note:"E2",pitch:82.08940585212993,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999812713668419},{time:40.761299999952314,note:"E2",pitch:82.09277284816028,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998596719758552},{time:40.77909999990463,note:"E2",pitch:82.1003446386572,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998679687581529},{time:40.79679999995231,note:"E2",pitch:82.11899017505655,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997906221898489},{time:40.814699999809264,note:"E2",pitch:82.1043024238254,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998283153993128},{time:40.83219999980926,note:"E2",pitch:82.12033665116279,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998373067477928},{time:40.85,note:"E2",pitch:82.1288470376085,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997331196308323},{time:40.86819999980926,note:"E2",pitch:82.1161366452535,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997692475681248},{time:40.88609999990463,note:"E2",pitch:82.12939730298486,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998744625262646},{time:40.90379999995232,note:"E2",pitch:82.12835303768331,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998440366446033},{time:40.92139999985695,note:"E2",pitch:82.12577212182904,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998005690648171},{time:40.939399999856946,note:"E2",pitch:82.10717342744702,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998553070944922},{time:40.9575,note:"E2",pitch:82.10739518309542,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998137140414087},{time:40.97519999980926,note:"E2",pitch:82.10126427752998,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997824895649785},{time:40.993,note:"E2",pitch:82.09700841238464,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998608994117006},{time:41.01069999980926,note:"E2",pitch:82.09609247805422,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998316328604488},{time:41.02879999995232,note:"E2",pitch:82.08847852226687,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998148626264083},{time:41.04709999990463,note:"E2",pitch:82.0875486971686,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998743496691702},{time:41.06509999990463,note:"E2",pitch:82.09460672867765,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.999874805183623},{time:41.082799999952314,note:"E2",pitch:82.10339827390447,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998351569589232},{time:41.1005,note:"E2",pitch:82.09302829816966,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998368548695424},{time:41.13129999995232,note:"E2",pitch:82.11904122881269,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997581534105677},{time:41.15539999985695,note:"E2",pitch:82.10692100857703,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997701086731468},{time:41.17869999980927,note:"E2",pitch:82.10979844782153,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998064304150063},{time:41.19709999990463,note:"E2",pitch:82.1095194712464,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999777950808749},{time:41.21489999985695,note:"E2",pitch:82.09535005674198,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998294435910111},{time:41.23239999985695,note:"E2",pitch:82.11128198056106,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999707311185233},{time:41.25019999980927,note:"E2",pitch:82.09478979644784,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997735106709769},{time:41.26819999980926,note:"E2",pitch:82.10434921750952,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998180816832729},{time:41.286,note:"E2",pitch:82.12246479472721,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998193601016823},{time:41.304,note:"E2",pitch:82.11084688697493,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998443215395127},{time:41.32209999990463,note:"E2",pitch:82.09628531314378,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9998031658579123},{time:41.33969999980926,note:"E2",pitch:82.10687918030168,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997068689224449},{time:41.35779999995231,note:"E2",pitch:82.12468326402272,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997125426129401},{time:41.375799999952314,note:"E2",pitch:82.09952555422939,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9998624199361359},{time:41.39359999990463,note:"E2",pitch:82.11404764082293,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997313352962465},{time:41.41139999985695,note:"E2",pitch:82.11046594548799,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996368237256377},{time:41.42889999985695,note:"E2",pitch:82.07659382531861,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997324673812074},{time:41.447,note:"E2",pitch:82.09278158955355,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9997858874530863},{time:41.46509999990463,note:"E2",pitch:82.11532639035114,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997018304199798},{time:41.48309999990463,note:"E2",pitch:82.10223980772261,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9997799082135543},{time:41.500799999952314,note:"E2",pitch:82.11110751664879,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996131175597895},{time:41.518399999856946,note:"E2",pitch:82.1091969748525,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9994729625622938},{time:41.53629999995232,note:"E2",pitch:82.09299552464687,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9996598883217445},{time:41.5545,note:"E2",pitch:82.10158881308803,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999840978648848},{time:41.57329999995232,note:"E2",pitch:82.11184568657893,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.999613973833263},{time:41.59129999995232,note:"E2",pitch:82.10416718312302,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9996657371520996},{time:41.60939999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.628099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.646699999809265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.66489999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.683099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.701099999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:41.71919999980926,note:"E2",pitch:81.95544157717583,noteMidi:40,actualMidi:39.9,actualMidiChroma:3.8999999999999986,centsOffset:-10.000000000000142,clarity:.3454884644042622},{time:41.7375,note:"E2",pitch:82.18991279251233,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.7349241813032847},{time:41.755799999952316,note:"E2",pitch:82.44791720814334,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9430563140098087},{time:41.774099999904635,note:"E2",pitch:82.12815657023056,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9911876630525001},{time:41.7925,note:"E2",pitch:82.16898849716472,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9942964035985682},{time:41.810799999952316,note:"E2",pitch:82.172184608515,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9915896715254746},{time:41.82929999995232,note:"E2",pitch:82.10515359759371,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9961774926163258},{time:41.8475,note:"E2",pitch:82.09908401741936,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9969224093723739},{time:41.865799999952316,note:"E2",pitch:82.12440126503193,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9944216939363315},{time:41.88419999980926,note:"E2",pitch:82.09817533559489,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9953228369711553},{time:41.9025,note:"E2",pitch:82.08768281292689,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.994066742555674},{time:41.920699999809266,note:"E2",pitch:82.14654676440536,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.9915630969915554},{time:41.939699999809264,note:"E2",pitch:82.1018725040694,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9959981989593132},{time:41.96939999985695,note:"E2",pitch:82.15816221505165,noteMidi:40,actualMidi:39.95,actualMidiChroma:3.950000000000003,centsOffset:-4.999999999999716,clarity:.992386668815783},{time:41.99569999980927,note:"E2",pitch:82.11717859370583,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.993498671383449},{time:42.01939999985695,note:"E2",pitch:82.11903155848267,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9937141454080916},{time:42.03889999985695,note:"E2",pitch:82.12125010765482,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9910532318113638},{time:42.05739999985695,note:"E2",pitch:82.04966660850104,noteMidi:40,actualMidi:39.92,actualMidiChroma:3.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9953451532483513},{time:42.07579999995232,note:"E2",pitch:82.06217241520841,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9937866924118026},{time:42.0945,note:"E2",pitch:82.07734547319387,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9909826751029982},{time:42.11319999980927,note:"E2",pitch:82.05897794867582,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9956339143831059},{time:42.13159999990463,note:"E2",pitch:82.06521222427007,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9934422103945622},{time:42.15,note:"E2",pitch:82.06243713146421,noteMidi:40,actualMidi:39.93,actualMidiChroma:3.9299999999999997,centsOffset:-7.000000000000028,clarity:.9892195110934239},{time:42.16839999985695,note:"E2",pitch:82.10998044078296,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.9918600256779087},{time:42.186799999952314,note:"E2",pitch:82.63544837159492,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.8891483099279611},{time:42.20519999980927,note:"E2",pitch:83.87951950905163,noteMidi:40,actualMidi:40.31,actualMidiChroma:4.310000000000002,centsOffset:31.000000000000227,clarity:.604426249900829},{time:42.22369999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.24189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.260299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.278599999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.29689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.31539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.333599999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.352,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.370599999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.389,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.407299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.4255,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.443899999856946,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.46239999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.48059999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.499,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.51739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.536,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.55439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.57269999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.591,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.60939999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.627699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.64589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.66429999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.6825,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.70089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.71929999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.737699999809266,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.756099999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.77429999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.792799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.811399999856945,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.83029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.86219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.88869999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.91229999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.9315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.94979999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.96809999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:42.98679999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.0055,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.02429999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.042799999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.061699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.08029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.09959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.11819999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.13659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.155,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:43.173699999809266,note:"Eb3",pitch:153.14008665240564,noteMidi:51,actualMidi:50.73,actualMidiChroma:2.729999999999997,centsOffset:-27.000000000000313,clarity:.6791587644235761},{time:43.1925,note:"E2",pitch:82.11661646105976,noteMidi:40,actualMidi:39.94,actualMidiChroma:3.9399999999999977,centsOffset:-6.000000000000227,clarity:.7751587545434546},{time:43.21109999990463,note:"E2",pitch:82.24613765969731,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9981448204747068},{time:43.229599999904636,note:"E2",pitch:82.25409902599843,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996605151943925},{time:43.24809999990463,note:"E2",pitch:82.26074657297455,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9997366336726969},{time:43.2665,note:"E2",pitch:82.22809406209312,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997551618660907},{time:43.28479999995232,note:"E2",pitch:82.20468057341911,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996705480542545},{time:43.30309999990463,note:"E2",pitch:82.2117861547224,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996773565946597},{time:43.32179999995232,note:"E2",pitch:82.23402708028264,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997033286095842},{time:43.340299999952315,note:"E2",pitch:82.219402993738,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997111531229734},{time:43.359,note:"E2",pitch:82.22359712086832,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997328260029832},{time:43.37759999990463,note:"E2",pitch:82.21850366740662,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999678252505035},{time:43.396399999856946,note:"E2",pitch:82.22884949003426,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996701267653378},{time:43.415,note:"E2",pitch:82.22964161726777,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997931938751208},{time:43.43389999985695,note:"E2",pitch:82.21992377085058,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999790740016195},{time:43.452599999904635,note:"E2",pitch:82.22313688123974,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997739549739464},{time:43.471299999952315,note:"E2",pitch:82.23301046507729,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998057271214407},{time:43.48979999995232,note:"E2",pitch:82.23054456861777,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998009840859794},{time:43.5085,note:"E2",pitch:82.21531875475647,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998110276972483},{time:43.52729999995232,note:"E2",pitch:82.2180797130223,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998252621496135},{time:43.546099999904634,note:"E2",pitch:82.21960277305838,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997773139332509},{time:43.564799999952314,note:"E2",pitch:82.22111865406144,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997918665311971},{time:43.58369999980926,note:"E2",pitch:82.2141644459832,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998346833491922},{time:43.60279999995232,note:"E2",pitch:82.21190365086306,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997874109134699},{time:43.62159999990463,note:"E2",pitch:82.19974323364211,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9997961667564255},{time:43.6405,note:"E2",pitch:82.20956783267827,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998299223965006},{time:43.659,note:"E2",pitch:82.21524896709847,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998181677530482},{time:43.67779999995231,note:"E2",pitch:82.21294824749171,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.99981292914606},{time:43.69669999980926,note:"E2",pitch:82.21073689435546,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998866174067018},{time:43.71539999985695,note:"E2",pitch:82.21221239001581,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9996811153754237},{time:43.734799999952315,note:"E2",pitch:82.20790768473205,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9995702457156028},{time:43.76619999980927,note:"E2",pitch:82.23041192116968,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.999880528901059},{time:43.79289999985695,note:"E2",pitch:82.23787245629401,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9998903303702349},{time:43.81639999985695,note:"E2",pitch:82.2531280769317,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998313573272526},{time:43.83609999990463,note:"E2",pitch:82.25728385822126,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9996705656454026},{time:43.85479999995231,note:"E2",pitch:82.24893498356494,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999829301399032},{time:43.87339999985695,note:"E2",pitch:82.26605299263397,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.999865729138989},{time:43.892199999809264,note:"E2",pitch:82.274661933324,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998033242667361},{time:43.911099999904636,note:"E2",pitch:82.28656650697889,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998672249298579},{time:43.929799999952316,note:"E2",pitch:82.29623147377124,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998580652953706},{time:43.94859999990463,note:"E2",pitch:82.2915630232528,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999856088581268},{time:43.96729999995232,note:"E2",pitch:82.27658045557315,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9998851094265291},{time:43.986199999809266,note:"E2",pitch:82.298783155331,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995043607041652},{time:44.005199999809264,note:"E2",pitch:82.29331476629001,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987499924465908},{time:44.02459999990463,note:"E2",pitch:82.30575339771666,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.99945785863639},{time:44.043599999904636,note:"E2",pitch:82.31403477359575,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998493659489753},{time:44.06269999980927,note:"E2",pitch:82.31553261615427,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997671831596193},{time:44.08179999995232,note:"E2",pitch:82.30803750360273,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998392503007949},{time:44.10139999985695,note:"E2",pitch:82.32222949245946,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998261502473724},{time:44.120299999952316,note:"E2",pitch:82.31956086343743,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998066901059559},{time:44.138899999856946,note:"E2",pitch:82.32098800668297,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998437462173513},{time:44.15779999995232,note:"E2",pitch:82.35980331769267,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997001629236024},{time:44.176699999809266,note:"E2",pitch:82.3461318617823,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989819668020345},{time:44.195799999952314,note:"E2",pitch:82.35332856701451,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994838709141618},{time:44.214599999904635,note:"E2",pitch:82.36180336188575,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997824918488618},{time:44.233299999952315,note:"E2",pitch:82.3813228271697,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995440588411668},{time:44.252,note:"E2",pitch:82.37513337348551,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997747898137135},{time:44.27089999985695,note:"E2",pitch:82.40414899688034,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998116337539216},{time:44.289699999809265,note:"E2",pitch:82.39886534311955,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999730416433394},{time:44.30879999995231,note:"E2",pitch:82.40630527058654,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997516396744004},{time:44.32769999980926,note:"E2",pitch:82.4407917801939,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997110019716331},{time:44.34669999980927,note:"E2",pitch:82.4355337919948,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9993952129016321},{time:44.366,note:"E2",pitch:82.42933462968905,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9996880413477243},{time:44.384699999809264,note:"E2",pitch:82.4686859419097,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995112016753751},{time:44.40369999980926,note:"E2",pitch:82.45087096051815,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9987465474662542},{time:44.42269999980927,note:"E2",pitch:82.42241726348739,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99947161680889},{time:44.44159999990463,note:"E2",pitch:82.45569988239491,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997811399973386},{time:44.461,note:"E2",pitch:82.45490580084973,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995038885592749},{time:44.48,note:"E2",pitch:82.44893632399355,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997404822895675},{time:44.499,note:"E2",pitch:82.47252125942194,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997543433716913},{time:44.518,note:"E2",pitch:82.46656922266203,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996470879951431},{time:44.53689999985695,note:"E2",pitch:82.4441809420491,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998050499554125},{time:44.55589999985695,note:"E2",pitch:82.48140835391922,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994664959204158},{time:44.57469999980926,note:"E2",pitch:82.467277011062,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9974815001034614},{time:44.59389999985695,note:"E2",pitch:82.40402414919602,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9989997044298917},{time:44.613,note:"E2",pitch:82.46840749900115,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9994100149947087},{time:44.631799999952314,note:"E2",pitch:82.42835104593551,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9977550634529138},{time:44.651199999809265,note:"E2",pitch:82.42352125417108,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9992123876034782},{time:44.682199999809264,note:"E2",pitch:82.43543839048714,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996553184108592},{time:44.707799999952314,note:"E2",pitch:82.38207641347448,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995364052643367},{time:44.732,note:"E2",pitch:82.35335111606682,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999248736358112},{time:44.75139999985695,note:"E2",pitch:82.28775523688113,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9992084462862749},{time:44.770199999809265,note:"E2",pitch:82.32460840358257,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997242565805777},{time:44.78929999995232,note:"E2",pitch:82.3720516777738,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.997431135764991},{time:44.80829999995232,note:"E2",pitch:82.3348682450928,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9958018535732833},{time:44.82739999985695,note:"E2",pitch:82.34725263796352,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988078175213388},{time:44.84639999985695,note:"E2",pitch:82.35556902611141,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997359635858061},{time:44.86539999985695,note:"E2",pitch:82.3070630912128,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999349003004582},{time:44.8845,note:"E2",pitch:82.30476234142702,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996504264731527},{time:44.9035,note:"E2",pitch:82.30902905037259,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996549698200852},{time:44.922599999904634,note:"E2",pitch:82.3316810469033,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989672408092858},{time:44.941799999952316,note:"E2",pitch:82.66315100969597,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.962279772026271},{time:44.961,note:"E2",pitch:83.54253159391601,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9151634055484124},{time:44.98009999990463,note:"F2",pitch:85.92365727515521,noteMidi:41,actualMidi:40.72,actualMidiChroma:4.719999999999999,centsOffset:-28.000000000000114,clarity:.9415842373985015},{time:44.999699999809266,note:"F2",pitch:88.32377773676028,noteMidi:41,actualMidi:41.2,actualMidiChroma:5.200000000000003,centsOffset:20.000000000000284,clarity:.9047037486329828},{time:45.01889999985695,note:"F2",pitch:89.24030647828357,noteMidi:41,actualMidi:41.38,actualMidiChroma:5.380000000000003,centsOffset:38.000000000000256,clarity:.8709586329088026},{time:45.0385,note:"Bb0",pitch:28.79192897216877,noteMidi:22,actualMidi:21.79,actualMidiChroma:9.79,centsOffset:-21.000000000000085,clarity:.42759448621541907},{time:45.057699999809266,note:"E2",pitch:83.16962052508103,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.4981635804089706},{time:45.077,note:"E2",pitch:82.65105786975674,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.8572695698154007},{time:45.096299999952315,note:"E2",pitch:82.50751166550565,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9994214815318401},{time:45.11529999995231,note:"E2",pitch:82.5070415762576,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9995542047072945},{time:45.13419999980926,note:"E2",pitch:82.4742638589799,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9994418621335797},{time:45.15339999985695,note:"E2",pitch:82.45304402004015,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996063964827044},{time:45.1725,note:"E2",pitch:82.46821159944338,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9995696522559427},{time:45.191699999809266,note:"E2",pitch:82.48234880887964,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9995263738634748},{time:45.21059999990463,note:"E2",pitch:82.45680430449792,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996214957107981},{time:45.22979999995231,note:"E2",pitch:82.4479165553099,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997149650479145},{time:45.24909999990463,note:"E2",pitch:82.45812366351424,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9996947366745843},{time:45.2685,note:"E2",pitch:82.46048647630637,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9997366983875509},{time:45.287599999904636,note:"E2",pitch:82.43711028790453,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9998127351876036},{time:45.30669999980927,note:"E2",pitch:82.42381961226971,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999789941417049},{time:45.32579999995232,note:"E2",pitch:82.42507955190949,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997815502209306},{time:45.34489999985695,note:"E2",pitch:82.4148010008443,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998341630384573},{time:45.364199999809266,note:"E2",pitch:82.40233345125183,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998054626871493},{time:45.383799999952316,note:"E2",pitch:82.39535018781342,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998185598911107},{time:45.403,note:"E2",pitch:82.39533290602775,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998486582046269},{time:45.42239999985695,note:"E2",pitch:82.39786286458343,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999857204481529},{time:45.44159999990463,note:"E2",pitch:82.38809625365053,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998692830913427},{time:45.46089999985695,note:"E2",pitch:82.38558958267978,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999807246950212},{time:45.480299999952315,note:"E2",pitch:82.38587368132295,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997622554626986},{time:45.499299999952314,note:"E2",pitch:82.39126608131086,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998618719513814},{time:45.51889999985695,note:"E2",pitch:82.3838109204246,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9998635117175354},{time:45.538,note:"E2",pitch:82.37989467315028,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999863088147805},{time:45.55729999995231,note:"E2",pitch:82.36890656867406,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999087164698182},{time:45.5775,note:"E2",pitch:82.36687943256872,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999038776982587},{time:45.60919999980926,note:"E2",pitch:82.3683492143009,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998820583781765},{time:45.634799999952314,note:"E2",pitch:82.34958518956174,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996991681616123},{time:45.659,note:"E2",pitch:82.36916402710447,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996163546647239},{time:45.68019999980927,note:"E2",pitch:82.3711837513428,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99989537040058},{time:45.69919999980927,note:"E2",pitch:82.35823100639033,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998822614125942},{time:45.71839999985695,note:"E2",pitch:82.35951334493647,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998676386006196},{time:45.737799999952315,note:"E2",pitch:82.36585876288758,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998807099946845},{time:45.75709999990463,note:"E2",pitch:82.3737812588782,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998577596866056},{time:45.77659999990463,note:"E2",pitch:82.36877495261074,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998566056846983},{time:45.79629999995232,note:"E2",pitch:82.36919725323764,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998494802947988},{time:45.81579999995232,note:"E2",pitch:82.36716506497832,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999874434196542},{time:45.83519999980926,note:"E2",pitch:82.38182008181434,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998590254495241},{time:45.854599999904636,note:"E2",pitch:82.37128263533015,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998632314798783},{time:45.873899999856945,note:"E2",pitch:82.3742563782405,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998806808404197},{time:45.893,note:"E2",pitch:82.37144111038432,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998771738893311},{time:45.91239999985695,note:"E2",pitch:82.37296433843431,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999892864100346},{time:45.93189999985695,note:"E2",pitch:82.36689592286369,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998739302375981},{time:45.951099999904635,note:"E2",pitch:82.36383788498786,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998569688084729},{time:45.9705,note:"E2",pitch:82.3627454783559,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998788314241125},{time:45.99009999990463,note:"E2",pitch:82.36860589436002,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998558928985091},{time:46.009699999809264,note:"E2",pitch:82.36034638305327,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998033706294933},{time:46.02939999985695,note:"E2",pitch:82.36375679360538,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998403966717149},{time:46.049,note:"E2",pitch:82.37117258462413,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998724265647354},{time:46.06869999980926,note:"E2",pitch:82.3714938891035,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998252875531506},{time:46.08829999995232,note:"E2",pitch:82.36149567763886,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998494683240864},{time:46.10779999995231,note:"E2",pitch:82.35769932603496,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999844021245508},{time:46.12709999990463,note:"E2",pitch:82.35853716339116,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999828289476099},{time:46.14659999990463,note:"E2",pitch:82.36168665798048,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999861425708815},{time:46.166199999809265,note:"E2",pitch:82.36359028595267,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998499480361431},{time:46.185699999809266,note:"E2",pitch:82.36349364009867,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997048695787072},{time:46.20519999980927,note:"E2",pitch:82.35910695610747,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997978461135091},{time:46.22469999980927,note:"E2",pitch:82.3742869698776,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99983118811042},{time:46.24419999980927,note:"E2",pitch:82.35731292751069,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999777725832999},{time:46.2635,note:"E2",pitch:82.36507080258241,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998214489139059},{time:46.284599999904636,note:"E2",pitch:82.36557739411812,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999821469573007},{time:46.30439999985695,note:"E2",pitch:82.35600902192401,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997850909502546},{time:46.324,note:"E2",pitch:82.3600036956412,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998256708211102},{time:46.34359999990463,note:"E2",pitch:82.37608578880072,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995320784575199},{time:46.363099999904634,note:"E2",pitch:82.35984779690406,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995239589541711},{time:46.382599999904635,note:"E2",pitch:82.36208263782953,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999825970860897},{time:46.40219999980926,note:"E2",pitch:82.35637755082887,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997515513547341},{time:46.422,note:"E2",pitch:82.34659272542908,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999677144261085},{time:46.44139999985695,note:"E2",pitch:82.36162578041599,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997504666467165},{time:46.46119999980927,note:"E2",pitch:82.3543671719154,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997345447787893},{time:46.48089999985695,note:"E2",pitch:82.3335159617247,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997627213117966},{time:46.500699999809264,note:"E2",pitch:82.36101413743589,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997836017608961},{time:46.533,note:"E2",pitch:82.33829023514761,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995919996309084},{time:46.559,note:"E2",pitch:82.34342657722526,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997240751189906},{time:46.583599999904635,note:"E2",pitch:82.33725055990337,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999552163197535},{time:46.60409999990463,note:"E2",pitch:82.34582081599386,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995026595133538},{time:46.62339999985695,note:"E2",pitch:82.36751019267899,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996704131299623},{time:46.64279999995232,note:"E2",pitch:82.33935542331332,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996070149157816},{time:46.66229999995232,note:"E2",pitch:82.34865340685364,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996881394367847},{time:46.68189999985695,note:"E2",pitch:82.37285158331913,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995771998571144},{time:46.7015,note:"E2",pitch:82.33703476395611,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999438247952753},{time:46.721,note:"E2",pitch:82.3448960053564,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9996203192496864},{time:46.74059999990463,note:"E2",pitch:82.35731044691529,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994887823470435},{time:46.76009999990463,note:"E2",pitch:82.33326005033445,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.999319735555332},{time:46.77959999990463,note:"E2",pitch:82.35898965165933,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995936051261367},{time:46.79889999985695,note:"E2",pitch:82.3527280177394,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999664865646011},{time:46.8185,note:"E2",pitch:82.33056385109653,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994280428665832},{time:46.83789999985695,note:"E2",pitch:82.32659541110215,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9995357958803766},{time:46.85739999985695,note:"E2",pitch:82.368849753511,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994690689453734},{time:46.877,note:"E2",pitch:82.32876490671673,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992690449053327},{time:46.896399999856946,note:"E2",pitch:82.34717938662624,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995707984968618},{time:46.91589999985695,note:"E2",pitch:82.36486143789281,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994757653277873},{time:46.9355,note:"E2",pitch:82.31913625904603,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990343135383455},{time:46.95519999980927,note:"E2",pitch:82.3475821337141,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993895857259361},{time:46.975,note:"E2",pitch:82.34648331956227,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993462181480623},{time:46.995,note:"E2",pitch:82.31442053349295,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990268301898055},{time:47.01479999995232,note:"E2",pitch:82.36446388639094,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994890929928033},{time:47.034599999904636,note:"E2",pitch:82.34553753733948,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9992909614300629},{time:47.05459999990463,note:"E2",pitch:82.31160551750561,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992519345192363},{time:47.07439999985695,note:"E2",pitch:82.34597728586665,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994857202785852},{time:47.09439999985695,note:"E2",pitch:82.32802212686977,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990526588240982},{time:47.11379999995231,note:"E2",pitch:82.30383492857192,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990678941914268},{time:47.133299999952314,note:"E2",pitch:82.3574978552735,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9994425656674792},{time:47.152799999952315,note:"E2",pitch:82.31364316919176,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9985310271343764},{time:47.1725,note:"E2",pitch:82.31194193299035,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987189823262526},{time:47.192,note:"E2",pitch:82.36931011449848,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993463255094781},{time:47.211599999904635,note:"E2",pitch:82.30406882141605,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9988352682957924},{time:47.23129999995231,note:"E2",pitch:82.3028538959441,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9990777138131932},{time:47.251,note:"E2",pitch:82.34987582793396,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9991011314162535},{time:47.27039999985695,note:"E2",pitch:82.29686891864797,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9988332843172998},{time:47.29,note:"E2",pitch:82.33105460803733,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9992515779770201},{time:47.30969999980927,note:"E2",pitch:82.35953811580498,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990636092354919},{time:47.32929999995232,note:"E2",pitch:82.30823144450875,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987761309621419},{time:47.34879999995232,note:"E2",pitch:82.3241933950118,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991772636797123},{time:47.3685,note:"E2",pitch:82.3655584495174,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999257140393766},{time:47.38829999995232,note:"E2",pitch:82.31438281638083,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9982286987049065},{time:47.40789999985695,note:"E2",pitch:82.33588425309026,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988258379504771},{time:47.42809999990463,note:"E2",pitch:82.38087798036132,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989085528815735},{time:47.4605,note:"E2",pitch:82.35575060234584,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9991461519558413},{time:47.486599999904634,note:"E2",pitch:82.35846663856852,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990785565308471},{time:47.510899999856946,note:"E2",pitch:82.29648760920733,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9991932375642563},{time:47.5315,note:"E2",pitch:82.38232267819365,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999106867075028},{time:47.55089999985695,note:"E2",pitch:82.43652484925283,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.99220262533035},{time:47.57059999990463,note:"E2",pitch:83.22709779672216,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.8702620764665383},{time:47.590199999809265,note:"F2",pitch:84.98845024401673,noteMidi:41,actualMidi:40.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.618631966961388},{time:47.609799999952315,note:"F2",pitch:89.27129014021556,noteMidi:41,actualMidi:41.39,actualMidiChroma:5.390000000000001,centsOffset:39.00000000000006,clarity:.8760432177460338},{time:47.629299999952316,note:"Gb2",pitch:90.70940764584971,noteMidi:42,actualMidi:41.66,actualMidiChroma:5.659999999999997,centsOffset:-34.00000000000034,clarity:.8490108992181611},{time:47.64889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.66809999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.6875,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.707,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.72679999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.746,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.765699999809264,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.7855,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.805099999904634,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.82469999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.8445,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.86409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.883799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.904,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.92389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.943599999904635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.9635,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:47.983299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:48.0035,note:"C3",pitch:132.03388235514623,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.23444728342400367},{time:48.02379999995232,note:"E2",pitch:82.62399344611376,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.7630464612192469},{time:48.04389999985695,note:"E2",pitch:82.53343282372974,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9786130916457694},{time:48.06389999985695,note:"E2",pitch:82.44862578533242,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9986760556429886},{time:48.083899999856946,note:"E2",pitch:82.44411914596708,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9991855283692388},{time:48.103799999952315,note:"E2",pitch:82.42144251136845,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987357467437619},{time:48.12379999995232,note:"E2",pitch:82.41208974982801,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987482201407971},{time:48.144,note:"E2",pitch:82.44062801110923,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9989210563289532},{time:48.16379999995232,note:"E2",pitch:82.43471407100604,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9983336498418112},{time:48.1835,note:"E2",pitch:82.41461054010082,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987590776924833},{time:48.203199999809264,note:"E2",pitch:82.43751020334467,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9988961749613168},{time:48.22309999990463,note:"E2",pitch:82.43136602949066,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9989251670715049},{time:48.24289999985695,note:"E2",pitch:82.42584963990059,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999191002365734},{time:48.2625,note:"E2",pitch:82.431486826816,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9988469706230632},{time:48.282299999952315,note:"E2",pitch:82.42193621961998,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983990491776922},{time:48.302,note:"E2",pitch:82.42475254323465,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9990522573204146},{time:48.32179999995232,note:"E2",pitch:82.40488199395273,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981536017963748},{time:48.341699999809265,note:"E2",pitch:82.38241931830949,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979596104053172},{time:48.36189999985695,note:"E2",pitch:82.39844464831236,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.999270036081569},{time:48.39479999995232,note:"E2",pitch:82.40455920892352,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980373879800766},{time:48.42139999985695,note:"E2",pitch:82.40349114668464,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.998503416825244},{time:48.4465,note:"E2",pitch:82.40793585121392,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9978563424550941},{time:48.467599999904635,note:"E2",pitch:82.36837713892803,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.99891614865966},{time:48.48739999985695,note:"E2",pitch:82.406055548544,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975095339764124},{time:48.507199999809266,note:"E2",pitch:82.40360785595875,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9956602980134477},{time:48.527099999904635,note:"E2",pitch:82.40898250461584,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981289885248117},{time:48.547,note:"E2",pitch:82.40634777959893,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973220605083952},{time:48.566699999809266,note:"E2",pitch:82.38386304624132,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9960009542043196},{time:48.586599999904635,note:"E2",pitch:82.38696596370971,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9983817380999085},{time:48.6065,note:"E2",pitch:82.39742632302925,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968995134668006},{time:48.62669999980927,note:"E2",pitch:82.37142271702753,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975802536627469},{time:48.64659999990463,note:"E2",pitch:82.36457177884262,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9985924402139119},{time:48.66639999985695,note:"E2",pitch:82.39306397831389,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9963338349132016},{time:48.68629999995232,note:"E2",pitch:82.40403522724708,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9976842459190465},{time:48.70639999985695,note:"E2",pitch:82.38756233718449,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9978469408887207},{time:48.7265,note:"E2",pitch:82.3944980670793,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.996295313127689},{time:48.74659999990463,note:"E2",pitch:82.39158040151844,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9979767566149462},{time:48.766899999856946,note:"E2",pitch:82.41899430809694,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9974241135599016},{time:48.786799999952315,note:"E2",pitch:82.41601692479064,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9961208735615799},{time:48.80669999980927,note:"E2",pitch:82.42708841887678,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99810884403675},{time:48.8265,note:"E2",pitch:82.42727448553917,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964762472059903},{time:48.8465,note:"E2",pitch:82.44753658930657,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944339848896675},{time:48.86639999985695,note:"E2",pitch:82.4332014506643,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9981596091046043},{time:48.88609999990463,note:"E2",pitch:82.42671949065979,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.996876466247528},{time:48.90619999980927,note:"E2",pitch:82.47780766626374,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9955565986244892},{time:48.92619999980926,note:"E2",pitch:82.47858669269796,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979784598294117},{time:48.94619999980927,note:"E2",pitch:82.45603123513966,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9964105638678546},{time:48.96629999995232,note:"E2",pitch:82.444465618939,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9957780133540979},{time:48.98639999985695,note:"E2",pitch:82.44660175538782,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9977119668588301},{time:49.00659999990463,note:"E2",pitch:82.43737309063674,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9956486832719378},{time:49.027099999904635,note:"E2",pitch:82.4687460363161,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9964090549266302},{time:49.047599999904634,note:"E2",pitch:82.4442832017001,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9979392396213029},{time:49.068,note:"E2",pitch:82.46066182893613,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9950391891525925},{time:49.0885,note:"E2",pitch:82.51307029085594,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9958378899207219},{time:49.10939999985695,note:"E2",pitch:82.44524224977462,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9962017385316386},{time:49.131399999856946,note:"E2",pitch:82.48341833477674,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9942447969615955},{time:49.1515,note:"E2",pitch:82.48176578408224,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9978237067171847},{time:49.17139999985695,note:"E2",pitch:82.45956918203143,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959205015519359},{time:49.19159999990463,note:"E2",pitch:82.51804813128655,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9944961263917804},{time:49.211899999856946,note:"E2",pitch:82.46333639106089,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9973079650371801},{time:49.232,note:"E2",pitch:82.447089171056,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9945640855123941},{time:49.25179999995232,note:"E2",pitch:82.54566579074827,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9949023540782491},{time:49.272,note:"E2",pitch:82.48871523141486,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9972253681229972},{time:49.292,note:"E2",pitch:82.465767047282,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9938677914638134},{time:49.312599999904634,note:"E2",pitch:82.51137313537711,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9937226680777655},{time:49.346,note:"E2",pitch:82.46075274354232,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9951933808937667},{time:49.37229999995232,note:"E2",pitch:82.53043636011203,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9943156643073223},{time:49.39729999995232,note:"E2",pitch:82.43010554280045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9954581629111203},{time:49.41839999985695,note:"E2",pitch:82.48787429718729,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9923481641711902},{time:49.43859999990463,note:"E2",pitch:82.54033688804412,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9950678614402761},{time:49.459,note:"E2",pitch:82.43040454808533,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940693267830909},{time:49.47909999990463,note:"E2",pitch:82.49376317850805,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.992232382371327},{time:49.499199999809264,note:"E2",pitch:82.46759913289365,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9946219002918326},{time:49.51939999985695,note:"E2",pitch:82.46111927716072,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9927685805021298},{time:49.53959999990463,note:"E2",pitch:82.56607643953464,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9927236166017792},{time:49.56009999990463,note:"E2",pitch:82.46269462094958,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9942617047922937},{time:49.58019999980927,note:"E2",pitch:82.48707509237327,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9933713906254695},{time:49.60039999985695,note:"E2",pitch:82.53511118710735,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9947637455338452},{time:49.6205,note:"E2",pitch:82.43544286879879,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9941481803913632},{time:49.6405,note:"E2",pitch:82.51236622016373,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9925762808770457},{time:49.66069999980927,note:"E2",pitch:82.55617053312845,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9955027448718852},{time:49.68089999985695,note:"E2",pitch:82.42584821156721,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9949886141877329},{time:49.70089999985695,note:"E2",pitch:82.51062628741191,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9941138818294206},{time:49.72109999990463,note:"E2",pitch:82.58401007875293,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9963350593969409},{time:49.7415,note:"E2",pitch:82.45481661500109,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9948641518689385},{time:49.76159999990463,note:"E2",pitch:82.56586598255458,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9947232331010412},{time:49.782,note:"E2",pitch:82.53863402039904,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.996360144884818},{time:49.80219999980927,note:"E2",pitch:82.45656611800311,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943469120524924},{time:49.82239999985695,note:"E2",pitch:82.57872508042104,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9963476985143274},{time:49.84269999980926,note:"E2",pitch:82.5257448760215,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9968214892447378},{time:49.863,note:"E2",pitch:82.44547168554378,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.993740913950802},{time:49.883299999952314,note:"E2",pitch:82.60036555011618,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9959797829796742},{time:49.90389999985695,note:"E2",pitch:82.47942451668997,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9961365038183203},{time:49.92439999985695,note:"E2",pitch:82.41821474778045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952224922169677},{time:49.944799999952316,note:"E2",pitch:82.56290770483778,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9968456178941381},{time:49.96509999990463,note:"E2",pitch:82.44682495734472,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9967292235904495},{time:49.9855,note:"E2",pitch:82.47459454365502,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9967817678453912},{time:50.00629999995232,note:"E2",pitch:82.5136532396202,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9978278707270789},{time:50.02679999995232,note:"E2",pitch:82.43445333532645,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9968008701004152},{time:50.04739999985695,note:"E2",pitch:82.43870032539618,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9965141659126999},{time:50.06789999985695,note:"E2",pitch:82.50370981252672,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9969309819603893},{time:50.08859999990463,note:"E2",pitch:82.41593694222499,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952462831208777},{time:50.10879999995232,note:"E2",pitch:82.42768595467155,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9965921284535213},{time:50.129,note:"E2",pitch:82.48438612987955,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945302195216783},{time:50.149399999856946,note:"E2",pitch:82.35699488401193,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9926295555392741},{time:50.17,note:"E2",pitch:82.56337485750207,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9949834981297556},{time:50.19039999985695,note:"E2",pitch:82.43351763602215,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934066065181355},{time:50.210699999809265,note:"E2",pitch:82.30414003789163,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9900314510850663},{time:50.23119999980926,note:"E2",pitch:82.51371794273618,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9968541516866765},{time:50.25169999980927,note:"E2",pitch:82.43399643427429,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9947131257703461},{time:50.272899999856946,note:"E2",pitch:82.35991667772146,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9954989554713904},{time:50.3065,note:"E2",pitch:82.48488882644138,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9957458488185154},{time:50.33329999995232,note:"E2",pitch:82.41641241994968,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968694376994378},{time:50.3585,note:"E2",pitch:82.49820978502004,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979752032999443},{time:50.3805,note:"E2",pitch:82.36929714338527,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9969736378415064},{time:50.400599999904635,note:"E2",pitch:82.45617481532366,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.998530328987286},{time:50.42089999985695,note:"E2",pitch:82.40358426940004,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9971556889254458},{time:50.4415,note:"E2",pitch:82.34818262989361,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9983794297868513},{time:50.46179999995232,note:"E2",pitch:82.48316433160461,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9981758546184878},{time:50.482099999904634,note:"E2",pitch:82.42362313944619,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9969389034220839},{time:50.502699999809266,note:"E2",pitch:82.36086217797481,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9987270953214704},{time:50.523,note:"E2",pitch:82.45060749754428,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9984395396383974},{time:50.54329999995232,note:"E2",pitch:82.38534220836783,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9965120591686727},{time:50.563799999952316,note:"E2",pitch:82.35565287541777,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975993365524758},{time:50.584299999952314,note:"E2",pitch:82.44658285695085,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9980467434159905},{time:50.60469999980926,note:"E2",pitch:82.3609413288585,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975301266109113},{time:50.6255,note:"E2",pitch:82.38063571837249,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9984263288921085},{time:50.64709999990463,note:"E2",pitch:82.41649574339954,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973510247980641},{time:50.667799999952315,note:"E2",pitch:82.32665358261265,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9981836345406663},{time:50.68809999990463,note:"E2",pitch:82.36162065984102,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9989929942537401},{time:50.70809999990463,note:"E2",pitch:82.40545367625207,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973345564822793},{time:50.72839999985695,note:"E2",pitch:82.33771206266556,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975686698887856},{time:50.74869999980927,note:"E2",pitch:82.39251386405512,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.99851778679718},{time:50.76919999980927,note:"E2",pitch:82.35831823480457,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9974607491441532},{time:50.7895,note:"E2",pitch:82.33696964944474,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979691013754675},{time:50.80969999980927,note:"E2",pitch:82.43026889888031,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975362748227212},{time:50.83019999980927,note:"E2",pitch:82.34095241680266,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9977357415336385},{time:50.85059999990463,note:"E2",pitch:82.33001456678494,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9987476390892382},{time:50.870899999856945,note:"E2",pitch:82.39757200463791,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9977782453079129},{time:50.891899999856946,note:"E2",pitch:82.33476991166847,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9980638292072399},{time:50.9125,note:"E2",pitch:82.32351919593007,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989033621914132},{time:50.933099999904634,note:"E2",pitch:82.36286941383017,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9980182684867884},{time:50.95389999985695,note:"E2",pitch:82.28797176770992,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9981001014243276},{time:50.974299999952315,note:"E2",pitch:82.38208939086836,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9985592549103472},{time:50.995299999952316,note:"E2",pitch:82.43032245562532,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9979186809480467},{time:51.01609999990463,note:"E2",pitch:82.3168888953788,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9984306283351359},{time:51.037,note:"E2",pitch:82.40975821632279,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9986919224581499},{time:51.058,note:"E2",pitch:82.41248752652304,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975807672281292},{time:51.07869999980927,note:"E2",pitch:82.33923153683551,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990938638523872},{time:51.09969999980927,note:"E2",pitch:82.36084800422869,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979554941286892},{time:51.12039999985695,note:"E2",pitch:82.29885307644088,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9982247837124234},{time:51.14119999980927,note:"E2",pitch:82.37816660931254,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9985425473791807},{time:51.16239999985695,note:"E2",pitch:82.42402304748258,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980832036447111},{time:51.182799999952316,note:"E2",pitch:82.30639376391227,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9983409784755537},{time:51.20339999985695,note:"E2",pitch:82.36089551410576,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.998644006353743},{time:51.2245,note:"E2",pitch:82.39341327779357,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9975686779328541},{time:51.259699999809264,note:"E2",pitch:82.38513871048774,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9987719850561874},{time:51.2865,note:"E2",pitch:82.39365643129767,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9978673853691049},{time:51.312899999856945,note:"E2",pitch:82.29239473578615,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989049325279566},{time:51.3355,note:"E2",pitch:82.3683181381829,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982109595341839},{time:51.35629999995231,note:"E2",pitch:82.29243728393882,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9985178526568532},{time:51.376899999856946,note:"E2",pitch:82.31867709488249,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9986536407560251},{time:51.39779999995232,note:"E2",pitch:82.39764502894323,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981110706125094},{time:51.41819999980927,note:"E2",pitch:82.28574405301308,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9990719027041806},{time:51.438799999952316,note:"E2",pitch:82.38577394122056,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9990639626074582},{time:51.45969999980927,note:"E2",pitch:82.297688334339,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.998605745200031},{time:51.48039999985695,note:"E2",pitch:82.27210536602968,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9989225720627246},{time:51.50109999990463,note:"E2",pitch:82.34108100867824,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982122321039029},{time:51.521799999952314,note:"E2",pitch:82.28492757045346,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9986825223736702},{time:51.54259999990463,note:"E2",pitch:82.33919538141286,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9986591175950963},{time:51.563299999952314,note:"E2",pitch:82.40467230416164,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981490989104458},{time:51.584,note:"E2",pitch:82.29167745074695,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9989063361488704},{time:51.606,note:"E2",pitch:82.37233067227115,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9990810692790788},{time:51.62709999990463,note:"E2",pitch:82.36187612325854,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982652136249257},{time:51.64879999995232,note:"E2",pitch:82.28373605032438,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9991433120434436},{time:51.66969999980927,note:"E2",pitch:82.65474962800543,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9968974893723157},{time:51.6905,note:"E2",pitch:83.18381542208593,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.9818082132307637},{time:51.71129999995232,note:"E2",pitch:84.22833123066819,noteMidi:40,actualMidi:40.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9516504849659526},{time:51.732,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:51.7525,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:51.773299999952314,note:"E2",pitch:83.4021613408394,noteMidi:40,actualMidi:40.21,actualMidiChroma:4.210000000000001,centsOffset:21.000000000000085,clarity:.376000205425683},{time:51.79559999990463,note:"E2",pitch:82.77953791461218,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.7639516029821607},{time:51.81659999990463,note:"E2",pitch:82.31737873195503,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9802543009492695},{time:51.83839999985695,note:"E2",pitch:82.40712301613362,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968407086608408},{time:51.859099999904636,note:"E2",pitch:82.35394693645136,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982287885250827},{time:51.87979999995232,note:"E2",pitch:82.34669602602732,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9982854882503744},{time:51.901299999952315,note:"E2",pitch:82.36466448901513,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975801772679773},{time:51.922299999952315,note:"E2",pitch:82.36184117249921,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9984652433280132},{time:51.943199999809266,note:"E2",pitch:82.33181298587974,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9977700877450673},{time:51.96419999980927,note:"E2",pitch:82.3438943873764,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9972285937544427},{time:51.98529999995232,note:"E2",pitch:82.35796007304272,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9984184321981076},{time:52.007899999856946,note:"E2",pitch:82.35789436190394,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965057529411183},{time:52.02939999985695,note:"E2",pitch:82.3356908852333,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9977999145532692},{time:52.05159999990463,note:"E2",pitch:82.33926125364422,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9970424826676094},{time:52.07269999980927,note:"E2",pitch:82.35222232209999,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.994534336438619},{time:52.09369999980927,note:"E2",pitch:82.33770466494558,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9976230849325702},{time:52.11469999980927,note:"E2",pitch:82.32489303351495,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9963764914496949},{time:52.136,note:"E2",pitch:82.32368006304176,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9962483438730771},{time:52.17129999995232,note:"E2",pitch:82.33168780894556,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9952245566524738},{time:52.198099999904635,note:"E2",pitch:82.34711274561543,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9959676498789776},{time:52.225,note:"E2",pitch:82.32421296455253,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.996146013642047},{time:52.2465,note:"E2",pitch:82.33170333462014,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9936605322538128},{time:52.267,note:"E2",pitch:82.3266242713232,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9974413582869488},{time:52.28869999980927,note:"E2",pitch:82.33200943110776,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9960484013413549},{time:52.30969999980927,note:"E2",pitch:82.3448594435589,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9971202231440088},{time:52.33069999980926,note:"E2",pitch:82.34611741263463,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9957572537036583},{time:52.35279999995232,note:"E2",pitch:82.3531060904596,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9926512563174015},{time:52.37379999995232,note:"E2",pitch:82.34498276693394,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9973353117749042},{time:52.39559999990463,note:"E2",pitch:82.34460350102475,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9955440332195735},{time:52.4165,note:"E2",pitch:82.3834419781596,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9928081321322395},{time:52.43769999980927,note:"E2",pitch:82.34989462619576,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9968834701126355},{time:52.458599999904635,note:"E2",pitch:82.35275741491498,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9956333254239809},{time:52.47939999985695,note:"E2",pitch:82.37347469036584,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.996788990494224},{time:52.50179999995232,note:"E2",pitch:82.38825933099936,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951643198037488},{time:52.52279999995232,note:"E2",pitch:82.42677693105071,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.992534473040422},{time:52.544599999904634,note:"E2",pitch:82.39344559265511,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9970572654240186},{time:52.56539999985695,note:"E2",pitch:82.39996027550124,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9948969263767822},{time:52.587,note:"E2",pitch:82.42511603221524,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9925392200932066},{time:52.60769999980926,note:"E2",pitch:82.44790546917704,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9969328125065715},{time:52.628799999952314,note:"E2",pitch:82.42123835952586,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951652547251797},{time:52.6515,note:"E2",pitch:82.40864453611918,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9966311846479528},{time:52.67239999985695,note:"E2",pitch:82.40770773653445,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.994847964700341},{time:52.694199999809264,note:"E2",pitch:82.41935151517552,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9924569320352816},{time:52.715,note:"E2",pitch:82.42067773156654,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9970306370794617},{time:52.736199999809266,note:"E2",pitch:82.4349544449235,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943235105498047},{time:52.757299999952316,note:"E2",pitch:82.42034562389026,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9908175636969361},{time:52.77979999995232,note:"E2",pitch:82.40240739325426,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.995684697056646},{time:52.80129999995231,note:"E2",pitch:82.40884618547604,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9934587912606787},{time:52.82329999995232,note:"E2",pitch:82.42810093416752,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9969674262479771},{time:52.84419999980926,note:"E2",pitch:82.44399570647983,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944866653997053},{time:52.865699999809266,note:"E2",pitch:82.40312566405571,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9924830441907773},{time:52.886799999952316,note:"E2",pitch:82.41309634550915,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9972458351612374},{time:52.90969999980926,note:"E2",pitch:82.42557701789491,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9930251662384251},{time:52.93089999985695,note:"E2",pitch:82.4271305280365,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.996869657051775},{time:52.952899999856946,note:"E2",pitch:82.43096021641344,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9968800142338807},{time:52.97409999990463,note:"E2",pitch:82.41798991478976,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9943973148664611},{time:52.995899999856945,note:"E2",pitch:82.4379262716461,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9971377089413238},{time:53.01739999985695,note:"E2",pitch:82.44803033193585,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9948747291613245},{time:53.04029999995232,note:"E2",pitch:82.40936793735051,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964565985880824},{time:53.062,note:"E2",pitch:82.45422758472827,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9977035949057722},{time:53.0985,note:"E2",pitch:82.4439466240537,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9935637861204896},{time:53.12519999980927,note:"E2",pitch:82.4431897148038,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970679987706887},{time:53.152099999904635,note:"E2",pitch:82.45472046066052,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943356808385602},{time:53.17389999985695,note:"E2",pitch:82.483448580256,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9972917664132694},{time:53.195099999904635,note:"E2",pitch:82.47833628427472,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945685575800951},{time:53.21629999995232,note:"E2",pitch:82.44174673636176,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9963047289525377},{time:53.23909999990463,note:"E2",pitch:82.47140523467606,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.995194557694191},{time:53.26019999980927,note:"E2",pitch:82.45839017823985,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944290572364309},{time:53.282,note:"E2",pitch:82.45625669057115,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9971151517375461},{time:53.30339999985695,note:"E2",pitch:82.47204996615099,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.994634620565165},{time:53.32479999995232,note:"E2",pitch:82.47351780727011,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9934701449506065},{time:53.34609999990463,note:"E2",pitch:82.5010365674202,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9964831358695676},{time:53.36859999990463,note:"E2",pitch:82.4859296060652,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.99400570167154},{time:53.38969999980927,note:"E2",pitch:82.46622881256656,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9954575573643751},{time:53.4115,note:"E2",pitch:82.50573442195066,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9942728052910184},{time:53.43239999985695,note:"E2",pitch:82.48318286582645,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9919430395909501},{time:53.45389999985695,note:"E2",pitch:82.48462072291721,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9943449897329231},{time:53.47519999980926,note:"E2",pitch:82.5179718965147,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945840793110108},{time:53.498,note:"E2",pitch:82.510640402924,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9941407948544452},{time:53.51919999980927,note:"E2",pitch:82.5337512767407,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9948180811722409},{time:53.54109999990463,note:"E2",pitch:82.51207378065095,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948995283311604},{time:53.562199999809266,note:"E2",pitch:82.5419214321507,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9950182548432167},{time:53.5835,note:"E2",pitch:82.57254476113634,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9951841727531985},{time:53.60469999980926,note:"E2",pitch:82.53048471092687,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9945201876227259},{time:53.62709999990463,note:"E2",pitch:82.57664465026248,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9943535488680766},{time:53.6485,note:"E2",pitch:82.59971826342661,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9950216575540765},{time:53.670699999809266,note:"E2",pitch:82.55954532424315,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9942945920038824},{time:53.691699999809266,note:"E2",pitch:82.62265187769069,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9944832067616574},{time:53.713,note:"E2",pitch:82.57118484660266,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9942921399679392},{time:53.73419999980926,note:"E2",pitch:82.57751416753652,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9948853852622506},{time:53.75709999990463,note:"E2",pitch:82.59775355270538,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9955036703126723},{time:53.779299999952315,note:"E2",pitch:82.48355558631005,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9953880649777318},{time:53.80069999980927,note:"E2",pitch:82.5643563995507,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9956445359281645},{time:53.82209999990463,note:"E2",pitch:82.47225598804096,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9952744534413114},{time:53.84359999990463,note:"E2",pitch:82.4368918614192,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944208506230723},{time:53.8665,note:"E2",pitch:82.52858323224487,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9944071569542245},{time:53.88869999980926,note:"E2",pitch:82.46296205205297,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9945763925690869},{time:53.91009999990463,note:"E2",pitch:82.50010925649748,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9955644324643629},{time:53.933,note:"E2",pitch:82.48649411970477,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.995298438082898},{time:53.97159999990463,note:"E2",pitch:83.6055311157199,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.8634317154406261},{time:53.99959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:54.02659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:54.04889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:54.07059999990463,note:"E2",pitch:83.5742714474353,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.32986541218696175},{time:54.09389999985695,note:"E2",pitch:82.8460047837486,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.8797800899542381},{time:54.11619999980927,note:"E2",pitch:82.6725835202908,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9960850668934569},{time:54.13829999995232,note:"E2",pitch:82.66623343314747,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9991207336009467},{time:54.15989999985695,note:"E2",pitch:82.64522056396005,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989305607555536},{time:54.182699999809266,note:"E2",pitch:82.63157890970744,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989600489940358},{time:54.204099999904635,note:"E2",pitch:82.62229363484983,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989630090720709},{time:54.2265,note:"E2",pitch:82.60555246409885,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9988753526002654},{time:54.2495,note:"E2",pitch:82.57853186950402,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9987550742492601},{time:54.283099999904636,note:"E2",pitch:82.63246959500948,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9987340796965327},{time:54.3095,note:"E2",pitch:82.56808354028043,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9988035390931032},{time:54.33189999985695,note:"E2",pitch:82.57229240059876,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9987277929386948},{time:54.3535,note:"E2",pitch:82.59504310085022,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9989528529419545},{time:54.375099999904634,note:"E2",pitch:82.5622348838363,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9987405800403621},{time:54.397899999856946,note:"E2",pitch:82.58194552216023,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9986785795830144},{time:54.41989999985695,note:"E2",pitch:82.55622217489442,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985102888333728},{time:54.4415,note:"E2",pitch:82.5483441045895,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9984502291085846},{time:54.46279999995232,note:"E2",pitch:82.56736316909748,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.998872309508144},{time:54.4855,note:"E2",pitch:82.54206937971995,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985530803499927},{time:54.507299999952316,note:"E2",pitch:82.56718093671671,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985416769704187},{time:54.529,note:"E2",pitch:82.57747123211405,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9987644814775791},{time:54.55039999985695,note:"E2",pitch:82.5438075209454,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978040601914699},{time:54.573,note:"E2",pitch:82.59363690235261,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9979377005791719},{time:54.59519999980927,note:"E2",pitch:82.55278019380263,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9985792897444838},{time:54.61709999990463,note:"E2",pitch:82.53681696772665,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9982778396054073},{time:54.6385,note:"E2",pitch:82.55358178199903,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9986432169934574},{time:54.66129999995232,note:"E2",pitch:82.53401088875968,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9979960920976083},{time:54.68389999985695,note:"E2",pitch:82.57832950762955,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9980948647301204},{time:54.705899999856946,note:"E2",pitch:82.54951366238886,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9983457521135506},{time:54.72789999985695,note:"E2",pitch:82.52464485778603,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9981230382567077},{time:54.75059999990463,note:"E2",pitch:82.5587010321724,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9986041874058458},{time:54.77309999990463,note:"E2",pitch:82.50932639109881,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979084599860073},{time:54.795,note:"E2",pitch:82.53098162147822,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978225755855448},{time:54.817099999904634,note:"E2",pitch:82.56273466525082,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9983145225972123},{time:54.84009999990463,note:"E2",pitch:82.51994324863276,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9975573595501714},{time:54.86209999990463,note:"E2",pitch:82.55537872801567,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9986265935699805},{time:54.884399999856946,note:"E2",pitch:82.51629538540986,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.998074165153298},{time:54.90709999990463,note:"E2",pitch:82.51181964325023,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9976770233198948},{time:54.92959999990463,note:"E2",pitch:82.52311043837997,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9983276054367423},{time:54.9525,note:"E2",pitch:82.50150891051366,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9974118404644798},{time:54.995199999809266,note:"E2",pitch:82.52279565917723,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9979826814143564},{time:55.02419999980926,note:"E2",pitch:82.50447651898118,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9977711396120554},{time:55.051699999809266,note:"E2",pitch:82.50273277704416,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971826175643201},{time:55.075199999809264,note:"E2",pitch:82.49660580641145,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9955119624363107},{time:55.09829999995232,note:"E2",pitch:82.54023585514045,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.998112836063882},{time:55.120899999856945,note:"E2",pitch:82.48464963878439,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.996311743979021},{time:55.143,note:"E2",pitch:82.55322100024753,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9976360795789105},{time:55.1665,note:"E2",pitch:82.51577167832647,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971609457407027},{time:55.188699999809266,note:"E2",pitch:82.46986793017389,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9958749967496203},{time:55.21059999990463,note:"E2",pitch:82.5528979387942,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9976922187897515},{time:55.23419999980926,note:"E2",pitch:82.48342464556019,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9957062370524881},{time:55.256399999856946,note:"E2",pitch:82.51277699251355,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9967687565406607},{time:55.27839999985695,note:"E2",pitch:82.5363491865707,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9977178718827275},{time:55.3015,note:"E2",pitch:82.4743812027817,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9960058930945479},{time:55.323799999952314,note:"E2",pitch:82.5341826189072,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9981285869087628},{time:55.34589999985695,note:"E2",pitch:82.46433706111108,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9963614451623641},{time:55.369099999904634,note:"E2",pitch:82.54548292863794,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9976914019960077},{time:55.39179999995232,note:"E2",pitch:82.51127558911628,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.99713235682934},{time:55.41379999995232,note:"E2",pitch:82.45465004923521,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9956687192183864},{time:55.437,note:"E2",pitch:82.53098334253333,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978033042119421},{time:55.45939999985695,note:"E2",pitch:82.45624333705724,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959631893977985},{time:55.4815,note:"E2",pitch:82.50206330162149,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9967692459335211},{time:55.50469999980926,note:"E2",pitch:82.51512391838986,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9973569388705243},{time:55.527,note:"E2",pitch:82.45630588977465,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9958443322031343},{time:55.549,note:"E2",pitch:82.54378028368548,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9975583951028995},{time:55.5725,note:"E2",pitch:82.45692918746586,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9962079790982443},{time:55.594699999809265,note:"E2",pitch:82.45456614368173,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9966189698753851},{time:55.61669999980926,note:"E2",pitch:82.55262375202506,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978805222560396},{time:55.64019999980926,note:"E2",pitch:82.46471088593621,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.995147424868918},{time:55.66339999985695,note:"E2",pitch:82.56752819472564,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978775406133309},{time:55.68529999995231,note:"E2",pitch:82.51015441827985,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9965170822907368},{time:55.708599999904635,note:"E2",pitch:82.46750676869569,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9957002973168869},{time:55.731099999904636,note:"E2",pitch:82.53493452531998,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9974102524494839},{time:55.75319999980927,note:"E2",pitch:82.47278182610242,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9956485301982383},{time:55.77639999985695,note:"E2",pitch:82.54653735930363,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9978939996735505},{time:55.799099999904634,note:"E2",pitch:82.49024995240319,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9958499915388046},{time:55.821299999952316,note:"E2",pitch:82.50938525595635,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9969736590690559},{time:55.845,note:"E2",pitch:82.58108770040371,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9978986687641225},{time:55.882199999809266,note:"E2",pitch:82.48109176193395,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9968277792086155},{time:55.91159999990463,note:"E2",pitch:82.55751723701407,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9967940722779502},{time:55.938699999809266,note:"E2",pitch:82.47300250734236,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9965394331114368},{time:55.961,note:"E2",pitch:82.59043311823125,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9977458815254607},{time:55.984699999809266,note:"E2",pitch:82.48332198987266,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9965258913960184},{time:56.0075,note:"E2",pitch:82.5357802086117,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9983790545303748},{time:56.030099999904635,note:"E2",pitch:82.53594169930274,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9958619382258007},{time:56.05389999985695,note:"E2",pitch:82.47336045947608,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970498773990784},{time:56.07659999990463,note:"E2",pitch:82.6205097060535,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9979067415850693},{time:56.09909999990463,note:"E2",pitch:82.46739425516918,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959805847894643},{time:56.12279999995231,note:"E2",pitch:82.57893741577732,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9980757236515245},{time:56.145299999952314,note:"E3",pitch:165.02613008658565,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9014186589573825},{time:56.16729999995231,note:"E3",pitch:164.98837042604544,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9068272482472288},{time:56.19079999995232,note:"E3",pitch:165.15611332339574,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.91290486901406},{time:56.21329999995232,note:"E3",pitch:165.20184304243253,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9149175264927898},{time:56.2355,note:"E3",pitch:164.73669858677457,noteMidi:52,actualMidi:51.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9134073478241724},{time:56.25889999985695,note:"E3",pitch:165.15332761157197,noteMidi:52,actualMidi:52.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9180713084409575},{time:56.28129999995232,note:"E3",pitch:164.40543149349085,noteMidi:52,actualMidi:51.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9068981097256845},{time:56.30339999985695,note:"E3",pitch:165.29037508196754,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.907419570306665},{time:56.327,note:"E3",pitch:165.26475245296757,noteMidi:52,actualMidi:52.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9059009438351886},{time:56.3495,note:"E2",pitch:82.54828834663118,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.997991411064973},{time:56.372,note:"E3",pitch:165.0080218810867,noteMidi:52,actualMidi:52.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9024920135086347},{time:56.39539999985695,note:"E2",pitch:82.4319055603247,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970599291099518},{time:56.418,note:"E2",pitch:82.64619575140097,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9979315253783625},{time:56.44009999990463,note:"E2",pitch:82.49274400505065,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9963272252347082},{time:56.46339999985695,note:"E2",pitch:82.58525898306044,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9970275524250951},{time:56.486,note:"E2",pitch:82.65633357464539,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9965830622521992},{time:56.508,note:"E2",pitch:82.51721282942069,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948604977767843},{time:56.53169999980926,note:"E2",pitch:82.65568142257462,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9942425804954524},{time:56.55409999990463,note:"E2",pitch:82.54842487642289,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9917641919751219},{time:56.57659999990463,note:"E2",pitch:82.59972713766373,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9946517335751395},{time:56.600099999904636,note:"E2",pitch:83.22337687998314,noteMidi:40,actualMidi:40.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.9778649357319154},{time:56.622699999809264,note:"E2",pitch:83.01830436230304,noteMidi:40,actualMidi:40.13,actualMidiChroma:4.130000000000003,centsOffset:13.000000000000256,clarity:.9520097771288789},{time:56.64479999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.66829999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.69069999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.71269999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.736299999952315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.7735,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:56.802099999904634,note:"F4",pitch:343.9892163821738,noteMidi:65,actualMidi:64.74,actualMidiChroma:4.739999999999995,centsOffset:-26.00000000000051,clarity:.7047990557248056},{time:56.82919999980926,note:"E2",pitch:83.52068513966194,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.7574987446279806},{time:56.85209999990463,note:"E2",pitch:83.05904795357816,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9947832344192875},{time:56.875799999952314,note:"E2",pitch:82.96108237491764,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.9987990417729122},{time:56.89839999985695,note:"E2",pitch:82.92220238223427,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9988090038622488},{time:56.92059999990463,note:"E2",pitch:82.87033236972574,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9985530263930968},{time:56.94409999990463,note:"E2",pitch:82.86605528295932,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.999013378975576},{time:56.966799999952315,note:"E2",pitch:82.86366129929512,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9988297123262839},{time:56.98939999985695,note:"E2",pitch:82.84925823453831,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.998901519784539},{time:57.01319999980927,note:"E2",pitch:82.83941644866994,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9987745932717473},{time:57.03629999995232,note:"E2",pitch:82.83734175927182,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.998845611582226},{time:57.05879999995231,note:"E2",pitch:82.82565763451883,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9993142767142729},{time:57.082799999952314,note:"E2",pitch:82.81836179793618,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9991189386977339},{time:57.10579999995232,note:"E2",pitch:82.80421836796125,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9992413398258435},{time:57.128099999904634,note:"E2",pitch:82.78530986016985,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9992586203021574},{time:57.15179999995232,note:"E2",pitch:82.77427154945666,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9993126466991953},{time:57.17429999995232,note:"E2",pitch:82.76862509291864,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9995502737475874},{time:57.196899999856946,note:"E2",pitch:82.76182545340178,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9991111891572189},{time:57.22069999980926,note:"E2",pitch:82.76208072260854,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9995098089274563},{time:57.2435,note:"E2",pitch:82.75464104737044,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9995729335300609},{time:57.266,note:"E2",pitch:82.75364703886787,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9994502937702521},{time:57.28929999995232,note:"E2",pitch:82.7417435402428,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9996168571742601},{time:57.31189999985695,note:"E2",pitch:82.74417757422779,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9995363148776732},{time:57.33409999990463,note:"E2",pitch:82.73631320488353,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9996459509779925},{time:57.35739999985695,note:"E2",pitch:82.71918769191089,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9994945236371962},{time:57.38009999990463,note:"E2",pitch:82.72871761637138,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9994354094076954},{time:57.4025,note:"E2",pitch:82.71813838856735,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9996872216731134},{time:57.426,note:"E2",pitch:82.70480210986015,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9993841358051725},{time:57.44909999990463,note:"E2",pitch:82.70274422270289,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997357682179882},{time:57.471299999952315,note:"E2",pitch:82.68716723900916,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997297232399234},{time:57.49479999995231,note:"E2",pitch:82.69775314238609,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9996231840955119},{time:57.5175,note:"E2",pitch:82.68625650944496,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997559854158595},{time:57.54019999980927,note:"E2",pitch:82.68624271662438,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9996961335740906},{time:57.563799999952316,note:"E2",pitch:82.69830112438727,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9997133879358273},{time:57.58639999985695,note:"E2",pitch:82.67574087932898,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9995761597206467},{time:57.6085,note:"E2",pitch:82.67777577871819,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9994087318691669},{time:57.632299999952316,note:"E2",pitch:82.66463043665767,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997162407466931},{time:57.66979999995232,note:"E2",pitch:82.6810056716948,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.999579855100734},{time:57.70039999985695,note:"E2",pitch:82.66864549873699,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997201971745113},{time:57.7285,note:"E2",pitch:82.68170288514999,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9996153885771122},{time:57.75259999990463,note:"E2",pitch:82.64458831740836,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9997630882529762},{time:57.77509999990463,note:"E2",pitch:82.66246303841719,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9996149307464606},{time:57.79779999995232,note:"E2",pitch:82.65560436212067,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998044031749487},{time:57.821,note:"E2",pitch:82.63587031429356,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9996053179764175},{time:57.8435,note:"E2",pitch:82.65235420826045,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.99972226875974},{time:57.865799999952316,note:"E2",pitch:82.61003909086374,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997429005182852},{time:57.8895,note:"E2",pitch:82.65213089949758,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9993731477544401},{time:57.91209999990463,note:"E2",pitch:82.61730228576693,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998518427461391},{time:57.9345,note:"E2",pitch:82.62020635044388,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995713440941927},{time:57.95789999985695,note:"E2",pitch:82.64634686025619,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9995209681435284},{time:57.98069999980927,note:"E2",pitch:82.59915880163413,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997148950837556},{time:58.00359999990463,note:"E2",pitch:82.63515142649767,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9994397666731203},{time:58.02739999985695,note:"E2",pitch:82.6192709449479,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997925424987244},{time:58.05039999985695,note:"E2",pitch:82.6164709588491,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995185149644925},{time:58.07319999980926,note:"E2",pitch:82.6364481138381,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9996338499222048},{time:58.097,note:"E2",pitch:82.58536509737198,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999750413162019},{time:58.119699999809264,note:"E2",pitch:82.64789954472701,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.999340602085951},{time:58.142299999952314,note:"E2",pitch:82.61360439067302,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997303426975037},{time:58.16569999980926,note:"E2",pitch:82.60595825098294,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9989734648477082},{time:58.188299999952314,note:"E2",pitch:82.6666595436078,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.998837367491717},{time:58.210799999952314,note:"E2",pitch:82.58803486676557,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994697511964006},{time:58.23429999995231,note:"E2",pitch:82.63898247668443,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.998667553264383},{time:58.25769999980926,note:"E2",pitch:82.628810272115,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9994348134246422},{time:58.28019999980926,note:"E2",pitch:82.59871913291164,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9989618122412622},{time:58.30419999980926,note:"E2",pitch:82.63320241759968,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9991179923337654},{time:58.327,note:"E2",pitch:82.56690974041916,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9995035824990026},{time:58.34969999980927,note:"E2",pitch:82.64199670988626,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9987985102893617},{time:58.373299999952316,note:"E2",pitch:82.59744057404322,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994286711698948},{time:58.3965,note:"E2",pitch:82.5726459070439,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9992470654726446},{time:58.419,note:"E2",pitch:82.64354455602805,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9989871680311637},{time:58.44289999985695,note:"E2",pitch:82.57219785978909,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9991331572007169},{time:58.466099999904635,note:"E2",pitch:82.63627620875012,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9988479304685569},{time:58.48889999985695,note:"E2",pitch:82.62530547369508,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9988867074005015},{time:58.512799999952314,note:"E2",pitch:82.58008684073764,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.998213357290922},{time:58.5505,note:"E2",pitch:82.54305320751538,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9987394446346087},{time:58.5815,note:"E2",pitch:82.65823847297372,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9975880012170677},{time:58.608599999904634,note:"E2",pitch:82.55987512482989,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9982990619125331},{time:58.632199999809266,note:"E2",pitch:82.63227718879854,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9972135665664865},{time:58.65489999985695,note:"E2",pitch:82.61658404507095,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.997071983976781},{time:58.67789999985695,note:"E2",pitch:82.5527828672699,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9974206408242736},{time:58.7015,note:"E2",pitch:82.61200019699949,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9969386736828483},{time:58.72439999985695,note:"E2",pitch:82.51877131340292,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9970101258750077},{time:58.747099999904634,note:"E2",pitch:82.57002658791225,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9956233927801748},{time:58.77079999995232,note:"E2",pitch:82.63077154655622,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9957043451754544},{time:58.79389999985695,note:"E2",pitch:82.55574787670024,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9948644475525015},{time:58.817099999904634,note:"E2",pitch:82.66972326838055,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9936526246138015},{time:58.84059999990463,note:"E2",pitch:82.54170913860622,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9953899675947611},{time:58.86379999995231,note:"E2",pitch:82.59334285698961,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9937939151985233},{time:58.88719999980926,note:"E2",pitch:82.65844171520403,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9921150534264882},{time:58.91059999990463,note:"E2",pitch:82.48531332886428,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9953166152583037},{time:58.93409999990463,note:"E2",pitch:82.59861904639843,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9930983067497863},{time:58.95729999995232,note:"E2",pitch:82.50350381589432,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9934194023969241},{time:58.98089999985695,note:"E2",pitch:82.65926045330465,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9843161580812563},{time:59.004599999904634,note:"E2",pitch:82.69907051554905,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9843660066820803},{time:59.02829999995232,note:"E2",pitch:83.13374425845664,noteMidi:40,actualMidi:40.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.9162248386831493},{time:59.051699999809266,note:"E2",pitch:83.56332254086612,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.7204481108360881},{time:59.075199999809264,note:"E2",pitch:84.00873558992173,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.7908633633067126},{time:59.0985,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.12189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.145,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.16789999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.191,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.21419999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.23729999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.26079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.28419999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.3075,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.331,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.35409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.37819999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.41609999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:59.446299999952316,note:"Eb3",pitch:159.76647693534275,noteMidi:51,actualMidi:51.46,actualMidiChroma:3.460000000000001,centsOffset:46.000000000000085,clarity:.30216439008276597},{time:59.474,note:"E2",pitch:82.50058046219291,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.915682376403467},{time:59.49719999980927,note:"E2",pitch:82.64421464277889,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9937526540895618},{time:59.5205,note:"E2",pitch:82.56313241957349,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9970504622888967},{time:59.54379999995231,note:"E2",pitch:82.59286942725134,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9961000861776199},{time:59.56729999995232,note:"E2",pitch:82.6034679433255,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9941790609346839},{time:59.5905,note:"E2",pitch:82.5850902889132,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9975664826638138},{time:59.61409999990463,note:"E2",pitch:82.58517462168669,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.994091506222361},{time:59.63759999990463,note:"E2",pitch:82.56911441791688,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9955224210613522},{time:59.66129999995232,note:"E2",pitch:82.59353348782707,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9953388530474854},{time:59.68469999980927,note:"E2",pitch:82.56775854148623,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9927969952966009},{time:59.70829999995232,note:"E2",pitch:82.58144966254606,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9965422195893581},{time:59.731699999809265,note:"E2",pitch:82.59333422155919,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9940606402043812},{time:59.755199999809264,note:"E2",pitch:82.54904544082734,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9962782496029519},{time:59.778599999904635,note:"E2",pitch:82.56873402411169,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9953647720360834},{time:59.802,note:"E2",pitch:82.6053537974305,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9956037389943049},{time:59.82559999990463,note:"E2",pitch:82.56098994174928,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9958343847960833},{time:59.849199999809265,note:"E2",pitch:82.59352314445562,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9932739010162237},{time:59.8725,note:"E2",pitch:82.55640622934999,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9968369275043898},{time:59.89619999980926,note:"E2",pitch:82.54308362044283,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9949303597956884},{time:59.9195,note:"E2",pitch:82.58223294188524,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9969907762692571},{time:59.943,note:"E2",pitch:82.5872059405624,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9898207227551978},{time:59.96659999990463,note:"E2",pitch:82.56459523447178,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9781928117876078},{time:59.99029999995231,note:"E2",pitch:82.55721331665575,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9947784890862295},{time:60.014,note:"E2",pitch:82.62130968190009,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9770242866449053},{time:60.03809999990463,note:"E2",pitch:82.65071530524412,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9705279728728158},{time:60.062,note:"E2",pitch:82.57762998560327,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.993648857298183},{time:60.08589999985695,note:"E2",pitch:82.56474997682706,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9919876253469511},{time:60.109799999952315,note:"E2",pitch:82.74923521623238,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.970347270658479},{time:60.1335,note:"E2",pitch:84.09205415887133,noteMidi:40,actualMidi:40.35,actualMidiChroma:4.350000000000001,centsOffset:35.00000000000014,clarity:.7695245978562042},{time:60.15709999990463,note:"C1",pitch:32.3470884275573,noteMidi:24,actualMidi:23.81,actualMidiChroma:11.809999999999999,centsOffset:-19.000000000000128,clarity:.2790133261763117},{time:60.181,note:"E2",pitch:82.76497512689484,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.7580361046046846},{time:60.20459999990463,note:"E2",pitch:82.76032063440769,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9462087074941223},{time:60.22789999985695,note:"E2",pitch:82.70042077385048,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9927524790720383},{time:60.2525,note:"E2",pitch:82.60135150293455,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9941140756635178},{time:60.28989999985695,note:"E2",pitch:82.56538018627792,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9935919621543547},{time:60.31939999985695,note:"E2",pitch:82.61328442942548,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.991768154787124},{time:60.3475,note:"E2",pitch:82.56577182063133,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9924111861290328},{time:60.371,note:"E2",pitch:82.61265440052226,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9913940246936903},{time:60.39429999995232,note:"E2",pitch:82.61703893691467,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9849766633421666},{time:60.417799999952315,note:"E2",pitch:82.53206710134543,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9941600436794573},{time:60.44139999985695,note:"E2",pitch:82.60276889138974,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9900310612863308},{time:60.46509999990463,note:"E2",pitch:82.52705691002568,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9929875942755615},{time:60.489,note:"E2",pitch:82.56150008366117,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9948062819234025},{time:60.51229999995232,note:"E2",pitch:82.5399327234328,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9902908456362098},{time:60.536099999904636,note:"E2",pitch:82.54119962506465,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9950936287181804},{time:60.55939999985695,note:"E2",pitch:82.58188782128221,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9926852141685316},{time:60.58339999985695,note:"E2",pitch:82.50575308306247,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9952316674278734},{time:60.607,note:"E2",pitch:82.56745558852062,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9934641881864934},{time:60.63059999990463,note:"E2",pitch:83.05630788250136,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9355199647258274},{time:60.654199999809265,note:"F2",pitch:84.95586245018873,noteMidi:41,actualMidi:40.53,actualMidiChroma:4.530000000000001,centsOffset:-46.999999999999886,clarity:.6873081327358648},{time:60.67809999990463,note:"Bb0",pitch:29.83809604643441,noteMidi:22,actualMidi:22.41,actualMidiChroma:10.41,centsOffset:41.000000000000014,clarity:.6416665659839396},{time:60.701699999809264,note:"E2",pitch:82.78488229293471,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.8821270102615415},{time:60.72559999990463,note:"E2",pitch:82.62638835494137,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9730407413646702},{time:60.749199999809264,note:"E2",pitch:82.74555256524268,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9722261928287992},{time:60.77309999990463,note:"E2",pitch:82.58319862583032,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9861575084956087},{time:60.79689999985695,note:"E2",pitch:82.63891319584654,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9852224922278765},{time:60.820699999809264,note:"E2",pitch:82.56783531604668,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9840279193157642},{time:60.84439999985695,note:"E2",pitch:82.57264309933153,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9874159220452725},{time:60.86809999990463,note:"E2",pitch:82.60774511508772,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9818010271211932},{time:60.89179999995232,note:"E2",pitch:82.61202148759259,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9853035868557498},{time:60.91569999980926,note:"E2",pitch:82.65105834565094,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9801795199388152},{time:60.9395,note:"E2",pitch:82.58001096878208,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.983978521510636},{time:60.96339999985695,note:"E2",pitch:82.60284203092137,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9852446864252329},{time:60.9875,note:"E2",pitch:82.61480313936408,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9826823716645663},{time:61.012099999904635,note:"E2",pitch:82.58381615490578,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9889337138892955},{time:61.036099999904636,note:"E2",pitch:82.72045153936646,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9581447693711738},{time:61.0605,note:"E2",pitch:82.3443799130625,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.5490324904361046},{time:61.08439999985695,note:"F2",pitch:85.24792682751833,noteMidi:41,actualMidi:40.59,actualMidiChroma:4.590000000000003,centsOffset:-40.99999999999966,clarity:.40627094712837675},{time:61.108599999904634,note:"E2",pitch:82.34197340279378,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9041153105901856},{time:61.132199999809266,note:"E2",pitch:82.68784041266224,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9896371337343055},{time:61.15609999990463,note:"E2",pitch:82.58965867681559,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9883734382030127},{time:61.17989999985695,note:"E2",pitch:82.60404400446727,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9917536620705079},{time:61.21839999985695,note:"E2",pitch:82.54098444442926,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9902327104067865},{time:61.2485,note:"E2",pitch:82.63562691356267,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.991211580580611},{time:61.277099999904635,note:"E2",pitch:82.57581463628935,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9927287404184426},{time:61.30139999985695,note:"E2",pitch:82.66375150026592,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9927630494456992},{time:61.325,note:"E2",pitch:82.62164752279617,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9902478828144723},{time:61.3485,note:"E2",pitch:82.62766914287617,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9957883046569549},{time:61.37229999995232,note:"E2",pitch:82.61646764557801,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9933994426638577},{time:61.39569999980927,note:"E2",pitch:82.7084052188416,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9933663790272504},{time:61.41969999980927,note:"E2",pitch:84.6179394946251,noteMidi:40,actualMidi:40.46,actualMidiChroma:4.460000000000001,centsOffset:46.000000000000085,clarity:.8304130766831435},{time:61.443299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.46719999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.49089999985695,note:"E2",pitch:83.97916174240441,noteMidi:40,actualMidi:40.33,actualMidiChroma:4.329999999999998,centsOffset:32.99999999999983,clarity:.7370726933826859},{time:61.51489999985695,note:"E2",pitch:83.85671786121331,noteMidi:40,actualMidi:40.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.9504760479222796},{time:61.53869999980927,note:"E2",pitch:83.83406065578536,noteMidi:40,actualMidi:40.3,actualMidiChroma:4.299999999999997,centsOffset:29.999999999999716,clarity:.953754958029208},{time:61.56269999980927,note:"E2",pitch:83.7422621335407,noteMidi:40,actualMidi:40.28,actualMidiChroma:4.280000000000001,centsOffset:28.000000000000114,clarity:.9596897225594034},{time:61.58629999995232,note:"E2",pitch:83.64721228875798,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9586383791637445},{time:61.61019999980927,note:"E2",pitch:83.61587906160005,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9640589430970863},{time:61.63389999985695,note:"E2",pitch:83.46619208173347,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9631812471329795},{time:61.6585,note:"E2",pitch:83.57840699431463,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9573055590300896},{time:61.682,note:"E2",pitch:83.51329362945097,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9672869217988307},{time:61.7065,note:"E2",pitch:83.50565058965606,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9635454052832699},{time:61.730299999952315,note:"E2",pitch:83.56231163566136,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.965269529469623},{time:61.755199999809264,note:"E2",pitch:83.56183128167613,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.957490765119303},{time:61.77869999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.803299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.8265,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:61.85109999990463,note:"E2",pitch:83.65479258228008,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.8624105879377453},{time:61.874699999809266,note:"E2",pitch:83.58549660390747,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9670941269196476},{time:61.899399999856946,note:"E2",pitch:83.69678601233092,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.961036497043068},{time:61.923,note:"E2",pitch:83.47296405902145,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9693760111181291},{time:61.94769999980927,note:"E2",pitch:83.18539767900187,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.974624039622384},{time:61.9715,note:"E2",pitch:83.08421156757795,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9762086691020784},{time:61.996699999809266,note:"E2",pitch:82.88019705611202,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9817875974645176},{time:62.02159999990463,note:"E2",pitch:82.80563111167771,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9855343870184896},{time:62.0465,note:"E2",pitch:82.63451156817389,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9916522924081903},{time:62.07089999985695,note:"E2",pitch:82.58621256433244,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9946213282277938},{time:62.095599999904636,note:"E2",pitch:82.50477842121624,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9974406399010007},{time:62.13579999995232,note:"E2",pitch:82.49663381258377,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9978149648946157},{time:62.16539999985695,note:"E2",pitch:82.46119876876955,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9987549952132184},{time:62.19459999990463,note:"E2",pitch:82.90169306621011,noteMidi:40,actualMidi:40.1,actualMidiChroma:4.100000000000001,centsOffset:10.000000000000142,clarity:.9916145803997409},{time:62.218,note:"E2",pitch:84.57786527147223,noteMidi:40,actualMidi:40.45,actualMidiChroma:4.450000000000003,centsOffset:45.000000000000284,clarity:.9425558132396645},{time:62.242299999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.2665,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.29179999995232,note:"E2",pitch:83.53495805488615,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.6252527246159616},{time:62.31569999980927,note:"E2",pitch:83.49008640165191,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.881286514522742},{time:62.34059999990463,note:"E2",pitch:83.58715922892179,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.9488106618366032},{time:62.36439999985695,note:"E2",pitch:83.57370917062302,noteMidi:40,actualMidi:40.24,actualMidiChroma:4.240000000000002,centsOffset:24.0000000000002,clarity:.9352082467793821},{time:62.3895,note:"E2",pitch:83.72001790869332,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9545932024700505},{time:62.414099999904636,note:"E2",pitch:83.63971045688079,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.9480526995916989},{time:62.43859999990463,note:"E2",pitch:83.70195724246774,noteMidi:40,actualMidi:40.27,actualMidiChroma:4.270000000000003,centsOffset:27.000000000000313,clarity:.9596117935362827},{time:62.46319999980926,note:"E2",pitch:83.48877096493456,noteMidi:40,actualMidi:40.23,actualMidiChroma:4.229999999999997,centsOffset:22.999999999999687,clarity:.9603594318110993},{time:62.48759999990463,note:"E2",pitch:83.47741164271902,noteMidi:40,actualMidi:40.22,actualMidiChroma:4.219999999999999,centsOffset:21.999999999999886,clarity:.9592164345354206},{time:62.511799999952316,note:"E2",pitch:83.24667692804123,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9701889396260128},{time:62.537,note:"E2",pitch:83.24854985034067,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9671390224464318},{time:62.561,note:"E2",pitch:83.08133401539429,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.9777829166385601},{time:62.58489999985695,note:"E2",pitch:82.93162590884522,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9811259451277436},{time:62.61,note:"E2",pitch:82.93767050234825,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9829474755050143},{time:62.63419999980926,note:"E2",pitch:82.8205112473183,noteMidi:40,actualMidi:40.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.9855447373150952},{time:62.65889999985695,note:"E2",pitch:84.2234204223355,noteMidi:40,actualMidi:40.38,actualMidiChroma:4.380000000000003,centsOffset:38.000000000000256,clarity:.9281076157176358},{time:62.682799999952316,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.70689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.7315,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:62.756,note:"E3",pitch:163.0949614196495,noteMidi:52,actualMidi:51.82,actualMidiChroma:3.8200000000000003,centsOffset:-17.99999999999997,clarity:.8166110012083934},{time:62.78119999980927,note:"E3",pitch:165.53795352416245,noteMidi:52,actualMidi:52.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.9353063620431215},{time:62.80539999985695,note:"E3",pitch:164.86130973502077,noteMidi:52,actualMidi:52,actualMidiChroma:4,centsOffset:0,clarity:.925689698676539},{time:62.82919999980926,note:"E3",pitch:164.89138449322215,noteMidi:52,actualMidi:52.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9126251257574687},{time:62.85409999990463,note:"E3",pitch:165.64381455904788,noteMidi:52,actualMidi:52.09,actualMidiChroma:4.090000000000003,centsOffset:9.000000000000341,clarity:.8855159055395525},{time:62.878399999856946,note:"E2",pitch:82.64460625253605,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.994103376870882},{time:62.9035,note:"E2",pitch:82.46060861946985,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9939665319015631},{time:62.928,note:"E2",pitch:82.56159597011268,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9944059510753078},{time:62.952,note:"E2",pitch:82.61556264370284,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9965375709646906},{time:62.97689999985695,note:"E2",pitch:82.63363072125686,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9942007314710679},{time:63.00169999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:63.02739999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:63.067799999952314,note:"C4",pitch:266.22214732232726,noteMidi:60,actualMidi:60.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.3558298091020813},{time:63.09839999985695,note:"E2",pitch:82.80712824560713,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.7653124590933373},{time:63.12909999990463,note:"E2",pitch:82.64988866597557,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9953124933102941},{time:63.154,note:"E2",pitch:82.5764030864101,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9955305450505563},{time:63.179,note:"E2",pitch:82.62946105532791,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9940254182297252},{time:63.20309999990463,note:"E2",pitch:82.60191447324557,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9954281732836847},{time:63.22709999990463,note:"E2",pitch:82.61750322881585,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.994199127268999},{time:63.252199999809264,note:"E2",pitch:82.57035848716353,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9930220421325942},{time:63.27679999995232,note:"E2",pitch:82.54897467990062,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9959616469394632},{time:63.302,note:"E2",pitch:82.60832303548092,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9911641757576604},{time:63.32659999990463,note:"E2",pitch:82.5286716744456,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9934223031089573},{time:63.350799999952315,note:"E2",pitch:82.65467940461576,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9883739446279378},{time:63.375699999809264,note:"E2",pitch:82.53714023402665,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9935071102686521},{time:63.40029999995232,note:"E2",pitch:82.64245417504142,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9818787177250812},{time:63.4255,note:"E2",pitch:82.53616916863434,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9763707590081054},{time:63.44969999980926,note:"E2",pitch:82.6456898322779,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9848072900407345},{time:63.47369999980926,note:"E2",pitch:82.73493767836429,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9634191039152995},{time:63.49879999995232,note:"E2",pitch:82.58614528337907,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.987445668849432},{time:63.52339999985695,note:"E2",pitch:82.66203357109669,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9913671728359503},{time:63.54829999995231,note:"E2",pitch:82.59037095140197,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9944210648774288},{time:63.57259999990463,note:"E2",pitch:82.64187204890042,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9977283388693223},{time:63.5965,note:"E2",pitch:82.65362842017407,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9969912285316838},{time:63.620899999856945,note:"E2",pitch:82.6110188646513,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9991056574295101},{time:63.64589999985695,note:"E2",pitch:82.61769458480626,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9991739194870206},{time:63.671099999904634,note:"E2",pitch:82.57711404245822,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995216501015562},{time:63.69519999980926,note:"E2",pitch:82.59581020482784,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9993945762160195},{time:63.719099999904635,note:"E2",pitch:82.6013385528476,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996052023643216},{time:63.744,note:"E2",pitch:82.61300253809243,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994376064861257},{time:63.768399999856946,note:"E2",pitch:82.6251980371578,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9992840644350309},{time:63.79369999980926,note:"E2",pitch:82.59402453772884,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995646577075092},{time:63.81809999990463,note:"E2",pitch:82.62672120690675,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9993182820557678},{time:63.84219999980927,note:"E2",pitch:82.58398865277476,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9994953368524335},{time:63.8675,note:"E2",pitch:82.59399622445923,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995566110731318},{time:63.892199999809264,note:"E2",pitch:82.5951893179298,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9993354990554195},{time:63.91729999995231,note:"E2",pitch:82.59943183476192,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996032545798954},{time:63.94159999990463,note:"E2",pitch:82.59586384963265,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995000447552513},{time:63.966099999904635,note:"E2",pitch:82.60262676270236,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995390076780666},{time:64.01059999990463,note:"E2",pitch:82.58415895446129,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995154196084144},{time:64.04129999995232,note:"E2",pitch:82.61301333776116,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9995390736326897},{time:64.07229999995232,note:"E2",pitch:82.59790097772004,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996311318631115},{time:64.09789999985695,note:"E2",pitch:82.59632658638468,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997150360644298},{time:64.12309999990464,note:"E2",pitch:82.60245144590151,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996387587801365},{time:64.14759999990463,note:"E2",pitch:82.59371095843179,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999766944856546},{time:64.17189999985695,note:"E2",pitch:82.59818908808447,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.99943208086151},{time:64.197,note:"E2",pitch:82.59546583503634,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999792006764892},{time:64.22179999995231,note:"E2",pitch:82.60248050885893,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996850320646189},{time:64.247,note:"E2",pitch:82.56913842119403,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997776168765427},{time:64.27159999990464,note:"E2",pitch:82.60269863730078,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998079556529262},{time:64.29589999985694,note:"E2",pitch:82.61797757861585,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998091438072549},{time:64.32159999990463,note:"E2",pitch:82.5830182572338,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998950855934936},{time:64.34659999990463,note:"E2",pitch:82.59214402533229,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999880027722611},{time:64.372,note:"E2",pitch:82.57612207556642,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9999132923820184},{time:64.39669999980927,note:"E2",pitch:82.56217234647308,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998743846425668},{time:64.42119999980926,note:"E2",pitch:82.58299141893211,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998680975121772},{time:64.44639999985695,note:"E2",pitch:82.57828678226916,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998280461645095},{time:64.47139999985694,note:"E2",pitch:82.58675727150981,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998411099663684},{time:64.497,note:"E2",pitch:82.60239432324066,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998877596899547},{time:64.52169999980927,note:"E2",pitch:82.5996077718564,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998367934552164},{time:64.54609999990463,note:"E2",pitch:82.58285054001172,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999879510808114},{time:64.57139999985695,note:"E2",pitch:82.58772707079255,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998821616266866},{time:64.5965,note:"E2",pitch:82.6059129014951,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999872274006151},{time:64.62179999995232,note:"E2",pitch:82.59808112420797,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998949227257441},{time:64.64639999985695,note:"E2",pitch:82.62846101671634,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998815051952761},{time:64.671,note:"E2",pitch:82.58955314814501,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997599016782175},{time:64.69679999995232,note:"E2",pitch:82.5961711268845,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996546487651301},{time:64.72159999990463,note:"E2",pitch:82.60610709665607,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998789683325953},{time:64.74709999990463,note:"E2",pitch:82.59325140805825,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.999855853950578},{time:64.77189999985696,note:"E2",pitch:82.59748242151669,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998786975322389},{time:64.79659999990463,note:"E2",pitch:82.60377166648443,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998789978728979},{time:64.83809999990463,note:"E2",pitch:82.62597288824932,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.999881841555947},{time:64.86879999995232,note:"E2",pitch:82.60933710422901,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998675470864669},{time:64.89869999980927,note:"E2",pitch:82.60606940758454,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998307952245256},{time:64.92389999985694,note:"E2",pitch:82.6041942994518,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997014330326124},{time:64.94939999985695,note:"E2",pitch:82.60814618109853,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998721017196459},{time:64.97439999985694,note:"E2",pitch:82.60437206289315,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998495442473256},{time:64.99909999990463,note:"E2",pitch:82.61248567394628,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998498593882204},{time:65.02519999980926,note:"E2",pitch:82.63402046975172,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9998796340805143},{time:65.05059999990463,note:"E2",pitch:82.6340046814268,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.999837658877027},{time:65.07659999990463,note:"E2",pitch:82.61315863422473,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998642133613203},{time:65.10169999980927,note:"E2",pitch:82.6189238441658,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998622206803702},{time:65.1265,note:"E2",pitch:82.61570985639598,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998103421500559},{time:65.15189999985695,note:"E2",pitch:82.60131006278812,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9996054118255984},{time:65.17729999995231,note:"E2",pitch:82.61481185240264,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998170505608641},{time:65.20259999990463,note:"E2",pitch:82.61158852747965,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997565759335316},{time:65.22719999980926,note:"E2",pitch:82.59378137527266,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9997365470214561},{time:65.25189999985695,note:"E2",pitch:82.56926279116043,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9998422105552152},{time:65.27769999980927,note:"E2",pitch:82.5666674678763,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997675689401149},{time:65.303,note:"E2",pitch:82.58054611356455,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998490458309703},{time:65.3285,note:"E2",pitch:82.58673113899394,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9998363359502775},{time:65.35319999980926,note:"E2",pitch:82.56875703885129,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.999772442757461},{time:65.37769999980927,note:"E2",pitch:82.57018417243432,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997559253259283},{time:65.40309999990463,note:"E2",pitch:82.57181963681687,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9997355761508118},{time:65.42829999995232,note:"E2",pitch:82.92078115044785,noteMidi:40,actualMidi:40.11,actualMidiChroma:4.109999999999999,centsOffset:10.999999999999943,clarity:.9917559139360463},{time:65.45379999995231,note:"E2",pitch:84.39007798507006,noteMidi:40,actualMidi:40.41,actualMidiChroma:4.409999999999997,centsOffset:40.99999999999966,clarity:.7800887321767789},{time:65.47879999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:65.5035,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:65.529,note:"E3",pitch:166.2599770177619,noteMidi:52,actualMidi:52.15,actualMidiChroma:4.149999999999999,centsOffset:14.999999999999858,clarity:.46910930482043867},{time:65.554,note:"E2",pitch:82.97696446957578,noteMidi:40,actualMidi:40.12,actualMidiChroma:4.119999999999997,centsOffset:11.999999999999744,clarity:.882074812115988},{time:65.57989999985695,note:"E2",pitch:82.70934910674502,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9939922649221415},{time:65.60559999990463,note:"E2",pitch:82.67143305307015,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9952704617573289},{time:65.64629999995232,note:"E2",pitch:82.64382752862126,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9925483867862681},{time:65.67659999990464,note:"E2",pitch:82.67975524383762,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9952189370005158},{time:65.70539999985695,note:"E2",pitch:82.58853892845194,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9938156712386359},{time:65.73029999995232,note:"E2",pitch:82.71893410494218,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9947315855242778},{time:65.75569999980927,note:"E2",pitch:82.72963215039712,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9908536702456701},{time:65.781,note:"E2",pitch:82.65114039311824,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.994155117263233},{time:65.80569999980926,note:"E2",pitch:82.70474945036966,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9921012891369827},{time:65.83139999985696,note:"E2",pitch:82.54662543051093,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9951269903818201},{time:65.85639999985695,note:"E2",pitch:82.68723302820753,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9936038182509748},{time:65.88239999985694,note:"E2",pitch:82.57402487713308,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9940482204059435},{time:65.908,note:"E2",pitch:82.68526425125776,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9942144865094917},{time:65.93329999995231,note:"E2",pitch:82.5551125658335,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9924651619092657},{time:65.9595,note:"E2",pitch:82.67403088452069,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9942784362581278},{time:65.98579999995232,note:"E2",pitch:82.62389045279247,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9925178762751017},{time:66.0115,note:"E2",pitch:82.58675935427576,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9946529026843081},{time:66.03759999990463,note:"E2",pitch:82.73685218401933,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.9916449450317657},{time:66.06359999990464,note:"E2",pitch:82.51036188353473,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948233809209626},{time:66.08929999995232,note:"E2",pitch:82.66188832821008,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9909362425060522},{time:66.11539999985695,note:"E2",pitch:82.50307414334411,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9948450090820131},{time:66.14119999980926,note:"E2",pitch:82.64478074396791,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9932600572346502},{time:66.16629999995232,note:"E2",pitch:82.54615733112975,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9928965394168756},{time:66.192,note:"E2",pitch:82.60425577635662,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9945779791111704},{time:66.21789999985695,note:"E2",pitch:82.61129482629457,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9926176842309218},{time:66.24359999990463,note:"E2",pitch:82.50922551546762,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9958320988825449},{time:66.26969999980926,note:"E2",pitch:82.54648391559276,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9904496150112863},{time:66.296,note:"E2",pitch:82.4615545114306,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9955338416959165},{time:66.3215,note:"E2",pitch:82.59143928950965,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9912879461409005},{time:66.34739999985695,note:"E2",pitch:82.40395963319544,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952387395971982},{time:66.37359999990463,note:"E2",pitch:82.55288476858524,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.992670619428651},{time:66.39939999985695,note:"E2",pitch:82.39981635148048,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9958421135090845},{time:66.42489999985695,note:"E2",pitch:82.51854049348066,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9928263110345483},{time:66.45089999985694,note:"E2",pitch:82.43507450429837,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.993957174026022},{time:66.47669999980927,note:"E2",pitch:82.45454305977184,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9943575455961735},{time:66.50189999985695,note:"E2",pitch:82.47709848471015,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9923574063339231},{time:66.54359999990463,note:"E2",pitch:82.50860418590025,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9909922571998209},{time:66.57429999995232,note:"E2",pitch:82.39277627202924,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9929542004961434},{time:66.6045,note:"E2",pitch:83.64536303966408,noteMidi:40,actualMidi:40.26,actualMidiChroma:4.259999999999998,centsOffset:25.9999999999998,clarity:.8094396093705498},{time:66.63,note:"F2",pitch:85.34469152079589,noteMidi:41,actualMidi:40.61,actualMidiChroma:4.609999999999999,centsOffset:-39.00000000000006,clarity:.7777695455972307},{time:66.65459999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:66.68009999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:66.70559999990463,note:"E3",pitch:166.47004811400447,noteMidi:52,actualMidi:52.17,actualMidiChroma:4.170000000000002,centsOffset:17.00000000000017,clarity:.3156980830503784},{time:66.73059999990463,note:"E2",pitch:82.45995166905954,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9102326722524907},{time:66.7565,note:"E2",pitch:82.5624764129636,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9936215746311632},{time:66.78219999980927,note:"E2",pitch:82.44493779399481,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9991418593193515},{time:66.80719999980927,note:"E2",pitch:82.48644484607864,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9985762939884779},{time:66.83369999980927,note:"E2",pitch:82.46341589214246,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9982505731010747},{time:66.85979999995232,note:"E2",pitch:82.50534575436211,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9984256529439364},{time:66.88559999990463,note:"E2",pitch:82.45287332250777,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9970806186010464},{time:66.91079999995232,note:"E2",pitch:82.5004252206262,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9984336191640324},{time:66.9365,note:"E2",pitch:82.50023437566584,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971266342588763},{time:66.96229999995232,note:"E2",pitch:82.44465737245602,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9984749668312247},{time:66.98759999990463,note:"E2",pitch:82.53801575061375,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.9965118824809878},{time:67.0145,note:"E2",pitch:82.40353054772731,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9980857969557348},{time:67.04,note:"E2",pitch:82.49608325529462,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9954637003707774},{time:67.06509999990463,note:"E2",pitch:82.41877801438677,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9967787718891117},{time:67.0925,note:"E2",pitch:82.51147914628788,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9971785841324419},{time:67.11839999985695,note:"E2",pitch:82.46040838389926,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9961250634298153},{time:67.14419999980926,note:"E2",pitch:82.50057951344645,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9973413892394234},{time:67.16909999990463,note:"E2",pitch:82.39760093678892,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9971237185182957},{time:67.19569999980926,note:"E2",pitch:82.43037571733419,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9981421178349024},{time:67.2215,note:"E2",pitch:82.45631669142293,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9951691846660253},{time:67.24719999980927,note:"E2",pitch:82.36565137790522,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9975802694185063},{time:67.27219999980926,note:"E2",pitch:82.51958262000632,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9945926932366689},{time:67.29869999980926,note:"E2",pitch:82.32509321820429,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9967354722994486},{time:67.32539999985696,note:"E2",pitch:82.47060097806876,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9962938374637247},{time:67.367,note:"E2",pitch:82.31956736541261,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975601331315005},{time:67.39859999990463,note:"E2",pitch:82.38636617746283,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.993887796696896},{time:67.429,note:"E2",pitch:82.38852268321054,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9952155331890395},{time:67.45509999990463,note:"E2",pitch:82.31591314936644,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9948747019045214},{time:67.481,note:"E2",pitch:82.3568683469327,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9963962540338969},{time:67.506,note:"E2",pitch:82.38382646091098,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9946360388396727},{time:67.53259999990463,note:"E2",pitch:82.26520901963605,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9966447481227334},{time:67.55859999990463,note:"E2",pitch:82.43536322721265,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9944467422680532},{time:67.58439999985696,note:"E2",pitch:82.20015614066774,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9964306594809074},{time:67.60939999985695,note:"E2",pitch:82.4265709129976,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9906128270628614},{time:67.63619999980926,note:"E2",pitch:82.22318072586111,noteMidi:40,actualMidi:39.96,actualMidiChroma:3.960000000000001,centsOffset:-3.9999999999999147,clarity:.9981426995435214},{time:67.66229999995231,note:"E2",pitch:82.77923978884753,noteMidi:40,actualMidi:40.08,actualMidiChroma:4.079999999999998,centsOffset:7.9999999999998295,clarity:.8495277596919308},{time:67.68819999980927,note:"F2",pitch:87.51037468156026,noteMidi:41,actualMidi:41.04,actualMidiChroma:5.039999999999999,centsOffset:3.9999999999999147,clarity:.5766176539268351},{time:67.714,note:"E2",pitch:84.06364586674744,noteMidi:40,actualMidi:40.34,actualMidiChroma:4.340000000000003,centsOffset:34.00000000000034,clarity:.6729198147862974},{time:67.73979999995231,note:"E2",pitch:82.43256083476417,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.959838044891896},{time:67.76589999985696,note:"E2",pitch:82.47697029820554,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9912504596392608},{time:67.79209999990464,note:"E2",pitch:82.35149708938928,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9953203057186073},{time:67.8175,note:"E2",pitch:82.41047299761011,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9937924599835526},{time:67.84439999985695,note:"E2",pitch:82.35092514440818,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9943042031539591},{time:67.8705,note:"E2",pitch:82.42027369596201,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9935449683480044},{time:67.89689999985696,note:"E2",pitch:82.3590639191281,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9927182423289764},{time:67.92279999995232,note:"E2",pitch:82.41029985810147,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940738796511113},{time:67.94889999985695,note:"E2",pitch:82.38478799824045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9909649129914584},{time:67.97509999990463,note:"E2",pitch:82.35665009384778,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9955498329186838},{time:68.00179999995231,note:"E2",pitch:82.39215571946396,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9857347569930823},{time:68.02819999980926,note:"E2",pitch:82.34106252350983,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.995201418557258},{time:68.05479999995232,note:"E2",pitch:82.4008666778096,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9907329826935296},{time:68.08129999995232,note:"E2",pitch:82.36702365346666,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9956178347181748},{time:68.10819999980926,note:"E2",pitch:82.43086156660029,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9914170937068718},{time:68.13389999985695,note:"E2",pitch:82.36830079928004,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9947798091030506},{time:68.15989999985695,note:"E2",pitch:82.44705281507188,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.989029538857892},{time:68.18629999995231,note:"E2",pitch:82.39130704416543,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9923910317798885},{time:68.21259999990463,note:"E2",pitch:82.4554776393791,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9831784311940481},{time:68.23869999980927,note:"E2",pitch:82.45120584105655,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9736027107900043},{time:68.26519999980927,note:"E2",pitch:82.49984015974059,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9863251036962737},{time:68.30739999985695,note:"E2",pitch:82.44261771530432,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9880400184407421},{time:68.34089999985694,note:"E2",pitch:82.3861380289082,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9931712702771875},{time:68.37169999980927,note:"E2",pitch:82.4313391263533,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9927170540582892},{time:68.39759999990463,note:"E2",pitch:82.41902013841496,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9918017240647572},{time:68.4235,note:"E2",pitch:83.18945731712415,noteMidi:40,actualMidi:40.16,actualMidiChroma:4.159999999999997,centsOffset:15.999999999999659,clarity:.8471586133749298},{time:68.44959999990463,note:"F2",pitch:89.27141982013418,noteMidi:41,actualMidi:41.39,actualMidiChroma:5.390000000000001,centsOffset:39.00000000000006,clarity:.7939084522656579},{time:68.476,note:"A3",pitch:223.56502511908496,noteMidi:57,actualMidi:57.28,actualMidiChroma:9.280000000000001,centsOffset:28.000000000000114,clarity:.23194061597463733},{time:68.50239999985695,note:"E2",pitch:82.72304954319137,noteMidi:40,actualMidi:40.07,actualMidiChroma:4.07,centsOffset:7.000000000000028,clarity:.7444575933080557},{time:68.5285,note:"E2",pitch:82.4850107157395,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9501172500875725},{time:68.5545,note:"E2",pitch:82.42534195395034,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9953329375076407},{time:68.58079999995232,note:"E2",pitch:82.43689845818382,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9959688796449484},{time:68.60709999990463,note:"E2",pitch:82.428647955897,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9927318325635497},{time:68.6335,note:"E2",pitch:82.43928101674578,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9967422247403306},{time:68.65979999995231,note:"E2",pitch:82.41957593686095,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9955005751065755},{time:68.68609999990463,note:"E2",pitch:82.39749035962197,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9973641590991633},{time:68.71229999995232,note:"E2",pitch:82.43113652992183,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9912005775643422},{time:68.7385,note:"E2",pitch:82.36463226204856,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965756531354089},{time:68.76429999995231,note:"E2",pitch:82.39783728587231,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9923731297737532},{time:68.7905,note:"E2",pitch:82.33029020073107,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9961747477229608},{time:68.81709999990463,note:"E2",pitch:82.37098549060745,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9948567602469751},{time:68.84339999985694,note:"E2",pitch:82.31788345246082,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9953528320730101},{time:68.8695,note:"E2",pitch:82.37330677441285,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9943562861201087},{time:68.89589999985695,note:"E2",pitch:82.31722236947667,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9943945617775398},{time:68.92219999980927,note:"E2",pitch:82.39266072270495,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9938181544583102},{time:68.94839999985695,note:"E2",pitch:82.36240928562741,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9906735850932904},{time:68.97459999990463,note:"E2",pitch:82.37123394340763,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.995241836140039},{time:69.00139999985694,note:"E2",pitch:82.33491784585841,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9921389420121045},{time:69.02819999980926,note:"E2",pitch:82.37281212834714,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9958428403952695},{time:69.05479999995232,note:"E2",pitch:82.36747728273393,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9936656899471501},{time:69.08169999980926,note:"E2",pitch:82.36243436109913,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9963970779453177},{time:69.12479999995232,note:"E2",pitch:82.32660434715653,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9927816466532136},{time:69.15829999995232,note:"E2",pitch:82.38673498707239,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9940051509967276},{time:69.18779999995232,note:"E2",pitch:82.32489615174887,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.994489827188545},{time:69.21529999995232,note:"E2",pitch:82.37586452553013,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9939842793630476},{time:69.24189999985695,note:"E2",pitch:82.30991759924706,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9955228382474672},{time:69.26809999990463,note:"E2",pitch:82.38560042983792,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9928816914558354},{time:69.29419999980927,note:"E2",pitch:82.29720211460382,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9921081225936348},{time:69.32009999990463,note:"E2",pitch:82.3734350175703,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9924810385148817},{time:69.34729999995231,note:"E2",pitch:82.35071796969751,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9905187012807062},{time:69.37359999990463,note:"E2",pitch:82.37857857670616,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.993378651239567},{time:69.39979999995232,note:"E2",pitch:82.34082009035339,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9911331834620825},{time:69.426,note:"E2",pitch:82.61325431292539,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9301838933231608},{time:69.45239999985695,note:"F2",pitch:88.44465982127204,noteMidi:41,actualMidi:41.22,actualMidiChroma:5.219999999999999,centsOffset:21.999999999999886,clarity:.39742007402585955},{time:69.47969999980927,note:"G2",pitch:96.16448881599558,noteMidi:43,actualMidi:42.67,actualMidiChroma:6.670000000000002,centsOffset:-32.99999999999983,clarity:.18558182415535462},{time:69.50609999990463,note:"E2",pitch:83.06221481323776,noteMidi:40,actualMidi:40.14,actualMidiChroma:4.140000000000001,centsOffset:14.000000000000057,clarity:.8073113790544539},{time:69.53259999990463,note:"E2",pitch:82.60119777217938,noteMidi:40,actualMidi:40.04,actualMidiChroma:4.039999999999999,centsOffset:3.9999999999999147,clarity:.9563383858015584},{time:69.5585,note:"E2",pitch:82.4822857658961,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9841957079017902},{time:69.5845,note:"E2",pitch:82.48023267136709,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9867511880154609},{time:69.61209999990463,note:"E2",pitch:82.45683127072566,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9906048994868399},{time:69.6385,note:"E2",pitch:82.43990875094492,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9878730228336678},{time:69.6645,note:"E2",pitch:82.43778479661341,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9905496863027565},{time:69.69069999980927,note:"E2",pitch:82.40043035530859,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9837653533159312},{time:69.71679999995231,note:"E2",pitch:82.33637239822093,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9900983331024236},{time:69.7445,note:"E2",pitch:82.3928902684589,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9849015161341015},{time:69.771,note:"E2",pitch:82.36454809514443,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.990111002195647},{time:69.79789999985695,note:"E2",pitch:82.4135055405154,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9890847559122449},{time:69.82409999990463,note:"E2",pitch:82.31966355620268,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9895547721527009},{time:69.85059999990463,note:"E2",pitch:82.42894793290122,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9869969519990605},{time:69.87809999990463,note:"E2",pitch:82.29055838175685,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.987385522218517},{time:69.90569999980927,note:"E2",pitch:82.44245625197867,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9857548021138314},{time:69.9335,note:"E2",pitch:82.29019163350456,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9862328908791653},{time:69.9615,note:"E2",pitch:82.44994529924466,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9884559160352921},{time:69.99009999990463,note:"E2",pitch:82.27618900609156,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9899003103134163},{time:70.03579999995232,note:"E2",pitch:82.40453956763045,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9843462137705785},{time:70.069,note:"E2",pitch:82.45301834156886,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.989979724991926},{time:70.09979999995231,note:"E2",pitch:82.31904530018636,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9923108088473924},{time:70.12739999985695,note:"E2",pitch:82.40517447759079,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9927767014916782},{time:70.15539999985695,note:"E2",pitch:82.34852999222247,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9912258181551437},{time:70.1835,note:"E2",pitch:82.45155248789341,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9929899385461027},{time:70.21179999995232,note:"E2",pitch:82.31421581613209,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9918743520113509},{time:70.23969999980926,note:"E2",pitch:82.4278435021353,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9949800087768637},{time:70.26759999990463,note:"E2",pitch:82.32511515643408,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9965332117832872},{time:70.29539999985695,note:"E2",pitch:82.39866199622283,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9964215178418101},{time:70.32309999990463,note:"E2",pitch:82.32818667428528,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9970023924860811},{time:70.35119999980927,note:"E2",pitch:82.37964056968818,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988125636542975},{time:70.37869999980927,note:"E2",pitch:82.33840858689395,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9965644429207572},{time:70.4065,note:"E2",pitch:82.38102726016311,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9993314544511378},{time:70.43429999995232,note:"E2",pitch:82.34766243619123,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9995010462332488},{time:70.4625,note:"E2",pitch:82.35945829143435,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997986636215899},{time:70.49039999985695,note:"E2",pitch:82.3449123542824,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9997444686441526},{time:70.51819999980927,note:"E2",pitch:82.34369872763149,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998669166595562},{time:70.54589999985694,note:"E2",pitch:82.36010183037534,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999739390258199},{time:70.57369999980926,note:"E2",pitch:82.37579601188247,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998893217386922},{time:70.60159999990464,note:"E2",pitch:82.37932533257975,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998184094429377},{time:70.62979999995231,note:"E2",pitch:82.37243322940513,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998839002623185},{time:70.65789999985695,note:"E2",pitch:82.46051799165939,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9558498868710075},{time:70.68569999980926,note:"E2",pitch:83.59188615444664,noteMidi:40,actualMidi:40.25,actualMidiChroma:4.25,centsOffset:25,clarity:.8085188527595264},{time:70.71369999980926,note:"F2",pitch:89.18326810449862,noteMidi:41,actualMidi:41.37,actualMidiChroma:5.369999999999997,centsOffset:36.999999999999744,clarity:.8990466342320218},{time:70.74159999990464,note:"B2",pitch:122.97253423946107,noteMidi:47,actualMidi:46.93,actualMidiChroma:10.93,centsOffset:-7.000000000000028,clarity:.3677742588861541},{time:70.7695,note:"E2",pitch:82.70508168233565,noteMidi:40,actualMidi:40.06,actualMidiChroma:4.060000000000002,centsOffset:6.000000000000227,clarity:.9037444704107429},{time:70.79689999985695,note:"E2",pitch:82.66107442553054,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9694544778859324},{time:70.82469999980927,note:"E2",pitch:82.4287208977717,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9915594785940129},{time:70.85279999995231,note:"E2",pitch:82.38598164987667,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9882533403086597},{time:70.88029999995231,note:"E2",pitch:82.39377721538222,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9931144181605589},{time:70.90869999980927,note:"E2",pitch:82.37454554886538,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9896163464289316},{time:70.95369999980926,note:"E2",pitch:82.4584844435961,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9900521636009216},{time:70.98639999985694,note:"E2",pitch:82.377116814274,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9938896008410154},{time:71.018,note:"E2",pitch:82.44118700681818,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9886246453420426},{time:71.04619999980926,note:"E2",pitch:82.35224126331381,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9944962763477179},{time:71.07409999990463,note:"E2",pitch:82.42668935734463,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9867618502752009},{time:71.10219999980926,note:"E2",pitch:82.38589958876763,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9934726933787204},{time:71.13069999980927,note:"E2",pitch:82.4041923647424,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9890655677902629},{time:71.15929999995231,note:"E2",pitch:82.37042531440014,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.991311180859114},{time:71.1875,note:"E2",pitch:82.40089956786859,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9793198878545724},{time:71.21539999985694,note:"E2",pitch:82.37153946301612,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9924148606923922},{time:71.2435,note:"E2",pitch:82.41355354268231,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.967978395981433},{time:71.27139999985695,note:"E2",pitch:82.44369122151845,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9926113070645641},{time:71.29939999985694,note:"E2",pitch:82.30020964607426,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9914160053517236},{time:71.327,note:"E2",pitch:82.36672725366297,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9930010498641764},{time:71.35459999990464,note:"E2",pitch:82.47694493069517,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9886729825605585},{time:71.38259999990463,note:"E2",pitch:82.37423672652564,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9979001717804721},{time:71.41059999990463,note:"E2",pitch:82.4155136013669,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9968144441559446},{time:71.43859999990464,note:"E2",pitch:82.37223707025369,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9988287841083832},{time:71.4665,note:"E2",pitch:82.43181726814565,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9992060927614403},{time:71.49479999995232,note:"E2",pitch:82.40905107420062,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9995777710587106},{time:71.523,note:"E2",pitch:82.40278337852233,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9997076830441927},{time:71.55089999985695,note:"E2",pitch:82.35942132210586,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998593312775768},{time:71.57869999980926,note:"E2",pitch:82.36365202280972,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998078113450362},{time:71.60669999980927,note:"E2",pitch:82.3804624497764,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9998759351408637},{time:71.63469999980927,note:"E2",pitch:82.36717912489507,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999267827233211},{time:71.66259999990463,note:"E2",pitch:82.36297610514565,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999320118341899},{time:71.69039999985695,note:"E2",pitch:82.35601994429877,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999505046341142},{time:71.7185,note:"E2",pitch:82.35530005685548,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999455923697553},{time:71.7465,note:"E2",pitch:82.36027684041213,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.999948228777157},{time:71.77439999985695,note:"E2",pitch:82.37628687173925,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999472707372234},{time:71.80219999980926,note:"E2",pitch:82.35621878994186,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999560681872168},{time:71.83019999980927,note:"E2",pitch:82.35111377351859,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999507580896534},{time:71.87539999985695,note:"E2",pitch:82.33718584815051,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999611497060386},{time:71.90879999995232,note:"E2",pitch:82.34748269415131,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9999603817326346},{time:71.93989999985695,note:"E2",pitch:82.33007516298059,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999619153137189},{time:71.96809999990464,note:"E2",pitch:82.32505456661023,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999661399907893},{time:71.99609999990463,note:"E2",pitch:82.32335709720877,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999534930137628},{time:72.02439999985695,note:"E2",pitch:82.40932341809597,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.8972250467376739},{time:72.05289999985695,note:"G0",pitch:24.71605952403583,noteMidi:19,actualMidi:19.15,actualMidiChroma:7.149999999999999,centsOffset:14.999999999999858,clarity:.38630681595032},{time:72.081,note:"E2",pitch:82.54364345491597,noteMidi:40,actualMidi:40.03,actualMidiChroma:4.030000000000001,centsOffset:3.0000000000001137,clarity:.8406108284841878},{time:72.10929999995231,note:"E2",pitch:82.43296245318287,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9802500447674731},{time:72.13759999990464,note:"E2",pitch:82.4271615593277,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9941882826235542},{time:72.16579999995231,note:"E2",pitch:82.32548003774919,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9949419251448859},{time:72.19409999990464,note:"E2",pitch:82.44166611384108,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9825967264186772},{time:72.22189999985694,note:"E2",pitch:82.40507627301031,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9938752198297891},{time:72.24989999985695,note:"E2",pitch:82.43792343138884,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9860922399171841},{time:72.27779999995232,note:"E2",pitch:82.39246307904773,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951978662739265},{time:72.30559999990463,note:"E2",pitch:82.43783557707359,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9899140904576882},{time:72.33329999995232,note:"E2",pitch:82.41397477141334,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9935425043434947},{time:72.36119999980926,note:"E2",pitch:82.47296369875383,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9851591868650047},{time:72.389,note:"E2",pitch:82.40766480287444,noteMidi:40,actualMidi:40,actualMidiChroma:4,centsOffset:0,clarity:.9951175018993723},{time:72.41709999990464,note:"E2",pitch:82.49037048341667,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9865866256266571},{time:72.44479999995232,note:"E2",pitch:82.34677349942488,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9932024945826754},{time:72.4725,note:"E2",pitch:82.49960664824496,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.986088001070641},{time:72.50079999995232,note:"E2",pitch:82.37680492286091,noteMidi:40,actualMidi:39.99,actualMidiChroma:3.990000000000002,centsOffset:-.999999999999801,clarity:.9927391897146975},{time:72.52869999980926,note:"E2",pitch:82.4700099001872,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.9902007459797915},{time:72.55689999985695,note:"E2",pitch:82.25813889085003,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9930193418856135},{time:72.58459999990463,note:"E2",pitch:82.48002557158995,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9880826187780798},{time:72.61279999995232,note:"E2",pitch:82.29971170874425,noteMidi:40,actualMidi:39.98,actualMidiChroma:3.979999999999997,centsOffset:-2.0000000000003126,clarity:.9932543005879779},{time:72.64069999980927,note:"E2",pitch:82.47623137391689,noteMidi:40,actualMidi:40.01,actualMidiChroma:4.009999999999998,centsOffset:.999999999999801,clarity:.987210269995515},{time:72.66889999985695,note:"E2",pitch:82.25779810457486,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9922325950763451},{time:72.69779999995231,note:"E2",pitch:82.48977510185209,noteMidi:40,actualMidi:40.02,actualMidiChroma:4.020000000000003,centsOffset:2.0000000000003126,clarity:.9903684448080838},{time:72.72609999990463,note:"E2",pitch:82.24148886606658,noteMidi:40,actualMidi:39.97,actualMidiChroma:3.969999999999999,centsOffset:-3.0000000000001137,clarity:.9928654098184495},{time:72.7545,note:"E2",pitch:82.66813383006533,noteMidi:40,actualMidi:40.05,actualMidiChroma:4.049999999999997,centsOffset:4.999999999999716,clarity:.9700272034936717},{time:72.80059999990463,note:"E2",pitch:83.2591876151722,noteMidi:40,actualMidi:40.18,actualMidiChroma:4.18,centsOffset:17.99999999999997,clarity:.9268025155163286},{time:72.83519999980926,note:"E2",pitch:84.31874351354018,noteMidi:40,actualMidi:40.4,actualMidiChroma:4.399999999999999,centsOffset:39.99999999999986,clarity:.9652600425985831},{time:72.86679999995232,note:"F2",pitch:85.76314146889614,noteMidi:41,actualMidi:40.69,actualMidiChroma:4.689999999999998,centsOffset:-31.000000000000227,clarity:.9738684682471224},{time:72.89369999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:72.92079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:72.94809999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:72.97519999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.00319999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.03059999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.05839999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.08589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.1135,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.14089999985696,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.16839999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.1955,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.223,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.2505,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.27769999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.30489999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.33229999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.35969999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.38689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.41409999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.44119999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.46859999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.49579999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.52319999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.55069999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.57819999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.60539999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.6325,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.66039999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.70479999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.73939999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.77079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.7985,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.82539999985696,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.8525,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.87959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.90709999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.93409999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.96129999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:73.98889999985695,note:"G0",pitch:24.40172431627982,noteMidi:19,actualMidi:18.93,actualMidiChroma:6.93,centsOffset:-7.000000000000028,clarity:.0024795603146685607},{time:74.01689999985695,note:"C3",pitch:130.1364414860251,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.7811231455440719},{time:74.04439999985695,note:"C3",pitch:130.3549945055354,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9997016626049842},{time:74.07189999985695,note:"C3",pitch:130.35972722613084,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9997733887954467},{time:74.09959999990463,note:"C3",pitch:130.39319465877642,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9996679716266996},{time:74.12709999990463,note:"C3",pitch:130.44179301685287,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9995467561144409},{time:74.15439999985695,note:"C3",pitch:130.54583649733152,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9995158265398913},{time:74.1815,note:"C3",pitch:130.5798532889092,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.999535261922432},{time:74.20879999995232,note:"C3",pitch:130.64971863202135,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994558370470408},{time:74.236,note:"C3",pitch:130.8125769393012,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9994929267752646},{time:74.263,note:"C3",pitch:131.03456286648668,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9994175313678966},{time:74.29,note:"C3",pitch:131.1290739669394,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.99953573371414},{time:74.31729999995231,note:"C3",pitch:131.20598983866654,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9995937107697763},{time:74.34439999985695,note:"C3",pitch:131.5733890012716,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999527380043375},{time:74.37139999985695,note:"C3",pitch:131.8353693688385,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.999552402159857},{time:74.39869999980927,note:"C3",pitch:131.9911052150588,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9995395467772603},{time:74.426,note:"C3",pitch:132.50901630428632,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9992823852981836},{time:74.45319999980927,note:"C3",pitch:133.32486256806197,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9991401168901533},{time:74.48039999985694,note:"C3",pitch:134.12289409055595,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9991593992165306},{time:74.508,note:"C3",pitch:134.359159684644,noteMidi:48,actualMidi:48.46,actualMidiChroma:.46000000000000085,centsOffset:46.000000000000085,clarity:.9990784193759339},{time:74.53559999990463,note:"Db3",pitch:135.06365159659555,noteMidi:49,actualMidi:48.55,actualMidiChroma:.5499999999999972,centsOffset:-45.000000000000284,clarity:.9991011729383565},{time:74.56259999990463,note:"Db3",pitch:136.02752054298847,noteMidi:49,actualMidi:48.68,actualMidiChroma:.6799999999999997,centsOffset:-32.00000000000003,clarity:.999216295602583},{time:74.59,note:"Db3",pitch:137.23827392311827,noteMidi:49,actualMidi:48.83,actualMidiChroma:.8299999999999983,centsOffset:-17.00000000000017,clarity:.9993086251765604},{time:74.61779999995231,note:"Db3",pitch:137.93427897207923,noteMidi:49,actualMidi:48.92,actualMidiChroma:.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9988245486320295},{time:74.661,note:"Db3",pitch:140.02107546400632,noteMidi:49,actualMidi:49.18,actualMidiChroma:1.1799999999999997,centsOffset:17.99999999999997,clarity:.9987374981061024},{time:74.69529999995231,note:"Db3",pitch:141.36037739730386,noteMidi:49,actualMidi:49.34,actualMidiChroma:1.3400000000000034,centsOffset:34.00000000000034,clarity:.9973562500446214},{time:74.72869999980927,note:"D3",pitch:142.87921533170433,noteMidi:50,actualMidi:49.53,actualMidiChroma:1.5300000000000011,centsOffset:-46.999999999999886,clarity:.9978764300849043},{time:74.75709999990464,note:"D3",pitch:143.3407438867229,noteMidi:50,actualMidi:49.58,actualMidiChroma:1.5799999999999983,centsOffset:-42.00000000000017,clarity:.9977965386847423},{time:74.785,note:"D3",pitch:143.35168764487122,noteMidi:50,actualMidi:49.58,actualMidiChroma:1.5799999999999983,centsOffset:-42.00000000000017,clarity:.999208908990795},{time:74.81259999990463,note:"D3",pitch:143.51996406523037,noteMidi:50,actualMidi:49.6,actualMidiChroma:1.6000000000000014,centsOffset:-39.99999999999986,clarity:.9975489987489823},{time:74.84039999985694,note:"D3",pitch:143.41980689238605,noteMidi:50,actualMidi:49.59,actualMidiChroma:1.5900000000000034,centsOffset:-40.99999999999966,clarity:.9986697220482448},{time:74.86769999980926,note:"D3",pitch:142.91222875782643,noteMidi:50,actualMidi:49.53,actualMidiChroma:1.5300000000000011,centsOffset:-46.999999999999886,clarity:.9984041707843652},{time:74.89529999995231,note:"Db3",pitch:140.2637577505204,noteMidi:49,actualMidi:49.21,actualMidiChroma:1.2100000000000009,centsOffset:21.000000000000085,clarity:.9961816634763387},{time:74.923,note:"Db3",pitch:137.9781275605608,noteMidi:49,actualMidi:48.92,actualMidiChroma:.9200000000000017,centsOffset:-7.9999999999998295,clarity:.9977958541260072},{time:74.95029999995232,note:"Db3",pitch:136.66854354769083,noteMidi:49,actualMidi:48.76,actualMidiChroma:.759999999999998,centsOffset:-24.0000000000002,clarity:.9980099394652555},{time:74.97789999985694,note:"Db3",pitch:135.58339291485882,noteMidi:49,actualMidi:48.62,actualMidiChroma:.6199999999999974,centsOffset:-38.000000000000256,clarity:.9979813321494859},{time:75.00579999995232,note:"C3",pitch:134.18924304156147,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9982265692692742},{time:75.03379999995232,note:"C3",pitch:133.44204882365207,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9982467381692501},{time:75.06159999990463,note:"C3",pitch:132.7570804841408,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9981130434936745},{time:75.08929999995232,note:"C3",pitch:132.25349989658932,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9980347757500247},{time:75.11709999990464,note:"C3",pitch:132.00844031987467,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9978204838533138},{time:75.1445,note:"C3",pitch:131.3357776267379,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9975882658905526},{time:75.172,note:"C3",pitch:131.36793924106786,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9979498530946032},{time:75.19929999995232,note:"C3",pitch:131.14900422113544,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9977461728529349},{time:75.2265,note:"C3",pitch:130.8790299664779,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9975669813926729},{time:75.25369999980927,note:"C3",pitch:130.62580177456735,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975583482982131},{time:75.281,note:"C3",pitch:130.26691976133603,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9971198081806207},{time:75.30839999985695,note:"C3",pitch:130.18721296152876,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9974448639224249},{time:75.33569999980926,note:"C3",pitch:130.1249847115752,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9968791895180722},{time:75.36309999990463,note:"C3",pitch:129.9471625516687,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9968910778195301},{time:75.39059999990464,note:"C3",pitch:129.87517932079317,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9967737452243277},{time:75.41789999985694,note:"C3",pitch:129.76805073864008,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9971229314855208},{time:75.446,note:"C3",pitch:129.7430584402438,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9966798538373887},{time:75.47389999985695,note:"C3",pitch:129.76908046631058,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9902814614099107},{time:75.50179999995231,note:"C3",pitch:128.85581231213254,noteMidi:48,actualMidi:47.74,actualMidiChroma:11.740000000000002,centsOffset:-25.9999999999998,clarity:.8678887518288931},{time:75.52929999995231,note:"D3",pitch:146.89617621741255,noteMidi:50,actualMidi:50.01,actualMidiChroma:2.009999999999998,centsOffset:.999999999999801,clarity:.3469336757549133},{time:75.55689999985695,note:"E4",pitch:320.4811420323986,noteMidi:64,actualMidi:63.51,actualMidiChroma:3.509999999999998,centsOffset:-49.0000000000002,clarity:.5230640395360666},{time:75.58539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.62919999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.66419999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.696,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.72339999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.75079999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.77839999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.80589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.83329999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.86089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.88829999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.91589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:75.94359999990463,note:"Db3",pitch:137.12757359265908,noteMidi:49,actualMidi:48.82,actualMidiChroma:.8200000000000003,centsOffset:-17.99999999999997,clarity:.017290512267051472},{time:75.97119999980927,note:"C3",pitch:129.97846208350447,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.8803844376069563},{time:75.99909999990463,note:"C3",pitch:130.48218499186956,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9997164837922554},{time:76.02709999990464,note:"C3",pitch:130.4901015463832,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9997388837108758},{time:76.05519999980926,note:"C3",pitch:130.51670422270416,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9996903094444249},{time:76.08309999990463,note:"C3",pitch:130.53507545817035,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9996586793583901},{time:76.11109999990464,note:"C3",pitch:130.46529823814788,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996431987959085},{time:76.13859999990463,note:"C3",pitch:130.35403452305405,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9996462348417445},{time:76.16589999985695,note:"C3",pitch:130.44085446348348,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996805271421536},{time:76.1935,note:"C3",pitch:130.87022826724902,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9997370702088695},{time:76.22079999995232,note:"C3",pitch:131.27385753473837,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9997831423408883},{time:76.2485,note:"C3",pitch:131.47990380571343,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9997753957359805},{time:76.27569999980926,note:"C3",pitch:131.7460313888682,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9998080163722598},{time:76.30309999990463,note:"C3",pitch:132.16284273440922,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9997854196747831},{time:76.3305,note:"C3",pitch:132.70621941029006,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997048052687312},{time:76.35779999995232,note:"C3",pitch:133.03347722401665,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9997266211665519},{time:76.38519999980926,note:"C3",pitch:133.53770197083304,noteMidi:48,actualMidi:48.36,actualMidiChroma:.35999999999999943,centsOffset:35.99999999999994,clarity:.9997356525075283},{time:76.41279999995231,note:"C3",pitch:134.1042533354951,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9997191485659407},{time:76.44019999980927,note:"Db3",pitch:134.91357949967278,noteMidi:49,actualMidi:48.53,actualMidiChroma:.5300000000000011,centsOffset:-46.999999999999886,clarity:.9996143905984916},{time:76.46779999995232,note:"Db3",pitch:135.43815397112107,noteMidi:49,actualMidi:48.6,actualMidiChroma:.6000000000000014,centsOffset:-39.99999999999986,clarity:.9995170667993278},{time:76.49529999995232,note:"Db3",pitch:135.68384311137345,noteMidi:49,actualMidi:48.63,actualMidiChroma:.6300000000000026,centsOffset:-36.999999999999744,clarity:.9996603725576669},{time:76.52389999985695,note:"Db3",pitch:135.46998112592712,noteMidi:49,actualMidi:48.61,actualMidiChroma:.6099999999999994,centsOffset:-39.00000000000006,clarity:.99973316649465},{time:76.55269999980926,note:"C3",pitch:134.08033801499428,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9990519935376874},{time:76.5985,note:"C3",pitch:131.65883420630684,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9995566099786224},{time:76.63419999980927,note:"C3",pitch:130.81716920583114,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9996562066768071},{time:76.66739999985695,note:"C3",pitch:130.54163362757774,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9996094569047109},{time:76.69519999980926,note:"C3",pitch:130.47076330689734,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9995659525295189},{time:76.72319999980927,note:"C3",pitch:130.44593274328494,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9995611270207618},{time:76.75089999985695,note:"C3",pitch:130.4888009839236,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9994588255344787},{time:76.77889999985695,note:"C3",pitch:130.6176388698313,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993333343085773},{time:76.80669999980927,note:"C3",pitch:130.87365546223043,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9992514375164099},{time:76.8345,note:"C3",pitch:131.57233453719246,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999151934281489},{time:76.86269999980927,note:"C3",pitch:132.183923616285,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9991429547284625},{time:76.89069999980927,note:"C3",pitch:132.7277997874191,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9990871032102184},{time:76.919,note:"C3",pitch:133.1040662614129,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9991285704629362},{time:76.947,note:"C3",pitch:133.11033761567128,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9991746303068254},{time:76.97519999980926,note:"C3",pitch:133.0550785893541,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9991218036530576},{time:77.00359999990464,note:"C3",pitch:132.58906579820163,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9989070062036127},{time:77.03169999980926,note:"C3",pitch:131.43051790604127,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9985114453187727},{time:77.06009999990464,note:"C3",pitch:130.68819402373205,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9986559968684539},{time:77.0885,note:"C3",pitch:130.47904918733562,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9984315536035737},{time:77.11659999990464,note:"C3",pitch:130.41485010562272,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9984119816985988},{time:77.14419999980926,note:"C3",pitch:130.37609427150346,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9981612482663067},{time:77.17179999995231,note:"C3",pitch:130.53957283474716,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9982900361203662},{time:77.19979999995232,note:"C3",pitch:130.89988843759508,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9980106671223119},{time:77.22729999995232,note:"C3",pitch:131.4114680294554,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9982118210947206},{time:77.25509999990463,note:"C3",pitch:131.90125278839352,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9985088056371438},{time:77.28269999980927,note:"C3",pitch:132.08581783581118,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9983040666605092},{time:77.31059999990464,note:"C3",pitch:132.06644215055422,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9981931780831523},{time:77.3385,note:"C3",pitch:132.019346211736,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9981483570964365},{time:77.36619999980927,note:"C3",pitch:131.60904986858304,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9982084047737381},{time:77.39429999995231,note:"C3",pitch:130.7835555881623,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9979285723122899},{time:77.42229999995232,note:"C3",pitch:130.20979120820905,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9973177102505346},{time:77.44989999985695,note:"C3",pitch:130.04475076813975,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9974256048869776},{time:77.47769999980926,note:"C3",pitch:130.13382080828524,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9973062123579197},{time:77.5055,note:"C3",pitch:130.24863978740757,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.997446715367353},{time:77.53439999985694,note:"C3",pitch:130.62472643959137,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9973628977862745},{time:77.57979999995231,note:"C3",pitch:131.5970662079883,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9972972683710104},{time:77.61419999980926,note:"C3",pitch:131.94053700288137,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.997571351539964},{time:77.647,note:"C3",pitch:132.14076651620584,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9976894783100079},{time:77.67509999990463,note:"C3",pitch:132.20463191649992,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9977773521805098},{time:77.70289999985695,note:"C3",pitch:131.60582121486163,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9976338764559358},{time:77.7305,note:"C3",pitch:130.68289310296197,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9975355545027078},{time:77.7585,note:"C3",pitch:130.28963037818352,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9972178176284601},{time:77.78669999980926,note:"C3",pitch:130.06898473351848,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9968409252299573},{time:77.81489999985695,note:"C3",pitch:130.1892482698399,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9968239437182298},{time:77.843,note:"C3",pitch:130.36736128742456,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.997323777944505},{time:77.87119999980926,note:"C3",pitch:130.94840995611904,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9973230474030643},{time:77.89919999980927,note:"C3",pitch:131.52087501851813,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9974546970235814},{time:77.92729999995231,note:"C3",pitch:132.03492979047758,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9977705038707718},{time:77.95539999985695,note:"C3",pitch:132.21462999608784,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9973902564374555},{time:77.98379999995231,note:"C3",pitch:131.8592825583887,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9971490809070112},{time:78.01239999985695,note:"C3",pitch:130.89783171549828,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9974649147925128},{time:78.04089999985695,note:"C3",pitch:130.3577970781534,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.998115209753994},{time:78.06929999995232,note:"C3",pitch:130.25090333718802,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9979807553636704},{time:78.09769999980927,note:"C3",pitch:130.2037557890306,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9975811255236522},{time:78.12629999995232,note:"C3",pitch:130.39079988840837,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9977946771509494},{time:78.15469999980927,note:"C3",pitch:130.92904563075786,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9981236836944376},{time:78.183,note:"C3",pitch:131.7806361281761,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9980772451042519},{time:78.21119999980927,note:"C3",pitch:132.22757441217158,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9981351660889786},{time:78.23929999995232,note:"C3",pitch:132.20272018749927,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9983183732331469},{time:78.2675,note:"C3",pitch:132.1110334985013,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9975698071137344},{time:78.29569999980926,note:"C3",pitch:131.5068493150685,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9970072507858276},{time:78.324,note:"C3",pitch:130.44125470085865,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9968892207823998},{time:78.35189999985695,note:"C3",pitch:130.08832015505584,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9969902024042412},{time:78.37979999995231,note:"C3",pitch:129.99634019312518,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9964547678983138},{time:78.40769999980927,note:"C3",pitch:130.13538375563257,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9965289722178277},{time:78.43569999980926,note:"C3",pitch:130.73975800447775,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9959937360855307},{time:78.46369999980926,note:"C3",pitch:131.74094172947375,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9965706528590665},{time:78.49259999990463,note:"C3",pitch:132.38512668946058,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.994911201639745},{time:78.53789999985695,note:"C3",pitch:132.55680170805857,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9949042914767077},{time:78.57229999995232,note:"C3",pitch:132.0817789035668,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9943894472108852},{time:78.60479999995232,note:"C3",pitch:131.275892581275,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9928538647982705},{time:78.6335,note:"C3",pitch:130.5197757484671,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9885967793658956},{time:78.66209999990463,note:"C3",pitch:130.30996978700296,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9933103523353957},{time:78.69029999995232,note:"C3",pitch:130.46351772714334,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9933263712595704},{time:78.71859999990463,note:"C3",pitch:130.54796057696902,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9973140458509384},{time:78.74709999990463,note:"C3",pitch:131.498144694371,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9989065849955523},{time:78.77529999995231,note:"C3",pitch:132.4892972081337,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9996298898813301},{time:78.80379999995232,note:"C3",pitch:133.42812019769022,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9997407696331067},{time:78.83239999985695,note:"C3",pitch:133.97775928612398,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.9998669228997912},{time:78.86079999995232,note:"C3",pitch:133.9659765913497,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.9998709598192015},{time:78.88939999985695,note:"C3",pitch:133.388774855017,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9996910403900543},{time:78.91789999985694,note:"C3",pitch:132.34290498014795,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9991038479033882},{time:78.94619999980927,note:"C3",pitch:130.93168172041226,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.999227628138744},{time:78.97469999980926,note:"C3",pitch:130.49784553221153,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9998682210185628},{time:79.0035,note:"C3",pitch:130.44611812176692,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9998951891823502},{time:79.03209999990463,note:"C3",pitch:130.47276215849254,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9998218514862174},{time:79.06079999995232,note:"C3",pitch:131.3386259636343,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9995750510426262},{time:79.08919999980927,note:"C3",pitch:132.48384906887134,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9994540190448937},{time:79.11759999990463,note:"C3",pitch:132.8737662218173,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9998104760552486},{time:79.14579999995232,note:"C3",pitch:133.22871450631305,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9998116873653267},{time:79.17379999995232,note:"C3",pitch:133.36250486192142,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9998620753952316},{time:79.20179999995231,note:"C3",pitch:133.27154519624153,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9998617660763003},{time:79.23,note:"C3",pitch:132.6471581547279,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.999499984649578},{time:79.25809999990463,note:"C3",pitch:131.51162921862328,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9985835838855017},{time:79.28629999995232,note:"C3",pitch:130.5218723077897,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9990386565350242},{time:79.31459999990463,note:"C3",pitch:129.93142049824266,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9996100847914171},{time:79.343,note:"C3",pitch:130.01842080518972,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9998239060238276},{time:79.37129999995231,note:"C3",pitch:130.22750677441263,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.999621120879862},{time:79.3995,note:"C3",pitch:130.943596436129,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9991483788731905},{time:79.42789999985695,note:"C3",pitch:131.4586694649226,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9992982618315516},{time:79.457,note:"C3",pitch:132.72903510116677,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9994599141768354},{time:79.5095,note:"C3",pitch:133.16449367548395,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999210091849342},{time:79.54559999990464,note:"C3",pitch:132.1851570922144,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9990946228963153},{time:79.5785,note:"C3",pitch:130.8493809653112,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.999459886787804},{time:79.60709999990463,note:"C3",pitch:130.2374768666117,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9997065308716273},{time:79.63529999995231,note:"C3",pitch:130.23499205206696,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999023921145174},{time:79.66379999995232,note:"C3",pitch:130.21688392293152,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999499204853919},{time:79.69239999985695,note:"C3",pitch:130.53973906611066,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9997878258880384},{time:79.721,note:"C3",pitch:131.12126983367665,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9996313893503626},{time:79.74969999980927,note:"C3",pitch:131.67622204711571,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9996766656070442},{time:79.77859999990463,note:"C3",pitch:132.26131577522636,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9997050630210467},{time:79.80729999995232,note:"C3",pitch:133.1364347803019,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9998749027090028},{time:79.83559999990463,note:"C3",pitch:133.30631213809144,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9999387283465424},{time:79.864,note:"C3",pitch:133.1471748236014,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999019222444971},{time:79.89259999990463,note:"C3",pitch:132.40151485573733,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.999587398383607},{time:79.92119999980926,note:"C3",pitch:130.97387552126867,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9985849164735754},{time:79.94969999980927,note:"C3",pitch:130.27759173221236,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9993725279489318},{time:79.97819999980926,note:"C3",pitch:129.86303713427495,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9997931650451264},{time:80.00709999990464,note:"C3",pitch:130.03722445688874,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9998945030391972},{time:80.036,note:"C3",pitch:130.2439938549255,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9996489258755936},{time:80.065,note:"C3",pitch:131.0156362009115,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.999220384125497},{time:80.09409999990463,note:"C3",pitch:132.03673166752336,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.999143229569512},{time:80.12279999995232,note:"C3",pitch:133.07157554321955,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9992362320380828},{time:80.15159999990463,note:"C3",pitch:133.44134757893644,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9998026484120786},{time:80.18019999980926,note:"C3",pitch:133.28561083411714,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9998283725526704},{time:80.20869999980927,note:"C3",pitch:132.49359117101167,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9987515842624077},{time:80.23729999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.26579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.29439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.32279999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.35139999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.37979999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.40839999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.4375,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.48309999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.5185,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.551,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.57959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.608,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.63669999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.66509999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.69379999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.72219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.75109999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.78,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.80839999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.83689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.86519999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.89339999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.922,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.95059999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:80.97919999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.00819999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.03709999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.06579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.09439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.12309999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:81.15189999985695,note:"C3",pitch:129.43072464596725,noteMidi:48,actualMidi:47.82,actualMidiChroma:11.82,centsOffset:-17.99999999999997,clarity:.5732621903954076},{time:81.18039999985695,note:"C3",pitch:129.55318324079823,noteMidi:48,actualMidi:47.83,actualMidiChroma:11.829999999999998,centsOffset:-17.00000000000017,clarity:.9888406156879341},{time:81.20919999980927,note:"C3",pitch:130.07367094943055,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9997888431261615},{time:81.23789999985695,note:"C3",pitch:130.08153590166813,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.99978739036127},{time:81.26639999985694,note:"C3",pitch:130.0763604820101,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9996963692585794},{time:81.29519999980927,note:"C3",pitch:130.053456091158,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9995874910935498},{time:81.32359999990463,note:"C3",pitch:129.98029284084868,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9996306108227486},{time:81.35209999990464,note:"C3",pitch:129.9588908254307,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.999738048868462},{time:81.38089999985695,note:"C3",pitch:130.12952482689374,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9998301240236067},{time:81.41009999990463,note:"C3",pitch:130.3665538285122,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998548787546113},{time:81.45659999990463,note:"C3",pitch:130.6883533100996,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9997789373344936},{time:81.49719999980927,note:"C3",pitch:131.01000784937622,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998054007397812},{time:81.53039999985695,note:"C3",pitch:131.19322026377966,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9999134551443447},{time:81.55889999985695,note:"C3",pitch:131.3294368504119,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9999171726975575},{time:81.58759999990463,note:"C3",pitch:131.40739568282712,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999254012329075},{time:81.61629999995232,note:"C3",pitch:131.44591378519806,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999191043363815},{time:81.645,note:"C3",pitch:131.4171553910885,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9998921734599158},{time:81.6735,note:"C3",pitch:131.32268349558805,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9999366653852633},{time:81.70219999980927,note:"C3",pitch:131.04707321881966,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998635789492418},{time:81.73129999995231,note:"C3",pitch:130.75393405033537,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9998820027009359},{time:81.76009999990464,note:"C3",pitch:130.44868686727713,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9999100771009104},{time:81.78889999985695,note:"C3",pitch:130.10779681112402,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9999345849489103},{time:81.81769999980926,note:"C3",pitch:129.99211340961767,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9999410135206297},{time:81.84629999995232,note:"C3",pitch:129.8854867410476,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999546247701794},{time:81.87529999995232,note:"C3",pitch:129.8379902736612,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999618912313828},{time:81.90439999985695,note:"C3",pitch:129.87486844530665,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999599527822092},{time:81.93359999990463,note:"C3",pitch:129.91373557065924,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999652732096749},{time:81.96209999990464,note:"C3",pitch:129.9975514036747,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9999716478117513},{time:81.99109999990463,note:"C3",pitch:130.31858387806125,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9999537117910258},{time:82.02039999985695,note:"C3",pitch:130.88134740533758,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9999290930457541},{time:82.0495,note:"C3",pitch:131.39864495836696,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999575070125033},{time:82.07809999990464,note:"C3",pitch:131.59660341288176,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999704847294382},{time:82.10669999980927,note:"C3",pitch:131.82792158357896,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999015942045766},{time:82.13509999990464,note:"C3",pitch:131.9650826852782,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9998428131227435},{time:82.164,note:"C3",pitch:131.82378937176944,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999125263483535},{time:82.19259999990463,note:"C3",pitch:131.04144108672114,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9996623842481185},{time:82.22109999990464,note:"C3",pitch:130.24570157542377,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9998922770814147},{time:82.24959999990463,note:"C3",pitch:130.03535607643775,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.999954203239497},{time:82.27839999985694,note:"C3",pitch:130.0550049287606,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999634031332363},{time:82.30679999995232,note:"C3",pitch:130.1986407471304,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999467665490549},{time:82.33589999985695,note:"C3",pitch:130.6871529419585,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9998491957318372},{time:82.36479999995231,note:"C3",pitch:131.7009103486414,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995439811687881},{time:82.39469999980926,note:"C3",pitch:132.8662983307451,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9997153722591321},{time:82.442,note:"C3",pitch:133.1658736426278,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9995386352051092},{time:82.48179999995232,note:"C3",pitch:131.66288360331686,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.999327532738338},{time:82.51489999985695,note:"C3",pitch:130.49264239710664,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.999858718970998},{time:82.54369999980926,note:"C3",pitch:130.0817458542944,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999336603501625},{time:82.57289999985694,note:"C3",pitch:130.01618793473997,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9999557477132051},{time:82.6015,note:"C3",pitch:130.1098107722208,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9999381895581259},{time:82.63029999995231,note:"C3",pitch:130.5097034812004,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9999148034430156},{time:82.65929999995231,note:"C3",pitch:131.31532972018152,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9997720344241152},{time:82.68829999995232,note:"C3",pitch:131.8969264654777,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9997764525039834},{time:82.71719999980927,note:"C3",pitch:132.55121396321059,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9999097023598331},{time:82.74629999995231,note:"C3",pitch:132.68892102906622,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9997534422225627},{time:82.7755,note:"C3",pitch:132.48728590270872,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9994491099658127},{time:82.8045,note:"C3",pitch:131.38239085807612,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9995156230600486},{time:82.8335,note:"C3",pitch:130.24902315543326,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9996910943519346},{time:82.86259999990463,note:"C3",pitch:129.8296432786506,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9998465948480231},{time:82.89139999985694,note:"C3",pitch:129.8406577865055,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.999890359834982},{time:82.92019999980927,note:"C3",pitch:130.01344552346094,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.999699848172444},{time:82.949,note:"C3",pitch:130.25296987753413,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9992657281651418},{time:82.97789999985694,note:"C3",pitch:130.67646569187855,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996384407720527},{time:83.00709999990464,note:"C3",pitch:131.53122247995532,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9998257524778218},{time:83.0365,note:"C3",pitch:131.9432693669085,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.999904263558701},{time:83.066,note:"C3",pitch:132.12597132450443,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9999676654568681},{time:83.09489999985695,note:"C3",pitch:131.79058328960332,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9997889575926564},{time:83.12419999980926,note:"C3",pitch:130.70267120376582,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9995397660315675},{time:83.15309999990463,note:"C3",pitch:129.93685041131474,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9998308193286682},{time:83.18189999985695,note:"C3",pitch:129.7892688841941,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9999166130605808},{time:83.21079999995231,note:"C3",pitch:129.88661088847059,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999548758314027},{time:83.2395,note:"C3",pitch:130.0332471370521,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999365535649396},{time:83.26839999985695,note:"C3",pitch:130.23200740659837,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.999852815837766},{time:83.29729999995232,note:"C3",pitch:131.02218229516245,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998618083498059},{time:83.326,note:"C3",pitch:131.72431956063988,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9995638047794309},{time:83.35529999995232,note:"C3",pitch:132.1848252579758,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9997678404324475},{time:83.38569999980926,note:"C3",pitch:132.33473341382378,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9999478540254003},{time:83.43169999980927,note:"C3",pitch:131.54439194617902,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.999624766163631},{time:83.467,note:"C3",pitch:130.2910058431589,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9996375519295739},{time:83.50019999980927,note:"C3",pitch:129.86181004957174,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.999895562683534},{time:83.529,note:"C3",pitch:129.85866463836908,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999030316586648},{time:83.55809999990463,note:"C3",pitch:129.91898291996227,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999210669130711},{time:83.58719999980927,note:"C3",pitch:130.19149064529645,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9997082405078359},{time:83.61579999995232,note:"C3",pitch:131.2650513494843,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9993273332703083},{time:83.64509999990463,note:"C3",pitch:132.1946520562132,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9994727150979124},{time:83.67419999980926,note:"C3",pitch:132.8273597192754,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.999235483579703},{time:83.70329999995232,note:"C3",pitch:132.81310972477146,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9986651785151608},{time:83.73279999995232,note:"C3",pitch:132.53944017688283,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9977867232244115},{time:83.76179999995232,note:"C3",pitch:131.57798535514644,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9970423423292374},{time:83.79109999990463,note:"C3",pitch:130.46966918311426,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9971165061639979},{time:83.82069999980926,note:"C3",pitch:129.54513289676214,noteMidi:48,actualMidi:47.83,actualMidiChroma:11.829999999999998,centsOffset:-17.00000000000017,clarity:.9974241748331067},{time:83.85,note:"C3",pitch:129.5824079405555,noteMidi:48,actualMidi:47.84,actualMidiChroma:11.840000000000003,centsOffset:-15.999999999999659,clarity:.9977742509724905},{time:83.8795,note:"C3",pitch:129.67416905046449,noteMidi:48,actualMidi:47.85,actualMidiChroma:11.850000000000001,centsOffset:-14.999999999999858,clarity:.9975974722180929},{time:83.9085,note:"C3",pitch:129.7378282208796,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9971636105677604},{time:83.938,note:"C3",pitch:130.32946214351765,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9971998334812611},{time:83.96739999985695,note:"C3",pitch:131.54051694974547,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9959080110879874},{time:83.99689999985695,note:"C3",pitch:132.43910581941958,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9947632314895039},{time:84.02629999995231,note:"C3",pitch:132.3211517794819,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9946299031081018},{time:84.05579999995231,note:"C3",pitch:132.16321404628502,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9950754952220571},{time:84.0855,note:"C3",pitch:131.13193285149552,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.995435943338709},{time:84.11509999990463,note:"C3",pitch:130.1127680162053,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9949801622379617},{time:84.14429999995231,note:"C3",pitch:129.5218369460415,noteMidi:48,actualMidi:47.83,actualMidiChroma:11.829999999999998,centsOffset:-17.00000000000017,clarity:.995929468309118},{time:84.17409999990463,note:"C3",pitch:129.594961415978,noteMidi:48,actualMidi:47.84,actualMidiChroma:11.840000000000003,centsOffset:-15.999999999999659,clarity:.9963969270892257},{time:84.20379999995231,note:"C3",pitch:129.8211268901263,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9964231599918953},{time:84.23329999995232,note:"C3",pitch:130.0423063614795,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9950817301263761},{time:84.26259999990464,note:"C3",pitch:130.78981050964632,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9938588144143843},{time:84.29209999990464,note:"C3",pitch:131.6165336827071,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9944653712777161},{time:84.3215,note:"C3",pitch:132.59913308170113,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9964317148089776},{time:84.35139999985695,note:"C3",pitch:133.1664555307044,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.997281850786063},{time:84.39929999995232,note:"C3",pitch:132.51404213573755,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9994129513729568},{time:84.43429999995232,note:"C3",pitch:130.76076622057064,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9994946166468246},{time:84.46909999990463,note:"C3",pitch:130.1003040719027,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9995630201102088},{time:84.501,note:"C3",pitch:129.74082543045483,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9998165146340163},{time:84.53019999980927,note:"C3",pitch:129.8806986613202,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9998472068735573},{time:84.5595,note:"C3",pitch:130.0997428274062,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9996765378274901},{time:84.58889999985695,note:"C3",pitch:130.58170281931126,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993095847385653},{time:84.61819999980926,note:"C3",pitch:131.20824375597604,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9989910849044605},{time:84.64729999995231,note:"C3",pitch:131.8497437529174,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998120411628832},{time:84.67669999980926,note:"C3",pitch:132.22189316442163,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9999113650314158},{time:84.70589999985695,note:"C3",pitch:132.26538560782313,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.999956828870566},{time:84.73519999980927,note:"C3",pitch:131.8065878814358,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9996657686235793},{time:84.76439999985695,note:"C3",pitch:130.61184406369784,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9993624093165074},{time:84.79379999995231,note:"C3",pitch:130.09412298084257,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9994082109790234},{time:84.82289999985694,note:"C3",pitch:129.8475874980886,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9998298760800104},{time:84.8525,note:"C3",pitch:129.80583629163658,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999390520840201},{time:84.88189999985696,note:"C3",pitch:129.83471870504889,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9999326736694378},{time:84.91159999990464,note:"C3",pitch:130.07396402411908,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9997003155424764},{time:84.94089999985695,note:"C3",pitch:130.41649544344799,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9991525849095417},{time:84.97029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:84.99979999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.0295,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.05929999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.08889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.1185,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.14769999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.17689999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.20579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.23469999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.26389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.29279999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.3225,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.35219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.4005,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.43539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.46959999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.50089999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.5305,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.56,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.58919999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.6185,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.64769999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.677,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:85.70639999985696,note:"C3",pitch:130.1690476109279,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.8895896676950272},{time:85.73579999995232,note:"C3",pitch:130.0447488864072,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9994082721074733},{time:85.7655,note:"C3",pitch:129.97955966602026,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.999605488925063},{time:85.79509999990464,note:"C3",pitch:130.02409329558841,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9994246232234083},{time:85.8245,note:"C3",pitch:129.98185518407868,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9989771235694072},{time:85.854,note:"C3",pitch:129.93103805043464,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9994661511115339},{time:85.88359999990463,note:"C3",pitch:129.88009380632874,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999560455895466},{time:85.91309999990463,note:"C3",pitch:129.9053837933992,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999575085956014},{time:85.94229999995231,note:"C3",pitch:130.05978519024137,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9995863098107698},{time:85.97159999990463,note:"C3",pitch:130.25061840948533,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9994315454677647},{time:86.00119999980926,note:"C3",pitch:130.44190133839587,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9994957006109715},{time:86.03089999985694,note:"C3",pitch:130.69774130222746,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996507470551634},{time:86.06059999990464,note:"C3",pitch:131.10804747326034,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9997474096322669},{time:86.09019999980927,note:"C3",pitch:131.47031690538202,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9997452957194071},{time:86.12179999995232,note:"C3",pitch:131.86516352489943,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9998020046029978},{time:86.15209999990464,note:"C3",pitch:132.12098093697304,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9996236191300838},{time:86.1835,note:"C3",pitch:132.1503723137375,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9991243290541512},{time:86.213,note:"C3",pitch:132.07950083625204,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998238998383648},{time:86.24239999985694,note:"C3",pitch:132.0588900345859,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9997713650460867},{time:86.2725,note:"C3",pitch:132.09914680936487,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9996050749008134},{time:86.32089999985695,note:"C3",pitch:132.09293719867608,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9993307886757634},{time:86.35609999990463,note:"C3",pitch:132.0359644989856,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9998221096123565},{time:86.38919999980926,note:"C3",pitch:131.41855890109557,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.999750094148748},{time:86.42039999985695,note:"C3",pitch:130.7733987896671,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9996436572493863},{time:86.44989999985695,note:"C3",pitch:130.35664363592795,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9997142027406163},{time:86.4795,note:"C3",pitch:130.16034524810308,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9996939806911271},{time:86.50909999990463,note:"C3",pitch:129.9540998667191,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9996767550668544},{time:86.54059999990463,note:"C3",pitch:129.86146517280486,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9996410212643845},{time:86.571,note:"C3",pitch:129.87256325745545,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9993754076221855},{time:86.60239999985694,note:"C3",pitch:129.93566088690355,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9994686704525186},{time:86.63209999990464,note:"C3",pitch:129.9516470481635,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9988978564678774},{time:86.66189999985694,note:"C3",pitch:129.96265058905675,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9988950641732011},{time:86.69389999985695,note:"C3",pitch:129.90317958747053,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999030654819169},{time:86.72439999985694,note:"C3",pitch:129.89280464344247,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9993308961701608},{time:86.756,note:"C3",pitch:129.8156884121825,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9992274362228777},{time:86.78569999980927,note:"C3",pitch:129.79514573316902,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9990029441356967},{time:86.81539999985695,note:"C3",pitch:129.78149429111912,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9994317606810412},{time:86.84769999980927,note:"C3",pitch:129.78920891825885,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.999136238100963},{time:86.87819999980927,note:"C3",pitch:129.7825225272838,noteMidi:48,actualMidi:47.86,actualMidiChroma:11.86,centsOffset:-14.000000000000057,clarity:.9987636176145465},{time:86.90969999980926,note:"C3",pitch:131.90509874219197,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9596373990694538},{time:86.93959999990463,note:"Db3",pitch:140.95898506014944,noteMidi:49,actualMidi:49.29,actualMidiChroma:1.2899999999999991,centsOffset:28.999999999999915,clarity:.6653973985282189},{time:86.96909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:87.00109999990464,note:"Bb3",pitch:229.6926223113825,noteMidi:58,actualMidi:57.75,actualMidiChroma:9.75,centsOffset:-25,clarity:.02321549320556171},{time:87.03189999985695,note:"C3",pitch:130.16854278276128,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9142103459962101},{time:87.06389999985694,note:"C3",pitch:129.92065244141577,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9983322057047843},{time:87.09369999980926,note:"C3",pitch:129.91104242929626,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9991079448103903},{time:87.12359999990463,note:"C3",pitch:129.86444750205467,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9991013105883297},{time:87.15559999990464,note:"C3",pitch:129.87269423401742,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9990480988629926},{time:87.18659999990463,note:"C3",pitch:129.83333081751783,noteMidi:48,actualMidi:47.87,actualMidiChroma:11.869999999999997,centsOffset:-13.000000000000256,clarity:.9991925963847308},{time:87.23659999990463,note:"C3",pitch:129.9226890005417,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.999086955984982},{time:87.27159999990464,note:"C3",pitch:129.98215446701425,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9993114338523732},{time:87.30479999995232,note:"C3",pitch:130.0003947363846,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9993490928387629},{time:87.33579999995231,note:"C3",pitch:130.1916454067025,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9993937610540407},{time:87.36539999985695,note:"C3",pitch:130.33951650264865,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9992658085148491},{time:87.39519999980926,note:"C3",pitch:130.48933280032315,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9993967526763221},{time:87.42669999980926,note:"C3",pitch:130.63614316055646,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9994374996685345},{time:87.45729999995231,note:"C3",pitch:130.74026309001806,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.999414982895054},{time:87.489,note:"C3",pitch:131.0544904137235,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9995516235146873},{time:87.51869999980927,note:"C3",pitch:131.2165293998828,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9994517782143753},{time:87.54879999995232,note:"C3",pitch:131.51906098784187,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9996715879618456},{time:87.58019999980927,note:"C3",pitch:131.61878675711282,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.99947580975196},{time:87.61059999990464,note:"C3",pitch:131.74772182981505,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9992688563788299},{time:87.642,note:"C3",pitch:131.9337619358694,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9987819038032377},{time:87.67169999980926,note:"C3",pitch:132.11761216337504,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.999074752562624},{time:87.7035,note:"C3",pitch:132.39626201220253,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9994072771072382},{time:87.73409999990463,note:"C3",pitch:132.58356452733506,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9993286937189758},{time:87.7655,note:"C3",pitch:132.83703665515287,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.999289541059742},{time:87.79509999990464,note:"C3",pitch:133.22157905398427,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9992411342469616},{time:87.82689999985695,note:"C3",pitch:133.2867344209024,noteMidi:48,actualMidi:48.32,actualMidiChroma:.3200000000000003,centsOffset:32.00000000000003,clarity:.9990868713898102},{time:87.85779999995232,note:"C3",pitch:133.42334504355327,noteMidi:48,actualMidi:48.34,actualMidiChroma:.3400000000000034,centsOffset:34.00000000000034,clarity:.9990669627153288},{time:87.88919999980926,note:"C3",pitch:133.67150542804043,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9990866843765609},{time:87.91909999990463,note:"C3",pitch:133.7892086706009,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9989910559760204},{time:87.95109999990463,note:"C3",pitch:133.8845041050841,noteMidi:48,actualMidi:48.4,actualMidiChroma:.3999999999999986,centsOffset:39.99999999999986,clarity:.9988899914925611},{time:87.98169999980927,note:"C3",pitch:133.96058209062457,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.998711320673582},{time:88.01389999985695,note:"C3",pitch:134.06786169470456,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9986348832863108},{time:88.04429999995232,note:"C3",pitch:134.0763915880449,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9987611212977612},{time:88.07669999980926,note:"C3",pitch:134.08068106123378,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9988914198910592},{time:88.11059999990464,note:"C3",pitch:134.03008115953713,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.9981159782774789},{time:88.15879999995232,note:"C3",pitch:134.04230126801536,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.9974200649274714},{time:88.19459999990464,note:"C3",pitch:134.0614159247188,noteMidi:48,actualMidi:48.42,actualMidiChroma:.4200000000000017,centsOffset:42.00000000000017,clarity:.9977735240370613},{time:88.23029999995232,note:"C3",pitch:134.07759517849243,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9984739427217768},{time:88.26009999990464,note:"C3",pitch:133.9421987794151,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.998560953240542},{time:88.292,note:"C3",pitch:133.98520638626385,noteMidi:48,actualMidi:48.41,actualMidiChroma:.4099999999999966,centsOffset:40.99999999999966,clarity:.99893445749046},{time:88.32439999985695,note:"C3",pitch:134.06796682494436,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9976688805186704},{time:88.35409999990463,note:"C3",pitch:134.13606442046623,noteMidi:48,actualMidi:48.43,actualMidiChroma:.4299999999999997,centsOffset:42.99999999999997,clarity:.9941796198967552},{time:88.38619999980926,note:"C3",pitch:133.63341608147311,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9890342372065355},{time:88.41819999980926,note:"C3",pitch:133.6817547231097,noteMidi:48,actualMidi:48.38,actualMidiChroma:.38000000000000256,centsOffset:38.000000000000256,clarity:.9841264392286817},{time:88.448,note:"C3",pitch:133.76326429090935,noteMidi:48,actualMidi:48.39,actualMidiChroma:.39000000000000057,centsOffset:39.00000000000006,clarity:.9824464402159876},{time:88.47989999985695,note:"C3",pitch:133.64930849487652,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9858034133594771},{time:88.5105,note:"C3",pitch:133.5142278989381,noteMidi:48,actualMidi:48.35,actualMidiChroma:.3500000000000014,centsOffset:35.00000000000014,clarity:.9903085593102787},{time:88.54229999995232,note:"C3",pitch:133.32326917896583,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9926325060191274},{time:88.57209999990464,note:"C3",pitch:133.1522494309247,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9949989417994871},{time:88.60409999990463,note:"C3",pitch:133.0912510327167,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9968410550606812},{time:88.63609999990463,note:"C3",pitch:133.15475779210593,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9985707573037779},{time:88.66609999990463,note:"C3",pitch:133.1860991960026,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9994908722334266},{time:88.69789999985694,note:"C3",pitch:133.19383862608444,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999110403961211},{time:88.73029999995232,note:"C3",pitch:133.15650960700177,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999503727742294},{time:88.76009999990464,note:"C3",pitch:133.14367980909321,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9999499603137245},{time:88.792,note:"C3",pitch:133.11752247436036,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9999555097022323},{time:88.82419999980927,note:"C3",pitch:133.06684436967504,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.9999572952869364},{time:88.85429999995232,note:"C3",pitch:133.0017377446405,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9999613178805298},{time:88.88629999995231,note:"C3",pitch:132.88483875465192,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999599156663663},{time:88.91869999980926,note:"C3",pitch:132.79356281547155,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9999671111449473},{time:88.956,note:"C3",pitch:132.74664613609846,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9999643362909723},{time:88.99529999995232,note:"C3",pitch:132.58575097777438,noteMidi:48,actualMidi:48.23,actualMidiChroma:.22999999999999687,centsOffset:22.999999999999687,clarity:.9999529977475774},{time:89.02809999990463,note:"C3",pitch:132.45454785910258,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9999534453081296},{time:89.059,note:"C3",pitch:132.15941982070052,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999445017859863},{time:89.11059999990464,note:"C3",pitch:132.01584237647532,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9999635593256642},{time:89.14709999990463,note:"C3",pitch:131.8909237364915,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9999561395044942},{time:89.18259999990464,note:"C3",pitch:131.81063482667514,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999561266568158},{time:89.2125,note:"C3",pitch:131.81969503945828,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9999595613231911},{time:89.2445,note:"C3",pitch:131.75159065246075,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.999958408851942},{time:89.27689999985695,note:"C3",pitch:131.6798074696672,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9999553931770073},{time:89.30689999985695,note:"C3",pitch:131.70582683782052,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9999601491697021},{time:89.33929999995232,note:"C3",pitch:131.57968710470342,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999561602517844},{time:89.37179999995232,note:"C3",pitch:131.44924503278412,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999456536296769},{time:89.40169999980927,note:"C3",pitch:131.3037633804693,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9999564679478112},{time:89.43379999995231,note:"C3",pitch:131.1789783000874,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9999593108498068},{time:89.46669999980926,note:"C3",pitch:131.1839121113604,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9999538979293945},{time:89.49679999995232,note:"C3",pitch:131.0726067155647,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9999513253776477},{time:89.52859999990463,note:"C3",pitch:130.9799920788173,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999581091610885},{time:89.561,note:"C3",pitch:131.0005107738657,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999575956675102},{time:89.59129999995231,note:"C3",pitch:130.9419490366748,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999552591507879},{time:89.62329999995232,note:"C3",pitch:130.90205157087104,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9999546966905548},{time:89.656,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.686,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.71809999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.75039999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.78029999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.812,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.84479999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.87509999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.90719999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.94009999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:89.97059999990464,note:"C3",pitch:131.7163516122135,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.8550514318343261},{time:90.00309999990463,note:"C3",pitch:131.25275899631913,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9905657251899953},{time:90.03629999995232,note:"C3",pitch:131.10067265316056,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.999428387666562},{time:90.06789999985695,note:"C3",pitch:131.09588594336807,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9994096103587964},{time:90.1195,note:"C3",pitch:131.07724499383914,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9992789707806438},{time:90.15829999995232,note:"C3",pitch:131.13393592082087,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9994055430508269},{time:90.192,note:"C3",pitch:131.1213677454967,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9991555289836818},{time:90.225,note:"C3",pitch:131.10795498746955,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9991354082174659},{time:90.25769999980926,note:"C3",pitch:131.161613442175,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9992968105487385},{time:90.28759999990463,note:"C3",pitch:131.30190873023113,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9993555296266585},{time:90.31959999990464,note:"C3",pitch:131.58099586314978,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9994314207312911},{time:90.35179999995232,note:"C3",pitch:131.7758022791766,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9991700099769041},{time:90.382,note:"C3",pitch:131.86763218024942,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.9993057850311544},{time:90.41379999995232,note:"C3",pitch:131.95499290336,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9994259260453617},{time:90.44629999995232,note:"C3",pitch:132.153638670821,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.999546634380124},{time:90.47889999985695,note:"C3",pitch:132.42227746879567,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.999290806150313},{time:90.51109999990463,note:"C3",pitch:132.44296355450302,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9993722700995384},{time:90.54139999985695,note:"C3",pitch:132.46134886991317,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9992006039682124},{time:90.57309999990463,note:"C3",pitch:132.60899181452112,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9992157144783036},{time:90.60579999995231,note:"C3",pitch:132.74172017306518,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9991059477407198},{time:90.636,note:"C3",pitch:132.8087014140001,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9989572697533511},{time:90.668,note:"C3",pitch:132.79176687458352,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9990295169865959},{time:90.7005,note:"C3",pitch:132.7738325226028,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9984534456605516},{time:90.73279999995232,note:"C3",pitch:132.7883229648017,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9980525438282548},{time:90.76839999985695,note:"C3",pitch:132.83194695100528,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9978896060112952},{time:90.80669999980927,note:"C3",pitch:132.79881931930427,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9980209602360723},{time:90.84,note:"C3",pitch:132.740726026717,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9973231230922011},{time:90.8735,note:"C3",pitch:132.81812413985656,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9967333360474129},{time:90.90679999995231,note:"C3",pitch:132.64329949067937,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9963684228830729},{time:90.93959999990463,note:"C3",pitch:132.67708524595423,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.995323632817879},{time:90.97219999980926,note:"C3",pitch:132.73603526104674,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9947693373563204},{time:91.00489999985695,note:"C3",pitch:132.78628184803807,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9947868029422722},{time:91.03719999980926,note:"C3",pitch:132.8133224009139,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9948914204649384},{time:91.07009999990463,note:"C3",pitch:132.80681103925414,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9953242421594695},{time:91.10329999995231,note:"C3",pitch:132.73378763052315,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9967482259413245},{time:91.1555,note:"C3",pitch:132.81806444271436,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9962118238342796},{time:91.194,note:"C3",pitch:132.74327437408414,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9947957038987099},{time:91.23139999985695,note:"C3",pitch:132.8508911840896,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9919391144222729},{time:91.26419999980926,note:"C3",pitch:132.6033813462675,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9901852755331788},{time:91.29659999990463,note:"C3",pitch:132.63775254680056,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9912067462516774},{time:91.32929999995231,note:"C3",pitch:132.65881857912,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9920255956352761},{time:91.36179999995231,note:"C3",pitch:132.70948731496424,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9929622873752102},{time:91.39459999990463,note:"C3",pitch:132.82230409395345,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9939570120582175},{time:91.42679999995232,note:"C3",pitch:132.6629742161958,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9954231575187471},{time:91.45919999980927,note:"C3",pitch:132.6807117295336,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9962879314698156},{time:91.49139999985695,note:"C3",pitch:132.62663445066704,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9971658290576499},{time:91.524,note:"C3",pitch:132.4649631096671,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9982245960237393},{time:91.55659999990463,note:"C3",pitch:132.2319909874056,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.999246299746261},{time:91.58939999985695,note:"C3",pitch:131.9416875631291,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9996762363958602},{time:91.622,note:"C3",pitch:131.81733043822103,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9993523018263382},{time:91.65489999985695,note:"C3",pitch:131.50094172481914,noteMidi:48,actualMidi:48.09,actualMidiChroma:.09000000000000341,centsOffset:9.000000000000341,clarity:.9990392828205543},{time:91.68719999980927,note:"C3",pitch:131.30822772610884,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9990942810159211},{time:91.71969999980927,note:"C3",pitch:131.14241513129235,noteMidi:48,actualMidi:48.04,actualMidiChroma:.03999999999999915,centsOffset:3.9999999999999147,clarity:.9997496956648355},{time:91.7525,note:"C3",pitch:130.99202417114734,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9999218478444085},{time:91.78529999995231,note:"C3",pitch:130.8819132440457,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9999332773446632},{time:91.81819999980927,note:"C3",pitch:130.8327944772433,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9999249039121452},{time:91.851,note:"C3",pitch:130.74640332038496,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9999358060561576},{time:91.88369999980927,note:"C3",pitch:130.65445798637452,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999443660409106},{time:91.91629999995232,note:"C3",pitch:130.70517277622366,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9999644123106286},{time:91.94939999985695,note:"C3",pitch:130.66762363175914,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9999542690451442},{time:91.9825,note:"C3",pitch:130.60467245886457,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999505353864571},{time:92.01539999985695,note:"C3",pitch:130.60687338308682,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999534028513466},{time:92.0485,note:"C3",pitch:130.57154160798663,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999569895445255},{time:92.0815,note:"C3",pitch:130.59334515059723,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.999956057534714},{time:92.11439999985694,note:"C3",pitch:130.6178721558263,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.999959830267251},{time:92.14769999980926,note:"C3",pitch:130.60654451139058,noteMidi:48,actualMidi:47.97,actualMidiChroma:11.969999999999999,centsOffset:-3.0000000000001137,clarity:.9999551951091377},{time:92.20109999990463,note:"C3",pitch:130.72633459899586,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9999347822592455},{time:92.2415,note:"C3",pitch:131.0572211433047,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9998808436633873},{time:92.27819999980926,note:"C3",pitch:131.31900463701388,noteMidi:48,actualMidi:48.07,actualMidiChroma:.07000000000000028,centsOffset:7.000000000000028,clarity:.9999229498099851},{time:92.3105,note:"C3",pitch:131.45353671520905,noteMidi:48,actualMidi:48.08,actualMidiChroma:.0799999999999983,centsOffset:7.9999999999998295,clarity:.9999365846663899},{time:92.34359999990463,note:"C3",pitch:131.60833581074525,noteMidi:48,actualMidi:48.1,actualMidiChroma:.10000000000000142,centsOffset:10.000000000000142,clarity:.9999243329582583},{time:92.377,note:"C3",pitch:131.89017836787426,noteMidi:48,actualMidi:48.14,actualMidiChroma:.14000000000000057,centsOffset:14.000000000000057,clarity:.999925873888099},{time:92.40969999980926,note:"C3",pitch:132.19996095898918,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9999479798542481},{time:92.44239999985695,note:"C3",pitch:132.3670308591541,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.999939425083344},{time:92.475,note:"C3",pitch:132.476573272638,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.999943776995952},{time:92.50739999985694,note:"C3",pitch:132.66147128967557,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9999436321707265},{time:92.54069999980926,note:"C3",pitch:132.808704,noteMidi:48,actualMidi:48.26,actualMidiChroma:.259999999999998,centsOffset:25.9999999999998,clarity:.9999500154886398},{time:92.57379999995231,note:"C3",pitch:132.89711722401634,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9999482882952968},{time:92.6065,note:"C3",pitch:132.94485033246332,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999529511958585},{time:92.63939999985695,note:"C3",pitch:132.94922198856653,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999494737640156},{time:92.67239999985695,note:"C3",pitch:132.95113853922166,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999413641523383},{time:92.70539999985695,note:"C3",pitch:132.92363510593097,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9999415899871096},{time:92.73789999985695,note:"C3",pitch:132.90534128124142,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.999930791548092},{time:92.771,note:"C3",pitch:132.29718181637296,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.9996404562005061},{time:92.80389999985695,note:"C3",pitch:131.71619163129168,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9997959644096319},{time:92.8375,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.87019999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.90339999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.93659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:92.96919999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.00189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.03529999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.06879999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.10219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.15429999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.19359999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.22969999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.26269999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.29509999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.32809999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.3605,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.39319999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.42569999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.45889999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.49139999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.52459999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.55779999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.59059999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.6235,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.65609999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.68909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.72179999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.754,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.78689999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.8195,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.85219999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.88459999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.91729999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.94979999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:93.983,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:94.01609999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:94.04969999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:94.08309999990463,note:"D3",pitch:142.69587717205525,noteMidi:50,actualMidi:49.51,actualMidiChroma:1.509999999999998,centsOffset:-49.0000000000002,clarity:.29788434170722766},{time:94.1165,note:"C3",pitch:130.00190845824918,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9167995073213149},{time:94.15019999980926,note:"C3",pitch:130.46211389867682,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996291399078743},{time:94.20309999990464,note:"C3",pitch:131.16928926452735,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9997391388233225},{time:94.24379999995232,note:"C3",pitch:131.9618310954713,noteMidi:48,actualMidi:48.15,actualMidiChroma:.14999999999999858,centsOffset:14.999999999999858,clarity:.9996525811257513},{time:94.281,note:"C3",pitch:132.8780326550286,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9997556087465611},{time:94.31409999990463,note:"C3",pitch:133.11982841648717,noteMidi:48,actualMidi:48.3,actualMidiChroma:.29999999999999716,centsOffset:29.999999999999716,clarity:.999873141571257},{time:94.34689999985694,note:"C3",pitch:132.7300778482547,noteMidi:48,actualMidi:48.25,actualMidiChroma:.25,centsOffset:25,clarity:.9995971740839416},{time:94.37929999995232,note:"C3",pitch:130.84544886920366,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9995197656497545},{time:94.412,note:"C3",pitch:130.11723571475775,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9998647744667544},{time:94.44509999990463,note:"C3",pitch:130.13073643162045,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.999907710368138},{time:94.47779999995231,note:"C3",pitch:130.35864842077956,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998332423950309},{time:94.511,note:"C3",pitch:131.83322371702496,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.9993050421230834},{time:94.54369999980926,note:"C3",pitch:133.31926421160492,noteMidi:48,actualMidi:48.33,actualMidiChroma:.3299999999999983,centsOffset:32.99999999999983,clarity:.9997564558990142},{time:94.57669999980926,note:"C3",pitch:133.62270311079152,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.999912903453879},{time:94.60939999985695,note:"C3",pitch:132.4538172250806,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9993553028734183},{time:94.64239999985695,note:"C3",pitch:130.900359524163,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9996713906350223},{time:94.67519999980927,note:"C3",pitch:129.94860329369126,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9998858464137328},{time:94.70859999990464,note:"C3",pitch:129.92412691953328,noteMidi:48,actualMidi:47.88,actualMidiChroma:11.880000000000003,centsOffset:-11.999999999999744,clarity:.9999299275747724},{time:94.74169999980927,note:"C3",pitch:130.43467655182675,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9998407364025361},{time:94.77479999995232,note:"C3",pitch:131.28948451542794,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9997139767666496},{time:94.80789999985694,note:"C3",pitch:132.19626903628554,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.999882965082957},{time:94.84129999995231,note:"C3",pitch:132.40469935061716,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.999952310660678},{time:94.87439999985695,note:"C3",pitch:132.0793719656844,noteMidi:48,actualMidi:48.17,actualMidiChroma:.1700000000000017,centsOffset:17.00000000000017,clarity:.9998707769317505},{time:94.90729999995231,note:"C3",pitch:130.96525855304316,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9997072274382539},{time:94.94009999990463,note:"C3",pitch:130.11620647733372,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9998541028812689},{time:94.97329999995232,note:"C3",pitch:130.10968364740114,noteMidi:48,actualMidi:47.91,actualMidiChroma:11.909999999999997,centsOffset:-9.000000000000341,clarity:.9995510029202492},{time:95.00629999995232,note:"C3",pitch:130.46593266398642,noteMidi:48,actualMidi:47.95,actualMidiChroma:11.950000000000003,centsOffset:-4.999999999999716,clarity:.9996078112554869},{time:95.03969999980926,note:"C3",pitch:132.0134917788598,noteMidi:48,actualMidi:48.16,actualMidiChroma:.1599999999999966,centsOffset:15.999999999999659,clarity:.9994391561508174},{time:95.07309999990463,note:"C3",pitch:133.19567584070833,noteMidi:48,actualMidi:48.31,actualMidiChroma:.3100000000000023,centsOffset:31.000000000000227,clarity:.9998292611251891},{time:95.107,note:"C3",pitch:133.6804102716013,noteMidi:48,actualMidi:48.38,actualMidiChroma:.38000000000000256,centsOffset:38.000000000000256,clarity:.999961914788841},{time:95.15929999995231,note:"C3",pitch:132.445139449053,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9995771014578985},{time:95.19859999990463,note:"C3",pitch:130.99807088973577,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9996672986125361},{time:95.23389999985694,note:"C3",pitch:130.17365515926133,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.999922602441579},{time:95.268,note:"C3",pitch:130.21960218540613,noteMidi:48,actualMidi:47.92,actualMidiChroma:11.920000000000002,centsOffset:-7.9999999999998295,clarity:.9999264712541525},{time:95.30079999995232,note:"C3",pitch:130.96381951813203,noteMidi:48,actualMidi:48.02,actualMidiChroma:.020000000000003126,centsOffset:2.0000000000003126,clarity:.9996973741577762},{time:95.33419999980927,note:"C3",pitch:132.43720449924913,noteMidi:48,actualMidi:48.21,actualMidiChroma:.21000000000000085,centsOffset:21.000000000000085,clarity:.9994116394164898},{time:95.367,note:"C3",pitch:133.66413358349158,noteMidi:48,actualMidi:48.37,actualMidiChroma:.36999999999999744,centsOffset:36.999999999999744,clarity:.9997951639588614},{time:95.39989999985696,note:"C3",pitch:134.25501315071034,noteMidi:48,actualMidi:48.45,actualMidiChroma:.45000000000000284,centsOffset:45.000000000000284,clarity:.9999788883390224},{time:95.43259999990464,note:"C3",pitch:134.14186833058218,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9999477047021088},{time:95.46539999985694,note:"C3",pitch:132.84715689662713,noteMidi:48,actualMidi:48.27,actualMidiChroma:.2700000000000031,centsOffset:27.000000000000313,clarity:.9990598931665353},{time:95.49819999980926,note:"C3",pitch:130.82480061572468,noteMidi:48,actualMidi:48,actualMidiChroma:0,centsOffset:0,clarity:.9993676410699877},{time:95.53129999995231,note:"C3",pitch:129.97402797726946,noteMidi:48,actualMidi:47.89,actualMidiChroma:11.89,centsOffset:-10.999999999999943,clarity:.9997051541956772},{time:95.56469999980926,note:"C3",pitch:130.08934188087022,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.999783500722458},{time:95.59739999985695,note:"C3",pitch:130.87511884585177,noteMidi:48,actualMidi:48.01,actualMidiChroma:.00999999999999801,centsOffset:.999999999999801,clarity:.9995290380223061},{time:95.63009999990463,note:"C3",pitch:132.99220402169274,noteMidi:48,actualMidi:48.29,actualMidiChroma:.28999999999999915,centsOffset:28.999999999999915,clarity:.9995579254222591},{time:95.66319999980927,note:"C3",pitch:134.44425002521857,noteMidi:48,actualMidi:48.47,actualMidiChroma:.46999999999999886,centsOffset:46.999999999999886,clarity:.9996869620308928},{time:95.696,note:"Db3",pitch:134.81597071748288,noteMidi:49,actualMidi:48.52,actualMidiChroma:.5200000000000031,centsOffset:-47.99999999999969,clarity:.9999017296423673},{time:95.7295,note:"C3",pitch:134.15176677627286,noteMidi:48,actualMidi:48.44,actualMidiChroma:.4399999999999977,centsOffset:43.99999999999977,clarity:.9995942406910387},{time:95.76239999985695,note:"C3",pitch:132.21261185870472,noteMidi:48,actualMidi:48.18,actualMidiChroma:.17999999999999972,centsOffset:17.99999999999997,clarity:.9988988313268514},{time:95.7955,note:"C3",pitch:130.63428982614863,noteMidi:48,actualMidi:47.98,actualMidiChroma:11.979999999999997,centsOffset:-2.0000000000003126,clarity:.9996736533216755},{time:95.82839999985696,note:"C3",pitch:130.0771982499312,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9998348036719698},{time:95.86169999980926,note:"C3",pitch:130.03975272775529,noteMidi:48,actualMidi:47.9,actualMidiChroma:11.899999999999999,centsOffset:-10.000000000000142,clarity:.9999364862095952},{time:95.89519999980926,note:"C3",pitch:130.38702697817743,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998337124702168},{time:95.92859999990463,note:"C3",pitch:131.27868533541687,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9996186650232985},{time:95.96179999995232,note:"C3",pitch:132.36717454920043,noteMidi:48,actualMidi:48.2,actualMidiChroma:.20000000000000284,centsOffset:20.000000000000284,clarity:.999909962988287},{time:95.99529999995232,note:"C3",pitch:132.66922623478507,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9999651202234183},{time:96.02819999980926,note:"C3",pitch:132.5079215306246,noteMidi:48,actualMidi:48.22,actualMidiChroma:.21999999999999886,centsOffset:21.999999999999886,clarity:.9998808642182553},{time:96.06169999980926,note:"C3",pitch:131.03394137100676,noteMidi:48,actualMidi:48.03,actualMidiChroma:.030000000000001137,centsOffset:3.0000000000001137,clarity:.9996627109406333},{time:96.095,note:"C3",pitch:130.37901022852822,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9998426523637356},{time:96.12889999985696,note:"C3",pitch:130.28848562957455,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9999216691358832},{time:96.18279999995232,note:"C3",pitch:130.76861852344462,noteMidi:48,actualMidi:47.99,actualMidiChroma:11.990000000000002,centsOffset:-.999999999999801,clarity:.9995799906989795},{time:96.22319999980927,note:"C3",pitch:132.22371356796603,noteMidi:48,actualMidi:48.19,actualMidiChroma:.18999999999999773,centsOffset:18.999999999999773,clarity:.9992780923190345},{time:96.26009999990464,note:"C3",pitch:132.93632319716036,noteMidi:48,actualMidi:48.28,actualMidiChroma:.28000000000000114,centsOffset:28.000000000000114,clarity:.9996124776109028},{time:96.29319999980926,note:"C3",pitch:132.66185583498452,noteMidi:48,actualMidi:48.24,actualMidiChroma:.240000000000002,centsOffset:24.0000000000002,clarity:.9992941887295999},{time:96.32589999985694,note:"C3",pitch:131.6602521200452,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9992602632515002},{time:96.35909999990463,note:"C3",pitch:130.3916085512424,noteMidi:48,actualMidi:47.94,actualMidiChroma:11.939999999999998,centsOffset:-6.000000000000227,clarity:.9980280182692205},{time:96.3925,note:"C3",pitch:130.28674373217234,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.997390697751424},{time:96.42539999985695,note:"C3",pitch:130.4889918148063,noteMidi:48,actualMidi:47.96,actualMidiChroma:11.96,centsOffset:-3.9999999999999147,clarity:.9957800339751266},{time:96.45869999980927,note:"C3",pitch:131.2620738602981,noteMidi:48,actualMidi:48.06,actualMidiChroma:.060000000000002274,centsOffset:6.000000000000227,clarity:.9984161066779507},{time:96.491,note:"C3",pitch:131.77616596835628,noteMidi:48,actualMidi:48.13,actualMidiChroma:.13000000000000256,centsOffset:13.000000000000256,clarity:.997796236448238},{time:96.52429999995232,note:"C3",pitch:131.7160988367074,noteMidi:48,actualMidi:48.12,actualMidiChroma:.11999999999999744,centsOffset:11.999999999999744,clarity:.9962135371360539},{time:96.557,note:"C3",pitch:131.67651653525397,noteMidi:48,actualMidi:48.11,actualMidiChroma:.10999999999999943,centsOffset:10.999999999999943,clarity:.9946504971685535},{time:96.591,note:"C3",pitch:131.2022299448803,noteMidi:48,actualMidi:48.05,actualMidiChroma:.04999999999999716,centsOffset:4.999999999999716,clarity:.9914982300385979},{time:96.62379999995231,note:"C3",pitch:130.30145617239472,noteMidi:48,actualMidi:47.93,actualMidiChroma:11.93,centsOffset:-7.000000000000028,clarity:.9945327634060845},{time:96.657,note:"C3",pitch:128.31727572011937,noteMidi:48,actualMidi:47.67,actualMidiChroma:11.670000000000002,centsOffset:-32.99999999999983,clarity:.985559039234527},{time:96.68989999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.7235,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.75639999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.78959999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.82229999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.85619999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.88909999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.92319999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.956,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:96.99019999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.04439999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.08519999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.12219999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.15469999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.188,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.22019999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.25339999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.28589999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.3195,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.35189999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.38539999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.41829999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.45179999995231,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.48489999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.51879999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.551,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.5845,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.61709999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.65119999980926,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.68389999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.71779999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.75059999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.78389999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.81679999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.85069999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.88369999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.91789999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:97.95089999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.00539999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.04579999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.08359999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.11689999985695,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.15039999985694,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.183,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.21659999990463,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.249,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.28219999980927,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.31529999995232,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0},{time:98.34859999990464,note:"",pitch:0,noteMidi:null,actualMidi:null,actualMidiChroma:null,centsOffset:null,clarity:0}],gMt="pitch-offset-cents",MMt="0.13.3",yMt="2024-09-06T16:50:35.256Z",AMt={pastTime:dMt,firstTimeStamp:hMt,minVolumeDecibels:fMt,colorArea:mMt,bendValues:pMt,_appId:gMt,_softwareVersion:MMt,_date:yMt};function fT(e){let t,i,n;return{c(){t=q("p"),i=te("Current closest note: "),n=te(e[5])},m(a,o){bt(a,t,o),B(t,i),B(t,n)},p(a,o){o&32&&Qe(n,a[5])},d(a){a&&vt(t)}}}function vMt(e){let t,i,n;return{c(){t=q("p"),t.textContent="1) Play or sing a note as accurately as possible.",i=K(),n=q("p"),n.textContent="2) Bend/sing a note 25 cents higher (for example as a vibrato)."},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function bMt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p=e[3]?"play":"pause",f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St=e[9].length>0&&fT(e);function At(Gt){e[16](Gt)}let xt={label:"past seconds",callback:e[11],min:5,max:60,step:5};e[6]!==void 0&&(xt.value=e[6]),g=new M0({props:xt}),he.push(()=>Ee(g,"value",At));function gt(Gt){e[18](Gt)}let yt={title:"The minimum loudness in decibels for a sound to be registered as input. Lower means fainter notes will be registered but there will be more noise such as octave errors.",label:"min. decibels",callback:e[17],min:-40,max:-5,step:5};e[7]!==void 0&&(yt.value=e[7]),v=new M0({props:yt}),he.push(()=>Ee(v,"value",gt));function lt(Gt){e[19](Gt)}let zt={label:"colors",title:"Use blue for low and red for high",callback:e[11]};e[8]!==void 0&&(zt.checked=e[8]),_=new zn({props:zt}),he.push(()=>Ee(_,"checked",lt));function kt(Gt){e[23](Gt)}let Jt={saveToStorage:EMt,callback:e[22]};return e[9]!==void 0&&(Jt.notes=e[9]),P=new c9({props:Jt}),he.push(()=>Ee(P,"notes",kt)),G=new f9({props:{loadData:e[14],getExportData:e[13],appId:e[0].id}}),J=new e9({props:{$$slots:{default:[vMt]},$$scope:{ctx:e}}}),j=new i9({props:{appId:e[0].id}}),et=new X9({props:{key:" ",keyDown:e[15]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing hitting the correct pitch (for example an
            exact C) or playing/singing off-tune. The line chart below shows how
            far you bend up and down over time.`,c=K(),St&&St.c(),d=K(),u=q("div"),h=q("button"),f=te(p),M=K(),Pt(g.$$.fragment),b=K(),Pt(v.$$.fragment),w=K(),Pt(_.$$.fragment),S=K(),I=q("button"),I.textContent="resume",T=K(),k=q("div"),D=K(),N=q("div"),Pt(P.$$.fragment),U=K(),V=q("button"),V.textContent="example",z=K(),Pt(G.$$.fragment),H=K(),Pt(J.$$.fragment),Z=K(),Pt(j.$$.fragment),W=K(),Pt(et.$$.fragment),mt(l,"class","explanation"),mt(h,"title","Pause the moving visualization (shortcut: space)"),sn(h,"width","75px"),mt(I,"title","Press this button if your browser prevents audio access because there needs to be a user interaction first"),mt(u,"class","control"),mt(k,"class","visualization"),mt(N,"class","control"),mt(t,"class","app")},m(Gt,ce){bt(Gt,t,ce),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),St&&St.m(t,null),B(t,d),B(t,u),B(u,h),B(h,f),B(u,M),Rt(g,u,null),B(u,b),Rt(v,u,null),B(u,w),Rt(_,u,null),B(u,S),B(u,I),B(t,T),B(t,k),e[21](k),B(t,D),B(t,N),Rt(P,N,null),B(N,U),B(N,V),B(N,z),Rt(G,N,null),B(t,H),Rt(J,t,null),B(t,Z),Rt(j,t,null),B(t,W),Rt(et,t,null),dt=!0,ht||(st=[ze(h,"click",e[15]),ze(I,"click",e[20]),ze(V,"click",e[24])],ht=!0)},p(Gt,ce){(!dt||ce&1)&&n!==(n=Gt[0].title+"")&&Qe(a,n),Gt[9].length>0?St?St.p(Gt,ce):(St=fT(Gt),St.c(),St.m(t,d)):St&&(St.d(1),St=null),(!dt||ce&8)&&p!==(p=Gt[3]?"play":"pause")&&Qe(f,p);const ae={};!y&&ce&64&&(y=!0,ae.value=Gt[6],_e(()=>y=!1)),g.$set(ae);const qt={};ce&132&&(qt.callback=Gt[17]),!C&&ce&128&&(C=!0,qt.value=Gt[7],_e(()=>C=!1)),v.$set(qt);const ue={};!E&&ce&256&&(E=!0,ue.checked=Gt[8],_e(()=>E=!1)),_.$set(ue);const $e={};ce&16&&($e.callback=Gt[22]),!F&&ce&512&&(F=!0,$e.notes=Gt[9],_e(()=>F=!1)),P.$set($e);const ve={};ce&1&&(ve.appId=Gt[0].id),G.$set(ve);const He={};ce&536870912&&(He.$$scope={dirty:ce,ctx:Gt}),J.$set(He);const qe={};ce&1&&(qe.appId=Gt[0].id),j.$set(qe)},i(Gt){dt||(wt(g.$$.fragment,Gt),wt(v.$$.fragment,Gt),wt(_.$$.fragment,Gt),wt(P.$$.fragment,Gt),wt(G.$$.fragment,Gt),wt(J.$$.fragment,Gt),wt(j.$$.fragment,Gt),wt(et.$$.fragment,Gt),dt=!0)},o(Gt){It(g.$$.fragment,Gt),It(v.$$.fragment,Gt),It(_.$$.fragment,Gt),It(P.$$.fragment,Gt),It(G.$$.fragment,Gt),It(J.$$.fragment,Gt),It(j.$$.fragment,Gt),It(et.$$.fragment,Gt),dt=!1},d(Gt){Gt&&vt(t),St&&St.d(),Dt(g),Dt(v),Dt(_),e[21](null),Dt(P),Dt(G),Dt(J),Dt(j),Dt(et),ht=!1,t0(st)}}}function CMt(e){let t,i;return t=new m9({props:{loadData:e[14],$$slots:{default:[bMt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&536871935&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let _Mt=500;const EMt=()=>{};function wMt(e,t,i){let n,{appInfo:a}=t,o,l,c,d,u=!1,h=performance.now(),p=new window.AudioContext,f,M=10,g=-25,y=!1,b=[];function v(z,G){l.getFloatTimeDomainData(z);const H=c.findPitch(z,G),J=H[0],Z=H[1],j=kA(J),W=PA(j),et=A3(J),dt=(et-W)*100,st={time:(performance.now()-h)/1e3,note:j,pitch:J,noteMidi:W,actualMidi:et,actualMidiChroma:et%12,centsOffset:dt,clarity:Z};b.push(st),C(),d=requestAnimationFrame(()=>v(z,G))}const C=()=>{if(!o)return;i(5,f=N8(b.slice(-30),J=>J.note)),i(1,o.textContent="",o);let z;b.length>0?z=b.at(-1).time:z=(performance.now()-h)/1e3;const G=z-M,H=On({width:n,height:_Mt,marginBottom:50,padding:0,x:{domain:[G,z],label:"time in seconds"},y:{domain:[-50,50],label:"offset in cents",grid:!0},marks:[Ro({anchor:"left",tickSize:0}),Ro({anchor:"right",tickSize:0}),T0([0]),pb(b,{x:"time",y:"centsOffset",clip:!0,curve:"basis"}),y?vft(b,{x:"time",y1:"centsOffset",y2:0,clip:!0,curve:"basis",positiveFill:"var(--accent)",negativeFill:"#eeccbb"}):null]});o.appendChild(H)},w=()=>{l=p.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(z=>{p.createMediaStreamSource(z).connect(l),i(2,c=Tc.forFloat32Array(l.fftSize)),i(2,c.minVolumeDecibels=g,c);const G=new Float32Array(c.inputLength);v(G,p.sampleRate)}),C()};yr(w);const _=()=>({pastTime:M,firstTimeStamp:h,minVolumeDecibels:g,colorArea:y,bendValues:b}),E=z=>{i(3,u=!0),cancelAnimationFrame(d),i(6,M=z.pastTime),i(4,h=z.firstTimeStamp),i(7,g=z.minVolumeDecibels),i(8,y=z.colorArea??!1),i(9,b=z.bendValues),C()};c0(()=>{clearTimeout(d),cancelAnimationFrame(d)});const S=()=>{i(3,u=!u),u?cancelAnimationFrame(d):w()};function I(z){M=z,i(6,M)}const T=()=>i(2,c.minVolumeDecibels=g,c);function k(z){g=z,i(7,g)}function D(z){y=z,i(8,y)}const N=()=>{p.resume(),w()};function P(z){he[z?"unshift":"push"](()=>{o=z,i(1,o)})}const F=()=>{i(4,h=performance.now()),C()};function U(z){b=z,i(9,b)}const V=()=>E(AMt);return e.$$set=z=>{"appInfo"in z&&i(0,a=z.appInfo)},n=window.innerWidth<1200?900:Math.floor(window.innerWidth-200),[a,o,c,u,h,f,M,g,y,b,p,C,w,_,E,S,I,T,k,D,N,P,F,U,V]}class OMt extends Zi{constructor(t){super(),Yi(this,t,wMt,CMt,Xi,{appInfo:0})}}function SMt(e){let t,i,n;return{c(){t=q("p"),t.textContent="1) Play or sing a note as accurately as possible.",i=K(),n=q("p"),n.textContent="2) Bend/sing a note 25 cents higher (for example as a vibrato)."},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function xMt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N;function P(z){e[8](z)}let F={label:"past seconds",callback:e[7],min:.05,max:1,step:.05};e[5]!==void 0&&(F.value=e[5]),u=new M0({props:F}),he.push(()=>Ee(u,"value",P));function U(z){e[10](z)}let V={title:"The minimum loudness in decibels for a sound to be registered as input. Lower means fainter notes will be registered but there will be more noise such as octave errors.",label:"min. decibels",callback:e[9],min:-40,max:-5,step:5};return e[6]!==void 0&&(V.value=e[6]),f=new M0({props:V}),he.push(()=>Ee(f,"value",U)),_=new e9({props:{$$slots:{default:[SMt]},$$scope:{ctx:e}}}),S=new i9({props:{appId:e[0].id}}),T=new $3({props:{callback:e[7]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing hitting the correct pitch (for example an
        exact C) or playing/singing off-tune. Similar to a tuner, the needle
        shows you how far you are off the closest note in cents (0 is perfectly
        on the note, +/-50% is extactly between two valid notes).`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),y=q("button"),y.textContent="resume",b=K(),v=q("div"),C=q("canvas"),w=K(),Pt(_.$$.fragment),E=K(),Pt(S.$$.fragment),I=K(),Pt(T.$$.fragment),mt(l,"class","explanation"),mt(y,"title","Press this button if your browser prevents audio access because there needs to be a user interaction first"),mt(d,"class","control"),sn(C,"width",ps+"px"),sn(C,"height",K2+"px"),mt(v,"class","visualization"),mt(t,"class","app")},m(z,G){bt(z,t,G),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),B(d,y),B(t,b),B(t,v),B(v,C),e[12](C),e[13](v),B(t,w),Rt(_,t,null),B(t,E),Rt(S,t,null),B(t,I),Rt(T,t,null),k=!0,D||(N=ze(y,"click",e[11]),D=!0)},p(z,[G]){(!k||G&1)&&n!==(n=z[0].title+"")&&Qe(a,n);const H={};!h&&G&32&&(h=!0,H.value=z[5],_e(()=>h=!1)),u.$set(H);const J={};G&80&&(J.callback=z[9]),!M&&G&64&&(M=!0,J.value=z[6],_e(()=>M=!1)),f.$set(J);const Z={};G&524288&&(Z.$$scope={dirty:G,ctx:z}),_.$set(Z);const j={};G&1&&(j.appId=z[0].id),S.$set(j)},i(z){k||(wt(u.$$.fragment,z),wt(f.$$.fragment,z),wt(_.$$.fragment,z),wt(S.$$.fragment,z),wt(T.$$.fragment,z),k=!0)},o(z){It(u.$$.fragment,z),It(f.$$.fragment,z),It(_.$$.fragment,z),It(S.$$.fragment,z),It(T.$$.fragment,z),k=!1},d(z){z&&vt(t),Dt(u),Dt(f),e[12](null),e[13](null),Dt(_),Dt(S),Dt(T),D=!1,N()}}}let ps=700,K2=360;const TMt=16;function IMt(e,t,i){let{appInfo:n}=t,a,o,l,c,d,u,h=.25,p=-25,f=0,M=[];function g(S,I){c.getFloatTimeDomainData(S);const T=d.findPitch(S,I),k=T[0],D=T[1],N=kA(k),P=PA(N),F=A3(k),U=(F-P)*100,z={time:(performance.now()-f)/1e3,pitch:k,note:N,noteMidi:P,actualMidi:F,actualMidiChroma:F%12,centsOffset:U,clarity:D};M.push(z),M=M.slice(-(1e3/TMt)*h),y(),u=requestAnimationFrame(()=>g(S,I))}const y=()=>{const S=ps/2,I=K2-10,T=ps*.45,k=ps*.35,D=ps*.4,N=ps*.3,P=ps*.1,F=o.getContext("2d"),U=window.devicePixelRatio,V=o.getBoundingClientRect();i(2,o.width=V.width*U,o),i(2,o.height=V.height*U,o),F.scale(U,U),i(2,o.style.width=`${V.width}px`,o),i(2,o.style.height=`${V.height}px`,o),F.clearRect(0,0,ps,K2);const z=s3().domain([-50,50]).range([-Math.PI,0]),G=Bc(M,Z=>Z.centsOffset);if(F.lineWidth=10,F.lineCap="round",F.strokeStyle="#aaa",G>-100){const Z=z(G),j=Math.cos(Z),W=Math.sin(Z);F.beginPath(),F.moveTo(S+j*P,I+W*P),F.lineTo(S+j*T,I+W*T),F.stroke()}F.fillStyle="white",l5(F,S,I,P),F.lineWidth=2,F.stroke(),F.lineWidth=2,F.fill(),F.stroke();const H=fi(-50,51,25).map(z),J=fi(-50,51,5).map(z);F.beginPath(),F.lineWidth=2;for(const Z of H){const j=Math.cos(Z),W=Math.sin(Z);F.moveTo(S+j*k,I+W*k),F.lineTo(S+j*T,I+W*T)}F.stroke(),F.lineWidth=1,F.beginPath();for(const Z of J){const j=Math.cos(Z),W=Math.sin(Z);F.moveTo(S+j*D,I+W*D),F.lineTo(S+j*T,I+W*T)}F.stroke(),F.fillStyle="#888",F.font="30px Arial",F.textAlign="center",F.textBaseline="middle",F.fillText("too low",S-ps*.35,K2*.15),F.fillText("too high",S+ps*.35,K2*.15);for(const Z of[-50,-25,0,25,50]){const j=z(Z),W=Math.cos(j),et=Math.sin(j);F.fillText(Z,S+W*N,I+et*N)}if(F.font="60px Arial",M.length>0){const Z=N8(M,j=>j.note);F.fillText(Z,S,I-20)}};yr(()=>{f=performance.now(),i(3,l=new window.AudioContext),c=l.createAnalyser(),navigator.mediaDevices.getUserMedia({audio:!0}).then(S=>{l.createMediaStreamSource(S).connect(c),i(4,d=Tc.forFloat32Array(c.fftSize)),i(4,d.minVolumeDecibels=p,d);const I=new Float32Array(d.inputLength);g(I,l.sampleRate)}),y()}),c0(()=>{clearTimeout(u),cancelAnimationFrame(u)});function b(S){h=S,i(5,h)}const v=()=>i(4,d.minVolumeDecibels=p,d);function C(S){p=S,i(6,p)}const w=()=>l.resume();function _(S){he[S?"unshift":"push"](()=>{o=S,i(2,o)})}function E(S){he[S?"unshift":"push"](()=>{a=S,i(1,a)})}return e.$$set=S=>{"appInfo"in S&&i(0,n=S.appInfo)},[n,a,o,l,d,h,p,y,b,v,C,w,_,E]}class BMt extends Zi{constructor(t){super(),Yi(this,t,IMt,xMt,Xi,{appInfo:0})}}const RMt=125,DMt=15,PMt=!1,kMt=[0,.40389999997615816,.887,1.354,1.845,2.3038999999761582,2.764,3.228,3.625,4.083,4.359,4.696,5.132,5.571,6.018899999976158,6.485899999976158,6.937,7.421899999976159,7.91,8.359,8.859,9.326,9.778899999976158,10.255,10.721,11.172,11.682899999976158,12.072,12.543,13.01,13.49,13.986,14.497,14.933,15.43,15.881899999976158,16.372,16.749,17.225,17.712,18.239,18.682,19.137,19.599,20.08489999997616,20.542899999976157,20.999,21.485,21.958,22.442,22.889,23.123,23.376899999976157,23.853,24.349,24.809,25.02689999997616,25.26,25.724,26.18689999997616,26.663,26.883,27.128,27.61,28.056,28.537,28.744,28.985,29.497,29.931899999976157,30.434,30.656,30.863,31.094,31.326,31.563,31.81789999997616,32.046899999976155,32.272,32.509,32.738,33.218,33.437,33.696,34.175,34.64,35.19,35.58,36.039,36.24689999997616,36.493,37.474,38.43289999997616,39.328,40.297,40.5,40.767,41.181,42.123,43.051,51.08889999997616,51.289,51.491899999976155,52.462,53.41189999997616,53.614,53.854,54.062,54.293,54.812,55.03,55.256,55.76,55.983,56.198899999976156,56.69089999997616,56.898,57.139],LMt="rhythm-sheet-music",NMt="0.16.1",FMt="2024-10-07T17:37:00.193Z",mT={tempo:RMt,pastNoteCount:DMt,useDotted:PMt,notes:kMt,_appId:LMt,_softwareVersion:NMt,_date:FMt};function UMt(e,t,i){const n=e.slice();return n[31]=t[i],n}function JMt(e,t,i){const n=e.slice();return n[34]=t[i],n}function $Mt(e){let t;return{c(){t=q("option"),t.textContent=`1/${e[34]} note`,t.__value=e[34],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function GMt(e){let t,i=je(WU),n=[];for(let a=0;a<i.length;a+=1)n[a]=$Mt(JMt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function HMt(e){let t;return{c(){t=q("option"),t.textContent=`${e[31].symbol} ${e[31].name}`,t.__value=e[31].name,qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function VMt(e){let t,i,n,a=je(Vc),o=[];for(let l=0;l<a.length;l+=1)o[l]=HMt(UMt(e,a,l));return{c(){t=q("option"),t.textContent="auto",i=K();for(let l=0;l<o.length;l+=1)o[l].c();n=z0(),t.__value="auto",qi(t,t.__value)},m(l,c){bt(l,t,c),bt(l,i,c);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(l,c);bt(l,n,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n)),Ti(o,l)}}}function QMt(e){let t,i,n,a,o;return{c(){t=q("p"),t.textContent="1) Switch back and forth between quarters and eighths.",i=K(),n=q("p"),n.textContent="2) Switch between eighths and eighth triplets.",a=K(),o=q("p"),o.textContent=`3) Set the target to dotted-half notes and try to play them
                accurately.`},m(l,c){bt(l,t,c),bt(l,i,c),bt(l,n,c),bt(l,a,c),bt(l,o,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n),vt(a),vt(o))}}}function zMt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt,ue,$e;function ve(Et){e[15](Et)}let He={};e[1]!==void 0&&(He.value=e[1]),b=new Vr({props:He}),he.push(()=>Ee(b,"value",ve));function qe(Et){e[16](Et)}let ri={};e[4]!==void 0&&(ri.value=e[4]),w=new eu({props:ri}),he.push(()=>Ee(w,"value",qe));function oi(Et){e[17](Et)}let oe={label:"dotted notes",title:"Use dotted notes? If not, the closest non-dotted note will be taken."};e[5]!==void 0&&(oe.checked=e[5]),S=new zn({props:oe}),he.push(()=>Ee(S,"checked",oi));function fe(Et){e[18](Et)}let pe={label:"filtering",title:"You can filter out notes that are shorter than a given note duration.",$$slots:{default:[GMt]},$$scope:{ctx:e}};e[2]!==void 0&&(pe.value=e[2]),D=new t9({props:pe}),he.push(()=>Ee(D,"value",fe));function Ot(Et){e[19](Et)}let _t={label:"target",title:"You can choose a single duration you want to practice and turn of automaticly guessing the closest one.",$$slots:{default:[VMt]},$$scope:{ctx:e}};e[6]!==void 0&&(_t.value=e[6]),F=new t9({props:_t}),he.push(()=>Ee(F,"value",Ot)),J=new so({props:{tempo:e[1],accent:4}});function Ht(Et){e[21](Et)}let Tt={saveToStorage:e[14]};return e[7]!==void 0&&(Tt.notes=e[7]),j=new c9({props:Tt}),he.push(()=>Ee(j,"notes",Ht)),st=new _9({props:{appId:e[0].id,loadData:e[13]}}),At=new f9({props:{loadData:e[13],getExportData:e[12],appId:e[0].id}}),gt=new e9({props:{$$slots:{default:[QMt]},$$scope:{ctx:e}}}),lt=new i9({props:{appId:e[0].id}}),kt=new j0({props:{noteOn:e[11]}}),Gt=new X9({props:{key:" ",keyDown:e[23]}}),ae=new iu({props:{element:e[3],touchStart:e[24]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),c=te(`This app helps practicing the timing of notes. Set a tempo and start
            playing. The time between the notes you play will be displayed as
            note symbols, so you can see whether you play, for example, correct
            quarter notes. Bars and numbers show you how many percent of the
            detected note duration you played, for example a -5 means your note
            was 5% too short.
            `),d=q("span"),u=te("Blue stands for notes that were too long (playing too slow)"),h=te(`
            and
            `),p=q("span"),f=te("orange for short (fast) ones "),M=te("."),g=K(),y=q("div"),Pt(b.$$.fragment),C=K(),Pt(w.$$.fragment),E=K(),Pt(S.$$.fragment),T=K(),k=q("div"),Pt(D.$$.fragment),P=K(),Pt(F.$$.fragment),V=K(),z=q("div"),G=K(),H=q("div"),Pt(J.$$.fragment),Z=K(),Pt(j.$$.fragment),et=K(),dt=q("button"),dt.textContent="example",ht=K(),Pt(st.$$.fragment),St=K(),Pt(At.$$.fragment),xt=K(),Pt(gt.$$.fragment),yt=K(),Pt(lt.$$.fragment),zt=K(),Pt(kt.$$.fragment),Jt=K(),Pt(Gt.$$.fragment),ce=K(),Pt(ae.$$.fragment),sn(d,"color",e[9]),sn(p,"color",e[8]),mt(l,"class","explanation"),mt(y,"class","control"),mt(k,"class","control"),mt(z,"class","visualization"),mt(H,"class","control"),mt(t,"class","app")},m(Et,Lt){bt(Et,t,Lt),B(t,i),B(i,a),B(t,o),B(t,l),B(l,c),B(l,d),B(d,u),B(l,h),B(l,p),B(p,f),B(l,M),B(t,g),B(t,y),Rt(b,y,null),B(y,C),Rt(w,y,null),B(y,E),Rt(S,y,null),B(t,T),B(t,k),Rt(D,k,null),B(k,P),Rt(F,k,null),B(t,V),B(t,z),e[20](z),B(t,G),B(t,H),Rt(J,H,null),B(H,Z),Rt(j,H,null),B(H,et),B(H,dt),B(H,ht),Rt(st,H,null),B(H,St),Rt(At,H,null),B(t,xt),Rt(gt,t,null),B(t,yt),Rt(lt,t,null),B(t,zt),Rt(kt,t,null),B(t,Jt),Rt(Gt,t,null),B(t,ce),Rt(ae,t,null),qt=!0,ue||($e=ze(dt,"click",e[22]),ue=!0)},p(Et,Lt){(!qt||Lt[0]&1)&&n!==(n=Et[0].title+"")&&Qe(a,n);const ut={};!v&&Lt[0]&2&&(v=!0,ut.value=Et[1],_e(()=>v=!1)),b.$set(ut);const X={};!_&&Lt[0]&16&&(_=!0,X.value=Et[4],_e(()=>_=!1)),w.$set(X);const tt={};!I&&Lt[0]&32&&(I=!0,tt.checked=Et[5],_e(()=>I=!1)),S.$set(tt);const Bt={};Lt[1]&64&&(Bt.$$scope={dirty:Lt,ctx:Et}),!N&&Lt[0]&4&&(N=!0,Bt.value=Et[2],_e(()=>N=!1)),D.$set(Bt);const Qt={};Lt[1]&64&&(Qt.$$scope={dirty:Lt,ctx:Et}),!U&&Lt[0]&64&&(U=!0,Qt.value=Et[6],_e(()=>U=!1)),F.$set(Qt);const jt={};Lt[0]&2&&(jt.tempo=Et[1]),J.$set(jt);const ne={};!W&&Lt[0]&128&&(W=!0,ne.notes=Et[7],_e(()=>W=!1)),j.$set(ne);const se={};Lt[0]&1&&(se.appId=Et[0].id),st.$set(se);const Be={};Lt[0]&1&&(Be.appId=Et[0].id),At.$set(Be);const we={};Lt[1]&64&&(we.$$scope={dirty:Lt,ctx:Et}),gt.$set(we);const Ne={};Lt[0]&1&&(Ne.appId=Et[0].id),lt.$set(Ne);const li={};Lt[0]&8&&(li.element=Et[3]),ae.$set(li)},i(Et){qt||(wt(b.$$.fragment,Et),wt(w.$$.fragment,Et),wt(S.$$.fragment,Et),wt(D.$$.fragment,Et),wt(F.$$.fragment,Et),wt(J.$$.fragment,Et),wt(j.$$.fragment,Et),wt(st.$$.fragment,Et),wt(At.$$.fragment,Et),wt(gt.$$.fragment,Et),wt(lt.$$.fragment,Et),wt(kt.$$.fragment,Et),wt(Gt.$$.fragment,Et),wt(ae.$$.fragment,Et),qt=!0)},o(Et){It(b.$$.fragment,Et),It(w.$$.fragment,Et),It(S.$$.fragment,Et),It(D.$$.fragment,Et),It(F.$$.fragment,Et),It(J.$$.fragment,Et),It(j.$$.fragment,Et),It(st.$$.fragment,Et),It(At.$$.fragment,Et),It(gt.$$.fragment,Et),It(lt.$$.fragment,Et),It(kt.$$.fragment,Et),It(Gt.$$.fragment,Et),It(ae.$$.fragment,Et),qt=!1},d(Et){Et&&vt(t),Dt(b),Dt(w),Dt(S),Dt(D),Dt(F),e[20](null),Dt(J),Dt(j),Dt(st),Dt(At),Dt(gt),Dt(lt),Dt(kt),Dt(Gt),Dt(ae),ue=!1,$e()}}}function jMt(e){let t,i;return t=new m9({props:{loadData:e[13],disabled:e[10],$$slots:{default:[zMt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,a){const o={};a[0]&255|a[1]&64&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}function WMt(e,t,i){let n,a,{appInfo:o}=t,l,c=90,d=10,u=!1,h=16,p="auto",f=0,M=[];const g=Wo[1],y=Wo[0],b=Vc,v=b.filter(H=>!H.dotted);let C;const w=async H=>{M.length===0&&(f=H.timestamp);const J=(H.timestamp-f)/1e3;M.length>0&&J-M.at(-1)<a||i(7,M=[...M,J])};$9(()=>{if(i(3,l.textContent="",l),M.length===0)return;let H=Q0(c);const J=M.slice(-(d+1)),j=J.map((ht,st)=>st===0?0:ht-J[st-1]).map(ht=>ht/H);let W;if(p==="auto"){const ht=u?b:v;W=j.map(st=>{const St=wl(ht,xt=>Math.abs(st-xt.beats)),At=ht[St];return{...At,beats:st,offsetPercent:(st/At.beats*100).toFixed()}})}else{const ht=Vc.filter(st=>st.name===p)[0];W=j.map(st=>({...ht,beats:st,offsetPercent:(st/ht.beats*100).toFixed()}))}const et=On({width:n,height:100,marginTop:10,marginBottom:0,marginLeft:50,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:"",domain:fi(1,d),ticks:[]},y:{},marks:[J0(W,{text:"symbol",x:(ht,st)=>st,fontSize:40})]});l.appendChild(et);const dt=On({width:n,height:180,marginLeft:50,style:'font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{label:null,domain:fi(1,d),tickSize:0,ticks:[]},y:{label:"percent too long",domain:[-30,30],ticks:fi(-30,31,10),grid:!0},color:{domain:["short","long"],range:[y,g]},marks:[C1(W,{x:(ht,st)=>st,y:ht=>ht.offsetPercent-100,fill:ht=>ht.offsetPercent<100?"long":"short",ry:4}),eb(W,{x:(ht,st)=>st,y:ht=>ht.offsetPercent-100+(ht.offsetPercent<100?-4:4),text:ht=>ht.offsetPercent-100,fill:"#666",stroke:"white",strokeWidth:8}),T0([0])]});l.appendChild(dt)});const E=()=>({tempo:c,pastNoteCount:d,useDotted:u,notes:M}),S=H=>{I(),i(1,c=H.tempo),i(4,d=H.pastNoteCount),i(5,u=H.useDotted),i(7,M=H.notes)},I=()=>{M.length>0&&JSON.stringify(M)!==JSON.stringify(mT.notes)&&C9(o.id,E())};c0(I);function T(H){c=H,i(1,c)}function k(H){d=H,i(4,d)}function D(H){u=H,i(5,u)}function N(H){h=H,i(2,h)}function P(H){p=H,i(6,p)}function F(H){he[H?"unshift":"push"](()=>{l=H,i(3,l)})}function U(H){M=H,i(7,M)}const V=()=>S(mT),z=()=>w({timestamp:performance.now()}),G=()=>w({timestamp:performance.now()});return e.$$set=H=>{"appInfo"in H&&i(0,o=H.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&6&&(a=Q0(c)*4/h)},n=window.innerWidth<1200?900:Math.floor(window.innerWidth-200),[o,c,h,l,d,u,p,M,g,y,C,w,E,S,I,T,k,D,N,P,F,U,V,z,G]}class KMt extends Zi{constructor(t){super(),Yi(this,t,WMt,jMt,Xi,{appInfo:0},null,[-1,-1])}}const qMt=60,XMt=120,YMt=10,ZMt="off",tyt="",eyt=120,iyt=122.60000002384186,nyt=[0,.3333333333333333,.6666666666666666,1,1.3333333333333333,1.6666666666666665,2,2.333333333333333,2.6666666666666665,3,3.333333333333333,3.6666666666666665,4,4.333333333333333,4.666666666666666,5,5.333333333333333,5.666666666666666,6,6.333333333333333,6.666666666666666,7,7.333333333333333,7.666666666666666],ryt=9,ayt={dataType:"Map",value:[[60,[15.741799999952317,16.069,16.380899999976158,16.66889999997616,17.04489999997616,17.405,17.717,18.092899999976158,18.42910000002384,18.740899999976158,19.117,19.428799999952318,19.740899999976158,20.093,20.429,20.716899999976157,21.093,21.429299999952317,21.765100000023843,22.11689999997616,22.428899999976156,22.789,23.14089999997616,23.47689999997616,23.813]],[70,[32.40529999995232,32.692899999976156,32.97270000004768,33.26079999995232,33.548799999952315,33.860899999976155,34.11679999995231,34.40479999995232,34.692799999952314,34.95679999995232,35.188799999952316,35.500799999952314,35.78879999995232,36.09279999995232,36.40470000004768,36.692899999976156,36.996799999952316,37.28479999995232,37.572799999952316,37.884799999952314,38.164799999952315,38.45279999995232,38.76470000004768,39.02110000002384,39.308700000047686]],[80,[47.237100000023844,47.47679999995232,47.74070000004768,48.028700000047685,48.23660000002384,48.500700000047686,48.71660000002384,48.95660000002384,49.23660000002384,49.47660000002384,49.76470000004768,50.052600000023844,50.26060000002384,50.500600000023844,50.76489999997616,50.98079999995232,51.237,51.500700000047686,51.74060000002384,51.95660000002384,52.23670000004768,52.47660000002384,52.74070000004768,53.00460000002384,53.23660000002384,53.47660000002384]],[90,[60.813299999952314,61.02879999995232,61.23660000002384,61.476700000047686,61.71660000002384,61.90860000002384,62.14860000002384,62.35660000002384,62.57260000002384,62.78860000002384,63.02860000002384,63.26060000002384,63.47660000002384,63.69270000004769,63.90870000004768,64.1485,64.35660000002385,64.57260000002384,64.78839999997616,65.0285,65.21270000004769,65.47660000002384,65.69270000004768,65.9325,66.17260000002385,66.3805]],[100,[73.357,73.57239999997616,73.7885,74.0045,74.19639999997615,74.38039999997616,74.5725,74.7885,74.98060000002384,75.1965,75.4045,75.5965,75.7885,76.0045,76.1965,76.40439999997616,76.6205,76.7885,76.98039999997616,77.1725,77.35639999997616,77.5725,77.76439999997616,77.95639999997616,78.14839999997616,78.35639999997616]],[110,[85.07689999997616,85.29239999997615,85.45239999997615,85.64429999995231,85.83629999995232,86.02839999997616,86.2205,86.4045,86.59629999995232,86.76429999995231,86.95629999995232,87.12439999997616,87.31629999995232,87.50039999997615,87.6685,87.83620000004768,88.02839999997616,88.2205,88.38029999995231,88.57229999995232,88.76439999997616,88.93239999997616,89.12439999997616,89.29229999995232,89.45229999995232,89.64439999997616]],[120,[98.14920000004768,98.31639999997616,98.45229999995232,98.62029999995232,98.81220000004768,98.98029999995232,99.14820000004768,99.3165,99.47620000004768,99.64420000004769,99.78839999997616,99.98020000004769,100.12420000004768,100.3165,100.47639999997615,100.64410000002384,100.83620000004768,101.00420000004769,101.17229999995232,101.34010000002384,101.52429999995232,101.69220000004768,101.88429999995232,102.02829999995231,102.19620000004768,102.34010000002384]]]},oyt="speed-up",syt="0.16.2",lyt="2024-10-09T13:23:03.740Z",rM={initialTempo:qMt,targetTempo:XMt,tempoIncrease:YMt,quantize:ZMt,currentStep:tyt,currentTempo:eyt,firstTimeStamp:iyt,exerciseNotes:nyt,exerciseBeatCount:ryt,practiceRecordings:ayt,_appId:oyt,_softwareVersion:syt,_date:lyt},cyt=60,uyt=120,dyt=10,hyt="off",fyt="",myt=120,pyt=1.0217684000000954e6,gyt=[0,.7,1,1.7,2,2.7,3,3.7,4,4.7,5,5.7,6,6.7,7,7.7],Myt=9,yyt={dataType:"Map",value:[[60,[7.783699999928475,8.471799999952315,8.6635,9.5675,9.855199999928475,10.615799999952316,10.879199999928474,11.591699999928474,11.8555,12.519399999976159,12.759199999928475,13.479399999976158,13.711099999904633,14.4075,14.735299999952316,15.431599999904632,15.783199999928474]],[70,[24.359699999928473,24.903299999952317,25.143399999976157,25.759399999976157,26.047199999928473,26.6155,26.95109999990463,27.5275,27.83139999997616,28.359299999952317,28.66309999990463,29.2635,29.575199999928476,30.095199999928475,30.383299999952317,30.927299999952318,31.239199999928474]],[80,[39.239599999904634,39.69519999992848,39.95119999992848,40.47929999995232,40.735,41.21519999992847,41.52739999997616,41.97519999992848,42.23909999990463,42.69539999997616,42.97489999997616,43.479199999928476,43.735199999928476,44.215299999952315,44.52719999992848,44.99919999992847,45.263199999928474]],[90,[55.4555,55.90329999995232,56.167099999904636,56.598899999976155,56.831,57.238899999976155,57.479199999928476,57.85519999992847,58.119,58.527099999904635,58.76719999992847,59.23879999995231,59.47889999997616,59.92729999995232,60.167,60.57519999992847,60.839]],[100,[67.97529999995231,68.359,68.551,68.99889999997616,69.19109999990464,69.62319999992847,69.81489999997616,70.23889999997616,70.38289999997616,70.76679999995231,70.97479999995231,71.43079999995231,71.59879999995232,71.99879999995231,72.21519999992847,72.647,72.81519999992848]],[110,[79.6955,80.04679999995231,80.21469999992847,80.64679999995232,80.79079999995231,81.11869999992848,81.28669999992847,81.71879999995231,81.887,82.23869999992847,82.40689999997616,82.79079999995231,82.95869999992847,83.33509999990463,83.50279999995232,83.911,84.07069999992848]],[120,[90.69539999997616,91.00689999997616,91.143,91.55069999992847,91.6945,92.05479999995232,92.21479999995232,92.55089999997615,92.7185,93.03059999990464,93.19059999990463,93.55069999992847,93.7185,94.05469999992847,94.21459999990464,94.55059999990463,94.71859999990463]]]},Ayt="speed-up",vyt="0.16.2",byt="2024-10-09T13:50:16.093Z",pT={initialTempo:cyt,targetTempo:uyt,tempoIncrease:dyt,quantize:hyt,currentStep:fyt,currentTempo:myt,firstTimeStamp:pyt,exerciseNotes:gyt,exerciseBeatCount:Myt,practiceRecordings:yyt,_appId:Ayt,_softwareVersion:vyt,_date:byt};function Cyt(e,t,i){const n=e.slice();return n[38]=t[i],n}function _yt(e,t,i){const n=e.slice();return n[38]=t[i],n}function Eyt(e){let t;return{c(){t=q("option"),t.textContent=`${e[38]}`,t.__value=e[38],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function wyt(e){let t,i=je(["off","32nd","16th","8th","triplet","quintuplet"]),n=[];for(let a=0;a<6;a+=1)n[a]=Eyt(_yt(e,i,a));return{c(){for(let a=0;a<6;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<6;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function Oyt(e){let t;return{c(){t=q("option"),t.textContent=`${e[38]}`,t.__value=e[38],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function Syt(e){let t;return{c(){t=te("triplet example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function xyt(e){let t;return{c(){t=te("swing example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function Tyt(e){let t,i,n,a,o,l,c,d,u,h;return o=new T9({props:{onclick:e[29],$$slots:{default:[Syt]},$$scope:{ctx:e}}}),c=new T9({props:{onclick:e[30],$$slots:{default:[xyt]},$$scope:{ctx:e}}}),{c(){t=q("p"),i=te("1) Select a pre-defined below and play it from 60 to 120 bpm."),n=q("br"),a=K(),Pt(o.$$.fragment),l=K(),Pt(c.$$.fragment),d=K(),u=q("p"),u.textContent=`2) Input your own exercise, optionally quantize it, and practice
                it.`},m(p,f){bt(p,t,f),B(t,i),B(t,n),B(t,a),Rt(o,t,null),B(t,l),Rt(c,t,null),bt(p,d,f),bt(p,u,f),h=!0},p(p,f){const M={};f[1]&4096&&(M.$$scope={dirty:f,ctx:p}),o.$set(M);const g={};f[1]&4096&&(g.$$scope={dirty:f,ctx:p}),c.$set(g)},i(p){h||(wt(o.$$.fragment,p),wt(c.$$.fragment,p),h=!0)},o(p){It(o.$$.fragment,p),It(c.$$.fragment,p),h=!1},d(p){p&&(vt(t),vt(d),vt(u)),Dt(o),Dt(c)}}}function Iyt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt,ue,$e,ve,He,qe,ri,oi,oe,fe,pe,Ot,_t,Ht,Tt,Et,Lt,ut,X,tt;function Bt(Ve){e[22](Ve)}let Qt={label:"initial tempo",title:"Set a tempo at which you are able to input the exercise precisely (in BPM)",callback:e[17]};e[2]!==void 0&&(Qt.value=e[2]),u=new Vr({props:Qt}),he.push(()=>Ee(u,"value",Bt));function jt(Ve){e[23](Ve)}let ne={label:"target tempo",title:"Set the tempo you want to be able to play the exercise at (in BPM)",callback:e[17]};e[3]!==void 0&&(ne.value=e[3]),f=new Vr({props:ne}),he.push(()=>Ee(f,"value",jt));function se(Ve){e[24](Ve)}let Be={title:"Set the tempo increase between practice runs (in BPM)",label:"step",min:1,max:20,step:1};e[4]!==void 0&&(Be.value=e[4]),y=new M0({props:Be}),he.push(()=>Ee(y,"value",se));function we(Ve){e[25](Ve)}let Ne={label:"quantize exercise",callback:e[17],$$slots:{default:[wyt]},$$scope:{ctx:e}};e[5]!==void 0&&(Ne.value=e[5]),C=new t9({props:Ne}),he.push(()=>Ee(C,"value",we));let li=je(["quarter","eighth","triplets","quintuplets","swing"]),zi=[];for(let Ve=0;Ve<5;Ve+=1)zi[Ve]=Oyt(Cyt(e,li,Ve));return qt=new c9({props:{saveToStorage:e[21],title:"Clear practice but not exercise",disabled:e[6]!=="",callback:e[27]}}),He=new _9({props:{appId:e[0].id,loadData:e[20]}}),ri=new f9({props:{loadData:e[20],getExportData:e[19],appId:e[0].id}}),oe=new e9({props:{$$slots:{default:[Tyt]},$$scope:{ctx:e}}}),pe=new i9({props:{appId:e[0].id}}),_t=new j0({props:{noteOn:e[12]}}),Tt=new X9({props:{key:" ",keyDown:e[31]}}),Lt=new iu({props:{element:e[1],touchStart:e[32]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing playing faster. Adjust the initial and
            target tempo, record an exercise at the inital tempo, and then
            practice it with increasing speed until you reach your target tempo.
            All repetitions will be shown time-aligned, so you can see at which
            tempo you start to struggle keeping up.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),Pt(C.$$.fragment),_=K(),E=q("div"),S=q("label"),I=te(`pre-defined exercise
                `),T=q("select"),k=q("option");for(let Ve=0;Ve<5;Ve+=1)zi[Ve].c();D=K(),N=q("button"),P=te("input exercise"),U=K(),V=q("button"),z=te("save exercise"),H=K(),J=q("button"),Z=te("start practice"),W=K(),et=q("button"),dt=te("stop practice"),st=K(),St=q("div"),At=te("current step: "),xt=q("b"),gt=te(e[6]),yt=te(` current tempo:
            `),lt=q("b"),zt=te(e[7]),kt=te(" BPM"),Jt=K(),Gt=q("div"),ce=K(),ae=q("div"),Pt(qt.$$.fragment),ue=K(),$e=q("button"),$e.textContent="example",ve=K(),Pt(He.$$.fragment),qe=K(),Pt(ri.$$.fragment),oi=K(),Pt(oe.$$.fragment),fe=K(),Pt(pe.$$.fragment),Ot=K(),Pt(_t.$$.fragment),Ht=K(),Pt(Tt.$$.fragment),Et=K(),Pt(Lt.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),k.selected=!0,k.disabled=!0,k.__value="",qi(k,k.__value),mt(N,"title","Start recording the exercise."),N.disabled=F=e[6]==="input exercise"||e[6]==="practice",mt(V,"title","Stop recording the exercise."),V.disabled=G=e[6]!=="input exercise",mt(J,"title","Start recording the practice with speed-up."),J.disabled=j=e[9].length===0,mt(et,"title","Stop recording the practice with speed-up."),et.disabled=ht=e[6]!=="practice",mt(E,"class","control"),mt(Gt,"class","visualization"),mt(ae,"class","control"),mt(t,"class","app")},m(Ve,ji){bt(Ve,t,ji),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(d,v),Rt(C,d,null),B(t,_),B(t,E),B(E,S),B(S,I),B(S,T),B(T,k);for(let Ge=0;Ge<5;Ge+=1)zi[Ge]&&zi[Ge].m(T,null);B(E,D),B(E,N),B(N,P),B(E,U),B(E,V),B(V,z),B(E,H),B(E,J),B(J,Z),B(E,W),B(E,et),B(et,dt),B(t,st),B(t,St),B(St,At),B(St,xt),B(xt,gt),B(St,yt),B(St,lt),B(lt,zt),B(St,kt),B(t,Jt),B(t,Gt),e[26](Gt),B(t,ce),B(t,ae),Rt(qt,ae,null),B(ae,ue),B(ae,$e),B(ae,ve),Rt(He,ae,null),B(ae,qe),Rt(ri,ae,null),B(t,oi),Rt(oe,t,null),B(t,fe),Rt(pe,t,null),B(t,Ot),Rt(_t,t,null),B(t,Ht),Rt(Tt,t,null),B(t,Et),Rt(Lt,t,null),ut=!0,X||(tt=[ze(T,"change",e[18]),ze(N,"click",e[13]),ze(V,"click",e[14]),ze(J,"click",e[15]),ze(et,"click",e[16]),ze($e,"click",e[28])],X=!0)},p(Ve,ji){(!ut||ji[0]&1)&&n!==(n=Ve[0].title+"")&&Qe(a,n);const Ge={};!h&&ji[0]&4&&(h=!0,Ge.value=Ve[2],_e(()=>h=!1)),u.$set(Ge);const ke={};!M&&ji[0]&8&&(M=!0,ke.value=Ve[3],_e(()=>M=!1)),f.$set(ke);const Di={};!b&&ji[0]&16&&(b=!0,Di.value=Ve[4],_e(()=>b=!1)),y.$set(Di);const ni={};ji[1]&4096&&(ni.$$scope={dirty:ji,ctx:Ve}),!w&&ji[0]&32&&(w=!0,ni.value=Ve[5],_e(()=>w=!1)),C.$set(ni),(!ut||ji[0]&64&&F!==(F=Ve[6]==="input exercise"||Ve[6]==="practice"))&&(N.disabled=F),(!ut||ji[0]&64&&G!==(G=Ve[6]!=="input exercise"))&&(V.disabled=G),(!ut||ji[0]&512&&j!==(j=Ve[9].length===0))&&(J.disabled=j),(!ut||ji[0]&64&&ht!==(ht=Ve[6]!=="practice"))&&(et.disabled=ht),(!ut||ji[0]&64)&&Qe(gt,Ve[6]),(!ut||ji[0]&128)&&Qe(zt,Ve[7]);const Tn={};ji[0]&64&&(Tn.disabled=Ve[6]!==""),ji[0]&1280&&(Tn.callback=Ve[27]),qt.$set(Tn);const Le={};ji[0]&1&&(Le.appId=Ve[0].id),He.$set(Le);const yn={};ji[0]&1&&(yn.appId=Ve[0].id),ri.$set(yn);const I0={};ji[1]&4096&&(I0.$$scope={dirty:ji,ctx:Ve}),oe.$set(I0);const Gn={};ji[0]&1&&(Gn.appId=Ve[0].id),pe.$set(Gn);const ai={};ji[0]&2&&(ai.element=Ve[1]),Lt.$set(ai)},i(Ve){ut||(wt(u.$$.fragment,Ve),wt(f.$$.fragment,Ve),wt(y.$$.fragment,Ve),wt(C.$$.fragment,Ve),wt(qt.$$.fragment,Ve),wt(He.$$.fragment,Ve),wt(ri.$$.fragment,Ve),wt(oe.$$.fragment,Ve),wt(pe.$$.fragment,Ve),wt(_t.$$.fragment,Ve),wt(Tt.$$.fragment,Ve),wt(Lt.$$.fragment,Ve),ut=!0)},o(Ve){It(u.$$.fragment,Ve),It(f.$$.fragment,Ve),It(y.$$.fragment,Ve),It(C.$$.fragment,Ve),It(qt.$$.fragment,Ve),It(He.$$.fragment,Ve),It(ri.$$.fragment,Ve),It(oe.$$.fragment,Ve),It(pe.$$.fragment,Ve),It(_t.$$.fragment,Ve),It(Tt.$$.fragment,Ve),It(Lt.$$.fragment,Ve),ut=!1},d(Ve){Ve&&vt(t),Dt(u),Dt(f),Dt(y),Dt(C),Ti(zi,Ve),e[26](null),Dt(qt),Dt(He),Dt(ri),Dt(oe),Dt(pe),Dt(_t),Dt(Tt),Dt(Lt),X=!1,t0(tt)}}}function Byt(e){let t,i;return t=new m9({props:{loadData:e[20],$$slots:{default:[Iyt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,a){const o={};a[0]&2047|a[1]&4096&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}function Ryt(e,t,i){const n=e[0];return e.map(o=>{let l=o-n;if(t!=="off"){let c;t==="8th"&&(c=i/2),t==="16th"&&(c=i/4),t==="32nd"&&(c=i/8),t==="triplet"&&(c=i/3),t==="quintuplet"&&(c=i/5),l=Math.round(l/c)*c}return l/i})}function Dyt(e,t,i){let n,{appInfo:a}=t,o,l=new gb,c=60,d=120,u=10,h="off",p="",f=d,M=performance.now(),g=[],y,b=new Map,v=!0,C;const w=async ht=>{const St=(ht.timestamp-M)/1e3;if(p==="input exercise")i(9,g=[...g,St]);else if(p==="practice"){b.has(f)||b.set(f,[]);const At=b.get(f);v&&At.push(St)}k()},_=async()=>{const ht=b.get(f);if(!ht||!ht.length)return;const st=Hr(ht),At=(performance.now()-M)/1e3-st;let xt=Q0(f);At/xt>=y&&(console.log("increasing bpm"),l.stop(),f<d?(i(7,f+=u),v=!1,await ey(1),l.start(240,1,3),await ey(3),l.start(f,4),b.has(f)&&b.set(f,[]),v=!0):T())},E=()=>{i(6,p="input exercise"),i(9,g=[]),i(10,b=new Map),l.start(c,4),k()},S=()=>{if(i(6,p=""),l.stop(),g.length>0){const ht=v9(g)-Hr(g);let st=Q0(c);y=Math.ceil(ht/st)}},I=async()=>{if(g.length===0){alert("You need to input an exercise first");return}i(6,p="practice"),i(7,f=c),i(10,b=new Map),l.start(f,4),C=setInterval(_,100)},T=()=>{console.log("stop practice"),i(6,p=""),i(7,f=d),clearInterval(C),l.stop()},k=()=>{if(i(1,o.textContent="",o),g.length===0)return;let ht=Q0(c);const st=Ryt(g,h,ht);let St=Math.ceil(v9(st)/4*4)+1;const At=On({width:n,height:70,marginTop:5,marginLeft:40,marginBottom:35,x:{label:"time in beats",domain:[0,St],tickSize:0},y:{label:"exercise",ticks:[],labelAnchor:"center"},marks:[J0([0],{text:""}),q9(fi(0,St,1),{stroke:"#ccc"}),q9(fi(0,St+1,4),{stroke:"#c8c8c8",strokeWidth:3}),$r(st,{stroke:"#333",strokeWidth:.89,inset:8})]});o.appendChild(At);for(const[xt,gt]of b){const yt=gt[0];ht=Q0(xt);const lt=gt.map(kt=>(kt-yt)/ht),zt=On({width:n,height:40,marginTop:0,marginLeft:40,marginBottom:5,x:{domain:[0,St],tickSize:0,ticks:[]},y:{label:`${xt}
bpm`,ticks:[],labelAnchor:"center"},marks:[J0([0],{text:""}),q9(fi(0,St+1,4),{stroke:"#c8c8c8",strokeWidth:3}),$r(st,{stroke:"#ddd",strokeWidth:.8}),$r(lt,{stroke:"#000",strokeWidth:.9,x:kt=>kt,inset:10})]});o.appendChild(zt)}};yr(k);const D=ht=>{const st=ht.target.value,St=8,At=new Map([["quarter",fi(0,St,1)],["eighth",fi(0,St,.5)],["triplets",fi(0,St,1/3)],["quintuplets",fi(0,St,1/5)],["swing",fi(0,St,.5).map((yt,lt)=>lt%2===0?yt:yt+.2)]]),xt=Q0(c);i(5,h="off");const gt=At.get(st);i(9,g=gt.map(yt=>yt*xt)),y=Math.ceil(v9(gt)+1),k()},N=()=>({initialTempo:c,targetTempo:d,tempoIncrease:u,quantize:h,currentStep:p,currentTempo:f,firstTimeStamp:M,exerciseNotes:g,exerciseBeatCount:y,practiceRecordings:b}),P=ht=>{F(),i(2,c=ht.initialTempo),i(3,d=ht.targetTempo),i(4,u=ht.tempoIncrease),i(5,h=ht.quantize),i(6,p=ht.currentStep),i(7,f=ht.currentTempo),i(8,M=ht.firstTimeStamp),i(9,g=ht.exerciseNotes),y=ht.exerciseBeatCount,i(10,b=ht.practiceRecordings),b.dataType&&i(10,b=new Map(b.value)),k()},F=()=>{const ht=JSON.stringify(b,uf);g.length>0&&ht!==JSON.stringify(rM.practiceRecordings,uf)&&ht!==JSON.stringify(pT.practiceRecordings,uf)&&C9(a.id,N())};c0(()=>{clearInterval(C),l.stop(),F()});function U(ht){c=ht,i(2,c)}function V(ht){d=ht,i(3,d)}function z(ht){u=ht,i(4,u)}function G(ht){h=ht,i(5,h)}function H(ht){he[ht?"unshift":"push"](()=>{o=ht,i(1,o)})}const J=()=>{l.stop(),i(10,b=new Map),i(8,M=performance.now()),k()},Z=()=>P(rM),j=()=>P(rM),W=()=>P(pT),et=()=>w({timestamp:performance.now()}),dt=()=>w({timestamp:performance.now()});return e.$$set=ht=>{"appInfo"in ht&&i(0,a=ht.appInfo)},n=window.innerWidth<1200?900:Math.floor(window.innerWidth-200),[a,o,c,d,u,h,p,f,M,g,b,l,w,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt]}class Pyt extends Zi{constructor(t){super(),Yi(this,t,Dyt,Byt,Xi,{appInfo:0},null,[-1,-1])}}function kyt(e,t,i){const n=e.slice();return n[35]=t[i],n}function Lyt(e,t,i){const n=e.slice();return n[35]=t[i],n}function Nyt(e){let t;return{c(){t=q("option"),t.textContent=`${e[35]}`,t.__value=e[35],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function Fyt(e){let t,i=je(["off","32nd","16th","8th","triplet","quintuplet"]),n=[];for(let a=0;a<6;a+=1)n[a]=Nyt(Lyt(e,i,a));return{c(){for(let a=0;a<6;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<6;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function Uyt(e){let t;return{c(){t=q("option"),t.textContent=`${e[35]}`,t.__value=e[35],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function Jyt(e){let t,i,n;return{c(){t=q("p"),t.textContent="1) Select a pre-defined below and play it from 60 to 120 bpm.",i=K(),n=q("p"),n.textContent=`2) Input your own exercise, optionally quantize it, and practice
                it.`},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function $yt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt,ue,$e,ve,He,qe,ri,oi,oe,fe,pe,Ot,_t,Ht;function Tt(se){e[21](se)}let Et={label:"initial tempo",title:"Set a tempo at which you are able to input the exercise precisely (in BPM)",callback:e[16]};e[2]!==void 0&&(Et.value=e[2]),u=new Vr({props:Et}),he.push(()=>Ee(u,"value",Tt));function Lt(se){e[22](se)}let ut={label:"target tempo",title:"Set the tempo you want to be able to play the exercise at (in BPM)",callback:e[16]};e[3]!==void 0&&(ut.value=e[3]),f=new Vr({props:ut}),he.push(()=>Ee(f,"value",Lt));function X(se){e[23](se)}let tt={title:"Set the tempo increase between practice runs (in BPM)",label:"step",min:1,max:20,step:1};e[4]!==void 0&&(tt.value=e[4]),y=new M0({props:tt}),he.push(()=>Ee(y,"value",X));function Bt(se){e[24](se)}let Qt={label:"quantize exercise",callback:e[16],$$slots:{default:[Fyt]},$$scope:{ctx:e}};e[5]!==void 0&&(Qt.value=e[5]),C=new t9({props:Qt}),he.push(()=>Ee(C,"value",Bt));let jt=je(["quarter","eighth","triplets","swing"]),ne=[];for(let se=0;se<4;se+=1)ne[se]=Uyt(kyt(e,jt,se));return qt=new c9({props:{saveToStorage:e[20],title:"Clear practice but not exercise",disabled:e[6]!=="",callback:e[26]}}),$e=new _9({props:{appId:e[0].id,loadData:e[19]}}),He=new f9({props:{loadData:e[19],getExportData:e[18],appId:e[0].id}}),ri=new e9({props:{$$slots:{default:[Jyt]},$$scope:{ctx:e}}}),oe=new i9({props:{appId:e[0].id}}),pe=new j0({props:{noteOn:e[11]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing playing faster on guitar. Adjust the
            initial and target tempo, record an exercise at the inital tempo,
            and then practice it with increasing speed until you reach your
            target tempo. All repetitions will be shown time-aligned, so you can
            see at which tempo you start to struggle keeping up. The notes you
            play are displayed in a tablature-like visualization with crosses,
            numbers above notes indicate the fret. The darkness (white to black)
            encodes the notes' velocities, so eventual noise (unintended notes)
            is less distracting.`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),Pt(C.$$.fragment),_=K(),E=q("div"),S=q("label"),I=te(`exercise
                `),T=q("select"),k=q("option");for(let se=0;se<4;se+=1)ne[se].c();D=K(),N=q("button"),P=te("input exercise"),U=K(),V=q("button"),z=te("save exercise"),H=K(),J=q("button"),Z=te("start practice"),W=K(),et=q("button"),dt=te("stop practice"),st=K(),St=q("div"),At=te("current step: "),xt=q("b"),gt=te(e[6]),yt=te(` current tempo:
            `),lt=q("b"),zt=te(e[7]),kt=te(" BPM"),Jt=K(),Gt=q("div"),ce=K(),ae=q("div"),Pt(qt.$$.fragment),ue=K(),Pt($e.$$.fragment),ve=K(),Pt(He.$$.fragment),qe=K(),Pt(ri.$$.fragment),oi=K(),Pt(oe.$$.fragment),fe=K(),Pt(pe.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),k.selected=!0,k.disabled=!0,k.__value="",qi(k,k.__value),mt(N,"title","Start recording the exercise."),N.disabled=F=e[6]==="input exercise"||e[6]==="practice",mt(V,"title","Stop recording the exercise."),V.disabled=G=e[6]!=="input exercise",mt(J,"title","Start recording the practice with speed-up."),J.disabled=j=e[9].length===0,mt(et,"title","Stop recording the practice with speed-up."),et.disabled=ht=e[6]!=="practice",mt(E,"class","control"),mt(Gt,"class","visualization"),mt(ae,"class","control"),mt(t,"class","app")},m(se,Be){bt(se,t,Be),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(d,v),Rt(C,d,null),B(t,_),B(t,E),B(E,S),B(S,I),B(S,T),B(T,k);for(let we=0;we<4;we+=1)ne[we]&&ne[we].m(T,null);B(E,D),B(E,N),B(N,P),B(E,U),B(E,V),B(V,z),B(E,H),B(E,J),B(J,Z),B(E,W),B(E,et),B(et,dt),B(t,st),B(t,St),B(St,At),B(St,xt),B(xt,gt),B(St,yt),B(St,lt),B(lt,zt),B(St,kt),B(t,Jt),B(t,Gt),e[25](Gt),B(t,ce),B(t,ae),Rt(qt,ae,null),B(ae,ue),Rt($e,ae,null),B(ae,ve),Rt(He,ae,null),B(t,qe),Rt(ri,t,null),B(t,oi),Rt(oe,t,null),B(t,fe),Rt(pe,t,null),Ot=!0,_t||(Ht=[ze(T,"change",e[17]),ze(N,"click",e[12]),ze(V,"click",e[13]),ze(J,"click",e[14]),ze(et,"click",e[15])],_t=!0)},p(se,Be){(!Ot||Be[0]&1)&&n!==(n=se[0].title+"")&&Qe(a,n);const we={};!h&&Be[0]&4&&(h=!0,we.value=se[2],_e(()=>h=!1)),u.$set(we);const Ne={};!M&&Be[0]&8&&(M=!0,Ne.value=se[3],_e(()=>M=!1)),f.$set(Ne);const li={};!b&&Be[0]&16&&(b=!0,li.value=se[4],_e(()=>b=!1)),y.$set(li);const zi={};Be[1]&512&&(zi.$$scope={dirty:Be,ctx:se}),!w&&Be[0]&32&&(w=!0,zi.value=se[5],_e(()=>w=!1)),C.$set(zi),(!Ot||Be[0]&64&&F!==(F=se[6]==="input exercise"||se[6]==="practice"))&&(N.disabled=F),(!Ot||Be[0]&64&&G!==(G=se[6]!=="input exercise"))&&(V.disabled=G),(!Ot||Be[0]&512&&j!==(j=se[9].length===0))&&(J.disabled=j),(!Ot||Be[0]&64&&ht!==(ht=se[6]!=="practice"))&&(et.disabled=ht),(!Ot||Be[0]&64)&&Qe(gt,se[6]),(!Ot||Be[0]&128)&&Qe(zt,se[7]);const Ve={};Be[0]&64&&(Ve.disabled=se[6]!==""),Be[0]&1280&&(Ve.callback=se[26]),qt.$set(Ve);const ji={};Be[0]&1&&(ji.appId=se[0].id),$e.$set(ji);const Ge={};Be[0]&1&&(Ge.appId=se[0].id),He.$set(Ge);const ke={};Be[1]&512&&(ke.$$scope={dirty:Be,ctx:se}),ri.$set(ke);const Di={};Be[0]&1&&(Di.appId=se[0].id),oe.$set(Di)},i(se){Ot||(wt(u.$$.fragment,se),wt(f.$$.fragment,se),wt(y.$$.fragment,se),wt(C.$$.fragment,se),wt(qt.$$.fragment,se),wt($e.$$.fragment,se),wt(He.$$.fragment,se),wt(ri.$$.fragment,se),wt(oe.$$.fragment,se),wt(pe.$$.fragment,se),Ot=!0)},o(se){It(u.$$.fragment,se),It(f.$$.fragment,se),It(y.$$.fragment,se),It(C.$$.fragment,se),It(qt.$$.fragment,se),It($e.$$.fragment,se),It(He.$$.fragment,se),It(ri.$$.fragment,se),It(oe.$$.fragment,se),It(pe.$$.fragment,se),Ot=!1},d(se){se&&vt(t),Dt(u),Dt(f),Dt(y),Dt(C),Ti(ne,se),e[25](null),Dt(qt),Dt($e),Dt(He),Dt(ri),Dt(oe),Dt(pe),_t=!1,t0(Ht)}}}function Gyt(e){let t,i;return t=new m9({props:{loadData:e[19],$$slots:{default:[$yt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,a){const o={};a[0]&2047|a[1]&512&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let gT=150,t6=6;function Hyt(e,t,i){const n=e[0].time;return e.map(o=>{let l=o.time-n;if(t!=="off"){let d;t==="8th"&&(d=i/2),t==="16th"&&(d=i/4),t==="32nd"&&(d=i/8),l=Math.round(l/d)*d}const c=l/i;return{...o,time:c}})}function Vyt(e,t,i){let n,{appInfo:a}=t,o,l=new gb,c=!0,d,u=60,h=120,p=10,f="off",M="",g=h,y=performance.now(),b=[],v,C=new Map,w=[64,59,55,50,45,40];const _=w.map(Fa),E=async W=>{const et=(W.timestamp-y)/1e3,dt=W.message.channel-1,ht={time:et,number:W.note.number,velocity:W.rawVelocity,string:dt,fret:W.note.number-w[dt]};if(M==="input exercise")i(9,b=[...b,ht]);else if(M==="practice"){C.has(g)||C.set(g,[]);const st=C.get(g);c&&st.push(ht)}N()},S=async()=>{const W=C.get(g);if(!W||!W.length)return;const et=Hr(W,At=>At.time),ht=(performance.now()-y)/1e3-et;let st=Q0(g);ht/st>=v&&(console.log("increasing bpm"),l.stop(),g<=h?(i(7,g+=p),c=!1,await ey(1),l.start(g,4),C.has(g)&&C.set(g,[]),c=!0):D())},I=()=>{i(6,M="input exercise"),i(9,b=[]),i(10,C=new Map),l.start(u,4),N()},T=()=>{if(i(6,M=""),l.stop(),b.length>0){const W=v9(b,dt=>dt.time)-Hr(b,dt=>dt.time);let et=Q0(u);v=Math.ceil(W/et)}},k=async()=>{if(b.length===0){alert("You need to input an exercise first");return}i(6,M="practice"),i(7,g=u),i(10,C=new Map),l.start(g,4),d=setInterval(S,100)},D=()=>{i(6,M=""),i(7,g=h),clearInterval(d),l.stop()},N=()=>{if(i(1,o.textContent="",o),b.length===0)return;let W=Q0(u);const et=Hyt(b,f,W);let dt=Math.ceil(v9(et,st=>st.time)/4*4)+.5;const ht=On({width:n,height:gT,marginLeft:40,x:{label:"time in beats",domain:[0,dt]},y:{domain:fi(0,t6),tickFormat:st=>_[st],tickSize:0},marks:[T0(fi(0,t6),{stroke:"#eee",strokeDasharray:"6 6"}),q9(fi(0,dt,1),{stroke:"#ccc"}),q9(fi(0,dt,4),{stroke:"#aaa"}),$r(et,{stroke:"#333",x:st=>st.time,y:st=>st.string,strokeWidth:2}),J0(et,{text:"fret",fill:"velocity",x:st=>st.time,y:st=>st.string,textAnchor:"middle",dy:-10})]});o.appendChild(ht);for(const[st,St]of C){if(St.length===0)continue;const At=St[0].time;W=Q0(st);const xt=St.map(yt=>({...yt,time:(yt.time-At)/W})),gt=On({width:n,height:gT,marginLeft:40,x:{label:"time in beats",domain:[0,dt]},y:{label:`${st} BPM`,domain:fi(0,t6),tickFormat:yt=>_[yt],tickSize:0},color:{domain:[0,100],scheme:"Greys"},marks:[T0(fi(0,t6),{stroke:"#eee",strokeDasharray:"6 6"}),q9(fi(0,dt,1),{stroke:"#ccc"}),q9(fi(0,dt,4),{stroke:"#aaa"}),$r(xt,{stroke:"velocity",x:yt=>yt.time,y:yt=>yt.string,strokeWidth:1.2}),J0(xt,{text:"fret",fill:"velocity",x:yt=>yt.time,y:yt=>yt.string,textAnchor:"middle",dy:-10})]});o.appendChild(gt)}};yr(N);const P=W=>{const et=W.target.value,dt=new Map([["quarter",fi(0,8,1)],["eighth",fi(0,8,.5)],["triplets",fi(0,8,1/3)],["swing",fi(0,8,.5).map((St,At)=>At%2===0?St:St+.2)]]),ht=Q0(u);i(5,f="off");const st=dt.get(et);i(9,b=st.map(St=>St*ht)),v=Math.ceil(v9(st)+1),i(9,b=b.map(St=>({time:St,string:5,fret:0}))),N()},F=()=>({initialTempo:u,targetTempo:h,tempoIncrease:p,quantize:f,currentStep:M,currentTempo:g,firstTimeStamp:y,exerciseNotes:b,exerciseBeatCount:v,practiceRecordings:C}),U=W=>{V(),i(2,u=W.initialTempo),i(3,h=W.targetTempo),i(4,p=W.tempoIncrease),i(5,f=W.quantize),i(6,M=W.currentStep),i(7,g=W.currentTempo),i(8,y=W.firstTimeStamp),i(9,b=W.exerciseNotes),v=W.exerciseBeatCount,i(10,C=W.practiceRecordings),C.dataType&&i(10,C=new Map(C.value)),N()},V=()=>{b.length>0&&C9(a.id,F())};c0(()=>{clearInterval(d),l.stop(),V()});function z(W){u=W,i(2,u)}function G(W){h=W,i(3,h)}function H(W){p=W,i(4,p)}function J(W){f=W,i(5,f)}function Z(W){he[W?"unshift":"push"](()=>{o=W,i(1,o)})}const j=()=>{i(10,C=new Map),i(8,y=performance.now()),N()};return e.$$set=W=>{"appInfo"in W&&i(0,a=W.appInfo)},n=window.innerWidth<1200?900:Math.floor(window.innerWidth-200),[a,o,u,h,p,f,M,g,y,b,C,E,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j]}class Qyt extends Zi{constructor(t){super(),Yi(this,t,Vyt,Gyt,Xi,{appInfo:0},null,[-1,-1])}}const zyt=17,jyt=.07,Wyt=[{number:40,velocity:98,time:13.264099999999628,channel:6,string:5,fret:0,end:20.250099999999627,duration:6.985999999999999},{number:45,velocity:90,time:13.475099999999628,channel:5,string:4,fret:0,end:14.705199999999255,duration:1.2300999999996272},{number:52,velocity:127,time:13.714099999999627,channel:4,string:3,fret:2,end:14.728099999999628,duration:1.0140000000000011},{number:45,velocity:92,time:14.710099999999628,channel:5,string:4,fret:0,end:15.473199999999254,duration:.7630999999996266},{number:53,velocity:127,time:14.732099999999628,channel:4,string:3,fret:3,end:15.475099999999628,duration:.7430000000000003},{number:72,velocity:61,time:14.744199999999255,channel:2,string:1,fret:13,end:14.747199999999255,duration:.0030000000000001137},{number:61,velocity:127,time:14.751099999999628,channel:2,string:1,fret:2,end:15.505099999999628,duration:.7539999999999996},{number:57,velocity:127,time:14.754099999999628,channel:3,string:2,fret:2,end:15.495099999999628,duration:.7409999999999997},{number:64,velocity:115,time:14.759099999999627,channel:1,string:0,fret:0,end:15.794199999999256,duration:1.0350999999996287},{number:45,velocity:90,time:15.481099999999627,channel:5,string:4,fret:0,end:16.439099999999627,duration:.9580000000000002},{number:68,velocity:113,time:15.498199999999255,channel:3,string:2,fret:13,end:15.506099999999627,duration:.007900000000372387},{number:52,velocity:126,time:15.502199999999254,channel:4,string:3,fret:2,end:15.834199999999255,duration:.33200000000000074},{number:78,velocity:68,time:15.508099999999628,channel:2,string:1,fret:19,end:15.517099999999628,duration:.009000000000000341},{number:58,velocity:122,time:15.510199999999255,channel:3,string:2,fret:3,end:15.820099999999627,duration:.309900000000372},{number:60,velocity:111,time:15.520099999999628,channel:2,string:1,fret:1,end:15.807099999999627,duration:.28699999999999903},{number:64,velocity:127,time:15.800199999999254,channel:1,string:0,fret:0,end:16.744199999999253,duration:.9439999999999991},{number:61,velocity:127,time:15.812099999999628,channel:2,string:1,fret:2,end:16.376099999999628,duration:.5640000000000001},{number:58,velocity:127,time:15.824099999999628,channel:3,string:2,fret:3,end:16.398199999999257,duration:.5740999999996284},{number:52,velocity:121,time:15.839199999999256,channel:4,string:3,fret:2,end:16.416199999999254,duration:.5769999999999982},{number:60,velocity:90,time:16.381099999999627,channel:2,string:1,fret:1,end:16.726099999999626,duration:.34499999999999886},{number:58,velocity:120,time:16.402199999999254,channel:3,string:2,fret:3,end:16.715099999999627,duration:.3129000000003721},{number:52,velocity:114,time:16.425199999999254,channel:4,string:3,fret:2,end:16.700099999999626,duration:.27490000000037185},{number:45,velocity:72,time:16.44909999999963,channel:5,string:4,fret:0,end:16.67909999999963,duration:.23000000000000043},{number:45,velocity:94,time:16.686199999999253,channel:5,string:4,fret:0,end:17.004099999999628,duration:.31790000000037466},{number:53,velocity:127,time:16.704099999999627,channel:4,string:3,fret:3,end:17.00209999999963,duration:.2980000000000018},{number:58,velocity:127,time:16.718099999999627,channel:3,string:2,fret:3,end:17.311099999999627,duration:.593},{number:61,velocity:121,time:16.73109999999963,channel:2,string:1,fret:2,end:17.320099999999627,duration:.5889999999999986},{number:64,velocity:120,time:16.747199999999253,channel:1,string:0,fret:0,end:17.329099999999627,duration:.581900000000374},{number:52,velocity:107,time:17.007099999999628,channel:4,string:3,fret:2,end:17.297199999999254,duration:.2900999999996259},{number:45,velocity:103,time:17.012099999999627,channel:5,string:4,fret:0,end:18.284199999999256,duration:1.2720999999996287},{number:53,velocity:127,time:17.303099999999628,channel:4,string:3,fret:3,end:18.267099999999626,duration:.9639999999999986},{number:58,velocity:127,time:17.317099999999627,channel:3,string:2,fret:3,end:17.882099999999628,duration:.5650000000000013},{number:61,velocity:127,time:17.324199999999255,channel:2,string:1,fret:2,end:17.902099999999628,duration:.5779000000003727},{number:64,velocity:117,time:17.33309999999963,channel:1,string:0,fret:0,end:17.92009999999963,duration:.5869999999999997},{number:57,velocity:80,time:17.887099999999627,channel:3,string:2,fret:2,end:18.257099999999628,duration:.370000000000001},{number:61,velocity:121,time:17.907099999999627,channel:2,string:1,fret:2,end:18.243199999999256,duration:.3360999999996288},{number:65,velocity:118,time:17.924199999999257,channel:1,string:0,fret:1,end:19.152099999999628,duration:1.2279000000003713},{number:61,velocity:127,time:18.248199999999255,channel:2,string:1,fret:2,end:18.800099999999627,duration:.5519000000003729},{number:58,velocity:127,time:18.260199999999255,channel:3,string:2,fret:3,end:18.818199999999255,duration:.5579999999999998},{number:53,velocity:127,time:18.27209999999963,channel:4,string:3,fret:3,end:18.83609999999963,duration:.5640000000000001},{number:45,velocity:80,time:18.293099999999626,channel:5,string:4,fret:0,end:18.857099999999626,duration:.5640000000000001},{number:61,velocity:114,time:18.806099999999628,channel:2,string:1,fret:2,end:19.141199999999255,duration:.3350999999996276},{number:58,velocity:127,time:18.823099999999627,channel:3,string:2,fret:3,end:19.120199999999254,duration:.29709999999962733},{number:52,velocity:120,time:18.840099999999627,channel:4,string:3,fret:2,end:19.105199999999254,duration:.2650999999996273},{number:45,velocity:80,time:18.864199999999254,channel:5,string:4,fret:0,end:19.099099999999627,duration:.2349000000003727},{number:45,velocity:96,time:19.10609999999963,channel:5,string:4,fret:0,end:19.708199999999255,duration:.602099999999627},{number:71,velocity:100,time:19.125099999999627,channel:3,string:2,fret:16,end:19.149099999999628,duration:.02400000000000091},{number:52,velocity:126,time:19.130099999999626,channel:4,string:3,fret:2,end:19.709099999999626,duration:.5790000000000006},{number:57,velocity:127,time:19.146099999999628,channel:3,string:2,fret:2,end:19.413099999999627,duration:.26699999999999946},{number:61,velocity:124,time:19.146099999999628,channel:2,string:1,fret:2,end:19.405099999999628,duration:.25900000000000034},{number:64,velocity:108,time:19.15609999999963,channel:1,string:0,fret:0,end:19.750099999999627,duration:.5939999999999976},{number:60,velocity:98,time:19.407099999999627,channel:2,string:1,fret:1,end:19.742099999999628,duration:.33500000000000085},{number:57,velocity:111,time:19.417199999999255,channel:3,string:2,fret:2,end:19.729099999999626,duration:.3119000000003709},{number:45,velocity:96,time:19.71409999999963,channel:5,string:4,fret:0,end:20.270199999999257,duration:.5560999999996277},{number:67,velocity:69,time:19.71409999999963,channel:4,string:3,fret:17,end:19.719099999999628,duration:.004999999999999005},{number:53,velocity:127,time:19.723099999999626,channel:4,string:3,fret:3,end:20.273099999999626,duration:.5500000000000007},{number:58,velocity:125,time:19.733199999999254,channel:3,string:2,fret:3,end:20.291199999999254,duration:.5579999999999998},{number:61,velocity:121,time:19.744199999999253,channel:2,string:1,fret:2,end:20.30409999999963,duration:.5599000000003755},{number:64,velocity:116,time:19.756099999999627,channel:1,string:0,fret:0,end:20.559099999999628,duration:.8030000000000008},{number:40,velocity:71,time:20.26309999999963,channel:6,string:5,fret:0,end:22.244099999999627,duration:1.980999999999998},{number:62,velocity:92,time:20.277099999999628,channel:4,string:3,fret:12,end:20.29509999999963,duration:.018000000000000682},{number:45,velocity:99,time:20.279099999999627,channel:5,string:4,fret:0,end:21.784199999999256,duration:1.5050999999996293},{number:53,velocity:114,time:20.29209999999963,channel:4,string:3,fret:3,end:20.610199999999256,duration:.3180999999996281},{number:58,velocity:103,time:20.297199999999254,channel:3,string:2,fret:3,end:20.588099999999628,duration:.29090000000037364},{number:60,velocity:86,time:20.309099999999628,channel:2,string:1,fret:1,end:20.576099999999627,duration:.26699999999999946},{number:64,velocity:69,time:20.564099999999627,channel:1,string:0,fret:0,end:21.309099999999628,duration:.745000000000001},{number:61,velocity:119,time:20.58009999999963,channel:2,string:1,fret:2,end:21.29809999999963,duration:.718},{number:58,velocity:124,time:20.595199999999256,channel:3,string:2,fret:3,end:21.287099999999626,duration:.6919000000003699},{number:52,velocity:114,time:20.617099999999628,channel:4,string:3,fret:2,end:21.273099999999626,duration:.6559999999999988},{number:52,velocity:110,time:21.277099999999628,channel:4,string:3,fret:2,end:21.793199999999256,duration:.5160999999996285},{number:58,velocity:124,time:21.29209999999963,channel:3,string:2,fret:3,end:21.543099999999626,duration:.25099999999999767},{number:61,velocity:115,time:21.302099999999626,channel:2,string:1,fret:2,end:21.532099999999627,duration:.23000000000000043},{number:64,velocity:90,time:21.314199999999254,channel:1,string:0,fret:0,end:21.518099999999627,duration:.2039000000003739},{number:64,velocity:109,time:21.523099999999626,channel:1,string:0,fret:0,end:21.824199999999255,duration:.30109999999962866},{number:61,velocity:113,time:21.537199999999256,channel:2,string:1,fret:2,end:21.812099999999628,duration:.27490000000037185},{number:58,velocity:104,time:21.547099999999627,channel:3,string:2,fret:3,end:21.800199999999254,duration:.25309999999962685},{number:45,velocity:105,time:21.791099999999627,channel:5,string:4,fret:0,end:23.228199999999255,duration:1.437099999999628},{number:53,velocity:125,time:21.79809999999963,channel:4,string:3,fret:3,end:22.270099999999626,duration:.47199999999999775},{number:57,velocity:117,time:21.813199999999256,channel:3,string:2,fret:2,end:22.283199999999255,duration:.46999999999999886},{number:61,velocity:121,time:21.817099999999627,channel:2,string:1,fret:2,end:22.288199999999254,duration:.4710999999996268},{number:64,velocity:103,time:21.82709999999963,channel:1,string:0,fret:0,end:22.523099999999626,duration:.695999999999998},{number:49,velocity:39,time:22.251199999999255,channel:6,string:5,fret:9,end:22.285099999999627,duration:.03390000000037219},{number:52,velocity:113,time:22.279099999999627,channel:4,string:3,fret:2,end:22.561099999999627,duration:.28200000000000003},{number:40,velocity:56,time:22.282099999999627,channel:6,string:5,fret:0,end:23.213199999999254,duration:.9310999999996277},{number:57,velocity:107,time:22.286099999999628,channel:3,string:2,fret:2,end:22.544099999999627,duration:.2579999999999991},{number:61,velocity:109,time:22.293099999999626,channel:2,string:1,fret:2,end:22.533199999999255,duration:.24009999999962872},{number:64,velocity:87,time:22.527199999999254,channel:1,string:0,fret:0,end:22.986199999999254,duration:.45899999999999963},{number:60,velocity:120,time:22.538199999999254,channel:2,string:1,fret:1,end:23.006099999999627,duration:.46790000000037324},{number:58,velocity:127,time:22.549099999999626,channel:3,string:2,fret:3,end:23.024099999999628,duration:.4750000000000014},{number:52,velocity:123,time:22.565099999999628,channel:4,string:3,fret:2,end:23.039099999999628,duration:.4740000000000002},{number:64,velocity:88,time:22.989099999999627,channel:1,string:0,fret:0,end:23.288199999999254,duration:.2990999999996262},{number:61,velocity:110,time:23.01009999999963,channel:2,string:1,fret:2,end:23.26909999999963,duration:.25900000000000034},{number:57,velocity:106,time:23.02809999999963,channel:3,string:2,fret:2,end:23.258099999999626,duration:.22999999999999687},{number:52,velocity:96,time:23.049099999999626,channel:4,string:3,fret:2,end:23.231199999999255,duration:.1820999999996289},{number:40,velocity:58,time:23.224199999999254,channel:6,string:5,fret:0,end:23.697199999999256,duration:.47300000000000253},{number:45,velocity:101,time:23.237199999999255,channel:5,string:4,fret:0,end:23.500099999999627,duration:.2629000000003714},{number:52,velocity:127,time:23.256199999999254,channel:4,string:3,fret:2,end:23.402199999999254,duration:.1460000000000008},{number:58,velocity:127,time:23.261099999999626,channel:3,string:2,fret:3,end:23.371199999999256,duration:.11009999999962972},{number:60,velocity:120,time:23.27509999999963,channel:2,string:1,fret:1,end:23.356199999999255,duration:.08109999999962625},{number:64,velocity:104,time:23.292199999999255,channel:1,string:0,fret:0,end:23.437099999999628,duration:.14490000000037284},{number:64,velocity:83,time:23.44109999999963,channel:1,string:0,fret:0,end:23.741099999999626,duration:.29999999999999716},{number:59,velocity:107,time:23.459099999999626,channel:2,string:1,fret:0,end:23.732199999999256,duration:.27309999999962997},{number:55,velocity:104,time:23.477099999999627,channel:3,string:2,fret:0,end:23.723099999999626,duration:.24599999999999866},{number:50,velocity:108,time:23.491099999999626,channel:4,string:3,fret:0,end:23.619099999999627,duration:.1280000000000001},{number:45,velocity:106,time:23.508199999999256,channel:5,string:4,fret:0,end:23.604099999999626,duration:.0959000000003698},{number:53,velocity:69,time:23.702199999999255,channel:5,string:4,fret:8,end:23.736199999999254,duration:.03399999999999892},{number:40,velocity:111,time:23.707099999999627,channel:6,string:5,fret:0,end:23.72009999999963,duration:.013000000000001677},{number:62,velocity:110,time:23.71709999999963,channel:6,string:5,fret:22,end:23.736199999999254,duration:.019099999999625084},{number:56,velocity:127,time:23.727199999999254,channel:3,string:2,fret:1,end:24.213099999999628,duration:.4859000000003739},{number:52,velocity:127,time:23.730099999999627,channel:4,string:3,fret:2,end:24.19909999999963,duration:.4690000000000012},{number:47,velocity:91,time:23.73409999999963,channel:5,string:4,fret:2,end:24.194099999999626,duration:.4599999999999973},{number:40,velocity:108,time:23.73409999999963,channel:6,string:5,fret:0,end:25.178099999999628,duration:1.443999999999999},{number:60,velocity:125,time:23.73709999999963,channel:2,string:1,fret:1,end:24.483099999999627,duration:.7459999999999987},{number:64,velocity:101,time:23.74309999999963,channel:1,string:0,fret:0,end:24.47009999999963,duration:.7270000000000003},{number:47,velocity:100,time:24.201099999999627,channel:5,string:4,fret:2,end:24.976199999999256,duration:.7750999999996289},{number:53,velocity:119,time:24.203099999999626,channel:4,string:3,fret:3,end:24.508099999999626,duration:.3049999999999997},{number:55,velocity:123,time:24.21709999999963,channel:3,string:2,fret:0,end:24.50209999999963,duration:.28500000000000014},{number:64,velocity:120,time:24.474199999999254,channel:1,string:0,fret:0,end:24.913199999999254,duration:.43900000000000006},{number:59,velocity:121,time:24.488099999999626,channel:2,string:1,fret:0,end:24.939099999999627,duration:.4510000000000005},{number:55,velocity:124,time:24.506199999999254,channel:3,string:2,fret:0,end:25.21109999999963,duration:.7049000000003751},{number:52,velocity:112,time:24.517099999999626,channel:4,string:3,fret:2,end:25.190099999999628,duration:.6730000000000018},{number:64,velocity:101,time:24.918099999999626,channel:1,string:0,fret:0,end:25.23709999999963,duration:.3190000000000026},{number:59,velocity:92,time:24.942199999999254,channel:2,string:1,fret:0,end:25.224099999999627,duration:.2819000000003733},{number:47,velocity:91,time:24.982199999999256,channel:5,string:4,fret:2,end:25.195199999999254,duration:.2129999999999974},{number:40,velocity:88,time:25.18809999999963,channel:6,string:5,fret:0,end:25.64709999999963,duration:.45899999999999963},{number:47,velocity:103,time:25.201099999999627,channel:5,string:4,fret:2,end:25.42909999999963,duration:.22800000000000153},{number:53,velocity:116,time:25.208199999999255,channel:4,string:3,fret:3,end:25.415099999999626,duration:.20690000000037045},{number:55,velocity:115,time:25.215099999999627,channel:3,string:2,fret:0,end:25.395099999999626,duration:.17999999999999972},{number:59,velocity:126,time:25.227199999999254,channel:2,string:1,fret:0,end:25.384099999999627,duration:.1569000000003733},{number:64,velocity:116,time:25.242099999999628,channel:1,string:0,fret:0,end:25.370199999999254,duration:.12809999999962685},{number:64,velocity:94,time:25.373199999999255,channel:1,string:0,fret:0,end:25.696199999999255,duration:.3230000000000004},{number:59,velocity:113,time:25.389099999999626,channel:2,string:1,fret:0,end:25.687099999999628,duration:.2980000000000018},{number:55,velocity:113,time:25.401199999999253,channel:3,string:2,fret:0,end:25.674099999999626,duration:.27290000000037296},{number:52,velocity:115,time:25.42009999999963,channel:4,string:3,fret:2,end:25.66709999999963,duration:.2469999999999999},{number:47,velocity:102,time:25.43509999999963,channel:5,string:4,fret:2,end:25.65609999999963,duration:.22100000000000009},{number:40,velocity:101,time:25.658099999999628,channel:6,string:5,fret:0,end:26.134099999999627,duration:.4759999999999991},{number:48,velocity:112,time:25.664199999999255,channel:5,string:4,fret:3,end:26.157099999999627,duration:.4929000000003718},{number:53,velocity:127,time:25.670199999999255,channel:4,string:3,fret:3,end:26.15009999999963,duration:.4799000000003737},{number:56,velocity:127,time:25.681099999999628,channel:3,string:2,fret:1,end:26.17009999999963,duration:.48900000000000077},{number:59,velocity:121,time:25.69109999999963,channel:2,string:1,fret:0,end:26.193099999999628,duration:.5019999999999989},{number:64,velocity:100,time:25.701099999999627,channel:1,string:0,fret:0,end:26.401099999999627,duration:.6999999999999993},{number:40,velocity:97,time:26.143199999999254,channel:6,string:5,fret:0,end:26.944099999999626,duration:.8009000000003716},{number:67,velocity:92,time:26.15309999999963,channel:4,string:3,fret:17,end:26.172099999999627,duration:.01899999999999835},{number:47,velocity:96,time:26.162099999999626,channel:5,string:4,fret:2,end:26.461199999999256,duration:.2990999999996298},{number:53,velocity:115,time:26.169099999999627,channel:4,string:3,fret:3,end:26.444099999999626,duration:.2749999999999986},{number:55,velocity:115,time:26.175099999999627,channel:3,string:2,fret:0,end:26.43509999999963,duration:.26000000000000156},{number:59,velocity:114,time:26.198099999999627,channel:2,string:1,fret:0,end:26.415099999999626,duration:.21699999999999875},{number:64,velocity:81,time:26.404099999999627,channel:1,string:0,fret:0,end:26.867199999999254,duration:.4630999999996277},{number:59,velocity:111,time:26.42009999999963,channel:2,string:1,fret:0,end:26.883199999999256,duration:.4630999999996277},{number:55,velocity:121,time:26.43809999999963,channel:3,string:2,fret:0,end:26.898199999999257,duration:.4600999999996276},{number:53,velocity:124,time:26.448199999999254,channel:4,string:3,fret:3,end:26.915099999999626,duration:.466900000000372},{number:47,velocity:102,time:26.469099999999628,channel:5,string:4,fret:2,end:26.928099999999628,duration:.45899999999999963},{number:64,velocity:58,time:26.87109999999963,channel:1,string:0,fret:0,end:29.29209999999963,duration:2.4209999999999994},{number:59,velocity:102,time:26.888199999999255,channel:2,string:1,fret:0,end:27.17909999999963,duration:.29090000000037364},{number:55,velocity:110,time:26.904199999999253,channel:3,string:2,fret:0,end:27.163199999999254,duration:.25900000000000034},{number:53,velocity:122,time:26.919099999999627,channel:4,string:3,fret:3,end:27.15309999999963,duration:.23400000000000176},{number:47,velocity:96,time:26.937099999999628,channel:5,string:4,fret:2,end:27.145199999999257,duration:.2080999999996287},{number:40,velocity:88,time:26.951099999999627,channel:6,string:5,fret:0,end:27.123099999999628,duration:.1720000000000006},{number:40,velocity:92,time:27.133099999999626,channel:6,string:5,fret:0,end:27.38809999999963,duration:.25500000000000256},{number:47,velocity:101,time:27.15009999999963,channel:5,string:4,fret:2,end:27.739099999999627,duration:.5889999999999986},{number:52,velocity:113,time:27.158099999999628,channel:4,string:3,fret:2,end:27.360099999999626,duration:.20199999999999818},{number:55,velocity:118,time:27.16709999999963,channel:3,string:2,fret:0,end:27.349199999999254,duration:.18209999999962534},{number:59,velocity:113,time:27.183099999999627,channel:2,string:1,fret:0,end:29.132099999999628,duration:1.9490000000000016},{number:55,velocity:114,time:27.35309999999963,channel:3,string:2,fret:0,end:28.959099999999626,duration:1.605999999999998},{number:53,velocity:118,time:27.364099999999627,channel:4,string:3,fret:3,end:28.770199999999257,duration:1.406099999999629},{number:40,velocity:94,time:27.398199999999257,channel:6,string:5,fret:0,end:27.652099999999628,duration:.25390000000037105},{number:40,velocity:87,time:27.70209999999963,channel:6,string:5,fret:0,end:28.407099999999627,duration:.7049999999999983},{number:47,velocity:64,time:27.753099999999627,channel:5,string:4,fret:2,end:28.59509999999963,duration:.8420000000000023},{number:40,velocity:84,time:28.538099999999627,channel:6,string:5,fret:0,end:31.107099999999626,duration:2.568999999999999},{number:47,velocity:81,time:28.722199999999255,channel:5,string:4,fret:2,end:30.264199999999256,duration:1.5420000000000016},{number:52,velocity:124,time:28.903199999999256,channel:4,string:3,fret:2,end:30.250199999999253,duration:1.3469999999999978},{number:55,velocity:106,time:29.085099999999628,channel:3,string:2,fret:0,end:31.09209999999963,duration:2.0070000000000014},{number:59,velocity:101,time:29.254099999999628,channel:2,string:1,fret:0,end:31.078099999999626,duration:1.823999999999998},{number:64,velocity:95,time:29.42009999999963,channel:1,string:0,fret:0,end:30.960099999999628,duration:1.5399999999999991}],Kyt="strumming-pattern",qyt="2024-07-03T17:17:43.861Z",MT={pastSeconds:zyt,maxNoteDistance:jyt,notes:Wyt,_appId:Kyt,_date:qyt};function Xyt(e){let t,i,n,a,o;return{c(){t=q("p"),t.innerHTML="1) Strum up and down alternating: <code>U D U D</code>.",i=K(),n=q("p"),n.innerHTML=`2) Strumming a pattern like <code>D U U D</code> or
                <code>D D U D</code>.`,a=K(),o=q("p"),o.textContent=`3) Strum chords like Am, E, G, D and make sure you only strum
                the strings you intend.`},m(l,c){bt(l,t,c),bt(l,i,c),bt(l,n,c),bt(l,a,c),bt(l,o,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n),vt(a),vt(o))}}}function Yyt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt;function ht(Jt){e[15](Jt)}let st={title:"time in seconds for past notes to be shown",label:"time",min:10,max:300,step:10};e[2]!==void 0&&(st.value=e[2]),u=new M0({props:st}),he.push(()=>Ee(u,"value",ht));function St(Jt){e[16](Jt)}let At={title:"maximum distance between notes such that they still count as beloning to the same chord",label:"max. note distance",min:.01,max:5,step:.01};e[3]!==void 0&&(At.value=e[3]),f=new M0({props:At}),he.push(()=>Ee(f,"value",St));function xt(Jt){e[17](Jt)}let gt={title:"minimum duration of a note, used to filter noise",label:"min. duration",min:0,max:1,step:.01,defaultValue:0};e[4]!==void 0&&(gt.value=e[4]),y=new M0({props:gt}),he.push(()=>Ee(y,"value",xt));function yt(Jt){e[20](Jt)}let lt={saveToStorage:e[14],callback:e[19]};e[6]!==void 0&&(lt.notes=e[6]),E=new c9({props:lt}),he.push(()=>Ee(E,"notes",yt)),D=new _9({props:{appId:e[0].id,loadData:e[13]}});function zt(Jt){e[22](Jt)}let kt={callback:e[11]};return e[6]!==void 0&&(kt.notes=e[6]),P=new Oa({props:kt}),he.push(()=>Ee(P,"notes",zt)),V=new f9({props:{loadData:e[13],getExportData:e[12],appId:e[0].id}}),G=new e9({props:{$$slots:{default:[Xyt]},$$scope:{ctx:e}}}),J=new i9({props:{appId:e[0].id}}),j=new j0({props:{noteOn:e[9],noteOff:e[10]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app shows you how you strummed (up or down? which strings?), so
            you can make sure you strumm a pattern as intended. The upper chart
            shows you the when you played a note on which string. The lower
            chart shows you the time between the start of the first and last
            note of the chord (rectangle width) and which strings it spanned
            (rectangle y and height). Blue chords were strummed upward and
            orange ones downward. The strumming direction is further indicated
            by arrow heads. Due to how guitar tabs are drawn from the point of
            view of the guitarist, downward strumming will result in upward
            arrows in the lower visualization. Single notes are drawn in red.
            The opactiy encodes the notes' mean velocity (loudness).`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),C=q("div"),w=K(),_=q("div"),Pt(E.$$.fragment),I=K(),T=q("button"),T.textContent="example",k=K(),Pt(D.$$.fragment),N=K(),Pt(P.$$.fragment),U=K(),Pt(V.$$.fragment),z=K(),Pt(G.$$.fragment),H=K(),Pt(J.$$.fragment),Z=K(),Pt(j.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(C,"class","visualization"),mt(_,"class","control"),mt(t,"class","app")},m(Jt,Gt){bt(Jt,t,Gt),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(t,v),B(t,C),e[18](C),B(t,w),B(t,_),Rt(E,_,null),B(_,I),B(_,T),B(_,k),Rt(D,_,null),B(_,N),Rt(P,_,null),B(_,U),Rt(V,_,null),B(t,z),Rt(G,t,null),B(t,H),Rt(J,t,null),B(t,Z),Rt(j,t,null),W=!0,et||(dt=ze(T,"click",e[21]),et=!0)},p(Jt,Gt){(!W||Gt&1)&&n!==(n=Jt[0].title+"")&&Qe(a,n);const ce={};!h&&Gt&4&&(h=!0,ce.value=Jt[2],_e(()=>h=!1)),u.$set(ce);const ae={};!M&&Gt&8&&(M=!0,ae.value=Jt[3],_e(()=>M=!1)),f.$set(ae);const qt={};!b&&Gt&16&&(b=!0,qt.value=Jt[4],_e(()=>b=!1)),y.$set(qt);const ue={};Gt&160&&(ue.callback=Jt[19]),!S&&Gt&64&&(S=!0,ue.notes=Jt[6],_e(()=>S=!1)),E.$set(ue);const $e={};Gt&1&&($e.appId=Jt[0].id),D.$set($e);const ve={};!F&&Gt&64&&(F=!0,ve.notes=Jt[6],_e(()=>F=!1)),P.$set(ve);const He={};Gt&1&&(He.appId=Jt[0].id),V.$set(He);const qe={};Gt&67108864&&(qe.$$scope={dirty:Gt,ctx:Jt}),G.$set(qe);const ri={};Gt&1&&(ri.appId=Jt[0].id),J.$set(ri)},i(Jt){W||(wt(u.$$.fragment,Jt),wt(f.$$.fragment,Jt),wt(y.$$.fragment,Jt),wt(E.$$.fragment,Jt),wt(D.$$.fragment,Jt),wt(P.$$.fragment,Jt),wt(V.$$.fragment,Jt),wt(G.$$.fragment,Jt),wt(J.$$.fragment,Jt),wt(j.$$.fragment,Jt),W=!0)},o(Jt){It(u.$$.fragment,Jt),It(f.$$.fragment,Jt),It(y.$$.fragment,Jt),It(E.$$.fragment,Jt),It(D.$$.fragment,Jt),It(P.$$.fragment,Jt),It(V.$$.fragment,Jt),It(G.$$.fragment,Jt),It(J.$$.fragment,Jt),It(j.$$.fragment,Jt),W=!1},d(Jt){Jt&&vt(t),Dt(u),Dt(f),Dt(y),e[18](null),Dt(E),Dt(D),Dt(P),Dt(V),Dt(G),Dt(J),Dt(j),et=!1,dt()}}}function Zyt(e){let t,i;return t=new m9({props:{loadData:e[13],disabled:e[8],$$slots:{default:[Yyt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&67109119&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let tAt=200,aM=6;function eAt(e,t,i){let n,{appInfo:a}=t,o=[64,59,55,50,45,40];const l=o.map(Fa);let c,d=10,u=.05,h=0,p,f=[],M=new Map,g;const y=F=>{f.length===0&&i(5,p=F.timestamp);const U=(F.timestamp-p)/1e3,V=F.message.channel-1,z={number:F.note.number,velocity:F.velocity,time:U,channel:F.message.channel,string:V,fret:F.note.number-o[V]};if(M.has(F.note.number)){const G=M.get(F.note.number);G.end===void 0&&(G.end=U)}i(6,f=[...f,z]),M.set(F.note.number,z)},b=F=>{if(M.has(F.note.number)){const U=M.get(F.note.number),V=(F.timestamp-p)/1e3;U.end=V,U.duration=U.end-U.time,i(6,f=[...f])}},v=()=>{const F=f.filter(W=>W.duration===void 0||W.duration>=h);let U=.5;F.length>0&&(U=f.at(-1).time+.5);const V=U-d,z=f.filter(W=>W.end>V||W.end===void 0),H=Fh(z,u).map(W=>{const et=W9(W,St=>St.string),dt=W9(W,St=>St.time),ht=W.slice(1).map((St,At)=>St.string-W[At].string);let st;return et[0]===et[1]?st="single note":st=Qd(ht)>0?"up":"down",{minString:et[0],maxString:et[1],minTime:dt[0],maxTime:dt[1],direction:st,meanVelocity:Bc(W,St=>St.velocity)}}),J={width:n,height:tAt,marginTop:0,marginLeft:45,marginBottom:35},Z=On({...J,x:{label:"time in seconds",domain:[V,U]},y:{label:"string",grid:!0,domain:fi(0,aM),tickFormat:W=>l[W]},color:{label:"string",type:"categorical",scheme:"observable10",reverse:!0,legend:!0,marginLeft:100,width:300,domain:fi(1,aM+1)},opacity:{domain:[0,1]},marks:[$r(z,{clip:!0,x:"time",y:"string",stroke:"channel",opacity:"velocity",strokeWidth:3})]}),j=On({...J,x:{label:"time in seconds",domain:[V,U]},y:{label:"string",grid:!0,domain:fi(0,aM),tickFormat:W=>l[W],padding:.7},color:{label:"strumming",type:"categorical",scheme:"observable10",legend:!0,marginLeft:100,width:300,domain:["up","down","single note"]},marks:[AU(H,{clip:!0,x1:"minTime",x2:"maxTime",y1:"minString",y2:"maxString",fill:"direction",opacity:"meanVelocity",rx:5}),ea(H,{clip:!0,x:W=>(W.minTime+W.maxTime)/2,y:W=>W.direction==="down"?W.minString:W.maxString,fill:"direction",symbol:"diamond",r:8})]});i(1,c.textContent="",c),c.appendChild(Z),c.appendChild(j)};$9(v);const C=()=>({pastSeconds:d,maxNoteDistance:u,notes:f}),w=F=>{_(),i(2,d=F.pastSeconds),i(3,u=F.maxNoteDistance),i(6,f=F.notes)},_=()=>{f.length>0&&JSON.stringify(f)!==JSON.stringify(MT.notes)&&C9(a.id,C())};c0(_);function E(F){d=F,i(2,d)}function S(F){u=F,i(3,u)}function I(F){h=F,i(4,h)}function T(F){he[F?"unshift":"push"](()=>{c=F,i(1,c)})}const k=()=>{i(7,M=new Map),i(5,p=performance.now())};function D(F){f=F,i(6,f)}const N=()=>w(MT);function P(F){f=F,i(6,f)}return e.$$set=F=>{"appInfo"in F&&i(0,a=F.appInfo)},n=window.innerWidth<1200?900:Math.floor(window.innerWidth-200),[a,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P]}class iAt extends Zi{constructor(t){super(),Yi(this,t,eAt,Zyt,Xi,{appInfo:0})}}function yT(e,t){return e==null?t:typeof e=="function"?e:i=>i[e]}function nAt(e,t,i,n,a,o){const l=new Float64Array(o),c=(o-1)/(a-n);for(let d=0;d<e.length;++d){const u=e[d],h=t(u,d,e),p=i(u,d,e);if(!(Number.isFinite(h)&&Number.isFinite(p)))continue;const f=(h-n)*c,M=Math.floor(f),g=M+1;0<=M&&g<o?(l[M]+=(g-f)*p,l[g]+=(f-M)*p):M===-1?l[g]+=(f-M)*p:g===o&&(l[M]+=(g-f)*p)}return l}function AT(e,t=!1){const i=new Float64Array(5),n=new Float64Array(4);rAt(i,n,e);const a=Float64Array.of(0,n[1]-i[1]*n[0],n[2]-i[2]*n[0],n[3]-i[3]*n[0],-i[4]*n[0]),o=1+i[1]+i[2]+i[3]+i[4],l=(n[0]+n[1]+n[2]+n[3])/o,c=(a[1]+a[2]+a[3]+a[4])/o;return{sigma:e,negative:t,a:i,b_causal:n,b_anticausal:a,sum_causal:l,sum_anticausal:c}}function rAt(e,t,i){const a=Float64Array.of(.84,1.8675,.84,-1.8675,-.34015,-.1299,-.34015,.1299),o=Math.exp(-1.783/i),l=Math.exp(-1.723/i),c=.6318/i,d=1.997/i,u=Float64Array.of(-o*Math.cos(c),o*Math.sin(c),-o*Math.cos(-c),o*Math.sin(-c),-l*Math.cos(d),l*Math.sin(d),-l*Math.cos(-d),l*Math.sin(-d)),h=i*2.5066282746310007,p=Float64Array.of(a[0],a[1],0,0,0,0,0,0),f=Float64Array.of(1,0,u[0],u[1],0,0,0,0,0,0);let M,g;for(g=2;g<8;g+=2){for(p[g]=u[g]*p[g-2]-u[g+1]*p[g-1],p[g+1]=u[g]*p[g-1]+u[g+1]*p[g-2],M=g-2;M>0;M-=2)p[M]+=u[g]*p[M-2]-u[g+1]*p[M-1],p[M+1]+=u[g]*p[M-1]+u[g+1]*p[M-2];for(M=0;M<=g;M+=2)p[M]+=a[g]*f[M]-a[g+1]*f[M+1],p[M+1]+=a[g]*f[M+1]+a[g+1]*f[M];for(f[g+2]=u[g]*f[g]-u[g+1]*f[g+1],f[g+3]=u[g]*f[g+1]+u[g+1]*f[g],M=g;M>0;M-=2)f[M]+=u[g]*f[M-2]-u[g+1]*f[M-1],f[M+1]+=u[g]*f[M-1]+u[g+1]*f[M-2]}for(g=0;g<4;++g)M=g<<1,t[g]=p[M]/h,e[g+1]=f[M+2]}function aAt(e,t,i,n=1,a=new Float64Array(i),o=new Float64Array(i),l=new Float64Array(5),c=a,d=oAt){const u=n*2,h=n*3,p=n*4,f=n*i;let M,g;for(d(a,t,i,n,e.b_causal,3,e.a,4,e.sum_causal,l,e.sigma),g=4,M=p;g<i;++g,M+=n)a[g]=e.b_causal[0]*t[M]+e.b_causal[1]*t[M-n]+e.b_causal[2]*t[M-u]+e.b_causal[3]*t[M-h]-e.a[1]*a[g-1]-e.a[2]*a[g-2]-e.a[3]*a[g-3]-e.a[4]*a[g-4];for(d(o,t,i,-n,e.b_anticausal,4,e.a,4,e.sum_anticausal,l,e.sigma),g=4,M=f-n*5;g<i;++g,M-=n)o[g]=e.b_anticausal[1]*t[M+n]+e.b_anticausal[2]*t[M+u]+e.b_anticausal[3]*t[M+h]+e.b_anticausal[4]*t[M+p]-e.a[1]*o[g-1]-e.a[2]*o[g-2]-e.a[3]*o[g-3]-e.a[4]*o[g-4];if(e.negative)for(g=0,M=0;g<i;++g,M+=n)c[M]=a[g]+o[i-g-1];else for(g=0,M=0;g<i;++g,M+=n)c[M]=Math.max(0,a[g]+o[i-g-1]);return c}function oAt(e,t,i,n,a,o,l,c,d,u,h,p=.5){const f=Math.abs(n)*i,M=n<0?f+n:0;let g,y,b;for(y=0;y<c;++y)for(u[y]=y<=o?a[y]:0,b=1;b<=c&&b<=y;++b)u[y]-=l[b]*u[y-b];for(b=0;b<c;++b)for(e[b]=0,y=1;y<=b;++y)g=M+n*y,g>=0&&g<f&&(e[b]+=u[b-y]*t[g]);const v=t[M],C=Math.ceil(h*10);for(y=0;y<C;++y){for(b=0;b<c;++b)e[b]+=u[b]*v;if(d-=Math.abs(u[0]),d<=p)break;for(u[c]=y+c<=o?a[y+c]:0,b=1;b<=c;++b)u[c]-=l[b]*u[c-b];for(b=0;b<c;++b)u[b]=u[b+1]}}function sAt(e,t,i=0){const n=e.length;let a,o;for(let l=0;l<n;++l){const c=t(e[l],l,e);c!=null&&(a===void 0?c>=c&&(a=o=c):(c<a&&(a=c),c>o&&(o=c)))}return[a-i,o+i]}function lAt(e,t){const i=e.map(t).filter(u=>u!=null&&u>=u);i.sort((u,h)=>u-h);const n=cAt(i),a=vT(i,.25),o=vT(i,.75),l=i.length,c=(o-a)/1.34;return 1.06*(Math.min(n,c)||n||Math.abs(a)||1)*Math.pow(l,-.2)}function cAt(e){const t=e.length;let i=0,n,a=0,o=0;for(let l=0;l<t;++l){const c=e[l];n=c-a,a+=n/++i,o+=n*(c-a)}return i>1?Math.sqrt(o/(i-1)):NaN}function vT(e,t){const i=e.length;if(!i)return NaN;if((t=+t)<=0||i<2)return e[0];if(t>=1)return e[i-1];const n=(i-1)*t,a=Math.floor(n),o=e[a];return o+(e[a+1]-o)*(n-a)}function G3(e,t={}){const{adjust:i=1,pad:n=3,bins:a=512}=t,o=yT(t.x,v=>v),l=yT(t.weight,()=>1/e.length);let c=t.bandwidth??i*lAt(e,o);const[d,u]=t.extent??sAt(e,o,n*c),h=nAt(e,o,l,d,u,a),p=(u-d)/(a-1),f=h.some(v=>v<0);let M=AT(c/p,f),g;function*y(v="x",C="y"){const w=b.grid(),_=1/p;for(let E=0;E<a;++E)yield{[v]:d+E*p,[C]:w[E]*_}}const b={[Symbol.iterator]:y,points:y,grid:()=>g||(g=aAt(M,h,a)),extent:()=>[d,u],bandwidth(v){return arguments.length?(v!==c&&(c=v,g=null,M=AT(c/p,f)),b):c}};return b}const uAt=60,dAt="4:3",hAt=96,fAt=-.05,mAt=8,pAt=[{time:0,velocity:.5},{time:.416,velocity:.5},{time:.787,velocity:.5},{time:1.166,velocity:.5},{time:1.502,velocity:.5},{time:1.820099999964237,velocity:.5},{time:2.16,velocity:.5},{time:2.448099999964237,velocity:.5},{time:2.751,velocity:.5},{time:3.069,velocity:.5},{time:3.449099999964237,velocity:.5},{time:3.749,velocity:.5},{time:4.069099999964237,velocity:.5},{time:4.415,velocity:.5},{time:4.7320999999642375,velocity:.5},{time:5.065,velocity:.5},{time:5.42,velocity:.5},{time:5.730099999964237,velocity:.5},{time:6.050099999964237,velocity:.5},{time:6.405,velocity:.5},{time:6.705,velocity:.5},{time:7.041099999964238,velocity:.5},{time:7.373,velocity:.5},{time:7.674,velocity:.5},{time:8.022099999964237,velocity:.5},{time:8.385,velocity:.5},{time:8.7,velocity:.5},{time:9.024099999964237,velocity:.5},{time:9.392,velocity:.5},{time:9.709,velocity:.5},{time:10.026,velocity:.5},{time:10.378,velocity:.5},{time:10.691099999964237,velocity:.5},{time:11.024099999964237,velocity:.5},{time:11.372099999964238,velocity:.5},{time:11.683099999964238,velocity:.5},{time:12.021099999964237,velocity:.5},{time:12.367099999964237,velocity:.5},{time:12.701099999964237,velocity:.5},{time:13.033099999964238,velocity:.5},{time:13.353099999964238,velocity:.5},{time:13.679,velocity:.5},{time:14.011099999964237,velocity:.5},{time:14.352099999964237,velocity:.5},{time:14.688099999964237,velocity:.5},{time:15.012099999964237,velocity:.5},{time:15.374099999964237,velocity:.5},{time:15.68,velocity:.5},{time:16.011,velocity:.5},{time:16.372,velocity:.5},{time:17.028,velocity:.5},{time:18.033099999964236,velocity:.5},{time:18.042099999964236,velocity:.5},{time:19.030099999964236,velocity:.5},{time:19.692,velocity:.5},{time:20.024,velocity:.5},{time:21.01809999996424,velocity:.5},{time:21.38109999996424,velocity:.5},{time:21.73609999996424,velocity:.5},{time:22.065099999964236,velocity:.5},{time:22.386,velocity:.5},{time:22.694099999964237,velocity:.5},{time:23.030099999964236,velocity:.5},{time:23.347,velocity:.5},{time:23.63109999996424,velocity:.5},{time:23.997,velocity:.5},{time:24.34909999996424,velocity:.5},{time:24.687,velocity:.5},{time:25.028099999964237,velocity:.5},{time:25.385,velocity:.5},{time:25.683,velocity:.5},{time:26.014099999964237,velocity:.5},{time:26.378,velocity:.5},{time:26.697099999964237,velocity:.5},{time:27.027099999964236,velocity:.5},{time:27.373099999964236,velocity:.5},{time:27.692,velocity:.5},{time:28.049099999964238,velocity:.5},{time:28.404,velocity:.5},{time:28.70709999996424,velocity:.5},{time:29.045,velocity:.5},{time:29.397099999964237,velocity:.5},{time:29.709099999964238,velocity:.5},{time:30.055,velocity:.5},{time:30.41609999996424,velocity:.5},{time:30.726,velocity:.5},{time:31.062099999964236,velocity:.5},{time:31.418099999964237,velocity:.5},{time:31.745099999964236,velocity:.5}],gAt="sub-division-linear",MAt="0.15.1",yAt="2024-10-02T14:24:44.616Z",S8={tempo:uAt,grid:dAt,binNote:hAt,adjustTime:fAt,pastBars:mAt,notes:pAt,_appId:gAt,_softwareVersion:MAt,_date:yAt};function AAt(e){let t,i,n,a,o,l,c;return{c(){t=q("label"),i=te(`adjust
    `),n=q("input"),a=K(),o=q("button"),o.textContent="auto",mt(n,"type","number"),mt(n,"step",Uy),mt(n,"min",e[2]),mt(n,"max",mJ),sn(n,"width","55px"),mt(n,"class","svelte-pqwly5"),mt(t,"title","Shift all notes by an amount in seconds"),mt(o,"class","svelte-pqwly5")},m(d,u){bt(d,t,u),B(t,i),B(t,n),qi(n,e[0]),bt(d,a,u),bt(d,o,u),l||(c=[ze(n,"input",e[7]),ze(n,"change",function(){Xo(e[1])&&e[1].apply(this,arguments)}),ze(n,"wheel",e[8]),ze(n,"mousedown",e[9]),ze(o,"click",e[3])],l=!0)},p(d,[u]){e=d,u&1&&Rr(n.value)!==e[0]&&qi(n,e[0])},i:We,o:We,d(d){d&&(vt(t),vt(a),vt(o)),l=!1,t0(c)}}}const mJ=2,Uy=.01;function vAt(e,t,i){let{adjustTime:n}=t,{notes:a}=t,{grid:o}=t,{tempo:l}=t,{draw:c=()=>{}}=t;const d=-2,u=()=>{if(!a||a.length===0){i(0,n=0);return}const[M,g]=o.split(":").map(S=>+S),y=Q0(l)*M,b=y/(M*g),v=fi(0,y+b,b),C=a.map(S=>{const I=S%y;let T=1/0;for(const k of v){const D=k-I;Math.abs(D)<Math.abs(T)&&(T=D)}return T}),w=Bc(C),_=Math.round(w*100)/100,E=()=>{i(0,n=n+(_-n)/20),Math.abs(n-_)>.001?setTimeout(E,1e3/60):i(0,n=_),c()};setTimeout(E,1e3/60)};function h(){n=Rr(this.value),i(0,n)}const p=M=>{M.preventDefault();const g=M.deltaY<0?Uy:-Uy,y=Math.min(mJ,Math.max(d,n+g));i(0,n=+y.toFixed(12)),c()},f=M=>{M.button===1&&(M.preventDefault(),i(0,n=0),c())};return e.$$set=M=>{"adjustTime"in M&&i(0,n=M.adjustTime),"notes"in M&&i(4,a=M.notes),"grid"in M&&i(5,o=M.grid),"tempo"in M&&i(6,l=M.tempo),"draw"in M&&i(1,c=M.draw)},[n,c,d,u,a,o,l,h,p,f]}class H3 extends Zi{constructor(t){super(),Yi(this,t,vAt,AAt,Xi,{adjustTime:0,notes:4,grid:5,tempo:6,draw:1})}}function bAt(e,t,i){const n=e.slice();return n[34]=t[i],n}function CAt(e,t,i){const n=e.slice();return n[34]=t[i],n}function _At(e){let t;return{c(){t=q("option"),t.textContent=`${e[34].label}`,t.__value=e[34].divisions,qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function EAt(e){let t,i=je(Do),n=[];for(let a=0;a<i.length;a+=1)n[a]=_At(CAt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function wAt(e){let t;return{c(){t=q("option"),t.textContent=`1/${e[34]} note`,t.__value=e[34],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function OAt(e){let t,i=je(Nh),n=[];for(let a=0;a<i.length;a+=1)n[a]=wAt(bAt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function SAt(e){let t,i,n,a,o;return{c(){t=q("p"),t.textContent="1) Play triplets.",i=K(),n=q("p"),n.textContent=`2) Switch back and forth between a half bar of eighths and a
                half bar of triplets.`,a=K(),o=q("p"),o.textContent=`3) Play a swing feel, where you shift every second note a bit
                late. Try to do this consistently!`},m(l,c){bt(l,t,c),bt(l,i,c),bt(l,n,c),bt(l,a,c),bt(l,o,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n),vt(a),vt(o))}}}function xAt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I=e[7]?"area":"bars",T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt,ue,$e,ve,He,qe,ri,oi,oe,fe,pe,Ot,_t,Ht;function Tt(Ge){e[17](Ge)}let Et={};e[3]!==void 0&&(Et.value=e[3]),u=new Vr({props:Et}),he.push(()=>Ee(u,"value",Tt));function Lt(Ge){e[18](Ge)}let ut={label:"grid",title:"The whole circle is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",$$slots:{default:[EAt]},$$scope:{ctx:e}};e[4]!==void 0&&(ut.value=e[4]),f=new t9({props:ut}),he.push(()=>Ee(f,"value",Lt));function X(Ge){e[19](Ge)}let tt={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",$$slots:{default:[OAt]},$$scope:{ctx:e}};e[5]!==void 0&&(tt.value=e[5]),y=new t9({props:tt}),he.push(()=>Ee(y,"value",X));function Bt(Ge){e[20](Ge)}let Qt={tempo:e[3],grid:e[4],notes:e[10].map(bT)};e[6]!==void 0&&(Qt.adjustTime=e[6]),w=new H3({props:Qt}),he.push(()=>Ee(w,"adjustTime",Bt));function jt(Ge){e[22](Ge)}let ne={label:"bar scores",title:"Show scores (percentage of notes within gray areas) per bar"};e[9]!==void 0&&(ne.checked=e[9]),D=new zn({props:ne}),he.push(()=>Ee(D,"checked",jt));function se(Ge){e[23](Ge)}let Be={label:"loudness",title:"Show loudness in the note tick width, for example to see if you set accents correctly"};e[8]!==void 0&&(Be.checked=e[8]),F=new zn({props:Be}),he.push(()=>Ee(F,"checked",se)),W=new so({props:{tempo:e[3],accent:+e[4].split(":")[0]}});function we(Ge){e[26](Ge)}let Ne={};e[10]!==void 0&&(Ne.data=e[10]),dt=new Z5({props:Ne}),he.push(()=>Ee(dt,"data",we));function li(Ge){e[27](Ge)}let zi={saveToStorage:e[16]};e[10]!==void 0&&(zi.notes=e[10]),St=new c9({props:zi}),he.push(()=>Ee(St,"notes",li)),lt=new _9({props:{appId:e[0].id,loadData:e[15]}});function Ve(Ge){e[29](Ge)}let ji={};return e[10]!==void 0&&(ji.notes=e[10]),kt=new Oa({props:ji}),he.push(()=>Ee(kt,"notes",Ve)),ce=new f9({props:{loadData:e[15],getExportData:e[14],appId:e[0].id}}),qt=new e9({props:{$$slots:{default:[SAt]},$$scope:{ctx:e}}}),$e=new i9({props:{appId:e[0].id}}),He=new j0({props:{noteOn:e[12]}}),ri=new X9({props:{key:" ",keyDown:e[30]}}),oe=new iu({props:{element:e[1],touchStart:e[31]}}),pe=new $3({props:{callback:e[13]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
            triplets. Choose your tempo and subdivision, and start playing. The
            bar or area chart will show you a summary of when you played notes.
            Use the integrated metronome. All notes will be timed relative to
            the first one, but you can adjust all notes to make them earlier or
            later in case you messed up the first. Each bar you play will be
            shown its own layer around the circle. The lightgray areas show th
            tolerance zone where a note is considered to be timed well
            (depending on the binning setting), the score in the center shows
            the percentage of notes that are inside these areas.<br/> <i>Try playing without looking and focus on the metronome. Try to
                play all notes such that they are within a gray area!</i>`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),C=q("div"),Pt(w.$$.fragment),E=K(),S=q("button"),T=te(I),k=K(),Pt(D.$$.fragment),P=K(),Pt(F.$$.fragment),V=K(),z=q("div"),G=q("canvas"),H=K(),J=q("div"),Z=K(),j=q("div"),Pt(W.$$.fragment),et=K(),Pt(dt.$$.fragment),st=K(),Pt(St.$$.fragment),xt=K(),gt=q("button"),gt.textContent="example",yt=K(),Pt(lt.$$.fragment),zt=K(),Pt(kt.$$.fragment),Gt=K(),Pt(ce.$$.fragment),ae=K(),Pt(qt.$$.fragment),ue=K(),Pt($e.$$.fragment),ve=K(),Pt(He.$$.fragment),qe=K(),Pt(ri.$$.fragment),oi=K(),Pt(oe.$$.fragment),fe=K(),Pt(pe.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(S,"title","Toggle between bars and area"),mt(C,"class","control"),sn(G,"width",q2+"px"),sn(G,"height",X2+"px"),mt(z,"class","visualization"),mt(j,"class","control"),mt(t,"class","app")},m(Ge,ke){bt(Ge,t,ke),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(t,v),B(t,C),Rt(w,C,null),B(C,E),B(C,S),B(S,T),B(C,k),Rt(D,C,null),B(C,P),Rt(F,C,null),B(t,V),B(t,z),B(z,G),e[24](G),B(t,H),B(t,J),e[25](J),B(t,Z),B(t,j),Rt(W,j,null),B(j,et),Rt(dt,j,null),B(j,st),Rt(St,j,null),B(j,xt),B(j,gt),B(j,yt),Rt(lt,j,null),B(j,zt),Rt(kt,j,null),B(j,Gt),Rt(ce,j,null),B(t,ae),Rt(qt,t,null),B(t,ue),Rt($e,t,null),B(t,ve),Rt(He,t,null),B(t,qe),Rt(ri,t,null),B(t,oi),Rt(oe,t,null),B(t,fe),Rt(pe,t,null),Ot=!0,_t||(Ht=[ze(S,"click",e[21]),ze(gt,"click",e[28])],_t=!0)},p(Ge,ke){(!Ot||ke[0]&1)&&n!==(n=Ge[0].title+"")&&Qe(a,n);const Di={};!h&&ke[0]&8&&(h=!0,Di.value=Ge[3],_e(()=>h=!1)),u.$set(Di);const ni={};ke[1]&256&&(ni.$$scope={dirty:ke,ctx:Ge}),!M&&ke[0]&16&&(M=!0,ni.value=Ge[4],_e(()=>M=!1)),f.$set(ni);const Tn={};ke[1]&256&&(Tn.$$scope={dirty:ke,ctx:Ge}),!b&&ke[0]&32&&(b=!0,Tn.value=Ge[5],_e(()=>b=!1)),y.$set(Tn);const Le={};ke[0]&8&&(Le.tempo=Ge[3]),ke[0]&16&&(Le.grid=Ge[4]),ke[0]&1024&&(Le.notes=Ge[10].map(bT)),!_&&ke[0]&64&&(_=!0,Le.adjustTime=Ge[6],_e(()=>_=!1)),w.$set(Le),(!Ot||ke[0]&128)&&I!==(I=Ge[7]?"area":"bars")&&Qe(T,I);const yn={};!N&&ke[0]&512&&(N=!0,yn.checked=Ge[9],_e(()=>N=!1)),D.$set(yn);const I0={};!U&&ke[0]&256&&(U=!0,I0.checked=Ge[8],_e(()=>U=!1)),F.$set(I0);const Gn={};ke[0]&8&&(Gn.tempo=Ge[3]),ke[0]&16&&(Gn.accent=+Ge[4].split(":")[0]),W.$set(Gn);const ai={};!ht&&ke[0]&1024&&(ht=!0,ai.data=Ge[10],_e(()=>ht=!1)),dt.$set(ai);const Hi={};!At&&ke[0]&1024&&(At=!0,Hi.notes=Ge[10],_e(()=>At=!1)),St.$set(Hi);const f0={};ke[0]&1&&(f0.appId=Ge[0].id),lt.$set(f0);const _i={};!Jt&&ke[0]&1024&&(Jt=!0,_i.notes=Ge[10],_e(()=>Jt=!1)),kt.$set(_i);const dn={};ke[0]&1&&(dn.appId=Ge[0].id),ce.$set(dn);const n9={};ke[1]&256&&(n9.$$scope={dirty:ke,ctx:Ge}),qt.$set(n9);const k0={};ke[0]&1&&(k0.appId=Ge[0].id),$e.$set(k0);const Xt={};ke[0]&2&&(Xt.element=Ge[1]),oe.$set(Xt)},i(Ge){Ot||(wt(u.$$.fragment,Ge),wt(f.$$.fragment,Ge),wt(y.$$.fragment,Ge),wt(w.$$.fragment,Ge),wt(D.$$.fragment,Ge),wt(F.$$.fragment,Ge),wt(W.$$.fragment,Ge),wt(dt.$$.fragment,Ge),wt(St.$$.fragment,Ge),wt(lt.$$.fragment,Ge),wt(kt.$$.fragment,Ge),wt(ce.$$.fragment,Ge),wt(qt.$$.fragment,Ge),wt($e.$$.fragment,Ge),wt(He.$$.fragment,Ge),wt(ri.$$.fragment,Ge),wt(oe.$$.fragment,Ge),wt(pe.$$.fragment,Ge),Ot=!0)},o(Ge){It(u.$$.fragment,Ge),It(f.$$.fragment,Ge),It(y.$$.fragment,Ge),It(w.$$.fragment,Ge),It(D.$$.fragment,Ge),It(F.$$.fragment,Ge),It(W.$$.fragment,Ge),It(dt.$$.fragment,Ge),It(St.$$.fragment,Ge),It(lt.$$.fragment,Ge),It(kt.$$.fragment,Ge),It(ce.$$.fragment,Ge),It(qt.$$.fragment,Ge),It($e.$$.fragment,Ge),It(He.$$.fragment,Ge),It(ri.$$.fragment,Ge),It(oe.$$.fragment,Ge),It(pe.$$.fragment,Ge),Ot=!1},d(Ge){Ge&&vt(t),Dt(u),Dt(f),Dt(y),Dt(w),Dt(D),Dt(F),e[24](null),e[25](null),Dt(W),Dt(dt),Dt(St),Dt(lt),Dt(kt),Dt(ce),Dt(qt),Dt($e),Dt(He),Dt(ri),Dt(oe),Dt(pe),_t=!1,t0(Ht)}}}function TAt(e){let t,i;return t=new m9({props:{loadData:e[15],disabled:e[11],$$slots:{default:[xAt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,a){const o={};a[0]&2047|a[1]&256&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let q2=900,X2=800;const bT=e=>e.time;function IAt(e,t,i){let{appInfo:n}=t;const a=Math.PI*2;let o,l,c=120,d=Do[0].divisions,u=64,h=0,p=!1,f=!1,M=!1,g=0,y=[],b;const v=j=>{y.length===0&&(g=j.timestamp);const et={time:(j.timestamp-g)/1e3,velocity:j.velocity,number:j.note.number};i(10,y=[...y,et])},C=()=>{const j=q2/2,W=X2/2,et=q2*.18,dt=et*.8,ht=et*.9,st=et*.95,St=et*.68,At=Math.PI/2,xt=o.getContext("2d"),gt=window.devicePixelRatio,yt=o.getBoundingClientRect();i(1,o.width=yt.width*gt,o),i(1,o.height=yt.height*gt,o),xt.scale(gt,gt),i(1,o.style.width=`${yt.width}px`,o),i(1,o.style.height=`${yt.height}px`,o),xt.clearRect(0,0,q2,X2);const[lt,zt]=d.split(":").map(oe=>+oe),kt=Q0(c)*lt,Jt=y.map(oe=>({...oe,time:oe.time+h})),ce=Jt.map(oe=>oe.time%kt).map(oe=>oe/kt*a),ae=et*.2,qt=u*lt/4;if(Jt.length>0){xt.lineWidth=2,xt.strokeStyle="#888";const oe=Math.floor(Jt.at(-1).time/kt)+1,fe=(X2/2-et-ae-10)/oe;for(const[pe,Ot]of Jt.entries()){f&&(xt.lineWidth=Ot.velocity*4);const _t=Ot.time/kt*a-At,Ht=Math.cos(_t),Tt=Math.sin(_t),Et=Math.max(0,Math.floor(Ot.time/kt)),Lt=et+ae+Et*fe+5,ut=Lt+fe;xt.beginPath(),xt.moveTo(j+Ht*Lt,W+Tt*Lt),xt.lineTo(j+Ht*ut,W+Tt*ut),xt.stroke()}xt.lineWidth=1,xt.strokeStyle="#eee",xt.fillStyle="transparent";for(let pe=0;pe<oe;pe++){const Ot=et+ae+pe*fe+5;xt.beginPath(),xt.arc(j,W,Ot,0,2*Math.PI),xt.closePath(),xt.stroke()}}xt.fillStyle="#f8f8f8aa";const ue=a/qt,$e=fi(lt*zt).map(oe=>a/(lt*zt)*oe-At),ve=X2/2;xt.beginPath();for(const oe of $e){const fe=Math.cos(oe-ue),pe=Math.sin(oe-ue),Ot=Math.cos(oe+ue),_t=Math.sin(oe+ue);xt.moveTo(j,W),xt.lineTo(j+fe*ve,W+pe*ve),xt.lineTo(j+Ot*ve,W+_t*ve),xt.closePath()}if(xt.fill(),!p){xt.fillStyle="#f8f8f8",xt.strokeStyle="#aaa";const fe=E6().domain([0,a]).thresholds(fi(qt).map(Ot=>Ot/qt*a))(ce),pe=v9(fe,Ot=>Ot.length);for(const Ot of fe){if(Ot.length===0)continue;const _t=Ot.length/pe*ae,Ht=et+_t,Tt=Ot.x0-At,Et=Math.cos(Tt),Lt=Math.sin(Tt),ut=Ot.x1-At,X=Math.cos(ut),tt=Math.sin(ut);xt.beginPath(),xt.moveTo(j+Et*et,W+Lt*et),xt.lineTo(j+Et*Ht,W+Lt*Ht),xt.arc(j,W,Ht,Tt,ut),xt.lineTo(j+X*et,W+tt*et),xt.closePath(),xt.fill(),xt.stroke()}}if(p&&ce.length>1){let oe=4/u,_t=G3(ce,{bandwidth:oe,pad:0,bins:360,extent:[0,a]}).bandwidth(oe);const Ht=v9([..._t],Tt=>Tt.y);_t=[..._t].map(Tt=>({...Tt,x:Tt.x<0?Tt.x+a:Tt.x})),_t.sort((Tt,Et)=>Tt.x-Et.x),xt.beginPath();for(const[Tt,Et]of _t.entries()){const Lt=Et.x-At;let ut=Et.y;(Tt===0||Tt===_t.length-1)&&(ut=(_t.at(0).y+_t.at(-1).y)/2);const X=et+ut/Ht*ae,tt=Math.cos(Lt),Bt=Math.sin(Lt);Tt===0?xt.moveTo(j+tt*X,W+Bt*X):xt.lineTo(j+tt*X,W+Bt*X)}xt.closePath(),xt.fillStyle=Qo.accent,xt.fill(),xt.strokeStyle="#aaa",xt.stroke()}xt.strokeStyle="#aaa",xt.fillStyle="white",l5(xt,j,W,et),xt.lineWidth=2,xt.fill(),xt.stroke();const He=fi(lt).map(oe=>a/lt*oe-At),qe=fi(lt*zt).map(oe=>a/(lt*zt)*oe-At);xt.beginPath(),xt.lineWidth=2,xt.fillStyle="#ccc",xt.font="18px sans-serif",xt.textAlign="center",xt.textBaseline="center";for(const[oe,fe]of He.entries()){const pe=Math.cos(fe),Ot=Math.sin(fe);xt.moveTo(j+pe*dt,W+Ot*dt),xt.lineTo(j+pe*st,W+Ot*st),xt.fillText(oe+1,j+pe*St,W+Ot*St+7)}xt.stroke(),xt.lineWidth=1,xt.beginPath();for(const oe of qe){const fe=Math.cos(oe),pe=Math.sin(oe);xt.moveTo(j+fe*ht,W+pe*ht),xt.lineTo(j+fe*st,W+pe*st)}xt.stroke();const ri=Q0(c),oi=y.map(oe=>{const fe=(oe.time+h)/ri;return{...oe,time:fe}});if(y.length>0){const fe=(a8(oi.map(pe=>pe.time),lt,zt,u)/oi.length*100).toFixed();xt.fillText(`${fe} %`,j,W+7)}if(M){const fe=Aa(oi,Ot=>Math.floor(Ot.time/lt)).map(([Ot,_t])=>{const Ht=a8(_t.map(Tt=>Tt.time),lt,zt,u);return{repetition:Math.floor(_t[0].time/lt),score:Ht/_t.length*100}}),pe=On({width:q2,height:110,x:{tickFormat:Ot=>Ot+1},y:{label:"percent of notes in tolerance per repetition",domain:[0,100]},marks:[Ls(fe,{y:"score",x:"repetition",fill:"var(--accent)",tip:!0,title:Ot=>`rep: ${Ot.repetition+1}
score: ${Ot.score.toFixed()} %`}),T0([0]),T0([100])]});i(2,l.textContent="",l),l.appendChild(pe)}};$9(C);const w=()=>({tempo:c,grid:d,binNote:u,adjustTime:h,showKde:p,showLoudness:f,showBarScores:M,notes:y}),_=j=>{E(),i(3,c=j.tempo),i(4,d=j.grid),i(5,u=j.binNote),i(6,h=j.adjustTime),i(7,p=j.showKde??!1),i(8,f=j.showLoudness??!1),i(9,M=j.showBarScores??!1),i(10,y=j.notes)},E=()=>{y.length>0&&JSON.stringify(y)!==JSON.stringify(S8.notes)&&C9(n.id,w())};c0(E);function S(j){c=j,i(3,c)}function I(j){d=j,i(4,d)}function T(j){u=j,i(5,u)}function k(j){h=j,i(6,h)}const D=()=>{i(7,p=!p)};function N(j){M=j,i(9,M)}function P(j){f=j,i(8,f)}function F(j){he[j?"unshift":"push"](()=>{o=j,i(1,o)})}function U(j){he[j?"unshift":"push"](()=>{l=j,i(2,l)})}function V(j){y=j,i(10,y)}function z(j){y=j,i(10,y)}const G=()=>_(S8);function H(j){y=j,i(10,y)}const J=()=>v({timestamp:performance.now(),velocity:.5}),Z=()=>v({timestamp:performance.now(),velocity:.5});return e.$$set=j=>{"appInfo"in j&&i(0,n=j.appInfo)},[n,o,l,c,d,u,h,p,f,M,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z]}class BAt extends Zi{constructor(t){super(),Yi(this,t,IAt,TAt,Xi,{appInfo:0},null,[-1,-1])}}const RAt=60,DAt="4:2",PAt=128,kAt=-.08,LAt=4,NAt=!0,FAt=[{time:0,number:42,drum:"HH"},{time:2.121100000023842,number:42,drum:"HH"},{time:2.503,number:42,drum:"HH"},{time:2.684,number:42,drum:"HH"},{time:3.197,number:22,drum:"HH"},{time:3.525100000023842,number:42,drum:"HH"},{time:3.705,number:42,drum:"HH"},{time:4.178,number:22,drum:"HH"},{time:4.507100000023842,number:42,drum:"HH"},{time:4.702100000023842,number:42,drum:"HH"},{time:5.12,number:42,drum:"HH"},{time:5.470100000023842,number:42,drum:"HH"},{time:5.633,number:42,drum:"HH"},{time:6.127,number:42,drum:"HH"},{time:6.135100000023842,number:36,drum:"KD"},{time:6.457100000023842,number:42,drum:"HH"},{time:6.624100000023842,number:42,drum:"HH"},{time:7.113,number:42,drum:"HH"},{time:7.121,number:38,drum:"SN"},{time:7.502,number:42,drum:"HH"},{time:7.67,number:42,drum:"HH"},{time:8.134,number:42,drum:"HH"},{time:8.137100000023842,number:36,drum:"KD"},{time:8.472,number:42,drum:"HH"},{time:8.637,number:42,drum:"HH"},{time:9.118,number:42,drum:"HH"},{time:9.119100000023842,number:38,drum:"SN"},{time:9.48,number:42,drum:"HH"},{time:9.661,number:42,drum:"HH"},{time:10.112100000023842,number:36,drum:"KD"},{time:10.122100000023842,number:42,drum:"HH"},{time:10.456,number:42,drum:"HH"},{time:10.636,number:42,drum:"HH"},{time:11.107,number:42,drum:"HH"},{time:11.11,number:38,drum:"SN"},{time:11.459,number:42,drum:"HH"},{time:11.633,number:42,drum:"HH"},{time:12.121,number:42,drum:"HH"},{time:12.123,number:36,drum:"KD"},{time:12.470100000023843,number:42,drum:"HH"},{time:12.62,number:42,drum:"HH"},{time:13.105,number:42,drum:"HH"},{time:13.107,number:38,drum:"SN"},{time:13.453,number:42,drum:"HH"},{time:13.614100000023841,number:42,drum:"HH"},{time:14.069,number:36,drum:"KD"},{time:14.081100000023842,number:42,drum:"HH"},{time:14.432,number:42,drum:"HH"},{time:14.596,number:42,drum:"HH"},{time:15.08,number:42,drum:"HH"},{time:15.082,number:38,drum:"SN"},{time:15.444100000023841,number:42,drum:"HH"},{time:15.614,number:42,drum:"HH"},{time:16.11,number:36,drum:"KD"},{time:16.11,number:42,drum:"HH"},{time:16.463,number:42,drum:"HH"},{time:16.625,number:42,drum:"HH"},{time:17.075,number:42,drum:"HH"},{time:17.077,number:38,drum:"SN"},{time:17.414,number:42,drum:"HH"},{time:17.574,number:42,drum:"HH"},{time:18.05510000002384,number:42,drum:"HH"},{time:18.067,number:36,drum:"KD"},{time:18.394,number:42,drum:"HH"},{time:18.585,number:42,drum:"HH"},{time:19.065,number:38,drum:"SN"},{time:19.066,number:42,drum:"HH"},{time:19.433,number:42,drum:"HH"},{time:19.603100000023844,number:42,drum:"HH"},{time:20.061,number:36,drum:"KD"},{time:20.068,number:42,drum:"HH"},{time:20.427,number:42,drum:"HH"},{time:20.593100000023842,number:42,drum:"HH"},{time:21.090100000023842,number:42,drum:"HH"},{time:21.091,number:38,drum:"SN"},{time:21.445100000023842,number:42,drum:"HH"},{time:21.616,number:42,drum:"HH"},{time:22.105,number:36,drum:"KD"},{time:22.11,number:42,drum:"HH"},{time:22.45,number:42,drum:"HH"},{time:22.617,number:42,drum:"HH"},{time:23.089,number:38,drum:"SN"},{time:23.094100000023843,number:42,drum:"HH"},{time:23.462,number:42,drum:"HH"},{time:23.61310000002384,number:42,drum:"HH"},{time:24.1,number:36,drum:"KD"},{time:24.10910000002384,number:42,drum:"HH"},{time:24.441,number:42,drum:"HH"},{time:24.609,number:42,drum:"HH"},{time:25.061,number:42,drum:"HH"},{time:25.071,number:38,drum:"SN"},{time:25.429,number:42,drum:"HH"},{time:25.586,number:42,drum:"HH"},{time:26.085,number:42,drum:"HH"},{time:26.087,number:36,drum:"KD"},{time:26.428,number:42,drum:"HH"},{time:26.594,number:42,drum:"HH"},{time:27.083,number:42,drum:"HH"},{time:27.088,number:38,drum:"SN"},{time:27.440100000023843,number:42,drum:"HH"},{time:27.611,number:42,drum:"HH"},{time:28.103,number:36,drum:"KD"},{time:28.111,number:42,drum:"HH"},{time:28.475100000023843,number:42,drum:"HH"},{time:28.623,number:42,drum:"HH"},{time:29.108,number:42,drum:"HH"},{time:29.112,number:38,drum:"SN"},{time:29.449,number:42,drum:"HH"},{time:29.60710000002384,number:42,drum:"HH"},{time:30.073100000023842,number:36,drum:"KD"},{time:30.088,number:42,drum:"HH"},{time:30.474,number:42,drum:"HH"},{time:30.629,number:42,drum:"HH"},{time:31.117,number:42,drum:"HH"},{time:31.124,number:38,drum:"SN"},{time:31.45910000002384,number:42,drum:"HH"},{time:31.62,number:42,drum:"HH"},{time:32.09810000002384,number:36,drum:"KD"},{time:32.109,number:42,drum:"HH"},{time:32.41910000002384,number:42,drum:"HH"},{time:32.592,number:42,drum:"HH"},{time:33.087,number:42,drum:"HH"},{time:33.09010000002384,number:38,drum:"SN"},{time:33.38810000002384,number:42,drum:"HH"},{time:33.53710000002384,number:42,drum:"HH"},{time:34.05,number:36,drum:"KD"},{time:34.072,number:42,drum:"HH"},{time:34.43110000002384,number:42,drum:"HH"},{time:34.59410000002384,number:42,drum:"HH"},{time:35.112100000023844,number:42,drum:"HH"},{time:35.112100000023844,number:38,drum:"SN"},{time:35.454,number:42,drum:"HH"},{time:35.608,number:42,drum:"HH"},{time:36.113,number:36,drum:"KD"},{time:36.121100000023844,number:42,drum:"HH"},{time:36.46,number:42,drum:"HH"},{time:36.629,number:42,drum:"HH"},{time:37.112,number:42,drum:"HH"},{time:37.115,number:38,drum:"SN"},{time:37.473,number:42,drum:"HH"},{time:37.65,number:42,drum:"HH"},{time:38.088,number:36,drum:"KD"},{time:38.10510000002384,number:42,drum:"HH"}],UAt="sub-division-drums",JAt="0.13.3",$At="2024-09-12T14:35:35.243Z",CT={tempo:RAt,grid:DAt,binNote:PAt,adjustTime:kAt,pastBars:LAt,showKde:NAt,notes:FAt,_appId:UAt,_softwareVersion:JAt,_date:$At},GAt=60,HAt="4:1",VAt=64,QAt=0,zAt=4,jAt=!0,WAt=[{time:0,number:36,drum:"KD"},{time:1.072,number:38,drum:"SN"},{time:1.9997999999523164,number:36,drum:"KD"},{time:3.023700000047684,number:38,drum:"SN"},{time:4.0477000000476835,number:36,drum:"KD"},{time:5.0477000000476835,number:38,drum:"SN"},{time:6.047799999952316,number:36,drum:"KD"},{time:7.0957000000476835,number:38,drum:"SN"},{time:8.023700000047684,number:36,drum:"KD"},{time:8.999799999952316,number:38,drum:"SN"},{time:9.975799999952317,number:36,drum:"KD"},{time:11.047700000047683,number:38,drum:"SN"},{time:12.0235,number:36,drum:"KD"},{time:13.047799999952316,number:38,drum:"SN"},{time:13.999700000047683,number:36,drum:"KD"},{time:15.047600000023841,number:38,drum:"SN"},{time:16.0235,number:36,drum:"KD"},{time:17.023799999952317,number:38,drum:"SN"},{time:18.11960000002384,number:36,drum:"KD"},{time:19.0235,number:38,drum:"SN"},{time:20.0075,number:36,drum:"KD"},{time:21.031600000023843,number:38,drum:"SN"},{time:22.03139999997616,number:36,drum:"KD"},{time:23.00739999997616,number:38,drum:"SN"}],KAt="sub-division-drums",qAt="0.19.4",XAt="2024-10-31T10:20:28.495Z",_T={tempo:GAt,grid:HAt,binNote:VAt,adjustTime:QAt,pastBars:zAt,showKde:jAt,notes:WAt,_appId:KAt,_softwareVersion:qAt,_date:XAt},YAt=60,ZAt="4:1",tvt=64,evt=0,ivt=4,nvt=!0,rvt=[{time:0,number:46,drum:"HH"},{time:.003799999952316284,number:36,drum:"KD"},{time:.9996000000238419,number:46,drum:"HH"},{time:1.0232999999523162,number:38,drum:"SN"},{time:1.9276000000238418,number:46,drum:"HH"},{time:1.9512999999523162,number:36,drum:"KD"},{time:3.023600000023842,number:46,drum:"HH"},{time:3.0713999999761583,number:38,drum:"SN"},{time:3.975899999976158,number:46,drum:"HH"},{time:3.9993999999761582,number:36,drum:"KD"},{time:4.951600000023842,number:46,drum:"HH"},{time:4.999600000023841,number:38,drum:"SN"},{time:5.999600000023841,number:46,drum:"HH"},{time:6.004399999976158,number:36,drum:"KD"},{time:6.951399999976158,number:46,drum:"HH"},{time:6.999299999952316,number:38,drum:"SN"},{time:7.975700000047683,number:46,drum:"HH"},{time:7.980399999976158,number:36,drum:"KD"},{time:8.975299999952316,number:46,drum:"HH"},{time:9.0235,number:38,drum:"SN"},{time:10.024200000047683,number:46,drum:"HH"},{time:10.028899999976158,number:36,drum:"KD"},{time:11.047600000023841,number:38,drum:"SN"},{time:11.052200000047684,number:46,drum:"HH"},{time:11.9755,number:46,drum:"HH"},{time:11.999799999952316,number:36,drum:"KD"},{time:12.999399999976157,number:46,drum:"HH"},{time:13.023200000047684,number:38,drum:"SN"},{time:13.975600000023842,number:46,drum:"HH"},{time:13.9805,number:36,drum:"KD"},{time:15.031200000047683,number:46,drum:"HH"},{time:15.055100000023842,number:38,drum:"SN"},{time:15.935600000023841,number:46,drum:"HH"},{time:15.940299999952316,number:36,drum:"KD"},{time:16.983299999952315,number:46,drum:"HH"},{time:17.007200000047682,number:38,drum:"SN"},{time:18.0075,number:46,drum:"HH"},{time:18.01189999997616,number:36,drum:"KD"},{time:19.055299999952318,number:46,drum:"HH"},{time:19.079200000047685,number:38,drum:"SN"},{time:20.007600000023842,number:46,drum:"HH"},{time:20.01189999997616,number:36,drum:"KD"},{time:20.983799999952318,number:38,drum:"SN"},{time:20.988200000047684,number:46,drum:"HH"},{time:21.983399999976157,number:46,drum:"HH"},{time:21.987799999952315,number:36,drum:"KD"},{time:23.007600000023842,number:38,drum:"SN"},{time:23.011799999952316,number:46,drum:"HH"},{time:23.9835,number:46,drum:"HH"},{time:23.987899999976158,number:36,drum:"KD"},{time:25.055399999976157,number:46,drum:"HH"},{time:25.079100000023843,number:38,drum:"SN"},{time:26.0315,number:46,drum:"HH"},{time:26.035799999952317,number:36,drum:"KD"},{time:27.0075,number:38,drum:"SN"},{time:27.012700000047683,number:46,drum:"HH"},{time:27.9835,number:46,drum:"HH"},{time:27.987799999952315,number:36,drum:"KD"},{time:28.991200000047684,number:46,drum:"HH"},{time:29.015200000047685,number:38,drum:"SN"},{time:29.9915,number:46,drum:"HH"},{time:29.996,number:36,drum:"KD"},{time:31.039799999952315,number:38,drum:"SN"},{time:31.044100000023843,number:46,drum:"HH"},{time:31.9915,number:46,drum:"HH"},{time:31.995700000047684,number:36,drum:"KD"},{time:33.039200000047686,number:46,drum:"HH"},{time:33.063100000023844,number:38,drum:"SN"},{time:33.991200000047684,number:46,drum:"HH"},{time:34.01529999995232,number:36,drum:"KD"},{time:35.01539999997616,number:38,drum:"SN"},{time:35.02,number:46,drum:"HH"}],avt="sub-division-drums",ovt="0.19.4",svt="2024-10-31T10:21:56.015Z",ET={tempo:YAt,grid:ZAt,binNote:tvt,adjustTime:evt,pastBars:ivt,showKde:nvt,notes:rvt,_appId:avt,_softwareVersion:ovt,_date:svt},lvt=60,cvt="4:3",uvt=64,dvt=-.05,hvt=4,fvt=!0,mvt=[{time:0,number:36,drum:"KD"},{time:.7118999999761582,number:38,drum:"SN"},{time:1.0957999999523163,number:36,drum:"KD"},{time:1.7841000000238418,number:38,drum:"SN"},{time:2.0957999999523165,number:36,drum:"KD"},{time:2.759899999976158,number:38,drum:"SN"},{time:3.0961000000238417,number:36,drum:"KD"},{time:3.784,number:38,drum:"SN"},{time:4.095799999952316,number:36,drum:"KD"},{time:4.696100000023842,number:38,drum:"SN"},{time:5.0237000000476835,number:36,drum:"KD"},{time:5.791899999976158,number:38,drum:"SN"},{time:6.095899999976158,number:36,drum:"KD"},{time:6.815799999952317,number:38,drum:"SN"},{time:7.0957000000476835,number:36,drum:"KD"},{time:7.815700000047683,number:38,drum:"SN"},{time:8.095700000047684,number:36,drum:"KD"},{time:8.767799999952317,number:38,drum:"SN"},{time:9.071899999976159,number:36,drum:"KD"},{time:9.743899999976158,number:38,drum:"SN"},{time:10.047600000023841,number:36,drum:"KD"},{time:10.767899999976159,number:38,drum:"SN"},{time:11.071799999952317,number:36,drum:"KD"},{time:11.743899999976158,number:38,drum:"SN"},{time:12.047799999952316,number:36,drum:"KD"},{time:12.647799999952316,number:38,drum:"SN"},{time:13.023700000047684,number:36,drum:"KD"},{time:13.671700000047684,number:38,drum:"SN"},{time:14.007700000047684,number:36,drum:"KD"},{time:14.767799999952317,number:38,drum:"SN"},{time:15.071799999952317,number:36,drum:"KD"},{time:15.767700000047684,number:38,drum:"SN"},{time:16.071700000047684,number:36,drum:"KD"},{time:16.8395,number:38,drum:"SN"},{time:17.119799999952317,number:36,drum:"KD"},{time:17.79160000002384,number:38,drum:"SN"},{time:18.103799999952315,number:36,drum:"KD"},{time:18.76760000002384,number:38,drum:"SN"},{time:19.07960000002384,number:36,drum:"KD"},{time:19.767700000047682,number:38,drum:"SN"},{time:20.05560000002384,number:36,drum:"KD"},{time:20.743700000047685,number:38,drum:"SN"},{time:21.05560000002384,number:36,drum:"KD"},{time:21.767700000047682,number:38,drum:"SN"},{time:22.07960000002384,number:36,drum:"KD"},{time:22.767700000047682,number:38,drum:"SN"},{time:23.079700000047684,number:36,drum:"KD"},{time:23.767799999952317,number:38,drum:"SN"},{time:24.079700000047684,number:36,drum:"KD"},{time:24.767799999952317,number:38,drum:"SN"},{time:25.055799999952317,number:36,drum:"KD"},{time:25.719700000047684,number:38,drum:"SN"},{time:26.05560000002384,number:36,drum:"KD"},{time:26.695700000047683,number:38,drum:"SN"},{time:27.031700000047685,number:36,drum:"KD"},{time:27.6955,number:38,drum:"SN"},{time:28.031700000047685,number:36,drum:"KD"},{time:28.719700000047684,number:38,drum:"SN"},{time:29.031600000023843,number:36,drum:"KD"},{time:29.6715,number:38,drum:"SN"},{time:30.0075,number:36,drum:"KD"},{time:30.647600000023843,number:38,drum:"SN"},{time:31.00739999997616,number:36,drum:"KD"},{time:31.719600000023842,number:38,drum:"SN"},{time:32.031700000047685,number:36,drum:"KD"},{time:32.74389999997616,number:38,drum:"SN"},{time:33.05529999995232,number:36,drum:"KD"},{time:33.79179999995232,number:38,drum:"SN"},{time:34.05539999997616,number:36,drum:"KD"},{time:34.7915,number:38,drum:"SN"},{time:35.127799999952316,number:36,drum:"KD"},{time:35.69539999997616,number:38,drum:"SN"},{time:36.0555,number:36,drum:"KD"}],pvt="sub-division-drums",gvt="0.19.4",Mvt="2024-10-31T10:25:09.807Z",wT={tempo:lvt,grid:cvt,binNote:uvt,adjustTime:dvt,pastBars:hvt,showKde:fvt,notes:mvt,_appId:pvt,_softwareVersion:gvt,_date:Mvt},{window:pJ}=Qc;function yvt(e,t,i){const n=e.slice();return n[44]=t[i],n}function Avt(e,t,i){const n=e.slice();return n[44]=t[i],n}function vvt(e){let t;return{c(){t=q("option"),t.textContent=`${e[44].label}`,t.__value=e[44].divisions,qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function bvt(e){let t,i=je(Do),n=[];for(let a=0;a<i.length;a+=1)n[a]=vvt(Avt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function Cvt(e){let t;return{c(){t=q("option"),t.textContent=`1/${e[44]} note`,t.__value=e[44],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function _vt(e){let t,i=je(Nh),n=[];for(let a=0;a<i.length;a+=1)n[a]=Cvt(yvt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function Evt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function wvt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function Ovt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function Svt(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g;return n=new T9({props:{onclick:e[34],$$slots:{default:[Evt]},$$scope:{ctx:e}}}),c=new T9({props:{onclick:e[35],$$slots:{default:[wvt]},$$scope:{ctx:e}}}),M=new T9({props:{onclick:e[36],$$slots:{default:[Ovt]},$$scope:{ctx:e}}}),{c(){t=q("p"),i=te(`1) Play the kick on beat 1 and 3 and the snare on 2 and 4.
                `),Pt(n.$$.fragment),a=K(),o=q("p"),l=te(`2) Play 1) and add the hi-hat on beat 1, 2, 3, 4.
                `),Pt(c.$$.fragment),d=K(),u=q("p"),u.textContent="3) Play 2) and sometimes add a fill on the toms.",h=K(),p=q("p"),f=te(`4) Play a swing feel, where you shift every second note a bit
                late. Try to do this consistently!
                `),Pt(M.$$.fragment)},m(y,b){bt(y,t,b),B(t,i),Rt(n,t,null),bt(y,a,b),bt(y,o,b),B(o,l),Rt(c,o,null),bt(y,d,b),bt(y,u,b),bt(y,h,b),bt(y,p,b),B(p,f),Rt(M,p,null),g=!0},p(y,b){const v={};b[1]&262144&&(v.$$scope={dirty:b,ctx:y}),n.$set(v);const C={};b[1]&262144&&(C.$$scope={dirty:b,ctx:y}),c.$set(C);const w={};b[1]&262144&&(w.$$scope={dirty:b,ctx:y}),M.$set(w)},i(y){g||(wt(n.$$.fragment,y),wt(c.$$.fragment,y),wt(M.$$.fragment,y),g=!0)},o(y){It(n.$$.fragment,y),It(c.$$.fragment,y),It(M.$$.fragment,y),g=!1},d(y){y&&(vt(t),vt(a),vt(o),vt(d),vt(u),vt(h),vt(p)),Dt(n),Dt(c),Dt(M)}}}function xvt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F=e[8]?"density area":"histogram",U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt,ue,$e,ve,He,qe,ri,oi,oe,fe,pe,Ot,_t,Ht,Tt,Et,Lt,ut,X;function tt(ai){e[20](ai)}let Bt={};e[3]!==void 0&&(Bt.value=e[3]),u=new Vr({props:Bt}),he.push(()=>Ee(u,"value",tt));function Qt(ai){e[21](ai)}let jt={label:"grid",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",$$slots:{default:[bvt]},$$scope:{ctx:e}};e[4]!==void 0&&(jt.value=e[4]),f=new t9({props:jt}),he.push(()=>Ee(f,"value",Qt));function ne(ai){e[22](ai)}let se={title:"The number of bars in each repetition.",label:"bars",step:1,min:1,max:4,defaultValue:1};e[5]!==void 0&&(se.value=e[5]),y=new M0({props:se}),he.push(()=>Ee(y,"value",ne));function Be(ai){e[23](ai)}let we={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",$$slots:{default:[_vt]},$$scope:{ctx:e}};e[6]!==void 0&&(we.value=e[6]),C=new t9({props:we}),he.push(()=>Ee(C,"value",Be));function Ne(ai){e[24](ai)}let li={tempo:e[3],grid:e[4],notes:e[12].map(OT)};e[7]!==void 0&&(li.adjustTime=e[7]),S=new H3({props:li}),he.push(()=>Ee(S,"adjustTime",Ne));function zi(ai){e[25](ai)}let Ve={title:"The number of past bars to be shown. Allows to 'forget' mistakes in the beginning.",label:"last bars",min:1,max:100,step:4};e[9]!==void 0&&(Ve.value=e[9]),k=new M0({props:Ve}),he.push(()=>Ee(k,"value",zi));function ji(ai){e[27](ai)}let Ge={label:"cymbals",title:"Show cymbals"};e[10]!==void 0&&(Ge.checked=e[10]),z=new zn({props:Ge}),he.push(()=>Ee(z,"checked",ji));function ke(ai){e[28](ai)}let Di={label:"toms",title:"Show toms"};e[11]!==void 0&&(Di.checked=e[11]),J=new zn({props:Di}),he.push(()=>Ee(J,"checked",ke)),ht=new so({props:{tempo:e[3],accent:+e[4].split(":")[0]}});function ni(ai){e[30](ai)}let Tn={};e[12]!==void 0&&(Tn.data=e[12]),St=new Z5({props:Tn}),he.push(()=>Ee(St,"data",ni));function Le(ai){e[31](ai)}let yn={saveToStorage:e[18]};e[12]!==void 0&&(yn.notes=e[12]),gt=new c9({props:yn}),he.push(()=>Ee(gt,"notes",Le)),Jt=new _9({props:{appId:e[0].id,loadData:e[17]}});function I0(ai){e[33](ai)}let Gn={callback:e[15],sound:"percussion"};return e[12]!==void 0&&(Gn.notes=e[12]),ce=new Oa({props:Gn}),he.push(()=>Ee(ce,"notes",I0)),ue=new f9({props:{loadData:e[17],getExportData:e[16],appId:e[0].id}}),ve=new e9({props:{$$slots:{default:[Svt]},$$scope:{ctx:e}}}),qe=new i9({props:{appId:e[0].id}}),oi=new X9({props:{key:"s",keyDown:e[37]}}),fe=new X9({props:{key:"h",keyDown:e[38]}}),Ot=new X9({props:{key:"t",keyDown:e[39]}}),Ht=new X9({props:{key:"k",keyDown:e[40]}}),Et=new j0({props:{noteOn:e[14]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
            triplets on drums. Connect a MIDI drum kit and start playing to the
            metronome. The chart will show you how a summary of where your notes
            started, one for each type of drum. If you do not have a MIDI drum
            kit, you can press keys:
            <code>h</code>, <code>s</code>, <code>t</code>, and <code>k</code>
            for hi-hat, snare, tom, and kick drum.
            <i>Try playing without looking, focus on the metronome.</i>`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),Pt(C.$$.fragment),_=K(),E=q("div"),Pt(S.$$.fragment),T=K(),Pt(k.$$.fragment),N=K(),P=q("button"),U=te(F),V=K(),Pt(z.$$.fragment),H=K(),Pt(J.$$.fragment),j=K(),W=q("div"),et=K(),dt=q("div"),Pt(ht.$$.fragment),st=K(),Pt(St.$$.fragment),xt=K(),Pt(gt.$$.fragment),lt=K(),zt=q("button"),zt.textContent="example",kt=K(),Pt(Jt.$$.fragment),Gt=K(),Pt(ce.$$.fragment),qt=K(),Pt(ue.$$.fragment),$e=K(),Pt(ve.$$.fragment),He=K(),Pt(qe.$$.fragment),ri=K(),Pt(oi.$$.fragment),oe=K(),Pt(fe.$$.fragment),pe=K(),Pt(Ot.$$.fragment),_t=K(),Pt(Ht.$$.fragment),Tt=K(),Pt(Et.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(P,"title","Toggle between an area chart and a histogram of the note density"),sn(P,"width","120px"),mt(E,"class","control"),mt(W,"class","visualization"),mt(dt,"class","control"),mt(t,"class","app")},m(ai,Hi){bt(ai,t,Hi),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(d,v),Rt(C,d,null),B(t,_),B(t,E),Rt(S,E,null),B(E,T),Rt(k,E,null),B(E,N),B(E,P),B(P,U),B(E,V),Rt(z,E,null),B(E,H),Rt(J,E,null),B(t,j),B(t,W),e[29](W),B(t,et),B(t,dt),Rt(ht,dt,null),B(dt,st),Rt(St,dt,null),B(dt,xt),Rt(gt,dt,null),B(dt,lt),B(dt,zt),B(dt,kt),Rt(Jt,dt,null),B(dt,Gt),Rt(ce,dt,null),B(dt,qt),Rt(ue,dt,null),B(t,$e),Rt(ve,t,null),B(t,He),Rt(qe,t,null),B(t,ri),Rt(oi,t,null),B(t,oe),Rt(fe,t,null),B(t,pe),Rt(Ot,t,null),B(t,_t),Rt(Ht,t,null),B(t,Tt),Rt(Et,t,null),Lt=!0,ut||(X=[ze(P,"click",e[26]),ze(zt,"click",e[32])],ut=!0)},p(ai,Hi){(!Lt||Hi[0]&1)&&n!==(n=ai[0].title+"")&&Qe(a,n);const f0={};!h&&Hi[0]&8&&(h=!0,f0.value=ai[3],_e(()=>h=!1)),u.$set(f0);const _i={};Hi[1]&262144&&(_i.$$scope={dirty:Hi,ctx:ai}),!M&&Hi[0]&16&&(M=!0,_i.value=ai[4],_e(()=>M=!1)),f.$set(_i);const dn={};!b&&Hi[0]&32&&(b=!0,dn.value=ai[5],_e(()=>b=!1)),y.$set(dn);const n9={};Hi[1]&262144&&(n9.$$scope={dirty:Hi,ctx:ai}),!w&&Hi[0]&64&&(w=!0,n9.value=ai[6],_e(()=>w=!1)),C.$set(n9);const k0={};Hi[0]&8&&(k0.tempo=ai[3]),Hi[0]&16&&(k0.grid=ai[4]),Hi[0]&4096&&(k0.notes=ai[12].map(OT)),!I&&Hi[0]&128&&(I=!0,k0.adjustTime=ai[7],_e(()=>I=!1)),S.$set(k0);const Xt={};!D&&Hi[0]&512&&(D=!0,Xt.value=ai[9],_e(()=>D=!1)),k.$set(Xt),(!Lt||Hi[0]&256)&&F!==(F=ai[8]?"density area":"histogram")&&Qe(U,F);const le={};!G&&Hi[0]&1024&&(G=!0,le.checked=ai[10],_e(()=>G=!1)),z.$set(le);const xe={};!Z&&Hi[0]&2048&&(Z=!0,xe.checked=ai[11],_e(()=>Z=!1)),J.$set(xe);const Xe={};Hi[0]&8&&(Xe.tempo=ai[3]),Hi[0]&16&&(Xe.accent=+ai[4].split(":")[0]),ht.$set(Xe);const Ue={};!At&&Hi[0]&4096&&(At=!0,Ue.data=ai[12],_e(()=>At=!1)),St.$set(Ue);const ui={};!yt&&Hi[0]&4096&&(yt=!0,ui.notes=ai[12],_e(()=>yt=!1)),gt.$set(ui);const Mi={};Hi[0]&1&&(Mi.appId=ai[0].id),Jt.$set(Mi);const $i={};!ae&&Hi[0]&4096&&(ae=!0,$i.notes=ai[12],_e(()=>ae=!1)),ce.$set($i);const Oe={};Hi[0]&1&&(Oe.appId=ai[0].id),ue.$set(Oe);const Je={};Hi[1]&262144&&(Je.$$scope={dirty:Hi,ctx:ai}),ve.$set(Je);const tn={};Hi[0]&1&&(tn.appId=ai[0].id),qe.$set(tn)},i(ai){Lt||(wt(u.$$.fragment,ai),wt(f.$$.fragment,ai),wt(y.$$.fragment,ai),wt(C.$$.fragment,ai),wt(S.$$.fragment,ai),wt(k.$$.fragment,ai),wt(z.$$.fragment,ai),wt(J.$$.fragment,ai),wt(ht.$$.fragment,ai),wt(St.$$.fragment,ai),wt(gt.$$.fragment,ai),wt(Jt.$$.fragment,ai),wt(ce.$$.fragment,ai),wt(ue.$$.fragment,ai),wt(ve.$$.fragment,ai),wt(qe.$$.fragment,ai),wt(oi.$$.fragment,ai),wt(fe.$$.fragment,ai),wt(Ot.$$.fragment,ai),wt(Ht.$$.fragment,ai),wt(Et.$$.fragment,ai),Lt=!0)},o(ai){It(u.$$.fragment,ai),It(f.$$.fragment,ai),It(y.$$.fragment,ai),It(C.$$.fragment,ai),It(S.$$.fragment,ai),It(k.$$.fragment,ai),It(z.$$.fragment,ai),It(J.$$.fragment,ai),It(ht.$$.fragment,ai),It(St.$$.fragment,ai),It(gt.$$.fragment,ai),It(Jt.$$.fragment,ai),It(ce.$$.fragment,ai),It(ue.$$.fragment,ai),It(ve.$$.fragment,ai),It(qe.$$.fragment,ai),It(oi.$$.fragment,ai),It(fe.$$.fragment,ai),It(Ot.$$.fragment,ai),It(Ht.$$.fragment,ai),It(Et.$$.fragment,ai),Lt=!1},d(ai){ai&&vt(t),Dt(u),Dt(f),Dt(y),Dt(C),Dt(S),Dt(k),Dt(z),Dt(J),e[29](null),Dt(ht),Dt(St),Dt(gt),Dt(Jt),Dt(ce),Dt(ue),Dt(ve),Dt(qe),Dt(oi),Dt(fe),Dt(Ot),Dt(Ht),Dt(Et),ut=!1,t0(X)}}}function Tvt(e){let t,i,n,a;return J9(e[19]),t=new m9({props:{loadData:e[17],disabled:e[13],$$slots:{default:[xvt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(o,l){Rt(t,o,l),i=!0,n||(a=ze(pJ,"resize",e[19]),n=!0)},p(o,l){const c={};l[0]&8189|l[1]&262144&&(c.$$scope={dirty:l,ctx:o}),t.$set(c)},i(o){i||(wt(t.$$.fragment,o),i=!0)},o(o){It(t.$$.fragment,o),i=!1},d(o){Dt(t,o),n=!1,a()}}}const OT=e=>e.time;function Ivt(e,t,i){let n,{appInfo:a}=t,o=window.innerWidth,l,c=60,d=Do[0].divisions,u=1,h=64,p=0,f=!0,M=100,g=!1,y=!1,b=0,v=[],C;const w=yt=>{var kt;v.length===0&&(b=yt.timestamp);const zt={time:(yt.timestamp-b)/1e3,number:yt.note.number,velocity:yt.velocity??.5,drum:((kt=w8.get(yt.note.number))==null?void 0:kt.label)??yt.note.number};i(12,v=[...v,zt])},_=(yt="KD",lt="Kick Drum",zt=null)=>{let[kt,Jt]=d.split(":").map(qe=>+qe);const Gt=kt*u,ce=Q0(c);let ae=v.filter(qe=>qe.drum===yt);if(ae=ae.map(qe=>(qe.time+p)/ce),M>0&&ae.length>0){const qe=Math.floor(ae.at(-1)/Gt);ae=ae.filter(ri=>ri/Gt>=qe-M)}ae=ae.map(qe=>qe%Gt);let qt=[];if(ae.length>0){let qe=4/h,ri=1,oi=Math.floor(n/2);qt=G3(ae,{bandwidth:qe,pad:ri,bins:oi,extent:[0,Gt]}).bandwidth(qe)}const ue=fi(0,Gt+1,1),$e=fi(0,Gt,1/Jt),ve=On({width:n,height:zt?100:90,marginLeft:20,marginBottom:zt?30:20,padding:0,x:{label:zt,domain:[0,Gt],ticks:ue,round:!0,tickFormat:qe=>qe%kt+1},y:{axis:!1},marks:[f?Y5(qt,{x:"x",y:"y",fill:Qo.accent,clip:!0}):Ls(ae,X5({y:"count"},{x:qe=>qe,fill:"#ccc",thresholds:fi(0,Gt+1,4/h)})),T0([0]),$r($e,{stroke:"#888"}),$r(ue,{stroke:"#888",strokeWidth:3})]}),He=document.createElement("span");He.innerText=lt,l.appendChild(He),l.appendChild(ve)},E=()=>{i(2,l.textContent="",l),_("HH","Hi-Hat"),_("SN","Snare"),y&&_("TO","Toms"),g&&(_("CC","Crash"),_("Rd","Ride")),_("KD","Kick Drum","time in beats")};$9(E);const S=()=>({tempo:c,grid:d,bars:u,binNote:h,adjustTime:p,pastBars:M,showKde:f,showCymbals:g,showToms:y,notes:v}),I=yt=>{T(),i(3,c=yt.tempo??120),i(4,d=yt.grid??"4:4"),i(5,u=yt.bars??1),i(6,h=yt.binNote??96),i(7,p=yt.adjustTime??0),i(9,M=yt.pastBars??100),i(8,f=yt.showKde??!1),i(10,g=yt.showCymbals??!1),i(11,y=yt.showToms??!1),i(12,v=yt.notes)},T=()=>{const yt=JSON.stringify(v);v.length>0&&yt!==JSON.stringify(CT.notes)&&yt!==JSON.stringify(_T.notes)&&yt!==JSON.stringify(ET.notes)&&yt!==JSON.stringify(wT.notes)&&C9(a.id,S())};c0(T);function k(){i(1,o=pJ.innerWidth)}function D(yt){c=yt,i(3,c)}function N(yt){d=yt,i(4,d)}function P(yt){u=yt,i(5,u)}function F(yt){h=yt,i(6,h)}function U(yt){p=yt,i(7,p)}function V(yt){M=yt,i(9,M)}const z=()=>{i(8,f=!f)};function G(yt){g=yt,i(10,g)}function H(yt){y=yt,i(11,y)}function J(yt){he[yt?"unshift":"push"](()=>{l=yt,i(2,l)})}function Z(yt){v=yt,i(12,v)}function j(yt){v=yt,i(12,v)}const W=()=>I(CT);function et(yt){v=yt,i(12,v)}const dt=()=>I(_T),ht=()=>I(ET),st=()=>I(wT),St=()=>w({timestamp:performance.now(),note:{number:38}}),At=()=>w({timestamp:performance.now(),note:{number:46}}),xt=()=>w({timestamp:performance.now(),note:{number:48}}),gt=()=>w({timestamp:performance.now(),note:{number:36}});return e.$$set=yt=>{"appInfo"in yt&&i(0,a=yt.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&2&&(n=o<1200?900:Math.floor(o-200))},[a,o,l,c,d,u,h,p,f,M,g,y,v,C,w,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt]}class Bvt extends Zi{constructor(t){super(),Yi(this,t,Ivt,Tvt,Xi,{appInfo:0},null,[-1,-1])}}function Rvt(e,t,i){const n=e.slice();return n[30]=t[i],n}function Dvt(e,t,i){const n=e.slice();return n[30]=t[i],n}function Pvt(e){let t;return{c(){t=q("option"),t.textContent=`${e[30].label}`,t.__value=e[30].divisions,qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function kvt(e){let t,i=je(Do),n=[];for(let a=0;a<i.length;a+=1)n[a]=Pvt(Dvt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function Lvt(e){let t;return{c(){t=q("option"),t.textContent=`1/${e[30]} note`,t.__value=e[30],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function Nvt(e){let t,i=je(Nh),n=[];for(let a=0;a<i.length;a+=1)n[a]=Lvt(Rvt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function Fvt(e){let t,i,n,a,o;return{c(){t=q("p"),t.textContent="1) Play triplets.",i=K(),n=q("p"),n.textContent=`2) Switch back and forth between a half bar of eighths and a half
            bar of triplets.`,a=K(),o=q("p"),o.textContent=`3) Play a swing feel, where you shift every second note a bit late.
            Try to do this consistently!`},m(l,c){bt(l,t,c),bt(l,i,c),bt(l,n,c),bt(l,a,c),bt(l,o,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n),vt(a),vt(o))}}}function Uvt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S=e[7]?"area":"bars",I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt;function ce(oe){e[13](oe)}let ae={};e[3]!==void 0&&(ae.value=e[3]),u=new Vr({props:ae}),he.push(()=>Ee(u,"value",ce));function qt(oe){e[14](oe)}let ue={label:"grid",title:"The whole circle is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",$$slots:{default:[kvt]},$$scope:{ctx:e}};e[4]!==void 0&&(ue.value=e[4]),f=new t9({props:ue}),he.push(()=>Ee(f,"value",qt));function $e(oe){e[15](oe)}let ve={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",$$slots:{default:[Nvt]},$$scope:{ctx:e}};e[5]!==void 0&&(ve.value=e[5]),y=new t9({props:ve}),he.push(()=>Ee(y,"value",$e));function He(oe){e[16](oe)}let qe={tempo:e[3],grid:e[4],notes:e[8],draw:e[11]};e[6]!==void 0&&(qe.adjustTime=e[6]),C=new H3({props:qe}),he.push(()=>Ee(C,"adjustTime",He)),F=new so({props:{tempo:e[3],accent:+e[4].split(":")[0]}});function ri(oe){e[19](oe)}let oi={saveToStorage:e[12]};return e[8]!==void 0&&(oi.notes=e[8]),V=new c9({props:oi}),he.push(()=>Ee(V,"notes",ri)),H=new _9({props:{appId:e[0].id,loadData:Jvt}}),ht=new e9({props:{$$slots:{default:[Fvt]},$$scope:{ctx:e}}}),St=new i9({props:{appId:e[0].id}}),xt=new j0({props:{noteOn:e[10]}}),yt=new X9({props:{key:" ",keyDown:e[21]}}),zt=new iu({props:{element:e[1],touchStart:e[22]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
        triplets. In this version, you can compare to earlier takes below.
        Choose your tempo and subdivision, and start playing. The bar or area
        chart will show you a summary of when you played notes. Use the
        integrated metronome. All notes will be timed relative to the first one,
        but you can adjust all notes to make them earlier or later in case you
        messed up the first. Your most recent earlier takes will be shown
        smaller below (new to old, left to right and top to bottom).<br/> <i>Try playing without looking and focus on the metronome.</i>`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),Pt(C.$$.fragment),_=K(),E=q("button"),I=te(S),T=K(),k=q("div"),D=q("canvas"),N=K(),P=q("div"),Pt(F.$$.fragment),U=K(),Pt(V.$$.fragment),G=K(),Pt(H.$$.fragment),J=K(),Z=q("div"),j=q("h3"),j.textContent="History",W=K(),et=q("canvas"),dt=K(),Pt(ht.$$.fragment),st=K(),Pt(St.$$.fragment),At=K(),Pt(xt.$$.fragment),gt=K(),Pt(yt.$$.fragment),lt=K(),Pt(zt.$$.fragment),mt(l,"class","explanation"),mt(E,"title","Toggle between bars and area"),mt(d,"class","control"),sn(D,"width",pc/2+"px"),sn(D,"height",pc/2+"px"),mt(k,"class","visualization"),mt(P,"class","control"),sn(et,"width",pc+"px"),sn(et,"height",e[9]/2+"px"),mt(Z,"class","visualization"),mt(t,"class","app")},m(oe,fe){bt(oe,t,fe),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(d,v),Rt(C,d,null),B(d,_),B(d,E),B(E,I),B(t,T),B(t,k),B(k,D),e[18](D),B(t,N),B(t,P),Rt(F,P,null),B(P,U),Rt(V,P,null),B(P,G),Rt(H,P,null),B(t,J),B(t,Z),B(Z,j),B(Z,W),B(Z,et),e[20](et),B(t,dt),Rt(ht,t,null),B(t,st),Rt(St,t,null),B(t,At),Rt(xt,t,null),B(t,gt),Rt(yt,t,null),B(t,lt),Rt(zt,t,null),kt=!0,Jt||(Gt=ze(E,"click",e[17]),Jt=!0)},p(oe,fe){(!kt||fe[0]&1)&&n!==(n=oe[0].title+"")&&Qe(a,n);const pe={};!h&&fe[0]&8&&(h=!0,pe.value=oe[3],_e(()=>h=!1)),u.$set(pe);const Ot={};fe[1]&16&&(Ot.$$scope={dirty:fe,ctx:oe}),!M&&fe[0]&16&&(M=!0,Ot.value=oe[4],_e(()=>M=!1)),f.$set(Ot);const _t={};fe[1]&16&&(_t.$$scope={dirty:fe,ctx:oe}),!b&&fe[0]&32&&(b=!0,_t.value=oe[5],_e(()=>b=!1)),y.$set(_t);const Ht={};fe[0]&8&&(Ht.tempo=oe[3]),fe[0]&16&&(Ht.grid=oe[4]),fe[0]&256&&(Ht.notes=oe[8]),!w&&fe[0]&64&&(w=!0,Ht.adjustTime=oe[6],_e(()=>w=!1)),C.$set(Ht),(!kt||fe[0]&128)&&S!==(S=oe[7]?"area":"bars")&&Qe(I,S);const Tt={};fe[0]&8&&(Tt.tempo=oe[3]),fe[0]&16&&(Tt.accent=+oe[4].split(":")[0]),F.$set(Tt);const Et={};!z&&fe[0]&256&&(z=!0,Et.notes=oe[8],_e(()=>z=!1)),V.$set(Et);const Lt={};fe[0]&1&&(Lt.appId=oe[0].id),H.$set(Lt);const ut={};fe[1]&16&&(ut.$$scope={dirty:fe,ctx:oe}),ht.$set(ut);const X={};fe[0]&1&&(X.appId=oe[0].id),St.$set(X);const tt={};fe[0]&2&&(tt.element=oe[1]),zt.$set(tt)},i(oe){kt||(wt(u.$$.fragment,oe),wt(f.$$.fragment,oe),wt(y.$$.fragment,oe),wt(C.$$.fragment,oe),wt(F.$$.fragment,oe),wt(V.$$.fragment,oe),wt(H.$$.fragment,oe),wt(ht.$$.fragment,oe),wt(St.$$.fragment,oe),wt(xt.$$.fragment,oe),wt(yt.$$.fragment,oe),wt(zt.$$.fragment,oe),kt=!0)},o(oe){It(u.$$.fragment,oe),It(f.$$.fragment,oe),It(y.$$.fragment,oe),It(C.$$.fragment,oe),It(F.$$.fragment,oe),It(V.$$.fragment,oe),It(H.$$.fragment,oe),It(ht.$$.fragment,oe),It(St.$$.fragment,oe),It(xt.$$.fragment,oe),It(yt.$$.fragment,oe),It(zt.$$.fragment,oe),kt=!1},d(oe){oe&&vt(t),Dt(u),Dt(f),Dt(y),Dt(C),e[18](null),Dt(F),Dt(V),Dt(H),e[20](null),Dt(ht),Dt(St),Dt(xt),Dt(yt),Dt(zt),Jt=!1,Gt()}}}let pc=850;const Jvt=()=>{};function $vt(e,t,i){let{appInfo:n}=t;const a=Math.PI*2;let o,l,c=pc,d=120,u=Do[0].divisions,h=64,p=0,f=!0,M=0,g=[];const y=z=>{g.length===0&&(M=z.timestamp);const G=(z.timestamp-M)/1e3;i(8,g=[...g,G])},b=(z,G,H,J,Z,j,W,et,dt,ht)=>{const st=et,St=et,At=dt+st/2,xt=ht+St/2,gt=st*.4,yt=gt*.8,lt=gt*.9,zt=gt*.95,kt=gt*.68,Jt=Math.PI/2,Gt=z.getContext("2d"),[ce,ae]=J.split(":").map(oi=>+oi),qt=Q0(H)*ce,ve=G.map(oi=>oi+j).map(oi=>oi%qt).map(oi=>oi/qt*a),He=st*.08;if(!W){const oi=Z*ce/4;Gt.fillStyle="#f8f8f8",Gt.strokeStyle="#aaa";const fe=E6().domain([0,a]).thresholds(fi(oi).map(Ot=>Ot/oi*a))(ve),pe=v9(fe,Ot=>Ot.length);for(const Ot of fe){if(Ot.length===0)continue;const _t=Ot.length/pe*He,Ht=gt+_t,Tt=Ot.x0-Jt,Et=Math.cos(Tt),Lt=Math.sin(Tt),ut=Ot.x1-Jt,X=Math.cos(ut),tt=Math.sin(ut);Gt.beginPath(),Gt.moveTo(At+Et*gt,xt+Lt*gt),Gt.lineTo(At+Et*Ht,xt+Lt*Ht),Gt.arc(At,xt,Ht,Tt,ut),Gt.lineTo(At+X*gt,xt+tt*gt),Gt.closePath(),Gt.fill(),Gt.stroke()}}if(W&&ve.length>1){let oi=4/Z,Ot=G3(ve,{bandwidth:oi,pad:0,bins:360,extent:[0,a]}).bandwidth(oi);const _t=v9([...Ot],Ht=>Ht.y);Ot=[...Ot].map(Ht=>({...Ht,x:Ht.x<0?Ht.x+a:Ht.x})),Ot.sort((Ht,Tt)=>Ht.x-Tt.x);for(const[Ht,Tt]of Ot.entries()){const Et=Tt.x-Jt;let Lt=Tt.y;(Ht===0||Ht===Ot.length-1)&&(Lt=(Ot.at(0).y+Ot.at(-1).y)/2);const ut=gt+Lt/_t*He,X=Math.cos(Et),tt=Math.sin(Et);Ht===0?Gt.moveTo(At+X*ut,xt+tt*ut):Gt.lineTo(At+X*ut,xt+tt*ut)}Gt.closePath(),Gt.fillStyle=Qo.accent,Gt.fill(),Gt.strokeStyle="#aaa",Gt.stroke()}Gt.strokeStyle="#aaa",Gt.fillStyle="white",l5(Gt,At,xt,gt),Gt.lineWidth=2,Gt.fill(),Gt.stroke();const qe=fi(ce).map(oi=>a/ce*oi-Jt),ri=fi(ce*ae).map(oi=>a/(ce*ae)*oi-Jt);Gt.beginPath(),Gt.lineWidth=2,Gt.fillStyle="#ccc",Gt.font=`${et*.08}px sans-serif`,Gt.textAlign="center",Gt.textBaseline="middle";for(const[oi,oe]of qe.entries()){const fe=Math.cos(oe),pe=Math.sin(oe);Gt.moveTo(At+fe*yt,xt+pe*yt),Gt.lineTo(At+fe*zt,xt+pe*zt),Gt.fillText(oi+1,At+fe*kt,xt+pe*kt)}Gt.stroke(),Gt.lineWidth=1,Gt.beginPath();for(const oi of ri){const oe=Math.cos(oi),fe=Math.sin(oi);Gt.moveTo(At+oe*lt,xt+fe*lt),Gt.lineTo(At+oe*zt,xt+fe*zt)}if(Gt.stroke(),G.length>0){const oi=U9t(G,J,H,Z,j);Gt.fillText((oi/G.length*100).toFixed()+"%",At,xt)}},v=()=>{const z=o.getContext("2d"),G=window.devicePixelRatio,H=o.getBoundingClientRect();i(1,o.width=H.width*G,o),i(1,o.height=H.height*G,o),z.scale(G,G),i(1,o.style.width=`${H.width}px`,o),i(1,o.style.height=`${H.height}px`,o),z.clearRect(0,0,pc,c),b(o,g,d,u,h,p,f,pc/2,0,0)},C=()=>{const G=zU(n.id).slice(-8),H=l.getContext("2d"),J=window.devicePixelRatio,Z=l.getBoundingClientRect();i(2,l.width=Z.width*J,l),i(2,l.height=Z.height*J,l),H.scale(J,J),i(2,l.style.width=`${Z.width}px`,l),i(2,l.style.height=`${Z.height}px`,l),H.fillStyle="white",H.fillRect(0,0,pc,c);const j=4;for(const[W,et]of G.entries()){const dt=et.data,ht=dt.tempo,st=dt.grid,St=dt.adjustTime,At=dt.notes,xt=pc/j,gt=W%j*xt,yt=Math.floor(W/j)*xt;H.font="12px sans-serif",H.textBaseline="top",H.textAlign="center",H.fillStyle="#333",H.fillText(et.date.slice(0,16).replace("T","  "),gt+xt/2,yt),H.fillText(`tempo: ${ht} grid: ${st} adjust: ${St}`,gt+xt/2,yt+12),b(l,At,ht,st,h,St,f,xt*.8,gt+xt*.1,yt+22)}};$9(()=>{v(),C()});const _=()=>({tempo:d,grid:u,binNote:h,adjustTime:p,showKde:f,notes:g}),E=()=>{g.length>0&&C9(n.id,_())};c0(E);function S(z){d=z,i(3,d)}function I(z){u=z,i(4,u)}function T(z){h=z,i(5,h)}function k(z){p=z,i(6,p)}const D=()=>{i(7,f=!f)};function N(z){he[z?"unshift":"push"](()=>{o=z,i(1,o)})}function P(z){g=z,i(8,g)}function F(z){he[z?"unshift":"push"](()=>{l=z,i(2,l)})}const U=()=>y({timestamp:performance.now()}),V=()=>y({timestamp:performance.now()});return e.$$set=z=>{"appInfo"in z&&i(0,n=z.appInfo)},[n,o,l,d,u,h,p,f,g,c,y,v,E,S,I,T,k,D,N,P,F,U,V]}class Gvt extends Zi{constructor(t){super(),Yi(this,t,$vt,Uvt,Xi,{appInfo:0},null,[-1,-1])}}const Hvt=120,Vvt="4:2",Qvt=4,zvt=128,jvt=-1.41,Wvt=100,Kvt=!0,qvt=[{time:0,number:36,velocity:.05511811023622047,drum:"KD"},{time:1.4378999999761581,number:36,velocity:.4409448818897638,drum:"KD"},{time:1.464899999976158,number:46,velocity:1,drum:"HH"},{time:1.7078999999761582,number:46,velocity:.6692913385826772,drum:"HH"},{time:1.9308999999761582,number:37,velocity:.25984251968503935,drum:37},{time:1.933,number:38,velocity:.8110236220472441,drum:"SN"},{time:1.9348999999761582,number:46,velocity:1,drum:"HH"},{time:1.988899999976158,number:38,velocity:.2992125984251969,drum:"SN"},{time:2.162,number:46,velocity:.8031496062992126,drum:"HH"},{time:2.402899999976158,number:36,velocity:.5039370078740157,drum:"KD"},{time:2.4128999999761582,number:42,velocity:1,drum:"HH"},{time:2.664899999976158,number:46,velocity:.8818897637795275,drum:"HH"},{time:2.9128999999761582,number:38,velocity:.7244094488188977,drum:"SN"},{time:2.9208999999761582,number:46,velocity:1,drum:"HH"},{time:3.168899999976158,number:46,velocity:.84251968503937,drum:"HH"},{time:3.394899999976158,number:36,velocity:.5275590551181102,drum:"KD"},{time:3.4128999999761582,number:46,velocity:1,drum:"HH"},{time:3.659899999976158,number:46,velocity:.6929133858267716,drum:"HH"},{time:3.9128999999761582,number:38,velocity:.8346456692913385,drum:"SN"},{time:3.9198999999761583,number:46,velocity:1,drum:"HH"},{time:4.161899999976158,number:46,velocity:.6614173228346457,drum:"HH"},{time:4.412899999976158,number:36,velocity:.5196850393700787,drum:"KD"},{time:4.415,number:46,velocity:1,drum:"HH"},{time:4.664899999976158,number:46,velocity:.6771653543307087,drum:"HH"},{time:4.919,number:38,velocity:.7952755905511811,drum:"SN"},{time:4.924899999976158,number:46,velocity:1,drum:"HH"},{time:5.173899999976158,number:46,velocity:.8976377952755905,drum:"HH"},{time:5.409899999976158,number:36,velocity:.5511811023622047,drum:"KD"},{time:5.43,number:46,velocity:1,drum:"HH"},{time:5.682899999976158,number:46,velocity:.6692913385826772,drum:"HH"},{time:5.929899999976159,number:38,velocity:.4094488188976378,drum:"SN"},{time:5.9348999999761585,number:46,velocity:1,drum:"HH"},{time:6.179899999976159,number:46,velocity:.8267716535433071,drum:"HH"},{time:6.422899999976158,number:36,velocity:.5196850393700787,drum:"KD"},{time:6.428899999976158,number:46,velocity:1,drum:"HH"},{time:6.656899999976158,number:46,velocity:.84251968503937,drum:"HH"},{time:6.925899999976158,number:40,velocity:.7795275590551181,drum:"SN"},{time:6.928899999976158,number:46,velocity:1,drum:"HH"},{time:7.161899999976158,number:46,velocity:1,drum:"HH"},{time:7.403899999976158,number:36,velocity:.4330708661417323,drum:"KD"},{time:7.412899999976158,number:38,velocity:.889763779527559,drum:"SN"},{time:7.428899999976158,number:38,velocity:1,drum:"SN"},{time:7.651899999976158,number:38,velocity:.7401574803149606,drum:"SN"},{time:7.755899999976158,number:38,velocity:.8031496062992126,drum:"SN"},{time:7.876899999976158,number:38,velocity:.889763779527559,drum:"SN"},{time:7.940899999976158,number:38,velocity:.25984251968503935,drum:"SN"},{time:8.139899999976159,number:38,velocity:.8661417322834646,drum:"SN"},{time:8.373899999976159,number:38,velocity:1,drum:"SN"},{time:8.482899999976159,number:38,velocity:.968503937007874,drum:"SN"},{time:8.609899999976157,number:38,velocity:.9291338582677166,drum:"SN"},{time:8.731899999976157,number:38,velocity:.8267716535433071,drum:"SN"},{time:8.843899999976157,number:38,velocity:.9606299212598425,drum:"SN"},{time:8.971899999976158,number:38,velocity:.8976377952755905,drum:"SN"},{time:9.036,number:38,velocity:.2440944881889764,drum:"SN"},{time:9.075899999976158,number:38,velocity:.905511811023622,drum:"SN"},{time:9.215899999976157,number:38,velocity:.8110236220472441,drum:"SN"},{time:9.339899999976158,number:49,velocity:1,drum:"CC"},{time:9.353,number:36,velocity:.47244094488188976,drum:"KD"},{time:9.869899999976159,number:38,velocity:.8818897637795275,drum:"SN"},{time:9.875899999976157,number:42,velocity:1,drum:"HH"},{time:10.133,number:42,velocity:.6062992125984252,drum:"HH"},{time:10.350899999976159,number:36,velocity:.48031496062992124,drum:"KD"},{time:10.368899999976158,number:42,velocity:1,drum:"HH"},{time:10.609899999976157,number:42,velocity:.8267716535433071,drum:"HH"},{time:10.861899999976158,number:38,velocity:.4645669291338583,drum:"SN"},{time:10.865899999976158,number:42,velocity:1,drum:"HH"},{time:11.100899999976159,number:42,velocity:.6062992125984252,drum:"HH"},{time:11.348899999976158,number:36,velocity:.5196850393700787,drum:"KD"},{time:11.350899999976159,number:42,velocity:1,drum:"HH"},{time:11.596899999976158,number:42,velocity:.6771653543307087,drum:"HH"},{time:11.872,number:38,velocity:.7007874015748031,drum:"SN"},{time:11.872899999976157,number:42,velocity:1,drum:"HH"},{time:12.111899999976158,number:42,velocity:.6692913385826772,drum:"HH"},{time:12.368899999976158,number:36,velocity:.5275590551181102,drum:"KD"},{time:12.372899999976157,number:42,velocity:1,drum:"HH"},{time:12.615899999976158,number:42,velocity:.7244094488188977,drum:"HH"},{time:12.876899999976159,number:40,velocity:.7559055118110236,drum:"SN"},{time:12.880899999976158,number:42,velocity:1,drum:"HH"},{time:13.129899999976159,number:42,velocity:.8740157480314961,drum:"HH"},{time:13.366899999976159,number:36,velocity:.5669291338582677,drum:"KD"},{time:13.374899999976158,number:42,velocity:1,drum:"HH"},{time:13.613899999976159,number:42,velocity:.7480314960629921,drum:"HH"},{time:13.876899999976159,number:40,velocity:.8110236220472441,drum:"SN"},{time:13.879899999976159,number:42,velocity:1,drum:"HH"},{time:14.120899999976158,number:42,velocity:.7952755905511811,drum:"HH"},{time:14.377899999976158,number:42,velocity:1,drum:"HH"},{time:14.380899999976158,number:36,velocity:.5905511811023622,drum:"KD"},{time:14.623,number:42,velocity:.8346456692913385,drum:"HH"},{time:14.885,number:40,velocity:.8267716535433071,drum:"SN"},{time:14.886899999976158,number:42,velocity:1,drum:"HH"},{time:15.116899999976159,number:38,velocity:.3779527559055118,drum:"SN"},{time:15.120899999976158,number:42,velocity:1,drum:"HH"},{time:15.376899999976159,number:36,velocity:.5039370078740157,drum:"KD"},{time:15.381899999976158,number:38,velocity:1,drum:"SN"},{time:15.622899999976157,number:38,velocity:.8188976377952756,drum:"SN"},{time:15.710899999976158,number:40,velocity:.84251968503937,drum:"SN"},{time:15.859899999976157,number:38,velocity:.952755905511811,drum:"SN"},{time:16.123,number:38,velocity:.5669291338582677,drum:"SN"},{time:16.353899999976157,number:38,velocity:.5590551181102362,drum:"SN"},{time:16.44789999997616,number:38,velocity:1,drum:"SN"},{time:16.580899999976157,number:37,velocity:.2125984251968504,drum:37},{time:16.584,number:38,velocity:.7559055118110236,drum:"SN"},{time:16.696899999976157,number:38,velocity:.6062992125984252,drum:"SN"},{time:16.827899999976157,number:45,velocity:1,drum:"TO"},{time:16.94289999997616,number:48,velocity:1,drum:"TO"},{time:17.068,number:45,velocity:1,drum:"TO"},{time:17.20689999997616,number:50,velocity:.6299212598425197,drum:"TO"},{time:17.32589999997616,number:57,velocity:1,drum:"CC"},{time:17.34689999997616,number:36,velocity:.5354330708661418,drum:"KD"},{time:17.88689999997616,number:40,velocity:.7401574803149606,drum:"SN"},{time:17.89089999997616,number:42,velocity:1,drum:"HH"},{time:18.147,number:42,velocity:.31496062992125984,drum:"HH"},{time:18.37889999997616,number:36,velocity:.5669291338582677,drum:"KD"},{time:18.380899999976158,number:42,velocity:.968503937007874,drum:"HH"},{time:18.64089999997616,number:42,velocity:.7795275590551181,drum:"HH"},{time:18.893,number:37,velocity:.6299212598425197,drum:37},{time:18.89389999997616,number:42,velocity:1,drum:"HH"},{time:19.13489999997616,number:42,velocity:.7401574803149606,drum:"HH"},{time:19.37589999997616,number:36,velocity:.5354330708661418,drum:"KD"},{time:19.382899999976157,number:42,velocity:1,drum:"HH"},{time:19.63489999997616,number:42,velocity:.7559055118110236,drum:"HH"},{time:19.883,number:37,velocity:.5590551181102362,drum:37},{time:19.89089999997616,number:42,velocity:1,drum:"HH"},{time:20.16289999997616,number:42,velocity:.49606299212598426,drum:"HH"},{time:20.37589999997616,number:36,velocity:.5118110236220472,drum:"KD"},{time:20.39889999997616,number:42,velocity:.9448818897637795,drum:"HH"},{time:20.634,number:42,velocity:.8110236220472441,drum:"HH"},{time:20.894899999976158,number:38,velocity:.4409448818897638,drum:"SN"},{time:20.90189999997616,number:42,velocity:1,drum:"HH"},{time:20.958899999976158,number:38,velocity:.25984251968503935,drum:"SN"},{time:21.15489999997616,number:42,velocity:.5433070866141733,drum:"HH"},{time:21.38489999997616,number:36,velocity:.5275590551181102,drum:"KD"},{time:21.397899999976158,number:42,velocity:.8188976377952756,drum:"HH"},{time:21.63189999997616,number:42,velocity:.8110236220472441,drum:"HH"},{time:21.88389999997616,number:38,velocity:.5669291338582677,drum:"SN"},{time:21.88989999997616,number:42,velocity:1,drum:"HH"},{time:22.144899999976158,number:42,velocity:.4881889763779528,drum:"HH"},{time:22.379,number:36,velocity:.5590551181102362,drum:"KD"},{time:22.38489999997616,number:42,velocity:.8582677165354331,drum:"HH"},{time:22.62589999997616,number:42,velocity:.6771653543307087,drum:"HH"},{time:22.88389999997616,number:40,velocity:.7874015748031497,drum:"SN"},{time:22.894899999976158,number:42,velocity:1,drum:"HH"},{time:23.132899999976157,number:42,velocity:1,drum:"HH"},{time:23.38189999997616,number:38,velocity:.5196850393700787,drum:"SN"},{time:23.39,number:42,velocity:1,drum:"HH"},{time:23.396899999976156,number:36,velocity:.5196850393700787,drum:"KD"},{time:23.628,number:42,velocity:.8503937007874016,drum:"HH"},{time:23.88789999997616,number:42,velocity:1,drum:"HH"},{time:24.12289999997616,number:40,velocity:.952755905511811,drum:"SN"},{time:24.13389999997616,number:38,velocity:1,drum:"SN"},{time:24.371899999976158,number:38,velocity:.8582677165354331,drum:"SN"},{time:24.619,number:38,velocity:.9291338582677166,drum:"SN"},{time:24.862899999976158,number:38,velocity:.9606299212598425,drum:"SN"},{time:24.95989999997616,number:38,velocity:.9448818897637795,drum:"SN"},{time:25.117,number:49,velocity:1,drum:"CC"},{time:25.219899999976157,number:38,velocity:.7952755905511811,drum:"SN"},{time:25.406899999976158,number:42,velocity:1,drum:"HH"},{time:25.41689999997616,number:36,velocity:.5275590551181102,drum:"KD"},{time:25.66689999997616,number:42,velocity:.2992125984251969,drum:"HH"},{time:25.924,number:42,velocity:1,drum:"HH"},{time:25.92789999997616,number:40,velocity:.7795275590551181,drum:"SN"},{time:26.18089999997616,number:42,velocity:.7716535433070866,drum:"HH"},{time:26.399899999976157,number:36,velocity:.47244094488188976,drum:"KD"},{time:26.432899999976158,number:42,velocity:1,drum:"HH"},{time:26.67289999997616,number:42,velocity:.8503937007874016,drum:"HH"},{time:26.937899999976157,number:42,velocity:1,drum:"HH"},{time:26.937899999976157,number:38,velocity:.7795275590551181,drum:"SN"},{time:27.182899999976158,number:42,velocity:.6692913385826772,drum:"HH"},{time:27.417899999976157,number:36,velocity:.5118110236220472,drum:"KD"},{time:27.437,number:42,velocity:1,drum:"HH"},{time:27.67289999997616,number:42,velocity:.6771653543307087,drum:"HH"},{time:27.934899999976157,number:38,velocity:.49606299212598426,drum:"SN"},{time:27.938,number:42,velocity:1,drum:"HH"},{time:28.185899999976158,number:42,velocity:.8110236220472441,drum:"HH"},{time:28.431899999976157,number:36,velocity:.5433070866141733,drum:"KD"},{time:28.43389999997616,number:42,velocity:.9763779527559056,drum:"HH"},{time:28.67789999997616,number:42,velocity:.7480314960629921,drum:"HH"},{time:28.93689999997616,number:38,velocity:.7716535433070866,drum:"SN"},{time:28.93989999997616,number:42,velocity:1,drum:"HH"},{time:29.181899999976157,number:42,velocity:.6062992125984252,drum:"HH"},{time:29.42789999997616,number:36,velocity:.5511811023622047,drum:"KD"},{time:29.437,number:42,velocity:.937007874015748,drum:"HH"},{time:29.68389999997616,number:42,velocity:.6141732283464567,drum:"HH"},{time:29.89589999997616,number:36,velocity:.07086614173228346,drum:"KD"},{time:29.92589999997616,number:40,velocity:.8818897637795275,drum:"SN"},{time:29.938899999976158,number:42,velocity:1,drum:"HH"},{time:30.182899999976158,number:42,velocity:.6299212598425197,drum:"HH"},{time:30.41589999997616,number:36,velocity:.5669291338582677,drum:"KD"},{time:30.431899999976157,number:42,velocity:1,drum:"HH"},{time:30.66889999997616,number:42,velocity:.84251968503937,drum:"HH"},{time:30.931899999976157,number:40,velocity:.7795275590551181,drum:"SN"},{time:30.934899999976157,number:42,velocity:1,drum:"HH"},{time:31.17289999997616,number:42,velocity:1,drum:"HH"},{time:31.179899999976158,number:38,velocity:.25984251968503935,drum:"SN"},{time:31.431899999976157,number:38,velocity:.968503937007874,drum:"SN"},{time:31.43689999997616,number:36,velocity:.5275590551181102,drum:"KD"},{time:31.67589999997616,number:38,velocity:.4409448818897638,drum:"SN"},{time:31.77989999997616,number:38,velocity:.7716535433070866,drum:"SN"},{time:31.92289999997616,number:38,velocity:.8582677165354331,drum:"SN"},{time:32.174899999976155,number:38,velocity:.6141732283464567,drum:"SN"},{time:32.42289999997616,number:38,velocity:.7322834645669292,drum:"SN"},{time:32.53289999997616,number:38,velocity:1,drum:"SN"},{time:32.67389999997616,number:38,velocity:.7637795275590551,drum:"SN"},{time:32.786,number:38,velocity:.6850393700787402,drum:"SN"},{time:32.915899999976155,number:38,velocity:.8346456692913385,drum:"SN"},{time:33.03589999997616,number:38,velocity:.7401574803149606,drum:"SN"},{time:33.158,number:37,velocity:.29133858267716534,drum:37},{time:33.15989999997616,number:38,velocity:.9212598425196851,drum:"SN"},{time:33.21689999997616,number:36,velocity:.08661417322834646,drum:"KD"},{time:33.308899999976155,number:38,velocity:.7716535433070866,drum:"SN"},{time:33.423,number:55,velocity:1,drum:"CC"},{time:33.44389999997616,number:36,velocity:.4881889763779528,drum:"KD"},{time:33.96689999997616,number:46,velocity:1,drum:"HH"},{time:33.96689999997616,number:38,velocity:.6535433070866141,drum:"SN"},{time:34.208,number:46,velocity:.7480314960629921,drum:"HH"},{time:34.44489999997616,number:36,velocity:.5433070866141733,drum:"KD"},{time:34.452,number:46,velocity:.952755905511811,drum:"HH"},{time:34.689899999976156,number:36,velocity:.4330708661417323,drum:"KD"},{time:34.714,number:46,velocity:1,drum:"HH"},{time:34.95889999997616,number:40,velocity:.8267716535433071,drum:"SN"},{time:34.972,number:46,velocity:1,drum:"HH"},{time:35.208,number:46,velocity:.84251968503937,drum:"HH"},{time:35.451899999976156,number:42,velocity:1,drum:"HH"},{time:35.45389999997616,number:36,velocity:.5039370078740157,drum:"KD"},{time:35.686,number:42,velocity:.937007874015748,drum:"HH"},{time:35.936899999976156,number:38,velocity:.8031496062992126,drum:"SN"},{time:35.94489999997616,number:42,velocity:1,drum:"HH"},{time:36.197,number:42,velocity:.8188976377952756,drum:"HH"},{time:36.42689999997616,number:36,velocity:.5118110236220472,drum:"KD"},{time:36.444,number:42,velocity:1,drum:"HH"},{time:36.674,number:42,velocity:1,drum:"HH"},{time:36.94089999997616,number:38,velocity:.8582677165354331,drum:"SN"},{time:36.948899999976156,number:42,velocity:1,drum:"HH"},{time:37.185,number:42,velocity:.9606299212598425,drum:"HH"},{time:37.436899999976156,number:36,velocity:.5590551181102362,drum:"KD"},{time:37.442899999976156,number:42,velocity:1,drum:"HH"},{time:37.677899999976155,number:42,velocity:.8110236220472441,drum:"HH"},{time:37.92889999997616,number:38,velocity:.7401574803149606,drum:"SN"},{time:37.951899999976156,number:42,velocity:1,drum:"HH"},{time:38.18289999997616,number:42,velocity:.84251968503937,drum:"HH"},{time:38.42589999997616,number:36,velocity:.5511811023622047,drum:"KD"},{time:38.43589999997616,number:42,velocity:.9448818897637795,drum:"HH"},{time:38.67089999997616,number:42,velocity:.7874015748031497,drum:"HH"},{time:38.93,number:42,velocity:1,drum:"HH"},{time:38.93789999997616,number:38,velocity:.7165354330708661,drum:"SN"},{time:39.16989999997616,number:42,velocity:1,drum:"HH"},{time:39.41389999997616,number:36,velocity:.5354330708661418,drum:"KD"},{time:39.42889999997616,number:38,velocity:.8267716535433071,drum:"SN"},{time:39.67689999997616,number:38,velocity:.7952755905511811,drum:"SN"},{time:39.78889999997616,number:40,velocity:.84251968503937,drum:"SN"},{time:39.915899999976155,number:38,velocity:.937007874015748,drum:"SN"},{time:40.162899999976155,number:38,velocity:.9763779527559056,drum:"SN"},{time:40.41389999997616,number:38,velocity:1,drum:"SN"},{time:40.51489999997616,number:38,velocity:1,drum:"SN"},{time:40.65389999997616,number:38,velocity:.9921259842519685,drum:"SN"},{time:40.768899999976156,number:38,velocity:.7165354330708661,drum:"SN"},{time:40.893899999976156,number:38,velocity:.968503937007874,drum:"SN"},{time:41.01989999997616,number:38,velocity:.7480314960629921,drum:"SN"},{time:41.14189999997616,number:38,velocity:.7716535433070866,drum:"SN"},{time:41.16989999997616,number:36,velocity:.10236220472440945,drum:"KD"},{time:41.28289999997616,number:38,velocity:.8267716535433071,drum:"SN"},{time:41.397,number:55,velocity:.84251968503937,drum:"CC"},{time:41.40089999997616,number:36,velocity:.5039370078740157,drum:"KD"},{time:41.902,number:42,velocity:1,drum:"HH"},{time:41.90989999997616,number:40,velocity:.8818897637795275,drum:"SN"},{time:42.155,number:42,velocity:.6456692913385826,drum:"HH"},{time:42.37489999997616,number:36,velocity:.5590551181102362,drum:"KD"},{time:42.404,number:42,velocity:.9448818897637795,drum:"HH"},{time:42.62789999997616,number:36,velocity:.4881889763779528,drum:"KD"},{time:42.65589999997616,number:42,velocity:.9921259842519685,drum:"HH"},{time:42.90889999997616,number:40,velocity:.7952755905511811,drum:"SN"},{time:42.912899999976155,number:42,velocity:1,drum:"HH"},{time:43.15089999997616,number:42,velocity:.7007874015748031,drum:"HH"},{time:43.393899999976156,number:36,velocity:.5905511811023622,drum:"KD"},{time:43.40389999997616,number:42,velocity:1,drum:"HH"},{time:43.64889999997616,number:42,velocity:.952755905511811,drum:"HH"},{time:43.90989999997616,number:40,velocity:.7480314960629921,drum:"SN"},{time:43.91189999997616,number:42,velocity:1,drum:"HH"},{time:44.16689999997616,number:42,velocity:1,drum:"HH"},{time:44.38889999997616,number:36,velocity:.5511811023622047,drum:"KD"},{time:44.41789999997616,number:42,velocity:1,drum:"HH"},{time:44.628899999976156,number:36,velocity:.47244094488188976,drum:"KD"},{time:44.68189999997616,number:42,velocity:1,drum:"HH"},{time:44.924,number:38,velocity:.3937007874015748,drum:"SN"},{time:44.93889999997616,number:42,velocity:1,drum:"HH"},{time:45.17589999997616,number:42,velocity:.984251968503937,drum:"HH"},{time:45.421899999976155,number:36,velocity:.5984251968503937,drum:"KD"},{time:45.430899999976155,number:42,velocity:1,drum:"HH"},{time:45.67889999997616,number:42,velocity:.7795275590551181,drum:"HH"},{time:45.91189999997616,number:40,velocity:.7874015748031497,drum:"SN"},{time:45.925,number:42,velocity:.6377952755905512,drum:"HH"},{time:46.171899999976155,number:42,velocity:.7637795275590551,drum:"HH"},{time:46.39989999997616,number:36,velocity:.6062992125984252,drum:"KD"},{time:46.42289999997616,number:42,velocity:1,drum:"HH"},{time:46.65389999997616,number:36,velocity:.5275590551181102,drum:"KD"},{time:46.66689999997616,number:42,velocity:1,drum:"HH"},{time:46.915899999976155,number:38,velocity:.6614173228346457,drum:"SN"},{time:46.92289999997616,number:42,velocity:1,drum:"HH"},{time:47.14989999997616,number:42,velocity:.9606299212598425,drum:"HH"},{time:47.395,number:36,velocity:.5905511811023622,drum:"KD"},{time:47.40689999997616,number:42,velocity:1,drum:"HH"},{time:47.64289999997616,number:42,velocity:.8976377952755905,drum:"HH"},{time:47.881,number:40,velocity:.7637795275590551,drum:"SN"},{time:47.896899999976156,number:42,velocity:1,drum:"HH"},{time:48.140899999976156,number:37,velocity:.25984251968503935,drum:37},{time:48.14289999997616,number:38,velocity:.8188976377952756,drum:"SN"},{time:48.21789999997616,number:40,velocity:.8661417322834646,drum:"SN"},{time:48.38289999997616,number:38,velocity:.8188976377952756,drum:"SN"},{time:48.64189999997616,number:37,velocity:.49606299212598426,drum:37},{time:48.88589999997616,number:38,velocity:1,drum:"SN"},{time:48.96989999997616,number:38,velocity:.8267716535433071,drum:"SN"},{time:49.10989999997616,number:38,velocity:.905511811023622,drum:"SN"},{time:49.21189999997616,number:38,velocity:.8976377952755905,drum:"SN"},{time:49.363,number:49,velocity:.889763779527559,drum:"CC"},{time:49.40089999997616,number:36,velocity:.4645669291338583,drum:"KD"},{time:49.863,number:40,velocity:.7874015748031497,drum:"SN"},{time:49.869899999976155,number:42,velocity:1,drum:"HH"},{time:50.12489999997616,number:42,velocity:.7086614173228346,drum:"HH"},{time:50.33889999997616,number:36,velocity:.6062992125984252,drum:"KD"},{time:50.357899999976155,number:42,velocity:1,drum:"HH"},{time:50.57289999997616,number:36,velocity:.47244094488188976,drum:"KD"},{time:50.608,number:42,velocity:1,drum:"HH"},{time:50.862,number:40,velocity:.7559055118110236,drum:"SN"},{time:50.86789999997616,number:42,velocity:1,drum:"HH"},{time:51.112,number:42,velocity:.889763779527559,drum:"HH"},{time:51.36289999997616,number:36,velocity:.5511811023622047,drum:"KD"},{time:51.36789999997616,number:42,velocity:1,drum:"HH"},{time:51.61,number:42,velocity:.9212598425196851,drum:"HH"},{time:51.851899999976155,number:37,velocity:.5669291338582677,drum:37},{time:51.872899999976156,number:42,velocity:1,drum:"HH"},{time:52.11189999997616,number:42,velocity:1,drum:"HH"},{time:52.36889999997616,number:36,velocity:.5905511811023622,drum:"KD"},{time:52.37389999997616,number:42,velocity:1,drum:"HH"},{time:52.616899999976155,number:36,velocity:.5275590551181102,drum:"KD"},{time:52.635,number:42,velocity:1,drum:"HH"},{time:52.88889999997616,number:38,velocity:.6692913385826772,drum:"SN"},{time:52.89189999997616,number:42,velocity:1,drum:"HH"},{time:52.954899999976156,number:38,velocity:.25984251968503935,drum:"SN"},{time:53.13289999997616,number:42,velocity:.9606299212598425,drum:"HH"},{time:53.38589999997616,number:36,velocity:.5905511811023622,drum:"KD"},{time:53.396899999976156,number:42,velocity:1,drum:"HH"},{time:53.63,number:42,velocity:.8346456692913385,drum:"HH"},{time:53.884899999976156,number:40,velocity:.84251968503937,drum:"SN"},{time:53.896899999976156,number:42,velocity:1,drum:"HH"},{time:54.147,number:42,velocity:1,drum:"HH"},{time:54.390899999976156,number:36,velocity:.6220472440944882,drum:"KD"},{time:54.411,number:42,velocity:1,drum:"HH"},{time:54.635,number:36,velocity:.5748031496062992,drum:"KD"},{time:54.65789999997616,number:42,velocity:1,drum:"HH"},{time:54.895,number:38,velocity:.7401574803149606,drum:"SN"},{time:54.90889999997616,number:42,velocity:1,drum:"HH"},{time:55.14489999997616,number:42,velocity:1,drum:"HH"},{time:55.14489999997616,number:38,velocity:.2283464566929134,drum:"SN"},{time:55.40189999997616,number:36,velocity:.5118110236220472,drum:"KD"},{time:55.40289999997616,number:40,velocity:.9212598425196851,drum:"SN"},{time:55.64589999997616,number:38,velocity:.7795275590551181,drum:"SN"},{time:55.77,number:38,velocity:.8031496062992126,drum:"SN"},{time:55.893899999976156,number:38,velocity:.905511811023622,drum:"SN"},{time:56.146899999976156,number:38,velocity:.6141732283464567,drum:"SN"},{time:56.396,number:38,velocity:.9448818897637795,drum:"SN"},{time:56.509,number:38,velocity:.8503937007874016,drum:"SN"},{time:56.64789999997616,number:38,velocity:.889763779527559,drum:"SN"},{time:56.76489999997616,number:38,velocity:.7480314960629921,drum:"SN"},{time:56.88889999997616,number:38,velocity:.889763779527559,drum:"SN"},{time:57.00289999997616,number:38,velocity:.7874015748031497,drum:"SN"},{time:57.12389999997616,number:38,velocity:.6456692913385826,drum:"SN"},{time:57.15189999997616,number:36,velocity:.14173228346456693,drum:"KD"},{time:57.28289999997616,number:38,velocity:.8267716535433071,drum:"SN"},{time:57.37689999997616,number:55,velocity:.7952755905511811,drum:"CC"},{time:57.40889999997616,number:36,velocity:.5354330708661418,drum:"KD"},{time:57.85989999997616,number:40,velocity:.7559055118110236,drum:"SN"},{time:57.88589999997616,number:42,velocity:1,drum:"HH"},{time:58.113899999976155,number:46,velocity:.7874015748031497,drum:"HH"},{time:58.34689999997616,number:36,velocity:.5669291338582677,drum:"KD"},{time:58.36289999997616,number:42,velocity:.984251968503937,drum:"HH"},{time:58.610899999976155,number:36,velocity:.5669291338582677,drum:"KD"},{time:58.624,number:42,velocity:1,drum:"HH"},{time:58.896,number:38,velocity:.5748031496062992,drum:"SN"},{time:58.896899999976156,number:42,velocity:1,drum:"HH"},{time:58.933899999976155,number:38,velocity:.4409448818897638,drum:"SN"},{time:59.12989999997616,number:42,velocity:.6850393700787402,drum:"HH"},{time:59.39489999997616,number:42,velocity:1,drum:"HH"},{time:59.39589999997616,number:36,velocity:.6141732283464567,drum:"KD"},{time:59.640899999976156,number:46,velocity:.7952755905511811,drum:"HH"},{time:59.843,number:36,velocity:.10236220472440945,drum:"KD"},{time:59.890899999976156,number:37,velocity:.5826771653543307,drum:37},{time:59.90189999997616,number:46,velocity:1,drum:"HH"},{time:60.14189999997616,number:46,velocity:1,drum:"HH"},{time:60.38889999997616,number:36,velocity:.6062992125984252,drum:"KD"},{time:60.40289999997616,number:42,velocity:1,drum:"HH"},{time:60.640899999976156,number:36,velocity:.5748031496062992,drum:"KD"},{time:60.65589999997616,number:42,velocity:1,drum:"HH"},{time:60.91789999997616,number:42,velocity:1,drum:"HH"},{time:60.91989999997616,number:38,velocity:.8188976377952756,drum:"SN"},{time:61.15289999997616,number:42,velocity:.7086614173228346,drum:"HH"},{time:61.41189999997616,number:42,velocity:1,drum:"HH"},{time:61.428,number:36,velocity:.6614173228346457,drum:"KD"},{time:61.671899999976155,number:42,velocity:.7637795275590551,drum:"HH"},{time:61.919,number:40,velocity:.8818897637795275,drum:"SN"},{time:61.924899999976155,number:42,velocity:1,drum:"HH"},{time:62.168899999976155,number:42,velocity:.7637795275590551,drum:"HH"},{time:62.42589999997616,number:42,velocity:1,drum:"HH"},{time:62.42889999997616,number:36,velocity:.6614173228346457,drum:"KD"},{time:62.65589999997616,number:36,velocity:.5433070866141733,drum:"KD"},{time:62.68889999997616,number:42,velocity:1,drum:"HH"},{time:62.95289999997616,number:42,velocity:1,drum:"HH"},{time:62.954899999976156,number:40,velocity:.8110236220472441,drum:"SN"},{time:63.188,number:42,velocity:1,drum:"HH"},{time:63.42989999997616,number:40,velocity:.8031496062992126,drum:"SN"},{time:63.43189999997616,number:36,velocity:.6535433070866141,drum:"KD"},{time:63.43489999997616,number:42,velocity:1,drum:"HH"},{time:63.683899999976155,number:38,velocity:.5905511811023622,drum:"SN"},{time:63.76189999997616,number:38,velocity:.8188976377952756,drum:"SN"},{time:63.929,number:38,velocity:.968503937007874,drum:"SN"},{time:64.18289999997616,number:38,velocity:.7716535433070866,drum:"SN"},{time:64.435,number:38,velocity:1,drum:"SN"},{time:64.55389999997615,number:38,velocity:.952755905511811,drum:"SN"},{time:64.68889999997616,number:38,velocity:.889763779527559,drum:"SN"},{time:64.80489999997616,number:38,velocity:.8267716535433071,drum:"SN"},{time:64.93789999997615,number:38,velocity:.6614173228346457,drum:"SN"},{time:65.05989999997615,number:38,velocity:.7480314960629921,drum:"SN"},{time:65.18,number:38,velocity:.9291338582677166,drum:"SN"},{time:65.22989999997615,number:36,velocity:.14960629921259844,drum:"KD"},{time:65.30789999997616,number:38,velocity:.8346456692913385,drum:"SN"},{time:65.435,number:55,velocity:1,drum:"CC"},{time:65.473,number:36,velocity:.5039370078740157,drum:"KD"}],Xvt="sub-division-drums",Yvt="0.23.3",Zvt="2024-11-26T16:45:55.840Z",tbt={tempo:Hvt,grid:Vvt,bars:Qvt,binNote:zvt,adjustTime:jvt,pastBars:Wvt,showKde:Kvt,notes:qvt,_appId:Xvt,_softwareVersion:Yvt,_date:Zvt};function ebt(e){let t,i,n,a,o,l,c,d,u,h,p,f,M;function g(C){e[12](C)}let y={label:"deviation",step:.001,min:0,max:1,defaultValue:0,callback:e[3]};e[1]!==void 0&&(y.value=e[1]),a=new M0({props:y}),he.push(()=>Ee(a,"value",g));function b(C){e[13](C)}let v={label:"bias",step:.01,min:-1,max:1,defaultValue:0,callback:e[3]};return e[2]!==void 0&&(v.value=e[2]),c=new M0({props:v}),he.push(()=>Ee(c,"value",b)),{c(){t=q("main"),i=q("button"),i.textContent="simulate",n=K(),Pt(a.$$.fragment),l=K(),Pt(c.$$.fragment),u=K(),h=q("button"),h.textContent="change seed",mt(t,"class","svelte-aczuxk")},m(C,w){bt(C,t,w),B(t,i),B(t,n),Rt(a,t,null),B(t,l),Rt(c,t,null),B(t,u),B(t,h),p=!0,f||(M=[ze(i,"click",e[3]),ze(h,"click",e[14])],f=!0)},p(C,[w]){const _={};!o&&w&2&&(o=!0,_.value=C[1],_e(()=>o=!1)),a.$set(_);const E={};!d&&w&4&&(d=!0,E.value=C[2],_e(()=>d=!1)),c.$set(E)},i(C){p||(wt(a.$$.fragment,C),wt(c.$$.fragment,C),p=!0)},o(C){It(a.$$.fragment,C),It(c.$$.fragment,C),p=!1},d(C){C&&vt(t),Dt(a),Dt(c),f=!1,t0(M)}}}function ibt(e,t,i){let{notes:n}=t,{tempo:a=120}=t,{adjustTime:o=0}=t,{grid:l="4:4"}=t,{bars:c=1}=t,{pastBars:d=8}=t,{callback:u=()=>{}}=t,{disabled:h=!1}=t,p=.4895640932857489,f=0,M=0;const g=()=>{if(h)return;const C=yY.source(bY(p))(M,f);i(5,o=0);let[w,_]=l.split(":").map(I=>+I);const E=w*c,S=[...fi(0,E,1/_)];i(4,n=fi(d).flatMap(I=>S.map(T=>({time:(T+I*E+C())/a*60,velocity:.5})))),u()};function y(C){f=C,i(1,f)}function b(C){M=C,i(2,M)}const v=()=>{i(0,p=Math.random()),g()};return e.$$set=C=>{"notes"in C&&i(4,n=C.notes),"tempo"in C&&i(6,a=C.tempo),"adjustTime"in C&&i(5,o=C.adjustTime),"grid"in C&&i(7,l=C.grid),"bars"in C&&i(8,c=C.bars),"pastBars"in C&&i(9,d=C.pastBars),"callback"in C&&i(10,u=C.callback),"disabled"in C&&i(11,h=C.disabled)},[p,f,M,g,n,o,a,l,c,d,u,h,y,b,v]}class nbt extends Zi{constructor(t){super(),Yi(this,t,ibt,ebt,Xi,{notes:4,tempo:6,adjustTime:5,grid:7,bars:8,pastBars:9,callback:10,disabled:11})}}const{window:gJ}=Qc;function rbt(e,t,i){const n=e.slice();return n[47]=t[i],n}function abt(e,t,i){const n=e.slice();return n[47]=t[i],n}function obt(e){let t;return{c(){t=q("option"),t.textContent=`${e[47].label}`,t.__value=e[47].divisions,qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function sbt(e){let t,i=je(Do),n=[];for(let a=0;a<i.length;a+=1)n[a]=obt(abt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function lbt(e){let t;return{c(){t=q("option"),t.textContent=`1/${e[47]} note`,t.__value=e[47],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function cbt(e){let t,i=je(Nh),n=[];for(let a=0;a<i.length;a+=1)n[a]=lbt(rbt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function ubt(e){let t;return{c(){t=te("drum example with fill")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function dbt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function hbt(e){let t,i,n,a,o,l,c,d,u,h;return t=new T9({props:{onclick:e[41],disabled:e[16],$$slots:{default:[ubt]},$$scope:{ctx:e}}}),o=new T9({props:{onclick:e[42],disabled:e[16],$$slots:{default:[dbt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment),i=K(),n=q("p"),a=te(`1) Play triplets.
                `),Pt(o.$$.fragment),l=K(),c=q("p"),c.textContent=`2) Switch back and forth between a half bar of eighths and a
                half bar of triplets.`,d=K(),u=q("p"),u.textContent=`3) Play a swing feel, where you shift every second note a bit
                late. Try to do this consistently!`},m(p,f){Rt(t,p,f),bt(p,i,f),bt(p,n,f),B(n,a),Rt(o,n,null),bt(p,l,f),bt(p,c,f),bt(p,d,f),bt(p,u,f),h=!0},p(p,f){const M={};f[1]&2097152&&(M.$$scope={dirty:f,ctx:p}),t.$set(M);const g={};f[1]&2097152&&(g.$$scope={dirty:f,ctx:p}),o.$set(g)},i(p){h||(wt(t.$$.fragment,p),wt(o.$$.fragment,p),h=!0)},o(p){It(t.$$.fragment,p),It(o.$$.fragment,p),h=!1},d(p){p&&(vt(i),vt(n),vt(l),vt(c),vt(d),vt(u)),Dt(t,p),Dt(o)}}}function fbt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt,ue,$e,ve,He,qe,ri,oi,oe,fe,pe,Ot,_t,Ht,Tt,Et,Lt,ut,X,tt,Bt,Qt,jt,ne,se,Be;function we(Oe){e[23](Oe)}let Ne={disabled:e[16]};e[3]!==void 0&&(Ne.value=e[3]),u=new Vr({props:Ne}),he.push(()=>Ee(u,"value",we));function li(Oe){e[24](Oe)}let zi={label:"grid",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",$$slots:{default:[sbt]},$$scope:{ctx:e}};e[4]!==void 0&&(zi.value=e[4]),f=new t9({props:zi}),he.push(()=>Ee(f,"value",li));function Ve(Oe){e[25](Oe)}let ji={title:"The number of bars in each repetition.",label:"bars",step:1,min:1,max:4,defaultValue:1};e[5]!==void 0&&(ji.value=e[5]),y=new M0({props:ji}),he.push(()=>Ee(y,"value",Ve));function Ge(Oe){e[26](Oe)}let ke={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",$$slots:{default:[cbt]},$$scope:{ctx:e}};e[6]!==void 0&&(ke.value=e[6]),C=new t9({props:ke}),he.push(()=>Ee(C,"value",Ge));function Di(Oe){e[27](Oe)}let ni={tempo:e[3],grid:e[4],notes:e[13].map(ST)};e[7]!==void 0&&(ni.adjustTime=e[7]),S=new H3({props:ni}),he.push(()=>Ee(S,"adjustTime",Di));function Tn(Oe){e[28](Oe)}let Le={title:"The number of most recent repetitions that are shown in the rows at the bottom.",label:"repetitions",step:2,min:4,max:64,defaultValue:8};e[8]!==void 0&&(Le.value=e[8]),k=new M0({props:Le}),he.push(()=>Ee(k,"value",Tn));function yn(Oe){e[29](Oe)}let I0={label:"repetition scores",title:"Show scores (percentage of notes within gray tolerance areas) per repetition"};e[10]!==void 0&&(I0.checked=e[10]),P=new zn({props:I0}),he.push(()=>Ee(P,"checked",yn));function Gn(Oe){e[30](Oe)}let ai={label:"loudness",title:"Show loudness in the note tick width, for example to see if you set accents correctly"};e[9]!==void 0&&(ai.checked=e[9]),V=new zn({props:ai}),he.push(()=>Ee(V,"checked",Gn));function Hi(Oe){e[31](Oe)}let f0={label:"combine bars",title:"Instead of showing histogram bars as either early or late, combine the bars next to correct timing into one to ignore the impossible to avoid small deviations"};e[11]!==void 0&&(f0.checked=e[11]),H=new zn({props:f0}),he.push(()=>Ee(H,"checked",Hi));function _i(Oe){e[32](Oe)}let dn={label:"show tolerance",title:"Toggle for the tolerance zone indicators"};e[12]!==void 0&&(dn.checked=e[12]),j=new zn({props:dn}),he.push(()=>Ee(j,"checked",_i)),gt=new so({props:{tempo:e[3],accent:+e[4].split(":")[0],disabled:e[16]}});function n9(Oe){e[34](Oe)}let k0={callback:e[18],disabled:e[16]};e[13]!==void 0&&(k0.data=e[13]),lt=new Z5({props:k0}),he.push(()=>Ee(lt,"data",n9));function Xt(Oe){e[35](Oe)}function le(Oe){e[36](Oe)}let xe={saveToStorage:e[21],callback:e[18],disabled:e[16]};e[13]!==void 0&&(xe.notes=e[13]),e[15]!==void 0&&(xe.isDataLoaded=e[15]),Jt=new c9({props:xe}),he.push(()=>Ee(Jt,"notes",Xt)),he.push(()=>Ee(Jt,"isDataLoaded",le)),ve=new _9({props:{appId:e[0].id,loadData:e[20],disabled:e[16]}});function Xe(Oe){e[38](Oe)}let Ue={callback:e[18]};e[13]!==void 0&&(Ue.notes=e[13]),qe=new Oa({props:Ue}),he.push(()=>Ee(qe,"notes",Xe)),oe=new f9({props:{loadData:e[20],getExportData:e[19],appId:e[0].id,disabled:e[16]}});function ui(Oe){e[39](Oe)}function Mi(Oe){e[40](Oe)}let $i={tempo:e[3],grid:e[4],bars:e[5],disabled:e[16]};return e[13]!==void 0&&($i.notes=e[13]),e[7]!==void 0&&($i.adjustTime=e[7]),pe=new nbt({props:$i}),he.push(()=>Ee(pe,"notes",ui)),he.push(()=>Ee(pe,"adjustTime",Mi)),Tt=new e9({props:{$$slots:{default:[hbt]},$$scope:{ctx:e}}}),Lt=new i9({props:{appId:e[0].id}}),X=new X9({props:{key:" ",keyDown:e[43],disabled:e[16]}}),Bt=new iu({props:{element:e[2],touchStart:e[44],disabled:e[16]}}),jt=new j0({props:{noteOn:e[17],disabled:e[16]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`This app helps practicing beat sub-divisions such as eighths or
            triplets. Choose your tempo and subdivision, and start playing. The
            bar and area charts will show you a summary of when you played
            notes. Use the integrated metronome. All notes will be timed
            relative to the first one, but you can adjust all notes to make them
            earlier or later in case you messed up the first. The last few bars
            you play will be shown in a row below. A percentage score tells you
            how many notes were within a tolerance zone.<br/> <i>Try playing without looking and focus on the metronome. Try to
                play all notes such that they are within a gray area!</i>`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),Pt(y.$$.fragment),v=K(),Pt(C.$$.fragment),_=K(),E=q("div"),Pt(S.$$.fragment),T=K(),Pt(k.$$.fragment),N=K(),Pt(P.$$.fragment),U=K(),Pt(V.$$.fragment),G=K(),Pt(H.$$.fragment),Z=K(),Pt(j.$$.fragment),et=K(),dt=q("div"),ht=K(),st=q("div"),St=te(e[14]),At=K(),xt=q("div"),Pt(gt.$$.fragment),yt=K(),Pt(lt.$$.fragment),kt=K(),Pt(Jt.$$.fragment),ae=K(),qt=q("button"),ue=te("example"),$e=K(),Pt(ve.$$.fragment),He=K(),Pt(qe.$$.fragment),oi=K(),Pt(oe.$$.fragment),fe=K(),Pt(pe.$$.fragment),Ht=K(),Pt(Tt.$$.fragment),Et=K(),Pt(Lt.$$.fragment),ut=K(),Pt(X.$$.fragment),tt=K(),Pt(Bt.$$.fragment),Qt=K(),Pt(jt.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(E,"class","control"),mt(dt,"class","visualization"),qt.disabled=e[16],mt(xt,"class","control"),mt(t,"class","app")},m(Oe,Je){bt(Oe,t,Je),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(d,g),Rt(y,d,null),B(d,v),Rt(C,d,null),B(t,_),B(t,E),Rt(S,E,null),B(E,T),Rt(k,E,null),B(E,N),Rt(P,E,null),B(E,U),Rt(V,E,null),B(E,G),Rt(H,E,null),B(E,Z),Rt(j,E,null),B(t,et),B(t,dt),e[33](dt),B(t,ht),B(t,st),B(st,St),B(t,At),B(t,xt),Rt(gt,xt,null),B(xt,yt),Rt(lt,xt,null),B(xt,kt),Rt(Jt,xt,null),B(xt,ae),B(xt,qt),B(qt,ue),B(xt,$e),Rt(ve,xt,null),B(xt,He),Rt(qe,xt,null),B(xt,oi),Rt(oe,xt,null),B(xt,fe),Rt(pe,xt,null),B(t,Ht),Rt(Tt,t,null),B(t,Et),Rt(Lt,t,null),B(t,ut),Rt(X,t,null),B(t,tt),Rt(Bt,t,null),B(t,Qt),Rt(jt,t,null),ne=!0,se||(Be=ze(qt,"click",e[37]),se=!0)},p(Oe,Je){(!ne||Je[0]&1)&&n!==(n=Oe[0].title+"")&&Qe(a,n);const tn={};!h&&Je[0]&8&&(h=!0,tn.value=Oe[3],_e(()=>h=!1)),u.$set(tn);const mn={};Je[1]&2097152&&(mn.$$scope={dirty:Je,ctx:Oe}),!M&&Je[0]&16&&(M=!0,mn.value=Oe[4],_e(()=>M=!1)),f.$set(mn);const Sn={};!b&&Je[0]&32&&(b=!0,Sn.value=Oe[5],_e(()=>b=!1)),y.$set(Sn);const v0={};Je[1]&2097152&&(v0.$$scope={dirty:Je,ctx:Oe}),!w&&Je[0]&64&&(w=!0,v0.value=Oe[6],_e(()=>w=!1)),C.$set(v0);const Pn={};Je[0]&8&&(Pn.tempo=Oe[3]),Je[0]&16&&(Pn.grid=Oe[4]),Je[0]&8192&&(Pn.notes=Oe[13].map(ST)),!I&&Je[0]&128&&(I=!0,Pn.adjustTime=Oe[7],_e(()=>I=!1)),S.$set(Pn);const Bn={};!D&&Je[0]&256&&(D=!0,Bn.value=Oe[8],_e(()=>D=!1)),k.$set(Bn);const Kn={};!F&&Je[0]&1024&&(F=!0,Kn.checked=Oe[10],_e(()=>F=!1)),P.$set(Kn);const B0={};!z&&Je[0]&512&&(z=!0,B0.checked=Oe[9],_e(()=>z=!1)),V.$set(B0);const p9={};!J&&Je[0]&2048&&(J=!0,p9.checked=Oe[11],_e(()=>J=!1)),H.$set(p9);const Gi={};!W&&Je[0]&4096&&(W=!0,Gi.checked=Oe[12],_e(()=>W=!1)),j.$set(Gi),(!ne||Je[0]&16384)&&Qe(St,Oe[14]);const Nn={};Je[0]&8&&(Nn.tempo=Oe[3]),Je[0]&16&&(Nn.accent=+Oe[4].split(":")[0]),gt.$set(Nn);const q0={};!zt&&Je[0]&8192&&(zt=!0,q0.data=Oe[13],_e(()=>zt=!1)),lt.$set(q0);const Xn={};!Gt&&Je[0]&8192&&(Gt=!0,Xn.notes=Oe[13],_e(()=>Gt=!1)),!ce&&Je[0]&32768&&(ce=!0,Xn.isDataLoaded=Oe[15],_e(()=>ce=!1)),Jt.$set(Xn);const ct={};Je[0]&1&&(ct.appId=Oe[0].id),ve.$set(ct);const Mt={};!ri&&Je[0]&8192&&(ri=!0,Mt.notes=Oe[13],_e(()=>ri=!1)),qe.$set(Mt);const Nt={};Je[0]&1&&(Nt.appId=Oe[0].id),oe.$set(Nt);const $t={};Je[0]&8&&($t.tempo=Oe[3]),Je[0]&16&&($t.grid=Oe[4]),Je[0]&32&&($t.bars=Oe[5]),!Ot&&Je[0]&8192&&(Ot=!0,$t.notes=Oe[13],_e(()=>Ot=!1)),!_t&&Je[0]&128&&(_t=!0,$t.adjustTime=Oe[7],_e(()=>_t=!1)),pe.$set($t);const Zt={};Je[1]&2097152&&(Zt.$$scope={dirty:Je,ctx:Oe}),Tt.$set(Zt);const Me={};Je[0]&1&&(Me.appId=Oe[0].id),Lt.$set(Me);const Ce={};Je[0]&4&&(Ce.element=Oe[2]),Bt.$set(Ce)},i(Oe){ne||(wt(u.$$.fragment,Oe),wt(f.$$.fragment,Oe),wt(y.$$.fragment,Oe),wt(C.$$.fragment,Oe),wt(S.$$.fragment,Oe),wt(k.$$.fragment,Oe),wt(P.$$.fragment,Oe),wt(V.$$.fragment,Oe),wt(H.$$.fragment,Oe),wt(j.$$.fragment,Oe),wt(gt.$$.fragment,Oe),wt(lt.$$.fragment,Oe),wt(Jt.$$.fragment,Oe),wt(ve.$$.fragment,Oe),wt(qe.$$.fragment,Oe),wt(oe.$$.fragment,Oe),wt(pe.$$.fragment,Oe),wt(Tt.$$.fragment,Oe),wt(Lt.$$.fragment,Oe),wt(X.$$.fragment,Oe),wt(Bt.$$.fragment,Oe),wt(jt.$$.fragment,Oe),ne=!0)},o(Oe){It(u.$$.fragment,Oe),It(f.$$.fragment,Oe),It(y.$$.fragment,Oe),It(C.$$.fragment,Oe),It(S.$$.fragment,Oe),It(k.$$.fragment,Oe),It(P.$$.fragment,Oe),It(V.$$.fragment,Oe),It(H.$$.fragment,Oe),It(j.$$.fragment,Oe),It(gt.$$.fragment,Oe),It(lt.$$.fragment,Oe),It(Jt.$$.fragment,Oe),It(ve.$$.fragment,Oe),It(qe.$$.fragment,Oe),It(oe.$$.fragment,Oe),It(pe.$$.fragment,Oe),It(Tt.$$.fragment,Oe),It(Lt.$$.fragment,Oe),It(X.$$.fragment,Oe),It(Bt.$$.fragment,Oe),It(jt.$$.fragment,Oe),ne=!1},d(Oe){Oe&&vt(t),Dt(u),Dt(f),Dt(y),Dt(C),Dt(S),Dt(k),Dt(P),Dt(V),Dt(H),Dt(j),e[33](null),Dt(gt),Dt(lt),Dt(Jt),Dt(ve),Dt(qe),Dt(oe),Dt(pe),Dt(Tt),Dt(Lt),Dt(X),Dt(Bt),Dt(jt),se=!1,Be()}}}function mbt(e){let t,i,n,a,o,l;return J9(e[22]),t=new m9({props:{loadData:e[20],disabled:e[16],$$slots:{default:[fbt]},$$scope:{ctx:e}}}),n=new $3({props:{callback:e[18]}}),{c(){Pt(t.$$.fragment),i=K(),Pt(n.$$.fragment)},m(c,d){Rt(t,c,d),bt(c,i,d),Rt(n,c,d),a=!0,o||(l=ze(gJ,"resize",e[22]),o=!0)},p(c,d){const u={};d[0]&65533|d[1]&2097152&&(u.$$scope={dirty:d,ctx:c}),t.$set(u)},i(c){a||(wt(t.$$.fragment,c),wt(n.$$.fragment,c),a=!0)},o(c){It(t.$$.fragment,c),It(n.$$.fragment,c),a=!1},d(c){c&&vt(i),Dt(t,c),Dt(n,c),o=!1,l()}}}const ST=e=>e.time;function pbt(e,t,i){let n,{appInfo:a}=t,o=window.innerWidth,l,c=120,d=Do[0].divisions,u=1,h=64,p=0,f=8,M=!1,g=!0,y=!1,b=!0,v=0,C=[],w="",_,E=!1;const S=kt=>{C.length===0&&(v=kt.timestamp);const Gt={time:(kt.timestamp-v)/1e3,velocity:kt.velocity,number:kt.note.number};i(13,C=[...C,Gt])},I=()=>{var Et;let[kt,Jt]=d.split(":").map(Lt=>+Lt);const Gt=kt*u,ce=Q0(c),ae=C.map(Lt=>{const ut=(Lt.time+p)/ce;return{...Lt,time:ut}}),qt=Math.ceil((((Et=ae.at(-1))==null?void 0:Et.time)??0)/Gt),ue=ae.map(Lt=>({...Lt,time:Lt.time%Gt}));let $e=[];if(ue.length>0){let Lt=4/h,ut=1,X=Math.floor(n/2);$e=G3(ue.map(Bt=>Bt.time),{bandwidth:Lt,pad:ut,bins:X,extent:[0,Gt]}).bandwidth(Lt)}const ve=fi(0,Gt+1,1),He=fi(0,Gt,1/Jt),qe=[$r(He,{stroke:"#888"}),$r(ve,{stroke:"#888",strokeWidth:3})],ri={width:n,height:100,marginTop:0,marginLeft:40,marginRight:10,marginBottom:10,padding:0,x:{label:null,domain:[0,Gt],ticks:[]},y:{axis:!1}},oi={label:"time in beats",domain:[0,Gt],ticks:[...ve,Gt],tickFormat:Lt=>Lt%kt+1},oe=4/h;let fe=fi(0,Gt+1,oe);y&&(fe=fe.filter(Lt=>Hr(He,ut=>Math.abs(Lt-ut)>=oe*.9)));const pe=On({...ri,marks:[...qe,Ls(ue,X5({y:"count"},{x:"time",fill:"#ccc",thresholds:fe,tip:!0})),T0([0])]}),Ot=On({...ri,marks:[Y5($e,{x:"x",y:"y",fill:Qo.accent,clip:!0}),...qe,T0([0])]}),_t=On({...ri,height:50,marginBottom:30,x:oi,marks:[$r(ue,{x:"time",stroke:"#0002",clip:!0})]}),Ht=n-ri.marginLeft-ri.marginRight,Tt=On({...ri,height:180,marginBottom:30,x:oi,y:{domain:fi(qt-f,qt),tickFormat:Lt=>Lt+1,label:"recent repetitions"},marks:[$r(ae,{x:Lt=>Lt.time%Gt,y:(Lt,ut)=>Math.floor(Lt.time/Gt),strokeWidth:M?Lt=>Lt.velocity*4:1,clip:!0}),b?$r([...He,Gt],{x:Lt=>Lt,stroke:"#ccc",opacity:.7,clip:!0,strokeWidth:Ht/h/(Gt/4)*2}):null]});if(i(2,l.textContent="",l),l.appendChild(pe),l.appendChild(Ot),l.appendChild(_t),l.appendChild(Tt),i(14,w=""),C.length>0){const ut=(a8(ae.map(X=>X.time),kt,Jt,h)/ae.length*100).toFixed();i(14,w=`${ut}% of notes are within tolerance`)}if(g){const ut=Aa(ae,tt=>Math.floor(tt.time/Gt)).map(([tt,Bt])=>{const Qt=a8(Bt.map(jt=>jt.time),kt,Jt,h);return{repetition:Math.floor(Bt[0].time/Gt),score:Qt/Bt.length*100}}),X=On({width:n,height:110,x:{tickFormat:tt=>tt+1},y:{label:"percent of notes in tolerance per repetition",domain:[0,100]},marks:[Ls(ut,{y:"score",x:"repetition",fill:"var(--accent)",tip:!0,title:tt=>`rep: ${tt.repetition+1}
score: ${tt.score.toFixed()} %`}),T0([0]),T0([100])]});l.appendChild(X)}};$9(I);const T=()=>({tempo:c,grid:d,bars:u,binNote:h,adjustTime:p,pastBars:f,showLoudness:M,showBarScores:g,combineBars:y,showTolerance:b,notes:C}),k=kt=>{D(),i(3,c=kt.tempo??120),i(4,d=kt.grid??"4:4"),i(5,u=kt.bars??1),i(6,h=kt.binNote??96),i(7,p=kt.adjustTime??0),i(8,f=kt.pastBars??8),i(9,M=kt.showLoudness??!1),i(10,g=kt.showBarScores??!1),i(11,y=kt.combineBars??!1),i(12,b=kt.showTolerance??!0),i(13,C=kt.notes),i(15,E=!0)},D=()=>{!E&&!_&&C.length>0&&C9(a.id,T())};c0(D);function N(){i(1,o=gJ.innerWidth)}function P(kt){c=kt,i(3,c)}function F(kt){d=kt,i(4,d)}function U(kt){u=kt,i(5,u)}function V(kt){h=kt,i(6,h)}function z(kt){p=kt,i(7,p)}function G(kt){f=kt,i(8,f)}function H(kt){g=kt,i(10,g)}function J(kt){M=kt,i(9,M)}function Z(kt){y=kt,i(11,y)}function j(kt){b=kt,i(12,b)}function W(kt){he[kt?"unshift":"push"](()=>{l=kt,i(2,l)})}function et(kt){C=kt,i(13,C)}function dt(kt){C=kt,i(13,C)}function ht(kt){E=kt,i(15,E)}const st=()=>k(S8);function St(kt){C=kt,i(13,C)}function At(kt){C=kt,i(13,C)}function xt(kt){p=kt,i(7,p)}const gt=()=>k(tbt),yt=()=>k(S8),lt=()=>S({timestamp:performance.now(),velocity:.5}),zt=()=>S({timestamp:performance.now(),velocity:.5});return e.$$set=kt=>{"appInfo"in kt&&i(0,a=kt.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&2&&(n=o<1200?900:Math.floor(o-200))},[a,o,l,c,d,u,h,p,f,M,g,y,b,C,w,E,_,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt]}class gbt extends Zi{constructor(t){super(),Yi(this,t,pbt,mbt,Xi,{appInfo:0},null,[-1,-1])}}const Mbt=5,ybt=5,Abt=[0,.252,.5049000000357627,.7599000000357627,1.027,1.282,1.549,1.804900000035763,2.0779000000357626,2.326,2.578,2.8279000000357626,3.105,3.3559000000357626,3.614,3.872,4.143,4.394,4.636900000035763,4.903,5.169900000035763,5.419,5.684,5.940900000035763,6.192900000035762,6.445,6.703,6.9779000000357625,7.225900000035763,7.484,7.744,7.993,8.249900000035764,8.527900000035762,8.776,9.041,9.291,9.563,9.813900000035762,10.09,10.346,10.611900000035762,10.881900000035763,11.132,11.39,11.658900000035763,11.904,12.169,12.43,12.687,12.945900000035763,13.21,13.433,13.458900000035763,13.72,13.988,14.24,14.5,14.772,15.028,15.291,15.53,15.805,16.07,16.347,16.581,16.847900000035764,17.107900000035762,17.35990000003576,17.61590000003576,17.863,18.123900000035764,18.373,18.634,18.875,19.131,19.383,19.632,19.88590000003576,20.14,20.383,20.646,20.886,21.149900000035764,21.397,21.645,21.902,22.152900000035764,22.39190000003576,22.649900000035764,22.898,23.14190000003576,23.39190000003576,23.654,23.894,24.14,24.409,24.677,24.919,25.166900000035763,25.42690000003576,25.684,25.933900000035763,26.188900000035762,26.447,26.706900000035763,26.955,27.209900000035763,27.459,27.73,27.989,28.232900000035762,28.495,28.74690000003576,28.988,29.246,29.49690000003576,29.756,30,30.254,30.522,30.781900000035762,31.041900000035763,31.293,31.543900000035762,31.810900000035762,32.069,32.321,32.578900000035766,32.835,33.097,33.350900000035764,33.61790000003576,33.854,34.124900000035765,34.367,34.63290000003576,34.899900000035764,35.152900000035764,35.416,35.697,35.950900000035766,36.225,36.469900000035764,36.735,37.001,37.271,37.519,37.77990000003576,38.037,38.28790000003576,38.551,38.798,39.043,39.311,39.569],vbt="tempo-change",bbt="0.23.4",Cbt="2024-11-26T17:00:11.425Z",xT={timeBinSize:Mbt,tempoBinSize:ybt,notes:Abt,_appId:vbt,_softwareVersion:bbt,_date:Cbt},_bt=2,Ebt=5,wbt=[0,.042,.3530999999642372,.6940999999642372,1.01,1.3030999999642372,1.631,1.934,2.227,2.5000999999642373,2.526,2.798,3.1010999999642372,3.3860999999642374,3.6480999999642374,3.678,3.957099999964237,4.221,4.49,4.755,5.038,5.313099999964237,5.566,5.8330999999642374,6.095,6.359099999964237,6.608,6.859099999964237,7.126099999964238,7.372099999964237,7.6310999999642375,7.880099999964237,8.128099999964236,8.367,8.614099999964237,8.855099999964237,9.096,9.342099999964237,9.579,9.823099999964237,10.068099999964238,10.313099999964237,10.536,10.768099999964237,11.014,11.227099999964237,11.463,11.691099999964237,11.921099999964238,12.128,12.355099999964237,12.580099999964236,12.798099999964236,13.019,13.238099999964238,13.462099999964238,13.677,13.880099999964237,14.096,14.31,14.519,14.728,14.931,15.139099999964237,15.343,15.548099999964236,15.746,15.948099999964237,16.141,16.337099999964238,16.524099999964236,16.729,16.923099999964236,17.116099999964238,17.299099999964238,17.488,17.67209999996424,17.863099999964238,18.049099999964238,18.244,18.424099999964238,18.616099999964238,18.789099999964236,18.98009999996424,19.156099999964237,19.34909999996424,19.517099999964238,19.706099999964238,19.882,20.067,20.235099999964238,20.42809999996424,20.462099999964238,20.606099999964236,20.792,20.971,21.175,21.20709999996424,21.28809999996424,21.34,21.392099999964238,21.511099999964237,21.578099999964238,21.682099999964237,21.764099999964237,21.874099999964237,31.437099999964236,38.091099999964236,46.640099999964235,46.66609999996424,47.045099999964236,47.446,47.51609999996424,47.80309999996424,48.151,48.49909999996424,48.858,49.175,49.485099999964234,49.829099999964235,50.14509999996424,50.454099999964235,50.741,50.775,51.08,51.389,51.69109999996424,51.982,52.302099999964234,52.59809999996424,52.891,53.18209999996424,53.481099999964236,53.771,54.046099999964234,54.33409999996424,54.625099999964235,54.902099999964236,55.18109999996424,55.454,55.73609999996424,56.015,56.275,56.543,56.82409999996424,57.08909999996424,57.345,57.609,57.881,58.125,58.381099999964235,58.61409999996424,58.889,59.143,59.385,59.619099999964234,59.68409999996424,60.146099999964235,60.18709999996424,60.375,60.619099999964234,60.87609999996424,61.123,61.36109999996424,61.594,61.848,62.088,62.33,62.553,62.804,63.049099999964234,63.280099999964236,63.513,63.744099999964234,63.981,64.209,64.42909999996424,64.673,64.89909999996424,65.128,65.353,65.568,65.80509999996424,66.02209999996424,66.24609999996424,66.471,66.69509999996424,66.918,67.14309999996424,67.36209999996424,67.58309999996423,67.78609999996424,68.018,68.225,68.43509999996424,68.64909999996424,68.85509999996424,69.055,69.26609999996424,69.46309999996424,69.66509999996424,69.85709999996423,70.07609999996424,70.27,70.47909999996423,70.676,70.87509999996423,71.082,71.28909999996424,71.49109999996423,71.70209999996423,71.89209999996423,72.103,72.29109999996423,72.49809999996424,72.69609999996423,72.90209999996424,73.094,73.30309999996423,73.50209999996424,73.71009999996424,73.90209999996424,74.10609999996424,74.174,74.28309999996424,74.485,74.66409999996424,74.857,75.03609999996424,75.22809999996424,75.25809999996423,75.407,75.594,75.774,75.96309999996424,75.99009999996424,76.13809999996424,76.333,76.50309999996423,76.69,76.865,77.02409999996424,77.04909999996424,77.225,77.386,77.57209999996424,77.75409999996424,77.81109999996424,77.92309999996424,78.09809999996423,78.27609999996423,78.452,78.63609999996423,78.80209999996424,78.84109999996424,78.98309999996424,79.14309999996424,79.325,79.48309999996424,79.55609999996423,79.672,79.82709999996423,79.85409999996423,80.023,80.13109999996423,80.16109999996424,86.589],Obt="tempo-change",Sbt="0.23.4",xbt="2024-11-26T17:04:08.692Z",TT={timeBinSize:_bt,tempoBinSize:Ebt,notes:wbt,_appId:Obt,_softwareVersion:Sbt,_date:xbt},Tbt=2,Ibt=5,Bbt=[0,.265,.538,.8090999999046325,1.081,1.32,1.596,1.853,2.136,2.41,2.677,2.93,3.206,3.472,3.735,4.007,4.259,4.522,4.781,5.056,5.331,5.599,5.834,6.078,6.344,6.613,6.881,7.171,7.426,7.71,7.994,8.26,8.525,8.804,9.061,9.315,9.599,9.872,10.136,10.41,10.673,10.941,11.209,11.466,11.714,11.978099999904632,12.251099999904632,12.524,12.811,13.068,13.279,13.488,13.681,13.873,14.077,14.269,14.468,14.664,14.869,15.070099999904633,15.267,15.484,15.694,15.896,16.099,16.308099999904634,16.513,16.73,16.934,17.32909999990463,17.532,17.756,17.98,18.187,18.399,18.635,18.851,19.077,19.283099999904632,19.475,19.690099999904632,19.902,20.101,20.303,20.508,20.71,20.906,21.110099999904634,21.298,21.494,21.687,21.871,22.066,22.258,22.449,22.647,22.845,23.043,23.247,23.438,23.631,23.821,24.014,24.217,24.415,24.609,24.808,25.007,25.208,25.407,25.603,25.799,25.999,26.19,26.396,26.584,26.784,26.974,27.158,27.338],Rbt="tempo-change",Dbt="2024-09-02T18:50:05.143Z",IT={timeBinSize:Tbt,tempoBinSize:Ibt,notes:Bbt,_appId:Rbt,_date:Dbt},Pbt=5,kbt=5,Lbt=[0,.789,1.575,2.292900000035763,3.075,3.884,4.694,5.462,6.153900000035763,7.002,7.633,8.398,9.228,10.039,10.799900000035763,11.044,11.289900000035763,11.531,11.770900000035763,12.026,12.276,12.527,12.771,13.018,13.261900000035762,13.5,13.749900000035764,13.997900000035763,14.251,14.497900000035763,14.75,14.993,15.242900000035762,15.483,15.737,15.978900000035763,16.230900000035763,16.476900000035762,16.727900000035763,16.976900000035762,17.229,17.481,17.72890000003576,17.975900000035764,18.229900000035762,18.481,18.727900000035763,19.489,20.246,21.037900000035762,21.817,22.610900000035763,23.363,24.152900000035764,24.94990000003576,25.186,25.44,25.67690000003576,25.929,26.18,26.425900000035764,26.477900000035763,26.672,26.91790000003576,27.173,27.415,27.665900000035762,27.92090000003576,28.163,28.406900000035762,28.654,28.9,29.16790000003576,29.410900000035763,29.656,29.913900000035763,30.164,30.408,30.666,30.915,31.156900000035762,31.4,31.64790000003576,31.90390000003576,32.15790000003576,32.406,32.655900000035764,32.912,33.7,34.476,34.509,35.277900000035764,36.034,36.806,37.584,38.36390000003576,39.124,39.886900000035766,40.653,41.423900000035765,42.19,42.963,43.741,44.54190000003576,45.293,45.536900000035764,45.781,46.021,46.266,46.514900000035766,46.765,47.00090000003576,47.24490000003576,47.49,47.72990000003576,47.973,48.211,48.47,48.71190000003576,48.954,49.186,49.435900000035765,49.68390000003576,49.933,50.17290000003576,50.423,50.663,50.91,51.15,51.394,51.643,51.892,52.14,52.379,52.623,52.866,53.113,53.87990000003576,54.634,55.42190000003576,56.19390000003576,56.976,57.737900000035765,58.53590000003576,59.304,60.09990000003576,60.877,61.646,62.409,63.181,63.988,64.75790000003576,65.56,65.795,66.04,66.293,66.52490000003576,66.776,67.01590000003576,67.25290000003577,67.49090000003577,67.73890000003577,67.98990000003576,68.229,68.47490000003576,68.72390000003577,68.977,69.22590000003576,69.46390000003576,69.71490000003577,69.961,70.21,70.43890000003576,70.70190000003576,70.94590000003576,71.197,71.433,71.68190000003577,71.919,72.158,72.413,72.648,72.91,73.159,73.407,73.65090000003576,73.893,74.144,74.39790000003576,74.638,74.888,75.129,75.37690000003576,75.61,75.866,76.10090000003576,76.353,76.60190000003577,76.84190000003576,77.08390000003577,77.32990000003576,77.571,77.816,78.071,78.31990000003576,78.55490000003576,78.799,79.04490000003577,79.294,79.536,79.78690000003576,80.036,80.287,80.52990000003577,80.78390000003576,81.036,81.274,82.03190000003576,82.791,83.59,84.37,85.15390000003576,85.931,86.72990000003577,87.48090000003576,88.26790000003577,89.024,89.80690000003577],Nbt="tempo-change",Fbt="0.23.4",Ubt="2024-11-26T17:01:57.211Z",BT={timeBinSize:Pbt,tempoBinSize:kbt,notes:Lbt,_appId:Nbt,_softwareVersion:Fbt,_date:Ubt};function Jbt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function $bt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function Gbt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function Hbt(e){let t;return{c(){t=te("example")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function Vbt(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b;return n=new T9({props:{onclick:e[16],$$slots:{default:[Jbt]},$$scope:{ctx:e}}}),c=new T9({props:{onclick:e[17],$$slots:{default:[$bt]},$$scope:{ctx:e}}}),p=new T9({props:{onclick:e[18],$$slots:{default:[Gbt]},$$scope:{ctx:e}}}),y=new T9({props:{onclick:e[19],$$slots:{default:[Hbt]},$$scope:{ctx:e}}}),{c(){t=q("p"),i=te(`1) Play at a contant tempo.
                `),Pt(n.$$.fragment),a=K(),o=q("p"),l=te(`2) Increase your tempo as linear as possible
                `),Pt(c.$$.fragment),d=K(),u=q("p"),h=te(`3) Start with tempo 110 and suddenly jump to 150.

                `),Pt(p.$$.fragment),f=K(),M=q("p"),g=te(`4) Switch back and forth between two tempi, try to always hit
                the same two BPM values.
                `),Pt(y.$$.fragment)},m(v,C){bt(v,t,C),B(t,i),Rt(n,t,null),bt(v,a,C),bt(v,o,C),B(o,l),Rt(c,o,null),bt(v,d,C),bt(v,u,C),B(u,h),Rt(p,u,null),bt(v,f,C),bt(v,M,C),B(M,g),Rt(y,M,null),b=!0},p(v,C){const w={};C&16777216&&(w.$$scope={dirty:C,ctx:v}),n.$set(w);const _={};C&16777216&&(_.$$scope={dirty:C,ctx:v}),c.$set(_);const E={};C&16777216&&(E.$$scope={dirty:C,ctx:v}),p.$set(E);const S={};C&16777216&&(S.$$scope={dirty:C,ctx:v}),y.$set(S)},i(v){b||(wt(n.$$.fragment,v),wt(c.$$.fragment,v),wt(p.$$.fragment,v),wt(y.$$.fragment,v),b=!0)},o(v){It(n.$$.fragment,v),It(c.$$.fragment,v),It(p.$$.fragment,v),It(y.$$.fragment,v),b=!1},d(v){v&&(vt(t),vt(a),vt(o),vt(d),vt(u),vt(f),vt(M)),Dt(n),Dt(c),Dt(p),Dt(y)}}}function Qbt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et;function dt(lt){e[11](lt)}let ht={title:"Size of the time bins in seconds",label:"time step",min:1,max:30,step:1,defaultValue:5};e[2]!==void 0&&(ht.value=e[2]),u=new M0({props:ht}),he.push(()=>Ee(u,"value",dt));function st(lt){e[12](lt)}let St={title:"Size of the tempo bins in BPM",label:"tempo step",min:5,max:20,step:5,defaultValue:10};e[3]!==void 0&&(St.value=e[3]),f=new M0({props:St}),he.push(()=>Ee(f,"value",st)),C=new so({props:{tempo:120,accent:4,beepCount:8,showBeepCountInput:!0}});function At(lt){e[14](lt)}let xt={saveToStorage:e[10]};e[4]!==void 0&&(xt.notes=e[4]),_=new c9({props:xt}),he.push(()=>Ee(_,"notes",At)),I=new _9({props:{appId:e[0].id,loadData:e[9]}});function gt(lt){e[15](lt)}let yt={callback:e[7]};return e[4]!==void 0&&(yt.notes=e[4]),k=new Oa({props:yt}),he.push(()=>Ee(k,"notes",gt)),P=new f9({props:{loadData:e[9],getExportData:e[8],appId:e[0].id}}),U=new e9({props:{$$slots:{default:[Vbt]},$$scope:{ctx:e}}}),z=new i9({props:{appId:e[0].id}}),H=new j0({props:{noteOn:e[6],pcKeyAllowed:!0}}),Z=new X9({props:{key:" ",keyDown:e[20]}}),W=new iu({props:{element:e[1],touchStart:e[21]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`This app helps practicing tempo changes. Start playing at one tempo
            then change to another one as accurately as you can. The chart shows
            you the tempo over time, so can see whether you changed correctly. <i>This app assumes tempi between 60 and 180 bpm. Try playing
                without looking!</i>`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),Pt(f.$$.fragment),g=K(),y=q("div"),b=K(),v=q("div"),Pt(C.$$.fragment),w=K(),Pt(_.$$.fragment),S=K(),Pt(I.$$.fragment),T=K(),Pt(k.$$.fragment),N=K(),Pt(P.$$.fragment),F=K(),Pt(U.$$.fragment),V=K(),Pt(z.$$.fragment),G=K(),Pt(H.$$.fragment),J=K(),Pt(Z.$$.fragment),j=K(),Pt(W.$$.fragment),mt(l,"class","explanation"),mt(d,"class","control"),mt(y,"class","visualization"),mt(v,"class","control"),mt(t,"class","app")},m(lt,zt){bt(lt,t,zt),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),Rt(f,d,null),B(t,g),B(t,y),e[13](y),B(t,b),B(t,v),Rt(C,v,null),B(v,w),Rt(_,v,null),B(v,S),Rt(I,v,null),B(v,T),Rt(k,v,null),B(v,N),Rt(P,v,null),B(t,F),Rt(U,t,null),B(t,V),Rt(z,t,null),B(t,G),Rt(H,t,null),B(t,J),Rt(Z,t,null),B(t,j),Rt(W,t,null),et=!0},p(lt,zt){(!et||zt&1)&&n!==(n=lt[0].title+"")&&Qe(a,n);const kt={};!h&&zt&4&&(h=!0,kt.value=lt[2],_e(()=>h=!1)),u.$set(kt);const Jt={};!M&&zt&8&&(M=!0,Jt.value=lt[3],_e(()=>M=!1)),f.$set(Jt);const Gt={};!E&&zt&16&&(E=!0,Gt.notes=lt[4],_e(()=>E=!1)),_.$set(Gt);const ce={};zt&1&&(ce.appId=lt[0].id),I.$set(ce);const ae={};!D&&zt&16&&(D=!0,ae.notes=lt[4],_e(()=>D=!1)),k.$set(ae);const qt={};zt&1&&(qt.appId=lt[0].id),P.$set(qt);const ue={};zt&16777216&&(ue.$$scope={dirty:zt,ctx:lt}),U.$set(ue);const $e={};zt&1&&($e.appId=lt[0].id),z.$set($e);const ve={};zt&2&&(ve.element=lt[1]),W.$set(ve)},i(lt){et||(wt(u.$$.fragment,lt),wt(f.$$.fragment,lt),wt(C.$$.fragment,lt),wt(_.$$.fragment,lt),wt(I.$$.fragment,lt),wt(k.$$.fragment,lt),wt(P.$$.fragment,lt),wt(U.$$.fragment,lt),wt(z.$$.fragment,lt),wt(H.$$.fragment,lt),wt(Z.$$.fragment,lt),wt(W.$$.fragment,lt),et=!0)},o(lt){It(u.$$.fragment,lt),It(f.$$.fragment,lt),It(C.$$.fragment,lt),It(_.$$.fragment,lt),It(I.$$.fragment,lt),It(k.$$.fragment,lt),It(P.$$.fragment,lt),It(U.$$.fragment,lt),It(z.$$.fragment,lt),It(H.$$.fragment,lt),It(Z.$$.fragment,lt),It(W.$$.fragment,lt),et=!1},d(lt){lt&&vt(t),Dt(u),Dt(f),e[13](null),Dt(C),Dt(_),Dt(I),Dt(k),Dt(P),Dt(U),Dt(z),Dt(H),Dt(Z),Dt(W)}}}function zbt(e){let t,i;return t=new m9({props:{loadData:e[9],disabled:e[5],$$slots:{default:[Qbt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,[a]){const o={};a&16777247&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let oM=900,jbt=600;const RT=.025,e6=90;function Wbt(e,t,i){let{appInfo:n}=t,a,o,l=5,c=10,d=[],u;const h=N=>{d.length===0&&(o=N.timestamp);const P=(N.timestamp-o)/1e3;(d.length===0||Math.abs(P-d.at(-1))>RT)&&i(4,d=[...d,P])},p=N=>{const P=[],U=E6().domain([0,N.at(-1)]).thresholds(fi(0,N.at(-1)+l,l))(N);for(const V of U){const G=V.map((W,et)=>et===0?0:W-V[et-1]).filter(W=>W>RT&&W<1.5),H=G.map(W=>{for(W=N9t(W);W>180;)W/=2;for(;W<e6;)W*=2;return W=Math.round(W),W}),Z=E6().domain([e6,180]).thresholds(fi(e6,181,c))(H),j=zy(Z,W=>W.length);for(const[W,et]of Z.entries())et.length>0&&P.push({time0:V.x0,time1:V.x1,tempo0:et.x0,tempo1:et.x1,count:et.length,confidence:et.length/G.length,max:W===j})}return P},f=()=>{i(1,a.textContent="",a);const N=p(d);N.length>0&&N.at(-1).time1;const P=On({width:oM,height:jbt,marginBottom:50,padding:0,x:{label:"time in seconds"},y:{label:"tempo in BPM",grid:!0},color:{label:"confidence",scheme:"Blues",legend:!0,marginLeft:oM*.3,width:oM*.6,type:"sqrt",domain:[0,1]},marks:[AU(N,{x1:"time0",x2:"time1",y1:"tempo0",y2:"tempo1",fill:"confidence",clip:!0,tip:!0,stroke:"max",strokeWidth:1,rx:3,inset:1}),T0(fi(e6,185,30)),q9([d.at(-1)],{opacity:0})]});a.appendChild(P)},M=()=>({timeBinSize:l,tempoBinSize:c,notes:d}),g=N=>{i(2,l=N.timeBinSize),i(3,c=N.tempoBinSize),i(4,d=N.notes)},y=()=>{const N=JSON.stringify(d);d.length>0&&N!==JSON.stringify(IT.notes)&&N!==JSON.stringify(xT.notes)&&N!==JSON.stringify(BT.notes)&&N!==JSON.stringify(TT.notes)&&C9(n.id,M())};$9(f),c0(y);function b(N){l=N,i(2,l)}function v(N){c=N,i(3,c)}function C(N){he[N?"unshift":"push"](()=>{a=N,i(1,a)})}function w(N){d=N,i(4,d)}function _(N){d=N,i(4,d)}const E=()=>g(xT),S=()=>g(TT),I=()=>g(IT),T=()=>g(BT),k=()=>h({timestamp:performance.now()}),D=()=>h({timestamp:performance.now()});return e.$$set=N=>{"appInfo"in N&&i(0,n=N.appInfo)},[n,a,l,c,d,u,h,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D]}class Kbt extends Zi{constructor(t){super(),Yi(this,t,Wbt,zbt,Xi,{appInfo:0})}}const qbt=120,Xbt=0,Ybt=0,Zbt=500,tCt=[0,.224,.4748999999761581,.712,.982,1.238,1.472,1.726899999976158,2.222,2.425,2.67,2.918899999976158,3.191,3.5288999999761583,3.768,4.046,4.327,4.585,4.848,5.068,5.331,5.565899999976158,5.819,6.364899999976158,6.593,6.843,7.0838999999761585,7.366899999976158,7.673899999976158,7.966,8.201,8.472899999976159,8.762,8.895,9.198,9.494,9.715899999976157,9.977,10.497,10.748,10.969,11.241,11.508,11.845,12.11,12.385,12.634,12.943,13.154,13.431,13.699,13.945,14.187,14.802,15.013,15.305899999976159,15.526899999976159,15.845899999976158,16.117899999976157,16.381,16.639,16.91889999997616,17.193899999976157,17.405,17.67,17.947,18.178899999976156,18.444,18.988,19.215,19.50689999997616,19.715,19.97989999997616,20.293,20.595899999976158,20.914899999976157,21.209,21.501,21.75389999997616,21.988,22.284,22.539899999976157,22.763,23.233,23.460899999976156,23.691,23.705,24.171,24.46,24.754,24.975899999976157,25.239,25.50689999997616,25.779,26.03289999997616,26.255,26.478,26.767,27.045899999976157,27.576,27.801,28.07389999997616,28.308,28.604,28.86,29.104,29.344899999976157,29.638899999976157,29.911899999976157,30.23389999997616,30.391899999976157,30.754,31.048,31.306,31.876,32.140899999976156,32.392,32.648,32.921,33.266,33.451,33.805899999976155,34.13,34.38989999997616,34.60589999997616,34.874,35.12,35.355,35.65289999997616,36.23,36.481,36.737,36.974,37.291,37.576899999976156,37.871,38.142,38.451899999976156,38.708,38.919,39.184,39.473,39.72889999997616,39.98689999997616,40.54,40.76489999997616,41.009,41.267,41.56289999997616,41.852,42.088,42.34289999997616,42.61589999997616,42.86,43.149,43.429,43.729,43.954,44.23389999997616,44.794,45.031,45.335,45.545,45.881,46.165,46.44,46.67989999997616,46.95689999997616,46.97089999997616,47.298,47.471,47.821,48.13589999997616,48.373,48.64489999997616,49.23389999997616,49.462,49.751,50.03489999997616,50.312,50.719,50.984,51.256,51.552,51.826,52.111,52.354899999976155,52.616899999976155,52.878,53.134,53.662,53.917,54.21089999997616,54.471,54.776,55.113,55.366,55.621,55.887,55.894,56.427,56.558,56.853,57.152,57.44389999997616,57.673,58.428,58.65989999997616,58.91989999997616,59.13089999997616,59.444,59.782,60.05,60.35,60.59,60.91189999997616,61.134,61.40789999997616,61.677899999976155,61.918,62.18,62.708,62.952,63.206,63.514,63.819,64.152,64.415,64.725,65.014,65.319,65.537,65.83089999997615,66.101,66.31389999997616,66.598,67.11,67.431,67.715,67.987,68.286,68.619,68.87989999997616,69.25389999997616,69.561,69.81,70.11,70.404,70.648,70.954,71.181,71.435,72.06089999997616,72.31,72.521,72.84789999997616,73.12989999997616,73.489,73.71889999997616,73.984,74.164,74.422,74.612,74.84189999997616,75.116,75.325,75.54789999997615,76.00689999997616,76.21789999997615,76.443,76.675,76.886,77.177,77.359,77.627,77.85389999997616,78.12689999997616,78.29789999997615,78.485,78.69589999997616,78.895,79.134,79.556,79.748,79.98889999997616,80.19989999997615,80.42,80.671,80.903,81.09689999997616,81.35789999997615,81.572,81.745,81.92689999997616,82.14789999997616,82.384,82.58,83.026,83.227,83.43089999997616,83.687,83.92789999997616,84.191,84.41889999997616,84.643,84.874,85.11,85.3,85.492,85.74,85.961,86.167,86.619,86.818,87.072,87.368,87.619,87.928,88.17689999997616,88.39989999997616,88.595,88.85289999997616,89.073,89.26689999997616,89.535,89.71689999997616,89.931,90.288,90.525,90.743,91.003,91.24,91.543,91.76389999997616,91.97889999997616,92.226,92.517,92.706,92.962,93.20089999997616,93.438,93.68,94.183,94.39589999997615,94.662,94.87689999997616,95.168,95.5,95.819,96.016,96.25489999997616,96.57989999997616,96.81589999997615,97.08589999997616,97.335,97.551,97.814,98.31789999997616,98.54089999997616,98.82189999997615,99.03789999997616,99.377,99.705,99.99589999997616,100.24189999997616,100.515,100.809,101.081,101.327,101.604,101.834,102.13189999997616,102.672,102.925,103.183,103.42689999997616,103.70589999997615,104.049,104.288,104.563,104.776,105.115,105.385,105.601,105.909,106.112,106.39389999997616,106.945,107.25989999997616,107.594,107.82089999997616,108.101,108.47,108.77,109.083,109.42389999997616,109.762,110.02989999997615,110.45589999997615,110.788,111.074,111.353,111.827,112.078,112.416,112.629,112.942,113.304,113.57589999997616,113.83889999997616,114.094,114.378,114.596,114.866,115.194,115.43789999997615,115.667],eCt="tempo-drift",iCt="0.17.3",nCt="2024-10-23T16:53:41.890Z",DT={tempo:qbt,binNote:Xbt,filterNote:Ybt,barLimit:Zbt,notes:tCt,_appId:eCt,_softwareVersion:iCt,_date:nCt},{window:MJ}=Qc;function rCt(e,t,i){const n=e.slice();return n[30]=t[i],n}function aCt(e,t,i){const n=e.slice();return n[30]=t[i],n}function oCt(e){let t;return{c(){t=q("option"),t.textContent=`1/${e[30]} note`,t.__value=e[30],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function sCt(e){let t,i,n,a=je([16,32,64]),o=[];for(let l=0;l<3;l+=1)o[l]=oCt(aCt(e,a,l));return{c(){t=q("option"),t.textContent="off",i=K();for(let l=0;l<3;l+=1)o[l].c();n=z0(),t.__value=0,qi(t,t.__value)},m(l,c){bt(l,t,c),bt(l,i,c);for(let d=0;d<3;d+=1)o[d]&&o[d].m(l,c);bt(l,n,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n)),Ti(o,l)}}}function lCt(e){let t;return{c(){t=q("option"),t.textContent=`1/${e[30]} note`,t.__value=e[30],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function cCt(e){let t,i,n,a=je(Nh),o=[];for(let l=0;l<a.length;l+=1)o[l]=lCt(rCt(e,a,l));return{c(){t=q("option"),t.textContent="off",i=K();for(let l=0;l<o.length;l+=1)o[l].c();n=z0(),t.__value=0,qi(t,t.__value)},m(l,c){bt(l,t,c),bt(l,i,c);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(l,c);bt(l,n,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n)),Ti(o,l)}}}function uCt(e){let t,i,n,a,o;return{c(){t=q("p"),t.textContent=`1) Choose a tempo and play only quarter notes. After the
                count-in, keep the tempo as constant as possible for a few
                minutes.`,i=K(),n=q("p"),n.textContent=`2) Play a piece/song (that has constant tempo). After the
                count-in, keep the tempo as constant as possible for a few
                minutes.`,a=K(),o=q("p"),o.textContent=`3) Try to play at a given tempo without count-in, just by
                guessing how fast it is supposed to be played. You can use the
                randomize tempo button () to get challenged for a random tempo.`},m(l,c){bt(l,t,c),bt(l,i,c),bt(l,n,c),bt(l,a,c),bt(l,o,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n),vt(a),vt(o))}}}function dCt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt;function ue(Et){e[16](Et)}let $e={};e[3]!==void 0&&($e.value=e[3]),u=new Vr({props:$e}),he.push(()=>Ee(u,"value",ue));function ve(Et){e[18](Et)}let He={label:"rounding",title:"You can change between seeing exact bar heights and binned (rounded) heights.",$$slots:{default:[sCt]},$$scope:{ctx:e}};e[4]!==void 0&&(He.value=e[4]),g=new t9({props:He}),he.push(()=>Ee(g,"value",ve));function qe(Et){e[19](Et)}let ri={label:"filtering",title:"You can filter out notes that are shorter than a given note duration.",$$slots:{default:[cCt]},$$scope:{ctx:e}};e[5]!==void 0&&(ri.value=e[5]),v=new t9({props:ri}),he.push(()=>Ee(v,"value",qe));function oi(Et){e[20](Et)}let oe={title:"The number of most recent notes that are shown as bars.",label:"bars",step:25,min:25,max:1e3};e[6]!==void 0&&(oe.value=e[6]),E=new M0({props:oe}),he.push(()=>Ee(E,"value",oi));function fe(Et){e[21](Et)}let pe={label:UA+" line",title:"Show a line for the (likely) eighth notes' duration over time."};e[7]!==void 0&&(pe.checked=e[7]),T=new zn({props:pe}),he.push(()=>Ee(T,"checked",fe)),U=new so({props:{tempo:e[3],accent:4,beepCount:8,showBeepCountInput:!0}});function Ot(Et){e[23](Et)}let _t={saveToStorage:e[14]};e[8]!==void 0&&(_t.notes=e[8]),z=new c9({props:_t}),he.push(()=>Ee(z,"notes",Ot)),j=new _9({props:{appId:e[0].id,loadData:e[13]}});function Ht(Et){e[25](Et)}let Tt={callback:e[11],allowSound:!1};return e[8]!==void 0&&(Tt.notes=e[8]),et=new Oa({props:Tt}),he.push(()=>Ee(et,"notes",Ht)),st=new f9({props:{loadData:e[13],getExportData:e[12],appId:e[0].id}}),At=new e9({props:{$$slots:{default:[uCt]},$$scope:{ctx:e}}}),gt=new i9({props:{appId:e[0].id}}),lt=new j0({props:{noteOn:e[10],pcKeyAllowed:!0}}),kt=new X9({props:{key:" ",keyDown:e[26]}}),Gt=new iu({props:{element:e[2],touchStart:e[27]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.innerHTML=`This app helps practicing keeping a constant tempo. Choose your
            tempo, activate the metronome, and start playing. Once the metronome
            stops, try to keep a constant tempo as long as possible. The time
            between two note onsets will be shown as a bar, so you can see how
            well you still hit, for example, quarter notes after playing for
            some time. Bar heights are either exact or rounded to a certain
            duration precision for a clearer overview when monitoring live. You
            can filter very short inter-note times, which happen when playing
            two notes at roughly the same time, for example in a chord.
            <i>Try playing without looking, so you don&#39;t correct based on what
                you see!</i>`,c=K(),d=q("div"),Pt(u.$$.fragment),p=K(),f=q("button"),f.textContent="",M=K(),Pt(g.$$.fragment),b=K(),Pt(v.$$.fragment),w=K(),_=q("div"),Pt(E.$$.fragment),I=K(),Pt(T.$$.fragment),D=K(),N=q("div"),P=K(),F=q("div"),Pt(U.$$.fragment),V=K(),Pt(z.$$.fragment),H=K(),J=q("button"),J.textContent="example",Z=K(),Pt(j.$$.fragment),W=K(),Pt(et.$$.fragment),ht=K(),Pt(st.$$.fragment),St=K(),Pt(At.$$.fragment),xt=K(),Pt(gt.$$.fragment),yt=K(),Pt(lt.$$.fragment),zt=K(),Pt(kt.$$.fragment),Jt=K(),Pt(Gt.$$.fragment),mt(l,"class","explanation"),mt(f,"title","randomize tempo"),mt(d,"class","control"),mt(_,"class","control"),mt(N,"class","visualization"),mt(F,"class","control"),mt(t,"class","app")},m(Et,Lt){bt(Et,t,Lt),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),Rt(u,d,null),B(d,p),B(d,f),B(d,M),Rt(g,d,null),B(d,b),Rt(v,d,null),B(t,w),B(t,_),Rt(E,_,null),B(_,I),Rt(T,_,null),B(t,D),B(t,N),e[22](N),B(t,P),B(t,F),Rt(U,F,null),B(F,V),Rt(z,F,null),B(F,H),B(F,J),B(F,Z),Rt(j,F,null),B(F,W),Rt(et,F,null),B(F,ht),Rt(st,F,null),B(t,St),Rt(At,t,null),B(t,xt),Rt(gt,t,null),B(t,yt),Rt(lt,t,null),B(t,zt),Rt(kt,t,null),B(t,Jt),Rt(Gt,t,null),ce=!0,ae||(qt=[ze(f,"click",e[17]),ze(J,"click",e[24])],ae=!0)},p(Et,Lt){(!ce||Lt[0]&1)&&n!==(n=Et[0].title+"")&&Qe(a,n);const ut={};!h&&Lt[0]&8&&(h=!0,ut.value=Et[3],_e(()=>h=!1)),u.$set(ut);const X={};Lt[1]&16&&(X.$$scope={dirty:Lt,ctx:Et}),!y&&Lt[0]&16&&(y=!0,X.value=Et[4],_e(()=>y=!1)),g.$set(X);const tt={};Lt[1]&16&&(tt.$$scope={dirty:Lt,ctx:Et}),!C&&Lt[0]&32&&(C=!0,tt.value=Et[5],_e(()=>C=!1)),v.$set(tt);const Bt={};!S&&Lt[0]&64&&(S=!0,Bt.value=Et[6],_e(()=>S=!1)),E.$set(Bt);const Qt={};!k&&Lt[0]&128&&(k=!0,Qt.checked=Et[7],_e(()=>k=!1)),T.$set(Qt);const jt={};Lt[0]&8&&(jt.tempo=Et[3]),U.$set(jt);const ne={};!G&&Lt[0]&256&&(G=!0,ne.notes=Et[8],_e(()=>G=!1)),z.$set(ne);const se={};Lt[0]&1&&(se.appId=Et[0].id),j.$set(se);const Be={};!dt&&Lt[0]&256&&(dt=!0,Be.notes=Et[8],_e(()=>dt=!1)),et.$set(Be);const we={};Lt[0]&1&&(we.appId=Et[0].id),st.$set(we);const Ne={};Lt[1]&16&&(Ne.$$scope={dirty:Lt,ctx:Et}),At.$set(Ne);const li={};Lt[0]&1&&(li.appId=Et[0].id),gt.$set(li);const zi={};Lt[0]&4&&(zi.element=Et[2]),Gt.$set(zi)},i(Et){ce||(wt(u.$$.fragment,Et),wt(g.$$.fragment,Et),wt(v.$$.fragment,Et),wt(E.$$.fragment,Et),wt(T.$$.fragment,Et),wt(U.$$.fragment,Et),wt(z.$$.fragment,Et),wt(j.$$.fragment,Et),wt(et.$$.fragment,Et),wt(st.$$.fragment,Et),wt(At.$$.fragment,Et),wt(gt.$$.fragment,Et),wt(lt.$$.fragment,Et),wt(kt.$$.fragment,Et),wt(Gt.$$.fragment,Et),ce=!0)},o(Et){It(u.$$.fragment,Et),It(g.$$.fragment,Et),It(v.$$.fragment,Et),It(E.$$.fragment,Et),It(T.$$.fragment,Et),It(U.$$.fragment,Et),It(z.$$.fragment,Et),It(j.$$.fragment,Et),It(et.$$.fragment,Et),It(st.$$.fragment,Et),It(At.$$.fragment,Et),It(gt.$$.fragment,Et),It(lt.$$.fragment,Et),It(kt.$$.fragment,Et),It(Gt.$$.fragment,Et),ce=!1},d(Et){Et&&vt(t),Dt(u),Dt(g),Dt(v),Dt(E),Dt(T),e[22](null),Dt(U),Dt(z),Dt(j),Dt(et),Dt(st),Dt(At),Dt(gt),Dt(lt),Dt(kt),Dt(Gt),ae=!1,t0(qt)}}}function hCt(e){let t,i,n,a;return J9(e[15]),t=new m9({props:{loadData:e[13],disabled:e[9],$$slots:{default:[dCt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(o,l){Rt(t,o,l),i=!0,n||(a=ze(MJ,"resize",e[15]),n=!0)},p(o,l){const c={};l[0]&509|l[1]&16&&(c.$$scope={dirty:l,ctx:o}),t.$set(c)},i(o){i||(wt(t.$$.fragment,o),i=!0)},o(o){It(t.$$.fragment,o),i=!1},d(o){Dt(t,o),n=!1,a()}}}let fCt=400;function mCt(e,t,i){let n,{appInfo:a}=t,o=window.innerWidth,l,c=120,d=0,u=64,h=100,p=!1,f=0,M=[],g;const y=G=>{M.length===0&&(f=G.timestamp);const H=(G.timestamp-f)/1e3;i(8,M=[...M,H])},b=()=>{const G=Q0(c),H=G/4,J=G/2,Z=G*2,j=G*4,W=[0,H,J,J*1.5,G,G*1.5,Z,Z*1.5],et=["0","","",".","",".","","."];let dt=M.map((gt,yt)=>yt===0?0:gt-M[yt-1]);if(u!==0){const gt=j/u;dt=dt.filter(yt=>yt>=gt)}let ht=dt;if(d!==0){const gt=j/d;ht=dt.map(yt=>Math.round(yt/gt)*gt)}const st=ht.slice(-h),At=st.map((gt,yt)=>({index:yt,duration:gt})).filter(gt=>gt.duration>.75*J&&gt.duration<1.25*J),xt=On({width:n,height:fCt,marginLeft:45,marginRight:1,style:'font-size: 24px; font-family: Inter, "Noto Symbols", "Noto Symbols 2", "Noto Music", sans-serif',x:{axis:!1},y:{label:null,ticks:W,tickFormat:gt=>{const yt=W.indexOf(gt);return et[yt]},domain:[0,Z*1.1],tickSize:0},marks:[C1(st,{x:(gt,yt)=>yt,y:gt=>gt,fill:"#ddd",inset:0,dx:.5,ry1:4}),T0(W,{stroke:"#aaa"}),p?Y2t(At,aft({k:20,anchor:"middle"},{x:"index",y:"duration",strokeWidth:2})):null]});i(2,l.textContent="",l),l.appendChild(xt)},v=()=>({tempo:c,binNote:d,filterNote:u,barLimit:h,showEighthLine:p,notes:M}),C=G=>{w(),i(3,c=G.tempo),i(4,d=G.binNote??"off"),i(5,u=G.filterNote??"off"),i(6,h=G.barLimit),i(7,p=G.showEighthLine??!1),i(8,M=G.notes)},w=()=>{M.length>0&&JSON.stringify(M)!==JSON.stringify(DT.notes)&&C9(a.id,v())};$9(b),c0(w);function _(){i(1,o=MJ.innerWidth)}function E(G){c=G,i(3,c)}const S=()=>{let G=c;for(;G===c;)G=Math.round(Math.random()*12+6)*10;i(3,c=G)};function I(G){d=G,i(4,d)}function T(G){u=G,i(5,u)}function k(G){h=G,i(6,h)}function D(G){p=G,i(7,p)}function N(G){he[G?"unshift":"push"](()=>{l=G,i(2,l)})}function P(G){M=G,i(8,M)}const F=()=>C(DT);function U(G){M=G,i(8,M)}const V=()=>y({timestamp:performance.now()}),z=()=>y({timestamp:performance.now()});return e.$$set=G=>{"appInfo"in G&&i(0,a=G.appInfo)},e.$$.update=()=>{e.$$.dirty[0]&2&&(n=o<1200?900:Math.floor(o-200))},[a,o,l,c,d,u,h,p,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z]}class pCt extends Zi{constructor(t){super(),Yi(this,t,mCt,hCt,Xi,{appInfo:0},null,[-1,-1])}}var bc,Ud,Vf,Cc,_c,Qf,pl,Jd,Qu,As,gl,zu,Ho,$d,vs,Ml;class gCt{constructor(){Dn(this,bc,null);Dn(this,Ud,null);Dn(this,Vf,1);Dn(this,Cc,null);Dn(this,_c,!1);Dn(this,Qf,!1);In(this,"currentPlayTime",null);Dn(this,pl,new AudioContext);Dn(this,Jd,null);Dn(this,Qu,null);Dn(this,As,0);Dn(this,gl,-1);Dn(this,zu,[]);Dn(this,Ho,[]);Dn(this,$d,null);Dn(this,vs,!1);Dn(this,Ml,!1);In(this,"onTimeChange",t=>(En(this,bc,t),this));In(this,"onStop",t=>(En(this,Ud,t),this));In(this,"setVolume",t=>(En(this,Vf,t),this));In(this,"setLogging",t=>(En(this,Qf,t),this));In(this,"isPlaying",()=>Ke(this,vs));In(this,"isPaused",()=>Ke(this,Ml));In(this,"playNotes",(t,i=0,n=-1,a=1,o=!1)=>{if(Ke(this,vs)&&!Ke(this,Ml)&&!Ke(this,_c)&&this.stop(),!t||t.length===0){console.warn("[PLAYER] Was called with no data");return}En(this,zu,[...t]);let l=new Nu(t).sortByTime();En(this,$d,l.getDuration()),i>0&&(l=l.filter(c=>c.start>=i).shiftTime(-i),console.log(`[Player] Will start at ${i.toFixed(2)} seconds with ${l.length()} notes left`)),a!==1&&a>0&&(l=l.scaleTime(1/a),En(this,$d,Ke(this,$d)/a)),t=l.getNotes(),console.log(`[Player] Playing ${t.length} notes, speed ${a}, and volume ${Ke(this,Vf)}`),Ke(this,pl).state==="suspended"&&Ke(this,pl).resume(),En(this,As,i),En(this,gl,n),En(this,Cc,a),En(this,_c,o),En(this,Ho,[...t]),this._start()});In(this,"_start",()=>{console.log("[Player] Starting"),En(this,vs,!0),En(this,Ml,!1),En(this,Qu,Ke(this,pl).currentTime),this._scheduler()});In(this,"_updateTime",t=>{const i=(t-Ke(this,Qu))*Ke(this,Cc)+Ke(this,As);this.currentPlayTime=i,Ke(this,bc)&&Ke(this,bc).call(this,i)});In(this,"_playNote",(t,i)=>{const n=t.getDuration();Ke(this,Qf)&&console.log(`[Player] Playing ${t.getName()} for ${n}s`);const a=Ke(this,pl).createOscillator();a.connect(Ke(this,pl).destination);const o=Rs[t.pitch].frequency;a.frequency.value=o,a.start(i),a.stop(i+n)});In(this,"_scheduler",()=>{const n=Ke(this,pl).currentTime;this._updateTime(n);const a=(Ke(this,gl)-Ke(this,As))/Ke(this,Cc)+Ke(this,As);for(;Ke(this,Ho).length>0;){const l=Ke(this,Qu)+Ke(this,Ho)[0].start;if(l>n+.1||Ke(this,gl)!==-1&&Ke(this,Ho)[0].start+Ke(this,As)>=a)break;const c=Ke(this,Ho).shift();this._playNote(c,l)}const o=n-Ke(this,Qu)+Ke(this,As);Ke(this,gl)!==-1&&o>=a?this._stopOrLoop():o>=Ke(this,$d)?this._stopOrLoop():En(this,Jd,setTimeout(this._scheduler,33))});In(this,"_stopOrLoop",()=>{Ke(this,_c)?this.playNotes(Ke(this,zu),Ke(this,As),Ke(this,gl),Ke(this,Cc),Ke(this,_c)):this.stop()});In(this,"stop",(t=!0)=>{if(Ke(this,vs))return console.log("[Player] Stopping player"),clearTimeout(Ke(this,Jd)),this.currentPlayTime=null,En(this,vs,!1),En(this,Ml,!1),En(this,zu,[]),En(this,Ho,[]),Ke(this,bc)&&Ke(this,bc).call(this,null),t&&Ke(this,Ud)&&Ke(this,Ud).call(this),this});In(this,"pause",()=>(console.log("[Player] Pausing player"),clearTimeout(Ke(this,Jd)),En(this,Ml,!0),this));In(this,"resume",()=>{if(console.log("[Player] Resuming player"),!Ke(this,Ho)||Ke(this,Ho).length===0){console.warn("[Player] Cannot resume player since it has not been started!");return}return this.playNotes(Ke(this,zu),this.currentPlayTime,Ke(this,gl),Ke(this,Cc),Ke(this,_c)),this});In(this,"pauseOrResume",()=>{if(!Ke(this,vs)){console.warn("[Player] Cannot pause / resume when player is not playing!");return}return Ke(this,Ml)?this.resume():this.pause(),this})}toggle(t,i=0,n=-1,a=1,o=!1){Ke(this,vs)?this.stop():this.playNotes(t,i,n,a,o)}}bc=new WeakMap,Ud=new WeakMap,Vf=new WeakMap,Cc=new WeakMap,_c=new WeakMap,Qf=new WeakMap,pl=new WeakMap,Jd=new WeakMap,Qu=new WeakMap,As=new WeakMap,gl=new WeakMap,zu=new WeakMap,Ho=new WeakMap,$d=new WeakMap,vs=new WeakMap,Ml=new WeakMap;function MCt(e){let t,i,n;return{c(){t=q("button"),t.textContent="play rhythm",mt(t,"title","Play the current rhythm grid")},m(a,o){bt(a,t,o),i||(n=ze(t,"click",e[7]),i=!0)},p:We,i:We,o:We,d(a){a&&vt(t),i=!1,n()}}}function yCt(e,t,i){let n,{notes:a=[]}=t,{startAt:o=0}=t,{endAt:l=-1}=t,{speed:c=1}=t,{loop:d=!1}=t;const u=new gCt;c0(()=>{u.stop()});const h=()=>{u.toggle(n,o,l,c,d)};return e.$$set=p=>{"notes"in p&&i(6,a=p.notes),"startAt"in p&&i(0,o=p.startAt),"endAt"in p&&i(1,l=p.endAt),"speed"in p&&i(2,c=p.speed),"loop"in p&&i(3,d=p.loop)},e.$$.update=()=>{e.$$.dirty&64&&i(4,n=a.map(p=>({pitch:p.number,start:p.time,duration:p.duration??.075,velocity:127})))},[o,l,c,d,n,u,a,h]}class ACt extends Zi{constructor(t){super(),Yi(this,t,yCt,MCt,Xi,{notes:6,startAt:0,endAt:1,speed:2,loop:3})}}const vCt=60,bCt="4:3",CCt="4:2",_Ct=48,ECt=0,wCt=6,OCt=[{time:76.091,number:74},{time:76.353,number:74},{time:76.678,number:74},{time:77.019,number:74},{time:77.34609999999962,number:74},{time:77.663,number:74},{time:78.011,number:74},{time:78.33609999999963,number:74},{time:78.662,number:74},{time:79.00009999999963,number:74},{time:79.356,number:74},{time:79.708,number:74},{time:80.073,number:74},{time:84.018,number:59},{time:84.302,number:59},{time:84.645,number:59},{time:85.002,number:59},{time:85.315,number:59},{time:85.61509999999963,number:59},{time:85.987,number:59},{time:86.343,number:59},{time:86.624,number:59},{time:86.99309999999963,number:59},{time:87.358,number:59},{time:87.65909999999963,number:59},{time:87.989,number:59},{time:88.3,number:59},{time:88.64309999999963,number:59},{time:88.966,number:59},{time:89.299,number:59},{time:89.618,number:59},{time:90.00409999999962,number:59},{time:90.345,number:59},{time:90.635,number:59},{time:90.992,number:59},{time:91.328,number:59},{time:91.66,number:59},{time:92.027,number:59},{time:92.421,number:74},{time:93.034,number:74},{time:93.458,number:74},{time:93.88209999999962,number:74},{time:94.41309999999963,number:74},{time:94.96709999999963,number:74},{time:95.531,number:74},{time:96.016,number:74},{time:96.49,number:74},{time:97.007,number:74},{time:97.51609999999962,number:74},{time:98.023,number:74},{time:98.527,number:74},{time:99.033,number:74},{time:99.538,number:74},{time:100,number:74},{time:100.506,number:74},{time:101.006,number:74},{time:101.517,number:74},{time:101.988,number:74},{time:102.495,number:74},{time:103.001,number:74},{time:103.497,number:74},{time:103.975,number:74}],SCt="two-handed-timing",xCt="0.13.3",TCt="2024-09-12T14:48:10.466Z",PT={tempo:vCt,gridLeft:bCt,gridRight:CCt,binNote:_Ct,adjustTime:ECt,pastBars:wCt,notes:OCt,_appId:SCt,_softwareVersion:xCt,_date:TCt};function ICt(e,t,i){const n=e.slice();return n[37]=t[i],n}function BCt(e,t,i){const n=e.slice();return n[37]=t[i],n}function RCt(e,t,i){const n=e.slice();return n[37]=t[i],n}function DCt(e){let t;return{c(){t=q("option"),t.textContent=`${e[37].label}`,t.__value=e[37].divisions,qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function PCt(e){let t,i=je(Do),n=[];for(let a=0;a<i.length;a+=1)n[a]=DCt(RCt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function kCt(e){let t;return{c(){t=q("option"),t.textContent=`${e[37].label}`,t.__value=e[37].divisions,qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function LCt(e){let t,i=je(Do),n=[];for(let a=0;a<i.length;a+=1)n[a]=kCt(BCt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function NCt(e){let t;return{c(){t=q("option"),t.textContent=`1/${e[37]} note`,t.__value=e[37],qi(t,t.__value)},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function FCt(e){let t,i=je(Nh),n=[];for(let a=0;a<i.length;a+=1)n[a]=NCt(ICt(e,i,a));return{c(){for(let a=0;a<n.length;a+=1)n[a].c();t=z0()},m(a,o){for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(a,o);bt(a,t,o)},p:We,d(a){a&&vt(t),Ti(n,a)}}}function UCt(e){let t,i,n;return{c(){t=q("p"),t.innerHTML=`1) Only single notes. Play triplets with your right and eighths
                with your left hand.
                <i>Try playing without looking, focus on the metronome.</i>`,i=K(),n=q("p"),n.textContent=`2) Play the same rhythm as in 1) but using different notes, to
                form a melody.`},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function JCt(e){let t,i,n=e[0].title+"",a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H=e[9]?"density area":"histogram",J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt,ue,$e,ve,He,qe,ri,oi,oe,fe,pe,Ot,_t,Ht,Tt;function Et(ke){e[19](ke)}let Lt={};e[3]!==void 0&&(Lt.value=e[3]),p=new Vr({props:Lt}),he.push(()=>Ee(p,"value",Et));function ut(ke){e[20](ke)}let X={label:"drum mode",title:"Toggle between piano keyboard and drum mode"};e[8]!==void 0&&(X.checked=e[8]),g=new zn({props:X}),he.push(()=>Ee(g,"checked",ut));function tt(ke){e[21](ke)}let Bt={label:"grid left",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",$$slots:{default:[PCt]},$$scope:{ctx:e}};e[4]!==void 0&&(Bt.value=e[4]),v=new t9({props:Bt}),he.push(()=>Ee(v,"value",tt));function Qt(ke){e[22](ke)}let jt={label:"right",title:"The whole width is one bar, you can choose to divide it by 3 or 4 quarter notes and then further sub-divide it into, for example, triplets",$$slots:{default:[LCt]},$$scope:{ctx:e}};e[5]!==void 0&&(jt.value=e[5]),_=new t9({props:jt}),he.push(()=>Ee(_,"value",Qt));function ne(ke){e[23](ke)}let se={label:"binning",title:"The width of each bar in rhythmic units. For example, each bin could be a 32nd note wide.",$$slots:{default:[FCt]},$$scope:{ctx:e}};e[6]!==void 0&&(se.value=e[6]),T=new t9({props:se}),he.push(()=>Ee(T,"value",ne));function Be(ke){e[24](ke)}let we={tempo:e[3],grid:e[4],notes:e[11].map(NT)};e[7]!==void 0&&(we.adjustTime=e[7]),N=new H3({props:we}),he.push(()=>Ee(N,"adjustTime",Be));function Ne(ke){e[25](ke)}let li={title:"The number of past bars to be shown. Allows to 'forget' mistakes in the beginning.",label:"bars",min:1,max:100};e[10]!==void 0&&(li.value=e[10]),U=new M0({props:li}),he.push(()=>Ee(U,"value",Ne)),st=new so({props:{tempo:e[3],accent:+e[4].split(":")[0]}}),At=new ACt({props:{notes:e[18](e[4],e[5],e[3])}});function zi(ke){e[29](ke)}let Ve={saveToStorage:e[17]};e[11]!==void 0&&(Ve.notes=e[11]),gt=new c9({props:Ve}),he.push(()=>Ee(gt,"notes",zi)),Jt=new _9({props:{appId:e[0].id,loadData:e[16]}});function ji(ke){e[31](ke)}let Ge={callback:e[14]};return e[11]!==void 0&&(Ge.notes=e[11]),ce=new Oa({props:Ge}),he.push(()=>Ee(ce,"notes",ji)),ue=new f9({props:{loadData:e[16],getExportData:e[15],appId:e[0].id}}),ve=new e9({props:{$$slots:{default:[UCt]},$$scope:{ctx:e}}}),qe=new i9({props:{appId:e[0].id}}),oi=new X9({props:{key:"f",keyDown:e[32]}}),fe=new X9({props:{key:"j",keyDown:e[33]}}),Ot=new j0({props:{noteOn:e[13]}}),{c(){t=q("main"),i=q("h2"),a=te(n),o=K(),l=q("p"),l.textContent=`This app helps practicing beat sub-divisions such as eighths or
            triplets on a piano or drum. You can choose a different sub-division
            for each hand. The chart will show you how a summary of where your
            notes started, the top one is for your right hand and the bottom one
            for your left hand.`,c=K(),d=q("p"),d.innerHTML=`<b>Keyboard mode:</b> Left hand plays keys left of the middle A,
            right hand others.
            <b>Drum mode:</b> Left hand plays snare, right hand any other drum.
            <b>PC keyboard:</b> <code>f</code>
            for left and <code>j</code> for right.`,u=K(),h=q("div"),Pt(p.$$.fragment),M=K(),Pt(g.$$.fragment),b=K(),Pt(v.$$.fragment),w=K(),Pt(_.$$.fragment),S=K(),I=q("div"),Pt(T.$$.fragment),D=K(),Pt(N.$$.fragment),F=K(),Pt(U.$$.fragment),z=K(),G=q("button"),J=te(H),Z=K(),j=q("div"),W=K(),et=q("div"),dt=K(),ht=q("div"),Pt(st.$$.fragment),St=K(),Pt(At.$$.fragment),xt=K(),Pt(gt.$$.fragment),lt=K(),zt=q("button"),zt.textContent="example",kt=K(),Pt(Jt.$$.fragment),Gt=K(),Pt(ce.$$.fragment),qt=K(),Pt(ue.$$.fragment),$e=K(),Pt(ve.$$.fragment),He=K(),Pt(qe.$$.fragment),ri=K(),Pt(oi.$$.fragment),oe=K(),Pt(fe.$$.fragment),pe=K(),Pt(Ot.$$.fragment),mt(l,"class","explanation"),mt(d,"class","explanation"),mt(h,"class","control"),mt(G,"title","Toggle between an area chart and a histogram of the note density"),sn(G,"width","120px"),mt(I,"class","control"),mt(j,"class","visualization"),mt(et,"class","visualization"),mt(ht,"class","control"),mt(t,"class","app")},m(ke,Di){bt(ke,t,Di),B(t,i),B(i,a),B(t,o),B(t,l),B(t,c),B(t,d),B(t,u),B(t,h),Rt(p,h,null),B(h,M),Rt(g,h,null),B(h,b),Rt(v,h,null),B(h,w),Rt(_,h,null),B(t,S),B(t,I),Rt(T,I,null),B(I,D),Rt(N,I,null),B(I,F),Rt(U,I,null),B(I,z),B(I,G),B(G,J),B(t,Z),B(t,j),e[27](j),B(t,W),B(t,et),e[28](et),B(t,dt),B(t,ht),Rt(st,ht,null),B(ht,St),Rt(At,ht,null),B(ht,xt),Rt(gt,ht,null),B(ht,lt),B(ht,zt),B(ht,kt),Rt(Jt,ht,null),B(ht,Gt),Rt(ce,ht,null),B(ht,qt),Rt(ue,ht,null),B(t,$e),Rt(ve,t,null),B(t,He),Rt(qe,t,null),B(t,ri),Rt(oi,t,null),B(t,oe),Rt(fe,t,null),B(t,pe),Rt(Ot,t,null),_t=!0,Ht||(Tt=[ze(G,"click",e[26]),ze(zt,"click",e[30])],Ht=!0)},p(ke,Di){(!_t||Di[0]&1)&&n!==(n=ke[0].title+"")&&Qe(a,n);const ni={};!f&&Di[0]&8&&(f=!0,ni.value=ke[3],_e(()=>f=!1)),p.$set(ni);const Tn={};!y&&Di[0]&256&&(y=!0,Tn.checked=ke[8],_e(()=>y=!1)),g.$set(Tn);const Le={};Di[1]&8192&&(Le.$$scope={dirty:Di,ctx:ke}),!C&&Di[0]&16&&(C=!0,Le.value=ke[4],_e(()=>C=!1)),v.$set(Le);const yn={};Di[1]&8192&&(yn.$$scope={dirty:Di,ctx:ke}),!E&&Di[0]&32&&(E=!0,yn.value=ke[5],_e(()=>E=!1)),_.$set(yn);const I0={};Di[1]&8192&&(I0.$$scope={dirty:Di,ctx:ke}),!k&&Di[0]&64&&(k=!0,I0.value=ke[6],_e(()=>k=!1)),T.$set(I0);const Gn={};Di[0]&8&&(Gn.tempo=ke[3]),Di[0]&16&&(Gn.grid=ke[4]),Di[0]&2048&&(Gn.notes=ke[11].map(NT)),!P&&Di[0]&128&&(P=!0,Gn.adjustTime=ke[7],_e(()=>P=!1)),N.$set(Gn);const ai={};!V&&Di[0]&1024&&(V=!0,ai.value=ke[10],_e(()=>V=!1)),U.$set(ai),(!_t||Di[0]&512)&&H!==(H=ke[9]?"density area":"histogram")&&Qe(J,H);const Hi={};Di[0]&8&&(Hi.tempo=ke[3]),Di[0]&16&&(Hi.accent=+ke[4].split(":")[0]),st.$set(Hi);const f0={};Di[0]&56&&(f0.notes=ke[18](ke[4],ke[5],ke[3])),At.$set(f0);const _i={};!yt&&Di[0]&2048&&(yt=!0,_i.notes=ke[11],_e(()=>yt=!1)),gt.$set(_i);const dn={};Di[0]&1&&(dn.appId=ke[0].id),Jt.$set(dn);const n9={};!ae&&Di[0]&2048&&(ae=!0,n9.notes=ke[11],_e(()=>ae=!1)),ce.$set(n9);const k0={};Di[0]&1&&(k0.appId=ke[0].id),ue.$set(k0);const Xt={};Di[1]&8192&&(Xt.$$scope={dirty:Di,ctx:ke}),ve.$set(Xt);const le={};Di[0]&1&&(le.appId=ke[0].id),qe.$set(le)},i(ke){_t||(wt(p.$$.fragment,ke),wt(g.$$.fragment,ke),wt(v.$$.fragment,ke),wt(_.$$.fragment,ke),wt(T.$$.fragment,ke),wt(N.$$.fragment,ke),wt(U.$$.fragment,ke),wt(st.$$.fragment,ke),wt(At.$$.fragment,ke),wt(gt.$$.fragment,ke),wt(Jt.$$.fragment,ke),wt(ce.$$.fragment,ke),wt(ue.$$.fragment,ke),wt(ve.$$.fragment,ke),wt(qe.$$.fragment,ke),wt(oi.$$.fragment,ke),wt(fe.$$.fragment,ke),wt(Ot.$$.fragment,ke),_t=!0)},o(ke){It(p.$$.fragment,ke),It(g.$$.fragment,ke),It(v.$$.fragment,ke),It(_.$$.fragment,ke),It(T.$$.fragment,ke),It(N.$$.fragment,ke),It(U.$$.fragment,ke),It(st.$$.fragment,ke),It(At.$$.fragment,ke),It(gt.$$.fragment,ke),It(Jt.$$.fragment,ke),It(ce.$$.fragment,ke),It(ue.$$.fragment,ke),It(ve.$$.fragment,ke),It(qe.$$.fragment,ke),It(oi.$$.fragment,ke),It(fe.$$.fragment,ke),It(Ot.$$.fragment,ke),_t=!1},d(ke){ke&&vt(t),Dt(p),Dt(g),Dt(v),Dt(_),Dt(T),Dt(N),Dt(U),e[27](null),e[28](null),Dt(st),Dt(At),Dt(gt),Dt(Jt),Dt(ce),Dt(ue),Dt(ve),Dt(qe),Dt(oi),Dt(fe),Dt(Ot),Ht=!1,t0(Tt)}}}function $Ct(e){let t,i;return t=new m9({props:{loadData:e[16],disabled:e[12],$$slots:{default:[JCt]},$$scope:{ctx:e}}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,a){const o={};a[0]&4095|a[1]&8192&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}let kT=900,LT=69;const NT=e=>e.time;function GCt(e,t,i){let{appInfo:n}=t,a,o,l=60,c=Do[0].divisions,d=Do[1].divisions,u=96,h=0,p=!1;const f=new Set([38,40]);let M=!0,g=4,y=0,b=[],v;const C=dt=>{b.length===0&&(y=dt.timestamp);const st={time:(dt.timestamp-y)/1e3,number:dt.note.number,velocity:dt.rawVelocity};i(11,b=[...b,st])},w=(dt=!0)=>{const ht=dt?c:d,[st,St]=ht.split(":").map(Jt=>+Jt),At=Q0(l);let xt;if(p?xt=b.filter(Jt=>dt&&f.has(Jt.number)||!dt&&!f.has(Jt.number)):xt=b.filter(Jt=>dt&&Jt.number<LT||!dt&&Jt.number>=LT),xt=xt.map(Jt=>(Jt.time+h)/At),g>0&&xt.length>0){const Jt=(b.at(-1).time+h)/At,Gt=Math.ceil(Jt/st);xt=xt.filter(ce=>ce/st>=Gt-g)}xt=xt.map(Jt=>Jt%st);let gt=[];if(xt.length>0){let Jt=4/u,Gt=1,ce=Math.floor(kT/2);gt=G3(xt,{bandwidth:Jt,pad:Gt,bins:ce,extent:[0,st]}).bandwidth(Jt)}const yt=fi(0,st+1,1),lt=fi(0,st*St,1/St),zt=On({width:kT,height:dt?170:183,marginTop:15,marginLeft:30,marginRight:10,marginBottom:15,padding:0,x:{label:"time in beats",domain:[0,4],ticks:[]},y:{label:dt?"left hand":"right hand",reverse:dt,ticks:[],labelOffset:-10,labelAnchor:"top",labelArrow:null},marks:[M?Y5(gt,{x:"x",y:"y",fill:Jt=>"#e4f0fa",clip:!0}):Ls(xt,X5({y:"count"},{x:Jt=>Jt,fill:"#eee",thresholds:fi(0,st+1,4/u),ry2:4})),T0([0]),$r(lt,{stroke:"#888"}),$r(yt,{stroke:"#888",strokeWidth:3})]}),kt=dt?a:o;kt.textContent="",kt.appendChild(zt)},_=()=>{w(!1),w(!0)},E=()=>({tempo:l,gridLeft:c,gridRight:d,binNote:u,adjustTime:h,pastBars:g,notes:b}),S=dt=>{I(),i(3,l=dt.tempo),i(4,c=dt.gridLeft),i(5,d=dt.gridRight),i(6,u=dt.binNote),i(7,h=dt.adjustTime??0),i(10,g=dt.pastBars),i(11,b=dt.notes)},I=()=>{b.length>0&&JSON.stringify(b)!==JSON.stringify(PT.notes)&&C9(n.id,E())};$9(_),c0(I);const T=(dt,ht,st)=>{if(!dt)return[];const St=Q0(st);let At=[dt,ht].flatMap((xt,gt)=>{const[yt,lt]=xt.split(":").map(kt=>+kt);return fi(0,yt,1/lt).map(kt=>({time:kt*St,number:69}))});return At.sort((xt,gt)=>xt.time-gt.time),At};function k(dt){l=dt,i(3,l)}function D(dt){p=dt,i(8,p)}function N(dt){c=dt,i(4,c)}function P(dt){d=dt,i(5,d)}function F(dt){u=dt,i(6,u)}function U(dt){h=dt,i(7,h)}function V(dt){g=dt,i(10,g)}const z=()=>{i(9,M=!M)};function G(dt){he[dt?"unshift":"push"](()=>{o=dt,i(2,o)})}function H(dt){he[dt?"unshift":"push"](()=>{a=dt,i(1,a)})}function J(dt){b=dt,i(11,b)}const Z=()=>S(PT);function j(dt){b=dt,i(11,b)}const W=()=>C({timestamp:performance.now(),note:{number:0}}),et=()=>C({timestamp:performance.now(),note:{number:127}});return e.$$set=dt=>{"appInfo"in dt&&i(0,n=dt.appInfo)},[n,a,o,l,c,d,u,h,p,M,g,b,v,C,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et]}class HCt extends Zi{constructor(t){super(),Yi(this,t,GCt,$Ct,Xi,{appInfo:0},null,[-1,-1])}}const Da=[{id:"accents",title:"Accents",description:"Practice accenting notes by playing them louder",input:"MIDI",instruments:["drum","guitar/bass","keyboard"],data:["order","ioi","dynamics"],skills:["accents"],patterns:["duration/ioi as symbol","dynamics as font-size","time is linear","time encoded non-linearly","update after note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:t4t},{id:"chord-arpeggio-timing",title:"Chord and Arpeggio Timing",description:"See how spaced out the notes in a chord or arpeggio are, and how much time lies between these",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","onset/time","ioi","pitch","chords"],skills:["chord-timing","arpeggio-timing"],patterns:["onset as tick","compressed pitches","chord detection","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:f4t},{id:"chord-diagrams",title:"Chord Diagrams",description:"See what chords you play on a guitar/bass as chord diagrams",input:"MIDI",instruments:["guitar/bass"],data:["order","onset/time","pitch","dynamics","instrument","chords"],skills:["chord-notes"],patterns:["instrument layout","chord detection","time is linear","time is collapsed","update on note"],timeScale:["a few notes"],difficulty:["beginner","intermediate","advanced"],component:w4t},{id:"dynamics",title:"Dynamics",description:"Practice controlling the loudness of notes",input:"MIDI",instruments:["drum","guitar/bass","keyboard"],data:["order","dynamics"],skills:["constant-dynamics","(de)crescendo","accents"],patterns:["dynamics as bar","baselines as grid","time is linear","time encoded linearly","update on note","musical units"],timeScale:["a few notes","a few bars"],difficulty:["beginner","intermediate","advanced"],component:B8t},{id:"duration-pies",title:"Duration Pies",description:"Practice holding notes for different durations",input:"MIDI",instruments:["guitar/bass","keyboard","pc-key","touch"],data:["order","duration/ioi"],skills:["duration"],patterns:["duration as bar","duration as pie","baselines as angle","time is circular","time encoded circular","time encoded linearly","update on note","musical units"],timeScale:["a single note","a few notes"],difficulty:["beginner"],component:$4t},{id:"fretboard-heatmap",title:"Fretboard Heatmap",description:"Learn improvising with a scale at different fretboard positions",input:"MIDI",instruments:["guitar/bass"],data:["instrument","pitch"],skills:["instrument-layout","scale-notes"],patterns:["distribution as heatmap","instrument layout","time is collapsed","update on note"],timeScale:["a few bars","a full song"],difficulty:["intermediate","advanced"],component:z8t},{id:"fretboard-improvisation-intervals",title:"Fretboard Improvisation Intervals",description:"Learn jumping through a scale in intervals of different size",input:"MIDI",instruments:["guitar/bass"],data:["order","pitch","instrument","pitch-interval"],skills:["instrument-layout","pitch-intervals"],patterns:["instrument layout","time is instant","update on note"],timeScale:["a few notes"],difficulty:["advanced"],component:i5t},{id:"fretboard-jitter",title:"Fretboard Jitter",description:"See how you play across different fretboard positions over time",input:"MIDI",instruments:["guitar/bass"],data:["order","instrument"],skills:["instrument-layout"],patterns:["distribution as jitter","instrument layout","time is linear","time encoded non-linearly","update on note","facets"],timeScale:["a full song"],difficulty:["intermediate","advanced"],component:P5t},{id:"fretboard-spacetime-cube",title:"Fretboard Spacetime Cube",description:"See how you play across different fretboard positions over time (in 3D)",input:"MIDI",instruments:["guitar/bass"],data:["onset/time","instrument"],skills:["instrument-layout"],patterns:["spacetime cube","instrument layout","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:Q5t},{id:"improvisation-intervals",title:"Improvisation Intervals",description:"See how often you use different intervals in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","pitch","pitch-interval"],skills:["pitch-intervals"],patterns:["distribution as histogram","time is collapsed","update on note"],timeScale:["a few bars"],difficulty:["advanced"],component:vpt},{id:"improvisation-chord-progression",title:"Improvisation Chord Progression",description:"See how much you stick to the notes of chords and scale while improvising over a chord progression",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","duration/ioi","pitch","chords","exercise"],skills:["pitch-intervals","scale-degrees","scale-notes","chord-progression"],patterns:["note role as color","duration/ioi as bar","time is circular","time encoded non-linearly","update on note","chords as stacked bars"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:npt},{id:"improvisation-note-colors",title:"Improvisation Scale Subset Colors",description:"See how you use notes in different scale subsets during improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","duration/ioi","pitch","chords"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","duration/ioi as bar","time is linear","time encoded non-linearly","update on note","chords as stacked bars"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:Lgt},{id:"improvisation-note-colors2",title:"Improvisation Scale Degree Colors",description:"See how  you use different scale degrees in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["order","duration/ioi","pitch","chords"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","duration/ioi as bar","time is linear","time encoded non-linearly","update on note","chords as stacked bars"],timeScale:["a few bars"],difficulty:["intermediate","advanced"],component:kpt},{id:"improvisation-scale-degrees",title:"Improvisation Scale Degrees",description:"See how often you use different scale degrees in improvisation",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["pitch"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","distribution as histogram","time is collapsed","update on note"],timeScale:["a few bars","a full song"],difficulty:["advanced"],component:Xpt},{id:"improvisation-scale-degrees-bar",title:"Improvisation Scale Degrees (Bar)",description:"See how often you use different scale degrees in improvisation, for each played bar",input:"MIDI",instruments:["guitar/bass","keyboard"],data:["pitch","onset/time"],skills:["pitch-intervals","scale-degrees","scale-notes"],patterns:["note role as color","distribution as histogram","facets","time segments","time is linear","time is collapsed","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["advanced"],component:mgt},{id:"keyboard-histogram",title:"Keyboard Histogram",description:"See how often you play different keyboard keys and if they belong to a chosen scale",input:"MIDI",instruments:["keyboard"],data:["pitch","instrument"],skills:["instrument-layout","scale-notes"],patterns:["distribution as histogram","instrument layout","time is collapsed","update on note","instrument as color"],timeScale:["a few bars","a full song"],difficulty:["intermediate","advanced"],component:Kgt},{id:"pitch-bend-audio",title:"Pitch Bend",description:"Practice pitch bends and vibratos",input:"audio",instruments:["guitar/bass","keyboard","singing"],data:["onset/time","pitch"],skills:["pitch-keeping","bending","vibrato","on-pitch"],patterns:["pitch as line","baselines as grid","time is linear","time encoded linearly","update real-time"],timeScale:["a few notes"],difficulty:["intermediate","advanced"],component:uMt},{id:"pitch-offset-cents",title:"Pitch Offset",description:"See how well you are on pitch over time",input:"audio",instruments:["guitar/bass","keyboard","singing"],data:["onset/time","pitch"],skills:["pitch-keeping","bending","vibrato","on-pitch"],patterns:["pitch as line","baselines as grid","explicit difference","difference as color","time is linear","time encoded linearly","update real-time","dual encoding"],timeScale:["a few notes"],difficulty:["intermediate","advanced"],component:OMt},{id:"pitch-offset-cents-needle",title:"Pitch Offset (Tuner)",description:"See how well you are on pitch at a moment",input:"audio",instruments:["guitar/bass","keyboard","singing"],data:["onset/time","pitch"],skills:["pitch-keeping","on-pitch"],patterns:["pitch as angle","baselines as grid","explicit difference","time is instant","update real-time"],timeScale:["a single note"],difficulty:["intermediate","advanced"],component:BMt},{id:"rhythm-sheet-music",title:"Rhythm Sheet Music",description:"Practice note timing and get feedback as staff notation and offset in percent",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["order","duration/ioi"],skills:["sub-division","tempo-keeping"],patterns:["duration/ioi as symbol","time is linear","time encoded non-linearly","update after note"],timeScale:["a few notes"],difficulty:["intermediate","advanced"],component:KMt},{id:"speed-up",title:"Speed-Up",description:"Record/choose a short exercise then practice it with steadily increasing tempo",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time","exercise"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["phrase repetition","facets","increasing difficulty","comparison between takes","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["beginner","intermediate","advanced"],component:Pyt},{id:"speed-up-tab",title:"Speed-Up Tab",description:"Record/choose a short guitar exercise then practice it with steadily increasing tempo",input:"MIDI",instruments:["guitar/bass"],data:["onset/time","exercise","instrument"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["phrase repetition","facets","increasing difficulty","comparison between takes","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["beginner","intermediate","advanced"],component:Qyt},{id:"sub-division",title:"Sub-Division (Circular)",description:"Practice rhythmic playing in different sub-divisions",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["time is cyclic","time encoded circular","baselines as grid","distribution as histogram","distribution as density","target areas","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:BAt},{id:"sub-division-drums",title:"Sub-Division (Drums)",description:"Practice rhythmic playing in different sub-divisions, separated by drum",input:"MIDI",instruments:["drum","pc-key"],data:["onset/time","instrument"],skills:["sub-division","timing-consistency","synchronized-body-parts","swing-feel"],patterns:["time is cyclic","time encoded linearly","baselines as grid","distribution as histogram","distribution as density","facets","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:Bvt},{id:"sub-division-linear",title:"Sub-Division (Linear)",description:"Practice rhythmic playing in different sub-divisions",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["time is cyclic","time encoded linearly","baselines as grid","distribution as histogram","distribution as density","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:gbt},{id:"sub-division-history",title:"Sub-Division (History)",description:"Practice rhythmic playing in different sub-divisions, compared to previous recordings",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time"],skills:["sub-division","timing-consistency","swing-feel"],patterns:["time is cyclic","time encoded circular","baselines as grid","distribution as histogram","distribution as density","facets","comparison between takes","update on note"],timeScale:["a few bars","a full song"],difficulty:["beginner","intermediate","advanced"],component:Gvt},{id:"strumming-pattern",title:"Strumming Pattern",description:"Practice up/down strumming patterns on guitar",input:"MIDI",instruments:["guitar/bass"],data:["onset/time","instrument"],skills:["strumming-direction","strumming-strings"],patterns:["direction as arrow","direction as color","chord detection","time is linear","time encoded linearly","update on note"],timeScale:["a few bars"],difficulty:["beginner","intermediate","advanced"],component:iAt},{id:"tempo-drift",title:"Tempo Drift",description:"Practice keeping your tempo constant over a longer stretch of playing",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["order","duration/ioi"],skills:["tempo-keeping"],patterns:["duration/ioi as bar","baselines as grid","time is linear","time encoded non-linearly","update on note"],timeScale:["a full song"],difficulty:["beginner","intermediate","advanced"],component:pCt},{id:"tempo-change",title:"Tempo Change",description:"Practice changing the tempo as intended",input:"MIDI",instruments:["drum","guitar/bass","keyboard","pc-key","touch"],data:["onset/time","duration/ioi"],skills:["tempo-changing","tempo-keeping"],patterns:["baselines as grid","time is linear","time encoded linearly","update real-time"],timeScale:["a few bars","a full song"],difficulty:["intermediate","advanced"],component:Kbt},{id:"two-handed-timing",title:"Two-Handed Timing",description:"Practice playing sub-divisions with a different rhythm for each hand",input:"MIDI",instruments:["keyboard","drum","pc-key"],data:["onset/time","instrument"],skills:["sub-division","timing-consistency","syncopation","synchronized-timing","synchronized-body-parts"],patterns:["time is cyclic","time encoded linearly","baselines as grid","distribution as histogram","distribution as density","facets","update on note"],timeScale:["a few bars"],difficulty:["advanced"],component:HCt}];new Map(Da.map(e=>[e.id,e]));function VCt(e){let t,i,n,a,o,l,c,d,u;const h=e[3].default,p=zf(h,e,e[2],null);return{c(){t=q("main"),i=q("button"),n=q("h3"),a=te(e[0]),o=K(),l=q("div"),p&&p.c(),mt(n,"class","svelte-10c9d6o"),mt(i,"class","svelte-10c9d6o"),sn(l,"display",e[1]?"block":"none")},m(f,M){bt(f,t,M),B(t,i),B(i,n),B(n,a),B(t,o),B(t,l),p&&p.m(l,null),c=!0,d||(u=ze(i,"click",e[4]),d=!0)},p(f,[M]){(!c||M&1)&&Qe(a,f[0]),p&&p.p&&(!c||M&4)&&Wf(p,h,f,f[2],c?jf(h,f[2],M,null):Kf(f[2]),null),(!c||M&2)&&sn(l,"display",f[1]?"block":"none")},i(f){c||(wt(p,f),c=!0)},o(f){It(p,f),c=!1},d(f){f&&vt(t),p&&p.d(f),d=!1,u()}}}function QCt(e,t,i){let{$$slots:n={},$$scope:a}=t,{heading:o=""}=t,l=!1;const c=()=>i(1,l=!l);return e.$$set=d=>{"heading"in d&&i(0,o=d.heading),"$$scope"in d&&i(2,a=d.$$scope)},[o,l,a,n,c]}class Xa extends Zi{constructor(t){super(),Yi(this,t,QCt,VCt,Xi,{heading:0})}}function FT(e,t,i){const n=e.slice();return n[18]=t[i],n}function zCt(e,t,i){const n=e.slice();return n[21]=t[i],n}function jCt(e,t,i){const n=e.slice();return n[24]=t[i],n}function WCt(e,t,i){const n=e.slice();return n[27]=t[i],n}function KCt(e,t,i){const n=e.slice();return n[21]=t[i],n[31]=i,n}function UT(e,t,i){const n=e.slice();return n[32]=t[i],n}function JT(e,t,i){const n=e.slice();return n[35]=t[i],n}function $T(e,t,i){const n=e.slice();return n[32]=t[i],n}function qCt(e,t,i){const n=e.slice();return n[35]=t[i],n}function GT(e,t,i){const n=e.slice();return n[32]=t[i],n}function HT(e,t,i){const n=e.slice();return n[35]=t[i],n}function VT(e,t,i){const n=e.slice();return n[32]=t[i],n}function QT(e,t,i){const n=e.slice();return n[35]=t[i],n}function zT(e,t,i){const n=e.slice();return n[18]=t[i],n}function jT(e,t,i){const n=e.slice();return n[21]=t[i],n}function WT(e,t,i){const n=e.slice();return n[35]=t[i],n}function KT(e,t,i){const n=e.slice();return n[18]=t[i],n}function qT(e,t,i){const n=e.slice();return n[21]=t[i],n}function XCt(e,t,i){const n=e.slice();return n[18]=t[i],n}function YCt(e,t,i){const n=e.slice();return n[21]=t[i],n}function ZCt(e,t,i){const n=e.slice();return n[18]=t[i],n[31]=i,n}function XT(e,t,i){const n=e.slice();return n[32]=t[i],n}function YT(e,t,i){const n=e.slice();return n[32]=t[i],n}function ZT(e,t,i){const n=e.slice();return n[32]=t[i],n}function tI(e,t,i){const n=e.slice();return n[35]=t[i],n}function eI(e,t,i){const n=e.slice();return n[32]=t[i],n}function iI(e,t,i){const n=e.slice();return n[32]=t[i],n}function nI(e,t,i){const n=e.slice();return n[32]=t[i],n}function rI(e,t,i){const n=e.slice();return n[35]=t[i],n}function aI(e,t,i){const n=e.slice();return n[35]=t[i],n}function oI(e,t,i){const n=e.slice();return n[32]=t[i],n}function sI(e){let t;return{c(){t=q("th"),t.textContent=`${e[32]}`,mt(t,"class","small svelte-12jgd06")},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function lI(e){let t,i=e[35]+"",n;return{c(){t=q("th"),n=te(i),mt(t,"class","small svelte-12jgd06")},m(a,o){bt(a,t,o),B(t,n)},p(a,o){o[0]&2&&i!==(i=a[35]+"")&&Qe(n,i)},d(a){a&&vt(t)}}}function cI(e){let t;return{c(){t=q("th"),t.textContent=`${e[35]}`,mt(t,"class","small svelte-12jgd06")},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function uI(e){let t,i=e[35].instruments.includes(e[32])?"":"",n;return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(a,o){bt(a,t,o),B(t,n)},p(a,o){o[0]&1&&i!==(i=a[35].instruments.includes(a[32])?"":"")&&Qe(n,i)},d(a){a&&vt(t)}}}function dI(e){let t,i=e[35].data.includes(e[32])?"":"",n;return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(a,o){bt(a,t,o),B(t,n)},p(a,o){o[0]&3&&i!==(i=a[35].data.includes(a[32])?"":"")&&Qe(n,i)},d(a){a&&vt(t)}}}function hI(e){let t,i=e[35].timeScale.includes(e[32])?"":"",n;return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(a,o){bt(a,t,o),B(t,n)},p(a,o){o[0]&1&&i!==(i=a[35].timeScale.includes(a[32])?"":"")&&Qe(n,i)},d(a){a&&vt(t)}}}function fI(e){let t,i,n=e[35].title+"",a,o,l,c=e[35].input==="MIDI"?"":"",d,u,h,p=e[35].input==="audio"?"":"",f,M,g,y,b,v,C,w,_,E,S,I=je([...e[4]]),T=[];for(let F=0;F<I.length;F+=1)T[F]=uI(nI(e,I,F));let k=je([...e[1]]),D=[];for(let F=0;F<k.length;F+=1)D[F]=dI(iI(e,k,F));let N=je(e[5]),P=[];for(let F=0;F<N.length;F+=1)P[F]=hI(eI(e,N,F));return{c(){t=q("tr"),i=q("td"),a=te(n),o=K(),l=q("td"),d=te(c),u=K(),h=q("td"),f=te(p),M=K(),g=q("td"),y=K();for(let F=0;F<T.length;F+=1)T[F].c();b=K(),v=q("td"),C=K();for(let F=0;F<D.length;F+=1)D[F].c();w=K(),_=q("td"),E=K();for(let F=0;F<P.length;F+=1)P[F].c();S=K(),sn(i,"text-align","right"),mt(i,"class","svelte-12jgd06"),mt(l,"class","svelte-12jgd06"),mt(h,"class","svelte-12jgd06"),mt(g,"class","spacer svelte-12jgd06"),mt(v,"class","spacer svelte-12jgd06"),mt(_,"class","spacer svelte-12jgd06"),mt(t,"class","svelte-12jgd06")},m(F,U){bt(F,t,U),B(t,i),B(i,a),B(t,o),B(t,l),B(l,d),B(t,u),B(t,h),B(h,f),B(t,M),B(t,g),B(t,y);for(let V=0;V<T.length;V+=1)T[V]&&T[V].m(t,null);B(t,b),B(t,v),B(t,C);for(let V=0;V<D.length;V+=1)D[V]&&D[V].m(t,null);B(t,w),B(t,_),B(t,E);for(let V=0;V<P.length;V+=1)P[V]&&P[V].m(t,null);B(t,S)},p(F,U){if(U[0]&1&&n!==(n=F[35].title+"")&&Qe(a,n),U[0]&1&&c!==(c=F[35].input==="MIDI"?"":"")&&Qe(d,c),U[0]&1&&p!==(p=F[35].input==="audio"?"":"")&&Qe(f,p),U[0]&17){I=je([...F[4]]);let V;for(V=0;V<I.length;V+=1){const z=nI(F,I,V);T[V]?T[V].p(z,U):(T[V]=uI(z),T[V].c(),T[V].m(t,b))}for(;V<T.length;V+=1)T[V].d(1);T.length=I.length}if(U[0]&3){k=je([...F[1]]);let V;for(V=0;V<k.length;V+=1){const z=iI(F,k,V);D[V]?D[V].p(z,U):(D[V]=dI(z),D[V].c(),D[V].m(t,w))}for(;V<D.length;V+=1)D[V].d(1);D.length=k.length}if(U[0]&33){N=je(F[5]);let V;for(V=0;V<N.length;V+=1){const z=eI(F,N,V);P[V]?P[V].p(z,U):(P[V]=hI(z),P[V].c(),P[V].m(t,S))}for(;V<P.length;V+=1)P[V].d(1);P.length=N.length}},d(F){F&&vt(t),Ti(T,F),Ti(D,F),Ti(P,F)}}}function mI(e){let t,i=e[0].filter(a).length+"",n;function a(...o){return e[6](e[32],...o)}return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(o,l){bt(o,t,l),B(t,n)},p(o,l){e=o,l[0]&1&&i!==(i=e[0].filter(a).length+"")&&Qe(n,i)},d(o){o&&vt(t)}}}function pI(e){let t,i=e[0].filter(a).length+"",n;function a(...o){return e[7](e[32],...o)}return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(o,l){bt(o,t,l),B(t,n)},p(o,l){e=o,l[0]&3&&i!==(i=e[0].filter(a).length+"")&&Qe(n,i)},d(o){o&&vt(t)}}}function gI(e){let t,i=e[0].filter(a).length+"",n;function a(...o){return e[8](e[32],...o)}return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(o,l){bt(o,t,l),B(t,n)},p(o,l){e=o,l[0]&1&&i!==(i=e[0].filter(a).length+"")&&Qe(n,i)},d(o){o&&vt(t)}}}function t_t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt,gt,yt,lt,zt,kt,Jt,Gt,ce,ae,qt,ue,$e=e[0].length+"",ve,He,qe,ri=e[0].filter(II).length+"",oi,oe,fe,pe=e[0].filter(BI).length+"",Ot,_t,Ht,Tt,Et,Lt,ut,X,tt,Bt,Qt=je([...e[4]]),jt=[];for(let ni=0;ni<Qt.length;ni+=1)jt[ni]=sI(oI(e,Qt,ni));let ne=je([...e[1]]),se=[];for(let ni=0;ni<ne.length;ni+=1)se[ni]=lI(aI(e,ne,ni));let Be=je(e[5]),we=[];for(let ni=0;ni<Be.length;ni+=1)we[ni]=cI(rI(e,Be,ni));let Ne=je(e[0]),li=[];for(let ni=0;ni<Ne.length;ni+=1)li[ni]=fI(tI(e,Ne,ni));let zi=je([...e[4]]),Ve=[];for(let ni=0;ni<zi.length;ni+=1)Ve[ni]=mI(ZT(e,zi,ni));let ji=je([...e[1]]),Ge=[];for(let ni=0;ni<ji.length;ni+=1)Ge[ni]=pI(YT(e,ji,ni));let ke=je(e[5]),Di=[];for(let ni=0;ni<ke.length;ni+=1)Di[ni]=gI(XT(e,ke,ni));return{c(){t=q("table"),i=q("thead"),n=q("tr"),a=q("th"),a.textContent="app",o=K(),l=q("th"),l.textContent="input",c=K(),d=q("th"),u=K(),h=q("th"),p=te("instrument"),f=K(),M=q("th"),g=K(),y=q("th"),b=te("data"),C=K(),w=q("th"),_=K(),E=q("th"),S=te("time scale"),I=K(),T=q("thead"),k=q("tr"),D=q("th"),N=K(),P=q("th"),P.textContent="MIDI",F=K(),U=q("th"),U.textContent="audio",V=K(),z=q("th"),G=K();for(let ni=0;ni<jt.length;ni+=1)jt[ni].c();H=K(),J=q("th"),Z=K();for(let ni=0;ni<se.length;ni+=1)se[ni].c();j=K(),W=q("th"),et=K();for(let ni=0;ni<we.length;ni+=1)we[ni].c();dt=K(),ht=q("thead"),st=q("tr"),St=q("th"),At=K(),xt=q("th"),gt=K(),yt=q("th"),lt=K(),zt=q("th"),kt=K(),Jt=q("th"),Gt=K(),ce=q("tbody");for(let ni=0;ni<li.length;ni+=1)li[ni].c();ae=K(),qt=q("tr"),ue=q("td"),ve=te($e),He=K(),qe=q("td"),oi=te(ri),oe=K(),fe=q("td"),Ot=te(pe),_t=K(),Ht=q("td"),Tt=K();for(let ni=0;ni<Ve.length;ni+=1)Ve[ni].c();Et=K(),Lt=q("td"),ut=K();for(let ni=0;ni<Ge.length;ni+=1)Ge[ni].c();X=K(),tt=q("td"),Bt=K();for(let ni=0;ni<Di.length;ni+=1)Di[ni].c();sn(a,"min-width","200px"),mt(l,"colspan","2"),sn(l,"border-bottom","4px solid "+Wo[0]),mt(d,"class","spacer svelte-12jgd06"),mt(h,"colspan",e[4].size),sn(h,"border-bottom","4px solid "+Wo[1]),mt(M,"class","spacer svelte-12jgd06"),mt(y,"colspan",v=e[1].size),sn(y,"border-bottom","4px solid "+Wo[2]),mt(w,"class","spacer svelte-12jgd06"),mt(E,"colspan",e[5].length),sn(E,"border-bottom","4px solid "+Wo[3]),mt(n,"class","svelte-12jgd06"),mt(P,"class","small svelte-12jgd06"),mt(U,"class","small svelte-12jgd06"),mt(z,"class","spacer svelte-12jgd06"),mt(J,"class","spacer svelte-12jgd06"),mt(W,"class","spacer svelte-12jgd06"),mt(k,"class","svelte-12jgd06"),mt(xt,"colspan","2"),mt(yt,"colspan",e[4].size),mt(zt,"colspan",e[4].size),mt(Jt,"colspan",e[5].length),mt(st,"class","svelte-12jgd06"),mt(ue,"class","svelte-12jgd06"),mt(qe,"class","svelte-12jgd06"),mt(fe,"class","svelte-12jgd06"),mt(Ht,"class","spacer svelte-12jgd06"),mt(Lt,"class","spacer svelte-12jgd06"),mt(tt,"class","spacer svelte-12jgd06"),mt(qt,"class","svelte-12jgd06"),mt(t,"class","svelte-12jgd06")},m(ni,Tn){bt(ni,t,Tn),B(t,i),B(i,n),B(n,a),B(n,o),B(n,l),B(n,c),B(n,d),B(n,u),B(n,h),B(h,p),B(n,f),B(n,M),B(n,g),B(n,y),B(y,b),B(n,C),B(n,w),B(n,_),B(n,E),B(E,S),B(t,I),B(t,T),B(T,k),B(k,D),B(k,N),B(k,P),B(k,F),B(k,U),B(k,V),B(k,z),B(k,G);for(let Le=0;Le<jt.length;Le+=1)jt[Le]&&jt[Le].m(k,null);B(k,H),B(k,J),B(k,Z);for(let Le=0;Le<se.length;Le+=1)se[Le]&&se[Le].m(k,null);B(k,j),B(k,W),B(k,et);for(let Le=0;Le<we.length;Le+=1)we[Le]&&we[Le].m(k,null);B(t,dt),B(t,ht),B(ht,st),B(st,St),B(st,At),B(st,xt),B(st,gt),B(st,yt),B(st,lt),B(st,zt),B(st,kt),B(st,Jt),B(t,Gt),B(t,ce);for(let Le=0;Le<li.length;Le+=1)li[Le]&&li[Le].m(ce,null);B(ce,ae),B(ce,qt),B(qt,ue),B(ue,ve),B(qt,He),B(qt,qe),B(qe,oi),B(qt,oe),B(qt,fe),B(fe,Ot),B(qt,_t),B(qt,Ht),B(qt,Tt);for(let Le=0;Le<Ve.length;Le+=1)Ve[Le]&&Ve[Le].m(qt,null);B(qt,Et),B(qt,Lt),B(qt,ut);for(let Le=0;Le<Ge.length;Le+=1)Ge[Le]&&Ge[Le].m(qt,null);B(qt,X),B(qt,tt),B(qt,Bt);for(let Le=0;Le<Di.length;Le+=1)Di[Le]&&Di[Le].m(qt,null)},p(ni,Tn){if(Tn[0]&2&&v!==(v=ni[1].size)&&mt(y,"colspan",v),Tn[0]&16){Qt=je([...ni[4]]);let Le;for(Le=0;Le<Qt.length;Le+=1){const yn=oI(ni,Qt,Le);jt[Le]?jt[Le].p(yn,Tn):(jt[Le]=sI(yn),jt[Le].c(),jt[Le].m(k,H))}for(;Le<jt.length;Le+=1)jt[Le].d(1);jt.length=Qt.length}if(Tn[0]&2){ne=je([...ni[1]]);let Le;for(Le=0;Le<ne.length;Le+=1){const yn=aI(ni,ne,Le);se[Le]?se[Le].p(yn,Tn):(se[Le]=lI(yn),se[Le].c(),se[Le].m(k,j))}for(;Le<se.length;Le+=1)se[Le].d(1);se.length=ne.length}if(Tn[0]&32){Be=je(ni[5]);let Le;for(Le=0;Le<Be.length;Le+=1){const yn=rI(ni,Be,Le);we[Le]?we[Le].p(yn,Tn):(we[Le]=cI(yn),we[Le].c(),we[Le].m(k,null))}for(;Le<we.length;Le+=1)we[Le].d(1);we.length=Be.length}if(Tn[0]&51){Ne=je(ni[0]);let Le;for(Le=0;Le<Ne.length;Le+=1){const yn=tI(ni,Ne,Le);li[Le]?li[Le].p(yn,Tn):(li[Le]=fI(yn),li[Le].c(),li[Le].m(ce,ae))}for(;Le<li.length;Le+=1)li[Le].d(1);li.length=Ne.length}if(Tn[0]&1&&$e!==($e=ni[0].length+"")&&Qe(ve,$e),Tn[0]&1&&ri!==(ri=ni[0].filter(II).length+"")&&Qe(oi,ri),Tn[0]&1&&pe!==(pe=ni[0].filter(BI).length+"")&&Qe(Ot,pe),Tn[0]&17){zi=je([...ni[4]]);let Le;for(Le=0;Le<zi.length;Le+=1){const yn=ZT(ni,zi,Le);Ve[Le]?Ve[Le].p(yn,Tn):(Ve[Le]=mI(yn),Ve[Le].c(),Ve[Le].m(qt,Et))}for(;Le<Ve.length;Le+=1)Ve[Le].d(1);Ve.length=zi.length}if(Tn[0]&3){ji=je([...ni[1]]);let Le;for(Le=0;Le<ji.length;Le+=1){const yn=YT(ni,ji,Le);Ge[Le]?Ge[Le].p(yn,Tn):(Ge[Le]=pI(yn),Ge[Le].c(),Ge[Le].m(qt,X))}for(;Le<Ge.length;Le+=1)Ge[Le].d(1);Ge.length=ji.length}if(Tn[0]&33){ke=je(ni[5]);let Le;for(Le=0;Le<ke.length;Le+=1){const yn=XT(ni,ke,Le);Di[Le]?Di[Le].p(yn,Tn):(Di[Le]=gI(yn),Di[Le].c(),Di[Le].m(qt,null))}for(;Le<Di.length;Le+=1)Di[Le].d(1);Di.length=ke.length}},d(ni){ni&&vt(t),Ti(jt,ni),Ti(se,ni),Ti(we,ni),Ti(li,ni),Ti(Ve,ni),Ti(Ge,ni),Ti(Di,ni)}}}function e_t(e){let t,i,n;return{c(){t=q("th"),t.textContent=`${e[18].title}`,i=K(),n=q("th"),mt(t,"colspan",e[18].children.length),sn(t,"border-bottom","4px solid "+Wo[e[31]]),mt(n,"class","spacer svelte-12jgd06")},m(a,o){bt(a,t,o),bt(a,i,o),bt(a,n,o)},p:We,d(a){a&&(vt(t),vt(i),vt(n))}}}function i_t(e){let t;return{c(){t=q("th"),t.textContent=`${e[21].title}`,mt(t,"class","small svelte-12jgd06")},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function n_t(e){let t,i,n=je(e[18].children),a=[];for(let o=0;o<n.length;o+=1)a[o]=i_t(YCt(e,n,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=K(),i=q("th"),mt(i,"class","spacer svelte-12jgd06")},m(o,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,l);bt(o,t,l),bt(o,i,l)},p:We,d(o){o&&(vt(t),vt(i)),Ti(a,o)}}}function MI(e){let t,i=e[35].skills.includes(e[21].id)?"":"",n;return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(a,o){bt(a,t,o),B(t,n)},p(a,o){o[0]&1&&i!==(i=a[35].skills.includes(a[21].id)?"":"")&&Qe(n,i)},d(a){a&&vt(t)}}}function yI(e){let t,i,n=je(e[18].children),a=[];for(let o=0;o<n.length;o+=1)a[o]=MI(qT(e,n,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=K(),i=q("th"),mt(i,"class","spacer svelte-12jgd06")},m(o,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,l);bt(o,t,l),bt(o,i,l)},p(o,l){if(l[0]&1){n=je(o[18].children);let c;for(c=0;c<n.length;c+=1){const d=qT(o,n,c);a[c]?a[c].p(d,l):(a[c]=MI(d),a[c].c(),a[c].m(t.parentNode,t))}for(;c<a.length;c+=1)a[c].d(1);a.length=n.length}},d(o){o&&(vt(t),vt(i)),Ti(a,o)}}}function AI(e){let t,i,n=e[35].title+"",a,o,l,c,d=e[35].skills.length+"",u,h,p=je(wo),f=[];for(let M=0;M<p.length;M+=1)f[M]=yI(KT(e,p,M));return{c(){t=q("tr"),i=q("td"),a=te(n),o=K();for(let M=0;M<f.length;M+=1)f[M].c();l=K(),c=q("td"),u=te(d),h=K(),sn(i,"text-align","right"),mt(i,"class","svelte-12jgd06"),mt(c,"class","svelte-12jgd06"),mt(t,"class","svelte-12jgd06")},m(M,g){bt(M,t,g),B(t,i),B(i,a),B(t,o);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(t,null);B(t,l),B(t,c),B(c,u),B(t,h)},p(M,g){if(g[0]&1&&n!==(n=M[35].title+"")&&Qe(a,n),g[0]&1){p=je(wo);let y;for(y=0;y<p.length;y+=1){const b=KT(M,p,y);f[y]?f[y].p(b,g):(f[y]=yI(b),f[y].c(),f[y].m(t,l))}for(;y<f.length;y+=1)f[y].d(1);f.length=p.length}g[0]&1&&d!==(d=M[35].skills.length+"")&&Qe(u,d)},d(M){M&&vt(t),Ti(f,M)}}}function vI(e){let t,i=e[0].filter(a).length+"",n;function a(...o){return e[9](e[21],...o)}return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(o,l){bt(o,t,l),B(t,n)},p(o,l){e=o,l[0]&1&&i!==(i=e[0].filter(a).length+"")&&Qe(n,i)},d(o){o&&vt(t)}}}function bI(e){let t,i,n=je(e[18].children),a=[];for(let o=0;o<n.length;o+=1)a[o]=vI(jT(e,n,o));return{c(){for(let o=0;o<a.length;o+=1)a[o].c();t=K(),i=q("td"),mt(i,"class","spacer svelte-12jgd06")},m(o,l){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,l);bt(o,t,l),bt(o,i,l)},p(o,l){if(l[0]&1){n=je(o[18].children);let c;for(c=0;c<n.length;c+=1){const d=jT(o,n,c);a[c]?a[c].p(d,l):(a[c]=vI(d),a[c].c(),a[c].m(t.parentNode,t))}for(;c<a.length;c+=1)a[c].d(1);a.length=n.length}},d(o){o&&(vt(t),vt(i)),Ti(a,o)}}}function r_t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b=e[0].length+"",v,C,w,_,E=je(wo),S=[];for(let F=0;F<E.length;F+=1)S[F]=e_t(ZCt(e,E,F));let I=je(wo),T=[];for(let F=0;F<I.length;F+=1)T[F]=n_t(XCt(e,I,F));let k=je(e[0]),D=[];for(let F=0;F<k.length;F+=1)D[F]=AI(WT(e,k,F));let N=je(wo),P=[];for(let F=0;F<N.length;F+=1)P[F]=bI(zT(e,N,F));return{c(){t=q("table"),i=q("thead"),n=q("tr"),a=q("th"),a.textContent="app",o=K();for(let F=0;F<S.length;F+=1)S[F].c();l=K(),c=q("thead"),d=q("tr"),u=q("th"),h=K();for(let F=0;F<T.length;F+=1)T[F].c();p=K(),f=q("tbody");for(let F=0;F<D.length;F+=1)D[F].c();M=K(),g=q("tr"),y=q("td"),v=te(b),C=K();for(let F=0;F<P.length;F+=1)P[F].c();w=K(),_=q("td"),sn(a,"min-width","200px"),mt(n,"class","svelte-12jgd06"),mt(d,"class","svelte-12jgd06"),mt(y,"class","svelte-12jgd06"),mt(_,"class","svelte-12jgd06"),mt(g,"class","svelte-12jgd06"),mt(t,"class","svelte-12jgd06")},m(F,U){bt(F,t,U),B(t,i),B(i,n),B(n,a),B(n,o);for(let V=0;V<S.length;V+=1)S[V]&&S[V].m(n,null);B(t,l),B(t,c),B(c,d),B(d,u),B(d,h);for(let V=0;V<T.length;V+=1)T[V]&&T[V].m(d,null);B(t,p),B(t,f);for(let V=0;V<D.length;V+=1)D[V]&&D[V].m(f,null);B(f,M),B(f,g),B(g,y),B(y,v),B(g,C);for(let V=0;V<P.length;V+=1)P[V]&&P[V].m(g,null);B(g,w),B(g,_)},p(F,U){if(U[0]&1){k=je(F[0]);let V;for(V=0;V<k.length;V+=1){const z=WT(F,k,V);D[V]?D[V].p(z,U):(D[V]=AI(z),D[V].c(),D[V].m(f,M))}for(;V<D.length;V+=1)D[V].d(1);D.length=k.length}if(U[0]&1&&b!==(b=F[0].length+"")&&Qe(v,b),U[0]&1){N=je(wo);let V;for(V=0;V<N.length;V+=1){const z=zT(F,N,V);P[V]?P[V].p(z,U):(P[V]=bI(z),P[V].c(),P[V].m(g,w))}for(;V<P.length;V+=1)P[V].d(1);P.length=N.length}},d(F){F&&vt(t),Ti(S,F),Ti(T,F),Ti(D,F),Ti(P,F)}}}function CI(e){let t,i=e[35]+"",n;return{c(){t=q("th"),n=te(i),mt(t,"class","small svelte-12jgd06")},m(a,o){bt(a,t,o),B(t,n)},p(a,o){o[0]&4&&i!==(i=a[35]+"")&&Qe(n,i)},d(a){a&&vt(t)}}}function _I(e){let t,i=e[35].patterns.includes(e[32])?"":"",n;return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(a,o){bt(a,t,o),B(t,n)},p(a,o){o[0]&5&&i!==(i=a[35].patterns.includes(a[32])?"":"")&&Qe(n,i)},d(a){a&&vt(t)}}}function EI(e){let t,i,n=e[35].title+"",a,o,l,c,d=e[35].patterns.length+"",u,h,p=je([...e[2]]),f=[];for(let M=0;M<p.length;M+=1)f[M]=_I(VT(e,p,M));return{c(){t=q("tr"),i=q("td"),a=te(n),o=K();for(let M=0;M<f.length;M+=1)f[M].c();l=K(),c=q("td"),u=te(d),h=K(),sn(i,"text-align","right"),mt(i,"class","svelte-12jgd06"),mt(c,"class","svelte-12jgd06"),mt(t,"class","svelte-12jgd06")},m(M,g){bt(M,t,g),B(t,i),B(i,a),B(t,o);for(let y=0;y<f.length;y+=1)f[y]&&f[y].m(t,null);B(t,l),B(t,c),B(c,u),B(t,h)},p(M,g){if(g[0]&1&&n!==(n=M[35].title+"")&&Qe(a,n),g[0]&5){p=je([...M[2]]);let y;for(y=0;y<p.length;y+=1){const b=VT(M,p,y);f[y]?f[y].p(b,g):(f[y]=_I(b),f[y].c(),f[y].m(t,l))}for(;y<f.length;y+=1)f[y].d(1);f.length=p.length}g[0]&1&&d!==(d=M[35].patterns.length+"")&&Qe(u,d)},d(M){M&&vt(t),Ti(f,M)}}}function wI(e){let t,i=e[0].filter(a).length+"",n;function a(...o){return e[10](e[32],...o)}return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(o,l){bt(o,t,l),B(t,n)},p(o,l){e=o,l[0]&5&&i!==(i=e[0].filter(a).length+"")&&Qe(n,i)},d(o){o&&vt(t)}}}function a_t(e){let t,i,n,a,o,l,c,d,u,h,p=e[0].length+"",f,M,g,y,b=je([...e[2]]),v=[];for(let S=0;S<b.length;S+=1)v[S]=CI(QT(e,b,S));let C=je(e[0]),w=[];for(let S=0;S<C.length;S+=1)w[S]=EI(HT(e,C,S));let _=je([...e[2]]),E=[];for(let S=0;S<_.length;S+=1)E[S]=wI(GT(e,_,S));return{c(){t=q("table"),i=q("thead"),n=q("tr"),a=q("th"),a.textContent="app",o=K();for(let S=0;S<v.length;S+=1)v[S].c();l=K(),c=q("tbody");for(let S=0;S<w.length;S+=1)w[S].c();d=K(),u=q("tr"),h=q("td"),f=te(p),M=K();for(let S=0;S<E.length;S+=1)E[S].c();g=K(),y=q("td"),sn(a,"min-width","200px"),mt(n,"class","svelte-12jgd06"),mt(h,"class","svelte-12jgd06"),mt(y,"class","svelte-12jgd06"),mt(u,"class","svelte-12jgd06"),mt(t,"class","svelte-12jgd06")},m(S,I){bt(S,t,I),B(t,i),B(i,n),B(n,a),B(n,o);for(let T=0;T<v.length;T+=1)v[T]&&v[T].m(n,null);B(t,l),B(t,c);for(let T=0;T<w.length;T+=1)w[T]&&w[T].m(c,null);B(c,d),B(c,u),B(u,h),B(h,f),B(u,M);for(let T=0;T<E.length;T+=1)E[T]&&E[T].m(u,null);B(u,g),B(u,y)},p(S,I){if(I[0]&4){b=je([...S[2]]);let T;for(T=0;T<b.length;T+=1){const k=QT(S,b,T);v[T]?v[T].p(k,I):(v[T]=CI(k),v[T].c(),v[T].m(n,null))}for(;T<v.length;T+=1)v[T].d(1);v.length=b.length}if(I[0]&5){C=je(S[0]);let T;for(T=0;T<C.length;T+=1){const k=HT(S,C,T);w[T]?w[T].p(k,I):(w[T]=EI(k),w[T].c(),w[T].m(c,d))}for(;T<w.length;T+=1)w[T].d(1);w.length=C.length}if(I[0]&1&&p!==(p=S[0].length+"")&&Qe(f,p),I[0]&5){_=je([...S[2]]);let T;for(T=0;T<_.length;T+=1){const k=GT(S,_,T);E[T]?E[T].p(k,I):(E[T]=wI(k),E[T].c(),E[T].m(u,g))}for(;T<E.length;T+=1)E[T].d(1);E.length=_.length}},d(S){S&&vt(t),Ti(v,S),Ti(w,S),Ti(E,S)}}}function o_t(e){let t;return{c(){t=q("th"),t.textContent=`${e[35]}`,mt(t,"class","small svelte-12jgd06")},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function OI(e){let t,i=e[35].difficulty.includes(e[32])?"":"",n;return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(a,o){bt(a,t,o),B(t,n)},p(a,o){o[0]&1&&i!==(i=a[35].difficulty.includes(a[32])?"":"")&&Qe(n,i)},d(a){a&&vt(t)}}}function SI(e){let t,i,n=e[35].title+"",a,o,l,c=je(["beginner","intermediate","advanced"]),d=[];for(let u=0;u<3;u+=1)d[u]=OI($T(e,c,u));return{c(){t=q("tr"),i=q("td"),a=te(n),o=K();for(let u=0;u<3;u+=1)d[u].c();l=K(),sn(i,"text-align","right"),mt(i,"class","svelte-12jgd06"),mt(t,"class","svelte-12jgd06")},m(u,h){bt(u,t,h),B(t,i),B(i,a),B(t,o);for(let p=0;p<3;p+=1)d[p]&&d[p].m(t,null);B(t,l)},p(u,h){if(h[0]&1&&n!==(n=u[35].title+"")&&Qe(a,n),h[0]&1){c=je(["beginner","intermediate","advanced"]);let p;for(p=0;p<3;p+=1){const f=$T(u,c,p);d[p]?d[p].p(f,h):(d[p]=OI(f),d[p].c(),d[p].m(t,l))}for(;p<3;p+=1)d[p].d(1)}},d(u){u&&vt(t),Ti(d,u)}}}function xI(e){let t,i=e[0].filter(a).length+"",n;function a(...o){return e[11](e[32],...o)}return{c(){t=q("td"),n=te(i),mt(t,"class","svelte-12jgd06")},m(o,l){bt(o,t,l),B(t,n)},p(o,l){e=o,l[0]&1&&i!==(i=e[0].filter(a).length+"")&&Qe(n,i)},d(o){o&&vt(t)}}}function s_t(e){let t,i,n,a,o,l,c,d,u,h,p=e[0].length+"",f,M,g=je(["beginner","intermediate","advanced"]),y=[];for(let _=0;_<3;_+=1)y[_]=o_t(qCt(e,g,_));let b=je(e[0]),v=[];for(let _=0;_<b.length;_+=1)v[_]=SI(JT(e,b,_));let C=je(["beginner","intermediate","advanced"]),w=[];for(let _=0;_<3;_+=1)w[_]=xI(UT(e,C,_));return{c(){t=q("table"),i=q("thead"),n=q("tr"),a=q("th"),a.textContent="app",o=K();for(let _=0;_<3;_+=1)y[_].c();l=K(),c=q("tbody");for(let _=0;_<v.length;_+=1)v[_].c();d=K(),u=q("tr"),h=q("td"),f=te(p),M=K();for(let _=0;_<3;_+=1)w[_].c();sn(a,"min-width","200px"),mt(n,"class","svelte-12jgd06"),mt(h,"class","svelte-12jgd06"),mt(u,"class","svelte-12jgd06"),mt(t,"class","svelte-12jgd06")},m(_,E){bt(_,t,E),B(t,i),B(i,n),B(n,a),B(n,o);for(let S=0;S<3;S+=1)y[S]&&y[S].m(n,null);B(t,l),B(t,c);for(let S=0;S<v.length;S+=1)v[S]&&v[S].m(c,null);B(c,d),B(c,u),B(u,h),B(h,f),B(u,M);for(let S=0;S<3;S+=1)w[S]&&w[S].m(u,null)},p(_,E){if(E[0]&1){b=je(_[0]);let S;for(S=0;S<b.length;S+=1){const I=JT(_,b,S);v[S]?v[S].p(I,E):(v[S]=SI(I),v[S].c(),v[S].m(c,d))}for(;S<v.length;S+=1)v[S].d(1);v.length=b.length}if(E[0]&1&&p!==(p=_[0].length+"")&&Qe(f,p),E[0]&1){C=je(["beginner","intermediate","advanced"]);let S;for(S=0;S<3;S+=1){const I=UT(_,C,S);w[S]?w[S].p(I,E):(w[S]=xI(I),w[S].c(),w[S].m(u,null))}for(;S<3;S+=1)w[S].d(1)}},d(_){_&&vt(t),Ti(y,_),Ti(v,_),Ti(w,_)}}}function l_t(e){let t,i,n,a,o,l;return{c(){t=q("tr"),i=q("td"),i.textContent=`${e[31]===0?e[27].title:""}`,n=K(),a=q("td"),a.textContent=`${e[21].title}`,o=K(),l=q("td"),l.textContent=`${e[21].description}`,mt(i,"class","svelte-12jgd06"),mt(a,"class","svelte-12jgd06"),sn(l,"width","820px"),sn(l,"padding","5px 0"),mt(l,"class","svelte-12jgd06"),mt(t,"class","svelte-12jgd06")},m(c,d){bt(c,t,d),B(t,i),B(t,n),B(t,a),B(t,o),B(t,l)},p:We,d(c){c&&vt(t)}}}function c_t(e){let t,i,n,a,o=je(e[27].children),l=[];for(let c=0;c<o.length;c+=1)l[c]=l_t(KCt(e,o,c));return{c(){for(let c=0;c<l.length;c+=1)l[c].c();t=K(),i=q("tr"),n=K(),a=q("tr"),sn(i,"height","20px"),mt(i,"class","svelte-12jgd06"),mt(a,"class","svelte-12jgd06")},m(c,d){for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(c,d);bt(c,t,d),bt(c,i,d),bt(c,n,d),bt(c,a,d)},p:We,d(c){c&&(vt(t),vt(i),vt(n),vt(a)),Ti(l,c)}}}function u_t(e){let t,i,n,a,o=je(wo),l=[];for(let c=0;c<o.length;c+=1)l[c]=c_t(WCt(e,o,c));return{c(){t=q("table"),i=q("thead"),i.innerHTML='<tr class="svelte-12jgd06"><th style="width: fit-content">category</th> <th style="width: fit-content">skill</th> <th>explanation</th></tr>',n=K(),a=q("tbody");for(let c=0;c<l.length;c+=1)l[c].c();sn(t,"text-align","left"),mt(t,"class","svelte-12jgd06")},m(c,d){bt(c,t,d),B(t,i),B(t,n),B(t,a);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(a,null)},p:We,d(c){c&&vt(t),Ti(l,c)}}}function d_t(e){let t;return{c(){t=q("li"),t.textContent=`${e[24].title} `,sn(t,"font-size","12px")},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function h_t(e){let t,i,n,a,o;function l(...h){return e[13](e[21],...h)}function c(...h){return e[14](e[21],...h)}let d=je(Da.filter(c)),u=[];for(let h=0;h<d.length;h+=1)u[h]=d_t(jCt(e,d,h));return{c(){t=q("li"),i=q("b"),i.textContent=`${e[21].title} (${Da.filter(l).length})`,n=K(),a=q("ul");for(let h=0;h<u.length;h+=1)u[h].c();o=K()},m(h,p){bt(h,t,p),B(t,i),B(t,n),B(t,a);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(a,null);B(t,o)},p(h,p){e=h},d(h){h&&vt(t),Ti(u,h)}}}function TI(e){let t,i,n,a,o,l=je(e[18].children),c=[];for(let d=0;d<l.length;d+=1)c[d]=h_t(zCt(e,l,d));return{c(){t=q("li"),i=q("b"),i.textContent=`${e[18].title} (${new Set(e[18].children.flatMap(e[12])).size})`,n=K(),a=q("ul");for(let d=0;d<c.length;d+=1)c[d].c();o=K()},m(d,u){bt(d,t,u),B(t,i),B(t,n),B(t,a);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(a,null);B(t,o)},p:We,d(d){d&&vt(t),Ti(c,d)}}}function f_t(e){let t,i=je(wo),n=[];for(let a=0;a<i.length;a+=1)n[a]=TI(FT(e,i,a));return{c(){t=q("ul");for(let a=0;a<n.length;a+=1)n[a].c();mt(t,"class","list svelte-12jgd06")},m(a,o){bt(a,t,o);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(t,null)},p(a,o){if(o&0){i=je(wo);let l;for(l=0;l<i.length;l+=1){const c=FT(a,i,l);n[l]?n[l].p(c,o):(n[l]=TI(c),n[l].c(),n[l].m(t,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=i.length}},d(a){a&&vt(t),Ti(n,a)}}}function m_t(e){let t,i;return{c(){t=q("div"),i=q("div"),mt(i,"class","visualization"),sn(t,"width","1000px"),sn(t,"margin","auto")},m(n,a){bt(n,t,a),B(t,i),e[15](i)},p:We,d(n){n&&vt(t),e[15](null)}}}function p_t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b,v;return a=new Xa({props:{heading:"Inputs and Instruments",$$slots:{default:[t_t]},$$scope:{ctx:e}}}),l=new Xa({props:{heading:"Skills",$$slots:{default:[r_t]},$$scope:{ctx:e}}}),d=new Xa({props:{heading:"Design Patterns",$$slots:{default:[a_t]},$$scope:{ctx:e}}}),h=new Xa({props:{heading:"Difficulty",$$slots:{default:[s_t]},$$scope:{ctx:e}}}),f=new Xa({props:{heading:"Skill Descriptions",$$slots:{default:[u_t]},$$scope:{ctx:e}}}),g=new Xa({props:{heading:"Apps by Skill",$$slots:{default:[f_t]},$$scope:{ctx:e}}}),b=new Xa({props:{heading:"App Meta Data Relations",$$slots:{default:[m_t]},$$scope:{ctx:e}}}),{c(){t=q("main"),i=q("p"),i.textContent="This page contains overviews over apps and skills.",n=K(),Pt(a.$$.fragment),o=K(),Pt(l.$$.fragment),c=K(),Pt(d.$$.fragment),u=K(),Pt(h.$$.fragment),p=K(),Pt(f.$$.fragment),M=K(),Pt(g.$$.fragment),y=K(),Pt(b.$$.fragment),mt(i,"class","explanation"),mt(t,"class","svelte-12jgd06")},m(C,w){bt(C,t,w),B(t,i),B(t,n),Rt(a,t,null),B(t,o),Rt(l,t,null),B(t,c),Rt(d,t,null),B(t,u),Rt(h,t,null),B(t,p),Rt(f,t,null),B(t,M),Rt(g,t,null),B(t,y),Rt(b,t,null),v=!0},p(C,w){const _={};w[0]&3|w[2]&8388608&&(_.$$scope={dirty:w,ctx:C}),a.$set(_);const E={};w[0]&1|w[2]&8388608&&(E.$$scope={dirty:w,ctx:C}),l.$set(E);const S={};w[0]&5|w[2]&8388608&&(S.$$scope={dirty:w,ctx:C}),d.$set(S);const I={};w[0]&1|w[2]&8388608&&(I.$$scope={dirty:w,ctx:C}),h.$set(I);const T={};w[2]&8388608&&(T.$$scope={dirty:w,ctx:C}),f.$set(T);const k={};w[2]&8388608&&(k.$$scope={dirty:w,ctx:C}),g.$set(k);const D={};w[0]&8|w[2]&8388608&&(D.$$scope={dirty:w,ctx:C}),b.$set(D)},i(C){v||(wt(a.$$.fragment,C),wt(l.$$.fragment,C),wt(d.$$.fragment,C),wt(h.$$.fragment,C),wt(f.$$.fragment,C),wt(g.$$.fragment,C),wt(b.$$.fragment,C),v=!0)},o(C){It(a.$$.fragment,C),It(l.$$.fragment,C),It(d.$$.fragment,C),It(h.$$.fragment,C),It(f.$$.fragment,C),It(g.$$.fragment,C),It(b.$$.fragment,C),v=!1},d(C){C&&vt(t),Dt(a),Dt(l),Dt(d),Dt(h),Dt(f),Dt(g),Dt(b)}}}const II=e=>e.input==="MIDI",BI=e=>e.input==="audio";function g_t(e,t,i){let{apps:n=[]}=t,a=new Set(["drum","guitar/bass","keyboard","singing","pc-key","touch"]),{allData:o=new Set}=t,{allPatterns:l=new Set}=t,c=["a single note","a few notes","a few bars","a full song"],d;const u=()=>{console.log("test");const E=[["skills","patterns"],["data","skills"],["data","patterns"],["instruments","skills"],["instruments","patterns"],["instruments","data"]];i(3,d.textContent="",d);for(const[S,I]of E)h(S,I)},h=(E,S)=>{console.log(E,S);const I=new Map;for(const D of n)for(const N of D[S]){I.has(N)||I.set(N,new Map);const P=I.get(N);for(const F of D[E])P.has(F)||P.set(F,new Set),P.get(F).add(D.title)}const T=[];for(const[D,N]of I.entries())for(const[P,F]of N.entries())T.push({k1:D,k2:P,apps:[...F]});const k=On({margin:10,marginLeft:150,marginRight:50,marginTop:50,marginBottom:100,width:1e3,aspectRatio:1.2,grid:!0,x:{label:S,tickRotate:45},y:{label:E},color:{label:"number of apps",scheme:"blues"},marks:[E8(T,{x:D=>D.k1,y:D=>D.k2,fill:D=>D.apps.length,title:D=>`${D.k1} | ${D.k2}

${D.apps.join(`
`)}`,rx:5}),J0(T,{x:D=>D.k1,y:D=>D.k2,text:D=>D.apps.length,stroke:"#fffc",strokeWidth:2.5,fill:"black"})]});d.appendChild(k)};yr(u);const p=(E,S)=>S.instruments.includes(E),f=(E,S)=>S.data.includes(E),M=(E,S)=>S.timeScale.includes(E),g=(E,S)=>S.skills.includes(E.id),y=(E,S)=>S.patterns.includes(E),b=(E,S)=>S.difficulty.includes(E),v=E=>Da.filter(S=>S.skills.includes(E.id)),C=(E,S)=>S.skills.includes(E.id),w=(E,S)=>S.skills.includes(E.id);function _(E){he[E?"unshift":"push"](()=>{d=E,i(3,d)})}return e.$$set=E=>{"apps"in E&&i(0,n=E.apps),"allData"in E&&i(1,o=E.allData),"allPatterns"in E&&i(2,l=E.allPatterns)},[n,o,l,d,a,c,p,f,M,g,y,b,v,C,w,_]}class M_t extends Zi{constructor(t){super(),Yi(this,t,g_t,p_t,Xi,{apps:0,allData:1,allPatterns:2},null,[-1,-1,-1])}}function y_t(e){let t;return{c(){t=q("p"),t.textContent=`This website contains a collection of small apps for learning
            musical instruments. They are each tailored to specific musical
            skills and sometimes also specific kind of musical data or
            instrument.`,mt(t,"class","svelte-sdqn0l")},m(i,n){bt(i,t,n)},p:We,d(i){i&&vt(t)}}}function A_t(e){let t,i,n,a,o;return{c(){t=q("p"),t.textContent=`Many app require a MIDI instrument, such as a keyboard or electronic
            drum kit. Other MIDI instruments will work too, just try it! A few
            apps work with audio and should therefore supported any (pitched)
            instrument and singing. Some apps can also be used with a PC
            keyboard (spacebar if not explained otherwise) or a touch screen.
            The most tricky to use are the guitar (fretboard) apps, which
            require are MIDI guitar or a guitar with an added MIDI pickup.`,i=K(),n=q("h4"),n.textContent="What if I only have a MIDI keyboard without sound/synthesizer?",a=K(),o=q("p"),o.innerHTML=`You can use a built-in synth that needs to be turned on with a
            toggle below each app. If you want better or different sounds, you
            can also open a web synth in another tab! For example,
            <a href="https://midi.city/" target="_blank" referrerpolicy="no-referrer">midi.city</a>.`,mt(t,"class","svelte-sdqn0l"),mt(o,"class","svelte-sdqn0l")},m(l,c){bt(l,t,c),bt(l,i,c),bt(l,n,c),bt(l,a,c),bt(l,o,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n),vt(a),vt(o))}}}function v_t(e){let t,i,n,a,o,l,c,d,u;return{c(){t=q("p"),t.innerHTML=`<b>App Menu ().</b>
            The app menu lists all apps with a short description and icons that indicate
            the supported instruments. You can filter and sort apps by different
            aspects with the sidebar on the left. Apps that you never used before
            are marked with a .`,i=K(),n=q("p"),n.innerHTML=`<b>Tools ().</b>
            The tools page contains smaller, but sometimes helpful tools. For example,
            you can see which MIDI messages your instrument sends.`,a=K(),o=q("p"),o.innerHTML=`<b>Settings ().</b>
            Global settings that apply to multiple (but not all) apps. Here you can
            export and delete all locally stored data.`,l=K(),c=q("p"),c.innerHTML=`<b>Data and Saving.</b>
            You can export and import a take in most apps. Whenever you leave an
            app, reset, or load from the history, your current take will be auto-saved
            and added to the history. Use the history button too see the modal with
            the auto-saved takes where you can load or delete them.
            <i>No data is sent anywhere, it all is saved in your browser. You
                can export or reset it in the settings.</i> <span class="warning">Warning:</span> Auto-save only works when you reset
            or exit the app by returning to the home screen. If you refresh the page
            or close the tab while in an app, its current data will be lost.`,d=K(),u=q("p"),u.innerHTML=`<b>Importing.</b>
            Import a recorded take from a file through the import button or by dragging
            and dropping a file on the app (a blue background indicates that you
            can drop it).`,mt(t,"class","svelte-sdqn0l"),mt(n,"class","svelte-sdqn0l"),mt(o,"class","svelte-sdqn0l"),mt(c,"class","svelte-sdqn0l"),mt(u,"class","svelte-sdqn0l")},m(h,p){bt(h,t,p),bt(h,i,p),bt(h,n,p),bt(h,a,p),bt(h,o,p),bt(h,l,p),bt(h,c,p),bt(h,d,p),bt(h,u,p)},p:We,d(h){h&&(vt(t),vt(i),vt(n),vt(a),vt(o),vt(l),vt(c),vt(d),vt(u))}}}function b_t(e){let t,i,n,a,o,l,c,d,u,h,p;return{c(){t=q("h4"),t.textContent="General",i=K(),n=q("ul"),n.innerHTML=`<li class="svelte-sdqn0l"><code>CTRL</code>+<code>F</code> focuses the search bar in the app
                menu</li> <li class="svelte-sdqn0l"><code>CTRL</code>+<code>+</code> and <code>CTRL</code>+<code>-</code> zooms in and out</li> <li class="svelte-sdqn0l"><code>F11</code> toggles fullscreen.</li>`,a=K(),o=q("h4"),o.textContent="App",l=K(),c=q("ul"),c.innerHTML=`<li class="svelte-sdqn0l"><code>m</code> toggles the metronome</li> <li class="svelte-sdqn0l"><code>r</code> resets the played data</li> <li class="svelte-sdqn0l">(history modal) <code>Escape</code> closes the modal</li> <li class="svelte-sdqn0l">(some apps) <code>CTRL</code>+<code>Z</code> un-does the last note</li> <li class="svelte-sdqn0l">(some apps) <code>CTRL</code>+<code>Y</code> re-does the last undone
                note</li>`,d=K(),u=q("h4"),u.textContent="Input Elements",h=K(),p=q("p"),p.textContent=`Inputs such as number inputs and dropdowns allow you to scroll to
            change values. Some can be reset with a middle click.`,mt(n,"class","svelte-sdqn0l"),mt(c,"class","svelte-sdqn0l"),mt(p,"class","svelte-sdqn0l")},m(f,M){bt(f,t,M),bt(f,i,M),bt(f,n,M),bt(f,a,M),bt(f,o,M),bt(f,l,M),bt(f,c,M),bt(f,d,M),bt(f,u,M),bt(f,h,M),bt(f,p,M)},p:We,d(f){f&&(vt(t),vt(i),vt(n),vt(a),vt(o),vt(l),vt(c),vt(d),vt(u),vt(h),vt(p))}}}function C_t(e){let t,i,n,a,o,l,c;return{c(){t=q("h4"),t.textContent="MIDI",i=K(),n=q("p"),n.innerHTML=`If MIDI input does not work, make sure that the device is connected
            and works. The browser can also see MIDI devices that are <i>not in use in other software</i>, such as other browsers that you have opened this website in. Some
            MIDI software requires a MIDI loopback that simulates a hardware
            MIDI device. We recommend
            <a href="https://www.tobias-erichsen.de/software/loopmidi.html" target="_blank" referrerpolicy="no-referrer">loopMIDI</a> for Windows.`,a=K(),o=q("h4"),o.textContent="I still have issues!",l=K(),c=q("p"),c.innerHTML='Please create a GitHub issue <a href="https://github.com/visvar/mila/issues" target="_blank" referrerpolicy="no-referrer">here</a>.',mt(n,"class","svelte-sdqn0l"),mt(c,"class","svelte-sdqn0l")},m(d,u){bt(d,t,u),bt(d,i,u),bt(d,n,u),bt(d,a,u),bt(d,o,u),bt(d,l,u),bt(d,c,u)},p:We,d(d){d&&(vt(t),vt(i),vt(n),vt(a),vt(o),vt(l),vt(c))}}}function __t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w;return{c(){t=q("h3"),t.textContent="Usage Data",i=K(),n=q("p"),a=te(`The website tracks usage data locally in your browser, but does not
            send it anywhere. You can import, export, or reset this data here.
            `),o=q("br"),l=K(),c=q("b"),c.textContent=`Data currently uses ${e[1].percentFull.toFixed(1)}% of
                the available space.`,d=K(),u=q("button"),u.textContent="export usage",h=K(),p=q("button"),p.textContent="import usage",f=K(),M=q("input"),g=K(),y=q("button"),y.textContent="delete usage",b=K(),v=q("button"),v.textContent="delete only recordings",mt(n,"class","explanation svelte-sdqn0l"),mt(u,"title","Export usage statistics"),mt(p,"title","Import all data and settings"),mt(M,"type","file"),mt(M,"id","file-input"),sn(M,"display","none"),mt(y,"title","Reset usage statistics"),mt(v,"title","Reset usage statistics")},m(_,E){bt(_,t,E),bt(_,i,E),bt(_,n,E),B(n,a),B(n,o),B(n,l),B(n,c),bt(_,d,E),bt(_,u,E),bt(_,h,E),bt(_,p,E),bt(_,f,E),bt(_,M,E),e[5](M),bt(_,g,E),bt(_,y,E),bt(_,b,E),bt(_,v,E),C||(w=[ze(u,"click",e[3]),ze(p,"click",e[4]),ze(M,"input",e[2]),ze(y,"click",e[6]),ze(v,"click",e[7])],C=!0)},p:We,d(_){_&&(vt(t),vt(i),vt(n),vt(d),vt(u),vt(h),vt(p),vt(f),vt(M),vt(g),vt(y),vt(b),vt(v)),e[5](null),C=!1,t0(w)}}}function E_t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y;return a=new Xa({props:{heading:"What is this website?",$$slots:{default:[y_t]},$$scope:{ctx:e}}}),l=new Xa({props:{heading:"What do I need to use the apps?",$$slots:{default:[A_t]},$$scope:{ctx:e}}}),d=new Xa({props:{heading:"How do I use this website?",$$slots:{default:[v_t]},$$scope:{ctx:e}}}),h=new Xa({props:{heading:"Keyboard Shortcuts",$$slots:{default:[b_t]},$$scope:{ctx:e}}}),f=new Xa({props:{heading:"Troubleshooting",$$slots:{default:[C_t]},$$scope:{ctx:e}}}),g=new Xa({props:{heading:"Data Import/Export",$$slots:{default:[__t]},$$scope:{ctx:e}}}),{c(){t=q("main"),i=q("h2"),i.textContent="Help",n=K(),Pt(a.$$.fragment),o=K(),Pt(l.$$.fragment),c=K(),Pt(d.$$.fragment),u=K(),Pt(h.$$.fragment),p=K(),Pt(f.$$.fragment),M=K(),Pt(g.$$.fragment)},m(b,v){bt(b,t,v),B(t,i),B(t,n),Rt(a,t,null),B(t,o),Rt(l,t,null),B(t,c),Rt(d,t,null),B(t,u),Rt(h,t,null),B(t,p),Rt(f,t,null),B(t,M),Rt(g,t,null),y=!0},p(b,[v]){const C={};v&256&&(C.$$scope={dirty:v,ctx:b}),a.$set(C);const w={};v&256&&(w.$$scope={dirty:v,ctx:b}),l.$set(w);const _={};v&256&&(_.$$scope={dirty:v,ctx:b}),d.$set(_);const E={};v&256&&(E.$$scope={dirty:v,ctx:b}),h.$set(E);const S={};v&256&&(S.$$scope={dirty:v,ctx:b}),f.$set(S);const I={};v&257&&(I.$$scope={dirty:v,ctx:b}),g.$set(I)},i(b){y||(wt(a.$$.fragment,b),wt(l.$$.fragment,b),wt(d.$$.fragment,b),wt(h.$$.fragment,b),wt(f.$$.fragment,b),wt(g.$$.fragment,b),y=!0)},o(b){It(a.$$.fragment,b),It(l.$$.fragment,b),It(d.$$.fragment,b),It(h.$$.fragment,b),It(f.$$.fragment,b),It(g.$$.fragment,b),y=!1},d(b){b&&vt(t),Dt(a),Dt(l),Dt(d),Dt(h),Dt(f),Dt(g)}}}function w_t(e,t,i){const n=A3t();let a;const o=async p=>{if(confirm("Import and overwrite current usage statistics? Cannot be undone. Export current usage first!")){const f=await p.target.files[0].text();localStorage.setItem("usage",f)}},l=()=>{const p=localStorage.getItem("usage"),f=new Blob([p],{type:"text/plain;charset=utf-8"});GU(f,"usage.json")},c=()=>a.click();function d(p){he[p?"unshift":"push"](()=>{a=p,i(0,a)})}return[a,n,o,l,c,d,()=>{confirm("Please only do this after exporting usage data! Do you really want to delete now?")&&localStorage.removeItem("usage")},()=>{confirm("Please only do this after exporting usage data! Do you really want to delete now?")&&C3t()}]}class O_t extends Zi{constructor(t){super(),Yi(this,t,w_t,E_t,Xi,{})}}function RI(e,t,i){const n=e.slice();return n[10]=t[i],n[12]=i,n}function DI(e,t,i){const n=e.slice();return n[13]=t[i],n}function PI(e,t,i){const n=e.slice();return n[16]=t[i],n}function kI(e){let t;return{c(){t=q("div"),sn(t,"background-color",e[16]<=e[1]?"var(--accent)":"#eee"),mt(t,"class","svelte-5546bh")},m(i,n){bt(i,t,n)},p(i,n){n&2&&sn(t,"background-color",i[16]<=i[1]?"var(--accent)":"#eee")},d(i){i&&vt(t)}}}function LI(e){let t,i,n=je(e[0].selection),a=[];for(let l=0;l<n.length;l+=1)a[l]=NI(DI(e,n,l));const o=l=>It(a[l],1,1,()=>{a[l]=null});return{c(){t=q("div");for(let l=0;l<a.length;l+=1)a[l].c();mt(t,"class","svelte-5546bh")},m(l,c){bt(l,t,c);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(t,null);i=!0},p(l,c){if(c&1){n=je(l[0].selection);let d;for(d=0;d<n.length;d+=1){const u=DI(l,n,d);a[d]?(a[d].p(u,c),wt(a[d],1)):(a[d]=NI(u),a[d].c(),wt(a[d],1),a[d].m(t,null))}for(na(),d=n.length;d<a.length;d+=1)o(d);ra()}},i(l){if(!i){for(let c=0;c<n.length;c+=1)wt(a[c]);i=!0}},o(l){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)It(a[c]);i=!1},d(l){l&&vt(t),Ti(a,l)}}}function NI(e){let t,i;return t=new zn({props:{label:e[13].text,title:e[13].title,checked:!1,callback:e[13].action}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,a){const o={};a&1&&(o.label=n[13].text),a&1&&(o.title=n[13].title),a&1&&(o.callback=n[13].action),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}function FI(e){let t,i=e[10].text+"",n,a,o;return{c(){t=q("button"),n=te(i),mt(t,"style",e[12]===0?"background: var(--accent)":"")},m(l,c){bt(l,t,c),B(t,n),a||(o=ze(t,"click",function(){Xo(e[10].action)&&e[10].action.apply(this,arguments)}),a=!0)},p(l,c){e=l,c&1&&i!==(i=e[10].text+"")&&Qe(n,i)},d(l){l&&vt(t),a=!1,o()}}}function S_t(e){let t,i,n,a,o,l=e[1]+1+"",c,d,u=e[2].length+"",h,p,f,M,g,y,b=e[0].text+"",v,C,w,_,E,S=je(fi(e[2].length)),I=[];for(let N=0;N<S.length;N+=1)I[N]=kI(PI(e,S,N));let T=e[0].selection&&LI(e),k=je(e[0].options),D=[];for(let N=0;N<k.length;N+=1)D[N]=FI(RI(e,k,N));return{c(){t=q("main"),i=q("h2"),i.textContent="Welcome!",n=K(),a=q("div"),o=te("step "),c=te(l),d=te(" of "),h=te(u),p=K(),f=q("div");for(let N=0;N<I.length;N+=1)I[N].c();M=K(),g=q("div"),y=q("p"),v=te(b),C=K(),T&&T.c(),w=K(),_=q("div");for(let N=0;N<D.length;N+=1)D[N].c();mt(a,"class","svelte-5546bh"),mt(f,"class","progress svelte-5546bh"),mt(y,"class","explanation"),mt(g,"class","svelte-5546bh"),mt(_,"class","svelte-5546bh")},m(N,P){bt(N,t,P),B(t,i),B(t,n),B(t,a),B(a,o),B(a,c),B(a,d),B(a,h),B(t,p),B(t,f);for(let F=0;F<I.length;F+=1)I[F]&&I[F].m(f,null);B(t,M),B(t,g),B(g,y),B(y,v),B(t,C),T&&T.m(t,null),B(t,w),B(t,_);for(let F=0;F<D.length;F+=1)D[F]&&D[F].m(_,null);E=!0},p(N,[P]){if((!E||P&2)&&l!==(l=N[1]+1+"")&&Qe(c,l),P&6){S=je(fi(N[2].length));let F;for(F=0;F<S.length;F+=1){const U=PI(N,S,F);I[F]?I[F].p(U,P):(I[F]=kI(U),I[F].c(),I[F].m(f,null))}for(;F<I.length;F+=1)I[F].d(1);I.length=S.length}if((!E||P&1)&&b!==(b=N[0].text+"")&&Qe(v,b),N[0].selection?T?(T.p(N,P),P&1&&wt(T,1)):(T=LI(N),T.c(),wt(T,1),T.m(t,w)):T&&(na(),It(T,1,1,()=>{T=null}),ra()),P&1){k=je(N[0].options);let F;for(F=0;F<k.length;F+=1){const U=RI(N,k,F);D[F]?D[F].p(U,P):(D[F]=FI(U),D[F].c(),D[F].m(_,null))}for(;F<D.length;F+=1)D[F].d(1);D.length=k.length}},i(N){E||(wt(T),E=!0)},o(N){It(T),E=!1},d(N){N&&vt(t),Ti(I,N),T&&T.d(),Ti(D,N)}}}function x_t(e,t,i){let n,a,{finishWelcome:o}=t,{allInstruments:l=new Set}=t,{allDifficulties:c=["beginner","intermediate","advanced"]}=t,d="start",u=new Set,h=new Set,p=new Set;const f=[{id:"start",text:"This website contains a colelction of small apps that help you practice you instrument by giving you visual feedback. To make it easikser for you to get started, please answer the following few questions, so we can pick appropriate settings for you. You can repeat this process or adapt settings anytime.",options:[{text:"sure!",action:()=>{i(6,d="instrument")}},{text:"no thanks, take me to the full website now",action:o}]},{id:"instrument",text:"Please select all instruments that you have:",selection:[...l].map(M=>({text:M,action:()=>{u=Id(u,M)}})),options:[{text:"continue",action:()=>{i(6,d="difficulty")}},{text:"back",action:()=>{i(6,d="start")}}]},{id:"difficulty",text:"Please select you current levels of experience for which you want to see apps:",selection:c.map(M=>({text:M,action:()=>{p=Id(p,M)}})),options:[{text:"continue",action:()=>{i(6,d="skills")}},{text:"back",action:()=>{i(6,d="instrument")}}]},{id:"skills",text:"Please select a skill you want to practise:",selection:V9t.map(M=>({text:M.title,title:M.description,action:()=>{h=new Set([M.id])}})),options:[{text:"continue",action:()=>{i(6,d="end")}},{text:"back",action:()=>{i(6,d="difficulty")}}]},{id:"end",text:"All done! Remember that you can repeat this process and adapt settings anytime.",options:[{text:"show me the apps now!",action:()=>{o({skills:h,instruments:u,difficulties:p})}},{text:"back",action:()=>{i(6,d="skills")}}]}];return e.$$set=M=>{"finishWelcome"in M&&i(3,o=M.finishWelcome),"allInstruments"in M&&i(4,l=M.allInstruments),"allDifficulties"in M&&i(5,c=M.allDifficulties)},e.$$.update=()=>{e.$$.dirty&64&&i(0,n=f.filter(M=>M.id===d)[0]),e.$$.dirty&1&&i(1,a=f.indexOf(n))},[n,a,f,o,l,c,d]}class T_t extends Zi{constructor(t){super(),Yi(this,t,x_t,S_t,Xi,{finishWelcome:3,allInstruments:4,allDifficulties:5})}}function UI(e){let t;return{c(){t=q("span"),t.textContent="audio",mt(t,"title","works with audio"),mt(t,"class","svelte-9p6rak")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function JI(e){let t;return{c(){t=q("span"),t.textContent="MIDI",mt(t,"title","requires a MIDI instrument"),mt(t,"class","svelte-9p6rak")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function $I(e){let t;return{c(){t=q("span"),t.textContent=`${oL}`,mt(t,"title","works with guitar/bass"),mt(t,"class","svelte-9p6rak")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function GI(e){let t;return{c(){t=q("span"),t.textContent=`${aL}`,mt(t,"title","works with drum"),mt(t,"class","svelte-9p6rak")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function HI(e){let t;return{c(){t=q("span"),t.textContent=`${rL}`,mt(t,"title","works with keyboard"),mt(t,"class","svelte-9p6rak")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function VI(e){let t;return{c(){t=q("span"),t.textContent=`${J9t}`,mt(t,"title","works with singing"),mt(t,"class","svelte-9p6rak")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function QI(e){let t;return{c(){t=q("span"),t.textContent=`${$9t}`,mt(t,"title","you can use PC keyboard if you don't have an instrument"),mt(t,"class","svelte-9p6rak")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function zI(e){let t;return{c(){t=q("span"),t.textContent=`${G9t}`,mt(t,"title","you can use touch screen if you don't have an instrument"),mt(t,"class","svelte-9p6rak")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function I_t(e){let t,i,n,a,o=e[0].instruments.includes("guitar/bass"),l,c=e[0].instruments.includes("drum"),d,u=e[0].instruments.includes("keyboard"),h,p=e[0].instruments.includes("singing"),f,M=e[0].instruments.includes("pc-key"),g,y=e[0].instruments.includes("touch"),b=e[0].input==="audio"&&UI(),v=e[0].input==="MIDI"&&JI(),C=o&&$I(),w=c&&GI(),_=u&&HI(),E=p&&VI(),S=M&&QI(),I=y&&zI();return{c(){t=q("div"),i=q("span"),b&&b.c(),n=K(),v&&v.c(),a=K(),C&&C.c(),l=K(),w&&w.c(),d=K(),_&&_.c(),h=K(),E&&E.c(),f=K(),S&&S.c(),g=K(),I&&I.c(),mt(i,"class","data-type svelte-9p6rak"),mt(t,"class","tags svelte-9p6rak")},m(T,k){bt(T,t,k),B(t,i),b&&b.m(i,null),B(i,n),v&&v.m(i,null),B(t,a),C&&C.m(t,null),B(t,l),w&&w.m(t,null),B(t,d),_&&_.m(t,null),B(t,h),E&&E.m(t,null),B(t,f),S&&S.m(t,null),B(t,g),I&&I.m(t,null)},p(T,[k]){T[0].input==="audio"?b||(b=UI(),b.c(),b.m(i,n)):b&&(b.d(1),b=null),T[0].input==="MIDI"?v||(v=JI(),v.c(),v.m(i,null)):v&&(v.d(1),v=null),k&1&&(o=T[0].instruments.includes("guitar/bass")),o?C||(C=$I(),C.c(),C.m(t,l)):C&&(C.d(1),C=null),k&1&&(c=T[0].instruments.includes("drum")),c?w||(w=GI(),w.c(),w.m(t,d)):w&&(w.d(1),w=null),k&1&&(u=T[0].instruments.includes("keyboard")),u?_||(_=HI(),_.c(),_.m(t,h)):_&&(_.d(1),_=null),k&1&&(p=T[0].instruments.includes("singing")),p?E||(E=VI(),E.c(),E.m(t,f)):E&&(E.d(1),E=null),k&1&&(M=T[0].instruments.includes("pc-key")),M?S||(S=QI(),S.c(),S.m(t,g)):S&&(S.d(1),S=null),k&1&&(y=T[0].instruments.includes("touch")),y?I||(I=zI(),I.c(),I.m(t,null)):I&&(I.d(1),I=null)},i:We,o:We,d(T){T&&vt(t),b&&b.d(),v&&v.d(),C&&C.d(),w&&w.d(),_&&_.d(),E&&E.d(),S&&S.d(),I&&I.d()}}}function B_t(e,t,i){let{app:n}=t;return e.$$set=a=>{"app"in a&&i(0,n=a.app)},[n]}class R_t extends Zi{constructor(t){super(),Yi(this,t,B_t,I_t,Xi,{app:0})}}const{Map:D_t}=Qc;function jI(e,t,i){const n=e.slice();return n[43]=t[i],n}function WI(e,t,i){const n=e.slice();return n[46]=t[i],n}function KI(e,t,i){const n=e.slice();return n[46]=t[i],n}function qI(e,t,i){const n=e.slice();return n[46]=t[i],n}function P_t(e){let t,i,n;var a=e[0].component;function o(l,c){return{props:{appInfo:l[0]}}}return a&&(t=A6(a,o(e))),{c(){t&&Pt(t.$$.fragment),i=z0()},m(l,c){t&&Rt(t,l,c),bt(l,i,c),n=!0},p(l,c){if(c[0]&1&&a!==(a=l[0].component)){if(t){na();const d=t;It(d.$$.fragment,1,0,()=>{Dt(d,1)}),ra()}a?(t=A6(a,o(l)),Pt(t.$$.fragment),wt(t.$$.fragment,1),Rt(t,i.parentNode,i)):t=null}else if(a){const d={};c[0]&1&&(d.appInfo=l[0]),t.$set(d)}},i(l){n||(t&&wt(t.$$.fragment,l),n=!0)},o(l){t&&It(t.$$.fragment,l),n=!1},d(l){l&&vt(i),t&&Dt(t,l)}}}function k_t(e){let t,i;return t=new T_t({props:{allInstruments:e[13],finishWelcome:e[39]}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,a){const o={};a[0]&105&&(o.finishWelcome=n[39]),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}function L_t(e){let t,i;return t=new O_t({}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p:We,i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}function N_t(e){let t,i;return t=new M_t({props:{apps:Da,allData:e[14],allPatterns:e[17]}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p:We,i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}function F_t(e){let t,i;return t=new U3t({props:{rows:e[9]}}),{c(){Pt(t.$$.fragment)},m(n,a){Rt(t,n,a),i=!0},p(n,a){const o={};a[0]&512&&(o.rows=n[9]),t.$set(o)},i(n){i||(wt(t.$$.fragment,n),i=!0)},o(n){It(t.$$.fragment,n),i=!1},d(n){Dt(t,n)}}}function U_t(e){let t,i,n,a,o,l,c,d,u,h,p=e[9]?" rows":" grid",f,M,g,y,b,v,C,w,_,E,S,I,T,k,D,N,P,F,U,V=[],z=new D_t,G,H,J,Z;function j(kt){e[24](kt)}let W={callback:e[23],style:"margin-left: -10px",$$slots:{default:[J_t]},$$scope:{ctx:e}};e[8]!==void 0&&(W.value=e[8]),c=new t9({props:W}),he.push(()=>Ee(c,"value",j));function et(kt){e[26](kt)}let dt={};e[5]!==void 0&&(dt.currentSkills=e[5]),g=new j9t({props:dt}),he.push(()=>Ee(g,"currentSkills",et));let ht=je(e[13].values()),st=[];for(let kt=0;kt<ht.length;kt+=1)st[kt]=XI(qI(e,ht,kt));let St=je(["beginner","intermediate","advanced"]),At=[];for(let kt=0;kt<3;kt+=1)At[kt]=YI(KI(e,St,kt));let xt=je(e[12].values()),gt=[];for(let kt=0;kt<xt.length;kt+=1)gt[kt]=ZI(WI(e,xt,kt));let yt=(e[7]!==""||e[5].size===1||e[3].size<e[13].size||e[6].size<e[16].size||e[4].size<e[12].size)&&tB(e),lt=je(e[10]);const zt=kt=>kt[43].id;for(let kt=0;kt<lt.length;kt+=1){let Jt=jI(e,lt,kt),Gt=zt(Jt);z.set(Gt,V[kt]=cB(Gt,Jt))}return{c(){t=q("div"),i=q("div"),n=q("div"),a=q("input"),o=K(),l=q("div"),Pt(c.$$.fragment),u=K(),h=q("button"),f=te(p),M=K(),Pt(g.$$.fragment),b=K(),v=q("div"),C=q("h2"),C.textContent="instrument",w=K();for(let kt=0;kt<st.length;kt+=1)st[kt].c();_=K(),E=q("div"),S=q("h2"),S.textContent="difficulty",I=K();for(let kt=0;kt<3;kt+=1)At[kt].c();T=K(),k=q("div"),D=q("h2"),D.textContent="input",N=K();for(let kt=0;kt<gt.length;kt+=1)gt[kt].c();P=K(),F=q("div"),yt&&yt.c(),U=K();for(let kt=0;kt<V.length;kt+=1)V[kt].c();mt(a,"class","search-box"),mt(a,"type","search"),mt(a,"placeholder","search by title"),mt(h,"class","row-button"),mt(i,"class","filter"),mt(F,"class",G="grid "+(e[9]?"rows":"")),mt(t,"class","grid-filter-app")},m(kt,Jt){bt(kt,t,Jt),B(t,i),B(i,n),B(n,a),qi(a,e[7]),B(i,o),B(i,l),Rt(c,l,null),B(l,u),B(l,h),B(h,f),B(i,M),Rt(g,i,null),B(i,b),B(i,v),B(v,C),B(v,w);for(let Gt=0;Gt<st.length;Gt+=1)st[Gt]&&st[Gt].m(v,null);B(i,_),B(i,E),B(E,S),B(E,I);for(let Gt=0;Gt<3;Gt+=1)At[Gt]&&At[Gt].m(E,null);B(i,T),B(i,k),B(k,D),B(k,N);for(let Gt=0;Gt<gt.length;Gt+=1)gt[Gt]&&gt[Gt].m(k,null);B(t,P),B(t,F),yt&&yt.m(F,null),B(F,U);for(let Gt=0;Gt<V.length;Gt+=1)V[Gt]&&V[Gt].m(F,null);H=!0,J||(Z=[ze(a,"input",e[22]),ze(h,"click",e[25])],J=!0)},p(kt,Jt){Jt[0]&128&&a.value!==kt[7]&&qi(a,kt[7]);const Gt={};Jt[1]&4194304&&(Gt.$$scope={dirty:Jt,ctx:kt}),!d&&Jt[0]&256&&(d=!0,Gt.value=kt[8],_e(()=>d=!1)),c.$set(Gt),(!H||Jt[0]&512)&&p!==(p=kt[9]?" rows":" grid")&&Qe(f,p);const ce={};if(!y&&Jt[0]&32&&(y=!0,ce.currentSkills=kt[5],_e(()=>y=!1)),g.$set(ce),Jt[0]&8200){ht=je(kt[13].values());let ae;for(ae=0;ae<ht.length;ae+=1){const qt=qI(kt,ht,ae);st[ae]?st[ae].p(qt,Jt):(st[ae]=XI(qt),st[ae].c(),st[ae].m(v,null))}for(;ae<st.length;ae+=1)st[ae].d(1);st.length=ht.length}if(Jt[0]&64){St=je(["beginner","intermediate","advanced"]);let ae;for(ae=0;ae<3;ae+=1){const qt=KI(kt,St,ae);At[ae]?At[ae].p(qt,Jt):(At[ae]=YI(qt),At[ae].c(),At[ae].m(E,null))}for(;ae<3;ae+=1)At[ae].d(1)}if(Jt[0]&4112){xt=je(kt[12].values());let ae;for(ae=0;ae<xt.length;ae+=1){const qt=WI(kt,xt,ae);gt[ae]?gt[ae].p(qt,Jt):(gt[ae]=ZI(qt),gt[ae].c(),gt[ae].m(k,null))}for(;ae<gt.length;ae+=1)gt[ae].d(1);gt.length=xt.length}kt[7]!==""||kt[5].size===1||kt[3].size<kt[13].size||kt[6].size<kt[16].size||kt[4].size<kt[12].size?yt?(yt.p(kt,Jt),Jt[0]&248&&wt(yt,1)):(yt=tB(kt),yt.c(),wt(yt,1),yt.m(F,U)):yt&&(na(),It(yt,1,1,()=>{yt=null}),ra()),Jt[0]&3078&&(lt=je(kt[10]),na(),V=yB(V,Jt,zt,1,kt,lt,z,F,MB,cB,null,jI),ra()),(!H||Jt[0]&512&&G!==(G="grid "+(kt[9]?"rows":"")))&&mt(F,"class",G)},i(kt){if(!H){wt(c.$$.fragment,kt),wt(g.$$.fragment,kt),wt(yt);for(let Jt=0;Jt<lt.length;Jt+=1)wt(V[Jt]);H=!0}},o(kt){It(c.$$.fragment,kt),It(g.$$.fragment,kt),It(yt);for(let Jt=0;Jt<V.length;Jt+=1)It(V[Jt]);H=!1},d(kt){kt&&vt(t),Dt(c),Dt(g),Ti(st,kt),Ti(At,kt),Ti(gt,kt),yt&&yt.d();for(let Jt=0;Jt<V.length;Jt+=1)V[Jt].d();J=!1,t0(Z)}}}function J_t(e){let t,i,n,a,o;return{c(){t=q("option"),t.textContent=`${Bg} title (A-Z)`,i=K(),n=q("option"),n.textContent=`${Bg} most used`,a=K(),o=q("option"),o.textContent=`${Bg} recently used`,t.__value="title",qi(t,t.__value),n.__value="used",qi(n,n.__value),o.__value="recent",qi(o,o.__value)},m(l,c){bt(l,t,c),bt(l,i,c),bt(l,n,c),bt(l,a,c),bt(l,o,c)},p:We,d(l){l&&(vt(t),vt(i),vt(n),vt(a),vt(o))}}}function XI(e){let t,i=e[46]+"",n,a,o,l,c;function d(){return e[27](e[46])}function u(){return e[28](e[46])}return{c(){t=q("button"),n=te(i),a=K(),mt(t,"class",o=e[3].has(e[46])?"active":"hidden"),mt(t,"title","click to toggle, double-click to only show this")},m(h,p){bt(h,t,p),B(t,n),B(t,a),l||(c=[ze(t,"click",d),ze(t,"dblclick",u)],l=!0)},p(h,p){e=h,p[0]&8&&o!==(o=e[3].has(e[46])?"active":"hidden")&&mt(t,"class",o)},d(h){h&&vt(t),l=!1,t0(c)}}}function YI(e){let t,i,n,a,o,l;function c(){return e[29](e[46])}function d(){return e[30](e[46])}return{c(){t=q("button"),i=te(e[46]),n=K(),mt(t,"class",a=e[6].has(e[46])?"active":"hidden"),mt(t,"title","click to toggle, double-click to only show this")},m(u,h){bt(u,t,h),B(t,i),B(t,n),o||(l=[ze(t,"click",c),ze(t,"dblclick",d)],o=!0)},p(u,h){e=u,h[0]&64&&a!==(a=e[6].has(e[46])?"active":"hidden")&&mt(t,"class",a)},d(u){u&&vt(t),o=!1,t0(l)}}}function ZI(e){let t,i=e[46]+"",n,a,o,l,c;function d(){return e[31](e[46])}function u(){return e[32](e[46])}return{c(){t=q("button"),n=te(i),a=K(),mt(t,"class",o=e[4].has(e[46])?"active":"hidden"),mt(t,"title","click to toggle, double-click to only show this")},m(h,p){bt(h,t,p),B(t,n),B(t,a),l||(c=[ze(t,"click",d),ze(t,"dblclick",u)],l=!0)},p(h,p){e=h,p[0]&16&&o!==(o=e[4].has(e[46])?"active":"hidden")&&mt(t,"class",o)},d(h){h&&vt(t),l=!1,t0(c)}}}function tB(e){let t,i,n,a,o,l,c,d,u=e[10].length+"",h,p,f=Da.length+"",M,g,y,b,v=e[7]!==""&&eB(e),C=e[5].size===1&&iB(e),w=e[3].size<e[13].size&&nB(e),_=e[6].size<e[16].size&&rB(e),E=e[4].size<e[12].size&&aB(e);return{c(){t=q("div"),i=te(`current filters:
            `),v&&v.c(),n=K(),C&&C.c(),a=K(),w&&w.c(),o=K(),_&&_.c(),l=K(),E&&E.c(),c=K(),d=q("div"),h=te(u),p=te(" of "),M=te(f),g=te(" apps shown"),sn(d,"display","inline-block"),mt(t,"class","current-filters")},m(S,I){bt(S,t,I),B(t,i),v&&v.m(t,null),B(t,n),C&&C.m(t,null),B(t,a),w&&w.m(t,null),B(t,o),_&&_.m(t,null),B(t,l),E&&E.m(t,null),B(t,c),B(t,d),B(d,h),B(d,p),B(d,M),B(d,g),b=!0},p(S,I){S[7]!==""?v?v.p(S,I):(v=eB(S),v.c(),v.m(t,n)):v&&(v.d(1),v=null),S[5].size===1?C?C.p(S,I):(C=iB(S),C.c(),C.m(t,a)):C&&(C.d(1),C=null),S[3].size<S[13].size?w?w.p(S,I):(w=nB(S),w.c(),w.m(t,o)):w&&(w.d(1),w=null),S[6].size<S[16].size?_?_.p(S,I):(_=rB(S),_.c(),_.m(t,l)):_&&(_.d(1),_=null),S[4].size<S[12].size?E?E.p(S,I):(E=aB(S),E.c(),E.m(t,c)):E&&(E.d(1),E=null),(!b||I[0]&1024)&&u!==(u=S[10].length+"")&&Qe(h,u)},i(S){b||(S&&J9(()=>{b&&(y||(y=Gd(t,ch,{},!0)),y.run(1))}),b=!0)},o(S){S&&(y||(y=Gd(t,ch,{},!1)),y.run(0)),b=!1},d(S){S&&vt(t),v&&v.d(),C&&C.d(),w&&w.d(),_&&_.d(),E&&E.d(),S&&y&&y.end()}}}function eB(e){let t,i,n,a,o,l;return{c(){t=q("button"),i=te("search: "),n=te(e[7]),a=te(" "),mt(t,"title","click to remove this filter")},m(c,d){bt(c,t,d),B(t,i),B(t,n),B(t,a),o||(l=ze(t,"click",e[33]),o=!0)},p(c,d){d[0]&128&&Qe(n,c[7])},d(c){c&&vt(t),o=!1,l()}}}function iB(e){let t,i,n=[...e[5]]+"",a,o,l,c;return{c(){t=q("button"),i=te("skill: "),a=te(n),o=te(" "),mt(t,"title","click to remove this filter")},m(d,u){bt(d,t,u),B(t,i),B(t,a),B(t,o),l||(c=ze(t,"click",e[34]),l=!0)},p(d,u){u[0]&32&&n!==(n=[...d[5]]+"")&&Qe(a,n)},d(d){d&&vt(t),l=!1,c()}}}function nB(e){let t,i=e[3].size+"",n,a,o,l;return{c(){t=q("button"),n=te(i),a=te(" instruments "),mt(t,"title","click to remove this filter")},m(c,d){bt(c,t,d),B(t,n),B(t,a),o||(l=ze(t,"click",e[35]),o=!0)},p(c,d){d[0]&8&&i!==(i=c[3].size+"")&&Qe(n,i)},d(c){c&&vt(t),o=!1,l()}}}function rB(e){let t,i,n=[...e[6]].join(", ")+"",a,o,l,c;return{c(){t=q("button"),i=te("difficulty: "),a=te(n),o=te(" "),mt(t,"title","click to remove this filter")},m(d,u){bt(d,t,u),B(t,i),B(t,a),B(t,o),l||(c=ze(t,"click",e[36]),l=!0)},p(d,u){u[0]&64&&n!==(n=[...d[6]].join(", ")+"")&&Qe(a,n)},d(d){d&&vt(t),l=!1,c()}}}function aB(e){let t,i,n=[...e[4]]+"",a,o,l,c;return{c(){t=q("button"),i=te("input: "),a=te(n),o=te(" "),mt(t,"title","click to remove this filter")},m(d,u){bt(d,t,u),B(t,i),B(t,a),B(t,o),l||(c=ze(t,"click",e[37]),l=!0)},p(d,u){u[0]&16&&n!==(n=[...d[4]]+"")&&Qe(a,n)},d(d){d&&vt(t),l=!1,c()}}}function oB(e){let t;return{c(){t=q("span"),t.textContent="",mt(t,"title","You never used this app, try it!")},m(i,n){bt(i,t,n)},d(i){i&&vt(t)}}}function sB(e){let t,i=e[1].get(e[43].id)+"",n,a;return{c(){t=te("Used "),n=te(i),a=te(" times.")},m(o,l){bt(o,t,l),bt(o,n,l),bt(o,a,l)},p(o,l){l[0]&1026&&i!==(i=o[1].get(o[43].id)+"")&&Qe(n,i)},d(o){o&&(vt(t),vt(n),vt(a))}}}function lB(e){let t,i=Zw(new Date(e[2].get(e[43].id)))+"",n,a;return{c(){t=te("Last used "),n=te(i),a=te(".")},m(o,l){bt(o,t,l),bt(o,n,l),bt(o,a,l)},p(o,l){l[0]&1028&&i!==(i=Zw(new Date(o[2].get(o[43].id)))+"")&&Qe(n,i)},d(o){o&&(vt(t),vt(n),vt(a))}}}function cB(e,t){let i,n,a=t[43].title+"",o,l,c=!t[1].get(t[43].id),d,u,h=t[43].description+"",p,f,M,g=t[1].get(t[43].id)>0,y,b=t[1].get(t[43].id)>0,v,C,w,_,E,S,I,T=c&&oB(),k=g&&sB(t),D=b&&lB(t);C=new R_t({props:{app:t[43]}});function N(){return t[38](t[43])}return{key:e,first:null,c(){i=q("div"),n=q("h2"),o=te(a),l=K(),T&&T.c(),d=K(),u=q("div"),p=te(h),f=K(),M=q("div"),k&&k.c(),y=K(),D&&D.c(),v=K(),Pt(C.$$.fragment),w=K(),mt(u,"class","description"),mt(M,"class","usage"),mt(i,"class","card"),this.first=i},m(P,F){bt(P,i,F),B(i,n),B(n,o),B(n,l),T&&T.m(n,null),B(i,d),B(i,u),B(u,p),B(i,f),B(i,M),k&&k.m(M,null),B(M,y),D&&D.m(M,null),B(i,v),Rt(C,i,null),B(i,w),E=!0,S||(I=ze(i,"click",N),S=!0)},p(P,F){t=P,(!E||F[0]&1024)&&a!==(a=t[43].title+"")&&Qe(o,a),F[0]&1026&&(c=!t[1].get(t[43].id)),c?T||(T=oB(),T.c(),T.m(n,null)):T&&(T.d(1),T=null),(!E||F[0]&1024)&&h!==(h=t[43].description+"")&&Qe(p,h),F[0]&1026&&(g=t[1].get(t[43].id)>0),g?k?k.p(t,F):(k=sB(t),k.c(),k.m(M,y)):k&&(k.d(1),k=null),F[0]&1026&&(b=t[1].get(t[43].id)>0),b?D?D.p(t,F):(D=lB(t),D.c(),D.m(M,null)):D&&(D.d(1),D=null);const U={};F[0]&1024&&(U.app=t[43]),C.$set(U)},i(P){E||(wt(C.$$.fragment,P),P&&J9(()=>{E&&(_||(_=Gd(i,ch,{},!0)),_.run(1))}),E=!0)},o(P){It(C.$$.fragment,P),P&&(_||(_=Gd(i,ch,{},!1)),_.run(0)),E=!1},d(P){P&&vt(i),T&&T.d(),k&&k.d(),D&&D.d(),Dt(C),P&&_&&_.end(),S=!1,I()}}}function $_t(e){let t,i,n,a,o,l,c,d,u,h,p,f,M,g,y,b,v,C,w,_,E,S,I,T,k;const D=[U_t,F_t,N_t,L_t,k_t,P_t],N=[];function P(F,U){return F[0]?F[0]==="tools"?1:F[0]==="overview"?2:F[0]==="help"?3:F[0]==="welcome"?4:5:0}return f=P(e),M=N[f]=D[f](e),S=new X9({props:{key:"f",ctrlKey:!0,keyDown:e[41]}}),{c(){t=q("main"),i=q("header"),n=q("h1"),n.textContent="Musical Instrument Learning Apps",a=K(),o=q("nav"),l=q("button"),l.textContent=" apps",c=K(),d=q("button"),d.textContent=" tools",u=K(),h=q("button"),h.textContent=" help",p=K(),M.c(),g=K(),y=q("div"),b=q("span"),b.textContent=`version ${D8}`,v=K(),C=q("button"),C.textContent="app overview",w=K(),_=q("a"),_.textContent="GitHub",E=K(),Pt(S.$$.fragment),sn(C,"background","none"),sn(C,"color","#aaa"),sn(C,"font-weight","normal"),mt(_,"href","https://github.com/visvar/mila"),mt(y,"class","version-number")},m(F,U){bt(F,t,U),B(t,i),B(i,n),B(i,a),B(i,o),B(o,l),B(o,c),B(o,d),B(o,u),B(o,h),B(t,p),N[f].m(t,null),B(t,g),B(t,y),B(y,b),B(y,v),B(y,C),B(y,w),B(y,_),bt(F,E,U),Rt(S,F,U),I=!0,T||(k=[ze(l,"click",e[19]),ze(d,"click",e[20]),ze(h,"click",e[21]),ze(C,"click",e[40])],T=!0)},p(F,U){let V=f;f=P(F),f===V?N[f].p(F,U):(na(),It(N[V],1,1,()=>{N[V]=null}),ra(),M=N[f],M?M.p(F,U):(M=N[f]=D[f](F),M.c()),wt(M,1),M.m(t,g));const z={};U[0]&1&&(z.keyDown=F[41]),S.$set(z)},i(F){I||(wt(M),wt(S.$$.fragment,F),I=!0)},o(F){It(M),It(S.$$.fragment,F),I=!1},d(F){F&&(vt(t),vt(E)),N[f].d(),Dt(S,F),T=!1,t0(k)}}}function G_t(e,t,i){let n,a,o=null;const l=AB(window,"d");l&&l!==""&&(o=Da.filter(gt=>gt.id===l)[0]);const c=gt=>{i(0,o=gt),gt?gt.id?n6(window,"d",gt.id):n6(window,"d",gt):n6(window,"d",void 0),window.scrollTo({top:0})};window.onpopstate=()=>{c()};let d=new Map,u=new Map;const h=new Set(Da.flatMap(gt=>gt.input).sort()),p=new Set(["drum","guitar/bass","keyboard","singing","pc-key","touch"]),f=new Set(Da.flatMap(gt=>gt.data)),M=new Set(Da.flatMap(gt=>gt.skills).sort()),g=new Set(["beginner","intermediate","advanced"]),y=new Set(Da.flatMap(gt=>gt.patterns).sort());let b=new Set(p),v=new Set(h),C=new Set(M),w=new Set(g),_="",E=localStorage.getItem("display-app-sorting")??"title",S=localStorage.getItem("display-app-rows")==="true"||!1;const I=()=>c(),T=()=>c("tools"),k=()=>c("help");function D(){_=this.value,i(7,_)}const N=gt=>{localStorage.setItem("display-app-sorting",gt.target.value)};function P(gt){E=gt,i(8,E)}const F=()=>{i(9,S=!S),localStorage.setItem("display-app-rows",S.toString())};function U(gt){C=gt,i(5,C)}const V=gt=>i(3,b=Id(b,gt)),z=gt=>i(3,b=new Set([gt])),G=gt=>i(6,w=Id(w,gt)),H=gt=>i(6,w=new Set([gt])),J=gt=>i(4,v=Id(v,gt)),Z=gt=>i(4,v=new Set([gt])),j=()=>{i(7,_="")},W=()=>{i(5,C=new Set(M))},et=()=>{i(3,b=new Set(p))},dt=()=>{i(6,w=new Set(g))},ht=()=>{i(4,v=new Set(h))},st=gt=>c(gt),St=gt=>{if(gt){const{instruments:yt,skills:lt,difficulties:zt}=gt;i(3,b=new Set([yt])),i(5,C=new Set([lt])),i(6,w=new Set([zt]))}i(0,o=null)},At=()=>c("overview"),xt=()=>{o||document.querySelector(".search-box").focus()};return e.$$.update=()=>{if(e.$$.dirty[0]&1){let gt;localStorage.getItem("usage")?(gt=localStorage.getItem("usage"),gt=JSON.parse(gt)):gt={},gt.appClicks||(gt.appClicks={});const yt=gt.appClicks;if(o&&o.id){const lt=yt[o.id]??[];lt.push(new Date().toISOString()),yt[o.id]=lt,localStorage.setItem("usage",JSON.stringify(gt))}else i(1,d=new Map(Da.map(lt=>{var zt;return[lt.id,((zt=yt[lt.id])==null?void 0:zt.length)??0]}))),i(2,u=new Map(Da.map(lt=>{var kt;const zt=(kt=yt[lt.id])==null?void 0:kt.at(-1);return[lt.id,zt||"never"]})))}e.$$.dirty[0]&248&&i(18,n=Da.filter(gt=>gt.title.toLowerCase().includes(_)&&Ig(b,gt.instruments)&&Ig(C,gt.skills)&&Ig(w,gt.difficulty)&&v.has(gt.input))),e.$$.dirty[0]&262406&&i(10,a=n.sort((gt,yt)=>{if(E==="title")return gt.title<yt.title?-1:1;if(E==="used")return d.get(yt.id)-d.get(gt.id);if(E==="recent"){const lt=u.get(gt.id),zt=u.get(yt.id);return lt==="never"?1:zt==="never"||lt>zt?-1:1}}))},[o,d,u,b,v,C,w,_,E,S,a,c,h,p,f,M,g,y,n,I,T,k,D,N,P,F,U,V,z,G,H,J,Z,j,W,et,dt,ht,st,St,At,xt]}class H_t extends Zi{constructor(t){super(),Yi(this,t,G_t,$_t,Xi,{},null,[-1,-1])}}new H_t({target:document.getElementById("app")});
